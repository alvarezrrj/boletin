const __vite__fileDeps=["assets/javascript-B50b1xvf.js","assets/typescript-3a6SNL6q.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var gge=Object.defineProperty;var vge=(n,e,t)=>e in n?gge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var xN=(n,e,t)=>(vge(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mF(n,e){const t=new Set(n.split(","));return r=>t.has(r)}const ir={},zv=[],Sa=()=>{},mge=()=>!1,eA=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),_F=n=>n.startsWith("onUpdate:"),Oi=Object.assign,yF=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},_ge=Object.prototype.hasOwnProperty,un=(n,e)=>_ge.call(n,e),It=Array.isArray,Gv=n=>tA(n)==="[object Map]",PY=n=>tA(n)==="[object Set]",Mt=n=>typeof n=="function",ci=n=>typeof n=="string",Xp=n=>typeof n=="symbol",Cr=n=>n!==null&&typeof n=="object",MY=n=>(Cr(n)||Mt(n))&&Mt(n.then)&&Mt(n.catch),FY=Object.prototype.toString,tA=n=>FY.call(n),yge=n=>tA(n).slice(8,-1),BY=n=>tA(n)==="[object Object]",bF=n=>ci(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ly=mF(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nA=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},bge=/-(\w)/g,_l=nA(n=>n.replace(bge,(e,t)=>t?t.toUpperCase():"")),Cge=/\B([A-Z])/g,d_=nA(n=>n.replace(Cge,"-$1").toLowerCase()),rA=nA(n=>n.charAt(0).toUpperCase()+n.slice(1)),LN=nA(n=>n?`on${rA(n)}`:""),lh=(n,e)=>!Object.is(n,e),NN=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},HY=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},wge=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let _U;const VY=()=>_U||(_U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function CF(n){if(It(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=ci(r)?Dge(r):CF(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(ci(n)||Cr(n))return n}const Ege=/;(?![^(]*\))/g,Sge=/:([^]+)/,Tge=/\/\*[^]*?\*\//g;function Dge(n){const e={};return n.replace(Tge,"").split(Ege).forEach(t=>{if(t){const r=t.split(Sge);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function wF(n){let e="";if(ci(n))e=n;else if(It(n))for(let t=0;t<n.length;t++){const r=wF(n[t]);r&&(e+=r+" ")}else if(Cr(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Age="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ige=mF(Age);function WY(n){return!!n||n===""}const xge=n=>ci(n)?n:n==null?"":It(n)||Cr(n)&&(n.toString===FY||!Mt(n.toString))?JSON.stringify(n,UY,2):String(n),UY=(n,e)=>e&&e.__v_isRef?UY(n,e.value):Gv(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,i],o)=>(t[ON(r,o)+" =>"]=i,t),{})}:PY(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ON(t))}:Xp(e)?ON(e):Cr(e)&&!It(e)&&!BY(e)?String(e):e,ON=(n,e="")=>{var t;return Xp(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ja;class Lge{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ja,!e&&Ja&&(this.index=(Ja.scopes||(Ja.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Ja;try{return Ja=this,e()}finally{Ja=t}}}on(){Ja=this}off(){Ja=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Nge(n,e=Ja){e&&e.active&&e.effects.push(n)}function Oge(){return Ja}let sp;class EF{constructor(e,t,r,i){this.fn=e,this.trigger=t,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Nge(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Eh();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(kge(t.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Sh()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=qf,t=sp;try{return qf=!0,sp=this,this._runnings++,yU(this),this.fn()}finally{bU(this),this._runnings--,sp=t,qf=e}}stop(){this.active&&(yU(this),bU(this),this.onStop&&this.onStop(),this.active=!1)}}function kge(n){return n.value}function yU(n){n._trackId++,n._depsLength=0}function bU(n){if(n.deps.length>n._depsLength){for(let e=n._depsLength;e<n.deps.length;e++)jY(n.deps[e],n);n.deps.length=n._depsLength}}function jY(n,e){const t=n.get(e);t!==void 0&&e._trackId!==t&&(n.delete(e),n.size===0&&n.cleanup())}let qf=!0,wR=0;const qY=[];function Eh(){qY.push(qf),qf=!1}function Sh(){const n=qY.pop();qf=n===void 0?!0:n}function SF(){wR++}function TF(){for(wR--;!wR&&ER.length;)ER.shift()()}function zY(n,e,t){if(e.get(n)!==n._trackId){e.set(n,n._trackId);const r=n.deps[n._depsLength];r!==e?(r&&jY(r,n),n.deps[n._depsLength++]=e):n._depsLength++}}const ER=[];function GY(n,e,t){SF();for(const r of n.keys()){let i;r._dirtyLevel<e&&(i??(i=n.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=n.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ER.push(r.scheduler)))}TF()}const $Y=(n,e)=>{const t=new Map;return t.cleanup=n,t.computed=e,t},SR=new WeakMap,ap=Symbol(""),TR=Symbol("");function Is(n,e,t){if(qf&&sp){let r=SR.get(n);r||SR.set(n,r=new Map);let i=r.get(t);i||r.set(t,i=$Y(()=>r.delete(t))),zY(sp,i)}}function mc(n,e,t,r,i,o){const s=SR.get(n);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(t==="length"&&It(n)){const u=Number(r);s.forEach((l,c)=>{(c==="length"||!Xp(c)&&c>=u)&&a.push(l)})}else switch(t!==void 0&&a.push(s.get(t)),e){case"add":It(n)?bF(t)&&a.push(s.get("length")):(a.push(s.get(ap)),Gv(n)&&a.push(s.get(TR)));break;case"delete":It(n)||(a.push(s.get(ap)),Gv(n)&&a.push(s.get(TR)));break;case"set":Gv(n)&&a.push(s.get(ap));break}SF();for(const u of a)u&&GY(u,4);TF()}const Rge=mF("__proto__,__v_isRef,__isVue"),KY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Xp)),CU=Pge();function Pge(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=Sn(this);for(let o=0,s=this.length;o<s;o++)Is(r,"get",o+"");const i=r[e](...t);return i===-1||i===!1?r[e](...t.map(Sn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Eh(),SF();const r=Sn(this)[e].apply(this,t);return TF(),Sh(),r}}),n}function Mge(n){Xp(n)||(n=String(n));const e=Sn(this);return Is(e,"has",n),e.hasOwnProperty(n)}class YY{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const i=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return o;if(t==="__v_raw")return r===(i?o?Yge:JY:o?ZY:QY).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=It(e);if(!i){if(s&&un(CU,t))return Reflect.get(CU,t,r);if(t==="hasOwnProperty")return Mge}const a=Reflect.get(e,t,r);return(Xp(t)?KY.has(t):Rge(t))||(i||Is(e,"get",t),o)?a:xs(a)?s&&bF(t)?a:a.value:Cr(a)?i?tX(a):IF(a):a}}class XY extends YY{constructor(e=!1){super(!1,e)}set(e,t,r,i){let o=e[t];if(!this._isShallow){const u=_b(o);if(!GS(r)&&!_b(r)&&(o=Sn(o),r=Sn(r)),!It(e)&&xs(o)&&!xs(r))return u?!1:(o.value=r,!0)}const s=It(e)&&bF(t)?Number(t)<e.length:un(e,t),a=Reflect.set(e,t,r,i);return e===Sn(i)&&(s?lh(r,o)&&mc(e,"set",t,r):mc(e,"add",t,r)),a}deleteProperty(e,t){const r=un(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&mc(e,"delete",t,void 0),i}has(e,t){const r=Reflect.has(e,t);return(!Xp(t)||!KY.has(t))&&Is(e,"has",t),r}ownKeys(e){return Is(e,"iterate",It(e)?"length":ap),Reflect.ownKeys(e)}}class Fge extends YY{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Bge=new XY,Hge=new Fge,Vge=new XY(!0);const DF=n=>n,iA=n=>Reflect.getPrototypeOf(n);function eE(n,e,t=!1,r=!1){n=n.__v_raw;const i=Sn(n),o=Sn(e);t||(lh(e,o)&&Is(i,"get",e),Is(i,"get",o));const{has:s}=iA(i),a=r?DF:t?LF:yb;if(s.call(i,e))return a(n.get(e));if(s.call(i,o))return a(n.get(o));n!==i&&n.get(e)}function tE(n,e=!1){const t=this.__v_raw,r=Sn(t),i=Sn(n);return e||(lh(n,i)&&Is(r,"has",n),Is(r,"has",i)),n===i?t.has(n):t.has(n)||t.has(i)}function nE(n,e=!1){return n=n.__v_raw,!e&&Is(Sn(n),"iterate",ap),Reflect.get(n,"size",n)}function wU(n){n=Sn(n);const e=Sn(this);return iA(e).has.call(e,n)||(e.add(n),mc(e,"add",n,n)),this}function EU(n,e){e=Sn(e);const t=Sn(this),{has:r,get:i}=iA(t);let o=r.call(t,n);o||(n=Sn(n),o=r.call(t,n));const s=i.call(t,n);return t.set(n,e),o?lh(e,s)&&mc(t,"set",n,e):mc(t,"add",n,e),this}function SU(n){const e=Sn(this),{has:t,get:r}=iA(e);let i=t.call(e,n);i||(n=Sn(n),i=t.call(e,n)),r&&r.call(e,n);const o=e.delete(n);return i&&mc(e,"delete",n,void 0),o}function TU(){const n=Sn(this),e=n.size!==0,t=n.clear();return e&&mc(n,"clear",void 0,void 0),t}function rE(n,e){return function(r,i){const o=this,s=o.__v_raw,a=Sn(s),u=e?DF:n?LF:yb;return!n&&Is(a,"iterate",ap),s.forEach((l,c)=>r.call(i,u(l),u(c),o))}}function iE(n,e,t){return function(...r){const i=this.__v_raw,o=Sn(i),s=Gv(o),a=n==="entries"||n===Symbol.iterator&&s,u=n==="keys"&&s,l=i[n](...r),c=t?DF:e?LF:yb;return!e&&Is(o,"iterate",u?TR:ap),{next(){const{value:d,done:h}=l.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function nf(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Wge(){const n={get(o){return eE(this,o)},get size(){return nE(this)},has:tE,add:wU,set:EU,delete:SU,clear:TU,forEach:rE(!1,!1)},e={get(o){return eE(this,o,!1,!0)},get size(){return nE(this)},has:tE,add:wU,set:EU,delete:SU,clear:TU,forEach:rE(!1,!0)},t={get(o){return eE(this,o,!0)},get size(){return nE(this,!0)},has(o){return tE.call(this,o,!0)},add:nf("add"),set:nf("set"),delete:nf("delete"),clear:nf("clear"),forEach:rE(!0,!1)},r={get(o){return eE(this,o,!0,!0)},get size(){return nE(this,!0)},has(o){return tE.call(this,o,!0)},add:nf("add"),set:nf("set"),delete:nf("delete"),clear:nf("clear"),forEach:rE(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=iE(o,!1,!1),t[o]=iE(o,!0,!1),e[o]=iE(o,!1,!0),r[o]=iE(o,!0,!0)}),[n,t,e,r]}const[Uge,jge,qge,zge]=Wge();function AF(n,e){const t=e?n?zge:qge:n?jge:Uge;return(r,i,o)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(un(t,i)&&i in r?t:r,i,o)}const Gge={get:AF(!1,!1)},$ge={get:AF(!1,!0)},Kge={get:AF(!0,!1)};const QY=new WeakMap,ZY=new WeakMap,JY=new WeakMap,Yge=new WeakMap;function Xge(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qge(n){return n.__v_skip||!Object.isExtensible(n)?0:Xge(yge(n))}function IF(n){return _b(n)?n:xF(n,!1,Bge,Gge,QY)}function eX(n){return xF(n,!1,Vge,$ge,ZY)}function tX(n){return xF(n,!0,Hge,Kge,JY)}function xF(n,e,t,r,i){if(!Cr(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const o=i.get(n);if(o)return o;const s=Qge(n);if(s===0)return n;const a=new Proxy(n,s===2?r:t);return i.set(n,a),a}function Ny(n){return _b(n)?Ny(n.__v_raw):!!(n&&n.__v_isReactive)}function _b(n){return!!(n&&n.__v_isReadonly)}function GS(n){return!!(n&&n.__v_isShallow)}function nX(n){return n?!!n.__v_raw:!1}function Sn(n){const e=n&&n.__v_raw;return e?Sn(e):n}function Zge(n){return Object.isExtensible(n)&&HY(n,"__v_skip",!0),n}const yb=n=>Cr(n)?IF(n):n,LF=n=>Cr(n)?tX(n):n;class rX{constructor(e,t,r,i){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new EF(()=>e(this._value),()=>hS(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Sn(this);return(!e._cacheable||e.effect.dirty)&&lh(e._value,e._value=e.effect.run())&&hS(e,4),iX(e),e.effect._dirtyLevel>=2&&hS(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Jge(n,e,t=!1){let r,i;const o=Mt(n);return o?(r=n,i=Sa):(r=n.get,i=n.set),new rX(r,i,o||!i,t)}function iX(n){var e;qf&&sp&&(n=Sn(n),zY(sp,(e=n.dep)!=null?e:n.dep=$Y(()=>n.dep=void 0,n instanceof rX?n:void 0)))}function hS(n,e=4,t){n=Sn(n);const r=n.dep;r&&GY(r,e)}function xs(n){return!!(n&&n.__v_isRef===!0)}function gu(n){return eve(n,!1)}function eve(n,e){return xs(n)?n:new tve(n,e)}class tve{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Sn(e),this._value=t?e:yb(e)}get value(){return iX(this),this._value}set value(e){const t=this.__v_isShallow||GS(e)||_b(e);e=t?e:Sn(e),lh(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:yb(e),hS(this,4))}}function oX(n){return xs(n)?n.value:n}const nve={get:(n,e,t)=>oX(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return xs(i)&&!xs(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function sX(n){return Ny(n)?n:new Proxy(n,nve)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zf(n,e,t,r){try{return r?n(...r):n()}catch(i){oA(i,e,t)}}function vu(n,e,t,r){if(Mt(n)){const i=zf(n,e,t,r);return i&&MY(i)&&i.catch(o=>{oA(o,e,t)}),i}if(It(n)){const i=[];for(let o=0;o<n.length;o++)i.push(vu(n[o],e,t,r));return i}}function oA(n,e,t,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const l=o.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](n,s,a)===!1)return}o=o.parent}const u=e.appContext.config.errorHandler;if(u){Eh(),zf(u,null,10,[n,s,a]),Sh();return}}rve(n,t,i,r)}function rve(n,e,t,r=!0){console.error(n)}let bb=!1,DR=!1;const fo=[];let Xu=0;const $v=[];let bf=null,Hd=0;const aX=Promise.resolve();let NF=null;function ive(n){const e=NF||aX;return n?e.then(this?n.bind(this):n):e}function ove(n){let e=Xu+1,t=fo.length;for(;e<t;){const r=e+t>>>1,i=fo[r],o=Cb(i);o<n||o===n&&i.pre?e=r+1:t=r}return e}function OF(n){(!fo.length||!fo.includes(n,bb&&n.allowRecurse?Xu+1:Xu))&&(n.id==null?fo.push(n):fo.splice(ove(n.id),0,n),uX())}function uX(){!bb&&!DR&&(DR=!0,NF=aX.then(cX))}function sve(n){const e=fo.indexOf(n);e>Xu&&fo.splice(e,1)}function ave(n){It(n)?$v.push(...n):(!bf||!bf.includes(n,n.allowRecurse?Hd+1:Hd))&&$v.push(n),uX()}function DU(n,e,t=bb?Xu+1:0){for(;t<fo.length;t++){const r=fo[t];if(r&&r.pre){if(n&&r.id!==n.uid)continue;fo.splice(t,1),t--,r()}}}function lX(n){if($v.length){const e=[...new Set($v)].sort((t,r)=>Cb(t)-Cb(r));if($v.length=0,bf){bf.push(...e);return}for(bf=e,Hd=0;Hd<bf.length;Hd++)bf[Hd]();bf=null,Hd=0}}const Cb=n=>n.id==null?1/0:n.id,uve=(n,e)=>{const t=Cb(n)-Cb(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function cX(n){DR=!1,bb=!0,fo.sort(uve);try{for(Xu=0;Xu<fo.length;Xu++){const e=fo[Xu];e&&e.active!==!1&&zf(e,null,14)}}finally{Xu=0,fo.length=0,lX(),bb=!1,NF=null,(fo.length||$v.length)&&cX()}}function lve(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ir;let i=t;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:h}=r[c]||ir;h&&(i=t.map(p=>ci(p)?p.trim():p)),d&&(i=t.map(wge))}let a,u=r[a=LN(e)]||r[a=LN(_l(e))];!u&&o&&(u=r[a=LN(d_(e))]),u&&vu(u,n,6,i);const l=r[a+"Once"];if(l){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,vu(l,n,6,i)}}function fX(n,e,t=!1){const r=e.emitsCache,i=r.get(n);if(i!==void 0)return i;const o=n.emits;let s={},a=!1;if(!Mt(n)){const u=l=>{const c=fX(l,e,!0);c&&(a=!0,Oi(s,c))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!o&&!a?(Cr(n)&&r.set(n,null),null):(It(o)?o.forEach(u=>s[u]=null):Oi(s,o),Cr(n)&&r.set(n,s),s)}function sA(n,e){return!n||!eA(e)?!1:(e=e.slice(2).replace(/Once$/,""),un(n,e[0].toLowerCase()+e.slice(1))||un(n,d_(e))||un(n,e))}let Qo=null,aA=null;function $S(n){const e=Qo;return Qo=n,aA=n&&n.type.__scopeId||null,e}function hX(n){aA=n}function dX(){aA=null}function AR(n,e=Qo,t){if(!e||n._n)return n;const r=(...i)=>{r._d&&FU(-1);const o=$S(e);let s;try{s=n(...i)}finally{$S(o),r._d&&FU(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function kN(n){const{type:e,vnode:t,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:u,render:l,renderCache:c,props:d,data:h,setupState:p,ctx:v,inheritAttrs:m}=n,_=$S(n);let b,C;try{if(t.shapeFlag&4){const T=i||r,A=T;b=Yu(l.call(A,T,c,d,p,h,v)),C=a}else{const T=e;b=Yu(T.length>1?T(d,{attrs:a,slots:s,emit:u}):T(d,null)),C=e.props?a:cve(a)}}catch(T){Py.length=0,oA(T,n,1),b=ni(ch)}let E=b;if(C&&m!==!1){const T=Object.keys(C),{shapeFlag:A}=E;T.length&&A&7&&(o&&T.some(_F)&&(C=fve(C,o)),E=hm(E,C,!1,!0))}return t.dirs&&(E=hm(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(t.dirs):t.dirs),t.transition&&(E.transition=t.transition),b=E,$S(_),b}const cve=n=>{let e;for(const t in n)(t==="class"||t==="style"||eA(t))&&((e||(e={}))[t]=n[t]);return e},fve=(n,e)=>{const t={};for(const r in n)(!_F(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function hve(n,e,t){const{props:r,children:i,component:o}=n,{props:s,children:a,patchFlag:u}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?AU(r,s,l):!!s;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(s[h]!==r[h]&&!sA(l,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?AU(r,s,l):!0:!!s;return!1}function AU(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==n[o]&&!sA(t,o))return!0}return!1}function dve({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const pve="components",pX=Symbol.for("v-ndc");function gve(n){return ci(n)?vve(pve,n,!1)||n:n||pX}function vve(n,e,t=!0,r=!1){const i=Qo||ho;if(i){const o=i.type;{const a=ame(o,!1);if(a&&(a===e||a===_l(e)||a===rA(_l(e))))return o}const s=IU(i[n]||o[n],e)||IU(i.appContext[n],e);return!s&&r?o:s}}function IU(n,e){return n&&(n[e]||n[_l(e)]||n[rA(_l(e))])}const mve=n=>n.__isSuspense;function _ve(n,e){e&&e.pendingBranch?It(n)?e.effects.push(...n):e.effects.push(n):ave(n)}const yve=Symbol.for("v-scx"),bve=()=>Gf(yve),oE={};function RN(n,e,t){return gX(n,e,t)}function gX(n,e,{immediate:t,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=ir){if(e&&o){const S=e;e=(...N)=>{S(...N),A()}}const u=ho,l=S=>r===!0?S:xv(S,r===!1?1:void 0);let c,d=!1,h=!1;if(xs(n)?(c=()=>n.value,d=GS(n)):Ny(n)?(c=()=>l(n),d=!0):It(n)?(h=!0,d=n.some(S=>Ny(S)||GS(S)),c=()=>n.map(S=>{if(xs(S))return S.value;if(Ny(S))return l(S);if(Mt(S))return zf(S,u,2)})):Mt(n)?e?c=()=>zf(n,u,2):c=()=>(p&&p(),vu(n,u,3,[v])):c=Sa,e&&r){const S=c;c=()=>xv(S())}let p,v=S=>{p=E.onStop=()=>{zf(S,u,4),p=E.onStop=void 0}},m;if(dA)if(v=Sa,e?t&&vu(e,u,3,[c(),h?[]:void 0,v]):c(),i==="sync"){const S=bve();m=S.__watcherHandles||(S.__watcherHandles=[])}else return Sa;let _=h?new Array(n.length).fill(oE):oE;const b=()=>{if(!(!E.active||!E.dirty))if(e){const S=E.run();(r||d||(h?S.some((N,k)=>lh(N,_[k])):lh(S,_)))&&(p&&p(),vu(e,u,3,[S,_===oE?void 0:h&&_[0]===oE?[]:_,v]),_=S)}else E.run()};b.allowRecurse=!!e;let C;i==="sync"?C=b:i==="post"?C=()=>gs(b,u&&u.suspense):(b.pre=!0,u&&(b.id=u.uid),C=()=>OF(b));const E=new EF(c,Sa,C),T=Oge(),A=()=>{E.stop(),T&&yF(T.effects,E)};return e?t?b():_=E.run():i==="post"?gs(E.run.bind(E),u&&u.suspense):E.run(),m&&m.push(A),A}function Cve(n,e,t){const r=this.proxy,i=ci(n)?n.includes(".")?vX(r,n):()=>r[n]:n.bind(r,r);let o;Mt(e)?o=e:(o=e.handler,t=e);const s=B1(this),a=gX(i,o.bind(r),t);return s(),a}function vX(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}function xv(n,e=1/0,t){if(e<=0||!Cr(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,xs(n))xv(n.value,e,t);else if(It(n))for(let r=0;r<n.length;r++)xv(n[r],e,t);else if(PY(n)||Gv(n))n.forEach(r=>{xv(r,e,t)});else if(BY(n))for(const r in n)xv(n[r],e,t);return n}function fd(n,e,t,r){const i=n.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(Eh(),vu(u,t,8,[n.el,a,n,e]),Sh())}}/*! #__NO_SIDE_EFFECTS__ */function Fc(n,e){return Mt(n)?Oi({name:n.name},e,{setup:n}):n}const Oy=n=>!!n.type.__asyncLoader,mX=n=>n.type.__isKeepAlive;function wve(n,e){_X(n,"a",e)}function Eve(n,e){_X(n,"da",e)}function _X(n,e,t=ho){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(uA(e,r,t),t){let i=t.parent;for(;i&&i.parent;)mX(i.parent.vnode)&&Sve(r,e,t,i),i=i.parent}}function Sve(n,e,t,r){const i=uA(e,n,r,!0);fA(()=>{yF(r[e],i)},t)}function uA(n,e,t=ho,r=!1){if(t){const i=t[n]||(t[n]=[]),o=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;Eh();const a=B1(t),u=vu(e,t,n,s);return a(),Sh(),u});return r?i.unshift(o):i.push(o),o}}const Bc=n=>(e,t=ho)=>(!dA||n==="sp")&&uA(n,(...r)=>e(...r),t),Tve=Bc("bm"),lA=Bc("m"),Dve=Bc("bu"),cA=Bc("u"),yX=Bc("bum"),fA=Bc("um"),Ave=Bc("sp"),Ive=Bc("rtg"),xve=Bc("rtc");function Lve(n,e=ho){uA("ec",n,e)}function PN(n,e,t={},r,i){if(Qo.isCE||Qo.parent&&Oy(Qo.parent)&&Qo.parent.isCE)return e!=="default"&&(t.name=e),ni("slot",t,r);let o=n[e];o&&o._c&&(o._d=!1),Ki();const s=o&&bX(o(t)),a=YS(ms,{key:t.key||s&&s.key||`_${e}`},s||[],s&&n._===1?64:-2);return o&&o._c&&(o._d=!0),a}function bX(n){return n.some(e=>RX(e)?!(e.type===ch||e.type===ms&&!bX(e.children)):!0)?n:null}const IR=n=>n?MX(n)?MF(n)||n.proxy:IR(n.parent):null,ky=Oi(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>IR(n.parent),$root:n=>IR(n.root),$emit:n=>n.emit,$options:n=>kF(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,OF(n.update)}),$nextTick:n=>n.n||(n.n=ive.bind(n.proxy)),$watch:n=>Cve.bind(n)}),MN=(n,e)=>n!==ir&&!n.__isScriptSetup&&un(n,e),Nve={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=n;let l;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(MN(r,e))return s[e]=1,r[e];if(i!==ir&&un(i,e))return s[e]=2,i[e];if((l=n.propsOptions[0])&&un(l,e))return s[e]=3,o[e];if(t!==ir&&un(t,e))return s[e]=4,t[e];xR&&(s[e]=0)}}const c=ky[e];let d,h;if(c)return e==="$attrs"&&Is(n.attrs,"get",""),c(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==ir&&un(t,e))return s[e]=4,t[e];if(h=u.config.globalProperties,un(h,e))return h[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:o}=n;return MN(i,e)?(i[e]=t,!0):r!==ir&&un(r,e)?(r[e]=t,!0):un(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(o[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!t[s]||n!==ir&&un(n,s)||MN(e,s)||(a=o[0])&&un(a,s)||un(r,s)||un(ky,s)||un(i.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:un(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function xU(n){return It(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let xR=!0;function Ove(n){const e=kF(n),t=n.proxy,r=n.ctx;xR=!1,e.beforeCreate&&LU(e.beforeCreate,n,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:l,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:v,activated:m,deactivated:_,beforeDestroy:b,beforeUnmount:C,destroyed:E,unmounted:T,render:A,renderTracked:S,renderTriggered:N,errorCaptured:k,serverPrefetch:F,expose:L,inheritAttrs:O,components:P,directives:B,filters:U}=e;if(l&&kve(l,r,null),s)for(const te in s){const ne=s[te];Mt(ne)&&(r[te]=ne.bind(t))}if(i){const te=i.call(t,t);Cr(te)&&(n.data=IF(te))}if(xR=!0,o)for(const te in o){const ne=o[te],de=Mt(ne)?ne.bind(t,t):Mt(ne.get)?ne.get.bind(t,t):Sa,ke=!Mt(ne)&&Mt(ne.set)?ne.set.bind(t):Sa,qe=PR({get:de,set:ke});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>qe.value,set:ft=>qe.value=ft})}if(a)for(const te in a)CX(a[te],r,t,te);if(u){const te=Mt(u)?u.call(t):u;Reflect.ownKeys(te).forEach(ne=>{NR(ne,te[ne])})}c&&LU(c,n,"c");function ee(te,ne){It(ne)?ne.forEach(de=>te(de.bind(t))):ne&&te(ne.bind(t))}if(ee(Tve,d),ee(lA,h),ee(Dve,p),ee(cA,v),ee(wve,m),ee(Eve,_),ee(Lve,k),ee(xve,S),ee(Ive,N),ee(yX,C),ee(fA,T),ee(Ave,F),It(L))if(L.length){const te=n.exposed||(n.exposed={});L.forEach(ne=>{Object.defineProperty(te,ne,{get:()=>t[ne],set:de=>t[ne]=de})})}else n.exposed||(n.exposed={});A&&n.render===Sa&&(n.render=A),O!=null&&(n.inheritAttrs=O),P&&(n.components=P),B&&(n.directives=B)}function kve(n,e,t=Sa){It(n)&&(n=LR(n));for(const r in n){const i=n[r];let o;Cr(i)?"default"in i?o=Gf(i.from||r,i.default,!0):o=Gf(i.from||r):o=Gf(i),xs(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function LU(n,e,t){vu(It(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function CX(n,e,t,r){const i=r.includes(".")?vX(t,r):()=>t[r];if(ci(n)){const o=e[n];Mt(o)&&RN(i,o)}else if(Mt(n))RN(i,n.bind(t));else if(Cr(n))if(It(n))n.forEach(o=>CX(o,e,t,r));else{const o=Mt(n.handler)?n.handler.bind(t):e[n.handler];Mt(o)&&RN(i,o,n)}}function kF(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=n.appContext,a=o.get(e);let u;return a?u=a:!i.length&&!t&&!r?u=e:(u={},i.length&&i.forEach(l=>KS(u,l,s,!0)),KS(u,e,s)),Cr(e)&&o.set(e,u),u}function KS(n,e,t,r=!1){const{mixins:i,extends:o}=e;o&&KS(n,o,t,!0),i&&i.forEach(s=>KS(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const a=Rve[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const Rve={data:NU,props:OU,emits:OU,methods:by,computed:by,beforeCreate:Mo,created:Mo,beforeMount:Mo,mounted:Mo,beforeUpdate:Mo,updated:Mo,beforeDestroy:Mo,beforeUnmount:Mo,destroyed:Mo,unmounted:Mo,activated:Mo,deactivated:Mo,errorCaptured:Mo,serverPrefetch:Mo,components:by,directives:by,watch:Mve,provide:NU,inject:Pve};function NU(n,e){return e?n?function(){return Oi(Mt(n)?n.call(this,this):n,Mt(e)?e.call(this,this):e)}:e:n}function Pve(n,e){return by(LR(n),LR(e))}function LR(n){if(It(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Mo(n,e){return n?[...new Set([].concat(n,e))]:e}function by(n,e){return n?Oi(Object.create(null),n,e):e}function OU(n,e){return n?It(n)&&It(e)?[...new Set([...n,...e])]:Oi(Object.create(null),xU(n),xU(e??{})):e}function Mve(n,e){if(!n)return e;if(!e)return n;const t=Oi(Object.create(null),n);for(const r in e)t[r]=Mo(n[r],e[r]);return t}function wX(){return{app:null,config:{isNativeTag:mge,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fve=0;function Bve(n,e){return function(r,i=null){Mt(r)||(r=Oi({},r)),i!=null&&!Cr(i)&&(i=null);const o=wX(),s=new WeakSet;let a=!1;const u=o.app={_uid:Fve++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:lme,get config(){return o.config},set config(l){},use(l,...c){return s.has(l)||(l&&Mt(l.install)?(s.add(l),l.install(u,...c)):Mt(l)&&(s.add(l),l(u,...c))),u},mixin(l){return o.mixins.includes(l)||o.mixins.push(l),u},component(l,c){return c?(o.components[l]=c,u):o.components[l]},directive(l,c){return c?(o.directives[l]=c,u):o.directives[l]},mount(l,c,d){if(!a){const h=ni(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(h,l):n(h,l,d),a=!0,u._container=l,l.__vue_app__=u,MF(h.component)||h.component.proxy}},unmount(){a&&(n(null,u._container),delete u._container.__vue_app__)},provide(l,c){return o.provides[l]=c,u},runWithContext(l){const c=Ry;Ry=u;try{return l()}finally{Ry=c}}};return u}}let Ry=null;function NR(n,e){if(ho){let t=ho.provides;const r=ho.parent&&ho.parent.provides;r===t&&(t=ho.provides=Object.create(r)),t[n]=e}}function Gf(n,e,t=!1){const r=ho||Qo;if(r||Ry){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ry._context.provides;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Mt(e)?e.call(r&&r.proxy):e}}const EX={},SX=()=>Object.create(EX),TX=n=>Object.getPrototypeOf(n)===EX;function Hve(n,e,t,r=!1){const i={},o=SX();n.propsDefaults=Object.create(null),DX(n,e,i,o);for(const s in n.propsOptions[0])s in i||(i[s]=void 0);t?n.props=r?i:eX(i):n.type.props?n.props=i:n.props=o,n.attrs=o}function Vve(n,e,t,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=n,a=Sn(i),[u]=n.propsOptions;let l=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(sA(n.emitsOptions,h))continue;const p=e[h];if(u)if(un(o,h))p!==o[h]&&(o[h]=p,l=!0);else{const v=_l(h);i[v]=OR(u,a,v,p,n,!1)}else p!==o[h]&&(o[h]=p,l=!0)}}}else{DX(n,e,i,o)&&(l=!0);let c;for(const d in a)(!e||!un(e,d)&&((c=d_(d))===d||!un(e,c)))&&(u?t&&(t[d]!==void 0||t[c]!==void 0)&&(i[d]=OR(u,a,d,void 0,n,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!un(e,d))&&(delete o[d],l=!0)}l&&mc(n.attrs,"set","")}function DX(n,e,t,r){const[i,o]=n.propsOptions;let s=!1,a;if(e)for(let u in e){if(Ly(u))continue;const l=e[u];let c;i&&un(i,c=_l(u))?!o||!o.includes(c)?t[c]=l:(a||(a={}))[c]=l:sA(n.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,s=!0)}if(o){const u=Sn(t),l=a||ir;for(let c=0;c<o.length;c++){const d=o[c];t[d]=OR(i,u,d,l[d],n,!un(l,d))}}return s}function OR(n,e,t,r,i,o){const s=n[t];if(s!=null){const a=un(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Mt(u)){const{propsDefaults:l}=i;if(t in l)r=l[t];else{const c=B1(i);r=l[t]=u.call(null,e),c()}}else r=u}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===d_(t))&&(r=!0))}return r}function AX(n,e,t=!1){const r=e.propsCache,i=r.get(n);if(i)return i;const o=n.props,s={},a=[];let u=!1;if(!Mt(n)){const c=d=>{u=!0;const[h,p]=AX(d,e,!0);Oi(s,h),p&&a.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!u)return Cr(n)&&r.set(n,zv),zv;if(It(o))for(let c=0;c<o.length;c++){const d=_l(o[c]);kU(d)&&(s[d]=ir)}else if(o)for(const c in o){const d=_l(c);if(kU(d)){const h=o[c],p=s[d]=It(h)||Mt(h)?{type:h}:Oi({},h);if(p){const v=MU(Boolean,p.type),m=MU(String,p.type);p[0]=v>-1,p[1]=m<0||v<m,(v>-1||un(p,"default"))&&a.push(d)}}}const l=[s,a];return Cr(n)&&r.set(n,l),l}function kU(n){return n[0]!=="$"&&!Ly(n)}function RU(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function PU(n,e){return RU(n)===RU(e)}function MU(n,e){return It(e)?e.findIndex(t=>PU(t,n)):Mt(e)&&PU(e,n)?0:-1}const IX=n=>n[0]==="_"||n==="$stable",RF=n=>It(n)?n.map(Yu):[Yu(n)],Wve=(n,e,t)=>{if(e._n)return e;const r=AR((...i)=>RF(e(...i)),t);return r._c=!1,r},xX=(n,e,t)=>{const r=n._ctx;for(const i in n){if(IX(i))continue;const o=n[i];if(Mt(o))e[i]=Wve(i,o,r);else if(o!=null){const s=RF(o);e[i]=()=>s}}},LX=(n,e)=>{const t=RF(e);n.slots.default=()=>t},Uve=(n,e)=>{const t=n.slots=SX();if(n.vnode.shapeFlag&32){const r=e._;r?(Oi(t,e),HY(t,"_",r,!0)):xX(e,t)}else e&&LX(n,e)},jve=(n,e,t)=>{const{vnode:r,slots:i}=n;let o=!0,s=ir;if(r.shapeFlag&32){const a=e._;a?t&&a===1?o=!1:(Oi(i,e),!t&&a===1&&delete i._):(o=!e.$stable,xX(e,i)),s=e}else e&&(LX(n,e),s={default:1});if(o)for(const a in i)!IX(a)&&s[a]==null&&delete i[a]};function kR(n,e,t,r,i=!1){if(It(n)){n.forEach((h,p)=>kR(h,e&&(It(e)?e[p]:e),t,r,i));return}if(Oy(r)&&!i)return;const o=r.shapeFlag&4?MF(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=n,l=e&&e.r,c=a.refs===ir?a.refs={}:a.refs,d=a.setupState;if(l!=null&&l!==u&&(ci(l)?(c[l]=null,un(d,l)&&(d[l]=null)):xs(l)&&(l.value=null)),Mt(u))zf(u,a,12,[s,c]);else{const h=ci(u),p=xs(u);if(h||p){const v=()=>{if(n.f){const m=h?un(d,u)?d[u]:c[u]:u.value;i?It(m)&&yF(m,o):It(m)?m.includes(o)||m.push(o):h?(c[u]=[o],un(d,u)&&(d[u]=c[u])):(u.value=[o],n.k&&(c[n.k]=u.value))}else h?(c[u]=s,un(d,u)&&(d[u]=s)):p&&(u.value=s,n.k&&(c[n.k]=s))};s?(v.id=-1,gs(v,t)):v()}}}const gs=_ve;function qve(n){return zve(n)}function zve(n,e){const t=VY();t.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:u,setText:l,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=Sa,insertStaticContent:v}=n,m=(G,Z,ie,ue=null,ge=null,Se=null,Ne=void 0,Ee=null,Oe=!!Z.dynamicChildren)=>{if(G===Z)return;G&&!H0(G,Z)&&(ue=me(G),ft(G,ge,Se,!0),G=null),Z.patchFlag===-2&&(Oe=!1,Z.dynamicChildren=null);const{type:we,ref:We,shapeFlag:pt}=Z;switch(we){case hA:_(G,Z,ie,ue);break;case ch:b(G,Z,ie,ue);break;case BN:G==null&&C(Z,ie,ue,Ne);break;case ms:P(G,Z,ie,ue,ge,Se,Ne,Ee,Oe);break;default:pt&1?A(G,Z,ie,ue,ge,Se,Ne,Ee,Oe):pt&6?B(G,Z,ie,ue,ge,Se,Ne,Ee,Oe):(pt&64||pt&128)&&we.process(G,Z,ie,ue,ge,Se,Ne,Ee,Oe,xo)}We!=null&&ge&&kR(We,G&&G.ref,Se,Z||G,!Z)},_=(G,Z,ie,ue)=>{if(G==null)r(Z.el=a(Z.children),ie,ue);else{const ge=Z.el=G.el;Z.children!==G.children&&l(ge,Z.children)}},b=(G,Z,ie,ue)=>{G==null?r(Z.el=u(Z.children||""),ie,ue):Z.el=G.el},C=(G,Z,ie,ue)=>{[G.el,G.anchor]=v(G.children,Z,ie,ue,G.el,G.anchor)},E=({el:G,anchor:Z},ie,ue)=>{let ge;for(;G&&G!==Z;)ge=h(G),r(G,ie,ue),G=ge;r(Z,ie,ue)},T=({el:G,anchor:Z})=>{let ie;for(;G&&G!==Z;)ie=h(G),i(G),G=ie;i(Z)},A=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe)=>{Z.type==="svg"?Ne="svg":Z.type==="math"&&(Ne="mathml"),G==null?S(Z,ie,ue,ge,Se,Ne,Ee,Oe):F(G,Z,ge,Se,Ne,Ee,Oe)},S=(G,Z,ie,ue,ge,Se,Ne,Ee)=>{let Oe,we;const{props:We,shapeFlag:pt,transition:at,dirs:bt}=G;if(Oe=G.el=s(G.type,Se,We&&We.is,We),pt&8?c(Oe,G.children):pt&16&&k(G.children,Oe,null,ue,ge,FN(G,Se),Ne,Ee),bt&&fd(G,null,ue,"created"),N(Oe,G,G.scopeId,Ne,ue),We){for(const cn in We)cn!=="value"&&!Ly(cn)&&o(Oe,cn,null,We[cn],Se,G.children,ue,ge,q);"value"in We&&o(Oe,"value",null,We.value,Se),(we=We.onVnodeBeforeMount)&&Wu(we,ue,G)}bt&&fd(G,null,ue,"beforeMount");const Ye=Gve(ge,at);Ye&&at.beforeEnter(Oe),r(Oe,Z,ie),((we=We&&We.onVnodeMounted)||Ye||bt)&&gs(()=>{we&&Wu(we,ue,G),Ye&&at.enter(Oe),bt&&fd(G,null,ue,"mounted")},ge)},N=(G,Z,ie,ue,ge)=>{if(ie&&p(G,ie),ue)for(let Se=0;Se<ue.length;Se++)p(G,ue[Se]);if(ge){let Se=ge.subTree;if(Z===Se){const Ne=ge.vnode;N(G,Ne,Ne.scopeId,Ne.slotScopeIds,ge.parent)}}},k=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe=0)=>{for(let we=Oe;we<G.length;we++){const We=G[we]=Ee?Cf(G[we]):Yu(G[we]);m(null,We,Z,ie,ue,ge,Se,Ne,Ee)}},F=(G,Z,ie,ue,ge,Se,Ne)=>{const Ee=Z.el=G.el;let{patchFlag:Oe,dynamicChildren:we,dirs:We}=Z;Oe|=G.patchFlag&16;const pt=G.props||ir,at=Z.props||ir;let bt;if(ie&&hd(ie,!1),(bt=at.onVnodeBeforeUpdate)&&Wu(bt,ie,Z,G),We&&fd(Z,G,ie,"beforeUpdate"),ie&&hd(ie,!0),we?L(G.dynamicChildren,we,Ee,ie,ue,FN(Z,ge),Se):Ne||ne(G,Z,Ee,null,ie,ue,FN(Z,ge),Se,!1),Oe>0){if(Oe&16)O(Ee,Z,pt,at,ie,ue,ge);else if(Oe&2&&pt.class!==at.class&&o(Ee,"class",null,at.class,ge),Oe&4&&o(Ee,"style",pt.style,at.style,ge),Oe&8){const Ye=Z.dynamicProps;for(let cn=0;cn<Ye.length;cn++){const _n=Ye[cn],Er=pt[_n],us=at[_n];(us!==Er||_n==="value")&&o(Ee,_n,Er,us,ge,G.children,ie,ue,q)}}Oe&1&&G.children!==Z.children&&c(Ee,Z.children)}else!Ne&&we==null&&O(Ee,Z,pt,at,ie,ue,ge);((bt=at.onVnodeUpdated)||We)&&gs(()=>{bt&&Wu(bt,ie,Z,G),We&&fd(Z,G,ie,"updated")},ue)},L=(G,Z,ie,ue,ge,Se,Ne)=>{for(let Ee=0;Ee<Z.length;Ee++){const Oe=G[Ee],we=Z[Ee],We=Oe.el&&(Oe.type===ms||!H0(Oe,we)||Oe.shapeFlag&70)?d(Oe.el):ie;m(Oe,we,We,null,ue,ge,Se,Ne,!0)}},O=(G,Z,ie,ue,ge,Se,Ne)=>{if(ie!==ue){if(ie!==ir)for(const Ee in ie)!Ly(Ee)&&!(Ee in ue)&&o(G,Ee,ie[Ee],null,Ne,Z.children,ge,Se,q);for(const Ee in ue){if(Ly(Ee))continue;const Oe=ue[Ee],we=ie[Ee];Oe!==we&&Ee!=="value"&&o(G,Ee,we,Oe,Ne,Z.children,ge,Se,q)}"value"in ue&&o(G,"value",ie.value,ue.value,Ne)}},P=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe)=>{const we=Z.el=G?G.el:a(""),We=Z.anchor=G?G.anchor:a("");let{patchFlag:pt,dynamicChildren:at,slotScopeIds:bt}=Z;bt&&(Ee=Ee?Ee.concat(bt):bt),G==null?(r(we,ie,ue),r(We,ie,ue),k(Z.children||[],ie,We,ge,Se,Ne,Ee,Oe)):pt>0&&pt&64&&at&&G.dynamicChildren?(L(G.dynamicChildren,at,ie,ge,Se,Ne,Ee),(Z.key!=null||ge&&Z===ge.subTree)&&NX(G,Z,!0)):ne(G,Z,ie,We,ge,Se,Ne,Ee,Oe)},B=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe)=>{Z.slotScopeIds=Ee,G==null?Z.shapeFlag&512?ge.ctx.activate(Z,ie,ue,Ne,Oe):U(Z,ie,ue,ge,Se,Ne,Oe):$(G,Z,Oe)},U=(G,Z,ie,ue,ge,Se,Ne)=>{const Ee=G.component=nme(G,ue,ge);if(mX(G)&&(Ee.ctx.renderer=xo),rme(Ee),Ee.asyncDep){if(ge&&ge.registerDep(Ee,ee),!G.el){const Oe=Ee.subTree=ni(ch);b(null,Oe,Z,ie)}}else ee(Ee,G,Z,ie,ge,Se,Ne)},$=(G,Z,ie)=>{const ue=Z.component=G.component;if(hve(G,Z,ie))if(ue.asyncDep&&!ue.asyncResolved){te(ue,Z,ie);return}else ue.next=Z,sve(ue.update),ue.effect.dirty=!0,ue.update();else Z.el=G.el,ue.vnode=Z},ee=(G,Z,ie,ue,ge,Se,Ne)=>{const Ee=()=>{if(G.isMounted){let{next:We,bu:pt,u:at,parent:bt,vnode:Ye}=G;{const zn=OX(G);if(zn){We&&(We.el=Ye.el,te(G,We,Ne)),zn.asyncDep.then(()=>{G.isUnmounted||Ee()});return}}let cn=We,_n;hd(G,!1),We?(We.el=Ye.el,te(G,We,Ne)):We=Ye,pt&&NN(pt),(_n=We.props&&We.props.onVnodeBeforeUpdate)&&Wu(_n,bt,We,Ye),hd(G,!0);const Er=kN(G),us=G.subTree;G.subTree=Er,m(us,Er,d(us.el),me(us),G,ge,Se),We.el=Er.el,cn===null&&dve(G,Er.el),at&&gs(at,ge),(_n=We.props&&We.props.onVnodeUpdated)&&gs(()=>Wu(_n,bt,We,Ye),ge)}else{let We;const{el:pt,props:at}=Z,{bm:bt,m:Ye,parent:cn}=G,_n=Oy(Z);if(hd(G,!1),bt&&NN(bt),!_n&&(We=at&&at.onVnodeBeforeMount)&&Wu(We,cn,Z),hd(G,!0),pt&&eo){const Er=()=>{G.subTree=kN(G),eo(pt,G.subTree,G,ge,null)};_n?Z.type.__asyncLoader().then(()=>!G.isUnmounted&&Er()):Er()}else{const Er=G.subTree=kN(G);m(null,Er,ie,ue,G,ge,Se),Z.el=Er.el}if(Ye&&gs(Ye,ge),!_n&&(We=at&&at.onVnodeMounted)){const Er=Z;gs(()=>Wu(We,cn,Er),ge)}(Z.shapeFlag&256||cn&&Oy(cn.vnode)&&cn.vnode.shapeFlag&256)&&G.a&&gs(G.a,ge),G.isMounted=!0,Z=ie=ue=null}},Oe=G.effect=new EF(Ee,Sa,()=>OF(we),G.scope),we=G.update=()=>{Oe.dirty&&Oe.run()};we.id=G.uid,hd(G,!0),we()},te=(G,Z,ie)=>{Z.component=G;const ue=G.vnode.props;G.vnode=Z,G.next=null,Vve(G,Z.props,ue,ie),jve(G,Z.children,ie),Eh(),DU(G),Sh()},ne=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe=!1)=>{const we=G&&G.children,We=G?G.shapeFlag:0,pt=Z.children,{patchFlag:at,shapeFlag:bt}=Z;if(at>0){if(at&128){ke(we,pt,ie,ue,ge,Se,Ne,Ee,Oe);return}else if(at&256){de(we,pt,ie,ue,ge,Se,Ne,Ee,Oe);return}}bt&8?(We&16&&q(we,ge,Se),pt!==we&&c(ie,pt)):We&16?bt&16?ke(we,pt,ie,ue,ge,Se,Ne,Ee,Oe):q(we,ge,Se,!0):(We&8&&c(ie,""),bt&16&&k(pt,ie,ue,ge,Se,Ne,Ee,Oe))},de=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe)=>{G=G||zv,Z=Z||zv;const we=G.length,We=Z.length,pt=Math.min(we,We);let at;for(at=0;at<pt;at++){const bt=Z[at]=Oe?Cf(Z[at]):Yu(Z[at]);m(G[at],bt,ie,null,ge,Se,Ne,Ee,Oe)}we>We?q(G,ge,Se,!0,!1,pt):k(Z,ie,ue,ge,Se,Ne,Ee,Oe,pt)},ke=(G,Z,ie,ue,ge,Se,Ne,Ee,Oe)=>{let we=0;const We=Z.length;let pt=G.length-1,at=We-1;for(;we<=pt&&we<=at;){const bt=G[we],Ye=Z[we]=Oe?Cf(Z[we]):Yu(Z[we]);if(H0(bt,Ye))m(bt,Ye,ie,null,ge,Se,Ne,Ee,Oe);else break;we++}for(;we<=pt&&we<=at;){const bt=G[pt],Ye=Z[at]=Oe?Cf(Z[at]):Yu(Z[at]);if(H0(bt,Ye))m(bt,Ye,ie,null,ge,Se,Ne,Ee,Oe);else break;pt--,at--}if(we>pt){if(we<=at){const bt=at+1,Ye=bt<We?Z[bt].el:ue;for(;we<=at;)m(null,Z[we]=Oe?Cf(Z[we]):Yu(Z[we]),ie,Ye,ge,Se,Ne,Ee,Oe),we++}}else if(we>at)for(;we<=pt;)ft(G[we],ge,Se,!0),we++;else{const bt=we,Ye=we,cn=new Map;for(we=Ye;we<=at;we++){const to=Z[we]=Oe?Cf(Z[we]):Yu(Z[we]);to.key!=null&&cn.set(to.key,we)}let _n,Er=0;const us=at-Ye+1;let zn=!1,t0=0;const Rs=new Array(us);for(we=0;we<us;we++)Rs[we]=0;for(we=bt;we<=pt;we++){const to=G[we];if(Er>=us){ft(to,ge,Se,!0);continue}let Qn;if(to.key!=null)Qn=cn.get(to.key);else for(_n=Ye;_n<=at;_n++)if(Rs[_n-Ye]===0&&H0(to,Z[_n])){Qn=_n;break}Qn===void 0?ft(to,ge,Se,!0):(Rs[Qn-Ye]=we+1,Qn>=t0?t0=Qn:zn=!0,m(to,Z[Qn],ie,null,ge,Se,Ne,Ee,Oe),Er++)}const Va=zn?$ve(Rs):zv;for(_n=Va.length-1,we=us-1;we>=0;we--){const to=Ye+we,Qn=Z[to],n0=to+1<We?Z[to+1].el:ue;Rs[we]===0?m(null,Qn,ie,n0,ge,Se,Ne,Ee,Oe):zn&&(_n<0||we!==Va[_n]?qe(Qn,ie,n0,2):_n--)}}},qe=(G,Z,ie,ue,ge=null)=>{const{el:Se,type:Ne,transition:Ee,children:Oe,shapeFlag:we}=G;if(we&6){qe(G.component.subTree,Z,ie,ue);return}if(we&128){G.suspense.move(Z,ie,ue);return}if(we&64){Ne.move(G,Z,ie,xo);return}if(Ne===ms){r(Se,Z,ie);for(let pt=0;pt<Oe.length;pt++)qe(Oe[pt],Z,ie,ue);r(G.anchor,Z,ie);return}if(Ne===BN){E(G,Z,ie);return}if(ue!==2&&we&1&&Ee)if(ue===0)Ee.beforeEnter(Se),r(Se,Z,ie),gs(()=>Ee.enter(Se),ge);else{const{leave:pt,delayLeave:at,afterLeave:bt}=Ee,Ye=()=>r(Se,Z,ie),cn=()=>{pt(Se,()=>{Ye(),bt&&bt()})};at?at(Se,Ye,cn):cn()}else r(Se,Z,ie)},ft=(G,Z,ie,ue=!1,ge=!1)=>{const{type:Se,props:Ne,ref:Ee,children:Oe,dynamicChildren:we,shapeFlag:We,patchFlag:pt,dirs:at}=G;if(Ee!=null&&kR(Ee,null,ie,G,!0),We&256){Z.ctx.deactivate(G);return}const bt=We&1&&at,Ye=!Oy(G);let cn;if(Ye&&(cn=Ne&&Ne.onVnodeBeforeUnmount)&&Wu(cn,Z,G),We&6)vi(G.component,ie,ue);else{if(We&128){G.suspense.unmount(ie,ue);return}bt&&fd(G,null,Z,"beforeUnmount"),We&64?G.type.remove(G,Z,ie,ge,xo,ue):we&&(Se!==ms||pt>0&&pt&64)?q(we,Z,ie,!1,!0):(Se===ms&&pt&384||!ge&&We&16)&&q(Oe,Z,ie),ue&&ze(G)}(Ye&&(cn=Ne&&Ne.onVnodeUnmounted)||bt)&&gs(()=>{cn&&Wu(cn,Z,G),bt&&fd(G,null,Z,"unmounted")},ie)},ze=G=>{const{type:Z,el:ie,anchor:ue,transition:ge}=G;if(Z===ms){dt(ie,ue);return}if(Z===BN){T(G);return}const Se=()=>{i(ie),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(G.shapeFlag&1&&ge&&!ge.persisted){const{leave:Ne,delayLeave:Ee}=ge,Oe=()=>Ne(ie,Se);Ee?Ee(G.el,Se,Oe):Oe()}else Se()},dt=(G,Z)=>{let ie;for(;G!==Z;)ie=h(G),i(G),G=ie;i(Z)},vi=(G,Z,ie)=>{const{bum:ue,scope:ge,update:Se,subTree:Ne,um:Ee}=G;ue&&NN(ue),ge.stop(),Se&&(Se.active=!1,ft(Ne,G,Z,ie)),Ee&&gs(Ee,Z),gs(()=>{G.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},q=(G,Z,ie,ue=!1,ge=!1,Se=0)=>{for(let Ne=Se;Ne<G.length;Ne++)ft(G[Ne],Z,ie,ue,ge)},me=G=>G.shapeFlag&6?me(G.component.subTree):G.shapeFlag&128?G.suspense.next():h(G.anchor||G.el);let Ht=!1;const as=(G,Z,ie)=>{G==null?Z._vnode&&ft(Z._vnode,null,null,!0):m(Z._vnode||null,G,Z,null,null,null,ie),Ht||(Ht=!0,DU(),lX(),Ht=!1),Z._vnode=G},xo={p:m,um:ft,m:qe,r:ze,mt:U,mc:k,pc:ne,pbc:L,n:me,o:n};let qn,eo;return{render:as,hydrate:qn,createApp:Bve(as,qn)}}function FN({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function hd({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function Gve(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function NX(n,e,t=!1){const r=n.children,i=e.children;if(It(r)&&It(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Cf(i[o]),a.el=s.el),t||NX(s,a)),a.type===hA&&(a.el=s.el)}}function $ve(n){const e=n.slice(),t=[0];let r,i,o,s,a;const u=n.length;for(r=0;r<u;r++){const l=n[r];if(l!==0){if(i=t[t.length-1],n[i]<l){e[r]=i,t.push(r);continue}for(o=0,s=t.length-1;o<s;)a=o+s>>1,n[t[a]]<l?o=a+1:s=a;l<n[t[o]]&&(o>0&&(e[r]=t[o-1]),t[o]=r)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=e[s];return t}function OX(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:OX(e)}const Kve=n=>n.__isTeleport,ms=Symbol.for("v-fgt"),hA=Symbol.for("v-txt"),ch=Symbol.for("v-cmt"),BN=Symbol.for("v-stc"),Py=[];let fu=null;function Ki(n=!1){Py.push(fu=n?null:[])}function Yve(){Py.pop(),fu=Py[Py.length-1]||null}let wb=1;function FU(n){wb+=n}function kX(n){return n.dynamicChildren=wb>0?fu||zv:null,Yve(),wb>0&&fu&&fu.push(n),n}function sa(n,e,t,r,i,o){return kX(Ie(n,e,t,r,i,o,!0))}function YS(n,e,t,r,i){return kX(ni(n,e,t,r,i,!0))}function RX(n){return n?n.__v_isVNode===!0:!1}function H0(n,e){return n.type===e.type&&n.key===e.key}const PX=({key:n})=>n??null,dS=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?ci(n)||xs(n)||Mt(n)?{i:Qo,r:n,k:e,f:!!t}:n:null);function Ie(n,e=null,t=null,r=0,i=null,o=n===ms?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&PX(e),ref:e&&dS(e),scopeId:aA,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qo};return a?(PF(u,t),o&128&&n.normalize(u)):t&&(u.shapeFlag|=ci(t)?8:16),wb>0&&!s&&fu&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&fu.push(u),u}const ni=Xve;function Xve(n,e=null,t=null,r=0,i=null,o=!1){if((!n||n===pX)&&(n=ch),RX(n)){const a=hm(n,e,!0);return t&&PF(a,t),wb>0&&!o&&fu&&(a.shapeFlag&6?fu[fu.indexOf(n)]=a:fu.push(a)),a.patchFlag|=-2,a}if(ume(n)&&(n=n.__vccOpts),e){e=Qve(e);let{class:a,style:u}=e;a&&!ci(a)&&(e.class=wF(a)),Cr(u)&&(nX(u)&&!It(u)&&(u=Oi({},u)),e.style=CF(u))}const s=ci(n)?1:mve(n)?128:Kve(n)?64:Cr(n)?4:Mt(n)?2:0;return Ie(n,e,t,r,i,s,o,!0)}function Qve(n){return n?nX(n)||TX(n)?Oi({},n):n:null}function hm(n,e,t=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:u}=n,l=e?Jve(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&PX(l),ref:e&&e.ref?t&&o?It(o)?o.concat(dS(e)):[o,dS(e)]:dS(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==ms?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&hm(n.ssContent),ssFallback:n.ssFallback&&hm(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&r&&(c.transition=u.clone(c)),c}function Sc(n=" ",e=0){return ni(hA,null,n,e)}function Zve(n="",e=!1){return e?(Ki(),YS(ch,null,n)):ni(ch,null,n)}function Yu(n){return n==null||typeof n=="boolean"?ni(ch):It(n)?ni(ms,null,n.slice()):typeof n=="object"?Cf(n):ni(hA,null,String(n))}function Cf(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:hm(n)}function PF(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(It(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),PF(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!TX(e)?e._ctx=Qo:i===3&&Qo&&(Qo.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Mt(e)?(e={default:e,_ctx:Qo},t=32):(e=String(e),r&64?(t=16,e=[Sc(e)]):t=8);n.children=e,n.shapeFlag|=t}function Jve(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=wF([e.class,r.class]));else if(i==="style")e.style=CF([e.style,r.style]);else if(eA(i)){const o=e[i],s=r[i];s&&o!==s&&!(It(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Wu(n,e,t,r=null){vu(n,e,7,[t,r])}const eme=wX();let tme=0;function nme(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||eme,o={uid:tme++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lge(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:AX(r,i),emitsOptions:fX(r,i),emit:null,emitted:null,propsDefaults:ir,inheritAttrs:r.inheritAttrs,ctx:ir,data:ir,props:ir,attrs:ir,slots:ir,refs:ir,setupState:ir,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=lve.bind(null,o),n.ce&&n.ce(o),o}let ho=null,XS,RR;{const n=VY(),e=(t,r)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};XS=e("__VUE_INSTANCE_SETTERS__",t=>ho=t),RR=e("__VUE_SSR_SETTERS__",t=>dA=t)}const B1=n=>{const e=ho;return XS(n),n.scope.on(),()=>{n.scope.off(),XS(e)}},BU=()=>{ho&&ho.scope.off(),XS(null)};function MX(n){return n.vnode.shapeFlag&4}let dA=!1;function rme(n,e=!1){e&&RR(e);const{props:t,children:r}=n.vnode,i=MX(n);Hve(n,t,i,e),Uve(n,r);const o=i?ime(n,e):void 0;return e&&RR(!1),o}function ime(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Nve);const{setup:r}=t;if(r){const i=n.setupContext=r.length>1?sme(n):null,o=B1(n);Eh();const s=zf(r,n,0,[n.props,i]);if(Sh(),o(),MY(s)){if(s.then(BU,BU),e)return s.then(a=>{HU(n,a,e)}).catch(a=>{oA(a,n,0)});n.asyncDep=s}else HU(n,s,e)}else FX(n,e)}function HU(n,e,t){Mt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Cr(e)&&(n.setupState=sX(e)),FX(n,t)}let VU;function FX(n,e,t){const r=n.type;if(!n.render){if(!e&&VU&&!r.render){const i=r.template||kF(n).template;if(i){const{isCustomElement:o,compilerOptions:s}=n.appContext.config,{delimiters:a,compilerOptions:u}=r,l=Oi(Oi({isCustomElement:o,delimiters:a},s),u);r.render=VU(i,l)}}n.render=r.render||Sa}{const i=B1(n);Eh();try{Ove(n)}finally{Sh(),i()}}}const ome={get(n,e){return Is(n,"get",""),n[e]}};function sme(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,ome),slots:n.slots,emit:n.emit,expose:e}}function MF(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(sX(Zge(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in ky)return ky[t](n)},has(e,t){return t in e||t in ky}}))}function ame(n,e=!0){return Mt(n)?n.displayName||n.name:n.name||e&&n.__name}function ume(n){return Mt(n)&&"__vccOpts"in n}const PR=(n,e)=>Jge(n,e,dA),lme="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const cme="http://www.w3.org/2000/svg",fme="http://www.w3.org/1998/Math/MathML",wf=typeof document<"u"?document:null,WU=wf&&wf.createElement("template"),hme={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e==="svg"?wf.createElementNS(cme,n):e==="mathml"?wf.createElementNS(fme,n):wf.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>wf.createTextNode(n),createComment:n=>wf.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>wf.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,o){const s=t?t.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===o||!(i=i.nextSibling)););else{WU.innerHTML=r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n;const a=WU.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},dme=Symbol("_vtc");function pme(n,e,t){const r=n[dme];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const UU=Symbol("_vod"),gme=Symbol("_vsh"),vme=Symbol(""),mme=/(^|;)\s*display\s*:/;function _me(n,e,t){const r=n.style,i=ci(t);let o=!1;if(t&&!i){if(e)if(ci(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();t[a]==null&&pS(r,a,"")}else for(const s in e)t[s]==null&&pS(r,s,"");for(const s in t)s==="display"&&(o=!0),pS(r,s,t[s])}else if(i){if(e!==t){const s=r[vme];s&&(t+=";"+s),r.cssText=t,o=mme.test(t)}}else e&&n.removeAttribute("style");UU in n&&(n[UU]=o?r.display:"",n[gme]&&(r.display="none"))}const jU=/\s*!important$/;function pS(n,e,t){if(It(t))t.forEach(r=>pS(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=yme(n,e);jU.test(t)?n.setProperty(d_(r),t.replace(jU,""),"important"):n[r]=t}}const qU=["Webkit","Moz","ms"],HN={};function yme(n,e){const t=HN[e];if(t)return t;let r=_l(e);if(r!=="filter"&&r in n)return HN[e]=r;r=rA(r);for(let i=0;i<qU.length;i++){const o=qU[i]+r;if(o in n)return HN[e]=o}return e}const zU="http://www.w3.org/1999/xlink";function bme(n,e,t,r,i){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(zU,e.slice(6,e.length)):n.setAttributeNS(zU,e,t);else{const o=Ige(e);t==null||o&&!WY(t)?n.removeAttribute(e):n.setAttribute(e,o?"":t)}}function Cme(n,e,t,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),n[e]=t??"";return}const a=n.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?n.getAttribute("value")||"":n.value,c=t??"";(l!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let u=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=WY(t):t==null&&l==="string"?(t="",u=!0):l==="number"&&(t=0,u=!0)}try{n[e]=t}catch{}u&&n.removeAttribute(e)}function wme(n,e,t,r){n.addEventListener(e,t,r)}function Eme(n,e,t,r){n.removeEventListener(e,t,r)}const GU=Symbol("_vei");function Sme(n,e,t,r,i=null){const o=n[GU]||(n[GU]={}),s=o[e];if(r&&s)s.value=r;else{const[a,u]=Tme(e);if(r){const l=o[e]=Ime(r,i);wme(n,a,l,u)}else s&&(Eme(n,a,s,u),o[e]=void 0)}}const $U=/(?:Once|Passive|Capture)$/;function Tme(n){let e;if($U.test(n)){e={};let r;for(;r=n.match($U);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):d_(n.slice(2)),e]}let VN=0;const Dme=Promise.resolve(),Ame=()=>VN||(Dme.then(()=>VN=0),VN=Date.now());function Ime(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;vu(xme(r,t.value),e,5,[r])};return t.value=n,t.attached=Ame(),t}function xme(n,e){if(It(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const KU=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Lme=(n,e,t,r,i,o,s,a,u)=>{const l=i==="svg";e==="class"?pme(n,r,l):e==="style"?_me(n,t,r):eA(e)?_F(e)||Sme(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Nme(n,e,r,l))?Cme(n,e,r,o,s,a,u):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),bme(n,e,r,l))};function Nme(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&KU(e)&&Mt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return KU(e)&&ci(t)?!1:e in n}const Ome=Oi({patchProp:Lme},hme);let YU;function kme(){return YU||(YU=qve(Ome))}const Rme=(...n)=>{const e=kme().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=Mme(r);if(!i)return;const o=e._component;!Mt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=t(i,!1,Pme(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Pme(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Mme(n){return ci(n)?document.querySelector(n):n}const XU={};function Fme(n){let e=XU[n];if(e)return e;e=XU[n]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);e.push(r)}for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function dm(n,e){typeof e!="string"&&(e=dm.defaultChars);const t=Fme(e);return n.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let o=0,s=r.length;o<s;o+=3){const a=parseInt(r.slice(o+1,o+3),16);if(a<128){i+=t[a];continue}if((a&224)===192&&o+3<s){const u=parseInt(r.slice(o+4,o+6),16);if((u&192)===128){const l=a<<6&1984|u&63;l<128?i+="":i+=String.fromCharCode(l),o+=3;continue}}if((a&240)===224&&o+6<s){const u=parseInt(r.slice(o+4,o+6),16),l=parseInt(r.slice(o+7,o+9),16);if((u&192)===128&&(l&192)===128){const c=a<<12&61440|u<<6&4032|l&63;c<2048||c>=55296&&c<=57343?i+="":i+=String.fromCharCode(c),o+=6;continue}}if((a&248)===240&&o+9<s){const u=parseInt(r.slice(o+4,o+6),16),l=parseInt(r.slice(o+7,o+9),16),c=parseInt(r.slice(o+10,o+12),16);if((u&192)===128&&(l&192)===128&&(c&192)===128){let d=a<<18&1835008|u<<12&258048|l<<6&4032|c&63;d<65536||d>1114111?i+="":(d-=65536,i+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),o+=9;continue}}i+=""}return i})}dm.defaultChars=";/?:@&=+$,#";dm.componentChars="";const QU={};function Bme(n){let e=QU[n];if(e)return e;e=QU[n]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<n.length;t++)e[n.charCodeAt(t)]=n[t];return e}function H1(n,e,t){typeof e!="string"&&(t=e,e=H1.defaultChars),typeof t>"u"&&(t=!0);const r=Bme(e);let i="";for(let o=0,s=n.length;o<s;o++){const a=n.charCodeAt(o);if(t&&a===37&&o+2<s&&/^[0-9a-f]{2}$/i.test(n.slice(o+1,o+3))){i+=n.slice(o,o+3),o+=2;continue}if(a<128){i+=r[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s){const u=n.charCodeAt(o+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(n[o]+n[o+1]),o++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(n[o])}return i}H1.defaultChars=";/?:@&=+$,-_.!~*'()#";H1.componentChars="-_.!~*'()";function FF(n){let e="";return e+=n.protocol||"",e+=n.slashes?"//":"",e+=n.auth?n.auth+"@":"",n.hostname&&n.hostname.indexOf(":")!==-1?e+="["+n.hostname+"]":e+=n.hostname||"",e+=n.port?":"+n.port:"",e+=n.pathname||"",e+=n.search||"",e+=n.hash||"",e}function QS(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Hme=/^([a-z0-9.+-]+:)/i,Vme=/:[0-9]*$/,Wme=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ume=["<",">",'"',"`"," ","\r",`
`,"	"],jme=["{","}","|","\\","^","`"].concat(Ume),qme=["'"].concat(jme),ZU=["%","/","?",";","#"].concat(qme),JU=["/","?","#"],zme=255,e7=/^[+a-z0-9A-Z_-]{0,63}$/,Gme=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,t7={javascript:!0,"javascript:":!0},n7={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function BF(n,e){if(n&&n instanceof QS)return n;const t=new QS;return t.parse(n,e),t}QS.prototype.parse=function(n,e){let t,r,i,o=n;if(o=o.trim(),!e&&n.split("#").length===1){const l=Wme.exec(o);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let s=Hme.exec(o);if(s&&(s=s[0],t=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(e||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=o.substr(0,2)==="//",i&&!(s&&t7[s])&&(o=o.substr(2),this.slashes=!0)),!t7[s]&&(i||s&&!n7[s])){let l=-1;for(let v=0;v<JU.length;v++)r=o.indexOf(JU[v]),r!==-1&&(l===-1||r<l)&&(l=r);let c,d;l===-1?d=o.lastIndexOf("@"):d=o.lastIndexOf("@",l),d!==-1&&(c=o.slice(0,d),o=o.slice(d+1),this.auth=c),l=-1;for(let v=0;v<ZU.length;v++)r=o.indexOf(ZU[v]),r!==-1&&(l===-1||r<l)&&(l=r);l===-1&&(l=o.length),o[l-1]===":"&&l--;const h=o.slice(0,l);o=o.slice(l),this.parseHost(h),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const v=this.hostname.split(/\./);for(let m=0,_=v.length;m<_;m++){const b=v[m];if(b&&!b.match(e7)){let C="";for(let E=0,T=b.length;E<T;E++)b.charCodeAt(E)>127?C+="x":C+=b[E];if(!C.match(e7)){const E=v.slice(0,m),T=v.slice(m+1),A=b.match(Gme);A&&(E.push(A[1]),T.unshift(A[2])),T.length&&(o=T.join(".")+o),this.hostname=E.join(".");break}}}}this.hostname.length>zme&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");a!==-1&&(this.hash=o.substr(a),o=o.slice(0,a));const u=o.indexOf("?");return u!==-1&&(this.search=o.substr(u),o=o.slice(0,u)),o&&(this.pathname=o),n7[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};QS.prototype.parseHost=function(n){let e=Vme.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};const $me=Object.freeze(Object.defineProperty({__proto__:null,decode:dm,encode:H1,format:FF,parse:BF},Symbol.toStringTag,{value:"Module"})),BX=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,HX=/[\0-\x1F\x7F-\x9F]/,Kme=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,HF=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,VX=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,WX=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Yme=Object.freeze(Object.defineProperty({__proto__:null,Any:BX,Cc:HX,Cf:Kme,P:HF,S:VX,Z:WX},Symbol.toStringTag,{value:"Module"})),Xme=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0))),Qme=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)));var WN;const Zme=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Jme=(WN=String.fromCodePoint)!==null&&WN!==void 0?WN:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function e_e(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=Zme.get(n))!==null&&e!==void 0?e:n}var Ai;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(Ai||(Ai={}));const t_e=32;var kf;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(kf||(kf={}));function MR(n){return n>=Ai.ZERO&&n<=Ai.NINE}function n_e(n){return n>=Ai.UPPER_A&&n<=Ai.UPPER_F||n>=Ai.LOWER_A&&n<=Ai.LOWER_F}function r_e(n){return n>=Ai.UPPER_A&&n<=Ai.UPPER_Z||n>=Ai.LOWER_A&&n<=Ai.LOWER_Z||MR(n)}function i_e(n){return n===Ai.EQUALS||r_e(n)}var _i;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(_i||(_i={}));var Ys;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(Ys||(Ys={}));class UX{constructor(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=_i.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ys.Strict}startEntity(e){this.decodeMode=e,this.state=_i.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case _i.EntityStart:return e.charCodeAt(t)===Ai.NUM?(this.state=_i.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=_i.NamedEntity,this.stateNamedEntity(e,t));case _i.NumericStart:return this.stateNumericStart(e,t);case _i.NumericDecimal:return this.stateNumericDecimal(e,t);case _i.NumericHex:return this.stateNumericHex(e,t);case _i.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|t_e)===Ai.LOWER_X?(this.state=_i.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=_i.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,r,i){if(t!==r){const o=r-t;this.result=this.result*Math.pow(i,o)+parseInt(e.substr(t,o),i),this.consumed+=o}}stateNumericHex(e,t){const r=t;for(;t<e.length;){const i=e.charCodeAt(t);if(MR(i)||n_e(i))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,t,16),-1}stateNumericDecimal(e,t){const r=t;for(;t<e.length;){const i=e.charCodeAt(t);if(MR(i))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,t,10),-1}emitNumericEntity(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Ai.SEMI)this.consumed+=1;else if(this.decodeMode===Ys.Strict)return 0;return this.emitCodePoint(e_e(this.result),this.consumed),this.errors&&(e!==Ai.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&kf.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const s=e.charCodeAt(t);if(this.treeIndex=o_e(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===Ys.Attribute&&(o===0||i_e(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&kf.VALUE_LENGTH)>>14,o!==0){if(s===Ai.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ys.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:r}=this,i=(r[t]&kf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[e]&~kf.VALUE_LENGTH:i[e+1],r),t===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case _i.NamedEntity:return this.result!==0&&(this.decodeMode!==Ys.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _i.NumericDecimal:return this.emitNumericEntity(0,2);case _i.NumericHex:return this.emitNumericEntity(0,3);case _i.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _i.EntityStart:return 0}}}function jX(n){let e="";const t=new UX(n,r=>e+=Jme(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(s,a),t.startEntity(o);const l=t.write(i,a+1);if(l<0){s=a+t.end();break}s=a+l,a=l===0?s+1:s}const u=e+i.slice(s);return e="",u}}function o_e(n,e,t,r){const i=(e&kf.BRANCH_LENGTH)>>7,o=e&kf.JUMP_TABLE;if(i===0)return o!==0&&r===o?t:-1;if(o){const u=r-o;return u<0||u>=i?-1:n[t+u]-1}let s=t,a=s+i-1;for(;s<=a;){const u=s+a>>>1,l=n[u];if(l<r)s=u+1;else if(l>r)a=u-1;else return n[u+i]}return-1}const VF=jX(Xme),s_e=jX(Qme);function Kv(n,e=Ys.Legacy){return VF(n,e)}function a_e(n){return VF(n,Ys.Attribute)}function UN(n){return VF(n,Ys.Strict)}function FR(n){return s_e(n,Ys.Strict)}function sE(n){for(let e=1;e<n.length;e++)n[e][0]+=n[e-1][0]+1;return n}const u_e=new Map(sE([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(sE([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(sE([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(sE([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),BR=/["&'<>$\x80-\uFFFF]/g,qX=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),zX=String.prototype.codePointAt!=null?(n,e)=>n.codePointAt(e):(n,e)=>(n.charCodeAt(e)&64512)===55296?(n.charCodeAt(e)-55296)*1024+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e);function WF(n){let e="",t=0,r;for(;(r=BR.exec(n))!==null;){const i=r.index,o=n.charCodeAt(i),s=qX.get(o);s!==void 0?(e+=n.substring(t,i)+s,t=i+1):(e+=`${n.substring(t,i)}&#x${zX(n,i).toString(16)};`,t=BR.lastIndex+=+((o&64512)===55296))}return e+n.substr(t)}const l_e=WF;function UF(n,e){return function(r){let i,o=0,s="";for(;i=n.exec(r);)o!==i.index&&(s+=r.substring(o,i.index)),s+=e.get(i[0].charCodeAt(0)),o=i.index+1;return s+r.substring(o)}}const GX=UF(/[&<>'"]/g,qX),$X=UF(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),KX=UF(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),c_e=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function gS(n){return XX(c_e,n)}function YX(n){return XX(BR,n)}function XX(n,e){let t="",r=0,i;for(;(i=n.exec(e))!==null;){const o=i.index;t+=e.substring(r,o);const s=e.charCodeAt(o);let a=u_e.get(s);if(typeof a=="object"){if(o+1<e.length){const u=e.charCodeAt(o+1),l=typeof a.n=="number"?a.n===u?a.o:void 0:a.n.get(u);if(l!==void 0){t+=l,r=n.lastIndex+=1;continue}}a=a.v}if(a!==void 0)t+=a,r=o+1;else{const u=zX(e,o);t+=`&#x${u.toString(16)};`,r=n.lastIndex+=+(u!==s)}}return t+e.substr(r)}var fh;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(fh||(fh={}));var Kd;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(Kd||(Kd={}));function QX(n,e=fh.XML){if((typeof e=="number"?e:e.level)===fh.HTML){const r=typeof e=="object"?e.mode:void 0;return Kv(n,r)}return FR(n)}function f_e(n,e=fh.XML){var t;const r=typeof e=="number"?{level:e}:e;return(t=r.mode)!==null&&t!==void 0||(r.mode=Ys.Strict),QX(n,r)}function h_e(n,e=fh.XML){const t=typeof e=="number"?{level:e}:e;return t.mode===Kd.UTF8?GX(n):t.mode===Kd.Attribute?$X(n):t.mode===Kd.Text?KX(n):t.level===fh.HTML?t.mode===Kd.ASCII?YX(n):gS(n):WF(n)}const d_e=Object.freeze(Object.defineProperty({__proto__:null,get DecodingMode(){return Ys},get EncodingMode(){return Kd},EntityDecoder:UX,get EntityLevel(){return fh},decode:QX,decodeHTML:Kv,decodeHTML4:Kv,decodeHTML4Strict:UN,decodeHTML5:Kv,decodeHTML5Strict:UN,decodeHTMLAttribute:a_e,decodeHTMLStrict:UN,decodeStrict:f_e,decodeXML:FR,decodeXMLStrict:FR,encode:h_e,encodeHTML:gS,encodeHTML4:gS,encodeHTML5:gS,encodeNonAsciiHTML:YX,encodeXML:WF,escape:l_e,escapeAttribute:$X,escapeText:KX,escapeUTF8:GX},Symbol.toStringTag,{value:"Module"}));function p_e(n){return Object.prototype.toString.call(n)}function jF(n){return p_e(n)==="[object String]"}const g_e=Object.prototype.hasOwnProperty;function v_e(n,e){return g_e.call(n,e)}function pA(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(r){n[r]=t[r]})}}),n}function ZX(n,e,t){return[].concat(n.slice(0,e),t,n.slice(e+1))}function qF(n){return!(n>=55296&&n<=57343||n>=64976&&n<=65007||(n&65535)===65535||(n&65535)===65534||n>=0&&n<=8||n===11||n>=14&&n<=31||n>=127&&n<=159||n>1114111)}function ZS(n){if(n>65535){n-=65536;const e=55296+(n>>10),t=56320+(n&1023);return String.fromCharCode(e,t)}return String.fromCharCode(n)}const JX=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,m_e=/&([a-z#][a-z0-9]{1,31});/gi,__e=new RegExp(JX.source+"|"+m_e.source,"gi"),y_e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function b_e(n,e){if(e.charCodeAt(0)===35&&y_e.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return qF(r)?ZS(r):n}const t=Kv(n);return t!==n?t:n}function C_e(n){return n.indexOf("\\")<0?n:n.replace(JX,"$1")}function pm(n){return n.indexOf("\\")<0&&n.indexOf("&")<0?n:n.replace(__e,function(e,t,r){return t||b_e(e,r)})}const w_e=/[&<>"]/,E_e=/[&<>"]/g,S_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function T_e(n){return S_e[n]}function hh(n){return w_e.test(n)?n.replace(E_e,T_e):n}const D_e=/[.?*+^$[\]\\(){}|-]/g;function A_e(n){return n.replace(D_e,"\\$&")}function Yn(n){switch(n){case 9:case 32:return!0}return!1}function Eb(n){if(n>=8192&&n<=8202)return!0;switch(n){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Sb(n){return HF.test(n)||VX.test(n)}function Tb(n){switch(n){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function gA(n){return n=n.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(n=n.replace(//g,"")),n.toLowerCase().toUpperCase()}const I_e={mdurl:$me,ucmicro:Yme},x_e=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:ZX,assign:pA,escapeHtml:hh,escapeRE:A_e,fromCodePoint:ZS,has:v_e,isMdAsciiPunct:Tb,isPunctChar:Sb,isSpace:Yn,isString:jF,isValidEntityCode:qF,isWhiteSpace:Eb,lib:I_e,normalizeReference:gA,unescapeAll:pm,unescapeMd:C_e},Symbol.toStringTag,{value:"Module"}));function L_e(n,e,t){let r,i,o,s;const a=n.posMax,u=n.pos;for(n.pos=e+1,r=1;n.pos<a;){if(o=n.src.charCodeAt(n.pos),o===93&&(r--,r===0)){i=!0;break}if(s=n.pos,n.md.inline.skipToken(n),o===91){if(s===n.pos-1)r++;else if(t)return n.pos=u,-1}}let l=-1;return i&&(l=n.pos),n.pos=u,l}function N_e(n,e,t){let r,i=e;const o={ok:!1,pos:0,str:""};if(n.charCodeAt(i)===60){for(i++;i<t;){if(r=n.charCodeAt(i),r===10||r===60)return o;if(r===62)return o.pos=i+1,o.str=pm(n.slice(e+1,i)),o.ok=!0,o;if(r===92&&i+1<t){i+=2;continue}i++}return o}let s=0;for(;i<t&&(r=n.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<t){if(n.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(s++,s>32))return o;if(r===41){if(s===0)break;s--}i++}return e===i||s!==0||(o.str=pm(n.slice(e,i)),o.pos=i,o.ok=!0),o}function O_e(n,e,t,r){let i,o=e;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(o>=t)return s;let a=n.charCodeAt(o);if(a!==34&&a!==39&&a!==40)return s;e++,o++,a===40&&(a=41),s.marker=a}for(;o<t;){if(i=n.charCodeAt(o),i===s.marker)return s.pos=o+1,s.str+=pm(n.slice(e,o)),s.ok=!0,s;if(i===40&&s.marker===41)return s;i===92&&o+1<t&&o++,o++}return s.can_continue=!0,s.str+=pm(n.slice(e,o)),s}const k_e=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:N_e,parseLinkLabel:L_e,parseLinkTitle:O_e},Symbol.toStringTag,{value:"Module"})),Nl={};Nl.code_inline=function(n,e,t,r,i){const o=n[e];return"<code"+i.renderAttrs(o)+">"+hh(o.content)+"</code>"};Nl.code_block=function(n,e,t,r,i){const o=n[e];return"<pre"+i.renderAttrs(o)+"><code>"+hh(n[e].content)+`</code></pre>
`};Nl.fence=function(n,e,t,r,i){const o=n[e],s=o.info?pm(o.info).trim():"";let a="",u="";if(s){const c=s.split(/(\s+)/g);a=c[0],u=c.slice(2).join("")}let l;if(t.highlight?l=t.highlight(o.content,a,u)||hh(o.content):l=hh(o.content),l.indexOf("<pre")===0)return l+`
`;if(s){const c=o.attrIndex("class"),d=o.attrs?o.attrs.slice():[];c<0?d.push(["class",t.langPrefix+a]):(d[c]=d[c].slice(),d[c][1]+=" "+t.langPrefix+a);const h={attrs:d};return`<pre><code${i.renderAttrs(h)}>${l}</code></pre>
`}return`<pre><code${i.renderAttrs(o)}>${l}</code></pre>
`};Nl.image=function(n,e,t,r,i){const o=n[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,t,r),i.renderToken(n,e,t)};Nl.hardbreak=function(n,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Nl.softbreak=function(n,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Nl.text=function(n,e){return hh(n[e].content)};Nl.html_block=function(n,e){return n[e].content};Nl.html_inline=function(n,e){return n[e].content};function p_(){this.rules=pA({},Nl)}p_.prototype.renderAttrs=function(e){let t,r,i;if(!e.attrs)return"";for(i="",t=0,r=e.attrs.length;t<r;t++)i+=" "+hh(e.attrs[t][0])+'="'+hh(e.attrs[t][1])+'"';return i};p_.prototype.renderToken=function(e,t,r){const i=e[t];let o="";if(i.hidden)return"";i.block&&i.nesting!==-1&&t&&e[t-1].hidden&&(o+=`
`),o+=(i.nesting===-1?"</":"<")+i.tag,o+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(o+=" /");let s=!1;if(i.block&&(s=!0,i.nesting===1&&t+1<e.length)){const a=e[t+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===i.tag)&&(s=!1)}return o+=s?`>
`:">",o};p_.prototype.renderInline=function(n,e,t){let r="";const i=this.rules;for(let o=0,s=n.length;o<s;o++){const a=n[o].type;typeof i[a]<"u"?r+=i[a](n,o,e,t,this):r+=this.renderToken(n,o,e)}return r};p_.prototype.renderInlineAsText=function(n,e,t){let r="";for(let i=0,o=n.length;i<o;i++)switch(n[i].type){case"text":r+=n[i].content;break;case"image":r+=this.renderInlineAsText(n[i].children,e,t);break;case"html_inline":case"html_block":r+=n[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};p_.prototype.render=function(n,e,t){let r="";const i=this.rules;for(let o=0,s=n.length;o<s;o++){const a=n[o].type;a==="inline"?r+=this.renderInline(n[o].children,e,t):typeof i[a]<"u"?r+=i[a](n,o,e,t,this):r+=this.renderToken(n,o,e,t)}return r};function Ls(){this.__rules__=[],this.__cache__=null}Ls.prototype.__find__=function(n){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===n)return e;return-1};Ls.prototype.__compile__=function(){const n=this,e=[""];n.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),n.__cache__={},e.forEach(function(t){n.__cache__[t]=[],n.__rules__.forEach(function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||n.__cache__[t].push(r.fn))})})};Ls.prototype.at=function(n,e,t){const r=this.__find__(n),i=t||{};if(r===-1)throw new Error("Parser rule not found: "+n);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Ls.prototype.before=function(n,e,t,r){const i=this.__find__(n),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Ls.prototype.after=function(n,e,t,r){const i=this.__find__(n),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Ls.prototype.push=function(n,e,t){const r=t||{};this.__rules__.push({name:n,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Ls.prototype.enable=function(n,e){Array.isArray(n)||(n=[n]);const t=[];return n.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,t.push(r)},this),this.__cache__=null,t};Ls.prototype.enableOnly=function(n,e){Array.isArray(n)||(n=[n]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(n,e)};Ls.prototype.disable=function(n,e){Array.isArray(n)||(n=[n]);const t=[];return n.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,t.push(r)},this),this.__cache__=null,t};Ls.prototype.getRules=function(n){return this.__cache__===null&&this.__compile__(),this.__cache__[n]||[]};function Iu(n,e,t){this.type=n,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Iu.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let r=0,i=t.length;r<i;r++)if(t[r][0]===e)return r;return-1};Iu.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Iu.prototype.attrSet=function(e,t){const r=this.attrIndex(e),i=[e,t];r<0?this.attrPush(i):this.attrs[r]=i};Iu.prototype.attrGet=function(e){const t=this.attrIndex(e);let r=null;return t>=0&&(r=this.attrs[t][1]),r};Iu.prototype.attrJoin=function(e,t){const r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t};function eQ(n,e,t){this.src=n,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}eQ.prototype.Token=Iu;const R_e=/\r\n?|\n/g,P_e=/\0/g;function M_e(n){let e;e=n.src.replace(R_e,`
`),e=e.replace(P_e,""),n.src=e}function F_e(n){let e;n.inlineMode?(e=new n.Token("inline","",0),e.content=n.src,e.map=[0,1],e.children=[],n.tokens.push(e)):n.md.block.parse(n.src,n.md,n.env,n.tokens)}function B_e(n){const e=n.tokens;for(let t=0,r=e.length;t<r;t++){const i=e[t];i.type==="inline"&&n.md.inline.parse(i.content,n.md,n.env,i.children)}}function H_e(n){return/^<a[>\s]/i.test(n)}function V_e(n){return/^<\/a\s*>/i.test(n)}function W_e(n){const e=n.tokens;if(n.md.options.linkify)for(let t=0,r=e.length;t<r;t++){if(e[t].type!=="inline"||!n.md.linkify.pretest(e[t].content))continue;let i=e[t].children,o=0;for(let s=i.length-1;s>=0;s--){const a=i[s];if(a.type==="link_close"){for(s--;i[s].level!==a.level&&i[s].type!=="link_open";)s--;continue}if(a.type==="html_inline"&&(H_e(a.content)&&o>0&&o--,V_e(a.content)&&o++),!(o>0)&&a.type==="text"&&n.md.linkify.test(a.content)){const u=a.content;let l=n.md.linkify.match(u);const c=[];let d=a.level,h=0;l.length>0&&l[0].index===0&&s>0&&i[s-1].type==="text_special"&&(l=l.slice(1));for(let p=0;p<l.length;p++){const v=l[p].url,m=n.md.normalizeLink(v);if(!n.md.validateLink(m))continue;let _=l[p].text;l[p].schema?l[p].schema==="mailto:"&&!/^mailto:/i.test(_)?_=n.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=n.md.normalizeLinkText(_):_=n.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const b=l[p].index;if(b>h){const A=new n.Token("text","",0);A.content=u.slice(h,b),A.level=d,c.push(A)}const C=new n.Token("link_open","a",1);C.attrs=[["href",m]],C.level=d++,C.markup="linkify",C.info="auto",c.push(C);const E=new n.Token("text","",0);E.content=_,E.level=d,c.push(E);const T=new n.Token("link_close","a",-1);T.level=--d,T.markup="linkify",T.info="auto",c.push(T),h=l[p].lastIndex}if(h<u.length){const p=new n.Token("text","",0);p.content=u.slice(h),p.level=d,c.push(p)}e[t].children=i=ZX(i,s,c)}}}}const tQ=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,U_e=/\((c|tm|r)\)/i,j_e=/\((c|tm|r)\)/ig,q_e={c:"",r:"",tm:""};function z_e(n,e){return q_e[e.toLowerCase()]}function G_e(n){let e=0;for(let t=n.length-1;t>=0;t--){const r=n[t];r.type==="text"&&!e&&(r.content=r.content.replace(j_e,z_e)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function $_e(n){let e=0;for(let t=n.length-1;t>=0;t--){const r=n[t];r.type==="text"&&!e&&tQ.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function K_e(n){let e;if(n.md.options.typographer)for(e=n.tokens.length-1;e>=0;e--)n.tokens[e].type==="inline"&&(U_e.test(n.tokens[e].content)&&G_e(n.tokens[e].children),tQ.test(n.tokens[e].content)&&$_e(n.tokens[e].children))}const Y_e=/['"]/,r7=/['"]/g,i7="";function aE(n,e,t){return n.slice(0,e)+t+n.slice(e+1)}function X_e(n,e){let t;const r=[];for(let i=0;i<n.length;i++){const o=n[i],s=n[i].level;for(t=r.length-1;t>=0&&!(r[t].level<=s);t--);if(r.length=t+1,o.type!=="text")continue;let a=o.content,u=0,l=a.length;e:for(;u<l;){r7.lastIndex=u;const c=r7.exec(a);if(!c)break;let d=!0,h=!0;u=c.index+1;const p=c[0]==="'";let v=32;if(c.index-1>=0)v=a.charCodeAt(c.index-1);else for(t=i-1;t>=0&&!(n[t].type==="softbreak"||n[t].type==="hardbreak");t--)if(n[t].content){v=n[t].content.charCodeAt(n[t].content.length-1);break}let m=32;if(u<l)m=a.charCodeAt(u);else for(t=i+1;t<n.length&&!(n[t].type==="softbreak"||n[t].type==="hardbreak");t++)if(n[t].content){m=n[t].content.charCodeAt(0);break}const _=Tb(v)||Sb(String.fromCharCode(v)),b=Tb(m)||Sb(String.fromCharCode(m)),C=Eb(v),E=Eb(m);if(E?d=!1:b&&(C||_||(d=!1)),C?h=!1:_&&(E||b||(h=!1)),m===34&&c[0]==='"'&&v>=48&&v<=57&&(h=d=!1),d&&h&&(d=_,h=b),!d&&!h){p&&(o.content=aE(o.content,c.index,i7));continue}if(h)for(t=r.length-1;t>=0;t--){let T=r[t];if(r[t].level<s)break;if(T.single===p&&r[t].level===s){T=r[t];let A,S;p?(A=e.md.options.quotes[2],S=e.md.options.quotes[3]):(A=e.md.options.quotes[0],S=e.md.options.quotes[1]),o.content=aE(o.content,c.index,S),n[T.token].content=aE(n[T.token].content,T.pos,A),u+=S.length-1,T.token===i&&(u+=A.length-1),a=o.content,l=a.length,r.length=t;continue e}}d?r.push({token:i,pos:c.index,single:p,level:s}):h&&p&&(o.content=aE(o.content,c.index,i7))}}}function Q_e(n){if(n.md.options.typographer)for(let e=n.tokens.length-1;e>=0;e--)n.tokens[e].type!=="inline"||!Y_e.test(n.tokens[e].content)||X_e(n.tokens[e].children,n)}function Z_e(n){let e,t;const r=n.tokens,i=r.length;for(let o=0;o<i;o++){if(r[o].type!=="inline")continue;const s=r[o].children,a=s.length;for(e=0;e<a;e++)s[e].type==="text_special"&&(s[e].type="text");for(e=t=0;e<a;e++)s[e].type==="text"&&e+1<a&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==t&&(s[t]=s[e]),t++);e!==t&&(s.length=t)}}const jN=[["normalize",M_e],["block",F_e],["inline",B_e],["linkify",W_e],["replacements",K_e],["smartquotes",Q_e],["text_join",Z_e]];function zF(){this.ruler=new Ls;for(let n=0;n<jN.length;n++)this.ruler.push(jN[n][0],jN[n][1])}zF.prototype.process=function(n){const e=this.ruler.getRules("");for(let t=0,r=e.length;t<r;t++)e[t](n)};zF.prototype.State=eQ;function Ol(n,e,t,r){this.src=n,this.md=e,this.env=t,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,s=0,a=0,u=0,l=i.length,c=!1;s<l;s++){const d=i.charCodeAt(s);if(!c)if(Yn(d)){a++,d===9?u+=4-u%4:u++;continue}else c=!0;(d===10||s===l-1)&&(d!==10&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(u),this.bsCount.push(0),c=!1,a=0,u=0,o=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ol.prototype.push=function(n,e,t){const r=new Iu(n,e,t);return r.block=!0,t<0&&this.level--,r.level=this.level,t>0&&this.level++,this.tokens.push(r),r};Ol.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Ol.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Ol.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){const r=this.src.charCodeAt(e);if(!Yn(r))break}return e};Ol.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Yn(this.src.charCodeAt(--e)))return e+1;return e};Ol.prototype.skipChars=function(e,t){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e};Ol.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e};Ol.prototype.getLines=function(e,t,r,i){if(e>=t)return"";const o=new Array(t-e);for(let s=0,a=e;a<t;a++,s++){let u=0;const l=this.bMarks[a];let c=l,d;for(a+1<t||i?d=this.eMarks[a]+1:d=this.eMarks[a];c<d&&u<r;){const h=this.src.charCodeAt(c);if(Yn(h))h===9?u+=4-(u+this.bsCount[a])%4:u++;else if(c-l<this.tShift[a])u++;else break;c++}u>r?o[s]=new Array(u-r+1).join(" ")+this.src.slice(c,d):o[s]=this.src.slice(c,d)}return o.join("")};Ol.prototype.Token=Iu;const J_e=65536;function qN(n,e){const t=n.bMarks[e]+n.tShift[e],r=n.eMarks[e];return n.src.slice(t,r)}function o7(n){const e=[],t=n.length;let r=0,i=n.charCodeAt(r),o=!1,s=0,a="";for(;r<t;)i===124&&(o?(a+=n.substring(s,r-1),s=r):(e.push(a+n.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=n.charCodeAt(r);return e.push(a+n.substring(s)),e}function e0e(n,e,t,r){if(e+2>t)return!1;let i=e+1;if(n.sCount[i]<n.blkIndent||n.sCount[i]-n.blkIndent>=4)return!1;let o=n.bMarks[i]+n.tShift[i];if(o>=n.eMarks[i])return!1;const s=n.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58||o>=n.eMarks[i])return!1;const a=n.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58&&!Yn(a)||s===45&&Yn(a))return!1;for(;o<n.eMarks[i];){const T=n.src.charCodeAt(o);if(T!==124&&T!==45&&T!==58&&!Yn(T))return!1;o++}let u=qN(n,e+1),l=u.split("|");const c=[];for(let T=0;T<l.length;T++){const A=l[T].trim();if(!A){if(T===0||T===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(A))return!1;A.charCodeAt(A.length-1)===58?c.push(A.charCodeAt(0)===58?"center":"right"):A.charCodeAt(0)===58?c.push("left"):c.push("")}if(u=qN(n,e).trim(),u.indexOf("|")===-1||n.sCount[e]-n.blkIndent>=4)return!1;l=o7(u),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const d=l.length;if(d===0||d!==c.length)return!1;if(r)return!0;const h=n.parentType;n.parentType="table";const p=n.md.block.ruler.getRules("blockquote"),v=n.push("table_open","table",1),m=[e,0];v.map=m;const _=n.push("thead_open","thead",1);_.map=[e,e+1];const b=n.push("tr_open","tr",1);b.map=[e,e+1];for(let T=0;T<l.length;T++){const A=n.push("th_open","th",1);c[T]&&(A.attrs=[["style","text-align:"+c[T]]]);const S=n.push("inline","",0);S.content=l[T].trim(),S.children=[],n.push("th_close","th",-1)}n.push("tr_close","tr",-1),n.push("thead_close","thead",-1);let C,E=0;for(i=e+2;i<t&&!(n.sCount[i]<n.blkIndent);i++){let T=!1;for(let S=0,N=p.length;S<N;S++)if(p[S](n,i,t,!0)){T=!0;break}if(T||(u=qN(n,i).trim(),!u)||n.sCount[i]-n.blkIndent>=4||(l=o7(u),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),E+=d-l.length,E>J_e))break;if(i===e+2){const S=n.push("tbody_open","tbody",1);S.map=C=[e+2,0]}const A=n.push("tr_open","tr",1);A.map=[i,i+1];for(let S=0;S<d;S++){const N=n.push("td_open","td",1);c[S]&&(N.attrs=[["style","text-align:"+c[S]]]);const k=n.push("inline","",0);k.content=l[S]?l[S].trim():"",k.children=[],n.push("td_close","td",-1)}n.push("tr_close","tr",-1)}return C&&(n.push("tbody_close","tbody",-1),C[1]=i),n.push("table_close","table",-1),m[1]=i,n.parentType=h,n.line=i,!0}function t0e(n,e,t){if(n.sCount[e]-n.blkIndent<4)return!1;let r=e+1,i=r;for(;r<t;){if(n.isEmpty(r)){r++;continue}if(n.sCount[r]-n.blkIndent>=4){r++,i=r;continue}break}n.line=i;const o=n.push("code_block","code",0);return o.content=n.getLines(e,i,4+n.blkIndent,!1)+`
`,o.map=[e,n.line],!0}function n0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||i+3>o)return!1;const s=n.src.charCodeAt(i);if(s!==126&&s!==96)return!1;let a=i;i=n.skipChars(i,s);let u=i-a;if(u<3)return!1;const l=n.src.slice(a,i),c=n.src.slice(i,o);if(s===96&&c.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let d=e,h=!1;for(;d++,!(d>=t||(i=a=n.bMarks[d]+n.tShift[d],o=n.eMarks[d],i<o&&n.sCount[d]<n.blkIndent));)if(n.src.charCodeAt(i)===s&&!(n.sCount[d]-n.blkIndent>=4)&&(i=n.skipChars(i,s),!(i-a<u)&&(i=n.skipSpaces(i),!(i<o)))){h=!0;break}u=n.sCount[e],n.line=d+(h?1:0);const p=n.push("fence","code",0);return p.info=c,p.content=n.getLines(e+1,d,u,!0),p.markup=l,p.map=[e,n.line],!0}function r0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];const s=n.lineMax;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(i)!==62)return!1;if(r)return!0;const a=[],u=[],l=[],c=[],d=n.md.block.ruler.getRules("blockquote"),h=n.parentType;n.parentType="blockquote";let p=!1,v;for(v=e;v<t;v++){const E=n.sCount[v]<n.blkIndent;if(i=n.bMarks[v]+n.tShift[v],o=n.eMarks[v],i>=o)break;if(n.src.charCodeAt(i++)===62&&!E){let A=n.sCount[v]+1,S,N;n.src.charCodeAt(i)===32?(i++,A++,N=!1,S=!0):n.src.charCodeAt(i)===9?(S=!0,(n.bsCount[v]+A)%4===3?(i++,A++,N=!1):N=!0):S=!1;let k=A;for(a.push(n.bMarks[v]),n.bMarks[v]=i;i<o;){const F=n.src.charCodeAt(i);if(Yn(F))F===9?k+=4-(k+n.bsCount[v]+(N?1:0))%4:k++;else break;i++}p=i>=o,u.push(n.bsCount[v]),n.bsCount[v]=n.sCount[v]+1+(S?1:0),l.push(n.sCount[v]),n.sCount[v]=k-A,c.push(n.tShift[v]),n.tShift[v]=i-n.bMarks[v];continue}if(p)break;let T=!1;for(let A=0,S=d.length;A<S;A++)if(d[A](n,v,t,!0)){T=!0;break}if(T){n.lineMax=v,n.blkIndent!==0&&(a.push(n.bMarks[v]),u.push(n.bsCount[v]),c.push(n.tShift[v]),l.push(n.sCount[v]),n.sCount[v]-=n.blkIndent);break}a.push(n.bMarks[v]),u.push(n.bsCount[v]),c.push(n.tShift[v]),l.push(n.sCount[v]),n.sCount[v]=-1}const m=n.blkIndent;n.blkIndent=0;const _=n.push("blockquote_open","blockquote",1);_.markup=">";const b=[e,0];_.map=b,n.md.block.tokenize(n,e,v);const C=n.push("blockquote_close","blockquote",-1);C.markup=">",n.lineMax=s,n.parentType=h,b[1]=n.line;for(let E=0;E<c.length;E++)n.bMarks[E+e]=a[E],n.tShift[E+e]=c[E],n.sCount[E+e]=l[E],n.bsCount[E+e]=u[E];return n.blkIndent=m,!0}function i0e(n,e,t,r){const i=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let o=n.bMarks[e]+n.tShift[e];const s=n.src.charCodeAt(o++);if(s!==42&&s!==45&&s!==95)return!1;let a=1;for(;o<i;){const l=n.src.charCodeAt(o++);if(l!==s&&!Yn(l))return!1;l===s&&a++}if(a<3)return!1;if(r)return!0;n.line=e+1;const u=n.push("hr","hr",0);return u.map=[e,n.line],u.markup=Array(a+1).join(String.fromCharCode(s)),!0}function s7(n,e){const t=n.eMarks[e];let r=n.bMarks[e]+n.tShift[e];const i=n.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<t){const o=n.src.charCodeAt(r);if(!Yn(o))return-1}return r}function a7(n,e){const t=n.bMarks[e]+n.tShift[e],r=n.eMarks[e];let i=t;if(i+1>=r)return-1;let o=n.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=n.src.charCodeAt(i++),o>=48&&o<=57){if(i-t>=10)return-1;continue}if(o===41||o===46)break;return-1}return i<r&&(o=n.src.charCodeAt(i),!Yn(o))?-1:i}function o0e(n,e){const t=n.level+2;for(let r=e+2,i=n.tokens.length-2;r<i;r++)n.tokens[r].level===t&&n.tokens[r].type==="paragraph_open"&&(n.tokens[r+2].hidden=!0,n.tokens[r].hidden=!0,r+=2)}function s0e(n,e,t,r){let i,o,s,a,u=e,l=!0;if(n.sCount[u]-n.blkIndent>=4||n.listIndent>=0&&n.sCount[u]-n.listIndent>=4&&n.sCount[u]<n.blkIndent)return!1;let c=!1;r&&n.parentType==="paragraph"&&n.sCount[u]>=n.blkIndent&&(c=!0);let d,h,p;if((p=a7(n,u))>=0){if(d=!0,s=n.bMarks[u]+n.tShift[u],h=Number(n.src.slice(s,p-1)),c&&h!==1)return!1}else if((p=s7(n,u))>=0)d=!1;else return!1;if(c&&n.skipSpaces(p)>=n.eMarks[u])return!1;if(r)return!0;const v=n.src.charCodeAt(p-1),m=n.tokens.length;d?(a=n.push("ordered_list_open","ol",1),h!==1&&(a.attrs=[["start",h]])):a=n.push("bullet_list_open","ul",1);const _=[u,0];a.map=_,a.markup=String.fromCharCode(v);let b=!1;const C=n.md.block.ruler.getRules("list"),E=n.parentType;for(n.parentType="list";u<t;){o=p,i=n.eMarks[u];const T=n.sCount[u]+p-(n.bMarks[u]+n.tShift[u]);let A=T;for(;o<i;){const $=n.src.charCodeAt(o);if($===9)A+=4-(A+n.bsCount[u])%4;else if($===32)A++;else break;o++}const S=o;let N;S>=i?N=1:N=A-T,N>4&&(N=1);const k=T+N;a=n.push("list_item_open","li",1),a.markup=String.fromCharCode(v);const F=[u,0];a.map=F,d&&(a.info=n.src.slice(s,p-1));const L=n.tight,O=n.tShift[u],P=n.sCount[u],B=n.listIndent;if(n.listIndent=n.blkIndent,n.blkIndent=k,n.tight=!0,n.tShift[u]=S-n.bMarks[u],n.sCount[u]=A,S>=i&&n.isEmpty(u+1)?n.line=Math.min(n.line+2,t):n.md.block.tokenize(n,u,t,!0),(!n.tight||b)&&(l=!1),b=n.line-u>1&&n.isEmpty(n.line-1),n.blkIndent=n.listIndent,n.listIndent=B,n.tShift[u]=O,n.sCount[u]=P,n.tight=L,a=n.push("list_item_close","li",-1),a.markup=String.fromCharCode(v),u=n.line,F[1]=u,u>=t||n.sCount[u]<n.blkIndent||n.sCount[u]-n.blkIndent>=4)break;let U=!1;for(let $=0,ee=C.length;$<ee;$++)if(C[$](n,u,t,!0)){U=!0;break}if(U)break;if(d){if(p=a7(n,u),p<0)break;s=n.bMarks[u]+n.tShift[u]}else if(p=s7(n,u),p<0)break;if(v!==n.src.charCodeAt(p-1))break}return d?a=n.push("ordered_list_close","ol",-1):a=n.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(v),_[1]=u,n.line=u,n.parentType=E,l&&o0e(n,m),!0}function a0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e],s=e+1;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(i)!==91)return!1;function a(C){const E=n.lineMax;if(C>=E||n.isEmpty(C))return null;let T=!1;if(n.sCount[C]-n.blkIndent>3&&(T=!0),n.sCount[C]<0&&(T=!0),!T){const N=n.md.block.ruler.getRules("reference"),k=n.parentType;n.parentType="reference";let F=!1;for(let L=0,O=N.length;L<O;L++)if(N[L](n,C,E,!0)){F=!0;break}if(n.parentType=k,F)return null}const A=n.bMarks[C]+n.tShift[C],S=n.eMarks[C];return n.src.slice(A,S+1)}let u=n.src.slice(i,o+1);o=u.length;let l=-1;for(i=1;i<o;i++){const C=u.charCodeAt(i);if(C===91)return!1;if(C===93){l=i;break}else if(C===10){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}else if(C===92&&(i++,i<o&&u.charCodeAt(i)===10)){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}}if(l<0||u.charCodeAt(l+1)!==58)return!1;for(i=l+2;i<o;i++){const C=u.charCodeAt(i);if(C===10){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}else if(!Yn(C))break}const c=n.md.helpers.parseLinkDestination(u,i,o);if(!c.ok)return!1;const d=n.md.normalizeLink(c.str);if(!n.md.validateLink(d))return!1;i=c.pos;const h=i,p=s,v=i;for(;i<o;i++){const C=u.charCodeAt(i);if(C===10){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}else if(!Yn(C))break}let m=n.md.helpers.parseLinkTitle(u,i,o);for(;m.can_continue;){const C=a(s);if(C===null)break;u+=C,i=o,o=u.length,s++,m=n.md.helpers.parseLinkTitle(u,i,o,m)}let _;for(i<o&&v!==i&&m.ok?(_=m.str,i=m.pos):(_="",i=h,s=p);i<o;){const C=u.charCodeAt(i);if(!Yn(C))break;i++}if(i<o&&u.charCodeAt(i)!==10&&_)for(_="",i=h,s=p;i<o;){const C=u.charCodeAt(i);if(!Yn(C))break;i++}if(i<o&&u.charCodeAt(i)!==10)return!1;const b=gA(u.slice(1,l));return b?(r||(typeof n.env.references>"u"&&(n.env.references={}),typeof n.env.references[b]>"u"&&(n.env.references[b]={title:_,href:d}),n.line=s),!0):!1}const u0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],l0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",c0e="[^\"'=<>`\\x00-\\x20]+",f0e="'[^']*'",h0e='"[^"]*"',d0e="(?:"+c0e+"|"+f0e+"|"+h0e+")",p0e="(?:\\s+"+l0e+"(?:\\s*=\\s*"+d0e+")?)",nQ="<[A-Za-z][A-Za-z0-9\\-]*"+p0e+"*\\s*\\/?>",rQ="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",g0e="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",v0e="<[?][\\s\\S]*?[?]>",m0e="<![A-Za-z][^>]*>",_0e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",y0e=new RegExp("^(?:"+nQ+"|"+rQ+"|"+g0e+"|"+v0e+"|"+m0e+"|"+_0e+")"),b0e=new RegExp("^(?:"+nQ+"|"+rQ+")"),Yg=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+u0e.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(b0e.source+"\\s*$"),/^$/,!1]];function C0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||!n.md.options.html||n.src.charCodeAt(i)!==60)return!1;let s=n.src.slice(i,o),a=0;for(;a<Yg.length&&!Yg[a][0].test(s);a++);if(a===Yg.length)return!1;if(r)return Yg[a][2];let u=e+1;if(!Yg[a][1].test(s)){for(;u<t&&!(n.sCount[u]<n.blkIndent);u++)if(i=n.bMarks[u]+n.tShift[u],o=n.eMarks[u],s=n.src.slice(i,o),Yg[a][1].test(s)){s.length!==0&&u++;break}}n.line=u;const l=n.push("html_block","",0);return l.map=[e,u],l.content=n.getLines(e,u,n.blkIndent,!0),!0}function w0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let s=n.src.charCodeAt(i);if(s!==35||i>=o)return!1;let a=1;for(s=n.src.charCodeAt(++i);s===35&&i<o&&a<=6;)a++,s=n.src.charCodeAt(++i);if(a>6||i<o&&!Yn(s))return!1;if(r)return!0;o=n.skipSpacesBack(o,i);const u=n.skipCharsBack(o,35,i);u>i&&Yn(n.src.charCodeAt(u-1))&&(o=u),n.line=e+1;const l=n.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[e,n.line];const c=n.push("inline","",0);c.content=n.src.slice(i,o).trim(),c.map=[e,n.line],c.children=[];const d=n.push("heading_close","h"+String(a),-1);return d.markup="########".slice(0,a),!0}function E0e(n,e,t){const r=n.md.block.ruler.getRules("paragraph");if(n.sCount[e]-n.blkIndent>=4)return!1;const i=n.parentType;n.parentType="paragraph";let o=0,s,a=e+1;for(;a<t&&!n.isEmpty(a);a++){if(n.sCount[a]-n.blkIndent>3)continue;if(n.sCount[a]>=n.blkIndent){let p=n.bMarks[a]+n.tShift[a];const v=n.eMarks[a];if(p<v&&(s=n.src.charCodeAt(p),(s===45||s===61)&&(p=n.skipChars(p,s),p=n.skipSpaces(p),p>=v))){o=s===61?1:2;break}}if(n.sCount[a]<0)continue;let h=!1;for(let p=0,v=r.length;p<v;p++)if(r[p](n,a,t,!0)){h=!0;break}if(h)break}if(!o)return!1;const u=n.getLines(e,a,n.blkIndent,!1).trim();n.line=a+1;const l=n.push("heading_open","h"+String(o),1);l.markup=String.fromCharCode(s),l.map=[e,n.line];const c=n.push("inline","",0);c.content=u,c.map=[e,n.line-1],c.children=[];const d=n.push("heading_close","h"+String(o),-1);return d.markup=String.fromCharCode(s),n.parentType=i,!0}function S0e(n,e,t){const r=n.md.block.ruler.getRules("paragraph"),i=n.parentType;let o=e+1;for(n.parentType="paragraph";o<t&&!n.isEmpty(o);o++){if(n.sCount[o]-n.blkIndent>3||n.sCount[o]<0)continue;let l=!1;for(let c=0,d=r.length;c<d;c++)if(r[c](n,o,t,!0)){l=!0;break}if(l)break}const s=n.getLines(e,o,n.blkIndent,!1).trim();n.line=o;const a=n.push("paragraph_open","p",1);a.map=[e,n.line];const u=n.push("inline","",0);return u.content=s,u.map=[e,n.line],u.children=[],n.push("paragraph_close","p",-1),n.parentType=i,!0}const uE=[["table",e0e,["paragraph","reference"]],["code",t0e],["fence",n0e,["paragraph","reference","blockquote","list"]],["blockquote",r0e,["paragraph","reference","blockquote","list"]],["hr",i0e,["paragraph","reference","blockquote","list"]],["list",s0e,["paragraph","reference","blockquote"]],["reference",a0e],["html_block",C0e,["paragraph","reference","blockquote"]],["heading",w0e,["paragraph","reference","blockquote"]],["lheading",E0e],["paragraph",S0e]];function vA(){this.ruler=new Ls;for(let n=0;n<uE.length;n++)this.ruler.push(uE[n][0],uE[n][1],{alt:(uE[n][2]||[]).slice()})}vA.prototype.tokenize=function(n,e,t){const r=this.ruler.getRules(""),i=r.length,o=n.md.options.maxNesting;let s=e,a=!1;for(;s<t&&(n.line=s=n.skipEmptyLines(s),!(s>=t||n.sCount[s]<n.blkIndent));){if(n.level>=o){n.line=t;break}const u=n.line;let l=!1;for(let c=0;c<i;c++)if(l=r[c](n,s,t,!1),l){if(u>=n.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");n.tight=!a,n.isEmpty(n.line-1)&&(a=!0),s=n.line,s<t&&n.isEmpty(s)&&(a=!0,s++,n.line=s)}};vA.prototype.parse=function(n,e,t,r){if(!n)return;const i=new this.State(n,e,t,r);this.tokenize(i,i.line,i.lineMax)};vA.prototype.State=Ol;function V1(n,e,t,r){this.src=n,this.env=t,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}V1.prototype.pushPending=function(){const n=new Iu("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n};V1.prototype.push=function(n,e,t){this.pending&&this.pushPending();const r=new Iu(n,e,t);let i=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};V1.prototype.scanDelims=function(n,e){const t=this.posMax,r=this.src.charCodeAt(n),i=n>0?this.src.charCodeAt(n-1):32;let o=n;for(;o<t&&this.src.charCodeAt(o)===r;)o++;const s=o-n,a=o<t?this.src.charCodeAt(o):32,u=Tb(i)||Sb(String.fromCharCode(i)),l=Tb(a)||Sb(String.fromCharCode(a)),c=Eb(i),d=Eb(a),h=!d&&(!l||c||u),p=!c&&(!u||d||l);return{can_open:h&&(e||!p||u),can_close:p&&(e||!h||l),length:s}};V1.prototype.Token=Iu;function T0e(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function D0e(n,e){let t=n.pos;for(;t<n.posMax&&!T0e(n.src.charCodeAt(t));)t++;return t===n.pos?!1:(e||(n.pending+=n.src.slice(n.pos,t)),n.pos=t,!0)}const A0e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function I0e(n,e){if(!n.md.options.linkify||n.linkLevel>0)return!1;const t=n.pos,r=n.posMax;if(t+3>r||n.src.charCodeAt(t)!==58||n.src.charCodeAt(t+1)!==47||n.src.charCodeAt(t+2)!==47)return!1;const i=n.pending.match(A0e);if(!i)return!1;const o=i[1],s=n.md.linkify.matchAtStart(n.src.slice(t-o.length));if(!s)return!1;let a=s.url;if(a.length<=o.length)return!1;a=a.replace(/\*+$/,"");const u=n.md.normalizeLink(a);if(!n.md.validateLink(u))return!1;if(!e){n.pending=n.pending.slice(0,-o.length);const l=n.push("link_open","a",1);l.attrs=[["href",u]],l.markup="linkify",l.info="auto";const c=n.push("text","",0);c.content=n.md.normalizeLinkText(a);const d=n.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return n.pos+=a.length-o.length,!0}function x0e(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==10)return!1;const r=n.pending.length-1,i=n.posMax;if(!e)if(r>=0&&n.pending.charCodeAt(r)===32)if(r>=1&&n.pending.charCodeAt(r-1)===32){let o=r-1;for(;o>=1&&n.pending.charCodeAt(o-1)===32;)o--;n.pending=n.pending.slice(0,o),n.push("hardbreak","br",0)}else n.pending=n.pending.slice(0,-1),n.push("softbreak","br",0);else n.push("softbreak","br",0);for(t++;t<i&&Yn(n.src.charCodeAt(t));)t++;return n.pos=t,!0}const GF=[];for(let n=0;n<256;n++)GF.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){GF[n.charCodeAt(0)]=1});function L0e(n,e){let t=n.pos;const r=n.posMax;if(n.src.charCodeAt(t)!==92||(t++,t>=r))return!1;let i=n.src.charCodeAt(t);if(i===10){for(e||n.push("hardbreak","br",0),t++;t<r&&(i=n.src.charCodeAt(t),!!Yn(i));)t++;return n.pos=t,!0}let o=n.src[t];if(i>=55296&&i<=56319&&t+1<r){const a=n.src.charCodeAt(t+1);a>=56320&&a<=57343&&(o+=n.src[t+1],t++)}const s="\\"+o;if(!e){const a=n.push("text_special","",0);i<256&&GF[i]!==0?a.content=o:a.content=s,a.markup=s,a.info="escape"}return n.pos=t+1,!0}function N0e(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==96)return!1;const i=t;t++;const o=n.posMax;for(;t<o&&n.src.charCodeAt(t)===96;)t++;const s=n.src.slice(i,t),a=s.length;if(n.backticksScanned&&(n.backticks[a]||0)<=i)return e||(n.pending+=s),n.pos+=a,!0;let u=t,l;for(;(l=n.src.indexOf("`",u))!==-1;){for(u=l+1;u<o&&n.src.charCodeAt(u)===96;)u++;const c=u-l;if(c===a){if(!e){const d=n.push("code_inline","code",0);d.markup=s,d.content=n.src.slice(t,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return n.pos=u,!0}n.backticks[c]=l}return n.backticksScanned=!0,e||(n.pending+=s),n.pos+=a,!0}function O0e(n,e){const t=n.pos,r=n.src.charCodeAt(t);if(e||r!==126)return!1;const i=n.scanDelims(n.pos,!0);let o=i.length;const s=String.fromCharCode(r);if(o<2)return!1;let a;o%2&&(a=n.push("text","",0),a.content=s,o--);for(let u=0;u<o;u+=2)a=n.push("text","",0),a.content=s+s,n.delimiters.push({marker:r,length:0,token:n.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return n.pos+=i.length,!0}function u7(n,e){let t;const r=[],i=e.length;for(let o=0;o<i;o++){const s=e[o];if(s.marker!==126||s.end===-1)continue;const a=e[s.end];t=n.tokens[s.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=n.tokens[a.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",n.tokens[a.token-1].type==="text"&&n.tokens[a.token-1].content==="~"&&r.push(a.token-1)}for(;r.length;){const o=r.pop();let s=o+1;for(;s<n.tokens.length&&n.tokens[s].type==="s_close";)s++;s--,o!==s&&(t=n.tokens[s],n.tokens[s]=n.tokens[o],n.tokens[o]=t)}}function k0e(n){const e=n.tokens_meta,t=n.tokens_meta.length;u7(n,n.delimiters);for(let r=0;r<t;r++)e[r]&&e[r].delimiters&&u7(n,e[r].delimiters)}const iQ={tokenize:O0e,postProcess:k0e};function R0e(n,e){const t=n.pos,r=n.src.charCodeAt(t);if(e||r!==95&&r!==42)return!1;const i=n.scanDelims(n.pos,r===42);for(let o=0;o<i.length;o++){const s=n.push("text","",0);s.content=String.fromCharCode(r),n.delimiters.push({marker:r,length:i.length,token:n.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return n.pos+=i.length,!0}function l7(n,e){const t=e.length;for(let r=t-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const o=e[i.end],s=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===o.token+1,a=String.fromCharCode(i.marker),u=n.tokens[i.token];u.type=s?"strong_open":"em_open",u.tag=s?"strong":"em",u.nesting=1,u.markup=s?a+a:a,u.content="";const l=n.tokens[o.token];l.type=s?"strong_close":"em_close",l.tag=s?"strong":"em",l.nesting=-1,l.markup=s?a+a:a,l.content="",s&&(n.tokens[e[r-1].token].content="",n.tokens[e[i.end+1].token].content="",r--)}}function P0e(n){const e=n.tokens_meta,t=n.tokens_meta.length;l7(n,n.delimiters);for(let r=0;r<t;r++)e[r]&&e[r].delimiters&&l7(n,e[r].delimiters)}const oQ={tokenize:R0e,postProcess:P0e};function M0e(n,e){let t,r,i,o,s="",a="",u=n.pos,l=!0;if(n.src.charCodeAt(n.pos)!==91)return!1;const c=n.pos,d=n.posMax,h=n.pos+1,p=n.md.helpers.parseLinkLabel(n,n.pos,!0);if(p<0)return!1;let v=p+1;if(v<d&&n.src.charCodeAt(v)===40){for(l=!1,v++;v<d&&(t=n.src.charCodeAt(v),!(!Yn(t)&&t!==10));v++);if(v>=d)return!1;if(u=v,i=n.md.helpers.parseLinkDestination(n.src,v,n.posMax),i.ok){for(s=n.md.normalizeLink(i.str),n.md.validateLink(s)?v=i.pos:s="",u=v;v<d&&(t=n.src.charCodeAt(v),!(!Yn(t)&&t!==10));v++);if(i=n.md.helpers.parseLinkTitle(n.src,v,n.posMax),v<d&&u!==v&&i.ok)for(a=i.str,v=i.pos;v<d&&(t=n.src.charCodeAt(v),!(!Yn(t)&&t!==10));v++);}(v>=d||n.src.charCodeAt(v)!==41)&&(l=!0),v++}if(l){if(typeof n.env.references>"u")return!1;if(v<d&&n.src.charCodeAt(v)===91?(u=v+1,v=n.md.helpers.parseLinkLabel(n,v),v>=0?r=n.src.slice(u,v++):v=p+1):v=p+1,r||(r=n.src.slice(h,p)),o=n.env.references[gA(r)],!o)return n.pos=c,!1;s=o.href,a=o.title}if(!e){n.pos=h,n.posMax=p;const m=n.push("link_open","a",1),_=[["href",s]];m.attrs=_,a&&_.push(["title",a]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,n.push("link_close","a",-1)}return n.pos=v,n.posMax=d,!0}function F0e(n,e){let t,r,i,o,s,a,u,l,c="";const d=n.pos,h=n.posMax;if(n.src.charCodeAt(n.pos)!==33||n.src.charCodeAt(n.pos+1)!==91)return!1;const p=n.pos+2,v=n.md.helpers.parseLinkLabel(n,n.pos+1,!1);if(v<0)return!1;if(o=v+1,o<h&&n.src.charCodeAt(o)===40){for(o++;o<h&&(t=n.src.charCodeAt(o),!(!Yn(t)&&t!==10));o++);if(o>=h)return!1;for(l=o,a=n.md.helpers.parseLinkDestination(n.src,o,n.posMax),a.ok&&(c=n.md.normalizeLink(a.str),n.md.validateLink(c)?o=a.pos:c=""),l=o;o<h&&(t=n.src.charCodeAt(o),!(!Yn(t)&&t!==10));o++);if(a=n.md.helpers.parseLinkTitle(n.src,o,n.posMax),o<h&&l!==o&&a.ok)for(u=a.str,o=a.pos;o<h&&(t=n.src.charCodeAt(o),!(!Yn(t)&&t!==10));o++);else u="";if(o>=h||n.src.charCodeAt(o)!==41)return n.pos=d,!1;o++}else{if(typeof n.env.references>"u")return!1;if(o<h&&n.src.charCodeAt(o)===91?(l=o+1,o=n.md.helpers.parseLinkLabel(n,o),o>=0?i=n.src.slice(l,o++):o=v+1):o=v+1,i||(i=n.src.slice(p,v)),s=n.env.references[gA(i)],!s)return n.pos=d,!1;c=s.href,u=s.title}if(!e){r=n.src.slice(p,v);const m=[];n.md.inline.parse(r,n.md,n.env,m);const _=n.push("image","img",0),b=[["src",c],["alt",""]];_.attrs=b,_.children=m,_.content=r,u&&b.push(["title",u])}return n.pos=o,n.posMax=h,!0}const B0e=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,H0e=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function V0e(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==60)return!1;const r=n.pos,i=n.posMax;for(;;){if(++t>=i)return!1;const s=n.src.charCodeAt(t);if(s===60)return!1;if(s===62)break}const o=n.src.slice(r+1,t);if(H0e.test(o)){const s=n.md.normalizeLink(o);if(!n.md.validateLink(s))return!1;if(!e){const a=n.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const u=n.push("text","",0);u.content=n.md.normalizeLinkText(o);const l=n.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return n.pos+=o.length+2,!0}if(B0e.test(o)){const s=n.md.normalizeLink("mailto:"+o);if(!n.md.validateLink(s))return!1;if(!e){const a=n.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const u=n.push("text","",0);u.content=n.md.normalizeLinkText(o);const l=n.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return n.pos+=o.length+2,!0}return!1}function W0e(n){return/^<a[>\s]/i.test(n)}function U0e(n){return/^<\/a\s*>/i.test(n)}function j0e(n){const e=n|32;return e>=97&&e<=122}function q0e(n,e){if(!n.md.options.html)return!1;const t=n.posMax,r=n.pos;if(n.src.charCodeAt(r)!==60||r+2>=t)return!1;const i=n.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!j0e(i))return!1;const o=n.src.slice(r).match(y0e);if(!o)return!1;if(!e){const s=n.push("html_inline","",0);s.content=o[0],W0e(s.content)&&n.linkLevel++,U0e(s.content)&&n.linkLevel--}return n.pos+=o[0].length,!0}const z0e=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,G0e=/^&([a-z][a-z0-9]{1,31});/i;function $0e(n,e){const t=n.pos,r=n.posMax;if(n.src.charCodeAt(t)!==38||t+1>=r)return!1;if(n.src.charCodeAt(t+1)===35){const o=n.src.slice(t).match(z0e);if(o){if(!e){const s=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),a=n.push("text_special","",0);a.content=qF(s)?ZS(s):ZS(65533),a.markup=o[0],a.info="entity"}return n.pos+=o[0].length,!0}}else{const o=n.src.slice(t).match(G0e);if(o){const s=Kv(o[0]);if(s!==o[0]){if(!e){const a=n.push("text_special","",0);a.content=s,a.markup=o[0],a.info="entity"}return n.pos+=o[0].length,!0}}}return!1}function c7(n){const e={},t=n.length;if(!t)return;let r=0,i=-2;const o=[];for(let s=0;s<t;s++){const a=n[s];if(o.push(0),(n[r].marker!==a.marker||i!==a.token-1)&&(r=s),i=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[a.marker][(a.open?3:0)+a.length%3];let l=r-o[r]-1,c=l;for(;l>u;l-=o[l]+1){const d=n[l];if(d.marker===a.marker&&d.open&&d.end<0){let h=!1;if((d.close||a.open)&&(d.length+a.length)%3===0&&(d.length%3!==0||a.length%3!==0)&&(h=!0),!h){const p=l>0&&!n[l-1].open?o[l-1]+1:0;o[s]=s-l+p,o[l]=p,a.open=!1,d.end=s,d.close=!1,c=-1,i=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function K0e(n){const e=n.tokens_meta,t=n.tokens_meta.length;c7(n.delimiters);for(let r=0;r<t;r++)e[r]&&e[r].delimiters&&c7(e[r].delimiters)}function Y0e(n){let e,t,r=0;const i=n.tokens,o=n.tokens.length;for(e=t=0;e<o;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<o&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==t&&(i[t]=i[e]),t++);e!==t&&(i.length=t)}const zN=[["text",D0e],["linkify",I0e],["newline",x0e],["escape",L0e],["backticks",N0e],["strikethrough",iQ.tokenize],["emphasis",oQ.tokenize],["link",M0e],["image",F0e],["autolink",V0e],["html_inline",q0e],["entity",$0e]],GN=[["balance_pairs",K0e],["strikethrough",iQ.postProcess],["emphasis",oQ.postProcess],["fragments_join",Y0e]];function W1(){this.ruler=new Ls;for(let n=0;n<zN.length;n++)this.ruler.push(zN[n][0],zN[n][1]);this.ruler2=new Ls;for(let n=0;n<GN.length;n++)this.ruler2.push(GN[n][0],GN[n][1])}W1.prototype.skipToken=function(n){const e=n.pos,t=this.ruler.getRules(""),r=t.length,i=n.md.options.maxNesting,o=n.cache;if(typeof o[e]<"u"){n.pos=o[e];return}let s=!1;if(n.level<i){for(let a=0;a<r;a++)if(n.level++,s=t[a](n,!0),n.level--,s){if(e>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}else n.pos=n.posMax;s||n.pos++,o[e]=n.pos};W1.prototype.tokenize=function(n){const e=this.ruler.getRules(""),t=e.length,r=n.posMax,i=n.md.options.maxNesting;for(;n.pos<r;){const o=n.pos;let s=!1;if(n.level<i){for(let a=0;a<t;a++)if(s=e[a](n,!1),s){if(o>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(n.pos>=r)break;continue}n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};W1.prototype.parse=function(n,e,t,r){const i=new this.State(n,e,t,r);this.tokenize(i);const o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](i)};W1.prototype.State=V1;function X0e(n){const e={};n=n||{},e.src_Any=BX.source,e.src_Cc=HX.source,e.src_Z=WX.source,e.src_P=HF.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const t="[><]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(n["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function HR(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(r){n[r]=t[r]})}),n}function mA(n){return Object.prototype.toString.call(n)}function Q0e(n){return mA(n)==="[object String]"}function Z0e(n){return mA(n)==="[object Object]"}function J0e(n){return mA(n)==="[object RegExp]"}function f7(n){return mA(n)==="[object Function]"}function eye(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const sQ={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function tye(n){return Object.keys(n||{}).reduce(function(e,t){return e||sQ.hasOwnProperty(t)},!1)}const nye={"http:":{validate:function(n,e,t){const r=n.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(r)?r.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,e,t){const r=n.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(r)?e>=3&&n[e-3]===":"||e>=3&&n[e-3]==="/"?0:r.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(n,e,t){const r=n.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(r)?r.match(t.re.mailto)[0].length:0}}},rye="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",iye="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function oye(n){n.__index__=-1,n.__text_cache__=""}function sye(n){return function(e,t){const r=e.slice(t);return n.test(r)?r.match(n)[0].length:0}}function h7(){return function(n,e){e.normalize(n)}}function JS(n){const e=n.re=X0e(n.__opts__),t=n.__tlds__.slice();n.onCompile(),n.__tlds_replaced__||t.push(rye),t.push(e.src_xn),e.src_tlds=t.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];n.__compiled__={};function o(a,u){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+u)}Object.keys(n.__schemas__).forEach(function(a){const u=n.__schemas__[a];if(u===null)return;const l={validate:null,link:null};if(n.__compiled__[a]=l,Z0e(u)){J0e(u.validate)?l.validate=sye(u.validate):f7(u.validate)?l.validate=u.validate:o(a,u),f7(u.normalize)?l.normalize=u.normalize:u.normalize?o(a,u):l.normalize=h7();return}if(Q0e(u)){i.push(a);return}o(a,u)}),i.forEach(function(a){n.__compiled__[n.__schemas__[a]]&&(n.__compiled__[a].validate=n.__compiled__[n.__schemas__[a]].validate,n.__compiled__[a].normalize=n.__compiled__[n.__schemas__[a]].normalize)}),n.__compiled__[""]={validate:null,normalize:h7()};const s=Object.keys(n.__compiled__).filter(function(a){return a.length>0&&n.__compiled__[a]}).map(eye).join("|");n.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","i"),n.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","ig"),n.re.schema_at_start=RegExp("^"+n.re.schema_search.source,"i"),n.re.pretest=RegExp("("+n.re.schema_test.source+")|("+n.re.host_fuzzy_test.source+")|@","i"),oye(n)}function aye(n,e){const t=n.__index__,r=n.__last_index__,i=n.__text_cache__.slice(t,r);this.schema=n.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function VR(n,e){const t=new aye(n,e);return n.__compiled__[t.schema].normalize(t,n),t}function aa(n,e){if(!(this instanceof aa))return new aa(n,e);e||tye(n)&&(e=n,n={}),this.__opts__=HR({},sQ,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=HR({},nye,n),this.__compiled__={},this.__tlds__=iye,this.__tlds_replaced__=!1,this.re={},JS(this)}aa.prototype.add=function(e,t){return this.__schemas__[e]=t,JS(this),this};aa.prototype.set=function(e){return this.__opts__=HR(this.__opts__,e),this};aa.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,r,i,o,s,a,u,l,c;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(t=u.exec(e))!==null;)if(o=this.testSchemaAt(e,t[2],u.lastIndex),o){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=r.index+r[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};aa.prototype.pretest=function(e){return this.re.pretest.test(e)};aa.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0};aa.prototype.match=function(e){const t=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(VR(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)t.push(VR(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null};aa.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const r=this.testSchemaAt(e,t[2],t[0].length);return r?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r,VR(this,0)):null};aa.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,o){return r!==o[i-1]}).reverse(),JS(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,JS(this),this)};aa.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};aa.prototype.onCompile=function(){};const Yv=2147483647,el=36,$F=1,Db=26,uye=38,lye=700,aQ=72,uQ=128,lQ="-",cye=/^xn--/,fye=/[^\0-\x7F]/,hye=/[\x2E\u3002\uFF0E\uFF61]/g,dye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$N=el-$F,tl=Math.floor,KN=String.fromCharCode;function Ef(n){throw new RangeError(dye[n])}function pye(n,e){const t=[];let r=n.length;for(;r--;)t[r]=e(n[r]);return t}function cQ(n,e){const t=n.split("@");let r="";t.length>1&&(r=t[0]+"@",n=t[1]),n=n.replace(hye,".");const i=n.split("."),o=pye(i,e).join(".");return r+o}function fQ(n){const e=[];let t=0;const r=n.length;for(;t<r;){const i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){const o=n.charCodeAt(t++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e}const gye=n=>String.fromCodePoint(...n),vye=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:el},d7=function(n,e){return n+22+75*(n<26)-((e!=0)<<5)},hQ=function(n,e,t){let r=0;for(n=t?tl(n/lye):n>>1,n+=tl(n/e);n>$N*Db>>1;r+=el)n=tl(n/$N);return tl(r+($N+1)*n/(n+uye))},dQ=function(n){const e=[],t=n.length;let r=0,i=uQ,o=aQ,s=n.lastIndexOf(lQ);s<0&&(s=0);for(let a=0;a<s;++a)n.charCodeAt(a)>=128&&Ef("not-basic"),e.push(n.charCodeAt(a));for(let a=s>0?s+1:0;a<t;){const u=r;for(let c=1,d=el;;d+=el){a>=t&&Ef("invalid-input");const h=vye(n.charCodeAt(a++));h>=el&&Ef("invalid-input"),h>tl((Yv-r)/c)&&Ef("overflow"),r+=h*c;const p=d<=o?$F:d>=o+Db?Db:d-o;if(h<p)break;const v=el-p;c>tl(Yv/v)&&Ef("overflow"),c*=v}const l=e.length+1;o=hQ(r-u,l,u==0),tl(r/l)>Yv-i&&Ef("overflow"),i+=tl(r/l),r%=l,e.splice(r++,0,i)}return String.fromCodePoint(...e)},pQ=function(n){const e=[];n=fQ(n);const t=n.length;let r=uQ,i=0,o=aQ;for(const u of n)u<128&&e.push(KN(u));const s=e.length;let a=s;for(s&&e.push(lQ);a<t;){let u=Yv;for(const c of n)c>=r&&c<u&&(u=c);const l=a+1;u-r>tl((Yv-i)/l)&&Ef("overflow"),i+=(u-r)*l,r=u;for(const c of n)if(c<r&&++i>Yv&&Ef("overflow"),c===r){let d=i;for(let h=el;;h+=el){const p=h<=o?$F:h>=o+Db?Db:h-o;if(d<p)break;const v=d-p,m=el-p;e.push(KN(d7(p+v%m,0))),d=tl(v/m)}e.push(KN(d7(d,0))),o=hQ(i,l,a===s),i=0,++a}++i,++r}return e.join("")},mye=function(n){return cQ(n,function(e){return cye.test(e)?dQ(e.slice(4).toLowerCase()):e})},_ye=function(n){return cQ(n,function(e){return fye.test(e)?"xn--"+pQ(e):e})},gQ={version:"2.3.1",ucs2:{decode:fQ,encode:gye},decode:dQ,encode:pQ,toASCII:_ye,toUnicode:mye},yye={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},bye={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Cye={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},wye={default:yye,zero:bye,commonmark:Cye},Eye=/^(vbscript|javascript|file|data):/,Sye=/^data:image\/(gif|png|jpeg|webp);/;function Tye(n){const e=n.trim().toLowerCase();return Eye.test(e)?Sye.test(e):!0}const vQ=["http:","https:","mailto:"];function Dye(n){const e=BF(n,!0);if(e.hostname&&(!e.protocol||vQ.indexOf(e.protocol)>=0))try{e.hostname=gQ.toASCII(e.hostname)}catch{}return H1(FF(e))}function Aye(n){const e=BF(n,!0);if(e.hostname&&(!e.protocol||vQ.indexOf(e.protocol)>=0))try{e.hostname=gQ.toUnicode(e.hostname)}catch{}return dm(FF(e),dm.defaultChars+"%")}function Oa(n,e){if(!(this instanceof Oa))return new Oa(n,e);e||jF(n)||(e=n||{},n="default"),this.inline=new W1,this.block=new vA,this.core=new zF,this.renderer=new p_,this.linkify=new aa,this.validateLink=Tye,this.normalizeLink=Dye,this.normalizeLinkText=Aye,this.utils=x_e,this.helpers=pA({},k_e),this.options={},this.configure(n),e&&this.set(e)}Oa.prototype.set=function(n){return pA(this.options,n),this};Oa.prototype.configure=function(n){const e=this;if(jF(n)){const t=n;if(n=wye[t],!n)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&e.set(n.options),n.components&&Object.keys(n.components).forEach(function(t){n.components[t].rules&&e[t].ruler.enableOnly(n.components[t].rules),n.components[t].rules2&&e[t].ruler2.enableOnly(n.components[t].rules2)}),this};Oa.prototype.enable=function(n,e){let t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(i){t=t.concat(this[i].ruler.enable(n,!0))},this),t=t.concat(this.inline.ruler2.enable(n,!0));const r=n.filter(function(i){return t.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Oa.prototype.disable=function(n,e){let t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(i){t=t.concat(this[i].ruler.disable(n,!0))},this),t=t.concat(this.inline.ruler2.disable(n,!0));const r=n.filter(function(i){return t.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Oa.prototype.use=function(n){const e=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,e),this};Oa.prototype.parse=function(n,e){if(typeof n!="string")throw new Error("Input data should be a String");const t=new this.core.State(n,this,e);return this.core.process(t),t.tokens};Oa.prototype.render=function(n,e){return e=e||{},this.renderer.render(this.parse(n,e),this.options,e)};Oa.prototype.parseInline=function(n,e){const t=new this.core.State(n,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens};Oa.prototype.renderInline=function(n,e){return e=e||{},this.renderer.render(this.parseInline(n,e),this.options,e)};var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function mQ(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Th={};Th.getAttrs=function(n,e,t){const r=/[^\t\n\f />"'=]/,i=" ",o="=",s=".",a="#",u=[];let l="",c="",d=!0,h=!1;for(let p=e+t.leftDelimiter.length;p<n.length;p++){if(n.slice(p,p+t.rightDelimiter.length)===t.rightDelimiter){l!==""&&u.push([l,c]);break}const v=n.charAt(p);if(v===o&&d){d=!1;continue}if(v===s&&l===""){n.charAt(p+1)===s?(l="css-module",p+=1):l="class",d=!1;continue}if(v===a&&l===""){l="id",d=!1;continue}if(v==='"'&&c===""&&!h){h=!0;continue}if(v==='"'&&h){h=!1;continue}if(v===i&&!h){if(l==="")continue;u.push([l,c]),l="",c="",d=!0;continue}if(!(d&&v.search(r)===-1)){if(d){l+=v;continue}c+=v}}if(t.allowedAttributes&&t.allowedAttributes.length){const p=t.allowedAttributes;return u.filter(function(v){const m=v[0];function _(b){return m===b||b instanceof RegExp&&b.test(m)}return p.some(_)})}return u};Th.addAttrs=function(n,e){for(let t=0,r=n.length;t<r;++t){const i=n[t][0];i==="class"?e.attrJoin("class",n[t][1]):i==="css-module"?e.attrJoin("css-module",n[t][1]):e.attrPush(n[t])}return e};Th.hasDelimiters=function(n,e){if(!n)throw new Error('Parameter `where` not passed. Should be "start", "end" or "only".');return function(t){const r=e.leftDelimiter.length+1+e.rightDelimiter.length;if(!t||typeof t!="string"||t.length<r)return!1;function i(c){const d=c.charAt(e.leftDelimiter.length)===".",h=c.charAt(e.leftDelimiter.length)==="#";return d||h?c.length>=r+1:c.length>=r}let o,s,a,u;const l=r-e.rightDelimiter.length;switch(n){case"start":a=t.slice(0,e.leftDelimiter.length),o=a===e.leftDelimiter?0:-1,s=o===-1?-1:t.indexOf(e.rightDelimiter,l),u=t.charAt(s+e.rightDelimiter.length),u&&e.rightDelimiter.indexOf(u)!==-1&&(s=-1);break;case"end":o=t.lastIndexOf(e.leftDelimiter),s=o===-1?-1:t.indexOf(e.rightDelimiter,o+l),s=s===t.length-e.rightDelimiter.length?s:-1;break;case"only":a=t.slice(0,e.leftDelimiter.length),o=a===e.leftDelimiter?0:-1,a=t.slice(t.length-e.rightDelimiter.length),s=a===e.rightDelimiter?t.length-e.rightDelimiter.length:-1;break;default:throw new Error(`Unexpected case ${n}, expected 'start', 'end' or 'only'`)}return o!==-1&&s!==-1&&i(t.substring(o,s+e.rightDelimiter.length))}};Th.removeDelimiter=function(n,e){const t=WR(e.leftDelimiter),r=WR(e.rightDelimiter),i=new RegExp("[ \\n]?"+t+"[^"+t+r+"]+"+r+"$"),o=n.search(i);return o!==-1?n.slice(0,o):n};function WR(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}Th.escapeRegExp=WR;Th.getMatchingOpeningToken=function(n,e){if(n[e].type==="softbreak")return!1;if(n[e].nesting===0)return n[e];const t=n[e].level,r=n[e].type.replace("_close","_open");for(;e>=0;--e)if(n[e].type===r&&n[e].level===t)return n[e];return!1};const Iye=/[&<>"]/,xye=/[&<>"]/g,Lye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Nye(n){return Lye[n]}Th.escapeHtml=function(n){return Iye.test(n)?n.replace(xye,Nye):n};const $t=Th;var Oye=n=>{const e=new RegExp("^ {0,3}[-*_]{3,} ?"+$t.escapeRegExp(n.leftDelimiter)+"[^"+$t.escapeRegExp(n.rightDelimiter)+"]");return[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:$t.hasDelimiters("end",n)}],transform:(t,r)=>{const i=t[r],o=i.info.lastIndexOf(n.leftDelimiter),s=$t.getAttrs(i.info,o,n);$t.addAttrs(s,i),i.info=$t.removeDelimiter(i.info,n)}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:t=>t==="image"||t==="code_inline"},{shift:0,type:"text",content:$t.hasDelimiters("start",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content.indexOf(n.rightDelimiter),a=t[r].children[i-1],u=$t.getAttrs(o.content,0,n);$t.addAttrs(u,a),o.content.length===s+n.rightDelimiter.length?t[r].children.splice(i,1):o.content=o.content.slice(s+n.rightDelimiter.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:$t.hasDelimiters("only",n)}],transform:(t,r)=>{const i=t[r+2],o=$t.getMatchingOpeningToken(t,r),s=$t.getAttrs(i.content,0,n);$t.addAttrs(s,o),t.splice(r+1,3)}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:$t.hasDelimiters("start",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content,a=$t.getAttrs(s,0,n),u=$t.getMatchingOpeningToken(t[r].children,i-1);$t.addAttrs(a,u),o.content=s.slice(s.indexOf(n.rightDelimiter)+n.rightDelimiter.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:$t.hasDelimiters("only",n)}]}],transform:(t,r,i)=>{const s=t[r].children[i].content,a=$t.getAttrs(s,0,n);let u=r-2;for(;t[u-1]&&t[u-1].type!=="ordered_list_open"&&t[u-1].type!=="bullet_list_open";)u--;$t.addAttrs(a,t[u-1]),t[r].children=t[r].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:t=>t==="bullet_list_close"||t==="ordered_list_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:$t.hasDelimiters("only",n),children:t=>t.length===1},{shift:3,type:"paragraph_close"}],transform:(t,r)=>{const o=t[r+2].content,s=$t.getAttrs(o,0,n),a=$t.getMatchingOpeningToken(t,r);$t.addAttrs(s,a),t.splice(r+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:$t.hasDelimiters("end",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content,a=$t.getAttrs(s,s.lastIndexOf(n.leftDelimiter),n);$t.addAttrs(a,t[r-2]);const u=s.slice(0,s.lastIndexOf(n.leftDelimiter));o.content=p7(u)!==" "?u:u.slice(0,-1)}},{name:`
{.a} softbreak then curly in start`,tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:$t.hasDelimiters("only",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=$t.getAttrs(o.content,0,n);let a=r+1;for(;t[a+1]&&t[a+1].nesting===-1;)a++;const u=$t.getMatchingOpeningToken(t,a);$t.addAttrs(s,u),t[r].children=t[r].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:t=>t.length===1,content:t=>t.match(e)!==null},{shift:2,type:"paragraph_close"}],transform:(t,r)=>{const i=t[r];i.type="hr",i.tag="hr",i.nesting=0;const o=t[r+1].content,s=o.lastIndexOf(n.leftDelimiter),a=$t.getAttrs(o,s,n);$t.addAttrs(a,i),i.markup=o,t.splice(r+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:$t.hasDelimiters("end",n),type:t=>t!=="code_inline"&&t!=="math_inline"}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content,a=$t.getAttrs(s,s.lastIndexOf(n.leftDelimiter),n);let u=r+1;for(;t[u+1]&&t[u+1].nesting===-1;)u++;const l=$t.getMatchingOpeningToken(t,u);$t.addAttrs(a,l);const c=s.slice(0,s.lastIndexOf(n.leftDelimiter));o.content=p7(c)!==" "?c:c.slice(0,-1)}}]};function p7(n){return n.slice(-1)[0]}const kye=Oye,Rye={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]};var Pye=function(e,t){let r=Object.assign({},Rye);r=Object.assign(r,t);const i=kye(r);function o(s){const a=s.tokens;for(let u=0;u<a.length;u++)for(let l=0;l<i.length;l++){const c=i[l];let d=null;c.tests.every(p=>{const v=UR(a,u,p);return v.j!==null&&(d=v.j),v.match})&&(c.transform(a,u,d),(c.name==="inline attributes"||c.name==="inline nesting 0")&&l--)}}e.core.ruler.before("linkify","curly_attributes",o)};function UR(n,e,t){const r={match:!1,j:null},i=t.shift!==void 0?e+t.shift:t.position;if(t.shift!==void 0&&i<0)return r;const o=Bye(n,i);if(o===void 0)return r;for(const s of Object.keys(t))if(!(s==="shift"||s==="position")){if(o[s]===void 0)return r;if(s==="children"&&Mye(t.children)){if(o.children.length===0)return r;let a;const u=t.children,l=o.children;if(u.every(c=>c.position!==void 0)){if(a=u.every(c=>UR(l,c.position,c).match),a){const c=Hye(u).position;r.j=c>=0?c:l.length+c}}else for(let c=0;c<l.length;c++)if(a=u.every(d=>UR(l,c,d).match),a){r.j=c;break}if(a===!1)return r;continue}switch(typeof t[s]){case"boolean":case"number":case"string":if(o[s]!==t[s])return r;break;case"function":if(!t[s](o[s]))return r;break;case"object":if(Fye(t[s])){if(t[s].every(u=>u(o[s]))===!1)return r;break}default:throw new Error(`Unknown type of pattern test (key: ${s}). Test should be of type boolean, number, string, function or array of functions.`)}}return r.match=!0,r}function Mye(n){return Array.isArray(n)&&n.length&&n.every(e=>typeof e=="object")}function Fye(n){return Array.isArray(n)&&n.length&&n.every(e=>typeof e=="function")}function Bye(n,e){return e>=0?n[e]:n[n.length+e]}function Hye(n){return n.slice(-1)[0]||{}}const Vye=_A(Pye),Wye={width:"100%",cellpadding:"0",cellspacing:"0"},Uye=Ie("tr",null,[Ie("td",{class:"content-block",width:"50%"},"VIPASSANA ARGENTINA"),Ie("td",{class:"alignright"},[Ie("span",null,[Ie("a",{href:"http://www.sukhada.dhamma.org/"},"DS"),Sc(" | "),Ie("a",{href:"https://viriya.dhamma.org/"},"DV")])])],-1),jye={colspan:"2"},qye=["src"],zye=Ie("td",{class:"content-block",width:"50%"},"BOLETIN INFORMATIVO",-1),Gye=["textContent"],$ye=Fc({__name:"NewsLetterHeader",props:{imgUrl:{},date:{}},setup(n){return(e,t)=>(Ki(),sa("tr",null,[Ie("td",null,[Ie("table",Wye,[Ie("tbody",null,[Uye,Ie("tr",null,[Ie("td",jye,[Ie("img",{src:e.imgUrl,alt:"Vipassana Argentina, tal y como la ensea S.N. Goenka en la tradicin de Sayagi U Ba Kin"},null,8,qye)])]),Ie("tr",null,[zye,Ie("td",{class:"alignright",textContent:xge(e.date)},null,8,Gye)])])])])]))}}),Kye=["innerHTML"],Yye=Fc({__name:"NewsLetterBody",props:{html:{type:String,required:!0}},setup(n){const e=n,t=gu("");function r(o){const s=document.createElement("div");s.innerHTML=o;const a=s.querySelectorAll("h2"),u=document.createElement("br");let l=0;for(const c of Array.from(a)){const d=document.createElement("hr"),h=document.createElement("a");h.innerText="Volver al tope de la pgina",h.href="#top",s.insertBefore(d,c),s.insertBefore(h,d),s.insertBefore(u.cloneNode(),h),s.insertBefore(u.cloneNode(),h);const p="a"+l;c.setAttribute("id",p),l++}return s.innerHTML}function i(o){return o=r(o),o}return cA(()=>t.value=i((e==null?void 0:e.html)??"")),lA(()=>t.value=i((e==null?void 0:e.html)??"")),(o,s)=>(Ki(),sa("tr",null,[Ie("td",{innerHTML:t.value},null,8,Kye)]))}}),U1=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},Xye={},Qye=Ie("td",{class:"footer"},[Ie("b",null,"* NOTA IMPORTANTE"),Ie("br"),Sc(" Usted est recibiendo este correo porque realiz algn curso de Vipassana tal y como la ensea S. N. Goenka en la tradicin de Sayagyi U Ba Khin. Si ya no desea ser contactado o si quiere actualizar sus preferencias, favor de hacer click "),Ie("a",{href:"https://goo.gl/forms/YvZ7XLbZ0i07qd863",target:"_blank",rel:"noopener noreferrer"},"aqu")],-1),Zye=[Qye];function Jye(n,e){return Ki(),sa("tr",null,Zye)}const ebe=U1(Xye,[["render",Jye]]),tbe=Ie("tr",null,[Ie("td",null,[Ie("h2",null,"Tabla de contenidos")])],-1),nbe=["innerHTML"],rbe=Fc({__name:"NewsLetterTOC",props:{html:{}},setup(n){const e=n,t=gu("");function r(o){const s=document.createElement("div");s.innerHTML=o;const a=document.createElement("ol"),u=s.querySelectorAll("h2");let l=0;for(const c of Array.from(u)){if(!c.textContent)continue;const d="a"+l,h=c.innerHTML;a.appendChild(i(d,h)),c.setAttribute("id",d),l++}return a.outerHTML}function i(o,s){let a=document.createElement("a"),u=document.createElement("strong"),l=document.createElement("li");return l.appendChild(u),u.appendChild(a),a.href=`#${o}`,a.innerHTML=s,a.className="toc",l}return cA(()=>t.value=r(e.html)),(o,s)=>(Ki(),sa(ms,null,[tbe,Ie("tr",null,[Ie("td",{innerHTML:t.value},null,8,nbe)])],64))}}),ibe={},obe=Ie("tr",null,[Ie("td",{class:"content-block text-left",colspan:"2"},[Ie("h2",{class:"text-left ignore"},[Ie("i",null,"Dhamma Sukhad")]),Sc(" Centro "),Ie("i",null,"Vipassana"),Sc(" Buenos Aires (Brandsen) ")])],-1),sbe=Ie("tr",null,[Ie("td",{class:"centre-card",width:"50%",colspan:"2"},[Ie("img",{src:"https://sukhada.dhamma.org/fotos/2018/09/img-ds-2017.jpg",alt:"Dhamma Sukhada"}),Ie("a",{href:"https://dhamma.org/es/schedules/schsukhada",target:"_blank",rel:"noopener noreferrer"}," Calendario de Cursos "),Sc(" | "),Ie("a",{href:"mailto:info@sukhada.dhamma.org"},"Info"),Ie("br"),Ie("a",{href:"https://facebook.com/sukhada.dhamma.org",target:"_blank",rel:"noopener noreferrer"},"Facebook"),Ie("br"),Ie("p",null,"(011) 15-5135-2153 (solo mensajes de Whatsapp)")])],-1),abe=Ie("tr",null,[Ie("td",{class:"content-block text-left",colspan:"2"},[Ie("h2",{class:"text-left ignore"},[Ie("i",null,"Dhamma Viriya")]),Sc(" Centro "),Ie("i",null,"Vipassana"),Sc(" Crdoba (Capilla del Monte) ")])],-1),ube=Ie("tr",null,[Ie("td",{class:"centre-card",width:"50%",colspan:"2"},[Ie("img",{src:"https://sukhada.dhamma.org/fotos/2023/06/casa-principal-DV.jpg",alt:"Dhamma Viriya"}),Ie("a",{href:"https://dhamma.org/es/schedules/schviriya",target:"_blank",rel:"noopener noreferrer"}," Calendario de cursos "),Sc(" | "),Ie("a",{href:"mailto:info@viriya.dhamma.org"},"Info"),Ie("br"),Ie("p",null,"+54 9 351 684-8844 (solo Whatsapp)")])],-1);function lbe(n,e){return Ki(),sa(ms,null,[obe,sbe,abe,ube],64)}const cbe=U1(ibe,[["render",lbe]]);let KF=class vS{constructor(e,t){this._position=e,this._selectionEnd=t}static fromJSON({position:e,selectionEnd:t}){return new vS(e,t)}equals(e){return e==null?!1:this._position===e._position&&this._selectionEnd===e._selectionEnd}compose(e){return e}_transformIndex(e,t){let r=t;for(const i of e)if(i.isRetain()?t-=i.chars:i.isInsert()?r+=i.text.length:(r-=Math.min(t,i.chars),t-=i.chars),t<0)break;return r}transform(e){const t=e.getOps(),r=this._transformIndex(t,this._position);return this._position===this._selectionEnd?new vS(r,r):new vS(r,this._transformIndex(t,this._selectionEnd))}toJSON(){return{position:this._position,selectionEnd:this._selectionEnd}}};var Zn;(function(n){n.Ready="ready",n.CursorChange="cursor",n.Operation="operation",n.Acknowledge="ack",n.Retry="retry",n.Error="error",n.InitialRevision="initialRevision"})(Zn||(Zn={}));var io;(function(n){n.Error="error",n.Blur="blur",n.Focus="focus",n.Undo="undo",n.Redo="redo",n.Change="change",n.CursorActivity="cursorActivity"})(io||(io={}));var jR=function(n,e){return jR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},jR(n,e)};function Fe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jR(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gt=function(){return gt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gt.apply(this,arguments)};function X(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Y(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(t=0)),t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Li(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wi(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function Vt(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Q={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(n,e){if(!n)throw g_(e)},g_=function(n){return new Error("Firebase Database ("+_Q.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yQ=function(n){for(var e=[],t=0,r=0;r<n.length;r++){var i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fbe=function(n){for(var e=[],t=0,r=0;t<n.length;){var i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{var o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<n.length;i+=3){var o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;u||(p=64,s||(h=64)),r.push(t[c],t[d],t[h],t[p])}return r.join("")},encodeString:function(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yQ(n),e)},decodeString:function(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fbe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray:function(n,e){this.init_();for(var t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<n.length;){var o=t[n.charAt(i++)],s=i<n.length,a=s?t[n.charAt(i)]:0;++i;var u=i<n.length,l=u?t[n.charAt(i)]:64;++i;var c=i<n.length,d=c?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw Error();var h=o<<2|a>>4;if(r.push(h),l!==64){var p=a<<4&240|l>>2;if(r.push(p),d!==64){var v=l<<6&192|d;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},bQ=function(n){var e=yQ(n);return yA.encodeByteArray(e,!0)},g7=function(n){return bQ(n).replace(/\./g,"")},v7=function(n){try{return yA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(n){return Ab(void 0,n)}function Ab(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!hbe(r)||(n[r]=Ab(n[r],e[r]));return n}function hbe(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii=function(){function n(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})}return n.prototype.wrapCallback=function(e){var t=this;return function(r,i){r?t.reject(r):t.resolve(i),typeof e=="function"&&(t.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},n}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=gt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[g7(JSON.stringify(t)),g7(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ap())}function wQ(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dbe(){return typeof self=="object"&&self.self===self}function QF(){var n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pbe(){return Ap().indexOf("Electron/")>=0}function gbe(){var n=Ap();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vbe(){return Ap().indexOf("MSAppHost/")>=0}function SQ(){return _Q.NODE_ADMIN===!0}function mbe(){return!wQ()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j1(){return"indexedDB"in self&&indexedDB!=null}function ZF(){return new Promise(function(n,e){try{var t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=function(){t=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function TQ(){return!(!navigator||!navigator.cookieEnabled)}function _be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ybe="FirebaseError",v_=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this,r)||this;return o.code=t,o.customData=i,o.name=ybe,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Hc.prototype.create),o}return e}(Error),Hc=function(){function n(e,t,r){this.service=e,this.serviceName=t,this.errors=r}return n.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=t[0]||{},o=this.service+"/"+e,s=this.errors[e],a=s?bbe(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",l=new v_(o,u,i);return l},n}();function bbe(n,e){return n.replace(Cbe,function(t,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var Cbe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n){return JSON.parse(n)}function oi(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JF=function(n){var e={},t={},r={},i="";try{var o=n.split(".");e=Ib(v7(o[0])||""),t=Ib(v7(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},wbe=function(n){var e=JF(n).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},Ebe=function(n){var e=JF(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Sbe=function(n){var e=JF(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ip(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function qR(n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function eT(n,e,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tbe(n){for(var e=[],t=function(u,l){Array.isArray(l)?l.forEach(function(c){e.push(encodeURIComponent(u)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(u)+"="+encodeURIComponent(l))},r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dbe=function(){function n(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return n.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},n.prototype.compress_=function(e,t){t||(t=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)r[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4],d,h,i=0;i<80;i++){i<40?i<20?(d=l^a&(u^l),h=1518500249):(d=a^u^l,h=1859775393):i<60?(d=a&u|l&(a|u),h=2400959708):(d=a^u^l,h=3395469782);var o=(s<<5|s>>>27)+d+c+h+r[i]&4294967295;c=l,l=u,u=(a<<30|a>>>2)&4294967295,a=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},n.prototype.update=function(e,t){if(e!=null){t===void 0&&(t=e.length);for(var r=t-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;i<t;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<t;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}},n.prototype.digest=function(){var e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},n}();function Abe(n,e){var t=new Ibe(n,e);return t.subscribe.bind(t)}var Ibe=function(){function n(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return n.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},n.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},n.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},n.prototype.subscribe=function(e,t,r){var i=this,o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xbe(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=YN),o.error===void 0&&(o.error=YN),o.complete===void 0&&(o.complete=YN);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},n.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},n.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},n.prototype.sendOne=function(e,t){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{t(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},n.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},n}();function xbe(n,e){if(typeof n!="object"||n===null)return!1;for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i in n&&typeof n[i]=="function")return!0}return!1}function YN(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt=function(n,e,t,r){var i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){var o=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function ws(n,e){return n+" failed: "+e+" argument "}function wi(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(ws(n,e)+"must be a valid function.")}function m7(n,e,t,r){if(t&&(typeof t!="object"||t===null))throw new Error(ws(n,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lbe=function(n){for(var e=[],t=0,r=0;r<n.length;r++){var i=n.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Ae(r<n.length,"Surrogate pair missing trail surrogate.");var s=n.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},bA=function(n){for(var e=0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nbe=1e3,Obe=2,kbe=4*60*60*1e3,Rbe=.5;function zR(n,e,t){e===void 0&&(e=Nbe),t===void 0&&(t=Obe);var r=e*Math.pow(t,n),i=Math.round(Rbe*r*(Math.random()-.5)*2);return Math.min(kbe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n){return n&&n._delegate?n._delegate:n}var yo=function(){function n(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return n.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},n.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},n.prototype.setServiceProps=function(e){return this.serviceProps=e,this},n.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DQ=function(){function n(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return n.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new Ii;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise},n.prototype.getImmediate=function(e){var t,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(Mbe(e))try{this.getOrInitializeService({instanceIdentifier:xd})}catch{}try{for(var i=Li(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Wi(o.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch{}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},n.prototype.clearInstance=function(e){e===void 0&&(e=xd),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},n.prototype.delete=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Vt(Vt([],Wi(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Wi(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return t.sent(),[2]}})})},n.prototype.isComponentSet=function(){return this.component!=null},n.prototype.isInitialized=function(e){return e===void 0&&(e=xd),this.instances.has(e)},n.prototype.getOptions=function(e){return e===void 0&&(e=xd),this.instancesOptions.get(e)||{}},n.prototype.initialize=function(e){var t,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Li(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Wi(l.value,2),d=c[0],h=c[1],p=this.normalizeInstanceIdentifier(d);s===p&&h.resolve(a)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return a},n.prototype.onInit=function(e,t){var r,i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&e(s,i),function(){o.delete(e)}},n.prototype.invokeOnInitCallbacks=function(e,t){var r,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=Li(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch{}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},n.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Pbe(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null},n.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=xd),this.component?this.component.multipleInstances?e:xd:e},n.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},n}();function Pbe(n){return n===xd?void 0:n}function Mbe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AQ=function(){function n(e){this.name=e,this.providers=new Map}return n.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},n.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},n.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new DQ(e,this);return this.providers.set(e,t),t},n.prototype.getProviders=function(){return Array.from(this.providers.values())},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Za(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dd,e4=[],zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));var IQ={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},Fbe=zt.INFO,Bbe=(dd={},dd[zt.DEBUG]="log",dd[zt.VERBOSE]="log",dd[zt.INFO]="info",dd[zt.WARN]="warn",dd[zt.ERROR]="error",dd),Hbe=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(!(e<n.logLevel)){var i=new Date().toISOString(),o=Bbe[e];if(o)console[o].apply(console,Za(["["+i+"]  "+n.name+":"],t));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Qp=function(){function n(e){this.name=e,this._logLevel=Fbe,this._logHandler=Hbe,this._userLogHandler=null,e4.push(this)}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in zt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),n.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?IQ[e]:e},Object.defineProperty(n.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Za([this,zt.DEBUG],e)),this._logHandler.apply(this,Za([this,zt.DEBUG],e))},n.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Za([this,zt.VERBOSE],e)),this._logHandler.apply(this,Za([this,zt.VERBOSE],e))},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Za([this,zt.INFO],e)),this._logHandler.apply(this,Za([this,zt.INFO],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Za([this,zt.WARN],e)),this._logHandler.apply(this,Za([this,zt.WARN],e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Za([this,zt.ERROR],e)),this._logHandler.apply(this,Za([this,zt.ERROR],e))},n}();function Vbe(n){e4.forEach(function(e){e.setLogLevel(n)})}function Wbe(n,e){for(var t=function(s){var a=null;e&&e.level&&(a=IQ[e.level]),n===null?s.userLogHandler=null:s.userLogHandler=function(u,l){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var h=c.map(function(p){if(p==null)return null;if(typeof p=="string")return p;if(typeof p=="number"||typeof p=="boolean")return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch{return null}}).filter(function(p){return p}).join(" ");l>=(a??u.logLevel)&&n({level:zt[l].toLowerCase(),message:h,args:c,type:u.name})}},r=0,i=e4;r<i.length;r++){var o=i[r];t(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf,Ube=(rf={},rf["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",rf["bad-app-name"]="Illegal App name: '{$appName}",rf["duplicate-app"]="Firebase App named '{$appName}' already exists",rf["app-deleted"]="Firebase App named '{$appName}' already deleted",rf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",rf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",rf),yv=new Hc("app","Firebase",Ube),xQ="@firebase/app",jbe="0.6.30",qbe="@firebase/analytics",zbe="@firebase/app-check",Gbe="@firebase/auth",$be="@firebase/database",Kbe="@firebase/functions",Ybe="@firebase/installations",Xbe="@firebase/messaging",Qbe="@firebase/performance",Zbe="@firebase/remote-config",Jbe="@firebase/storage",e1e="@firebase/firestore",t1e="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no,tT="[DEFAULT]",n1e=(no={},no[xQ]="fire-core",no[qbe]="fire-analytics",no[zbe]="fire-app-check",no[Gbe]="fire-auth",no[$be]="fire-rtdb",no[Kbe]="fire-fn",no[Ybe]="fire-iid",no[Xbe]="fire-fcm",no[Qbe]="fire-perf",no[Zbe]="fire-rc",no[Jbe]="fire-gcs",no[e1e]="fire-fst",no["fire-js"]="fire-js",no[t1e]="fire-js-all",no);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gm=new Qp("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mS=function(){function n(e,t,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=CQ(e),this.container=new AQ(t.name),this._addComponent(new yo("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(n.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),n.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(t){return t.delete()}))}).then(function(){e.isDeleted_=!0})},n.prototype._getService=function(e,t){var r;t===void 0&&(t=tT),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})},n.prototype._removeServiceInstance=function(e,t){t===void 0&&(t=tT),this.container.getProvider(e).clearInstance(t)},n.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){gm.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},n.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},n.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},n.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw yv.create("app-deleted",{appName:this.name_})},n}();mS.prototype.name&&mS.prototype.options||mS.prototype.delete||console.log("dc");var r1e="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1e(n){var e={},t=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:Vbe,onLog:c,apps:null,SDK_VERSION:r1e,INTERNAL:{registerComponent:u,removeApp:i,components:t,useAsService:d}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(h){delete e[h]}function o(h){if(h=h||tT,!ua(e,h))throw yv.create("no-app",{appName:h});return e[h]}o.App=n;function s(h,p){if(p===void 0&&(p={}),typeof p!="object"||p===null){var v=p;p={name:v}}var m=p;m.name===void 0&&(m.name=tT);var _=m.name;if(typeof _!="string"||!_)throw yv.create("bad-app-name",{appName:String(_)});if(ua(e,_))throw yv.create("duplicate-app",{appName:_});var b=new n(h,m,r);return e[_]=b,b}function a(){return Object.keys(e).map(function(h){return e[h]})}function u(h){var p=h.name;if(t.has(p))return gm.debug("There were multiple attempts to register component "+p+"."),h.type==="PUBLIC"?r[p]:null;if(t.set(p,h),h.type==="PUBLIC"){var v=function(C){if(C===void 0&&(C=o()),typeof C[p]!="function")throw yv.create("invalid-app-argument",{appName:p});return C[p]()};h.serviceProps!==void 0&&Ab(v,h.serviceProps),r[p]=v,n.prototype[p]=function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];var T=this._getService.bind(this,p);return T.apply(this,h.multipleInstances?C:[])}}for(var m=0,_=Object.keys(e);m<_.length;m++){var b=_[m];e[b]._addComponent(h)}return h.type==="PUBLIC"?r[p]:null}function l(h,p,v){var m,_=(m=n1e[h])!==null&&m!==void 0?m:h;v&&(_+="-"+v);var b=_.match(/\s|\//),C=p.match(/\s|\//);if(b||C){var E=['Unable to register library "'+_+'" with version "'+p+'":'];b&&E.push('library name "'+_+'" contains illegal characters (whitespace or "/")'),b&&C&&E.push("and"),C&&E.push('version name "'+p+'" contains illegal characters (whitespace or "/")'),gm.warn(E.join(" "));return}u(new yo(_+"-version",function(){return{library:_,version:p}},"VERSION"))}function c(h,p){if(h!==null&&typeof h!="function")throw yv.create("invalid-log-argument");Wbe(h,p)}function d(h,p){if(p==="serverAuth")return null;var v=p;return v}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(){var n=i1e(mS);n.INTERNAL=gt(gt({},n.INTERNAL),{createFirebaseNamespace:LQ,extendNamespace:e,createSubscribe:Abe,ErrorFactory:Hc,deepExtend:Ab});function e(t){Ab(n,t)}return n}var t4=LQ();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o1e=function(){function n(e){this.container=e}return n.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(t){if(s1e(t)){var r=t.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(t){return t}).join(" ")},n}();function s1e(n){var e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1e(n,e){n.INTERNAL.registerComponent(new yo("platform-logger",function(t){return new o1e(t)},"PRIVATE")),n.registerVersion(xQ,jbe,e),n.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(dbe()&&self.firebase!==void 0){gm.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var _7=self.firebase.SDK_VERSION;_7&&_7.indexOf("LITE")>=0&&gm.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var u1e=t4.initializeApp;t4.initializeApp=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return wQ()&&gm.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),u1e.apply(void 0,n)};var tt=t4;a1e(tt);var l1e={},c1e="@firebase/database",f1e="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NQ="";function OQ(n){NQ=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h1e=function(){function n(e){this.domStorage_=e,this.prefix_="firebase:"}return n.prototype.set=function(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),oi(t))},n.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ib(t)},n.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},n.prototype.prefixedName_=function(e){return this.prefix_+e},n.prototype.toString=function(){return this.domStorage_.toString()},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d1e=function(){function n(){this.cache_={},this.isInMemoryStorage=!0}return n.prototype.set=function(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t},n.prototype.get=function(e){return ua(this.cache_,e)?this.cache_[e]:null},n.prototype.remove=function(e){delete this.cache_[e]},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kQ=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){var e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h1e(e)}}catch{}return new d1e},Yd=kQ("localStorage"),GR=kQ("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xv=new Qp("@firebase/database"),RQ=function(){var n=1;return function(){return n++}}(),PQ=function(n){var e=Lbe(n),t=new Dbe;t.update(e);var r=t.digest();return yA.encodeByteArray(r)},q1=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t="",r=0;r<n.length;r++){var i=n[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=q1.apply(null,i):typeof i=="object"?t+=oi(i):t+=i,t+=" "}return t},up=null,y7=!0,MQ=function(n,e){Ae(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Xv.logLevel=zt.VERBOSE,up=Xv.log.bind(Xv),e&&GR.set("logging_enabled",!0)):typeof n=="function"?up=n:(up=null,GR.remove("logging_enabled"))},Si=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(y7===!0&&(y7=!1,up===null&&GR.get("logging_enabled")===!0&&MQ(!0)),up){var t=q1.apply(null,n);up(t)}},z1=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Si.apply(void 0,Vt([n],Wi(e)))}},$R=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t="FIREBASE INTERNAL ERROR: "+q1.apply(void 0,Vt([],Wi(n)));Xv.error(t)},yl=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t="FIREBASE FATAL ERROR: "+q1.apply(void 0,Vt([],Wi(n)));throw Xv.error(t),new Error(t)},zi=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t="FIREBASE WARNING: "+q1.apply(void 0,Vt([],Wi(n)));Xv.warn(t)},p1e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},CA=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},g1e=function(n){if(document.readyState==="complete")n();else{var e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Tc="[MIN_NAME]",bl="[MAX_NAME]",Zp=function(n,e){if(n===e)return 0;if(n===Tc||e===bl)return-1;if(e===Tc||n===bl)return 1;var t=nT(n),r=nT(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1},v1e=function(n,e){return n===e?0:n<e?-1:1},V0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+oi(e))},n4=function(n){if(typeof n!="object"||n===null)return oi(n);var e=[];for(var t in n)e.push(t);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=oi(e[i]),r+=":",r+=n4(n[e[i]]);return r+="}",r},FQ=function(n,e){var t=n.length;if(t<=e)return[n];for(var r=[],i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function fi(n,e){for(var t in n)n.hasOwnProperty(t)&&e(t,n[t])}var BQ=function(n){Ae(!CA(n),"Invalid JSON number");var e=11,t=52,r=(1<<e-1)-1,i,o,s,a,u;n===0?(o=0,s=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=a+r,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-r-t))));var l=[];for(u=t;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(u=e;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();var c=l.join(""),d="";for(u=0;u<64;u+=8){var h=parseInt(c.substr(u,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},m1e=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_1e=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function y1e(n,e){var t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");var r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}var b1e=new RegExp("^-?(0*)\\d{1,10}$"),HQ=-2147483648,r4=2147483647,nT=function(n){if(b1e.test(n)){var e=Number(n);if(e>=HQ&&e<=r4)return e}return null},m_=function(n){try{n()}catch(e){setTimeout(function(){var t=e.stack||"";throw zi("Exception was thrown by user callback.",t),e},Math.floor(0))}},C1e=function(){var n=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return n.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},My=function(n,e){var t=setTimeout(n,e);return typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w1e=function(){function n(e,t){var r=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(function(i){return r.appCheck=i})}return n.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){t.appCheck?t.getToken(e).then(r,i):r(null)},0)})},n.prototype.addTokenChangeListener=function(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(function(r){return r.addTokenListener(e)})},n.prototype.notifyForInvalidToken=function(){zi('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E1e=function(){function n(e,t,r){var i=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return n.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){t.auth_?t.getToken(e).then(r,i):r(null)},0)})},n.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},n.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},n.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zi(e)},n}(),Fy=function(){function n(e){this.accessToken=e}return n.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},n.prototype.addTokenChangeListener=function(e){e(this.accessToken)},n.prototype.removeTokenChangeListener=function(e){},n.prototype.notifyForInvalidToken=function(){},n.OWNER="owner",n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i4="5",VQ="v",WQ="s",UQ="r",jQ="f",qQ=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zQ="ls",S1e="p",KR="ac",GQ="websocket",$Q="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o4=function(){function n(e,t,r,i,o,s,a){o===void 0&&(o=!1),s===void 0&&(s=""),a===void 0&&(a=!1),this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yd.get("host:"+e)||this._host}return n.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},n.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(n.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yd.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),n.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},n.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},n}();function T1e(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function KQ(n,e,t){Ae(typeof e=="string","typeof type must == string"),Ae(typeof t=="object","typeof params must == object");var r;if(e===GQ)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===$Q)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);T1e(n)&&(t.ns=n.namespace);var i=[];return fi(t,function(o,s){i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1e=function(){function n(){this.counters_={}}return n.prototype.incrementCounter=function(e,t){t===void 0&&(t=1),ua(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},n.prototype.get=function(){return CQ(this.counters_)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XN={},QN={};function s4(n){var e=n.toString();return XN[e]||(XN[e]=new D1e),XN[e]}function A1e(n,e){var t=n.toString();return QN[t]||(QN[t]=e()),QN[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1e=function(){function n(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return n.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},n.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;for(var i=function(){var a=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var u=function(c){a[c]&&m_(function(){r.onMessage_(a[c])})},l=0;l<a.length;++l)u(l);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var s=i();if(s==="break")break}},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b7="start",x1e="close",L1e="pLPCommand",N1e="pRTLPCB",YQ="id",XQ="pw",QQ="ser",O1e="cb",k1e="seg",R1e="ts",P1e="d",M1e="dframe",ZQ=1870,JQ=30,F1e=ZQ-JQ,B1e=25e3,H1e=3e4,a4=function(){function n(e,t,r,i,o,s,a){var u=this;this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=z1(e),this.stats_=s4(t),this.urlFn=function(l){return u.appCheckToken&&(l[KR]=u.appCheckToken),KQ(t,$Q,l)}}return n.prototype.open=function(e,t){var r=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new I1e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(H1e)),g1e(function(){if(!r.isClosed_){r.scriptTagHolder=new V1e(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=Wi(s,5),l=u[0],c=u[1],d=u[2];if(u[3],u[4],r.incrementIncomingBytes_(s),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,l===b7)r.id=c,r.password=d;else if(l===x1e)c?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(c,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+l)},function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=Wi(s,2),l=u[0],c=u[1];r.incrementIncomingBytes_(s),r.myPacketOrderer.handleResponse(l,c)},function(){r.onClosed_()},r.urlFn);var i={};i[b7]="t",i[QQ]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[O1e]=r.scriptTagHolder.uniqueCallbackIdentifier),i[VQ]=i4,r.transportSessionId&&(i[WQ]=r.transportSessionId),r.lastSessionId&&(i[zQ]=r.lastSessionId),r.applicationId&&(i[S1e]=r.applicationId),r.appCheckToken&&(i[KR]=r.appCheckToken),typeof location<"u"&&location.hostname&&qQ.test(location.hostname)&&(i[UQ]=jQ);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},n.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},n.forceAllow=function(){n.forceAllow_=!0},n.forceDisallow=function(){n.forceDisallow_=!0},n.isAvailable=function(){return n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m1e()&&!_1e()},n.prototype.markConnectionHealthy=function(){},n.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},n.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},n.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},n.prototype.send=function(e){var t=oi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var r=bQ(t),i=FQ(r,F1e),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},n.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var r={};r[M1e]="t",r[YQ]=e,r[XQ]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},n.prototype.incrementIncomingBytes_=function(e){var t=oi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},n}(),V1e=function(){function n(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RQ(),window[L1e+this.uniqueCallbackIdentifier]=e,window[N1e+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Si("frame writing exception"),u.stack&&Si(u.stack),Si(u)}}}return n.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var t=e.contentWindow.document;t||Si("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},n.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},n.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},n.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[YQ]=this.myID,e[XQ]=this.myPW,e[QQ]=this.currentSerial;for(var t=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+JQ+r.length<=ZQ){var s=this.pendingSegs.shift();r=r+"&"+k1e+i+"="+s.seg+"&"+R1e+i+"="+s.ts+"&"+P1e+i+"="+s.d,i++}else break}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1},n.prototype.enqueueSegment=function(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()},n.prototype.addLongPollTag_=function(e,t){var r=this;this.outstandingRequests.add(t);var i=function(){r.outstandingRequests.delete(t),r.newRequest_()},o=setTimeout(i,Math.floor(B1e)),s=function(){clearTimeout(o),i()};this.addTag(e,s)},n.prototype.addTag=function(e,t){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){Si("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W1e=16384,U1e=45e3,rT=null;typeof MozWebSocket<"u"?rT=MozWebSocket:typeof WebSocket<"u"&&(rT=WebSocket);var Vd=function(){function n(e,t,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=z1(this.connId),this.stats_=s4(t),this.connURL=n.connectionURL_(t,s,a,i),this.nodeAdmin=t.nodeAdmin}return n.connectionURL_=function(e,t,r,i){var o={};return o[VQ]=i4,typeof location<"u"&&location.hostname&&qQ.test(location.hostname)&&(o[UQ]=jQ),t&&(o[WQ]=t),r&&(o[zQ]=r),i&&(o[KR]=i),KQ(e,GQ,o)},n.prototype.open=function(e,t){var r=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yd.set("previous_websocket_failure",!0);try{var i,o,s,a;if(!SQ()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new rT(this.connURL,[],o)}}catch(l){this.log_("Error instantiating WebSocket.");var u=l.message||l.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(l){r.handleIncomingFrame(l)},this.mySock.onerror=function(l){r.log_("WebSocket error.  Closing connection.");var c=l.message||l.data;c&&r.log_(c),r.onClosed_()}},n.prototype.start=function(){},n.forceDisallow=function(){n.forceDisallow_=!0},n.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rT!==null&&!n.forceDisallow_},n.previouslyFailed=function(){return Yd.isInMemoryStorage||Yd.get("previous_websocket_failure")===!0},n.prototype.markConnectionHealthy=function(){Yd.remove("previous_websocket_failure")},n.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var r=Ib(t);this.onMessage(r)}},n.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},n.prototype.extractFrameCount_=function(e){if(Ae(this.frames===null,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},n.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{var r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}},n.prototype.send=function(e){this.resetKeepAlive();var t=oi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var r=FQ(t,W1e);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},n.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},n.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},n.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},n.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(U1e))},n.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j1e=function(){function n(e){this.initTransports_(e)}return Object.defineProperty(n,"ALL_TRANSPORTS",{get:function(){return[a4,Vd]},enumerable:!1,configurable:!0}),n.prototype.initTransports_=function(e){var t,r,i=Vd&&Vd.isAvailable(),o=i&&!Vd.previouslyFailed();if(e.webSocketOnly&&(i||zi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Vd];else{var s=this.transports_=[];try{for(var a=Li(n.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}},n.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},n.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q1e=6e4,z1e=5e3,G1e=10*1024,$1e=100*1024,ZN="t",C7="d",K1e="s",w7="r",Y1e="e",E7="o",S7="a",T7="n",D7="p",X1e="h",eZ=function(){function n(e,t,r,i,o,s,a,u,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=z1("c:"+this.id+":"),this.transportManager_=new j1e(t),this.log_("Connection created"),this.start_()}return n.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=My(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>$1e?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>G1e?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},n.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},n.prototype.disconnReceiver_=function(e){var t=this;return function(r){e===t.conn_?t.onConnectionLost_(r):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},n.prototype.connReceiver_=function(e){var t=this;return function(r){t.state_!==2&&(e===t.rx_?t.onPrimaryMessageReceived_(r):e===t.secondaryConn_?t.onSecondaryMessageReceived_(r):t.log_("message on old connection"))}},n.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},n.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},n.prototype.onSecondaryControl_=function(e){if(ZN in e){var t=e[ZN];t===S7?this.upgradeIfSecondaryHealthy_():t===w7?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===E7&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},n.prototype.onSecondaryMessageReceived_=function(e){var t=V0("t",e),r=V0("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)},n.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:D7,d:{}}}))},n.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:S7,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:T7,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},n.prototype.onPrimaryMessageReceived_=function(e){var t=V0("t",e),r=V0("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)},n.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},n.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},n.prototype.onControl_=function(e){var t=V0(ZN,e);if(C7 in e){var r=e[C7];if(t===X1e)this.onHandshake_(r);else if(t===T7){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===K1e?this.onConnectionShutdown_(r):t===w7?this.onReset_(r):t===Y1e?$R("Server Error: "+r):t===E7?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$R("Unknown control packet command: "+t)}},n.prototype.onHandshake_=function(e){var t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),i4!==r&&zi("Protocol version mismatch detected"),this.tryStartUpgrade_())},n.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},n.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),My(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(q1e))},n.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},n.prototype.onConnectionEstablished_=function(e,t){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):My(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(z1e))},n.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:D7,d:{}}}))},n.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},n.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},n.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},n.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},n.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},n.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tZ=function(){function n(){}return n.prototype.put=function(e,t,r,i){},n.prototype.merge=function(e,t,r,i){},n.prototype.refreshAuthToken=function(e){},n.prototype.refreshAppCheckToken=function(e){},n.prototype.onDisconnectPut=function(e,t,r){},n.prototype.onDisconnectMerge=function(e,t,r){},n.prototype.onDisconnectCancel=function(e,t){},n.prototype.reportStats=function(e){},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nZ=function(){function n(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Vt([],Wi(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,t)},n.prototype.on=function(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});var i=this.getInitialEvent(e);i&&t.apply(r,i)},n.prototype.off=function(e,t,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}},n.prototype.validateEventType_=function(e){Ae(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A7=function(n){Fe(e,n);function e(){var t=n.call(this,["online"])||this;return t.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!XF()&&(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Ae(t==="online","Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(nZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=32,x7=768,Tn=function(){function n(e,t){if(t===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return n.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"},n}();function pn(){return new Tn("")}function Wt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function dh(n){return n.pieces_.length-n.pieceNum_}function Wn(n){var e=n.pieceNum_;return e<n.pieces_.length&&e++,new Tn(n.pieces_,e)}function u4(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Q1e(n){for(var e="",t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function xb(n,e){return e===void 0&&(e=0),n.pieces_.slice(n.pieceNum_+e)}function rZ(n){if(n.pieceNum_>=n.pieces_.length)return null;for(var e=[],t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Tn(e,0)}function ur(n,e){for(var t=[],r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Tn)for(var r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&t.push(i[r]);return new Tn(t,0)}function Ut(n){return n.pieceNum_>=n.pieces_.length}function Zo(n,e){var t=Wt(n),r=Wt(e);if(t===null)return e;if(t===r)return Zo(Wn(n),Wn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Z1e(n,e){for(var t=xb(n,0),r=xb(e,0),i=0;i<t.length&&i<r.length;i++){var o=Zp(t[i],r[i]);if(o!==0)return o}return t.length===r.length?0:t.length<r.length?-1:1}function l4(n,e){if(dh(n)!==dh(e))return!1;for(var t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ta(n,e){var t=n.pieceNum_,r=e.pieceNum_;if(dh(n)>dh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var J1e=function(){function n(e,t){this.errorPrefix_=t,this.parts_=xb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=bA(this.parts_[r]);iZ(this)}return n}();function eCe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=bA(e),iZ(n)}function tCe(n){var e=n.parts_.pop();n.byteLength_-=bA(e),n.parts_.length>0&&(n.byteLength_-=1)}function iZ(n){if(n.byteLength_>x7)throw new Error(n.errorPrefix_+"has a key path longer than "+x7+" bytes ("+n.byteLength_+").");if(n.parts_.length>I7)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+I7+") or object contains a cycle "+Ld(n))}function Ld(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nCe=function(n){Fe(e,n);function e(){var t=n.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),t.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==t.visible_&&(t.visible_=o,t.trigger("visible",o))},!1),t}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Ae(t==="visible","Unknown event type: "+t),[this.visible_]},e}(nZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W0=1e3,rCe=60*5*1e3,iCe=3*1e3,L7=30*1e3,oCe=1.3,sCe=3e4,aCe="server_kill",N7=3,lp=function(n){Fe(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this)||this;if(c.repoInfo_=t,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=z1("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=W0,c.maxReconnectDelay_=rCe,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!SQ())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return nCe.getInstance().on("visible",c.onVisible_,c),t.host.indexOf("fblocal")===-1&&A7.getInstance().on("online",c.onOnline_,c),c}return e.prototype.sendRequest=function(t,r,i){var o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(oi(s)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(t){var r=this;this.initConnection_();var i=new Ii,o={p:t._path.toString(),q:t._queryObject},s={action:"g",request:o,onComplete:function(u){var l=u.d;u.s==="ok"?(r.onDataUpdate_(o.p,l,!1,null),i.resolve(l)):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var u=r.outstandingGets_[a];u===void 0||s!==u||(delete r.outstandingGets_[a],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},iCe),this.connected_&&this.sendGet_(a),i.promise},e.prototype.listen=function(t,r,i,o){this.initConnection_();var s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");var u={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,u),this.connected_&&this.sendListen_(u)},e.prototype.sendGet_=function(t){var r=this,i=this.outstandingGets_[t];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[t],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(t){var r=this,i=t.query,o=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+o+" for "+s);var a={p:o},u="q";t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(u,a,function(l){var c=l.d,d=l.s;e.warnOnListenWarnings_(c,i);var h=r.listens.get(o)&&r.listens.get(o).get(s);h===t&&(r.log_("listen response",l),d!=="ok"&&r.removeListen_(o,s),t.onComplete&&t.onComplete(d,c))})},e.warnOnListenWarnings_=function(t,r){if(t&&typeof t=="object"&&ua(t,"w")){var i=Ip(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();zi("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(s+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var r=t&&t.length===40;(r||Sbe(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=L7)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=Ebe(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(s){var a=s.s,u=s.d||"error";t.authToken_===r&&(a==="ok"?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(a,u))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(t,r){var i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var s=this.removeListen_(i,o);s&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)},e.prototype.sendUnlisten_=function(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);var s={p:t},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)},e.prototype.onDisconnectPut=function(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(t,r,i,o){var s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,function(a){o&&setTimeout(function(){o(a.s,a.d)},Math.floor(0))})},e.prototype.put=function(t,r,i,o){this.putInternal("p",t,r,i,o)},e.prototype.merge=function(t,r,i,o){this.putInternal("m",t,r,i,o)},e.prototype.putInternal=function(t,r,i,o,s){this.initConnection_();var a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;var u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(t){var r=this,i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,function(a){r.log_(i+" response",a),delete r.outstandingPuts_[t],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),s&&s(a.s,a.d)})},e.prototype.reportStats=function(t){var r=this;if(this.connected_){var i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var s=o.s;if(s!=="ok"){var a=o.d;r.log_("reportStats","Error sending stats: "+a)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+oi(t));var r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):$R("Unrecognized action received from server: "+oi(t)+`
Are you using the latest client?`)},e.prototype.onReady_=function(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var r=this;Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=W0,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=W0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var t=new Date().getTime()-this.lastConnectionEstablishedTime_;t>sCe&&(this.reconnectDelay_=W0),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oCe)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u,l,c,d,h,p,v,m,_=this;return Y(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,u=null,l=function(){u?u.close():(a=!0,i())},c=function(C){Ae(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(C)},this.realtime_={close:l,sendRequest:c},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return h=Wi.apply(void 0,[b.sent(),2]),p=h[0],v=h[1],a?Si("getToken() completed but was canceled"):(Si("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new eZ(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,function(C){zi(C+" ("+_.repoInfo_.toString()+")"),_.interrupt(aCe)},s)),[3,4];case 3:return m=b.sent(),this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&zi(m),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){Si("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){Si("Resuming connection for reason: "+t),delete this.interruptReasons_[t],qR(this.interruptReasons_)&&(this.reconnectDelay_=W0,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,r){var i;r?i=r.map(function(s){return n4(s)}).join("$"):i="default";var o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(t,r){var i=new Tn(t).toString(),o;if(this.listens.has(i)){var s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(t,r){Si("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=N7&&(this.reconnectDelay_=L7,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,r){Si("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=N7&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var t,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var s=Li(this.listens.values()),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var l=(i=void 0,Li(u.values())),c=l.next();!c.done;c=l.next()){var d=c.value;this.sendListen_(d)}}catch(v){i={error:v}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}for(var h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},r="js";t["sdk."+r+"."+NQ.replace(/\./g,"-")]=1,XF()?t["framework.cordova"]=1:EQ()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=A7.getInstance().currentlyOnline();return qR(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(tZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt=function(){function n(e,t){this.name=e,this.node=t}return n.Wrap=function(e,t){return new n(e,t)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wA=function(){function n(){}return n.prototype.getCompare=function(){return this.compare.bind(this)},n.prototype.indexedValueChanged=function(e,t){var r=new Zt(Tc,e),i=new Zt(Tc,t);return this.compare(r,i)!==0},n.prototype.minPost=function(){return Zt.MIN},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lE,oZ=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return lE},set:function(t){lE=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,r){return Zp(t.name,r.name)},e.prototype.isDefinedOn=function(t){throw g_("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,r){return!1},e.prototype.minPost=function(){return Zt.MIN},e.prototype.maxPost=function(){return new Zt(bl,lE)},e.prototype.makePost=function(t,r){return Ae(typeof t=="string","KeyIndex indexValue must always be a string."),new Zt(t,lE)},e.prototype.toString=function(){return".key"},e}(wA),sl=new oZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cE=function(){function n(e,t,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var s=1;!e.isEmpty();)if(e=e,s=t?r(e.key,t):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return n.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},n.prototype.hasNext=function(){return this.nodeStack_.length>0},n.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},n}(),eu=function(){function n(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??cc.EMPTY_NODE,this.right=o??cc.EMPTY_NODE}return n.prototype.copy=function(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)},n.prototype.count=function(){return this.left.count()+1+this.right.count()},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},n.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},n.prototype.minKey=function(){return this.min_().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(e,t,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()},n.prototype.removeMin_=function(){if(this.left.isEmpty())return cc.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},n.prototype.remove=function(e,t){var r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return cc.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},n.prototype.isRed_=function(){return this.color},n.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},n.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},n.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},n.prototype.rotateLeft_=function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},n.prototype.rotateRight_=function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},n.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},n.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},n.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},n.RED=!0,n.BLACK=!1,n}(),uCe=function(){function n(){}return n.prototype.copy=function(e,t,r,i,o){return this},n.prototype.insert=function(e,t,r){return new eu(e,t,null)},n.prototype.remove=function(e,t){return this},n.prototype.count=function(){return 0},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(e){return!1},n.prototype.reverseTraversal=function(e){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.check_=function(){return 0},n.prototype.isRed_=function(){return!1},n}(),cc=function(){function n(e,t){t===void 0&&(t=n.EMPTY_NODE),this.comparator_=e,this.root_=t}return n.prototype.insert=function(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,eu.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,eu.BLACK,null,null))},n.prototype.get=function(e){for(var t,r=this.root_;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null},n.prototype.getPredecessorKey=function(e){for(var t,r=this.root_,i=null;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},n.prototype.isEmpty=function(){return this.root_.isEmpty()},n.prototype.count=function(){return this.root_.count()},n.prototype.minKey=function(){return this.root_.minKey()},n.prototype.maxKey=function(){return this.root_.maxKey()},n.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},n.prototype.getIterator=function(e){return new cE(this.root_,null,this.comparator_,!1,e)},n.prototype.getIteratorFrom=function(e,t){return new cE(this.root_,e,this.comparator_,!1,t)},n.prototype.getReverseIteratorFrom=function(e,t){return new cE(this.root_,e,this.comparator_,!0,t)},n.prototype.getReverseIterator=function(e){return new cE(this.root_,null,this.comparator_,!0,e)},n.EMPTY_NODE=new uCe,n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lCe(n,e){return Zp(n.name,e.name)}function c4(n,e){return Zp(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YR;function cCe(n){YR=n}var sZ=function(n){return typeof n=="number"?"number:"+BQ(n):"string:"+n},aZ=function(n){if(n.isLeafNode()){var e=n.val();Ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ua(e,".sv"),"Priority must be a string or number.")}else Ae(n===YR||n.isEmpty(),"priority of unexpected type.");Ae(n===YR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O7,vm=function(){function n(e,t){t===void 0&&(t=n.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aZ(this.priorityNode_)}return Object.defineProperty(n,"__childrenNodeConstructor",{get:function(){return O7},set:function(e){O7=e},enumerable:!1,configurable:!0}),n.prototype.isLeafNode=function(){return!0},n.prototype.getPriority=function(){return this.priorityNode_},n.prototype.updatePriority=function(e){return new n(this.value_,e)},n.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE},n.prototype.getChild=function(e){return Ut(e)?this:Wt(e)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE},n.prototype.hasChild=function(){return!1},n.prototype.getPredecessorChildName=function(e,t){return null},n.prototype.updateImmediateChild=function(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},n.prototype.updateChild=function(e,t){var r=Wt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(Ae(r!==".priority"||dh(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wn(e),t)))},n.prototype.isEmpty=function(){return!1},n.prototype.numChildren=function(){return 0},n.prototype.forEachChild=function(e,t){return!1},n.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},n.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+sZ(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",t==="number"?e+=BQ(this.value_):e+=this.value_,this.lazyHash_=PQ(e)}return this.lazyHash_},n.prototype.getValue=function(){return this.value_},n.prototype.compareTo=function(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(Ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},n.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,r=typeof this.value_,i=n.VALUE_TYPE_ORDER.indexOf(t),o=n.VALUE_TYPE_ORDER.indexOf(r);return Ae(i>=0,"Unknown leaf type: "+t),Ae(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},n.prototype.withIndex=function(){return this},n.prototype.isIndexed=function(){return!0},n.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1},n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uZ,lZ;function fCe(n){uZ=n}function hCe(n){lZ=n}var dCe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.compare=function(t,r){var i=t.node.getPriority(),o=r.node.getPriority(),s=i.compareTo(o);return s===0?Zp(t.name,r.name):s},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,r){return!t.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Zt.MIN},e.prototype.maxPost=function(){return new Zt(bl,new vm("[PRIORITY-POST]",lZ))},e.prototype.makePost=function(t,r){var i=uZ(t);return new Zt(r,new vm("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(wA),Xn=new dCe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pCe=Math.log(2),gCe=function(){function n(e){var t=function(o){return parseInt(Math.log(o)/pCe,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return n.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},n}(),iT=function(n,e,t,r){n.sort(e);var i=function(u,l){var c=l-u,d,h;if(c===0)return null;if(c===1)return d=n[u],h=t?t(d):d,new eu(h,d.node,eu.BLACK,null,null);var p=parseInt(c/2,10)+u,v=i(u,p),m=i(p+1,l);return d=n[p],h=t?t(d):d,new eu(h,d.node,eu.BLACK,v,m)},o=function(u){for(var l=null,c=null,d=n.length,h=function(b,C){var E=d-b,T=d;d-=b;var A=i(E+1,T),S=n[E],N=t?t(S):S;p(new eu(N,S.node,C,null,A))},p=function(b){l?(l.left=b,l=b):(c=b,l=b)},v=0;v<u.count;++v){var m=u.nextBitIsOne(),_=Math.pow(2,u.count-(v+1));m?h(_,eu.BLACK):(h(_,eu.BLACK),h(_,eu.RED))}return c},s=new gCe(n.length),a=o(s);return new cc(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JN,Xg={},oT=function(){function n(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(n,"Default",{get:function(){return Ae(Xg&&Xn,"ChildrenNode.ts has not been loaded"),JN=JN||new n({".priority":Xg},{".priority":Xn}),JN},enumerable:!1,configurable:!0}),n.prototype.get=function(e){var t=Ip(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof cc?t:null},n.prototype.hasIndex=function(e){return ua(this.indexSet_,e.toString())},n.prototype.addIndex=function(e,t){Ae(e!==sl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=t.getIterator(Zt.Wrap),s=o.getNext();s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();var a;i?a=iT(r,e.getCompare()):a=Xg;var u=e.toString(),l=gt({},this.indexSet_);l[u]=e;var c=gt({},this.indexes_);return c[u]=a,new n(c,l)},n.prototype.addToIndexes=function(e,t){var r=this,i=eT(this.indexes_,function(o,s){var a=Ip(r.indexSet_,s);if(Ae(a,"Missing index implementation for "+s),o===Xg)if(a.isDefinedOn(e.node)){for(var u=[],l=t.getIterator(Zt.Wrap),c=l.getNext();c;)c.name!==e.name&&u.push(c),c=l.getNext();return u.push(e),iT(u,a.getCompare())}else return Xg;else{var d=t.get(e.name),h=o;return d&&(h=h.remove(new Zt(e.name,d))),h.insert(e,e.node)}});return new n(i,this.indexSet_)},n.prototype.removeFromIndexes=function(e,t){var r=eT(this.indexes_,function(i){if(i===Xg)return i;var o=t.get(e.name);return o?i.remove(new Zt(e.name,o)):i});return new n(r,this.indexSet_)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U0,At=function(){function n(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aZ(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(n,"EMPTY_NODE",{get:function(){return U0||(U0=new n(new cc(c4),null,oT.Default))},enumerable:!1,configurable:!0}),n.prototype.isLeafNode=function(){return!1},n.prototype.getPriority=function(){return this.priorityNode_||U0},n.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)},n.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var t=this.children_.get(e);return t===null?U0:t},n.prototype.getChild=function(e){var t=Wt(e);return t===null?this:this.getImmediateChild(t).getChild(Wn(e))},n.prototype.hasChild=function(e){return this.children_.get(e)!==null},n.prototype.updateImmediateChild=function(e,t){if(Ae(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);var r=new Zt(e,t),i=void 0,o=void 0;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?U0:this.priorityNode_;return new n(i,s,o)},n.prototype.updateChild=function(e,t){var r=Wt(e);if(r===null)return t;Ae(Wt(e)!==".priority"||dh(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Wn(e),t);return this.updateImmediateChild(r,i)},n.prototype.isEmpty=function(){return this.children_.isEmpty()},n.prototype.numChildren=function(){return this.children_.count()},n.prototype.val=function(e){if(this.isEmpty())return null;var t={},r=0,i=0,o=!0;if(this.forEachChild(Xn,function(u,l){t[u]=l.val(e),r++,o&&n.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in t)s[a]=t[a];return s}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},n.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+sZ(this.getPriority().val())+":"),this.forEachChild(Xn,function(t,r){var i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":PQ(e)}return this.lazyHash_},n.prototype.getPredecessorChildName=function(e,t,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Zt(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)},n.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.minKey();return r&&r.name}else return this.children_.minKey()},n.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Zt(t,this.children_.get(t)):null},n.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.maxKey();return r&&r.name}else return this.children_.maxKey()},n.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Zt(t,this.children_.get(t)):null},n.prototype.forEachChild=function(e,t){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return t(i.name,i.node)}):this.children_.inorderTraversal(t)},n.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},n.prototype.getIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,function(s){return s});for(var i=this.children_.getIteratorFrom(e.name,Zt.Wrap),o=i.peek();o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i},n.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},n.prototype.getReverseIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,function(s){return s});for(var i=this.children_.getReverseIteratorFrom(e.name,Zt.Wrap),o=i.peek();o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i},n.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===G1?-1:0},n.prototype.withIndex=function(e){if(e===sl||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,t)},n.prototype.isIndexed=function(e){return e===sl||this.indexMap_.hasIndex(e)},n.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){for(var r=this.getIterator(Xn),i=t.getIterator(Xn),o=r.getNext(),s=i.getNext();o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1},n.prototype.resolveIndex_=function(e){return e===sl?null:this.indexMap_.get(e.toString())},n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n}(),vCe=function(n){Fe(e,n);function e(){return n.call(this,new cc(c4),At.EMPTY_NODE,oT.Default)||this}return e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return At.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(At),G1=new vCe;Object.defineProperties(Zt,{MIN:{value:new Zt(Tc,At.EMPTY_NODE)},MAX:{value:new Zt(bl,G1)}});oZ.__EMPTY_NODE=At.EMPTY_NODE;vm.__childrenNodeConstructor=At;cCe(G1);hCe(G1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mCe=!0;function dr(n,e){if(e===void 0&&(e=null),n===null)return At.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){var t=n;return new vm(t,dr(e))}if(!(n instanceof Array)&&mCe){var r=[],i=!1,o=n;if(fi(o,function(l,c){if(l.substring(0,1)!=="."){var d=dr(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),r.push(new Zt(l,d)))}}),r.length===0)return At.EMPTY_NODE;var s=iT(r,lCe,function(l){return l.name},c4);if(i){var a=iT(r,Xn.getCompare());return new At(s,dr(e),new oT({".priority":a},{".priority":Xn}))}else return new At(s,dr(e),oT.Default)}else{var u=At.EMPTY_NODE;return fi(n,function(l,c){if(ua(n,l)&&l.substring(0,1)!=="."){var d=dr(c);(d.isLeafNode()||!d.isEmpty())&&(u=u.updateImmediateChild(l,d))}}),u.updatePriority(dr(e))}}fCe(dr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f4=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r.indexPath_=t,Ae(!Ut(t)&&Wt(t)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,r){var i=this.extractChild(t.node),o=this.extractChild(r.node),s=i.compareTo(o);return s===0?Zp(t.name,r.name):s},e.prototype.makePost=function(t,r){var i=dr(t),o=At.EMPTY_NODE.updateChild(this.indexPath_,i);return new Zt(r,o)},e.prototype.maxPost=function(){var t=At.EMPTY_NODE.updateChild(this.indexPath_,G1);return new Zt(bl,t)},e.prototype.toString=function(){return xb(this.indexPath_,0).join("/")},e}(wA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Ce=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.compare=function(t,r){var i=t.node.compareTo(r.node);return i===0?Zp(t.name,r.name):i},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,r){return!t.equals(r)},e.prototype.minPost=function(){return Zt.MIN},e.prototype.maxPost=function(){return Zt.MAX},e.prototype.makePost=function(t,r){var i=dr(t);return new Zt(r,i)},e.prototype.toString=function(){return".value"},e}(wA),h4=new _Ce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XR="-",cZ="z",fZ=786,yCe=function(){var n=0,e=[];return function(t){var r=t===n;n=t;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=mm.charAt(t%64),t=Math.floor(t/64);Ae(t===0,"Cannot push at time == 0");var s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=mm.charAt(e[i]);return Ae(s.length===20,"nextPushId: Length should be 20."),s}}(),k7=function(n){if(n===""+r4)return XR;var e=nT(n);if(e!=null)return""+(e+1);for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n.charAt(r);if(t.length<fZ)return t.push(XR),t.join("");for(var i=t.length-1;i>=0&&t[i]===cZ;)i--;if(i===-1)return bl;var o=t[i],s=mm.charAt(mm.indexOf(o)+1);return t[i]=s,t.slice(0,i+1).join("")},R7=function(n){if(n===""+HQ)return Tc;var e=nT(n);if(e!=null)return""+(e-1);for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n.charAt(r);return t[t.length-1]===XR?t.length===1?""+r4:(delete t[t.length-1],t.join("")):(t[t.length-1]=mm.charAt(mm.indexOf(t[t.length-1])-1),t.join("")+cZ.repeat(fZ-t.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(n){return{type:"value",snapshotNode:n}}function _m(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Lb(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Nb(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function bCe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d4=function(){function n(e){this.index_=e}return n.prototype.updateChild=function(e,t,r,i,o,s){Ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(t)?s.trackChildChange(Lb(t,a)):Ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_m(t,r)):s.trackChildChange(Nb(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)},n.prototype.updateFullNode=function(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Xn,function(i,o){t.hasChild(i)||r.trackChildChange(Lb(i,o))}),t.isLeafNode()||t.forEachChild(Xn,function(i,o){if(e.hasChild(i)){var s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Nb(i,o,s))}else r.trackChildChange(_m(i,o))})),t.withIndex(this.index_)},n.prototype.updatePriority=function(e,t){return e.isEmpty()?At.EMPTY_NODE:e.updatePriority(t)},n.prototype.filtersNodes=function(){return!1},n.prototype.getIndexedFilter=function(){return this},n.prototype.getIndex=function(){return this.index_},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dZ=function(){function n(e){this.indexedFilter_=new d4(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e)}return n.prototype.getStartPost=function(){return this.startPost_},n.prototype.getEndPost=function(){return this.endPost_},n.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},n.prototype.updateChild=function(e,t,r,i,o,s){return this.matches(new Zt(t,r))||(r=At.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,o,s)},n.prototype.updateFullNode=function(e,t,r){t.isLeafNode()&&(t=At.EMPTY_NODE);var i=t.withIndex(this.index_);i=i.updatePriority(At.EMPTY_NODE);var o=this;return t.forEachChild(Xn,function(s,a){o.matches(new Zt(s,a))||(i=i.updateImmediateChild(s,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},n.prototype.updatePriority=function(e,t){return e},n.prototype.filtersNodes=function(){return!0},n.prototype.getIndexedFilter=function(){return this.indexedFilter_},n.prototype.getIndex=function(){return this.index_},n.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()},n.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CCe=function(){function n(e){this.rangedFilter_=new dZ(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return n.prototype.updateChild=function(e,t,r,i,o,s){return this.rangedFilter_.matches(new Zt(t,r))||(r=At.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,o,s):this.fullLimitUpdateChild_(e,t,r,o,s)},n.prototype.updateFullNode=function(e,t,r){var i;if(t.isLeafNode()||t.isEmpty())i=At.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=At.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;o.hasNext()&&s<this.limit_;){var a=o.getNext(),u=void 0;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:u=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(a.name,a.node),s++;else break}}else{i=t.withIndex(this.index_),i=i.updatePriority(At.EMPTY_NODE);var l=void 0,c=void 0,d=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();d=function(_,b){return h(b,_)}}else o=i.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();for(var s=0,p=!1;o.hasNext();){var a=o.getNext();!p&&d(l,a)<=0&&(p=!0);var u=p&&s<this.limit_&&d(a,c)<=0;u?s++:i=i.updateImmediateChild(a.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},n.prototype.updatePriority=function(e,t){return e},n.prototype.filtersNodes=function(){return!0},n.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},n.prototype.getIndex=function(){return this.index_},n.prototype.fullLimitUpdateChild_=function(e,t,r,i,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(C,E){return a(E,C)}}else s=this.index_.getCompare();var u=e;Ae(u.numChildren()===this.limit_,"");var l=new Zt(t,r),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),p=i.getChildAfterChild(this.index_,c,this.reverse_);p!=null&&(p.name===t||u.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var v=p==null?1:s(p,l),m=d&&!r.isEmpty()&&v>=0;if(m)return o!=null&&o.trackChildChange(Nb(t,r,h)),u.updateImmediateChild(t,r);o!=null&&o.trackChildChange(Lb(t,h));var _=u.updateImmediateChild(t,At.EMPTY_NODE),b=p!=null&&this.rangedFilter_.matches(p);return b?(o!=null&&o.trackChildChange(_m(p.name,p.node)),_.updateImmediateChild(p.name,p.node)):_}else return r.isEmpty()?e:d&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Lb(c.name,c.node)),o.trackChildChange(_m(t,r))),u.updateImmediateChild(t,r).updateImmediateChild(c.name,At.EMPTY_NODE)):e},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pZ=function(){function n(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xn}return n.prototype.hasStart=function(){return this.startSet_},n.prototype.hasStartAfter=function(){return this.startAfterSet_},n.prototype.hasEndBefore=function(){return this.endBeforeSet_},n.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},n.prototype.getIndexStartValue=function(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},n.prototype.getIndexStartName=function(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tc},n.prototype.hasEnd=function(){return this.endSet_},n.prototype.getIndexEndValue=function(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},n.prototype.getIndexEndName=function(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bl},n.prototype.hasLimit=function(){return this.limitSet_},n.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},n.prototype.getLimit=function(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_},n.prototype.getIndex=function(){return this.index_},n.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},n.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xn},n.prototype.copy=function(){var e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},n}();function wCe(n){return n.loadsAllData()?new d4(n.getIndex()):n.hasLimit()?new CCe(n):new dZ(n)}function ECe(n,e){var t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function SCe(n,e){var t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function QR(n,e,t){var r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function TCe(n,e,t){var r;if(n.index_===sl)typeof e=="string"&&(e=k7(e)),r=QR(n,e,t);else{var i=void 0;t==null?i=bl:i=k7(t),r=QR(n,e,i)}return r.startAfterSet_=!0,r}function ZR(n,e,t){var r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function DCe(n,e,t){var r,i;return n.index_===sl?(typeof e=="string"&&(e=R7(e)),i=ZR(n,e,t)):(t==null?r=Tc:r=R7(t),i=ZR(n,e,r)),i.endBeforeSet_=!0,i}function EA(n,e){var t=n.copy();return t.index_=e,t}function P7(n){var e={};if(n.isDefault())return e;var t;return n.index_===Xn?t="$priority":n.index_===h4?t="$value":n.index_===sl?t="$key":(Ae(n.index_ instanceof f4,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=oi(t),n.startSet_&&(e.startAt=oi(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+oi(n.indexStartName_))),n.endSet_&&(e.endAt=oi(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+oi(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function M7(n){var e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;var t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Xn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ACe=function(n){Fe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.repoInfo_=t,s.onDataUpdate_=r,s.authTokenProvider_=i,s.appCheckTokenProvider_=o,s.log_=z1("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,r){return r!==void 0?"tag$"+r:(Ae(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,r,i,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,i),l={};this.listens_[u]=l;var c=P7(t._queryParams);this.restRequest_(a+".json",c,function(d,h){var p=h;if(d===404&&(p=null,d=null),d===null&&s.onDataUpdate_(a,p,!1,i),Ip(s.listens_,u)===l){var v;d?d===401?v="permission_denied":v="rest_error:"+d:v="ok",o(v,null)}})},e.prototype.unlisten=function(t,r){var i=e.getListenId_(t,r);delete this.listens_[i]},e.prototype.get=function(t){var r=this,i=P7(t._queryParams),o=t._path.toString(),s=new Ii;return this.restRequest_(o+".json",i,function(a,u){var l=u;a===404&&(l=null,a=null),a===null?(r.onDataUpdate_(o,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=Wi(s,2),u=a[0],l=a[1];u&&u.accessToken&&(r.auth=u.accessToken),l&&l.token&&(r.ac=l.token);var c=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+t+"?ns="+o.repoInfo_.namespace+Tbe(r);o.log_("Sending REST request for "+c);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(i&&d.readyState===4){o.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);var h=null;if(d.status>=200&&d.status<300){try{h=Ib(d.responseText)}catch{zi("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&zi("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})},e}(tZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ICe=function(){function n(){this.rootNode_=At.EMPTY_NODE}return n.prototype.getNode=function(e){return this.rootNode_.getChild(e)},n.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return{value:null,children:new Map}}function __(n,e,t){if(Ut(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{var r=Wt(e);n.children.has(r)||n.children.set(r,sT());var i=n.children.get(r);e=Wn(e),__(i,e,t)}}function JR(n,e){if(Ut(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;var t=n.value;return n.value=null,t.forEachChild(Xn,function(o,s){__(n,new Tn(o),s)}),JR(n,e)}else if(n.children.size>0){var r=Wt(e);if(e=Wn(e),n.children.has(r)){var i=JR(n.children.get(r),e);i&&n.children.delete(r)}return n.children.size===0}else return!0}function eP(n,e,t){n.value!==null?t(e,n.value):xCe(n,function(r,i){var o=new Tn(e.toString()+"/"+r);eP(i,o,t)})}function xCe(n,e){n.children.forEach(function(t,r){e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gZ=function(){function n(e){this.collection_=e,this.last_=null}return n.prototype.get=function(){var e=this.collection_.get(),t=gt({},e);return this.last_&&fi(this.last_,function(r,i){t[r]=t[r]-i}),this.last_=e,t},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F7=10*1e3,LCe=30*1e3,NCe=5*60*1e3,OCe=function(){function n(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gZ(e);var r=F7+(LCe-F7)*Math.random();My(this.reportStats_.bind(this),Math.floor(r))}return n.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),r={},i=!1;fi(t,function(o,s){s>0&&ua(e.statsToReport_,o)&&(r[o]=s,i=!0)}),i&&this.server_.reportStats(r),My(this.reportStats_.bind(this),Math.floor(Math.random()*2*NCe))},n}();function kCe(n,e){n.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(hu||(hu={}));function p4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function g4(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function v4(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RCe=function(){function n(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=hu.ACK_USER_WRITE,this.source=p4()}return n.prototype.operationForChild=function(e){if(Ut(this.path)){if(this.affectedTree.value!=null)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new Tn(e));return new n(pn(),t,this.revert)}else return Ae(Wt(this.path)===e,"operationForChild called for unrelated child."),new n(Wn(this.path),this.affectedTree,this.revert)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vZ=function(){function n(e,t){this.source=e,this.path=t,this.type=hu.LISTEN_COMPLETE}return n.prototype.operationForChild=function(e){return Ut(this.path)?new n(this.source,pn()):new n(this.source,Wn(this.path))},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA=function(){function n(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=hu.OVERWRITE}return n.prototype.operationForChild=function(e){return Ut(this.path)?new n(this.source,pn(),this.snap.getImmediateChild(e)):new n(this.source,Wn(this.path),this.snap)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m4=function(){function n(e,t,r){this.source=e,this.path=t,this.children=r,this.type=hu.MERGE}return n.prototype.operationForChild=function(e){if(Ut(this.path)){var t=this.children.subtree(new Tn(e));return t.isEmpty()?null:t.value?new SA(this.source,pn(),t.value):new n(this.source,pn(),t)}else return Ae(Wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Wn(this.path),this.children)},n.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ph=function(){function n(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}return n.prototype.isFullyInitialized=function(){return this.fullyInitialized_},n.prototype.isFiltered=function(){return this.filtered_},n.prototype.isCompleteForPath=function(e){if(Ut(e))return this.isFullyInitialized()&&!this.filtered_;var t=Wt(e);return this.isCompleteForChild(t)},n.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},n.prototype.getNode=function(){return this.node_},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PCe=function(){function n(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return n}();function MCe(n,e,t,r){var i=[],o=[];return e.forEach(function(s){s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(bCe(s.childName,s.snapshotNode))}),j0(n,i,"child_removed",e,r,t),j0(n,i,"child_added",e,r,t),j0(n,i,"child_moved",o,r,t),j0(n,i,"child_changed",e,r,t),j0(n,i,"value",e,r,t),i}function j0(n,e,t,r,i,o){var s=r.filter(function(a){return a.type===t});s.sort(function(a,u){return BCe(n,a,u)}),s.forEach(function(a){var u=FCe(n,a,o);i.forEach(function(l){l.respondsTo(a.type)&&e.push(l.createEvent(u,n.query_))})})}function FCe(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function BCe(n,e,t){if(e.childName==null||t.childName==null)throw g_("Should only compare child_ events.");var r=new Zt(e.childName,e.snapshotNode),i=new Zt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n,e){return{eventCache:n,serverCache:e}}function By(n,e,t,r){return TA(new ph(e,t,r),n.serverCache)}function mZ(n,e,t,r){return TA(n.eventCache,new ph(e,t,r))}function aT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function xp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eO,HCe=function(){return eO||(eO=new cc(v1e)),eO},la=function(){function n(e,t){t===void 0&&(t=HCe()),this.value=e,this.children=t}return n.fromObject=function(e){var t=new n(null);return fi(e,function(r,i){t=t.set(new Tn(r),i)}),t},n.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},n.prototype.findRootMostMatchingPathAndValue=function(e,t){if(this.value!=null&&t(this.value))return{path:pn(),value:this.value};if(Ut(e))return null;var r=Wt(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(Wn(e),t);if(o!=null){var s=ur(new Tn(r),o.path);return{path:s,value:o.value}}else return null}else return null},n.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},n.prototype.subtree=function(e){if(Ut(e))return this;var t=Wt(e),r=this.children.get(t);return r!==null?r.subtree(Wn(e)):new n(null)},n.prototype.set=function(e,t){if(Ut(e))return new n(t,this.children);var r=Wt(e),i=this.children.get(r)||new n(null),o=i.set(Wn(e),t),s=this.children.insert(r,o);return new n(this.value,s)},n.prototype.remove=function(e){if(Ut(e))return this.children.isEmpty()?new n(null):new n(null,this.children);var t=Wt(e),r=this.children.get(t);if(r){var i=r.remove(Wn(e)),o=void 0;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this},n.prototype.get=function(e){if(Ut(e))return this.value;var t=Wt(e),r=this.children.get(t);return r?r.get(Wn(e)):null},n.prototype.setTree=function(e,t){if(Ut(e))return t;var r=Wt(e),i=this.children.get(r)||new n(null),o=i.setTree(Wn(e),t),s=void 0;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new n(this.value,s)},n.prototype.fold=function(e){return this.fold_(pn(),e)},n.prototype.fold_=function(e,t){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(ur(e,i),t)}),t(e,this.value,r)},n.prototype.findOnPath=function(e,t){return this.findOnPath_(e,pn(),t)},n.prototype.findOnPath_=function(e,t,r){var i=this.value?r(t,this.value):!1;if(i)return i;if(Ut(e))return null;var o=Wt(e),s=this.children.get(o);return s?s.findOnPath_(Wn(e),ur(t,o),r):null},n.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,pn(),t)},n.prototype.foreachOnPath_=function(e,t,r){if(Ut(e))return this;this.value&&r(t,this.value);var i=Wt(e),o=this.children.get(i);return o?o.foreachOnPath_(Wn(e),ur(t,i),r):new n(null)},n.prototype.foreach=function(e){this.foreach_(pn(),e)},n.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(r,i){i.foreach_(ur(e,r),t)}),this.value&&t(e,this.value)},n.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,r){r.value&&e(t,r.value)})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _c=function(){function n(e){this.writeTree_=e}return n.empty=function(){return new n(new la(null))},n}();function Hy(n,e,t){if(Ut(e))return new _c(new la(t));var r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,s=Zo(i,e);return o=o.updateChild(s,t),new _c(n.writeTree_.set(i,o))}else{var a=new la(t),u=n.writeTree_.setTree(e,a);return new _c(u)}}function tP(n,e,t){var r=n;return fi(t,function(i,o){r=Hy(r,ur(e,i),o)}),r}function B7(n,e){if(Ut(e))return _c.empty();var t=n.writeTree_.setTree(e,new la(null));return new _c(t)}function nP(n,e){return Jp(n,e)!=null}function Jp(n,e){var t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Zo(t.path,e)):null}function H7(n){var e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Xn,function(r,i){e.push(new Zt(r,i))}):n.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Zt(r,i.value))}),e}function $f(n,e){if(Ut(e))return n;var t=Jp(n,e);return t!=null?new _c(new la(t)):new _c(n.writeTree_.subtree(e))}function rP(n){return n.writeTree_.isEmpty()}function ym(n,e){return _Z(pn(),n.writeTree_,e)}function _Z(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(Ae(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=_Z(ur(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(ur(n,".priority"),r)),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e){return wZ(e,n)}function VCe(n,e,t,r,i){Ae(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Hy(n.visibleWrites,e,t)),n.lastWriteId=r}function WCe(n,e,t,r){Ae(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=tP(n.visibleWrites,e,t),n.lastWriteId=r}function UCe(n,e){for(var t=0;t<n.allWrites.length;t++){var r=n.allWrites[t];if(r.writeId===e)return r}return null}function jCe(n,e){var t=n.allWrites.findIndex(function(l){return l.writeId===e});Ae(t>=0,"removeWrite called with nonexistent writeId.");var r=n.allWrites[t];n.allWrites.splice(t,1);for(var i=r.visible,o=!1,s=n.allWrites.length-1;i&&s>=0;){var a=n.allWrites[s];a.visible&&(s>=t&&qCe(a,r.path)?i=!1:Ta(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return zCe(n),!0;if(r.snap)n.visibleWrites=B7(n.visibleWrites,r.path);else{var u=r.children;fi(u,function(l){n.visibleWrites=B7(n.visibleWrites,ur(r.path,l))})}return!0}else return!1}function qCe(n,e){if(n.snap)return Ta(n.path,e);for(var t in n.children)if(n.children.hasOwnProperty(t)&&Ta(ur(n.path,t),e))return!0;return!1}function zCe(n){n.visibleWrites=yZ(n.allWrites,GCe,pn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function GCe(n){return n.visible}function yZ(n,e,t){for(var r=_c.empty(),i=0;i<n.length;++i){var o=n[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)Ta(t,s)?(a=Zo(t,s),r=Hy(r,a,o.snap)):Ta(s,t)&&(a=Zo(s,t),r=Hy(r,pn(),o.snap.getChild(a)));else if(o.children){if(Ta(t,s))a=Zo(t,s),r=tP(r,a,o.children);else if(Ta(s,t))if(a=Zo(s,t),Ut(a))r=tP(r,pn(),o.children);else{var u=Ip(o.children,Wt(a));if(u){var l=u.getChild(Wn(a));r=Hy(r,pn(),l)}}}else throw g_("WriteRecord should have .snap or .children")}}return r}function bZ(n,e,t,r,i){if(!r&&!i){var o=Jp(n.visibleWrites,e);if(o!=null)return o;var s=$f(n.visibleWrites,e);if(rP(s))return t;if(t==null&&!nP(s,pn()))return null;var a=t||At.EMPTY_NODE;return ym(s,a)}else{var u=$f(n.visibleWrites,e);if(!i&&rP(u))return t;if(!i&&t==null&&!nP(u,pn()))return null;var l=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Ta(h.path,e)||Ta(e,h.path))},c=yZ(n.allWrites,l,e),a=t||At.EMPTY_NODE;return ym(c,a)}}function $Ce(n,e,t){var r=At.EMPTY_NODE,i=Jp(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Xn,function(a,u){r=r.updateImmediateChild(a,u)}),r;if(t){var o=$f(n.visibleWrites,e);return t.forEachChild(Xn,function(a,u){var l=ym($f(o,new Tn(a)),u);r=r.updateImmediateChild(a,l)}),H7(o).forEach(function(a){r=r.updateImmediateChild(a.name,a.node)}),r}else{var s=$f(n.visibleWrites,e);return H7(s).forEach(function(a){r=r.updateImmediateChild(a.name,a.node)}),r}}function KCe(n,e,t,r,i){Ae(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=ur(e,t);if(nP(n.visibleWrites,o))return null;var s=$f(n.visibleWrites,o);return rP(s)?i.getChild(t):ym(s,i.getChild(t))}function YCe(n,e,t,r){var i=ur(e,t),o=Jp(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){var s=$f(n.visibleWrites,i);return ym(s,r.getNode().getImmediateChild(t))}else return null}function XCe(n,e){return Jp(n.visibleWrites,e)}function QCe(n,e,t,r,i,o,s){var a,u=$f(n.visibleWrites,e),l=Jp(u,pn());if(l!=null)a=l;else if(t!=null)a=ym(u,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){for(var c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=h.getNext();p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function ZCe(){return{visibleWrites:_c.empty(),allWrites:[],lastWriteId:-1}}function uT(n,e,t,r){return bZ(n.writeTree,n.treePath,e,t,r)}function _4(n,e){return $Ce(n.writeTree,n.treePath,e)}function V7(n,e,t,r){return KCe(n.writeTree,n.treePath,e,t,r)}function lT(n,e){return XCe(n.writeTree,ur(n.treePath,e))}function JCe(n,e,t,r,i,o){return QCe(n.writeTree,n.treePath,e,t,r,i,o)}function y4(n,e,t){return YCe(n.writeTree,n.treePath,e,t)}function CZ(n,e){return wZ(ur(n.treePath,e),n.writeTree)}function wZ(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ewe=function(){function n(){this.changeMap=new Map}return n.prototype.trackChildChange=function(e){var t=e.type,r=e.childName;Ae(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Ae(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,Nb(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,Lb(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,_m(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,Nb(r,e.snapshotNode,i.oldSnap));else throw g_("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},n.prototype.getChanges=function(){return Array.from(this.changeMap.values())},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var twe=function(){function n(){}return n.prototype.getCompleteChild=function(e){return null},n.prototype.getChildAfterChild=function(e,t,r){return null},n}(),EZ=new twe,b4=function(){function n(e,t,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}return n.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ph(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return y4(this.writes_,e,r)},n.prototype.getChildAfterChild=function(e,t,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xp(this.viewCache_),o=JCe(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nwe(n){return{filter:n}}function rwe(n,e){Ae(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ae(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function iwe(n,e,t,r,i){var o=new ewe,s,a;if(t.type===hu.OVERWRITE){var u=t;u.source.fromUser?s=iP(n,e,u.path,u.snap,r,i,o):(Ae(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ut(u.path),s=cT(n,e,u.path,u.snap,r,i,a,o))}else if(t.type===hu.MERGE){var l=t;l.source.fromUser?s=swe(n,e,l.path,l.children,r,i,o):(Ae(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=oP(n,e,l.path,l.children,r,i,a,o))}else if(t.type===hu.ACK_USER_WRITE){var c=t;c.revert?s=lwe(n,e,c.path,r,i,o):s=awe(n,e,c.path,c.affectedTree,r,i,o)}else if(t.type===hu.LISTEN_COMPLETE)s=uwe(n,e,t.path,r,o);else throw g_("Unknown operation type: "+t.type);var d=o.getChanges();return owe(e,s,d),{viewCache:s,changes:d}}function owe(n,e,t){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=aT(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(hZ(aT(e)))}}function SZ(n,e,t,r,i,o){var s=e.eventCache;if(lT(r,t)!=null)return e;var a=void 0,u=void 0;if(Ut(t))if(Ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=xp(e),c=l instanceof At?l:At.EMPTY_NODE,d=_4(r,c);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{var h=uT(r,xp(e));a=n.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var p=Wt(t);if(p===".priority"){Ae(dh(t)===1,"Can't have a priority with additional path components");var v=s.getNode();u=e.serverCache.getNode();var m=V7(r,t,v,u);m!=null?a=n.filter.updatePriority(v,m):a=s.getNode()}else{var _=Wn(t),b=void 0;if(s.isCompleteForChild(p)){u=e.serverCache.getNode();var C=V7(r,t,s.getNode(),u);C!=null?b=s.getNode().getImmediateChild(p).updateChild(_,C):b=s.getNode().getImmediateChild(p)}else b=y4(r,p,e.serverCache);b!=null?a=n.filter.updateChild(s.getNode(),p,b,_,i,o):a=s.getNode()}}return By(e,a,s.isFullyInitialized()||Ut(t),n.filter.filtersNodes())}function cT(n,e,t,r,i,o,s,a){var u=e.serverCache,l,c=s?n.filter:n.filter.getIndexedFilter();if(Ut(t))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var d=u.getNode().updateChild(t,r);l=c.updateFullNode(u.getNode(),d,null)}else{var h=Wt(t);if(!u.isCompleteForPath(t)&&dh(t)>1)return e;var p=Wn(t),v=u.getNode().getImmediateChild(h),m=v.updateChild(p,r);h===".priority"?l=c.updatePriority(u.getNode(),m):l=c.updateChild(u.getNode(),h,m,p,EZ,null)}var _=mZ(e,l,u.isFullyInitialized()||Ut(t),c.filtersNodes()),b=new b4(i,_,o);return SZ(n,_,t,i,b,a)}function iP(n,e,t,r,i,o,s){var a=e.eventCache,u,l,c=new b4(i,e,o);if(Ut(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,s),u=By(e,l,!0,n.filter.filtersNodes());else{var d=Wt(t);if(d===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),r),u=By(e,l,a.isFullyInitialized(),a.isFiltered());else{var h=Wn(t),p=a.getNode().getImmediateChild(d),v=void 0;if(Ut(h))v=r;else{var m=c.getCompleteChild(d);m!=null?u4(h)===".priority"&&m.getChild(rZ(h)).isEmpty()?v=m:v=m.updateChild(h,r):v=At.EMPTY_NODE}if(p.equals(v))u=e;else{var _=n.filter.updateChild(a.getNode(),d,v,h,c,s);u=By(e,_,a.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function W7(n,e){return n.eventCache.isCompleteForChild(e)}function swe(n,e,t,r,i,o,s){var a=e;return r.foreach(function(u,l){var c=ur(t,u);W7(e,Wt(c))&&(a=iP(n,a,c,l,i,o,s))}),r.foreach(function(u,l){var c=ur(t,u);W7(e,Wt(c))||(a=iP(n,a,c,l,i,o,s))}),a}function U7(n,e,t){return t.foreach(function(r,i){e=e.updateChild(r,i)}),e}function oP(n,e,t,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u=e,l;Ut(t)?l=r:l=new la(null).setTree(t,r);var c=e.serverCache.getNode();return l.children.inorderTraversal(function(d,h){if(c.hasChild(d)){var p=e.serverCache.getNode().getImmediateChild(d),v=U7(n,p,h);u=cT(n,u,new Tn(d),v,i,o,s,a)}}),l.children.inorderTraversal(function(d,h){var p=!e.serverCache.isCompleteForChild(d)&&h.value===void 0;if(!c.hasChild(d)&&!p){var v=e.serverCache.getNode().getImmediateChild(d),m=U7(n,v,h);u=cT(n,u,new Tn(d),m,i,o,s,a)}}),u}function awe(n,e,t,r,i,o,s){if(lT(i,t)!=null)return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Ut(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return cT(n,e,t,u.getNode().getChild(t),i,o,a,s);if(Ut(t)){var l=new la(null);return u.getNode().forEachChild(sl,function(d,h){l=l.set(new Tn(d),h)}),oP(n,e,t,l,i,o,a,s)}else return e}else{var c=new la(null);return r.foreach(function(d,h){var p=ur(t,d);u.isCompleteForPath(p)&&(c=c.set(d,u.getNode().getChild(p)))}),oP(n,e,t,c,i,o,a,s)}}function uwe(n,e,t,r,i){var o=e.serverCache,s=mZ(e,o.getNode(),o.isFullyInitialized()||Ut(t),o.isFiltered());return SZ(n,s,t,r,EZ,i)}function lwe(n,e,t,r,i,o){var s;if(lT(r,t)!=null)return e;var a=new b4(r,e,i),u=e.eventCache.getNode(),l=void 0;if(Ut(t)||Wt(t)===".priority"){var c=void 0;if(e.serverCache.isFullyInitialized())c=uT(r,xp(e));else{var d=e.serverCache.getNode();Ae(d instanceof At,"serverChildren would be complete if leaf node"),c=_4(r,d)}c=c,l=n.filter.updateFullNode(u,c,o)}else{var h=Wt(t),p=y4(r,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=u.getImmediateChild(h)),p!=null?l=n.filter.updateChild(u,h,p,Wn(t),a,o):e.eventCache.getNode().hasChild(h)?l=n.filter.updateChild(u,h,At.EMPTY_NODE,Wn(t),a,o):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=uT(r,xp(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||lT(r,pn())!=null,By(e,l,s,n.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cwe=function(){function n(e,t){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new d4(r.getIndex()),o=wCe(r);this.processor_=nwe(o);var s=t.serverCache,a=t.eventCache,u=i.updateFullNode(At.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(At.EMPTY_NODE,a.getNode(),null),c=new ph(u,s.isFullyInitialized(),i.filtersNodes()),d=new ph(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=TA(d,c),this.eventGenerator_=new PCe(this.query_)}return Object.defineProperty(n.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),n}();function fwe(n){return n.viewCache_.serverCache.getNode()}function hwe(n){return aT(n.viewCache_)}function dwe(n,e){var t=xp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ut(e)&&!t.getImmediateChild(Wt(e)).isEmpty())?t.getChild(e):null}function j7(n){return n.eventRegistrations_.length===0}function pwe(n,e){n.eventRegistrations_.push(e)}function q7(n,e,t){var r=[];if(t){Ae(e==null,"A cancel should cancel all event registrations.");var i=n.query._path;n.eventRegistrations_.forEach(function(u){var l=u.createCancelEvent(t,i);l&&r.push(l)})}if(e){for(var o=[],s=0;s<n.eventRegistrations_.length;++s){var a=n.eventRegistrations_[s];if(!a.matches(e))o.push(a);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function z7(n,e,t,r){e.type===hu.MERGE&&e.source.queryId!==null&&(Ae(xp(n.viewCache_),"We should always have a full cache before handling merges"),Ae(aT(n.viewCache_),"Missing event cache, even though we have a server cache"));var i=n.viewCache_,o=iwe(n.processor_,i,e,t,r);return rwe(n.processor_,o.viewCache),Ae(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,TZ(n,o.changes,o.viewCache.eventCache.getNode(),null)}function gwe(n,e){var t=n.viewCache_.eventCache,r=[];if(!t.getNode().isLeafNode()){var i=t.getNode();i.forEachChild(Xn,function(o,s){r.push(_m(o,s))})}return t.isFullyInitialized()&&r.push(hZ(t.getNode())),TZ(n,r,t.getNode(),e)}function TZ(n,e,t,r){var i=r?[r]:n.eventRegistrations_;return MCe(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT,DZ=function(){function n(){this.views=new Map}return n}();function vwe(n){Ae(!fT,"__referenceConstructor has already been defined"),fT=n}function mwe(){return Ae(fT,"Reference.ts has not been loaded"),fT}function _we(n){return n.views.size===0}function C4(n,e,t,r){var i,o,s=e.source.queryId;if(s!==null){var a=n.views.get(s);return Ae(a!=null,"SyncTree gave us an op for an invalid query."),z7(a,e,t,r)}else{var u=[];try{for(var l=Li(n.views.values()),c=l.next();!c.done;c=l.next()){var a=c.value;u=u.concat(z7(a,e,t,r))}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}}function AZ(n,e,t,r,i){var o=e._queryIdentifier,s=n.views.get(o);if(!s){var a=uT(t,i?r:null),u=!1;a?u=!0:r instanceof At?(a=_4(t,r),u=!1):(a=At.EMPTY_NODE,u=!1);var l=TA(new ph(a,u,!1),new ph(r,i,!1));return new cwe(e,l)}return s}function ywe(n,e,t,r,i,o){var s=AZ(n,e,r,i,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),pwe(s,t),gwe(s,t)}function bwe(n,e,t,r){var i,o,s=e._queryIdentifier,a=[],u=[],l=gh(n);if(s==="default")try{for(var c=Li(n.views.entries()),d=c.next();!d.done;d=c.next()){var h=Wi(d.value,2),p=h[0],v=h[1];u=u.concat(q7(v,t,r)),j7(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||a.push(v.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else{var v=n.views.get(s);v&&(u=u.concat(q7(v,t,r)),j7(v)&&(n.views.delete(s),v.query._queryParams.loadsAllData()||a.push(v.query)))}return l&&!gh(n)&&a.push(new(mwe())(e._repo,e._path)),{removed:a,events:u}}function IZ(n){var e,t,r=[];try{for(var i=Li(n.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}function Kf(n,e){var t,r,i=null;try{for(var o=Li(n.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||dwe(a,e)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function xZ(n,e){var t=e._queryParams;if(t.loadsAllData())return AA(n);var r=e._queryIdentifier;return n.views.get(r)}function LZ(n,e){return xZ(n,e)!=null}function gh(n){return AA(n)!=null}function AA(n){var e,t;try{for(var r=Li(n.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hT;function Cwe(n){Ae(!hT,"__referenceConstructor has already been defined"),hT=n}function wwe(){return Ae(hT,"Reference.ts has not been loaded"),hT}var Ewe=1,G7=function(){function n(e){this.listenProvider_=e,this.syncPointTree_=new la(null),this.pendingWriteTree_=ZCe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return n}();function w4(n,e,t,r,i){return VCe(n.pendingWriteTree_,e,t,r,i),i?y_(n,new SA(p4(),e,t)):[]}function Swe(n,e,t,r){WCe(n.pendingWriteTree_,e,t,r);var i=la.fromObject(t);return y_(n,new m4(p4(),e,i))}function Rf(n,e,t){t===void 0&&(t=!1);var r=UCe(n.pendingWriteTree_,e),i=jCe(n.pendingWriteTree_,e);if(i){var o=new la(null);return r.snap!=null?o=o.set(pn(),!0):fi(r.children,function(s){o=o.set(new Tn(s),!0)}),y_(n,new RCe(r.path,o,t))}else return[]}function $1(n,e,t){return y_(n,new SA(g4(),e,t))}function Twe(n,e,t){var r=la.fromObject(t);return y_(n,new m4(g4(),e,r))}function Dwe(n,e){return y_(n,new vZ(g4(),e))}function Awe(n,e,t){var r=E4(n,t);if(r){var i=S4(r),o=i.path,s=i.queryId,a=Zo(o,e),u=new vZ(v4(s),a);return T4(n,o,u)}else return[]}function sP(n,e,t,r){var i=e._path,o=n.syncPointTree_.get(i),s=[];if(o&&(e._queryIdentifier==="default"||LZ(o,e))){var a=bwe(o,e,t,r);_we(o)&&(n.syncPointTree_=n.syncPointTree_.remove(i));var u=a.removed;s=a.events;var l=u.findIndex(function(C){return C._queryParams.loadsAllData()})!==-1,c=n.syncPointTree_.findOnPath(i,function(C,E){return gh(E)});if(l&&!c){var d=n.syncPointTree_.subtree(i);if(!d.isEmpty())for(var h=Nwe(d),p=0;p<h.length;++p){var v=h[p],m=v.query,_=kZ(n,v);n.listenProvider_.startListening(Vy(m),dT(n,m),_.hashFn,_.onComplete)}}if(!c&&u.length>0&&!r)if(l){var b=null;n.listenProvider_.stopListening(Vy(e),b)}else u.forEach(function(C){var E=n.queryToTagMap.get(xA(C));n.listenProvider_.stopListening(Vy(C),E)});Owe(n,u)}return s}function Iwe(n,e,t,r){var i=E4(n,r);if(i!=null){var o=S4(i),s=o.path,a=o.queryId,u=Zo(s,e),l=new SA(v4(a),u,t);return T4(n,s,l)}else return[]}function xwe(n,e,t,r){var i=E4(n,r);if(i){var o=S4(i),s=o.path,a=o.queryId,u=Zo(s,e),l=la.fromObject(t),c=new m4(v4(a),u,l);return T4(n,s,c)}else return[]}function $7(n,e,t){var r=e._path,i=null,o=!1;n.syncPointTree_.foreachOnPath(r,function(m,_){var b=Zo(m,r);i=i||Kf(_,b),o=o||gh(_)});var s=n.syncPointTree_.get(r);s?(o=o||gh(s),i=i||Kf(s,pn())):(s=new DZ,n.syncPointTree_=n.syncPointTree_.set(r,s));var a;if(i!=null)a=!0;else{a=!1,i=At.EMPTY_NODE;var u=n.syncPointTree_.subtree(r);u.foreachChild(function(m,_){var b=Kf(_,pn());b&&(i=i.updateImmediateChild(m,b))})}var l=LZ(s,e);if(!l&&!e._queryParams.loadsAllData()){var c=xA(e);Ae(!n.queryToTagMap.has(c),"View does not exist, but we have a tag");var d=kwe();n.queryToTagMap.set(c,d),n.tagToQueryMap.set(d,c)}var h=DA(n.pendingWriteTree_,r),p=ywe(s,e,t,h,i,a);if(!l&&!o){var v=xZ(s,e);p=p.concat(Rwe(n,e,v))}return p}function IA(n,e,t){var r=!0,i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,function(s,a){var u=Zo(s,e),l=Kf(a,u);if(l)return l});return bZ(i,e,o,t,r)}function Lwe(n,e){var t=e._path,r=null;n.syncPointTree_.foreachOnPath(t,function(l,c){var d=Zo(l,t);r=r||Kf(c,d)});var i=n.syncPointTree_.get(t);i?r=r||Kf(i,pn()):(i=new DZ,n.syncPointTree_=n.syncPointTree_.set(t,i));var o=r!=null,s=o?new ph(r,!0,!1):null,a=DA(n.pendingWriteTree_,e._path),u=AZ(i,e,a,o?s.getNode():At.EMPTY_NODE,o);return hwe(u)}function y_(n,e){return NZ(e,n.syncPointTree_,null,DA(n.pendingWriteTree_,pn()))}function NZ(n,e,t,r){if(Ut(n.path))return OZ(n,e,t,r);var i=e.get(pn());t==null&&i!=null&&(t=Kf(i,pn()));var o=[],s=Wt(n.path),a=n.operationForChild(s),u=e.children.get(s);if(u&&a){var l=t?t.getImmediateChild(s):null,c=CZ(r,s);o=o.concat(NZ(a,u,l,c))}return i&&(o=o.concat(C4(i,n,r,t))),o}function OZ(n,e,t,r){var i=e.get(pn());t==null&&i!=null&&(t=Kf(i,pn()));var o=[];return e.children.inorderTraversal(function(s,a){var u=t?t.getImmediateChild(s):null,l=CZ(r,s),c=n.operationForChild(s);c&&(o=o.concat(OZ(c,a,u,l)))}),i&&(o=o.concat(C4(i,n,r,t))),o}function kZ(n,e){var t=e.query,r=dT(n,t);return{hashFn:function(){var i=fwe(e)||At.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?Awe(n,t._path,r):Dwe(n,t._path);var o=y1e(i,t);return sP(n,t,null,o)}}}function dT(n,e){var t=xA(e);return n.queryToTagMap.get(t)}function xA(n){return n._path.toString()+"$"+n._queryIdentifier}function E4(n,e){return n.tagToQueryMap.get(e)}function S4(n){var e=n.indexOf("$");return Ae(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Tn(n.substr(0,e))}}function T4(n,e,t){var r=n.syncPointTree_.get(e);Ae(r,"Missing sync point for query tag that we're tracking");var i=DA(n.pendingWriteTree_,e);return C4(r,t,i,null)}function Nwe(n){return n.fold(function(e,t,r){if(t&&gh(t)){var i=AA(t);return[i]}else{var o=[];return t&&(o=IZ(t)),fi(r,function(s,a){o=o.concat(a)}),o}})}function Vy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(wwe())(n._repo,n._path):n}function Owe(n,e){for(var t=0;t<e.length;++t){var r=e[t];if(!r._queryParams.loadsAllData()){var i=xA(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}function kwe(){return Ewe++}function Rwe(n,e,t){var r=e._path,i=dT(n,e),o=kZ(n,t),s=n.listenProvider_.startListening(Vy(e),i,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(r);if(i)Ae(!gh(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold(function(d,h,p){if(!Ut(d)&&h&&gh(h))return[AA(h).query];var v=[];return h&&(v=v.concat(IZ(h).map(function(m){return m.query}))),fi(p,function(m,_){v=v.concat(_)}),v}),l=0;l<u.length;++l){var c=u[l];n.listenProvider_.stopListening(Vy(c),dT(n,c))}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pwe=function(){function n(e){this.node_=e}return n.prototype.getImmediateChild=function(e){var t=this.node_.getImmediateChild(e);return new n(t)},n.prototype.node=function(){return this.node_},n}(),Mwe=function(){function n(e,t){this.syncTree_=e,this.path_=t}return n.prototype.getImmediateChild=function(e){var t=ur(this.path_,e);return new n(this.syncTree_,t)},n.prototype.node=function(){return IA(this.syncTree_,this.path_)},n}(),Fwe=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},K7=function(n,e,t){if(!n||typeof n!="object")return n;if(Ae(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Bwe(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Hwe(n[".sv"],e);Ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Bwe=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Ae(!1,"Unexpected server value: "+n)}},Hwe=function(n,e,t){n.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2));var r=n.increment;typeof r!="number"&&Ae(!1,"Unexpected increment value: "+r);var i=e.node();if(Ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,s=o.getValue();return typeof s!="number"?r:s+r},RZ=function(n,e,t,r){return A4(e,new Mwe(t,n),r)},D4=function(n,e,t){return A4(n,new Pwe(e),t)};function A4(n,e,t){var r=n.getPriority().val(),i=K7(r,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){var s=n,a=K7(s.getValue(),e,t);return a!==s.getValue()||i!==s.getPriority().val()?new vm(a,dr(i)):n}else{var u=n;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new vm(i))),u.forEachChild(Xn,function(l,c){var d=A4(c,e.getImmediateChild(l),t);d!==c&&(o=o.updateImmediateChild(l,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I4=function(){function n(e,t,r){e===void 0&&(e=""),t===void 0&&(t=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=t,this.node=r}return n}();function LA(n,e){for(var t=e instanceof Tn?e:new Tn(e),r=n,i=Wt(t);i!==null;){var o=Ip(r.node.children,i)||{children:{},childCount:0};r=new I4(i,r,o),t=Wn(t),i=Wt(t)}return r}function eg(n){return n.node.value}function x4(n,e){n.node.value=e,aP(n)}function PZ(n){return n.node.childCount>0}function Vwe(n){return eg(n)===void 0&&!PZ(n)}function NA(n,e){fi(n.node.children,function(t,r){e(new I4(t,n,r))})}function MZ(n,e,t,r){t&&!r&&e(n),NA(n,function(i){MZ(i,e,!0,r)}),t&&r&&e(n)}function Wwe(n,e,t){for(var r=n.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function K1(n){return new Tn(n.parent===null?n.name:K1(n.parent)+"/"+n.name)}function aP(n){n.parent!==null&&Uwe(n.parent,n.name,n)}function Uwe(n,e,t){var r=Vwe(t),i=ua(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,aP(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,aP(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jwe=/[\[\].#$\/\u0000-\u001F\u007F]/,qwe=/[\[\].#$\u0000-\u001F\u007F]/,tO=10*1024*1024,OA=function(n){return typeof n=="string"&&n.length!==0&&!jwe.test(n)},FZ=function(n){return typeof n=="string"&&n.length!==0&&!qwe.test(n)},zwe=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),FZ(n)},Ob=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!CA(n)||n&&typeof n=="object"&&ua(n,".sv")},Cl=function(n,e,t,r){r&&e===void 0||Y1(ws(n,"value"),e,t)},Y1=function(n,e,t){var r=t instanceof Tn?new J1e(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Ld(r));if(typeof e=="function")throw new Error(n+"contains a function "+Ld(r)+" with contents = "+e.toString());if(CA(e))throw new Error(n+"contains "+e.toString()+" "+Ld(r));if(typeof e=="string"&&e.length>tO/3&&bA(e)>tO)throw new Error(n+"contains a string greater than "+tO+" utf8 bytes "+Ld(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(fi(e,function(s,a){if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!OA(s)))throw new Error(n+" contains an invalid key ("+s+") "+Ld(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eCe(r,s),Y1(n,a,r),tCe(r)}),i&&o)throw new Error(n+' contains ".value" child '+Ld(r)+" in addition to actual children.")}},Gwe=function(n,e){var t,r;for(t=0;t<e.length;t++){r=e[t];for(var i=xb(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!OA(i[o]))throw new Error(n+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Z1e);var s=null;for(t=0;t<e.length;t++){if(r=e[t],s!==null&&Ta(s,r))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},BZ=function(n,e,t,r){var i=ws(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];fi(e,function(s,a){var u=new Tn(s);if(Y1(i,a,ur(t,u)),u4(u)===".priority"&&!Ob(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),Gwe(i,o)},L4=function(n,e,t){if(CA(e))throw new Error(ws(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ob(e))throw new Error(ws(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},$we=function(n,e,t){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ws(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},X1=function(n,e,t,r){if(t!==void 0&&!OA(t))throw new Error(ws(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},kb=function(n,e,t,r){if(!FZ(t))throw new Error(ws(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Kwe=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kb(n,e,t)},Da=function(n,e){if(Wt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},HZ=function(n,e){var t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!OA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!zwe(t))throw new Error(ws(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},Ywe=function(n,e,t,r){if(t!==void 0&&typeof t!="boolean")throw new Error(ws(n,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xwe=function(){function n(){this.eventLists_=[],this.recursionDepth_=0}return n}();function kA(n,e){for(var t=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();t!==null&&!l4(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function N4(n,e,t){kA(n,t),VZ(n,function(r){return l4(r,e)})}function ka(n,e,t){kA(n,t),VZ(n,function(r){return Ta(r,e)||Ta(e,r)})}function VZ(n,e){n.recursionDepth_++;for(var t=!0,r=0;r<n.eventLists_.length;r++){var i=n.eventLists_[r];if(i){var o=i.path;e(o)?(Qwe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Qwe(n){for(var e=0;e<n.events.length;e++){var t=n.events[e];if(t!==null){n.events[e]=null;var r=t.getEventRunner();up&&Si("event: "+t.toString()),m_(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WZ="repo_interrupt",Zwe=25,Jwe=function(){function n(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xwe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sT(),this.transactionQueueTree_=new I4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return n.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},n}();function eEe(n,e,t){if(n.stats_=s4(n.repoInfo_),n.forceRestClient_||C1e())n.server_=new ACe(n.repoInfo_,function(r,i,o,s){Y7(n,r,i,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(function(){return X7(n,!0)},0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{oi(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new lp(n.repoInfo_,e,function(r,i,o,s){Y7(n,r,i,o,s)},function(r){X7(n,r)},function(r){nEe(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(function(r){n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(function(r){n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=A1e(n.repoInfo_,function(){return new OCe(n.stats_,n.server_)}),n.infoData_=new ICe,n.infoSyncTree_=new G7({startListening:function(r,i,o,s){var a=[],u=n.infoData_.getNode(r._path);return u.isEmpty()||(a=$1(n.infoSyncTree_,r._path,u),setTimeout(function(){s("ok")},0)),a},stopListening:function(){}}),O4(n,"connected",!1),n.serverSyncTree_=new G7({startListening:function(r,i,o,s){return n.server_.listen(r,o,i,function(a,u){var l=s(a,u);ka(n.eventQueue_,r._path,l)}),[]},stopListening:function(r,i){n.server_.unlisten(r,i)}})}function UZ(n){var e=n.infoData_.getNode(new Tn(".info/serverTimeOffset")),t=e.val()||0;return new Date().getTime()+t}function Q1(n){return Fwe({timestamp:UZ(n)})}function Y7(n,e,t,r,i){n.dataUpdateCount++;var o=new Tn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;var s=[];if(i)if(r){var a=eT(t,function(h){return dr(h)});s=xwe(n.serverSyncTree_,o,a,i)}else{var u=dr(t);s=Iwe(n.serverSyncTree_,o,u,i)}else if(r){var l=eT(t,function(h){return dr(h)});s=Twe(n.serverSyncTree_,o,l)}else{var c=dr(t);s=$1(n.serverSyncTree_,o,c)}var d=o;s.length>0&&(d=bm(n,o)),ka(n.eventQueue_,d,s)}function tEe(n,e){n.interceptServerDataCallback_=e}function X7(n,e){O4(n,"connected",e),e===!1&&oEe(n)}function nEe(n,e){fi(e,function(t,r){O4(n,t,r)})}function O4(n,e,t){var r=new Tn("/.info/"+e),i=dr(t);n.infoData_.updateSnapshot(r,i);var o=$1(n.infoSyncTree_,r,i);ka(n.eventQueue_,r,o)}function RA(n){return n.nextWriteId_++}function rEe(n,e){var t=Lwe(n.serverSyncTree_,e);return t!=null?Promise.resolve(t):n.server_.get(e).then(function(r){var i=dr(r).withIndex(e._queryParams.getIndex()),o=$1(n.serverSyncTree_,e._path,i);return N4(n.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return b_(n,"get for query "+oi(e)+" failed: "+r),Promise.reject(new Error(r))})}function k4(n,e,t,r,i){b_(n,"set",{path:e.toString(),value:t,priority:r});var o=Q1(n),s=dr(t,r),a=IA(n.serverSyncTree_,e),u=D4(s,a,o),l=RA(n),c=w4(n.serverSyncTree_,e,u,l,!0);kA(n.eventQueue_,c),n.server_.put(e.toString(),s.val(!0),function(h,p){var v=h==="ok";v||zi("set at "+e+" failed: "+h);var m=Rf(n.serverSyncTree_,l,!v);ka(n.eventQueue_,e,m),vh(n,i,h,p)});var d=P4(n,e);bm(n,d),ka(n.eventQueue_,d,[])}function iEe(n,e,t,r){b_(n,"update",{path:e.toString(),value:t});var i=!0,o=Q1(n),s={};if(fi(t,function(l,c){i=!1,s[l]=RZ(ur(e,l),dr(c),n.serverSyncTree_,o)}),i)Si("update() called with empty data.  Don't do anything."),vh(n,r,"ok",void 0);else{var a=RA(n),u=Swe(n.serverSyncTree_,e,s,a);kA(n.eventQueue_,u),n.server_.merge(e.toString(),t,function(l,c){var d=l==="ok";d||zi("update at "+e+" failed: "+l);var h=Rf(n.serverSyncTree_,a,!d),p=h.length>0?bm(n,e):e;ka(n.eventQueue_,p,h),vh(n,r,l,c)}),fi(t,function(l){var c=P4(n,ur(e,l));bm(n,c)}),ka(n.eventQueue_,e,[])}}function oEe(n){b_(n,"onDisconnectEvents");var e=Q1(n),t=sT();eP(n.onDisconnect_,pn(),function(i,o){var s=RZ(i,o,n.serverSyncTree_,e);__(t,i,s)});var r=[];eP(t,pn(),function(i,o){r=r.concat($1(n.serverSyncTree_,i,o));var s=P4(n,i);bm(n,s)}),n.onDisconnect_=sT(),ka(n.eventQueue_,pn(),r)}function sEe(n,e,t){n.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&JR(n.onDisconnect_,e),vh(n,t,r,i)})}function Q7(n,e,t,r){var i=dr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,s){o==="ok"&&__(n.onDisconnect_,e,i),vh(n,r,o,s)})}function aEe(n,e,t,r,i){var o=dr(t,r);n.server_.onDisconnectPut(e.toString(),o.val(!0),function(s,a){s==="ok"&&__(n.onDisconnect_,e,o),vh(n,i,s,a)})}function uEe(n,e,t,r){if(qR(t)){Si("onDisconnect().update() called with empty data.  Don't do anything."),vh(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,function(i,o){i==="ok"&&fi(t,function(s,a){var u=dr(a);__(n.onDisconnect_,ur(e,s),u)}),vh(n,r,i,o)})}function lEe(n,e,t){var r;Wt(e._path)===".info"?r=$7(n.infoSyncTree_,e,t):r=$7(n.serverSyncTree_,e,t),N4(n.eventQueue_,e._path,r)}function uP(n,e,t){var r;Wt(e._path)===".info"?r=sP(n.infoSyncTree_,e,t):r=sP(n.serverSyncTree_,e,t),N4(n.eventQueue_,e._path,r)}function jZ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(WZ)}function cEe(n){n.persistentConnection_&&n.persistentConnection_.resume(WZ)}function fEe(n,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var t;e?(n.statsListener_||(n.statsListener_=new gZ(n.stats_)),t=n.statsListener_.get()):t=n.stats_.get();var r=Object.keys(t).reduce(function(i,o){return Math.max(o.length,i)},0);fi(t,function(i,o){for(var s=i,a=i.length;a<r+2;a++)s+=" ";console.log(s+o)})}}function hEe(n,e){n.stats_.incrementCounter(e),kCe(n.statsReporter_,e)}function b_(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),Si.apply(void 0,Vt([r],Wi(e)))}function vh(n,e,t,r){e&&m_(function(){if(t==="ok")e(null);else{var i=(t||"error").toUpperCase(),o=i;r&&(o+=": "+r);var s=new Error(o);s.code=i,e(s)}})}function dEe(n,e,t,r,i,o){b_(n,"transaction on "+e);var s={path:e,update:t,onComplete:r,status:null,order:RQ(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=R4(n,e,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(u===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Y1("transaction failed: Data returned ",u,s.path),s.status=0;var l=LA(n.transactionQueueTree_,e),c=eg(l)||[];c.push(s),x4(l,c);var d=void 0;if(typeof u=="object"&&u!==null&&ua(u,".priority"))d=Ip(u,".priority"),Ae(Ob(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var h=IA(n.serverSyncTree_,e)||At.EMPTY_NODE;d=h.getPriority().val()}var p=Q1(n),v=dr(u,d),m=D4(v,a,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=m,s.currentWriteId=RA(n);var _=w4(n.serverSyncTree_,e,m,s.currentWriteId,s.applyLocally);ka(n.eventQueue_,e,_),PA(n,n.transactionQueueTree_)}}function R4(n,e,t){return IA(n.serverSyncTree_,e,t)||At.EMPTY_NODE}function PA(n,e){if(e===void 0&&(e=n.transactionQueueTree_),e||MA(n,e),eg(e)){var t=zZ(n,e);Ae(t.length>0,"Sending zero length transaction queue");var r=t.every(function(i){return i.status===0});r&&pEe(n,K1(e),t)}else PZ(e)&&NA(e,function(i){PA(n,i)})}function pEe(n,e,t){for(var r=t.map(function(h){return h.currentWriteId}),i=R4(n,e,r),o=i,s=i.hash(),a=0;a<t.length;a++){var u=t[a];Ae(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Zo(e,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),d=e;n.server_.put(d.toString(),c,function(h){b_(n,"transaction put response",{path:d.toString(),status:h});var p=[];if(h==="ok"){for(var v=[],m=function(b){t[b].status=2,p=p.concat(Rf(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&v.push(function(){return t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)}),t[b].unwatcher()},_=0;_<t.length;_++)m(_);MA(n,LA(n.transactionQueueTree_,e)),PA(n,n.transactionQueueTree_),ka(n.eventQueue_,e,p);for(var _=0;_<v.length;_++)m_(v[_])}else{if(h==="datastale")for(var _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{zi("transaction at "+d.toString()+" failed: "+h);for(var _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=h}bm(n,e)}},s)}function bm(n,e){var t=qZ(n,e),r=K1(t),i=zZ(n,t);return gEe(n,i,r),r}function gEe(n,e,t){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(l){return l.status===0}),s=o.map(function(l){return l.currentWriteId}),a=function(l){var c=e[l],d=Zo(t,c.path),h=!1,p;if(Ae(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,p=c.abortReason,i=i.concat(Rf(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Zwe)h=!0,p="maxretry",i=i.concat(Rf(n.serverSyncTree_,c.currentWriteId,!0));else{var v=R4(n,c.path,s);c.currentInputSnapshot=v;var m=e[l].update(v.val());if(m!==void 0){Y1("transaction failed: Data returned ",m,c.path);var _=dr(m),b=typeof m=="object"&&m!=null&&ua(m,".priority");b||(_=_.updatePriority(v.getPriority()));var C=c.currentWriteId,E=Q1(n),T=D4(_,v,E);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=T,c.currentWriteId=RA(n),s.splice(s.indexOf(C),1),i=i.concat(w4(n.serverSyncTree_,c.path,T,c.currentWriteId,c.applyLocally)),i=i.concat(Rf(n.serverSyncTree_,C,!0))}else h=!0,p="nodata",i=i.concat(Rf(n.serverSyncTree_,c.currentWriteId,!0))}ka(n.eventQueue_,t,i),i=[],h&&(e[l].status=2,function(A){setTimeout(A,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(function(){return e[l].onComplete(null,!1,e[l].currentInputSnapshot)}):r.push(function(){return e[l].onComplete(new Error(p),!1,null)})))},u=0;u<e.length;u++)a(u);MA(n,n.transactionQueueTree_);for(var u=0;u<r.length;u++)m_(r[u]);PA(n,n.transactionQueueTree_)}}function qZ(n,e){var t,r=n.transactionQueueTree_;for(t=Wt(e);t!==null&&eg(r)===void 0;)r=LA(r,t),e=Wn(e),t=Wt(e);return r}function zZ(n,e){var t=[];return GZ(n,e,t),t.sort(function(r,i){return r.order-i.order}),t}function GZ(n,e,t){var r=eg(e);if(r)for(var i=0;i<r.length;i++)t.push(r[i]);NA(e,function(o){GZ(n,o,t)})}function MA(n,e){var t=eg(e);if(t){for(var r=0,i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,x4(e,t.length>0?t:void 0)}NA(e,function(o){MA(n,o)})}function P4(n,e){var t=K1(qZ(n,e)),r=LA(n.transactionQueueTree_,e);return Wwe(r,function(i){nO(n,i)}),nO(n,r),MZ(r,function(i){nO(n,i)}),t}function nO(n,e){var t=eg(e);if(t){for(var r=[],i=[],o=-1,s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(Ae(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(Ae(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(Rf(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?x4(e,void 0):t.length=o+1,ka(n.eventQueue_,K1(e),i);for(var s=0;s<r.length;s++)m_(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vEe(n){for(var e="",t=n.split("/"),r=0;r<t.length;r++)if(t[r].length>0){var i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function mEe(n){var e,t,r={};n.charAt(0)==="?"&&(n=n.substring(1));try{for(var i=Li(n.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.length!==0){var a=s.split("=");a.length===2?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):zi("Invalid query segment '"+s+"' in query '"+n+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}var lP=function(n,e){var t=_Ee(n),r=t.namespace;t.domain==="firebase.com"&&yl(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&yl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||p1e();var i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new o4(t.host,t.secure,r,e,i,"",r!==t.subdomain),path:new Tn(t.pathString)}},_Ee=function(n){var e="",t="",r="",i="",o="",s=!0,a="https",u=443;if(typeof n=="string"){var l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));var c=n.indexOf("/");c===-1&&(c=n.length);var d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(c,d)),c<d&&(i=vEe(n.substring(c,d)));var h=mEe(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Z=function(){function n(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}return n.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},n.prototype.getEventType=function(){return this.eventType},n.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},n.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+oi(this.snapshot.exportVal())},n}(),KZ=function(){function n(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}return n.prototype.getPath=function(){return this.path},n.prototype.getEventType=function(){return"cancel"},n.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},n.prototype.toString=function(){return this.path.toString()+":cancel"},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YZ=function(){function n(e,t){this.snapshotCallback=e,this.cancelCallback=t}return n.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},n.prototype.onCancel=function(e){return Ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(n.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),n.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},n}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yEe=function(){function n(e,t){this._repo=e,this._path=t}return n.prototype.cancel=function(){var e=new Ii;return sEe(this._repo,this._path,e.wrapCallback(function(){})),e.promise},n.prototype.remove=function(){Da("OnDisconnect.remove",this._path);var e=new Ii;return Q7(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},n.prototype.set=function(e){Da("OnDisconnect.set",this._path),Cl("OnDisconnect.set",e,this._path,!1);var t=new Ii;return Q7(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},n.prototype.setWithPriority=function(e,t){Da("OnDisconnect.setWithPriority",this._path),Cl("OnDisconnect.setWithPriority",e,this._path,!1),L4("OnDisconnect.setWithPriority",t);var r=new Ii;return aEe(this._repo,this._path,e,t,r.wrapCallback(function(){})),r.promise},n.prototype.update=function(e){Da("OnDisconnect.update",this._path),BZ("OnDisconnect.update",e,this._path);var t=new Ii;return uEe(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ma=function(){function n(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(n.prototype,"key",{get:function(){return Ut(this._path)?null:u4(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new kl(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_queryIdentifier",{get:function(){var e=M7(this._queryParams),t=n4(e);return t==="{}"?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_queryObject",{get:function(){return M7(this._queryParams)},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){if(e=Bt(e),!(e instanceof n))return!1;var t=this._repo===e._repo,r=l4(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(){return this._repo.toString()+Q1e(this._path)},n}();function FA(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Dh(n){var e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===sl){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){var o=n.getIndexStartName();if(o!==Tc)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){var s=n.getIndexEndName();if(s!==bl)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===Xn){if(e!=null&&!Ob(e)||t!=null&&!Ob(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ae(n.getIndex()instanceof f4||n.getIndex()===h4,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function BA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var kl=function(n){Fe(e,n);function e(t,r){return n.call(this,t,r,new pZ,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var t=rZ(this._path);return t===null?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Ma),HA=function(){function n(e,t,r){this._node=e,this.ref=t,this._index=r}return Object.defineProperty(n.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),n.prototype.child=function(e){var t=new Tn(e),r=Lp(this.ref,e);return new n(this._node.getChild(t),r,Xn)},n.prototype.exists=function(){return!this._node.isEmpty()},n.prototype.exportVal=function(){return this._node.val(!0)},n.prototype.forEach=function(e){var t=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new n(o,Lp(t.ref,i),Xn))})},n.prototype.hasChild=function(e){var t=new Tn(e);return!this._node.getChild(t).isEmpty()},n.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},n.prototype.toJSON=function(){return this.exportVal()},n.prototype.val=function(){return this._node.val()},n}();function XZ(n,e){return n=Bt(n),n._checkNotDeleted("ref"),e!==void 0?Lp(n._root,e):n._root}function Z7(n,e){n=Bt(n),n._checkNotDeleted("refFromURL");var t=lP(e,n._repo.repoInfo_.nodeAdmin);HZ("refFromURL",t);var r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&yl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),XZ(n,t.path.toString())}function Lp(n,e){return n=Bt(n),Wt(n._path)===null?Kwe("child","path",e):kb("child","path",e),new kl(n._repo,ur(n._path,e))}function bEe(n,e){n=Bt(n),Da("push",n._path),Cl("push",e,n._path,!0);var t=UZ(n._repo),r=yCe(t),i=Lp(n,r),o=Lp(n,r),s;return e!=null?s=M4(o,e).then(function(){return o}):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function CEe(n){return Da("remove",n._path),M4(n,null)}function M4(n,e){n=Bt(n),Da("set",n._path),Cl("set",e,n._path,!1);var t=new Ii;return k4(n._repo,n._path,e,null,t.wrapCallback(function(){})),t.promise}function wEe(n,e){n=Bt(n),Da("setPriority",n._path),L4("setPriority",e);var t=new Ii;return k4(n._repo,ur(n._path,".priority"),e,null,t.wrapCallback(function(){})),t.promise}function EEe(n,e,t){if(Da("setWithPriority",n._path),Cl("setWithPriority",e,n._path,!1),L4("setWithPriority",t),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";var r=new Ii;return k4(n._repo,n._path,e,t,r.wrapCallback(function(){})),r.promise}function SEe(n,e){BZ("update",e,n._path);var t=new Ii;return iEe(n._repo,n._path,e,t.wrapCallback(function(){})),t.promise}function TEe(n){return n=Bt(n),rEe(n._repo,n).then(function(e){return new HA(e,new kl(n._repo,n._path),n._queryParams.getIndex())})}var QZ=function(){function n(e){this.callbackContext=e}return n.prototype.respondsTo=function(e){return e==="value"},n.prototype.createEvent=function(e,t){var r=t._queryParams.getIndex();return new $Z("value",this,new HA(e.snapshotNode,new kl(t._repo,t._path),r))},n.prototype.getEventRunner=function(e){var t=this;return e.getEventType()==="cancel"?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},n.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new KZ(this,e,t):null},n.prototype.matches=function(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},n.prototype.hasAnyCallback=function(){return this.callbackContext!==null},n}(),ZZ=function(){function n(e,t){this.eventType=e,this.callbackContext=t}return n.prototype.respondsTo=function(e){var t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t},n.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new KZ(this,e,t):null},n.prototype.createEvent=function(e,t){Ae(e.childName!=null,"Child events should have a childName.");var r=Lp(new kl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new $Z(e.type,this,new HA(e.snapshotNode,r,i),e.prevName)},n.prototype.getEventRunner=function(e){var t=this;return e.getEventType()==="cancel"?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},n.prototype.matches=function(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},n.prototype.hasAnyCallback=function(){return!!this.callbackContext},n}();function Z1(n,e,t,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var s=t,a=function(c,d){uP(n._repo,n,l),s(c,d)};a.userCallback=t.userCallback,a.context=t.context,t=a}var u=new YZ(t,o||void 0),l=e==="value"?new QZ(u):new ZZ(e,u);return lEe(n._repo,n,l),function(){return uP(n._repo,n,l)}}function cP(n,e,t,r){return Z1(n,"value",e,t,r)}function J7(n,e,t,r){return Z1(n,"child_added",e,t,r)}function ej(n,e,t,r){return Z1(n,"child_changed",e,t,r)}function tj(n,e,t,r){return Z1(n,"child_moved",e,t,r)}function nj(n,e,t,r){return Z1(n,"child_removed",e,t,r)}function rj(n,e,t){var r=null,i=t?new YZ(t):null;e==="value"?r=new QZ(i):e&&(r=new ZZ(e,i)),uP(n._repo,n,r)}var xu=function(){function n(){}return n}(),JZ=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){Cl("endAt",this._value,t._path,!0);var r=ZR(t._queryParams,this._value,this._key);if(BA(r),Dh(r),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ma(t._repo,t._path,r,t._orderByCalled)},e}(xu);function DEe(n,e){return X1("endAt","key",e),new JZ(n,e)}var AEe=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){Cl("endBefore",this._value,t._path,!1);var r=DCe(t._queryParams,this._value,this._key);if(BA(r),Dh(r),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ma(t._repo,t._path,r,t._orderByCalled)},e}(xu);function IEe(n,e){return X1("endBefore","key",e),new AEe(n,e)}var eJ=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){Cl("startAt",this._value,t._path,!0);var r=QR(t._queryParams,this._value,this._key);if(BA(r),Dh(r),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ma(t._repo,t._path,r,t._orderByCalled)},e}(xu);function xEe(n,e){return n===void 0&&(n=null),X1("startAt","key",e),new eJ(n,e)}var LEe=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){Cl("startAfter",this._value,t._path,!1);var r=TCe(t._queryParams,this._value,this._key);if(BA(r),Dh(r),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ma(t._repo,t._path,r,t._orderByCalled)},e}(xu);function NEe(n,e){return X1("startAfter","key",e),new LEe(n,e)}var OEe=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r._limit=t,r}return e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ma(t._repo,t._path,ECe(t._queryParams,this._limit),t._orderByCalled)},e}(xu);function kEe(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new OEe(n)}var REe=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r._limit=t,r}return e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ma(t._repo,t._path,SCe(t._queryParams,this._limit),t._orderByCalled)},e}(xu);function PEe(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new REe(n)}var MEe=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r._path=t,r}return e.prototype._apply=function(t){FA(t,"orderByChild");var r=new Tn(this._path);if(Ut(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new f4(r),o=EA(t._queryParams,i);return Dh(o),new Ma(t._repo,t._path,o,!0)},e}(xu);function FEe(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kb("orderByChild","path",n),new MEe(n)}var BEe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._apply=function(t){FA(t,"orderByKey");var r=EA(t._queryParams,sl);return Dh(r),new Ma(t._repo,t._path,r,!0)},e}(xu);function HEe(){return new BEe}var VEe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._apply=function(t){FA(t,"orderByPriority");var r=EA(t._queryParams,Xn);return Dh(r),new Ma(t._repo,t._path,r,!0)},e}(xu);function WEe(){return new VEe}var UEe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._apply=function(t){FA(t,"orderByValue");var r=EA(t._queryParams,h4);return Dh(r),new Ma(t._repo,t._path,r,!0)},e}(xu);function jEe(){return new UEe}var qEe=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){if(Cl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new JZ(this._value,this._key)._apply(new eJ(this._value,this._key)._apply(t))},e}(xu);function zEe(n,e){return X1("equalTo","key",e),new qEe(n,e)}function $a(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Bt(n);try{for(var s=Li(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o}vwe(kl);Cwe(kl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GEe="FIREBASE_DATABASE_EMULATOR_HOST",fP={},tJ=!1;function $Ee(n,e,t,r){n.repoInfo_=new o4(e+":"+t,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}function nJ(n,e,t,r,i){var o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||yl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Si("Using default host for project ",n.options.projectId),o=n.options.projectId+"-default-rtdb.firebaseio.com");var s=lP(o,i),a=s.repoInfo,u,l=void 0;typeof process<"u"&&(l=l1e[GEe]),l?(u=!0,o="http://"+l+"?ns="+a.namespace,s=lP(o,i),a=s.repoInfo):u=!s.repoInfo.secure;var c=i&&u?new Fy(Fy.OWNER):new E1e(n.name,n.options,e);HZ("Invalid Firebase Database URL",s),Ut(s.path)||yl("Database URL must point to the root of a Firebase Database (not including a child path).");var d=YEe(a,n,c,new w1e(n.name,t));return new QEe(d,n)}function KEe(n,e){var t=fP[e];(!t||t[n.key]!==n)&&yl("Database "+e+"("+n.repoInfo_+") has already been deleted."),jZ(n),delete t[n.key]}function YEe(n,e,t,r){var i=fP[e.name];i||(i={},fP[e.name]=i);var o=i[n.toURLString()];return o&&yl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jwe(n,tJ,t,r),i[n.toURLString()]=o,o}function XEe(n){tJ=n}var QEe=function(){function n(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(n.prototype,"_repo",{get:function(){return this._instanceStarted||(eEe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new kl(this._repo,pn())),this._rootInternal},enumerable:!1,configurable:!0}),n.prototype._delete=function(){return this._rootInternal!==null&&(KEe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},n.prototype._checkNotDeleted=function(e){this._rootInternal===null&&yl("Cannot call "+e+" on a deleted database.")},n}();function ZEe(n,e,t,r){r===void 0&&(r={}),n=Bt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&yl("Cannot call useEmulator() after instance has already been initialized.");var i=n._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fy(Fy.OWNER);else if(r.mockUserToken){var s=typeof r.mockUserToken=="string"?r.mockUserToken:YF(r.mockUserToken,n.app.options.projectId);o=new Fy(s)}$Ee(i,e,t,o)}function JEe(n){n=Bt(n),n._checkNotDeleted("goOffline"),jZ(n._repo)}function eSe(n){n=Bt(n),n._checkNotDeleted("goOnline"),cEe(n._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tSe={".sv":"timestamp"};function nSe(){return tSe}function rSe(n){return{".sv":{increment:n}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iSe=function(){function n(e,t){this.committed=e,this.snapshot=t}return n.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},n}();function oSe(n,e,t){var r;if(n=Bt(n),Da("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";var i=(r=t==null?void 0:t.applyLocally)!==null&&r!==void 0?r:!0,o=new Ii,s=function(u,l,c){var d=null;u?o.reject(u):(d=new HA(c,new kl(n._repo,n._path),Xn),o.resolve(new iSe(l,d)))},a=cP(n,function(){});return dEe(n._repo,n._path,e,s,a,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sSe=function(){function n(e){this._delegate=e}return n.prototype.cancel=function(e){vt("OnDisconnect.cancel",0,1,arguments.length),wi("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(r){return e(r)}),t},n.prototype.remove=function(e){vt("OnDisconnect.remove",0,1,arguments.length),wi("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(r){return e(r)}),t},n.prototype.set=function(e,t){vt("OnDisconnect.set",1,2,arguments.length),wi("OnDisconnect.set","onComplete",t,!0);var r=this._delegate.set(e);return t&&r.then(function(){return t(null)},function(i){return t(i)}),r},n.prototype.setWithPriority=function(e,t,r){vt("OnDisconnect.setWithPriority",2,3,arguments.length),wi("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,t);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},n.prototype.update=function(e,t){if(vt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,zi("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wi("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then(function(){return t(null)},function(s){return t(s)}),o},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aSe=function(){function n(e,t){this.committed=e,this.snapshot=t}return n.prototype.toJSON=function(){return vt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wy=function(){function n(e,t){this._database=e,this._delegate=t}return n.prototype.val=function(){return vt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},n.prototype.exportVal=function(){return vt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},n.prototype.toJSON=function(){return vt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},n.prototype.exists=function(){return vt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},n.prototype.child=function(e){return vt("DataSnapshot.child",0,1,arguments.length),e=String(e),kb("DataSnapshot.child","path",e),new n(this._database,this._delegate.child(e))},n.prototype.hasChild=function(e){return vt("DataSnapshot.hasChild",1,1,arguments.length),kb("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)},n.prototype.getPriority=function(){return vt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},n.prototype.forEach=function(e){var t=this;return vt("DataSnapshot.forEach",1,1,arguments.length),wi("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new n(t._database,r))})},n.prototype.hasChildren=function(){return vt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(n.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),n.prototype.numChildren=function(){return vt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},n.prototype.getRef=function(){return vt("DataSnapshot.ref",0,0,arguments.length),new Xd(this._database,this._delegate.ref)},Object.defineProperty(n.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),n}(),rJ=function(){function n(e,t){this.database=e,this._delegate=t}return n.prototype.on=function(e,t,r,i){var o=this,s;vt("Query.on",2,4,arguments.length),wi("Query.on","callback",t,!1);var a=n.getCancelAndContextArgs_("Query.on",r,i),u=function(c,d){t.call(a.context,new Wy(o.database,c),d)};u.userCallback=t,u.context=a.context;var l=(s=a.cancel)===null||s===void 0?void 0:s.bind(a.context);switch(e){case"value":return cP(this._delegate,u,l),t;case"child_added":return J7(this._delegate,u,l),t;case"child_removed":return nj(this._delegate,u,l),t;case"child_changed":return ej(this._delegate,u,l),t;case"child_moved":return tj(this._delegate,u,l),t;default:throw new Error(ws("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},n.prototype.off=function(e,t,r){if(vt("Query.off",0,3,arguments.length),$we("Query.off",e),wi("Query.off","callback",t,!0),m7("Query.off","context",r),t){var i=function(){};i.userCallback=t,i.context=r,rj(this._delegate,e,i)}else rj(this._delegate,e)},n.prototype.get=function(){var e=this;return TEe(this._delegate).then(function(t){return new Wy(e.database,t)})},n.prototype.once=function(e,t,r,i){var o=this;vt("Query.once",1,4,arguments.length),wi("Query.once","callback",t,!0);var s=n.getCancelAndContextArgs_("Query.once",r,i),a=new Ii,u=function(c,d){var h=new Wy(o.database,c);t&&t.call(s.context,h,d),a.resolve(h)};u.userCallback=t,u.context=s.context;var l=function(c){s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":cP(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":J7(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":nj(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":ej(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":tj(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(ws("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},n.prototype.limitToFirst=function(e){return vt("Query.limitToFirst",1,1,arguments.length),new n(this.database,$a(this._delegate,kEe(e)))},n.prototype.limitToLast=function(e){return vt("Query.limitToLast",1,1,arguments.length),new n(this.database,$a(this._delegate,PEe(e)))},n.prototype.orderByChild=function(e){return vt("Query.orderByChild",1,1,arguments.length),new n(this.database,$a(this._delegate,FEe(e)))},n.prototype.orderByKey=function(){return vt("Query.orderByKey",0,0,arguments.length),new n(this.database,$a(this._delegate,HEe()))},n.prototype.orderByPriority=function(){return vt("Query.orderByPriority",0,0,arguments.length),new n(this.database,$a(this._delegate,WEe()))},n.prototype.orderByValue=function(){return vt("Query.orderByValue",0,0,arguments.length),new n(this.database,$a(this._delegate,jEe()))},n.prototype.startAt=function(e,t){return e===void 0&&(e=null),vt("Query.startAt",0,2,arguments.length),new n(this.database,$a(this._delegate,xEe(e,t)))},n.prototype.startAfter=function(e,t){return e===void 0&&(e=null),vt("Query.startAfter",0,2,arguments.length),new n(this.database,$a(this._delegate,NEe(e,t)))},n.prototype.endAt=function(e,t){return e===void 0&&(e=null),vt("Query.endAt",0,2,arguments.length),new n(this.database,$a(this._delegate,DEe(e,t)))},n.prototype.endBefore=function(e,t){return e===void 0&&(e=null),vt("Query.endBefore",0,2,arguments.length),new n(this.database,$a(this._delegate,IEe(e,t)))},n.prototype.equalTo=function(e,t){return vt("Query.equalTo",1,2,arguments.length),new n(this.database,$a(this._delegate,zEe(e,t)))},n.prototype.toString=function(){return vt("Query.toString",0,0,arguments.length),this._delegate.toString()},n.prototype.toJSON=function(){return vt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},n.prototype.isEqual=function(e){if(vt("Query.isEqual",1,1,arguments.length),!(e instanceof n)){var t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)},n.getCancelAndContextArgs_=function(e,t,r){var i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,wi(e,"cancel",i.cancel,!0),i.context=r,m7(e,"context",i.context);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(ws(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(n.prototype,"ref",{get:function(){return new Xd(this.database,new kl(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),n}(),Xd=function(n){Fe(e,n);function e(t,r){var i=n.call(this,t,new Ma(r._repo,r._path,new pZ,!1))||this;return i.database=t,i._delegate=r,i}return e.prototype.getKey=function(){return vt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return vt("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,Lp(this._delegate,t))},e.prototype.getParent=function(){vt("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return vt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,r){vt("Reference.set",1,2,arguments.length),wi("Reference.set","onComplete",r,!0);var i=M4(this._delegate,t);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(t,r){if(vt("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var i={},o=0;o<t.length;++o)i[""+o]=t[o];t=i,zi("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Da("Reference.update",this._delegate._path),wi("Reference.update","onComplete",r,!0);var s=SEe(this._delegate,t);return r&&s.then(function(){return r(null)},function(a){return r(a)}),s},e.prototype.setWithPriority=function(t,r,i){vt("Reference.setWithPriority",2,3,arguments.length),wi("Reference.setWithPriority","onComplete",i,!0);var o=EEe(this._delegate,t,r);return i&&o.then(function(){return i(null)},function(s){return i(s)}),o},e.prototype.remove=function(t){vt("Reference.remove",0,1,arguments.length),wi("Reference.remove","onComplete",t,!0);var r=CEe(this._delegate);return t&&r.then(function(){return t(null)},function(i){return t(i)}),r},e.prototype.transaction=function(t,r,i){var o=this;vt("Reference.transaction",1,3,arguments.length),wi("Reference.transaction","transactionUpdate",t,!1),wi("Reference.transaction","onComplete",r,!0),Ywe("Reference.transaction","applyLocally",i);var s=oSe(this._delegate,t,{applyLocally:i}).then(function(a){return new aSe(a.committed,new Wy(o.database,a.snapshot))});return r&&s.then(function(a){return r(null,a.committed,a.snapshot)},function(a){return r(a,!1,null)}),s},e.prototype.setPriority=function(t,r){vt("Reference.setPriority",1,2,arguments.length),wi("Reference.setPriority","onComplete",r,!0);var i=wEe(this._delegate,t);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(t,r){var i=this;vt("Reference.push",0,2,arguments.length),wi("Reference.push","onComplete",r,!0);var o=bEe(this._delegate,t),s=o.then(function(u){return new e(i.database,u)});r&&s.then(function(){return r(null)},function(u){return r(u)});var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Da("Reference.onDisconnect",this._delegate._path),new sSe(new yEe(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(rJ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pT=function(){function n(e,t){var r=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return n.prototype.useEmulator=function(e,t,r){r===void 0&&(r={}),ZEe(this._delegate,e,t,r)},n.prototype.ref=function(e){if(vt("database.ref",0,1,arguments.length),e instanceof Xd){var t=Z7(this._delegate,e.toString());return new Xd(this,t)}else{var t=XZ(this._delegate,e);return new Xd(this,t)}},n.prototype.refFromURL=function(e){var t="database.refFromURL";vt(t,1,1,arguments.length);var r=Z7(this._delegate,e);return new Xd(this,r)},n.prototype.goOffline=function(){return vt("database.goOffline",0,0,arguments.length),JEe(this._delegate)},n.prototype.goOnline=function(){return vt("database.goOnline",0,0,arguments.length),eSe(this._delegate)},n.ServerValue={TIMESTAMP:nSe(),increment:function(e){return rSe(e)}},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uSe=function(){Vd.forceDisallow(),a4.forceAllow()},lSe=function(){a4.forceDisallow()},cSe=function(){return Vd.isAvailable()},fSe=function(n,e){var t=n._delegate._repo.persistentConnection_;t.securityDebugCallback_=e},hSe=function(n,e){fEe(n._delegate._repo,e)},dSe=function(n,e){hEe(n._delegate._repo,e)},pSe=function(n){return n._delegate._repo.dataUpdateCount},gSe=function(n,e){return tEe(n._delegate._repo,e)};function vSe(n){var e=n.app,t=n.url,r=n.version,i=n.customAuthImpl,o=n.namespace,s=n.nodeAdmin,a=s===void 0?!1:s;OQ(r);var u=new DQ("auth-internal",new AQ("database-standalone"));return u.setComponent(new yo("auth-internal",function(){return i},"PRIVATE")),{instance:new pT(nJ(e,u,void 0,t,a),e),namespace:o}}var mSe=Object.freeze({__proto__:null,forceLongPolling:uSe,forceWebSockets:lSe,isWebSocketsAvailable:cSe,setSecurityDebugCallback:fSe,stats:hSe,statsIncrementCounter:dSe,dataUpdateCount:pSe,interceptServerData:gSe,initStandalone:vSe});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Se=lp;lp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};lp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};var ySe=eZ,bSe=function(n){var e=lp.prototype.put;return lp.prototype.put=function(t,r,i,o){o!==void 0&&(o=n()),e.call(this,t,r,i,o)},function(){lp.prototype.put=e}},CSe=o4,wSe=function(n){return n._delegate._queryIdentifier},ESe=function(n){XEe(n)},SSe=Object.freeze({__proto__:null,DataConnection:_Se,RealTimeConnection:ySe,hijackHash:bSe,ConnectionTarget:CSe,queryIdentifier:wSe,forceRestClient:ESe});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TSe=pT.ServerValue;function DSe(n){OQ(n.SDK_VERSION),n.INTERNAL.registerComponent(new yo("database",function(e,t){var r=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new pT(nJ(i,o,s,r),i)},"PUBLIC").setServiceProps({Reference:Xd,Query:rJ,Database:pT,DataSnapshot:Wy,enableLogging:MQ,INTERNAL:mSe,ServerValue:TSe,TEST_ACCESS:SSe}).setMultipleInstances(!0)),n.registerVersion(c1e,f1e)}DSe(tt);var ASe="firebase",iJ="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.registerVersion(ASe,iJ,"app");tt.SDK_VERSION=iJ;function hP(){}var dP;(function(n){n.LF=`
`,n.CRLF=`\r
`})(dP||(dP={}));class Vc extends Error{constructor(){super(...arguments),this.name="Validation Failed"}}class ISe extends Error{constructor(){super(...arguments),this.name="No-op Encountered"}}class xSe extends Error{constructor(){super(...arguments),this.name="Invalid Operation Encountered"}}class LSe extends Error{constructor(){super(...arguments),this.name="Invalid Order of Operations Encountered"}}class NSe extends Error{constructor(){super(...arguments),this.name="Invalid Event Encountered"}}class OSe extends Error{constructor(){super(...arguments),this.name="Transaction Failed"}}function oJ(n,e){if(!Number.isInteger(n))throw new Vc(e||"Expected an integer value")}function ij(n,e){if(oJ(n,e),n<0)throw new Vc(e||"Expected a non-negative integer value")}function kSe(n,e){if(typeof n!="string")throw new Vc(e)}function Cy(n,e,t){if(n!==e)throw new Vc(t||`Expected ${n.toString()} to be equal to ${e.toString()}.`)}function Uy(n,e,t){if(n===e)throw new Vc(t||`Expected ${n.toString()} to not be equal to ${e.toString()}.`)}function RSe(n,e,t){if(n>e)throw new Vc(t)}function PSe(n,e,t){if(n<=e)throw new Vc(`Expected ${n} to be greater than ${e}.`)}function su(n,e){if(n==null||n===!1)throw new Vc(e||"Expected a Truth value")}function Qd(n,e){if(n===!0)throw new Vc(e||"Expected a False value")}function oj(n){throw new ISe(n)}function MSe(n,e){throw new NSe(`Unknown event ${n} to add/remove listener for given object`)}function sj(n){throw new LSe(n||"Invalid order of operation recieved that cannot be composed or applied")}function FSe(n){throw new OSe(n||"Transaction Failure!")}function BSe(n){throw new xSe(n)}function HSe(n,e,t){return["#",...[n,e,t].map(i=>Math.round(255*i).toString(16).padStart(2,"0"))].join("")}function VSe(n){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]}function rO(n,e,t){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+(t-e)*6*n:2*n<1?t:3*n<2?e+(t-e)*6*(2/3-n):e}function WSe(n,e,t){const r=t+e-e*t,i=2*t-r;return HSe(rO(n+1/3,i,r),rO(n,i,r),rO(n-1/3,i,r))}function USe(n){let e=1;for(let r=0;r<n.length;r++)e=17*(e+n.charCodeAt(r))%360;const t=e/360;return WSe(t,1,.75)}function jSe(n){return n.charAt(0).toUpperCase()+n.slice(1)}class J1{constructor(e){this._allowedEvents=e,this._eventListeners={}}on(e,t,r){var i;this._validateEvent(e),(i=this._eventListeners)[e]||(i[e]=[]),this._eventListeners[e].push({callback:t,context:r||null})}off(e,t){this._validateEvent(e);const r=this._eventListeners[e];!r||r.length===0||(this._eventListeners[e]=r.filter(i=>i.callback!==t))}trigger(e,t,...r){const i=this._eventListeners[e]||[];for(const o of i){const{context:s,callback:a}=o;a.call(s,t,...r)}}dispose(){for(const e in this._eventListeners)this._eventListeners[e]=[]}_validateEvent(e){!this._allowedEvents||this._allowedEvents.includes(e)||MSe(e)}}var Vo;(function(n){n.Insert="insert",n.Delete="delete",n.Retain="retain"})(Vo||(Vo={}));class fE{constructor(e,t,r){switch(this._type=e,this.chars=null,this.text=null,this.attributes=null,e){case Vo.Insert:{this.text=t,this.attributes=r||{};break}case Vo.Delete:{this.chars=t;break}case Vo.Retain:{this.chars=t,this.attributes=r||{};break}}}isInsert(){return this._type===Vo.Insert}isDelete(){return this._type===Vo.Delete}isRetain(){return this._type===Vo.Retain}equals(e){return this._type===e._type&&this.text===e.text&&this.chars===e.chars&&this.attributesEqual(e.attributes)}attributesEqual(e){if(e==null||this.attributes==null)return this.attributes==e;for(const t in this.attributes)if(this.attributes[t]!==e[t])return!1;for(const t in e)if(this.attributes[t]!==e[t])return!1;return!0}hasEmptyAttributes(){return this.attributes==null?!0:Object.keys(this.attributes).length===0}toString(){const e=this.text?`"${this.text}"`:this.chars;return`${jSe(this._type)} ${e}`}valueOf(){switch(this._type){case Vo.Insert:return this.text;case Vo.Delete:return-this.chars;case Vo.Retain:return this.chars}return null}}class ut{constructor(){this._ops=[],this._baseLength=0,this._targetLength=0}isWrappedOperation(){return!1}getOps(){return Array.from(this._ops)}equals(e){return this._baseLength!==e._baseLength||this._targetLength!==e._targetLength||this._ops.length!==e._ops.length?!1:this._ops.every((t,r)=>t.equals(e._ops[r]))}_last(e=0){return this._ops.length>e?this._ops[this._ops.length-e-1]:null}retain(e,t){if(ij(e,"retain expects a positive integer."),e===0)return this;this._baseLength+=e,this._targetLength+=e,t||(t={});const r=this._last();return r&&r.isRetain()&&r.attributesEqual(t)?r.chars+=e:this._ops.push(new fE(Vo.Retain,e,t)),this}insert(e,t){if(kSe(e,"insert expects a string."),e==="")return this;this._targetLength+=e.length,t||(t={});const r=this._last(),i=this._last(1);return r&&r.isInsert()&&r.attributesEqual(t)?r.text+=e:r&&r.isDelete()?i&&i.isInsert()&&i.attributesEqual(t)?i.text+=e:(this._ops[this._ops.length-1]=new fE(Vo.Insert,e,t),this._ops.push(r)):this._ops.push(new fE(Vo.Insert,e,t)),this}delete(e){let t=e;if(typeof e=="string"&&(t=e.length),ij(t,"delete expects a positive integer or string."),t===0)return this;this._baseLength+=t;const r=this._last();return r&&r.isDelete()?r.chars+=t:this._ops.push(new fE(Vo.Delete,t,null)),this}isNoop(){return this._ops.length===0?!0:this._ops.every(e=>e.isRetain()&&e.hasEmptyAttributes())}clone(){const e=this._ops,t=new ut;for(const r of e)r.isRetain()?t.retain(r.chars,r.attributes):r.isInsert()?t.insert(r.text,r.attributes):t.delete(r.chars);return t}apply(e,t=[],r=[]){Cy(e.length,this._baseLength,"The operation's base length must be equal to the string's length.");const i=[];let o=0;for(const a of this._ops)if(a.isRetain()){const u=o+a.chars;RSe(u,e.length,"Operation can't retain more characters than are left in the string."),i.push(e.slice(o,u));for(let l=0;l<a.chars;l++){const c=t[o+l]||{},d={};for(const h in c)d[h]=c[h],Uy(d[h],!1);for(const h in a.attributes)a.attributes[h]===!1?delete d[h]:d[h]=a.attributes[h],Uy(d[h],!1);r.push(d)}o=u}else if(a.isInsert()){i.push(a.text);for(let u=0;u<a.text.length;u++){const l={};for(const c in a.attributes)l[c]=a.attributes[c],Uy(l[c],!1);r.push(l)}}else o+=a.chars;Cy(o,e.length,"The operation didn't operate on the whole string.");const s=i.join("");return Cy(s.length,r.length),s}invert(e){const t=new ut;let r=0;for(const i of this._ops)i.isRetain()?(t.retain(i.chars,i.attributes),r+=i.chars):i.isInsert()?t.delete(i.text.length):(t.insert(e.slice(r,r+i.chars),i.attributes),r+=i.chars);return t}canMergeWith(e){return this._targetLength===e._baseLength}static _nextTextOp(e){const t=e.next().value;return t?t[1]:null}compose(e){su(this.canMergeWith(e),"The base length of the second operation has to be the target length of the first operation");const t=new ut,r=this.clone().getOps().entries(),i=e.clone().getOps().entries();let o=ut._nextTextOp(r),s=ut._nextTextOp(i);for(;!(o==null&&s==null);){if(o&&o.isDelete()){t.delete(o.chars),o=ut._nextTextOp(r);continue}if(s&&s.isInsert()){t.insert(s.text,s.attributes),s=ut._nextTextOp(i);continue}if(Qd(o==null,"Cannot compose operations: first operation is too short."),Qd(s==null,"Cannot compose operations: first operation is too long."),o==null||s==null)break;if(o.isRetain()&&s.isRetain()){const a=this._composeAttributes(o.attributes,s.attributes,!1);o.chars>s.chars?(t.retain(s.chars,a),o.chars-=s.chars,s=ut._nextTextOp(i)):o.chars===s.chars?(t.retain(o.chars,a),o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(t.retain(o.chars,a),s.chars-=o.chars,o=ut._nextTextOp(r));continue}if(o.isInsert()&&s.isDelete()){o.text.length>s.chars?(o.text=o.text.slice(s.chars),s=ut._nextTextOp(i)):o.text.length===s.chars?(o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(s.chars-=o.text.length,o=ut._nextTextOp(r));continue}if(o.isInsert()&&s.isRetain()){const a=this._composeAttributes(o.attributes,s.attributes,!0);o.text.length>s.chars?(t.insert(o.text.slice(0,s.chars),a),o.text=o.text.slice(s.chars),s=ut._nextTextOp(i)):o.text.length===s.chars?(t.insert(o.text,a),o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(t.insert(o.text,a),s.chars-=o.text.length,o=ut._nextTextOp(r));continue}if(o.isRetain()&&s.isDelete()){o.chars>s.chars?(t.delete(s.chars),o.chars-=s.chars,s=ut._nextTextOp(i)):o.chars===s.chars?(t.delete(s.chars),o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(t.delete(o.chars),s.chars-=o.chars,o=ut._nextTextOp(r));continue}sj(`This should not happen:
op1: ${o}
op2: ${s}`)}return t}_composeAttributes(e,t,r){const i={};for(const o in e)i[o]=e[o];for(const o in t)r&&t[o]===!1?delete i[o]:i[o]=t[o];return i}_getSimpleOp(e){const t=e.getOps();switch(t.length){case 1:return t[0];case 2:{if(t[0].isRetain())return t[1];if(t[1].isRetain())return t[0];break}case 3:{if(t[0].isRetain()&&t[2].isRetain())return t[1];break}}return null}_getStartIndex(e){const t=e.getOps();if(!t)return 0;const r=t[0];return r&&r.isRetain()?r.chars:0}shouldBeComposedWith(e){if(this.isNoop()||e.isNoop())return!0;const t=this._getStartIndex(this),r=this._getStartIndex(e),i=this._getSimpleOp(this),o=this._getSimpleOp(e);return i==null||o==null?!1:i.isInsert()&&o.isInsert()?t+i.text.length===r:i.isDelete()&&o.isDelete()?r+o.chars===t||t===r:!1}shouldBeComposedWithInverted(e){if(this.isNoop()||e.isNoop())return!0;const t=this._getStartIndex(this),r=this._getStartIndex(e),i=this._getSimpleOp(this),o=this._getSimpleOp(e);return i==null||o==null?!1:i.isInsert()&&o.isInsert()?t+i.text.length===r||t===r:i.isDelete()&&o.isDelete()?r+o.chars===t:!1}static _transformAttributes(e,t){const r={},i={},o={};for(const s in e)o[s]=!0;for(const s in t)o[s]=!0;for(const s in o){const a=e[s],u=t[s];su(a!=null||u!=null),a==null?i[s]=u:u==null?r[s]=a:a===u||(r[s]=a)}return[r,i]}static transform(e,t){Cy(e._baseLength,t._baseLength,"Both operations have to have the same base length");const r=new ut,i=new ut,o=e.clone().getOps().entries(),s=t.clone().getOps().entries();let a=ut._nextTextOp(o),u=ut._nextTextOp(s);for(;!(a==null&&u==null);){if(a&&a.isInsert()){r.insert(a.text,a.attributes),i.retain(a.text.length,a.attributes),a=ut._nextTextOp(o);continue}if(u&&u.isInsert()){r.retain(u.text.length,u.attributes),i.insert(u.text,u.attributes),u=ut._nextTextOp(s);continue}if(Qd(a==null,"Cannot transform operations: first operation is too short."),Qd(u==null,"Cannot transform operations: first operation is too long."),a==null||u==null)break;if(a.isRetain()&&u.isRetain()){let l=0;const c=ut._transformAttributes(a.attributes,u.attributes);a.chars>u.chars?(l=u.chars,a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(l=u.chars,a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(l=a.chars,u.chars-=a.chars,a=ut._nextTextOp(o)),r.retain(l,c[0]),i.retain(l,c[1]);continue}if(a.isDelete()&&u.isDelete()){a.chars>u.chars?(a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(u.chars-=a.chars,a=ut._nextTextOp(o));continue}if(a.isDelete()&&u.isRetain()){let l=0;a.chars>u.chars?(l=u.chars,a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(l=u.chars,a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(l=a.chars,u.chars-=a.chars,a=ut._nextTextOp(o)),r.delete(l);continue}if(a.isRetain()&&u.isDelete()){let l=0;a.chars>u.chars?(l=u.chars,a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(l=a.chars,a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(l=a.chars,u.chars-=a.chars,a=ut._nextTextOp(o)),i.delete(l);continue}sj(`The two operations aren't compatible:
op1: ${a}
op2: ${u}`)}return[r,i]}transform(e){return ut.transform(this,e)}toString(){return this._ops.map(e=>e.toString()).join(", ")}toJSON(){const e=[];for(const t of this._ops)t.hasEmptyAttributes()||e.push(t.attributes),e.push(t.valueOf());return e.length===0&&e.push(0),e}static fromJSON(e){const t=new ut;let r={};for(const i of e){if(typeof i=="object"){r=i;continue}if(typeof i=="string"){t.insert(i,r),r={};continue}if(oJ(i),i<0){t.delete(-i),r={};continue}t.retain(i,r),r={}}return t}}const pd="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";class VA{constructor(e,t,r,i){typeof e!="object"&&(e=tt.database().ref(e)),this._databaseRef=e,this._ready=!1,this._firebaseCallbacks=[],this._zombie=!1,this._initialRevisions=!1,this.setUserId(t),this.setUserColor(r),this.setUserName(i),this._document=new ut,this._revision=0,this._pendingReceivedRevisions={},this._emitter=new J1([Zn.Acknowledge,Zn.CursorChange,Zn.Error,Zn.Operation,Zn.Ready,Zn.Retry,Zn.InitialRevision]),this._init()}_init(){const e=this._databaseRef.root.child(".info/connected");this._firebaseOn(e,"value",t=>{t.val()===!0&&this._initializeUserData()}),this.on(Zn.Ready,()=>{this._monitorCursors()}),setTimeout(()=>{this._monitorHistory()},1)}dispose(){if(this._zombie=!0,!this._ready){this.on(Zn.Ready,()=>{this.dispose()});return}this._emitter&&(this._emitter.dispose(),this._emitter=null),this._removeFirebaseCallbacks(),this._databaseRef=null,this._userRef=null,this._document=null}getDocument(){return this._document}isCurrentUser(e){return this._userId==e}on(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.on(e,t)}off(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.off(e,t)}registerCallbacks(e){Object.entries(e).forEach(([t,r])=>{this.on(t,r)})}_trigger(e,t,...r){var i;return(i=this._emitter)===null||i===void 0?void 0:i.trigger(e,t||{},...r)}_initializeUserData(){this._userRef.child("cursor").onDisconnect().remove(),this._userRef.child("color").onDisconnect().remove(),this._userRef.child("name").onDisconnect().remove(),this.sendCursor(this._userCursor||null)}_monitorHistory(){this._databaseRef.child("checkpoint").once("value",e=>{if(this._zombie)return;const t=e.child("id").val(),r=e.child("o").val(),i=e.child("a").val();r!=null&&t!=null&&i!==null?(this._pendingReceivedRevisions[t]={o:r,a:i},this._checkpointRevision=this._revisionFromId(t),this._monitorHistoryStartingAt(this._checkpointRevision+1)):(this._checkpointRevision=0,this._monitorHistoryStartingAt(this._checkpointRevision))}).catch(e=>{console.error("[firebase] Error getting checkpoint",e)})}_historyChildAdded(e){const t=e.key;this._pendingReceivedRevisions[t]=e.val(),this._ready&&this._handlePendingReceivedRevisions()}_monitorHistoryStartingAt(e){const t=this._databaseRef.child("history").startAt(null,this._revisionToId(e));this._firebaseOn(t,"child_added",this._historyChildAdded,this),t.once("value",()=>{this._handleInitialRevisions()}).catch(r=>{console.error("[firebase] Error getting initial revisions",r)})}_handleInitialRevisions(){if(this._zombie)return;Qd(this._ready,"Should not be called multiple times."),this._initialRevisions||(this._initialRevisions=!0,this._trigger(Zn.InitialRevision)),this._revision=this._checkpointRevision;let e=this._revisionToId(this._revision);const t=this._pendingReceivedRevisions;for(;t[e]!=null;){const r=this._parseRevision(t[e]);r?this._document=this._document.compose(r.operation):console.log("Invalid operation.",this._userRef.toString(),e,t[e]),delete t[e],this._revision++,e=this._revisionToId(this._revision)}this._trigger(Zn.Operation,this._document),this._ready=!0,setTimeout(()=>{this._trigger(Zn.Ready,!0)})}_handlePendingReceivedRevisions(){const e=this._pendingReceivedRevisions;let t=this._revisionToId(this._revision),r=!1;for(;e[t]!=null;){this._revision++;const i=this._parseRevision(e[t]);i?(this._document=this._document.compose(i.operation),this._sent&&t===this._sent.id?this._sent.op.equals(i.operation)&&(i.author==this._userId||t==="A0")?(this._revision%VA.CHECKPOINT_FREQUENCY===0&&this._saveCheckpoint(),this._sent=null,this._trigger(Zn.Acknowledge)):(r=!0,this._trigger(Zn.Operation,i.operation)):this._trigger(Zn.Operation,i.operation)):console.log("Invalid operation.",this._databaseRef.toString(),t,e[t]),delete e[t],t=this._revisionToId(this._revision)}r&&(this._sent=null,this._trigger(Zn.Retry))}sendOperation(e,t=hP){if(!this._ready){this.on(Zn.Ready,()=>{this._trigger(Zn.Retry)});return}if(!this._document.canMergeWith(e)){const o="sendOperation() called with invalid operation.";this._trigger(Zn.Error,o,e.toString(),{operation:e.toString(),document:this._document.toString()}),BSe(o)}const r=this._revisionToId(this._revision);this._sent={id:r,op:e};const i={a:this._userId,o:e.toJSON(),t:tt.database.ServerValue.TIMESTAMP};this._doTransaction(r,i,t)}_doTransaction(e,t,r){try{this._databaseRef.child("history").child(e).transaction(i=>{if(i===null)return t},(i,o)=>{if(i){if(console.error("[firebase] Transaction error - onComplete",i),i.message==="disconnect")return this._sent&&this._sent.id===e&&setTimeout(()=>{this._doTransaction(e,t,r)}),r(i,!1);this._trigger(Zn.Error,i,t.o.toString(),{operation:t.o.toString(),document:this._document.toString()}),FSe(i.message)}return r(null,o)},!1).catch(i=>{console.error("[firebase] Transaction error - catch()",i)})}catch(i){console.error("[firebase] Transaction error - trycatch",i)}}_parseRevision(e){if(typeof e!="object"||typeof e.o!="object")return null;let t=null;try{t=ut.fromJSON(e.o)}catch{return null}return this._document.canMergeWith(t)?{author:e.a,operation:t}:null}_saveCheckpoint(){this._databaseRef.child("checkpoint").set({a:this._userId,o:this._document.toJSON(),id:this._revisionToId(this._revision-1)}).catch(e=>{console.error("[firebase] Error saving checkpoint",e)})}isHistoryEmpty(){return su(this._ready,"Not ready yet."),this._revision===0}setUserId(e){su(typeof e=="string"||typeof e=="number","User ID must be either String or Integer."),this._userRef&&(this._userRef.child("cursor").remove(),this._userRef.child("cursor").onDisconnect().cancel(),this._userRef.child("color").remove(),this._userRef.child("color").onDisconnect().cancel(),this._userRef=null),this._userId=e,this._userRef=this._databaseRef.child("users").child(e.toString()),this._initializeUserData()}setUserColor(e){su(typeof e=="string","User Color must be String."),this._userRef&&(this._userRef.child("color").set(e),this._userColor=e)}setUserName(e){su(typeof e=="string","User Name must be String."),this._userRef&&(this._userRef.child("name").set(e),this._userName=e)}sendCursor(e,t=hP){if(!this._userRef)return;const r=e!=null?e.toJSON():null;this._userRef.child("cursor").set(r,function(i){typeof t=="function"&&t(i,e)}),this._userCursor=e}_childChanged(e){if(this._zombie)return;const t=e.key,r=e.val();this._trigger(Zn.CursorChange,t,r.cursor,r.color,r.name)}_childRemoved(e){const t=e.key;this._trigger(Zn.CursorChange,t,null)}_monitorCursors(){const e=this._databaseRef.child("users");this._firebaseOn(e,"child_added",this._childChanged,this),this._firebaseOn(e,"child_changed",this._childChanged,this),this._firebaseOn(e,"child_removed",this._childRemoved,this)}_firebaseOn(e,t,r,i){this._firebaseCallbacks.push({ref:e,eventType:t,callback:r,context:i}),e.on(t,r,i)}_removeFirebaseCallbacks(){for(const e of this._firebaseCallbacks){const{ref:t,eventType:r,callback:i,context:o}=e;t.off(r,i,o)}this._firebaseCallbacks=[]}_revisionToId(e){if(e===0)return"A0";let t="";for(;e>0;){const i=e%pd.length;t=pd[i]+t,e-=i,e/=pd.length}return`${pd[t.length+9]}${t}`}_revisionFromId(e){su(e.length>0&&e[0]===pd[e.length+8]);let t=0;for(let r=1;r<e.length;r++)t*=pd.length,t+=pd.indexOf(e[r]);return t}}VA.CHECKPOINT_FREQUENCY=100;var Pf;(function(n){n.ApplyOperation="apply",n.SendOperation="send"})(Pf||(Pf={}));class qSe{constructor(){}isSynchronized(){return!0}isAwaitingConfirm(){return!1}isAwaitingWithBuffer(){return!1}applyClient(e,t){return e.sendOperation(t),new Rb(t)}applyServer(e,t){return e.applyOperation(t),this}serverAck(e){return oj("There is no pending operation."),this}serverRetry(e){return oj("There is no pending operation."),this}}const sJ=new qSe;class Rb{constructor(e){this._outstanding=e}isSynchronized(){return!1}isAwaitingConfirm(){return!0}isAwaitingWithBuffer(){return!1}applyClient(e,t){return new gT(this._outstanding,t)}applyServer(e,t){const r=this._outstanding.transform(t);return e.applyOperation(r[1]),new Rb(r[0])}serverAck(e){return sJ}serverRetry(e){return e.sendOperation(this._outstanding),this}}class gT{constructor(e,t){this._outstanding=e,this._buffer=t}isSynchronized(){return!1}isAwaitingConfirm(){return!1}isAwaitingWithBuffer(){return!0}applyClient(e,t){const r=this._buffer.compose(t);return new gT(this._outstanding,r)}applyServer(e,t){const r=this._outstanding.transform(t),i=this._buffer.transform(r[1]);return e.applyOperation(i[1]),new gT(r[0],i[0])}serverAck(e){return e.sendOperation(this._buffer),new Rb(this._buffer)}serverRetry(e){const t=this._outstanding.compose(this._buffer);return e.sendOperation(t),new Rb(t)}}class zSe{constructor(){this._state=sJ,this._emitter=new J1([Pf.ApplyOperation,Pf.SendOperation])}dispose(){this._emitter.dispose()}isSynchronized(){return this._state.isSynchronized()}isAwaitingConfirm(){return this._state.isAwaitingConfirm()}isAwaitingWithBuffer(){return this._state.isAwaitingWithBuffer()}on(e,t){return this._emitter.on(e,t)}off(e,t){return this._emitter.off(e,t)}_trigger(e,t){return this._emitter.trigger(e,t)}_setState(e){this._state=e}applyClient(e){this._setState(this._state.applyClient(this,e))}applyServer(e){this._setState(this._state.applyServer(this,e))}serverAck(){this._setState(this._state.serverAck(this))}serverRetry(){this._setState(this._state.serverRetry(this))}sendOperation(e){this._trigger(Pf.SendOperation,e)}applyOperation(e){this._trigger(Pf.ApplyOperation,e)}}class Lv{constructor(e,t){this._cursorBefore=e,this._cursorAfter=t}clone(){return new Lv(this._cursorBefore,this._cursorAfter)}invert(){return new Lv(this._cursorAfter,this._cursorBefore)}compose(e){return new Lv(this._cursorBefore,e._cursorAfter)}transform(e){return new Lv(this._cursorBefore?this._cursorBefore.transform(e):null,this._cursorAfter?this._cursorAfter.transform(e):null)}getCursor(){return this._cursorAfter}}class GSe{constructor(e,t){this._clientId=e,this._editorAdapter=t}setColor(e){this._userColor=e}setUserName(e){this._userName=e}updateCursor(e){this.removeCursor(),this._userCursor=e,this._mark=this._editorAdapter.setOtherCursor(this._clientId,e,this._userColor,this._userName)}removeCursor(){this._mark&&this._mark.dispose()}}var Ws;(function(n){n.Normal="normal",n.Undoing="undoing",n.Redoing="redoing"})(Ws||(Ws={}));class WA{constructor(e=WA.MAX_ITEM_IN_STACK){PSe(e,0),this._maxItems=e,this._undoStack=[],this._redoStack=[],this._compose=!0,this._state=Ws.Normal}dispose(){Cy(this._state,Ws.Normal,"Cannot dispose UndoManager while an undo/redo is in-progress"),this._undoStack=[],this._redoStack=[]}_addOnNormalState(e,t){let r=e;this._compose&&t&&this._undoStack.length>0&&(r=e.compose(this._undoStack.pop())),this._undoStack.push(r),this._undoStack.length>this._maxItems&&this._undoStack.shift(),this._compose=!0,this._redoStack=[]}_addOnUndoingState(e){this._redoStack.push(e),this._compose=!1}_addOnRedoingState(e){this._undoStack.push(e),this._compose=!0}add(e,t=!1){switch(this._state){case Ws.Undoing:return this._addOnUndoingState(e);case Ws.Redoing:return this._addOnRedoingState(e);case Ws.Normal:return this._addOnNormalState(e,t)}}last(){return this._undoStack.length===0?null:this._undoStack[this._undoStack.length-1].clone()}_transformStack(e,t){const r=[],i=[...e].reverse();for(const o of i){const s=o.transform(t);s[0].isNoop()||r.push(s[0]),t=s[1]}return r.reverse()}transform(e){this._undoStack=this._transformStack(this._undoStack,e),this._redoStack=this._transformStack(this._redoStack,e)}performUndo(e){this._state=Ws.Undoing,Uy(this._undoStack.length,0,"undo not possible"),e(this._undoStack.pop()),this._state=Ws.Normal}performRedo(e){this._state=Ws.Redoing,Uy(this._redoStack.length,0,"redo not possible"),e(this._redoStack.pop()),this._state=Ws.Normal}canUndo(){return this._undoStack.length!==0}canRedo(){return this._redoStack.length!==0}isUndoing(){return this._state===Ws.Undoing}isRedoing(){return this._state===Ws.Redoing}}WA.MAX_ITEM_IN_STACK=50;class oc{constructor(e,t=null){this._operation=e,this._metadata=t}isWrappedOperation(){return!0}getOps(){return this._operation.getOps()}getCursor(){return this._metadata?this._metadata.getCursor():null}getOperation(){return this._operation.clone()}retain(e,t){return this._operation.retain(e,t),this}insert(e,t){return this._operation.insert(e,t),this}delete(e){return this._operation.delete(e),this}isNoop(){return this._operation.isNoop()}clone(){var e;return new oc(this._operation.clone(),(e=this._metadata)===null||e===void 0?void 0:e.clone())}apply(e,t,r){return this._operation.apply(e,t,r)}invert(e){var t;return new oc(this._operation.invert(e),(t=this._metadata)===null||t===void 0?void 0:t.invert())}_getWrappedOperation(e){return e.isWrappedOperation()?e:new oc(e)}equals(e){const t=this._getWrappedOperation(e);return this._operation.equals(t._operation)}transform(e){var t,r;const i=this._getWrappedOperation(e),[o,s]=this._operation.transform(i._operation),a=new oc(o,(t=this._metadata)===null||t===void 0?void 0:t.transform(i._operation)),u=new oc(s,(r=i._metadata)===null||r===void 0?void 0:r.transform(this._operation));return[a,u]}canMergeWith(e){const t=this._getWrappedOperation(e);return this._operation.canMergeWith(t._operation)}_composeMeta(e){return this._metadata?e?this._metadata.compose(e):this._metadata:e}compose(e){const t=this._getWrappedOperation(e);return new oc(this._operation.compose(t._operation),this._composeMeta(t._metadata))}shouldBeComposedWith(e){const t=this._getWrappedOperation(e);return this._operation.shouldBeComposedWith(t._operation)}shouldBeComposedWithInverted(e){const t=this._getWrappedOperation(e);return this._operation.shouldBeComposedWithInverted(t._operation)}toString(){return this._operation.toString()}toJSON(){return this._operation.toJSON()}}var Wo;(function(n){n.Undo="undo",n.Redo="redo",n.Error="error",n.Synced="synced"})(Wo||(Wo={}));class $Se{constructor(e,t){this._focused=!1,this._cursor=null,this._sendCursorTimeout=null,this._client=new zSe,this._databaseAdapter=e,this._editorAdapter=t,this._undoManager=new WA,this._remoteClients=new Map,this._emitter=new J1([Wo.Error,Wo.Undo,Wo.Redo,Wo.Synced]),this._init()}_init(){this._editorAdapter.registerCallbacks({change:(e,t)=>{this._onChange(e,t)},cursorActivity:()=>{this._onCursorActivity()},blur:()=>{this._onBlur()},focus:()=>{this._onFocus()},error:(e,t,r)=>{this._trigger(Wo.Error,e,t,r)}}),this._editorAdapter.registerUndo(()=>{this._undo()}),this._editorAdapter.registerRedo(()=>{this._redo()}),this._databaseAdapter.registerCallbacks({ack:()=>{this._client.serverAck(),this._updateCursor(),this._sendCursor(this._cursor),this._emitSynced()},retry:()=>{this._client.serverRetry()},operation:e=>{this._client.applyServer(e)},initialRevision:()=>{this._editorAdapter.setInitiated(!0)},cursor:(e,t,r,i)=>{if(this._databaseAdapter.isCurrentUser(e)||!this._client.isSynchronized())return;const o=this._getClientObject(e);if(!t){o.removeCursor();return}r&&o.setColor(r),i&&o.setUserName(i),o.updateCursor(KF.fromJSON(t))},error:(e,t,r)=>{this._trigger(Wo.Error,e,t,r)}}),this._client.on(Pf.ApplyOperation,e=>{this._applyOperation(e)}),this._client.on(Pf.SendOperation,e=>{this._sendOperation(e)})}dispose(){this._sendCursorTimeout&&(clearTimeout(this._sendCursorTimeout),this._sendCursorTimeout=null),this._emitter.dispose(),this._client.dispose(),this._undoManager.dispose(),this._remoteClients.clear()}on(e,t){return this._emitter.on(e,t)}off(e,t){return this._emitter.off(e,t)}_trigger(e,t,...r){return this._emitter.trigger(e,t,...r)}_emitSynced(){this._trigger(Wo.Synced,this._client.isSynchronized())}_getClientObject(e){let t=this._remoteClients.get(e);return t||(t=new GSe(e,this._editorAdapter),this._remoteClients.set(e,t),t)}_onChange(e,t){const r=this._cursor;this._updateCursor();const i=this._undoManager.canUndo()&&t.shouldBeComposedWithInverted(this._undoManager.last()),o=new Lv(this._cursor,r);this._undoManager.add(new oc(t,o),i),this._client.applyClient(e)}clearUndoRedoStack(){this._undoManager.dispose()}_applyUnredo(e){this._undoManager.add(this._editorAdapter.invertOperation(e));const t=e.getOperation();this._editorAdapter.applyOperation(t),this._cursor=e.getCursor(),this._cursor&&this._editorAdapter.setCursor(this._cursor),this._client.applyClient(t)}_undo(){this._undoManager.canUndo()&&this._undoManager.performUndo(e=>{this._applyUnredo(e),this._trigger(Wo.Undo,e.toString())})}_redo(){this._undoManager.canRedo()&&this._undoManager.performRedo(e=>{this._applyUnredo(e),this._trigger(Wo.Redo,e.toString())})}_sendOperation(e){this._databaseAdapter.sendOperation(e)}_applyOperation(e){this._editorAdapter.applyOperation(e),this._updateCursor(),this._undoManager.transform(new oc(e)),this._emitSynced()}_sendCursor(e){if(this._sendCursorTimeout&&(clearTimeout(this._sendCursorTimeout),this._sendCursorTimeout=null),this._client.isAwaitingWithBuffer()){this._sendCursorTimeout=setTimeout(()=>{this._sendCursor(e)},3);return}this._databaseAdapter.sendCursor(e)}_updateCursor(){this._cursor=this._editorAdapter.getCursor()}_onCursorActivity(){const e=this._cursor;this._updateCursor(),!(e==null&&e==this._cursor)&&this._sendCursor(this._cursor)}_onBlur(){this._cursor=null,this._sendCursor(null),this._focused=!1}_onFocus(){this._focused=!0,this._onCursorActivity()}}var Us;(function(n){n.Ready="ready",n.Synced="synced",n.Undo="undo",n.Redo="redo",n.Error="error"})(Us||(Us={}));class F4{constructor(e,t,r){if(!new.target)return new F4(e,t,r);this._ready=!1,this._zombie=!1,this._options=r,this._databaseAdapter=e,this._editorAdapter=t,this._editorClient=new $Se(e,t),this._emitter=new J1([Us.Ready,Us.Synced,Us.Undo,Us.Redo,Us.Error]),this._init()}_init(){this._databaseAdapter.on(Zn.Ready,()=>{this._ready=!0;const{defaultText:e}=this._options;e&&this.isHistoryEmpty()&&(this.setText(e),this.clearUndoRedoStack()),this._trigger(Us.Ready,!0)}),this._editorClient.on(Wo.Synced,e=>{setTimeout(()=>{this._trigger(Us.Synced,e)})}),this._editorClient.on(Wo.Undo,e=>{setTimeout(()=>{this._trigger(Us.Undo,e)})}),this._editorClient.on(Wo.Redo,e=>{setTimeout(()=>{this._trigger(Us.Redo,e)})}),this._editorClient.on(Wo.Error,(e,t,r)=>{setTimeout(()=>{this._trigger(Us.Error,e,t,r)})})}getConfiguration(e){return e in this._options?this._options[e]:null}on(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.on(e,t)}off(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.off(e,t)}_trigger(e,t,...r){var i;return(i=this._emitter)===null||i===void 0?void 0:i.trigger(e,t,...r)}isHistoryEmpty(){return this._assertReady("isHistoryEmpty"),this._databaseAdapter.isHistoryEmpty()}setUserId(e){this._databaseAdapter.setUserId(e),this._options.userId=e}setUserColor(e){this._databaseAdapter.setUserColor(e),this._options.userColor=e}setUserName(e){this._databaseAdapter.setUserName(e),this._options.userName=e}getText(){return this._assertReady("getText"),this._editorAdapter.getText()}setText(e=""){this._assertReady("setText"),this._editorAdapter.setText(e),this._editorAdapter.setCursor(new KF(0,0))}clearUndoRedoStack(){this._assertReady("clearUndoRedoStack"),this._editorClient.clearUndoRedoStack()}dispose(){this._zombie=!0,this._databaseAdapter.dispose(),this._editorAdapter.dispose(),this._editorClient.dispose(),this._emitter&&(this._trigger(Us.Ready,!1),this._emitter.dispose(),this._emitter=null)}_assertReady(e){su(this._ready,`You must wait for the "ready" event before calling ${e}.`),Qd(this._zombie,`You can't use a Firepad after calling dispose()!  [called ${e}]`)}}var hE,KSe=new Uint8Array(16);function YSe(){if(!hE&&(hE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hE(KSe)}const XSe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function QSe(n){return typeof n=="string"&&XSe.test(n)}var Fi=[];for(var iO=0;iO<256;++iO)Fi.push((iO+256).toString(16).substr(1));function ZSe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Fi[n[e+0]]+Fi[n[e+1]]+Fi[n[e+2]]+Fi[n[e+3]]+"-"+Fi[n[e+4]]+Fi[n[e+5]]+"-"+Fi[n[e+6]]+Fi[n[e+7]]+"-"+Fi[n[e+8]]+Fi[n[e+9]]+"-"+Fi[n[e+10]]+Fi[n[e+11]]+Fi[n[e+12]]+Fi[n[e+13]]+Fi[n[e+14]]+Fi[n[e+15]]).toLowerCase();if(!QSe(t))throw TypeError("Stringified UUID is invalid");return t}function JSe(n,e,t){n=n||{};var r=n.random||(n.rng||YSe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ZSe(r)}const eTe="modulepreload",tTe=function(n){return"/boletin.constructor/"+n},aj={},et=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=tTe(a),a in aj)return;aj[a]=!0;const u=a.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":eTe,u||(c.as="script",c.crossOrigin=""),c.href=a,s&&c.setAttribute("nonce",s),document.head.appendChild(c),u)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function nTe(n,e){var t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,function(r,i){var o=i[0];return typeof e[o]<"u"?e[o]:r}),t}function D(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return nTe(e,t)}function Bs(n,e){return e===void 0&&(e=0),n[n.length-(1+e)]}function rTe(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function Ah(n,e,t){if(t===void 0&&(t=function(o,s){return o===s}),n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(var r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function UA(n,e,t){for(var r=0,i=n.length-1;r<=i;){var o=(r+i)/2|0,s=t(n[o],e);if(s<0)r=o+1;else if(s>0)i=o-1;else return o}return-(r+1)}function iTe(n,e){var t=0,r=n.length;if(r===0)return 0;for(;t<r;){var i=Math.floor((t+r)/2);e(n[i])?r=i:t=i+1}return t}function jA(n,e){return pP(n,e,0,n.length-1,[]),n}function oTe(n,e,t,r,i,o){for(var s=t,a=r+1,u=t;u<=i;u++)o[u]=n[u];for(var u=t;u<=i;u++)s>r?n[u]=o[a++]:a>i?n[u]=o[s++]:e(o[a],o[s])<0?n[u]=o[a++]:n[u]=o[s++]}function pP(n,e,t,r,i){if(!(r<=t)){var o=t+(r-t)/2|0;pP(n,e,t,o,i),pP(n,e,o+1,r,i),!(e(n[o],n[o+1])<=0)&&oTe(n,e,t,o,r,i)}}function uj(n,e){for(var t=[],r=void 0,i=0,o=jA(n.slice(0),e);i<o.length;i++){var s=o[i];!r||e(r[0],s)!==0?(r=[s],t.push(r)):r.push(s)}return t}function Wc(n){return n.filter(function(e){return!!e})}function B4(n){return!Array.isArray(n)||n.length===0}function ts(n){return Array.isArray(n)&&n.length>0}function aJ(n,e){return n.filter(function(t,r){return n.indexOf(t)===r})}function lj(n){var e=new Set;return n.filter(function(t){return e.has(t)?!1:(e.add(t),!0)})}function Yf(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(e(r))return t}return-1}function gP(n,e,t){t===void 0&&(t=void 0);var r=Yf(n,e);return r<0?t:n[r]}function Pb(n){var e;return(e=[]).concat.apply(e,n)}function Fo(n,e){var t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);var r=[];if(t<=e)for(var i=t;i<e;i++)r.push(i);else for(var i=t;i>e;i--)r.push(i);return r}function vP(n,e,t){var r=n.slice(0,e),i=n.slice(e);return r.concat(t,i)}function oO(n,e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function dE(n,e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function uJ(n){return Array.isArray(n)?n:[n]}var C_={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function lJ(n){return Array.isArray?Array.isArray(n):!!(n&&typeof n.length===C_.number&&n.constructor===Array)}function wl(n){return typeof n===C_.string||n instanceof String}function Ui(n){return typeof n===C_.object&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function Dc(n){return(typeof n===C_.number||n instanceof Number)&&!isNaN(n)}function cJ(n){return n===!0||n===!1}function po(n){return typeof n===C_.undefined}function Xf(n){return po(n)||n===null}var sTe=Object.prototype.hasOwnProperty;function fJ(n){if(!Ui(n))return!1;for(var e in n)if(sTe.call(n,e))return!1;return!0}function jy(n){return typeof n===C_.function}function aTe(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++)uTe(n[r],e[r])}function uTe(n,e){if(wl(e)){if(typeof n!==e)throw new Error("argument does not match constraint: typeof "+e)}else if(jy(e)){try{if(n instanceof e)return}catch{}if(!Xf(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function lTe(n){for(var e=[],t=Object.getPrototypeOf(n);Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function H4(n){for(var e=[],t=0,r=lTe(n);t<r.length;t++){var i=r[t];typeof n[i]=="function"&&e.push(i)}return e}function hJ(n,e){for(var t=function(a){return function(){var u=Array.prototype.slice.call(arguments,0);return e(a,u)}},r={},i=0,o=n;i<o.length;i++){var s=o[i];r[s]=t(s)}return r}function qA(n){return n===null?void 0:n}function Cm(n){return typeof n>"u"?null:n}function ac(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;var e=Array.isArray(n)?[]:{};return Object.keys(n).forEach(function(t){n[t]&&typeof n[t]=="object"?e[t]=ac(n[t]):e[t]=n[t]}),e}function cTe(n){if(!n||typeof n!="object")return n;for(var e=[n];e.length>0;){var t=e.shift();Object.freeze(t);for(var r in t)if(dJ.call(t,r)){var i=t[r];typeof i=="object"&&!Object.isFrozen(i)&&e.push(i)}}return n}var dJ=Object.prototype.hasOwnProperty;function fTe(n,e){return mP(n,e,new Set)}function mP(n,e,t){if(Xf(n))return n;var r=e(n);if(typeof r<"u")return r;if(lJ(n)){for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];i.push(mP(a,e,t))}return i}if(Ui(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);var u={};for(var l in n)dJ.call(n,l)&&(u[l]=mP(n[l],e,t));return t.delete(n),u}return n}function Ur(n,e,t){return t===void 0&&(t=!0),Ui(n)?(Ui(e)&&Object.keys(e).forEach(function(r){r in n?t&&(Ui(n[r])&&Ui(e[r])?Ur(n[r],e[r],t):n[r]=e[r]):n[r]=e[r]}),n):e}function hTe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(r){return Object.keys(r).forEach(function(i){return n[i]=r[i]})}),n}function Qf(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;var t,r;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!Qf(n[t],e[t]))return!1}else{var i=[];for(r in n)i.push(r);i.sort();var o=[];for(r in e)o.push(r);if(o.sort(),!Qf(i,o))return!1;for(t=0;t<i.length;t++)if(!Qf(n[i[t]],e[i[t]]))return!1}return!0}function Qg(n,e,t){var r=e(n);return typeof r>"u"?t:r}var dTe={},_S="en",vT=!1,mT=!1,_P=!1,pJ=!1,gJ=!1,pE=void 0,sO=_S,pTe=void 0,gE=void 0,gTe=typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="renderer";if(typeof navigator=="object"&&!gTe)gE=navigator.userAgent,vT=gE.indexOf("Windows")>=0,mT=gE.indexOf("Macintosh")>=0,_P=gE.indexOf("Linux")>=0,gJ=!0,pE=navigator.language,sO=pE;else if(typeof process=="object"){vT=process.platform==="win32",mT=process.platform==="darwin",_P=process.platform==="linux",pE=_S,sO=_S;var cj=dTe.VSCODE_NLS_CONFIG;if(cj)try{var aO=JSON.parse(cj),fj=aO.availableLanguages["*"];pE=aO.locale,sO=fj||_S,pTe=aO._translationsConfigFile}catch{}pJ=!0}var bo=vT,Tt=mT,Uc=_P,wu=pJ,V4=gJ,vTe=typeof self=="object"?self:typeof global=="object"?global:{},ys=vTe,q0=null;function vJ(n){return q0===null&&(ys.setImmediate?q0=ys.setImmediate.bind(ys):typeof process<"u"&&typeof process.nextTick=="function"?q0=process.nextTick.bind(process):q0=ys.setTimeout.bind(ys)),q0(n)}var Qu=mT?2:vT?1:3,mJ="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function mTe(n){n===void 0&&(n="");for(var e="(-?\\d*\\.\\d\\w*)|([^",t=0,r=mJ;t<r.length;t++){var i=r[t];n.indexOf(i)>=0||(e+="\\"+i)}return e+="\\s]+)",new RegExp(e,"g")}var _J=mTe();function yP(n){var e=_J;if(n&&n instanceof RegExp)if(n.global)e=n;else{var t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}function _Te(n,e,t,r){var i=n-1-r,o=t.lastIndexOf(" ",i-1)+1;e.lastIndex=o;for(var s;s=e.exec(t);){var a=s.index||0;if(a<=i&&e.lastIndex>=i)return{word:s[0],startColumn:r+1+a,endColumn:r+1+e.lastIndex}}return null}function yTe(n,e,t,r){var i=n-1-r;e.lastIndex=0;for(var o;o=e.exec(t);){var s=o.index||0;if(s>i)return null;if(e.lastIndex>=i)return{word:o[0],startColumn:r+1+s,endColumn:r+1+e.lastIndex}}return null}function bP(n,e,t,r){e.lastIndex=0;var i=e.exec(t);if(!i)return null;var o=i[0].indexOf(" ")>=0?yTe(n,e,t,r):_Te(n,e,t,r);return e.lastIndex=0,o}var CP=function(){return CP=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},CP.apply(this,arguments)};function bTe(n){return"blink"}var Fn;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Fn||(Fn={}));function CTe(n){if(n===Fn.Line)return"line";if(n===Fn.Block)return"block";if(n===Fn.Underline)return"underline";if(n===Fn.LineThin)return"line-thin";if(n===Fn.BlockOutline)return"block-outline";if(n===Fn.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")}function wTe(n,e){return typeof n!="string"?e:n==="line"?Fn.Line:n==="block"?Fn.Block:n==="underline"?Fn.Underline:n==="line-thin"?Fn.LineThin:n==="block-outline"?Fn.BlockOutline:n==="underline-thin"?Fn.UnderlineThin:Fn.Line}var yJ=function(){function n(e){this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=e.lineHeight|0,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.multiCursorModifier=e.multiCursorModifier,this.multiCursorMergeOverlapping=e.multiCursorMergeOverlapping,this.wordSeparators=e.wordSeparators,this.autoClosingBrackets=e.autoClosingBrackets,this.autoClosingQuotes=e.autoClosingQuotes,this.autoClosingOvertype=e.autoClosingOvertype,this.autoSurround=e.autoSurround,this.autoIndent=e.autoIndent,this.useTabStops=e.useTabStops,this.tabFocusMode=e.tabFocusMode,this.dragAndDrop=e.dragAndDrop,this.emptySelectionClipboard=e.emptySelectionClipboard,this.copyWithSyntaxHighlighting=e.copyWithSyntaxHighlighting,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo,this.contribInfo=e.contribInfo,this.showUnused=e.showUnused}return n.prototype.equals=function(e){return this.canUseLayerHinting===e.canUseLayerHinting&&this.pixelRatio===e.pixelRatio&&this.editorClassName===e.editorClassName&&this.lineHeight===e.lineHeight&&this.readOnly===e.readOnly&&this.accessibilitySupport===e.accessibilitySupport&&this.multiCursorModifier===e.multiCursorModifier&&this.multiCursorMergeOverlapping===e.multiCursorMergeOverlapping&&this.wordSeparators===e.wordSeparators&&this.autoClosingBrackets===e.autoClosingBrackets&&this.autoClosingQuotes===e.autoClosingQuotes&&this.autoClosingOvertype===e.autoClosingOvertype&&this.autoSurround===e.autoSurround&&this.autoIndent===e.autoIndent&&this.useTabStops===e.useTabStops&&this.tabFocusMode===e.tabFocusMode&&this.dragAndDrop===e.dragAndDrop&&this.showUnused===e.showUnused&&this.emptySelectionClipboard===e.emptySelectionClipboard&&this.copyWithSyntaxHighlighting===e.copyWithSyntaxHighlighting&&n._equalsLayoutInfo(this.layoutInfo,e.layoutInfo)&&this.fontInfo.equals(e.fontInfo)&&n._equalsViewOptions(this.viewInfo,e.viewInfo)&&n._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo)&&n._equalsContribOptions(this.contribInfo,e.contribInfo)},n.prototype.createChangeEvent=function(e){return{canUseLayerHinting:this.canUseLayerHinting!==e.canUseLayerHinting,pixelRatio:this.pixelRatio!==e.pixelRatio,editorClassName:this.editorClassName!==e.editorClassName,lineHeight:this.lineHeight!==e.lineHeight,readOnly:this.readOnly!==e.readOnly,accessibilitySupport:this.accessibilitySupport!==e.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==e.multiCursorModifier,multiCursorMergeOverlapping:this.multiCursorMergeOverlapping!==e.multiCursorMergeOverlapping,wordSeparators:this.wordSeparators!==e.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==e.autoClosingBrackets,autoClosingQuotes:this.autoClosingQuotes!==e.autoClosingQuotes,autoClosingOvertype:this.autoClosingOvertype!==e.autoClosingOvertype,autoSurround:this.autoSurround!==e.autoSurround,autoIndent:this.autoIndent!==e.autoIndent,useTabStops:this.useTabStops!==e.useTabStops,tabFocusMode:this.tabFocusMode!==e.tabFocusMode,dragAndDrop:this.dragAndDrop!==e.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==e.emptySelectionClipboard,copyWithSyntaxHighlighting:this.copyWithSyntaxHighlighting!==e.copyWithSyntaxHighlighting,layoutInfo:!n._equalsLayoutInfo(this.layoutInfo,e.layoutInfo),fontInfo:!this.fontInfo.equals(e.fontInfo),viewInfo:!n._equalsViewOptions(this.viewInfo,e.viewInfo),wrappingInfo:!n._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo),contribInfo:!n._equalsContribOptions(this.contribInfo,e.contribInfo)}},n._equalsLayoutInfo=function(e,t){return e.width===t.width&&e.height===t.height&&e.glyphMarginLeft===t.glyphMarginLeft&&e.glyphMarginWidth===t.glyphMarginWidth&&e.glyphMarginHeight===t.glyphMarginHeight&&e.lineNumbersLeft===t.lineNumbersLeft&&e.lineNumbersWidth===t.lineNumbersWidth&&e.lineNumbersHeight===t.lineNumbersHeight&&e.decorationsLeft===t.decorationsLeft&&e.decorationsWidth===t.decorationsWidth&&e.decorationsHeight===t.decorationsHeight&&e.contentLeft===t.contentLeft&&e.contentWidth===t.contentWidth&&e.contentHeight===t.contentHeight&&e.renderMinimap===t.renderMinimap&&e.minimapLeft===t.minimapLeft&&e.minimapWidth===t.minimapWidth&&e.viewportColumn===t.viewportColumn&&e.verticalScrollbarWidth===t.verticalScrollbarWidth&&e.horizontalScrollbarHeight===t.horizontalScrollbarHeight&&this._equalsOverviewRuler(e.overviewRuler,t.overviewRuler)},n._equalsOverviewRuler=function(e,t){return e.width===t.width&&e.height===t.height&&e.top===t.top&&e.right===t.right},n._equalsViewOptions=function(e,t){return e.extraEditorClassName===t.extraEditorClassName&&e.disableMonospaceOptimizations===t.disableMonospaceOptimizations&&Ah(e.rulers,t.rulers)&&e.ariaLabel===t.ariaLabel&&e.renderLineNumbers===t.renderLineNumbers&&e.renderCustomLineNumbers===t.renderCustomLineNumbers&&e.cursorSurroundingLines===t.cursorSurroundingLines&&e.renderFinalNewline===t.renderFinalNewline&&e.selectOnLineNumbers===t.selectOnLineNumbers&&e.glyphMargin===t.glyphMargin&&e.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&e.roundedSelection===t.roundedSelection&&e.overviewRulerLanes===t.overviewRulerLanes&&e.overviewRulerBorder===t.overviewRulerBorder&&e.cursorBlinking===t.cursorBlinking&&e.mouseWheelZoom===t.mouseWheelZoom&&e.cursorSmoothCaretAnimation===t.cursorSmoothCaretAnimation&&e.cursorStyle===t.cursorStyle&&e.cursorWidth===t.cursorWidth&&e.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&e.scrollBeyondLastLine===t.scrollBeyondLastLine&&e.scrollBeyondLastColumn===t.scrollBeyondLastColumn&&e.smoothScrolling===t.smoothScrolling&&e.stopRenderingLineAfter===t.stopRenderingLineAfter&&e.renderWhitespace===t.renderWhitespace&&e.renderControlCharacters===t.renderControlCharacters&&e.fontLigatures===t.fontLigatures&&e.renderIndentGuides===t.renderIndentGuides&&e.highlightActiveIndentGuide===t.highlightActiveIndentGuide&&e.renderLineHighlight===t.renderLineHighlight&&this._equalsScrollbarOptions(e.scrollbar,t.scrollbar)&&this._equalsMinimapOptions(e.minimap,t.minimap)&&e.fixedOverflowWidgets===t.fixedOverflowWidgets},n._equalsScrollbarOptions=function(e,t){return e.arrowSize===t.arrowSize&&e.vertical===t.vertical&&e.horizontal===t.horizontal&&e.useShadows===t.useShadows&&e.verticalHasArrows===t.verticalHasArrows&&e.horizontalHasArrows===t.horizontalHasArrows&&e.handleMouseWheel===t.handleMouseWheel&&e.horizontalScrollbarSize===t.horizontalScrollbarSize&&e.horizontalSliderSize===t.horizontalSliderSize&&e.verticalScrollbarSize===t.verticalScrollbarSize&&e.verticalSliderSize===t.verticalSliderSize&&e.mouseWheelScrollSensitivity===t.mouseWheelScrollSensitivity&&e.fastScrollSensitivity===t.fastScrollSensitivity},n._equalsMinimapOptions=function(e,t){return e.enabled===t.enabled&&e.side===t.side&&e.showSlider===t.showSlider&&e.renderCharacters===t.renderCharacters&&e.maxColumn===t.maxColumn},n._equalFindOptions=function(e,t){return e.seedSearchStringFromSelection===t.seedSearchStringFromSelection&&e.autoFindInSelection===t.autoFindInSelection&&e.globalFindClipboard===t.globalFindClipboard&&e.addExtraSpaceOnTop===t.addExtraSpaceOnTop},n._equalsParameterHintOptions=function(e,t){return e.enabled===t.enabled&&e.cycle===t.cycle},n._equalsHoverOptions=function(e,t){return e.enabled===t.enabled&&e.delay===t.delay&&e.sticky===t.sticky},n._equalsSuggestOptions=function(e,t){return e===t?!0:!e||!t?!1:e.filterGraceful===t.filterGraceful&&e.snippets===t.snippets&&e.snippetsPreventQuickSuggestions===t.snippetsPreventQuickSuggestions&&e.localityBonus===t.localityBonus&&e.shareSuggestSelections===t.shareSuggestSelections&&e.showIcons===t.showIcons&&e.maxVisibleSuggestions===t.maxVisibleSuggestions&&Qf(e.filteredTypes,t.filteredTypes)},n._equalsGotoLocationOptions=function(e,t){return e===t?!0:!e||!t?!1:e.multiple===t.multiple},n._equalsWrappingInfo=function(e,t){return e.inDiffEditor===t.inDiffEditor&&e.isDominatedByLongLines===t.isDominatedByLongLines&&e.isWordWrapMinified===t.isWordWrapMinified&&e.isViewportWrapping===t.isViewportWrapping&&e.wrappingColumn===t.wrappingColumn&&e.wrappingIndent===t.wrappingIndent&&e.wordWrapBreakBeforeCharacters===t.wordWrapBreakBeforeCharacters&&e.wordWrapBreakAfterCharacters===t.wordWrapBreakAfterCharacters&&e.wordWrapBreakObtrusiveCharacters===t.wordWrapBreakObtrusiveCharacters},n._equalsContribOptions=function(e,t){return e.selectionClipboard===t.selectionClipboard&&this._equalsHoverOptions(e.hover,t.hover)&&e.links===t.links&&e.contextmenu===t.contextmenu&&n._equalsQuickSuggestions(e.quickSuggestions,t.quickSuggestions)&&e.quickSuggestionsDelay===t.quickSuggestionsDelay&&this._equalsParameterHintOptions(e.parameterHints,t.parameterHints)&&e.formatOnType===t.formatOnType&&e.formatOnPaste===t.formatOnPaste&&e.suggestOnTriggerCharacters===t.suggestOnTriggerCharacters&&e.acceptSuggestionOnEnter===t.acceptSuggestionOnEnter&&e.acceptSuggestionOnCommitCharacter===t.acceptSuggestionOnCommitCharacter&&e.wordBasedSuggestions===t.wordBasedSuggestions&&e.suggestSelection===t.suggestSelection&&e.suggestFontSize===t.suggestFontSize&&e.suggestLineHeight===t.suggestLineHeight&&e.tabCompletion===t.tabCompletion&&this._equalsSuggestOptions(e.suggest,t.suggest)&&n._equalsGotoLocationOptions(e.gotoLocation,t.gotoLocation)&&e.selectionHighlight===t.selectionHighlight&&e.occurrencesHighlight===t.occurrencesHighlight&&e.codeLens===t.codeLens&&e.folding===t.folding&&e.foldingStrategy===t.foldingStrategy&&e.showFoldingControls===t.showFoldingControls&&e.matchBrackets===t.matchBrackets&&this._equalFindOptions(e.find,t.find)&&e.colorDecorators===t.colorDecorators&&Qf(e.codeActionsOnSave,t.codeActionsOnSave)&&e.codeActionsOnSaveTimeout===t.codeActionsOnSaveTimeout&&e.lightbulbEnabled===t.lightbulbEnabled},n._equalsQuickSuggestions=function(e,t){return typeof e=="boolean"?typeof t!="boolean"?!1:e===t:typeof t=="boolean"?!1:e.comments===t.comments&&e.other===t.other&&e.strings===t.strings},n}();function Qe(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}function ETe(n,e){if(!n)return e;for(var t=Object.create(null),r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],s=n[o];typeof s=="boolean"&&(t[o]=s)}return t}function Zg(n,e){return typeof n!="string"?e:n}function Zr(n,e,t){return typeof n!="string"||t.indexOf(n)===-1?e:n}function vr(n,e,t,r){var i;return typeof n>"u"?i=e:(i=parseInt(n,10),isNaN(i)&&(i=e)),i=Math.max(t,i),i=Math.min(r,i),i|0}function hj(n,e){var t=parseFloat(n);return isNaN(t)&&(t=e),t}function STe(n,e){return typeof n!="string"?e:n==="same"?1:n==="indent"?2:n==="deepIndent"?3:0}function TTe(n,e){if(typeof n!="string")return e;switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"visible":case"solid":return 5}return 1}function dj(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}var pj=function(){function n(){}return n.validate=function(e,t){var r=e.wordWrap;r===!0?r="on":r===!1&&(r="off"),r=Zr(r,t.wordWrap,["off","on","wordWrapColumn","bounded"]);var i=this._sanitizeViewInfo(e,t.viewInfo),o=this._sanitizeContribInfo(e,t.contribInfo),s=void 0;typeof e.multiCursorModifier=="string"&&(e.multiCursorModifier==="ctrlCmd"?s=Tt?"metaKey":"ctrlKey":s="altKey");var a=Zr(s,t.multiCursorModifier,["altKey","metaKey","ctrlKey"]),u,l,c;return typeof e.autoClosingBrackets=="boolean"&&e.autoClosingBrackets===!1?(u="never",l="never",c="never"):(u=Zr(e.autoClosingBrackets,t.autoClosingBrackets,["always","languageDefined","beforeWhitespace","never"]),l=Zr(e.autoClosingQuotes,t.autoClosingQuotes,["always","languageDefined","beforeWhitespace","never"]),c=Zr(e.autoSurround,t.autoSurround,["languageDefined","brackets","quotes","never"])),{inDiffEditor:Qe(e.inDiffEditor,t.inDiffEditor),wordSeparators:Zg(e.wordSeparators,t.wordSeparators),lineNumbersMinChars:vr(e.lineNumbersMinChars,t.lineNumbersMinChars,1,10),lineDecorationsWidth:typeof e.lineDecorationsWidth>"u"?t.lineDecorationsWidth:e.lineDecorationsWidth,readOnly:Qe(e.readOnly,t.readOnly),mouseStyle:Zr(e.mouseStyle,t.mouseStyle,["text","default","copy"]),disableLayerHinting:Qe(e.disableLayerHinting,t.disableLayerHinting),automaticLayout:Qe(e.automaticLayout,t.automaticLayout),wordWrap:r,wordWrapColumn:vr(e.wordWrapColumn,t.wordWrapColumn,1,1073741824),wordWrapMinified:Qe(e.wordWrapMinified,t.wordWrapMinified),wrappingIndent:STe(e.wrappingIndent,t.wrappingIndent),wordWrapBreakBeforeCharacters:Zg(e.wordWrapBreakBeforeCharacters,t.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:Zg(e.wordWrapBreakAfterCharacters,t.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:Zg(e.wordWrapBreakObtrusiveCharacters,t.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:u,autoClosingQuotes:l,autoClosingOvertype:Zr(e.autoClosingOvertype,t.autoClosingOvertype,["always","auto","never"]),autoSurround:c,autoIndent:Qe(e.autoIndent,t.autoIndent),dragAndDrop:Qe(e.dragAndDrop,t.dragAndDrop),emptySelectionClipboard:Qe(e.emptySelectionClipboard,t.emptySelectionClipboard),copyWithSyntaxHighlighting:Qe(e.copyWithSyntaxHighlighting,t.copyWithSyntaxHighlighting),useTabStops:Qe(e.useTabStops,t.useTabStops),multiCursorModifier:a,multiCursorMergeOverlapping:Qe(e.multiCursorMergeOverlapping,t.multiCursorMergeOverlapping),accessibilitySupport:Zr(e.accessibilitySupport,t.accessibilitySupport,["auto","on","off"]),showUnused:Qe(e.showUnused,t.showUnused),viewInfo:i,contribInfo:o}},n._sanitizeScrollbarOpts=function(e,t,r,i){if(typeof e!="object")return t;var o=vr(e.horizontalScrollbarSize,t.horizontalScrollbarSize,0,1e3),s=vr(e.verticalScrollbarSize,t.verticalScrollbarSize,0,1e3);return{vertical:dj(e.vertical,t.vertical),horizontal:dj(e.horizontal,t.horizontal),arrowSize:vr(e.arrowSize,t.arrowSize,0,1e3),useShadows:Qe(e.useShadows,t.useShadows),verticalHasArrows:Qe(e.verticalHasArrows,t.verticalHasArrows),horizontalHasArrows:Qe(e.horizontalHasArrows,t.horizontalHasArrows),horizontalScrollbarSize:o,horizontalSliderSize:vr(e.horizontalSliderSize,o,0,1e3),verticalScrollbarSize:s,verticalSliderSize:vr(e.verticalSliderSize,s,0,1e3),handleMouseWheel:Qe(e.handleMouseWheel,t.handleMouseWheel),mouseWheelScrollSensitivity:r,fastScrollSensitivity:i}},n._sanitizeMinimapOpts=function(e,t){return typeof e!="object"?t:{enabled:Qe(e.enabled,t.enabled),side:Zr(e.side,t.side,["right","left"]),showSlider:Zr(e.showSlider,t.showSlider,["always","mouseover"]),renderCharacters:Qe(e.renderCharacters,t.renderCharacters),maxColumn:vr(e.maxColumn,t.maxColumn,1,1e4)}},n._sanitizeFindOpts=function(e,t){return typeof e!="object"?t:{seedSearchStringFromSelection:Qe(e.seedSearchStringFromSelection,t.seedSearchStringFromSelection),autoFindInSelection:Qe(e.autoFindInSelection,t.autoFindInSelection),globalFindClipboard:Qe(e.globalFindClipboard,t.globalFindClipboard),addExtraSpaceOnTop:Qe(e.addExtraSpaceOnTop,t.addExtraSpaceOnTop)}},n._sanitizeParameterHintOpts=function(e,t){return typeof e!="object"?t:{enabled:Qe(e.enabled,t.enabled),cycle:Qe(e.cycle,t.cycle)}},n._sanitizeHoverOpts=function(e,t){var r;if(typeof e=="boolean")r={enabled:e};else if(typeof e=="object")r=e;else return t;return{enabled:Qe(r.enabled,t.enabled),delay:vr(r.delay,t.delay,0,1e4),sticky:Qe(r.sticky,t.sticky)}},n._sanitizeSuggestOpts=function(e,t){var r=e.suggest||{};return{filterGraceful:Qe(r.filterGraceful,t.filterGraceful),snippets:Zr(e.snippetSuggestions,t.snippets,["top","bottom","inline","none"]),snippetsPreventQuickSuggestions:Qe(r.snippetsPreventQuickSuggestions,t.filterGraceful),localityBonus:Qe(r.localityBonus,t.localityBonus),shareSuggestSelections:Qe(r.shareSuggestSelections,t.shareSuggestSelections),showIcons:Qe(r.showIcons,t.showIcons),maxVisibleSuggestions:vr(r.maxVisibleSuggestions,t.maxVisibleSuggestions,1,15),filteredTypes:Ui(r.filteredTypes)?r.filteredTypes:Object.create(null)}},n._sanitizeGotoLocationOpts=function(e,t){var r=e.gotoLocation||{};return{multiple:Zr(r.multiple,t.multiple,["peek","gotoAndPeek","goto"])}},n._sanitizeTabCompletionOpts=function(e,t){return e===!1?"off":e===!0?"onlySnippets":Zr(e,t,["on","off","onlySnippets"])},n._sanitizeViewInfo=function(e,t){var r=[];if(Array.isArray(e.rulers)){for(var i=0,o=e.rulers.length;i<o;i++)r.push(vr(e.rulers[i],0,0,1e4));r.sort()}var s=t.renderLineNumbers,a=t.renderCustomLineNumbers;if(typeof e.lineNumbers<"u"){var u=e.lineNumbers;u===!0?u="on":u===!1&&(u="off"),typeof u=="function"?(s=4,a=u):u==="interval"?s=3:u==="relative"?s=2:u==="on"?s=1:s=0}var l=Qe(e.fontLigatures,t.fontLigatures),c=Qe(e.disableMonospaceOptimizations,t.disableMonospaceOptimizations)||l,d=e.renderWhitespace;d===!0?d="boundary":d===!1&&(d="none"),d=Zr(d,t.renderWhitespace,["none","boundary","selection","all"]);var h=e.renderLineHighlight;h===!0?h="line":h===!1&&(h="none"),h=Zr(h,t.renderLineHighlight,["none","gutter","line","all"]);var p=hj(e.mouseWheelScrollSensitivity,t.scrollbar.mouseWheelScrollSensitivity);p===0&&(p=1);var v=hj(e.fastScrollSensitivity,t.scrollbar.fastScrollSensitivity);v<=0&&(v=t.scrollbar.fastScrollSensitivity);var m=this._sanitizeScrollbarOpts(e.scrollbar,t.scrollbar,p,v),_=this._sanitizeMinimapOpts(e.minimap,t.minimap);return{extraEditorClassName:Zg(e.extraEditorClassName,t.extraEditorClassName),disableMonospaceOptimizations:c,rulers:r,ariaLabel:Zg(e.ariaLabel,t.ariaLabel),cursorSurroundingLines:vr(e.cursorSurroundingLines,t.cursorWidth,0,Number.MAX_VALUE),renderLineNumbers:s,renderCustomLineNumbers:a,renderFinalNewline:Qe(e.renderFinalNewline,t.renderFinalNewline),selectOnLineNumbers:Qe(e.selectOnLineNumbers,t.selectOnLineNumbers),glyphMargin:Qe(e.glyphMargin,t.glyphMargin),revealHorizontalRightPadding:vr(e.revealHorizontalRightPadding,t.revealHorizontalRightPadding,0,1e3),roundedSelection:Qe(e.roundedSelection,t.roundedSelection),overviewRulerLanes:vr(e.overviewRulerLanes,t.overviewRulerLanes,0,3),overviewRulerBorder:Qe(e.overviewRulerBorder,t.overviewRulerBorder),cursorBlinking:TTe(e.cursorBlinking,t.cursorBlinking),mouseWheelZoom:Qe(e.mouseWheelZoom,t.mouseWheelZoom),cursorSmoothCaretAnimation:Qe(e.cursorSmoothCaretAnimation,t.cursorSmoothCaretAnimation),cursorStyle:wTe(e.cursorStyle,t.cursorStyle),cursorWidth:vr(e.cursorWidth,t.cursorWidth,0,Number.MAX_VALUE),hideCursorInOverviewRuler:Qe(e.hideCursorInOverviewRuler,t.hideCursorInOverviewRuler),scrollBeyondLastLine:Qe(e.scrollBeyondLastLine,t.scrollBeyondLastLine),scrollBeyondLastColumn:vr(e.scrollBeyondLastColumn,t.scrollBeyondLastColumn,0,1073741824),smoothScrolling:Qe(e.smoothScrolling,t.smoothScrolling),stopRenderingLineAfter:vr(e.stopRenderingLineAfter,t.stopRenderingLineAfter,-1,1073741824),renderWhitespace:d,renderControlCharacters:Qe(e.renderControlCharacters,t.renderControlCharacters),fontLigatures:l,renderIndentGuides:Qe(e.renderIndentGuides,t.renderIndentGuides),highlightActiveIndentGuide:Qe(e.highlightActiveIndentGuide,t.highlightActiveIndentGuide),renderLineHighlight:h,scrollbar:m,minimap:_,fixedOverflowWidgets:Qe(e.fixedOverflowWidgets,t.fixedOverflowWidgets)}},n._sanitizeContribInfo=function(e,t){var r;typeof e.quickSuggestions=="object"?r=CP({other:!0},e.quickSuggestions):r=Qe(e.quickSuggestions,t.quickSuggestions),typeof e.acceptSuggestionOnEnter=="boolean"&&(e.acceptSuggestionOnEnter=e.acceptSuggestionOnEnter?"on":"off");var i=this._sanitizeFindOpts(e.find,t.find);return{selectionClipboard:Qe(e.selectionClipboard,t.selectionClipboard),hover:this._sanitizeHoverOpts(e.hover,t.hover),links:Qe(e.links,t.links),contextmenu:Qe(e.contextmenu,t.contextmenu),quickSuggestions:r,quickSuggestionsDelay:vr(e.quickSuggestionsDelay,t.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:this._sanitizeParameterHintOpts(e.parameterHints,t.parameterHints),formatOnType:Qe(e.formatOnType,t.formatOnType),formatOnPaste:Qe(e.formatOnPaste,t.formatOnPaste),suggestOnTriggerCharacters:Qe(e.suggestOnTriggerCharacters,t.suggestOnTriggerCharacters),acceptSuggestionOnEnter:Zr(e.acceptSuggestionOnEnter,t.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:Qe(e.acceptSuggestionOnCommitCharacter,t.acceptSuggestionOnCommitCharacter),wordBasedSuggestions:Qe(e.wordBasedSuggestions,t.wordBasedSuggestions),suggestSelection:Zr(e.suggestSelection,t.suggestSelection,["first","recentlyUsed","recentlyUsedByPrefix"]),suggestFontSize:vr(e.suggestFontSize,t.suggestFontSize,0,1e3),suggestLineHeight:vr(e.suggestLineHeight,t.suggestLineHeight,0,1e3),tabCompletion:this._sanitizeTabCompletionOpts(e.tabCompletion,t.tabCompletion),suggest:this._sanitizeSuggestOpts(e,t.suggest),gotoLocation:this._sanitizeGotoLocationOpts(e,t.gotoLocation),selectionHighlight:Qe(e.selectionHighlight,t.selectionHighlight),occurrencesHighlight:Qe(e.occurrencesHighlight,t.occurrencesHighlight),codeLens:Qe(e.codeLens,t.codeLens),folding:Qe(e.folding,t.folding),foldingStrategy:Zr(e.foldingStrategy,t.foldingStrategy,["auto","indentation"]),showFoldingControls:Zr(e.showFoldingControls,t.showFoldingControls,["always","mouseover"]),matchBrackets:Qe(e.matchBrackets,t.matchBrackets),find:i,colorDecorators:Qe(e.colorDecorators,t.colorDecorators),lightbulbEnabled:Qe(e.lightbulb?e.lightbulb.enabled:!1,t.lightbulbEnabled),codeActionsOnSave:ETe(e.codeActionsOnSave,{}),codeActionsOnSaveTimeout:vr(e.codeActionsOnSaveTimeout,t.codeActionsOnSaveTimeout,1,1e4)}},n}(),DTe=function(){function n(){}return n._tweakValidatedOptions=function(e,t){var r=t===1;return{inDiffEditor:e.inDiffEditor,wordSeparators:e.wordSeparators,lineNumbersMinChars:e.lineNumbersMinChars,lineDecorationsWidth:e.lineDecorationsWidth,readOnly:e.readOnly,mouseStyle:e.mouseStyle,disableLayerHinting:e.disableLayerHinting,automaticLayout:e.automaticLayout,wordWrap:e.wordWrap,wordWrapColumn:e.wordWrapColumn,wordWrapMinified:e.wordWrapMinified,wrappingIndent:e.wrappingIndent,wordWrapBreakBeforeCharacters:e.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:e.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:e.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:e.autoClosingBrackets,autoClosingQuotes:e.autoClosingQuotes,autoClosingOvertype:e.autoClosingOvertype,autoSurround:e.autoSurround,autoIndent:e.autoIndent,dragAndDrop:e.dragAndDrop,emptySelectionClipboard:e.emptySelectionClipboard,copyWithSyntaxHighlighting:e.copyWithSyntaxHighlighting,useTabStops:e.useTabStops,multiCursorModifier:e.multiCursorModifier,multiCursorMergeOverlapping:e.multiCursorMergeOverlapping,accessibilitySupport:e.accessibilitySupport,showUnused:e.showUnused,viewInfo:{extraEditorClassName:e.viewInfo.extraEditorClassName,disableMonospaceOptimizations:e.viewInfo.disableMonospaceOptimizations,rulers:e.viewInfo.rulers,ariaLabel:r?D("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.viewInfo.ariaLabel,renderLineNumbers:e.viewInfo.renderLineNumbers,renderCustomLineNumbers:e.viewInfo.renderCustomLineNumbers,cursorSurroundingLines:e.viewInfo.cursorSurroundingLines,renderFinalNewline:e.viewInfo.renderFinalNewline,selectOnLineNumbers:e.viewInfo.selectOnLineNumbers,glyphMargin:e.viewInfo.glyphMargin,revealHorizontalRightPadding:e.viewInfo.revealHorizontalRightPadding,roundedSelection:e.viewInfo.roundedSelection,overviewRulerLanes:e.viewInfo.overviewRulerLanes,overviewRulerBorder:e.viewInfo.overviewRulerBorder,cursorBlinking:e.viewInfo.cursorBlinking,mouseWheelZoom:e.viewInfo.mouseWheelZoom,cursorSmoothCaretAnimation:e.viewInfo.cursorSmoothCaretAnimation,cursorStyle:e.viewInfo.cursorStyle,cursorWidth:e.viewInfo.cursorWidth,hideCursorInOverviewRuler:e.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:e.viewInfo.scrollBeyondLastLine,scrollBeyondLastColumn:e.viewInfo.scrollBeyondLastColumn,smoothScrolling:e.viewInfo.smoothScrolling,stopRenderingLineAfter:e.viewInfo.stopRenderingLineAfter,renderWhitespace:e.viewInfo.renderWhitespace,renderControlCharacters:e.viewInfo.renderControlCharacters,fontLigatures:e.viewInfo.fontLigatures,renderIndentGuides:e.viewInfo.renderIndentGuides,highlightActiveIndentGuide:e.viewInfo.highlightActiveIndentGuide,renderLineHighlight:e.viewInfo.renderLineHighlight,scrollbar:e.viewInfo.scrollbar,minimap:{enabled:e.viewInfo.minimap.enabled,side:e.viewInfo.minimap.side,renderCharacters:e.viewInfo.minimap.renderCharacters,showSlider:e.viewInfo.minimap.showSlider,maxColumn:e.viewInfo.minimap.maxColumn},fixedOverflowWidgets:e.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:e.contribInfo.selectionClipboard,hover:e.contribInfo.hover,links:e.contribInfo.links,contextmenu:e.contribInfo.contextmenu,quickSuggestions:e.contribInfo.quickSuggestions,quickSuggestionsDelay:e.contribInfo.quickSuggestionsDelay,parameterHints:e.contribInfo.parameterHints,formatOnType:e.contribInfo.formatOnType,formatOnPaste:e.contribInfo.formatOnPaste,suggestOnTriggerCharacters:e.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:e.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:e.contribInfo.acceptSuggestionOnCommitCharacter,wordBasedSuggestions:e.contribInfo.wordBasedSuggestions,suggestSelection:e.contribInfo.suggestSelection,suggestFontSize:e.contribInfo.suggestFontSize,suggestLineHeight:e.contribInfo.suggestLineHeight,tabCompletion:e.contribInfo.tabCompletion,suggest:e.contribInfo.suggest,gotoLocation:e.contribInfo.gotoLocation,selectionHighlight:e.contribInfo.selectionHighlight,occurrencesHighlight:e.contribInfo.occurrencesHighlight,codeLens:e.contribInfo.codeLens,folding:e.contribInfo.folding,foldingStrategy:e.contribInfo.foldingStrategy,showFoldingControls:e.contribInfo.showFoldingControls,matchBrackets:e.contribInfo.matchBrackets,find:e.contribInfo.find,colorDecorators:e.contribInfo.colorDecorators,lightbulbEnabled:e.contribInfo.lightbulbEnabled,codeActionsOnSave:e.contribInfo.codeActionsOnSave,codeActionsOnSaveTimeout:e.contribInfo.codeActionsOnSaveTimeout}}},n.createInternalEditorOptions=function(e,t){var r;t.accessibilitySupport==="auto"?r=e.accessibilitySupport:t.accessibilitySupport==="on"?r=2:r=1;var i=this._tweakValidatedOptions(t,r),o;if(typeof i.lineDecorationsWidth=="string"&&/^\d+(\.\d+)?ch$/.test(i.lineDecorationsWidth)){var s=parseFloat(i.lineDecorationsWidth.substr(0,i.lineDecorationsWidth.length-2));o=s*e.fontInfo.typicalHalfwidthCharacterWidth}else o=vr(i.lineDecorationsWidth,0,0,1e3);i.contribInfo.folding&&(o+=16);var a=ATe.compute({outerWidth:e.outerWidth,outerHeight:e.outerHeight,showGlyphMargin:i.viewInfo.glyphMargin,lineHeight:e.fontInfo.lineHeight,showLineNumbers:i.viewInfo.renderLineNumbers!==0,lineNumbersMinChars:i.lineNumbersMinChars,lineNumbersDigitCount:e.lineNumbersDigitCount,lineDecorationsWidth:o,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,verticalScrollbarWidth:i.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:i.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:i.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:i.viewInfo.scrollbar.verticalHasArrows,minimap:i.viewInfo.minimap.enabled,minimapSide:i.viewInfo.minimap.side,minimapRenderCharacters:i.viewInfo.minimap.renderCharacters,minimapMaxColumn:i.viewInfo.minimap.maxColumn,pixelRatio:e.pixelRatio}),u=null;{var l=i.wordWrap,c=i.wordWrapColumn,d=i.wordWrapMinified;r===2?u={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:d&&e.isDominatedByLongLines?u={isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,a.viewportColumn)}:l==="on"?u={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,a.viewportColumn)}:l==="bounded"?u={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,a.viewportColumn),c)}:l==="wordWrapColumn"?u={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:c}:u={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}}var h={inDiffEditor:i.inDiffEditor,isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:u.isWordWrapMinified,isViewportWrapping:u.isViewportWrapping,wrappingColumn:u.wrappingColumn,wrappingIndent:i.wrappingIndent,wordWrapBreakBeforeCharacters:i.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:i.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:i.wordWrapBreakObtrusiveCharacters},p="monaco-editor";return i.viewInfo.extraEditorClassName&&(p+=" "+i.viewInfo.extraEditorClassName),e.extraEditorClassName&&(p+=" "+e.extraEditorClassName),i.viewInfo.fontLigatures&&(p+=" enable-ligatures"),i.mouseStyle==="default"?p+=" mouse-default":i.mouseStyle==="copy"&&(p+=" mouse-copy"),new yJ({canUseLayerHinting:!i.disableLayerHinting,pixelRatio:e.pixelRatio,editorClassName:p,lineHeight:e.fontInfo.lineHeight,readOnly:i.readOnly,accessibilitySupport:r,multiCursorModifier:i.multiCursorModifier,multiCursorMergeOverlapping:i.multiCursorMergeOverlapping,wordSeparators:i.wordSeparators,autoClosingBrackets:i.autoClosingBrackets,autoClosingQuotes:i.autoClosingQuotes,autoClosingOvertype:i.autoClosingOvertype,autoSurround:i.autoSurround,autoIndent:i.autoIndent,useTabStops:i.useTabStops,tabFocusMode:i.readOnly?!0:e.tabFocusMode,dragAndDrop:i.dragAndDrop,emptySelectionClipboard:i.emptySelectionClipboard&&e.emptySelectionClipboard,copyWithSyntaxHighlighting:i.copyWithSyntaxHighlighting,layoutInfo:a,fontInfo:e.fontInfo,viewInfo:i.viewInfo,wrappingInfo:h,contribInfo:i.contribInfo,showUnused:i.showUnused})},n}(),ATe=function(){function n(){}return n.compute=function(e){var t=e.outerWidth|0,r=e.outerHeight|0,i=e.showGlyphMargin,o=e.lineHeight|0,s=e.showLineNumbers,a=e.lineNumbersMinChars|0,u=e.lineNumbersDigitCount|0,l=e.lineDecorationsWidth|0,c=e.typicalHalfwidthCharacterWidth,d=e.maxDigitWidth,h=e.verticalScrollbarWidth|0,p=e.verticalScrollbarHasArrows,v=e.scrollbarArrowSize|0,m=e.horizontalScrollbarHeight|0,_=e.minimap,b=e.minimapSide,C=e.minimapRenderCharacters,E=e.minimapMaxColumn|0,T=e.pixelRatio,A=0;if(s){var S=Math.max(u,a);A=Math.round(S*d)}var N=0;i&&(N=o);var k=0,F=k+N,L=F+A,O=L+l,P=t-N-A-l,B,U,$,ee;if(!_)U=0,$=0,B=0,ee=P;else{var te=void 0;T>=2?(B=C?2:4,te=2/T):(B=C?1:3,te=1/T),$=Math.max(0,Math.floor((P-h-2)*te/(c+te)));var ne=$/te;ne>E&&($=Math.floor(E*te)),ee=P-$,b==="left"?(U=0,k+=$,F+=$,L+=$,O+=$):U=t-$-h}var de=Math.max(1,Math.floor((ee-h-2)/c)),ke=p?v:0;return{width:t,height:r,glyphMarginLeft:k,glyphMarginWidth:N,glyphMarginHeight:r,lineNumbersLeft:F,lineNumbersWidth:A,lineNumbersHeight:r,decorationsLeft:L,decorationsWidth:l,decorationsHeight:r,contentLeft:O,contentWidth:ee,contentHeight:r,renderMinimap:B,minimapLeft:U,minimapWidth:$,viewportColumn:de,verticalScrollbarWidth:h,horizontalScrollbarHeight:m,overviewRuler:{top:ke,width:h,height:r-2*ke,right:0}}},n}(),ITe="Consolas, 'Courier New', monospace",xTe="Menlo, Monaco, 'Courier New', monospace",LTe="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",Zd={fontFamily:Tt?xTe:Uc?LTe:ITe,fontWeight:"normal",fontSize:Tt?12:14,lineHeight:0,letterSpacing:0},au={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},Rl={inDiffEditor:!1,wordSeparators:mJ,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:1,wordWrapBreakBeforeCharacters:"([{+",wordWrapBreakAfterCharacters:" 	})]?|/&,;",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",autoClosingOvertype:"auto",autoSurround:"languageDefined",autoIndent:!0,dragAndDrop:!0,emptySelectionClipboard:!0,copyWithSyntaxHighlighting:!0,useTabStops:!0,multiCursorModifier:"altKey",multiCursorMergeOverlapping:!0,accessibilitySupport:"auto",showUnused:!0,viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:D("editorViewAccessibleLabel","Editor content"),renderLineNumbers:1,renderCustomLineNumbers:null,cursorSurroundingLines:0,renderFinalNewline:!0,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:1,mouseWheelZoom:!1,cursorSmoothCaretAnimation:!1,cursorStyle:Fn.Line,cursorWidth:0,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,scrollBeyondLastColumn:5,smoothScrolling:!1,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,highlightActiveIndentGuide:!0,renderLineHighlight:"line",scrollbar:{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1,fastScrollSensitivity:5},minimap:{enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:{enabled:!0,delay:300,sticky:!0},links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:{enabled:!0,cycle:!1},formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,wordBasedSuggestions:!0,suggestSelection:"recentlyUsed",suggestFontSize:0,suggestLineHeight:0,tabCompletion:"off",suggest:{filterGraceful:!0,snippets:"inline",snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,filteredTypes:Object.create(null)},gotoLocation:{multiple:"peek"},selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,foldingStrategy:"auto",showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1,globalFindClipboard:!1,addExtraSpaceOnTop:!0},colorDecorators:!0,lightbulbEnabled:!0,codeActionsOnSave:{},codeActionsOnSaveTimeout:750}};/*!
Copyright (c) 2014 Taylor Hakes
Copyright (c) 2014 Forbes Lindesay
 */(function(n,e){(function(t,r){r()})(ae,function(){function t(v){var m=this.constructor;return this.then(function(_){return m.resolve(v()).then(function(){return _})},function(_){return m.resolve(v()).then(function(){return m.reject(_)})})}var r=setTimeout;function i(){}function o(v,m){return function(){v.apply(m,arguments)}}function s(v){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if(typeof v!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(v,this)}function a(v,m){for(;v._state===3;)v=v._value;if(v._state===0){v._deferreds.push(m);return}v._handled=!0,s._immediateFn(function(){var _=v._state===1?m.onFulfilled:m.onRejected;if(_===null){(v._state===1?u:l)(m.promise,v._value);return}var b;try{b=_(v._value)}catch(C){l(m.promise,C);return}u(m.promise,b)})}function u(v,m){try{if(m===v)throw new TypeError("A promise cannot be resolved with itself.");if(m&&(typeof m=="object"||typeof m=="function")){var _=m.then;if(m instanceof s){v._state=3,v._value=m,c(v);return}else if(typeof _=="function"){h(o(_,m),v);return}}v._state=1,v._value=m,c(v)}catch(b){l(v,b)}}function l(v,m){v._state=2,v._value=m,c(v)}function c(v){v._state===2&&v._deferreds.length===0&&s._immediateFn(function(){v._handled||s._unhandledRejectionFn(v._value)});for(var m=0,_=v._deferreds.length;m<_;m++)a(v,v._deferreds[m]);v._deferreds=null}function d(v,m,_){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof m=="function"?m:null,this.promise=_}function h(v,m){var _=!1;try{v(function(b){_||(_=!0,u(m,b))},function(b){_||(_=!0,l(m,b))})}catch(b){if(_)return;_=!0,l(m,b)}}s.prototype.catch=function(v){return this.then(null,v)},s.prototype.then=function(v,m){var _=new this.constructor(i);return a(this,new d(v,m,_)),_},s.prototype.finally=t,s.all=function(v){return new s(function(m,_){if(!v||typeof v.length>"u")throw new TypeError("Promise.all accepts an array");var b=Array.prototype.slice.call(v);if(b.length===0)return m([]);var C=b.length;function E(A,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var N=S.then;if(typeof N=="function"){N.call(S,function(k){E(A,k)},_);return}}b[A]=S,--C===0&&m(b)}catch(k){_(k)}}for(var T=0;T<b.length;T++)E(T,b[T])})},s.resolve=function(v){return v&&typeof v=="object"&&v.constructor===s?v:new s(function(m){m(v)})},s.reject=function(v){return new s(function(m,_){_(v)})},s.race=function(v){return new s(function(m,_){for(var b=0,C=v.length;b<C;b++)v[b].then(m,_)})},s._immediateFn=typeof setImmediate=="function"&&function(v){setImmediate(v)}||function(v){r(v,0)},s._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)};var p=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ae<"u")return ae;throw new Error("unable to locate global object")}();"Promise"in p?p.Promise.prototype.finally||(p.Promise.prototype.finally=t):p.Promise=s})})();var NTe=function(){function n(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}return n.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},n.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},n.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},n}(),bJ=new NTe;function He(n){eC(n)||bJ.onUnexpectedError(n)}function Eo(n){eC(n)||bJ.onUnexpectedExternalError(n)}function gj(n){if(n instanceof Error){var e=n.name,t=n.message,r=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:r}}return n}var wP="Canceled";function eC(n){return n instanceof Error&&n.name===wP&&n.message===wP}function tC(){var n=new Error(wP);return n.name=n.message,n}function Rr(n){return n?new Error("Illegal argument: "+n):new Error("Illegal argument")}function OTe(n){return new Error("Illegal state: "+n)}function CJ(n){var e=this,t=!1,r;return function(){return t||(t=!0,r=n.apply(e,arguments)),r}}function kTe(n){}function zA(n){return typeof n.dispose=="function"&&n.dispose.length===0}function nt(n){return Array.isArray(n)?(n.forEach(function(e){e&&e.dispose()}),[]):n?(n.dispose(),n):void 0}function al(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.forEach(kTe),{dispose:function(){return nt(n)}}}function bn(n){var e={dispose:function(){n()}};return e}var Be=function(){function n(){this._toDispose=new Set,this._isDisposed=!1}return n.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.clear())},n.prototype.clear=function(){this._toDispose.forEach(function(e){return e.dispose()}),this._toDispose.clear()},n.prototype.add=function(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e},n}(),fe=function(){function n(){this._store=new Be}return n.prototype.dispose=function(){this._store.dispose()},n.prototype._register=function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)},n.None=Object.freeze({dispose:function(){}}),n}(),Ih=function(){function n(){this._isDisposed=!1}return Object.defineProperty(n.prototype,"value",{get:function(){return this._isDisposed?void 0:this._value},set:function(e){this._isDisposed||e===this._value||(this._value&&this._value.dispose(),this._value=e)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.value=void 0},n.prototype.dispose=function(){this._isDisposed=!0,this._value&&this._value.dispose(),this._value=void 0},n}(),RTe=function(){function n(e){this.object=e}return n.prototype.dispose=function(){},n}(),PTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sf={done:!0,value:void 0},ri;(function(n){var e={next:function(){return Sf}};function t(){return e}n.empty=t;function r(d){var h=!1;return{next:function(){return h?Sf:(h=!0,{done:!1,value:d})}}}n.single=r;function i(d,h,p){return h===void 0&&(h=0),p===void 0&&(p=d.length),{next:function(){return h>=p?Sf:{done:!1,value:d[h++]}}}}n.fromArray=i;function o(d){return d?Array.isArray(d)?n.fromArray(d):d:n.empty()}n.from=o;function s(d,h){return{next:function(){var p=d.next();return p.done?Sf:{done:!1,value:h(p.value)}}}}n.map=s;function a(d,h){return{next:function(){for(;;){var p=d.next();if(p.done)return Sf;if(h(p.value))return{done:!1,value:p.value}}}}}n.filter=a;function u(d,h){for(var p=d.next();!p.done;p=d.next())h(p.value)}n.forEach=u;function l(d,h){h===void 0&&(h=Number.POSITIVE_INFINITY);var p=[];if(h===0)return p;for(var v=0,m=d.next();!m.done&&(p.push(m.value),!(++v>=h));m=d.next());return p}n.collect=l;function c(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p=0;return{next:function(){if(p>=d.length)return Sf;var v=d[p],m=v.next();return m.done?(p++,this.next()):m}}}n.concat=c})(ri||(ri={}));function MTe(n){return Array.isArray(n)?ri.fromArray(n):n}var Nv=function(){function n(e,t,r,i){t===void 0&&(t=0),r===void 0&&(r=e.length),i===void 0&&(i=t-1),this.items=e,this.start=t,this.end=r,this.index=i}return n.prototype.first=function(){return this.index=this.start,this.current()},n.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},n.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},n}(),FTe=function(n){PTe(e,n);function e(t,r,i,o){return r===void 0&&(r=0),i===void 0&&(i=t.length),o===void 0&&(o=r-1),n.call(this,t,r,i,o)||this}return e.prototype.current=function(){return n.prototype.current.call(this)},e.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},e.prototype.first=function(){return this.index=this.start,this.current()},e.prototype.last=function(){return this.index=this.end-1,this.current()},e.prototype.parent=function(){return null},e}(Nv),vj=function(){function n(e,t){this.iterator=e,this.fn=t}return n.prototype.next=function(){return this.fn(this.iterator.next())},n}(),Ar=function(){function n(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}return n.Undefined=new n(void 0),n}(),Ac=function(){function n(){this._first=Ar.Undefined,this._last=Ar.Undefined,this._size=0}return Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.isEmpty=function(){return this._first===Ar.Undefined},n.prototype.clear=function(){this._first=Ar.Undefined,this._last=Ar.Undefined,this._size=0},n.prototype.unshift=function(e){return this._insert(e,!1)},n.prototype.push=function(e){return this._insert(e,!0)},n.prototype._insert=function(e,t){var r=this,i=new Ar(e);if(this._first===Ar.Undefined)this._first=i,this._last=i;else if(t){var o=this._last;this._last=i,i.prev=o,o.next=i}else{var s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;var a=!1;return function(){a||(a=!0,r._remove(i))}},n.prototype.shift=function(){if(this._first!==Ar.Undefined){var e=this._first.element;return this._remove(this._first),e}},n.prototype.pop=function(){if(this._last!==Ar.Undefined){var e=this._last.element;return this._remove(this._last),e}},n.prototype._remove=function(e){if(e.prev!==Ar.Undefined&&e.next!==Ar.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ar.Undefined&&e.next===Ar.Undefined?(this._first=Ar.Undefined,this._last=Ar.Undefined):e.next===Ar.Undefined?(this._last=this._last.prev,this._last.next=Ar.Undefined):e.prev===Ar.Undefined&&(this._first=this._first.next,this._first.prev=Ar.Undefined);this._size-=1},n.prototype.iterator=function(){var e,t=this._first;return{next:function(){return t===Ar.Undefined?Sf:(e?e.value=t.element:e={done:!1,value:t.element},t=t.next,e)}}},n.prototype.toArray=function(){for(var e=[],t=this._first;t!==Ar.Undefined;t=t.next)e.push(t.element);return e},n}(),BTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Je;(function(n){n.None=function(){return fe.None};function e(E){return function(T,A,S){A===void 0&&(A=null);var N=!1,k;return k=E(function(F){if(!N)return k?k.dispose():N=!0,T.call(A,F)},null,S),N&&k.dispose(),k}}n.once=e;function t(E,T){return u(function(A,S,N){return S===void 0&&(S=null),E(function(k){return A.call(S,T(k))},null,N)})}n.map=t;function r(E,T){return u(function(A,S,N){return S===void 0&&(S=null),E(function(k){T(k),A.call(S,k)},null,N)})}n.forEach=r;function i(E,T){return u(function(A,S,N){return S===void 0&&(S=null),E(function(k){return T(k)&&A.call(S,k)},null,N)})}n.filter=i;function o(E){return E}n.signal=o;function s(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return function(A,S,N){return S===void 0&&(S=null),al.apply(void 0,E.map(function(k){return k(function(F){return A.call(S,F)},null,N)}))}}n.any=s;function a(E,T,A){var S=A;return t(E,function(N){return S=T(S,N),S})}n.reduce=a;function u(E){var T,A=new Q({onFirstListenerAdd:function(){T=E(A.fire,A)},onLastListenerRemove:function(){T.dispose()}});return A.event}n.snapshot=u;function l(E,T,A,S,N){A===void 0&&(A=100),S===void 0&&(S=!1);var k,F=void 0,L=void 0,O=0,P=new Q({leakWarningThreshold:N,onFirstListenerAdd:function(){k=E(function(B){O++,F=T(F,B),S&&!L&&P.fire(F),clearTimeout(L),L=setTimeout(function(){var U=F;F=void 0,L=void 0,(!S||O>1)&&P.fire(U),O=0},A)})},onLastListenerRemove:function(){k.dispose()}});return P.event}n.debounce=l;function c(E){var T=new Date().getTime();return t(e(E),function(A){return new Date().getTime()-T})}n.stopwatch=c;function d(E){var T=!0,A;return i(E,function(S){var N=T||S!==A;return T=!1,A=S,N})}n.latch=d;function h(E,T,A){T===void 0&&(T=!1),A===void 0&&(A=[]);var S=A.slice(),N=E(function(L){S?S.push(L):F.fire(L)}),k=function(){S&&S.forEach(function(L){return F.fire(L)}),S=null},F=new Q({onFirstListenerAdd:function(){N||(N=E(function(L){return F.fire(L)}))},onFirstListenerDidAdd:function(){S&&(T?setTimeout(k):k())},onLastListenerRemove:function(){N&&N.dispose(),N=null}});return F.event}n.buffer=h;var p=function(){function E(T){this.event=T}return E.prototype.map=function(T){return new E(t(this.event,T))},E.prototype.forEach=function(T){return new E(r(this.event,T))},E.prototype.filter=function(T){return new E(i(this.event,T))},E.prototype.reduce=function(T,A){return new E(a(this.event,T,A))},E.prototype.latch=function(){return new E(d(this.event))},E.prototype.on=function(T,A,S){return this.event(T,A,S)},E.prototype.once=function(T,A,S){return e(this.event)(T,A,S)},E}();function v(E){return new p(E)}n.chain=v;function m(E,T,A){A===void 0&&(A=function(L){return L});var S=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];return F.fire(A.apply(void 0,L))},N=function(){return E.on(T,S)},k=function(){return E.removeListener(T,S)},F=new Q({onFirstListenerAdd:N,onLastListenerRemove:k});return F.event}n.fromNodeEventEmitter=m;function _(E,T,A){A===void 0&&(A=function(L){return L});var S=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];return F.fire(A.apply(void 0,L))},N=function(){return E.addEventListener(T,S)},k=function(){return E.removeEventListener(T,S)},F=new Q({onFirstListenerAdd:N,onLastListenerRemove:k});return F.event}n.fromDOMEventEmitter=_;function b(E){var T=new Q,A=!1;return E.then(void 0,function(){return null}).then(function(){A?T.fire(void 0):setTimeout(function(){return T.fire(void 0)},0)}),A=!0,T.event}n.fromPromise=b;function C(E){return new Promise(function(T){return e(E)(T)})}n.toPromise=C})(Je||(Je={}));var Q=function(){function n(e){this._disposed=!1,this._options=e,this._leakageMon=void 0}return Object.defineProperty(n.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t,r,i){e._listeners||(e._listeners=new Ac);var o=e._listeners.isEmpty();o&&e._options&&e._options.onFirstListenerAdd&&e._options.onFirstListenerAdd(e);var s=e._listeners.push(r?[t,r]:t);o&&e._options&&e._options.onFirstListenerDidAdd&&e._options.onFirstListenerDidAdd(e),e._options&&e._options.onListenerDidAdd&&e._options.onListenerDidAdd(e,t,r);var a;e._leakageMon&&(a=e._leakageMon.check(e._listeners.size));var u;return u={dispose:function(){if(a&&a(),u.dispose=n._noop,!e._disposed&&(s(),e._options&&e._options.onLastListenerRemove)){var l=e._listeners&&!e._listeners.isEmpty();l||e._options.onLastListenerRemove(e)}}},i instanceof Be?i.add(u):Array.isArray(i)&&i.push(u),u}),this._event},enumerable:!0,configurable:!0}),n.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Ac);for(var t=this._listeners.iterator(),r=t.next();!r.done;r=t.next())this._deliveryQueue.push([r.value,e]);for(;this._deliveryQueue.size>0;){var i=this._deliveryQueue.shift(),o=i[0],s=i[1];try{typeof o=="function"?o.call(void 0,s):o[0].call(o[1],s)}catch(a){He(a)}}}},n.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0},n._noop=function(){},n}(),HTe=function(n){BTe(e,n);function e(t){var r=n.call(this,t)||this;return r._isPaused=0,r._eventQueue=new Ac,r._mergeFn=t&&t.merge,r}return e.prototype.pause=function(){this._isPaused++},e.prototype.resume=function(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){var t=this._eventQueue.toArray();this._eventQueue.clear(),n.prototype.fire.call(this,this._mergeFn(t))}else for(;!this._isPaused&&this._eventQueue.size!==0;)n.prototype.fire.call(this,this._eventQueue.shift())},e.prototype.fire=function(t){this._listeners&&(this._isPaused!==0?this._eventQueue.push(t):n.prototype.fire.call(this,t))},e}(Q),Ka=function(){function n(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new Q({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}return Object.defineProperty(n.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),n.prototype.add=function(e){var t=this,r={event:e,listener:null};this.events.push(r),this.hasListeners&&this.hook(r);var i=function(){t.hasListeners&&t.unhook(r);var o=t.events.indexOf(r);t.events.splice(o,1)};return bn(CJ(i))},n.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},n.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},n.prototype.hook=function(e){var t=this;e.listener=e.event(function(r){return t.emitter.fire(r)})},n.prototype.unhook=function(e){e.listener&&e.listener.dispose(),e.listener=null},n.prototype.dispose=function(){this.emitter.dispose()},n}(),W4=function(){function n(){this.buffers=[]}return n.prototype.wrapEvent=function(e){var t=this;return function(r,i,o){return e(function(s){var a=t.buffers[t.buffers.length-1];a?a.push(function(){return r.call(i,s)}):r.call(i,s)},void 0,o)}},n.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t);var r=e();return this.buffers.pop(),t.forEach(function(i){return i()}),r},n}(),bi=function(){function n(){var e=this;this.listening=!1,this.inputEvent=Je.None,this.inputEventListener=fe.None,this.emitter=new Q({onFirstListenerDidAdd:function(){e.listening=!0,e.inputEventListener=e.inputEvent(e.emitter.fire,e.emitter)},onLastListenerRemove:function(){e.listening=!1,e.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object.defineProperty(n.prototype,"input",{set:function(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},n}(),wJ=Object.freeze(function(n,e){var t=setTimeout(n.bind(e),0);return{dispose:function(){clearTimeout(t)}}}),nn;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof yS?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Je.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:wJ})})(nn||(nn={}));var yS=function(){function n(){this._isCancelled=!1,this._emitter=null}return n.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(n.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?wJ:(this._emitter||(this._emitter=new Q),this._emitter.event)},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},n}(),Np=function(){function n(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}return Object.defineProperty(n.prototype,"token",{get:function(){return this._token||(this._token=new yS),this._token},enumerable:!0,configurable:!0}),n.prototype.cancel=function(){this._token?this._token instanceof yS&&this._token.cancel():this._token=nn.Cancelled},n.prototype.dispose=function(){this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof yS&&this._token.dispose():this._token=nn.None},n}(),U4=function(){function n(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return n.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},n.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},n.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},n}(),EP=new U4,SP=new U4,TP=new U4;(function(){function n(e,t,r,i){r===void 0&&(r=t),i===void 0&&(i=r),EP.define(e,t),SP.define(e,r),TP.define(e,i)}n(0,"unknown"),n(1,"Backspace"),n(2,"Tab"),n(3,"Enter"),n(4,"Shift"),n(5,"Ctrl"),n(6,"Alt"),n(7,"PauseBreak"),n(8,"CapsLock"),n(9,"Escape"),n(10,"Space"),n(11,"PageUp"),n(12,"PageDown"),n(13,"End"),n(14,"Home"),n(15,"LeftArrow","Left"),n(16,"UpArrow","Up"),n(17,"RightArrow","Right"),n(18,"DownArrow","Down"),n(19,"Insert"),n(20,"Delete"),n(21,"0"),n(22,"1"),n(23,"2"),n(24,"3"),n(25,"4"),n(26,"5"),n(27,"6"),n(28,"7"),n(29,"8"),n(30,"9"),n(31,"A"),n(32,"B"),n(33,"C"),n(34,"D"),n(35,"E"),n(36,"F"),n(37,"G"),n(38,"H"),n(39,"I"),n(40,"J"),n(41,"K"),n(42,"L"),n(43,"M"),n(44,"N"),n(45,"O"),n(46,"P"),n(47,"Q"),n(48,"R"),n(49,"S"),n(50,"T"),n(51,"U"),n(52,"V"),n(53,"W"),n(54,"X"),n(55,"Y"),n(56,"Z"),n(57,"Meta"),n(58,"ContextMenu"),n(59,"F1"),n(60,"F2"),n(61,"F3"),n(62,"F4"),n(63,"F5"),n(64,"F6"),n(65,"F7"),n(66,"F8"),n(67,"F9"),n(68,"F10"),n(69,"F11"),n(70,"F12"),n(71,"F13"),n(72,"F14"),n(73,"F15"),n(74,"F16"),n(75,"F17"),n(76,"F18"),n(77,"F19"),n(78,"NumLock"),n(79,"ScrollLock"),n(80,";",";","OEM_1"),n(81,"=","=","OEM_PLUS"),n(82,",",",","OEM_COMMA"),n(83,"-","-","OEM_MINUS"),n(84,".",".","OEM_PERIOD"),n(85,"/","/","OEM_2"),n(86,"`","`","OEM_3"),n(110,"ABNT_C1"),n(111,"ABNT_C2"),n(87,"[","[","OEM_4"),n(88,"\\","\\","OEM_5"),n(89,"]","]","OEM_6"),n(90,"'","'","OEM_7"),n(91,"OEM_8"),n(92,"OEM_102"),n(93,"NumPad0"),n(94,"NumPad1"),n(95,"NumPad2"),n(96,"NumPad3"),n(97,"NumPad4"),n(98,"NumPad5"),n(99,"NumPad6"),n(100,"NumPad7"),n(101,"NumPad8"),n(102,"NumPad9"),n(103,"NumPad_Multiply"),n(104,"NumPad_Add"),n(105,"NumPad_Separator"),n(106,"NumPad_Subtract"),n(107,"NumPad_Decimal"),n(108,"NumPad_Divide")})();var Qv;(function(n){function e(s){return EP.keyCodeToStr(s)}n.toString=e;function t(s){return EP.strToKeyCode(s)}n.fromString=t;function r(s){return SP.keyCodeToStr(s)}n.toUserSettingsUS=r;function i(s){return TP.keyCodeToStr(s)}n.toUserSettingsGeneral=i;function o(s){return SP.strToKeyCode(s)||TP.strToKeyCode(s)}n.fromUserSettings=o})(Qv||(Qv={}));function So(n,e){var t=(e&65535)<<16>>>0;return(n|t)>>>0}function _T(n,e){if(n===0)return null;var t=(n&65535)>>>0,r=(n&4294901760)>>>16;return r!==0?new DP([uO(t,e),uO(r,e)]):new DP([uO(t,e)])}function uO(n,e){var t=!!(n&2048),r=!!(n&256),i=e===2?r:t,o=!!(n&1024),s=!!(n&512),a=e===2?t:r,u=n&255;return new j4(i,o,s,a,u)}var j4=function(){function n(e,t,r,i,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=i,this.keyCode=o}return n.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode},n.prototype.isModifierKey=function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4},n.prototype.toChord=function(){return new DP([this])},n.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57},n}(),DP=function(){function n(e){if(e.length===0)throw Rr("parts");this.parts=e}return n.prototype.equals=function(e){if(e===null||this.parts.length!==e.parts.length)return!1;for(var t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0},n}(),VTe=function(){function n(e,t,r,i,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=i,this.keyLabel=o,this.keyAriaLabel=s}return n}(),WTe=function(){function n(){}return n}(),UTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ir,jTe=/^\w[\w\d+.-]*$/,qTe=/^\//,zTe=/^\/\//,EJ=!0;function GTe(n,e){if(!n.scheme){if(e||EJ)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+n.authority+'", path: "'+n.path+'", query: "'+n.query+'", fragment: "'+n.fragment+'"}');console.warn('[UriError]: Scheme is missing: {scheme: "", authority: "'+n.authority+'", path: "'+n.path+'", query: "'+n.query+'", fragment: "'+n.fragment+'"}')}if(n.scheme&&!jTe.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!qTe.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(zTe.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function $Te(n,e){return e||EJ?n||Mn:(n||(console.trace("BAD uri lacks scheme, falling back to file-scheme."),n="file"),n)}function KTe(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==iu&&(e=iu+e):e=iu;break}return e}var Mn="",iu="/",YTe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ft=function(){function n(e,t,r,i,o,s){s===void 0&&(s=!1),typeof e=="object"?(this.scheme=e.scheme||Mn,this.authority=e.authority||Mn,this.path=e.path||Mn,this.query=e.query||Mn,this.fragment=e.fragment||Mn):(this.scheme=$Te(e,s),this.authority=t||Mn,this.path=KTe(this.scheme,r||Mn),this.query=i||Mn,this.fragment=o||Mn,GTe(this,s))}return n.isUri=function(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="function"&&typeof e.with=="function"&&typeof e.toString=="function":!1},Object.defineProperty(n.prototype,"fsPath",{get:function(){return DJ(this)},enumerable:!0,configurable:!0}),n.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,i=e.path,o=e.query,s=e.fragment;return t===void 0?t=this.scheme:t===null&&(t=Mn),r===void 0?r=this.authority:r===null&&(r=Mn),i===void 0?i=this.path:i===null&&(i=Mn),o===void 0?o=this.query:o===null&&(o=Mn),s===void 0?s=this.fragment:s===null&&(s=Mn),t===this.scheme&&r===this.authority&&i===this.path&&o===this.query&&s===this.fragment?this:new Jg(t,r,i,o,s)},n.parse=function(e,t){t===void 0&&(t=!1);var r=YTe.exec(e);return r?new Jg(r[2]||Mn,decodeURIComponent(r[4]||Mn),decodeURIComponent(r[5]||Mn),decodeURIComponent(r[7]||Mn),decodeURIComponent(r[9]||Mn),t):new Jg(Mn,Mn,Mn,Mn,Mn)},n.file=function(e){var t=Mn;if(bo&&(e=e.replace(/\\/g,iu)),e[0]===iu&&e[1]===iu){var r=e.indexOf(iu,2);r===-1?(t=e.substring(2),e=iu):(t=e.substring(2,r),e=e.substring(r)||iu)}return new Jg("file",t,e,Mn,Mn)},n.from=function(e){return new Jg(e.scheme,e.authority,e.path,e.query,e.fragment)},n.prototype.toString=function(e){return e===void 0&&(e=!1),AP(this,e)},n.prototype.toJSON=function(){return this},n.revive=function(e){if(e){if(e instanceof n)return e;var t=new Jg(e);return t._formatted=e.external,t._fsPath=e._sep===SJ?e.fsPath:null,t}else return e},n}(),SJ=bo?1:void 0,Jg=function(n){UTe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return Object.defineProperty(e.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=DJ(this)),this._fsPath},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!1),t?AP(this,!0):(this._formatted||(this._formatted=AP(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=SJ),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(Ft),TJ=(Ir={},Ir[58]="%3A",Ir[47]="%2F",Ir[63]="%3F",Ir[35]="%23",Ir[91]="%5B",Ir[93]="%5D",Ir[64]="%40",Ir[33]="%21",Ir[36]="%24",Ir[38]="%26",Ir[39]="%27",Ir[40]="%28",Ir[41]="%29",Ir[42]="%2A",Ir[43]="%2B",Ir[44]="%2C",Ir[59]="%3B",Ir[61]="%3D",Ir[32]="%20",Ir);function mj(n,e){for(var t=void 0,r=-1,i=0;i<n.length;i++){var o=n.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47)r!==-1&&(t+=encodeURIComponent(n.substring(r,i)),r=-1),t!==void 0&&(t+=n.charAt(i));else{t===void 0&&(t=n.substr(0,i));var s=TJ[o];s!==void 0?(r!==-1&&(t+=encodeURIComponent(n.substring(r,i)),r=-1),t+=s):r===-1&&(r=i)}}return r!==-1&&(t+=encodeURIComponent(n.substring(r))),t!==void 0?t:n}function XTe(n){for(var e=void 0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r===35||r===63?(e===void 0&&(e=n.substr(0,t)),e+=TJ[r]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function DJ(n){var e;return n.authority&&n.path.length>1&&n.scheme==="file"?e="//"+n.authority+n.path:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e=n.path[1].toLowerCase()+n.path.substr(2):e=n.path,bo&&(e=e.replace(/\//g,"\\")),e}function AP(n,e){var t=e?XTe:mj,r="",i=n.scheme,o=n.authority,s=n.path,a=n.query,u=n.fragment;if(i&&(r+=i,r+=":"),(o||i==="file")&&(r+=iu,r+=iu),o){var l=o.indexOf("@");if(l!==-1){var c=o.substr(0,l);o=o.substr(l+1),l=c.indexOf(":"),l===-1?r+=t(c,!1):(r+=t(c.substr(0,l),!1),r+=":",r+=t(c.substr(l+1),!1)),r+="@"}o=o.toLowerCase(),l=o.indexOf(":"),l===-1?r+=t(o,!1):(r+=t(o.substr(0,l),!1),r+=o.substr(l))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){var d=s.charCodeAt(1);d>=65&&d<=90&&(s="/"+String.fromCharCode(d+32)+":"+s.substr(3))}else if(s.length>=2&&s.charCodeAt(1)===58){var d=s.charCodeAt(0);d>=65&&d<=90&&(s=String.fromCharCode(d+32)+":"+s.substr(2))}r+=t(s,!0)}return a&&(r+="?",r+=t(a,!1)),u&&(r+="#",r+=e?u:mj(u,!1)),r}var J=function(){function n(e,t){this.lineNumber=e,this.column=t}return n.prototype.with=function(e,t){return e===void 0&&(e=this.lineNumber),t===void 0&&(t=this.column),e===this.lineNumber&&t===this.column?this:new n(e,t)},n.prototype.delta=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.with(this.lineNumber+e,this.column+t)},n.prototype.equals=function(e){return n.equals(this,e)},n.equals=function(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},n.prototype.isBefore=function(e){return n.isBefore(this,e)},n.isBefore=function(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column},n.prototype.isBeforeOrEqual=function(e){return n.isBeforeOrEqual(this,e)},n.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column},n.compare=function(e,t){var r=e.lineNumber|0,i=t.lineNumber|0;if(r===i){var o=e.column|0,s=t.column|0;return o-s}return r-i},n.prototype.clone=function(){return new n(this.lineNumber,this.column)},n.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},n.lift=function(e){return new n(e.lineNumber,e.column)},n.isIPosition=function(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"},n}(),H=function(){function n(e,t,r,i){e>r||e===r&&t>i?(this.startLineNumber=r,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=r,this.endColumn=i)}return n.prototype.isEmpty=function(){return n.isEmpty(this)},n.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},n.prototype.containsPosition=function(e){return n.containsPosition(this,e)},n.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)},n.prototype.containsRange=function(e){return n.containsRange(this,e)},n.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)},n.prototype.strictContainsRange=function(e){return n.strictContainsRange(this,e)},n.strictContainsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)},n.prototype.plusRange=function(e){return n.plusRange(this,e)},n.plusRange=function(e,t){var r,i,o,s;return t.startLineNumber<e.startLineNumber?(r=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(r=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(r=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new n(r,i,o,s)},n.prototype.intersectRanges=function(e){return n.intersectRanges(this,e)},n.intersectRanges=function(e,t){var r=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,u=t.startColumn,l=t.endLineNumber,c=t.endColumn;return r<a?(r=a,i=u):r===a&&(i=Math.max(i,u)),o>l?(o=l,s=c):o===l&&(s=Math.min(s,c)),r>o||r===o&&i>s?null:new n(r,i,o,s)},n.prototype.equalsRange=function(e){return n.equalsRange(this,e)},n.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},n.prototype.getEndPosition=function(){return new J(this.endLineNumber,this.endColumn)},n.prototype.getStartPosition=function(){return new J(this.startLineNumber,this.startColumn)},n.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},n.prototype.setEndPosition=function(e,t){return new n(this.startLineNumber,this.startColumn,e,t)},n.prototype.setStartPosition=function(e,t){return new n(e,t,this.endLineNumber,this.endColumn)},n.prototype.collapseToStart=function(){return n.collapseToStart(this)},n.collapseToStart=function(e){return new n(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)},n.fromPositions=function(e,t){return t===void 0&&(t=e),new n(e.lineNumber,e.column,t.lineNumber,t.column)},n.lift=function(e){return e?new n(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null},n.isIRange=function(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"},n.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},n.areIntersecting=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)},n.compareRangesUsingStarts=function(e,t){if(e&&t){var r=e.startLineNumber|0,i=t.startLineNumber|0;if(r===i){var o=e.startColumn|0,s=t.startColumn|0;if(o===s){var a=e.endLineNumber|0,u=t.endLineNumber|0;if(a===u){var l=e.endColumn|0,c=t.endColumn|0;return l-c}return a-u}return o-s}return r-i}var d=e?1:0,h=t?1:0;return d-h},n.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},n.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},n}(),QTe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Re=function(n){QTe(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i,o)||this;return s.selectionStartLineNumber=t,s.selectionStartColumn=r,s.positionLineNumber=i,s.positionColumn=o,s}return e.prototype.clone=function(){return new e(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},e.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},e.prototype.equalsSelection=function(t){return e.selectionsEqual(this,t)},e.selectionsEqual=function(t,r){return t.selectionStartLineNumber===r.selectionStartLineNumber&&t.selectionStartColumn===r.selectionStartColumn&&t.positionLineNumber===r.positionLineNumber&&t.positionColumn===r.positionColumn},e.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},e.prototype.setEndPosition=function(t,r){return this.getDirection()===0?new e(this.startLineNumber,this.startColumn,t,r):new e(t,r,this.startLineNumber,this.startColumn)},e.prototype.getPosition=function(){return new J(this.positionLineNumber,this.positionColumn)},e.prototype.setStartPosition=function(t,r){return this.getDirection()===0?new e(t,r,this.endLineNumber,this.endColumn):new e(this.endLineNumber,this.endColumn,t,r)},e.fromPositions=function(t,r){return r===void 0&&(r=t),new e(t.lineNumber,t.column,r.lineNumber,r.column)},e.liftSelection=function(t){return new e(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)},e.selectionsArrEqual=function(t,r){if(t&&!r||!t&&r)return!1;if(!t&&!r)return!0;if(t.length!==r.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!this.selectionsEqual(t[i],r[i]))return!1;return!0},e.isISelection=function(t){return t&&typeof t.selectionStartLineNumber=="number"&&typeof t.selectionStartColumn=="number"&&typeof t.positionLineNumber=="number"&&typeof t.positionColumn=="number"},e.createWithDirection=function(t,r,i,o,s){return s===0?new e(t,r,i,o):new e(i,o,t,r)},e}(H),GA=function(){function n(e,t,r){this.offset=e|0,this.type=t,this.language=r}return n.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},n}(),q4=function(){function n(e,t){this.tokens=e,this.endState=t}return n}(),$A=function(){function n(e,t){this.tokens=e,this.endState=t}return n}(),IP;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(IP||(IP={}));var xP;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(xP||(xP={}));var LP;(function(n){n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.KEY_0=21]="KEY_0",n[n.KEY_1=22]="KEY_1",n[n.KEY_2=23]="KEY_2",n[n.KEY_3=24]="KEY_3",n[n.KEY_4=25]="KEY_4",n[n.KEY_5=26]="KEY_5",n[n.KEY_6=27]="KEY_6",n[n.KEY_7=28]="KEY_7",n[n.KEY_8=29]="KEY_8",n[n.KEY_9=30]="KEY_9",n[n.KEY_A=31]="KEY_A",n[n.KEY_B=32]="KEY_B",n[n.KEY_C=33]="KEY_C",n[n.KEY_D=34]="KEY_D",n[n.KEY_E=35]="KEY_E",n[n.KEY_F=36]="KEY_F",n[n.KEY_G=37]="KEY_G",n[n.KEY_H=38]="KEY_H",n[n.KEY_I=39]="KEY_I",n[n.KEY_J=40]="KEY_J",n[n.KEY_K=41]="KEY_K",n[n.KEY_L=42]="KEY_L",n[n.KEY_M=43]="KEY_M",n[n.KEY_N=44]="KEY_N",n[n.KEY_O=45]="KEY_O",n[n.KEY_P=46]="KEY_P",n[n.KEY_Q=47]="KEY_Q",n[n.KEY_R=48]="KEY_R",n[n.KEY_S=49]="KEY_S",n[n.KEY_T=50]="KEY_T",n[n.KEY_U=51]="KEY_U",n[n.KEY_V=52]="KEY_V",n[n.KEY_W=53]="KEY_W",n[n.KEY_X=54]="KEY_X",n[n.KEY_Y=55]="KEY_Y",n[n.KEY_Z=56]="KEY_Z",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.NumLock=78]="NumLock",n[n.ScrollLock=79]="ScrollLock",n[n.US_SEMICOLON=80]="US_SEMICOLON",n[n.US_EQUAL=81]="US_EQUAL",n[n.US_COMMA=82]="US_COMMA",n[n.US_MINUS=83]="US_MINUS",n[n.US_DOT=84]="US_DOT",n[n.US_SLASH=85]="US_SLASH",n[n.US_BACKTICK=86]="US_BACKTICK",n[n.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",n[n.US_BACKSLASH=88]="US_BACKSLASH",n[n.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",n[n.US_QUOTE=90]="US_QUOTE",n[n.OEM_8=91]="OEM_8",n[n.OEM_102=92]="OEM_102",n[n.NUMPAD_0=93]="NUMPAD_0",n[n.NUMPAD_1=94]="NUMPAD_1",n[n.NUMPAD_2=95]="NUMPAD_2",n[n.NUMPAD_3=96]="NUMPAD_3",n[n.NUMPAD_4=97]="NUMPAD_4",n[n.NUMPAD_5=98]="NUMPAD_5",n[n.NUMPAD_6=99]="NUMPAD_6",n[n.NUMPAD_7=100]="NUMPAD_7",n[n.NUMPAD_8=101]="NUMPAD_8",n[n.NUMPAD_9=102]="NUMPAD_9",n[n.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",n[n.NUMPAD_ADD=104]="NUMPAD_ADD",n[n.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",n[n.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",n[n.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",n[n.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",n[n.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",n[n.ABNT_C1=110]="ABNT_C1",n[n.ABNT_C2=111]="ABNT_C2",n[n.MAX_VALUE=112]="MAX_VALUE"})(LP||(LP={}));var NP;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(NP||(NP={}));var OP;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(OP||(OP={}));var kP;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(kP||(kP={}));var RP;(function(n){n[n.Inline=1]="Inline"})(RP||(RP={}));var PP;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(PP||(PP={}));var MP;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(MP||(MP={}));var FP;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(FP||(FP={}));var BP;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(BP||(BP={}));var HP;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(HP||(HP={}));var VP;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(VP||(VP={}));var WP;(function(n){n[n.None=0]="None",n[n.Small=1]="Small",n[n.Large=2]="Large",n[n.SmallBlocks=3]="SmallBlocks",n[n.LargeBlocks=4]="LargeBlocks"})(WP||(WP={}));var UP;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(UP||(UP={}));var jP;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(jP||(jP={}));var qP;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(qP||(qP={}));var zP;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(zP||(zP={}));var GP;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(GP||(GP={}));var $P;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})($P||($P={}));var KP;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(KP||(KP={}));var YP;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(YP||(YP={}));var XP;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.Snippet=25]="Snippet"})(XP||(XP={}));var QP;(function(n){n[n.Deprecated=1]="Deprecated"})(QP||(QP={}));var ZP;(function(n){n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(ZP||(ZP={}));var JP;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(JP||(JP={}));var eM;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(eM||(eM={}));var tM;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(tM||(tM={}));var nM;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(nM||(nM={}));var rM;(function(n){n[n.Deprecated=1]="Deprecated"})(rM||(rM={}));var ZTe=function(){function n(){}return n.chord=function(e,t){return So(e,t)},n.CtrlCmd=2048,n.Shift=1024,n.Alt=512,n.WinCtrl=256,n}();function AJ(){return{editor:void 0,languages:void 0,CancellationTokenSource:Np,Emitter:Q,KeyCode:LP,KeyMod:ZTe,Position:J,Range:H,Selection:Re,SelectionDirection:NP,MarkerSeverity:xP,MarkerTag:IP,Uri:Ft,Token:GA}}var du;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(du||(du={}));var cr=qt("instantiationService");function IJ(n,e,t,r){e[du.DI_TARGET]===e?e[du.DI_DEPENDENCIES].push({id:n,index:t,optional:r}):(e[du.DI_DEPENDENCIES]=[{id:n,index:t,optional:r}],e[du.DI_TARGET]=e)}function qt(n){if(du.serviceIds.has(n))return du.serviceIds.get(n);var e=function(t,r,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");IJ(e,t,i,!1)};return e.toString=function(){return n},du.serviceIds.set(n,e),e}function cp(n){return function(e,t,r){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");IJ(n,e,r,!0)}}var Dn=qt("codeEditorService"),KA=function(){function n(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new Q,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return n.prototype.getZoomLevel=function(){return this._zoomLevel},n.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},n.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r},n.INSTANCE=new n,n}();function yT(){return KA.INSTANCE.getZoomLevel()}function JTe(){return KA.INSTANCE.getTimeSinceLastZoomLevelChanged()}function xJ(n){return KA.INSTANCE.onDidChangeZoomLevel(n)}function eDe(){return KA.INSTANCE.getPixelRatio()}var mu=navigator.userAgent,Es=mu.indexOf("Trident")>=0,nC=mu.indexOf("Edge/")>=0,ul=Es||nC,Ic=mu.indexOf("Firefox")>=0,fp=mu.indexOf("AppleWebKit")>=0,Mb=mu.indexOf("Chrome")>=0,YA=!Mb&&mu.indexOf("Safari")>=0,tDe=!Mb&&!YA&&fp,bT=mu.indexOf("iPad")>=0,nDe=nC&&mu.indexOf("WebView/")>=0;function rDe(){if(Es)return!1;if(nC){var n=mu.indexOf("Edge/"),e=parseInt(mu.substring(n+5,mu.indexOf(".",n)),10);if(!e||e>=12&&e<=16)return!1}return!0}var Nt=function(n,e,t){var r=function(o){return i.fire(o)},i=new Q({onFirstListenerAdd:function(){n.addEventListener(e,r,t)},onLastListenerRemove:function(){n.removeEventListener(e,r,t)}});return i.event};function _j(n){return Je.map(n,function(e){return e.preventDefault(),e.stopPropagation(),e})}var LJ=new Array(230),lO=new Array(112);(function(){for(var n=0;n<lO.length;n++)lO[n]=-1;function e(t,r){LJ[t]=r,lO[r]=t}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),Es?e(91,57):Ic?(e(59,80),e(107,81),e(109,83),Tt&&e(224,57)):fp&&(e(91,57),e(Tt?93:92,57))})();function iDe(n){if(n.charCode){var e=String.fromCharCode(n.charCode).toUpperCase();return Qv.fromString(e)}return LJ[n.keyCode]||0}var oDe=Tt?256:2048,sDe=512,aDe=1024,uDe=Tt?2048:256,Un=function(){function n(e){this._standardKeyboardEventBrand=!0;var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=iDe(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return n.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},n.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},n.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},n.prototype.equals=function(e){return this._asKeybinding===e},n.prototype._computeKeybinding=function(){var e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=oDe),this.altKey&&(t|=sDe),this.shiftKey&&(t|=aDe),this.metaKey&&(t|=uDe),t|=e,t},n.prototype._computeRuntimeKeybinding=function(){var e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new j4(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)},n}(),iM=!1,ev=null;function lDe(n){if(!n.parent||n.parent===n)return null;try{var e=n.location,t=n.parent.location;if(e.protocol!==t.protocol||e.hostname!==t.hostname||e.port!==t.port)return iM=!0,null}catch{return iM=!0,null}return n.parent}function cDe(n,e){for(var t=n.document.getElementsByTagName("iframe"),r,i=0,o=t.length;i<o;i++)if(r=t[i],r.contentWindow===e)return r;return null}var oM=function(){function n(){}return n.getSameOriginWindowChain=function(){if(!ev){ev=[];var e=window,t;do t=lDe(e),t?ev.push({window:e,iframeElement:cDe(t,e)}):ev.push({window:e,iframeElement:null}),e=t;while(e)}return ev.slice(0)},n.hasDifferentOriginAncestor=function(){return ev||this.getSameOriginWindowChain(),iM},n.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var r=0,i=0,o=this.getSameOriginWindowChain(),s=0,a=o;s<a.length;s++){var u=a[s];if(u.window===t||!u.iframeElement)break;var l=u.iframeElement.getBoundingClientRect();r+=l.top,i+=l.left}return{top:r,left:i}},n}(),fDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),si=function(){function n(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=oM.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return n.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},n.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},n}(),cO=function(n){fDe(e,n);function e(t){var r=n.call(this,t)||this;return r.dataTransfer=t.dataTransfer,r}return e}(si),wm=function(){function n(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t,e)if(e.type==="wheel"){var i=e;i.deltaMode===i.DOM_DELTA_LINE?(this.deltaY=-e.deltaY,this.deltaX=-e.deltaX):(this.deltaY=-e.deltaY/40,this.deltaX=-e.deltaX/40)}else{var o=e,s=e;typeof o.wheelDeltaY<"u"?this.deltaY=o.wheelDeltaY/120:typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),typeof o.wheelDeltaX<"u"?YA&&bo?this.deltaX=-(o.wheelDeltaX/120):this.deltaX=o.wheelDeltaX/120:typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return n.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},n.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},n}();function hDe(n){return n&&typeof n.then=="function"}function Gr(n){var e=new Np,t=n(e.token),r=new Promise(function(i,o){e.token.onCancellationRequested(function(){o(tC())}),Promise.resolve(t).then(function(s){e.dispose(),i(s)},function(s){e.dispose(),o(s)})});return new(function(){function i(){}return i.prototype.cancel=function(){e.cancel()},i.prototype.then=function(o,s){return r.then(o,s)},i.prototype.catch=function(o){return this.then(void 0,o)},i.prototype.finally=function(o){return r.finally(o)},i}())}function dDe(n,e,t){return Promise.race([n,new Promise(function(r){return e.onCancellationRequested(function(){return r(t)})})])}var w_=function(){function n(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.task=null}return n.prototype.trigger=function(e,t){var r=this;return t===void 0&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(i,o){r.doResolve=i,r.doReject=o}).then(function(){r.completionPromise=null,r.doResolve=null;var i=r.task;return r.task=null,i()})),this.timeout=setTimeout(function(){r.timeout=null,r.doResolve(null)},t),this.completionPromise},n.prototype.isTriggered=function(){return this.timeout!==null},n.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject(tC()),this.completionPromise=null)},n.prototype.cancelTimeout=function(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)},n.prototype.dispose=function(){this.cancelTimeout()},n}();function rC(n,e){return e?new Promise(function(t,r){var i=setTimeout(t,n);e.onCancellationRequested(function(){clearTimeout(i),r(tC())})}):Gr(function(t){return rC(n,t)})}function Em(n,e){e===void 0&&(e=0);var t=setTimeout(n,e);return bn(function(){return clearTimeout(t)})}function z4(n,e,t){e===void 0&&(e=function(s){return!!s}),t===void 0&&(t=null);var r=0,i=n.length,o=function(){if(r>=i)return Promise.resolve(t);var s=n[r++],a=Promise.resolve(s());return a.then(function(u){return e(u)?Promise.resolve(u):o()})};return o()}var Ns=function(){function n(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}return n.prototype.dispose=function(){this.cancel()},n.prototype.cancel=function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)},n.prototype.cancelAndSet=function(e,t){var r=this;this.cancel(),this._token=setTimeout(function(){r._token=-1,e()},t)},n.prototype.setIfNotSet=function(e,t){var r=this;this._token===-1&&(this._token=setTimeout(function(){r._token=-1,e()},t))},n}(),E_=function(){function n(){this._token=-1}return n.prototype.dispose=function(){this.cancel()},n.prototype.cancel=function(){this._token!==-1&&(clearInterval(this._token),this._token=-1)},n.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval(function(){e()},t)},n}(),Pr=function(){function n(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return n.prototype.dispose=function(){this.cancel(),this.runner=null},n.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},n.prototype.schedule=function(e){e===void 0&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},n.prototype.isScheduled=function(){return this.timeoutToken!==-1},n.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},n.prototype.doRun=function(){this.runner&&this.runner()},n}(),CT;(function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){var n=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});CT=function(e){var t=setTimeout(function(){return e(n)}),r=!1;return{dispose:function(){r||(r=!0,clearTimeout(t))}}}}else CT=function(e,t){var r=requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),i=!1;return{dispose:function(){i||(i=!0,cancelIdleCallback(r))}}}})();var sM=function(){function n(e){var t=this;this._didRun=!1,this._executor=function(){try{t._value=e()}catch(r){t._error=r}finally{t._didRun=!0}},this._handle=CT(function(){return t._executor()})}return n.prototype.dispose=function(){this._handle.dispose()},n.prototype.getValue=function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},n}(),En;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.userData="vscode-userdata"})(En||(En={}));var pDe=function(){function n(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http"}return n.prototype.setPreferredWebSchema=function(e){this._preferredWebSchema=e},n.prototype.rewrite=function(e,t){var r=this._hosts[e],i=this._ports[e],o=this._connectionTokens[e];return Ft.from({scheme:V4?this._preferredWebSchema:En.vscodeRemoteResource,authority:r+":"+i,path:"/vscode-remote-resource",query:"path="+encodeURIComponent(t)+"&tkn="+encodeURIComponent(o)})},n}(),NJ=new pDe,OJ=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aM=function(){return aM=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},aM.apply(this,arguments)};function ca(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function G4(n){n.parentNode&&n.parentNode.removeChild(n)}function gDe(n){for(;n;){if(n===document.body)return!0;n=n.parentNode||n.host}return!1}var vDe=new(function(){function n(){this._lastStart=-1,this._lastEnd=-1}return n.prototype._findClassName=function(e,t){var r=e.className;if(!r){this._lastStart=-1;return}t=t.trim();var i=r.length,o=t.length;if(o===0){this._lastStart=-1;return}if(i<o){this._lastStart=-1;return}if(r===t){this._lastStart=0,this._lastEnd=i;return}for(var s=-1,a;(s=r.indexOf(t,s+1))>=0;){if(a=s+o,(s===0||r.charCodeAt(s-1)===32)&&r.charCodeAt(a)===32){this._lastStart=s,this._lastEnd=a+1;return}if(s>0&&r.charCodeAt(s-1)===32&&a===i){this._lastStart=s-1,this._lastEnd=a;return}if(s===0&&a===i){this._lastStart=0,this._lastEnd=a;return}}this._lastStart=-1},n.prototype.hasClass=function(e,t){return this._findClassName(e,t),this._lastStart!==-1},n.prototype.addClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.addClass(e,s)})})},n.prototype.addClass=function(e,t){e.className?(this._findClassName(e,t),this._lastStart===-1&&(e.className=e.className+" "+t)):e.className=t},n.prototype.removeClass=function(e,t){this._findClassName(e,t),this._lastStart!==-1&&(e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd))},n.prototype.removeClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.removeClass(e,s)})})},n.prototype.toggleClass=function(e,t,r){this._findClassName(e,t),this._lastStart!==-1&&(r===void 0||!r)&&this.removeClass(e,t),this._lastStart===-1&&(r===void 0||r)&&this.addClass(e,t)},n}()),mDe=new(function(){function n(){}return n.prototype.hasClass=function(e,t){return!!t&&e.classList&&e.classList.contains(t)},n.prototype.addClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.addClass(e,s)})})},n.prototype.addClass=function(e,t){t&&e.classList&&e.classList.add(t)},n.prototype.removeClass=function(e,t){t&&e.classList&&e.classList.remove(t)},n.prototype.removeClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.removeClass(e,s)})})},n.prototype.toggleClass=function(e,t,r){e.classList&&e.classList.toggle(t,r)},n}()),Ra=Es?vDe:mDe,Eu=Ra.hasClass.bind(Ra),De=Ra.addClass.bind(Ra),$4=Ra.addClasses.bind(Ra),ot=Ra.removeClass.bind(Ra),XA=Ra.removeClasses.bind(Ra),kt=Ra.toggleClass.bind(Ra),_De=function(){function n(e,t,r,i){this._node=e,this._type=t,this._handler=r,this._useCapture=i||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}return n.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},n}();function _e(n,e,t,r){return new _De(n,e,t,r)}function yDe(n){return function(e){return n(new si(e))}}function bDe(n){return function(e){return n(new Un(e))}}var hi=function(e,t,r,i){var o=r;return t==="click"||t==="mousedown"?o=yDe(r):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=bDe(r)),_e(e,t,o,i)};function K4(n,e){return _e(n,"mouseout",function(t){for(var r=t.relatedTarget||t.target;r&&r!==n;)r=r.parentNode;r!==n&&e(t)})}var fO=null;function CDe(n){if(!fO){var e=function(t){return setTimeout(function(){return t(new Date().getTime())},0)};fO=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return fO.call(self,n)}var kJ,mh,hO=function(){function n(e,t){t===void 0&&(t=0),this._runner=e,this.priority=t,this._canceled=!1}return n.prototype.dispose=function(){this._canceled=!0},n.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){He(e)}},n.sort=function(e,t){return t.priority-e.priority},n}();(function(){var n=[],e=null,t=!1,r=!1,i=function(){for(t=!1,e=n,n=[],r=!0;e.length>0;){e.sort(hO.sort);var o=e.shift();o.execute()}r=!1};mh=function(o,s){s===void 0&&(s=0);var a=new hO(o,s);return n.push(a),t||(t=!0,CDe(i)),a},kJ=function(o,s){if(r){var a=new hO(o,s);return e.push(a),a}else return mh(o,s)}})();var wDe=16,EDe=function(n,e){return e},SDe=function(n){OJ(e,n);function e(t,r,i,o,s){o===void 0&&(o=EDe),s===void 0&&(s=wDe);var a=n.call(this)||this,u=null,l=0,c=a._register(new Ns),d=function(){l=new Date().getTime(),i(u),u=null};return a._register(_e(t,r,function(h){u=o(u,h);var p=new Date().getTime()-l;p>=s?(c.cancel(),d()):c.setIfNotSet(d,s-p)})),a}return e}(fe);function iC(n,e,t,r,i){return new SDe(n,e,t,r,i)}function Y4(n){return document.defaultView.getComputedStyle(n,null)}var bs=function(){function n(){}return n.convertToPixels=function(e,t){return parseFloat(t)||0},n.getDimension=function(e,t,r){var i=Y4(e),o="0";return i&&(i.getPropertyValue?o=i.getPropertyValue(t):o=i.getAttribute(r)),n.convertToPixels(e,o)},n.getBorderLeftWidth=function(e){return n.getDimension(e,"border-left-width","borderLeftWidth")},n.getBorderRightWidth=function(e){return n.getDimension(e,"border-right-width","borderRightWidth")},n.getBorderTopWidth=function(e){return n.getDimension(e,"border-top-width","borderTopWidth")},n.getBorderBottomWidth=function(e){return n.getDimension(e,"border-bottom-width","borderBottomWidth")},n.getPaddingLeft=function(e){return n.getDimension(e,"padding-left","paddingLeft")},n.getPaddingRight=function(e){return n.getDimension(e,"padding-right","paddingRight")},n.getPaddingTop=function(e){return n.getDimension(e,"padding-top","paddingTop")},n.getPaddingBottom=function(e){return n.getDimension(e,"padding-bottom","paddingBottom")},n.getMarginLeft=function(e){return n.getDimension(e,"margin-left","marginLeft")},n.getMarginTop=function(e){return n.getDimension(e,"margin-top","marginTop")},n.getMarginRight=function(e){return n.getDimension(e,"margin-right","marginRight")},n.getMarginBottom=function(e){return n.getDimension(e,"margin-bottom","marginBottom")},n}(),TDe=function(){function n(e,t){this.width=e,this.height=t}return n}();function X4(n){for(var e=n.offsetParent,t=n.offsetTop,r=n.offsetLeft;(n=n.parentNode)!==null&&n!==document.body&&n!==document.documentElement;){t-=n.scrollTop;var i=Y4(n);i&&(r-=i.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(r+=bs.getBorderLeftWidth(n),t+=bs.getBorderTopWidth(n),t+=n.offsetTop,r+=n.offsetLeft,e=n.offsetParent)}return{left:r,top:t}}function di(n){var e=n.getBoundingClientRect();return{left:e.left+nl.scrollX,top:e.top+nl.scrollY,width:e.width,height:e.height}}var nl=new(function(){function n(){}return Object.defineProperty(n.prototype,"scrollX",{get:function(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollY",{get:function(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),n}());function tu(n){var e=bs.getMarginLeft(n)+bs.getMarginRight(n);return n.offsetWidth+e}function wT(n){var e=bs.getBorderLeftWidth(n)+bs.getBorderRightWidth(n),t=bs.getPaddingLeft(n)+bs.getPaddingRight(n);return n.offsetWidth-e-t}function RJ(n){var e=bs.getBorderTopWidth(n)+bs.getBorderBottomWidth(n),t=bs.getPaddingTop(n)+bs.getPaddingBottom(n);return n.offsetHeight-e-t}function uM(n){var e=bs.getMarginTop(n)+bs.getMarginBottom(n);return n.offsetHeight+e}function El(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function lM(n,e,t){for(;n;){if(Eu(n,e))return n;if(t){if(typeof t=="string"){if(Eu(n,t))return null}else if(n===t)return null}n=n.parentNode}return null}function xh(n){n===void 0&&(n=document.getElementsByTagName("head")[0]);var e=document.createElement("style");return e.type="text/css",e.media="screen",n.appendChild(e),e}var dO=null;function PJ(){return dO||(dO=xh()),dO}function DDe(n){return n&&n.sheet&&n.sheet.rules?n.sheet.rules:n&&n.sheet&&n.sheet.cssRules?n.sheet.cssRules:[]}function ADe(n,e,t){t===void 0&&(t=PJ()),!(!t||!e)&&t.sheet.insertRule(n+"{"+e+"}",0)}function cM(n,e){if(e===void 0&&(e=PJ()),!!e){for(var t=DDe(e),r=[],i=0;i<t.length;i++){var o=t[i];o.selectorText.indexOf(n)!==-1&&r.push(i)}for(var i=r.length-1;i>=0;i--)e.sheet.deleteRule(r[i])}}function IDe(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}var lt={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:fp?"webkitAnimationStart":"animationstart",ANIMATION_END:fp?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:fp?"webkitAnimationIteration":"animationiteration"},wn={stop:function(n,e){n.preventDefault?n.preventDefault():n.returnValue=!1,e&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0)}};function xDe(n){for(var e=[],t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function LDe(n,e){for(var t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}var NDe=function(n){OJ(e,n);function e(t){var r=n.call(this)||this;r._onDidFocus=r._register(new Q),r.onDidFocus=r._onDidFocus.event,r._onDidBlur=r._register(new Q),r.onDidBlur=r._onDidBlur.event;var i=El(document.activeElement,t),o=!1,s=function(){o=!1,i||(i=!0,r._onDidFocus.fire())},a=function(){i&&(o=!0,window.setTimeout(function(){o&&(o=!1,i=!1,r._onDidBlur.fire())},0))};return r._register(Nt(t,lt.FOCUS,!0)(s)),r._register(Nt(t,lt.BLUR,!0)(a)),r}return e}(fe);function Fb(n){return new NDe(n)}function Ce(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(r){return n.appendChild(r)}),e[e.length-1]}var ODe=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/,Bb;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(Bb||(Bb={}));function MJ(n,e,t){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=ODe.exec(e);if(!o)throw new Error("Bad use of emmet");t=aM({},t||{});var s=o[1]||"div",a;return n!==Bb.HTML?a=document.createElementNS(n,s):a=document.createElement(s),o[3]&&(a.id=o[3]),o[4]&&(a.className=o[4].replace(/\./g," ").trim()),Object.keys(t).forEach(function(u){var l=t[u];/^on\w+$/.test(u)?a[u]=l:u==="selected"?l&&a.setAttribute(u,"true"):a.setAttribute(u,l)}),Wc(r).forEach(function(u){u instanceof Node?a.appendChild(u):a.appendChild(document.createTextNode(u))}),a}function Ve(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return MJ.apply(void 0,[Bb.HTML,n,e].concat(t))}Ve.SVG=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return MJ.apply(void 0,[Bb.SVG,n,e].concat(t))};function Ti(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n;t<r.length;t++){var i=r[t];i.style.display="",i.removeAttribute("aria-hidden")}}function jr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n;t<r.length;t++){var i=r[t];i.style.display="none",i.setAttribute("aria-hidden","true")}}function kDe(n,e){for(;n;){if(n instanceof HTMLElement&&n.hasAttribute(e))return n;n=n.parentNode}return null}function Q4(n){if(!(!n||!n.hasAttribute("tabIndex"))){if(document.activeElement===n){var e=kDe(n.parentElement,"tabIndex");e&&e.focus()}n.removeAttribute("tabindex")}}function yj(n){return Array.prototype.slice.call(document.getElementsByTagName(n),0)}function bj(n){var e=window.devicePixelRatio*n;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function FJ(n){if(wu||nDe)window.open(n);else{var e=window.open();e&&(e.opener=null,e.location.href=n)}}function RDe(n){var e=function(){n(),t=mh(e)},t=mh(e);return bn(function(){return t.dispose()})}NJ.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function BJ(n){return n&&(En.vscodeRemote===n.scheme?NJ.rewrite(n.authority,n.path):n)}function Cj(n){return n?"url('"+BJ(n).toString(!0).replace(/'/g,"%27")+"')":"url('')"}function HJ(n){var e=JSON.parse(n);return e=VJ(e,0),e}function VJ(n,e){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Ft.revive(n);case 2:return new RegExp(n.source,n.flags)}for(var t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=VJ(n[t],e+1))}return n}var Hb="";function WJ(n){return!n||typeof n!="string"?!0:n.trim().length===0}function z0(n,e,t){t===void 0&&(t="0");for(var r=""+n,i=[r],o=r.length;o<e;o++)i.push(t);return i.reverse().join("")}var PDe=/{(\d+)}/g;function Yt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.length===0?n:n.replace(PDe,function(r,i){var o=parseInt(i,10);return isNaN(o)||o<0||o>=e.length?r:e[o]})}function ra(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Sl(n){return n.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function MDe(n,e){e===void 0&&(e=" ");var t=fM(n,e);return UJ(t,e)}function fM(n,e){if(!n||!e)return n;var t=e.length;if(t===0||n.length===0)return n;for(var r=0;n.indexOf(e,r)===r;)r=r+t;return n.substring(r)}function UJ(n,e){if(!n||!e)return n;var t=e.length,r=n.length;if(t===0||r===0)return n;for(var i=r,o=-1;o=n.lastIndexOf(e,i-1),!(o===-1||o+t!==i);){if(o===0)return"";i=o}return n.substring(0,i)}function FDe(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Vb(n,e){if(n.length<e.length)return!1;if(n===e)return!0;for(var t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function xc(n,e){var t=n.length-e.length;return t>0?n.indexOf(e,t)===t:t===0?n===e:!1}function Z4(n,e,t){if(t===void 0&&(t={}),!n)throw new Error("Cannot create regex from empty string");e||(n=Sl(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));var r="";return t.global&&(r+="g"),t.matchCase||(r+="i"),t.multiline&&(r+="m"),t.unicode&&(r+="u"),new RegExp(n,r)}function BDe(n){if(n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$")return!1;var e=n.exec("");return!!(e&&n.lastIndex===0)}function pO(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")}function Ss(n){for(var e=0,t=n.length;e<t;e++){var r=n.charCodeAt(e);if(r!==32&&r!==9)return e}return-1}function In(n,e,t){e===void 0&&(e=0),t===void 0&&(t=n.length);for(var r=e;r<t;r++){var i=n.charCodeAt(r);if(i!==32&&i!==9)return n.substring(e,r)}return n.substring(e,t)}function Lh(n,e){e===void 0&&(e=n.length-1);for(var t=e;t>=0;t--){var r=n.charCodeAt(t);if(r!==32&&r!==9)return t}return-1}function jJ(n,e){return n<e?-1:n>e?1:0}function HDe(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++){var i=n.charCodeAt(r),o=e.charCodeAt(r);if(i!==o){ou(i)&&(i+=32),ou(o)&&(o+=32);var s=i-o;if(s!==0)return fc(i)&&fc(o)?s:jJ(n.toLowerCase(),e.toLowerCase())}}return n.length<e.length?-1:n.length>e.length?1:0}function fc(n){return n>=97&&n<=122}function ou(n){return n>=65&&n<=90}function wj(n){return fc(n)||ou(n)}function Mf(n,e){var t=n?n.length:0,r=e?e.length:0;return t!==r?!1:qJ(n,e)}function qJ(n,e,t){if(t===void 0&&(t=n.length),typeof n!="string"||typeof e!="string")return!1;for(var r=0;r<t;r++){var i=n.charCodeAt(r),o=e.charCodeAt(r);if(i!==o){if(wj(i)&&wj(o)){var s=Math.abs(i-o);if(s!==0&&s!==32)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}}return!0}function zJ(n,e){var t=e.length;return e.length>n.length?!1:qJ(n,e,t)}function J4(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t++)if(n.charCodeAt(t)!==e.charCodeAt(t))return t;return r}function VDe(n,e){var t,r=Math.min(n.length,e.length),i=n.length-1,o=e.length-1;for(t=0;t<r;t++)if(n.charCodeAt(i-t)!==e.charCodeAt(o-t))return t;return r}function zo(n){return 55296<=n&&n<=56319}function e6(n){return 56320<=n&&n<=57343}var WDe=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function t6(n){return WDe.test(n)}var UDe=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function jDe(n){return UDe.test(n)}var qDe=/^[\t\n\r\x20-\x7E]*$/;function GJ(n){return qDe.test(n)}function zDe(n){for(var e=0,t=n.length;e<t;e++)if(Lc(n.charCodeAt(e)))return!0;return!1}function Lc(n){return n=+n,n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}var GDe="\uFEFF";function n6(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function $J(n){return btoa(encodeURIComponent(n))}function $De(n,e){for(var t="",r=0;r<e;r++)t+=n;return t}function KDe(n,e){return e===void 0&&(e=!1),n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function KJ(n){var e=26;return n=n%(2*e),n<e?String.fromCharCode(97+n):String.fromCharCode(65+n-e)}var r6=typeof process>"u"?{cwd:function(){return"/"},env:Object.create(null),get platform(){return bo?"win32":Tt?"darwin":"linux"},nextTick:function(n){return vJ(n)}}:process,hM=r6.cwd,YDe=r6.env,tg=r6.platform,XDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QDe=65,ZDe=97,JDe=90,eAe=122,Zf=46,xr=47,Vs=92,of=58,tAe=63,i6=function(n){XDe(e,n);function e(t,r,i){var o=this,s;typeof r=="string"&&r.indexOf("not ")===0?(s="must not be",r=r.replace(/^not /,"")):s="must be";var a=t.indexOf(".")!==-1?"property":"argument",u='The "'+t+'" '+a+" "+s+" of type "+r;return u+=". Received type "+typeof i,o=n.call(this,u)||this,o.code="ERR_INVALID_ARG_TYPE",o}return e}(Error);function _r(n,e){if(typeof n!="string")throw new i6(e,"string",n)}function xt(n){return n===xr||n===Vs}function Ej(n){return n===xr}function sf(n){return n>=QDe&&n<=JDe||n>=ZDe&&n<=eAe}function ET(n,e,t,r){for(var i="",o=0,s=-1,a=0,u,l=0;l<=n.length;++l){if(l<n.length)u=n.charCodeAt(l);else{if(r(u))break;u=xr}if(r(u)){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==Zf||i.charCodeAt(i.length-2)!==Zf){if(i.length>2){var c=i.lastIndexOf(t);c===-1?(i="",o=0):(i=i.slice(0,c),o=i.length-1-i.lastIndexOf(t)),s=l,a=0;continue}else if(i.length===2||i.length===1){i="",o=0,s=l,a=0;continue}}e&&(i.length>0?i+=t+"..":i="..",o=2)}else i.length>0?i+=t+n.slice(s+1,l):i=n.slice(s+1,l),o=l-s-1;s=l,a=0}else u===Zf&&a!==-1?++a:a=-1}return i}function YJ(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var Jo={resolve:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t="",r="",i=!1,o=n.length-1;o>=-1;o--){var s=void 0;if(o>=0?s=n[o]:t?(s=YDe["="+t]||hM(),(s===void 0||s.slice(0,3).toLowerCase()!==t.toLowerCase()+"\\")&&(s=t+"\\")):s=hM(),_r(s,"path"),s.length!==0){var a=s.length,u=0,l="",c=!1,d=s.charCodeAt(0);if(a>1)if(xt(d))if(c=!0,xt(s.charCodeAt(1))){for(var h=2,p=h;h<a&&!xt(s.charCodeAt(h));++h);if(h<a&&h!==p){var v=s.slice(p,h);for(p=h;h<a&&xt(s.charCodeAt(h));++h);if(h<a&&h!==p){for(p=h;h<a&&!xt(s.charCodeAt(h));++h);h===a?(l="\\\\"+v+"\\"+s.slice(p),u=h):h!==p&&(l="\\\\"+v+"\\"+s.slice(p,h),u=h)}}}else u=1;else sf(d)&&s.charCodeAt(1)===of&&(l=s.slice(0,2),u=2,a>2&&xt(s.charCodeAt(2))&&(c=!0,u=3));else xt(d)&&(u=1,c=!0);if(!(l.length>0&&t.length>0&&l.toLowerCase()!==t.toLowerCase())&&(t.length===0&&l.length>0&&(t=l),i||(r=s.slice(u)+"\\"+r,i=c),t.length>0&&i))break}}return r=ET(r,!i,"\\",xt),t+(i?"\\":"")+r||"."},normalize:function(n){_r(n,"path");var e=n.length;if(e===0)return".";var t=0,r,i=!1,o=n.charCodeAt(0);if(e>1)if(xt(o))if(i=!0,xt(n.charCodeAt(1))){for(var s=2,a=s;s<e&&!xt(n.charCodeAt(s));++s);if(s<e&&s!==a){var u=n.slice(a,s);for(a=s;s<e&&xt(n.charCodeAt(s));++s);if(s<e&&s!==a){for(a=s;s<e&&!xt(n.charCodeAt(s));++s);if(s===e)return"\\\\"+u+"\\"+n.slice(a)+"\\";s!==a&&(r="\\\\"+u+"\\"+n.slice(a,s),t=s)}}}else t=1;else sf(o)&&n.charCodeAt(1)===of&&(r=n.slice(0,2),t=2,e>2&&xt(n.charCodeAt(2))&&(i=!0,t=3));else if(xt(o))return"\\";var l;return t<e?l=ET(n.slice(t),!i,"\\",xt):l="",l.length===0&&!i&&(l="."),l.length>0&&xt(n.charCodeAt(e-1))&&(l+="\\"),r===void 0?i?l.length>0?"\\"+l:"\\":l.length>0?l:"":i?l.length>0?r+"\\"+l:r+"\\":l.length>0?r+l:r},isAbsolute:function(n){_r(n,"path");var e=n.length;if(e===0)return!1;var t=n.charCodeAt(0);return xt(t)?!0:!!(sf(t)&&e>2&&n.charCodeAt(1)===of&&xt(n.charCodeAt(2)))},join:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===0)return".";for(var t,r,i=0;i<n.length;++i){var o=n[i];_r(o,"path"),o.length>0&&(t===void 0?t=r=o:t+="\\"+o)}if(t===void 0)return".";var s=!0,a=0;if(typeof r=="string"&&xt(r.charCodeAt(0))){++a;var u=r.length;u>1&&xt(r.charCodeAt(1))&&(++a,u>2&&(xt(r.charCodeAt(2))?++a:s=!1))}if(s){for(;a<t.length&&xt(t.charCodeAt(a));++a);a>=2&&(t="\\"+t.slice(a))}return Jo.normalize(t)},relative:function(n,e){if(_r(n,"from"),_r(e,"to"),n===e)return"";var t=Jo.resolve(n),r=Jo.resolve(e);if(t===r||(n=t.toLowerCase(),e=r.toLowerCase(),n===e))return"";for(var i=0;i<n.length&&n.charCodeAt(i)===Vs;++i);for(var o=n.length;o-1>i&&n.charCodeAt(o-1)===Vs;--o);for(var s=o-i,a=0;a<e.length&&e.charCodeAt(a)===Vs;++a);for(var u=e.length;u-1>a&&e.charCodeAt(u-1)===Vs;--u);for(var l=u-a,c=s<l?s:l,d=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(e.charCodeAt(a+h)===Vs)return r.slice(a+h+1);if(h===2)return r.slice(a+h)}s>c&&(n.charCodeAt(i+h)===Vs?d=h:h===2&&(d=3));break}var p=n.charCodeAt(i+h),v=e.charCodeAt(a+h);if(p!==v)break;p===Vs&&(d=h)}if(h!==c&&d===-1)return r;var m="";for(d===-1&&(d=0),h=i+d+1;h<=o;++h)(h===o||n.charCodeAt(h)===Vs)&&(m.length===0?m+="..":m+="\\..");return m.length>0?m+r.slice(a+d,u):(a+=d,r.charCodeAt(a)===Vs&&++a,r.slice(a,u))},toNamespacedPath:function(n){if(typeof n!="string")return n;if(n.length===0)return"";var e=Jo.resolve(n);if(e.length>=3){if(e.charCodeAt(0)===Vs){if(e.charCodeAt(1)===Vs){var t=e.charCodeAt(2);if(t!==tAe&&t!==Zf)return"\\\\?\\UNC\\"+e.slice(2)}}else if(sf(e.charCodeAt(0))&&e.charCodeAt(1)===of&&e.charCodeAt(2)===Vs)return"\\\\?\\"+e}return n},dirname:function(n){_r(n,"path");var e=n.length;if(e===0)return".";var t=-1,r=-1,i=!0,o=0,s=n.charCodeAt(0);if(e>1)if(xt(s)){if(t=o=1,xt(n.charCodeAt(1))){for(var a=2,u=a;a<e&&!xt(n.charCodeAt(a));++a);if(a<e&&a!==u){for(u=a;a<e&&xt(n.charCodeAt(a));++a);if(a<e&&a!==u){for(u=a;a<e&&!xt(n.charCodeAt(a));++a);if(a===e)return n;a!==u&&(t=o=a+1)}}}}else sf(s)&&n.charCodeAt(1)===of&&(t=o=2,e>2&&xt(n.charCodeAt(2))&&(t=o=3));else if(xt(s))return n;for(var l=e-1;l>=o;--l)if(xt(n.charCodeAt(l))){if(!i){r=l;break}}else i=!1;if(r===-1){if(t===-1)return".";r=t}return n.slice(0,r)},basename:function(n,e){e!==void 0&&_r(e,"ext"),_r(n,"path");var t=0,r=-1,i=!0,o;if(n.length>=2){var s=n.charCodeAt(0);sf(s)&&n.charCodeAt(1)===of&&(t=2)}if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";var a=e.length-1,u=-1;for(o=n.length-1;o>=t;--o){var l=n.charCodeAt(o);if(xt(l)){if(!i){t=o+1;break}}else u===-1&&(i=!1,u=o+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(r=o):(a=-1,r=u))}return t===r?r=u:r===-1&&(r=n.length),n.slice(t,r)}else{for(o=n.length-1;o>=t;--o)if(xt(n.charCodeAt(o))){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)}},extname:function(n){_r(n,"path");var e=0,t=-1,r=0,i=-1,o=!0,s=0;n.length>=2&&n.charCodeAt(1)===of&&sf(n.charCodeAt(0))&&(e=r=2);for(var a=n.length-1;a>=e;--a){var u=n.charCodeAt(a);if(xt(u)){if(!o){r=a+1;break}continue}i===-1&&(o=!1,i=a+1),u===Zf?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===r+1?"":n.slice(t,i)},format:function(n){if(n===null||typeof n!="object")throw new i6("pathObject","Object",n);return YJ("\\",n)},parse:function(n){_r(n,"path");var e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;var t=n.length,r=0,i=n.charCodeAt(0);if(t>1){if(xt(i)){if(r=1,xt(n.charCodeAt(1))){for(var o=2,s=o;o<t&&!xt(n.charCodeAt(o));++o);if(o<t&&o!==s){for(s=o;o<t&&xt(n.charCodeAt(o));++o);if(o<t&&o!==s){for(s=o;o<t&&!xt(n.charCodeAt(o));++o);o===t?r=o:o!==s&&(r=o+1)}}}}else if(sf(i)&&n.charCodeAt(1)===of)if(r=2,t>2){if(xt(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;r=3}}else return e.root=e.dir=n,e}else if(xt(i))return e.root=e.dir=n,e;r>0&&(e.root=n.slice(0,r));for(var a=-1,u=r,l=-1,c=!0,d=n.length-1,h=0;d>=r;--d){if(i=n.charCodeAt(d),xt(i)){if(!c){u=d+1;break}continue}l===-1&&(c=!1,l=d+1),i===Zf?a===-1?a=d:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||l===-1||h===0||h===1&&a===l-1&&a===u+1?l!==-1&&(e.base=e.name=n.slice(u,l)):(e.name=n.slice(u,a),e.base=n.slice(u,l),e.ext=n.slice(a,l)),u>0&&u!==r?e.dir=n.slice(0,u-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},br={resolve:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t="",r=!1,i=n.length-1;i>=-1&&!r;i--){var o=void 0;i>=0?o=n[i]:o=hM(),_r(o,"path"),o.length!==0&&(t=o+"/"+t,r=o.charCodeAt(0)===xr)}return t=ET(t,!r,"/",Ej),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(n){if(_r(n,"path"),n.length===0)return".";var e=n.charCodeAt(0)===xr,t=n.charCodeAt(n.length-1)===xr;return n=ET(n,!e,"/",Ej),n.length===0&&!e&&(n="."),n.length>0&&t&&(n+="/"),e?"/"+n:n},isAbsolute:function(n){return _r(n,"path"),n.length>0&&n.charCodeAt(0)===xr},join:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===0)return".";for(var t,r=0;r<n.length;++r){var i=arguments[r];_r(i,"path"),i.length>0&&(t===void 0?t=i:t+="/"+i)}return t===void 0?".":br.normalize(t)},relative:function(n,e){if(_r(n,"from"),_r(e,"to"),n===e||(n=br.resolve(n),e=br.resolve(e),n===e))return"";for(var t=1;t<n.length&&n.charCodeAt(t)===xr;++t);for(var r=n.length,i=r-t,o=1;o<e.length&&e.charCodeAt(o)===xr;++o);for(var s=e.length,a=s-o,u=i<a?i:a,l=-1,c=0;c<=u;++c){if(c===u){if(a>u){if(e.charCodeAt(o+c)===xr)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else i>u&&(n.charCodeAt(t+c)===xr?l=c:c===0&&(l=0));break}var d=n.charCodeAt(t+c),h=e.charCodeAt(o+c);if(d!==h)break;d===xr&&(l=c)}var p="";for(c=t+l+1;c<=r;++c)(c===r||n.charCodeAt(c)===xr)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+e.slice(o+l):(o+=l,e.charCodeAt(o)===xr&&++o,e.slice(o))},toNamespacedPath:function(n){return n},dirname:function(n){if(_r(n,"path"),n.length===0)return".";for(var e=n.charCodeAt(0)===xr,t=-1,r=!0,i=n.length-1;i>=1;--i)if(n.charCodeAt(i)===xr){if(!r){t=i;break}}else r=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename:function(n,e){e!==void 0&&_r(e,"ext"),_r(n,"path");var t=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";var s=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){var u=n.charCodeAt(o);if(u===xr){if(!i){t=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(u===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=a))}return t===r?r=a:r===-1&&(r=n.length),n.slice(t,r)}else{for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===xr){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)}},extname:function(n){_r(n,"path");for(var e=-1,t=0,r=-1,i=!0,o=0,s=n.length-1;s>=0;--s){var a=n.charCodeAt(s);if(a===xr){if(!i){t=s+1;break}continue}r===-1&&(i=!1,r=s+1),a===Zf?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},format:function(n){if(n===null||typeof n!="object")throw new i6("pathObject","Object",n);return YJ("/",n)},parse:function(n){_r(n,"path");var e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;var t=n.charCodeAt(0)===xr,r;t?(e.root="/",r=1):r=0;for(var i=-1,o=0,s=-1,a=!0,u=n.length-1,l=0;u>=r;--u){var c=n.charCodeAt(u);if(c===xr){if(!a){o=u+1;break}continue}s===-1&&(a=!1,s=u+1),c===Zf?i===-1?i=u:l!==1&&(l=1):i!==-1&&(l=-1)}return i===-1||s===-1||l===0||l===1&&i===s-1&&i===o+1?s!==-1&&(o===0&&t?e.base=e.name=n.slice(1,s):e.base=e.name=n.slice(o,s)):(o===0&&t?(e.name=n.slice(1,i),e.base=n.slice(1,s)):(e.name=n.slice(o,i),e.base=n.slice(o,s)),e.ext=n.slice(i,s)),o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};br.win32=Jo.win32=Jo;br.posix=Jo.posix=br;var ST=tg==="win32"?Jo.normalize:br.normalize,XJ=tg==="win32"?Jo.join:br.join,QJ=tg==="win32"?Jo.relative:br.relative,o6=tg==="win32"?Jo.dirname:br.dirname,Op=tg==="win32"?Jo.basename:br.basename,ZJ=tg==="win32"?Jo.extname:br.extname,qy=tg==="win32"?Jo.sep:br.sep;const nAe=Object.freeze(Object.defineProperty({__proto__:null,basename:Op,dirname:o6,extname:ZJ,join:XJ,normalize:ST,posix:br,relative:QJ,sep:qy,win32:Jo},Symbol.toStringTag,{value:"Module"}));function rAe(n,e,t,r){return r===void 0&&(r=qy),n===e?!0:!n||!e||e.length>n.length?!1:(e.charAt(e.length-1)!==r&&(e+=r),n.indexOf(e)===0)}function iAe(n){return n>=65&&n<=90||n>=97&&n<=122}function JJ(n){return Nc(n)||n.authority}function Nc(n){return br.basename(n.path)}function s6(n){if(n.path.length===0)return n;if(n.scheme===En.file)return Ft.file(o6(a6(n)));var e=br.dirname(n.path);return n.authority&&e.length&&e.charCodeAt(0)!==47&&(console.error('dirname("'+n.toString+")) resulted in a relative path"),e="/"),n.with({path:e})}function oAe(n){for(var e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i;return n.scheme===En.file?i=Ft.file(XJ.apply(nAe,[a6(n)].concat(t))).path:i=(e=br).join.apply(e,[n.path||"/"].concat(t)),n.with({path:i})}function sAe(n){if(!n.path.length)return n;var e;return n.scheme===En.file?e=Ft.file(ST(a6(n))).path:e=br.normalize(n.path),n.with({path:e})}function a6(n){var e,t=n.path;return n.authority&&t.length>1&&n.scheme===En.file?e="//"+n.authority+t:bo&&t.charCodeAt(0)===47&&iAe(t.charCodeAt(1))&&t.charCodeAt(2)===58?e=t.substr(1):e=t,bo&&(e=e.replace(/\//g,"\\")),e}var _h;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){var r=new Map,i=t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";"));i.split(";").forEach(function(s){var a=s.split(":"),u=a[0],l=a[1];u&&l&&r.set(u,l)});var o=t.path.substring(0,t.path.indexOf(";"));return o&&r.set(n.META_DATA_MIME,o),r}n.parseMetaData=e})(_h||(_h={}));var aAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function u6(n){var e=[];return n.forEach(function(t){return e.push(t)}),e}function Wb(n){var e=[];return n.forEach(function(t,r){return e.push(r)}),e}var uAe=function(){function n(){this._value="",this._pos=0}return n.prototype.reset=function(e){return this._value=e,this._pos=0,this},n.prototype.next=function(){return this._pos+=1,this},n.prototype.hasNext=function(){return this._pos<this._value.length-1},n.prototype.cmp=function(e){var t=e.charCodeAt(0),r=this._value.charCodeAt(this._pos);return t-r},n.prototype.value=function(){return this._value[this._pos]},n}(),lAe=function(){function n(){}return n.prototype.reset=function(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},n.prototype.hasNext=function(){return this._to<this._value.length},n.prototype.next=function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(t===47||t===92)if(e)this._from++;else break;else e=!1}return this},n.prototype.cmp=function(e){for(var t=0,r=e.length,i=this._from;t<r&&i<this._to;){var o=e.charCodeAt(t)-this._value.charCodeAt(i);if(o!==0)return o;t+=1,i+=1}return r===this._to-this._from?0:t<r?-1:1},n.prototype.value=function(){return this._value.substring(this._from,this._to)},n}(),vE=function(){function n(){}return n}(),dM=function(){function n(e){this._iter=e}return n.forPaths=function(){return new n(new lAe)},n.forStrings=function(){return new n(new uAe)},n.prototype.clear=function(){this._root=void 0},n.prototype.set=function(e,t){var r=this._iter.reset(e),i;for(this._root||(this._root=new vE,this._root.segment=r.value()),i=this._root;;){var o=r.cmp(i.segment);if(o>0)i.left||(i.left=new vE,i.left.segment=r.value()),i=i.left;else if(o<0)i.right||(i.right=new vE,i.right.segment=r.value()),i=i.right;else if(r.hasNext())r.next(),i.mid||(i.mid=new vE,i.mid.segment=r.value()),i=i.mid;else break}var s=i.value;return i.value=t,i.key=e,s},n.prototype.get=function(e){for(var t=this._iter.reset(e),r=this._root;r;){var i=t.cmp(r.segment);if(i>0)r=r.left;else if(i<0)r=r.right;else if(t.hasNext())t.next(),r=r.mid;else break}return r?r.value:void 0},n.prototype.findSubstr=function(e){for(var t=this._iter.reset(e),r=this._root,i=void 0;r;){var o=t.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else if(t.hasNext())t.next(),i=r.value||i,r=r.mid;else break}return r&&r.value||i},n.prototype.forEach=function(e){this._forEach(this._root,e)},n.prototype._forEach=function(e,t){e&&(this._forEach(e.left,t),e.value&&t(e.value,e.key),this._forEach(e.mid,t),this._forEach(e.right,t))},n}(),gO=function(){function n(){this.map=new Map,this.ignoreCase=!1}return n.prototype.set=function(e,t){this.map.set(this.toKey(e),t)},n.prototype.get=function(e){return this.map.get(this.toKey(e))},n.prototype.toKey=function(e){var t=e.toString();return this.ignoreCase&&(t=t.toLowerCase()),t},n}(),cAe=function(){function n(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return n.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.get=function(e,t){t===void 0&&(t=0);var r=this._map.get(e);if(r)return t!==0&&this.touch(r,t),r.value},n.prototype.set=function(e,t,r){r===void 0&&(r=0);var i=this._map.get(e);if(i)i.value=t,r!==0&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}},n.prototype.delete=function(e){return!!this.remove(e)},n.prototype.remove=function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value},n.prototype.forEach=function(e,t){for(var r=this._head;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next},n.prototype.trimOld=function(e){if(!(e>=this.size)){if(e===0){this.clear();return}for(var t=this._head,r=this.size;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0)}},n.prototype.addItemFirst=function(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e},n.prototype.addItemLast=function(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e},n.prototype.removeItem=function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{var t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0},n.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;var r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===2){if(e===this._tail)return;var r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}},n.prototype.toJSON=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),e},n}(),Sm=function(n){aAe(e,n);function e(t,r){r===void 0&&(r=1);var i=n.call(this)||this;return i._limit=t,i._ratio=Math.min(Math.max(0,r),1),i}return e.prototype.get=function(t){return n.prototype.get.call(this,t,2)},e.prototype.peek=function(t){return n.prototype.get.call(this,t,0)},e.prototype.set=function(t,r){n.prototype.set.call(this,t,r,2),this.checkTrim()},e.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},e}(cAe),Qi=qt("commandService"),Ri=new(function(){function n(){this._commands=new Map,this._onDidRegisterCommand=new Q,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return n.prototype.registerCommand=function(e,t){var r=this;if(!e)throw new Error("invalid command");if(typeof e=="string"){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){for(var i=[],o=0,s=e.description.args;o<s.length;o++){var a=s[o];i.push(a.constraint)}var u=e.handler;e.handler=function(p){for(var v=[],m=1;m<arguments.length;m++)v[m-1]=arguments[m];return aTe(v,i),u.apply(void 0,[p].concat(v))}}var l=e.id,c=this._commands.get(l);c||(c=new Ac,this._commands.set(l,c));var d=c.unshift(e),h=bn(function(){d();var p=r._commands.get(l);p&&p.isEmpty()&&r._commands.delete(l)});return this._onDidRegisterCommand.fire(l),h},n.prototype.registerCommandAlias=function(e,t){return Ri.registerCommand(e,function(r){for(var i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return(i=r.get(Qi)).executeCommand.apply(i,[t].concat(o))})},n.prototype.getCommand=function(e){var t=this._commands.get(e);if(!(!t||t.isEmpty()))return t.iterator().next().value},n.prototype.getCommands=function(){for(var e=new Map,t=0,r=Wb(this._commands);t<r.length;t++){var i=r[t],o=this.getCommand(i);o&&e.set(i,o)}return e},n}()),fAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hAe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Sj=function(n,e){return function(t,r){e(t,r,n)}},dAe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},pAe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},gAe=function(n){fAe(e,n);function e(t,r){var i=n.call(this)||this;return i._editorService=t,i._commandService=r,i._openers=new Ac,i._validators=new Ac,i}return e.prototype.open=function(t,r){return dAe(this,void 0,void 0,function(){var i,o,s,a,u,l,c;return pAe(this,function(d){switch(d.label){case 0:if(!t.scheme)return[2,Promise.resolve(!1)];i=0,o=this._validators.toArray(),d.label=1;case 1:return i<o.length?(s=o[i],[4,s.shouldOpen(t)]):[3,4];case 2:if(!d.sent())return[2,!1];d.label=3;case 3:return i++,[3,1];case 4:a=0,u=this._openers.toArray(),d.label=5;case 5:return a<u.length?(l=u[a],[4,l.open(t,r)]):[3,8];case 6:if(c=d.sent(),c)return[2,!0];d.label=7;case 7:return a++,[3,5];case 8:return[2,this._doOpen(t,r)]}})})},e.prototype._doOpen=function(t,r){var i,o=t.scheme,s=t.path,a=t.query,u=t.fragment;if(Mf(o,En.mailto)||r&&r.openExternal)return this._doOpenExternal(t);if(Mf(o,En.http)||Mf(o,En.https))return this._doOpenExternal(t);if(Mf(o,En.command)){if(!Ri.getCommand(s))return Promise.reject("command '"+s+"' NOT known");var l=[];try{l=HJ(a),Array.isArray(l)||(l=[l])}catch{}return(i=this._commandService).executeCommand.apply(i,[s].concat(l)).then(function(){return!0})}else{var c=void 0,d=/^L?(\d+)(?:,(\d+))?/.exec(u);return d&&(c={startLineNumber:parseInt(d[1]),startColumn:d[2]?parseInt(d[2]):1},t=t.with({fragment:""})),t.scheme===En.file&&(t=sAe(t)),this._editorService.openCodeEditor({resource:t,options:{selection:c}},this._editorService.getFocusedCodeEditor(),r&&r.openToSide).then(function(){return!0})}},e.prototype._doOpenExternal=function(t){return FJ(encodeURI(t.toString(!0))),Promise.resolve(!0)},e.prototype.dispose=function(){this._validators.clear()},e=hAe([Sj(0,Dn),Sj(1,Qi)],e),e}(fe);function Zv(n,e){if(!n)throw new Error(e?"Assertion failed ("+e+")":"Assertion Failed")}var vAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mAe={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},_Ae=function(n){vAe(e,n);function e(t,r){r===void 0&&(r={});var i=n.call(this)||this;return i._onDidUpdate=i._register(new Q),i._editor=t,i._options=Ur(r,mAe,!1),i.disposed=!1,i.nextIdx=-1,i.ranges=[],i.ignoreSelectionChange=!1,i.revealFirst=!!i._options.alwaysRevealFirst,i._register(i._editor.onDidDispose(function(){return i.dispose()})),i._register(i._editor.onDidUpdateDiff(function(){return i._onDiffUpdated()})),i._options.followsCaret&&i._register(i._editor.getModifiedEditor().onDidChangeCursorPosition(function(o){i.ignoreSelectionChange||(i.nextIdx=-1)})),i._options.alwaysRevealFirst&&i._register(i._editor.getModifiedEditor().onDidChangeModel(function(o){i.revealFirst=!0})),i._init(),i}return e.prototype._init=function(){var t=this._editor.getLineChanges()},e.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},e.prototype._compute=function(t){var r=this;this.ranges=[],t&&t.forEach(function(i){!r._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(function(o){r.ranges.push({rhs:!0,range:new H(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):r.ranges.push({rhs:!0,range:new H(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber,1)})}),this.ranges.sort(function(i,o){return i.range.getStartPosition().isBeforeOrEqual(o.range.getStartPosition())?-1:o.range.getStartPosition().isBeforeOrEqual(i.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},e.prototype._initIdx=function(t){var r=!1,i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(var o=0,s=this.ranges.length;o<s&&!r;o++){var a=this.ranges[o].range;i.isBeforeOrEqual(a.getStartPosition())&&(this.nextIdx=o+(t?0:-1),r=!0)}r||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},e.prototype._move=function(t,r){if(Zv(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var o=i.range.getStartPosition();this._editor.setPosition(o),this._editor.revealPositionInCenter(o,r)}finally{this.ignoreSelectionChange=!1}}},e.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},e.prototype.next=function(t){t===void 0&&(t=0),this._move(!0,t)},e.prototype.previous=function(t){t===void 0&&(t=0),this._move(!1,t)},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},e}(fe),Oc=new(function(){function n(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Q,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return n.prototype.getZoomLevel=function(){return this._zoomLevel},n.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},n}()),yAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bAe=Tt?1.5:1.35,Tj=8,CAe=100,Dj=8,wAe=150,EAe=-5,SAe=20;function Aj(n,e){if(typeof n=="number")return n;if(typeof n>"u")return e;var t=parseFloat(n);return isNaN(t)?e:t}function TAe(n,e){if(typeof n=="number")return Math.round(n);if(typeof n>"u")return e;var t=parseInt(n);return isNaN(t)?e:t}function vO(n,e,t){return n<e?e:n>t?t:n}function Ij(n,e){return typeof n!="string"?e:n}var l6=function(){function n(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}return n.createFromRawSettings=function(e,t,r){r===void 0&&(r=!1);var i=Ij(e.fontFamily,Zd.fontFamily),o=Ij(e.fontWeight,Zd.fontWeight),s=Aj(e.fontSize,Zd.fontSize);s=vO(s,0,CAe),s===0?s=Zd.fontSize:s<Tj&&(s=Tj);var a=TAe(e.lineHeight,0);a=vO(a,0,wAe),a===0?a=Math.round(bAe*s):a<Dj&&(a=Dj);var u=Aj(e.letterSpacing,0);u=vO(u,EAe,SAe);var l=1+(r?0:Oc.getZoomLevel()*.1);return s*=l,a*=l,new n({zoomLevel:t,fontFamily:i,fontWeight:o,fontSize:s,lineHeight:a,letterSpacing:u})},n.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},n.prototype.getMassagedFontFamily=function(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?'"'+this.fontFamily+'"':this.fontFamily},n}(),pM=function(n){yAe(e,n);function e(t,r){var i=n.call(this,t)||this;return i.isTrusted=r,i.isMonospace=t.isMonospace,i.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,i.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,i.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,i.spaceWidth=t.spaceWidth,i.maxDigitWidth=t.maxDigitWidth,i}return e.prototype.equals=function(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.spaceWidth===t.spaceWidth&&this.maxDigitWidth===t.maxDigitWidth},e}(l6);function DAe(n){return n&&typeof n.id=="string"}var QA={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},an={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"},ia;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(ia||(ia={}));var TT;(function(n){n[n.Inline=1]="Inline"})(TT||(TT={}));var bS=function(){function n(e){this.tabSize=e.tabSize|0,this.indentSize=e.tabSize|0,this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace}return n.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},n.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},n}(),Ub=function(){function n(e,t){this.range=e,this.matches=t}return n}(),AAe=function(){function n(e,t,r){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=r}return n}(),mO="**",xj="/",CS="[/\\\\]",wS="[^/\\\\]",IAe=/\//g;function Lj(n){switch(n){case 0:return"";case 1:return wS+"*?";default:return"(?:"+CS+"|"+wS+"+"+CS+"|"+CS+wS+"+)*?"}}function Nj(n,e){if(!n)return[];for(var t=[],r=!1,i=!1,o="",s=0,a=n;s<a.length;s++){var u=a[s];switch(u){case e:if(!r&&!i){t.push(o),o="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=u}return o&&t.push(o),t}function eee(n){if(!n)return"";var e="",t=Nj(n,xj);if(t.every(function(i){return i===mO}))e=".*";else{var r=!1;t.forEach(function(i,o){if(i===mO){r||(e+=Lj(2),r=!0);return}for(var s=!1,a="",u=!1,l="",c=0,d=i;c<d.length;c++){var h=d[c];if(h!=="}"&&s){a+=h;continue}if(u&&(h!=="]"||!l)){var p=void 0;h==="-"?p=h:(h==="^"||h==="!")&&!l?p="^":h===xj?p="":p=Sl(h),l+=p;continue}switch(h){case"{":s=!0;continue;case"[":u=!0;continue;case"}":var v=Nj(a,","),m="(?:"+v.map(function(_){return eee(_)}).join("|")+")";e+=m,s=!1,a="";break;case"]":e+="["+l+"]",u=!1,l="";break;case"?":e+=wS;continue;case"*":e+=Lj(1);continue;default:e+=Sl(h)}}o<t.length-1&&(t[o+1]!==mO||o+2<t.length)&&(e+=CS),r=!1})}return e}var xAe=/^\*\*\/\*\.[\w\.-]+$/,LAe=/^\*\*\/([\w\.-]+)\/?$/,NAe=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,OAe=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,kAe=/^\*\*((\/[\w\.-]+)+)\/?$/,RAe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Oj=new Sm(1e4),kj=function(){return!1},ll=function(){return null};function c6(n,e){if(!n)return ll;var t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();var r=t+"_"+!!e.trimForExclusions,i=Oj.get(r);if(i)return Rj(i,n);var o;if(xAe.test(t)){var s=t.substr(4);i=function(a,u){return typeof a=="string"&&xc(a,s)?t:null}}else(o=LAe.exec(_O(t,e)))?i=PAe(o[1],t):(e.trimForExclusions?OAe:NAe).test(t)?i=MAe(t,e):(o=kAe.exec(_O(t,e)))?i=Pj(o[1].substr(1),t,!0):(o=RAe.exec(_O(t,e)))?i=Pj(o[1],t,!1):i=FAe(t);return Oj.set(r,i),Rj(i,n)}function Rj(n,e){return typeof e=="string"?n:function(t,r){return rAe(t,e.base)?n(QJ(e.base,t),r):null}}function _O(n,e){return e.trimForExclusions&&xc(n,"/**")?n.substr(0,n.length-2):n}function PAe(n,e){var t="/"+n,r="\\"+n,i=function(s,a){return typeof s!="string"?null:a?a===n?e:null:s===n||xc(s,t)||xc(s,r)?e:null},o=[n];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}function MAe(n,e){var t=nee(n.slice(1,-1).split(",").map(function(a){return c6(a,e)}).filter(function(a){return a!==ll}),n),r=t.length;if(!r)return ll;if(r===1)return t[0];var i=function(a,u){for(var l=0,c=t.length;l<c;l++)if(t[l](a,u))return n;return null},o=gP(t,function(a){return!!a.allBasenames});o&&(i.allBasenames=o.allBasenames);var s=t.reduce(function(a,u){return u.allPaths?a.concat(u.allPaths):a},[]);return s.length&&(i.allPaths=s),i}function Pj(n,e,t){var r=qy!==br.sep?n.replace(IAe,qy):n,i=qy+r,o=t?function(s,a){return typeof s=="string"&&(s===r||xc(s,i))?e:null}:function(s,a){return typeof s=="string"&&s===r?e:null};return o.allPaths=[(t?"*/":"./")+n],o}function FAe(n){try{var e=new RegExp("^"+eee(n)+"$");return function(t,r){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return ll}}function tee(n,e,t){return!n||typeof e!="string"?!1:BAe(n)(e,void 0,t)}function BAe(n,e){if(e===void 0&&(e={}),!n)return kj;if(typeof n=="string"||HAe(n)){var t=c6(n,e);if(t===ll)return kj;var r=function(i,o){return!!t(i,o)};return t.allBasenames&&(r.allBasenames=t.allBasenames),t.allPaths&&(r.allPaths=t.allPaths),r}return VAe(n,e)}function HAe(n){var e=n;return e&&typeof e.base=="string"&&typeof e.pattern=="string"}function VAe(n,e){var t=nee(Object.getOwnPropertyNames(n).map(function(c){return WAe(c,n[c],e)}).filter(function(c){return c!==ll})),r=t.length;if(!r)return ll;if(!t.some(function(c){return!!c.requiresSiblings})){if(r===1)return t[0];var i=function(c,d){for(var h=0,p=t.length;h<p;h++){var v=t[h](c,d);if(v)return v}return null},o=gP(t,function(c){return!!c.allBasenames});o&&(i.allBasenames=o.allBasenames);var s=t.reduce(function(c,d){return d.allPaths?c.concat(d.allPaths):c},[]);return s.length&&(i.allPaths=s),i}var a=function(c,d,h){for(var p=void 0,v=0,m=t.length;v<m;v++){var _=t[v];_.requiresSiblings&&h&&(d||(d=Op(c)),p||(p=d.substr(0,d.length-ZJ(c).length)));var b=_(c,d,p,h);if(b)return b}return null},u=gP(t,function(c){return!!c.allBasenames});u&&(a.allBasenames=u.allBasenames);var l=t.reduce(function(c,d){return d.allPaths?c.concat(d.allPaths):c},[]);return l.length&&(a.allPaths=l),a}function WAe(n,e,t){if(e===!1)return ll;var r=c6(n,t);if(r===ll)return ll;if(typeof e=="boolean")return r;if(e){var i=e.when;if(typeof i=="string"){var o=function(s,a,u,l){if(!l||!r(s,a))return null;var c=i.replace("$(basename)",u),d=l(c);return hDe(d)?d.then(function(h){return h?n:null}):d?n:null};return o.requiresSiblings=!0,o}}return r}function nee(n,e){var t=n.filter(function(l){return!!l.basenames});if(t.length<2)return n;var r=t.reduce(function(l,c){var d=c.basenames;return d?l.concat(d):l},[]),i;if(e){i=[];for(var o=0,s=r.length;o<s;o++)i.push(e)}else i=t.reduce(function(l,c){var d=c.patterns;return d?l.concat(d):l},[]);var a=function(l,c){if(typeof l!="string")return null;if(!c){var d=void 0;for(d=l.length;d>0;d--){var h=l.charCodeAt(d-1);if(h===47||h===92)break}c=l.substr(d)}var p=r.indexOf(c);return p!==-1?i[p]:null};a.basenames=r,a.patterns=i,a.allBasenames=r;var u=n.filter(function(l){return!l.basenames});return u.push(a),u}function ree(n,e,t,r){if(Array.isArray(n)){for(var i=0,o=0,s=n;o<s.length;o++){var a=s[o],u=ree(a,e,t,r);if(u===10)return u;u>i&&(i=u)}return i}else{if(typeof n=="string")return r?n==="*"?5:n===t?10:0:0;if(n){var l=n.language,c=n.pattern,d=n.scheme,h=n.hasAccessToAllModels;if(!r&&!h)return 0;var i=0;if(d)if(d===e.scheme)i=10;else if(d==="*")i=5;else return 0;if(l)if(l===t)i=10;else if(l==="*")i=Math.max(i,5);else return 0;if(c)if(c===e.fsPath||tee(c,e.fsPath))i=10;else return 0;return i}else return 0}}var is=qt("modelService");function UAe(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}function iee(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(iee):!!n.exclusive}var Kr=function(){function n(){this._clock=0,this._entries=[],this._onDidChange=new Q}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),n.prototype.register=function(e,t){var r=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),bn(function(){if(i){var o=r._entries.indexOf(i);o>=0&&(r._entries.splice(o,1),r._lastCandidate=void 0,r._onDidChange.fire(r._entries.length),i=void 0)}})},n.prototype.has=function(e){return this.all(e).length>0},n.prototype.all=function(e){if(!e)return[];this._updateScores(e);for(var t=[],r=0,i=this._entries;r<i.length;r++){var o=i[r];o._score>0&&t.push(o.provider)}return t},n.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,function(r){return t.push(r.provider)}),t},n.prototype.orderedGroups=function(e){var t=[],r,i;return this._orderedForEach(e,function(o){r&&i===o._score?r.push(o.provider):(i=o._score,r=[o.provider],t.push(r))}),t},n.prototype._orderedForEach=function(e,t){if(e){this._updateScores(e);for(var r=0,i=this._entries;r<i.length;r++){var o=i[r];o._score>0&&t(o)}}},n.prototype._updateScores=function(e){var t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri)){this._lastCandidate=t;for(var r=0,i=this._entries;r<i.length;r++){var o=i[r];if(o._score=ree(o.selector,e.uri,e.getLanguageIdentifier().language,UAe(e)),iee(o.selector)&&o._score>0){for(var s=0,a=this._entries;s<a.length;s++){var u=a[s];u._score=0}o._score=1e3;break}}this._entries.sort(n._compareByScoreAndTime)}},n._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},n}(),jAe=function(){function n(){this._map=new Map,this._promises=new Map,this._onDidChange=new Q,this.onDidChange=this._onDidChange.event,this._colorMap=null}return n.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})},n.prototype.register=function(e,t){var r=this;return this._map.set(e,t),this.fire([e]),bn(function(){r._map.get(e)===t&&(r._map.delete(e),r.fire([e]))})},n.prototype.registerPromise=function(e,t){var r=this,i=null,o=!1;return this._promises.set(e,t.then(function(s){r._promises.delete(e),!(o||!s)&&(i=r.register(e,s))})),bn(function(){o=!0,i&&i.dispose()})},n.prototype.getPromise=function(e){var t=this,r=this.get(e);if(r)return Promise.resolve(r);var i=this._promises.get(e);return i?i.then(function(o){return t.get(e)}):null},n.prototype.get=function(e){return Cm(this._map.get(e))},n.prototype.setColorMap=function(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Wb(this._map),changedColorMap:!0})},n.prototype.getColorMap=function(){return this._colorMap},n.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null},n}(),f6=function(){function n(e,t){this.language=e,this.id=t}return n}(),uu=function(){function n(){}return n.getLanguageId=function(e){return(e&255)>>>0},n.getTokenType=function(e){return(e&1792)>>>8},n.getFontStyle=function(e){return(e&14336)>>>11},n.getForeground=function(e){return(e&8372224)>>>14},n.getBackground=function(e){return(e&4286578688)>>>23},n.getClassNameFromMetadata=function(e){var t=this.getForeground(e),r="mtk"+t,i=this.getFontStyle(e);return i&1&&(r+=" mtki"),i&2&&(r+=" mtkb"),i&4&&(r+=" mtku"),r},n.getInlineStyleFromMetadata=function(e,t){var r=this.getForeground(e),i=this.getFontStyle(e),o="color: "+t[r]+";";return i&1&&(o+="font-style: italic;"),i&2&&(o+="font-weight: bold;"),i&4&&(o+="text-decoration: underline;"),o},n}(),Mj=function(){var n=Object.create(null);return n[0]="method",n[1]="function",n[2]="constructor",n[3]="field",n[4]="variable",n[5]="class",n[6]="struct",n[7]="interface",n[8]="module",n[9]="property",n[10]="event",n[11]="operator",n[12]="unit",n[13]="value",n[14]="constant",n[15]="enum",n[16]="enum-member",n[17]="keyword",n[25]="snippet",n[18]="text",n[19]="color",n[20]="file",n[21]="reference",n[22]="customcolor",n[23]="folder",n[24]="type-parameter",function(e){return n[e]||"property"}}(),h6=function(){var n=Object.create(null);return n.method=0,n.function=1,n.constructor=2,n.field=3,n.variable=4,n.class=5,n.struct=6,n.interface=7,n.module=8,n.property=9,n.event=10,n.operator=11,n.unit=12,n.value=13,n.constant=14,n.enum=15,n["enum-member"]=16,n.enumMember=16,n.keyword=17,n.snippet=25,n.text=18,n.color=19,n.file=20,n.reference=21,n.customcolor=22,n.folder=23,n["type-parameter"]=24,n.typeParameter=24,function(e,t){var r=n[e];return typeof r>"u"&&!t&&(r=9),r}}(),hp;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(hp||(hp={}));var jb;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(jb||(jb={}));function qAe(n){return n&&Ft.isUri(n.uri)&&H.isIRange(n.range)&&(H.isIRange(n.originSelectionRange)||H.isIRange(n.targetSelectionRange))}var zAe=function(){var n=Object.create(null);return n[0]="file",n[1]="module",n[2]="namespace",n[3]="package",n[4]="class",n[5]="method",n[6]="property",n[7]="field",n[8]="constructor",n[9]="enum",n[10]="interface",n[11]="function",n[12]="variable",n[13]="constant",n[14]="string",n[15]="number",n[16]="boolean",n[17]="array",n[18]="object",n[19]="key",n[20]="null",n[21]="enum-member",n[22]="struct",n[23]="event",n[24]="operator",n[25]="type-parameter",function(t,r){return"symbol-icon "+(r?"inline":"block")+" "+(n[t]||"property")}}(),ZA=function(){function n(e){this.value=e}return n.Comment=new n("comment"),n.Imports=new n("imports"),n.Region=new n("region"),n}();function GAe(n){return Ui(n)&&n.resource&&Array.isArray(n.edits)}var DT=new Kr,AT=new Kr,rl=new Kr,dp=new Kr,qb=new Kr,Ff=new Kr,Tm=new Kr,zb=new Kr,IT=new Kr,xT=new Kr,LT=new Kr,pp=new Kr,yc=new Kr,zy=new Kr,lu=new Kr,NT=new Kr,Gb=new Kr,Dm=new Kr,JA=new Kr,gM=new Kr,Bn=new jAe,$Ae=function(){function n(){}return n.prototype.clone=function(){return this},n.prototype.equals=function(e){return this===e},n}(),oC=new $Ae,d6="vs.editor.nullMode",OT=new f6(d6,0);function oee(n,e,t,r){return new q4([new GA(r,"",n)],t)}function p6(n,e,t,r){var i=new Uint32Array(2);return i[0]=r,i[1]=(n<<0|0|0|16384|2<<23)>>>0,new $A(i,t===null?oC:t)}var KAe="editorWorkerService",Fa=qt(KAe),kp=qt("textModelService"),YAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XAe="$initialize",Fj=!1;function vM(n){V4&&(Fj||(Fj=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(n.message))}var QAe=function(){function n(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return n.prototype.setWorkerId=function(e){this._workerId=e},n.prototype.sendMessage=function(e,t){var r=this,i=String(++this._lastSentReq);return new Promise(function(o,s){r._pendingReplies[i]={resolve:o,reject:s},r._send({vsWorker:r._workerId,req:i,method:e,args:t})})},n.prototype.handleMessage=function(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)},n.prototype._handleMessage=function(e){var t=this;if(e.seq){var r=e;if(!this._pendingReplies[r.seq]){console.warn("Got reply to unknown seq");return}var i=this._pendingReplies[r.seq];if(delete this._pendingReplies[r.seq],r.err){var o=r.err;r.err.$isError&&(o=new Error,o.name=r.err.name,o.message=r.err.message,o.stack=r.err.stack),i.reject(o);return}i.resolve(r.res);return}var s=e,a=s.req,u=this._handler.handleMessage(s.method,s.args);u.then(function(l){t._send({vsWorker:t._workerId,seq:a,res:l,err:void 0})},function(l){l.detail instanceof Error&&(l.detail=gj(l.detail)),t._send({vsWorker:t._workerId,seq:a,res:void 0,err:gj(l)})})},n.prototype._send=function(e){var t=[];if(e.req)for(var r=e,i=0;i<r.args.length;i++)r.args[i]instanceof ArrayBuffer&&t.push(r.args[i]);else{var r=e;r.res instanceof ArrayBuffer&&t.push(r.res)}this._handler.sendMessage(e,t)},n}(),ZAe=function(n){YAe(e,n);function e(t,r,i){var o=n.call(this)||this,s=null;o._worker=o._register(t.create("vs/base/common/worker/simpleWorker",function(c){o._protocol.handleMessage(c)},function(c){s&&s(c)})),o._protocol=new QAe({sendMessage:function(c,d){o._worker.postMessage(c,d)},handleMessage:function(c,d){if(typeof i[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(i[c].apply(i,d))}catch(h){return Promise.reject(h)}}}),o._protocol.setWorkerId(o._worker.getId());var a=null;typeof self.require<"u"&&typeof self.require.getConfig=="function"?a=self.require.getConfig():typeof self.requirejs<"u"&&(a=self.requirejs.s.contexts._.config);var u=H4(i);o._onModuleLoaded=o._protocol.sendMessage(XAe,[o._worker.getId(),JSON.parse(JSON.stringify(a)),r,u]);var l=function(c,d){return o._request(c,d)};return o._lazyProxy=new Promise(function(c,d){s=d,o._onModuleLoaded.then(function(h){c(hJ(h,l))},function(h){d(h),o._onError("Worker failed to load "+r,h)})}),o}return e.prototype.getProxyObject=function(){return this._lazyProxy},e.prototype._request=function(t,r){var i=this;return new Promise(function(o,s){i._onModuleLoaded.then(function(){i._protocol.sendMessage(t,r).then(o,s)},s)})},e.prototype._onError=function(t,r){console.error(t),console.info(r)},e}(fe);function JAe(n,e){if(ys.MonacoEnvironment){if(typeof ys.MonacoEnvironment.getWorker=="function")return ys.MonacoEnvironment.getWorker(n,e);if(typeof ys.MonacoEnvironment.getWorkerUrl=="function")return new Worker(ys.MonacoEnvironment.getWorkerUrl(n,e))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function e2e(n){return typeof n.then=="function"}var t2e=function(){function n(e,t,r,i,o){this.id=t;var s=JAe("workerMain.js",r);e2e(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(function(a){a.onmessage=function(u){i(u.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}return n.prototype.getId=function(){return this.id},n.prototype.postMessage=function(e,t){this.worker&&this.worker.then(function(r){return r.postMessage(e,t)})},n.prototype.dispose=function(){this.worker&&this.worker.then(function(e){return e.terminate()}),this.worker=null},n}(),n2e=function(){function n(e){this._label=e,this._webWorkerFailedBeforeError=!1}return n.prototype.create=function(e,t,r){var i=this,o=++n.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new t2e(e,o,this._label||"anonymous"+o,t,function(s){vM(s),i._webWorkerFailedBeforeError=s,r(s)})},n.LAST_WORKER_ID=0,n}(),$n;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})($n||($n={}));var yO=function(){function n(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(var t=0,r=e.notIn.length;t<r;t++){var i=e.notIn[t];switch(i){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}return n.prototype.isOK=function(e){return(this._standardTokenMask&e)===0},n}();function mE(n,e){for(var t=n.getCount(),r=n.findTokenIndexAtOffset(e),i=n.getLanguageId(r),o=r;o+1<t&&n.getLanguageId(o+1)===i;)o++;for(var s=r;s>0&&n.getLanguageId(s-1)===i;)s--;return new r2e(n,i,s,o+1,n.getStartOffset(s),n.getEndOffset(o))}var r2e=function(){function n(e,t,r,i,o,s){this._actual=e,this.languageId=t,this._firstTokenIndex=r,this._lastTokenIndex=i,this.firstCharOffset=o,this._lastCharOffset=s}return n.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)},n.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},n.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},n.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},n}();function Nd(n){return(n&7)!==0}var mM=function(){function n(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(function(r){return new yO(r)}):e.brackets?this._autoClosingPairs=e.brackets.map(function(r){return new yO({open:r[0],close:r[1]})}):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){var t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new yO({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:n.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}return n.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},n.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},n.shouldAutoClosePair=function(e,t,r){if(t.getTokenCount()===0)return!0;var i=t.findTokenIndexAtOffset(r-2),o=t.getStandardTokenType(i);return e.isOK(o)},n.prototype.getSurroundingPairs=function(){return this._surroundingPairs},n.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`,n}(),i2e=function(){function n(e,t,r,i,o){this.languageIdentifier=e,this.open=t,this.close=r,this.forwardRegex=i,this.reversedRegex=o}return n}(),o2e=function(){function n(e,t){var r=this;this.brackets=t.map(function(o){return new i2e(e,o[0],o[1],s2e({open:o[0],close:o[1]}),a2e({open:o[0],close:o[1]}))}),this.forwardRegex=u2e(this.brackets),this.reversedRegex=l2e(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var i=0;this.brackets.forEach(function(o){r.textIsBracket[o.open.toLowerCase()]=o,r.textIsBracket[o.close.toLowerCase()]=o,r.textIsOpenBracket[o.open.toLowerCase()]=!0,r.textIsOpenBracket[o.close.toLowerCase()]=!1,i=Math.max(i,o.open.length),i=Math.max(i,o.close.length)}),this.maxBracketLength=i}return n}();function e2(n,e){var t={};return function(r){var i=n(r);return t.hasOwnProperty(i)||(t[i]=e(r)),t[i]}}var s2e=e2(function(n){return n.open+";"+n.close},function(n){return t2([n.open,n.close])}),a2e=e2(function(n){return n.open+";"+n.close},function(n){return t2([$b(n.open),$b(n.close)])}),u2e=e2(function(n){return n.map(function(e){return e.open+";"+e.close}).join(";")},function(n){var e=[];return n.forEach(function(t){e.push(t.open),e.push(t.close)}),t2(e)}),l2e=e2(function(n){return n.map(function(e){return e.open+";"+e.close}).join(";")},function(n){var e=[];return n.forEach(function(t){e.push($b(t.open)),e.push($b(t.close))}),t2(e)});function c2e(n){var e=/^[\w]+$/.test(n);return n=Sl(n),e?"\\b"+n+"\\b":n}function t2(n){var e="("+n.map(c2e).join(")|(")+")";return Z4(e,!0)}var $b=function(){function n(r){for(var i="",o=r.length-1;o>=0;o--)i+=r.charAt(o);return i}var e=null,t=null;return function(i){return e!==i&&(e=i,t=n(e)),t}}(),Od=function(){function n(){}return n._findPrevBracketInText=function(e,t,r,i){var o=r.match(e);if(!o)return null;var s=r.length-(o.index||0),a=o[0].length,u=i+s;return new H(t,u-a+1,t,u+1)},n.findPrevBracketInToken=function(e,t,r,i,o){var s=$b(r),a=s.substring(r.length-o,r.length-i);return this._findPrevBracketInText(e,t,a,i)},n.findNextBracketInText=function(e,t,r,i){var o=r.match(e);if(!o)return null;var s=o.index||0,a=o[0].length;if(a===0)return null;var u=i+s;return new H(t,u+1,t,u+1+a)},n.findNextBracketInToken=function(e,t,r,i,o){var s=r.substring(i,o);return this.findNextBracketInText(e,t,s,i)},n}(),f2e=function(){function n(e){this._richEditBrackets=e}return n.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,r=this._richEditBrackets.brackets.length;t<r;t++){var i=this._richEditBrackets.brackets[t],o=i.close.charAt(i.close.length-1);e.push(o)}return e=e.filter(function(s,a,u){return u.indexOf(s)===a}),e},n.prototype.onElectricCharacter=function(e,t,r){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var i=t.findTokenIndexAtOffset(r-1);if(Nd(t.getStandardTokenType(i)))return null;var o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,r-1)+e,a=Od.findPrevBracketInToken(o,1,s,0,s.length);if(!a)return null;var u=s.substring(a.startColumn-1,a.endColumn-1);u=u.toLowerCase();var l=this._richEditBrackets.textIsOpenBracket[u];if(l)return null;var c=s.substring(0,a.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:u}:null},n}(),h2e=function(){function n(e){this._indentationRules=e}return n.prototype.shouldIncrease=function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))},n.prototype.shouldDecrease=function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))},n.prototype.shouldIndentNextLine=function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))},n.prototype.shouldIgnore=function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))},n.prototype.getIndentMetadata=function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t},n}(),d2e=function(){function n(e){var t=this;e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(function(r){var i=n._createOpenBracketRegExp(r[0]),o=n._createCloseBracketRegExp(r[1]);i&&o&&t._brackets.push({open:r[0],openRegExp:i,close:r[1],closeRegExp:o})}),this._regExpRules=e.regExpRules||[]}return n.prototype.onEnter=function(e,t,r){for(var i=0,o=this._regExpRules.length;i<o;i++){var s=this._regExpRules[i],a=[{reg:s.beforeText,text:t},{reg:s.afterText,text:r},{reg:s.oneLineAboveText,text:e}].every(function(l){return l.reg?l.reg.test(l.text):!0});if(a)return s.action}if(t.length>0&&r.length>0)for(var i=0,o=this._brackets.length;i<o;i++){var u=this._brackets[i];if(u.openRegExp.test(t)&&u.closeRegExp.test(r))return{indentAction:$n.IndentOutdent}}if(t.length>0)for(var i=0,o=this._brackets.length;i<o;i++){var u=this._brackets[i];if(u.openRegExp.test(t))return{indentAction:$n.Indent}}return null},n._createOpenBracketRegExp=function(e){var t=Sl(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",n._safeRegExp(t)},n._createCloseBracketRegExp=function(e){var t=Sl(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,n._safeRegExp(t)},n._safeRegExp=function(e){try{return new RegExp(e)}catch(t){return He(t),null}},n}(),p2e=function(){function n(e,t,r){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null;var i=null;t&&(i=t._conf),this._conf=n._mergeConf(i,r),this.onEnter=n._handleOnEnter(this._conf),this.comments=n._handleComments(this._conf),this.characterPair=new mM(this._conf),this.wordDefinition=this._conf.wordPattern||_J,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new h2e(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}return Object.defineProperty(n.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new o2e(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"electricCharacter",{get:function(){return this._electricCharacter||(this._electricCharacter=new f2e(this.brackets)),this._electricCharacter},enumerable:!0,configurable:!0}),n._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,autoCloseBefore:e?t.autoCloseBefore||e.autoCloseBefore:t.autoCloseBefore,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},n._handleOnEnter=function(e){var t={},r=!0;return e.brackets&&(r=!1,t.brackets=e.brackets),e.indentationRules&&(r=!1),e.onEnterRules&&(r=!1,t.regExpRules=e.onEnterRules),r?null:new d2e(t)},n._handleComments=function(e){var t=e.comments;if(!t)return null;var r={};if(t.lineComment&&(r.lineCommentToken=t.lineComment),t.blockComment){var i=t.blockComment,o=i[0],s=i[1];r.blockCommentStartToken=o,r.blockCommentEndToken=s}return r},n}(),Bj=function(){function n(e){this.languageIdentifier=e}return n}(),g2e=function(){function n(){this._entries=new Map,this._onDidChange=new Q,this.onDidChange=this._onDidChange.event}return n.prototype.register=function(e,t){var r=this,i=this._getRichEditSupport(e.id),o=new p2e(e,i,t);return this._entries.set(e.id,o),this._onDidChange.fire(new Bj(e)),bn(function(){r._entries.get(e.id)===o&&(r._entries.set(e.id,i),r._onDidChange.fire(new Bj(e)))})},n.prototype._getRichEditSupport=function(e){return this._entries.get(e)},n.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.electricCharacter||null},n.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]},n.prototype.onElectricCharacter=function(e,t,r){var i=mE(t,r-1),o=this._getElectricCharacterSupport(i.languageId);return o?o.onElectricCharacter(e,i,r-i.firstCharOffset):null},n.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t&&t.comments||null},n.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.characterPair||null},n.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]},n.prototype.getAutoCloseBeforeSet=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():mM.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},n.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]},n.prototype.shouldAutoClosePair=function(e,t,r){var i=mE(t,r-1);return mM.shouldAutoClosePair(e,i,r-i.firstCharOffset)},n.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return yP(t&&t.wordDefinition||null)},n.prototype.getFoldingRules=function(e){var t=this._getRichEditSupport(e);return t?t.foldingRules:{}},n.prototype.getIndentRulesSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null},n.prototype.getPrecedingValidLine=function(e,t,r){var i=e.getLanguageIdAtPosition(t,0);if(t>1){var o=void 0,s=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==i)return s;var a=e.getLineContent(o);if(r.shouldIgnore(a)||/^\s+$/.test(a)||a===""){s=o;continue}return o}}return-1},n.prototype.getInheritIndentForLine=function(e,t,r){r===void 0&&(r=!0);var i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);if(!i)return null;if(t<=1)return{indentation:"",action:null};var o=this.getPrecedingValidLine(e,t,i);if(o<0)return null;if(o<1)return{indentation:"",action:null};var s=e.getLineContent(o);if(i.shouldIncrease(s)||i.shouldIndentNextLine(s))return{indentation:In(s),action:$n.Indent,line:o};if(i.shouldDecrease(s))return{indentation:In(s),action:null,line:o};if(o===1)return{indentation:In(e.getLineContent(o)),action:null,line:o};var a=o-1,u=i.getIndentMetadata(e.getLineContent(a));if(!(u&3)&&u&4){for(var l=0,c=a-1;c>0;c--)if(!i.shouldIndentNextLine(e.getLineContent(c))){l=c;break}return{indentation:In(e.getLineContent(l+1)),action:null,line:l+1}}if(r)return{indentation:In(e.getLineContent(o)),action:null,line:o};for(var c=o;c>0;c--){var d=e.getLineContent(c);if(i.shouldIncrease(d))return{indentation:In(d),action:$n.Indent,line:c};if(i.shouldIndentNextLine(d)){for(var l=0,h=c-1;h>0;h--)if(!i.shouldIndentNextLine(e.getLineContent(c))){l=h;break}return{indentation:In(e.getLineContent(l+1)),action:null,line:l+1}}else if(i.shouldDecrease(d))return{indentation:In(d),action:null,line:c}}return{indentation:In(e.getLineContent(1)),action:null,line:1}},n.prototype.getGoodIndentForLine=function(e,t,r,i){var o=this.getIndentRulesSupport(t);if(!o)return null;var s=this.getInheritIndentForLine(e,r),a=e.getLineContent(r);if(s){var u=s.line;if(u!==void 0){var l=this._getOnEnterSupport(t),c=null;try{l&&(c=l.onEnter("",e.getLineContent(u),""))}catch(h){He(h)}if(c){var d=In(e.getLineContent(u));return c.removeText&&(d=d.substring(0,d.length-c.removeText)),c.indentAction===$n.Indent||c.indentAction===$n.IndentOutdent?d=i.shiftIndent(d):c.indentAction===$n.Outdent&&(d=i.unshiftIndent(d)),o.shouldDecrease(a)&&(d=i.unshiftIndent(d)),c.appendText&&(d+=c.appendText),In(d)}}return o.shouldDecrease(a)?s.action===$n.Indent?s.indentation:i.unshiftIndent(s.indentation):s.action===$n.Indent?i.shiftIndent(s.indentation):s.indentation}return null},n.prototype.getIndentForEnter=function(e,t,r,i){e.forceTokenization(t.startLineNumber);var o=e.getLineTokens(t.startLineNumber),s,a,u=mE(o,t.startColumn-1),l=u.getLineContent(),c=!1;if(u.firstCharOffset>0&&o.getLanguageId(0)!==u.languageId?(c=!0,s=l.substr(0,t.startColumn-1-u.firstCharOffset)):s=o.getLineContent().substring(0,t.startColumn-1),t.isEmpty())a=l.substr(t.startColumn-1-u.firstCharOffset);else{var d=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);a=d.getLineContent().substr(t.endColumn-1-u.firstCharOffset)}var h=this.getIndentRulesSupport(u.languageId);if(!h)return null;var p=s,v=In(s);if(!i&&!c){var m=this.getInheritIndentForLine(e,t.startLineNumber);h.shouldDecrease(s)&&m&&(v=m.indentation,m.action!==$n.Indent&&(v=r.unshiftIndent(v))),p=v+fM(fM(s," "),"	")}var _={getLineTokens:function(A){return e.getLineTokens(A)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(A,S){return e.getLanguageIdAtPosition(A,S)},getLineContent:function(A){return A===t.startLineNumber?p:e.getLineContent(A)}},b=In(o.getLineContent()),C=this.getInheritIndentForLine(_,t.startLineNumber+1);if(!C){var E=c?b:v;return{beforeEnter:E,afterEnter:E}}var T=c?b:C.indentation;return C.action===$n.Indent&&(T=r.shiftIndent(T)),h.shouldDecrease(a)&&(T=r.unshiftIndent(T)),{beforeEnter:c?b:v,afterEnter:T}},n.prototype.getIndentActionForType=function(e,t,r,i){var o=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),s=this.getIndentRulesSupport(o.languageId);if(!s)return null;var a=o.getLineContent(),u=a.substr(0,t.startColumn-1-o.firstCharOffset),l;if(t.isEmpty())l=a.substr(t.startColumn-1-o.firstCharOffset);else{var c=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);l=c.getLineContent().substr(t.endColumn-1-o.firstCharOffset)}if(!s.shouldDecrease(u+l)&&s.shouldDecrease(u+r+l)){var d=this.getInheritIndentForLine(e,t.startLineNumber,!1);if(!d)return null;var h=d.indentation;return d.action!==$n.Indent&&(h=i.unshiftIndent(h)),h}return null},n.prototype.getIndentMetadata=function(e,t){var r=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return!r||t<1||t>e.getLineCount()?null:r.getIndentMetadata(e.getLineContent(t))},n.prototype._getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.onEnter||null},n.prototype.getRawEnterActionAtPosition=function(e,t,r){var i=this.getEnterAction(e,new H(t,r,t,r));return i?i.enterAction:null},n.prototype.getEnterAction=function(e,t){var r=this.getIndentationAtPosition(e,t.startLineNumber,t.startColumn),i=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),o=this._getOnEnterSupport(i.languageId);if(!o)return null;var s=i.getLineContent(),a=s.substr(0,t.startColumn-1-i.firstCharOffset),u;if(t.isEmpty())u=s.substr(t.startColumn-1-i.firstCharOffset);else{var l=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);u=l.getLineContent().substr(t.endColumn-1-i.firstCharOffset)}var c=t.startLineNumber,d="";if(c>1&&i.firstCharOffset===0){var h=this.getScopedLineTokens(e,c-1);h.languageId===i.languageId&&(d=h.getLineContent())}var p=null;try{p=o.onEnter(d,a,u)}catch(v){He(v)}if(p)p.appendText||(p.indentAction===$n.Indent||p.indentAction===$n.IndentOutdent?p.appendText="	":p.appendText="");else return null;return p.removeText&&(r=r.substring(0,r.length-p.removeText)),{enterAction:p,indentation:r}},n.prototype.getIndentationAtPosition=function(e,t,r){var i=e.getLineContent(t),o=In(i);return o.length>r-1&&(o=o.substring(0,r-1)),o},n.prototype.getScopedLineTokens=function(e,t,r){e.forceTokenization(t);var i=e.getLineTokens(t),o=typeof r>"u"?e.getLineMaxColumn(t)-1:r-1,s=mE(i,o);return s},n.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.brackets||null},n}(),Ot=new g2e,mf=function(){function n(e,t,r,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=r,this.modifiedLength=i}return n.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},n.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},n}();function Hj(n){return{getLength:function(){return n.length},getElementAtIndex:function(e){return n.charCodeAt(e)}}}function v2e(n,e,t){return new g6(Hj(n),Hj(e)).ComputeDiff(t)}var tv=function(){function n(){}return n.Assert=function(e,t){if(!e)throw new Error(t)},n}(),nv=function(){function n(){}return n.Copy=function(e,t,r,i,o){for(var s=0;s<o;s++)r[i+s]=e[t+s]},n}(),gd=1447,Vj=function(){function n(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return n.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new mf(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},n.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},n.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},n.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},n.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},n}(),g6=function(){function n(e,t,r){r===void 0&&(r=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=r,this.m_forwardHistory=[],this.m_reverseHistory=[]}return n.prototype.ElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},n.prototype.OriginalElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.OriginalSequence.getElementAtIndex(t)},n.prototype.ModifiedElementsAreEqual=function(e,t){return this.ModifiedSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},n.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)},n.prototype._ComputeDiff=function(e,t,r,i,o){var s=[!1],a=this.ComputeDiffRecursive(e,t,r,i,s);return o?this.PrettifyChanges(a):a},n.prototype.ComputeDiffRecursive=function(e,t,r,i,o){for(o[0]=!1;e<=t&&r<=i&&this.ElementsAreEqual(e,r);)e++,r++;for(;t>=e&&i>=r&&this.ElementsAreEqual(t,i);)t--,i--;if(e>t||r>i){var s=void 0;return r<=i?(tv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),s=[new mf(e,0,r,i-r+1)]):e<=t?(tv.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),s=[new mf(e,t-e+1,r,0)]):(tv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),tv.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),s=[]),s}var a=[0],u=[0],l=this.ComputeRecursionPoint(e,t,r,i,a,u,o),c=a[0],d=u[0];if(l!==null)return l;if(!o[0]){var h=this.ComputeDiffRecursive(e,c,r,d,o),p=[];return o[0]?p=[new mf(c+1,t-(c+1)+1,d+1,i-(d+1)+1)]:p=this.ComputeDiffRecursive(c+1,t,d+1,i,o),this.ConcatenateChanges(h,p)}return[new mf(e,t-e+1,r,i-r+1)]},n.prototype.WALKTRACE=function(e,t,r,i,o,s,a,u,l,c,d,h,p,v,m,_,b,C){var E=null,T=null,A=new Vj,S=t,N=r,k=p[0]-_[0]-i,F=Number.MIN_VALUE,L=this.m_forwardHistory.length-1,O;do O=k+e,O===S||O<N&&l[O-1]<l[O+1]?(d=l[O+1],v=d-k-i,d<F&&A.MarkNextChange(),F=d,A.AddModifiedElement(d+1,v),k=O+1-e):(d=l[O-1]+1,v=d-k-i,d<F&&A.MarkNextChange(),F=d-1,A.AddOriginalElement(d,v+1),k=O-1-e),L>=0&&(l=this.m_forwardHistory[L],e=l[0],S=1,N=l.length-1);while(--L>=-1);if(E=A.getReverseChanges(),C[0]){var P=p[0]+1,B=_[0]+1;if(E!==null&&E.length>0){var U=E[E.length-1];P=Math.max(P,U.getOriginalEnd()),B=Math.max(B,U.getModifiedEnd())}T=[new mf(P,h-P+1,B,m-B+1)]}else{A=new Vj,S=s,N=a,k=p[0]-_[0]-u,F=Number.MAX_VALUE,L=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do O=k+o,O===S||O<N&&c[O-1]>=c[O+1]?(d=c[O+1]-1,v=d-k-u,d>F&&A.MarkNextChange(),F=d+1,A.AddOriginalElement(d+1,v+1),k=O+1-o):(d=c[O-1],v=d-k-u,d>F&&A.MarkNextChange(),F=d,A.AddModifiedElement(d+1,v+1),k=O-1-o),L>=0&&(c=this.m_reverseHistory[L],o=c[0],S=1,N=c.length-1);while(--L>=-1);T=A.getChanges()}return this.ConcatenateChanges(E,T)},n.prototype.ComputeRecursionPoint=function(e,t,r,i,o,s,a){var u=0,l=0,c=0,d=0,h=0,p=0,v;e--,r--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var m=t-e+(i-r),_=m+1,b=new Array(_),C=new Array(_),E=i-r,T=t-e,A=e-r,S=t-i,N=T-E,k=N%2===0;b[E]=e,C[T]=t,a[0]=!1;var F,L;for(v=1;v<=m/2+1;v++){var O=0,P=0;for(c=this.ClipDiagonalBound(E-v,v,E,_),d=this.ClipDiagonalBound(E+v,v,E,_),F=c;F<=d;F+=2){for(F===c||F<d&&b[F-1]<b[F+1]?u=b[F+1]:u=b[F-1]+1,l=u-(F-E)-A,L=u;u<t&&l<i&&this.ElementsAreEqual(u+1,l+1);)u++,l++;if(b[F]=u,u+l>O+P&&(O=u,P=l),!k&&Math.abs(F-T)<=v-1&&u>=C[F])return o[0]=u,s[0]=l,L<=C[F]&&gd>0&&v<=gd+1?this.WALKTRACE(E,c,d,A,T,h,p,S,b,C,u,t,o,l,i,s,k,a):null}var B=(O-e+(P-r)-v)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(O,this.OriginalSequence,B))return a[0]=!0,o[0]=O,s[0]=P,B>0&&gd>0&&v<=gd+1?this.WALKTRACE(E,c,d,A,T,h,p,S,b,C,u,t,o,l,i,s,k,a):(e++,r++,[new mf(e,t-e+1,r,i-r+1)]);for(h=this.ClipDiagonalBound(T-v,v,T,_),p=this.ClipDiagonalBound(T+v,v,T,_),F=h;F<=p;F+=2){for(F===h||F<p&&C[F-1]>=C[F+1]?u=C[F+1]-1:u=C[F-1],l=u-(F-T)-S,L=u;u>e&&l>r&&this.ElementsAreEqual(u,l);)u--,l--;if(C[F]=u,k&&Math.abs(F-E)<=v&&u<=b[F])return o[0]=u,s[0]=l,L>=b[F]&&gd>0&&v<=gd+1?this.WALKTRACE(E,c,d,A,T,h,p,S,b,C,u,t,o,l,i,s,k,a):null}if(v<=gd){var U=new Array(d-c+2);U[0]=E-c+1,nv.Copy(b,c,U,1,d-c+1),this.m_forwardHistory.push(U),U=new Array(p-h+2),U[0]=T-h+1,nv.Copy(C,h,U,1,p-h+1),this.m_reverseHistory.push(U)}}return this.WALKTRACE(E,c,d,A,T,h,p,S,b,C,u,t,o,l,i,s,k,a)},n.prototype.PrettifyChanges=function(e){for(var t=0;t<e.length;t++){for(var r=e[t],i=t<e.length-1?e[t+1].originalStart:this.OriginalSequence.getLength(),o=t<e.length-1?e[t+1].modifiedStart:this.ModifiedSequence.getLength(),s=r.originalLength>0,a=r.modifiedLength>0;r.originalStart+r.originalLength<i&&r.modifiedStart+r.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!a||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));)r.originalStart++,r.modifiedStart++;var u=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],u)){e[t]=u[0],e.splice(t+1,1),t--;continue}}for(var t=e.length-1;t>=0;t--){var r=e[t],i=0,o=0;if(t>0){var l=e[t-1];l.originalLength>0&&(i=l.originalStart+l.originalLength),l.modifiedLength>0&&(o=l.modifiedStart+l.modifiedLength)}for(var s=r.originalLength>0,a=r.modifiedLength>0,c=0,d=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength),h=1;;h++){var p=r.originalStart-h,v=r.modifiedStart-h;if(p<i||v<o||s&&!this.OriginalElementsAreEqual(p,p+r.originalLength)||a&&!this.ModifiedElementsAreEqual(v,v+r.modifiedLength))break;var m=this._boundaryScore(p,r.originalLength,v,r.modifiedLength);m>d&&(d=m,c=h)}r.originalStart-=c,r.modifiedStart-=c}return e},n.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1)return!0;var t=this.OriginalSequence.getElementAtIndex(e);return typeof t=="string"&&/^\s*$/.test(t)},n.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var r=e+t;if(this._OriginalIsBoundary(r-1)||this._OriginalIsBoundary(r))return!0}return!1},n.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1)return!0;var t=this.ModifiedSequence.getElementAtIndex(e);return typeof t=="string"&&/^\s*$/.test(t)},n.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var r=e+t;if(this._ModifiedIsBoundary(r-1)||this._ModifiedIsBoundary(r))return!0}return!1},n.prototype._boundaryScore=function(e,t,r,i){var o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(r,i)?1:0;return o+s},n.prototype.ConcatenateChanges=function(e,t){var r=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],r)){var i=new Array(e.length+t.length-1);return nv.Copy(e,0,i,0,e.length-1),i[e.length-1]=r[0],nv.Copy(t,1,i,e.length,t.length-1),i}else{var i=new Array(e.length+t.length);return nv.Copy(e,0,i,0,e.length),nv.Copy(t,0,i,e.length,t.length),i}},n.prototype.ChangesOverlap=function(e,t,r){if(tv.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),tv.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var i=e.originalStart,o=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),r[0]=new mf(i,o,s,a),!0}else return r[0]=null,!1},n.prototype.ClipDiagonalBound=function(e,t,r,i){if(e>=0&&e<i)return e;var o=r,s=i-r-1,a=t%2===0;if(e<0){var u=o%2===0;return a===u?0:1}else{var l=s%2===0;return a===l?i-1:i-2}},n}(),m2e=5e3,_2e=3;function see(n,e,t,r){var i=new g6(n,e,t);return i.ComputeDiff(r)}var rv=function(){function n(e){for(var t=[],r=[],i=0,o=e.length;i<o;i++)t[i]=n._getFirstNonBlankColumn(e[i],1),r[i]=n._getLastNonBlankColumn(e[i],1);this._lines=e,this._startColumns=t,this._endColumns=r}return n.prototype.getLength=function(){return this._lines.length},n.prototype.getElementAtIndex=function(e){return this._lines[e].substring(this._startColumns[e]-1,this._endColumns[e]-1)},n.prototype.getStartLineNumber=function(e){return e+1},n.prototype.getEndLineNumber=function(e){return e+1},n._getFirstNonBlankColumn=function(e,t){var r=Ss(e);return r===-1?t:r+1},n._getLastNonBlankColumn=function(e,t){var r=Lh(e);return r===-1?t:r+2},n.prototype.getCharSequence=function(e,t,r){for(var i=[],o=[],s=[],a=0,u=t;u<=r;u++)for(var l=this._lines[u],c=e?this._startColumns[u]:1,d=e?this._endColumns[u]:l.length+1,h=c;h<d;h++)i[a]=l.charCodeAt(h-1),o[a]=u+1,s[a]=h,a++;return new y2e(i,o,s)},n}(),y2e=function(){function n(e,t,r){this._charCodes=e,this._lineNumbers=t,this._columns=r}return n.prototype.getLength=function(){return this._charCodes.length},n.prototype.getElementAtIndex=function(e){return this._charCodes[e]},n.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]},n.prototype.getStartColumn=function(e){return this._columns[e]},n.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]},n.prototype.getEndColumn=function(e){return this._columns[e]+1},n}(),_M=function(){function n(e,t,r,i,o,s,a,u){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=r,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=u}return n.createFromDiffChange=function(e,t,r){var i,o,s,a,u,l,c,d;return e.originalLength===0?(i=0,o=0,s=0,a=0):(i=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(u=0,l=0,c=0,d=0):(u=r.getStartLineNumber(e.modifiedStart),l=r.getStartColumn(e.modifiedStart),c=r.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=r.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new n(i,o,s,a,u,l,c,d)},n}();function b2e(n){if(n.length<=1)return n;for(var e=[n[0]],t=e[0],r=1,i=n.length;r<i;r++){var o=n[r],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength),u=Math.min(s,a);u<_2e?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}var bO=function(){function n(e,t,r,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=r,this.modifiedEndLineNumber=i,this.charChanges=o}return n.createFromDiffResult=function(e,t,r,i,o,s,a){var u,l,c,d,h=void 0;if(t.originalLength===0?(u=r.getStartLineNumber(t.originalStart)-1,l=0):(u=r.getStartLineNumber(t.originalStart),l=r.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(c=i.getStartLineNumber(t.modifiedStart)-1,d=0):(c=i.getStartLineNumber(t.modifiedStart),d=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength!==0&&t.modifiedLength!==0&&o()){var p=r.getCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),v=i.getCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1),m=see(p,v,o,!0);a&&(m=b2e(m)),h=[];for(var _=0,b=m.length;_<b;_++)h.push(_M.createFromDiffChange(m[_],p,v))}return new n(u,l,c,d,h)},n}(),C2e=function(){function n(e,t,r){this.shouldComputeCharChanges=r.shouldComputeCharChanges,this.shouldPostProcessCharChanges=r.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=r.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=r.shouldMakePrettyDiff,this.maximumRunTimeMs=m2e,this.originalLines=e,this.modifiedLines=t,this.original=new rv(e),this.modified=new rv(t),this.computationStartTime=new Date().getTime()}return n.prototype.computeDiff=function(){if(this.original.getLength()===1&&this.original.getElementAtIndex(0).length===0)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(this.modified.getLength()===1&&this.modified.getElementAtIndex(0).length===0)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=new Date().getTime();var e=see(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var t=[],r=0,i=e.length;r<i;r++)t.push(bO.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[r],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return t}for(var o=[],s=0,a=0,r=-1,u=e.length;r<u;r++){for(var l=r+1<u?e[r+1]:null,c=l?l.originalStart:this.originalLines.length,d=l?l.modifiedStart:this.modifiedLines.length;s<c&&a<d;){var h=this.originalLines[s],p=this.modifiedLines[a];if(h!==p){{for(var v=rv._getFirstNonBlankColumn(h,1),m=rv._getFirstNonBlankColumn(p,1);v>1&&m>1;){var _=h.charCodeAt(v-2),b=p.charCodeAt(m-2);if(_!==b)break;v--,m--}(v>1||m>1)&&this._pushTrimWhitespaceCharChange(o,s+1,1,v,a+1,1,m)}{for(var C=rv._getLastNonBlankColumn(h,1),E=rv._getLastNonBlankColumn(p,1),T=h.length+1,A=p.length+1;C<T&&E<A;){var _=h.charCodeAt(C-1),b=h.charCodeAt(E-1);if(_!==b)break;C++,E++}(C<T||E<A)&&this._pushTrimWhitespaceCharChange(o,s+1,C,T,a+1,E,A)}}s++,a++}l&&(o.push(bO.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=l.originalLength,a+=l.modifiedLength)}return o},n.prototype._pushTrimWhitespaceCharChange=function(e,t,r,i,o,s,a){if(!this._mergeTrimWhitespaceCharChange(e,t,r,i,o,s,a)){var u=void 0;this.shouldComputeCharChanges&&(u=[new _M(t,r,t,i,o,s,o,a)]),e.push(new bO(t,t,o,o,u))}},n.prototype._mergeTrimWhitespaceCharChange=function(e,t,r,i,o,s,a){var u=e.length;if(u===0)return!1;var l=e[u-1];return l.originalEndLineNumber===0||l.modifiedEndLineNumber===0?!1:l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o?(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges.push(new _M(t,r,t,i,o,s,o,a)),!0):!1},n.prototype._continueProcessingPredicate=function(){if(this.maximumRunTimeMs===0)return!0;var e=new Date().getTime();return e-this.computationStartTime<this.maximumRunTimeMs},n}(),w2e=function(){function n(e,t,r){for(var i=new Uint8Array(e*t),o=0,s=e*t;o<s;o++)i[o]=r;this._data=i,this.rows=e,this.cols=t}return n.prototype.get=function(e,t){return this._data[e*this.cols+t]},n.prototype.set=function(e,t,r){this._data[e*this.cols+t]=r},n}();function Wj(n){return n<0?0:n>255?255:n|0}function kd(n){return n<0?0:n>4294967295?4294967295:n|0}function E2e(n){for(var e=n.length,t=new Uint32Array(e),r=0;r<e;r++)t[r]=kd(n[r]);return t}var S2e=function(){function n(e,t){this.index=e,this.remainder=t}return n}(),v6=function(){function n(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return n.prototype.getCount=function(){return this.values.length},n.prototype.insertValues=function(e,t){e=kd(e);var r=this.values,i=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(r.length+o),this.values.set(r.subarray(0,e),0),this.values.set(r.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},n.prototype.changeValue=function(e,t){return e=kd(e),t=kd(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},n.prototype.removeValues=function(e,t){e=kd(e),t=kd(t);var r=this.values,i=this.prefixSum;if(e>=r.length)return!1;var o=r.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(r.length-t),this.values.set(r.subarray(0,e),0),this.values.set(r.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},n.prototype.getTotalValue=function(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)},n.prototype.getAccumulatedValue=function(e){return e<0?0:(e=kd(e),this._getAccumulatedValue(e))},n.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var r=t;r<=e;r++)this.prefixSum[r]=this.prefixSum[r-1]+this.values[r];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},n.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t=0,r=this.values.length-1,i=0,o=0,s=0;t<=r;)if(i=t+(r-t)/2|0,o=this.prefixSum[i],s=o-this.values[i],e<s)r=i-1;else if(e>=o)t=i+1;else break;return new S2e(i,e-s)},n}(),T2e=function(){function n(e){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new v6(e),this._bustCache()}return n.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},n.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()},n.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()},n.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()},n.prototype.getTotalValue=function(){return this._actual.getTotalValue()},n.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)},n.prototype.getIndexOf=function(e){if(e=Math.floor(e),this._cache!==null){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)},n.prototype.warmUpCache=function(e,t){for(var r=[],i=e;i<=t;i++)r[i-e]=this.getIndexOf(i);this._cache=r,this._cacheAccumulatedValueStart=e},n}(),D2e=function(){function n(e,t,r,i){this._uri=e,this._lines=t,this._eol=r,this._versionId=i,this._lineStarts=null}return n.prototype.dispose=function(){this._lines.length=0},n.prototype.getText=function(){return this._lines.join(this._eol)},n.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,r=0,i=t;r<i.length;r++){var o=i[r];this._acceptDeleteRange(o.range),this._acceptInsertText(new J(o.range.startLineNumber,o.range.startColumn),o.text)}this._versionId=e.versionId},n.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,r=new Uint32Array(t),i=0;i<t;i++)r[i]=this._lines[i].length+e;this._lineStarts=new v6(r)}},n.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},n.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)},n.prototype._acceptInsertText=function(e,t){if(t.length!==0){var r=t.split(/\r\n|\r|\n/);if(r.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}r[r.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]);for(var i=new Uint32Array(r.length-1),o=1;o<r.length;o++)this._lines.splice(e.lineNumber+o-1,0,r[o]),i[o-1]=r[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}},n}(),n2=function(){function n(e){var t=Wj(e);this._defaultValue=t,this._asciiMap=n._createAsciiMap(t),this._map=new Map}return n._createAsciiMap=function(e){for(var t=new Uint8Array(256),r=0;r<256;r++)t[r]=e;return t},n.prototype.set=function(e,t){var r=Wj(t);e>=0&&e<256?this._asciiMap[e]=r:this._map.set(e,r)},n.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},n}(),Ov=function(){function n(){this._actual=new n2(0)}return n.prototype.add=function(e){this._actual.set(e,1)},n.prototype.has=function(e){return this._actual.get(e)===1},n}(),A2e=function(){function n(e){for(var t=0,r=0,i=0,o=e.length;i<o;i++){var s=e[i],a=s[0],u=s[1],l=s[2];u>t&&(t=u),a>r&&(r=a),l>r&&(r=l)}t++,r++;for(var c=new w2e(r,t,0),i=0,o=e.length;i<o;i++){var d=e[i],a=d[0],u=d[1],l=d[2];c.set(a,u,l)}this._states=c,this._maxCharCode=t}return n.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},n}(),CO=null;function I2e(){return CO===null&&(CO=new A2e([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),CO}var G0=null;function x2e(){if(G0===null){G0=new n2(0);for(var n=` 	<>'"`,e=0;e<n.length;e++)G0.set(n.charCodeAt(e),1);for(var t=".,;",e=0;e<t.length;e++)G0.set(t.charCodeAt(e),2)}return G0}var L2e=function(){function n(){}return n._createLink=function(e,t,r,i,o){var s=o-1;do{var a=t.charCodeAt(s),u=e.get(a);if(u!==2)break;s--}while(s>i);if(i>0){var l=t.charCodeAt(i-1),c=t.charCodeAt(s);(l===40&&c===41||l===91&&c===93||l===123&&c===125)&&s--}return{range:{startLineNumber:r,startColumn:i+1,endLineNumber:r,endColumn:s+2},url:t.substring(i,s+1)}},n.computeLinks=function(e,t){t===void 0&&(t=I2e());for(var r=x2e(),i=[],o=1,s=e.getLineCount();o<=s;o++){for(var a=e.getLineContent(o),u=a.length,l=0,c=0,d=0,h=1,p=!1,v=!1,m=!1;l<u;){var _=!1,b=a.charCodeAt(l);if(h===13){var C=void 0;switch(b){case 40:p=!0,C=0;break;case 41:C=p?0:1;break;case 91:v=!0,C=0;break;case 93:C=v?0:1;break;case 123:m=!0,C=0;break;case 125:C=m?0:1;break;case 39:C=d===34||d===96?0:1;break;case 34:C=d===39||d===96?0:1;break;case 96:C=d===39||d===34?0:1;break;default:C=r.get(b)}C===1&&(i.push(n._createLink(r,a,o,c,l)),_=!0)}else if(h===12){var C=void 0;b===91?(v=!0,C=0):C=r.get(b),C===1?_=!0:h=13}else h=t.nextState(h,b),h===0&&(_=!0);_&&(h=1,p=!1,v=!1,m=!1,c=l+1,d=b),l++}h===13&&i.push(n._createLink(r,a,o,c,u))}return i},n}();function N2e(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:L2e.computeLinks(n)}var O2e=function(){function n(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return n.prototype.navigateValueSet=function(e,t,r,i,o){if(e&&t){var s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(r&&i){var s=this.doNavigateValueSet(i,o);if(s)return{range:r,value:s}}return null},n.prototype.doNavigateValueSet=function(e,t){var r=this.numberReplace(e,t);return r!==null?r:this.textReplace(e,t)},n.prototype.numberReplace=function(e,t){var r=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return!isNaN(i)&&!isNaN(o)&&i===o?i===0&&!t?null:(i=Math.floor(i*r),i+=t?r:-r,String(i/r)):null},n.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},n.prototype.valueSetsReplace=function(e,t,r){for(var i=null,o=0,s=e.length;i===null&&o<s;o++)i=this.valueSetReplace(e[o],t,r);return i},n.prototype.valueSetReplace=function(e,t,r){var i=e.indexOf(t);return i>=0?(i+=r?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null},n.INSTANCE=new n,n}(),k2e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),R2e=function(n){k2e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),e.prototype.getValue=function(){return this.getText()},e.prototype.getLinesContent=function(){return this._lines.slice(0)},e.prototype.getLineCount=function(){return this._lines.length},e.prototype.getLineContent=function(t){return this._lines[t-1]},e.prototype.getWordAtPosition=function(t,r){var i=bP(t.column,yP(r),this._lines[t.lineNumber-1],0);return i?new H(t.lineNumber,i.startColumn,t.lineNumber,i.endColumn):null},e.prototype.getWordUntilPosition=function(t,r){var i=this.getWordAtPosition(t,r);return i?{word:this._lines[t.lineNumber-1].substring(i.startColumn-1,t.column-1),startColumn:i.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}},e.prototype.createWordIterator=function(t){var r=this,i,o=0,s,a=0,u=[],l=function(){if(a<u.length){var c=s.substring(u[a].start,u[a].end);return a+=1,i?i.value=c:i={done:!1,value:c},i}else return o>=r._lines.length?Sf:(s=r._lines[o],u=r._wordenize(s,t),a=0,o+=1,l())};return{next:l}},e.prototype.getLineWords=function(t,r){for(var i=this._lines[t-1],o=this._wordenize(i,r),s=[],a=0,u=o;a<u.length;a++){var l=u[a];s.push({word:i.substring(l.start,l.end),startColumn:l.start+1,endColumn:l.end+1})}return s},e.prototype._wordenize=function(t,r){var i=[],o;for(r.lastIndex=0;(o=r.exec(t))&&o[0].length!==0;)i.push({start:o.index,end:o.index+o[0].length});return i},e.prototype.getValueInRange=function(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);var r=this._eol,i=t.startLineNumber-1,o=t.endLineNumber-1,s=[];s.push(this._lines[i].substring(t.startColumn-1));for(var a=i+1;a<o;a++)s.push(this._lines[a]);return s.push(this._lines[o].substring(0,t.endColumn-1)),s.join(r)},e.prototype.offsetAt=function(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)},e.prototype.positionAt=function(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();var r=this._lineStarts.getIndexOf(t),i=this._lines[r.index].length;return{lineNumber:1+r.index,column:1+Math.min(r.remainder,i)}},e.prototype._validateRange=function(t){var r=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),i=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return r.lineNumber!==t.startLineNumber||r.column!==t.startColumn||i.lineNumber!==t.endLineNumber||i.column!==t.endColumn?{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:i.lineNumber,endColumn:i.column}:t},e.prototype._validatePosition=function(t){if(!J.isIPosition(t))throw new Error("bad position");var r=t.lineNumber,i=t.column,o=!1;if(r<1)r=1,i=1,o=!0;else if(r>this._lines.length)r=this._lines.length,i=this._lines[r-1].length+1,o=!0;else{var s=this._lines[r-1].length+1;i<1?(i=1,o=!0):i>s&&(i=s,o=!0)}return o?{lineNumber:r,column:i}:t},e}(D2e),Uj=function(){function n(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}return n.prototype.dispose=function(){this._models=Object.create(null)},n.prototype._getModel=function(e){return this._models[e]},n.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(r){return t.push(e._models[r])}),t},n.prototype.acceptNewModel=function(e){this._models[e.url]=new R2e(Ft.parse(e.url),e.lines,e.EOL,e.versionId)},n.prototype.acceptModelChanged=function(e,t){if(this._models[e]){var r=this._models[e];r.onEvents(t)}},n.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},n.prototype.computeDiff=function(e,t,r){var i=this._getModel(e),o=this._getModel(t);if(!i||!o)return Promise.resolve(null);var s=i.getLinesContent(),a=o.getLinesContent(),u=new C2e(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:r,shouldMakePrettyDiff:!0}),l=u.computeDiff(),c=l.length>0?!1:this._modelsAreIdentical(i,o);return Promise.resolve({identical:c,changes:l})},n.prototype._modelsAreIdentical=function(e,t){var r=e.getLineCount(),i=t.getLineCount();if(r!==i)return!1;for(var o=1;o<=r;o++){var s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0},n.prototype.computeMoreMinimalEdits=function(e,t){var r=this._getModel(e);if(!r)return Promise.resolve(t);var i=[],o=void 0;t=jA(t,function(A,S){if(A.range&&S.range)return H.compareRangesUsingStarts(A.range,S.range);var N=A.range?0:1,k=S.range?0:1;return N-k});for(var s=0,a=t;s<a.length;s++){var u=a[s],l=u.range,c=u.text,d=u.eol;if(typeof d=="number"&&(o=d),!(H.isEmpty(l)&&!c)){var h=r.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,r.eol),h!==c){if(Math.max(c.length,h.length)>n._diffLimit){i.push({range:l,text:c});continue}for(var p=v2e(h,c,!1),v=r.offsetAt(H.lift(l).getStartPosition()),m=0,_=p;m<_.length;m++){var b=_[m],C=r.positionAt(v+b.originalStart),E=r.positionAt(v+b.originalStart+b.originalLength),T={text:c.substr(b.modifiedStart,b.modifiedLength),range:{startLineNumber:C.lineNumber,startColumn:C.column,endLineNumber:E.lineNumber,endColumn:E.column}};r.getValueInRange(T.range)!==T.text&&i.push(T)}}}}return typeof o=="number"&&i.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Promise.resolve(i)},n.prototype.computeLinks=function(e){var t=this._getModel(e);return t?Promise.resolve(N2e(t)):Promise.resolve(null)},n.prototype.textualSuggest=function(e,t,r,i){var o=this._getModel(e);if(!o)return Promise.resolve(null);var s=Object.create(null),a=[],u=new RegExp(r,i),l=o.getWordUntilPosition(t,u),c=o.getWordAtPosition(t,u);c&&(s[o.getValueInRange(c)]=!0);for(var d=o.createWordIterator(u),h=d.next();!h.done&&a.length<=n._suggestionsLimit;h=d.next()){var p=h.value;s[p]||(s[p]=!0,isNaN(Number(p))&&a.push({kind:18,label:p,insertText:p,range:{startLineNumber:t.lineNumber,startColumn:l.startColumn,endLineNumber:t.lineNumber,endColumn:l.endColumn}}))}return Promise.resolve({suggestions:a})},n.prototype.computeWordRanges=function(e,t,r,i){var o=this._getModel(e);if(!o)return Promise.resolve(Object.create(null));for(var s=new RegExp(r,i),a=Object.create(null),u=t.startLineNumber;u<t.endLineNumber;u++)for(var l=o.getLineWords(u,s),c=0,d=l;c<d.length;c++){var h=d[c];if(isNaN(Number(h.word))){var p=a[h.word];p||(p=[],a[h.word]=p),p.push({startLineNumber:u,startColumn:h.startColumn,endLineNumber:u,endColumn:h.endColumn})}}return Promise.resolve(a)},n.prototype.navigateValueSet=function(e,t,r,i,o){var s=this._getModel(e);if(!s)return Promise.resolve(null);var a=new RegExp(i,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var u=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!l)return Promise.resolve(null);var c=s.getValueInRange(l),d=O2e.INSTANCE.navigateValueSet(t,u,l,c,r);return Promise.resolve(d)},n.prototype.loadForeignModule=function(e,t,r){var i=this,o=function(u,l){return i._host.fhr(u,l)},s=hJ(r,o),a={host:s,getMirrorModels:function(){return i._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(a,t),Promise.resolve(H4(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))},n.prototype.fmr=function(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(r){return Promise.reject(r)}},n._diffLimit=1e5,n._suggestionsLimit=1e4,n}();typeof importScripts=="function"&&(ys.monaco=AJ());var aee=qt("textResourceConfigurationService"),uee=qt("textResourcePropertiesService"),m6=qt("logService"),P2e=function(){function n(){}return n.prototype.trace=function(e){},n.prototype.error=function(e){},n.prototype.dispose=function(){},n}(),M2e=ys.performance&&typeof ys.performance.now=="function",_6=function(){function n(e){this._highResolution=M2e&&e,this._startTime=this._now(),this._stopTime=-1}return n.create=function(e){return e===void 0&&(e=!0),new n(e)},n.prototype.stop=function(){this._stopTime=this._now()},n.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime},n.prototype._now=function(){return this._highResolution?ys.performance.now():new Date().getTime()},n}(),r2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F2e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wO=function(n,e){return function(t,r){e(t,r,n)}},jj=60*1e3,qj=5*60*1e3;function Rd(n,e){var t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}var B2e=function(n){r2(e,n);function e(t,r,i){var o=n.call(this)||this;return o._modelService=t,o._workerManager=o._register(new V2e(o._modelService)),o._logService=i,o._register(Gb.register("*",{provideLinks:function(s,a){return Rd(o._modelService,s.uri)?o._workerManager.withWorker().then(function(u){return u.computeLinks(s.uri)}).then(function(u){return u&&{links:u}}):Promise.resolve({links:[]})}})),o._register(rl.register("*",new H2e(o._workerManager,r,o._modelService))),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.canComputeDiff=function(t,r){return Rd(this._modelService,t)&&Rd(this._modelService,r)},e.prototype.computeDiff=function(t,r,i){return this._workerManager.withWorker().then(function(o){return o.computeDiff(t,r,i)})},e.prototype.computeMoreMinimalEdits=function(t,r){var i=this;if(ts(r)){if(!Rd(this._modelService,t))return Promise.resolve(r);var o=_6.create(!0),s=this._workerManager.withWorker().then(function(a){return a.computeMoreMinimalEdits(t,r)});return s.finally(function(){return i._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),o.elapsed())}),s}else return Promise.resolve(void 0)},e.prototype.canNavigateValueSet=function(t){return Rd(this._modelService,t)},e.prototype.navigateValueSet=function(t,r,i){return this._workerManager.withWorker().then(function(o){return o.navigateValueSet(t,r,i)})},e.prototype.canComputeWordRanges=function(t){return Rd(this._modelService,t)},e.prototype.computeWordRanges=function(t,r){return this._workerManager.withWorker().then(function(i){return i.computeWordRanges(t,r)})},e=F2e([wO(0,is),wO(1,aee),wO(2,m6)],e),e}(fe),H2e=function(){function n(e,t,r){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=r}return n.prototype.provideCompletionItems=function(e,t){var r=this._configurationService.getValue(e.uri,t,"editor").wordBasedSuggestions;if(r&&Rd(this._modelService,e.uri))return this._workerManager.withWorker().then(function(i){return i.textualSuggest(e.uri,t)})},n}(),V2e=function(n){r2(e,n);function e(t){var r=n.call(this)||this;r._modelService=t,r._editorWorkerClient=null,r._lastWorkerUsedTime=new Date().getTime();var i=r._register(new E_);return i.cancelAndSet(function(){return r._checkStopIdleWorker()},Math.round(qj/2)),r._register(r._modelService.onModelRemoved(function(o){return r._checkStopEmptyWorker()})),r}return e.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),n.prototype.dispose.call(this)},e.prototype._checkStopEmptyWorker=function(){if(this._editorWorkerClient){var t=this._modelService.getModels();t.length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},e.prototype._checkStopIdleWorker=function(){if(this._editorWorkerClient){var t=new Date().getTime()-this._lastWorkerUsedTime;t>qj&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},e.prototype.withWorker=function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new lee(this._modelService,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},e}(fe),W2e=function(n){r2(e,n);function e(t,r,i){var o=n.call(this)||this;if(o._syncedModels=Object.create(null),o._syncedModelsLastUsedTime=Object.create(null),o._proxy=t,o._modelService=r,!i){var s=new E_;s.cancelAndSet(function(){return o._checkStopModelSync()},Math.round(jj/2)),o._register(s)}return o}return e.prototype.dispose=function(){for(var t in this._syncedModels)nt(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),n.prototype.dispose.call(this)},e.prototype.ensureSyncedResources=function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r],s=o.toString();this._syncedModels[s]||this._beginModelSync(o),this._syncedModels[s]&&(this._syncedModelsLastUsedTime[s]=new Date().getTime())}},e.prototype._checkStopModelSync=function(){var t=new Date().getTime(),r=[];for(var i in this._syncedModelsLastUsedTime){var o=t-this._syncedModelsLastUsedTime[i];o>jj&&r.push(i)}for(var s=0,a=r;s<a.length;s++){var u=a[s];this._stopModelSync(u)}},e.prototype._beginModelSync=function(t){var r=this,i=this._modelService.getModel(t);if(i&&!i.isTooLargeForSyncing()){var o=t.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});var s=new Be;s.add(i.onDidChangeContent(function(a){r._proxy.acceptModelChanged(o.toString(),a)})),s.add(i.onWillDispose(function(){r._stopModelSync(o)})),s.add(bn(function(){r._proxy.acceptRemovedModel(o)})),this._syncedModels[o]=s}},e.prototype._stopModelSync=function(t){var r=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],nt(r)},e}(fe),zj=function(){function n(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}return n.prototype.dispose=function(){this._instance.dispose()},n.prototype.getProxyObject=function(){return this._proxyObj},n}(),EO=function(){function n(e){this._workerClient=e}return n.prototype.fhr=function(e,t){return this._workerClient.fhr(e,t)},n}(),lee=function(n){r2(e,n);function e(t,r){var i=n.call(this)||this;return i._modelService=t,i._workerFactory=new n2e(r),i._worker=null,i._modelManager=null,i}return e.prototype.fhr=function(t,r){throw new Error("Not implemented!")},e.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new ZAe(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new EO(this)))}catch(t){vM(t),this._worker=new zj(new Uj(new EO(this),null))}return this._worker},e.prototype._getProxy=function(){var t=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(r){return vM(r),t._worker=new zj(new Uj(new EO(t),null)),t._getOrCreateWorker().getProxyObject()})},e.prototype._getOrCreateModelManager=function(t){return this._modelManager||(this._modelManager=this._register(new W2e(t,this._modelService,!1))),this._modelManager},e.prototype._withSyncedResources=function(t){var r=this;return this._getProxy().then(function(i){return r._getOrCreateModelManager(i).ensureSyncedResources(t),i})},e.prototype.computeDiff=function(t,r,i){return this._withSyncedResources([t,r]).then(function(o){return o.computeDiff(t.toString(),r.toString(),i)})},e.prototype.computeMoreMinimalEdits=function(t,r){return this._withSyncedResources([t]).then(function(i){return i.computeMoreMinimalEdits(t.toString(),r)})},e.prototype.computeLinks=function(t){return this._withSyncedResources([t]).then(function(r){return r.computeLinks(t.toString())})},e.prototype.textualSuggest=function(t,r){var i=this;return this._withSyncedResources([t]).then(function(o){var s=i._modelService.getModel(t);if(!s)return null;var a=Ot.getWordDefinition(s.getLanguageIdentifier().id),u=a.source,l=pO(a);return o.textualSuggest(t.toString(),r,u,l)})},e.prototype.computeWordRanges=function(t,r){var i=this;return this._withSyncedResources([t]).then(function(o){var s=i._modelService.getModel(t);if(!s)return Promise.resolve(null);var a=Ot.getWordDefinition(s.getLanguageIdentifier().id),u=a.source,l=pO(a);return o.computeWordRanges(t.toString(),r,u,l)})},e.prototype.navigateValueSet=function(t,r,i){var o=this;return this._withSyncedResources([t]).then(function(s){var a=o._modelService.getModel(t);if(!a)return null;var u=Ot.getWordDefinition(a.getLanguageIdentifier().id),l=u.source,c=pO(u);return s.navigateValueSet(t.toString(),r,i,l,c)})},e}(fe),U2e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function j2e(n,e){return new q2e(n,e)}var q2e=function(n){U2e(e,n);function e(t,r){var i=n.call(this,t,r.label)||this;return i._foreignModuleId=r.moduleId,i._foreignModuleCreateData=r.createData||null,i._foreignModuleHost=r.host||null,i._foreignProxy=null,i}return e.prototype.fhr=function(t,r){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,r))}catch(i){return Promise.reject(i)}},e.prototype._getForeignProxy=function(){var t=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(r){var i=t._foreignModuleHost?H4(t._foreignModuleHost):[];return r.loadForeignModule(t._foreignModuleId,t._foreignModuleCreateData,i).then(function(o){t._foreignModuleCreateData=null;for(var s=function(h,p){return r.fmr(h,p)},a=function(h,p){return function(){var v=Array.prototype.slice.call(arguments,0);return p(h,v)}},u={},l=0,c=o;l<c.length;l++){var d=c[l];u[d]=a(d,s)}return u})})),this._foreignProxy},e.prototype.getProxy=function(){return this._getForeignProxy()},e.prototype.withSyncedResources=function(t){var r=this;return this._withSyncedResources(t).then(function(i){return r.getProxy()})},e}(lee),pu=function(){function n(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}return n.prototype.equals=function(e){return e instanceof n?this.slicedEquals(e,0,this._tokensCount):!1},n.prototype.slicedEquals=function(e,t,r){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;for(var i=t<<1,o=i+(r<<1),s=i;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0},n.prototype.getLineContent=function(){return this._text},n.prototype.getCount=function(){return this._tokensCount},n.prototype.getStartOffset=function(e){return e>0?this._tokens[e-1<<1]:0},n.prototype.getLanguageId=function(e){var t=this._tokens[(e<<1)+1];return uu.getLanguageId(t)},n.prototype.getStandardTokenType=function(e){var t=this._tokens[(e<<1)+1];return uu.getTokenType(t)},n.prototype.getForeground=function(e){var t=this._tokens[(e<<1)+1];return uu.getForeground(t)},n.prototype.getClassName=function(e){var t=this._tokens[(e<<1)+1];return uu.getClassNameFromMetadata(t)},n.prototype.getInlineStyle=function(e,t){var r=this._tokens[(e<<1)+1];return uu.getInlineStyleFromMetadata(r,t)},n.prototype.getEndOffset=function(e){return this._tokens[e<<1]},n.prototype.findTokenIndexAtOffset=function(e){return n.findIndexInTokensArray(this._tokens,e)},n.prototype.inflate=function(){return this},n.prototype.sliceAndInflate=function(e,t,r){return new z2e(this,e,t,r)},n.convertToEndOffset=function(e,t){for(var r=e.length>>>1,i=r-1,o=0;o<i;o++)e[o<<1]=e[o+1<<1];e[i<<1]=t},n.findIndexInTokensArray=function(e,t){if(e.length<=2)return 0;for(var r=0,i=(e.length>>>1)-1;r<i;){var o=r+Math.floor((i-r)/2),s=e[o<<1];if(s===t)return o+1;s<t?r=o+1:s>t&&(i=o)}return r},n}(),z2e=function(){function n(e,t,r,i){this._source=e,this._startOffset=t,this._endOffset=r,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(var o=this._firstTokenIndex,s=e.getCount();o<s;o++){var a=e.getStartOffset(o);if(a>=r)break;this._tokensCount++}}return n.prototype.equals=function(e){return e instanceof n?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1},n.prototype.getCount=function(){return this._tokensCount},n.prototype.getForeground=function(e){return this._source.getForeground(this._firstTokenIndex+e)},n.prototype.getEndOffset=function(e){var t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset},n.prototype.getClassName=function(e){return this._source.getClassName(this._firstTokenIndex+e)},n.prototype.getInlineStyle=function(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)},n.prototype.findTokenIndexAtOffset=function(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex},n}(),Kb;typeof TextDecoder<"u"?Kb=function(n){return new G2e(n)}:Kb=function(n){return new $2e};var G2e=function(){function n(e){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return n.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},n.prototype.build=function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},n.prototype._buildBuffer=function(){if(this._bufferLength===0)return"";var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(e)},n.prototype._flushBuffer=function(){var e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e},n.prototype.write1=function(e){var t=this._capacity-this._bufferLength;t<=1&&(t===0||zo(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},n.prototype.appendASCII=function(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},n.prototype.appendASCIIString=function(e){var t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(var r=0;r<t;r++)this._buffer[this._bufferLength++]=e.charCodeAt(r)},n}(),$2e=function(){function n(){this._pieces=[],this._piecesLen=0}return n.prototype.reset=function(){this._pieces=[],this._piecesLen=0},n.prototype.build=function(){return this._pieces.join("")},n.prototype.write1=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},n.prototype.appendASCII=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},n.prototype.appendASCIIString=function(e){this._pieces[this._piecesLen++]=e},n}(),Yb=function(){function n(e,t,r,i){this.startColumn=e,this.endColumn=t,this.className=r,this.type=i}return n._equals=function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type},n.equalsArr=function(e,t){var r=e.length,i=t.length;if(r!==i)return!1;for(var o=0;o<r;o++)if(!n._equals(e[o],t[o]))return!1;return!0},n.filter=function(e,t,r,i){if(e.length===0)return[];for(var o=[],s=0,a=0,u=e.length;a<u;a++){var l=e[a],c=l.range;if(!(c.endLineNumber<t||c.startLineNumber>t)&&!(c.isEmpty()&&(l.type===0||l.type===3))){var d=c.startLineNumber===t?c.startColumn:r,h=c.endLineNumber===t?c.endColumn:i;o[s++]=new n(d,h,l.inlineClassName,l.type)}}return o},n.compare=function(e,t){return e.startColumn===t.startColumn?e.endColumn===t.endColumn?e.className<t.className?-1:e.className>t.className?1:0:e.endColumn-t.endColumn:e.startColumn-t.startColumn},n}(),Gj=function(){function n(e,t,r){this.startOffset=e,this.endOffset=t,this.className=r}return n}(),K2e=function(){function n(){this.stopOffsets=[],this.classNames=[],this.count=0}return n.prototype.consumeLowerThan=function(e,t,r){for(;this.count>0&&this.stopOffsets[0]<e;){for(var i=0;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;r.push(new Gj(t,this.stopOffsets[i],this.classNames.join(" "))),t=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&t<e&&(r.push(new Gj(t,e-1,this.classNames.join(" "))),t=e),t},n.prototype.insert=function(e,t){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t);break}this.count++},n}(),Y2e=function(){function n(){}return n.normalize=function(e,t){if(t.length===0)return[];for(var r=[],i=new K2e,o=0,s=0,a=t.length;s<a;s++){var u=t[s],l=u.startColumn,c=u.endColumn,d=u.className;if(l>1){var h=e.charCodeAt(l-2);zo(h)&&l--}if(c>1){var h=e.charCodeAt(c-2);zo(h)&&c--}var p=l-1,v=c-2;o=i.consumeLowerThan(p,o,r),i.count===0&&(o=p),i.insert(v,d)}return i.consumeLowerThan(1073741824,o,r),r},n}(),Xo=function(){function n(e,t){this.endIndex=e,this.type=t}return n}(),X2e=function(){function n(e,t){this.startOffset=e,this.endOffset=t}return n.prototype.equals=function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset},n}(),S_=function(){function n(e,t,r,i,o,s,a,u,l,c,d,h,p,v,m,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=r,this.continuesWithWrappedLine=i,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=u,this.lineDecorations=l,this.tabSize=c,this.spaceWidth=d,this.stopRenderingLineAfter=h,this.renderWhitespace=p==="all"?3:p==="boundary"?1:p==="selection"?2:0,this.renderControlCharacters=v,this.fontLigatures=m,this.selectionsOnLine=_&&_.sort(function(b,C){return b.startOffset<C.startOffset?-1:1})}return n.prototype.sameSelection=function(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(var t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0},n.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Yb.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)},n}(),Tf=function(){function n(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return n.getPartIndex=function(e){return(e&4294901760)>>>16},n.getCharIndex=function(e){return(e&65535)>>>0},n.prototype.setPartData=function(e,t,r,i){var o=(t<<16|r<<0)>>>0;this._data[e]=o,this._absoluteOffsets[e]=i+r},n.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},n.prototype.charOffsetToPartData=function(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]},n.prototype.partDataToCharOffset=function(e,t,r){if(this.length===0)return 0;for(var i=(e<<16|r<<0)>>>0,o=0,s=this.length-1;o+1<s;){var a=o+s>>>1,u=this._data[a];if(u===i)return a;u>i?s=a:o=a}if(o===s)return o;var l=this._data[o],c=this._data[s];if(l===i)return o;if(c===i)return s;var d=n.getPartIndex(l),h=n.getCharIndex(l),p=n.getPartIndex(c),v;d!==p?v=t:v=n.getCharIndex(c);var m=r-h,_=v-r;return m<=_?o:s},n}(),cee=function(){function n(e,t,r){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=r}return n}();function y6(n,e){if(n.lineContent.length===0){var t=0,r="<span><span></span></span>";if(n.lineDecorations.length>0){for(var i=[],o=0,s=n.lineDecorations.length;o<s;o++){var a=n.lineDecorations[o];a.type===1&&(i.push(n.lineDecorations[o].className),t|=1),a.type===2&&(i.push(n.lineDecorations[o].className),t|=2)}t!==0&&(r='<span><span class="'+i.join(" ")+'"></span></span>')}return e.appendASCIIString(r),new cee(new Tf(0,0),!1,t)}return iIe(J2e(n),e)}var Q2e=function(){function n(e,t,r,i){this.characterMapping=e,this.html=t,this.containsRTL=r,this.containsForeignElements=i}return n}();function i2(n){var e=Kb(1e4),t=y6(n,e);return new Q2e(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}var Z2e=function(){function n(e,t,r,i,o,s,a,u,l,c,d,h){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=r,this.len=i,this.isOverflowing=o,this.parts=s,this.containsForeignElements=a,this.tabSize=u,this.containsRTL=l,this.spaceWidth=c,this.renderWhitespace=d,this.renderControlCharacters=h}return n}();function J2e(n){var e=n.useMonospaceOptimizations,t=n.lineContent,r,i;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<t.length?(r=!0,i=n.stopRenderingLineAfter):(r=!1,i=t.length);var o=eIe(n.lineTokens,n.fauxIndentLength,i);(n.renderWhitespace===3||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine)&&(o=nIe(t,i,n.continuesWithWrappedLine,o,n.fauxIndentLength,n.tabSize,e,n.selectionsOnLine,n.renderWhitespace===1));var s=0;if(n.lineDecorations.length>0){for(var a=0,u=n.lineDecorations.length;a<u;a++){var l=n.lineDecorations[a];l.type===3||l.type===1?s|=1:l.type===2&&(s|=2)}o=rIe(t,i,o,n.lineDecorations)}return n.containsRTL||(o=tIe(t,o,!n.isBasicASCII||n.fontLigatures)),new Z2e(e,n.canUseHalfwidthRightwardsArrow,t,i,r,o,s,n.tabSize,n.containsRTL,n.spaceWidth,n.renderWhitespace,n.renderControlCharacters)}function eIe(n,e,t){var r=[],i=0;e>0&&(r[i++]=new Xo(e,""));for(var o=0,s=n.getCount();o<s;o++){var a=n.getEndOffset(o);if(!(a<=e)){var u=n.getClassName(o);if(a>=t){r[i++]=new Xo(t,u);break}r[i++]=new Xo(a,u)}}return r}function tIe(n,e,t){var r=0,i=[],o=0;if(t)for(var s=0,a=e.length;s<a;s++){var u=e[s],l=u.endIndex;if(r+50<l){for(var c=u.type,d=-1,h=r,p=r;p<l;p++)n.charCodeAt(p)===32&&(d=p),d!==-1&&p-h>=50&&(i[o++]=new Xo(d+1,c),h=d+1,d=-1);h!==l&&(i[o++]=new Xo(l,c))}else i[o++]=u;r=l}else for(var s=0,a=e.length;s<a;s++){var u=e[s],l=u.endIndex,v=l-r;if(v>50){for(var c=u.type,m=Math.ceil(v/50),p=1;p<m;p++){var _=r+p*50;i[o++]=new Xo(_,c)}i[o++]=new Xo(l,c)}else i[o++]=u;r=l}return i}function nIe(n,e,t,r,i,o,s,a,u){var l=[],c=0,d=0,h=r[d].type,p=r[d].endIndex,v=r.length,m=Ss(n),_;m===-1?(m=e,_=e):_=Lh(n);for(var b=0,C=0;C<i;C++){var E=n.charCodeAt(C);E===9?b=o:Lc(E)?b+=2:b++}b=b%o;for(var T=!1,A=0,S=a&&a[A],C=i;C<e;C++){var E=n.charCodeAt(C);S&&C>=S.endOffset&&(A++,S=a&&a[A]);var N=void 0;if(C<m||C>_)N=!0;else if(E===9)N=!0;else if(E===32)if(u)if(T)N=!0;else{var k=C+1<e?n.charCodeAt(C+1):0;N=k===32||k===9}else N=!0;else N=!1;N&&a&&(N=!!S&&S.startOffset<=C&&S.endOffset>C),T?(!N||!s&&b>=o)&&(l[c++]=new Xo(C,"vs-whitespace"),b=b%o):(C===p||N&&C>i)&&(l[c++]=new Xo(C,h),b=b%o),E===9?b=o:Lc(E)?b+=2:b++,T=N,C===p&&(d++,d<v&&(h=r[d].type,p=r[d].endIndex))}var F=!1;if(T)if(t&&u){var L=e>0?n.charCodeAt(e-1):0,O=e>1?n.charCodeAt(e-2):0,P=L===32&&O!==32&&O!==9;P||(F=!0)}else F=!0;return l[c++]=new Xo(e,F?"vs-whitespace":h),l}function rIe(n,e,t,r){r.sort(Yb.compare);for(var i=Y2e.normalize(n,r),o=i.length,s=0,a=[],u=0,l=0,c=0,d=t.length;c<d;c++){for(var h=t[c],p=h.endIndex,v=h.type;s<o&&i[s].startOffset<p;){var m=i[s];if(m.startOffset>l&&(l=m.startOffset,a[u++]=new Xo(l,v)),m.endOffset+1<=p)l=m.endOffset+1,a[u++]=new Xo(l,v+" "+m.className),s++;else{l=p,a[u++]=new Xo(l,v+" "+m.className);break}}p>l&&(l=p,a[u++]=new Xo(l,v))}var _=t[t.length-1].endIndex;if(s<o&&i[s].startOffset===_){for(var b=[];s<o&&i[s].startOffset===_;)b.push(i[s].className),s++;a[u++]=new Xo(l,b.join(" "))}return a}function iIe(n,e){var t=n.fontIsMonospace,r=n.canUseHalfwidthRightwardsArrow,i=n.containsForeignElements,o=n.lineContent,s=n.len,a=n.isOverflowing,u=n.parts,l=n.tabSize,c=n.containsRTL,d=n.spaceWidth,h=n.renderWhitespace,p=n.renderControlCharacters,v=new Tf(s+1,u.length),m=0,_=0,b=0,C=0,E=0;e.appendASCIIString("<span>");for(var T=0,A=u.length;T<A;T++){E+=C;var S=u[T],N=S.endIndex,k=S.type,F=h!==0&&k.indexOf("vs-whitespace")>=0;if(b=0,e.appendASCIIString('<span class="'),e.appendASCIIString(k),e.appendASCII(34),F){for(var L=0,O=m,P=_;O<N;O++){var B=o.charCodeAt(O);if(B===9){var U=l-(O+P)%l;P+=U-1,L+=U}else L++}if(!t){var $=k==="vs-whitespace";($||!i)&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(d*L)),e.appendASCIIString('px"'))}for(e.appendASCII(62);m<N;m++){v.setPartData(m,T,b,E);var B=o.charCodeAt(m);if(B===9){var U=l-(m+_)%l;for(_+=U-1,b+=U-1,U>0&&(!r||U>1?e.write1(8594):e.write1(65515),U--);U>0;)e.write1(160),U--}else e.write1(183);b++}C=L}else{var L=0;for(c&&e.appendASCIIString(' dir="ltr"'),e.appendASCII(62);m<N;m++){v.setPartData(m,T,b,E);var B=o.charCodeAt(m);switch(B){case 9:var U=l-(m+_)%l;for(_+=U-1,b+=U-1;U>0;)e.write1(160),L++,U--;break;case 32:e.write1(160),L++;break;case 60:e.appendASCIIString("&lt;"),L++;break;case 62:e.appendASCIIString("&gt;"),L++;break;case 38:e.appendASCIIString("&amp;"),L++;break;case 0:e.appendASCIIString("&#00;"),L++;break;case 65279:case 8232:e.write1(65533),L++;break;default:Lc(B)&&_++,p&&B<32?(e.write1(9216+B),L++):(e.write1(B),L++)}b++}C=L}e.appendASCIIString("</span>")}return v.setPartData(s,u.length-1,b,E),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new cee(v,c,i)}var $j=function(){function n(e,t,r,i){this.top=e|0,this.left=t|0,this.width=r|0,this.height=i|0}return n}(),oIe=function(){function n(e,t){this.tabSize=e,this.data=t}return n}(),b6=function(){function n(e,t,r,i,o){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=r,this.maxColumn=i,this.tokens=o}return n}(),Su=function(){function n(e,t,r,i,o,s,a,u,l){this.minColumn=e,this.maxColumn=t,this.content=r,this.continuesWithWrappedLine=i,this.isBasicASCII=n.isBasicASCII(r,s),this.containsRTL=n.containsRTL(r,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=u,this.tabSize=l}return n.isBasicASCII=function(e,t){return t?GJ(e):!0},n.containsRTL=function(e,t,r){return!t&&r?t6(e):!1},n}(),ES=function(){function n(e,t,r){this.range=e,this.inlineClassName=t,this.type=r}return n}(),sIe=function(){function n(e,t){this.range=e,this.options=t}return n}();function aIe(n){return Array.isArray(n)}function uIe(n){return!aIe(n)}function fee(n){return typeof n=="string"}function Kj(n){return!fee(n)}function bv(n){return!n}function Jf(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function Yj(n){return n.replace(/[&<>'"_]/g,"-")}function lIe(n,e){console.log(n.languageId+": "+e)}function sn(n,e){return new Error(n.languageId+": "+e)}function If(n,e,t,r,i){var o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return e.replace(o,function(a,u,l,c,d,h,p,v,m){return bv(l)?bv(c)?!bv(d)&&d<r.length?Jf(n,r[d]):!bv(p)&&n&&typeof n[p]=="string"?n[p]:(s===null&&(s=i.split("."),s.unshift(i)),!bv(h)&&h<s.length?Jf(n,s[h]):""):Jf(n,t):"$"})}function _E(n,e){for(var t=e;t&&t.length>0;){var r=n.tokenizer[t];if(r)return r;var i=t.lastIndexOf(".");i<0?t=null:t=t.substr(0,i)}return null}function cIe(n,e){for(var t=e;t&&t.length>0;){var r=n.stateNames[t];if(r)return!0;var i=t.lastIndexOf(".");i<0?t=null:t=t.substr(0,i)}return!1}var hee=5,yM=function(){function n(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return n.create=function(e,t){return this._INSTANCE.create(e,t)},n.prototype.create=function(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new SS(e,t);var r=SS.getStackElementId(e);r.length>0&&(r+="|"),r+=t;var i=this._entries[r];return i||(i=new SS(e,t),this._entries[r]=i,i)},n._INSTANCE=new n(hee),n}(),SS=function(){function n(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}return n.getStackElementId=function(e){for(var t="";e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t},n._equals=function(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null},n.prototype.equals=function(e){return n._equals(this,e)},n.prototype.push=function(e){return yM.create(this,e)},n.prototype.pop=function(){return this.parent},n.prototype.popall=function(){for(var e=this;e.parent;)e=e.parent;return e},n.prototype.switchTo=function(e){return yM.create(this.parent,e)},n}(),SO=function(){function n(e,t){this.modeId=e,this.state=t}return n.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)},n.prototype.clone=function(){var e=this.state.clone();return e===this.state?this:new n(this.modeId,this.state)},n}(),Cv=function(){function n(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return n.create=function(e,t){return this._INSTANCE.create(e,t)},n.prototype.create=function(e,t){if(t!==null)return new TO(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new TO(e,t);var r=SS.getStackElementId(e),i=this._entries[r];return i||(i=new TO(e,null),this._entries[r]=i,i)},n._INSTANCE=new n(hee),n}(),TO=function(){function n(e,t){this.stack=e,this.embeddedModeData=t}return n.prototype.clone=function(){var e=this.embeddedModeData?this.embeddedModeData.clone():null;return e===this.embeddedModeData?this:Cv.create(this.stack,this.embeddedModeData)},n.prototype.equals=function(e){return!(e instanceof n)||!this.stack.equals(e.stack)?!1:this.embeddedModeData===null&&e.embeddedModeData===null?!0:this.embeddedModeData===null||e.embeddedModeData===null?!1:this.embeddedModeData.equals(e.embeddedModeData)},n}(),fIe=function(){function n(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return n.prototype.enterMode=function(e,t){this._language=t},n.prototype.emit=function(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new GA(e,t,this._language)))},n.prototype.nestedModeTokenize=function(e,t,r){var i=t.modeId,o=t.state,s=Bn.get(i);if(!s)return this.enterMode(r,i),this.emit(r,""),o;var a=s.tokenize(e,o,r);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState},n.prototype.finalize=function(e){return new q4(this._tokens,e)},n}(),hIe=function(){function n(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return n.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id},n.prototype.emit=function(e,t){var r=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==r&&(this._lastTokenMetadata=r,this._tokens.push(e),this._tokens.push(r))},n._merge=function(e,t,r){var i=e!==null?e.length:0,o=t.length,s=r!==null?r.length:0;if(i===0&&o===0&&s===0)return new Uint32Array(0);if(i===0&&o===0)return r;if(o===0&&s===0)return e;var a=new Uint32Array(i+o+s);e!==null&&a.set(e);for(var u=0;u<o;u++)a[i+u]=t[u];return r!==null&&a.set(r,i+o),a},n.prototype.nestedModeTokenize=function(e,t,r){var i=t.modeId,o=t.state,s=Bn.get(i);if(!s)return this.enterMode(r,i),this.emit(r,""),o;var a=s.tokenize2(e,o,r);return this._prependTokens=n._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState},n.prototype.finalize=function(e){return new $A(n._merge(this._prependTokens,this._tokens,null),e)},n}(),dee=function(){function n(e,t,r,i){var o=this;this._modeService=e,this._standaloneThemeService=t,this._modeId=r,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var s=!1;this._tokenizationRegistryListener=Bn.onDidChange(function(a){if(!s){for(var u=!1,l=0,c=a.changedLanguages.length;l<c;l++){var d=a.changedLanguages[l];if(o._embeddedModes[d]){u=!0;break}}u&&(s=!0,Bn.fire([o._modeId]),s=!1)}})}return n.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},n.prototype.getLoadStatus=function(){var e=[];for(var t in this._embeddedModes)if(this._embeddedModes.hasOwnProperty(t)){var r=Bn.get(t);if(r){if(r instanceof n){var i=r.getLoadStatus();i.loaded===!1&&e.push(i.promise)}continue}var o=Bn.getPromise(t);o&&e.push(o)}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(function(s){})}},n.prototype.getInitialState=function(){var e=yM.create(null,this._lexer.start);return Cv.create(e,null)},n.prototype.tokenize=function(e,t,r){var i=new fIe,o=this._tokenize(e,t,r,i);return i.finalize(o)},n.prototype.tokenize2=function(e,t,r){var i=new hIe(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),o=this._tokenize(e,t,r,i);return i.finalize(o)},n.prototype._tokenize=function(e,t,r,i){return t.embeddedModeData?this._nestedTokenize(e,t,r,i):this._myTokenize(e,t,r,i)},n.prototype._findLeavingNestedModeOffset=function(e,t){var r=this._lexer.tokenizer[t.stack.state];if(!r&&(r=_E(this._lexer,t.stack.state),!r))throw sn(this._lexer,"tokenizer state is not defined: "+t.stack.state);for(var i=-1,o=!1,s=0,a=r;s<a.length;s++){var u=a[s];if(!(!Kj(u.action)||u.action.nextEmbedded!=="@pop")){o=!0;var l=u.regex,c=u.regex.source;c.substr(0,4)==="^(?:"&&c.substr(c.length-1,1)===")"&&(l=new RegExp(c.substr(4,c.length-5),l.ignoreCase?"i":""));var d=e.search(l);d!==-1&&(i===-1||d<i)&&(i=d)}}if(!o)throw sn(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i},n.prototype._nestedTokenize=function(e,t,r,i){var o=this._findLeavingNestedModeOffset(e,t);if(o===-1){var s=i.nestedModeTokenize(e,t.embeddedModeData,r);return Cv.create(t.stack,new SO(t.embeddedModeData.modeId,s))}var a=e.substring(0,o);a.length>0&&i.nestedModeTokenize(a,t.embeddedModeData,r);var u=e.substring(o);return this._myTokenize(u,t,r+o,i)},n.prototype._safeRuleName=function(e){return e?e.name:"(unknown)"},n.prototype._myTokenize=function(e,t,r,i){i.enterMode(r,this._modeId);for(var o=e.length,s=t.embeddedModeData,a=t.stack,u=0,l=null,c=!0;c||u<o;){var d=u,h=a.depth,p=l?l.groups.length:0,v=a.state,m=null,_=null,b=null,C=null,E=null;if(l){m=l.matches;var T=l.groups.shift();_=T.matched,b=T.action,C=l.rule,l.groups.length===0&&(l=null)}else{if(!c&&u>=o)break;c=!1;var A=this._lexer.tokenizer[v];if(!A&&(A=_E(this._lexer,v),!A))throw sn(this._lexer,"tokenizer state is not defined: "+v);for(var S=e.substr(u),N=0,k=A;N<k.length;N++){var F=k[N];if((u===0||!F.matchOnlyAtLineStart)&&(m=S.match(F.regex),m)){_=m[0],b=F.action;break}}}if(m||(m=[""],_=""),b||(u<o&&(m=[e.charAt(u)],_=m[0]),b=this._lexer.defaultToken),_===null)break;for(u+=_.length;uIe(b)&&Kj(b)&&b.test;)b=b.test(_,m,v,u===o);var L=null;if(typeof b=="string"||Array.isArray(b))L=b;else if(b.group)L=b.group;else if(b.token!==null&&b.token!==void 0){if(b.tokenSubst?L=If(this._lexer,b.token,_,m,v):L=b.token,b.nextEmbedded)if(b.nextEmbedded==="@pop"){if(!s)throw sn(this._lexer,"cannot pop embedded mode if not inside one");s=null}else{if(s)throw sn(this._lexer,"cannot enter embedded mode from within an embedded mode");E=If(this._lexer,b.nextEmbedded,_,m,v)}if(b.goBack&&(u=Math.max(0,u-b.goBack)),b.switchTo&&typeof b.switchTo=="string"){var O=If(this._lexer,b.switchTo,_,m,v);if(O[0]==="@"&&(O=O.substr(1)),_E(this._lexer,O))a=a.switchTo(O);else throw sn(this._lexer,"trying to switch to a state '"+O+"' that is undefined in rule: "+this._safeRuleName(C))}else{if(b.transform&&typeof b.transform=="function")throw sn(this._lexer,"action.transform not supported");if(b.next)if(b.next==="@push"){if(a.depth>=this._lexer.maxStack)throw sn(this._lexer,"maximum tokenizer stack size reached: ["+a.state+","+a.parent.state+",...]");a=a.push(v)}else if(b.next==="@pop"){if(a.depth<=1)throw sn(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(C));a=a.pop()}else if(b.next==="@popall")a=a.popall();else{var O=If(this._lexer,b.next,_,m,v);if(O[0]==="@"&&(O=O.substr(1)),_E(this._lexer,O))a=a.push(O);else throw sn(this._lexer,"trying to set a next state '"+O+"' that is undefined in rule: "+this._safeRuleName(C))}}b.log&&typeof b.log=="string"&&lIe(this._lexer,this._lexer.languageId+": "+If(this._lexer,b.log,_,m,v))}if(L===null)throw sn(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(C));if(Array.isArray(L)){if(l&&l.groups.length>0)throw sn(this._lexer,"groups cannot be nested: "+this._safeRuleName(C));if(m.length!==L.length+1)throw sn(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(C));for(var P=0,B=1;B<m.length;B++)P+=m[B].length;if(P!==_.length)throw sn(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(C));l={rule:C,matches:m,groups:[]};for(var B=0;B<L.length;B++)l.groups[B]={action:L[B],matched:m[B+1]};u-=_.length;continue}else{if(L==="@rematch"&&(u-=_.length,_="",m=null,L=""),_.length===0){if(o===0||h!==a.depth||v!==a.state||(l?l.groups.length:0)!==p)continue;throw sn(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(C))}var U=null;if(fee(L)&&L.indexOf("@brackets")===0){var $=L.substr(9),ee=dIe(this._lexer,_);if(!ee)throw sn(this._lexer,"@brackets token returned but no bracket defined as: "+_);U=Yj(ee.token+$)}else{var te=L===""?"":L+this._lexer.tokenPostfix;U=Yj(te)}i.emit(d+r,U)}if(E!==null){var ne=this._modeService.getModeIdForLanguageName(E);ne&&(E=ne);var de=this._getNestedEmbeddedModeData(E);if(u<o){var S=e.substr(u);return this._nestedTokenize(S,Cv.create(a,de),r+u,i)}else return Cv.create(a,de)}}return Cv.create(a,s)},n.prototype._getNestedEmbeddedModeData=function(e){var t=this._locateMode(e);if(t){var r=Bn.get(t);if(r)return new SO(t,r.getInitialState())}return new SO(t||d6,oC)},n.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;var t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t},n}();function dIe(n,e){if(!e)return null;e=Jf(n,e);for(var t=n.brackets,r=0,i=t;r<i.length;r++){var o=i[r];if(o.open===e)return{token:o.token,bracketType:1};if(o.close===e)return{token:o.token,bracketType:-1}}return null}function pIe(n,e,t,r){return new dee(n,e,t,r)}var C6=function(){function n(){}return n.colorizeElement=function(e,t,r,i){i=i||{};var o=i.theme||"vs",s=i.mimeType||r.getAttribute("lang")||r.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);var a=r.firstChild?r.firstChild.nodeValue:"";r.className+=" "+o;var u=function(l){r.innerHTML=l};return this.colorize(t,a||"",s,i).then(u,function(l){return console.error(l)})},n.colorize=function(e,t,r,i){var o=4;i&&typeof i.tabSize=="number"&&(o=i.tabSize),n6(t)&&(t=t.substr(1));var s=t.split(/\r\n|\r|\n/),a=e.getModeId(r);if(!a)return Promise.resolve(Xj(s,o));e.triggerMode(a);var u=Bn.get(a);if(u)return DO(s,o,u);var l=Bn.getPromise(a);return l?new Promise(function(c,d){l.then(function(h){DO(s,o,h).then(c,d)},d)}):new Promise(function(c,d){var h=null,p=null,v=function(){h&&(h.dispose(),h=null),p&&(p.dispose(),p=null);var m=Bn.get(a);if(m){DO(s,o,m).then(c,d);return}c(Xj(s,o))};p=new Ns,p.cancelAndSet(v,500),h=Bn.onDidChange(function(m){m.changedLanguages.indexOf(a)>=0&&v()})})},n.colorizeLine=function(e,t,r,i,o){o===void 0&&(o=4);var s=Su.isBasicASCII(e,t),a=Su.containsRTL(e,s,r),u=i2(new S_(!1,!0,e,!1,s,a,0,i,[],o,0,-1,"none",!1,!1,null));return u.html},n.colorizeModelLine=function(e,t,r){r===void 0&&(r=4);var i=e.getLineContent(t);e.forceTokenization(t);var o=e.getLineTokens(t),s=o.inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,r)},n}();function DO(n,e,t){return new Promise(function(r,i){var o=function(){var s=gIe(n,e,t);if(t instanceof dee){var a=t.getLoadStatus();if(a.loaded===!1){a.promise.then(o,i);return}}r(s)};o()})}function Xj(n,e){var t=[],r=16793600,i=new Uint32Array(2);i[0]=0,i[1]=r;for(var o=0,s=n.length;o<s;o++){var a=n[o];i[0]=a.length;var u=new pu(i,a),l=Su.isBasicASCII(a,!0),c=Su.containsRTL(a,l,!0),d=i2(new S_(!1,!0,a,!1,l,c,0,u,[],e,0,-1,"none",!1,!1,null));t=t.concat(d.html),t.push("<br/>")}return t.join("")}function gIe(n,e,t){for(var r=[],i=t.getInitialState(),o=0,s=n.length;o<s;o++){var a=n[o],u=t.tokenize2(a,i,0);pu.convertToEndOffset(u.tokens,a.length);var l=new pu(u.tokens,a),c=Su.isBasicASCII(a,!0),d=Su.containsRTL(a,c,!0),h=i2(new S_(!1,!0,a,!1,c,d,0,l.inflate(),[],e,0,-1,"none",!1,!1,null));r=r.concat(h.html),r.push("<br/>"),i=u.endState}return r.join("")}var Xb;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(Xb||(Xb={}));(function(n){var e="error",t="warning",r="warn",i="info",o=Object.create(null);o[n.Error]=D("sev.error","Error"),o[n.Warning]=D("sev.warning","Warning"),o[n.Info]=D("sev.info","Info");function s(a){return a?Mf(e,a)?n.Error:Mf(t,a)||Mf(r,a)?n.Warning:Mf(i,a)?n.Info:n.Ignore:n.Ignore}n.fromValue=s})(Xb||(Xb={}));const tr=Xb;function Tl(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===QA.ICodeEditor:!1}var vIe=function(){function n(){this.data=new Map}return n.prototype.add=function(e,t){Zv(wl(e)),Zv(Ui(t)),Zv(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)},n.prototype.as=function(e){return this.data.get(e)||null},n}(),To=new vIe,w6={JSONContribution:"base.contributions.json"};function mIe(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var _Ie=function(){function n(){this._onDidChangeSchema=new Q,this.schemasById={}}return n.prototype.registerSchema=function(e,t){this.schemasById[mIe(e)]=t,this._onDidChangeSchema.fire(e)},n.prototype.notifySchemaChanged=function(e){this._onDidChangeSchema.fire(e)},n}(),yIe=new _Ie;To.add(w6.JSONContribution,yIe);var T_={Configuration:"base.contributions.configuration"},yE={properties:{},patternProperties:{}},AO={properties:{},patternProperties:{}},IO={properties:{},patternProperties:{}},xO={properties:{},patternProperties:{}},LO={properties:{},patternProperties:{}},NO={properties:{},patternProperties:{}},OO="vscode://schemas/settings/editor",Qj=To.as(w6.JSONContribution),bIe=function(){function n(){this.overrideIdentifiers=[],this._onDidSchemaChange=new Q,this._onDidUpdateConfiguration=new Q,this.defaultOverridesConfigurationNode={id:"defaultOverrides",title:D("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultOverridesConfigurationNode],this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowsTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},this.computeOverridePropertyPattern(),Qj.registerSchema(OO,this.editorConfigurationSchema)}return n.prototype.registerConfiguration=function(e,t){t===void 0&&(t=!0),this.registerConfigurations([e],t)},n.prototype.registerConfigurations=function(e,t){var r=this;t===void 0&&(t=!0);var i=[];e.forEach(function(o){i.push.apply(i,r.validateAndRegisterProperties(o,t)),r.configurationContributors.push(o),r.registerJSONConfiguration(o),r.updateSchemaForOverrideSettingsConfiguration(o)}),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)},n.prototype.registerOverrideIdentifiers=function(e){var t;(t=this.overrideIdentifiers).push.apply(t,e),this.updateOverridePropertyPatternKey()},n.prototype.validateAndRegisterProperties=function(e,t,r,i){t===void 0&&(t=!0),r===void 0&&(r=3),i===void 0&&(i=!1),r=Xf(e.scope)?r:e.scope,i=e.overridable||i;var o=[],s=e.properties;if(s)for(var a in s){var u=void 0;if(t&&(u=SIe(a))){console.warn(u),delete s[a];continue}var l=s[a],c=l.default;if(po(c)&&(l.default=EIe(l.type)),i&&(l.overridable=!0),E6.test(a)?l.scope=void 0:l.scope=Xf(l.scope)?r:l.scope,s[a].hasOwnProperty("included")&&!s[a].included){this.excludedConfigurationProperties[a]=s[a],delete s[a];continue}else this.configurationProperties[a]=s[a];o.push(a)}var d=e.allOf;if(d)for(var h=0,p=d;h<p.length;h++){var v=p[h];o.push.apply(o,this.validateAndRegisterProperties(v,t,r,i))}return o},n.prototype.getConfigurationProperties=function(){return this.configurationProperties},n.prototype.registerJSONConfiguration=function(e){function t(r){var i=r.properties;if(i)for(var o in i)switch(yE.properties[o]=i[o],i[o].scope){case 1:AO.properties[o]=i[o];break;case 2:IO.properties[o]=i[o];break;case 5:xO.properties[o]=i[o];break;case 3:LO.properties[o]=i[o];break;case 4:NO.properties[o]=i[o];break}var s=r.allOf;s&&s.forEach(t)}t(e)},n.prototype.updateSchemaForOverrideSettingsConfiguration=function(e){e.id!==CIe&&(this.update(e),Qj.registerSchema(OO,this.editorConfigurationSchema))},n.prototype.updateOverridePropertyPatternKey=function(){var e=yE.patternProperties[this.overridePropertyPattern];e||(e={type:"object",description:D("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:"Unknown Identifier. Use language identifiers",$ref:OO}),delete yE.patternProperties[this.overridePropertyPattern],delete AO.patternProperties[this.overridePropertyPattern],delete IO.patternProperties[this.overridePropertyPattern],delete xO.patternProperties[this.overridePropertyPattern],delete LO.patternProperties[this.overridePropertyPattern],delete NO.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),yE.patternProperties[this.overridePropertyPattern]=e,AO.patternProperties[this.overridePropertyPattern]=e,IO.patternProperties[this.overridePropertyPattern]=e,xO.patternProperties[this.overridePropertyPattern]=e,LO.patternProperties[this.overridePropertyPattern]=e,NO.patternProperties[this.overridePropertyPattern]=e,this._onDidSchemaChange.fire()},n.prototype.update=function(e){var t=this,r=e.properties;if(r)for(var i in r)r[i].overridable&&(this.editorConfigurationSchema.properties[i]=this.getConfigurationProperties()[i]);var o=e.allOf;o&&o.forEach(function(s){return t.update(s)})},n.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?wIe.replace("${0}",this.overrideIdentifiers.map(function(e){return Z4(e,!1).source}).join("|")):pee},n}(),CIe="override",pee="\\[.*\\]$",wIe="\\[(${0})\\]$",E6=new RegExp(pee);function EIe(n){var e=Array.isArray(n)?n[0]:n;switch(e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var gee=new bIe;To.add(T_.Configuration,gee);function SIe(n){return E6.test(n)?D("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):gee.getConfigurationProperties()[n]!==void 0?D("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):null}var TIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pe=Rl,$0=Zd,K0=au,kT=new(function(){function n(){this._tabFocus=!1,this._onDidChangeTabFocus=new Q,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return n.prototype.getTabFocusMode=function(){return this._tabFocus},n.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},n}()),DIe=Object.hasOwnProperty,AIe=function(n){TIe(e,n);function e(t,r){var i=n.call(this)||this;return i._onDidChange=i._register(new Q),i.onDidChange=i._onDidChange.event,i.isSimpleWidget=t,i._rawOptions=Ur({},r||{}),i._rawOptions.scrollbar=Ur({},i._rawOptions.scrollbar||{}),i._rawOptions.minimap=Ur({},i._rawOptions.minimap||{}),i._rawOptions.find=Ur({},i._rawOptions.find||{}),i._rawOptions.hover=Ur({},i._rawOptions.hover||{}),i._rawOptions.parameterHints=Ur({},i._rawOptions.parameterHints||{}),i._validatedOptions=pj.validate(i._rawOptions,Pe),i._isDominatedByLongLines=!1,i._lineNumbersDigitCount=1,i._register(Oc.onDidChangeZoomLevel(function(o){return i._recomputeOptions()})),i._register(kT.onDidChangeTabFocus(function(o){return i._recomputeOptions()})),i}return e.prototype.observeReferenceElement=function(t){},e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._recomputeOptions=function(){var t=this.editor,r=this._computeInternalOptions();t&&t.equals(r)||(this.editor=r,t&&this._onDidChange.fire(t.createChangeEvent(r)))},e.prototype.getRawOptions=function(){return this._rawOptions},e.prototype._computeInternalOptions=function(){var t=this._validatedOptions,r=this._getEnvConfiguration(),i=l6.createFromRawSettings(this._rawOptions,r.zoomLevel,this.isSimpleWidget),o={outerWidth:r.outerWidth,outerHeight:r.outerHeight,fontInfo:this.readConfiguration(i),extraEditorClassName:r.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:r.emptySelectionClipboard,pixelRatio:r.pixelRatio,tabFocusMode:kT.getTabFocusMode(),accessibilitySupport:r.accessibilitySupport};return DTe.createInternalEditorOptions(o,t)},e._primitiveArrayEquals=function(t,r){if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==r[i])return!1;return!0},e._subsetEquals=function(t,r){for(var i in r)if(DIe.call(r,i)){var o=r[i],s=t[i];if(s===o)continue;if(Array.isArray(s)&&Array.isArray(o)){if(!this._primitiveArrayEquals(s,o))return!1;continue}if(typeof s=="object"&&typeof o=="object"){if(!this._subsetEquals(s,o))return!1;continue}return!1}return!0},e.prototype.updateOptions=function(t){typeof t>"u"||e._subsetEquals(this._rawOptions,t)||(this._rawOptions=Ur(this._rawOptions,t||{}),this._validatedOptions=pj.validate(this._rawOptions,Pe),this._recomputeOptions())},e.prototype.setIsDominatedByLongLines=function(t){this._isDominatedByLongLines=t,this._recomputeOptions()},e.prototype.setMaxLineNumber=function(t){var r=e._digitCount(t);this._lineNumbersDigitCount!==r&&(this._lineNumbersDigitCount=r,this._recomputeOptions())},e._digitCount=function(t){for(var r=0;t;)t=Math.floor(t/10),r++;return r||1},e}(fe),IIe=To.as(T_.Configuration),vee={id:"editor",order:5,type:"object",title:D("editorConfigurationTitle","Editor"),overridable:!0,scope:4,properties:{"editor.fontFamily":{type:"string",default:$0.fontFamily,description:D("fontFamily","Controls the font family.")},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:$0.fontWeight,description:D("fontWeight","Controls the font weight.")},"editor.fontSize":{type:"number",default:$0.fontSize,description:D("fontSize","Controls the font size in pixels.")},"editor.lineHeight":{type:"number",default:$0.lineHeight,description:D("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")},"editor.letterSpacing":{type:"number",default:$0.letterSpacing,description:D("letterSpacing","Controls the letter spacing in pixels.")},"editor.lineNumbers":{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[D("lineNumbers.off","Line numbers are not rendered."),D("lineNumbers.on","Line numbers are rendered as absolute number."),D("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),D("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:D("lineNumbers","Controls the display of line numbers.")},"editor.cursorSurroundingLines":{type:"number",default:Pe.viewInfo.cursorSurroundingLines,description:D("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")},"editor.renderFinalNewline":{type:"boolean",default:Pe.viewInfo.renderFinalNewline,description:D("renderFinalNewline","Render last line number when the file ends with a newline.")},"editor.rulers":{type:"array",items:{type:"number"},default:Pe.viewInfo.rulers,description:D("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")},"editor.wordSeparators":{type:"string",default:Pe.wordSeparators,description:D("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")},"editor.tabSize":{type:"number",default:K0.tabSize,minimum:1,markdownDescription:D("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:K0.insertSpaces,markdownDescription:D("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:K0.detectIndentation,markdownDescription:D("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.roundedSelection":{type:"boolean",default:Pe.viewInfo.roundedSelection,description:D("roundedSelection","Controls whether selections should have rounded corners.")},"editor.scrollBeyondLastLine":{type:"boolean",default:Pe.viewInfo.scrollBeyondLastLine,description:D("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")},"editor.scrollBeyondLastColumn":{type:"number",default:Pe.viewInfo.scrollBeyondLastColumn,description:D("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")},"editor.smoothScrolling":{type:"boolean",default:Pe.viewInfo.smoothScrolling,description:D("smoothScrolling","Controls whether the editor will scroll using an animation.")},"editor.minimap.enabled":{type:"boolean",default:Pe.viewInfo.minimap.enabled,description:D("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Pe.viewInfo.minimap.side,description:D("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Pe.viewInfo.minimap.showSlider,description:D("minimap.showSlider","Controls whether the minimap slider is automatically hidden.")},"editor.minimap.renderCharacters":{type:"boolean",default:Pe.viewInfo.minimap.renderCharacters,description:D("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Pe.viewInfo.minimap.maxColumn,description:D("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.hover.enabled":{type:"boolean",default:Pe.contribInfo.hover.enabled,description:D("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Pe.contribInfo.hover.delay,description:D("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Pe.contribInfo.hover.sticky,description:D("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:Pe.contribInfo.find.seedSearchStringFromSelection,description:D("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"boolean",default:Pe.contribInfo.find.autoFindInSelection,description:D("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:Pe.contribInfo.find.globalFindClipboard,description:D("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Tt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:!0,description:D("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],markdownEnumDescriptions:[D("wordWrap.off","Lines will never wrap."),D("wordWrap.on","Lines will wrap at the viewport width."),D({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),D({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],default:Pe.wordWrap,description:D({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")},"editor.wordWrapColumn":{type:"integer",default:Pe.wordWrapColumn,minimum:1,markdownDescription:D({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")},"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[D("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),D("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),D("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),D("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],default:"same",description:D("wrappingIndent","Controls the indentation of wrapped lines.")},"editor.mouseWheelScrollSensitivity":{type:"number",default:Pe.viewInfo.scrollbar.mouseWheelScrollSensitivity,markdownDescription:D("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},"editor.fastScrollSensitivity":{type:"number",default:Pe.viewInfo.scrollbar.fastScrollSensitivity,markdownDescription:D("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[D("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),D("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"alt",markdownDescription:D({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")},"editor.multiCursorMergeOverlapping":{type:"boolean",default:Pe.multiCursorMergeOverlapping,description:D("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:D("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:!1,description:D("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:!0,description:D("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:Pe.contribInfo.quickSuggestions,description:D("quickSuggestions","Controls whether suggestions should automatically show up while typing.")},"editor.quickSuggestionsDelay":{type:"integer",default:Pe.contribInfo.quickSuggestionsDelay,minimum:0,description:D("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")},"editor.parameterHints.enabled":{type:"boolean",default:Pe.contribInfo.parameterHints.enabled,description:D("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Pe.contribInfo.parameterHints.cycle,description:D("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")},"editor.autoClosingBrackets":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",D("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),D("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],default:Pe.autoClosingBrackets,description:D("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")},"editor.autoClosingQuotes":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",D("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),D("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],default:Pe.autoClosingQuotes,description:D("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")},"editor.autoClosingOvertype":{type:"string",enum:["always","auto","never"],enumDescriptions:[D("editor.autoClosingOvertype.always","Always type over closing quotes or brackets."),D("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),D("editor.autoClosingOvertype.never","Never type over closing quotes or brackets.")],default:Pe.autoClosingOvertype,description:D("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")},"editor.autoSurround":{type:"string",enum:["languageDefined","brackets","quotes","never"],enumDescriptions:[D("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),D("editor.autoSurround.brackets","Surround with brackets but not quotes."),D("editor.autoSurround.quotes","Surround with quotes but not brackets."),""],default:Pe.autoSurround,description:D("autoSurround","Controls whether the editor should automatically surround selections.")},"editor.formatOnType":{type:"boolean",default:Pe.contribInfo.formatOnType,description:D("formatOnType","Controls whether the editor should automatically format the line after typing.")},"editor.formatOnPaste":{type:"boolean",default:Pe.contribInfo.formatOnPaste,description:D("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")},"editor.autoIndent":{type:"boolean",default:Pe.autoIndent,description:D("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste or move lines. Extensions with indentation rules of the language must be available.")},"editor.suggestOnTriggerCharacters":{type:"boolean",default:Pe.contribInfo.suggestOnTriggerCharacters,description:D("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:Pe.contribInfo.acceptSuggestionOnEnter,markdownEnumDescriptions:["",D("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:D("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:Pe.contribInfo.acceptSuggestionOnCommitCharacter,markdownDescription:D("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[D("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),D("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),D("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),D("snippetSuggestions.none","Do not show snippet suggestions.")],default:Pe.contribInfo.suggest.snippets,description:D("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")},"editor.emptySelectionClipboard":{type:"boolean",default:Pe.emptySelectionClipboard,description:D("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")},"editor.copyWithSyntaxHighlighting":{type:"boolean",default:Pe.copyWithSyntaxHighlighting,description:D("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")},"editor.wordBasedSuggestions":{type:"boolean",default:Pe.contribInfo.wordBasedSuggestions,description:D("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.suggestSelection":{type:"string",enum:["first","recentlyUsed","recentlyUsedByPrefix"],markdownEnumDescriptions:[D("suggestSelection.first","Always select the first suggestion."),D("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),D("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],default:"recentlyUsed",description:D("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,markdownDescription:D("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,markdownDescription:D("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")},"editor.tabCompletion":{type:"string",default:"off",enum:["on","off","onlySnippets"],enumDescriptions:[D("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),D("tabCompletion.off","Disable tab completions."),D("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:D("tabCompletion","Enables tab completions.")},"editor.suggest.filterGraceful":{type:"boolean",default:!0,description:D("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:!1,description:D("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:!1,markdownDescription:D("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:!0,description:D("suggest.snippetsPreventQuickSuggestions","Control whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Pe.contribInfo.suggest.showIcons,description:D("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:Pe.contribInfo.suggest.maxVisibleSuggestions,minimum:1,maximum:15,description:D("suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",default:{keyword:!0,snippet:!0},markdownDescription:D("suggest.filtered","Controls whether some suggestion types should be filtered from IntelliSense. A list of suggestion types can be found here: https://code.visualstudio.com/docs/editor/intellisense#_types-of-completions."),properties:{method:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.method","When set to `false` IntelliSense never shows `method` suggestions.")},function:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.function","When set to `false` IntelliSense never shows `function` suggestions.")},constructor:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.constructor","When set to `false` IntelliSense never shows `constructor` suggestions.")},field:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.field","When set to `false` IntelliSense never shows `field` suggestions.")},variable:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.variable","When set to `false` IntelliSense never shows `variable` suggestions.")},class:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.class","When set to `false` IntelliSense never shows `class` suggestions.")},struct:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.struct","When set to `false` IntelliSense never shows `struct` suggestions.")},interface:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.interface","When set to `false` IntelliSense never shows `interface` suggestions.")},module:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.module","When set to `false` IntelliSense never shows `module` suggestions.")},property:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.property","When set to `false` IntelliSense never shows `property` suggestions.")},event:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.event","When set to `false` IntelliSense never shows `event` suggestions.")},operator:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.operator","When set to `false` IntelliSense never shows `operator` suggestions.")},unit:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.unit","When set to `false` IntelliSense never shows `unit` suggestions.")},value:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.value","When set to `false` IntelliSense never shows `value` suggestions.")},constant:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.constant","When set to `false` IntelliSense never shows `constant` suggestions.")},enum:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.enum","When set to `false` IntelliSense never shows `enum` suggestions.")},enumMember:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.enumMember","When set to `false` IntelliSense never shows `enumMember` suggestions.")},keyword:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.keyword","When set to `false` IntelliSense never shows `keyword` suggestions.")},text:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.text","When set to `false` IntelliSense never shows `text` suggestions.")},color:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.color","When set to `false` IntelliSense never shows `color` suggestions.")},file:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.file","When set to `false` IntelliSense never shows `file` suggestions.")},reference:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.reference","When set to `false` IntelliSense never shows `reference` suggestions.")},customcolor:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.customcolor","When set to `false` IntelliSense never shows `customcolor` suggestions.")},folder:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.folder","When set to `false` IntelliSense never shows `folder` suggestions.")},typeParameter:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.typeParameter","When set to `false` IntelliSense never shows `typeParameter` suggestions.")},snippet:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.snippet","When set to `false` IntelliSense never shows `snippet` suggestions.")}}},"editor.gotoLocation.multiple":{description:D("editor.gotoLocation.multiple","Controls the behavior of 'Go To' commands, like Go To Definition, when multiple target locations exist."),type:"string",enum:["peek","gotoAndPeek","goto"],default:Pe.contribInfo.gotoLocation.multiple,enumDescriptions:[D("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),D("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),D("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},"editor.selectionHighlight":{type:"boolean",default:Pe.contribInfo.selectionHighlight,description:D("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")},"editor.occurrencesHighlight":{type:"boolean",default:Pe.contribInfo.occurrencesHighlight,description:D("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")},"editor.overviewRulerLanes":{type:"integer",default:3,description:D("overviewRulerLanes","Controls the number of decorations that can show up at the same position in the overview ruler.")},"editor.overviewRulerBorder":{type:"boolean",default:Pe.viewInfo.overviewRulerBorder,description:D("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:bTe(),description:D("cursorBlinking","Control the cursor animation style.")},"editor.mouseWheelZoom":{type:"boolean",default:Pe.viewInfo.mouseWheelZoom,markdownDescription:D("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")},"editor.cursorSmoothCaretAnimation":{type:"boolean",default:Pe.viewInfo.cursorSmoothCaretAnimation,description:D("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:CTe(Pe.viewInfo.cursorStyle),description:D("cursorStyle","Controls the cursor style.")},"editor.cursorWidth":{type:"integer",default:Pe.viewInfo.cursorWidth,markdownDescription:D("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")},"editor.fontLigatures":{type:"boolean",default:Pe.viewInfo.fontLigatures,description:D("fontLigatures","Enables/Disables font ligatures.")},"editor.hideCursorInOverviewRuler":{type:"boolean",default:Pe.viewInfo.hideCursorInOverviewRuler,description:D("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")},"editor.renderWhitespace":{type:"string",enum:["none","boundary","selection","all"],enumDescriptions:["",D("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),D("renderWhitespace.selection","Render whitespace characters only on selected text."),""],default:Pe.viewInfo.renderWhitespace,description:D("renderWhitespace","Controls how the editor should render whitespace characters.")},"editor.renderControlCharacters":{type:"boolean",default:Pe.viewInfo.renderControlCharacters,description:D("renderControlCharacters","Controls whether the editor should render control characters.")},"editor.renderIndentGuides":{type:"boolean",default:Pe.viewInfo.renderIndentGuides,description:D("renderIndentGuides","Controls whether the editor should render indent guides.")},"editor.highlightActiveIndentGuide":{type:"boolean",default:Pe.viewInfo.highlightActiveIndentGuide,description:D("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],enumDescriptions:["","","",D("renderLineHighlight.all","Highlights both the gutter and the current line.")],default:Pe.viewInfo.renderLineHighlight,description:D("renderLineHighlight","Controls how the editor should render the current line highlight.")},"editor.codeLens":{type:"boolean",default:Pe.contribInfo.codeLens,description:D("codeLens","Controls whether the editor shows CodeLens.")},"editor.folding":{type:"boolean",default:Pe.contribInfo.folding,description:D("folding","Controls whether the editor has code folding enabled.")},"editor.foldingStrategy":{type:"string",enum:["auto","indentation"],default:Pe.contribInfo.foldingStrategy,markdownDescription:D("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:Pe.contribInfo.showFoldingControls,description:D("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")},"editor.matchBrackets":{type:"boolean",default:Pe.contribInfo.matchBrackets,description:D("matchBrackets","Highlight matching brackets when one of them is selected.")},"editor.glyphMargin":{type:"boolean",default:Pe.viewInfo.glyphMargin,description:D("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")},"editor.useTabStops":{type:"boolean",default:Pe.useTabStops,description:D("useTabStops","Inserting and deleting whitespace follows tab stops.")},"editor.trimAutoWhitespace":{type:"boolean",default:K0.trimAutoWhitespace,description:D("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.dragAndDrop":{type:"boolean",default:Pe.dragAndDrop,description:D("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[D("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),D("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),D("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:Pe.accessibilitySupport,description:D("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")},"editor.showUnused":{type:"boolean",default:Pe.showUnused,description:D("showUnused","Controls fading out of unused code.")},"editor.links":{type:"boolean",default:Pe.contribInfo.links,description:D("links","Controls whether the editor should detect links and make them clickable.")},"editor.colorDecorators":{type:"boolean",default:Pe.contribInfo.colorDecorators,description:D("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")},"editor.lightbulb.enabled":{type:"boolean",default:Pe.contribInfo.lightbulbEnabled,description:D("codeActions","Enables the code action lightbulb in the editor.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.codeActionsOnSave":{type:"object",properties:{"source.organizeImports":{type:"boolean",description:D("codeActionsOnSave.organizeImports","Controls whether organize imports action should be run on file save.")},"source.fixAll":{type:"boolean",description:D("codeActionsOnSave.fixAll","Controls whether auto fix action should be run on file save.")}},additionalProperties:{type:"boolean"},default:Pe.contribInfo.codeActionsOnSave,description:D("codeActionsOnSave","Code action kinds to be run on save.")},"editor.codeActionsOnSaveTimeout":{type:"number",default:Pe.contribInfo.codeActionsOnSaveTimeout,description:D("codeActionsOnSaveTimeout","Timeout in milliseconds after which the code actions that are run on save are cancelled.")},"editor.selectionClipboard":{type:"boolean",default:Pe.contribInfo.selectionClipboard,description:D("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Uc},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:D("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:D("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"editor.largeFileOptimizations":{type:"boolean",default:K0.largeFileOptimizations,description:D("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:D("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}},bE=null;function mee(){return bE===null&&(bE=Object.create(null),Object.keys(vee.properties).forEach(function(n){bE[n]=!0})),bE}function xIe(n){var e=mee();return e["editor."+n]||!1}function LIe(n){var e=mee();return e["diffEditor."+n]||!1}IIe.registerConfiguration(vee);var Or=function(){function n(){}return n.insert=function(e,t){return{range:new H(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},n.delete=function(e){return{range:e,text:null}},n.replace=function(e,t){return{range:e,text:t}},n.replaceMove=function(e,t){return{range:e,text:t,forceMoveMarkers:!0}},n}(),pi=qt("configurationService");function NIe(n,e){var t=Object.create(null);for(var r in n)S6(t,r,n[r],e);return t}function S6(n,e,t,r){for(var i=e.split("."),o=i.pop(),s=n,a=0;a<i.length;a++){var u=i[a],l=s[u];switch(typeof l){case"undefined":l=s[u]=Object.create(null);break;case"object":break;default:r("Ignoring "+e+" as "+i.slice(0,a+1).join(".")+" is "+JSON.stringify(l));return}s=l}typeof s=="object"?s[o]=t:r("Ignoring "+e+" as "+i.join(".")+" is "+JSON.stringify(s))}function OIe(n,e){var t=e.split(".");_ee(n,t)}function _ee(n,e){var t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){var r=n[t];typeof r=="object"&&!Array.isArray(r)&&(_ee(r,e),Object.keys(r).length===0&&delete n[t])}}function kIe(n,e,t){function r(s,a){for(var u=s,l=0,c=a;l<c.length;l++){var d=c[l];if(typeof u!="object"||u===null)return;u=u[d]}return u}var i=e.split("."),o=r(n,i);return typeof o>"u"?t:o}function RIe(){var n=To.as(T_.Configuration).getConfigurationProperties();return Object.keys(n)}function PIe(){var n=Object.create(null),e=To.as(T_.Configuration).getConfigurationProperties();for(var t in e){var r=e[t].default;S6(n,t,r,function(i){return console.error("Conflict in default settings: "+i)})}return n}function MIe(n){return n.substring(1,n.length-1)}function FIe(n,e,t){var r=n.inspect(e),i=n.inspect(t);return typeof r.user<"u"||typeof r.workspace<"u"||typeof r.workspaceFolder<"u"?r.value:typeof i.user<"u"||typeof i.workspace<"u"||typeof i.workspaceFolder<"u"?i.value:r.default}var BIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kv=function(){function n(e,t,r){e===void 0&&(e={}),t===void 0&&(t=[]),r===void 0&&(r=[]),this._contents=e,this._keys=t,this._overrides=r,this.isFrozen=!1}return Object.defineProperty(n.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),n.prototype.isEmpty=function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0},n.prototype.getValue=function(e){return e?kIe(this.contents,e):this.contents},n.prototype.override=function(e){var t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;for(var r={},i=0,o=aJ(Object.keys(this.contents).concat(Object.keys(t)));i<o.length;i++){var s=o[i],a=this.contents[s],u=t[s];u&&(typeof a=="object"&&typeof u=="object"?(a=ac(a),this.mergeContents(a,u)):a=u),r[s]=a}return new n(r)},n.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=ac(this.contents),i=ac(this.overrides),o=this.keys.slice(),s=0,a=e;s<a.length;s++){var u=a[s];this.mergeContents(r,u.contents);for(var l=function(b){var C=i.filter(function(E){return Ah(E.identifiers,b.identifiers)})[0];C?c.mergeContents(C.contents,b.contents):i.push(ac(b))},c=this,d=0,h=u.overrides;d<h.length;d++){var p=h[d];l(p)}for(var v=0,m=u.keys;v<m.length;v++){var _=m[v];o.indexOf(_)===-1&&o.push(_)}}return new n(r,o,i)},n.prototype.freeze=function(){return this.isFrozen=!0,this},n.prototype.mergeContents=function(e,t){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(o in e&&Ui(e[o])&&Ui(t[o])){this.mergeContents(e[o],t[o]);continue}e[o]=ac(t[o])}},n.prototype.checkAndFreeze=function(e){return this.isFrozen&&!Object.isFrozen(e)?cTe(e):e},n.prototype.getContentsForOverrideIdentifer=function(e){for(var t=0,r=this.overrides;t<r.length;t++){var i=r[t];if(i.identifiers.indexOf(e)!==-1)return i.contents}return null},n.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},n.prototype.setValue=function(e,t){this.addKey(e),S6(this.contents,e,t,function(r){throw new Error(r)})},n.prototype.removeValue=function(e){this.removeKey(e)&&OIe(this.contents,e)},n.prototype.addKey=function(e){for(var t=this.keys.length,r=0;r<t;r++)e.indexOf(this.keys[r])===0&&(t=r);this.keys.splice(t,1,e)},n.prototype.removeKey=function(e){var t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1},n}(),HIe=function(n){BIe(e,n);function e(){for(var t=this,r=PIe(),i=RIe(),o=[],s=0,a=Object.keys(r);s<a.length;s++){var u=a[s];E6.test(u)&&o.push({identifiers:[MIe(u).trim()],contents:NIe(r[u],function(l){return console.error("Conflict in default settings file: "+l)})})}return t=n.call(this,r,i,o)||this,t}return e}(kv),VIe=function(){function n(e,t,r,i,o,s,a,u){r===void 0&&(r=new kv),i===void 0&&(i=new kv),o===void 0&&(o=new gO),s===void 0&&(s=new kv),a===void 0&&(a=new gO),u===void 0&&(u=!0),this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=r,this._workspaceConfiguration=i,this._folderConfigurations=o,this._memoryConfiguration=s,this._memoryConfigurationByResource=a,this._freeze=u,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new gO}return n.prototype.getValue=function(e,t,r){var i=this.getConsolidateConfigurationModel(t,r);return i.getValue(e)},n.prototype.updateValue=function(e,t,r){r===void 0&&(r={});var i;r.resource?(i=this._memoryConfigurationByResource.get(r.resource),i||(i=new kv,this._memoryConfigurationByResource.set(r.resource,i))):i=this._memoryConfiguration,t===void 0?i.removeValue(e):i.setValue(e,t),r.resource||(this._workspaceConsolidatedConfiguration=null)},n.prototype.inspect=function(e,t,r){var i=this.getConsolidateConfigurationModel(t,r),o=this.getFolderConfigurationModelForResource(t.resource,r),s=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration;return{default:t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),user:t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),userLocal:t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),userRemote:t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),workspace:r?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,workspaceFolder:o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,memory:t.overrideIdentifier?s.override(t.overrideIdentifier).getValue(e):s.getValue(e),value:i.getValue(e)}},Object.defineProperty(n.prototype,"userConfiguration",{get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"localUserConfiguration",{get:function(){return this._localUserConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"remoteUserConfiguration",{get:function(){return this._remoteUserConfiguration},enumerable:!0,configurable:!0}),n.prototype.getConsolidateConfigurationModel=function(e,t){var r=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?r.override(e.overrideIdentifier):r},n.prototype.getConsolidatedConfigurationModelForResource=function(e,t){var r=e.resource,i=this.getWorkspaceConsolidatedConfiguration();if(t&&r){var o=t.getFolder(r);o&&(i=this.getFolderConsolidatedConfiguration(o.uri)||i);var s=this._memoryConfigurationByResource.get(r);s&&(i=i.merge(s))}return i},n.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},n.prototype.getFolderConsolidatedConfiguration=function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var r=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=r.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=r}return t},n.prototype.getFolderConfigurationModelForResource=function(e,t){if(t&&e){var r=t.getFolder(e);if(r)return Cm(this._folderConfigurations.get(r.uri))}return null},n}(),WIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UIe=function(n){WIe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._contextKeyService=t,s._commandService=r,s._telemetryService=i,s._notificationService=o,s._onDidUpdateKeybindings=s._register(new Q),s._currentChord=null,s._currentChordChecker=new E_,s._currentChordStatusMessage=null,s}return Object.defineProperty(e.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Je.None},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.lookupKeybinding=function(t){var r=this._getResolver().lookupPrimaryKeybinding(t);if(r)return r.resolvedKeybinding},e.prototype.softDispatch=function(t,r){var i=this.resolveKeyboardEvent(t);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var o=i.getDispatchParts()[0];if(o===null)return null;var s=this._contextKeyService.getContext(r),a=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,a,o)},e.prototype._enterChordMode=function(t,r){var i=this;this._currentChord={keypress:t,label:r},this._currentChordStatusMessage=this._notificationService.status(D("first.chord","({0}) was pressed. Waiting for second key of chord...",r));var o=Date.now();this._currentChordChecker.cancelAndSet(function(){if(!i._documentHasFocus()){i._leaveChordMode();return}Date.now()-o>5e3&&i._leaveChordMode()},500)},e.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},e.prototype._dispatch=function(t,r){return this._doDispatch(this.resolveKeyboardEvent(t),r)},e.prototype._doDispatch=function(t,r){var i=this,o=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var s=t.getDispatchParts()[0];if(s===null)return o;var a=this._contextKeyService.getContext(r),u=this._currentChord?this._currentChord.keypress:null,l=t.getLabel(),c=this._getResolver().resolve(a,u,s);return c&&c.enterChord?(o=!0,this._enterChordMode(s,l),o):(this._currentChord&&(!c||!c.commandId)&&(this._notificationService.status(D("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),o=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(o=!0),typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,function(d){return i._notificationService.warn(d)}):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,function(d){return i._notificationService.warn(d)}),this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),o)},e.prototype.mightProducePrintableCharacter=function(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30},e}(fe),jIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Le=function(){function n(){}return n.has=function(e){return Am.create(e)},n.equals=function(e,t){return CM.create(e,t)},n.regex=function(e,t){return Zj.create(e,t)},n.not=function(e){return Qb.create(e)},n.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Jj.create(e)},n.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zb.create(e)},n.deserialize=function(e,t){if(t===void 0&&(t=!1),!!e)return this._deserializeOrExpression(e,t)},n._deserializeOrExpression=function(e,t){var r=this,i=e.split("||");return Zb.create(i.map(function(o){return r._deserializeAndExpression(o,t)}))},n._deserializeAndExpression=function(e,t){var r=this,i=e.split("&&");return Jj.create(i.map(function(o){return r._deserializeOne(o,t)}))},n._deserializeOne=function(e,t){if(e=e.trim(),e.indexOf("!=")>=0){var r=e.split("!=");return yee.create(r[0].trim(),this._deserializeValue(r[1],t))}if(e.indexOf("==")>=0){var r=e.split("==");return CM.create(r[0].trim(),this._deserializeValue(r[1],t))}if(e.indexOf("=~")>=0){var r=e.split("=~");return Zj.create(r[0].trim(),this._deserializeRegexValue(r[1],t))}return/^\!\s*/.test(e)?Qb.create(e.substr(1).trim()):Am.create(e)},n._deserializeValue=function(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;var r=/^'([^']*)'$/.exec(e);return r?r[1].trim():e},n._deserializeRegexValue=function(e,t){if(WJ(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var r=e.indexOf("/"),i=e.lastIndexOf("/");if(r===i||r<0){if(t)throw new Error("bad regexp-value '"+e+"', missing /-enclosure");return console.warn("bad regexp-value '"+e+"', missing /-enclosure"),null}var o=e.slice(r+1,i),s=e[i+1]==="i"?"i":"";try{return new RegExp(o,s)}catch(a){if(t)throw new Error("bad regexp-value '"+e+"', parse error: "+a);return console.warn("bad regexp-value '"+e+"', parse error: "+a),null}},n}();function bM(n,e){var t=n.getType(),r=e.getType();if(t!==r)return t-r;switch(t){case 1:return n.cmp(e);case 2:return n.cmp(e);case 3:return n.cmp(e);case 4:return n.cmp(e);case 6:return n.cmp(e);case 7:return n.cmp(e);case 5:return n.cmp(e);default:throw new Error("Unknown ContextKeyExpr!")}}var Am=function(){function n(e){this.key=e}return n.create=function(e){return new n(e)},n.prototype.getType=function(){return 1},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key:!1},n.prototype.evaluate=function(e){return!!e.getValue(this.key)},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return Qb.create(this.key)},n}(),CM=function(){function n(e,t){this.key=e,this.value=t}return n.create=function(e,t){return typeof t=="boolean"?t?Am.create(e):Qb.create(e):new n(e,t)},n.prototype.getType=function(){return 3},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key&&this.value===e.value:!1},n.prototype.evaluate=function(e){return e.getValue(this.key)==this.value},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return yee.create(this.key,this.value)},n}(),yee=function(){function n(e,t){this.key=e,this.value=t}return n.create=function(e,t){return typeof t=="boolean"?t?Qb.create(e):Am.create(e):new n(e,t)},n.prototype.getType=function(){return 4},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key&&this.value===e.value:!1},n.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return CM.create(this.key,this.value)},n}(),Qb=function(){function n(e){this.key=e}return n.create=function(e){return new n(e)},n.prototype.getType=function(){return 2},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key:!1},n.prototype.evaluate=function(e){return!e.getValue(this.key)},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return Am.create(this.key)},n}(),Zj=function(){function n(e,t){this.key=e,this.regexp=t}return n.create=function(e,t){return new n(e,t)},n.prototype.getType=function(){return 6},n.prototype.cmp=function(e){if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0},n.prototype.equals=function(e){if(e instanceof n){var t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1},n.prototype.evaluate=function(e){var t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return qIe.create(this)},n}(),qIe=function(){function n(e){this._actual=e}return n.create=function(e){return new n(e)},n.prototype.getType=function(){return 7},n.prototype.cmp=function(e){return this._actual.cmp(e._actual)},n.prototype.equals=function(e){return e instanceof n?this._actual.equals(e._actual):!1},n.prototype.evaluate=function(e){return!this._actual.evaluate(e)},n.prototype.keys=function(){return this._actual.keys()},n.prototype.negate=function(){return this._actual},n}(),Jj=function(){function n(e){this.expr=e}return n.create=function(e){var t=n._normalizeArr(e);if(t.length!==0)return t.length===1?t[0]:new n(t)},n.prototype.getType=function(){return 5},n.prototype.cmp=function(e){if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(var t=0,r=this.expr.length;t<r;t++){var i=bM(this.expr[t],e.expr[t]);if(i!==0)return i}return 0},n.prototype.equals=function(e){if(e instanceof n){if(this.expr.length!==e.expr.length)return!1;for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1},n.prototype.evaluate=function(e){for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0},n._normalizeArr=function(e){var t=[];if(e){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(o){if(o instanceof n){t=t.concat(o.expr);continue}if(o instanceof Zb)throw new Error("It is not allowed to have an or expression here due to lack of parens!");t.push(o)}}t.sort(bM)}return t},n.prototype.keys=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push.apply(e,i.keys())}return e},n.prototype.negate=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push(i.negate())}return Zb.create(e)},n}(),Zb=function(){function n(e){this.expr=e}return n.create=function(e){var t=n._normalizeArr(e);if(t.length!==0)return t.length===1?t[0]:new n(t)},n.prototype.getType=function(){return 8},n.prototype.equals=function(e){if(e instanceof n){if(this.expr.length!==e.expr.length)return!1;for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1},n.prototype.evaluate=function(e){for(var t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1},n._normalizeArr=function(e){var t=[];if(e){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(o){if(o instanceof n){t=t.concat(o.expr);continue}t.push(o)}}t.sort(bM)}return t},n.prototype.keys=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push.apply(e,i.keys())}return e},n.prototype.negate=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push(i.negate())}for(var o=function(m){return m instanceof n?m.expr:[m]};e.length>1;){for(var s=e.shift(),a=e.shift(),u=[],l=0,c=o(s);l<c.length;l++)for(var d=c[l],h=0,p=o(a);h<p.length;h++){var v=p[h];u.push(Le.and(d,v))}e.unshift(Le.or.apply(Le,u))}return e[0]},n}(),Ke=function(n){jIe(e,n);function e(t,r){var i=n.call(this,t)||this;return i._defaultValue=r,i}return e.prototype.bindTo=function(t){return t.createKey(this.key,this._defaultValue)},e.prototype.getValue=function(t){return t.getContextKeyValue(this.key)},e.prototype.toNegated=function(){return Le.not(this.key)},e}(Am),yt=qt("contextKeyService"),zIe="setContext",bee=function(){function n(e,t){this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(var r=0,i=e.length;r<i;r++){var o=e[r].command;o&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=n.combine(e,t);for(var r=0,i=this._keybindings.length;r<i;r++){var s=this._keybindings[r];s.keypressParts.length!==0&&this._addKeyPress(s.keypressParts[0],s)}}return n._isTargetedForRemoval=function(e,t,r,i,o){return!(e.command!==i||t&&e.keypressParts[0]!==t||r&&e.keypressParts[1]!==r||o&&(!e.when||!o.equals(e.when)))},n.combine=function(e,t){e=e.slice(0);for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(!s.command||s.command.length===0||s.command.charAt(0)!=="-"){r.push(s);continue}for(var a=s.command.substr(1),u=s.keypressParts[0],l=s.keypressParts[1],c=s.when,d=e.length-1;d>=0;d--)this._isTargetedForRemoval(e[d],u,l,a,c)&&e.splice(d,1)}return e.concat(r)},n.prototype._addKeyPress=function(e,t){var r=this._map.get(e);if(typeof r>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(var i=r.length-1;i>=0;i--){var o=r[i];if(o.command!==t.command){var s=o.keypressParts.length>1,a=t.keypressParts.length>1;s&&a&&o.keypressParts[1]!==t.keypressParts[1]||n.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}}r.push(t),this._addToLookupMap(t)},n.prototype._addToLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}},n.prototype._removeFromLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(var r=0,i=t.length;r<i;r++)if(t[r]===e){t.splice(r,1);return}}}},n.whenIsEntirelyIncluded=function(e,t){return t?e?this._implies(e,t):!1:!0},n._implies=function(e,t){for(var r=e.negate(),i=function(d){return d instanceof Zb?d.expr:[d]},o=i(r).concat(i(t)),s=0;s<o.length;s++)for(var a=o[s],u=a.negate(),l=s+1;l<o.length;l++){var c=o[l];if(u.equals(c))return!0}return!1},n.prototype.lookupPrimaryKeybinding=function(e){var t=this._lookupMap.get(e);return typeof t>"u"||t.length===0?null:t[t.length-1]},n.prototype.resolve=function(e,t,r){var i=null;if(t!==null){var o=this._map.get(t);if(typeof o>"u")return null;i=[];for(var s=0,a=o.length;s<a;s++){var u=o[s];u.keypressParts[1]===r&&i.push(u)}}else{var o=this._map.get(r);if(typeof o>"u")return null;i=o}var l=this._findCommand(e,i);return l?t===null&&l.keypressParts.length>1&&l.keypressParts[1]!==null?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:l.command,commandArgs:l.commandArgs,bubble:l.bubble}:null},n.prototype._findCommand=function(e,t){for(var r=t.length-1;r>=0;r--){var i=t[r];if(n.contextMatchesRules(e,i.when))return i}return null},n.contextMatchesRules=function(e,t){return t?t.evaluate(e):!0},n}(),GIe=function(){function n(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return n.bindToCurrentPlatform=function(e){if(Qu===1){if(e&&e.win)return e.win}else if(Qu===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},n.prototype.registerKeybindingRule=function(e){var t=n.bindToCurrentPlatform(e);if(t&&t.primary){var r=_T(t.primary,Qu);r&&this._registerDefaultKeybinding(r,e.id,void 0,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(var i=0,o=t.secondary.length;i<o;i++){var s=t.secondary[i],r=_T(s,Qu);r&&this._registerDefaultKeybinding(r,e.id,void 0,e.weight,-i-1,e.when)}},n.prototype.registerCommandAndKeybindingRule=function(e){this.registerKeybindingRule(e),Ri.registerCommand(e)},n._mightProduceChar=function(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92},n.prototype._assertNoCtrlAlt=function(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&n._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)},n.prototype._registerDefaultKeybinding=function(e,t,r,i,o,s){Qu===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:r,when:s,weight1:i,weight2:o}),this._cachedMergedKeybindings=null},n.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(KIe)),this._cachedMergedKeybindings.slice(0)},n}(),pa=new GIe,$Ie={EditorModes:"platform.keybindingsRegistry"};To.add($Ie.EditorModes,pa);function KIe(n,e){return n.weight1!==e.weight1?n.weight1-e.weight1:n.command<e.command?-1:n.command>e.command?1:n.weight2-e.weight2}var eq=function(){function n(e,t,r,i,o){this.resolvedKeybinding=e,this.keypressParts=e?YIe(e.getDispatchParts()):[],this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=r,this.when=i,this.isDefault=o}return n}();function YIe(n){for(var e=[],t=0,r=n.length;t<r;t++){var i=n[t];if(!i)return e;e.push(i)}return e}var Cee=function(){function n(e,t,r){r===void 0&&(r=t),this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=r}return n.prototype.toLabel=function(e,t,r){if(t.length===0)return null;for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=r(a);if(u===null)return null;i[o]=QIe(a,u,this.modifierLabels[e])}return i.join(" ")},n}(),wee=new Cee({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:D({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),XIe=new Cee({ctrlKey:D({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:D({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function QIe(n,e,t){if(e===null)return"";var r=[];return n.ctrlKey&&r.push(t.ctrlKey),n.shiftKey&&r.push(t.shiftKey),n.altKey&&r.push(t.altKey),n.metaKey&&r.push(t.metaKey),r.push(e),r.join(t.separator)}var ZIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JIe=function(n){ZIe(e,n);function e(t,r){var i=n.call(this)||this;if(r.length===0)throw Rr("parts");return i._os=t,i._parts=r,i}return e.prototype.getLabel=function(){var t=this;return wee.toLabel(this._os,this._parts,function(r){return t._getLabel(r)})},e.prototype.getAriaLabel=function(){var t=this;return XIe.toLabel(this._os,this._parts,function(r){return t._getAriaLabel(r)})},e.prototype.isChord=function(){return this._parts.length>1},e.prototype.getParts=function(){var t=this;return this._parts.map(function(r){return t._getPart(r)})},e.prototype._getPart=function(t){return new VTe(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))},e.prototype.getDispatchParts=function(){var t=this;return this._parts.map(function(r){return t._getDispatchPart(r)})},e}(WTe),exe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tq=function(n){exe(e,n);function e(t,r){return n.call(this,r,t.parts)||this}return e.prototype._keyCodeToUILabel=function(t){if(this._os===2)switch(t){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return Qv.toString(t)},e.prototype._getLabel=function(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)},e.prototype._getAriaLabel=function(t){return t.isDuplicateModifierCase()?"":Qv.toString(t.keyCode)},e.prototype._getDispatchPart=function(t){return e.getDispatchStr(t)},e.getDispatchStr=function(t){if(t.isModifierKey())return null;var r="";return t.ctrlKey&&(r+="ctrl+"),t.shiftKey&&(r+="shift+"),t.altKey&&(r+="alt+"),t.metaKey&&(r+="meta+"),r+=Qv.toString(t.keyCode),r},e}(JIe),gi=qt("notificationService"),txe=function(){function n(){}return n}(),Eee=qt("contextService"),nq;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"&&Array.isArray(t.folders)}n.isIWorkspace=e})(nq||(nq={}));var rq;(function(n){function e(t){return t&&typeof t=="object"&&Ft.isUri(t.uri)&&typeof t.name=="string"&&typeof t.toResource=="function"}n.isIWorkspaceFolder=e})(rq||(rq={}));(function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=null),this._id=e,this._configuration=r,this._foldersMap=dM.forPaths(),this.folders=t}return Object.defineProperty(n.prototype,"folders",{get:function(){return this._folders},set:function(e){this._folders=e,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configuration",{get:function(){return this._configuration},set:function(e){this._configuration=e},enumerable:!0,configurable:!0}),n.prototype.getFolder=function(e){return e&&this._foldersMap.findSubstr(e.with({scheme:e.scheme,authority:e.authority,path:e.path}).toString())||null},n.prototype.updateFoldersMap=function(){this._foldersMap=dM.forPaths();for(var e=0,t=this.folders;e<t.length;e++){var r=t[e];this._foldersMap.set(r.uri.toString(),r)}},n.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}},n})();var nxe=function(){function n(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}return n.prototype.toResource=function(e){return oAe(this.uri,e)},n.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},n}(),Jn;(function(n){n.noSelection=D("noSelection","No selection"),n.singleSelectionRange=D("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),n.singleSelection=D("singleSelection","Line {0}, Column {1}"),n.multiSelectionRange=D("multiSelectionRange","{0} selections ({1} characters selected)"),n.multiSelection=D("multiSelection","{0} selections"),n.emergencyConfOn=D("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),n.openingDocs=D("openingDocs","Now opening the Editor Accessibility documentation page."),n.readonlyDiffEditor=D("readonlyDiffEditor"," in a read-only pane of a diff editor."),n.editableDiffEditor=D("editableDiffEditor"," in a pane of a diff editor."),n.readonlyEditor=D("readonlyEditor"," in a read-only code editor"),n.editableEditor=D("editableEditor"," in a code editor"),n.changeConfigToOnMac=D("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),n.changeConfigToOnWinLinux=D("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),n.auto_on=D("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),n.auto_off=D("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),n.tabFocusModeOnMsg=D("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),n.tabFocusModeOnMsgNoKb=D("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),n.tabFocusModeOffMsg=D("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),n.tabFocusModeOffMsgNoKb=D("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),n.openDocMac=D("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),n.openDocWinLinux=D("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),n.outroMsg=D("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),n.showAccessibilityHelpAction=D("showAccessibilityHelpAction","Show Accessibility Help")})(Jn||(Jn={}));var wM;(function(n){n.inspectTokensAction=D("inspectTokens","Developer: Inspect Tokens")})(wM||(wM={}));var uc;(function(n){n.gotoLineLabelValidLineAndColumn=D("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}"),n.gotoLineLabelValidLine=D("gotoLineLabelValidLine","Go to line {0}"),n.gotoLineLabelEmptyWithLineLimit=D("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to"),n.gotoLineLabelEmptyWithLineAndColumnLimit=D("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to"),n.gotoLineAriaLabel=D("gotoLineAriaLabel","Current Line: {0}. Go to line {1}."),n.gotoLineActionInput=D("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),n.gotoLineActionLabel=D("gotoLineActionLabel","Go to Line...")})(uc||(uc={}));var Im;(function(n){n.ariaLabelEntryWithKey=D("ariaLabelEntryWithKey","{0}, {1}, commands"),n.ariaLabelEntry=D("ariaLabelEntry","{0}, commands"),n.quickCommandActionInput=D("quickCommandActionInput","Type the name of an action you want to execute"),n.quickCommandActionLabel=D("quickCommandActionLabel","Command Palette")})(Im||(Im={}));var oo;(function(n){n.entryAriaLabel=D("entryAriaLabel","{0}, symbols"),n.quickOutlineActionInput=D("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),n.quickOutlineActionLabel=D("quickOutlineActionLabel","Go to Symbol..."),n._symbols_=D("symbols","symbols ({0})"),n._modules_=D("modules","modules ({0})"),n._class_=D("class","classes ({0})"),n._interface_=D("interface","interfaces ({0})"),n._method_=D("method","methods ({0})"),n._function_=D("function","functions ({0})"),n._property_=D("property","properties ({0})"),n._variable_=D("variable","variables ({0})"),n._variable2_=D("variable2","variables ({0})"),n._constructor_=D("_constructor","constructors ({0})"),n._call_=D("call","calls ({0})")})(oo||(oo={}));var Gy;(function(n){n.editorViewAccessibleLabel=D("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessageIE=D("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."),n.accessibilityHelpMessage=D("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(Gy||(Gy={}));var EM;(function(n){n.toggleHighContrast=D("toggleHighContrast","Toggle High Contrast Theme")})(EM||(EM={}));var SM;(function(n){n.bulkEditServiceSummary=D("bulkEditServiceSummary","Made {0} edits in {1} files")})(SM||(SM={}));var rxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ixe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oxe=function(n,e){return function(t,r){e(t,r,n)}},sxe=function(){function n(e){this.model=e,this._onDispose=new Q}return Object.defineProperty(n.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._onDispose.fire()},n}();function axe(n,e,t){return Tl(n)?e(n):t(n)}var uxe=function(){function n(){}return n.prototype.setEditor=function(e){this.editor=e},n.prototype.createModelReference=function(e){var t=this,r=null;return this.editor&&(r=axe(this.editor,function(i){return t.findModel(i,e)},function(i){return t.findModel(i.getOriginalEditor(),e)||t.findModel(i.getModifiedEditor(),e)})),r?Promise.resolve(new RTe(new sxe(r))):Promise.reject(new Error("Model not found"))},n.prototype.findModel=function(e,t){var r=e.getModel();return r&&r.uri.toString()!==t.toString()?null:r},n}(),lxe=function(){function n(){}return n.prototype.showWhile=function(e,t){return Promise.resolve(void 0)},n}(),cxe=function(){function n(){}return n}(),fxe=function(){function n(){}return n.prototype.info=function(e){return this.notify({severity:tr.Info,message:e})},n.prototype.warn=function(e){return this.notify({severity:tr.Warning,message:e})},n.prototype.error=function(e){return this.notify({severity:tr.Error,message:e})},n.prototype.notify=function(e){switch(e.severity){case tr.Error:console.error(e.message);break;case tr.Warning:console.warn(e.message);break;default:console.log(e.message);break}return n.NO_OP},n.prototype.status=function(e,t){return fe.None},n.NO_OP=new txe,n}(),See=function(){function n(e){this._onWillExecuteCommand=new Q,this._onDidExecuteCommand=new Q,this._instantiationService=e,this._dynamicCommands=Object.create(null)}return n.prototype.addCommand=function(e){var t=this,r=e.id;return this._dynamicCommands[r]=e,bn(function(){delete t._dynamicCommands[r]})},n.prototype.executeCommand=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Ri.getCommand(e)||this._dynamicCommands[e];if(!i)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e,args:t});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler].concat(t));return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(o)}catch(s){return Promise.reject(s)}},n}(),Tee=function(n){rxe(e,n);function e(t,r,i,o,s){var a=n.call(this,t,r,i,o)||this;return a._cachedResolver=null,a._dynamicKeybindings=[],a._register(_e(s,lt.KEY_DOWN,function(u){var l=new Un(u),c=a._dispatch(l,l.target);c&&l.preventDefault()})),a}return e.prototype.addDynamicKeybinding=function(t,r,i,o){var s=this,a=_T(r,Qu);if(!a)throw new Error("Invalid keybinding");var u=new Be;this._dynamicKeybindings.push({keybinding:a,command:t,when:o,weight1:1e3,weight2:0}),u.add(bn(function(){for(var c=0;c<s._dynamicKeybindings.length;c++){var d=s._dynamicKeybindings[c];if(d.command===t){s._dynamicKeybindings.splice(c,1),s.updateResolver({source:1});return}}}));var l=this._commandService;if(l instanceof See)u.add(l.addCommand({id:t,handler:i}));else throw new Error("Unknown command service!");return this.updateResolver({source:1}),u},e.prototype.updateResolver=function(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)},e.prototype._getResolver=function(){if(!this._cachedResolver){var t=this._toNormalizedKeybindingItems(pa.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new bee(t,r)}return this._cachedResolver},e.prototype._documentHasFocus=function(){return document.hasFocus()},e.prototype._toNormalizedKeybindingItems=function(t,r){for(var i=[],o=0,s=0,a=t;s<a.length;s++){var u=a[s],l=u.when||void 0,c=u.keybinding;if(!c)i[o++]=new eq(void 0,u.command,u.commandArgs,l,r);else for(var d=this.resolveKeybinding(c),h=0,p=d;h<p.length;h++){var v=p[h];i[o++]=new eq(v,u.command,u.commandArgs,l,r)}}return i},e.prototype.resolveKeybinding=function(t){return[new tq(t,Qu)]},e.prototype.resolveKeyboardEvent=function(t){var r=new j4(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new tq(r,Qu)},e}(UIe);function iq(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof Ft)}var Dee=function(){function n(){this._onDidChangeConfiguration=new Q,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new VIe(new HIe,new kv)}return n.prototype.configuration=function(){return this._configuration},n.prototype.getValue=function(e,t){var r=typeof e=="string"?e:void 0,i=iq(e)?e:iq(t)?t:{};return this.configuration().getValue(r,i,void 0)},n.prototype.updateValue=function(e,t,r,i){return this.configuration().updateValue(e,t),Promise.resolve()},n.prototype.inspect=function(e,t){return t===void 0&&(t={}),this.configuration().inspect(e,t,void 0)},n}(),hxe=function(){function n(e){var t=this;this.configurationService=e,this._onDidChangeConfiguration=new Q,this.configurationService.onDidChangeConfiguration(function(r){t._onDidChangeConfiguration.fire(r)})}return n.prototype.getValue=function(e,t,r){var i=J.isIPosition(t)?t:null,o=i?typeof r=="string"?r:void 0:typeof t=="string"?t:void 0;return typeof o>"u"?this.configurationService.getValue():this.configurationService.getValue(o)},n}(),dxe=function(){function n(e){this.configurationService=e}return n.prototype.getEOL=function(e){var t=this.configurationService.getValue("files");return t&&t.eol&&t.eol!=="auto"?t.eol:Uc||Tt?`
`:`\r
`},n=ixe([oxe(0,pi)],n),n}(),pxe=function(){function n(){this._serviceBrand=void 0}return n.prototype.publicLog=function(e,t){return Promise.resolve(void 0)},n.prototype.publicLog2=function(e,t){return this.publicLog(e,t)},n}(),gxe=function(){function n(){var e=Ft.from({scheme:n.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new nxe({uri:e,name:"",index:0})]}}return n.prototype.getWorkspace=function(){return this.workspace},n.prototype.getWorkspaceFolder=function(e){return e&&e.scheme===n.SCHEME?this.workspace.folders[0]:null},n.SCHEME="inmemory",n}();function RT(n,e,t){e&&n instanceof Dee&&Object.keys(e).forEach(function(r){xIe(r)&&n.updateValue("editor."+r,e[r]),t&&LIe(r)&&n.updateValue("diffEditor."+r,e[r])})}var vxe=function(){function n(e){this._modelService=e}return n.prototype.apply=function(e,t){var r=new Map;if(e.edits)for(var i=0,o=e.edits;i<o.length;i++){var s=o[i];if(!GAe(s))return Promise.reject(new Error("bad edit - only text edits are supported"));var a=this._modelService.getModel(s.resource);if(!a)return Promise.reject(new Error("bad edit - model not found"));var u=r.get(a);u||(u=[]),r.set(a,u.concat(s.edits))}var l=0,c=0;return r.forEach(function(d,h){h.applyEdits(d.map(function(p){return Or.replaceMove(H.lift(p.range),p.text)})),c+=1,l+=d.length}),Promise.resolve({selection:void 0,ariaSummary:Yt(SM.bulkEditServiceSummary,l,c)})},n}(),mxe=function(){function n(){}return n.prototype.getUriLabel=function(e,t){return e.scheme==="file"?e.fsPath:e.path},n}(),_xe=function(){function n(e){this._container=e,this.onLayout=Je.None}return Object.defineProperty(n.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),n}(),wv,Ev,Sv;function yxe(n){wv=document.createElement("div"),wv.className="monaco-aria-container",Ev=document.createElement("div"),Ev.className="monaco-alert",Ev.setAttribute("role","alert"),Ev.setAttribute("aria-atomic","true"),wv.appendChild(Ev),Sv=document.createElement("div"),Sv.className="monaco-status",Sv.setAttribute("role","status"),Sv.setAttribute("aria-atomic","true"),wv.appendChild(Sv),n.appendChild(wv)}function ji(n,e){Aee(Ev,n,e)}function oq(n,e){Tt?ji(n,e):Aee(Sv,n,e)}var CE=0,sq=void 0;function Aee(n,e,t){if(wv){if(!t)switch(sq===e?CE++:(sq=e,CE=0),CE){case 0:break;case 1:e=D("repeated","{0} (occurred again)",e);break;default:e=D("repeatedNtimes","{0} (occurred {1} times)",e,CE);break}ca(n),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}}var bxe=function(){function n(e,t){this.chr=e,this.type=t,this.width=0}return n.prototype.fulfill=function(e){this.width=e},n}(),Cxe=function(){function n(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return n.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},n.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);var r=document.createElement("div");r.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),r.style.fontWeight="bold",r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(r);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",e.appendChild(i);for(var o=[],s=0,a=this._requests.length;s<a;s++){var u=this._requests[s],l=void 0;u.type===0&&(l=t),u.type===2&&(l=r),u.type===1&&(l=i),l.appendChild(document.createElement("br"));var c=document.createElement("span");n._render(c,u),l.appendChild(c),o[s]=c}this._container=e,this._testElements=o},n._render=function(e,t){if(t.chr===" "){for(var r="&nbsp;",i=0;i<8;i++)r+=r;e.innerHTML=r}else{for(var o=t.chr,i=0;i<8;i++)o+=o;e.textContent=o}},n.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var r=this._requests[e],i=this._testElements[e];r.fulfill(i.offsetWidth/256)}},n}();function wxe(n,e){var t=new Cxe(n,e);t.read()}var Exe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sxe=function(n){Exe(e,n);function e(t,r){var i=n.call(this)||this;return i.referenceDomElement=t,i.changeCallback=r,i.measureReferenceDomElementToken=-1,i.width=-1,i.height=-1,i.measureReferenceDomElement(!1),i}return e.prototype.dispose=function(){this.stopObserving(),n.prototype.dispose.call(this)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.startObserving=function(){var t=this;this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(function(){return t.measureReferenceDomElement(!0)},100))},e.prototype.stopObserving=function(){this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},e.prototype.observe=function(t){this.measureReferenceDomElement(!0,t)},e.prototype.measureReferenceDomElement=function(t,r){var i=0,o=0;r?(i=r.width,o=r.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,o=this.referenceDomElement.clientHeight),i=Math.max(5,i),o=Math.max(5,o),(this.width!==i||this.height!==o)&&(this.width=i,this.height=o,t&&this.changeCallback())},e}(fe),Iee=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aq=function(){function n(){this._keys=Object.create(null),this._values=Object.create(null)}return n.prototype.has=function(e){var t=e.getId();return!!this._values[t]},n.prototype.get=function(e){var t=e.getId();return this._values[t]},n.prototype.put=function(e,t){var r=e.getId();this._keys[r]=e,this._values[r]=t},n.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},n.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._values[t]})},n}();function Txe(){TM.INSTANCE.clearCache()}var TM=function(n){Iee(e,n);function e(){var t=n.call(this)||this;return t._onDidChange=t._register(new Q),t.onDidChange=t._onDidChange.event,t._cache=new aq,t._evictUntrustedReadingsTimeout=-1,t}return e.prototype.dispose=function(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),n.prototype.dispose.call(this)},e.prototype.clearCache=function(){this._cache=new aq,this._onDidChange.fire()},e.prototype._writeToCache=function(t,r){var i=this;this._cache.put(t,r),!r.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(function(){i._evictUntrustedReadingsTimeout=-1,i._evictUntrustedReadings()},5e3))},e.prototype._evictUntrustedReadings=function(){for(var t=this._cache.getValues(),r=!1,i=0,o=t.length;i<o;i++){var s=t[i];s.isTrusted||(r=!0,this._cache.remove(s))}r&&this._onDidChange.fire()},e.prototype.readConfiguration=function(t){if(!this._cache.has(t)){var r=e._actualReadConfiguration(t);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new pM({zoomLevel:yT(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(t,r)}return this._cache.get(t)},e.createRequest=function(t,r,i,o){var s=new bxe(t,r);return i.push(s),o&&o.push(s),s},e._actualReadConfiguration=function(t){var r=[],i=[],o=this.createRequest("n",0,r,i),s=this.createRequest("",0,r,null),a=this.createRequest(" ",0,r,i),u=this.createRequest("0",0,r,i),l=this.createRequest("1",0,r,i),c=this.createRequest("2",0,r,i),d=this.createRequest("3",0,r,i),h=this.createRequest("4",0,r,i),p=this.createRequest("5",0,r,i),v=this.createRequest("6",0,r,i),m=this.createRequest("7",0,r,i),_=this.createRequest("8",0,r,i),b=this.createRequest("9",0,r,i),C=this.createRequest("",0,r,i),E=this.createRequest("",0,r,null);this.createRequest("",0,r,i),this.createRequest("|",0,r,i),this.createRequest("/",0,r,i),this.createRequest("-",0,r,i),this.createRequest("_",0,r,i),this.createRequest("i",0,r,i),this.createRequest("l",0,r,i),this.createRequest("m",0,r,i),this.createRequest("|",1,r,i),this.createRequest("_",1,r,i),this.createRequest("i",1,r,i),this.createRequest("l",1,r,i),this.createRequest("m",1,r,i),this.createRequest("n",1,r,i),this.createRequest("|",2,r,i),this.createRequest("_",2,r,i),this.createRequest("i",2,r,i),this.createRequest("l",2,r,i),this.createRequest("m",2,r,i),this.createRequest("n",2,r,i),wxe(t,r);for(var T=Math.max(u.width,l.width,c.width,d.width,h.width,p.width,v.width,m.width,_.width,b.width),A=!0,S=i[0].width,N=1,k=i.length;N<k;N++){var F=S-i[N].width;if(F<-.001||F>.001){A=!1;break}}var L=!0;A&&E.width!==S&&(L=!1),E.width>C.width&&(L=!1);var O=JTe()>2e3;return new pM({zoomLevel:yT(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:A,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:L,spaceWidth:a.width,maxDigitWidth:T},O)},e.INSTANCE=new e,e}(fe),fa=function(n){Iee(e,n);function e(t,r,i,o){i===void 0&&(i=null);var s=n.call(this,t,r)||this;return s.accessibilityService=o,s._elementSizeObserver=s._register(new Sxe(i,function(){return s._onReferenceDomElementSizeChanged()})),s._register(TM.INSTANCE.onDidChange(function(){return s._onCSSBasedConfigurationChanged()})),s._validatedOptions.automaticLayout&&s._elementSizeObserver.startObserving(),s._register(xJ(function(a){return s._recomputeOptions()})),s._register(s.accessibilityService.onDidChangeAccessibilitySupport(function(){return s._recomputeOptions()})),s._recomputeOptions(),s}return e.applyFontInfoSlow=function(t,r){t.style.fontFamily=r.getMassagedFontFamily(),t.style.fontWeight=r.fontWeight,t.style.fontSize=r.fontSize+"px",t.style.lineHeight=r.lineHeight+"px",t.style.letterSpacing=r.letterSpacing+"px"},e.applyFontInfo=function(t,r){t.setFontFamily(r.getMassagedFontFamily()),t.setFontWeight(r.fontWeight),t.setFontSize(r.fontSize),t.setLineHeight(r.lineHeight),t.setLetterSpacing(r.letterSpacing)},e.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},e.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},e.prototype.observeReferenceElement=function(t){this._elementSizeObserver.observe(t)},e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._getExtraEditorClassName=function(){var t="";return!YA&&!tDe&&(t+="no-user-select "),Tt&&(t+="mac "),t},e.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:fp||Ic,pixelRatio:eDe(),zoomLevel:yT(),accessibilitySupport:this.accessibilityService.getAccessibilitySupport()}},e.prototype.readConfiguration=function(t){return TM.INSTANCE.readConfiguration(t)},e}(AIe),xee=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dxe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},Axe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},oa=function(n){xee(e,n);function e(t,r,i,o,s){r===void 0&&(r=""),i===void 0&&(i=""),o===void 0&&(o=!0);var a=n.call(this)||this;return a._onDidChange=a._register(new Q),a.onDidChange=a._onDidChange.event,a._enabled=!0,a._checked=!1,a._radio=!1,a._id=t,a._label=r,a._cssClass=i,a._enabled=o,a._actionCallback=s,a}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){this._setLabel(t)},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))},Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip||""},set:function(t){this._setTooltip(t)},enumerable:!0,configurable:!0}),e.prototype._setTooltip=function(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))},Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(t){this._setClass(t)},enumerable:!0,configurable:!0}),e.prototype._setClass=function(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._setEnabled(t)},enumerable:!0,configurable:!0}),e.prototype._setEnabled=function(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._setChecked(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(t){this._setRadio(t)},enumerable:!0,configurable:!0}),e.prototype._setChecked=function(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))},e.prototype._setRadio=function(t){this._radio!==t&&(this._radio=t,this._onDidChange.fire({radio:t}))},e.prototype.run=function(t,r){return this._actionCallback?this._actionCallback(t):Promise.resolve(!0)},e}(fe),Lee=function(n){xee(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._onDidBeforeRun=t._register(new Q),t.onDidBeforeRun=t._onDidBeforeRun.event,t._onDidRun=t._register(new Q),t.onDidRun=t._onDidRun.event,t}return e.prototype.run=function(t,r){return Dxe(this,void 0,void 0,function(){var i,o;return Axe(this,function(s){switch(s.label){case 0:if(!t.enabled)return[2,Promise.resolve(null)];this._onDidBeforeRun.fire({action:t}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.runAction(t,r)];case 2:return i=s.sent(),this._onDidRun.fire({action:t,result:i}),[3,4];case 3:return o=s.sent(),this._onDidRun.fire({action:t,error:o}),[3,4];case 4:return[2]}})})},e.prototype.runAction=function(t,r){var i=r?t.run(r):t.run();return Promise.resolve(i)},e}(fe),T6=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nee=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},DM=function(n,e){return function(t,r){e(t,r,n)}};function TS(n){return n.command!==void 0}var Oee=qt("menuService"),Tu=new(function(){function n(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q,this.onDidChangeMenu=this._onDidChangeMenu.event}return n.prototype.addCommand=function(e){var t=this;return this._commands.set(e.id,e),this._onDidChangeMenu.fire(0),{dispose:function(){t._commands.delete(e.id)&&t._onDidChangeMenu.fire(0)}}},n.prototype.getCommand=function(e){return this._commands.get(e)},n.prototype.getCommands=function(){var e=new Map;return this._commands.forEach(function(t,r){return e.set(r,t)}),e},n.prototype.appendMenuItem=function(e,t){var r=this,i=this._menuItems.get(e);return i?i.push(t):(i=[t],this._menuItems.set(e,i)),this._onDidChangeMenu.fire(e),{dispose:function(){var o=i.indexOf(t);o>=0&&(i.splice(o,1),r._onDidChangeMenu.fire(e))}}},n.prototype.getMenuItems=function(e){var t=(this._menuItems.get(e)||[]).slice(0);return e===0&&this._appendImplicitItems(t),t},n.prototype._appendImplicitItems=function(e){for(var t=new Set,r=e.filter(function(l){return TS(l)}),i=0,o=r;i<o.length;i++){var s=o[i],a=s.command,u=s.alt;t.add(a.id),u&&t.add(u.id)}this._commands.forEach(function(l,c){t.has(c)||e.push({command:l})})},n}()),Ixe=function(n){T6(e,n);function e(t,r,i){var o=n.call(this,t,r)||this;return o._commandService=i,o}return e.prototype.run=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return(t=this._commandService).executeCommand.apply(t,[this.id].concat(r))},e=Nee([DM(2,Qi)],e),e}(oa),xxe=function(n){T6(e,n);function e(t){var r=this;return typeof t.title=="string"?r=n.call(this,"",t.title,"submenu")||this:r=n.call(this,"",t.title.value,"submenu")||this,r.item=t,r}return e}(oa),Lxe=function(n){T6(e,n);function e(t,r,i,o,s){var a=this;return typeof t.title=="string"?a=n.call(this,t.id,t.title,s)||this:a=n.call(this,t.id,t.title.value,s)||this,a._cssClass=void 0,a._enabled=!t.precondition||o.contextMatchesRules(t.precondition),a._checked=!!(t.toggled&&o.contextMatchesRules(t.toggled)),a._options=i||{},a.item=t,a.alt=r?new e(r,void 0,a._options,o,s):void 0,a}return e.prototype.dispose=function(){this.alt&&this.alt.dispose(),n.prototype.dispose.call(this)},e.prototype.run=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=[];return this._options.arg&&(i=i.concat([this._options.arg])),this._options.shouldForwardArgs&&(i=i.concat(t)),n.prototype.run.apply(this,i)},e=Nee([DM(3,yt),DM(4,Qi)],e),e}(Ixe),sC=qt("telemetryService"),AM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),D6=function(){function n(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menubarOpts=e.menubarOpts,this._description=e.description}return n.prototype.register=function(){var e=this;if(this._menubarOpts&&Tu.appendMenuItem(this._menubarOpts.menuId,{group:this._menubarOpts.group,command:{id:this.id,title:this._menubarOpts.title},when:this._menubarOpts.when,order:this._menubarOpts.order}),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t?t=Le.and(t,this.precondition):t=this.precondition),pa.registerCommandAndKeybindingRule({id:this.id,handler:function(r,i){return e.runCommand(r,i)},weight:this._kbOpts.weight,when:t,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else Ri.registerCommand({id:this.id,handler:function(r,i){return e.runCommand(r,i)},description:this._description})},n}(),Do=function(n){AM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.bindToContribution=function(t){return function(r){AM(i,r);function i(o){var s=r.call(this,o)||this;return s._callback=o.handler,s}return i.prototype.runEditorCommand=function(o,s,a){var u=t(s);u&&this._callback(t(s),a)},i}(e)},e.prototype.runCommand=function(t,r){var i=this,o=t.get(Dn),s=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(s)return s.invokeWithinContext(function(a){var u=a.get(yt);if(u.contextMatchesRules(qA(i.precondition)))return i.runEditorCommand(a,s,r)})},e}(D6),Ue=function(n){AM(e,n);function e(t){var r=n.call(this,t)||this;return r.label=t.label,r.alias=t.alias,r.menuOpts=t.menuOpts,r}return e.prototype.register=function(){this.menuOpts&&Tu.appendMenuItem(7,{command:{id:this.id,title:this.label},when:Le.and(this.precondition,this.menuOpts.when),group:this.menuOpts.group,order:this.menuOpts.order}),n.prototype.register.call(this)},e.prototype.runEditorCommand=function(t,r,i){return this.reportTelemetry(t,r),this.run(t,r,i||{})},e.prototype.reportTelemetry=function(t,r){t.get(sC).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},e}(Do);function jc(n,e){Ri.registerCommand(n,function(t,r){return e(t,r||{})})}function Lu(n,e){jc(n,function(t,r){var i=r.resource,o=r.position;if(!(i instanceof Ft))throw Rr("resource");if(!J.isIPosition(o))throw Rr("position");var s=t.get(is).getModel(i);if(s){var a=J.lift(o);return e(s,a,r)}return t.get(kp).createModelReference(i).then(function(u){return new Promise(function(l,c){try{var d=e(u.object.textEditorModel,J.lift(o),r);l(d)}catch(h){c(h)}}).finally(function(){u.dispose()})})})}function ce(n){return eh.INSTANCE.registerEditorCommand(n),n}function pe(n){eh.INSTANCE.registerEditorAction(new n)}function Nxe(n){eh.INSTANCE.registerEditorAction(n)}function Cn(n){eh.INSTANCE.registerEditorContribution(n)}var $y;(function(n){function e(i){return eh.INSTANCE.getEditorCommand(i)}n.getEditorCommand=e;function t(){return eh.INSTANCE.getEditorActions()}n.getEditorActions=t;function r(){return eh.INSTANCE.getEditorContributions()}n.getEditorContributions=r})($y||($y={}));var Oxe={EditorCommonContributions:"editor.contributions"},eh=function(){function n(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return n.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)},n.prototype.registerEditorAction=function(e){e.register(),this.editorActions.push(e)},n.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},n.prototype.getEditorActions=function(){return this.editorActions.slice(0)},n.prototype.registerEditorCommand=function(e){e.register(),this.editorCommands[e.id]=e},n.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},n.INSTANCE=new n,n}();To.add(Oxe.EditorCommonContributions,eh.INSTANCE);var kee=function(){function n(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}return n.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")},n.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")},n.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")},n.prototype.setTop=function(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")},n.prototype.unsetTop=function(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")},n.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")},n.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")},n.prototype.setRight=function(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")},n.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)},n.prototype.setFontWeight=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)},n.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")},n.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")},n.prototype.setLetterSpacing=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")},n.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)},n.prototype.toggleClassName=function(e,t){kt(this.domNode,e,t),this._className=this.domNode.className},n.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)},n.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)},n.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)},n.prototype.setLayerHinting=function(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.willChange=this._layerHint?"transform":"auto")},n.prototype.setAttribute=function(e,t){this.domNode.setAttribute(e,t)},n.prototype.removeAttribute=function(e){this.domNode.removeAttribute(e)},n.prototype.appendChild=function(e){this.domNode.appendChild(e.domNode)},n.prototype.removeChild=function(e){this.domNode.removeChild(e.domNode)},n}();function wt(n){return new kee(n)}function Ea(n,e,t){var r=null,i=null;if(typeof t.value=="function"?(r="value",i=t.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(r="get",i=t.get),!i)throw new Error("not supported");var o="$memoize$"+e;t[r]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,s)}),this[o]}}var kxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rxe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ii;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(ii||(ii={}));var D_=function(n){kxe(e,n);function e(){var t=n.call(this)||this;return t.dispatched=!1,t.activeTouches={},t.handle=null,t.targets=[],t._register(_e(document,"touchstart",function(r){return t.onTouchStart(r)})),t._register(_e(document,"touchend",function(r){return t.onTouchEnd(r)})),t._register(_e(document,"touchmove",function(r){return t.onTouchMove(r)})),t}return e.addTarget=function(t){e.isTouchDevice()&&(e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE.targets.push(t))},e.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},e.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),n.prototype.dispose.call(this)},e.prototype.onTouchStart=function(t){var r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var i=0,o=t.targetTouches.length;i<o;i++){var s=t.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:r,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[r],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=this.newGestureEvent(ii.Start,s.target);a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.prototype.onTouchEnd=function(t){for(var r=Date.now(),i=Object.keys(this.activeTouches).length,o=function(l,c){var d=t.changedTouches.item(l);if(!s.activeTouches.hasOwnProperty(String(d.identifier)))return console.warn("move of an UNKNOWN touch",d),"continue";var h=s.activeTouches[d.identifier],p=Date.now()-h.initialTimeStamp;if(p<e.HOLD_DELAY&&Math.abs(h.initialPageX-Bs(h.rollingPageX))<30&&Math.abs(h.initialPageY-Bs(h.rollingPageY))<30){var v=s.newGestureEvent(ii.Tap,h.initialTarget);v.pageX=Bs(h.rollingPageX),v.pageY=Bs(h.rollingPageY),s.dispatchEvent(v)}else if(p>=e.HOLD_DELAY&&Math.abs(h.initialPageX-Bs(h.rollingPageX))<30&&Math.abs(h.initialPageY-Bs(h.rollingPageY))<30){var v=s.newGestureEvent(ii.Contextmenu,h.initialTarget);v.pageX=Bs(h.rollingPageX),v.pageY=Bs(h.rollingPageY),s.dispatchEvent(v)}else if(i===1){var m=Bs(h.rollingPageX),_=Bs(h.rollingPageY),b=Bs(h.rollingTimestamps)-h.rollingTimestamps[0],C=m-h.rollingPageX[0],E=_-h.rollingPageY[0],T=s.targets.filter(function(A){return h.initialTarget instanceof Node&&A.contains(h.initialTarget)});s.inertia(T,r,Math.abs(C)/b,C>0?1:-1,m,Math.abs(E)/b,E>0?1:-1,_)}s.dispatchEvent(s.newGestureEvent(ii.End,h.initialTarget)),delete s.activeTouches[d.identifier]},s=this,a=0,u=t.changedTouches.length;a<u;a++)o(a);this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.prototype.newGestureEvent=function(t,r){var i=document.createEvent("CustomEvent");return i.initEvent(t,!1,!0),i.initialTarget=r,i},e.prototype.dispatchEvent=function(t){var r=this;this.targets.forEach(function(i){t.initialTarget instanceof Node&&i.contains(t.initialTarget)&&(i.dispatchEvent(t),r.dispatched=!0)})},e.prototype.inertia=function(t,r,i,o,s,a,u,l){var c=this;this.handle=mh(function(){var d=Date.now(),h=d-r,p=0,v=0,m=!0;i+=e.SCROLL_FRICTION*h,a+=e.SCROLL_FRICTION*h,i>0&&(m=!1,p=o*i*h),a>0&&(m=!1,v=u*a*h);var _=c.newGestureEvent(ii.Change);_.translationX=p,_.translationY=v,t.forEach(function(b){return b.dispatchEvent(_)}),m||c.inertia(t,d,i,o,s+p,a,u,l+v)})},e.prototype.onTouchMove=function(t){for(var r=Date.now(),i=0,o=t.changedTouches.length;i<o;i++){var s=t.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}var a=this.activeTouches[s.identifier],u=this.newGestureEvent(ii.Change,a.initialTarget);u.translationX=s.pageX-Bs(a.rollingPageX),u.translationY=s.pageY-Bs(a.rollingPageY),u.pageX=s.pageX,u.pageY=s.pageY,this.dispatchEvent(u),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(s.pageX),a.rollingPageY.push(s.pageY),a.rollingTimestamps.push(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.SCROLL_FRICTION=-.005,e.HOLD_DELAY=700,Rxe([Ea],e,"isTouchDevice",null),e}(fe);function A_(n,e){var t=new si(e);return t.preventDefault(),{leftButton:t.leftButton,posx:t.posx,posy:t.posy}}var ng=function(){function n(){this.hooks=new Be,this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return n.prototype.dispose=function(){this.stopMonitoring(!1),this.hooks.dispose()},n.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks.clear(),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t&&t()}},n.prototype.isMonitoring=function(){return!!this.mouseMoveEventMerger},n.prototype.startMonitoring=function(e,t,r){var i=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=r;for(var o=oM.getSameOriginWindowChain(),s=0,a=o;s<a.length;s++){var u=a[s];this.hooks.add(iC(u.window.document,"mousemove",function(c){return i.mouseMoveCallback(c)},function(c,d){return i.mouseMoveEventMerger(c,d)})),this.hooks.add(_e(u.window.document,"mouseup",function(c){return i.stopMonitoring(!0)}))}if(oM.hasDifferentOriginAncestor()){var l=o[o.length-1];this.hooks.add(_e(l.window.document,"mouseout",function(c){var d=new si(c);d.target.tagName.toLowerCase()==="html"&&i.stopMonitoring(!0)})),this.hooks.add(_e(l.window.document,"mouseover",function(c){var d=new si(c);d.target.tagName.toLowerCase()==="html"&&i.stopMonitoring(!0)})),this.hooks.add(_e(l.window.document.body,"mouseleave",function(c){i.stopMonitoring(!0)}))}}},n}(),Ree=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A6=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toClientCoordinates=function(){return new Pee(this.x-nl.scrollX,this.y-nl.scrollY)},n}(),Pee=function(){function n(e,t){this.clientX=e,this.clientY=t}return n.prototype.toPageCoordinates=function(){return new A6(this.clientX+nl.scrollX,this.clientY+nl.scrollY)},n}(),Pxe=function(){function n(e,t,r,i){this.x=e,this.y=t,this.width=r,this.height=i}return n}();function Mee(n){var e=di(n);return new Pxe(e.left,e.top,e.width,e.height)}var xm=function(n){Ree(e,n);function e(t,r){var i=n.call(this,t)||this;return i.pos=new A6(i.posx,i.posy),i.editorPos=Mee(r),i}return e}(si),Mxe=function(){function n(e){this._editorViewDomNode=e}return n.prototype._create=function(e){return new xm(e,this._editorViewDomNode)},n.prototype.onContextMenu=function(e,t){var r=this;return _e(e,"contextmenu",function(i){t(r._create(i))})},n.prototype.onMouseUp=function(e,t){var r=this;return _e(e,"mouseup",function(i){t(r._create(i))})},n.prototype.onMouseDown=function(e,t){var r=this;return _e(e,"mousedown",function(i){t(r._create(i))})},n.prototype.onMouseLeave=function(e,t){var r=this;return K4(e,function(i){t(r._create(i))})},n.prototype.onMouseMoveThrottled=function(e,t,r,i){var o=this,s=function(a,u){return r(a,o._create(u))};return iC(e,"mousemove",t,s,i)},n}(),Fxe=function(n){Ree(e,n);function e(t){var r=n.call(this)||this;return r._editorViewDomNode=t,r._globalMouseMoveMonitor=r._register(new ng),r._keydownListener=null,r}return e.prototype.startMonitoring=function(t,r,i){var o=this;this._keydownListener=hi(document,"keydown",function(a){var u=a.toKeybinding();u.isModifierKey()||o._globalMouseMoveMonitor.stopMonitoring(!0)},!0);var s=function(a,u){return t(a,new xm(u,o._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(s,r,function(){o._keydownListener.dispose(),i()})},e}(fe),Bxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aC=function(n){Bxe(e,n);function e(){var t=n.call(this)||this;return t._shouldRender=!0,t}return e.prototype.shouldRender=function(){return this._shouldRender},e.prototype.forceShouldRender=function(){this._shouldRender=!0},e.prototype.setShouldRender=function(){this._shouldRender=!0},e.prototype.onDidRender=function(){this._shouldRender=!1},e.prototype.onConfigurationChanged=function(t){return!1},e.prototype.onCursorStateChanged=function(t){return!1},e.prototype.onDecorationsChanged=function(t){return!1},e.prototype.onFlushed=function(t){return!1},e.prototype.onFocusChanged=function(t){return!1},e.prototype.onLanguageConfigurationChanged=function(t){return!1},e.prototype.onLineMappingChanged=function(t){return!1},e.prototype.onLinesChanged=function(t){return!1},e.prototype.onLinesDeleted=function(t){return!1},e.prototype.onLinesInserted=function(t){return!1},e.prototype.onRevealRangeRequest=function(t){return!1},e.prototype.onScrollChanged=function(t){return!1},e.prototype.onTokensChanged=function(t){return!1},e.prototype.onTokensColorsChanged=function(t){return!1},e.prototype.onZonesChanged=function(t){return!1},e.prototype.onThemeChanged=function(t){return!1},e.prototype.handleEvents=function(t){for(var r=!1,i=0,o=t.length;i<o;i++){var s=t[i];switch(s.type){case 1:this.onConfigurationChanged(s)&&(r=!0);break;case 2:this.onCursorStateChanged(s)&&(r=!0);break;case 3:this.onDecorationsChanged(s)&&(r=!0);break;case 4:this.onFlushed(s)&&(r=!0);break;case 5:this.onFocusChanged(s)&&(r=!0);break;case 16:this.onLanguageConfigurationChanged(s)&&(r=!0);break;case 6:this.onLineMappingChanged(s)&&(r=!0);break;case 7:this.onLinesChanged(s)&&(r=!0);break;case 8:this.onLinesDeleted(s)&&(r=!0);break;case 9:this.onLinesInserted(s)&&(r=!0);break;case 10:this.onRevealRangeRequest(s)&&(r=!0);break;case 11:this.onScrollChanged(s)&&(r=!0);break;case 12:this.onTokensChanged(s)&&(r=!0);break;case 13:this.onTokensColorsChanged(s)&&(r=!0);break;case 14:this.onZonesChanged(s)&&(r=!0);break;case 15:this.onThemeChanged(s)&&(r=!0);break;default:console.info("View received unknown event: "),console.info(s)}}r&&(this._shouldRender=!0)},e}(fe),Hxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ga=function(n){Hxe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e}(aC),Dl=function(){function n(){}return n.write=function(e,t){e instanceof kee,e.setAttribute("data-mprt",String(t))},n.read=function(e){var t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)},n.collect=function(e,t){for(var r=[],i=0;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(r[i++]=this.read(e)),e=e.parentElement;for(var o=new Uint8Array(i),s=0;s<i;s++)o[s]=r[i-s-1];return o},n}(),Vxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wxe=function(){function n(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var r=this._viewLayout.getCurrentViewport();this.scrollTop=r.top,this.scrollLeft=r.left,this.viewportWidth=r.width,this.viewportHeight=r.height}return n.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollTop},n.prototype.getVerticalOffsetForLineNumber=function(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)},n.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},n}(),Uxe=function(n){Vxe(e,n);function e(t,r,i){var o=n.call(this,t,r)||this;return o._viewLines=i,o}return e.prototype.linesVisibleRangesForRange=function(t,r){return this._viewLines.linesVisibleRangesForRange(t,r)},e.prototype.visibleRangeForPosition=function(t){return this._viewLines.visibleRangeForPosition(t)},e}(Wxe),jxe=function(){function n(e,t){this.lineNumber=e,this.ranges=t}return n}(),th=function(){function n(e,t){this.left=Math.round(e),this.width=Math.round(t)}return n.prototype.toString=function(){return"["+this.left+","+this.width+"]"},n}(),uq=function(){function n(e,t){this.left=e,this.width=t}return n.prototype.toString=function(){return"["+this.left+","+this.width+"]"},n.compare=function(e,t){return e.left-t.left},n}(),kO=function(){function n(){}return n._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},n._detachRange=function(e,t){e.selectNodeContents(t)},n._readClientRects=function(e,t,r,i,o){var s=this._createRange();try{return s.setStart(e,t),s.setEnd(r,i),s.getClientRects()}catch{return null}finally{this._detachRange(s,o)}},n._mergeAdjacentRanges=function(e){if(e.length===1)return[new th(e[0].left,e[0].width)];e.sort(uq.compare);for(var t=[],r=0,i=e[0].left,o=e[0].width,s=1,a=e.length;s<a;s++){var u=e[s],l=u.left,c=u.width;i+o+.9>=l?o=Math.max(o,l+c-i):(t[r++]=new th(i,o),i=l,o=c)}return t[r++]=new th(i,o),t},n._createHorizontalRangesFromClientRects=function(e,t){if(!e||e.length===0)return null;for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];r[i]=new uq(Math.max(0,s.left-t),s.width)}return this._mergeAdjacentRanges(r)},n.readHorizontalRanges=function(e,t,r,i,o,s,a){var u=0,l=e.children.length-1;if(u>l)return null;t=Math.min(l,Math.max(u,t)),i=Math.min(l,Math.max(u,i)),t!==i&&i>0&&o===0&&(i--,o=1073741824);var c=e.children[t].firstChild,d=e.children[i].firstChild;if((!c||!d)&&(!c&&r===0&&t>0&&(c=e.children[t-1].firstChild,r=1073741824),!d&&o===0&&i>0&&(d=e.children[i-1].firstChild,o=1073741824)),!c||!d)return null;r=Math.min(c.textContent.length,Math.max(0,r)),o=Math.min(d.textContent.length,Math.max(0,o));var h=this._readClientRects(c,r,d,o,a);return this._createHorizontalRangesFromClientRects(h,s)},n}(),Yr=qt("themeService");function Xs(n){return{id:n}}var qxe="dark",af="light",Lm="hc";function PT(n){switch(n){case qxe:return"vs-dark";case Lm:return"hc-black";default:return"vs"}}var Fee={ThemingContribution:"base.contributions.theming"},zxe=function(){function n(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Q}return n.prototype.onThemeChange=function(e){var t=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),bn(function(){var r=t.themingParticipants.indexOf(e);t.themingParticipants.splice(r,1)})},n.prototype.getThemingParticipants=function(){return this.themingParticipants},n}(),Bee=new zxe;To.add(Fee.ThemingContribution,Bee);function mn(n){return Bee.onThemeChange(n)}var Gxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$xe=function(){return wu?!0:!(Uc||Ic||YA)}(),lq=ul,cq=function(){function n(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(n.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),n}(),fq=function(){function n(e,t){this.themeType=t,this.renderWhitespace=e.editor.viewInfo.renderWhitespace,this.renderControlCharacters=e.editor.viewInfo.renderControlCharacters,this.spaceWidth=e.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=e.editor.fontInfo.isMonospace&&!e.editor.viewInfo.disableMonospaceOptimizations,this.canUseHalfwidthRightwardsArrow=e.editor.fontInfo.canUseHalfwidthRightwardsArrow,this.lineHeight=e.editor.lineHeight,this.stopRenderingLineAfter=e.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=e.editor.viewInfo.fontLigatures}return n.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},n}(),Rv=function(){function n(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return n.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},n.prototype.setDomNode=function(e){if(this._renderedViewLine)this._renderedViewLine.domNode=wt(e);else throw new Error("I have no rendered view line to set the dom node to...")},n.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},n.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},n.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},n.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},n.prototype.onSelectionChanged=function(){return lq||this._options.themeType===Lm||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1},n.prototype.renderLine=function(e,t,r,i){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var o=r.getViewLineRenderingData(e),s=this._options,a=Yb.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn),u=null;if(lq||s.themeType===Lm||this._options.renderWhitespace==="selection")for(var l=r.selections,c=0,d=l;c<d.length;c++){var h=d[c];if(!(h.endLineNumber<e||h.startLineNumber>e)){var p=h.startLineNumber===e?h.startColumn:o.minColumn,v=h.endLineNumber===e?h.endColumn:o.maxColumn;p<v&&(this._options.renderWhitespace!=="selection"?a.push(new Yb(p,v,"inline-selected-text",0)):(u||(u=[]),u.push(new X2e(p-1,v-1))))}}var m=new S_(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,s.spaceWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures,u);if(this._renderedViewLine&&this._renderedViewLine.input.equals(m))return!1;i.appendASCIIString('<div style="top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;height:"),i.appendASCIIString(String(this._options.lineHeight)),i.appendASCIIString('px;" class="'),i.appendASCIIString(n.CLASS_NAME),i.appendASCIIString('">');var _=y6(m,i);i.appendASCIIString("</div>");var b=null;return $xe&&o.isBasicASCII&&s.useMonospaceOptimizations&&_.containsForeignElements===0&&o.content.length<300&&m.lineTokens.getCount()<100&&(b=new Kxe(this._renderedViewLine?this._renderedViewLine.domNode:null,m,_.characterMapping)),b||(b=Xxe(this._renderedViewLine?this._renderedViewLine.domNode:null,m,_.characterMapping,_.containsRTL,_.containsForeignElements)),this._renderedViewLine=b,!0},n.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},n.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},n.prototype.getWidthIsFast=function(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0},n.prototype.getVisibleRangesForRange=function(e,t,r){if(!this._renderedViewLine)return null;e=e|0,t=t|0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var i=this._renderedViewLine.input.stopRenderingLineAfter|0;return i!==-1&&e>i&&t>i?null:(i!==-1&&e>i&&(e=i),i!==-1&&t>i&&(t=i),this._renderedViewLine.getVisibleRangesForRange(e,t,r))},n.prototype.getColumnOfNodeOffset=function(e,t,r){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,r):1},n.CLASS_NAME="view-line",n}(),Kxe=function(){function n(e,t,r){this.domNode=e,this.input=t,this._characterMapping=r,this._charWidth=t.spaceWidth}return n.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},n.prototype.getWidthIsFast=function(){return!0},n.prototype.getVisibleRangesForRange=function(e,t,r){var i=this._getCharPosition(e),o=this._getCharPosition(t);return[new th(i,o-i)]},n.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return t.length===0?0:Math.round(this._charWidth*t[e-1])},n.prototype.getColumnOfNodeOffset=function(e,t,r){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;var s=this._characterMapping.partDataToCharOffset(o,i,r);return s+1},n}(),Hee=function(){function n(e,t,r,i,o){if(this.domNode=e,this.input=t,this._characterMapping=r,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}return n.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},n.prototype.getWidth=function(){return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},n.prototype.getWidthIsFast=function(){return this._cachedWidth!==-1},n.prototype.getVisibleRangesForRange=function(e,t,r){if(this._pixelOffsetCache!==null){var i=this._readPixelOffset(e,r);if(i===-1)return null;var o=this._readPixelOffset(t,r);return o===-1?null:[new th(i,o-i)]}return this._readVisibleRangesForRange(e,t,r)},n.prototype._readVisibleRangesForRange=function(e,t,r){if(e===t){var i=this._readPixelOffset(e,r);return i===-1?null:[new th(i,0)]}else return this._readRawVisibleRangesForRange(e,t,r)},n.prototype._readPixelOffset=function(e,t){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth()}if(this._pixelOffsetCache!==null){var r=this._pixelOffsetCache[e];if(r!==-1)return r;var i=this._actualReadPixelOffset(e,t);return this._pixelOffsetCache[e]=i,i}return this._actualReadPixelOffset(e,t)},n.prototype._actualReadPixelOffset=function(e,t){if(this._characterMapping.length===0){var r=kO.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,t.clientRectDeltaLeft,t.endNode);return!r||r.length===0?-1:r[0].left}if(e===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();var i=this._characterMapping.charOffsetToPartData(e-1),o=Tf.getPartIndex(i),s=Tf.getCharIndex(i),a=kO.readHorizontalRanges(this._getReadingTarget(),o,s,o,s,t.clientRectDeltaLeft,t.endNode);return!a||a.length===0?-1:a[0].left},n.prototype._readRawVisibleRangesForRange=function(e,t,r){if(e===1&&t===this._characterMapping.length)return[new th(0,this.getWidth())];var i=this._characterMapping.charOffsetToPartData(e-1),o=Tf.getPartIndex(i),s=Tf.getCharIndex(i),a=this._characterMapping.charOffsetToPartData(t-1),u=Tf.getPartIndex(a),l=Tf.getCharIndex(a);return kO.readHorizontalRanges(this._getReadingTarget(),o,s,u,l,r.clientRectDeltaLeft,r.endNode)},n.prototype.getColumnOfNodeOffset=function(e,t,r){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;var s=this._characterMapping.partDataToCharOffset(o,i,r);return s+1},n}(),Yxe=function(n){Gxe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._readVisibleRangesForRange=function(t,r,i){var o=n.prototype._readVisibleRangesForRange.call(this,t,r,i);if(!o||o.length===0||t===r||t===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){var s=this._readPixelOffset(r,i);if(s!==-1){var a=o[o.length-1];a.left<s&&(a.width=s-a.left)}}return o},e}(Hee),Xxe=function(){return fp?Qxe:Zxe}();function Qxe(n,e,t,r,i){return new Yxe(n,e,t,r,i)}function Zxe(n,e,t,r,i){return new Hee(n,e,t,r,i)}var hq=function(){function n(e,t){this.beforeVersionId=e,this.beforeCursorState=t,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return n.prototype.undo=function(e){for(var t=this.editOperations.length-1;t>=0;t--)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},n.prototype.redo=function(e){for(var t=0;t<this.editOperations.length;t++)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},n}();function IM(n){var e=n.getEOL();return e===`
`?0:1}var Jxe=function(){function n(e,t){this.beforeVersionId=e,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=t}return n.prototype.undo=function(e){var t=IM(e);e.setEOL(this.eol),this.eol=t},n.prototype.redo=function(e){var t=IM(e);e.setEOL(this.eol),this.eol=t},n}(),dq=function(){function n(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return n.prototype.pushStackElement=function(){this.currentOpenStackElement!==null&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},n.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},n.prototype.pushEOL=function(e){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var t=IM(this.model),r=new Jxe(this.model.getAlternativeVersionId(),t);this.model.setEOL(e),r.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=r,this.pushStackElement()},n.prototype.pushEditOperation=function(e,t,r){this.future=[];var i=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof hq?i=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(i=new hq(this.model.getAlternativeVersionId(),e),this.currentOpenStackElement=i);var o={operations:this.model.applyEdits(t)};return i.editOperations.push(o),i.afterCursorState=n._computeCursorState(r,o.operations),i.afterVersionId=this.model.getVersionId(),i.afterCursorState},n._computeCursorState=function(e,t){try{return e?e(t):null}catch(r){return He(r),null}},n.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{e.undo(this.model)}catch(t){return He(t),this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},n.prototype.canUndo=function(){return this.past.length>0||this.currentOpenStackElement!==null},n.prototype.redo=function(){if(this.future.length>0){var e=this.future.pop();try{e.redo(this.model)}catch(t){return He(t),this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},n.prototype.canRedo=function(){return this.future.length>0},n}(),eLe=function(){function n(){this.spacesDiff=0,this.looksLikeAlignment=!1}return n}();function tLe(n,e,t,r,i){i.spacesDiff=0,i.looksLikeAlignment=!1;var o;for(o=0;o<e&&o<r;o++){var s=n.charCodeAt(o),a=t.charCodeAt(o);if(s!==a)break}for(var u=0,l=0,c=o;c<e;c++){var s=n.charCodeAt(c);s===32?u++:l++}for(var d=0,h=0,c=o;c<r;c++){var a=t.charCodeAt(c);a===32?d++:h++}if(!(u>0&&l>0)&&!(d>0&&h>0)){var p=Math.abs(l-h),v=Math.abs(u-d);if(p===0){i.spacesDiff=v,v>0&&0<=d-1&&d-1<n.length&&d<t.length&&t.charCodeAt(d)!==32&&n.charCodeAt(d-1)===32&&(i.looksLikeAlignment=!0);return}if(v%p===0){i.spacesDiff=v/p;return}}}function pq(n,e,t){for(var r=Math.min(n.getLineCount(),1e4),i=0,o=0,s="",a=0,u=[2,4,6,8,3,5,7],l=8,c=[0,0,0,0,0,0,0,0,0],d=new eLe,h=1;h<=r;h++){for(var p=n.getLineLength(h),v=n.getLineContent(h),m=p<=65536,_=!1,b=0,C=0,E=0,T=0,A=p;T<A;T++){var S=m?v.charCodeAt(T):n.getLineCharCode(h,T);if(S===9)E++;else if(S===32)C++;else{_=!0,b=T;break}}if(_&&(E>0?i++:C>1&&o++,tLe(s,a,v,b,d),!(d.looksLikeAlignment&&!(t&&e===d.spacesDiff)))){var N=d.spacesDiff;N<=l&&c[N]++,s=v,a=b}}var k=t;i!==o&&(k=i<o);var F=e;if(k){var L=k?0:.1*r;u.forEach(function(O){var P=c[O];P>L&&(L=P,F=O)}),F===4&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(F=2)}return{insertSpaces:k,tabSize:F}}function so(n){return(n.metadata&1)>>>0}function on(n,e){n.metadata=n.metadata&254|e<<0}function zr(n){return(n.metadata&2)>>>1===1}function tn(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function Vee(n){return(n.metadata&4)>>>2===1}function gq(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function RO(n){return(n.metadata&8)>>>3===1}function vq(n,e){n.metadata=n.metadata&247|(e?1:0)<<3}function nLe(n){return(n.metadata&48)>>>4}function mq(n,e){n.metadata=n.metadata&207|e<<4}function rLe(n){return(n.metadata&64)>>>6===1}function _q(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}var Wee=function(){function n(e,t,r){this.metadata=0,this.parent=this,this.left=this,this.right=this,on(this,1),this.start=t,this.end=r,this.delta=0,this.maxEnd=r,this.id=e,this.ownerId=0,this.options=null,gq(this,!1),mq(this,1),vq(this,!1),_q(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=r,this.range=null,tn(this,!1)}return n.prototype.reset=function(e,t,r,i){this.start=t,this.end=r,this.maxEnd=r,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=r,this.range=i},n.prototype.setOptions=function(e){this.options=e;var t=this.options.className;gq(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),mq(this,this.options.stickiness),vq(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),_q(this,this.options.collapseOnReplaceEdit)},n.prototype.setCachedOffsets=function(e,t,r){this.cachedVersionId!==r&&(this.range=null),this.cachedVersionId=r,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t},n.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},n}(),st=new Wee(null,0,0);st.parent=st;st.left=st;st.right=st;on(st,0);var yq=function(){function n(){this.root=st,this.requestNormalizeDelta=!1}return n.prototype.intervalSearch=function(e,t,r,i,o){return this.root===st?[]:fLe(this,e,t,r,i,o)},n.prototype.search=function(e,t,r){return this.root===st?[]:cLe(this,e,t,r)},n.prototype.collectNodesFromOwner=function(e){return uLe(this,e)},n.prototype.collectNodesPostOrder=function(){return lLe(this)},n.prototype.insert=function(e){bq(this,e),this._normalizeDeltaIfNecessary()},n.prototype.delete=function(e){Cq(this,e),this._normalizeDeltaIfNecessary()},n.prototype.resolveNode=function(e,t){for(var r=e,i=0;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var o=r.start+i,s=r.end+i;r.setCachedOffsets(o,s,t)},n.prototype.acceptReplace=function(e,t,r,i){for(var o=sLe(this,e,e+t),s=0,a=o.length;s<a;s++){var u=o[s];Cq(this,u)}this._normalizeDeltaIfNecessary(),aLe(this,e,e+t,r),this._normalizeDeltaIfNecessary();for(var s=0,a=o.length;s<a;s++){var u=o[s];u.start=u.cachedAbsoluteStart,u.end=u.cachedAbsoluteEnd,oLe(u,e,e+t,r,i),u.maxEnd=u.end,bq(this,u)}this._normalizeDeltaIfNecessary()},n.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,iLe(this))},n}();function iLe(n){for(var e=n.root,t=0;e!==st;){if(e.left!==st&&!zr(e.left)){e=e.left;continue}if(e.right!==st&&!zr(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,yh(e),tn(e,!0),tn(e.left,!1),tn(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}tn(n.root,!1)}function iv(n,e,t,r){return n<t?!0:n>t||r===1?!1:r===2?!0:e}function oLe(n,e,t,r,i){var o=nLe(n),s=o===0||o===2,a=o===1||o===2,u=t-e,l=r,c=Math.min(u,l),d=n.start,h=!1,p=n.end,v=!1;e<=d&&p<=t&&rLe(n)&&(n.start=e,h=!0,n.end=e,v=!0);{var m=i?1:u>0?2:0;!h&&iv(d,s,e,m)&&(h=!0),!v&&iv(p,a,e,m)&&(v=!0)}if(c>0&&!i){var m=u>l?2:0;!h&&iv(d,s,e+c,m)&&(h=!0),!v&&iv(p,a,e+c,m)&&(v=!0)}{var m=i?1:0;!h&&iv(d,s,t,m)&&(n.start=e+l,h=!0),!v&&iv(p,a,t,m)&&(n.end=e+l,v=!0)}var _=l-u;h||(n.start=Math.max(0,d+_)),v||(n.end=Math.max(0,p+_)),n.start>n.end&&(n.end=n.start)}function sLe(n,e,t){for(var r=n.root,i=0,o=0,s=0,a=0,u=[],l=0;r!==st;){if(zr(r)){tn(r.left,!1),tn(r.right,!1),r===r.parent.right&&(i-=r.parent.delta),r=r.parent;continue}if(!zr(r.left)){if(o=i+r.maxEnd,o<e){tn(r,!0);continue}if(r.left!==st){r=r.left;continue}}if(s=i+r.start,s>t){tn(r,!0);continue}if(a=i+r.end,a>=e&&(r.setCachedOffsets(s,a,0),u[l++]=r),tn(r,!0),r.right!==st&&!zr(r.right)){i+=r.delta,r=r.right;continue}}return tn(n.root,!1),u}function aLe(n,e,t,r){for(var i=n.root,o=0,s=0,a=0,u=r-(t-e);i!==st;){if(zr(i)){tn(i.left,!1),tn(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),yh(i),i=i.parent;continue}if(!zr(i.left)){if(s=o+i.maxEnd,s<e){tn(i,!0);continue}if(i.left!==st){i=i.left;continue}}if(a=o+i.start,a>t){i.start+=u,i.end+=u,i.delta+=u,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0),tn(i,!0);continue}if(tn(i,!0),i.right!==st&&!zr(i.right)){o+=i.delta,i=i.right;continue}}tn(n.root,!1)}function uLe(n,e){for(var t=n.root,r=[],i=0;t!==st;){if(zr(t)){tn(t.left,!1),tn(t.right,!1),t=t.parent;continue}if(t.left!==st&&!zr(t.left)){t=t.left;continue}if(t.ownerId===e&&(r[i++]=t),tn(t,!0),t.right!==st&&!zr(t.right)){t=t.right;continue}}return tn(n.root,!1),r}function lLe(n){for(var e=n.root,t=[],r=0;e!==st;){if(zr(e)){tn(e.left,!1),tn(e.right,!1),e=e.parent;continue}if(e.left!==st&&!zr(e.left)){e=e.left;continue}if(e.right!==st&&!zr(e.right)){e=e.right;continue}t[r++]=e,tn(e,!0)}return tn(n.root,!1),t}function cLe(n,e,t,r){for(var i=n.root,o=0,s=0,a=0,u=[],l=0;i!==st;){if(zr(i)){tn(i.left,!1),tn(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),i=i.parent;continue}if(i.left!==st&&!zr(i.left)){i=i.left;continue}s=o+i.start,a=o+i.end,i.setCachedOffsets(s,a,r);var c=!0;if(e&&i.ownerId&&i.ownerId!==e&&(c=!1),t&&Vee(i)&&(c=!1),c&&(u[l++]=i),tn(i,!0),i.right!==st&&!zr(i.right)){o+=i.delta,i=i.right;continue}}return tn(n.root,!1),u}function fLe(n,e,t,r,i,o){for(var s=n.root,a=0,u=0,l=0,c=0,d=[],h=0;s!==st;){if(zr(s)){tn(s.left,!1),tn(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;continue}if(!zr(s.left)){if(u=a+s.maxEnd,u<e){tn(s,!0);continue}if(s.left!==st){s=s.left;continue}}if(l=a+s.start,l>t){tn(s,!0);continue}if(c=a+s.end,c>=e){s.setCachedOffsets(l,c,o);var p=!0;r&&s.ownerId&&s.ownerId!==r&&(p=!1),i&&Vee(s)&&(p=!1),p&&(d[h++]=s)}if(tn(s,!0),s.right!==st&&!zr(s.right)){a+=s.delta,s=s.right;continue}}return tn(n.root,!1),d}function bq(n,e){if(n.root===st)return e.parent=st,e.left=st,e.right=st,on(e,0),n.root=e,n.root;hLe(n,e),_f(e.parent);for(var t=e;t!==n.root&&so(t.parent)===1;)if(t.parent===t.parent.parent.left){var r=t.parent.parent.right;so(r)===1?(on(t.parent,0),on(r,0),on(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Ky(n,t)),on(t.parent,0),on(t.parent.parent,1),Yy(n,t.parent.parent))}else{var r=t.parent.parent.left;so(r)===1?(on(t.parent,0),on(r,0),on(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Yy(n,t)),on(t.parent,0),on(t.parent.parent,1),Ky(n,t.parent.parent))}return on(n.root,0),e}function hLe(n,e){for(var t=0,r=n.root,i=e.start,o=e.end;;){var s=pLe(i,o,r.start+t,r.end+t);if(s<0)if(r.left===st){e.start-=t,e.end-=t,e.maxEnd-=t,r.left=e;break}else r=r.left;else if(r.right===st){e.start-=t+r.delta,e.end-=t+r.delta,e.maxEnd-=t+r.delta,r.right=e;break}else t+=r.delta,r=r.right}e.parent=r,e.left=st,e.right=st,on(e,1)}function Cq(n,e){var t,r;if(e.left===st?(t=e.right,r=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===st?(t=e.left,r=e):(r=dLe(e.right),t=r.right,t.start+=r.delta,t.end+=r.delta,t.delta+=r.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),r.start+=e.delta,r.end+=e.delta,r.delta=e.delta,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0)),r===n.root){n.root=t,on(t,0),e.detach(),PO(),yh(t),n.root.parent=st;return}var i=so(r)===1;if(r===r.parent.left?r.parent.left=t:r.parent.right=t,r===e?t.parent=r.parent:(r.parent===e?t.parent=r:t.parent=r.parent,r.left=e.left,r.right=e.right,r.parent=e.parent,on(r,so(e)),e===n.root?n.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.left!==st&&(r.left.parent=r),r.right!==st&&(r.right.parent=r)),e.detach(),i){_f(t.parent),r!==e&&(_f(r),_f(r.parent)),PO();return}_f(t),_f(t.parent),r!==e&&(_f(r),_f(r.parent));for(var o;t!==n.root&&so(t)===0;)t===t.parent.left?(o=t.parent.right,so(o)===1&&(on(o,0),on(t.parent,1),Ky(n,t.parent),o=t.parent.right),so(o.left)===0&&so(o.right)===0?(on(o,1),t=t.parent):(so(o.right)===0&&(on(o.left,0),on(o,1),Yy(n,o),o=t.parent.right),on(o,so(t.parent)),on(t.parent,0),on(o.right,0),Ky(n,t.parent),t=n.root)):(o=t.parent.left,so(o)===1&&(on(o,0),on(t.parent,1),Yy(n,t.parent),o=t.parent.left),so(o.left)===0&&so(o.right)===0?(on(o,1),t=t.parent):(so(o.left)===0&&(on(o.right,0),on(o,1),Ky(n,o),o=t.parent.left),on(o,so(t.parent)),on(t.parent,0),on(o.left,0),Yy(n,t.parent),t=n.root));on(t,0),PO()}function dLe(n){for(;n.left!==st;)n=n.left;return n}function PO(){st.parent=st,st.delta=0,st.start=0,st.end=0}function Ky(n,e){var t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==st&&(t.left.parent=e),t.parent=e.parent,e.parent===st?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,yh(e),yh(t)}function Yy(n,e){var t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==st&&(t.right.parent=e),t.parent=e.parent,e.parent===st?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,yh(e),yh(t)}function Uee(n){var e=n.end;if(n.left!==st){var t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==st){var r=n.right.maxEnd+n.delta;r>e&&(e=r)}return e}function yh(n){n.maxEnd=Uee(n)}function _f(n){for(;n!==st;){var e=Uee(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function pLe(n,e,t,r){return n===t?e-r:n-t}var xM=function(){function n(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return n.prototype.next=function(){if(this.right!==Ze)return I6(this.right);for(var e=this;e.parent!==Ze&&e.parent.left!==e;)e=e.parent;return e.parent===Ze?Ze:e.parent},n.prototype.prev=function(){if(this.left!==Ze)return jee(this.left);for(var e=this;e.parent!==Ze&&e.parent.right!==e;)e=e.parent;return e.parent===Ze?Ze:e.parent},n.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},n}(),Ze=new xM(null,0);Ze.parent=Ze;Ze.left=Ze;Ze.right=Ze;Ze.color=0;function I6(n){for(;n.left!==Ze;)n=n.left;return n}function jee(n){for(;n.right!==Ze;)n=n.right;return n}function x6(n){return n===Ze?0:n.size_left+n.piece.length+x6(n.right)}function L6(n){return n===Ze?0:n.lf_left+n.piece.lineFeedCnt+L6(n.right)}function MO(){Ze.parent=Ze}function Xy(n,e){var t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Ze&&(t.left.parent=e),t.parent=e.parent,e.parent===Ze?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Qy(n,e){var t=e.left;e.left=t.right,t.right!==Ze&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Ze?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function wE(n,e){var t,r;if(e.left===Ze?(r=e,t=r.right):e.right===Ze?(r=e,t=r.left):(r=I6(e.right),t=r.right),r===n.root){n.root=t,t.color=0,e.detach(),MO(),n.root.parent=Ze;return}var i=r.color===1;if(r===r.parent.left?r.parent.left=t:r.parent.right=t,r===e?(t.parent=r.parent,wy(n,t)):(r.parent===e?t.parent=r:t.parent=r.parent,wy(n,t),r.left=e.left,r.right=e.right,r.parent=e.parent,r.color=e.color,e===n.root?n.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.left!==Ze&&(r.left.parent=r),r.right!==Ze&&(r.right.parent=r),r.size_left=e.size_left,r.lf_left=e.lf_left,wy(n,r)),e.detach(),t.parent.left===t){var o=x6(t),s=L6(t);if(o!==t.parent.size_left||s!==t.parent.lf_left){var a=o-t.parent.size_left,u=s-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=s,Zl(n,t.parent,a,u)}}if(wy(n,t.parent),i){MO();return}for(var l;t!==n.root&&t.color===0;)t===t.parent.left?(l=t.parent.right,l.color===1&&(l.color=0,t.parent.color=1,Xy(n,t.parent),l=t.parent.right),l.left.color===0&&l.right.color===0?(l.color=1,t=t.parent):(l.right.color===0&&(l.left.color=0,l.color=1,Qy(n,l),l=t.parent.right),l.color=t.parent.color,t.parent.color=0,l.right.color=0,Xy(n,t.parent),t=n.root)):(l=t.parent.left,l.color===1&&(l.color=0,t.parent.color=1,Qy(n,t.parent),l=t.parent.left),l.left.color===0&&l.right.color===0?(l.color=1,t=t.parent):(l.left.color===0&&(l.right.color=0,l.color=1,Xy(n,l),l=t.parent.left),l.color=t.parent.color,t.parent.color=0,l.left.color=0,Qy(n,t.parent),t=n.root));t.color=0,MO()}function wq(n,e){for(wy(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){var t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,Xy(n,e)),e.parent.color=0,e.parent.parent.color=1,Qy(n,e.parent.parent))}else{var t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,Qy(n,e)),e.parent.color=0,e.parent.parent.color=1,Xy(n,e.parent.parent))}n.root.color=0}function Zl(n,e,t,r){for(;e!==n.root&&e!==Ze;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=r),e=e.parent}function wy(n,e){var t=0,r=0;if(e!==n.root){if(t===0){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e===n.root)return;e=e.parent,t=x6(e.left)-e.size_left,r=L6(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=r}for(;e!==n.root&&(t!==0||r!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=r),e=e.parent}}var gLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vLe=function(n){gLe(e,n);function e(t){for(var r=n.call(this,0)||this,i=0,o=t.length;i<o;i++)r.set(t.charCodeAt(i),2);return r.set(32,1),r.set(9,1),r}return e}(n2);function mLe(n){var e={};return function(t){return e.hasOwnProperty(t)||(e[t]=n(t)),e[t]}}var Pl=mLe(function(n){return new vLe(n)}),_Le=999,Pd=function(){function n(e,t,r,i){this.searchString=e,this.isRegex=t,this.matchCase=r,this.wordSeparators=i}return n.prototype.parseSearchRequest=function(){if(this.searchString==="")return null;var e;this.isRegex?e=yLe(this.searchString):e=this.searchString.indexOf(`
`)>=0;var t=null;try{t=Z4(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0})}catch{return null}if(!t)return null;var r=!this.isRegex&&!e;return r&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(r=this.matchCase),new bLe(t,this.wordSeparators?Pl(this.wordSeparators):null,r?this.searchString:null)},n}();function yLe(n){if(!n||n.length===0)return!1;for(var e=0,t=n.length;e<t;e++){var r=n.charCodeAt(e);if(r===92){if(e++,e>=t)break;var i=n.charCodeAt(e);if(i===110||i===114||i===87)return!0}}return!1}var bLe=function(){function n(e,t,r){this.regex=e,this.wordSeparators=t,this.simpleSearch=r}return n}();function Wd(n,e,t){if(!t)return new Ub(n,null);for(var r=[],i=0,o=e.length;i<o;i++)r[i]=e[i];return new Ub(n,r)}var Eq=function(){function n(e){for(var t=[],r=0,i=0,o=e.length;i<o;i++)e.charCodeAt(i)===10&&(t[r++]=i);this._lineFeedsOffsets=t}return n.prototype.findLineFeedCountBeforeOffset=function(e){var t=this._lineFeedsOffsets,r=0,i=t.length-1;if(i===-1||e<=t[0])return 0;for(;r<i;){var o=r+((i-r)/2>>0);t[o]>=e?i=o-1:t[o+1]>=e?(r=o,i=o):r=o+1}return r+1},n}(),EE=function(){function n(){}return n.findMatches=function(e,t,r,i,o){var s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,r,new Ey(s.wordSeparators,s.regex),i,o):this._doFindMatchesLineByLine(e,r,s,i,o):[]},n._getMultilineMatchRange=function(e,t,r,i,o,s){var a,u=0;i?(u=i.findLineFeedCountBeforeOffset(o),a=t+o+u):a=t+o;var l;if(i){var c=i.findLineFeedCountBeforeOffset(o+s.length),d=c-u;l=a+s.length+d}else l=a+s.length;var h=e.getPositionAt(a),p=e.getPositionAt(l);return new H(h.lineNumber,h.column,p.lineNumber,p.column)},n._doFindMatchesMultiline=function(e,t,r,i,o){var s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),u=e.getEOL()===`\r
`?new Eq(a):null,l=[],c=0,d;for(r.reset(0);d=r.next(a);)if(l[c++]=Wd(this._getMultilineMatchRange(e,s,a,u,d.index,d[0]),d,i),c>=o)return l;return l},n._doFindMatchesLineByLine=function(e,t,r,i,o){var s=[],a=0;if(t.startLineNumber===t.endLineNumber){var u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(r,u,t.startLineNumber,t.startColumn-1,a,s,i,o),s}var l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(r,l,t.startLineNumber,t.startColumn-1,a,s,i,o);for(var c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(r,e.getLineContent(c),c,0,a,s,i,o);if(a<o){var d=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(r,d,t.endLineNumber,0,a,s,i,o)}return s},n._findMatchesInLine=function(e,t,r,i,o,s,a,u){var l=e.wordSeparators;if(!a&&e.simpleSearch){for(var c=e.simpleSearch,d=c.length,h=t.length,p=-d;(p=t.indexOf(c,p+d))!==-1;)if((!l||N6(l,t,h,p,d))&&(s[o++]=new Ub(new H(r,p+1+i,r,p+1+d+i),null),o>=u))return o;return o}var v=new Ey(e.wordSeparators,e.regex),m;v.reset(0);do if(m=v.next(t),m&&(s[o++]=Wd(new H(r,m.index+1+i,r,m.index+1+m[0].length+i),m,a),o>=u))return o;while(m);return o},n.findNextMatch=function(e,t,r,i){var o=t.parseSearchRequest();if(!o)return null;var s=new Ey(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,r,s,i):this._doFindNextMatchLineByLine(e,r,s,i)},n._doFindNextMatchMultiline=function(e,t,r,i){var o=new J(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),u=e.getValueInRange(new H(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),l=e.getEOL()===`\r
`?new Eq(u):null;r.reset(t.column-1);var c=r.next(u);return c?Wd(this._getMultilineMatchRange(e,s,u,l,c.index,c[0]),c,i):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new J(1,1),r,i):null},n._doFindNextMatchLineByLine=function(e,t,r,i){var o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),u=this._findFirstMatchInLine(r,a,s,t.column,i);if(u)return u;for(var l=1;l<=o;l++){var c=(s+l-1)%o,d=e.getLineContent(c+1),h=this._findFirstMatchInLine(r,d,c+1,1,i);if(h)return h}return null},n._findFirstMatchInLine=function(e,t,r,i,o){e.reset(i-1);var s=e.next(t);return s?Wd(new H(r,s.index+1,r,s.index+1+s[0].length),s,o):null},n.findPreviousMatch=function(e,t,r,i){var o=t.parseSearchRequest();if(!o)return null;var s=new Ey(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,r,s,i):this._doFindPreviousMatchLineByLine(e,r,s,i)},n._doFindPreviousMatchMultiline=function(e,t,r,i){var o=this._doFindMatchesMultiline(e,new H(1,1,t.lineNumber,t.column),r,i,10*_Le);if(o.length>0)return o[o.length-1];var s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new J(s,e.getLineMaxColumn(s)),r,i):null},n._doFindPreviousMatchLineByLine=function(e,t,r,i){var o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),u=this._findLastMatchInLine(r,a,s,i);if(u)return u;for(var l=1;l<=o;l++){var c=(o+s-l-1)%o,d=e.getLineContent(c+1),h=this._findLastMatchInLine(r,d,c+1,i);if(h)return h}return null},n._findLastMatchInLine=function(e,t,r,i){var o=null,s;for(e.reset(0);s=e.next(t);)o=Wd(new H(r,s.index+1,r,s.index+1+s[0].length),s,i);return o},n}();function CLe(n,e,t,r,i){if(r===0)return!0;var o=e.charCodeAt(r-1);if(n.get(o)!==0||o===13||o===10)return!0;if(i>0){var s=e.charCodeAt(r);if(n.get(s)!==0)return!0}return!1}function wLe(n,e,t,r,i){if(r+i===t)return!0;var o=e.charCodeAt(r+i);if(n.get(o)!==0||o===13||o===10)return!0;if(i>0){var s=e.charCodeAt(r+i-1);if(n.get(s)!==0)return!0}return!1}function N6(n,e,t,r,i){return CLe(n,e,t,r,i)&&wLe(n,e,t,r,i)}var Ey=function(){function n(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return n.prototype.reset=function(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0},n.prototype.next=function(e){var t=e.length,r;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(r=this._searchRegex.exec(e),!r))return null;var i=r.index,o=r[0].length;if(i===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=o,!this._wordSeparators||N6(this._wordSeparators,e,t,i,o))return r}while(r);return null},n}(),$l=65535;function qee(n){var e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}var ELe=function(){function n(e,t,r,i,o){this.lineStarts=e,this.cr=t,this.lf=r,this.crlf=i,this.isBasicASCII=o}return n}();function Jl(n,e){e===void 0&&(e=!0);for(var t=[0],r=1,i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);s===13?i+1<o&&n.charCodeAt(i+1)===10?(t[r++]=i+2,i++):t[r++]=i+1:s===10&&(t[r++]=i+1)}return e?qee(t):t}function SLe(n,e){n.length=0,n[0]=0;for(var t=1,r=0,i=0,o=0,s=!0,a=0,u=e.length;a<u;a++){var l=e.charCodeAt(a);l===13?a+1<u&&e.charCodeAt(a+1)===10?(o++,n[t++]=a+2,a++):(r++,n[t++]=a+1):l===10?(i++,n[t++]=a+1):s&&l!==9&&(l<32||l>126)&&(s=!1)}var c=new ELe(qee(n),r,i,o,s);return n.length=0,c}var Oo=function(){function n(e,t,r,i,o){this.bufferIndex=e,this.start=t,this.end=r,this.lineFeedCnt=i,this.length=o}return n}(),Ud=function(){function n(e,t){this.buffer=e,this.lineStarts=t}return n}(),TLe=function(){function n(e){this._limit=e,this._cache=[]}return n.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var r=this._cache[t];if(r.nodeStartOffset<=e&&r.nodeStartOffset+r.node.piece.length>=e)return r}return null},n.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var r=this._cache[t];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<e&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=e)return r}return null},n.prototype.set=function(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)},n.prototype.valdiate=function(e){for(var t=!1,r=this._cache,i=0;i<r.length;i++){var o=r[i];if(o.node.parent===null||o.nodeStartOffset>=e){r[i]=null,t=!0;continue}}if(t){for(var s=[],a=0,u=r;a<u.length;a++){var l=u[a];l!==null&&s.push(l)}this._cache=s}},n}(),DLe=function(){function n(e,t,r){this.create(e,t,r)}return n.prototype.create=function(e,t,r){this._buffers=[new Ud("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Ze,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=r;for(var i=null,o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Jl(e[o].buffer));var a=new Oo(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),i=this.rbInsertRight(i,a)}this._searchCache=new TLe(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},n.prototype.normalizeEOL=function(e){var t=this,r=$l,i=r-Math.floor(r/3),o=i*2,s="",a=0,u=[];if(this.iterate(this.root,function(c){var d=t.getNodeContent(c),h=d.length;if(a<=i||a+h<o)return s+=d,a+=h,!0;var p=s.replace(/\r\n|\r|\n/g,e);return u.push(new Ud(p,Jl(p))),s=d,a=h,!0}),a>0){var l=s.replace(/\r\n|\r|\n/g,e);u.push(new Ud(l,Jl(l)))}this.create(u,e,!0)},n.prototype.getEOL=function(){return this._EOL},n.prototype.setEOL=function(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)},n.prototype.getOffsetAt=function(e,t){for(var r=0,i=this.root;i!==Ze;)if(i.left!==Ze&&i.lf_left+1>=e)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt+1>=e){r+=i.size_left;var o=this.getAccumulatedValue(i,e-i.lf_left-2);return r+=o+t-1}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;return r},n.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e);for(var t=this.root,r=0,i=e;t!==Ze;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){var o=this.getIndexOf(t,e-t.size_left);if(r+=t.lf_left+o.index,o.index===0){var s=this.getOffsetAt(r+1,1),a=i-s;return new J(r+1,a+1)}return new J(r+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,r+=t.lf_left+t.piece.lineFeedCnt,t.right===Ze){var s=this.getOffsetAt(r+1,1),a=i-e-s;return new J(r+1,a+1)}else t=t.right;return new J(1,1)},n.prototype.getValueInRange=function(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var r=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(r,i);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o},n.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var r=e.node,i=this._buffers[r.piece.bufferIndex].buffer,o=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i.substring(o+e.remainder,o+t.remainder)}var s=e.node,a=this._buffers[s.piece.bufferIndex].buffer,u=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),l=a.substring(u+e.remainder,u+s.piece.length);for(s=s.next();s!==Ze;){var c=this._buffers[s.piece.bufferIndex].buffer,d=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===t.node){l+=c.substring(d,d+t.remainder);break}else l+=c.substr(d,s.piece.length);s=s.next()}return l},n.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)},n.prototype.getLength=function(){return this._length},n.prototype.getLineCount=function(){return this._lineCnt},n.prototype.getLineContent=function(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)},n.prototype.getLineCharCode=function(e,t){var r=this.nodeAt2(e,t+1);if(r.remainder===r.node.piece.length){var i=r.node.next();if(!i)return 0;var o=this._buffers[i.piece.bufferIndex],s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o.buffer.charCodeAt(s)}else{var o=this._buffers[r.node.piece.bufferIndex],s=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start),a=s+r.remainder;return o.buffer.charCodeAt(a)}},n.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength},n.prototype.findMatchesInNode=function(e,t,r,i,o,s,a,u,l,c,d){var h=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),v=this.offsetInBuffer(e.piece.bufferIndex,o),m=this.offsetInBuffer(e.piece.bufferIndex,s),_;t.reset(v);var b={line:0,column:0};do if(_=t.next(h.buffer),_){if(_.index>=m)return c;this.positionInBuffer(e,_.index-p,b);var C=this.getLineFeedCnt(e.piece.bufferIndex,o,b),E=b.line===o.line?b.column-o.column+i:b.column+1,T=E+_[0].length;if(d[c++]=Wd(new H(r+C,E,r+C,T),_,u),_.index+_[0].length>=m||c>=l)return c}while(_);return c},n.prototype.findMatchesLineByLine=function(e,t,r,i){var o=[],s=0,a=new Ey(t.wordSeparators,t.regex),u=this.nodeAt2(e.startLineNumber,e.startColumn);if(u===null)return[];var l=this.nodeAt2(e.endLineNumber,e.endColumn);if(l===null)return[];var c=this.positionInBuffer(u.node,u.remainder),d=this.positionInBuffer(l.node,l.remainder);if(u.node===l.node)return this.findMatchesInNode(u.node,a,e.startLineNumber,e.startColumn,c,d,t,r,i,s,o),o;for(var h=e.startLineNumber,p=u.node;p!==l.node;){var v=this.getLineFeedCnt(p.piece.bufferIndex,c,p.piece.end);if(v>=1){var m=this._buffers[p.piece.bufferIndex].lineStarts,_=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start),b=m[c.line+v],C=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(p,a,h,C,c,this.positionInBuffer(p,b-_),t,r,i,s,o),s>=i)return o;h+=v}var E=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){var T=this.getLineContent(h).substring(E,e.endColumn-1);return s=this._findMatchesInLine(t,a,T,e.endLineNumber,E,s,o,r,i),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(h).substr(E),h,E,s,o,r,i),s>=i)return o;h++,u=this.nodeAt2(h,1),p=u.node,c=this.positionInBuffer(u.node,u.remainder)}if(h===e.endLineNumber){var A=h===e.startLineNumber?e.startColumn-1:0,T=this.getLineContent(h).substring(A,e.endColumn-1);return s=this._findMatchesInLine(t,a,T,e.endLineNumber,A,s,o,r,i),o}var S=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(l.node,a,h,S,c,d,t,r,i,s,o),o},n.prototype._findMatchesInLine=function(e,t,r,i,o,s,a,u,l){var c=e.wordSeparators;if(!u&&e.simpleSearch){for(var d=e.simpleSearch,h=d.length,p=r.length,v=-h;(v=r.indexOf(d,v+h))!==-1;)if((!c||N6(c,r,p,v,h))&&(a[s++]=new Ub(new H(i,v+1+o,i,v+1+h+o),null),s>=l))return s;return s}var m;t.reset(0);do if(m=t.next(r),m&&(a[s++]=Wd(new H(i,m.index+1+o,i,m.index+1+m[0].length+o),m,u),s>=l))return s;while(m);return s},n.prototype.insert=function(e,t,r){if(r===void 0&&(r=!1),this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Ze){var i=this.nodeAt(e),o=i.node,s=i.remainder,a=i.nodeStartOffset,u=o.piece,l=u.bufferIndex,c=this.positionInBuffer(o,s);if(o.piece.bufferIndex===0&&u.end.line===this._lastChangeBufferPos.line&&u.end.column===this._lastChangeBufferPos.column&&a+u.length===e&&t.length<$l){this.appendToNode(o,t),this.computeBufferMetadata();return}if(a===e)this.insertContentToNodeLeft(t,o),this._searchCache.valdiate(e);else if(a+o.piece.length>e){var d=[],h=new Oo(u.bufferIndex,c,u.end,this.getLineFeedCnt(u.bufferIndex,c,u.end),this.offsetInBuffer(l,u.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)){var p=this.nodeCharCodeAt(o,s);if(p===10){var v={line:h.start.line+1,column:0};h=new Oo(h.bufferIndex,v,h.end,this.getLineFeedCnt(h.bufferIndex,v,h.end),h.length-1),t+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){var m=this.nodeCharCodeAt(o,s-1);if(m===13){var _=this.positionInBuffer(o,s-1);this.deleteNodeTail(o,_),t="\r"+t,o.piece.length===0&&d.push(o)}else this.deleteNodeTail(o,c)}else this.deleteNodeTail(o,c);var b=this.createNewPieces(t);h.length>0&&this.rbInsertRight(o,h);for(var C=o,E=0;E<b.length;E++)C=this.rbInsertRight(C,b[E]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,o)}else for(var T=this.createNewPieces(t),o=this.rbInsertLeft(null,T[0]),E=1;E<T.length;E++)o=this.rbInsertRight(o,T[E]);this.computeBufferMetadata()},n.prototype.delete=function(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(t<=0||this.root===Ze)){var r=this.nodeAt(e),i=this.nodeAt(e+t),o=r.node,s=i.node;if(o===s){var a=this.positionInBuffer(o,r.remainder),u=this.positionInBuffer(o,i.remainder);if(r.nodeStartOffset===e){if(t===o.piece.length){var l=o.next();wE(this,o),this.validateCRLFWithPrevNode(l),this.computeBufferMetadata();return}this.deleteNodeHead(o,u),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(r.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,a),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,a,u),this.computeBufferMetadata();return}var c=[],d=this.positionInBuffer(o,r.remainder);this.deleteNodeTail(o,d),this._searchCache.valdiate(e),o.piece.length===0&&c.push(o);var h=this.positionInBuffer(s,i.remainder);this.deleteNodeHead(s,h),s.piece.length===0&&c.push(s);for(var p=o.next(),v=p;v!==Ze&&v!==s;v=v.next())c.push(v);var m=o.piece.length===0?o.prev():o;this.deleteNodes(c),this.validateCRLFWithNextNode(m),this.computeBufferMetadata()}},n.prototype.insertContentToNodeLeft=function(e,t){var r=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var i=t.piece,o={line:i.start.line+1,column:0},s=new Oo(i.bufferIndex,o,i.end,this.getLineFeedCnt(i.bufferIndex,o,i.end),i.length-1);t.piece=s,e+=`
`,Zl(this,t,-1,-1),t.piece.length===0&&r.push(t)}for(var a=this.createNewPieces(e),u=this.rbInsertLeft(t,a[a.length-1]),l=a.length-2;l>=0;l--)u=this.rbInsertLeft(u,a[l]);this.validateCRLFWithPrevNode(u),this.deleteNodes(r)},n.prototype.insertContentToNodeRight=function(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);for(var r=this.createNewPieces(e),i=this.rbInsertRight(t,r[0]),o=i,s=1;s<r.length;s++)o=this.rbInsertRight(o,r[s]);this.validateCRLFWithPrevNode(i)},n.prototype.positionInBuffer=function(e,t,r){for(var i=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,a=s[i.start.line]+i.start.column,u=a+t,l=i.start.line,c=i.end.line,d=0,h=0,p=0;l<=c&&(d=l+(c-l)/2|0,p=s[d],d!==c);)if(h=s[d+1],u<p)c=d-1;else if(u>=h)l=d+1;else break;return r?(r.line=d,r.column=u-p,null):{line:d,column:u-p}},n.prototype.getLineFeedCnt=function(e,t,r){if(r.column===0)return r.line-t.line;var i=this._buffers[e].lineStarts;if(r.line===i.length-1)return r.line-t.line;var o=i[r.line+1],s=i[r.line]+r.column;if(o>s+1)return r.line-t.line;var a=s-1,u=this._buffers[e].buffer;return u.charCodeAt(a)===13?r.line-t.line+1:r.line-t.line},n.prototype.offsetInBuffer=function(e,t){var r=this._buffers[e].lineStarts;return r[t.line]+t.column},n.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++)wE(this,e[t])},n.prototype.createNewPieces=function(e){if(e.length>$l){for(var t=[];e.length>$l;){var r=e.charCodeAt($l-1),i=void 0;r===13||r>=55296&&r<=56319?(i=e.substring(0,$l-1),e=e.substring($l-1)):(i=e.substring(0,$l),e=e.substring($l));var o=Jl(i);t.push(new Oo(this._buffers.length,{line:0,column:0},{line:o.length-1,column:i.length-o[o.length-1]},o.length-1,i.length)),this._buffers.push(new Ud(i,o))}var s=Jl(e);return t.push(new Oo(this._buffers.length,{line:0,column:0},{line:s.length-1,column:e.length-s[s.length-1]},s.length-1,e.length)),this._buffers.push(new Ud(e,s)),t}var a=this._buffers[0].buffer.length,u=Jl(e,!1),l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&a!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(var c=0;c<u.length;c++)u[c]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+="_"+e,a+=1}else{if(a!==0)for(var c=0;c<u.length;c++)u[c]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+=e}var d=this._buffers[0].buffer.length,h=this._buffers[0].lineStarts.length-1,p=d-this._buffers[0].lineStarts[h],v={line:h,column:p},m=new Oo(0,l,v,this.getLineFeedCnt(0,l,v),d-a);return this._lastChangeBufferPos=v,[m]},n.prototype.getLineRawContent=function(e,t){t===void 0&&(t=0);var r=this.root,i="",o=this._searchCache.get2(e);if(o){r=o.node;var s=this.getAccumulatedValue(r,e-o.nodeStartLineNumber-1),a=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(o.nodeStartLineNumber+r.piece.lineFeedCnt===e)i=a.substring(u+s,u+r.piece.length);else{var l=this.getAccumulatedValue(r,e-o.nodeStartLineNumber);return a.substring(u+s,u+l-t)}}else for(var c=0,d=e;r!==Ze;)if(r.left!==Ze&&r.lf_left>=e-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>e-1){var s=this.getAccumulatedValue(r,e-r.lf_left-2),l=this.getAccumulatedValue(r,e-r.lf_left-1),a=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return c+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:c,nodeStartLineNumber:d-(e-1-r.lf_left)}),a.substring(u+s,u+l-t)}else if(r.lf_left+r.piece.lineFeedCnt===e-1){var s=this.getAccumulatedValue(r,e-r.lf_left-2),a=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);i=a.substring(u+s,u+r.piece.length);break}else e-=r.lf_left+r.piece.lineFeedCnt,c+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==Ze;){var a=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){var l=this.getAccumulatedValue(r,0),u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i+=a.substring(u,u+l-t),i}else{var u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);i+=a.substr(u,r.piece.length)}r=r.next()}return i},n.prototype.computeBufferMetadata=function(){for(var e=this.root,t=1,r=0;e!==Ze;)t+=e.lf_left+e.piece.lineFeedCnt,r+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=r,this._searchCache.valdiate(this._length)},n.prototype.getIndexOf=function(e,t){var r=e.piece,i=this.positionInBuffer(e,t),o=i.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===t){var s=this.getLineFeedCnt(e.piece.bufferIndex,r.start,i);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:i.column}},n.prototype.getAccumulatedValue=function(e,t){if(t<0)return 0;var r=e.piece,i=this._buffers[r.bufferIndex].lineStarts,o=r.start.line+t+1;return o>r.end.line?i[r.end.line]+r.end.column-i[r.start.line]-r.start.column:i[o]-i[r.start.line]-r.start.column},n.prototype.deleteNodeTail=function(e,t){var r=e.piece,i=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.end),s=t,a=this.offsetInBuffer(r.bufferIndex,s),u=this.getLineFeedCnt(r.bufferIndex,r.start,s),l=u-i,c=a-o,d=r.length+c;e.piece=new Oo(r.bufferIndex,r.start,s,u,d),Zl(this,e,c,l)},n.prototype.deleteNodeHead=function(e,t){var r=e.piece,i=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.start),s=t,a=this.getLineFeedCnt(r.bufferIndex,s,r.end),u=this.offsetInBuffer(r.bufferIndex,s),l=a-i,c=o-u,d=r.length+c;e.piece=new Oo(r.bufferIndex,s,r.end,a,d),Zl(this,e,c,l)},n.prototype.shrinkNode=function(e,t,r){var i=e.piece,o=i.start,s=i.end,a=i.length,u=i.lineFeedCnt,l=t,c=this.getLineFeedCnt(i.bufferIndex,i.start,l),d=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,o);e.piece=new Oo(i.bufferIndex,i.start,l,c,d),Zl(this,e,d-a,c-u);var h=new Oo(i.bufferIndex,r,s,this.getLineFeedCnt(i.bufferIndex,r,s),this.offsetInBuffer(i.bufferIndex,s)-this.offsetInBuffer(i.bufferIndex,r)),p=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(p)},n.prototype.appendToNode=function(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);var r=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;for(var o=Jl(t,!1),s=0;s<o.length;s++)o[s]+=i;if(r){var a=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-a}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));var u=this._buffers[0].lineStarts.length-1,l=this._buffers[0].buffer.length-this._buffers[0].lineStarts[u],c={line:u,column:l},d=e.piece.length+t.length,h=e.piece.lineFeedCnt,p=this.getLineFeedCnt(0,e.piece.start,c),v=p-h;e.piece=new Oo(e.piece.bufferIndex,e.piece.start,c,p,d),this._lastChangeBufferPos=c,Zl(this,e,t.length,v)},n.prototype.nodeAt=function(e){var t=this.root,r=this._searchCache.get(e);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:e-r.nodeStartOffset};for(var i=0;t!==Ze;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){i+=t.size_left;var o={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right;return null},n.prototype.nodeAt2=function(e,t){for(var r=this.root,i=0;r!==Ze;)if(r.left!==Ze&&r.lf_left>=e-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>e-1){var o=this.getAccumulatedValue(r,e-r.lf_left-2),s=this.getAccumulatedValue(r,e-r.lf_left-1);return i+=r.size_left,{node:r,remainder:Math.min(o+t-1,s),nodeStartOffset:i}}else if(r.lf_left+r.piece.lineFeedCnt===e-1){var o=this.getAccumulatedValue(r,e-r.lf_left-2);if(o+t-1<=r.piece.length)return{node:r,remainder:o+t-1,nodeStartOffset:i};t-=r.piece.length-o;break}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==Ze;){if(r.piece.lineFeedCnt>0){var s=this.getAccumulatedValue(r,0),a=this.offsetOfNode(r);return{node:r,remainder:Math.min(t-1,s),nodeStartOffset:a}}else if(r.piece.length>=t-1){var u=this.offsetOfNode(r);return{node:r,remainder:t-1,nodeStartOffset:u}}else t-=r.piece.length;r=r.next()}return null},n.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1)return-1;var r=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return r.buffer.charCodeAt(i)},n.prototype.offsetOfNode=function(e){if(!e)return 0;for(var t=e.size_left;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t},n.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&this._EOL===`
`)},n.prototype.startWithLF=function(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Ze||e.piece.lineFeedCnt===0)return!1;var t=e.piece,r=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,o=r[i]+t.start.column;if(i===r.length-1)return!1;var s=r[i+1];return s>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10},n.prototype.endWithCR=function(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Ze||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13},n.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}},n.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}},n.prototype.fixCRLF=function(e,t){var r=[],i=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:i[e.piece.end.line]-i[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};var s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Oo(e.piece.bufferIndex,e.piece.start,o,a,s),Zl(this,e,-1,-1),e.piece.length===0&&r.push(e);var u={line:t.piece.start.line+1,column:0},l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,u,t.piece.end);t.piece=new Oo(t.piece.bufferIndex,u,t.piece.end,c,l),Zl(this,t,-1,-1),t.piece.length===0&&r.push(t);var d=this.createNewPieces(`\r
`);this.rbInsertRight(e,d[0]);for(var h=0;h<r.length;h++)wE(this,r[h])},n.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var r=t.next();if(this.startWithLF(r)){if(e+=`
`,r.piece.length===1)wE(this,r);else{var i=r.piece,o={line:i.start.line+1,column:0},s=i.length-1,a=this.getLineFeedCnt(i.bufferIndex,o,i.end);r.piece=new Oo(i.bufferIndex,o,i.end,a,s),Zl(this,r,-1,-1)}return!0}}return!1},n.prototype.iterate=function(e,t){if(e===Ze)return t(Ze);var r=this.iterate(e.left,t);return r&&t(e)&&this.iterate(e.right,t)},n.prototype.getNodeContent=function(e){if(e===Ze)return"";var t=this._buffers[e.piece.bufferIndex],r,i=e.piece,o=this.offsetInBuffer(i.bufferIndex,i.start),s=this.offsetInBuffer(i.bufferIndex,i.end);return r=t.buffer.substring(o,s),r},n.prototype.rbInsertRight=function(e,t){var r=new xM(t,1);r.left=Ze,r.right=Ze,r.parent=Ze,r.size_left=0,r.lf_left=0;var i=this.root;if(i===Ze)this.root=r,r.color=0;else if(e.right===Ze)e.right=r,r.parent=e;else{var o=I6(e.right);o.left=r,r.parent=o}return wq(this,r),r},n.prototype.rbInsertLeft=function(e,t){var r=new xM(t,1);if(r.left=Ze,r.right=Ze,r.parent=Ze,r.size_left=0,r.lf_left=0,this.root===Ze)this.root=r,r.color=0;else if(e.left===Ze)e.left=r,r.parent=e;else{var i=jee(e.left);i.right=r,r.parent=i}return wq(this,r),r},n.prototype.getContentOfSubTree=function(e){var t=this,r="";return this.iterate(e,function(i){return r+=t.getNodeContent(i),!0}),r},n}(),ALe=function(){function n(e,t,r,i,o,s){this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=i,this._pieceTree=new DLe(e,r,s)}return n.prototype.mightContainRTL=function(){return this._mightContainRTL},n.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},n.prototype.getBOM=function(){return this._BOM},n.prototype.getEOL=function(){return this._pieceTree.getEOL()},n.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},n.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},n.prototype.getRangeAt=function(e,t){var r=e+t,i=this.getPositionAt(e),o=this.getPositionAt(r);return new H(i.lineNumber,i.column,o.lineNumber,o.column)},n.prototype.getValueInRange=function(e,t){if(t===void 0&&(t=0),e.isEmpty())return"";var r=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,r)},n.prototype.getValueLengthInRange=function(e,t){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var r=this.getOffsetAt(e.startLineNumber,e.startColumn),i=this.getOffsetAt(e.endLineNumber,e.endColumn);return i-r},n.prototype.getLength=function(){return this._pieceTree.getLength()},n.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},n.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},n.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},n.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},n.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},n.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=Ss(this.getLineContent(e));return t===-1?0:t+1},n.prototype.getLineLastNonWhitespaceColumn=function(e){var t=Lh(this.getLineContent(e));return t===-1?0:t+2},n.prototype._getEndOfLine=function(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},n.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},n.prototype.applyEdits=function(e,t){for(var r=this._mightContainRTL,i=this._mightContainNonBasicASCII,o=!0,s=[],a=0;a<e.length;a++){var u=e[a];o&&u._isTracked&&(o=!1);var l=u.range;!r&&u.text&&(r=t6(u.text)),!i&&u.text&&(i=!GJ(u.text)),s[a]={sortIndex:a,identifier:u.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),lines:u.text?u.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:!!u.forceMoveMarkers,isAutoWhitespaceEdit:u.isAutoWhitespaceEdit||!1}}s.sort(n._sortOpsAscending);for(var c=!1,a=0,d=s.length-1;a<d;a++){var h=s[a].range.getEndPosition(),p=s[a+1].range.getStartPosition();if(p.isBeforeOrEqual(h)){if(p.isBefore(h))throw new Error("Overlapping ranges are not allowed!");c=!0}}o&&(s=this._reduceOperations(s));for(var v=n._getInverseEditRanges(s),m=[],a=0;a<s.length;a++){var u=s[a],_=v[a];if(t&&u.isAutoWhitespaceEdit&&u.range.isEmpty())for(var b=_.startLineNumber;b<=_.endLineNumber;b++){var C="";b===_.startLineNumber&&(C=this.getLineContent(u.range.startLineNumber),Ss(C)!==-1)||m.push({lineNumber:b,oldContent:C})}}for(var E=[],a=0;a<s.length;a++){var u=s[a],_=v[a];E[a]={sortIndex:u.sortIndex,identifier:u.identifier,range:_,text:this.getValueInRange(u.range),forceMoveMarkers:u.forceMoveMarkers}}c||E.sort(function(F,L){return F.sortIndex-L.sortIndex}),this._mightContainRTL=r,this._mightContainNonBasicASCII=i;var T=this._doApplyEdits(s),A=null;if(t&&m.length>0){m.sort(function(F,L){return L.lineNumber-F.lineNumber}),A=[];for(var a=0,S=m.length;a<S;a++){var b=m[a].lineNumber;if(!(a>0&&m[a-1].lineNumber===b)){var N=m[a].oldContent,k=this.getLineContent(b);k.length===0||k===N||Ss(k)!==-1||A.push(b)}}}return new AAe(E,T,A)},n.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},n.prototype._toSingleEditOperation=function(e){for(var t=!1,r=e[0].range,i=e[e.length-1].range,o=new H(r.startLineNumber,r.startColumn,i.endLineNumber,i.endColumn),s=r.startLineNumber,a=r.startColumn,u=[],l=0,c=e.length;l<c;l++){var d=e[l],h=d.range;t=t||d.forceMoveMarkers;for(var p=s;p<h.startLineNumber;p++)p===s?u.push(this.getLineContent(p).substring(a-1)):(u.push(`
`),u.push(this.getLineContent(p)));if(h.startLineNumber===s?u.push(this.getLineContent(h.startLineNumber).substring(a-1,h.startColumn-1)):(u.push(`
`),u.push(this.getLineContent(h.startLineNumber).substring(0,h.startColumn-1))),d.lines)for(var v=0,m=d.lines.length;v<m;v++)v!==0&&u.push(`
`),u.push(d.lines[v]);s=d.range.endLineNumber,a=d.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),lines:u.join("").split(`
`),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},n.prototype._doApplyEdits=function(e){e.sort(n._sortOpsDescending);for(var t=[],r=0;r<e.length;r++){var i=e[r],o=i.range.startLineNumber,s=i.range.startColumn,a=i.range.endLineNumber,u=i.range.endColumn;if(!(o===a&&s===u&&(!i.lines||i.lines.length===0))){var l=a-o,c=i.lines?i.lines.length-1:0,d=Math.min(l,c),h=i.lines?i.lines.join(this.getEOL()):"";if(h?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,h,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength),d<c){for(var p=[],v=d+1;v<=c;v++)p.push(i.lines[v]);p[p.length-1]=this.getLineContent(o+c-1)}var m=new H(o,s,a,u);t.push({range:m,rangeLength:i.rangeLength,text:h,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}}return t},n.prototype.findMatchesLineByLine=function(e,t,r,i){return this._pieceTree.findMatchesLineByLine(e,t,r,i)},n._getInverseEditRanges=function(e){for(var t=[],r=0,i=0,o=null,s=0,a=e.length;s<a;s++){var u=e[s],l=void 0,c=void 0;o?o.range.endLineNumber===u.range.startLineNumber?(l=r,c=i+(u.range.startColumn-o.range.endColumn)):(l=r+(u.range.startLineNumber-o.range.endLineNumber),c=u.range.startColumn):(l=u.range.startLineNumber,c=u.range.startColumn);var d=void 0;if(u.lines&&u.lines.length>0){var h=u.lines.length,p=u.lines[0],v=u.lines[h-1];h===1?d=new H(l,c,l,c+p.length):d=new H(l,c,l+h-1,v.length+1)}else d=new H(l,c,l,c);r=d.endLineNumber,i=d.endColumn,t.push(d),o=u}return t},n._sortOpsAscending=function(e,t){var r=H.compareRangesUsingEnds(e.range,t.range);return r===0?e.sortIndex-t.sortIndex:r},n._sortOpsDescending=function(e,t){var r=H.compareRangesUsingEnds(e.range,t.range);return r===0?t.sortIndex-e.sortIndex:-r},n}(),ILe=function(){function n(e,t,r,i,o,s,a,u){this._chunks=e,this._bom=t,this._cr=r,this._lf=i,this._crlf=o,this._containsRTL=s,this._isBasicASCII=a,this._normalizeEOL=u}return n.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf,r=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:r>t/2?`\r
`:`
`},n.prototype.create=function(e){var t=this._getEOL(e),r=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(var i=0,o=r.length;i<o;i++){var s=r[i].buffer.replace(/\r\n|\r|\n/g,t),a=Jl(s);r[i]=new Ud(s,a)}return new ALe(r,this._bom,t,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},n}(),xLe=function(){function n(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return n.prototype.acceptChunk=function(e){if(e.length!==0){this.chunks.length===0&&n6(e)&&(this.BOM=GDe,e=e.substr(1));var t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}},n.prototype._acceptChunk1=function(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))},n.prototype._acceptChunk2=function(e){var t=SLe(this._tmpLineStarts,e);this.chunks.push(new Ud(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=t6(e))},n.prototype.finish=function(e){return e===void 0&&(e=!0),this._finish(),new ILe(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,e)},n.prototype._finish=function(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);var t=Jl(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}},n}(),LLe=function(){function n(){this.changeType=1}return n}(),NLe=function(){function n(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}return n}(),OLe=function(){function n(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}return n}(),kLe=function(){function n(e,t,r){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=r}return n}(),RLe=function(){function n(){this.changeType=5}return n}(),DS=function(){function n(e,t,r,i){this.changes=e,this.versionId=t,this.isUndoing=r,this.isRedoing=i}return n.prototype.containsEvent=function(e){for(var t=0,r=this.changes.length;t<r;t++){var i=this.changes[t];if(i.changeType===e)return!0}return!1},n.merge=function(e,t){var r=[].concat(e.changes).concat(t.changes),i=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new n(r,i,o,s)},n}(),PLe=function(){function n(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}return n.prototype.merge=function(e){var t=DS.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),r=n._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new n(t,r)},n._mergeChangeEvents=function(e,t){var r=[].concat(e.changes).concat(t.changes),i=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,u=e.isFlush||t.isFlush;return{changes:r,eol:i,versionId:o,isUndoing:s,isRedoing:a,isFlush:u}},n}();function zee(n){for(var e=0,t=0,r=0,i=n.length;r<i;r++){var o=n.charCodeAt(r);o===13?(e===0&&(t=r),e++,r+1<i&&n.charCodeAt(r+1)===10&&r++):o===10&&(e===0&&(t=r),e++)}return e===0&&(t=n.length),[e,t]}function Sq(n){return(n<<0|0|0|16384|2<<23)>>>0}var Kl=new Uint32Array(0).buffer,FO=function(){function n(){this.tokens=[]}return n.prototype.add=function(e,t){if(this.tokens.length>0){var r=this.tokens[this.tokens.length-1],i=r.startLineNumber+r.tokens.length-1;if(i+1===e){r.tokens.push(t);return}}this.tokens.push(new MLe(e,[t]))},n}(),MLe=function(){function n(e,t){this.startLineNumber=e,this.tokens=t}return n}();function vd(n){return n instanceof Uint32Array?n:new Uint32Array(n)}var FLe=function(){function n(){this._lineTokens=[],this._len=0}return n.prototype.flush=function(){this._lineTokens=[],this._len=0},n.prototype.getTokens=function(e,t,r){var i=null;if(t<this._len&&(i=this._lineTokens[t]),i!==null&&i!==Kl)return new pu(vd(i),r);var o=new Uint32Array(2);return o[0]=r.length,o[1]=Sq(e),new pu(o,r)},n._massageTokens=function(e,t,r){var i=r?vd(r):null;if(t===0){var o=!1;if(i&&i.length>1&&(o=uu.getLanguageId(i[1])!==e),!o)return Kl}if(!i||i.length===0){var s=new Uint32Array(2);return s[0]=t,s[1]=Sq(e),s.buffer}return i[i.length-2]=t,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i},n.prototype._ensureLine=function(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++},n.prototype._deleteLines=function(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)},n.prototype._insertLines=function(e,t){if(t!==0){for(var r=[],i=0;i<t;i++)r[i]=null;this._lineTokens=vP(this._lineTokens,e,r),this._len+=t}},n.prototype.setTokens=function(e,t,r,i){var o=n._massageTokens(e,r,i);this._ensureLine(t),this._lineTokens[t]=o},n.prototype.acceptEdit=function(e,t,r){this._acceptDeleteRange(e),this._acceptInsertText(new J(e.startLineNumber,e.startColumn),t,r)},n.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;if(!(t>=this._len)){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=n._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=n._deleteEnding(this._lineTokens[t],e.startColumn-1);var r=e.endLineNumber-1,i=null;r<this._len&&(i=n._deleteBeginning(this._lineTokens[r],e.endColumn-1)),this._lineTokens[t]=n._append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}},n.prototype._acceptInsertText=function(e,t,r){if(!(t===0&&r===0)){var i=e.lineNumber-1;if(!(i>=this._len)){if(t===0){this._lineTokens[i]=n._insert(this._lineTokens[i],e.column-1,r);return}this._lineTokens[i]=n._deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=n._insert(this._lineTokens[i],e.column-1,r),this._insertLines(e.lineNumber,t)}}},n._deleteBeginning=function(e,t){return e===null||e===Kl?e:n._delete(e,0,t)},n._deleteEnding=function(e,t){if(e===null||e===Kl)return e;var r=vd(e),i=r[r.length-2];return n._delete(e,t,i)},n._delete=function(e,t,r){if(e===null||e===Kl||t===r)return e;var i=vd(e),o=i.length>>>1;if(t===0&&i[i.length-2]===r)return Kl;var s=pu.findIndexInTokensArray(i,t),a=s>0?i[s-1<<1]:0,u=i[s<<1];if(r<u){for(var l=r-t,c=s;c<o;c++)i[c<<1]-=l;return e}var d,h;a!==t?(i[s<<1]=t,d=s+1<<1,h=t):(d=s<<1,h=a);for(var p=r-t,v=s+1;v<o;v++){var m=i[v<<1]-p;m>h&&(i[d++]=m,i[d++]=i[(v<<1)+1],h=m)}if(d===i.length)return e;var _=new Uint32Array(d);return _.set(i.subarray(0,d),0),_.buffer},n._append=function(e,t){if(t===Kl)return e;if(e===Kl)return t;if(e===null)return e;if(t===null)return null;var r=vd(e),i=vd(t),o=i.length>>>1,s=new Uint32Array(r.length+i.length);s.set(r,0);for(var a=r.length,u=r[r.length-2],l=0;l<o;l++)s[a++]=i[l<<1]+u,s[a++]=i[(l<<1)+1];return s.buffer},n._insert=function(e,t,r){if(e===null||e===Kl)return e;var i=vd(e),o=i.length>>>1,s=pu.findIndexInTokensArray(i,t);if(s>0){var a=i[s-1<<1];a===t&&s--}for(var u=s;u<o;u++)i[u<<1]+=r;return e},n}(),BLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HLe=function(){function n(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}return n.prototype._reset=function(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)},n.prototype.flush=function(e){this._reset(e)},Object.defineProperty(n.prototype,"invalidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),n.prototype._invalidateLine=function(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)},n.prototype._isValid=function(e){return e<this._len?this._valid[e]:!1},n.prototype.getBeginState=function(e){return e<this._len?this._beginState[e]:null},n.prototype._ensureLine=function(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++},n.prototype._deleteLines=function(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)},n.prototype._insertLines=function(e,t){if(t!==0){for(var r=[],i=[],o=0;o<t;o++)r[o]=null,i[o]=!1;this._beginState=vP(this._beginState,e,r),this._valid=vP(this._valid,e,i),this._len+=t}},n.prototype._setValid=function(e,t){this._ensureLine(e),this._valid[e]=t},n.prototype._setBeginState=function(e,t){this._ensureLine(e),this._beginState[e]=t},n.prototype.setEndState=function(e,t,r){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t!==e-1){var i=this.getBeginState(t+1);if(i===null||!r.equals(i)){this._setBeginState(t+1,r),this._invalidateLine(t+1);return}for(var o=t+1;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}},n.prototype.setFakeTokens=function(e){this._setValid(e,!1)},n.prototype.applyEdits=function(e,t){for(var r=e.endLineNumber-e.startLineNumber,i=t,o=Math.min(r,i),s=o;s>=0;s--)this._invalidateLine(e.startLineNumber+s-1);this._acceptDeleteRange(e),this._acceptInsertText(new J(e.startLineNumber,e.startColumn),t)},n.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;t>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)},n.prototype._acceptInsertText=function(e,t){var r=e.lineNumber-1;r>=this._len||this._insertLines(e.lineNumber,t)},n}(),VLe=function(n){BLe(e,n);function e(t){var r=n.call(this)||this;return r._textModel=t,r._tokenizationStateStore=new HLe,r._revalidateTokensTimeout=-1,r._tokenizationSupport=null,r._register(Bn.onDidChange(function(i){var o=r._textModel.getLanguageIdentifier();i.changedLanguages.indexOf(o.language)!==-1&&(r._resetTokenizationState(),r._textModel.clearTokens())})),r._register(r._textModel.onDidChangeRawContentFast(function(i){if(i.containsEvent(1)){r._resetTokenizationState();return}})),r._register(r._textModel.onDidChangeContentFast(function(i){for(var o=0,s=i.changes.length;o<s;o++){var a=i.changes[o],u=zee(a.text)[0];r._tokenizationStateStore.applyEdits(a.range,u)}r._beginBackgroundTokenization()})),r._register(r._textModel.onDidChangeAttached(function(){r._beginBackgroundTokenization()})),r._register(r._textModel.onDidChangeLanguage(function(){r._resetTokenizationState(),r._textModel.clearTokens()})),r._resetTokenizationState(),r}return e.prototype.dispose=function(){this._clearTimers(),n.prototype.dispose.call(this)},e.prototype._clearTimers=function(){this._revalidateTokensTimeout!==-1&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},e.prototype._resetTokenizationState=function(){this._clearTimers();var t=WLe(this._textModel),r=t[0],i=t[1];this._tokenizationSupport=r,this._tokenizationStateStore.flush(i),this._beginBackgroundTokenization()},e.prototype._beginBackgroundTokenization=function(){var t=this;this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&this._revalidateTokensTimeout===-1&&(this._revalidateTokensTimeout=setTimeout(function(){t._revalidateTokensTimeout=-1,t._revalidateTokensNow()},0))},e.prototype._revalidateTokensNow=function(t){t===void 0&&(t=this._textModel.getLineCount());for(var r=20,i=new FO,o=_6.create(!1);this._hasLinesToTokenize()&&!(o.elapsed()>r);){var s=this._tokenizeOneInvalidLine(i);if(s>=t)break}this._beginBackgroundTokenization(),this._textModel.setTokens(i.tokens)},e.prototype.tokenizeViewport=function(t,r){var i=new FO;this._tokenizeViewport(i,t,r),this._textModel.setTokens(i.tokens)},e.prototype.reset=function(){this._resetTokenizationState(),this._textModel.clearTokens()},e.prototype.forceTokenization=function(t){var r=new FO;this._updateTokensUntilLine(r,t),this._textModel.setTokens(r.tokens)},e.prototype.isCheapToTokenize=function(t){if(!this._tokenizationSupport)return!0;var r=this._tokenizationStateStore.invalidLineStartIndex+1;return t>r?!1:t<r||this._textModel.getLineLength(t)<2048},e.prototype._hasLinesToTokenize=function(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1},e.prototype._tokenizeOneInvalidLine=function(t){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;var r=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(t,r),r},e.prototype._updateTokensUntilLine=function(t,r){if(this._tokenizationSupport)for(var i=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),s=r-1,a=this._tokenizationStateStore.invalidLineStartIndex;a<=s;a++){var u=this._textModel.getLineContent(a+1),l=this._tokenizationStateStore.getBeginState(a),c=BO(i,this._tokenizationSupport,u,l);t.add(a+1,c.tokens),this._tokenizationStateStore.setEndState(o,a,c.endState),a=this._tokenizationStateStore.invalidLineStartIndex-1}},e.prototype._tokenizeViewport=function(t,r,i){if(this._tokenizationSupport&&!(i<=this._tokenizationStateStore.invalidLineStartIndex)){if(r<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(t,i);return}for(var o=this._textModel.getLineFirstNonWhitespaceColumn(r),s=[],a=null,u=r-1;o>0&&u>=1;u--){var l=this._textModel.getLineFirstNonWhitespaceColumn(u);if(l!==0&&l<o){if(a=this._tokenizationStateStore.getBeginState(u-1),a)break;s.push(this._textModel.getLineContent(u)),o=l}}a||(a=this._tokenizationSupport.getInitialState());for(var c=this._textModel.getLanguageIdentifier(),d=a,u=s.length-1;u>=0;u--){var h=BO(c,this._tokenizationSupport,s[u],d);d=h.endState}for(var p=r;p<=i;p++){var v=this._textModel.getLineContent(p),h=BO(c,this._tokenizationSupport,v,d);t.add(p,h.tokens),this._tokenizationStateStore.setFakeTokens(p-1),d=h.endState}}},e}(fe);function WLe(n){var e=n.getLanguageIdentifier(),t=n.isTooLargeForTokenization()?null:Bn.get(e.language),r=null;if(t)try{r=t.getInitialState()}catch(i){He(i),t=null}return[t,r]}function BO(n,e,t,r){var i=null;if(e)try{i=e.tokenize2(t,r.clone(),0)}catch(o){He(o)}return i||(i=p6(n.id,t,r,0)),pu.convertToEndOffset(i.tokens,t.length),i}function nh(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}var yn=function(){function n(e,t,r,i){i===void 0&&(i=1),this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,r))|0,this.a=nh(Math.max(Math.min(1,i),0),3)}return n.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},n}(),ov=function(){function n(e,t,r,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=nh(Math.max(Math.min(1,t),0),3),this.l=nh(Math.max(Math.min(1,r),0),3),this.a=nh(Math.max(Math.min(1,i),0),3)}return n.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a},n.fromRGBA=function(e){var t=e.r/255,r=e.g/255,i=e.b/255,o=e.a,s=Math.max(t,r,i),a=Math.min(t,r,i),u=0,l=0,c=(a+s)/2,d=s-a;if(d>0){switch(l=Math.min(c<=.5?d/(2*c):d/(2-2*c),1),s){case t:u=(r-i)/d+(r<i?6:0);break;case r:u=(i-t)/d+2;break;case i:u=(t-r)/d+4;break}u*=60,u=Math.round(u)}return new n(u,l,c,o)},n._hue2rgb=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e},n.toRGBA=function(e){var t=e.h/360,r=e.s,i=e.l,o=e.a,s,a,u;if(r===0)s=a=u=i;else{var l=i<.5?i*(1+r):i+r-i*r,c=2*i-l;s=n._hue2rgb(c,l,t+1/3),a=n._hue2rgb(c,l,t),u=n._hue2rgb(c,l,t-1/3)}return new yn(Math.round(s*255),Math.round(a*255),Math.round(u*255),o)},n}(),Bf=function(){function n(e,t,r,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=nh(Math.max(Math.min(1,t),0),3),this.v=nh(Math.max(Math.min(1,r),0),3),this.a=nh(Math.max(Math.min(1,i),0),3)}return n.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a},n.fromRGBA=function(e){var t=e.r/255,r=e.g/255,i=e.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=o-s,u=o===0?0:a/o,l;return a===0?l=0:o===t?l=((r-i)/a%6+6)%6:o===r?l=(i-t)/a+2:l=(t-r)/a+4,new n(Math.round(l*60),u,o,e.a)},n.toRGBA=function(e){var t=e.h,r=e.s,i=e.v,o=e.a,s=i*r,a=s*(1-Math.abs(t/60%2-1)),u=i-s,l=[0,0,0],c=l[0],d=l[1],h=l[2];return t<60?(c=s,d=a):t<120?(c=a,d=s):t<180?(d=s,h=a):t<240?(d=a,h=s):t<300?(c=a,h=s):t<360&&(c=s,h=a),c=Math.round((c+u)*255),d=Math.round((d+u)*255),h=Math.round((h+u)*255),new yn(c,d,h,o)},n}(),se=function(){function n(e){if(e)if(e instanceof yn)this.rgba=e;else if(e instanceof ov)this._hsla=e,this.rgba=ov.toRGBA(e);else if(e instanceof Bf)this._hsva=e,this.rgba=Bf.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}return n.fromHex=function(e){return n.Format.CSS.parseHex(e)||n.red},Object.defineProperty(n.prototype,"hsla",{get:function(){return this._hsla?this._hsla:ov.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hsva",{get:function(){return this._hsva?this._hsva:Bf.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),n.prototype.equals=function(e){return!!e&&yn.equals(this.rgba,e.rgba)&&ov.equals(this.hsla,e.hsla)&&Bf.equals(this.hsva,e.hsva)},n.prototype.getRelativeLuminance=function(){var e=n._relativeLuminanceForComponent(this.rgba.r),t=n._relativeLuminanceForComponent(this.rgba.g),r=n._relativeLuminanceForComponent(this.rgba.b),i=.2126*e+.7152*t+.0722*r;return nh(i,4)},n._relativeLuminanceForComponent=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},n.prototype.isLighter=function(){var e=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return e>=128},n.prototype.isLighterThan=function(e){var t=this.getRelativeLuminance(),r=e.getRelativeLuminance();return t>r},n.prototype.isDarkerThan=function(e){var t=this.getRelativeLuminance(),r=e.getRelativeLuminance();return t<r},n.prototype.lighten=function(e){return new n(new ov(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))},n.prototype.darken=function(e){return new n(new ov(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))},n.prototype.transparent=function(e){var t=this.rgba,r=t.r,i=t.g,o=t.b,s=t.a;return new n(new yn(r,i,o,s*e))},n.prototype.isTransparent=function(){return this.rgba.a===0},n.prototype.isOpaque=function(){return this.rgba.a===1},n.prototype.opposite=function(){return new n(new yn(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},n.prototype.toString=function(){return""+n.Format.CSS.format(this)},n.getLighterColor=function(e,t,r){if(e.isLighterThan(t))return e;r=r||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return r=r*(o-i)/o,e.lighten(r)},n.getDarkerColor=function(e,t,r){if(e.isDarkerThan(t))return e;r=r||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return r=r*(i-o)/i,e.darken(r)},n.white=new n(new yn(255,255,255,1)),n.black=new n(new yn(0,0,0,1)),n.red=new n(new yn(255,0,0,1)),n.blue=new n(new yn(0,0,255,1)),n.cyan=new n(new yn(0,255,255,1)),n.lightgrey=new n(new yn(211,211,211,1)),n.transparent=new n(new yn(0,0,0,0)),n}();(function(n){(function(e){(function(t){function r(p){return p.rgba.a===1?"rgb("+p.rgba.r+", "+p.rgba.g+", "+p.rgba.b+")":n.Format.CSS.formatRGBA(p)}t.formatRGB=r;function i(p){return"rgba("+p.rgba.r+", "+p.rgba.g+", "+p.rgba.b+", "+ +p.rgba.a.toFixed(2)+")"}t.formatRGBA=i;function o(p){return p.hsla.a===1?"hsl("+p.hsla.h+", "+(p.hsla.s*100).toFixed(2)+"%, "+(p.hsla.l*100).toFixed(2)+"%)":n.Format.CSS.formatHSLA(p)}t.formatHSL=o;function s(p){return"hsla("+p.hsla.h+", "+(p.hsla.s*100).toFixed(2)+"%, "+(p.hsla.l*100).toFixed(2)+"%, "+p.hsla.a.toFixed(2)+")"}t.formatHSLA=s;function a(p){var v=p.toString(16);return v.length!==2?"0"+v:v}function u(p){return"#"+a(p.rgba.r)+a(p.rgba.g)+a(p.rgba.b)}t.formatHex=u;function l(p,v){return v===void 0&&(v=!1),v&&p.rgba.a===1?n.Format.CSS.formatHex(p):"#"+a(p.rgba.r)+a(p.rgba.g)+a(p.rgba.b)+a(Math.round(p.rgba.a*255))}t.formatHexA=l;function c(p){return p?p.isOpaque()?n.Format.CSS.formatHex(p):n.Format.CSS.formatRGBA(p):null}t.format=c;function d(p){if(!p)return null;var v=p.length;if(v===0||p.charCodeAt(0)!==35)return null;if(v===7){var m=16*h(p.charCodeAt(1))+h(p.charCodeAt(2)),_=16*h(p.charCodeAt(3))+h(p.charCodeAt(4)),b=16*h(p.charCodeAt(5))+h(p.charCodeAt(6));return new n(new yn(m,_,b,1))}if(v===9){var m=16*h(p.charCodeAt(1))+h(p.charCodeAt(2)),_=16*h(p.charCodeAt(3))+h(p.charCodeAt(4)),b=16*h(p.charCodeAt(5))+h(p.charCodeAt(6)),C=16*h(p.charCodeAt(7))+h(p.charCodeAt(8));return new n(new yn(m,_,b,C/255))}if(v===4){var m=h(p.charCodeAt(1)),_=h(p.charCodeAt(2)),b=h(p.charCodeAt(3));return new n(new yn(16*m+m,16*_+_,16*b+b))}if(v===5){var m=h(p.charCodeAt(1)),_=h(p.charCodeAt(2)),b=h(p.charCodeAt(3)),C=h(p.charCodeAt(4));return new n(new yn(16*m+m,16*_+_,16*b+b,(16*C+C)/255))}return null}t.parseHex=d;function h(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(se||(se={}));var uC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function ULe(){return new xLe}function jLe(n){var e=ULe();return e.acceptChunk(n),e.finish()}function Tq(n,e){var t=typeof n=="string"?jLe(n):n;return t.create(e)}var SE=0,qLe=999,zLe=1e4,Y0=function(){throw new Error("Invalid change accessor")},I_=function(n){uC(e,n);function e(t,r,i,o){o===void 0&&(o=null);var s=n.call(this)||this;s._onWillDispose=s._register(new Q),s.onWillDispose=s._onWillDispose.event,s._onDidChangeDecorations=s._register(new KLe),s.onDidChangeDecorations=s._onDidChangeDecorations.event,s._onDidChangeLanguage=s._register(new Q),s.onDidChangeLanguage=s._onDidChangeLanguage.event,s._onDidChangeLanguageConfiguration=s._register(new Q),s.onDidChangeLanguageConfiguration=s._onDidChangeLanguageConfiguration.event,s._onDidChangeTokens=s._register(new Q),s.onDidChangeTokens=s._onDidChangeTokens.event,s._onDidChangeOptions=s._register(new Q),s.onDidChangeOptions=s._onDidChangeOptions.event,s._onDidChangeAttached=s._register(new Q),s.onDidChangeAttached=s._onDidChangeAttached.event,s._eventEmitter=s._register(new YLe),SE++,s.id="$model"+SE,s.isForSimpleWidget=r.isForSimpleWidget,typeof o>"u"||o===null?s._associatedResource=Ft.parse("inmemory://model/"+SE):s._associatedResource=o,s._attachedEditorCount=0,s._buffer=Tq(t,r.defaultEOL),s._options=e.resolveOptions(s._buffer,r);var a=s._buffer.getLineCount(),u=s._buffer.getValueLengthInRange(new H(1,1,a,s._buffer.getLineLength(a)+1),0);return r.largeFileOptimizations?s._isTooLargeForTokenization=u>e.LARGE_FILE_SIZE_THRESHOLD||a>e.LARGE_FILE_LINE_COUNT_THRESHOLD:s._isTooLargeForTokenization=!1,s._isTooLargeForSyncing=u>e.MODEL_SYNC_LIMIT,s._versionId=1,s._alternativeVersionId=1,s._isDisposed=!1,s._isDisposing=!1,s._languageIdentifier=i||OT,s._languageRegistryListener=Ot.onDidChange(function(l){l.languageIdentifier.id===s._languageIdentifier.id&&s._onDidChangeLanguageConfiguration.fire({})}),s._instanceId=KJ(SE),s._lastDecorationId=0,s._decorations=Object.create(null),s._decorationsTree=new Dq,s._commandManager=new dq(s),s._isUndoing=!1,s._isRedoing=!1,s._trimAutoWhitespaceLines=null,s._tokens=new FLe,s._tokenization=new VLe(s),s}return e.createFromString=function(t,r,i,o){return r===void 0&&(r=e.DEFAULT_CREATION_OPTIONS),i===void 0&&(i=null),o===void 0&&(o=null),new e(t,r,i,o)},e.resolveOptions=function(t,r){if(r.detectIndentation){var i=pq(t,r.tabSize,r.insertSpaces);return new bS({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:r.trimAutoWhitespace,defaultEOL:r.defaultEOL})}return new bS({tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,trimAutoWhitespace:r.trimAutoWhitespace,defaultEOL:r.defaultEOL})},e.prototype.onDidChangeRawContentFast=function(t){return this._eventEmitter.fastEvent(function(r){return t(r.rawContentChangedEvent)})},e.prototype.onDidChangeRawContent=function(t){return this._eventEmitter.slowEvent(function(r){return t(r.rawContentChangedEvent)})},e.prototype.onDidChangeContentFast=function(t){return this._eventEmitter.fastEvent(function(r){return t(r.contentChangedEvent)})},e.prototype.onDidChangeContent=function(t){return this._eventEmitter.slowEvent(function(r){return t(r.contentChangedEvent)})},e.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,n.prototype.dispose.call(this),this._isDisposing=!1},e.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},e.prototype._emitContentChangedEvent=function(t,r){this._isDisposing||this._eventEmitter.fire(new PLe(t,r))},e.prototype.setValue=function(t){if(this._assertNotDisposed(),t!==null){var r=Tq(t,this._options.defaultEOL);this.setValueFromTextBuffer(r)}},e.prototype._createContentChanged2=function(t,r,i,o,s,a,u){return{changes:[{range:t,rangeOffset:r,rangeLength:i,text:o}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:s,isRedoing:a,isFlush:u}},e.prototype.setValueFromTextBuffer=function(t){if(this._assertNotDisposed(),t!==null){var r=this.getFullModelRange(),i=this.getValueLengthInRange(r),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=t,this._increaseVersionId(),this._tokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new Dq,this._commandManager=new dq(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new DS([new LLe],this._versionId,!1,!1),this._createContentChanged2(new H(1,1,o,s),0,i,this.getValue(),!1,!1,!0))}},e.prototype.setEOL=function(t){this._assertNotDisposed();var r=t===1?`\r
`:`
`;if(this._buffer.getEOL()!==r){var i=this.getFullModelRange(),o=this.getValueLengthInRange(i),s=this.getLineCount(),a=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(r),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new DS([new RLe],this._versionId,!1,!1),this._createContentChanged2(new H(1,1,s,a),0,o,this.getValue(),!1,!1,!1))}},e.prototype._onBeforeEOLChange=function(){var t=this.getVersionId(),r=this._decorationsTree.search(0,!1,!1,t);this._ensureNodesHaveRanges(r)},e.prototype._onAfterEOLChange=function(){for(var t=this.getVersionId(),r=this._decorationsTree.collectNodesPostOrder(),i=0,o=r.length;i<o;i++){var s=r[i],a=s.cachedAbsoluteStart-s.start,u=this._buffer.getOffsetAt(s.range.startLineNumber,s.range.startColumn),l=this._buffer.getOffsetAt(s.range.endLineNumber,s.range.endColumn);s.cachedAbsoluteStart=u,s.cachedAbsoluteEnd=l,s.cachedVersionId=t,s.start=u-a,s.end=l-a,yh(s)}},e.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)},e.prototype.onBeforeDetached=function(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)},e.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},e.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},e.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},e.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var t=0,r=0,i=this._buffer.getLineCount(),o=1;o<=i;o++){var s=this._buffer.getLineLength(o);s>=zLe?r+=s:t+=s}return r>t},Object.defineProperty(e.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),e.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},e.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}},e.prototype.updateOptions=function(t){this._assertNotDisposed();var r=typeof t.tabSize<"u"?t.tabSize:this._options.tabSize,i=typeof t.indentSize<"u"?t.indentSize:this._options.indentSize,o=typeof t.insertSpaces<"u"?t.insertSpaces:this._options.insertSpaces,s=typeof t.trimAutoWhitespace<"u"?t.trimAutoWhitespace:this._options.trimAutoWhitespace,a=new bS({tabSize:r,indentSize:i,insertSpaces:o,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s});if(!this._options.equals(a)){var u=this._options.createChangeEvent(a);this._options=a,this._onDidChangeOptions.fire(u)}},e.prototype.detectIndentation=function(t,r){this._assertNotDisposed();var i=pq(this._buffer,r,t);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})},e._normalizeIndentationFromWhitespace=function(t,r,i){for(var o=0,s=0;s<t.length;s++)t.charAt(s)==="	"?o+=r:o++;var a="";if(!i){var u=Math.floor(o/r);o=o%r;for(var s=0;s<u;s++)a+="	"}for(var s=0;s<o;s++)a+=" ";return a},e.normalizeIndentation=function(t,r,i){var o=Ss(t);return o===-1&&(o=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,o),r,i)+t.substring(o)},e.prototype.normalizeIndentation=function(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.indentSize,this._options.insertSpaces)},e.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},e.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},e.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},e.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},e.prototype.getOffsetAt=function(t){this._assertNotDisposed();var r=this._validatePosition(t.lineNumber,t.column,!1);return this._buffer.getOffsetAt(r.lineNumber,r.column)},e.prototype.getPositionAt=function(t){this._assertNotDisposed();var r=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(r)},e.prototype._increaseVersionId=function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId},e.prototype._overwriteAlternativeVersionId=function(t){this._alternativeVersionId=t},e.prototype.getValue=function(t,r){r===void 0&&(r=!1),this._assertNotDisposed();var i=this.getFullModelRange(),o=this.getValueInRange(i,t);return r?this._buffer.getBOM()+o:o},e.prototype.getValueLength=function(t,r){r===void 0&&(r=!1),this._assertNotDisposed();var i=this.getFullModelRange(),o=this.getValueLengthInRange(i,t);return r?this._buffer.getBOM().length+o:o},e.prototype.getValueInRange=function(t,r){return r===void 0&&(r=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),r)},e.prototype.getValueLengthInRange=function(t,r){return r===void 0&&(r=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),r)},e.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},e.prototype.getLineContent=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(t)},e.prototype.getLineLength=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)},e.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},e.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},e.prototype.getLineMinColumn=function(t){return this._assertNotDisposed(),1},e.prototype.getLineMaxColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1},e.prototype.getLineFirstNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)},e.prototype.getLineLastNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)},e.prototype._validateRangeRelaxedNoAllocations=function(t){var r=this._buffer.getLineCount(),i=t.startLineNumber,o=t.startColumn,s,a;if(i<1)s=1,a=1;else if(i>r)s=r,a=this.getLineMaxColumn(s);else if(s=i|0,o<=1)a=1;else{var u=this.getLineMaxColumn(s);o>=u?a=u:a=o|0}var l=t.endLineNumber,c=t.endColumn,d,h;if(l<1)d=1,h=1;else if(l>r)d=r,h=this.getLineMaxColumn(d);else if(d=l|0,c<=1)h=1;else{var u=this.getLineMaxColumn(d);c>=u?h=u:h=c|0}return i===s&&o===a&&l===d&&c===h&&t instanceof H&&!(t instanceof Re)?t:new H(s,a,d,h)},e.prototype._isValidPosition=function(t,r,i){if(typeof t!="number"||typeof r!="number"||isNaN(t)||isNaN(r)||t<1||r<1||(t|0)!==t||(r|0)!==r)return!1;var o=this._buffer.getLineCount();if(t>o)return!1;var s=this.getLineMaxColumn(t);if(r>s)return!1;if(i&&r>1){var a=this._buffer.getLineCharCode(t,r-2);if(zo(a))return!1}return!0},e.prototype._validatePosition=function(t,r,i){var o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=Math.floor(typeof r=="number"&&!isNaN(r)?r:1),a=this._buffer.getLineCount();if(o<1)return new J(1,1);if(o>a)return new J(a,this.getLineMaxColumn(a));if(s<=1)return new J(o,1);var u=this.getLineMaxColumn(o);if(s>=u)return new J(o,u);if(i){var l=this._buffer.getLineCharCode(o,s-2);if(zo(l))return new J(o,s-1)}return new J(o,s)},e.prototype.validatePosition=function(t){return this._assertNotDisposed(),t instanceof J&&this._isValidPosition(t.lineNumber,t.column,!0)?t:this._validatePosition(t.lineNumber,t.column,!0)},e.prototype._isValidRange=function(t,r){var i=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn;if(!this._isValidPosition(i,o,!1)||!this._isValidPosition(s,a,!1))return!1;if(r){var u=o>1?this._buffer.getLineCharCode(i,o-2):0,l=a>1&&a<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,a-2):0,c=zo(u),d=zo(l);return!c&&!d}return!0},e.prototype.validateRange=function(t){if(this._assertNotDisposed(),t instanceof H&&!(t instanceof Re)&&this._isValidRange(t,!0))return t;var r=this._validatePosition(t.startLineNumber,t.startColumn,!1),i=this._validatePosition(t.endLineNumber,t.endColumn,!1),o=r.lineNumber,s=r.column,a=i.lineNumber,u=i.column,l=s>1?this._buffer.getLineCharCode(o,s-2):0,c=u>1&&u<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,u-2):0,d=zo(l),h=zo(c);return!d&&!h?new H(o,s,a,u):o===a&&s===u?new H(o,s-1,a,u-1):d&&h?new H(o,s-1,a,u+1):d?new H(o,s-1,a,u):new H(o,s,a,u+1)},e.prototype.modifyPosition=function(t,r){this._assertNotDisposed();var i=this.getOffsetAt(t)+r;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))},e.prototype.getFullModelRange=function(){this._assertNotDisposed();var t=this.getLineCount();return new H(1,1,t,this.getLineMaxColumn(t))},e.prototype.findMatchesLineByLine=function(t,r,i,o){return this._buffer.findMatchesLineByLine(t,r,i,o)},e.prototype.findMatches=function(t,r,i,o,s,a,u){u===void 0&&(u=qLe),this._assertNotDisposed();var l;if(H.isIRange(r)?l=this.validateRange(r):l=this.getFullModelRange(),!i&&t.indexOf(`
`)<0){var c=new Pd(t,i,o,s),d=c.parseSearchRequest();return d?this.findMatchesLineByLine(l,d,a,u):[]}return EE.findMatches(this,new Pd(t,i,o,s),l,a,u)},e.prototype.findNextMatch=function(t,r,i,o,s,a){this._assertNotDisposed();var u=this.validatePosition(r);if(!i&&t.indexOf(`
`)<0){var l=new Pd(t,i,o,s),c=l.parseSearchRequest();if(!c)return null;var d=this.getLineCount(),h=new H(u.lineNumber,u.column,d,this.getLineMaxColumn(d)),p=this.findMatchesLineByLine(h,c,a,1);return EE.findNextMatch(this,new Pd(t,i,o,s),u,a),p.length>0||(h=new H(1,1,u.lineNumber,this.getLineMaxColumn(u.lineNumber)),p=this.findMatchesLineByLine(h,c,a,1),p.length>0)?p[0]:null}return EE.findNextMatch(this,new Pd(t,i,o,s),u,a)},e.prototype.findPreviousMatch=function(t,r,i,o,s,a){this._assertNotDisposed();var u=this.validatePosition(r);return EE.findPreviousMatch(this,new Pd(t,i,o,s),u,a)},e.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},e.prototype.pushEOL=function(t){var r=this.getEOL()===`
`?0:1;if(r!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype.pushEditOperations=function(t,r,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,r,i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._pushEditOperations=function(t,r,i){var o=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var s=r.map(function(A){return{range:o.validateRange(A.range),text:A.text}}),a=!0,u=0,l=t.length;u<l;u++){for(var c=t[u],d=!1,h=0,p=s.length;h<p;h++){var v=s[h].range,m=v.startLineNumber>c.endLineNumber,_=c.startLineNumber>v.endLineNumber;if(!m&&!_){d=!0;break}}if(!d){a=!1;break}}if(a)for(var u=0,l=this._trimAutoWhitespaceLines.length;u<l;u++){for(var b=this._trimAutoWhitespaceLines[u],C=this.getLineMaxColumn(b),E=!0,h=0,p=s.length;h<p;h++){var v=s[h].range,T=s[h].text;if(!(b<v.startLineNumber||b>v.endLineNumber)&&!(b===v.startLineNumber&&v.startColumn===C&&v.isEmpty()&&T&&T.length>0&&T.charAt(0)===`
`)&&!(b===v.startLineNumber&&v.startColumn===1&&v.isEmpty()&&T&&T.length>0&&T.charAt(T.length-1)===`
`)){E=!1;break}}E&&r.push({range:new H(b,1,b,C),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(t,r,i)},e.prototype.applyEdits=function(t){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._applyEdits=function(t){for(var r=0,i=t.length;r<i;r++)t[r].range=this.validateRange(t[r].range);var o=this._buffer.getLineCount(),s=this._buffer.applyEdits(t,this._options.trimAutoWhitespace),a=this._buffer.getLineCount(),u=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,u.length!==0){for(var l=[],c=o,r=0,i=u.length;r<i;r++){var d=u[r],h=zee(d.text),p=h[0],v=h[1];this._tokens.acceptEdit(d.range,p,v),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers);for(var m=d.range.startLineNumber,_=d.range.endLineNumber,b=_-m,C=p,E=Math.min(b,C),T=C-b,A=E;A>=0;A--){var S=m+A,N=a-c-T+S;l.push(new NLe(S,this.getLineContent(N)))}if(E<b){var k=m+E;l.push(new OLe(k+1,_))}if(E<C){for(var F=m+E,L=C-E,O=a-c-L+F+1,P=[],B=0;B<L;B++){var U=O+B;P[U-O]=this.getLineContent(U)}l.push(new kLe(F+1,m+C,P))}c+=T}this._increaseVersionId(),this._emitContentChangedEvent(new DS(l,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:u,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return s.reverseEdits},e.prototype._undo=function(){this._isUndoing=!0;var t=this._commandManager.undo();return this._isUndoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},e.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype.canUndo=function(){return this._commandManager.canUndo()},e.prototype._redo=function(){this._isRedoing=!0;var t=this._commandManager.redo();return this._isRedoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},e.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype.canRedo=function(){return this._commandManager.canRedo()},e.prototype.changeDecorations=function(t,r){r===void 0&&(r=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(r,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._changeDecorations=function(t,r){var i=this,o={addDecoration:function(a,u){return i._onDidChangeDecorations.fire(),i._deltaDecorationsImpl(t,[],[{range:a,options:u}])[0]},changeDecoration:function(a,u){i._onDidChangeDecorations.fire(),i._changeDecorationImpl(a,u)},changeDecorationOptions:function(a,u){i._onDidChangeDecorations.fire(),i._changeDecorationOptionsImpl(a,Iq(u))},removeDecoration:function(a){i._onDidChangeDecorations.fire(),i._deltaDecorationsImpl(t,[a],[])},deltaDecorations:function(a,u){return a.length===0&&u.length===0?[]:(i._onDidChangeDecorations.fire(),i._deltaDecorationsImpl(t,a,u))}},s=null;try{s=r(o)}catch(a){He(a)}return o.addDecoration=Y0,o.changeDecoration=Y0,o.changeDecorationOptions=Y0,o.removeDecoration=Y0,o.deltaDecorations=Y0,s},e.prototype.deltaDecorations=function(t,r,i){if(i===void 0&&(i=0),this._assertNotDisposed(),t||(t=[]),t.length===0&&r.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(i,t,r)}finally{this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._getTrackedRange=function(t){return this.getDecorationRange(t)},e.prototype._setTrackedRange=function(t,r,i){var o=t?this._decorations[t]:null;if(!o)return r?this._deltaDecorationsImpl(0,[],[{range:r,options:Aq[i]}])[0]:null;if(!r)return this._decorationsTree.delete(o),delete this._decorations[o.id],null;var s=this._validateRangeRelaxedNoAllocations(r),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),u=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(o),o.reset(this.getVersionId(),a,u,s),o.setOptions(Aq[i]),this._decorationsTree.insert(o),o.id},e.prototype.removeAllDecorationsWithOwnerId=function(t){if(!this._isDisposed)for(var r=this._decorationsTree.collectNodesFromOwner(t),i=0,o=r.length;i<o;i++){var s=r[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}},e.prototype.getDecorationOptions=function(t){var r=this._decorations[t];return r?r.options:null},e.prototype.getDecorationRange=function(t){var r=this._decorations[t];if(!r)return null;var i=this.getVersionId();return r.cachedVersionId!==i&&this._decorationsTree.resolveNode(r,i),r.range===null&&(r.range=this._getRangeAt(r.cachedAbsoluteStart,r.cachedAbsoluteEnd)),r.range},e.prototype.getLineDecorations=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=!1),t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,r,i)},e.prototype.getLinesDecorations=function(t,r,i,o){i===void 0&&(i=0),o===void 0&&(o=!1);var s=this.getLineCount(),a=Math.min(s,Math.max(1,t)),u=Math.min(s,Math.max(1,r)),l=this.getLineMaxColumn(u);return this._getDecorationsInRange(new H(a,1,u,l),i,o)},e.prototype.getDecorationsInRange=function(t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=this.validateRange(t);return this._getDecorationsInRange(o,r,i)},e.prototype.getOverviewRulerDecorations=function(t,r){t===void 0&&(t=0),r===void 0&&(r=!1);var i=this.getVersionId(),o=this._decorationsTree.search(t,r,!0,i);return this._ensureNodesHaveRanges(o)},e.prototype.getAllDecorations=function(t,r){t===void 0&&(t=0),r===void 0&&(r=!1);var i=this.getVersionId(),o=this._decorationsTree.search(t,r,!1,i);return this._ensureNodesHaveRanges(o)},e.prototype._getDecorationsInRange=function(t,r,i){var o=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),s=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn),a=this.getVersionId(),u=this._decorationsTree.intervalSearch(o,s,r,i,a);return this._ensureNodesHaveRanges(u)},e.prototype._ensureNodesHaveRanges=function(t){for(var r=0,i=t.length;r<i;r++){var o=t[r];o.range===null&&(o.range=this._getRangeAt(o.cachedAbsoluteStart,o.cachedAbsoluteEnd))}return t},e.prototype._getRangeAt=function(t,r){return this._buffer.getRangeAt(t,r-t)},e.prototype._changeDecorationImpl=function(t,r){var i=this._decorations[t];if(i){var o=this._validateRangeRelaxedNoAllocations(r),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,a,o),this._decorationsTree.insert(i)}},e.prototype._changeDecorationOptionsImpl=function(t,r){var i=this._decorations[t];if(i){var o=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(r.overviewRuler&&r.overviewRuler.color);o!==s?(this._decorationsTree.delete(i),i.setOptions(r),this._decorationsTree.insert(i)):i.setOptions(r)}},e.prototype._deltaDecorationsImpl=function(t,r,i){for(var o=this.getVersionId(),s=r.length,a=0,u=i.length,l=0,c=new Array(u);a<s||l<u;){var d=null;if(a<s){do d=this._decorations[r[a++]];while(!d&&a<s);d&&this._decorationsTree.delete(d)}if(l<u){if(!d){var h=++this._lastDecorationId,p=this._instanceId+";"+h;d=new Wee(p,0,0),this._decorations[p]=d}var v=i[l],m=this._validateRangeRelaxedNoAllocations(v.range),_=Iq(v.options),b=this._buffer.getOffsetAt(m.startLineNumber,m.startColumn),C=this._buffer.getOffsetAt(m.endLineNumber,m.endColumn);d.ownerId=t,d.reset(o,b,C,m),d.setOptions(_),this._decorationsTree.insert(d),c[l]=d.id,l++}else d&&delete this._decorations[d.id]}return c},e.prototype.setLineTokens=function(t,r){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),r)},e.prototype.setTokens=function(t){if(t.length!==0){for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i];r.push({fromLineNumber:s.startLineNumber,toLineNumber:s.startLineNumber+s.tokens.length-1});for(var a=0,u=s.tokens.length;a<u;a++)this.setLineTokens(s.startLineNumber+a,s.tokens[a])}this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:r})}},e.prototype.tokenizeViewport=function(t,r){t=Math.max(1,t),r=Math.min(this._buffer.getLineCount(),r),this._tokenization.tokenizeViewport(t,r)},e.prototype.clearTokens=function(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})},e.prototype._emitModelTokensChangedEvent=function(t){this._isDisposing||this._onDidChangeTokens.fire(t)},e.prototype.resetTokenization=function(){this._tokenization.reset()},e.prototype.forceTokenization=function(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(t)},e.prototype.isCheapToTokenize=function(t){return this._tokenization.isCheapToTokenize(t)},e.prototype.tokenizeIfCheap=function(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)},e.prototype.getLineTokens=function(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(t)},e.prototype._getLineTokens=function(t){var r=this.getLineContent(t);return this._tokens.getTokens(this._languageIdentifier.id,t-1,r)},e.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},e.prototype.getModeId=function(){return this._languageIdentifier.language},e.prototype.setMode=function(t){if(this._languageIdentifier.id!==t.id){var r={oldLanguage:this._languageIdentifier.language,newLanguage:t.language};this._languageIdentifier=t,this._onDidChangeLanguage.fire(r),this._onDidChangeLanguageConfiguration.fire({})}},e.prototype.getLanguageIdAtPosition=function(t,r){var i=this.validatePosition(new J(t,r)),o=this.getLineTokens(i.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(i.column-1))},e.prototype.getWordAtPosition=function(t){this._assertNotDisposed();var r=this.validatePosition(t),i=this.getLineContent(r.lineNumber),o=this._getLineTokens(r.lineNumber),s=o.findTokenIndexAtOffset(r.column-1),a=e._findLanguageBoundaries(o,s),u=a[0],l=a[1],c=bP(r.column,Ot.getWordDefinition(o.getLanguageId(s)),i.substring(u,l),u);if(c&&c.startColumn<=t.column&&t.column<=c.endColumn)return c;if(s>0&&u===r.column-1){var d=e._findLanguageBoundaries(o,s-1),h=d[0],p=d[1],v=bP(r.column,Ot.getWordDefinition(o.getLanguageId(s-1)),i.substring(h,p),h);if(v&&v.startColumn<=t.column&&t.column<=v.endColumn)return v}return null},e._findLanguageBoundaries=function(t,r){for(var i=t.getLanguageId(r),o=0,s=r;s>=0&&t.getLanguageId(s)===i;s--)o=t.getStartOffset(s);for(var a=t.getLineContent().length,s=r,u=t.getCount();s<u&&t.getLanguageId(s)===i;s++)a=t.getEndOffset(s);return[o,a]},e.prototype.getWordUntilPosition=function(t){var r=this.getWordAtPosition(t);return r?{word:r.word.substr(0,t.column-r.startColumn),startColumn:r.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}},e.prototype.findMatchingBracketUp=function(t,r){var i=t.toLowerCase(),o=this.validatePosition(r),s=this._getLineTokens(o.lineNumber),a=s.getLanguageId(s.findTokenIndexAtOffset(o.column-1)),u=Ot.getBracketsSupport(a);if(!u)return null;var l=u.textIsBracket[i];return l?this._findMatchingBracketUp(l,o):null},e.prototype.matchBracket=function(t){return this._matchBracket(this.validatePosition(t))},e.prototype._matchBracket=function(t){var r=t.lineNumber,i=this._getLineTokens(r),o=this._buffer.getLineContent(r),s=i.findTokenIndexAtOffset(t.column-1);if(s<0)return null;var a=Ot.getBracketsSupport(i.getLanguageId(s));if(a&&!Nd(i.getStandardTokenType(s))){for(var u=Math.max(i.getStartOffset(s),t.column-1-a.maxBracketLength),l=Math.min(i.getEndOffset(s),t.column-1+a.maxBracketLength),c=null;;){var d=Od.findNextBracketInToken(a.forwardRegex,r,o,u,l);if(!d)break;if(d.startColumn<=t.column&&t.column<=d.endColumn){var h=o.substring(d.startColumn-1,d.endColumn-1);h=h.toLowerCase();var p=this._matchFoundBracket(d,a.textIsBracket[h],a.textIsOpenBracket[h]);p&&(c=p)}u=d.endColumn-1}if(c)return c}if(s>0&&i.getStartOffset(s)===t.column-1){var l=i.getStartOffset(s);s--;var v=Ot.getBracketsSupport(i.getLanguageId(s));if(v&&!Nd(i.getStandardTokenType(s))){var u=Math.max(i.getStartOffset(s),t.column-1-v.maxBracketLength),d=Od.findPrevBracketInToken(v.reversedRegex,r,o,u,l);if(d&&d.startColumn<=t.column&&t.column<=d.endColumn){var h=o.substring(d.startColumn-1,d.endColumn-1);h=h.toLowerCase();var p=this._matchFoundBracket(d,v.textIsBracket[h],v.textIsOpenBracket[h]);if(p)return p}}}return null},e.prototype._matchFoundBracket=function(t,r,i){if(!r)return null;if(i){var o=this._findMatchingBracketDown(r,t.getEndPosition());if(o)return[t,o]}else{var o=this._findMatchingBracketUp(r,t.getStartPosition());if(o)return[t,o]}return null},e.prototype._findMatchingBracketUp=function(t,r){for(var i=t.languageIdentifier.id,o=t.reversedRegex,s=-1,a=r.lineNumber;a>=1;a--){var u=this._getLineTokens(a),l=u.getCount(),c=this._buffer.getLineContent(a),d=l-1,h=-1;for(a===r.lineNumber&&(d=u.findTokenIndexAtOffset(r.column-1),h=r.column-1);d>=0;d--){var p=u.getLanguageId(d),v=u.getStandardTokenType(d),m=u.getStartOffset(d),_=u.getEndOffset(d);if(h===-1&&(h=_),p===i&&!Nd(v))for(;;){var b=Od.findPrevBracketInToken(o,a,c,m,h);if(!b)break;var C=c.substring(b.startColumn-1,b.endColumn-1);if(C=C.toLowerCase(),C===t.open?s++:C===t.close&&s--,s===0)return b;h=b.startColumn-1}h=-1}}return null},e.prototype._findMatchingBracketDown=function(t,r){for(var i=t.languageIdentifier.id,o=t.forwardRegex,s=1,a=r.lineNumber,u=this.getLineCount();a<=u;a++){var l=this._getLineTokens(a),c=l.getCount(),d=this._buffer.getLineContent(a),h=0,p=0;for(a===r.lineNumber&&(h=l.findTokenIndexAtOffset(r.column-1),p=r.column-1);h<c;h++){var v=l.getLanguageId(h),m=l.getStandardTokenType(h),_=l.getStartOffset(h),b=l.getEndOffset(h);if(p===0&&(p=_),v===i&&!Nd(m))for(;;){var C=Od.findNextBracketInToken(o,a,d,p,b);if(!C)break;var E=d.substring(C.startColumn-1,C.endColumn-1);if(E=E.toLowerCase(),E===t.open?s++:E===t.close&&s--,s===0)return C;p=C.endColumn-1}p=0}}return null},e.prototype.findPrevBracket=function(t){for(var r=this.validatePosition(t),i=-1,o=null,s=r.lineNumber;s>=1;s--){var a=this._getLineTokens(s),u=a.getCount(),l=this._buffer.getLineContent(s),c=u-1,d=-1;for(s===r.lineNumber&&(c=a.findTokenIndexAtOffset(r.column-1),d=r.column-1);c>=0;c--){var h=a.getLanguageId(c),p=a.getStandardTokenType(c),v=a.getStartOffset(c),m=a.getEndOffset(c);if(d===-1&&(d=m),i!==h&&(i=h,o=Ot.getBracketsSupport(i)),o&&!Nd(p)){var _=Od.findPrevBracketInToken(o.reversedRegex,s,l,v,d);if(_)return this._toFoundBracket(o,_)}d=-1}}return null},e.prototype.findNextBracket=function(t){for(var r=this.validatePosition(t),i=-1,o=null,s=r.lineNumber,a=this.getLineCount();s<=a;s++){var u=this._getLineTokens(s),l=u.getCount(),c=this._buffer.getLineContent(s),d=0,h=0;for(s===r.lineNumber&&(d=u.findTokenIndexAtOffset(r.column-1),h=r.column-1);d<l;d++){var p=u.getLanguageId(d),v=u.getStandardTokenType(d),m=u.getStartOffset(d),_=u.getEndOffset(d);if(h===0&&(h=m),i!==p&&(i=p,o=Ot.getBracketsSupport(i)),o&&!Nd(v)){var b=Od.findNextBracketInToken(o.forwardRegex,s,c,h,_);if(b)return this._toFoundBracket(o,b)}h=0}}return null},e.prototype._toFoundBracket=function(t,r){if(!r)return null;var i=this.getValueInRange(r);i=i.toLowerCase();var o=t.textIsBracket[i];return o?{range:r,open:o.open,close:o.close,isOpen:t.textIsOpenBracket[i]}:null},e.computeIndentLevel=function(t,r){for(var i=0,o=0,s=t.length;o<s;){var a=t.charCodeAt(o);if(a===32)i++;else if(a===9)i=i-i%r+r;else break;o++}return o===s?-1:i},e.prototype._computeIndentLevel=function(t){return e.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)},e.prototype.getActiveIndentGuide=function(t,r,i){var o=this;this._assertNotDisposed();var s=this.getLineCount();if(t<1||t>s)throw new Error("Illegal value for lineNumber");for(var a=Ot.getFoldingRules(this._languageIdentifier.id),u=!!(a&&a.offSide),l=-2,c=-1,d=-2,h=-1,p=function(U){if(l!==-1&&(l===-2||l>U-1)){l=-1,c=-1;for(var $=U-2;$>=0;$--){var ee=o._computeIndentLevel($);if(ee>=0){l=$,c=ee;break}}}if(d===-2){d=-1,h=-1;for(var $=U;$<s;$++){var te=o._computeIndentLevel($);if(te>=0){d=$,h=te;break}}}},v=-2,m=-1,_=-2,b=-1,C=function(U){if(v===-2){v=-1,m=-1;for(var $=U-2;$>=0;$--){var ee=o._computeIndentLevel($);if(ee>=0){v=$,m=ee;break}}}if(_!==-1&&(_===-2||_<U-1)){_=-1,b=-1;for(var $=U;$<s;$++){var te=o._computeIndentLevel($);if(te>=0){_=$,b=te;break}}}},E=0,T=!0,A=0,S=!0,N=0,k=0;T||S;k++){var F=t-k,L=t+k;if(k!==0&&(F<1||F<r)&&(T=!1),k!==0&&(L>s||L>i)&&(S=!1),k>5e4&&(T=!1,S=!1),T){var O=void 0,P=this._computeIndentLevel(F-1);if(P>=0?(d=F-1,h=P,O=Math.ceil(P/this._options.indentSize)):(p(F),O=this._getIndentLevelForWhitespaceLine(u,c,h)),k===0){if(E=F,A=L,N=O,N===0)return{startLineNumber:E,endLineNumber:A,indent:N};continue}O>=N?E=F:T=!1}if(S){var B=void 0,P=this._computeIndentLevel(L-1);P>=0?(v=L-1,m=P,B=Math.ceil(P/this._options.indentSize)):(C(L),B=this._getIndentLevelForWhitespaceLine(u,m,b)),B>=N?A=L:S=!1}}return{startLineNumber:E,endLineNumber:A,indent:N}},e.prototype.getLinesIndentGuides=function(t,r){this._assertNotDisposed();var i=this.getLineCount();if(t<1||t>i)throw new Error("Illegal value for startLineNumber");if(r<1||r>i)throw new Error("Illegal value for endLineNumber");for(var o=Ot.getFoldingRules(this._languageIdentifier.id),s=!!(o&&o.offSide),a=new Array(r-t+1),u=-2,l=-1,c=-2,d=-1,h=t;h<=r;h++){var p=h-t,v=this._computeIndentLevel(h-1);if(v>=0){u=h-1,l=v,a[p]=Math.ceil(v/this._options.indentSize);continue}if(u===-2){u=-1,l=-1;for(var m=h-2;m>=0;m--){var _=this._computeIndentLevel(m);if(_>=0){u=m,l=_;break}}}if(c!==-1&&(c===-2||c<h-1)){c=-1,d=-1;for(var m=h;m<i;m++){var _=this._computeIndentLevel(m);if(_>=0){c=m,d=_;break}}}a[p]=this._getIndentLevelForWhitespaceLine(s,l,d)}return a},e.prototype._getIndentLevelForWhitespaceLine=function(t,r,i){return r===-1||i===-1?0:r<i?1+Math.floor(r/this._options.indentSize):r===i?Math.ceil(i/this._options.indentSize):t?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)},e.MODEL_SYNC_LIMIT=50*1024*1024,e.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,e.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,e.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:au.tabSize,indentSize:au.indentSize,insertSpaces:au.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:au.trimAutoWhitespace,largeFileOptimizations:au.largeFileOptimizations},e}(fe),Dq=function(){function n(){this._decorationsTree0=new yq,this._decorationsTree1=new yq}return n.prototype.intervalSearch=function(e,t,r,i,o){var s=this._decorationsTree0.intervalSearch(e,t,r,i,o),a=this._decorationsTree1.intervalSearch(e,t,r,i,o);return s.concat(a)},n.prototype.search=function(e,t,r,i){if(r)return this._decorationsTree1.search(e,t,i);var o=this._decorationsTree0.search(e,t,i),s=this._decorationsTree1.search(e,t,i);return o.concat(s)},n.prototype.collectNodesFromOwner=function(e){var t=this._decorationsTree0.collectNodesFromOwner(e),r=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(r)},n.prototype.collectNodesPostOrder=function(){var e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)},n.prototype.insert=function(e){RO(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)},n.prototype.delete=function(e){RO(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)},n.prototype.resolveNode=function(e,t){RO(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)},n.prototype.acceptReplace=function(e,t,r,i){this._decorationsTree0.acceptReplace(e,t,r,i),this._decorationsTree1.acceptReplace(e,t,r,i)},n}();function md(n){return n.replace(/[^a-z0-9\-_]/gi," ")}var Gee=function(){function n(e){this.color=e.color||Hb,this.darkColor=e.darkColor||Hb}return n}(),GLe=function(n){uC(e,n);function e(t){var r=n.call(this,t)||this;return r._resolvedColor=null,r.position=typeof t.position=="number"?t.position:ia.Center,r}return e.prototype.getColor=function(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor},e.prototype.invalidateCachedColor=function(){this._resolvedColor=null},e.prototype._resolveColor=function(t,r){if(typeof t=="string")return t;var i=t?r.getColor(t.id):null;return i?i.toString():Hb},e}(Gee),$Le=function(n){uC(e,n);function e(t){var r=n.call(this,t)||this;return r.position=t.position,r}return e.prototype.getColor=function(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor},e.prototype.invalidateCachedColor=function(){this._resolvedColor=void 0},e.prototype._resolveColor=function(t,r){return typeof t=="string"?se.fromHex(t):r.getColor(t.id)},e}(Gee),mt=function(){function n(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?md(e.className):null,this.hoverMessage=Cm(e.hoverMessage),this.glyphMarginHoverMessage=Cm(e.glyphMarginHoverMessage),this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new GLe(e.overviewRuler):null,this.minimap=e.minimap?new $Le(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?md(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?md(e.linesDecorationsClassName):null,this.marginClassName=e.marginClassName?md(e.marginClassName):null,this.inlineClassName=e.inlineClassName?md(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?md(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?md(e.afterContentClassName):null}return n.register=function(e){return new n(e)},n.createDynamic=function(e){return new n(e)},n}();mt.EMPTY=mt.register({});var Aq=[mt.register({stickiness:0}),mt.register({stickiness:1}),mt.register({stickiness:2}),mt.register({stickiness:3})];function Iq(n){return n instanceof mt?n:mt.createDynamic(n)}var KLe=function(n){uC(e,n);function e(){var t=n.call(this)||this;return t._actual=t._register(new Q),t.event=t._actual.event,t._deferredCnt=0,t._shouldFire=!1,t}return e.prototype.beginDeferredEmit=function(){this._deferredCnt++},e.prototype.endDeferredEmit=function(){this._deferredCnt--,this._deferredCnt===0&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},e.prototype.fire=function(){this._shouldFire=!0},e}(fe),YLe=function(n){uC(e,n);function e(){var t=n.call(this)||this;return t._fastEmitter=t._register(new Q),t.fastEvent=t._fastEmitter.event,t._slowEmitter=t._register(new Q),t.slowEvent=t._slowEmitter.event,t._deferredCnt=0,t._deferredEvent=null,t}return e.prototype.beginDeferredEmit=function(){this._deferredCnt++},e.prototype.endDeferredEmit=function(){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){var t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}},e.prototype.fire=function(t){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(t):this._deferredEvent=t;return}this._fastEmitter.fire(t),this._slowEmitter.fire(t)},e}(fe),XLe=function(){return!0},xq=function(){return!1},QLe=function(n){return n===" "||n==="	"};function Lq(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}var $ee=function(){function n(e,t,r){this._languageIdentifier=e;var i=r.editor;this.readOnly=i.readOnly,this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.pageSize=Math.max(1,Math.floor(i.layoutInfo.height/i.fontInfo.lineHeight)-2),this.lineHeight=i.lineHeight,this.useTabStops=i.useTabStops,this.wordSeparators=i.wordSeparators,this.emptySelectionClipboard=i.emptySelectionClipboard,this.copyWithSyntaxHighlighting=i.copyWithSyntaxHighlighting,this.multiCursorMergeOverlapping=i.multiCursorMergeOverlapping,this.autoClosingBrackets=i.autoClosingBrackets,this.autoClosingQuotes=i.autoClosingQuotes,this.autoClosingOvertype=i.autoClosingOvertype,this.autoSurround=i.autoSurround,this.autoIndent=i.autoIndent,this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:n._getShouldAutoClose(e,this.autoClosingQuotes),bracket:n._getShouldAutoClose(e,this.autoClosingBrackets)};var o=n._getAutoClosingPairs(e);if(o)for(var s=0,a=o;s<a.length;s++){var u=a[s];Lq(this.autoClosingPairsOpen2,u.open.charAt(u.open.length-1),u),u.close.length===1&&Lq(this.autoClosingPairsClose2,u.close,u)}var l=n._getSurroundingPairs(e);if(l)for(var c=0,d=l;c<d.length;c++){var u=d[c];this.surroundingPairs[u.open]=u.close}}return n.shouldRecreate=function(e){return e.layoutInfo||e.wordSeparators||e.emptySelectionClipboard||e.multiCursorMergeOverlapping||e.autoClosingBrackets||e.autoClosingQuotes||e.autoClosingOvertype||e.autoSurround||e.useTabStops||e.lineHeight||e.readOnly},Object.defineProperty(n.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var e=n._getElectricCharacters(this._languageIdentifier);if(e)for(var t=0,r=e;t<r.length;t++){var i=r[t];this._electricChars[i]=!0}}return this._electricChars},enumerable:!0,configurable:!0}),n.prototype.normalizeIndentation=function(e){return I_.normalizeIndentation(e,this.indentSize,this.insertSpaces)},n._getElectricCharacters=function(e){try{return Ot.getElectricCharacters(e.id)}catch(t){return He(t),null}},n._getAutoClosingPairs=function(e){try{return Ot.getAutoClosingPairs(e.id)}catch(t){return He(t),null}},n._getShouldAutoClose=function(e,t){switch(t){case"beforeWhitespace":return QLe;case"languageDefined":return n._getLanguageDefinedShouldAutoClose(e);case"always":return XLe;case"never":return xq}},n._getLanguageDefinedShouldAutoClose=function(e){try{var t=Ot.getAutoCloseBeforeSet(e.id);return function(r){return t.indexOf(r)!==-1}}catch(r){return He(r),xq}},n._getSurroundingPairs=function(e){try{return Ot.getSurroundingPairs(e.id)}catch(t){return He(t),null}},n}(),lo=function(){function n(e,t,r,i){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=r,this.leftoverVisibleColumns=i,this.selection=n._computeSelection(this.selectionStart,this.position)}return n.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)},n.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},n.prototype.move=function(e,t,r,i){return e?new n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new J(t,r),i):new n(new H(t,r,t,r),i,new J(t,r),i)},n._computeSelection=function(e,t){var r,i,o,s;return e.isEmpty()?(r=e.startLineNumber,i=e.startColumn,o=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(r=e.endLineNumber,i=e.endColumn,o=t.lineNumber,s=t.column):(r=e.startLineNumber,i=e.startColumn,o=t.lineNumber,s=t.column),new Re(r,i,o,s)},n}(),Nq=function(){function n(e,t,r){this.model=t,this.viewModel=r,this.config=new $ee(this.model.getLanguageIdentifier(),this.model.getOptions(),e)}return n.prototype.validateViewPosition=function(e,t){return this.viewModel.coordinatesConverter.validateViewPosition(e,t)},n.prototype.validateViewRange=function(e,t){return this.viewModel.coordinatesConverter.validateViewRange(e,t)},n.prototype.convertViewRangeToModelRange=function(e){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},n.prototype.convertViewPositionToModelPosition=function(e,t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new J(e,t))},n.prototype.convertModelPositionToViewPosition=function(e){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e)},n.prototype.convertModelRangeToViewRange=function(e){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(e)},n.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},n.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},n.prototype.getCompletelyVisibleModelRange=function(){var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},n.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e)},n.prototype.getVerticalOffsetForViewLine=function(e){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(e)},n}(),ZLe=function(){function n(e){this.modelState=e,this.viewState=null}return n}(),JLe=function(){function n(e){this.modelState=null,this.viewState=e}return n}(),St=function(){function n(e,t){this.modelState=e,this.viewState=t}return n.fromModelState=function(e){return new ZLe(e)},n.fromViewState=function(e){return new JLe(e)},n.fromModelSelection=function(e){var t=e.selectionStartLineNumber,r=e.selectionStartColumn,i=e.positionLineNumber,o=e.positionColumn,s=new lo(new H(t,r,t,r),0,new J(i,o),0);return n.fromModelState(s)},n.fromModelSelections=function(e){for(var t=[],r=0,i=e.length;r<i;r++)t[r]=this.fromModelSelection(e[r]);return t},n.prototype.equals=function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)},n}(),Bo=function(){function n(e,t,r){this.type=e,this.commands=t,this.shouldPushStackElementBefore=r.shouldPushStackElementBefore,this.shouldPushStackElementAfter=r.shouldPushStackElementAfter}return n}(),hn=function(){function n(){}return n.isLowSurrogate=function(e,t,r){var i=e.getLineContent(t);return r<0||r>=i.length?!1:e6(i.charCodeAt(r))},n.isHighSurrogate=function(e,t,r){var i=e.getLineContent(t);return r<0||r>=i.length?!1:zo(i.charCodeAt(r))},n.isInsideSurrogatePair=function(e,t,r){return this.isHighSurrogate(e,t,r-2)},n.visibleColumnFromColumn=function(e,t,r){var i=e.length;i>t-1&&(i=t-1);for(var o=0,s=0;s<i;s++){var a=e.charCodeAt(s);a===9?o=this.nextRenderTabStop(o,r):Lc(a)?o=o+2:o=o+1}return o},n.visibleColumnFromColumn2=function(e,t,r){return this.visibleColumnFromColumn(t.getLineContent(r.lineNumber),r.column,e.tabSize)},n.columnFromVisibleColumn=function(e,t,r){if(t<=0)return 1;for(var i=e.length,o=0,s=0;s<i;s++){var a=e.charCodeAt(s),u=void 0;if(a===9?u=this.nextRenderTabStop(o,r):Lc(a)?u=o+2:u=o+1,u>=t){var l=t-o,c=u-t;return c<l?s+2:s+1}o=u}return i+1},n.columnFromVisibleColumn2=function(e,t,r,i){var o=this.columnFromVisibleColumn(t.getLineContent(r),i,e.tabSize),s=t.getLineMinColumn(r);if(o<s)return s;var a=t.getLineMaxColumn(r);return o>a?a:o},n.nextRenderTabStop=function(e,t){return e+t-e%t},n.nextIndentTabStop=function(e,t){return e+t-e%t},n.prevRenderTabStop=function(e,t){return e-1-(e-1)%t},n.prevIndentTabStop=function(e,t){return e-1-(e-1)%t},n}();function Sy(n){return n==="'"||n==='"'||n==="`"}var eNe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ec=function(){function n(e,t,r,i,o,s){r===void 0&&(r=0),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.element=e,this.type=t,this.mouseColumn=r,this.position=i,!o&&i&&(o=new H(i.lineNumber,i.column,i.lineNumber,i.column)),this.range=o,this.detail=s}return n._typeToString=function(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"},n.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},n.prototype.toString=function(){return n.toString(this)},n}(),wa=function(){function n(){}return n.isTextArea=function(e){return e.length===2&&e[0]===3&&e[1]===6},n.isChildOfViewLines=function(e){return e.length>=4&&e[0]===3&&e[3]===7},n.isStrictChildOfViewLines=function(e){return e.length>4&&e[0]===3&&e[3]===7},n.isChildOfScrollableElement=function(e){return e.length>=2&&e[0]===3&&e[1]===5},n.isChildOfMinimap=function(e){return e.length>=2&&e[0]===3&&e[1]===8},n.isChildOfContentWidgets=function(e){return e.length>=4&&e[0]===3&&e[3]===1},n.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&e[0]===2},n.isChildOfOverlayWidgets=function(e){return e.length>=2&&e[0]===3&&e[1]===4},n}(),LM=function(){function n(e,t,r){this.model=e.model,this.layoutInfo=e.configuration.editor.layoutInfo,this.viewDomNode=t.viewDomNode,this.lineHeight=e.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=e.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=r,this._context=e,this._viewHelper=t}return n.prototype.getZoneAtCoord=function(e){return n.getZoneAtCoord(this._context,e)},n.getZoneAtCoord=function(e,t){var r=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(r){var i=r.verticalOffset+r.height/2,o=e.model.getLineCount(),s=null,a=void 0,u=null;return r.afterLineNumber!==o&&(u=new J(r.afterLineNumber+1,1)),r.afterLineNumber>0&&(s=new J(r.afterLineNumber,e.model.getLineMaxColumn(r.afterLineNumber))),u===null?a=s:s===null?a=u:t<i?a=s:a=u,{viewZoneId:r.id,afterLineNumber:r.afterLineNumber,positionBefore:s,positionAfter:u,position:a}}return null},n.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),r=this._context.model.getLineMaxColumn(t);return{range:new H(t,r,t,r),isAfterLines:!0}}var i=this._context.viewLayout.getLineNumberAtVerticalOffset(e),o=this._context.model.getLineMaxColumn(i);return{range:new H(i,1,i,o),isAfterLines:!1}},n.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},n.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},n.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},n.prototype.findAttribute=function(e,t){return n._findAttribute(e,t,this._viewHelper.viewDomNode)},n._findAttribute=function(e,t,r){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===r)return null;e=e.parentNode}return null},n.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},n.prototype.visibleRangeForPosition2=function(e,t){return this._viewHelper.visibleRangeForPosition2(e,t)},n.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},n.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},n.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},n}(),tNe=function(){function n(e,t,r){this.editorPos=t,this.pos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+r.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+r.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=r.x-t.x<e.layoutInfo.contentLeft&&r.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Kee._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}return n}(),nNe=function(n){eNe(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i)||this;return s._ctx=t,o?(s.target=o,s.targetPath=Dl.collect(o,t.viewDomNode)):(s.target=null,s.targetPath=new Uint8Array(0)),s}return e.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+`
	target: `+(this.target?this.target.outerHTML:null)},e.prototype.fulfill=function(t,r,i,o){r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=null);var s=this.mouseColumn;return r&&r.column<this._ctx.model.getLineMaxColumn(r.lineNumber)&&(s=hn.visibleColumnFromColumn(this._ctx.model.getLineContent(r.lineNumber),r.column,this._ctx.model.getOptions().tabSize)+1),new ec(this.target,t,s,r,i,o)},e.prototype.withTarget=function(t){return new e(this._ctx,this.editorPos,this.pos,t)},e}(tNe),rNe={isAfterLines:!0};function HO(n){return{isAfterLines:!1,horizontalDistanceToText:n}}var Kee=function(){function n(e,t){this._context=e,this._viewHelper=t}return n.prototype.mouseTargetIsWidget=function(e){var t=e.target,r=Dl.collect(t,this._viewHelper.viewDomNode);return!!(wa.isChildOfContentWidgets(r)||wa.isChildOfOverflowingContentWidgets(r)||wa.isChildOfOverlayWidgets(r))},n.prototype.createMouseTarget=function(e,t,r,i){var o=new LM(this._context,this._viewHelper,e),s=new nNe(o,t,r,i);try{var a=n._createMouseTarget(o,s,!1);return a}catch{return s.fulfill(0)}},n._createMouseTarget=function(e,t,r){if(t.target===null){if(r)return t.fulfill(0);var i=n._doHitTest(e,t);return i.position?n.createMouseTargetFromHitTestPosition(e,t,i.position.lineNumber,i.position.column):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}var o=t,s=null;return s=s||n._hitTestContentWidget(e,o),s=s||n._hitTestOverlayWidget(e,o),s=s||n._hitTestMinimap(e,o),s=s||n._hitTestScrollbarSlider(e,o),s=s||n._hitTestViewZone(e,o),s=s||n._hitTestMargin(e,o),s=s||n._hitTestViewCursor(e,o),s=s||n._hitTestTextArea(e,o),s=s||n._hitTestViewLines(e,o,r),s=s||n._hitTestScrollbar(e,o),s||t.fulfill(0)},n._hitTestContentWidget=function(e,t){if(wa.isChildOfContentWidgets(t.targetPath)||wa.isChildOfOverflowingContentWidgets(t.targetPath)){var r=e.findAttribute(t.target,"widgetId");return r?t.fulfill(9,null,null,r):t.fulfill(0)}return null},n._hitTestOverlayWidget=function(e,t){if(wa.isChildOfOverlayWidgets(t.targetPath)){var r=e.findAttribute(t.target,"widgetId");return r?t.fulfill(12,null,null,r):t.fulfill(0)}return null},n._hitTestViewCursor=function(e,t){if(t.target)for(var r=e.lastViewCursorsRenderData,i=0,o=r;i<o.length;i++){var s=o[i];if(t.target===s.domNode)return t.fulfill(6,s.position)}if(t.isInContentArea)for(var r=e.lastViewCursorsRenderData,a=t.mouseContentHorizontalOffset,u=t.mouseVerticalOffset,l=0,c=r;l<c.length;l++){var s=c[l];if(!(a<s.contentLeft)&&!(a>s.contentLeft+s.width)){var d=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(d<=u&&u<=d+s.height)return t.fulfill(6,s.position)}}return null},n._hitTestViewZone=function(e,t){var r=e.getZoneAtCoord(t.mouseVerticalOffset);if(r){var i=t.isInContentArea?8:5;return t.fulfill(i,r.position,null,r)}return null},n._hitTestTextArea=function(e,t){return wa.isTextArea(t.targetPath)?t.fulfill(1):null},n._hitTestMargin=function(e,t){if(t.isInMarginArea){var r=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=r.range.getStartPosition(),o=Math.abs(t.pos.x-t.editorPos.x),s={isAfterLines:r.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,i,r.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,i,r.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,i,r.range,s)))}return null},n._hitTestViewLines=function(e,t,r){if(!wa.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){var i=e.model.getLineCount(),o=e.model.getLineMaxColumn(i);return t.fulfill(7,new J(i,o),void 0,rNe)}if(r){if(wa.isStrictChildOfViewLines(t.targetPath)){var s=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.model.getLineLength(s)===0){var a=e.getLineWidth(s),u=HO(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new J(s,1),void 0,u)}}return t.fulfill(0)}var l=n._doHitTest(e,t);return l.position?n.createMouseTargetFromHitTestPosition(e,t,l.position.lineNumber,l.position.column):this._createMouseTarget(e,t.withTarget(l.hitTarget),!0)},n._hitTestMinimap=function(e,t){if(wa.isChildOfMinimap(t.targetPath)){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(r);return t.fulfill(11,new J(r,i))}return null},n._hitTestScrollbarSlider=function(e,t){if(wa.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){var r=t.target.className;if(r&&/\b(slider|scrollbar)\b/.test(r)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(11,new J(i,o))}}return null},n._hitTestScrollbar=function(e,t){if(wa.isChildOfScrollableElement(t.targetPath)){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(r);return t.fulfill(11,new J(r,i))}return null},n.prototype.getMouseColumn=function(e,t){var r=this._context.configuration.editor.layoutInfo,i=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-r.contentLeft;return n._getMouseColumn(i,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},n._getMouseColumn=function(e,t){if(e<0)return 1;var r=Math.round(e/t);return r+1},n.createMouseTargetFromHitTestPosition=function(e,t,r,i){var o=new J(r,i),s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>s){if(nC&&o.column===1){var a=HO(t.mouseContentHorizontalOffset-s);return t.fulfill(7,new J(r,e.model.getLineMaxColumn(r)),void 0,a)}var u=HO(t.mouseContentHorizontalOffset-s);return t.fulfill(7,o,void 0,u)}var l=e.visibleRangeForPosition2(r,i);if(!l)return t.fulfill(0,o);var c=l.left;if(t.mouseContentHorizontalOffset===c)return t.fulfill(6,o);var d=[];if(d.push({offset:l.left,column:i}),i>1){var h=e.visibleRangeForPosition2(r,i-1);h&&d.push({offset:h.left,column:i-1})}var p=e.model.getLineMaxColumn(r);if(i<p){var v=e.visibleRangeForPosition2(r,i+1);v&&d.push({offset:v.left,column:i+1})}d.sort(function(E,T){return E.offset-T.offset});for(var m=1;m<d.length;m++){var _=d[m-1],b=d[m];if(_.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=b.offset){var C=new H(r,_.column,r,b.column);return t.fulfill(6,o,C)}}return t.fulfill(6,o)},n._doHitTestWithCaretRangeFromPoint=function(e,t){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(r),o=i+Math.floor(e.lineHeight/2),s=t.pos.y+(o-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+e.layoutInfo.height&&(s=t.editorPos.y+e.layoutInfo.height-1);var a=new A6(t.pos.x,s),u=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return u.position?u:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},n._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var r=document.caretRangeFromPoint(t.clientX,t.clientY);if(!r||!r.startContainer)return{position:null,hitTarget:null};var i=r.startContainer,o=null;if(i.nodeType===i.TEXT_NODE){var s=i.parentNode,a=s?s.parentNode:null,u=a?a.parentNode:null,l=u&&u.nodeType===u.ELEMENT_NODE?u.className:null;if(l===Rv.CLASS_NAME){var c=e.getPositionFromDOMInfo(s,r.startOffset);return{position:c,hitTarget:null}}else o=i.parentNode}else if(i.nodeType===i.ELEMENT_NODE){var s=i.parentNode,a=s?s.parentNode:null,d=a&&a.nodeType===a.ELEMENT_NODE?a.className:null;if(d===Rv.CLASS_NAME){var c=e.getPositionFromDOMInfo(i,i.textContent.length);return{position:c,hitTarget:null}}else o=i}return{position:null,hitTarget:o}},n._doHitTestWithCaretPositionFromPoint=function(e,t){var r=document.caretPositionFromPoint(t.clientX,t.clientY);if(r.offsetNode.nodeType===r.offsetNode.TEXT_NODE){var i=r.offsetNode.parentNode,o=i?i.parentNode:null,s=o?o.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(a===Rv.CLASS_NAME){var u=e.getPositionFromDOMInfo(r.offsetNode.parentNode,r.offset);return{position:u,hitTarget:null}}else return{position:null,hitTarget:r.offsetNode.parentNode}}return{position:null,hitTarget:r.offsetNode}},n._doHitTestWithMoveToPoint=function(e,t){var r=null,i=null,o=document.body.createTextRange();try{o.moveToPoint(t.clientX,t.clientY)}catch{return{position:null,hitTarget:null}}o.collapse(!0);var s=o?o.parentElement():null,a=s?s.parentNode:null,u=a?a.parentNode:null,l=u&&u.nodeType===u.ELEMENT_NODE?u.className:"";if(l===Rv.CLASS_NAME){var c=o.duplicate();c.moveToElementText(s),c.setEndPoint("EndToStart",o),r=e.getPositionFromDOMInfo(s,c.text.length),c.moveToElementText(e.viewDomNode)}else i=s;return o.moveToElementText(e.viewDomNode),{position:r,hitTarget:i}},n._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},n}(),Yee=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function NM(n){return function(e,t){var r=!1;return n&&(r=n.mouseTargetIsWidget(t)),r||t.preventDefault(),t}}var o2=function(n){Yee(e,n);function e(t,r,i){var o=n.call(this)||this;o._isFocused=!1,o._context=t,o.viewController=r,o.viewHelper=i,o.mouseTargetFactory=new Kee(o._context,i),o._mouseDownOperation=o._register(new iNe(o._context,o.viewController,o.viewHelper,function(u,l){return o._createMouseTarget(u,l)},function(u){return o._getMouseColumn(u)})),o._asyncFocus=o._register(new Pr(function(){return o.viewHelper.focusTextArea()},0)),o.lastMouseLeaveTime=-1;var s=new Mxe(o.viewHelper.viewDomNode);o._register(s.onContextMenu(o.viewHelper.viewDomNode,function(u){return o._onContextMenu(u,!0)})),o._register(s.onMouseMoveThrottled(o.viewHelper.viewDomNode,function(u){return o._onMouseMove(u)},NM(o.mouseTargetFactory),e.MOUSE_MOVE_MINIMUM_TIME)),o._register(s.onMouseUp(o.viewHelper.viewDomNode,function(u){return o._onMouseUp(u)})),o._register(s.onMouseLeave(o.viewHelper.viewDomNode,function(u){return o._onMouseLeave(u)})),o._register(s.onMouseDown(o.viewHelper.viewDomNode,function(u){return o._onMouseDown(u)}));var a=function(u){if(o.viewController.emitMouseWheel(u),!!o._context.configuration.editor.viewInfo.mouseWheelZoom){var l=new wm(u);if(l.browserEvent.ctrlKey||l.browserEvent.metaKey){var c=Oc.getZoomLevel(),d=l.deltaY>0?1:-1;Oc.setZoomLevel(c+d),l.preventDefault(),l.stopPropagation()}}};return o._register(_e(o.viewHelper.viewDomNode,ul?"mousewheel":"wheel",a,!0)),o._context.addEventHandler(o),o}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onCursorStateChanged=function(t){return this._mouseDownOperation.onCursorStateChanged(t),!1},e.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!1},e.prototype.onScrollChanged=function(t){return this._mouseDownOperation.onScrollChanged(),!1},e.prototype.getTargetAtClientPoint=function(t,r){var i=new Pee(t,r),o=i.toPageCoordinates(),s=Mee(this.viewHelper.viewDomNode);if(o.y<s.y||o.y>s.y+s.height||o.x<s.x||o.x>s.x+s.width)return null;var a=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(a,s,o,null)},e.prototype._createMouseTarget=function(t,r){var i=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(i,t.editorPos,t.pos,r?t.target:null)},e.prototype._getMouseColumn=function(t){return this.mouseTargetFactory.getMouseColumn(t.editorPos,t.pos)},e.prototype._onContextMenu=function(t,r){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,r)})},e.prototype._onMouseMove=function(t){if(!this._mouseDownOperation.isActive()){var r=t.timestamp;r<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}},e.prototype._onMouseLeave=function(t){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})},e.prototype._onMouseUp=function(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})},e.prototype._onMouseDown=function(t){var r=this,i=this._createMouseTarget(t,!0),o=i.type===6||i.type===7,s=i.type===2||i.type===3||i.type===4,a=i.type===3,u=this._context.configuration.editor.viewInfo.selectOnLineNumbers,l=i.type===8||i.type===5,c=i.type===9,d=t.leftButton||t.middleButton;Tt&&t.leftButton&&t.ctrlKey&&(d=!1);var h=function(){Es&&!r._isFocused?r._asyncFocus.schedule():(t.preventDefault(),r.viewHelper.focusTextArea())};if(d&&(o||a&&u))h(),this._mouseDownOperation.start(i.type,t);else if(s)t.preventDefault();else if(l){var p=i.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(p.viewZoneId)&&(h(),this._mouseDownOperation.start(i.type,t),t.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(h(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:i})},e.MOUSE_MOVE_MINIMUM_TIME=100,e}(aC),iNe=function(n){Yee(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a._context=t,a._viewController=r,a._viewHelper=i,a._createMouseTarget=o,a._getMouseColumn=s,a._mouseMoveMonitor=a._register(new Fxe(a._viewHelper.viewDomNode)),a._onScrollTimeout=a._register(new Ns),a._mouseState=new oNe,a._currentSelection=new Re(1,1,1,1),a._isActive=!1,a._lastMouseEvent=null,a}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.isActive=function(){return this._isActive},e.prototype._onMouseDownThenMove=function(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);var r=this._findMousePosition(t,!0);r&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:r}):this._dispatchMouse(r,!0))},e.prototype.start=function(t,r){var i=this;this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);var o=this._findMousePosition(r,!0);if(!(!o||!o.position)){if(this._mouseState.trySetCount(r.detail,o.position),r.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(NM(null),function(s){return i._onMouseDownThenMove(s)},function(){var s=i._findMousePosition(i._lastMouseEvent,!0);i._viewController.emitMouseDrop({event:i._lastMouseEvent,target:s?i._createMouseTarget(i._lastMouseEvent,!0):null}),i._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,r.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(NM(null),function(s){return i._onMouseDownThenMove(s)},function(){return i._stop()}))}},e.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},e.prototype.onScrollChanged=function(){var t=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){if(t._lastMouseEvent){var r=t._findMousePosition(t._lastMouseEvent,!1);r&&(t._mouseState.isDragAndDrop||t._dispatchMouse(r,!0))}},10)},e.prototype.onCursorStateChanged=function(t){this._currentSelection=t.selections[0]},e.prototype._getPositionOutsideEditor=function(t){var r=t.editorPos,i=this._context.model,o=this._context.viewLayout,s=this._getMouseColumn(t);if(t.posy<r.y){var a=Math.max(o.getCurrentScrollTop()-(r.y-t.posy),0),u=LM.getZoneAtCoord(this._context,a);if(u){var l=this._helpPositionJumpOverViewZone(u);if(l)return new ec(null,13,s,l)}var c=o.getLineNumberAtVerticalOffset(a);return new ec(null,13,s,new J(c,1))}if(t.posy>r.y+r.height){var a=o.getCurrentScrollTop()+(t.posy-r.y),u=LM.getZoneAtCoord(this._context,a);if(u){var l=this._helpPositionJumpOverViewZone(u);if(l)return new ec(null,13,s,l)}var d=o.getLineNumberAtVerticalOffset(a);return new ec(null,13,s,new J(d,i.getLineMaxColumn(d)))}var h=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+(t.posy-r.y));return t.posx<r.x?new ec(null,13,s,new J(h,1)):t.posx>r.x+r.width?new ec(null,13,s,new J(h,i.getLineMaxColumn(h))):null},e.prototype._findMousePosition=function(t,r){var i=this._getPositionOutsideEditor(t);if(i)return i;var o=this._createMouseTarget(t,r),s=o.position;if(!s)return null;if(o.type===8||o.type===5){var a=this._helpPositionJumpOverViewZone(o.detail);if(a)return new ec(o.element,o.type,o.mouseColumn,a,null,o.detail)}return o},e.prototype._helpPositionJumpOverViewZone=function(t){var r=new J(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=t.positionBefore,o=t.positionAfter;return i&&o?i.isBefore(r)?i:o:null},e.prototype._dispatchMouse=function(t,r){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},e}(fe),oNe=function(){function n(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(n.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),n.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},n.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},n.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},n.prototype.trySetCount=function(e,t){var r=new Date().getTime();r-this._lastSetMouseDownCountTime>n.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=r,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)},n.CLEAR_MOUSE_DOWN_COUNT_TIME=400,n}(),s2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Xee(n,e){var t={translationY:e.translationY,translationX:e.translationX};return n&&(t.translationY+=n.translationY,t.translationX+=n.translationX),t}var sNe=function(n){s2(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var s=new MSGesture,a=new MSGesture;s.target=o.viewHelper.linesContentDomNode,a.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(u){var l=u.pointerType;if(l===(u.MSPOINTER_TYPE_MOUSE||"mouse")){o._lastPointerType="mouse";return}else l===(u.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",s.addPointer(u.pointerId)):(o._lastPointerType="pen",a.addPointer(u.pointerId))}),o._register(iC(o.viewHelper.linesContentDomNode,"MSGestureChange",function(u){return o._onGestureChange(u)},Xee)),o._register(_e(o.viewHelper.linesContentDomNode,"MSGestureTap",function(u){return o._onCaptureGestureTap(u)},!0))}},100),o._lastPointerType="mouse",o}return e.prototype._onMouseDown=function(t){this._lastPointerType==="mouse"&&n.prototype._onMouseDown.call(this,t)},e.prototype._onCaptureGestureTap=function(t){var r=this,i=new xm(t,this.viewHelper.viewDomNode),o=this._createMouseTarget(i,!1);o.position&&this.viewController.moveTo(o.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){r.viewHelper.focusTextArea()})},e.prototype._onGestureChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),n.prototype.dispose.call(this)},e}(o2),aNe=function(n){s2(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var s=new MSGesture,a=new MSGesture;s.target=o.viewHelper.linesContentDomNode,a.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(u){var l=u.pointerType;if(l==="mouse"){o._lastPointerType="mouse";return}else l==="touch"?(o._lastPointerType="touch",s.addPointer(u.pointerId)):(o._lastPointerType="pen",a.addPointer(u.pointerId))}),o._register(iC(o.viewHelper.linesContentDomNode,"MSGestureChange",function(u){return o._onGestureChange(u)},Xee)),o._register(_e(o.viewHelper.linesContentDomNode,"MSGestureTap",function(u){return o._onCaptureGestureTap(u)},!0))}},100),o._lastPointerType="mouse",o}return e.prototype._onMouseDown=function(t){this._lastPointerType==="mouse"&&n.prototype._onMouseDown.call(this,t)},e.prototype._onCaptureGestureTap=function(t){var r=this,i=new xm(t,this.viewHelper.viewDomNode),o=this._createMouseTarget(i,!1);o.position&&this.viewController.moveTo(o.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){r.viewHelper.focusTextArea()})},e.prototype._onGestureChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),n.prototype.dispose.call(this)},e}(o2),uNe=function(n){s2(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return D_.addTarget(o.viewHelper.linesContentDomNode),o._register(_e(o.viewHelper.linesContentDomNode,ii.Tap,function(s){return o.onTap(s)})),o._register(_e(o.viewHelper.linesContentDomNode,ii.Change,function(s){return o.onChange(s)})),o._register(_e(o.viewHelper.linesContentDomNode,ii.Contextmenu,function(s){return o._onContextMenu(new xm(s,o.viewHelper.viewDomNode),!1)})),o}return e.prototype.onTap=function(t){t.preventDefault(),this.viewHelper.focusTextArea();var r=this._createMouseTarget(new xm(t,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.moveTo(r.position)},e.prototype.onChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},e}(o2),lNe=function(n){s2(e,n);function e(t,r,i){var o=n.call(this)||this;return window.navigator.msPointerEnabled?o.handler=o._register(new sNe(t,r,i)):window.TouchEvent?o.handler=o._register(new uNe(t,r,i)):window.navigator.pointerEnabled||window.PointerEvent?o.handler=o._register(new aNe(t,r,i)):o.handler=o._register(new o2(t,r,i)),o}return e.prototype.getTargetAtClientPoint=function(t,r){return this.handler.getTargetAtClientPoint(t,r)},e}(fe),js=function(){function n(e,t,r,i,o){this.value=e,this.selectionStart=t,this.selectionEnd=r,this.selectionStartPosition=i,this.selectionEndPosition=o}return n.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},n.readFromTextArea=function(e){return new n(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)},n.prototype.collapseSelection=function(){return new n(this.value,this.value.length,this.value.length,null,null)},n.prototype.writeToTextArea=function(e,t,r){t.setValue(e,this.value),r&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},n.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){var t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var r=this.value.substring(this.selectionStart,e);if(r.indexOf("")===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,r,1);var i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)},n.prototype._finishDeduceEditorPosition=function(e,t,r){for(var i=0,o=-1;(o=t.indexOf(`
`,o+1))!==-1;)i++;return[e,r*t.length,i]},n.selectedText=function(e){return new n(e,0,e.length,null,null)},n.deduceInput=function(e,t,r,i){if(!e)return{text:"",replaceCharCnt:0};var o=e.value,s=e.selectionStart,a=e.selectionEnd,u=t.value,l=t.selectionStart,c=t.selectionEnd;i&&o.length>0&&s===a&&l===c&&!Vb(u,o)&&xc(u,o)&&(s=0,a=0);var d=o.substring(a),h=u.substring(c),p=VDe(d,h);u=u.substring(0,u.length-p),o=o.substring(0,o.length-p);var v=o.substring(0,s),m=u.substring(0,l),_=J4(v,m);if(u=u.substring(_),o=o.substring(_),l-=_,s-=_,c-=_,a-=_,r&&l===c&&o.length>0){var b=null;if(l===u.length?Vb(u,o)&&(b=u.substring(o.length)):xc(u,o)&&(b=u.substring(0,u.length-o.length)),b!==null&&b.length>0&&(/\uFE0F/.test(b)||jDe(b)))return{text:b,replaceCharCnt:0}}if(l===c){if(o===u&&s===0&&a===o.length&&l===u.length&&u.indexOf(`
`)===-1&&zDe(u))return{text:"",replaceCharCnt:0};var C=v.length-_;return{text:u,replaceCharCnt:C}}var E=a-s;return{text:u,replaceCharCnt:E}},n.EMPTY=new n("",0,0,null,null),n}(),cNe=function(){function n(){}return n._getPageOfLine=function(e){return Math.floor((e-1)/n._LINES_PER_PAGE)},n._getRangeForPage=function(e){var t=e*n._LINES_PER_PAGE,r=t+1,i=t+n._LINES_PER_PAGE;return new H(r,1,i+1,1)},n.fromEditorSelection=function(e,t,r,i){var o=n._getPageOfLine(r.startLineNumber),s=n._getRangeForPage(o),a=n._getPageOfLine(r.endLineNumber),u=n._getRangeForPage(a),l=s.intersectRanges(new H(1,1,r.startLineNumber,r.startColumn)),c=t.getValueInRange(l,1),d=t.getLineCount(),h=t.getLineMaxColumn(d),p=u.intersectRanges(new H(r.endLineNumber,r.endColumn,d,h)),v=t.getValueInRange(p,1),m;if(o===a||o+1===a)m=t.getValueInRange(r,1);else{var _=s.intersectRanges(r),b=u.intersectRanges(r);m=t.getValueInRange(_,1)+""+t.getValueInRange(b,1)}if(i){var C=500;c.length>C&&(c=c.substring(c.length-C,c.length)),v.length>C&&(v=v.substring(0,C)),m.length>2*C&&(m=m.substring(0,C)+""+m.substring(m.length-C,m.length))}return new js(c+m+v,c.length,c.length+m.length,new J(r.startLineNumber,r.startColumn),new J(r.endLineNumber,r.endColumn))},n._LINES_PER_PAGE=10,n}(),Qee=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MT={forceCopyWithSyntaxHighlighting:!1},fNe=function(n){Qee(e,n);function e(t,r){var i=n.call(this)||this;i._onFocus=i._register(new Q),i.onFocus=i._onFocus.event,i._onBlur=i._register(new Q),i.onBlur=i._onBlur.event,i._onKeyDown=i._register(new Q),i.onKeyDown=i._onKeyDown.event,i._onKeyUp=i._register(new Q),i.onKeyUp=i._onKeyUp.event,i._onCut=i._register(new Q),i.onCut=i._onCut.event,i._onPaste=i._register(new Q),i.onPaste=i._onPaste.event,i._onType=i._register(new Q),i.onType=i._onType.event,i._onCompositionStart=i._register(new Q),i.onCompositionStart=i._onCompositionStart.event,i._onCompositionUpdate=i._register(new Q),i.onCompositionUpdate=i._onCompositionUpdate.event,i._onCompositionEnd=i._register(new Q),i.onCompositionEnd=i._onCompositionEnd.event,i._onSelectionChangeRequest=i._register(new Q),i.onSelectionChangeRequest=i._onSelectionChangeRequest.event,i._host=t,i._textArea=i._register(new hNe(r)),i._lastTextAreaEvent=0,i._asyncTriggerCut=i._register(new Pr(function(){return i._onCut.fire()},0)),i._textAreaState=js.EMPTY,i._selectionChangeListener=null,i.writeScreenReaderContent("ctor"),i._hasFocus=!1,i._isDoingComposition=!1,i._nextCommand=0,i._register(hi(r.domNode,"keydown",function(u){i._isDoingComposition&&(u.keyCode===109||u.keyCode===1)&&u.stopPropagation(),u.equals(9)&&u.preventDefault(),i._onKeyDown.fire(u)})),i._register(hi(r.domNode,"keyup",function(u){i._onKeyUp.fire(u)})),i._register(_e(r.domNode,"compositionstart",function(u){i._lastTextAreaEvent=1,!i._isDoingComposition&&(i._isDoingComposition=!0,ul||i._setAndWriteTextAreaState("compositionstart",js.EMPTY),i._onCompositionStart.fire())}));var o=function(u,l){var c=i._textAreaState,d=js.readFromTextArea(i._textArea);return[d,js.deduceInput(c,d,u,l)]},s=function(u){var l=i._textAreaState,c=js.selectedText(u),d={text:c.value,replaceCharCnt:l.selectionEnd-l.selectionStart};return[c,d]},a=function(u){return!!(ul&&u==="ja"||Es&&u.indexOf("zh-Han")===0)};return i._register(_e(r.domNode,"compositionupdate",function(u){if(i._lastTextAreaEvent=2,a(u.locale)){var l=o(!1,!1),c=l[0],d=l[1];i._textAreaState=c,i._onType.fire(d),i._onCompositionUpdate.fire(u);return}var h=s(u.data),p=h[0],v=h[1];i._textAreaState=p,i._onType.fire(v),i._onCompositionUpdate.fire(u)})),i._register(_e(r.domNode,"compositionend",function(u){if(i._lastTextAreaEvent=3,a(u.locale)){var l=o(!1,!1),c=l[0],d=l[1];i._textAreaState=c,i._onType.fire(d)}else{var h=s(u.data),c=h[0],d=h[1];i._textAreaState=c,i._onType.fire(d)}(ul||Mb)&&(i._textAreaState=js.readFromTextArea(i._textArea)),i._isDoingComposition&&(i._isDoingComposition=!1,i._onCompositionEnd.fire())})),i._register(_e(r.domNode,"input",function(){var u=i._lastTextAreaEvent===8;if(i._lastTextAreaEvent=4,i._textArea.setIgnoreSelectionChangeTime("received input event"),!i._isDoingComposition){var l=o(Tt,u&&Tt),c=l[0],d=l[1];d.replaceCharCnt===0&&d.text.length===1&&zo(d.text.charCodeAt(0))||(i._textAreaState=c,i._nextCommand===0?d.text!==""&&i._onType.fire(d):(d.text!==""&&i._onPaste.fire({text:d.text}),i._nextCommand=0))}})),i._register(_e(r.domNode,"cut",function(u){i._lastTextAreaEvent=5,i._textArea.setIgnoreSelectionChangeTime("received cut event"),i._ensureClipboardGetsEditorSelection(u),i._asyncTriggerCut.schedule()})),i._register(_e(r.domNode,"copy",function(u){i._lastTextAreaEvent=6,i._ensureClipboardGetsEditorSelection(u)})),i._register(_e(r.domNode,"paste",function(u){if(i._lastTextAreaEvent=7,i._textArea.setIgnoreSelectionChangeTime("received paste event"),TE.canUseTextData(u)){var l=TE.getTextData(u);l!==""&&i._onPaste.fire({text:l})}else i._textArea.getSelectionStart()!==i._textArea.getSelectionEnd()&&i._setAndWriteTextAreaState("paste",js.EMPTY),i._nextCommand=1})),i._register(_e(r.domNode,"focus",function(){i._lastTextAreaEvent=8,i._setHasFocus(!0)})),i._register(_e(r.domNode,"blur",function(){i._lastTextAreaEvent=9,i._setHasFocus(!1)})),i}return e.prototype._installSelectionChangeListener=function(){var t=this,r=0;return _e(document,"selectionchange",function(i){if(t._hasFocus&&!t._isDoingComposition&&!(!Mb||!bo)){var o=Date.now(),s=o-r;if(r=o,!(s<5)){var a=o-t._textArea.getIgnoreSelectionChangeTime();if(t._textArea.resetSelectionChangeTime(),!(a<100)&&!(!t._textAreaState.selectionStartPosition||!t._textAreaState.selectionEndPosition)){var u=t._textArea.getValue();if(t._textAreaState.value===u){var l=t._textArea.getSelectionStart(),c=t._textArea.getSelectionEnd();if(!(t._textAreaState.selectionStart===l&&t._textAreaState.selectionEnd===c)){var d=t._textAreaState.deduceEditorPosition(l),h=t._host.deduceModelPosition(d[0],d[1],d[2]),p=t._textAreaState.deduceEditorPosition(c),v=t._host.deduceModelPosition(p[0],p[1],p[2]),m=new Re(h.lineNumber,h.column,v.lineNumber,v.column);t._onSelectionChangeRequest.fire(m)}}}}}})},e.prototype.dispose=function(){n.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},e.prototype.focusTextArea=function(){this._setHasFocus(!0)},e.prototype.isFocused=function(){return this._hasFocus},e.prototype._setHasFocus=function(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(nC?this._setAndWriteTextAreaState("focusgain",js.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},e.prototype._setAndWriteTextAreaState=function(t,r){this._hasFocus||(r=r.collapseSelection()),r.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=r},e.prototype.writeScreenReaderContent=function(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))},e.prototype._ensureClipboardGetsEditorSelection=function(t){var r=this._host.getPlainTextToCopy();if(!TE.canUseTextData(t)){this._setAndWriteTextAreaState("copy or cut",js.selectedText(r));return}var i=null;rDe()&&(r.length<65536||MT.forceCopyWithSyntaxHighlighting)&&(i=this._host.getHTMLToCopy()),TE.setTextData(t,r,i)},e}(fe),TE=function(){function n(){}return n.canUseTextData=function(e){return!!(e.clipboardData||window.clipboardData)},n.getTextData=function(e){if(e.clipboardData)return e.preventDefault(),e.clipboardData.getData("text/plain");if(window.clipboardData)return e.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},n.setTextData=function(e,t,r){if(e.clipboardData){e.clipboardData.setData("text/plain",t),r!==null&&e.clipboardData.setData("text/html",r),e.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},n}(),hNe=function(n){Qee(e,n);function e(t){var r=n.call(this)||this;return r._actual=t,r._ignoreSelectionChangeTime=0,r}return e.prototype.setIgnoreSelectionChangeTime=function(t){this._ignoreSelectionChangeTime=Date.now()},e.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},e.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},e.prototype.getValue=function(){return this._actual.domNode.value},e.prototype.setValue=function(t,r){var i=this._actual.domNode;i.value!==r&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=r)},e.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},e.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},e.prototype.setSelectionRange=function(t,r,i){var o=this._actual.domNode,s=document.activeElement===o,a=o.selectionStart,u=o.selectionEnd;if(s&&a===r&&u===i){Ic&&window.parent!==window&&o.focus();return}if(s){this.setIgnoreSelectionChangeTime("setSelectionRange"),o.setSelectionRange(r,i),Ic&&window.parent!==window&&o.focus();return}try{var l=xDe(o);this.setIgnoreSelectionChangeTime("setSelectionRange"),o.focus(),o.setSelectionRange(r,i),LDe(o,l)}catch{}},e}(fe),dNe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rg=function(n){dNe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(aC),Zee={ColorContribution:"base.contributions.colors"},pNe=function(){function n(){this._onDidChangeSchema=new Q,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return n.prototype.registerColor=function(e,t,r,i,o){i===void 0&&(i=!1);var s={id:e,description:r,defaults:t,needsTransparency:i,deprecationMessage:o};this.colorsById[e]=s;var a={type:"string",description:r,format:"color-hex",default:"#ff0000"};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(r),this._onDidChangeSchema.fire(),e},n.prototype.resolveDefaultColor=function(e,t){var r=this.colorsById[e];if(r&&r.defaults){var i=r.defaults[t.type];return Pp(i,t)}},n.prototype.getColorSchema=function(){return this.colorSchema},n.prototype.toString=function(){var e=this,t=function(r,i){var o=r.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return o!==s?o-s:r.localeCompare(i)};return Object.keys(this.colorsById).sort(t).map(function(r){return"- `"+r+"`: "+e.colorsById[r].description}).join(`
`)},n}(),a2=new pNe;To.add(Zee.ColorContribution,a2);function re(n,e,t,r,i){return a2.registerColor(n,e,t,r,i)}var bc=re("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},D("foreground","Overall foreground color. This color is only used if not overridden by a component.")),gNe=re("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},D("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),Nm=re("focusBorder",{dark:se.fromHex("#0E639C").transparent(.8),light:se.fromHex("#007ACC").transparent(.4),hc:"#F38518"},D("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Mr=re("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},D("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Ni=re("contrastActiveBorder",{light:null,dark:null,hc:Nm},D("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),u2=re("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},D("textLinkForeground","Foreground color for links in text.")),O6=re("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:se.black},D("textCodeBlockBackground","Background color for code blocks in text.")),ig=re("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},D("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),k6=re("input.background",{dark:"#3C3C3C",light:se.white,hc:se.black},D("inputBoxBackground","Input box background.")),R6=re("input.foreground",{dark:bc,light:bc,hc:bc},D("inputBoxForeground","Input box foreground.")),P6=re("input.border",{dark:null,light:null,hc:Mr},D("inputBoxBorder","Input box border.")),FT=re("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Mr},D("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),BT=re("inputOption.activeBackground",{dark:ih(Nm,.5),light:ih(Nm,.3),hc:null},D("inputOption.activeBackground","Background color of activated options in input fields.")),M6=re("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:se.black},D("inputValidationInfoBackground","Input validation background color for information severity.")),F6=re("inputValidation.infoForeground",{dark:null,light:null,hc:null},D("inputValidationInfoForeground","Input validation foreground color for information severity.")),B6=re("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Mr},D("inputValidationInfoBorder","Input validation border color for information severity.")),Jee=re("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:se.black},D("inputValidationWarningBackground","Input validation background color for warning severity.")),ete=re("inputValidation.warningForeground",{dark:null,light:null,hc:null},D("inputValidationWarningForeground","Input validation foreground color for warning severity.")),tte=re("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Mr},D("inputValidationWarningBorder","Input validation border color for warning severity.")),nte=re("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:se.black},D("inputValidationErrorBackground","Input validation background color for error severity.")),rte=re("inputValidation.errorForeground",{dark:null,light:null,hc:null},D("inputValidationErrorForeground","Input validation foreground color for error severity.")),ite=re("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Mr},D("inputValidationErrorBorder","Input validation border color for error severity.")),VO=re("dropdown.background",{dark:"#3C3C3C",light:se.white,hc:se.black},D("dropdownBackground","Dropdown background.")),Oq=re("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:se.white},D("dropdownForeground","Dropdown foreground.")),gp=re("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},D("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ote=re("list.focusForeground",{dark:null,light:null,hc:null},D("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),vp=re("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},D("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),mp=re("list.activeSelectionForeground",{dark:se.white,light:se.white,hc:null},D("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ste=re("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},D("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ate=re("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},D("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ute=re("list.inactiveFocusBackground",{dark:null,light:null,hc:null},D("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),lte=re("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},D("listHoverBackground","List/Tree background when hovering over items using the mouse.")),cte=re("list.hoverForeground",{dark:null,light:null,hc:null},D("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),fte=re("list.dropBackground",{dark:gp,light:gp,hc:null},D("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),WO=re("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:Nm},D("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),vNe=re("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:se.black},D("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),mNe=re("listFilterWidget.outline",{dark:se.transparent,light:se.transparent,hc:"#f38518"},D("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),_Ne=re("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Mr},D("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),yNe=re("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},D("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),bNe=re("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:se.white},D("pickerGroupForeground","Quick picker color for grouping labels.")),CNe=re("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:se.white},D("pickerGroupBorder","Quick picker color for grouping borders.")),wNe=re("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:se.black},D("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ENe=re("badge.foreground",{dark:se.white,light:"#333",hc:se.white},D("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),l2=re("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},D("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),SNe=re("scrollbarSlider.background",{dark:se.fromHex("#797979").transparent(.4),light:se.fromHex("#646464").transparent(.4),hc:ih(Mr,.6)},D("scrollbarSliderBackground","Scrollbar slider background color.")),TNe=re("scrollbarSlider.hoverBackground",{dark:se.fromHex("#646464").transparent(.7),light:se.fromHex("#646464").transparent(.7),hc:ih(Mr,.8)},D("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),DNe=re("scrollbarSlider.activeBackground",{dark:se.fromHex("#BFBFBF").transparent(.4),light:se.fromHex("#000000").transparent(.6),hc:Mr},D("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),ANe=re("progressBar.background",{dark:se.fromHex("#0E70C0"),light:se.fromHex("#0E70C0"),hc:Mr},D("progressBarBackground","Background color of the progress bar that can show for long running operations.")),INe=re("menu.border",{dark:null,light:null,hc:Mr},D("menuBorder","Border color of menus.")),xNe=re("menu.foreground",{dark:Oq,light:bc,hc:Oq},D("menuForeground","Foreground color of menu items.")),LNe=re("menu.background",{dark:VO,light:VO,hc:VO},D("menuBackground","Background color of menu items.")),NNe=re("menu.selectionForeground",{dark:mp,light:mp,hc:mp},D("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ONe=re("menu.selectionBackground",{dark:vp,light:vp,hc:vp},D("menuSelectionBackground","Background color of the selected menu item in menus.")),kNe=re("menu.selectionBorder",{dark:null,light:null,hc:Ni},D("menuSelectionBorder","Border color of the selected menu item in menus.")),RNe=re("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Mr},D("menuSeparatorBackground","Color of a separator menu item in menus.")),hte=re("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},D("editorError.foreground","Foreground color of error squigglies in the editor.")),dte=re("editorError.border",{dark:null,light:null,hc:se.fromHex("#E47777").transparent(.8)},D("errorBorder","Border color of error boxes in the editor.")),HT=re("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},D("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),H6=re("editorWarning.border",{dark:null,light:null,hc:se.fromHex("#FFCC00").transparent(.8)},D("warningBorder","Border color of warning boxes in the editor.")),VT=re("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},D("editorInfo.foreground","Foreground color of info squigglies in the editor.")),V6=re("editorInfo.border",{dark:null,light:null,hc:se.fromHex("#75BEFF").transparent(.8)},D("infoBorder","Border color of info boxes in the editor.")),PNe=re("editorHint.foreground",{dark:se.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},D("editorHint.foreground","Foreground color of hint squigglies in the editor.")),MNe=re("editorHint.border",{dark:null,light:null,hc:se.fromHex("#eeeeee").transparent(.8)},D("hintBorder","Border color of hint boxes in the editor.")),cl=re("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:se.black},D("editorBackground","Editor background color.")),rh=re("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:se.white},D("editorForeground","Editor default foreground color.")),fl=re("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},D("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),pte=re("editorWidget.foreground",{dark:bc,light:bc,hc:bc},D("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),_p=re("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Mr},D("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),FNe=re("editorWidget.resizeBorder",{light:null,dark:null,hc:null},D("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Jv=re("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},D("editorSelectionBackground","Color of the editor selection.")),BNe=re("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},D("editorSelectionForeground","Color of the selected text for high contrast.")),W6=re("editor.inactiveSelectionBackground",{light:ih(Jv,.5),dark:ih(Jv,.5),hc:ih(Jv,.5)},D("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),U6=re("editor.selectionHighlightBackground",{light:Rq(Jv,cl,.3,.6),dark:Rq(Jv,cl,.3,.6),hc:null},D("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),HNe=re("editor.selectionHighlightBorder",{light:null,dark:null,hc:Ni},D("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),VNe=re("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},D("editorFindMatch","Color of the current search match.")),WNe=re("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},D("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),UNe=re("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},D("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),jNe=re("editor.findMatchBorder",{light:null,dark:null,hc:Ni},D("editorFindMatchBorder","Border color of the current search match.")),qNe=re("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Ni},D("findMatchHighlightBorder","Border color of the other search matches.")),zNe=re("editor.findRangeHighlightBorder",{dark:null,light:null,hc:ih(Ni,.4)},D("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),GNe=re("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},D("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Rp=re("editorHoverWidget.background",{light:fl,dark:fl,hc:fl},D("hoverBackground","Background color of the editor hover.")),j6=re("editorHoverWidget.border",{light:_p,dark:_p,hc:_p},D("hoverBorder","Border color of the editor hover.")),$Ne=re("editorHoverWidget.statusBarBackground",{dark:tOe(Rp,.2),light:z6(Rp,.05),hc:fl},D("statusBarBackground","Background color of the editor hover status bar.")),q6=re("editorLink.activeForeground",{dark:"#4E94CE",light:se.blue,hc:se.cyan},D("activeLinkForeground","Color of active links.")),OM=new se(new yn(155,185,85,.2)),kM=new se(new yn(255,0,0,.2)),gte=re("diffEditor.insertedTextBackground",{dark:OM,light:OM,hc:null},D("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),vte=re("diffEditor.removedTextBackground",{dark:kM,light:kM,hc:null},D("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),KNe=re("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},D("diffEditorInsertedOutline","Outline color for the text that got inserted.")),YNe=re("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},D("diffEditorRemovedOutline","Outline color for text that got removed.")),XNe=re("diffEditor.border",{dark:null,light:null,hc:Mr},D("diffEditorBorder","Border color between the two text editors.")),QNe=re("editor.snippetTabstopHighlightBackground",{dark:new se(new yn(124,124,124,.3)),light:new se(new yn(10,50,100,.2)),hc:new se(new yn(124,124,124,.3))},D("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),ZNe=re("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},D("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),JNe=re("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},D("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),eOe=re("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new se(new yn(10,50,100,.5)),hc:"#525252"},D("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet.")),UO=re("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},D("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),mte=re("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},D("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),kq=re("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},D("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);function z6(n,e){return function(t){var r=Pp(n,t);if(r)return r.darken(e)}}function tOe(n,e){return function(t){var r=Pp(n,t);if(r)return r.lighten(e)}}function ih(n,e){return function(t){var r=Pp(n,t);if(r)return r.transparent(e)}}function G6(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=Pp(o,t);if(s)return s}}}function Rq(n,e,t,r){return function(i){var o=Pp(n,i);if(o){var s=Pp(e,i);return s?o.isDarkerThan(s)?se.getLighterColor(o,s,t).transparent(r):se.getDarkerColor(o,s,t).transparent(r):o.transparent(t*r)}}}function Pp(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?se.fromHex(n):e.getColor(n);if(n instanceof se)return n;if(typeof n=="function")return n(e)}}var _te="vscode://schemas/workbench-colors",yte=To.as(w6.JSONContribution);yte.registerSchema(_te,a2.getColorSchema());var Pq=new Pr(function(){return yte.notifySchemaChanged(_te)},200);a2.onDidChangeSchema(function(){Pq.isScheduled()||Pq.schedule()});var bte=re("editor.lineHighlightBackground",{dark:null,light:null,hc:null},D("lineHighlight","Background color for the highlight of line at the cursor position.")),RM=re("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},D("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),nOe=re("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},D("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),rOe=re("editor.rangeHighlightBorder",{dark:null,light:null,hc:Ni},D("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),Cte=re("editorCursor.foreground",{dark:"#AEAFAD",light:se.black,hc:se.white},D("caret","Color of the editor cursor.")),iOe=re("editorCursor.background",null,D("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),yp=re("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},D("editorWhitespaces","Color of whitespace characters in the editor.")),c2=re("editorIndentGuide.background",{dark:yp,light:yp,hc:yp},D("editorIndentGuides","Color of the editor indentation guides.")),f2=re("editorIndentGuide.activeBackground",{dark:yp,light:yp,hc:yp},D("editorActiveIndentGuide","Color of the active editor indentation guides.")),wte=re("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:se.white},D("editorLineNumbers","Color of editor line numbers.")),jO=re("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Ni},D("editorActiveLineNumber","Color of editor active line number"),!1,D("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),oOe=re("editorLineNumber.activeForeground",{dark:jO,light:jO,hc:jO},D("editorActiveLineNumber","Color of editor active line number")),sOe=re("editorRuler.foreground",{dark:"#5A5A5A",light:se.lightgrey,hc:se.white},D("editorRuler","Color of the editor rulers.")),aOe=re("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},D("editorCodeLensForeground","Foreground color of editor code lenses")),uOe=re("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},D("editorBracketMatchBackground","Background color behind matching brackets")),Ete=re("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Mr},D("editorBracketMatchBorder","Color for matching brackets boxes")),lOe=re("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},D("editorOverviewRulerBorder","Color of the overview ruler border.")),cOe=re("editorGutter.background",{dark:cl,light:cl,hc:cl},D("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),fOe=re("editorUnnecessaryCode.border",{dark:null,light:null,hc:se.fromHex("#fff").transparent(.8)},D("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),hOe=re("editorUnnecessaryCode.opacity",{dark:se.fromHex("#000a"),light:se.fromHex("#0007"),hc:null},D("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),dOe=re("editorOverviewRuler.errorForeground",{dark:new se(new yn(255,18,18,.7)),light:new se(new yn(255,18,18,.7)),hc:new se(new yn(255,50,50,1))},D("overviewRuleError","Overview ruler marker color for errors.")),pOe=re("editorOverviewRuler.warningForeground",{dark:HT,light:HT,hc:H6},D("overviewRuleWarning","Overview ruler marker color for warnings.")),gOe=re("editorOverviewRuler.infoForeground",{dark:VT,light:VT,hc:V6},D("overviewRuleInfo","Overview ruler marker color for infos."));mn(function(n,e){var t=n.getColor(cl);t&&e.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+t+"; }");var r=n.getColor(rh);r&&e.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+r+"; }");var i=n.getColor(cOe);i&&e.addRule(".monaco-editor .margin { background-color: "+i+"; }");var o=n.getColor(nOe);o&&e.addRule(".monaco-editor .rangeHighlight { background-color: "+o+"; }");var s=n.getColor(rOe);s&&e.addRule(".monaco-editor .rangeHighlight { border: 1px "+(n.type==="hc"?"dotted":"solid")+" "+s+"; }");var a=n.getColor(yp);a&&e.addRule(".vs-whitespace { color: "+a+" !important; }")});var vOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ste=function(n){vOe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._readConfig(),r._lastCursorModelPosition=new J(1,1),r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype._readConfig=function(){var t=this._context.configuration.editor;this._lineHeight=t.lineHeight,this._renderLineNumbers=t.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=t.viewInfo.renderCustomLineNumbers,this._renderFinalNewline=t.viewInfo.renderFinalNewline,this._lineNumbersLeft=t.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=t.layoutInfo.lineNumbersWidth},e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return this._readConfig(),!0},e.prototype.onCursorStateChanged=function(t){var r=t.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(r),this._renderLineNumbers===2||this._renderLineNumbers===3},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getLineRenderLineNumber=function(t){var r=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new J(t,1));if(r.column!==1)return"";var i=r.lineNumber;if(!this._renderFinalNewline){var o=this._context.model.getLineCount(),s=this._context.model.getLineContent(i);if(i===o&&s==="")return""}if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){var a=Math.abs(this._lastCursorModelPosition.lineNumber-i);return a===0?'<span class="relative-current-line-number">'+i+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)},e.prototype.prepareRender=function(t){if(this._renderLineNumbers===0){this._renderResult=null;return}for(var r=Uc?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=t.visibleRange.startLineNumber,o=t.visibleRange.endLineNumber,s='<div class="'+e.CLASS_NAME+r+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',a=[],u=i;u<=o;u++){var l=u-i,c=this._getLineRenderLineNumber(u);c?a[l]=s+c+"</div>":a[l]=""}this._renderResult=a},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e.CLASS_NAME="line-numbers",e}(rg);mn(function(n,e){var t=n.getColor(wte);t&&e.addRule(".monaco-editor .line-numbers { color: "+t+"; }");var r=n.getColor(oOe);r&&e.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+r+"; }")});var mOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tte=function(n){mOe(e,n);function e(t){var r=n.call(this,t)||this;return r._canUseLayerHinting=r._context.configuration.editor.canUseLayerHinting,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r._glyphMarginLeft=r._context.configuration.editor.layoutInfo.glyphMarginLeft,r._glyphMarginWidth=r._context.configuration.editor.layoutInfo.glyphMarginWidth,r._domNode=wt(document.createElement("div")),r._domNode.setClassName(e.OUTER_CLASS_NAME),r._domNode.setPosition("absolute"),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._glyphMarginBackgroundDomNode=wt(document.createElement("div")),r._glyphMarginBackgroundDomNode.setClassName(e.CLASS_NAME),r._domNode.appendChild(r._glyphMarginBackgroundDomNode),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){return t.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onScrollChanged=function(t){return n.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setLayerHinting(this._canUseLayerHinting);var r=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-r);var i=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},e.CLASS_NAME="glyph-margin",e.OUTER_CLASS_NAME="margin",e}(ga),_Oe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yOe=function(){function n(e){this.type=1,this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.emptySelectionClipboard=e.emptySelectionClipboard,this.copyWithSyntaxHighlighting=e.copyWithSyntaxHighlighting,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo}return n}(),bOe=function(){function n(e){this.type=2,this.selections=e}return n}(),sv=function(){function n(){this.type=3}return n}(),DE=function(){function n(){this.type=4}return n}(),Mq=function(){function n(e){this.type=5,this.isFocused=e}return n}(),AE=function(){function n(){this.type=6}return n}(),Dte=function(){function n(e,t){this.type=7,this.fromLineNumber=e,this.toLineNumber=t}return n}(),PM=function(){function n(e,t){this.type=8,this.fromLineNumber=e,this.toLineNumber=t}return n}(),MM=function(){function n(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}return n}(),$6=function(){function n(e,t,r,i){this.type=10,this.range=e,this.verticalType=t,this.revealHorizontal=r,this.scrollType=i}return n}(),COe=function(){function n(e){this.type=11,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}return n}(),wOe=function(){function n(e){this.type=12,this.ranges=e}return n}(),EOe=function(){function n(){this.type=15}return n}(),SOe=function(){function n(){this.type=13}return n}(),TOe=function(){function n(){this.type=14}return n}(),DOe=function(){function n(){this.type=16}return n}(),Ate=function(n){_Oe(e,n);function e(){var t=n.call(this)||this;return t._listeners=[],t._collector=null,t._collectorCnt=0,t}return e.prototype.dispose=function(){this._listeners=[],n.prototype.dispose.call(this)},e.prototype._beginEmit=function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new AOe),this._collector},e.prototype._endEmit=function(){if(this._collectorCnt--,this._collectorCnt===0){var t=this._collector.finalize();this._collector=null,t.length>0&&this._emit(t)}},e.prototype._emit=function(t){for(var r=this._listeners.slice(0),i=0,o=r.length;i<o;i++)IOe(r[i],t)},e.prototype.addEventListener=function(t){var r=this;return this._listeners.push(t),bn(function(){for(var i=r._listeners,o=0,s=i.length;o<s;o++)if(i[o]===t){i.splice(o,1);break}})},e}(fe),AOe=function(){function n(){this._eventsLen=0,this._events=[],this._eventsLen=0}return n.prototype.emit=function(e){this._events[this._eventsLen++]=e},n.prototype.finalize=function(){var e=this._events;return this._events=[],e},n}();function IOe(n,e){try{n(e)}catch(t){He(t)}}var xOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LOe=function(){function n(e,t,r){this.top=e,this.left=t,this.width=r}return n.prototype.setWidth=function(e){return new n(this.top,this.left,e)},n}(),IE=ul||Ic,Fq=function(){function n(){this._lastState=null}return n.prototype.set=function(e){this._lastState=e},n.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState:(this._lastState=null,null)},n.INSTANCE=new n,n}(),NOe=function(n){xOe(e,n);function e(t,r,i){var o=n.call(this,t)||this;o._primaryCursorVisibleRange=null,o._viewController=r,o._viewHelper=i;var s=o._context.configuration.editor;o._accessibilitySupport=s.accessibilitySupport,o._contentLeft=s.layoutInfo.contentLeft,o._contentWidth=s.layoutInfo.contentWidth,o._contentHeight=s.layoutInfo.contentHeight,o._scrollLeft=0,o._scrollTop=0,o._fontInfo=s.fontInfo,o._lineHeight=s.lineHeight,o._emptySelectionClipboard=s.emptySelectionClipboard,o._copyWithSyntaxHighlighting=s.copyWithSyntaxHighlighting,o._visibleTextArea=null,o._selections=[new Re(1,1,1,1)],o.textArea=wt(document.createElement("textarea")),Dl.write(o.textArea,6),o.textArea.setClassName("inputarea"),o.textArea.setAttribute("wrap","off"),o.textArea.setAttribute("autocorrect","off"),o.textArea.setAttribute("autocapitalize","off"),o.textArea.setAttribute("autocomplete","off"),o.textArea.setAttribute("spellcheck","false"),o.textArea.setAttribute("aria-label",s.viewInfo.ariaLabel),o.textArea.setAttribute("role","textbox"),o.textArea.setAttribute("aria-multiline","true"),o.textArea.setAttribute("aria-haspopup","false"),o.textArea.setAttribute("aria-autocomplete","both"),o.textAreaCover=wt(document.createElement("div")),o.textAreaCover.setPosition("absolute");var a={getLineCount:function(){return o._context.model.getLineCount()},getLineMaxColumn:function(l){return o._context.model.getLineMaxColumn(l)},getValueInRange:function(l,c){return o._context.model.getValueInRange(l,c)}},u={getPlainTextToCopy:function(){var l=o._context.model.getPlainTextToCopy(o._selections,o._emptySelectionClipboard,bo),c=o._context.model.getEOL(),d=o._emptySelectionClipboard&&o._selections.length===1&&o._selections[0].isEmpty(),h=Array.isArray(l)?l:null,p=Array.isArray(l)?l.join(c):l,v=null;if(d||h){var m=Ic?p.replace(/\r\n/g,`
`):p;v={lastCopiedValue:m,isFromEmptySelection:o._emptySelectionClipboard&&o._selections.length===1&&o._selections[0].isEmpty(),multicursorText:h}}return Fq.INSTANCE.set(v),p},getHTMLToCopy:function(){return!o._copyWithSyntaxHighlighting&&!MT.forceCopyWithSyntaxHighlighting?null:o._context.model.getHTMLToCopy(o._selections,o._emptySelectionClipboard)},getScreenReaderContent:function(l){if(bT)return js.EMPTY;if(o._accessibilitySupport===1){if(Tt){var c=o._selections[0];if(c.isEmpty()){var d=c.getStartPosition(),h=o._getWordBeforePosition(d);if(h.length===0&&(h=o._getCharacterBeforePosition(d)),h.length>0)return new js(h,h.length,h.length,d,d)}}return js.EMPTY}return cNe.fromEditorSelection(l,a,o._selections[0],o._accessibilitySupport===0)},deduceModelPosition:function(l,c,d){return o._context.model.deduceModelPositionRelativeToViewPosition(l,c,d)}};return o._textAreaInput=o._register(new fNe(u,o.textArea)),o._register(o._textAreaInput.onKeyDown(function(l){o._viewController.emitKeyDown(l)})),o._register(o._textAreaInput.onKeyUp(function(l){o._viewController.emitKeyUp(l)})),o._register(o._textAreaInput.onPaste(function(l){var c=Fq.INSTANCE.get(l.text),d=!1,h=null;c&&(d=o._emptySelectionClipboard&&c.isFromEmptySelection,h=c.multicursorText),o._viewController.paste("keyboard",l.text,d,h)})),o._register(o._textAreaInput.onCut(function(){o._viewController.cut("keyboard")})),o._register(o._textAreaInput.onType(function(l){l.replaceCharCnt?o._viewController.replacePreviousChar("keyboard",l.text,l.replaceCharCnt):o._viewController.type("keyboard",l.text)})),o._register(o._textAreaInput.onSelectionChangeRequest(function(l){o._viewController.setSelection("keyboard",l)})),o._register(o._textAreaInput.onCompositionStart(function(){var l=o._selections[0].startLineNumber,c=o._selections[0].startColumn;o._context.privateViewEventBus.emit(new $6(new H(l,c,l,c),0,!0,1));var d=o._viewHelper.visibleRangeForPositionRelativeToEditor(l,c);d&&(o._visibleTextArea=new LOe(o._context.viewLayout.getVerticalOffsetForLineNumber(l),d.left,IE?0:1),o._render()),o.textArea.setClassName("inputarea ime-input"),o._viewController.compositionStart("keyboard")})),o._register(o._textAreaInput.onCompositionUpdate(function(l){ul?o._visibleTextArea=o._visibleTextArea.setWidth(0):o._visibleTextArea=o._visibleTextArea.setWidth(OOe(l.data,o._fontInfo)),o._render()})),o._register(o._textAreaInput.onCompositionEnd(function(){o._visibleTextArea=null,o._render(),o.textArea.setClassName("inputarea"),o._viewController.compositionEnd("keyboard")})),o._register(o._textAreaInput.onFocus(function(){o._context.privateViewEventBus.emit(new Mq(!0))})),o._register(o._textAreaInput.onBlur(function(){o._context.privateViewEventBus.emit(new Mq(!1))})),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._getWordBeforePosition=function(t){for(var r=this._context.model.getLineContent(t.lineNumber),i=Pl(this._context.configuration.editor.wordSeparators),o=t.column,s=0;o>1;){var a=r.charCodeAt(o-2),u=i.get(a);if(u!==0||s>50)return r.substring(o-1,t.column-1);s++,o--}return r.substring(0,t.column-1)},e.prototype._getCharacterBeforePosition=function(t){if(t.column>1){var r=this._context.model.getLineContent(t.lineNumber),i=r.charAt(t.column-2);if(!zo(i.charCodeAt(0)))return i}return""},e.prototype.onConfigurationChanged=function(t){var r=this._context.configuration.editor;return t.fontInfo&&(this._fontInfo=r.fontInfo),t.viewInfo&&this.textArea.setAttribute("aria-label",r.viewInfo.ariaLabel),t.layoutInfo&&(this._contentLeft=r.layoutInfo.contentLeft,this._contentWidth=r.layoutInfo.contentWidth,this._contentHeight=r.layoutInfo.contentHeight),t.lineHeight&&(this._lineHeight=r.lineHeight),t.accessibilitySupport&&(this._accessibilitySupport=r.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),t.emptySelectionClipboard&&(this._emptySelectionClipboard=r.emptySelectionClipboard),t.copyWithSyntaxHighlighting&&(this._copyWithSyntaxHighlighting=r.copyWithSyntaxHighlighting),!0},e.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.isFocused=function(){return this._textAreaInput.isFocused()},e.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},e.prototype.prepareRender=function(t){var r=new J(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=t.visibleRangeForPosition(r)},e.prototype.render=function(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()},e.prototype._render=function(){if(this._visibleTextArea){this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var r=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(r<0||r>this._contentHeight){this._renderAtTopLeft();return}this._renderInsideEditor(r,t,IE?0:1,IE?0:1,!1)},e.prototype._renderInsideEditor=function(t,r,i,o,s){var a=this.textArea,u=this.textAreaCover;s?fa.applyFontInfo(a,this._fontInfo):(a.setFontSize(1),a.setLineHeight(this._fontInfo.lineHeight)),a.setTop(t),a.setLeft(r),a.setWidth(i),a.setHeight(o),u.setTop(0),u.setLeft(0),u.setWidth(0),u.setHeight(0)},e.prototype._renderAtTopLeft=function(){var t=this.textArea,r=this.textAreaCover;if(fa.applyFontInfo(t,this._fontInfo),t.setTop(0),t.setLeft(0),r.setTop(0),r.setLeft(0),IE){t.setWidth(0),t.setHeight(0),r.setWidth(0),r.setHeight(0);return}t.setWidth(1),t.setHeight(1),r.setWidth(1),r.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?r.setClassName("monaco-editor-background textAreaCover "+Tte.OUTER_CLASS_NAME):this._context.configuration.editor.viewInfo.renderLineNumbers!==0?r.setClassName("monaco-editor-background textAreaCover "+Ste.CLASS_NAME):r.setClassName("monaco-editor-background textAreaCover")},e}(ga);function OOe(n,e){var t=document.createElement("canvas"),r=t.getContext("2d");r.font=kOe(e);var i=r.measureText(n);return Ic?i.width+2:i.width}function kOe(n){return ROe("normal",n.fontWeight,n.fontSize,n.lineHeight,n.fontFamily)}function ROe(n,e,t,r,i){return n+" normal "+e+" "+t+"px / "+r+"px "+i}var X0=function(){function n(){}return n.columnSelect=function(e,t,r,i,o,s){for(var a=Math.abs(o-r)+1,u=r>o,l=i>s,c=i<s,d=[],h=0;h<a;h++){var p=r+(u?-h:h),v=hn.columnFromVisibleColumn2(e,t,p,i),m=hn.columnFromVisibleColumn2(e,t,p,s),_=hn.visibleColumnFromColumn2(e,t,new J(p,v)),b=hn.visibleColumnFromColumn2(e,t,new J(p,m));c&&(_>s||b<i)||l&&(b>i||_<s)||d.push(new lo(new H(p,v,p,v),0,new J(p,m),0))}if(d.length===0)for(var h=0;h<a;h++){var p=r+(u?-h:h),C=t.getLineMaxColumn(p);d.push(new lo(new H(p,C,p,C),0,new J(p,C),0))}return{viewStates:d,reversed:u,fromLineNumber:r,fromVisualColumn:i,toLineNumber:o,toVisualColumn:s}},n.columnSelectLeft=function(e,t,r){var i=r.toViewVisualColumn;return i>1&&i--,n.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,r.toViewLineNumber,i)},n.columnSelectRight=function(e,t,r){for(var i=0,o=Math.min(r.fromViewLineNumber,r.toViewLineNumber),s=Math.max(r.fromViewLineNumber,r.toViewLineNumber),a=o;a<=s;a++){var u=t.getLineMaxColumn(a),l=hn.visibleColumnFromColumn2(e,t,new J(a,u));i=Math.max(i,l)}var c=r.toViewVisualColumn;return c<i&&c++,this.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,r.toViewLineNumber,c)},n.columnSelectUp=function(e,t,r,i){var o=i?e.pageSize:1,s=Math.max(1,r.toViewLineNumber-o);return this.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,s,r.toViewVisualColumn)},n.columnSelectDown=function(e,t,r,i){var o=i?e.pageSize:1,s=Math.min(t.getLineCount(),r.toViewLineNumber+o);return this.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,s,r.toViewVisualColumn)},n}(),Lr=function(){function n(e,t,r){r===void 0&&(r=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new Re(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},n}(),xE=function(){function n(e,t,r){r===void 0&&(r=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new Re(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)},n}(),FM=function(){function n(e,t,r,i,o){o===void 0&&(o=!1),this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=r,this.insertsAutoWhitespace=o}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new Re(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)},n}(),WT=function(){function n(e,t,r){this._range=e,this._text=t,this._initialSelection=r,this._selectionId=null}return n.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text),this._selectionId=t.trackSelection(this._initialSelection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},n}(),LE=function(){function n(e,t,r){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=r}return n}(),mr=function(){function n(){}return n.left=function(e,t,r,i){return i>t.getLineMinColumn(r)?hn.isLowSurrogate(t,r,i-2)?i=i-2:i=i-1:r>1&&(r=r-1,i=t.getLineMaxColumn(r)),new LE(r,i,0)},n.moveLeft=function(e,t,r,i,o){var s,a;if(r.hasSelection()&&!i)s=r.selection.startLineNumber,a=r.selection.startColumn;else{var u=n.left(e,t,r.position.lineNumber,r.position.column-(o-1));s=u.lineNumber,a=u.column}return r.move(i,s,a,0)},n.right=function(e,t,r,i){return i<t.getLineMaxColumn(r)?hn.isHighSurrogate(t,r,i-1)?i=i+2:i=i+1:r<t.getLineCount()&&(r=r+1,i=t.getLineMinColumn(r)),new LE(r,i,0)},n.moveRight=function(e,t,r,i,o){var s,a;if(r.hasSelection()&&!i)s=r.selection.endLineNumber,a=r.selection.endColumn;else{var u=n.right(e,t,r.position.lineNumber,r.position.column+(o-1));s=u.lineNumber,a=u.column}return r.move(i,s,a,0)},n.down=function(e,t,r,i,o,s,a){var u=hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize)+o;r=r+s;var l=t.getLineCount();return r>l?(r=l,a?i=t.getLineMaxColumn(r):(i=Math.min(t.getLineMaxColumn(r),i),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1))):(i=hn.columnFromVisibleColumn2(e,t,r,u),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1)),o=u-hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize),new LE(r,i,o)},n.moveDown=function(e,t,r,i,o){var s,a;r.hasSelection()&&!i?(s=r.selection.endLineNumber,a=r.selection.endColumn):(s=r.position.lineNumber,a=r.position.column);var u=n.down(e,t,s,a,r.leftoverVisibleColumns,o,!0);return r.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns)},n.translateDown=function(e,t,r){var i=r.selection,o=n.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=n.down(e,t,i.positionLineNumber,i.positionColumn,r.leftoverVisibleColumns,1,!1);return new lo(new H(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new J(s.lineNumber,s.column),s.leftoverVisibleColumns)},n.up=function(e,t,r,i,o,s,a){var u=hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize)+o;return r=r-s,r<1?(r=1,a?i=t.getLineMinColumn(r):(i=Math.min(t.getLineMaxColumn(r),i),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1))):(i=hn.columnFromVisibleColumn2(e,t,r,u),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1)),o=u-hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize),new LE(r,i,o)},n.moveUp=function(e,t,r,i,o){var s,a;r.hasSelection()&&!i?(s=r.selection.startLineNumber,a=r.selection.startColumn):(s=r.position.lineNumber,a=r.position.column);var u=n.up(e,t,s,a,r.leftoverVisibleColumns,o,!0);return r.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns)},n.translateUp=function(e,t,r){var i=r.selection,o=n.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=n.up(e,t,i.positionLineNumber,i.positionColumn,r.leftoverVisibleColumns,1,!1);return new lo(new H(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new J(s.lineNumber,s.column),s.leftoverVisibleColumns)},n.moveToBeginningOfLine=function(e,t,r,i){var o=r.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s,u,l=r.position.column;return l===a?u=s:u=a,r.move(i,o,u,0)},n.moveToEndOfLine=function(e,t,r,i){var o=r.position.lineNumber,s=t.getLineMaxColumn(o);return r.move(i,o,s,0)},n.moveToBeginningOfBuffer=function(e,t,r,i){return r.move(i,1,1,0)},n.moveToEndOfBuffer=function(e,t,r,i){var o=t.getLineCount(),s=t.getLineMaxColumn(o);return r.move(i,o,s,0)},n}(),BM=function(){function n(){}return n.deleteRight=function(e,t,r,i){for(var o=[],s=e!==3,a=0,u=i.length;a<u;a++){var l=i[a],c=l;if(c.isEmpty()){var d=l.getPosition(),h=mr.right(t,r,d.lineNumber,d.column);c=new H(h.lineNumber,h.column,d.lineNumber,d.column)}if(c.isEmpty()){o[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(s=!0),o[a]=new Lr(c,"")}return[s,o]},n._isAutoClosingPairDelete=function(e,t,r){if(e.autoClosingBrackets==="never"&&e.autoClosingQuotes==="never")return!1;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=s.getPosition();if(!s.isEmpty())return!1;var u=t.getLineContent(a.lineNumber),l=u[a.column-2],c=e.autoClosingPairsOpen2.get(l);if(!c)return!1;if(Sy(l)){if(e.autoClosingQuotes==="never")return!1}else if(e.autoClosingBrackets==="never")return!1;for(var d=u[a.column-1],h=!1,p=0,v=c;p<v.length;p++){var m=v[p];m.open===l&&m.close===d&&(h=!0)}if(!h)return!1}return!0},n._runAutoClosingPairDelete=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o].getPosition(),u=new H(a.lineNumber,a.column-1,a.lineNumber,a.column+1);i[o]=new Lr(u,"")}return[!0,i]},n.deleteLeft=function(e,t,r,i){if(this._isAutoClosingPairDelete(t,r,i))return this._runAutoClosingPairDelete(t,r,i);for(var o=[],s=e!==2,a=0,u=i.length;a<u;a++){var l=i[a],c=l;if(c.isEmpty()){var d=l.getPosition();if(t.useTabStops&&d.column>1){var h=r.getLineContent(d.lineNumber),p=Ss(h),v=p===-1?h.length+1:p+1;if(d.column<=v){var m=hn.visibleColumnFromColumn2(t,r,d),_=hn.prevIndentTabStop(m,t.indentSize),b=hn.columnFromVisibleColumn2(t,r,d.lineNumber,_);c=new H(d.lineNumber,b,d.lineNumber,d.column)}else c=new H(d.lineNumber,d.column-1,d.lineNumber,d.column)}else{var C=mr.left(t,r,d.lineNumber,d.column);c=new H(C.lineNumber,C.column,d.lineNumber,d.column)}}if(c.isEmpty()){o[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(s=!0),o[a]=new Lr(c,"")}return[s,o]},n.cut=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o];if(a.isEmpty())if(e.emptySelectionClipboard){var u=a.getPosition(),l=void 0,c=void 0,d=void 0,h=void 0;u.lineNumber<t.getLineCount()?(l=u.lineNumber,c=1,d=u.lineNumber+1,h=1):u.lineNumber>1?(l=u.lineNumber-1,c=t.getLineMaxColumn(u.lineNumber-1),d=u.lineNumber,h=t.getLineMaxColumn(u.lineNumber)):(l=u.lineNumber,c=1,d=u.lineNumber,h=t.getLineMaxColumn(u.lineNumber));var p=new H(l,c,d,h);p.isEmpty()?i[o]=null:i[o]=new Lr(p,"")}else i[o]=null;else i[o]=new Lr(a,"")}return new Bo(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n}(),POe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yi=function(){function n(){}return n._createWord=function(e,t,r,i,o){return{start:i,end:o,wordType:t,nextCharClass:r}},n._findPreviousWordOnLine=function(e,t,r){var i=t.getLineContent(r.lineNumber);return this._doFindPreviousWordOnLine(i,e,r)},n._doFindPreviousWordOnLine=function(e,t,r){for(var i=0,o=r.column-2;o>=0;o--){var s=e.charCodeAt(o),a=t.get(s);if(a===0){if(i===2)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1));i=1}else if(a===2){if(i===1)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1));i=2}else if(a===1&&i!==0)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1))}return i!==0?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null},n._findEndOfWord=function(e,t,r,i){for(var o=e.length,s=i;s<o;s++){var a=e.charCodeAt(s),u=t.get(a);if(u===1||r===1&&u===2||r===2&&u===0)return s}return o},n._findNextWordOnLine=function(e,t,r){var i=t.getLineContent(r.lineNumber);return this._doFindNextWordOnLine(i,e,r)},n._doFindNextWordOnLine=function(e,t,r){for(var i=0,o=e.length,s=r.column-1;s<o;s++){var a=e.charCodeAt(s),u=t.get(a);if(u===0){if(i===2)return this._createWord(e,i,u,this._findStartOfWord(e,t,i,s-1),s);i=1}else if(u===2){if(i===1)return this._createWord(e,i,u,this._findStartOfWord(e,t,i,s-1),s);i=2}else if(u===1&&i!==0)return this._createWord(e,i,u,this._findStartOfWord(e,t,i,s-1),s)}return i!==0?this._createWord(e,i,1,this._findStartOfWord(e,t,i,o-1),o):null},n._findStartOfWord=function(e,t,r,i){for(var o=i;o>=0;o--){var s=e.charCodeAt(o),a=t.get(s);if(a===1||r===1&&a===2||r===2&&a===0)return o+1}return 0},n.moveWordLeft=function(e,t,r,i){var o=r.lineNumber,s=r.column,a=!1;s===1&&o>1&&(a=!0,o=o-1,s=t.getLineMaxColumn(o));var u=n._findPreviousWordOnLine(e,t,new J(o,s));if(i===0){if(u&&!a){var l=t.getLineLastNonWhitespaceColumn(o);if(l<s)return new J(o,u.end+1)}return new J(o,u?u.start+1:1)}if(i===1)return u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=n._findPreviousWordOnLine(e,t,new J(o,u.start+1))),new J(o,u?u.start+1:1);if(i===3){for(;u&&u.wordType===2;)u=n._findPreviousWordOnLine(e,t,new J(o,u.start+1));return new J(o,u?u.start+1:1)}return u&&s<=u.end+1&&(u=n._findPreviousWordOnLine(e,t,new J(o,u.start+1))),new J(o,u?u.end+1:1)},n._moveWordPartLeft=function(e,t){var r=t.lineNumber,i=e.getLineMaxColumn(r);if(t.column===1)return r>1?new J(r-1,e.getLineMaxColumn(r-1)):t;for(var o=e.getLineContent(r),s=t.column-1;s>1;s--){var a=o.charCodeAt(s-2),u=o.charCodeAt(s-1);if(a!==95&&u===95)return new J(r,s);if(fc(a)&&ou(u))return new J(r,s);if(ou(a)&&ou(u)&&s+1<i){var l=o.charCodeAt(s);if(fc(l))return new J(r,s)}}return new J(r,1)},n.moveWordRight=function(e,t,r,i){var o=r.lineNumber,s=r.column,a=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,s=1);var u=n._findNextWordOnLine(e,t,new J(o,s));if(i===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=n._findNextWordOnLine(e,t,new J(o,u.end+1))),u?s=u.end+1:s=t.getLineMaxColumn(o);else if(i===3){for(;u&&u.wordType===2;)u=n._findNextWordOnLine(e,t,new J(o,u.end+1));u?s=u.end+1:s=t.getLineMaxColumn(o)}else u&&!a&&s>=u.start+1&&(u=n._findNextWordOnLine(e,t,new J(o,u.end+1))),u?s=u.start+1:s=t.getLineMaxColumn(o);return new J(o,s)},n._moveWordPartRight=function(e,t){var r=t.lineNumber,i=e.getLineMaxColumn(r);if(t.column===i)return r<e.getLineCount()?new J(r+1,1):t;for(var o=e.getLineContent(r),s=t.column+1;s<i;s++){var a=o.charCodeAt(s-2),u=o.charCodeAt(s-1);if(a===95&&u!==95)return new J(r,s);if(fc(a)&&ou(u))return new J(r,s);if(ou(a)&&ou(u)&&s+1<i){var l=o.charCodeAt(s);if(fc(l))return new J(r,s)}}return new J(r,i)},n._deleteWordLeftWhitespace=function(e,t){var r=e.getLineContent(t.lineNumber),i=t.column-2,o=Lh(r,i);return o+1<i?new H(t.lineNumber,o+2,t.lineNumber,t.column):null},n.deleteWordLeft=function(e,t,r,i,o){if(!r.isEmpty())return r;var s=new J(r.positionLineNumber,r.positionColumn),a=s.lineNumber,u=s.column;if(a===1&&u===1)return null;if(i){var l=this._deleteWordLeftWhitespace(t,s);if(l)return l}var c=n._findPreviousWordOnLine(e,t,s);return o===0?c?u=c.start+1:u>1?u=1:(a--,u=t.getLineMaxColumn(a)):(c&&u<=c.end+1&&(c=n._findPreviousWordOnLine(e,t,new J(a,c.start+1))),c?u=c.end+1:u>1?u=1:(a--,u=t.getLineMaxColumn(a))),new H(a,u,s.lineNumber,s.column)},n._deleteWordPartLeft=function(e,t){if(!t.isEmpty())return t;var r=t.getPosition(),i=n._moveWordPartLeft(e,r);return new H(r.lineNumber,r.column,i.lineNumber,i.column)},n._findFirstNonWhitespaceChar=function(e,t){for(var r=e.length,i=t;i<r;i++){var o=e.charAt(i);if(o!==" "&&o!=="	")return i}return r},n._deleteWordRightWhitespace=function(e,t){var r=e.getLineContent(t.lineNumber),i=t.column-1,o=this._findFirstNonWhitespaceChar(r,i);return i+1<o?new H(t.lineNumber,t.column,t.lineNumber,o+1):null},n.deleteWordRight=function(e,t,r,i,o){if(!r.isEmpty())return r;var s=new J(r.positionLineNumber,r.positionColumn),a=s.lineNumber,u=s.column,l=t.getLineCount(),c=t.getLineMaxColumn(a);if(a===l&&u===c)return null;if(i){var d=this._deleteWordRightWhitespace(t,s);if(d)return d}var h=n._findNextWordOnLine(e,t,s);return o===2?h?u=h.end+1:u<c||a===l?u=c:(a++,h=n._findNextWordOnLine(e,t,new J(a,1)),h?u=h.start+1:u=t.getLineMaxColumn(a)):(h&&u>=h.start+1&&(h=n._findNextWordOnLine(e,t,new J(a,h.end+1))),h?u=h.start+1:u<c||a===l?u=c:(a++,h=n._findNextWordOnLine(e,t,new J(a,1)),h?u=h.start+1:u=t.getLineMaxColumn(a))),new H(a,u,s.lineNumber,s.column)},n._deleteWordPartRight=function(e,t){if(!t.isEmpty())return t;var r=t.getPosition(),i=n._moveWordPartRight(e,r);return new H(r.lineNumber,r.column,i.lineNumber,i.column)},n.word=function(e,t,r,i,o){var s=Pl(e.wordSeparators),a=n._findPreviousWordOnLine(s,t,o),u=n._findNextWordOnLine(s,t,o);if(!i){var l,c;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(l=a.start+1,c=a.end+1):u&&u.wordType===1&&u.start<=o.column-1&&o.column-1<=u.end?(l=u.start+1,c=u.end+1):(a?l=a.end+1:l=1,u?c=u.start+1:c=t.getLineMaxColumn(o.lineNumber)),new lo(new H(o.lineNumber,l,o.lineNumber,c),0,new J(o.lineNumber,c),0)}var d,h;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(d=a.start+1,h=a.end+1):u&&u.wordType===1&&u.start<o.column-1&&o.column-1<u.end?(d=u.start+1,h=u.end+1):(d=o.column,h=o.column);var p=o.lineNumber,v;if(r.selectionStart.containsPosition(o))v=r.selectionStart.endColumn;else if(o.isBeforeOrEqual(r.selectionStart.getStartPosition())){v=d;var m=new J(p,v);r.selectionStart.containsPosition(m)&&(v=r.selectionStart.endColumn)}else{v=h;var m=new J(p,v);r.selectionStart.containsPosition(m)&&(v=r.selectionStart.startColumn)}return r.move(!0,p,v,0)},n}(),h2=function(n){POe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.deleteWordPartLeft=function(t,r,i,o){var s=NE([yi.deleteWordLeft(t,r,i,o,0),yi.deleteWordLeft(t,r,i,o,2),yi._deleteWordPartLeft(r,i)]);return s.sort(H.compareRangesUsingEnds),s[2]},e.deleteWordPartRight=function(t,r,i,o){var s=NE([yi.deleteWordRight(t,r,i,o,0),yi.deleteWordRight(t,r,i,o,2),yi._deleteWordPartRight(r,i)]);return s.sort(H.compareRangesUsingStarts),s[0]},e.moveWordPartLeft=function(t,r,i){var o=NE([yi.moveWordLeft(t,r,i,0),yi.moveWordLeft(t,r,i,2),yi._moveWordPartLeft(r,i)]);return o.sort(J.compare),o[2]},e.moveWordPartRight=function(t,r,i){var o=NE([yi.moveWordRight(t,r,i,0),yi.moveWordRight(t,r,i,2),yi._moveWordPartRight(r,i)]);return o.sort(J.compare),o[0]},e}(yi);function NE(n){return n.filter(function(e){return!!e})}var ei=function(){function n(){}return n.addCursorDown=function(e,t,r){for(var i=[],o=0,s=0,a=t.length;s<a;s++){var u=t[s];i[o++]=new St(u.modelState,u.viewState),r?i[o++]=St.fromModelState(mr.translateDown(e.config,e.model,u.modelState)):i[o++]=St.fromViewState(mr.translateDown(e.config,e.viewModel,u.viewState))}return i},n.addCursorUp=function(e,t,r){for(var i=[],o=0,s=0,a=t.length;s<a;s++){var u=t[s];i[o++]=new St(u.modelState,u.viewState),r?i[o++]=St.fromModelState(mr.translateUp(e.config,e.model,u.modelState)):i[o++]=St.fromViewState(mr.translateUp(e.config,e.viewModel,u.viewState))}return i},n.moveToBeginningOfLine=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=this._moveToLineStart(e,a,r)}return i},n._moveToLineStart=function(e,t,r){var i=t.viewState.position.column,o=t.modelState.position.column,s=i===o,a=t.viewState.position.lineNumber,u=e.viewModel.getLineFirstNonWhitespaceColumn(a),l=i===u;return!s&&!l?this._moveToLineStartByView(e,t,r):this._moveToLineStartByModel(e,t,r)},n._moveToLineStartByView=function(e,t,r){return St.fromViewState(mr.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,r))},n._moveToLineStartByModel=function(e,t,r){return St.fromModelState(mr.moveToBeginningOfLine(e.config,e.model,t.modelState,r))},n.moveToEndOfLine=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=this._moveToLineEnd(e,a,r)}return i},n._moveToLineEnd=function(e,t,r){var i=t.viewState.position,o=e.viewModel.getLineMaxColumn(i.lineNumber),s=i.column===o,a=t.modelState.position,u=e.model.getLineMaxColumn(a.lineNumber),l=o-i.column===u-a.column;return s||l?this._moveToLineEndByModel(e,t,r):this._moveToLineEndByView(e,t,r)},n._moveToLineEndByView=function(e,t,r){return St.fromViewState(mr.moveToEndOfLine(e.config,e.viewModel,t.viewState,r))},n._moveToLineEndByModel=function(e,t,r){return St.fromModelState(mr.moveToEndOfLine(e.config,e.model,t.modelState,r))},n.expandLineSelection=function(e,t){for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i],a=s.viewState.selection,u=a.startLineNumber,l=e.viewModel.getLineCount(),c=a.endLineNumber,d=void 0;c===l?d=e.viewModel.getLineMaxColumn(l):(c++,d=1),r[i]=St.fromViewState(new lo(new H(u,1,u,1),0,new J(c,d),0))}return r},n.moveToBeginningOfBuffer=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=St.fromModelState(mr.moveToBeginningOfBuffer(e.config,e.model,a.modelState,r))}return i},n.moveToEndOfBuffer=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=St.fromModelState(mr.moveToEndOfBuffer(e.config,e.model,a.modelState,r))}return i},n.selectAll=function(e,t){var r=e.model.getLineCount(),i=e.model.getLineMaxColumn(r);return St.fromModelState(new lo(new H(1,1,1,1),0,new J(r,i),0))},n.line=function(e,t,r,i,o){var s=e.model.validatePosition(i),a=o?e.validateViewPosition(new J(o.lineNumber,o.column),s):e.convertModelPositionToViewPosition(s);if(!r||!t.modelState.hasSelection()){var u=e.model.getLineCount(),l=s.lineNumber+1,c=1;return l>u&&(l=u,c=e.model.getLineMaxColumn(l)),St.fromModelState(new lo(new H(s.lineNumber,1,l,c),0,new J(l,c),0))}var d=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<d)return St.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>d){var u=e.viewModel.getLineCount(),h=a.lineNumber+1,p=1;return h>u&&(h=u,p=e.viewModel.getLineMaxColumn(h)),St.fromViewState(t.viewState.move(t.modelState.hasSelection(),h,p,0))}else{var v=t.modelState.selectionStart.getEndPosition();return St.fromModelState(t.modelState.move(t.modelState.hasSelection(),v.lineNumber,v.column,0))}},n.word=function(e,t,r,i){var o=e.model.validatePosition(i);return St.fromModelState(yi.word(e.config,e.model,t.modelState,r,o))},n.cancelSelection=function(e,t){if(!t.modelState.hasSelection())return new St(t.modelState,t.viewState);var r=t.viewState.position.lineNumber,i=t.viewState.position.column;return St.fromViewState(new lo(new H(r,i,r,i),0,new J(r,i),0))},n.moveTo=function(e,t,r,i,o){var s=e.model.validatePosition(i),a=o?e.validateViewPosition(new J(o.lineNumber,o.column),s):e.convertModelPositionToViewPosition(s);return St.fromViewState(t.viewState.move(r,a.lineNumber,a.column,0))},n.move=function(e,t,r){var i=r.select,o=r.value;switch(r.direction){case 0:return r.unit===4?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,o);case 1:return r.unit===4?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,o);case 2:return r.unit===2?this._moveUpByViewLines(e,t,i,o):this._moveUpByModelLines(e,t,i,o);case 3:return r.unit===2?this._moveDownByViewLines(e,t,i,o):this._moveDownByModelLines(e,t,i,o);case 4:return this._moveToViewMinColumn(e,t,i);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 6:return this._moveToViewCenterColumn(e,t,i);case 7:return this._moveToViewMaxColumn(e,t,i);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,i);case 9:{var s=t[0],a=e.getCompletelyVisibleModelRange(),u=this._firstLineNumberInRange(e.model,a,o),l=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,s,i,u,l)]}case 11:{var s=t[0],a=e.getCompletelyVisibleModelRange(),u=this._lastLineNumberInRange(e.model,a,o),l=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,s,i,u,l)]}case 10:{var s=t[0],a=e.getCompletelyVisibleModelRange(),u=Math.round((a.startLineNumber+a.endLineNumber)/2),l=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,s,i,u,l)]}case 12:{for(var c=e.getCompletelyVisibleViewRange(),d=[],h=0,p=t.length;h<p;h++){var s=t[h];d[h]=this.findPositionInViewportIfOutside(e,s,c,i)}return d}}return null},n.findPositionInViewportIfOutside=function(e,t,r,i){var o=t.viewState.position.lineNumber;if(r.startLineNumber<=o&&o<=r.endLineNumber-1)return new St(t.modelState,t.viewState);o>r.endLineNumber-1&&(o=r.endLineNumber-1),o<r.startLineNumber&&(o=r.startLineNumber);var s=e.viewModel.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,i,o,s)},n._firstLineNumberInRange=function(e,t,r){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+r-1)},n._lastLineNumberInRange=function(e,t,r){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-r+1)},n._moveLeft=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s],l=mr.moveLeft(e.config,e.viewModel,u.viewState,r,i);if(i===1&&l.position.lineNumber!==u.viewState.position.lineNumber){var c=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position);c.lineNumber===u.modelState.position.lineNumber&&(l=mr.moveLeft(e.config,e.viewModel,l,r,1))}o[s]=St.fromViewState(l)}return o},n._moveHalfLineLeft=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=Math.round(e.viewModel.getLineContent(u).length/2);i[o]=St.fromViewState(mr.moveLeft(e.config,e.viewModel,a.viewState,r,l))}return i},n._moveRight=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s],l=mr.moveRight(e.config,e.viewModel,u.viewState,r,i);if(i===1&&l.position.lineNumber!==u.viewState.position.lineNumber){var c=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position);c.lineNumber===u.modelState.position.lineNumber&&(l=mr.moveRight(e.config,e.viewModel,l,r,1))}o[s]=St.fromViewState(l)}return o},n._moveHalfLineRight=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=Math.round(e.viewModel.getLineContent(u).length/2);i[o]=St.fromViewState(mr.moveRight(e.config,e.viewModel,a.viewState,r,l))}return i},n._moveDownByViewLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromViewState(mr.moveDown(e.config,e.viewModel,u.viewState,r,i))}return o},n._moveDownByModelLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromModelState(mr.moveDown(e.config,e.model,u.modelState,r,i))}return o},n._moveUpByViewLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromViewState(mr.moveUp(e.config,e.viewModel,u.viewState,r,i))}return o},n._moveUpByModelLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromModelState(mr.moveUp(e.config,e.model,u.modelState,r,i))}return o},n._moveToViewPosition=function(e,t,r,i,o){return St.fromViewState(t.viewState.move(r,i,o,0))},n._moveToModelPosition=function(e,t,r,i,o){return St.fromModelState(t.modelState.move(r,i,o,0))},n._moveToViewMinColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineMinColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewFirstNonWhitespaceColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineFirstNonWhitespaceColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewCenterColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=Math.round((e.viewModel.getLineMaxColumn(u)+e.viewModel.getLineMinColumn(u))/2);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewMaxColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineMaxColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewLastNonWhitespaceColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineLastNonWhitespaceColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n}(),UT;(function(n){var e=function(r){if(!Ui(r))return!1;var i=r;return!(!wl(i.to)||!po(i.select)&&!cJ(i.select)||!po(i.by)&&!wl(i.by)||!po(i.value)&&!Dc(i.value))};n.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down'
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(r){if(!r.to)return null;var i;switch(r.to){case n.RawDirection.Left:i=0;break;case n.RawDirection.Right:i=1;break;case n.RawDirection.Up:i=2;break;case n.RawDirection.Down:i=3;break;case n.RawDirection.WrappedLineStart:i=4;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=5;break;case n.RawDirection.WrappedLineColumnCenter:i=6;break;case n.RawDirection.WrappedLineEnd:i=7;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=8;break;case n.RawDirection.ViewPortTop:i=9;break;case n.RawDirection.ViewPortBottom:i=11;break;case n.RawDirection.ViewPortCenter:i=10;break;case n.RawDirection.ViewPortIfOutside:i=12;break;default:return null}var o=0;switch(r.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Character:o=3;break;case n.RawUnit.HalfLine:o=4;break}return{direction:i,unit:o,select:!!r.select,value:r.value||1}}n.parse=t})(UT||(UT={}));var qO=Object.create(null);function _d(n,e){qO[n]||(qO[n]=["",n]);for(var t=qO[n],r=t.length;r<=e;r++)t[r]=t[r-1]+n;return t[e]}var jd=function(){function n(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return n.unshiftIndent=function(e,t,r,i,o){var s=hn.visibleColumnFromColumn(e,t,r);if(o){var a=_d(" ",i),u=hn.prevIndentTabStop(s,i),l=u/i;return _d(a,l)}else{var a="	",u=hn.prevRenderTabStop(s,r),l=u/r;return _d(a,l)}},n.shiftIndent=function(e,t,r,i,o){var s=hn.visibleColumnFromColumn(e,t,r);if(o){var a=_d(" ",i),u=hn.nextIndentTabStop(s,i),l=u/i;return _d(a,l)}else{var a="	",u=hn.nextRenderTabStop(s,r),l=u/r;return _d(a,l)}},n.prototype._addEditOperation=function(e,t,r){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,r):e.addEditOperation(t,r)},n.prototype.getEditOperations=function(e,t){var r=this._selection.startLineNumber,i=this._selection.endLineNumber;this._selection.endColumn===1&&r!==i&&(i=i-1);var o=this._opts,s=o.tabSize,a=o.indentSize,u=o.insertSpaces,l=r===i;if(this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var c=0,d=0,h=r;h<=i;h++,c=d){d=0;var p=e.getLineContent(h),v=Ss(p);if(!(this._opts.isUnshift&&(p.length===0||v===0))&&!(!l&&!this._opts.isUnshift&&p.length===0)){if(v===-1&&(v=p.length),h>1){var m=hn.visibleColumnFromColumn(p,v+1,s);if(m%a!==0&&e.isCheapToTokenize(h-1)){var _=Ot.getRawEnterActionAtPosition(e,h-1,e.getLineMaxColumn(h-1));if(_){if(d=c,_.appendText)for(var b=0,C=_.appendText.length;b<C&&d<a&&_.appendText.charCodeAt(b)===32;b++)d++;_.removeText&&(d=Math.max(0,d-_.removeText));for(var b=0;b<d&&!(v===0||p.charCodeAt(v-1)!==32);b++)v--}}}if(!(this._opts.isUnshift&&v===0)){var E=void 0;this._opts.isUnshift?E=n.unshiftIndent(p,v+1,s,a,u):E=n.shiftIndent(p,v+1,s,a,u),this._addEditOperation(t,new H(h,1,h,v+1),E),h===r&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=v+1)}}}else for(var T=u?_d(" ",a):"	",h=r;h<=i;h++){var p=e.getLineContent(h),v=Ss(p);if(!(this._opts.isUnshift&&(p.length===0||v===0))&&!(!l&&!this._opts.isUnshift&&p.length===0)&&(v===-1&&(v=p.length),!(this._opts.isUnshift&&v===0)))if(this._opts.isUnshift){v=Math.min(v,a);for(var A=0;A<v;A++){var S=p.charCodeAt(A);if(S===9){v=A+1;break}}this._addEditOperation(t,new H(h,1,h,v+1),"")}else this._addEditOperation(t,new H(h,1,h,1),T),h===r&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}this._selectionId=t.trackSelection(this._selection)},n.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var r=t.getInverseEditOperations()[0];return new Re(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}var i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var o=this._selection.startColumn,s=i.startColumn;return s<=o?i:i.getDirection()===0?new Re(i.startLineNumber,o,i.endLineNumber,i.endColumn):new Re(i.endLineNumber,i.endColumn,i.startLineNumber,o)}return i},n}(),MOe=function(){function n(e,t,r){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(new H(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new H(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range,o=r[1].range;return new Re(i.endLineNumber,i.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},n}(),FOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cu=function(){function n(){}return n.indent=function(e,t,r){if(t===null||r===null)return[];for(var i=[],o=0,s=r.length;o<s;o++)i[o]=new jd(r[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops});return i},n.outdent=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++)i[o]=new jd(r[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops});return i},n.shiftIndent=function(e,t,r){return r=r||1,jd.shiftIndent(t,t.length+r,e.tabSize,e.indentSize,e.insertSpaces)},n.unshiftIndent=function(e,t,r){return r=r||1,jd.unshiftIndent(t,t.length+r,e.tabSize,e.indentSize,e.insertSpaces)},n._distributedPaste=function(e,t,r,i){for(var o=[],s=0,a=r.length;s<a;s++)o[s]=new Lr(r[s],i[s]);return new Bo(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n._simplePaste=function(e,t,r,i,o){for(var s=[],a=0,u=r.length;a<u;a++){var l=r[a],c=l.getPosition();if(o&&i.indexOf(`
`)!==i.length-1&&(o=!1),o&&l.startLineNumber!==l.endLineNumber&&(o=!1),o&&l.startColumn===t.getLineMinColumn(l.startLineNumber)&&l.endColumn===t.getLineMaxColumn(l.startLineNumber)&&(o=!1),o){var d=new H(c.lineNumber,1,c.lineNumber,1);s[a]=new Lr(d,i)}else s[a]=new Lr(l,i)}return new Bo(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n._distributePasteToCursors=function(e,t,r,i){if(r||e.length===1)return null;if(i&&i.length===e.length)return i;t.charCodeAt(t.length-1)===10&&(t=t.substr(0,t.length-1));var o=t.split(/\r\n|\r|\n/);return o.length===e.length?o:null},n.paste=function(e,t,r,i,o,s){var a=this._distributePasteToCursors(r,i,o,s);return a?(r=r.sort(H.compareRangesUsingStarts),this._distributedPaste(e,t,r,a)):this._simplePaste(e,t,r,i,o)},n._goodIndentForLine=function(e,t,r){var i=null,o="",s=e.autoIndent?Ot.getInheritIndentForLine(t,r,!1):null;if(s)i=s.action,o=s.indentation;else if(r>1){var a=void 0;for(a=r-1;a>=1;a--){var u=t.getLineContent(a),l=Lh(u);if(l>=0)break}if(a<1)return null;var c=t.getLineMaxColumn(a),d=Ot.getEnterAction(t,new H(a,c,a,c));d&&(o=d.indentation,i=d.enterAction,i&&(o+=i.appendText))}return i&&(i===$n.Indent&&(o=n.shiftIndent(e,o)),i===$n.Outdent&&(o=n.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null},n._replaceJumpToNextIndent=function(e,t,r,i){var o="",s=r.getStartPosition();if(e.insertSpaces)for(var a=hn.visibleColumnFromColumn2(e,t,s),u=e.indentSize,l=u-a%u,c=0;c<l;c++)o+=" ";else o="	";return new Lr(r,o,i)},n.tab=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o];if(a.isEmpty()){var u=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(u)&&t.isCheapToTokenize(a.startLineNumber)){var l=this._goodIndentForLine(e,t,a.startLineNumber);l=l||"	";var c=e.normalizeIndentation(l);if(!Vb(u,c)){i[o]=new Lr(new H(a.startLineNumber,1,a.startLineNumber,u.length+1),c,!0);continue}}i[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){var d=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==d){i[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}i[o]=new jd(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops})}}return i},n.replacePreviousChar=function(e,t,r,i,o,s){for(var a=[],u=0,l=i.length;u<l;u++){var c=i[u];if(!c.isEmpty()){a[u]=null;continue}var d=c.getPosition(),h=Math.max(1,d.column-s),p=new H(d.lineNumber,h,d.lineNumber,d.column);a[u]=new Lr(p,o)}return new Bo(1,a,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:!1})},n._typeCommand=function(e,t,r){return r?new xE(e,t,!0):new Lr(e,t,!0)},n._enter=function(e,t,r,i){if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)){var o=t.getLineContent(i.startLineNumber),s=In(o).substring(0,i.startColumn-1);return n._typeCommand(i,`
`+e.normalizeIndentation(s),r)}var a=Ot.getEnterAction(t,i);if(a){var u=a.enterAction,l=a.indentation;if(u.indentAction===$n.None)return n._typeCommand(i,`
`+e.normalizeIndentation(l+u.appendText),r);if(u.indentAction===$n.Indent)return n._typeCommand(i,`
`+e.normalizeIndentation(l+u.appendText),r);if(u.indentAction===$n.IndentOutdent){var c=e.normalizeIndentation(l),d=e.normalizeIndentation(l+u.appendText),h=`
`+d+`
`+c;return r?new xE(i,h,!0):new FM(i,h,-1,d.length-c.length,!0)}else if(u.indentAction===$n.Outdent){var p=n.unshiftIndent(e,l);return n._typeCommand(i,`
`+e.normalizeIndentation(p+u.appendText),r)}}if(!e.autoIndent){var v=t.getLineContent(i.startLineNumber),m=In(v).substring(0,i.startColumn-1);return n._typeCommand(i,`
`+e.normalizeIndentation(m),r)}var _=Ot.getIndentForEnter(t,i,{unshiftIndent:function(F){return n.unshiftIndent(e,F)},shiftIndent:function(F){return n.shiftIndent(e,F)},normalizeIndentation:function(F){return e.normalizeIndentation(F)}},e.autoIndent),b=t.getLineContent(i.startLineNumber),C=In(b).substring(0,i.startColumn-1);if(_){var E=hn.visibleColumnFromColumn2(e,t,i.getEndPosition()),T=i.endColumn,A=`
`;C!==e.normalizeIndentation(_.beforeEnter)&&(A=e.normalizeIndentation(_.beforeEnter)+b.substring(C.length,i.startColumn-1)+`
`,i=new H(i.startLineNumber,1,i.endLineNumber,i.endColumn));var S=t.getLineContent(i.endLineNumber),N=Ss(S);if(N>=0?i=i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,N+1)):i=i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),r)return new xE(i,A+e.normalizeIndentation(_.afterEnter),!0);var k=0;return T<=N+1&&(e.insertSpaces||(E=Math.ceil(E/e.indentSize)),k=Math.min(E+1-e.normalizeIndentation(_.afterEnter).length-1,0)),new FM(i,A+e.normalizeIndentation(_.afterEnter),0,k,!0)}else return n._typeCommand(i,`
`+e.normalizeIndentation(C),r)},n._isAutoIndentType=function(e,t,r){if(!e.autoIndent)return!1;for(var i=0,o=r.length;i<o;i++)if(!t.isCheapToTokenize(r[i].getEndPosition().lineNumber))return!1;return!0},n._runAutoIndentType=function(e,t,r,i){var o=Ot.getIndentationAtPosition(t,r.startLineNumber,r.startColumn),s=Ot.getIndentActionForType(t,r,i,{shiftIndent:function(u){return n.shiftIndent(e,u)},unshiftIndent:function(u){return n.unshiftIndent(e,u)}});if(s===null)return null;if(s!==e.normalizeIndentation(o)){var a=t.getLineFirstNonWhitespaceColumn(r.startLineNumber);return a===0?n._typeCommand(new H(r.startLineNumber,0,r.endLineNumber,r.endColumn),e.normalizeIndentation(s)+i,!1):n._typeCommand(new H(r.startLineNumber,0,r.endLineNumber,r.endColumn),e.normalizeIndentation(s)+t.getLineContent(r.startLineNumber).substring(a-1,r.startColumn-1)+i,!1)}return null},n._isAutoClosingOvertype=function(e,t,r,i,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairsClose2.has(o))return!1;for(var s=0,a=r.length;s<a;s++){var u=r[s];if(!u.isEmpty())return!1;var l=u.getPosition(),c=t.getLineContent(l.lineNumber),d=c.charAt(l.column-1);if(d!==o)return!1;if(e.autoClosingOvertype==="auto"){for(var h=!1,p=0,v=i.length;p<v;p++){var m=i[p];if(l.lineNumber===m.startLineNumber&&l.column===m.startColumn){h=!0;break}}if(!h)return!1}}return!0},n._runAutoClosingOvertype=function(e,t,r,i,o){for(var s=[],a=0,u=i.length;a<u;a++){var l=i[a],c=l.getPosition(),d=new H(c.lineNumber,c.column,c.lineNumber,c.column+1);s[a]=new Lr(d,o)}return new Bo(1,s,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:!1})},n._isBeforeClosingBrace=function(e,t,r){var i=e.autoClosingPairsClose2.get(r);if(!i)return!1;for(var o=t.open===t.close,s=0,a=i;s<a.length;s++){var u=a[s],l=u.open===u.close;if(!(!o&&l))return!0}return!1},n._findAutoClosingPairOpen=function(e,t,r,i){var o=e.autoClosingPairsOpen2.get(i);if(!o)return null;for(var s=null,a=0,u=o;a<u.length;a++){var l=u[a];if(s===null||l.open.length>s.open.length){for(var c=!0,d=0,h=r;d<h.length;d++){var p=h[d],v=t.getValueInRange(new H(p.lineNumber,p.column-l.open.length+1,p.lineNumber,p.column));if(v+i!==l.open){c=!1;break}}c&&(s=l)}}return s},n._isAutoClosingOpenCharType=function(e,t,r,i,o){var s=Sy(i),a=s?e.autoClosingQuotes:e.autoClosingBrackets;if(a==="never")return null;var u=this._findAutoClosingPairOpen(e,t,r.map(function(T){return T.getPosition()}),i);if(!u)return null;for(var l=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket,c=0,d=r.length;c<d;c++){var h=r[c];if(!h.isEmpty())return null;var p=h.getPosition(),v=t.getLineContent(p.lineNumber);if(v.length>p.column-1){var m=v.charAt(p.column-1),_=n._isBeforeClosingBrace(e,u,m);if(!_&&!l(m))return null}if(!t.isCheapToTokenize(p.lineNumber))return null;if(u.open.length===1&&s&&a!=="always"){var b=Pl(e.wordSeparators);if(o&&p.column>1&&b.get(v.charCodeAt(p.column-2))===0||!o&&p.column>2&&b.get(v.charCodeAt(p.column-3))===0)return null}t.forceTokenization(p.lineNumber);var C=t.getLineTokens(p.lineNumber),E=!1;try{E=Ot.shouldAutoClosePair(u,C,o?p.column:p.column-1)}catch(T){He(T)}if(!E)return null}return u},n._runAutoClosingOpenCharType=function(e,t,r,i,o,s,a){for(var u=[],l=0,c=i.length;l<c;l++){var d=i[l];u[l]=new Ite(d,o,s,a.close)}return new Bo(1,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},n._shouldSurroundChar=function(e,t){return Sy(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"},n._isSurroundSelectionType=function(e,t,r,i){if(!n._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;for(var o=Sy(i),s=0,a=r.length;s<a;s++){var u=r[s];if(u.isEmpty())return!1;for(var l=!0,c=u.startLineNumber;c<=u.endLineNumber;c++){var d=t.getLineContent(c),h=c===u.startLineNumber?u.startColumn-1:0,p=c===u.endLineNumber?u.endColumn-1:d.length,v=d.substring(h,p);if(/[^ \t]/.test(v)){l=!1;break}}if(l)return!1;if(o&&u.startLineNumber===u.endLineNumber&&u.startColumn+1===u.endColumn){var m=t.getValueInRange(u);if(Sy(m))return!1}}return!0},n._runSurroundSelectionType=function(e,t,r,i,o){for(var s=[],a=0,u=i.length;a<u;a++){var l=i[a],c=t.surroundingPairs[o];s[a]=new MOe(l,o,c)}return new Bo(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n._isTypeInterceptorElectricChar=function(e,t,r){return!!(r.length===1&&t.isCheapToTokenize(r[0].getEndPosition().lineNumber))},n._typeInterceptorElectricChar=function(e,t,r,i,o){if(!t.electricChars.hasOwnProperty(o)||!i.isEmpty())return null;var s=i.getPosition();r.forceTokenization(s.lineNumber);var a=r.getLineTokens(s.lineNumber),u;try{u=Ot.onElectricCharacter(o,a,s.column)}catch(T){return He(T),null}if(!u)return null;if(u.matchOpenBracket){var l=(a.getLineContent()+o).lastIndexOf(u.matchOpenBracket)+1,c=r.findMatchingBracketUp(u.matchOpenBracket,{lineNumber:s.lineNumber,column:l});if(c){if(c.startLineNumber===s.lineNumber)return null;var d=r.getLineContent(c.startLineNumber),h=In(d),p=t.normalizeIndentation(h),v=r.getLineContent(s.lineNumber),m=r.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,_=v.substring(m-1,s.column-1),b=p+_+o,C=new H(s.lineNumber,1,s.lineNumber,s.column),E=new Lr(C,b);return new Bo(1,[E],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},n.compositionEndWithInterceptors=function(e,t,r,i,o){for(var s=null,a=0,u=i;a<u.length;a++){var l=u[a];if(!l.isEmpty())return null;var c=l.getPosition(),d=r.getValueInRange(new H(c.lineNumber,c.column-1,c.lineNumber,c.column));if(s===null)s=d;else if(s!==d)return null}if(!s)return null;if(this._isAutoClosingOvertype(t,r,i,o,s)){var h=i.map(function(v){return new Lr(new H(v.positionLineNumber,v.positionColumn,v.positionLineNumber,v.positionColumn+1),"",!1)});return new Bo(1,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var p=this._isAutoClosingOpenCharType(t,r,i,s,!1);return p?this._runAutoClosingOpenCharType(e,t,r,i,s,!1,p):null},n.typeWithInterceptors=function(e,t,r,i,o,s){if(s===`
`){for(var a=[],u=0,l=i.length;u<l;u++)a[u]=n._enter(t,r,!1,i[u]);return new Bo(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(t,r,i)){for(var c=[],d=!1,u=0,l=i.length;u<l;u++)if(c[u]=this._runAutoIndentType(t,r,i[u],s),!c[u]){d=!0;break}if(!d)return new Bo(1,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,r,i,o,s))return this._runAutoClosingOvertype(e,t,r,i,s);var h=this._isAutoClosingOpenCharType(t,r,i,s,!0);if(h)return this._runAutoClosingOpenCharType(e,t,r,i,s,!0,h);if(this._isSurroundSelectionType(t,r,i,s))return this._runSurroundSelectionType(e,t,r,i,s);if(this._isTypeInterceptorElectricChar(t,r,i)){var p=this._typeInterceptorElectricChar(e,t,r,i[0],s);if(p)return p}for(var v=[],u=0,l=i.length;u<l;u++)v[u]=new Lr(i[u],s);var m=e!==1;return s===" "&&(m=!0),new Bo(1,v,{shouldPushStackElementBefore:m,shouldPushStackElementAfter:!1})},n.typeWithoutInterceptors=function(e,t,r,i,o){for(var s=[],a=0,u=i.length;a<u;a++)s[a]=new Lr(i[a],o);return new Bo(1,s,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:!1})},n.lineInsertBefore=function(e,t,r){if(t===null||r===null)return[];for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o].positionLineNumber;if(a===1)i[o]=new xE(new H(1,1,1,1),`
`);else{a--;var u=t.getLineMaxColumn(a);i[o]=this._enter(e,t,!1,new H(a,u,a,u))}}return i},n.lineInsertAfter=function(e,t,r){if(t===null||r===null)return[];for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o].positionLineNumber,u=t.getLineMaxColumn(a);i[o]=this._enter(e,t,!1,new H(a,u,a,u))}return i},n.lineBreakInsert=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++)i[o]=this._enter(e,t,!0,r[o]);return i},n}(),Ite=function(n){FOe(e,n);function e(t,r,i,o){var s=n.call(this,t,(i?r:"")+o,0,-o.length)||this;return s._openCharacter=r,s._closeCharacter=o,s.closeCharacterRange=null,s.enclosingRange=null,s}return e.prototype.computeCursorState=function(t,r){var i=r.getInverseEditOperations(),o=i[0].range;return this.closeCharacterRange=new H(o.startLineNumber,o.endColumn-this._closeCharacter.length,o.endLineNumber,o.endColumn),this.enclosingRange=new H(o.startLineNumber,o.endColumn-this._openCharacter.length-this._closeCharacter.length,o.endLineNumber,o.endColumn),n.prototype.computeCursorState.call(this,t,r)},e}(FM),W;(function(n){n.editorTextFocus=new Ke("editorTextFocus",!1),n.focus=new Ke("editorFocus",!1),n.textInputFocus=new Ke("textInputFocus",!1),n.readOnly=new Ke("editorReadonly",!1),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new Ke("editorHasSelection",!1),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new Ke("editorHasMultipleSelections",!1),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new Ke("editorTabMovesFocus",!1),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInEmbeddedEditor=new Ke("isInEmbeddedEditor",!1),n.canUndo=new Ke("canUndo",!1),n.canRedo=new Ke("canRedo",!1),n.languageId=new Ke("editorLangId",""),n.hasCompletionItemProvider=new Ke("editorHasCompletionItemProvider",!1),n.hasCodeActionsProvider=new Ke("editorHasCodeActionsProvider",!1),n.hasCodeLensProvider=new Ke("editorHasCodeLensProvider",!1),n.hasDefinitionProvider=new Ke("editorHasDefinitionProvider",!1),n.hasDeclarationProvider=new Ke("editorHasDeclarationProvider",!1),n.hasImplementationProvider=new Ke("editorHasImplementationProvider",!1),n.hasTypeDefinitionProvider=new Ke("editorHasTypeDefinitionProvider",!1),n.hasHoverProvider=new Ke("editorHasHoverProvider",!1),n.hasDocumentHighlightProvider=new Ke("editorHasDocumentHighlightProvider",!1),n.hasDocumentSymbolProvider=new Ke("editorHasDocumentSymbolProvider",!1),n.hasReferenceProvider=new Ke("editorHasReferenceProvider",!1),n.hasRenameProvider=new Ke("editorHasRenameProvider",!1),n.hasSignatureHelpProvider=new Ke("editorHasSignatureHelpProvider",!1),n.hasDocumentFormattingProvider=new Ke("editorHasDocumentFormattingProvider",!1),n.hasDocumentSelectionFormattingProvider=new Ke("editorHasDocumentSelectionFormattingProvider",!1),n.hasMultipleDocumentFormattingProvider=new Ke("editorHasMultipleDocumentFormattingProvider",!1),n.hasMultipleDocumentSelectionFormattingProvider=new Ke("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(W||(W={}));var Pt=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dt=0,Vn=function(n){Pt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.runEditorCommand=function(t,r,i){var o=r._getCursors();o&&this.runCoreEditorCommand(o,i||{})},e}(Do),jT;(function(n){var e=function(r){if(!Ui(r))return!1;var i=r;return!(!wl(i.to)||!po(i.by)&&!wl(i.by)||!po(i.value)&&!Dc(i.value)||!po(i.revealCursor)&&!cJ(i.revealCursor))};n.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Down:"down"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(r){var i;switch(r.to){case n.RawDirection.Up:i=1;break;case n.RawDirection.Down:i=2;break;default:return null}var o;switch(r.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Page:o=3;break;case n.RawUnit.HalfPage:o=4;break;default:o=2}var s=Math.floor(r.value||1),a=!!r.revealCursor;return{direction:i,unit:o,value:s,revealCursor:a,select:!!r.select}}n.parse=t})(jT||(jT={}));var Pv;(function(n){var e=function(t){if(!Ui(t))return!1;var r=t;return!(!Dc(r.lineNumber)||!po(r.at)&&!wl(r.at))};n.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed .\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Pv||(Pv={}));var Bi;(function(n){var e=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[ei.moveTo(b.context,b.getPrimaryCursor(),this._inSelectionMode,C.position,C.viewPosition)]),b.reveal(!0,0,0)},_}(Vn);n.MoveTo=ce(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=ce(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var t=function(m){Pt(_,m);function _(){return m!==null&&m.apply(this,arguments)||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement();var E=this._getColumnSelectResult(b.context,b.getPrimaryCursor(),b.getColumnSelectData(),C);b.setStates(C.source,3,E.viewStates.map(function(T){return St.fromViewState(T)})),b.setColumnSelectData({isReal:!0,fromViewLineNumber:E.fromLineNumber,fromViewVisualColumn:E.fromVisualColumn,toViewLineNumber:E.toLineNumber,toViewVisualColumn:E.toVisualColumn}),b.reveal(!0,E.reversed?1:2,0)},_}(Vn);n.ColumnSelect=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"columnSelect",precondition:void 0})||this}return _.prototype._getColumnSelectResult=function(b,C,E,T){var A=b.model.validatePosition(T.position),S=b.validateViewPosition(new J(T.viewPosition.lineNumber,T.viewPosition.column),A),N=E.fromViewLineNumber,k=E.fromViewVisualColumn;return!E.isReal&&T.setAnchorIfNotSet&&(N=S.lineNumber,k=T.mouseColumn-1),X0.columnSelect(b.config,b.viewModel,N,k,S.lineNumber,T.mouseColumn-1)},_}(t))),n.CursorColumnSelectLeft=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3599,linux:{primary:0}}})||this}return _.prototype._getColumnSelectResult=function(b,C,E,T){return X0.columnSelectLeft(b.config,b.viewModel,E)},_}(t))),n.CursorColumnSelectRight=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3601,linux:{primary:0}}})||this}return _.prototype._getColumnSelectResult=function(b,C,E,T){return X0.columnSelectRight(b.config,b.viewModel,E)},_}(t)));var r=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._isPaged=b.isPaged,C}return _.prototype._getColumnSelectResult=function(b,C,E,T){return X0.columnSelectUp(b.config,b.viewModel,E,this._isPaged)},_}(t);n.CursorColumnSelectUp=ce(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=ce(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3595,linux:{primary:0}}}));var i=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._isPaged=b.isPaged,C}return _.prototype._getColumnSelectResult=function(b,C,E,T){return X0.columnSelectDown(b.config,b.viewModel,E,this._isPaged)},_}(t);n.CursorColumnSelectDown=ce(new i({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=ce(new i({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3596,linux:{primary:0}}}));var o=function(m){Pt(_,m);function _(){return m.call(this,{id:"cursorMove",precondition:void 0,description:UT.description})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=UT.parse(C);E&&this._runCursorMove(b,C.source,E)},_.prototype._runCursorMove=function(b,C,E){b.context.model.pushStackElement(),b.setStates(C,3,ei.move(b.context,b.getAll(),E)),b.reveal(!0,0,0)},_}(Vn);n.CursorMoveImpl=o,n.CursorMove=ce(new o);var s=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._staticArgs=b.args,C}return _.prototype.runCoreEditorCommand=function(b,C){var E=this._staticArgs;this._staticArgs.value===-1&&(E={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:b.context.config.pageSize}),n.CursorMove._runCursorMove(b,C.source,E)},_}(Vn);n.CursorLeft=ce(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=ce(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1039}})),n.CursorRight=ce(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=ce(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1041}})),n.CursorUp=ce(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=ce(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=ce(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:11}})),n.CursorPageUpSelect=ce(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1035}})),n.CursorDown=ce(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=ce(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=ce(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:12}})),n.CursorPageDownSelect=ce(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1036}})),n.CreateCursor=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"createCursor",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.context,T;C.wholeLine?T=ei.line(E,b.getPrimaryCursor(),!1,C.position,C.viewPosition):T=ei.moveTo(E,b.getPrimaryCursor(),!1,C.position,C.viewPosition);var A=b.getAll();if(A.length>1)for(var S=T.modelState?T.modelState.position:null,N=T.viewState?T.viewState.position:null,k=0,F=A.length;k<F;k++){var L=A[k];if(!(S&&!L.modelState.selection.containsPosition(S))&&!(N&&!L.viewState.selection.containsPosition(N))){A.splice(k,1),b.context.model.pushStackElement(),b.setStates(C.source,3,A);return}}A.push(T),b.context.model.pushStackElement(),b.setStates(C.source,3,A)},_}(Vn))),n.LastCursorMoveToSelect=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.context,T=b.getLastAddedCursorIndex(),A=b.getAll(),S=A.slice(0);S[T]=ei.moveTo(E,A[T],!0,C.position,C.viewPosition),b.context.model.pushStackElement(),b.setStates(C.source,3,S)},_}(Vn)));var a=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,ei.moveToBeginningOfLine(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Vn);n.CursorHome=ce(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=ce(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),n.CursorLineStart=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:0,mac:{primary:287}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,this._exec(b.context,b.getAll())),b.reveal(!0,0,0)},_.prototype._exec=function(b,C){for(var E=[],T=0,A=C.length;T<A;T++){var S=C[T],N=S.modelState.position.lineNumber;E[T]=St.fromModelState(S.modelState.move(!1,N,1,0))}return E},_}(Vn)));var u=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,ei.moveToEndOfLine(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Vn);n.CursorEnd=ce(new u({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),n.CursorEndSelect=ce(new u({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),n.CursorLineEnd=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:0,mac:{primary:291}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,this._exec(b.context,b.getAll())),b.reveal(!0,0,0)},_.prototype._exec=function(b,C){for(var E=[],T=0,A=C.length;T<A;T++){var S=C[T],N=S.modelState.position.lineNumber,k=b.model.getLineMaxColumn(N);E[T]=St.fromModelState(S.modelState.move(!1,N,k,0))}return E},_}(Vn)));var l=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,ei.moveToBeginningOfBuffer(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Vn);n.CursorTop=ce(new l({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=ce(new l({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3086,mac:{primary:3088}}}));var c=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,ei.moveToEndOfBuffer(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Vn);n.CursorBottom=ce(new c({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=ce(new c({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3085,mac:{primary:3090}}}));var d=function(m){Pt(_,m);function _(){return m.call(this,{id:"editorScroll",precondition:void 0,description:jT.description})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=jT.parse(C);E&&this._runEditorScroll(b,C.source,E)},_.prototype._runEditorScroll=function(b,C,E){var T=this._computeDesiredScrollTop(b.context,E);if(E.revealCursor){var A=b.context.getCompletelyVisibleViewRangeAtScrollTop(T);b.setStates(C,3,[ei.findPositionInViewportIfOutside(b.context,b.getPrimaryCursor(),A,E.select)])}b.scrollTo(T)},_.prototype._computeDesiredScrollTop=function(b,C){if(C.unit===1){var E=b.getCompletelyVisibleModelRange(),T=void 0;C.direction===1?T=Math.max(1,E.startLineNumber-C.value):T=Math.min(b.model.getLineCount(),E.startLineNumber+C.value);var A=b.convertModelPositionToViewPosition(new J(T,1));return b.getVerticalOffsetForViewLine(A.lineNumber)}var S;C.unit===3?S=b.config.pageSize*C.value:C.unit===4?S=Math.round(b.config.pageSize/2)*C.value:S=C.value;var N=(C.direction===1?-1:1)*S;return b.getCurrentScrollTop()+N*b.config.lineHeight},_}(Vn);n.EditorScrollImpl=d,n.EditorScroll=ce(new d),n.ScrollLineUp=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2064,mac:{primary:267}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},_}(Vn))),n.ScrollPageUp=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},_}(Vn))),n.ScrollLineDown=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2066,mac:{primary:268}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},_}(Vn))),n.ScrollPageDown=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},_}(Vn)));var h=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[ei.word(b.context,b.getPrimaryCursor(),this._inSelectionMode,C.position)]),b.reveal(!0,0,0)},_}(Vn);n.WordSelect=ce(new h({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=ce(new h({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.context,T=b.getLastAddedCursorIndex(),A=b.getAll(),S=A.slice(0),N=A[T];S[T]=ei.word(E,N,N.modelState.hasSelection(),C.position),E.model.pushStackElement(),b.setStates(C.source,3,S)},_}(Vn)));var p=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[ei.line(b.context,b.getPrimaryCursor(),this._inSelectionMode,C.position,C.viewPosition)]),b.reveal(!1,0,0)},_}(Vn);n.LineSelect=ce(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=ce(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var v=function(m){Pt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.getLastAddedCursorIndex(),T=b.getAll(),A=T.slice(0);A[E]=ei.line(b.context,T[E],this._inSelectionMode,C.position,C.viewPosition),b.context.model.pushStackElement(),b.setStates(C.source,3,A)},_}(Vn);n.LastCursorLineSelect=ce(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=ce(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.ExpandLineSelection=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2090}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,ei.expandLineSelection(b.context,b.getAll())),b.reveal(!0,0,0)},_}(Vn))),n.CancelSelection=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"cancelSelection",precondition:W.hasNonEmptySelection,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:9,secondary:[1033]}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[ei.cancelSelection(b.context,b.getPrimaryCursor())]),b.reveal(!0,0,0)},_}(Vn))),n.RemoveSecondaryCursors=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"removeSecondaryCursors",precondition:W.hasMultipleSelections,kbOpts:{weight:Dt+1,kbExpr:W.textInputFocus,primary:9,secondary:[1033]}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[b.getPrimaryCursor()]),b.reveal(!0,0,0)},_}(Vn))),n.RevealLine=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"revealLine",precondition:void 0,description:Pv.description})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=C,T=(E.lineNumber||0)+1;T<1&&(T=1);var A=b.context.model.getLineCount();T>A&&(T=A);var S=new H(T,1,T,b.context.model.getLineMaxColumn(T)),N=0;if(E.at)switch(E.at){case Pv.RawAtArgument.Top:N=3;break;case Pv.RawAtArgument.Center:N=1;break;case Pv.RawAtArgument.Bottom:N=4;break}var k=b.context.convertModelRangeToViewRange(S);b.revealRange(!1,k,N,0)},_}(Vn))),n.SelectAll=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"selectAll",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[ei.selectAll(b.context,b.getPrimaryCursor())])},_}(Vn))),n.SetSelection=ce(new(function(m){Pt(_,m);function _(){return m.call(this,{id:"setSelection",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[St.fromModelSelection(C.selection)])},_}(Vn)))})(Bi||(Bi={}));var HM;(function(n){var e=function(t){Pt(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.runEditorCommand=function(i,o,s){var a=o._getCursors();a&&this.runCoreEditingCommand(o,a,s||{})},r}(Do);n.CoreEditingCommand=e,n.LineBreakInsert=ce(new(function(t){Pt(r,t);function r(){return t.call(this,{id:"lineBreakInsert",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:0,mac:{primary:301}}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){i.pushUndoStop(),i.executeCommands(this.id,cu.lineBreakInsert(o.context.config,o.context.model,o.getAll().map(function(a){return a.modelState.selection})))},r}(e))),n.Outdent=ce(new(function(t){Pt(r,t);function r(){return t.call(this,{id:"outdent",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:Le.and(W.editorTextFocus,W.tabDoesNotMoveFocus),primary:1026}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){i.pushUndoStop(),i.executeCommands(this.id,cu.outdent(o.context.config,o.context.model,o.getAll().map(function(a){return a.modelState.selection}))),i.pushUndoStop()},r}(e))),n.Tab=ce(new(function(t){Pt(r,t);function r(){return t.call(this,{id:"tab",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:Le.and(W.editorTextFocus,W.tabDoesNotMoveFocus),primary:2}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){i.pushUndoStop(),i.executeCommands(this.id,cu.tab(o.context.config,o.context.model,o.getAll().map(function(a){return a.modelState.selection}))),i.pushUndoStop()},r}(e))),n.DeleteLeft=ce(new(function(t){Pt(r,t);function r(){return t.call(this,{id:"deleteLeft",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){var a=BM.deleteLeft(o.getPrevEditOperationType(),o.context.config,o.context.model,o.getAll().map(function(c){return c.modelState.selection})),u=a[0],l=a[1];u&&i.pushUndoStop(),i.executeCommands(this.id,l),o.setPrevEditOperationType(2)},r}(e))),n.DeleteRight=ce(new(function(t){Pt(r,t);function r(){return t.call(this,{id:"deleteRight",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){var a=BM.deleteRight(o.getPrevEditOperationType(),o.context.config,o.context.model,o.getAll().map(function(c){return c.modelState.selection})),u=a[0],l=a[1];u&&i.pushUndoStop(),i.executeCommands(this.id,l),o.setPrevEditOperationType(3)},r}(e)))})(HM||(HM={}));function Mp(n){n.register()}var K6=function(n){Pt(e,n);function e(t){var r=n.call(this,t)||this;return r._editorHandler=t.editorHandler,r._inputHandler=t.inputHandler,r}return e.prototype.runCommand=function(t,r){var i=t.get(Dn).getFocusedCodeEditor();if(i&&i.hasTextFocus())return this._runEditorHandler(t,i,r);var o=document.activeElement;if(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0){document.execCommand(this._inputHandler);return}var s=t.get(Dn).getActiveCodeEditor();if(s)return s.focus(),this._runEditorHandler(t,s,r)},e.prototype._runEditorHandler=function(t,r,i){var o=this._editorHandler;typeof o=="string"?r.trigger("keyboard",o,i):(i=i||{},i.source="keyboard",o.runEditorCommand(t,r,i))},e}(D6),qT=function(n){Pt(e,n);function e(t,r,i){var o=n.call(this,{id:t,precondition:void 0,description:i})||this;return o._handlerId=r,o}return e.prototype.runCommand=function(t,r){var i=t.get(Dn).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,r)},e}(D6);Mp(new K6({editorHandler:Bi.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:W.textInputFocus,kbOpts:{weight:Dt,kbExpr:null,primary:2079},menubarOpts:{menuId:22,group:"1_basic",title:D({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}}));Mp(new K6({editorHandler:an.Undo,inputHandler:"undo",id:an.Undo,precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2104},menubarOpts:{menuId:14,group:"1_do",title:D({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}}));Mp(new qT("default:"+an.Undo,an.Undo));Mp(new K6({editorHandler:an.Redo,inputHandler:"redo",id:an.Redo,precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menubarOpts:{menuId:14,group:"1_do",title:D({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}}));Mp(new qT("default:"+an.Redo,an.Redo));function x_(n,e){Mp(new qT("default:"+n,n)),Mp(new qT(n,n,e))}x_(an.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});x_(an.ReplacePreviousChar);x_(an.CompositionStart);x_(an.CompositionEnd);x_(an.Paste);x_(an.Cut);var BOe=function(){function n(e,t,r,i){this.configuration=e,this.viewModel=t,this.outgoingEvents=r,this.commandDelegate=i}return n.prototype._execMouseCommand=function(e,t){t.source="mouse",this.commandDelegate.executeEditorCommand(e,t)},n.prototype.paste=function(e,t,r,i){this.commandDelegate.paste(e,t,r,i)},n.prototype.type=function(e,t){this.commandDelegate.type(e,t)},n.prototype.replacePreviousChar=function(e,t,r){this.commandDelegate.replacePreviousChar(e,t,r)},n.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},n.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},n.prototype.cut=function(e){this.commandDelegate.cut(e)},n.prototype.setSelection=function(e,t){this.commandDelegate.executeEditorCommand(Bi.SetSelection,{source:e,selection:t})},n.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new J(e.lineNumber,t):e},n.prototype._hasMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},n.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},n.prototype.dispatchMouse=function(e){e.middleButton?e.inSelectionMode?this._columnSelect(e.position,e.mouseColumn,!0):this.moveTo(e.position):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!1):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)},n.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this._convertViewToModelPosition(e),viewPosition:e}},n.prototype.moveTo=function(e){this._execMouseCommand(Bi.MoveTo,this._usualArgs(e))},n.prototype._moveToSelect=function(e){this._execMouseCommand(Bi.MoveToSelect,this._usualArgs(e))},n.prototype._columnSelect=function(e,t,r){e=this._validateViewColumn(e),this._execMouseCommand(Bi.ColumnSelect,{position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,setAnchorIfNotSet:r})},n.prototype._createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(Bi.CreateCursor,{position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},n.prototype._lastCursorMoveToSelect=function(e){this._execMouseCommand(Bi.LastCursorMoveToSelect,this._usualArgs(e))},n.prototype._wordSelect=function(e){this._execMouseCommand(Bi.WordSelect,this._usualArgs(e))},n.prototype._wordSelectDrag=function(e){this._execMouseCommand(Bi.WordSelectDrag,this._usualArgs(e))},n.prototype._lastCursorWordSelect=function(e){this._execMouseCommand(Bi.LastCursorWordSelect,this._usualArgs(e))},n.prototype._lineSelect=function(e){this._execMouseCommand(Bi.LineSelect,this._usualArgs(e))},n.prototype._lineSelectDrag=function(e){this._execMouseCommand(Bi.LineSelectDrag,this._usualArgs(e))},n.prototype._lastCursorLineSelect=function(e){this._execMouseCommand(Bi.LastCursorLineSelect,this._usualArgs(e))},n.prototype._lastCursorLineSelectDrag=function(e){this._execMouseCommand(Bi.LastCursorLineSelectDrag,this._usualArgs(e))},n.prototype._selectAll=function(){this._execMouseCommand(Bi.SelectAll,{})},n.prototype._convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},n.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},n.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},n.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},n.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},n.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},n.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},n.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},n.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},n.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},n.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},n}(),xte=function(){function n(e){this._createLine=e,this._set(1,[])}return n.prototype.flush=function(){this._set(1,[])},n.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},n.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},n.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},n.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},n.prototype.getCount=function(){return this._lines.length},n.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},n.prototype.onLinesDeleted=function(e,t){if(this.getCount()===0)return null;var r=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<r){var o=t-e+1;return this._rendLineNumberStart-=o,null}if(e>i)return null;for(var s=0,a=0,u=r;u<=i;u++){var l=u-this._rendLineNumberStart;e<=u&&u<=t&&(a===0?(s=l,a=1):a++)}if(e<r){var c=0;t<r?c=t-e+1:c=r-e,this._rendLineNumberStart-=c}var d=this._lines.splice(s,a);return d},n.prototype.onLinesChanged=function(e,t){if(this.getCount()===0)return!1;for(var r=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,s=e;s<=t;s++)s>=r&&s<=i&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o},n.prototype.onLinesInserted=function(e,t){if(this.getCount()===0)return null;var r=t-e+1,i=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=r,null;if(e>o)return null;if(r+e>o){var s=this._lines.splice(e-this._rendLineNumberStart,o-e+1);return s}for(var a=[],u=0;u<r;u++)a[u]=this._createLine();var l=e-this._rendLineNumberStart,c=this._lines.slice(0,l),d=this._lines.slice(l,this._lines.length-r),h=this._lines.slice(this._lines.length-r,this._lines.length);return this._lines=c.concat(a).concat(d),h},n.prototype.onTokensChanged=function(e){if(this.getCount()===0)return!1;for(var t=this.getStartLineNumber(),r=this.getEndLineNumber(),i=!1,o=0,s=e.length;o<s;o++){var a=e[o];if(!(a.toLineNumber<t||a.fromLineNumber>r))for(var u=Math.max(t,a.fromLineNumber),l=Math.min(r,a.toLineNumber),c=u;c<=l;c++){var d=c-this._rendLineNumberStart;this._lines[d].onTokensChanged(),i=!0}}return i},n}(),Lte=function(){function n(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new xte(function(){return t._host.createVisibleLine()})}return n.prototype._createDomNode=function(){var e=wt(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},n.prototype.onConfigurationChanged=function(e){return e.layoutInfo},n.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},n.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},n.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var r=0,i=t.length;r<i;r++){var o=t[r].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},n.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var r=0,i=t.length;r<i;r++){var o=t[r].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},n.prototype.onScrollChanged=function(e){return e.scrollTopChanged},n.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},n.prototype.onZonesChanged=function(e){return!0},n.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},n.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},n.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},n.prototype.renderLines=function(e){var t=this._linesCollection._get(),r=new HOe(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=r.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)},n}(),HOe=function(){function n(e,t,r){this.domNode=e,this.host=t,this.viewportData=r}return n.prototype.render=function(e,t,r,i){var o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||r<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=r-t+1,o.lines=[];for(var s=t;s<=r;s++)o.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,i),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(r-o.rendLineNumberStart,o.linesLength-1),i,t),o.rendLineNumberStart>t){var a=t,u=Math.min(r,o.rendLineNumberStart-1);a<=u&&(this._insertLinesBefore(o,a,u,i,t),o.linesLength+=u-a+1)}else if(o.rendLineNumberStart<t){var l=Math.min(o.linesLength,t-o.rendLineNumberStart);l>0&&(this._removeLinesBefore(o,l),o.linesLength-=l)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<r){var a=o.rendLineNumberStart+o.linesLength,u=r;a<=u&&(this._insertLinesAfter(o,a,u,i,t),o.linesLength+=u-a+1)}else if(o.rendLineNumberStart+o.linesLength-1>r){var a=Math.max(0,r-o.rendLineNumberStart+1),u=o.linesLength-1,l=u-a+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,i),o},n.prototype._renderUntouchedLines=function(e,t,r,i,o){for(var s=e.rendLineNumberStart,a=e.lines,u=t;u<=r;u++){var l=s+u;a[u].layoutLine(l,i[l-o])}},n.prototype._insertLinesBefore=function(e,t,r,i,o){for(var s=[],a=0,u=t;u<=r;u++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)},n.prototype._removeLinesBefore=function(e,t){for(var r=0;r<t;r++){var i=e.lines[r].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)},n.prototype._insertLinesAfter=function(e,t,r,i,o){for(var s=[],a=0,u=t;u<=r;u++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)},n.prototype._removeLinesAfter=function(e,t){for(var r=e.linesLength-t,i=0;i<t;i++){var o=e.lines[r+i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(r,t)},n.prototype._finishRenderingNewLines=function(e,t,r,i){var o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=r:o.insertAdjacentHTML("afterend",r);for(var s=this.domNode.lastChild,a=e.linesLength-1;a>=0;a--){var u=e.lines[a];i[a]&&(u.setDomNode(s),s=s.previousSibling)}},n.prototype._finishRenderingInvalidLines=function(e,t,r){var i=document.createElement("div");i.innerHTML=t;for(var o=0;o<e.linesLength;o++){var s=e.lines[o];if(r[o]){var a=i.firstChild,u=s.getDomNode();u.parentNode.replaceChild(a,u),s.setDomNode(a)}}},n.prototype._finishRendering=function(e,t,r){var i=n._sb,o=e.linesLength,s=e.lines,a=e.rendLineNumberStart,u=[];{i.reset();for(var l=!1,c=0;c<o;c++){var d=s[c];u[c]=!1;var h=d.getDomNode();if(!h){var p=d.renderLine(c+a,r[c],this.viewportData,i);p&&(u[c]=!0,l=!0)}}l&&this._finishRenderingNewLines(e,t,i.build(),u)}{i.reset();for(var v=!1,m=[],c=0;c<o;c++){var d=s[c];if(m[c]=!1,!u[c]){var p=d.renderLine(c+a,r[c],this.viewportData,i);p&&(m[c]=!0,v=!0)}}v&&this._finishRenderingInvalidLines(e,i.build(),m)}},n._sb=Kb(1e5),n}(),Y6=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nte=function(n){Y6(e,n);function e(t){var r=n.call(this,t)||this;return r._visibleLines=new Lte(r),r.domNode=r._visibleLines.domNode,r._dynamicOverlays=[],r._isFocused=!1,r.domNode.setClassName("view-overlays"),r}return e.prototype.shouldRender=function(){if(n.prototype.shouldRender.call(this))return!0;for(var t=0,r=this._dynamicOverlays.length;t<r;t++){var i=this._dynamicOverlays[t];if(i.shouldRender())return!0}return!1},e.prototype.dispose=function(){n.prototype.dispose.call(this);for(var t=0,r=this._dynamicOverlays.length;t<r;t++){var i=this._dynamicOverlays[t];i.dispose()}this._dynamicOverlays=[]},e.prototype.getDomNode=function(){return this.domNode},e.prototype.createVisibleLine=function(){return new VOe(this._context.configuration,this._dynamicOverlays)},e.prototype.addDynamicOverlay=function(t){this._dynamicOverlays.push(t)},e.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t);for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=r;o<=i;o++){var s=this._visibleLines.getVisibleLine(o);s.onConfigurationChanged(t)}return!0},e.prototype.onFlushed=function(t){return this._visibleLines.onFlushed(t)},e.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!0},e.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},e.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},e.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},e.prototype.onScrollChanged=function(t){return this._visibleLines.onScrollChanged(t)||!0},e.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},e.prototype.onZonesChanged=function(t){return this._visibleLines.onZonesChanged(t)},e.prototype.prepareRender=function(t){for(var r=this._dynamicOverlays.filter(function(a){return a.shouldRender()}),i=0,o=r.length;i<o;i++){var s=r[i];s.prepareRender(t),s.onDidRender()}},e.prototype.render=function(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)},e.prototype._viewOverlaysRender=function(t){this._visibleLines.renderLines(t.viewportData)},e}(ga),VOe=function(){function n(e,t){this._configuration=e,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return n.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},n.prototype.setDomNode=function(e){this._domNode=wt(e)},n.prototype.onContentChanged=function(){},n.prototype.onTokensChanged=function(){},n.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},n.prototype.renderLine=function(e,t,r,i){for(var o="",s=0,a=this._dynamicOverlays.length;s<a;s++){var u=this._dynamicOverlays[s];o+=u.render(r.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,i.appendASCIIString('<div style="position:absolute;top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;width:100%;height:"),i.appendASCIIString(String(this._lineHeight)),i.appendASCIIString('px;">'),i.appendASCIIString(o),i.appendASCIIString("</div>"),!0)},n.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},n}(),WOe=function(n){Y6(e,n);function e(t){var r=n.call(this,t)||this;return r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r.domNode.setHeight(0),r}return e.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),n.prototype.onConfigurationChanged.call(this,t)},e.prototype.onScrollChanged=function(t){return n.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},e.prototype._viewOverlaysRender=function(t){n.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},e}(Nte),UOe=function(n){Y6(e,n);function e(t){var r=n.call(this,t)||this;return r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r.domNode.setClassName("margin-view-overlays"),r.domNode.setWidth(1),fa.applyFontInfo(r.domNode,r._context.configuration.editor.fontInfo),r}return e.prototype.onConfigurationChanged=function(t){var r=!1;return t.fontInfo&&(fa.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),r=!0),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,r=!0),n.prototype.onConfigurationChanged.call(this,t)||r},e.prototype.onScrollChanged=function(t){return n.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},e.prototype._viewOverlaysRender=function(t){n.prototype._viewOverlaysRender.call(this,t);var r=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(r),this.domNode.setWidth(this._contentLeft)},e}(Nte),jOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Q0=function(){function n(e,t){this.top=e,this.left=t}return n}(),qOe=function(n){jOe(e,n);function e(t,r){var i=n.call(this,t)||this;return i._viewDomNode=r,i._widgets={},i.domNode=wt(document.createElement("div")),Dl.write(i.domNode,1),i.domNode.setClassName("contentWidgets"),i.domNode.setPosition("absolute"),i.domNode.setTop(0),i.overflowingContentWidgetsDomNode=wt(document.createElement("div")),Dl.write(i.overflowingContentWidgetsDomNode,2),i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._widgets={}},e.prototype.onConfigurationChanged=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].onConfigurationChanged(t)}return!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLineMappingChanged=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].onLineMappingChanged(t)}return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.addWidget=function(t){var r=new zOe(this._context,this._viewDomNode,t);this._widgets[r.id]=r,r.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(r.domNode):this.domNode.appendChild(r.domNode),this.setShouldRender()},e.prototype.setWidgetPosition=function(t,r,i,o){var s=this._widgets[t.getId()];s.setPosition(r,i,o),this.setShouldRender()},e.prototype.removeWidget=function(t){var r=t.getId();if(this._widgets.hasOwnProperty(r)){var i=this._widgets[r];delete this._widgets[r];var o=i.domNode.domNode;o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},e.prototype.shouldSuppressMouseDownOnWidget=function(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1},e.prototype.onBeforeRender=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].onBeforeRender(t)}},e.prototype.prepareRender=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].prepareRender(t)}},e.prototype.render=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].render(t)}},e}(ga),zOe=function(){function n(e,t,r){this._context=e,this._viewDomNode=t,this._actual=r,this.domNode=wt(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._position=null,this._range=null,this._viewPosition=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return n.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth())},n.prototype.onLineMappingChanged=function(e){this._setPosition(this._position,this._range)},n.prototype._setPosition=function(e,t){if(this._position=e,this._range=t,this._viewPosition=null,this._viewRange=null,this._position){var r=this._context.model.validateModelPosition(this._position);this._context.model.coordinatesConverter.modelPositionIsVisible(r)&&(this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(r))}if(this._range){var i=this._context.model.validateModelRange(this._range);this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(i)}},n.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},n.prototype.setPosition=function(e,t,r){this._setPosition(e,t),this._preference=r,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},n.prototype._layoutBoxInViewport=function(e,t,r,i,o){var s=e.top,a=s,u=t.top+this._lineHeight,l=o.viewportHeight-u,c=s-i,d=a>=i,h=u,p=l>=i,v=e.left,m=t.left;return v+r>o.scrollLeft+o.viewportWidth&&(v=o.scrollLeft+o.viewportWidth-r),m+r>o.scrollLeft+o.viewportWidth&&(m=o.scrollLeft+o.viewportWidth-r),v<o.scrollLeft&&(v=o.scrollLeft),m<o.scrollLeft&&(m=o.scrollLeft),{fitsAbove:d,aboveTop:c,aboveLeft:v,fitsBelow:p,belowTop:h,belowLeft:m}},n.prototype._layoutBoxInPage=function(e,t,r,i,o){var s=e.left-o.scrollLeft,a=t.left-o.scrollLeft,u=e.top-i,l=t.top+this._lineHeight,c=s+this._contentLeft,d=a+this._contentLeft,h=di(this._viewDomNode.domNode),p=h.top+u-nl.scrollY,v=h.top+l-nl.scrollY,m=h.left+c-nl.scrollX,_=h.left+d-nl.scrollX,b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,E=22,T=22,A=p>=E,S=v+i<=C-T;if(m+r+20>b){var N=m-(b-r-20);m-=N,c-=N}if(_+r+20>b){var N=_-(b-r-20);_-=N,d-=N}if(m<0){var N=m;m-=N,c-=N}if(_<0){var N=_;_-=N,d-=N}return this._fixedOverflowWidgets&&(u=p,l=v,c=m,d=_),{fitsAbove:A,aboveTop:u,aboveLeft:c,fitsBelow:S,belowTop:l,belowLeft:d}},n.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new Q0(e.top,e.left+this._contentLeft)},n.prototype._getTopAndBottomLeft=function(e){if(!this._viewPosition)return[null,null];var t=e.visibleRangeForPosition(this._viewPosition);if(!t)return[null,null];var r=e.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-e.scrollTop,i=new Q0(r,t.left),o=this._viewPosition.lineNumber,s=t.left;if(this._viewRange){var a=e.linesVisibleRangesForRange(this._viewRange,!1);if(a&&a.length>0)for(var u=a.length-1;u>=0;u--){var l=a[u];if(l.lineNumber>=o){l.lineNumber>o&&(o=l.lineNumber,s=1073741824);for(var c=0,d=l.ranges.length;c<d;c++){var h=l.ranges[c];h.left<s&&(s=h.left)}}}}var p=e.getVerticalOffsetForLineNumber(o)-e.scrollTop,v=new Q0(p,s);return[i,v]},n.prototype._prepareRenderWidget=function(e){var t=this._getTopAndBottomLeft(e),r=t[0],i=t[1];if(!r||!i)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){var o=this.domNode.domNode;this._cachedDomNodeClientWidth=o.clientWidth,this._cachedDomNodeClientHeight=o.clientHeight}var s;if(this.allowEditorOverflow?s=this._layoutBoxInPage(r,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):s=this._layoutBoxInViewport(r,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(var a=1;a<=2;a++)for(var u=0,l=this._preference;u<l.length;u++){var c=l[u];if(c===1){if(!s)return null;if(a===2||s.fitsAbove)return new Q0(s.aboveTop,s.aboveLeft)}else if(c===2){if(!s)return null;if(a===2||s.fitsBelow)return new Q0(s.belowTop,s.belowLeft)}else return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(r):r}return null},n.prototype.onBeforeRender=function(e){!this._viewPosition||!this._preference||this._viewPosition.lineNumber<e.startLineNumber||this._viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)},n.prototype.prepareRender=function(e){this._renderData=this._prepareRenderWidget(e)},n.prototype.render=function(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"));return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)},n}(),GOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$Oe=function(n){GOe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._renderLineHighlight=r._context.configuration.editor.viewInfo.renderLineHighlight,r._selectionIsEmpty=!0,r._primaryCursorLineNumber=1,r._scrollWidth=0,r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},e.prototype.onCursorStateChanged=function(t){var r=!1,i=t.selections[0].positionLineNumber;this._primaryCursorLineNumber!==i&&(this._primaryCursorLineNumber=i,r=!0);var o=t.selections[0].isEmpty();return this._selectionIsEmpty!==o?(this._selectionIsEmpty=o,!0):r},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollWidthChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.prepareRender=function(t){this._scrollWidth=t.scrollWidth},e.prototype.render=function(t,r){if(r===this._primaryCursorLineNumber)if(this._shouldShowCurrentLine()){var i=this._willRenderMarginCurrentLine(),o="current-line"+(i?" current-line-both":"");return'<div class="'+o+'" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>'}else return"";return""},e.prototype._shouldShowCurrentLine=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},e.prototype._willRenderMarginCurrentLine=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},e}(rg);mn(function(n,e){var t=n.getColor(bte);if(t&&e.addRule(".monaco-editor .view-overlays .current-line { background-color: "+t+"; }"),!t||t.isTransparent()||n.defines(RM)){var r=n.getColor(RM);r&&(e.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+r+"; }"),n.type==="hc"&&e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}});var KOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YOe=function(n){KOe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._renderLineHighlight=r._context.configuration.editor.viewInfo.renderLineHighlight,r._selectionIsEmpty=!0,r._primaryCursorLineNumber=1,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},e.prototype.onCursorStateChanged=function(t){var r=!1,i=t.selections[0].positionLineNumber;this._primaryCursorLineNumber!==i&&(this._primaryCursorLineNumber=i,r=!0);var o=t.selections[0].isEmpty();return this._selectionIsEmpty!==o?(this._selectionIsEmpty=o,!0):r},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.prepareRender=function(t){},e.prototype.render=function(t,r){if(r===this._primaryCursorLineNumber){var i="current-line";if(this._shouldShowCurrentLine()){var o=this._willRenderContentCurrentLine();i="current-line current-line-margin"+(o?" current-line-margin-both":"")}return'<div class="'+i+'" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>'}return""},e.prototype._shouldShowCurrentLine=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},e.prototype._willRenderContentCurrentLine=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},e}(rg);mn(function(n,e){var t=n.getColor(bte);if(t)e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+t+"; border: none; }");else{var r=n.getColor(RM);r&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+r+"; }"),n.type==="hc"&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}});var XOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QOe=function(n){XOe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.prepareRender=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s];u.options.className&&(i[o++]=u)}i=i.sort(function(v,m){if(v.options.zIndex<m.options.zIndex)return-1;if(v.options.zIndex>m.options.zIndex)return 1;var _=v.options.className,b=m.options.className;return _<b?-1:_>b?1:H.compareRangesUsingStarts(v.range,m.range)});for(var l=t.visibleRange.startLineNumber,c=t.visibleRange.endLineNumber,d=[],h=l;h<=c;h++){var p=h-l;d[p]=""}this._renderWholeLineDecorations(t,i,d),this._renderNormalDecorations(t,i,d),this._renderResult=d},e.prototype._renderWholeLineDecorations=function(t,r,i){for(var o=String(this._lineHeight),s=t.visibleRange.startLineNumber,a=t.visibleRange.endLineNumber,u=0,l=r.length;u<l;u++){var c=r[u];if(c.options.isWholeLine)for(var d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+o+'px;"></div>',h=Math.max(c.range.startLineNumber,s),p=Math.min(c.range.endLineNumber,a),v=h;v<=p;v++){var m=v-s;i[m]+=d}}},e.prototype._renderNormalDecorations=function(t,r,i){for(var o=String(this._lineHeight),s=t.visibleRange.startLineNumber,a=null,u=!1,l=null,c=0,d=r.length;c<d;c++){var h=r[c];if(!h.options.isWholeLine){var p=h.options.className,v=!!h.options.showIfCollapsed,m=h.range;if(v&&m.endColumn===1&&m.endLineNumber!==m.startLineNumber&&(m=new H(m.startLineNumber,m.startColumn,m.endLineNumber-1,this._context.model.getLineMaxColumn(m.endLineNumber-1))),a===p&&u===v&&H.areIntersectingOrTouching(l,m)){l=H.plusRange(l,m);continue}a!==null&&this._renderNormalDecoration(t,l,a,u,o,s,i),a=p,u=v,l=m}}a!==null&&this._renderNormalDecoration(t,l,a,u,o,s,i)},e.prototype._renderNormalDecoration=function(t,r,i,o,s,a,u){var l=t.linesVisibleRangesForRange(r,i==="findMatch");if(l)for(var c=0,d=l.length;c<d;c++){var h=l[c],p=h.lineNumber-a;if(o&&h.ranges.length===1){var v=h.ranges[0];v.width===0&&(h.ranges[0]=new th(v.left,this._typicalHalfwidthCharacterWidth))}for(var m=0,_=h.ranges.length;m<_;m++){var b=h.ranges[m],C='<div class="cdr '+i+'" style="left:'+String(b.left)+"px;width:"+String(b.width)+"px;height:"+s+'px;"></div>';u[p]+=C}}},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e}(rg),ZOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),os=function(n){ZOe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){this._register(_e(t,lt.CLICK,function(i){return r(new si(i))}))},e.prototype.onmousedown=function(t,r){this._register(_e(t,lt.MOUSE_DOWN,function(i){return r(new si(i))}))},e.prototype.onmouseover=function(t,r){this._register(_e(t,lt.MOUSE_OVER,function(i){return r(new si(i))}))},e.prototype.onnonbubblingmouseout=function(t,r){this._register(K4(t,function(i){return r(new si(i))}))},e.prototype.onkeydown=function(t,r){this._register(_e(t,lt.KEY_DOWN,function(i){return r(new Un(i))}))},e.prototype.onkeyup=function(t,r){this._register(_e(t,lt.KEY_UP,function(i){return r(new Un(i))}))},e.prototype.oninput=function(t,r){this._register(_e(t,lt.INPUT,r))},e.prototype.onblur=function(t,r){this._register(_e(t,lt.BLUR,r))},e.prototype.onfocus=function(t,r){this._register(_e(t,lt.FOCUS,r))},e.prototype.onchange=function(t,r){this._register(_e(t,lt.CHANGE,r))},e}(fe),JOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Om=11,eke=function(n){JOe(e,n);function e(t){var r=n.call(this)||this;return r._onActivate=t.onActivate,r.bgDomNode=document.createElement("div"),r.bgDomNode.className="arrow-background",r.bgDomNode.style.position="absolute",r.bgDomNode.style.width=t.bgWidth+"px",r.bgDomNode.style.height=t.bgHeight+"px",typeof t.top<"u"&&(r.bgDomNode.style.top="0px"),typeof t.left<"u"&&(r.bgDomNode.style.left="0px"),typeof t.bottom<"u"&&(r.bgDomNode.style.bottom="0px"),typeof t.right<"u"&&(r.bgDomNode.style.right="0px"),r.domNode=document.createElement("div"),r.domNode.className=t.className,r.domNode.style.position="absolute",r.domNode.style.width=Om+"px",r.domNode.style.height=Om+"px",typeof t.top<"u"&&(r.domNode.style.top=t.top+"px"),typeof t.left<"u"&&(r.domNode.style.left=t.left+"px"),typeof t.bottom<"u"&&(r.domNode.style.bottom=t.bottom+"px"),typeof t.right<"u"&&(r.domNode.style.right=t.right+"px"),r._mouseMoveMonitor=r._register(new ng),r.onmousedown(r.bgDomNode,function(i){return r._arrowMouseDown(i)}),r.onmousedown(r.domNode,function(i){return r._arrowMouseDown(i)}),r._mousedownRepeatTimer=r._register(new E_),r._mousedownScheduleRepeatTimer=r._register(new Ns),r}return e.prototype._arrowMouseDown=function(t){var r=this,i=function(){r._mousedownRepeatTimer.cancelAndSet(function(){return r._onActivate()},1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(i,200),this._mouseMoveMonitor.startMonitoring(A_,function(o){},function(){r._mousedownRepeatTimer.cancel(),r._mousedownScheduleRepeatTimer.cancel()}),t.preventDefault()},e}(os),tke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nke=function(n){tke(e,n);function e(t,r,i){var o=n.call(this)||this;return o._visibility=t,o._visibleClassName=r,o._invisibleClassName=i,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new Ns),o}return e.prototype.applyVisibilitySetting=function(t){return this._visibility===2?!1:this._visibility===3?!0:t},e.prototype.setShouldBeVisible=function(t){var r=this.applyVisibilitySetting(t);this._shouldBeVisible!==r&&(this._shouldBeVisible=r,this.ensureVisibility())},e.prototype.setIsNeeded=function(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())},e.prototype.setDomNode=function(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)},e.prototype._reveal=function(){var t=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){t._domNode&&t._domNode.setClassName(t._visibleClassName)},0))},e.prototype._hide=function(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(t?" fade":"")))},e}(fe),rke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ike=140,Ote=function(n){rke(e,n);function e(t){var r=n.call(this)||this;return r._lazyRender=t.lazyRender,r._host=t.host,r._scrollable=t.scrollable,r._scrollbarState=t.scrollbarState,r._visibilityController=r._register(new nke(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),r._mouseMoveMonitor=r._register(new ng),r._shouldRender=!0,r.domNode=wt(document.createElement("div")),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r._visibilityController.setDomNode(r.domNode),r.domNode.setPosition("absolute"),r.onmousedown(r.domNode.domNode,function(i){return r._domNodeMouseDown(i)}),r}return e.prototype._createArrow=function(t){var r=this._register(new eke(t));this.domNode.domNode.appendChild(r.bgDomNode),this.domNode.domNode.appendChild(r.domNode)},e.prototype._createSlider=function(t,r,i,o){var s=this;this.slider=wt(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(r),typeof i=="number"&&this.slider.setWidth(i),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(a){a.leftButton&&(a.preventDefault(),s._sliderMouseDown(a,function(){}))}),this.onclick(this.slider.domNode,function(a){a.leftButton&&a.stopPropagation()})},e.prototype._onElementSize=function(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype._onElementScrollSize=function(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype._onElementScrollPosition=function(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},e.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},e.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},e.prototype._domNodeMouseDown=function(t){t.target===this.domNode.domNode&&this._onMouseDown(t)},e.prototype.delegateMouseDown=function(t){var r=this.domNode.domNode.getClientRects()[0].top,i=r+this._scrollbarState.getSliderPosition(),o=r+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(t);i<=s&&s<=o?t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,function(){})):this._onMouseDown(t)},e.prototype._onMouseDown=function(t){var r,i;if(t.target===this.domNode.domNode&&typeof t.browserEvent.offsetX=="number"&&typeof t.browserEvent.offsetY=="number")r=t.browserEvent.offsetX,i=t.browserEvent.offsetY;else{var o=di(this.domNode.domNode);r=t.posx-o.left,i=t.posy-o.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(r,i))),t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,function(){}))},e.prototype._sliderMouseDown=function(t,r){var i=this,o=this._sliderMousePosition(t),s=this._sliderOrthogonalMousePosition(t),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(A_,function(u){var l=i._sliderOrthogonalMousePosition(u),c=Math.abs(l-s);if(bo&&c>ike){i._setDesiredScrollPositionNow(a.getScrollPosition());return}var d=i._sliderMousePosition(u),h=d-o;i._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(h))},function(){i.slider.toggleClassName("active",!1),i._host.onDragEnd(),r()}),this._host.onDragStart()},e.prototype._setDesiredScrollPositionNow=function(t){var r={};this.writeScrollPosition(r,t),this._scrollable.setScrollPositionNow(r)},e}(os),oke=20,kte=function(){function n(e,t,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(r),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return n.prototype.clone=function(){var e=new n(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return e.setVisibleSize(this._visibleSize),e.setScrollSize(this._scrollSize),e.setScrollPosition(this._scrollPosition),e},n.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1},n.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1},n.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1},n._computeValues=function(e,t,r,i,o){var s=Math.max(0,r-e),a=Math.max(0,s-2*t),u=i>0&&i>r;if(!u)return{computedAvailableSize:Math.round(s),computedIsNeeded:u,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};var l=Math.round(Math.max(oke,Math.floor(r*a/i))),c=(a-l)/(i-r),d=o*c;return{computedAvailableSize:Math.round(s),computedIsNeeded:u,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(d)}},n.prototype._refreshComputedValues=function(){var e=n._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition},n.prototype.getArrowSize=function(){return this._arrowSize},n.prototype.getScrollPosition=function(){return this._scrollPosition},n.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},n.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},n.prototype.isNeeded=function(){return this._computedIsNeeded},n.prototype.getSliderSize=function(){return this._computedSliderSize},n.prototype.getSliderPosition=function(){return this._computedSliderPosition},n.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)},n.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)},n}(),ske=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ake=function(n){ske(e,n);function e(t,r,i){var o=n.call(this,{lazyRender:r.lazyRender,host:i,scrollbarState:new kte(r.horizontalHasArrows?r.arrowSize:0,r.horizontal===2?0:r.horizontalScrollbarSize,r.vertical===2?0:r.verticalScrollbarSize),visibility:r.horizontal,extraScrollbarClassName:"horizontal",scrollable:t})||this;if(r.horizontalHasArrows){var s=(r.arrowSize-Om)/2,a=(r.horizontalScrollbarSize-Om)/2;o._createArrow({className:"left-arrow",top:a,left:s,bottom:void 0,right:void 0,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new wm(null,1,0))}}),o._createArrow({className:"right-arrow",top:a,left:void 0,bottom:void 0,right:s,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new wm(null,-1,0))}})}return o._createSlider(Math.floor((r.horizontalScrollbarSize-r.horizontalSliderSize)/2),0,void 0,r.horizontalSliderSize),o}return e.prototype._updateSlider=function(t,r){this.slider.setWidth(t),this.slider.setLeft(r)},e.prototype._renderDomNode=function(t,r){this.domNode.setWidth(t),this.domNode.setHeight(r),this.domNode.setLeft(0),this.domNode.setBottom(0)},e.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(t,r){return t},e.prototype._sliderMousePosition=function(t){return t.posx},e.prototype._sliderOrthogonalMousePosition=function(t){return t.posy},e.prototype.writeScrollPosition=function(t,r){t.scrollLeft=r},e}(Ote),uke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lke=function(n){uke(e,n);function e(t,r,i){var o=n.call(this,{lazyRender:r.lazyRender,host:i,scrollbarState:new kte(r.verticalHasArrows?r.arrowSize:0,r.vertical===2?0:r.verticalScrollbarSize,0),visibility:r.vertical,extraScrollbarClassName:"vertical",scrollable:t})||this;if(r.verticalHasArrows){var s=(r.arrowSize-Om)/2,a=(r.verticalScrollbarSize-Om)/2;o._createArrow({className:"up-arrow",top:s,left:a,bottom:void 0,right:void 0,bgWidth:r.verticalScrollbarSize,bgHeight:r.arrowSize,onActivate:function(){return o._host.onMouseWheel(new wm(null,0,1))}}),o._createArrow({className:"down-arrow",top:void 0,left:a,bottom:s,right:void 0,bgWidth:r.verticalScrollbarSize,bgHeight:r.arrowSize,onActivate:function(){return o._host.onMouseWheel(new wm(null,0,-1))}})}return o._createSlider(0,Math.floor((r.verticalScrollbarSize-r.verticalSliderSize)/2),r.verticalSliderSize,void 0),o}return e.prototype._updateSlider=function(t,r){this.slider.setHeight(t),this.slider.setTop(r)},e.prototype._renderDomNode=function(t,r){this.domNode.setWidth(r),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)},e.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(t,r){return r},e.prototype._sliderMousePosition=function(t){return t.posy},e.prototype._sliderOrthogonalMousePosition=function(t){return t.posx},e.prototype.writeScrollPosition=function(t,r){t.scrollTop=r},e}(Ote),cke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fke=function(){function n(e,t,r,i,o,s){e=e|0,t=t|0,r=r|0,i=i|0,o=o|0,s=s|0,e<0&&(e=0),r+e>t&&(r=t-e),r<0&&(r=0),i<0&&(i=0),s+i>o&&(s=o-i),s<0&&(s=0),this.width=e,this.scrollWidth=t,this.scrollLeft=r,this.height=i,this.scrollHeight=o,this.scrollTop=s}return n.prototype.equals=function(e){return this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop},n.prototype.withScrollDimensions=function(e){return new n(typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,this.scrollTop)},n.prototype.withScrollPosition=function(e){return new n(this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.scrollTop)},n.prototype.createScrollEvent=function(e){var t=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:r,scrollLeftChanged:i,heightChanged:o,scrollHeightChanged:s,scrollTopChanged:a}},n}(),Rte=function(n){cke(e,n);function e(t,r){var i=n.call(this)||this;return i._onScroll=i._register(new Q),i.onScroll=i._onScroll.event,i._smoothScrollDuration=t,i._scheduleAtNextAnimationFrame=r,i._state=new fke(0,0,0,0,0,0),i._smoothScrolling=null,i}return e.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),n.prototype.dispose.call(this)},e.prototype.setSmoothScrollDuration=function(t){this._smoothScrollDuration=t},e.prototype.validateScrollPosition=function(t){return this._state.withScrollPosition(t)},e.prototype.getScrollDimensions=function(){return this._state},e.prototype.setScrollDimensions=function(t){var r=this._state.withScrollDimensions(t);this._setState(r),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},e.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},e.prototype.getCurrentScrollPosition=function(){return this._state},e.prototype.setScrollPositionNow=function(t){var r=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(r)},e.prototype.setScrollPositionSmooth=function(t){var r=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};var i=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;var o=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=o}else{var i=this._state.withScrollPosition(t);this._smoothScrolling=dke.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){r._smoothScrolling&&(r._smoothScrolling.animationFrameDisposable=null,r._performSmoothScrolling())})},e.prototype._performSmoothScrolling=function(){var t=this;if(this._smoothScrolling){var r=this._smoothScrolling.tick(),i=this._state.withScrollPosition(r);if(this._setState(i),r.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())})}},e.prototype._setState=function(t){var r=this._state;r.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(r)))},e}(fe),Bq=function(){function n(e,t,r){this.scrollLeft=e,this.scrollTop=t,this.isDone=r}return n}();function zO(n,e){var t=e-n;return function(r){return n+t*gke(r)}}function hke(n,e,t){return function(r){return r<t?n(r/t):e((r-t)/(1-t))}}var dke=function(){function n(e,t,r,i){this.from=e,this.to=t,this.duration=i,this._startTime=r,this.animationFrameDisposable=null,this._initAnimations()}return n.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},n.prototype._initAnimation=function(e,t,r){var i=Math.abs(e-t);if(i>2.5*r){var o=void 0,s=void 0;return e<t?(o=e+.75*r,s=t-.75*r):(o=e-.75*r,s=t+.75*r),hke(zO(e,o),zO(s,t),.33)}return zO(e,t)},n.prototype.dispose=function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},n.prototype.acceptScrollDimensions=function(e){this.to=e.withScrollPosition(this.to),this._initAnimations()},n.prototype.tick=function(){return this._tick(Date.now())},n.prototype._tick=function(e){var t=(e-this._startTime)/this.duration;if(t<1){var r=this.scrollLeft(t),i=this.scrollTop(t);return new Bq(r,i,!1)}return new Bq(this.to.scrollLeft,this.to.scrollTop,!0)},n.prototype.combine=function(e,t,r){return n.start(e,t,r)},n.start=function(e,t,r){r=r+10;var i=Date.now()-10;return new n(e,t,i,r)},n}();function pke(n){return Math.pow(n,3)}function gke(n){return 1-pke(1-n)}var d2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vke=500,Hq=50,mke=function(){function n(e,t,r){this.timestamp=e,this.deltaX=t,this.deltaY=r,this.score=0}return n}(),_ke=function(){function n(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return n.prototype.isPhysicalMouseWheel=function(){if(this._front===-1&&this._rear===-1)return!1;var e=1,t=0,r=1,i=this._rear;do{var o=i===this._front?e:Math.pow(2,-r);if(e-=o,t+=this._memory[i].score*o,i===this._front)break;i=(this._capacity+i-1)%this._capacity,r++}while(!0);return t<=.5},n.prototype.accept=function(e,t,r){var i=new mke(e,t,r);i.score=this._computeScore(i),this._front===-1&&this._rear===-1?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)},n.prototype._computeScore=function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(Math.abs(e.deltaX-Math.round(e.deltaX))>0||Math.abs(e.deltaY-Math.round(e.deltaY))>0)&&(t+=.25),Math.min(Math.max(t,0),1)},n.INSTANCE=new n,n}(),Pte=function(n){d2(e,n);function e(t,r,i){var o=n.call(this)||this;o._onScroll=o._register(new Q),o.onScroll=o._onScroll.event,t.style.overflow="hidden",o._options=Vq(r),o._scrollable=i,o._register(o._scrollable.onScroll(function(a){o._onDidScroll(a),o._onScroll.fire(a)}));var s={onMouseWheel:function(a){return o._onMouseWheel(a)},onDragStart:function(){return o._onDragStart()},onDragEnd:function(){return o._onDragEnd()}};return o._verticalScrollbar=o._register(new lke(o._scrollable,o._options,s)),o._horizontalScrollbar=o._register(new ake(o._scrollable,o._options,s)),o._domNode=document.createElement("div"),o._domNode.className="monaco-scrollable-element "+o._options.className,o._domNode.setAttribute("role","presentation"),o._domNode.style.position="relative",o._domNode.style.overflow="hidden",o._domNode.appendChild(t),o._domNode.appendChild(o._horizontalScrollbar.domNode.domNode),o._domNode.appendChild(o._verticalScrollbar.domNode.domNode),o._options.useShadows?(o._leftShadowDomNode=wt(document.createElement("div")),o._leftShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._leftShadowDomNode.domNode),o._topShadowDomNode=wt(document.createElement("div")),o._topShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._topShadowDomNode.domNode),o._topLeftShadowDomNode=wt(document.createElement("div")),o._topLeftShadowDomNode.setClassName("shadow top-left-corner"),o._domNode.appendChild(o._topLeftShadowDomNode.domNode)):(o._leftShadowDomNode=null,o._topShadowDomNode=null,o._topLeftShadowDomNode=null),o._listenOnDomNode=o._options.listenOnDomNode||o._domNode,o._mouseWheelToDispose=[],o._setListeningToMouseWheel(o._options.handleMouseWheel),o.onmouseover(o._listenOnDomNode,function(a){return o._onMouseOver(a)}),o.onnonbubblingmouseout(o._listenOnDomNode,function(a){return o._onMouseOut(a)}),o._hideTimeout=o._register(new Ns),o._isDragging=!1,o._mouseIsOver=!1,o._shouldRender=!0,o._revealOnScroll=!0,o}return e.prototype.dispose=function(){this._mouseWheelToDispose=nt(this._mouseWheelToDispose),n.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this._verticalScrollbar.delegateMouseDown(t)},e.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},e.prototype.setScrollDimensions=function(t){this._scrollable.setScrollDimensions(t)},e.prototype.updateClassName=function(t){this._options.className=t,Tt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},e.prototype.updateOptions=function(t){var r=Vq(t);this._options.handleMouseWheel=r.handleMouseWheel,this._options.mouseWheelScrollSensitivity=r.mouseWheelScrollSensitivity,this._options.fastScrollSensitivity=r.fastScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},e.prototype._setListeningToMouseWheel=function(t){var r=this,i=this._mouseWheelToDispose.length>0;if(i!==t&&(this._mouseWheelToDispose=nt(this._mouseWheelToDispose),t)){var o=function(s){r._onMouseWheel(new wm(s))};this._mouseWheelToDispose.push(_e(this._listenOnDomNode,ul?"mousewheel":"wheel",o))}},e.prototype._onMouseWheel=function(t){var r,i=_ke.INSTANCE;if(i.accept(Date.now(),t.deltaX,t.deltaY),t.deltaY||t.deltaX){var o=t.deltaY*this._options.mouseWheelScrollSensitivity,s=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(r=[s,o],o=r[0],s=r[1]);var a=!Tt&&t.browserEvent&&t.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=o,o=0),t.browserEvent&&t.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);var u=this._scrollable.getFutureScrollPosition(),l={};if(o){var c=u.scrollTop-Hq*o;this._verticalScrollbar.writeScrollPosition(l,c)}if(s){var d=u.scrollLeft-Hq*s;this._horizontalScrollbar.writeScrollPosition(l,d)}if(l=this._scrollable.validateScrollPosition(l),u.scrollLeft!==l.scrollLeft||u.scrollTop!==l.scrollTop){var h=this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel();h?this._scrollable.setScrollPositionSmooth(l):this._scrollable.setScrollPositionNow(l),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(t.preventDefault(),t.stopPropagation())},e.prototype._onDidScroll=function(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},e.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},e.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var t=this._scrollable.getCurrentScrollPosition(),r=t.scrollTop>0,i=t.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(i?" left":"")),this._topShadowDomNode.setClassName("shadow"+(r?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(r?" top":"")+(i?" left":""))}},e.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},e.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},e.prototype._onMouseOut=function(t){this._mouseIsOver=!1,this._hide()},e.prototype._onMouseOver=function(t){this._mouseIsOver=!0,this._reveal()},e.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},e.prototype._hide=function(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},e.prototype._scheduleHide=function(){var t=this;!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(function(){return t._hide()},vke)},e}(os),lC=function(n){d2(e,n);function e(t,r){var i=this;r=r||{},r.mouseWheelSmoothScroll=!1;var o=new Rte(0,function(s){return mh(s)});return i=n.call(this,t,r,o)||this,i._register(o),i}return e.prototype.setScrollPosition=function(t){this._scrollable.setScrollPositionNow(t)},e.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},e}(Pte),yke=function(n){d2(e,n);function e(t,r,i){return n.call(this,t,r,i)||this}return e}(Pte),cC=function(n){d2(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._element=t,i.onScroll(function(o){o.scrollTopChanged&&(i._element.scrollTop=o.scrollTop),o.scrollLeftChanged&&(i._element.scrollLeft=o.scrollLeft)}),i.scanDomNode(),i}return e.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},e}(lC);function Vq(n){var e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,Tt&&(e.className+=" mac"),e}var bke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cke=function(n){bke(e,n);function e(t,r,i,o){var s=n.call(this,t)||this,a=s._context.configuration.editor,u=a.viewInfo.scrollbar,l={listenOnDomNode:i.domNode,className:"editor-scrollable "+PT(t.theme.type),useShadows:!1,lazyRender:!0,vertical:u.vertical,horizontal:u.horizontal,verticalHasArrows:u.verticalHasArrows,horizontalHasArrows:u.horizontalHasArrows,verticalScrollbarSize:u.verticalScrollbarSize,verticalSliderSize:u.verticalSliderSize,horizontalScrollbarSize:u.horizontalScrollbarSize,horizontalSliderSize:u.horizontalSliderSize,handleMouseWheel:u.handleMouseWheel,arrowSize:u.arrowSize,mouseWheelScrollSensitivity:u.mouseWheelScrollSensitivity,fastScrollSensitivity:u.fastScrollSensitivity};s.scrollbar=s._register(new yke(r.domNode,l,s._context.viewLayout.scrollable)),Dl.write(s.scrollbar.getDomNode(),5),s.scrollbarDomNode=wt(s.scrollbar.getDomNode()),s.scrollbarDomNode.setPosition("absolute"),s._setLayout();var c=function(d,h,p){var v={};{var m=d.scrollTop;m&&(v.scrollTop=s._context.viewLayout.getCurrentScrollTop()+m,d.scrollTop=0)}if(p){var _=d.scrollLeft;_&&(v.scrollLeft=s._context.viewLayout.getCurrentScrollLeft()+_,d.scrollLeft=0)}s._context.viewLayout.setScrollPositionNow(v)};return s._register(_e(i.domNode,"scroll",function(d){return c(i.domNode,!0,!0)})),s._register(_e(r.domNode,"scroll",function(d){return c(r.domNode,!0,!1)})),s._register(_e(o.domNode,"scroll",function(d){return c(o.domNode,!0,!1)})),s._register(_e(s.scrollbarDomNode.domNode,"scroll",function(d){return c(s.scrollbarDomNode.domNode,!0,!1)})),s}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(t.contentLeft);var r=this._context.configuration.editor.viewInfo.minimap.side;r==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.contentHeight)},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},e.prototype.getDomNode=function(){return this.scrollbarDomNode},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this.scrollbar.delegateVerticalScrollbarMouseDown(t)},e.prototype.onConfigurationChanged=function(t){if(t.viewInfo){var r=this._context.configuration.editor,i={handleMouseWheel:r.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:r.viewInfo.scrollbar.mouseWheelScrollSensitivity,fastScrollSensitivity:r.viewInfo.scrollbar.fastScrollSensitivity};this.scrollbar.updateOptions(i)}return t.layoutInfo&&this._setLayout(),!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onThemeChanged=function(t){return this.scrollbar.updateClassName("editor-scrollable "+PT(this._context.theme.type)),!0},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this.scrollbar.renderNow()},e}(ga),Mte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X6=function(){function n(e,t,r){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(r)}return n}(),Q6=function(n){Mte(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._render=function(t,r,i){for(var o=[],s=t;s<=r;s++){var a=s-t;o[a]=[]}if(i.length===0)return o;i.sort(function(b,C){return b.className===C.className?b.startLineNumber===C.startLineNumber?b.endLineNumber-C.endLineNumber:b.startLineNumber-C.startLineNumber:b.className<C.className?-1:1});for(var u=null,l=0,c=0,d=i.length;c<d;c++){var h=i[c],p=h.className,v=Math.max(h.startLineNumber,t)-t,m=Math.min(h.endLineNumber,r)-t;u===p?(v=Math.max(l+1,v),l=Math.max(l,m)):(u=p,l=m);for(var _=v;_<=l;_++)o[_].push(u)}return o},e}(rg),wke=function(n){Mte(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._glyphMargin=r._context.configuration.editor.viewInfo.glyphMargin,r._glyphMarginLeft=r._context.configuration.editor.layoutInfo.glyphMarginLeft,r._glyphMarginWidth=r._context.configuration.editor.layoutInfo.glyphMarginWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),t.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s],l=u.options.glyphMarginClassName;l&&(i[o++]=new X6(u.range.startLineNumber,u.range.endLineNumber,l))}return i},e.prototype.prepareRender=function(t){if(!this._glyphMargin){this._renderResult=null;return}for(var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._render(r,i,this._getDecorations(t)),s=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),u=this._glyphMarginWidth.toString(),l='" style="left:'+a+"px;width:"+u+"px;height:"+s+'px;"></div>',c=[],d=r;d<=i;d++){var h=d-r,p=o[h];p.length===0?c[h]="":c[h]='<div class="cgmr '+p.join(" ")+l}this._renderResult=c},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e}(Q6),Eke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ske=function(n){Eke(e,n);function e(t){var r=n.call(this)||this;r._context=t,r._primaryLineNumber=0,r._lineHeight=r._context.configuration.editor.lineHeight,r._spaceWidth=r._context.configuration.editor.fontInfo.spaceWidth,r._enabled=r._context.configuration.editor.viewInfo.renderIndentGuides,r._activeIndentEnabled=r._context.configuration.editor.viewInfo.highlightActiveIndentGuide;var i=r._context.configuration.editor.wrappingInfo.wrappingColumn;return r._maxIndentLeft=i===-1?-1:i*r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){if(t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),t.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._activeIndentEnabled=this._context.configuration.editor.viewInfo.highlightActiveIndentGuide),t.wrappingInfo||t.fontInfo){var r=this._context.configuration.editor.wrappingInfo.wrappingColumn;this._maxIndentLeft=r===-1?-1:r*this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth}return!0},e.prototype.onCursorStateChanged=function(t){var r=t.selections[0],i=r.isEmpty()?r.positionLineNumber:0;return this._primaryLineNumber!==i?(this._primaryLineNumber=i,!0):!1},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onLanguageConfigurationChanged=function(t){return!0},e.prototype.prepareRender=function(t){if(!this._enabled){this._renderResult=null;return}var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._context.model.getOptions().indentSize,s=o*this._spaceWidth,a=t.scrollWidth,u=this._lineHeight,l=this._context.model.getLinesIndentGuides(r,i),c=0,d=0,h=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var p=this._context.model.getActiveIndentGuide(this._primaryLineNumber,r,i);c=p.startLineNumber,d=p.endLineNumber,h=p.indent}for(var v=[],m=r;m<=i;m++){for(var _=c<=m&&m<=d,b=m-r,C=l[b],E="",T=t.visibleRangeForPosition(new J(m,1)),A=T?T.left:0,S=1;S<=C;S++){var N=_&&S===h?"cigra":"cigr";if(E+='<div class="'+N+'" style="left:'+A+"px;height:"+u+"px;width:"+s+'px"></div>',A+=s,A>a||this._maxIndentLeft>0&&A>this._maxIndentLeft)break}v[b]=E}this._renderResult=v},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e}(rg);mn(function(n,e){var t=n.getColor(c2);t&&e.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+t+" inset; }");var r=n.getColor(f2)||t;r&&e.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+r+" inset; }")});var Tke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dke=function(){function n(){this._currentVisibleRange=new H(1,1,1,1)}return n.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},n.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},n}(),Ake=function(){function n(e,t,r,i,o,s){this.lineNumber=e,this.startColumn=t,this.endColumn=r,this.startScrollTop=i,this.stopScrollTop=o,this.scrollType=s}return n}(),Ike=function(n){Tke(e,n);function e(t,r){var i=n.call(this,t)||this;i._linesContent=r,i._textRangeRestingSpot=document.createElement("div"),i._visibleLines=new Lte(i),i.domNode=i._visibleLines.domNode;var o=i._context.configuration;return i._lineHeight=o.editor.lineHeight,i._typicalHalfwidthCharacterWidth=o.editor.fontInfo.typicalHalfwidthCharacterWidth,i._isViewportWrapping=o.editor.wrappingInfo.isViewportWrapping,i._revealHorizontalRightPadding=o.editor.viewInfo.revealHorizontalRightPadding,i._scrollOff=o.editor.viewInfo.cursorSurroundingLines,i._canUseLayerHinting=o.editor.canUseLayerHinting,i._viewLineOptions=new fq(o,i._context.theme.type),Dl.write(i.domNode,7),i.domNode.setClassName("view-lines"),fa.applyFontInfo(i.domNode,o.editor.fontInfo),i._maxLineWidth=0,i._asyncUpdateLineWidths=new Pr(function(){i._updateLineWidthsSlow()},200),i._lastRenderedData=new Dke,i._horizontalRevealRequest=null,i}return e.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),n.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this.domNode},e.prototype.createVisibleLine=function(){return new Rv(this._viewLineOptions)},e.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t),t.wrappingInfo&&(this._maxLineWidth=0);var r=this._context.configuration;return t.lineHeight&&(this._lineHeight=r.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=r.editor.fontInfo.typicalHalfwidthCharacterWidth),t.wrappingInfo&&(this._isViewportWrapping=r.editor.wrappingInfo.isViewportWrapping),t.viewInfo&&(this._revealHorizontalRightPadding=r.editor.viewInfo.revealHorizontalRightPadding,this._scrollOff=r.editor.viewInfo.cursorSurroundingLines),t.canUseLayerHinting&&(this._canUseLayerHinting=r.editor.canUseLayerHinting),t.fontInfo&&fa.applyFontInfo(this.domNode,r.editor.fontInfo),this._onOptionsMaybeChanged(),t.layoutInfo&&(this._maxLineWidth=0),!0},e.prototype._onOptionsMaybeChanged=function(){var t=this._context.configuration,r=new fq(t,this._context.theme.type);if(!this._viewLineOptions.equals(r)){this._viewLineOptions=r;for(var i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),s=i;s<=o;s++){var a=this._visibleLines.getVisibleLine(s);a.onOptionsChanged(this._viewLineOptions)}return!0}return!1},e.prototype.onCursorStateChanged=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=!1,s=r;s<=i;s++)o=this._visibleLines.getVisibleLine(s).onSelectionChanged()||o;return o},e.prototype.onDecorationsChanged=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=r;o<=i;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged();return!0},e.prototype.onFlushed=function(t){var r=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,r},e.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},e.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},e.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},e.prototype.onRevealRangeRequest=function(t){var r=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.range,t.verticalType),i=this._context.viewLayout.validateScrollPosition({scrollTop:r});t.revealHorizontal?t.range.startLineNumber!==t.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new Ake(t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,t.scrollType):this._horizontalRevealRequest=null;var o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);return t.scrollType===0&&o>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(i):this._context.viewLayout.setScrollPositionNow(i),!0},e.prototype.onScrollChanged=function(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){var r=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<r||t.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0},e.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},e.prototype.onZonesChanged=function(t){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(t)},e.prototype.onThemeChanged=function(t){return this._onOptionsMaybeChanged()},e.prototype.getPositionFromDOMInfo=function(t,r){var i=this._getViewLineDomNode(t);if(i===null)return null;var o=this._getLineNumberFor(i);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new J(o,1);var s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();if(o<s||o>a)return null;var u=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,t,r),l=this._context.model.getLineMinColumn(o);return u<l&&(u=l),new J(o,u)},e.prototype._getViewLineDomNode=function(t){for(;t&&t.nodeType===1;){if(t.className===Rv.CLASS_NAME)return t;t=t.parentElement}return null},e.prototype._getLineNumberFor=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=r;o<=i;o++){var s=this._visibleLines.getVisibleLine(o);if(t===s.getDomNode())return o}return-1},e.prototype.getLineWidth=function(t){var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return t<r||t>i?-1:this._visibleLines.getVisibleLine(t).getWidth()},e.prototype.linesVisibleRangesForRange=function(t,r){if(this.shouldRender())return null;var i=t.endLineNumber,o=H.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;var s=[],a=0,u=new cq(this.domNode.domNode,this._textRangeRestingSpot),l=0;r&&(l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new J(o.startLineNumber,1)).lineNumber);for(var c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber(),h=o.startLineNumber;h<=o.endLineNumber;h++)if(!(h<c||h>d)){var p=h===o.startLineNumber?o.startColumn:1,v=h===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(h),m=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(p,v,u);if(!(!m||m.length===0)){if(r&&h<i){var _=l;l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new J(h+1,1)).lineNumber,_!==l&&(m[m.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[a++]=new jxe(h,m)}}return a===0?null:s},e.prototype.visibleRangesForRange2=function(t){if(this.shouldRender())return null;var r=H.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;for(var i=[],o=new cq(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber(),u=r.startLineNumber;u<=r.endLineNumber;u++)if(!(u<s||u>a)){var l=u===r.startLineNumber?r.startColumn:1,c=u===r.endLineNumber?r.endColumn:this._context.model.getLineMaxColumn(u),d=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(l,c,o);!d||d.length===0||(i=i.concat(d))}return i.length===0?null:i},e.prototype.visibleRangeForPosition=function(t){var r=this.visibleRangesForRange2(new H(t.lineNumber,t.column,t.lineNumber,t.column));return r?r[0]:null},e.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},e.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},e.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},e.prototype._updateLineWidths=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=1,s=!0,a=r;a<=i;a++){var u=this._visibleLines.getVisibleLine(a);if(t&&!u.getWidthIsFast()){s=!1;continue}o=Math.max(o,u.getWidth())}return s&&r===1&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),s},e.prototype.prepareRender=function(){throw new Error("Not supported")},e.prototype.render=function(){throw new Error("Not supported")},e.prototype.renderText=function(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var r=this._horizontalRevealRequest.lineNumber,i=this._horizontalRevealRequest.startColumn,o=this._horizontalRevealRequest.endColumn,s=this._horizontalRevealRequest.scrollType;if(t.startLineNumber<=r&&r<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var a=this._computeScrollLeftToRevealRange(r,i,o),u=this._isViewportWrapping;u||this._ensureMaxLineWidth(a.maxHorizontalOffset),s===0?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:a.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:a.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting);var l=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},e.prototype._ensureMaxLineWidth=function(t){var r=Math.ceil(t);this._maxLineWidth<r&&(this._maxLineWidth=r,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},e.prototype._computeScrollTopToRevealRange=function(t,r,i){var o=t.top,s=t.height,a=o+s,u,l;u=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),l=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;var c=Math.min(s/this._lineHeight/2,this._scrollOff);u-=c*this._lineHeight,l+=Math.max(0,c-1)*this._lineHeight,(i===0||i===4)&&(l+=this._lineHeight);var d;if(i===1||i===2)if(i===2&&o<=u&&l<=a)d=o;else{var h=(u+l)/2;d=Math.max(0,h-s/2)}else d=this._computeMinimumScrolling(o,a,u,l,i===3,i===4);return d},e.prototype._computeScrollLeftToRevealRange=function(t,r,i){var o=0,s=this._context.viewLayout.getCurrentViewport(),a=s.left,u=a+s.width,l=this.visibleRangesForRange2(new H(t,r,t,i)),c=Number.MAX_VALUE,d=0;if(!l)return{scrollLeft:a,maxHorizontalOffset:o};for(var h=0,p=l;h<p.length;h++){var v=p[h];v.left<c&&(c=v.left),v.left+v.width>d&&(d=v.left+v.width)}o=d,c=Math.max(0,c-e.HORIZONTAL_EXTRA_PX),d+=this._revealHorizontalRightPadding;var m=this._computeMinimumScrolling(a,u,c,d);return{scrollLeft:m,maxHorizontalOffset:o}},e.prototype._computeMinimumScrolling=function(t,r,i,o,s,a){t=t|0,r=r|0,i=i|0,o=o|0,s=!!s,a=!!a;var u=r-t,l=o-i;if(l<u){if(s)return i;if(a)return Math.max(0,o-u);if(i<t)return i;if(o>r)return Math.max(0,o-u)}else return i;return t},e.HORIZONTAL_EXTRA_PX=30,e}(ga),xke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lke=function(n){xke(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._decorationsLeft=r._context.configuration.editor.layoutInfo.decorationsLeft,r._decorationsWidth=r._context.configuration.editor.layoutInfo.decorationsWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s],l=u.options.linesDecorationsClassName;l&&(i[o++]=new X6(u.range.startLineNumber,u.range.endLineNumber,l))}return i},e.prototype.prepareRender=function(t){for(var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._render(r,i,this._getDecorations(t)),s=this._decorationsLeft.toString(),a=this._decorationsWidth.toString(),u='" style="left:'+s+"px;width:"+a+'px;"></div>',l=[],c=r;c<=i;c++){for(var d=c-r,h=o[d],p="",v=0,m=h.length;v<m;v++)p+='<div class="cldr '+h[v]+u;l[d]=p}this._renderResult=l},e.prototype.render=function(t,r){return this._renderResult?this._renderResult[r-t]:""},e}(Q6),Nke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oke=function(n){Nke(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s],l=u.options.marginClassName;l&&(i[o++]=new X6(u.range.startLineNumber,u.range.endLineNumber,l))}return i},e.prototype.prepareRender=function(t){for(var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._render(r,i,this._getDecorations(t)),s=[],a=r;a<=i;a++){for(var u=a-r,l=o[u],c="",d=0,h=l.length;d<h;d++)c+='<div class="cmdr '+l[d]+'" style=""></div>';s[u]=c}this._renderResult=s},e.prototype.render=function(t,r){return this._renderResult?this._renderResult[r-t]:""},e}(Q6),GO=function(){function n(e,t,r,i){this.r=n._clamp(e),this.g=n._clamp(t),this.b=n._clamp(r),this.a=n._clamp(i)}return n._clamp=function(e){return e<0?0:e>255?255:e|0},n.Empty=new n(0,0,0,0),n}(),Fte=function(){function n(){var e=this;this._onDidChange=new Q,this.onDidChange=this._onDidChange.event,this._updateColorMap(),Bn.onDidChange(function(t){t.changedColorMap&&e._updateColorMap()})}return n.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new n),this._INSTANCE},n.prototype._updateColorMap=function(){var e=Bn.getColorMap();if(!e){this._colors=[GO.Empty],this._backgroundIsLight=!0;return}this._colors=[GO.Empty];for(var t=1;t<e.length;t++){var r=e[t].rgba;this._colors[t]=new GO(r.r,r.g,r.b,Math.round(r.a*255))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)},n.prototype.getColor=function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]},n.prototype.backgroundIsLight=function(){return this._backgroundIsLight},n._INSTANCE=null,n}(),kke=function(){function n(e,t){var r=760;if(e.length!==r)throw new Error("Invalid x2CharData");var i=2*1*95;if(t.length!==i)throw new Error("Invalid x1CharData");this.x2charData=e,this.x1charData=t,this.x2charDataLight=n.soften(e,12/15),this.x1charDataLight=n.soften(t,50/60)}return n.soften=function(e,t){for(var r=new Uint8ClampedArray(e.length),i=0,o=e.length;i<o;i++)r[i]=e[i]*t;return r},n._getChIndex=function(e){return e-=32,e<0&&(e+=95),e%95},n.prototype.x2RenderChar=function(e,t,r,i,o,s,a){if(t+2>e.width||r+4>e.height){console.warn("bad render request outside image data");return}var u=a?this.x2charDataLight:this.x2charData,l=n._getChIndex(i),c=e.width*4,d=s.r,h=s.g,p=s.b,v=o.r-d,m=o.g-h,_=o.b-p,b=e.data,C=l*4*2,E=r*c+t*4;{var T=u[C]/255;b[E+0]=d+v*T,b[E+1]=h+m*T,b[E+2]=p+_*T}{var T=u[C+1]/255;b[E+4]=d+v*T,b[E+5]=h+m*T,b[E+6]=p+_*T}E+=c;{var T=u[C+2]/255;b[E+0]=d+v*T,b[E+1]=h+m*T,b[E+2]=p+_*T}{var T=u[C+3]/255;b[E+4]=d+v*T,b[E+5]=h+m*T,b[E+6]=p+_*T}E+=c;{var T=u[C+4]/255;b[E+0]=d+v*T,b[E+1]=h+m*T,b[E+2]=p+_*T}{var T=u[C+5]/255;b[E+4]=d+v*T,b[E+5]=h+m*T,b[E+6]=p+_*T}E+=c;{var T=u[C+6]/255;b[E+0]=d+v*T,b[E+1]=h+m*T,b[E+2]=p+_*T}{var T=u[C+7]/255;b[E+4]=d+v*T,b[E+5]=h+m*T,b[E+6]=p+_*T}},n.prototype.x1RenderChar=function(e,t,r,i,o,s,a){if(t+1>e.width||r+2>e.height){console.warn("bad render request outside image data");return}var u=a?this.x1charDataLight:this.x1charData,l=n._getChIndex(i),c=e.width*4,d=s.r,h=s.g,p=s.b,v=o.r-d,m=o.g-h,_=o.b-p,b=e.data,C=l*2*1,E=r*c+t*4;{var T=u[C]/255;b[E+0]=d+v*T,b[E+1]=h+m*T,b[E+2]=p+_*T}E+=c;{var T=u[C+1]/255;b[E+0]=d+v*T,b[E+1]=h+m*T,b[E+2]=p+_*T}},n.prototype.x2BlockRenderChar=function(e,t,r,i,o,s){if(t+2>e.width||r+4>e.height){console.warn("bad render request outside image data");return}var a=e.width*4,u=.5,l=o.r,c=o.g,d=o.b,h=i.r-l,p=i.g-c,v=i.b-d,m=l+h*u,_=c+p*u,b=d+v*u,C=e.data,E=r*a+t*4;C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b},n.prototype.x1BlockRenderChar=function(e,t,r,i,o,s){if(t+1>e.width||r+2>e.height){console.warn("bad render request outside image data");return}var a=e.width*4,u=.5,l=o.r,c=o.g,d=o.b,h=i.r-l,p=i.g-c,v=i.b-d,m=l+h*u,_=c+p*u,b=d+v*u,C=e.data,E=r*a+t*4;C[E+0]=m,C[E+1]=_,C[E+2]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b},n}();function Wq(n){for(var e=new Uint8ClampedArray(n.length),t=0,r=n.length;t<r;t++)e[t]=n[t];return e}var $O=null;function Rke(){if(!$O){var n=Wq(jq);jq=null;var e=Wq(Uq);Uq=null,$O=new kke(e,n)}return $O}var Uq=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],jq=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22],Pke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function AS(n){return n===2?4:n===4?6:n===1?2:3}function KO(n){return n===2||n===4?2:1}var Mke=140,qq=function(){function n(e){var t=e.editor.pixelRatio,r=e.editor.layoutInfo,i=e.editor.viewInfo,o=e.editor.fontInfo;this.renderMinimap=r.renderMinimap|0,this.scrollBeyondLastLine=i.scrollBeyondLastLine,this.showSlider=i.minimap.showSlider,this.pixelRatio=t,this.typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this.lineHeight=e.editor.lineHeight,this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=Math.max(1,Math.floor(t*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(t*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/t,this.canvasOuterHeight=this.canvasInnerHeight/t}return n.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},n}(),Fke=function(){function n(e,t,r,i,o,s,a){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=r,this.sliderTop=i,this.sliderHeight=o,this.startLineNumber=s,this.endLineNumber=a}return n.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},n.create=function(e,t,r,i,o,s,a,u,l){var c=e.pixelRatio,d=AS(e.renderMinimap),h=Math.floor(e.canvasInnerHeight/d),p=e.lineHeight,v;if(o&&r!==s){var m=r-t+1;v=Math.floor(m*d/c)}else{var _=i/p;v=Math.floor(_*d/c)}var b;e.scrollBeyondLastLine?b=(s-1)*d/c:b=Math.max(0,s*d/c-v),b=Math.min(e.minimapHeight-v,b);var C=b/(u-i),E=a*C,T=0;if(e.scrollBeyondLastLine){var _=i/p;T=_}if(h>=s+T){var A=1,S=s;return new n(a,u,C,E,v,A,S)}else{var A=Math.max(1,Math.floor(t-E*c/d));l&&l.scrollHeight===u&&(l.scrollTop>a&&(A=Math.min(A,l.startLineNumber)),l.scrollTop<a&&(A=Math.max(A,l.startLineNumber)));var S=Math.min(s,A+h-1);return new n(a,u,C,E,v,A,S)}},n}(),Bte=function(){function n(e){this.dy=e}return n.prototype.onContentChanged=function(){this.dy=-1},n.prototype.onTokensChanged=function(){this.dy=-1},n.INVALID=new n(-1),n}(),zq=function(){function n(e,t,r){this.renderedLayout=e,this._imageData=t,this._renderedLines=new xte(function(){return Bte.INVALID}),this._renderedLines._set(e.startLineNumber,r)}return n.prototype.linesEquals=function(e){if(!this.scrollEquals(e))return!1;for(var t=this._renderedLines._get(),r=t.lines,i=0,o=r.length;i<o;i++)if(r[i].dy===-1)return!1;return!0},n.prototype.scrollEquals=function(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber},n.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},n.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},n.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},n.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},n.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},n}(),Bke=function(){function n(e,t,r,i){this._backgroundFillData=n._createBackgroundFillData(t,r,i),this._buffers=[e.createImageData(t,r),e.createImageData(t,r)],this._lastUsedBuffer=0}return n.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},n._createBackgroundFillData=function(e,t,r){for(var i=r.r,o=r.g,s=r.b,a=new Uint8ClampedArray(e*t*4),u=0,l=0;l<t;l++)for(var c=0;c<e;c++)a[u]=i,a[u+1]=o,a[u+2]=s,a[u+3]=255,u+=4;return a},n}(),Hke=function(n){Pke(e,n);function e(t){var r=n.call(this,t)||this;return r._renderDecorations=!1,r._options=new qq(r._context.configuration),r._lastRenderData=null,r._buffers=null,r._domNode=wt(document.createElement("div")),Dl.write(r._domNode,8),r._domNode.setClassName(r._getMinimapDomNodeClassName()),r._domNode.setPosition("absolute"),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._shadow=wt(document.createElement("div")),r._shadow.setClassName("minimap-shadow-hidden"),r._domNode.appendChild(r._shadow),r._canvas=wt(document.createElement("canvas")),r._canvas.setPosition("absolute"),r._canvas.setLeft(0),r._domNode.appendChild(r._canvas),r._decorationsCanvas=wt(document.createElement("canvas")),r._decorationsCanvas.setPosition("absolute"),r._decorationsCanvas.setClassName("minimap-decorations-layer"),r._decorationsCanvas.setLeft(0),r._domNode.appendChild(r._decorationsCanvas),r._slider=wt(document.createElement("div")),r._slider.setPosition("absolute"),r._slider.setClassName("minimap-slider"),r._slider.setLayerHinting(!0),r._domNode.appendChild(r._slider),r._sliderHorizontal=wt(document.createElement("div")),r._sliderHorizontal.setPosition("absolute"),r._sliderHorizontal.setClassName("minimap-slider-horizontal"),r._slider.appendChild(r._sliderHorizontal),r._tokensColorTracker=Fte.getInstance(),r._applyLayout(),r._mouseDownListener=hi(r._domNode.domNode,"mousedown",function(i){i.preventDefault();var o=r._options.renderMinimap;if(o!==0&&r._lastRenderData){var s=AS(o),a=r._options.pixelRatio*i.browserEvent.offsetY,u=Math.floor(a/s),l=u+r._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,r._context.model.getLineCount()),r._context.privateViewEventBus.emit(new $6(new H(l,1,l,1),1,!1,0))}}),r._sliderMouseMoveMonitor=new ng,r._sliderMouseDownListener=hi(r._slider.domNode,"mousedown",function(i){if(i.preventDefault(),i.stopPropagation(),i.leftButton&&r._lastRenderData){var o=i.posy,s=i.posx,a=r._lastRenderData.renderedLayout;r._slider.toggleClassName("active",!0),r._sliderMouseMoveMonitor.startMonitoring(A_,function(u){var l=Math.abs(u.posx-s);if(bo&&l>Mke){r._context.viewLayout.setScrollPositionNow({scrollTop:a.scrollTop});return}var c=u.posy-o;r._context.viewLayout.setScrollPositionNow({scrollTop:a.getDesiredScrollTopFromDelta(c)})},function(){r._slider.toggleClassName("active",!1)})}}),r}return e.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),n.prototype.dispose.call(this)},e.prototype._getMinimapDomNodeClassName=function(){return this._options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"},e.prototype.getDomNode=function(){return this._domNode},e.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},e.prototype._getBuffer=function(){return this._buffers||(this._buffers=new Bke(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},e.prototype._onOptionsMaybeChanged=function(){var t=new qq(this._context.configuration);return this._options.equals(t)?!1:(this._options=t,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},e.prototype.onConfigurationChanged=function(t){return this._onOptionsMaybeChanged()},e.prototype.onFlushed=function(t){return this._lastRenderData=null,!0},e.prototype.onLinesChanged=function(t){return this._lastRenderData?this._lastRenderData.onLinesChanged(t):!1},e.prototype.onLinesDeleted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(t),!0},e.prototype.onLinesInserted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(t),!0},e.prototype.onScrollChanged=function(t){return this._renderDecorations=!0,!0},e.prototype.onTokensChanged=function(t){return this._lastRenderData?this._lastRenderData.onTokensChanged(t):!1},e.prototype.onTokensColorsChanged=function(t){return this._lastRenderData=null,this._buffers=null,!0},e.prototype.onZonesChanged=function(t){return this._lastRenderData=null,!0},e.prototype.onDecorationsChanged=function(t){return this._renderDecorations=!0,!0},e.prototype.onThemeChanged=function(t){return this._context.model.invalidateMinimapColorCache(),this._renderDecorations=!!this._lastDecorations,!!this._lastDecorations},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){var r=this._options.renderMinimap;if(r===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var i=Fke.create(this._options,t.visibleRange.startLineNumber,t.visibleRange.endLineNumber,t.viewportHeight,t.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight);var o=t.scrollLeft/this._options.typicalHalfwidthCharacterWidth,s=Math.min(this._options.minimapWidth,Math.round(o*KO(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(s),this._sliderHorizontal.setWidth(this._options.minimapWidth-s),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)},e.prototype.renderDecorations=function(t){if(this._renderDecorations){this._renderDecorations=!1;var r=this._context.model.getDecorationsInViewport(new H(t.startLineNumber,1,t.endLineNumber,this._context.model.getLineMaxColumn(t.endLineNumber))),i=this._options,o=i.renderMinimap,s=i.canvasInnerWidth,a=i.canvasInnerHeight,u=AS(o),l=KO(o),c=this._context.model.getOptions().tabSize,d=this._decorationsCanvas.domNode.getContext("2d");d.clearRect(0,0,s,a);for(var h=new Map,p=0;p<r.length;p++){var v=r[p];if(v.options.minimap)for(var m=v.range.startLineNumber;m<=v.range.endLineNumber;m++)this.renderDecorationOnLine(d,h,v,t,m,u,u,c,l)}this._lastDecorations=r}},e.prototype.renderDecorationOnLine=function(t,r,i,o,s,a,u,l,c){var d=(s-o.startLineNumber)*u,h=r.get(s),p=!h;if(!h){var v=this._context.model.getLineContent(s);h=[0];for(var m=1;m<v.length+1;m++){var _=v.charCodeAt(m-1),b=_===9?l*c:Lc(_)?2*c:c;h[m]=h[m-1]+b}r.set(s,h)}var C=i.range,E=C.startColumn,T=C.endColumn,A=C.startLineNumber,S=C.endLineNumber,N=A===s?h[E-1]:0,k=S>s?h.length-1:T-1;if(k>0){var F=h[k]-N||2;this.renderDecoration(t,i.options.minimap,N,d,F,a)}p&&this.renderLineHighlight(t,i.options.minimap,d,a)},e.prototype.renderLineHighlight=function(t,r,i,o){var s=r.getColor(this._context.theme);t.fillStyle=s&&s.transparent(.5).toString()||"",t.fillRect(0,i,t.canvas.width,o)},e.prototype.renderDecoration=function(t,r,i,o,s,a){var u=r.getColor(this._context.theme);t.fillStyle=u&&u.toString()||"",t.fillRect(i,o,s,a)},e.prototype.renderLines=function(t){var r=this._options.renderMinimap,i=t.startLineNumber,o=t.endLineNumber,s=AS(r);if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){var a=this._lastRenderData._get();return new zq(t,a.imageData,a.lines)}for(var u=this._getBuffer(),l=e._renderUntouchedLines(u,i,o,s,this._lastRenderData),c=l[0],d=l[1],h=l[2],p=this._context.model.getMinimapLinesRenderingData(i,o,h),v=p.tabSize,m=this._tokensColorTracker.getColor(2),_=this._tokensColorTracker.backgroundIsLight(),b=0,C=[],E=0,T=o-i+1;E<T;E++)h[E]&&e._renderLine(u,m,_,r,this._tokensColorTracker,Rke(),b,v,p.data[E]),C[E]=new Bte(b),b+=s;var A=c===-1?0:c,S=d===-1?u.height:d,N=S-A,k=this._canvas.domNode.getContext("2d");return k.putImageData(u,0,0,0,A,u.width,N),new zq(t,u,C)},e._renderUntouchedLines=function(t,r,i,o,s){var a=[];if(!s){for(var u=0,l=i-r+1;u<l;u++)a[u]=!0;return[-1,-1,a]}for(var c=s._get(),d=c.imageData.data,h=c.rendLineNumberStart,p=c.lines,v=p.length,m=t.width,_=t.data,b=(i-r+1)*o*m*4,C=-1,E=-1,T=-1,A=-1,S=-1,N=-1,k=0,F=r;F<=i;F++){var L=F-r,O=F-h,P=O>=0&&O<v?p[O].dy:-1;if(P===-1){a[L]=!0,k+=o;continue}var B=P*m*4,U=(P+o)*m*4,$=k*m*4,ee=(k+o)*m*4;A===B&&N===$?(A=U,N=ee):(T!==-1&&(_.set(d.subarray(T,A),S),C===-1&&T===0&&T===S&&(C=A),E===-1&&A===b&&T===S&&(E=T)),T=B,A=U,S=$,N=ee),a[L]=!1,k+=o}T!==-1&&(_.set(d.subarray(T,A),S),C===-1&&T===0&&T===S&&(C=A),E===-1&&A===b&&T===S&&(E=T));var te=C===-1?-1:C/(m*4),ne=E===-1?-1:E/(m*4);return[te,ne,a]},e._renderLine=function(t,r,i,o,s,a,u,l,c){for(var d=c.content,h=c.tokens,p=KO(o),v=t.width-p,m=0,_=0,b=0,C=0,E=h.getCount();C<E;C++)for(var T=h.getEndOffset(C),A=h.getForeground(C),S=s.getColor(A);_<T;_++){if(m>v)return;var N=d.charCodeAt(_);if(N===9){var k=l-(_+b)%l;b+=k-1,m+=k*p}else if(N===32)m+=p;else for(var F=Lc(N)?2:1,L=0;L<F;L++)if(o===2?a.x2RenderChar(t,m,u,N,S,r,i):o===1?a.x1RenderChar(t,m,u,N,S,r,i):o===4?a.x2BlockRenderChar(t,m,u,S,r,i):a.x1BlockRenderChar(t,m,u,S,r,i),m+=p,m>v)return}},e}(ga);mn(function(n,e){var t=n.getColor(SNe);if(t){var r=t.transparent(.5);e.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+r+"; }")}var i=n.getColor(TNe);if(i){var o=i.transparent(.5);e.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+o+"; }")}var s=n.getColor(DNe);if(s){var a=s.transparent(.5);e.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var u=n.getColor(l2);u&&e.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+u+" -6px 0 6px -6px inset; }")});var Vke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wke=function(n){Vke(e,n);function e(t){var r=n.call(this,t)||this;return r._widgets={},r._verticalScrollbarWidth=r._context.configuration.editor.layoutInfo.verticalScrollbarWidth,r._minimapWidth=r._context.configuration.editor.layoutInfo.minimapWidth,r._horizontalScrollbarHeight=r._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,r._editorHeight=r._context.configuration.editor.layoutInfo.height,r._editorWidth=r._context.configuration.editor.layoutInfo.width,r._domNode=wt(document.createElement("div")),Dl.write(r._domNode,4),r._domNode.setClassName("overlayWidgets"),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._widgets={}},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){return t.layoutInfo?(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0):!1},e.prototype.addWidget=function(t){var r=wt(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:r},r.setPosition("absolute"),r.setAttribute("widgetId",t.getId()),this._domNode.appendChild(r),this.setShouldRender()},e.prototype.setWidgetPosition=function(t,r){var i=this._widgets[t.getId()];return i.preference===r?!1:(i.preference=r,this.setShouldRender(),!0)},e.prototype.removeWidget=function(t){var r=t.getId();if(this._widgets.hasOwnProperty(r)){var i=this._widgets[r],o=i.domNode.domNode;delete this._widgets[r],o.parentNode.removeChild(o),this.setShouldRender()}},e.prototype._renderWidget=function(t){var r=t.domNode;if(t.preference===null){r.unsetTop();return}if(t.preference===0)r.setTop(0),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){var i=r.domNode.clientHeight;r.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else t.preference===2&&(r.setTop(0),r.domNode.style.right="50%")},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setWidth(this._editorWidth);for(var r=Object.keys(this._widgets),i=0,o=r.length;i<o;i++){var s=r[i];this._renderWidget(this._widgets[s])}},e}(ga),Uke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jke=function(){function n(e,t){this.lineHeight=e.editor.lineHeight,this.pixelRatio=e.editor.pixelRatio,this.overviewRulerLanes=e.editor.viewInfo.overviewRulerLanes,this.renderBorder=e.editor.viewInfo.overviewRulerBorder;var r=t.getColor(lOe);this.borderColor=r?r.toString():null,this.hideCursor=e.editor.viewInfo.hideCursorInOverviewRuler;var i=t.getColor(Cte);this.cursorColor=i?i.transparent(.7).toString():null,this.themeType=t.type;var o=e.editor.viewInfo.minimap.enabled,s=e.editor.viewInfo.minimap.side,a=o?Bn.getDefaultBackground():null;a===null||s==="left"?this.backgroundColor=null:this.backgroundColor=se.Format.CSS.formatHex(a);var u=e.editor.layoutInfo.overviewRuler;this.top=u.top,this.right=u.right,this.domWidth=u.width,this.domHeight=u.height,this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;var l=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),c=l[0],d=l[1];this.x=c,this.w=d}return n.prototype._initLanes=function(e,t,r){var i=t-e;if(r>=3){var o=Math.floor(i/3),s=Math.floor(i/3),a=i-o-s,u=e,l=u+o,c=u+o+a;return[[0,u,l,u,c,u,l,u],[0,o,a,o+a,s,o+a+s,a+s,o+a+s]]}else if(r===2){var o=Math.floor(i/2),s=i-o,u=e,c=u+o;return[[0,u,u,u,c,u,u,u],[0,o,o,o,s,o+s,o+s,o+s]]}else{var d=e,h=i;return[[0,d,d,d,d,d,d,d],[0,h,h,h,h,h,h,h]]}},n.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight},n}(),qke=function(n){Uke(e,n);function e(t){var r=n.call(this,t)||this;return r._domNode=wt(document.createElement("canvas")),r._domNode.setClassName("decorationsOverviewRuler"),r._domNode.setPosition("absolute"),r._domNode.setLayerHinting(!0),r._domNode.setAttribute("aria-hidden","true"),r._updateSettings(!1),r._tokensColorTrackerListener=Bn.onDidChange(function(i){i.changedColorMap&&r._updateSettings(!0)}),r._cursorPositions=[],r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},e.prototype._updateSettings=function(t){var r=new jke(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(r)?!1:(this._settings=r,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)},e.prototype.onConfigurationChanged=function(t){return this._updateSettings(!1)},e.prototype.onCursorStateChanged=function(t){this._cursorPositions=[];for(var r=0,i=t.selections.length;r<i;r++)this._cursorPositions[r]=t.selections[r].getPosition();return this._cursorPositions.sort(J.compare),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onThemeChanged=function(t){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._render()},e.prototype._render=function(){var t=this._settings.canvasWidth,r=this._settings.canvasHeight,i=this._settings.lineHeight,o=this._context.viewLayout,s=this._context.viewLayout.getScrollHeight(),a=r/s,u=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,d=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?d.clearRect(0,0,t,r):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,t,r));var h=this._settings.x,p=this._settings.w,v=Object.keys(u);v.sort();for(var m=0,_=v.length;m<_;m++){var b=v[m],C=u[b];d.fillStyle=b;for(var E=0,T=0,A=0,S=0,N=C.length;S<N;S++){var k=C[3*S],F=C[3*S+1],L=C[3*S+2],O=o.getVerticalOffsetForLineNumber(F)*a|0,P=(o.getVerticalOffsetForLineNumber(L)+i)*a|0,B=P-O;if(B<l){var U=(O+P)/2|0;U<c?U=c:U+c>r&&(U=r-c),O=U-c,P=U+c}O>A+1||k!==E?(S!==0&&d.fillRect(h[E],T,p[E],A-T),E=k,T=O,A=P):P>A&&(A=P)}d.fillRect(h[E],T,p[E],A-T)}if(!this._settings.hideCursor&&this._settings.cursorColor){var $=2*this._settings.pixelRatio|0,ee=$/2|0,te=this._settings.x[7],ne=this._settings.w[7];d.fillStyle=this._settings.cursorColor;for(var T=-100,A=-100,S=0,N=this._cursorPositions.length;S<N;S++){var de=this._cursorPositions[S],U=o.getVerticalOffsetForLineNumber(de.lineNumber)*a|0;U<ee?U=ee:U+ee>r&&(U=r-ee);var O=U-ee,P=O+$;O>A+1?(S!==0&&d.fillRect(te,T,ne,A-T),T=O,A=P):P>A&&(A=P)}d.fillRect(te,T,ne,A-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,r),d.stroke(),d.moveTo(0,0),d.lineTo(t,0),d.stroke())},e}(ga),Gq=function(){function n(e,t,r){this.from=e|0,this.to=t|0,this.colorId=r|0}return n.compare=function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId},n}(),Jb=function(){function n(e,t,r){this.startLineNumber=e,this.endLineNumber=t,this.color=r,this._colorZone=null}return n.compare=function(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1},n.prototype.setColorZone=function(e){this._colorZone=e},n.prototype.getColorZones=function(){return this._colorZone},n}(),zke=function(){function n(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return n.prototype.getId2Color=function(){return this._id2Color},n.prototype.setZones=function(e){this._zones=e,this._zones.sort(Jb.compare)},n.prototype.setLineHeight=function(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},n.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},n.prototype.getDOMWidth=function(){return this._domWidth},n.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},n.prototype.setDOMWidth=function(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)},n.prototype.getDOMHeight=function(){return this._domHeight},n.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},n.prototype.setDOMHeight=function(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)},n.prototype.getOuterHeight=function(){return this._outerHeight},n.prototype.setOuterHeight=function(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},n.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),r=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),o=r/i,s=Math.floor(4*this._pixelRatio/2),a=[],u=0,l=this._zones.length;u<l;u++){var c=this._zones[u];if(!e){var d=c.getColorZones();if(d){a.push(d);continue}}var h=Math.floor(o*this._getVerticalOffsetForLine(c.startLineNumber)),p=Math.floor(o*(this._getVerticalOffsetForLine(c.endLineNumber)+t)),v=Math.floor((h+p)/2),m=p-v;m<s&&(m=s),v-m<0&&(v=m),v+m>r&&(v=r-m);var _=c.color,b=this._color2Id[_];b||(b=++this._lastAssignedId,this._color2Id[_]=b,this._id2Color[b]=_);var C=new Gq(v-m,v+m,b);c.setColorZone(C),a.push(C)}return this._colorZonesInvalid=!1,a.sort(Gq.compare),a},n}(),Gke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$ke=function(n){Gke(e,n);function e(t,r){var i=n.call(this)||this;return i._context=t,i._domNode=wt(document.createElement("canvas")),i._domNode.setClassName(r),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._zoneManager=new zke(function(o){return i._context.viewLayout.getVerticalOffsetForLineNumber(o)}),i._zoneManager.setDOMWidth(0),i._zoneManager.setDOMHeight(0),i._zoneManager.setOuterHeight(i._context.viewLayout.getScrollHeight()),i._zoneManager.setLineHeight(i._context.configuration.editor.lineHeight),i._zoneManager.setPixelRatio(i._context.configuration.editor.pixelRatio),i._context.addEventHandler(i),i}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._zoneManager.setLineHeight(this._context.configuration.editor.lineHeight),this._render()),t.pixelRatio&&(this._zoneManager.setPixelRatio(this._context.configuration.editor.pixelRatio),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},e.prototype.onFlushed=function(t){return this._render(),!0},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0},e.prototype.onZonesChanged=function(t){return this._render(),!0},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.setLayout=function(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);var r=!1;r=this._zoneManager.setDOMWidth(t.width)||r,r=this._zoneManager.setDOMHeight(t.height)||r,r&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},e.prototype.setZones=function(t){this._zoneManager.setZones(t),this._render()},e.prototype._render=function(){if(this._zoneManager.getOuterHeight()===0)return!1;var t=this._zoneManager.getCanvasWidth(),r=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),o=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,t,r),i.length>0&&this._renderOneLane(s,i,o,t),!0},e.prototype._renderOneLane=function(t,r,i,o){for(var s=0,a=0,u=0,l=0,c=r;l<c.length;l++){var d=c[l],h=d.colorId,p=d.from,v=d.to;h!==s?(t.fillRect(0,a,o,u-a),s=h,t.fillStyle=i[s],a=p,u=v):u>=p?u=Math.max(u,v):(t.fillRect(0,a,o,u-a),a=p,u=v)}t.fillRect(0,a,o,u-a)},e}(aC),Kke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yke=function(n){Kke(e,n);function e(t){var r=n.call(this,t)||this;return r.domNode=wt(document.createElement("div")),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r.domNode.setClassName("view-rulers"),r._renderedRulers=[],r._rulers=r._context.configuration.editor.viewInfo.rulers,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.viewInfo||t.layoutInfo||t.fontInfo?(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0):!1},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},e.prototype.prepareRender=function(t){},e.prototype._ensureRulersCount=function(){var t=this._renderedRulers.length,r=this._rulers.length;if(t!==r){if(t<r){for(var i=this._context.model.getOptions().tabSize,o=i,s=r-t;s>0;){var a=wt(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}for(var u=t-r;u>0;){var a=this._renderedRulers.pop();this.domNode.removeChild(a),u--}}},e.prototype.render=function(t){this._ensureRulersCount();for(var r=0,i=this._rulers.length;r<i;r++){var o=this._renderedRulers[r];o.setHeight(Math.min(t.scrollHeight,1e6)),o.setLeft(this._rulers[r]*this._typicalHalfwidthCharacterWidth)}},e}(ga);mn(function(n,e){var t=n.getColor(sOe);t&&e.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+t+" inset; }")});var Xke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qke=function(n){Xke(e,n);function e(t){var r=n.call(this,t)||this;return r._scrollTop=0,r._width=0,r._updateWidth(),r._shouldShow=!1,r._useShadows=r._context.configuration.editor.viewInfo.scrollbar.useShadows,r._domNode=wt(document.createElement("div")),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._updateShouldShow=function(){var t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t?(this._shouldShow=t,!0):!1},e.prototype.getDomNode=function(){return this._domNode},e.prototype._updateWidth=function(){var t=this._context.configuration.editor.layoutInfo,r=0;return t.renderMinimap===0||t.minimapWidth>0&&t.minimapLeft===0?r=t.width:r=t.width-t.minimapWidth-t.verticalScrollbarWidth,this._width!==r?(this._width=r,!0):!1},e.prototype.onConfigurationChanged=function(t){var r=!1;return t.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),t.layoutInfo&&(r=this._updateWidth()),this._updateShouldShow()||r},e.prototype.onScrollChanged=function(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},e}(ga);mn(function(n,e){var t=n.getColor(l2);t&&e.addRule(".monaco-editor .scroll-decoration { box-shadow: "+t+" 0 6px 6px -6px inset; }")});var Zke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jke=function(){function n(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}return n}(),eRe=function(){function n(e,t){this.lineNumber=e,this.ranges=t}return n}();function tRe(n){return new Jke(n)}function nRe(n){return new eRe(n.lineNumber,n.ranges.map(tRe))}var rRe=ul,iRe=function(n){Zke(e,n);function e(t){var r=n.call(this)||this;return r._previousFrameVisibleRangesWithStyle=[],r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._roundedSelection=r._context.configuration.editor.viewInfo.roundedSelection,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._selections=[],r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._visibleRangesHaveGaps=function(t){for(var r=0,i=t.length;r<i;r++){var o=t[r];if(o.ranges.length>1)return!0}return!1},e.prototype._enrichVisibleRangesWithStyle=function(t,r,i){var o=this._typicalHalfwidthCharacterWidth/4,s=null,a=null;if(i&&i.length>0&&r.length>0){var u=r[0].lineNumber;if(u===t.startLineNumber)for(var l=0;!s&&l<i.length;l++)i[l].lineNumber===u&&(s=i[l].ranges[0]);var c=r[r.length-1].lineNumber;if(c===t.endLineNumber)for(var l=i.length-1;!a&&l>=0;l--)i[l].lineNumber===c&&(a=i[l].ranges[0]);s&&!s.startStyle&&(s=null),a&&!a.startStyle&&(a=null)}for(var l=0,d=r.length;l<d;l++){var h=r[l].ranges[0],p=h.left,v=h.left+h.width,m={top:0,bottom:0},_={top:0,bottom:0};if(l>0){var b=r[l-1].ranges[0].left,C=r[l-1].ranges[0].left+r[l-1].ranges[0].width;OE(p-b)<o?m.top=2:p>b&&(m.top=1),OE(v-C)<o?_.top=2:b<v&&v<C&&(_.top=1)}else s&&(m.top=s.startStyle.top,_.top=s.endStyle.top);if(l+1<d){var E=r[l+1].ranges[0].left,T=r[l+1].ranges[0].left+r[l+1].ranges[0].width;OE(p-E)<o?m.bottom=2:E<p&&p<T&&(m.bottom=1),OE(v-T)<o?_.bottom=2:v<T&&(_.bottom=1)}else a&&(m.bottom=a.startStyle.bottom,_.bottom=a.endStyle.bottom);h.startStyle=m,h.endStyle=_}},e.prototype._getVisibleRangesWithStyle=function(t,r,i){var o=r.linesVisibleRangesForRange(t,!0)||[],s=o.map(nRe),a=this._visibleRangesHaveGaps(s);return!rRe&&!a&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(r.visibleRange,s,i),s},e.prototype._createSelectionPiece=function(t,r,i,o,s){return'<div class="cslr '+i+'" style="top:'+t.toString()+"px;left:"+o.toString()+"px;width:"+s.toString()+"px;height:"+r+'px;"></div>'},e.prototype._actualRenderOneSelection=function(t,r,i,o){for(var s=o.length>0&&o[0].ranges[0].startStyle,a=this._lineHeight.toString(),u=(this._lineHeight-1).toString(),l=o.length>0?o[0].lineNumber:0,c=o.length>0?o[o.length-1].lineNumber:0,d=0,h=o.length;d<h;d++){for(var p=o[d],v=p.lineNumber,m=v-r,_=i&&(v===c||v===l)?u:a,b=i&&v===l?1:0,C="",E=0,T=p.ranges.length;E<T;E++){var A=p.ranges[E];if(s){var S=A.startStyle,N=A.endStyle;if(S.top===1||S.bottom===1){C+=this._createSelectionPiece(b,_,e.SELECTION_CLASS_NAME,A.left-e.ROUNDED_PIECE_WIDTH,e.ROUNDED_PIECE_WIDTH);var k=e.EDITOR_BACKGROUND_CLASS_NAME;S.top===1&&(k+=" "+e.SELECTION_TOP_RIGHT),S.bottom===1&&(k+=" "+e.SELECTION_BOTTOM_RIGHT),C+=this._createSelectionPiece(b,_,k,A.left-e.ROUNDED_PIECE_WIDTH,e.ROUNDED_PIECE_WIDTH)}if(N.top===1||N.bottom===1){C+=this._createSelectionPiece(b,_,e.SELECTION_CLASS_NAME,A.left+A.width,e.ROUNDED_PIECE_WIDTH);var F=e.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(F+=" "+e.SELECTION_TOP_LEFT),N.bottom===1&&(F+=" "+e.SELECTION_BOTTOM_LEFT),C+=this._createSelectionPiece(b,_,F,A.left+A.width,e.ROUNDED_PIECE_WIDTH)}}var L=e.SELECTION_CLASS_NAME;if(s){var S=A.startStyle,N=A.endStyle;S.top===0&&(L+=" "+e.SELECTION_TOP_LEFT),S.bottom===0&&(L+=" "+e.SELECTION_BOTTOM_LEFT),N.top===0&&(L+=" "+e.SELECTION_TOP_RIGHT),N.bottom===0&&(L+=" "+e.SELECTION_BOTTOM_RIGHT)}C+=this._createSelectionPiece(b,_,L,A.left,A.width)}t[m]+=C}},e.prototype.prepareRender=function(t){for(var r=[],i=t.visibleRange.startLineNumber,o=t.visibleRange.endLineNumber,s=i;s<=o;s++){var a=s-i;r[a]=""}for(var u=[],l=0,c=this._selections.length;l<c;l++){var d=this._selections[l];if(d.isEmpty()){u[l]=null;continue}var h=this._getVisibleRangesWithStyle(d,t,this._previousFrameVisibleRangesWithStyle[l]);u[l]=h,this._actualRenderOneSelection(r,i,this._selections.length>1,h)}this._previousFrameVisibleRangesWithStyle=u,this._renderResult=r},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e.SELECTION_CLASS_NAME="selected-text",e.SELECTION_TOP_LEFT="top-left-radius",e.SELECTION_BOTTOM_LEFT="bottom-left-radius",e.SELECTION_TOP_RIGHT="top-right-radius",e.SELECTION_BOTTOM_RIGHT="bottom-right-radius",e.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",e.ROUNDED_PIECE_WIDTH=10,e}(rg);mn(function(n,e){var t=n.getColor(Jv);t&&e.addRule(".monaco-editor .focused .selected-text { background-color: "+t+"; }");var r=n.getColor(W6);r&&e.addRule(".monaco-editor .selected-text { background-color: "+r+"; }");var i=n.getColor(BNe);i&&e.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+i+"; }")});function OE(n){return n<0?-n:n}var $q=function(){function n(e,t,r,i,o,s){this.top=e,this.left=t,this.width=r,this.height=i,this.textContent=o,this.textContentClassName=s}return n}(),Kq=function(){function n(e){this._context=e,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=wt(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),fa.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this._position=new J(1,1),this._lastRenderedContent="",this._renderData=null}return n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return this._position},n.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},n.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},n.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(fa.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),e.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth)),!0},n.prototype.onCursorPositionChanged=function(e){return this._position=e,!0},n.prototype._prepareRender=function(e){var t="",r="";if(this._cursorStyle===Fn.Line||this._cursorStyle===Fn.LineThin){var i=e.visibleRangeForPosition(this._position);if(!i)return null;var o;if(this._cursorStyle===Fn.Line){if(o=bj(this._lineCursorWidth>0?this._lineCursorWidth:2),o>2){var s=this._context.model.getLineContent(this._position.lineNumber);t=s.charAt(this._position.column-1)}}else o=bj(1);var a=i.left;o>=2&&a>=1&&(a-=1);var u=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new $q(u,a,o,this._lineHeight,t,r)}var l=e.linesVisibleRangesForRange(new H(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!l||l.length===0||l[0].ranges.length===0)return null;var c=l[0].ranges[0],d=c.width<1?this._typicalHalfwidthCharacterWidth:c.width;if(this._cursorStyle===Fn.Block){var h=this._context.model.getViewLineData(this._position.lineNumber);t=h.content.charAt(this._position.column-1),zo(h.content.charCodeAt(this._position.column-1))&&(t+=h.content.charAt(this._position.column));var p=h.tokens.findTokenIndexAtOffset(this._position.column-1);r=h.tokens.getClassName(p)}var v=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===Fn.Underline||this._cursorStyle===Fn.UnderlineThin)&&(v+=this._lineHeight-2,m=2),new $q(v,c.left,d,m,t,r)},n.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},n.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},n}(),oRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sRe=function(n){oRe(e,n);function e(t){var r=n.call(this,t)||this;return r._readOnly=r._context.configuration.editor.readOnly,r._cursorBlinking=r._context.configuration.editor.viewInfo.cursorBlinking,r._cursorStyle=r._context.configuration.editor.viewInfo.cursorStyle,r._cursorSmoothCaretAnimation=r._context.configuration.editor.viewInfo.cursorSmoothCaretAnimation,r._selectionIsEmpty=!0,r._isVisible=!1,r._primaryCursor=new Kq(r._context),r._secondaryCursors=[],r._renderData=[],r._domNode=wt(document.createElement("div")),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._updateDomClassName(),r._domNode.appendChild(r._primaryCursor.getDomNode()),r._startCursorBlinkAnimation=new Ns,r._cursorFlatBlinkInterval=new E_,r._blinkingEnabled=!1,r._editorHasFocus=!1,r._updateBlinking(),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){t.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),t.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._cursorSmoothCaretAnimation=this._context.configuration.editor.viewInfo.cursorSmoothCaretAnimation),this._primaryCursor.onConfigurationChanged(t),this._updateBlinking(),t.viewInfo&&this._updateDomClassName();for(var r=0,i=this._secondaryCursors.length;r<i;r++)this._secondaryCursors[r].onConfigurationChanged(t);return!0},e.prototype._onCursorPositionChanged=function(t,r){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<r.length)for(var i=r.length-this._secondaryCursors.length,o=0;o<i;o++){var s=new Kq(this._context);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}else if(this._secondaryCursors.length>r.length)for(var a=this._secondaryCursors.length-r.length,o=0;o<a;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var o=0;o<r.length;o++)this._secondaryCursors[o].onCursorPositionChanged(r[o])},e.prototype.onCursorStateChanged=function(t){for(var r=[],i=0,o=t.selections.length;i<o;i++)r[i]=t.selections[i].getPosition();this._onCursorPositionChanged(r[0],r.slice(1));var s=t.selections[0].isEmpty();return this._selectionIsEmpty!==s&&(this._selectionIsEmpty=s,this._updateDomClassName()),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onFocusChanged=function(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onTokensChanged=function(t){var r=function(a){for(var u=0,l=t.ranges.length;u<l;u++)if(t.ranges[u].fromLineNumber<=a.lineNumber&&a.lineNumber<=t.ranges[u].toLineNumber)return!0;return!1};if(r(this._primaryCursor.getPosition()))return!0;for(var i=0,o=this._secondaryCursors;i<o.length;i++){var s=o[i];if(r(s.getPosition()))return!0}return!1},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},e.prototype._updateBlinking=function(){var t=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var r=this._getCursorBlinking(),i=r===0,o=r===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!o&&(r===1?this._cursorFlatBlinkInterval.cancelAndSet(function(){t._isVisible?t._hide():t._show()},e.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){t._blinkingEnabled=!0,t._updateDomClassName()},e.BLINK_INTERVAL))},e.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},e.prototype._getClassName=function(){var t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case Fn.Line:t+=" cursor-line-style";break;case Fn.Block:t+=" cursor-block-style";break;case Fn.Underline:t+=" cursor-underline-style";break;case Fn.LineThin:t+=" cursor-line-thin-style";break;case Fn.BlockOutline:t+=" cursor-block-outline-style";break;case Fn.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(t+=" cursor-smooth-caret-animation"),t},e.prototype._show=function(){this._primaryCursor.show();for(var t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].show();this._isVisible=!0},e.prototype._hide=function(){this._primaryCursor.hide();for(var t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].hide();this._isVisible=!1},e.prototype.prepareRender=function(t){this._primaryCursor.prepareRender(t);for(var r=0,i=this._secondaryCursors.length;r<i;r++)this._secondaryCursors[r].prepareRender(t)},e.prototype.render=function(t){var r=[],i=0,o=this._primaryCursor.render(t);o&&(r[i++]=o);for(var s=0,a=this._secondaryCursors.length;s<a;s++){var u=this._secondaryCursors[s].render(t);u&&(r[i++]=u)}this._renderData=r},e.prototype.getLastRenderData=function(){return this._renderData},e.BLINK_INTERVAL=500,e}(ga);mn(function(n,e){var t=n.getColor(Cte);if(t){var r=n.getColor(iOe);r||(r=t.opposite()),e.addRule(".monaco-editor .cursor { background-color: "+t+"; border-color: "+t+"; color: "+r+"; }"),n.type==="hc"&&e.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+r+"; border-right: 1px solid "+r+"; }")}});var aRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uRe=function(n){aRe(e,n);function e(t){var r=n.call(this,t)||this;return r._lineHeight=r._context.configuration.editor.lineHeight,r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r.domNode=wt(document.createElement("div")),r.domNode.setClassName("view-zones"),r.domNode.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r.marginDomNode=wt(document.createElement("div")),r.marginDomNode.setClassName("margin-view-zones"),r.marginDomNode.setPosition("absolute"),r.marginDomNode.setAttribute("role","presentation"),r.marginDomNode.setAttribute("aria-hidden","true"),r._zones={},r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._zones={}},e.prototype._recomputeWhitespacesProps=function(){for(var t=!1,r=Object.keys(this._zones),i=0,o=r.length;i<o;i++){var s=r[i],a=this._zones[s],u=this._computeWhitespaceProps(a.delegate);this._context.viewLayout.changeWhitespace(s,u.afterViewLineNumber,u.heightInPx)&&(this._safeCallOnComputedHeight(a.delegate,u.heightInPx),t=!0)}return t},e.prototype.onConfigurationChanged=function(t){return t.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},e.prototype.onLineMappingChanged=function(t){var r=this._recomputeWhitespacesProps();return r&&this._context.viewLayout.onHeightMaybeChanged(),r},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype._getZoneOrdinal=function(t){return typeof t.afterColumn<"u"?t.afterColumn:1e4},e.prototype._computeWhitespaceProps=function(t){if(t.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};var r;if(typeof t.afterColumn<"u")r=this._context.model.validateModelPosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{var i=this._context.model.validateModelPosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;r=new J(i,this._context.model.getModelLineMaxColumn(i))}var o;r.column===this._context.model.getModelLineMaxColumn(r.lineNumber)?o=this._context.model.validateModelPosition({lineNumber:r.lineNumber+1,column:1}):o=this._context.model.validateModelPosition({lineNumber:r.lineNumber,column:r.column+1});var s=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(r),a=this._context.model.coordinatesConverter.modelPositionIsVisible(o);return{afterViewLineNumber:s.lineNumber,heightInPx:a?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}},e.prototype.addZone=function(t){var r=this._computeWhitespaceProps(t),i=this._context.viewLayout.addWhitespace(r.afterViewLineNumber,this._getZoneOrdinal(t),r.heightInPx,r.minWidthInPx),o={whitespaceId:i,delegate:t,isVisible:!1,domNode:wt(t.domNode),marginDomNode:t.marginDomNode?wt(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,r.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId},e.prototype.removeZone=function(t){if(this._zones.hasOwnProperty(t)){var r=this._zones[t];return delete this._zones[t],this._context.viewLayout.removeWhitespace(r.whitespaceId),r.domNode.removeAttribute("monaco-visible-view-zone"),r.domNode.removeAttribute("monaco-view-zone"),r.domNode.domNode.parentNode.removeChild(r.domNode.domNode),r.marginDomNode&&(r.marginDomNode.removeAttribute("monaco-visible-view-zone"),r.marginDomNode.removeAttribute("monaco-view-zone"),r.marginDomNode.domNode.parentNode.removeChild(r.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},e.prototype.layoutZone=function(t){var r=!1;if(this._zones.hasOwnProperty(t)){var i=this._zones[t],o=this._computeWhitespaceProps(i.delegate);r=this._context.viewLayout.changeWhitespace(i.whitespaceId,o.afterViewLineNumber,o.heightInPx)||r,r&&(this._safeCallOnComputedHeight(i.delegate,o.heightInPx),this.setShouldRender())}return r},e.prototype.shouldSuppressMouseDownOnViewZone=function(t){if(this._zones.hasOwnProperty(t)){var r=this._zones[t];return!!r.delegate.suppressMouseDown}return!1},e.prototype._heightInPixels=function(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight},e.prototype._minWidthInPixels=function(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0},e.prototype._safeCallOnComputedHeight=function(t,r){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(r)}catch(i){He(i)}},e.prototype._safeCallOnDomNodeTop=function(t,r){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(r)}catch(i){He(i)}},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){for(var r=t.viewportData.whitespaceViewportData,i={},o=!1,s=0,a=r.length;s<a;s++)i[r[s].id]=r[s],o=!0;for(var u=Object.keys(this._zones),s=0,a=u.length;s<a;s++){var l=u[s],c=this._zones[l],d=0,h=0,p="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-t.bigNumbersDelta,h=i[l].height,p="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,t.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(h),c.domNode.setDisplay(p),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(h),c.marginDomNode.setDisplay(p))}o&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},e}(ga),lRe=function(){function n(e,t,r,i){this.configuration=e,this.theme=t,this.model=r,this.viewLayout=r.viewLayout,this.privateViewEventBus=i}return n.prototype.addEventHandler=function(e){this.privateViewEventBus.addEventHandler(e)},n.prototype.removeEventHandler=function(e){this.privateViewEventBus.removeEventHandler(e)},n}(),cRe=function(){function n(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return n.prototype.addEventHandler=function(e){for(var t=0,r=this._eventHandlers.length;t<r;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},n.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},n.prototype.emit=function(e){this._eventQueue?this._eventQueue.push(e):this._eventQueue=[e],this._isConsumingQueue||this.consumeQueue()},n.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},n.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},n.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),r=0,i=t.length;r<i;r++)t[r].handleEvents(e)}},n}(),fRe=function(){function n(e,t,r,i){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=r,this._model=i,this.visibleRange=new H(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}return n.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)},n.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},n}(),hRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YO=function(){throw new Error("Invalid change accessor")},dRe=function(n){hRe(e,n);function e(t,r,i,o,s,a){var u=n.call(this)||this;u._cursor=s,u._renderAnimationFrame=null,u.outgoingEvents=a;var l=new BOe(r,o,u.outgoingEvents,t);u.eventDispatcher=new cRe(function(C){return u._renderOnce(C)}),u.eventDispatcher.addEventHandler(u),u._context=new lRe(r,i.getTheme(),o,u.eventDispatcher),u._register(i.onThemeChange(function(C){u._context.theme=C,u.eventDispatcher.emit(new EOe),u.render(!0,!1)})),u.viewParts=[],u._textAreaHandler=new NOe(u._context,l,u.createTextAreaHandlerHelper()),u.viewParts.push(u._textAreaHandler),u.linesContent=wt(document.createElement("div")),u.linesContent.setClassName("lines-content monaco-editor-background"),u.linesContent.setPosition("absolute"),u.domNode=wt(document.createElement("div")),u.domNode.setClassName(u.getEditorClassName()),u.overflowGuardContainer=wt(document.createElement("div")),Dl.write(u.overflowGuardContainer,3),u.overflowGuardContainer.setClassName("overflow-guard"),u._scrollbar=new Cke(u._context,u.linesContent,u.domNode,u.overflowGuardContainer),u.viewParts.push(u._scrollbar),u.viewLines=new Ike(u._context,u.linesContent),u.viewZones=new uRe(u._context),u.viewParts.push(u.viewZones);var c=new qke(u._context);u.viewParts.push(c);var d=new Qke(u._context);u.viewParts.push(d);var h=new WOe(u._context);u.viewParts.push(h),h.addDynamicOverlay(new $Oe(u._context)),h.addDynamicOverlay(new iRe(u._context)),h.addDynamicOverlay(new Ske(u._context)),h.addDynamicOverlay(new QOe(u._context));var p=new UOe(u._context);u.viewParts.push(p),p.addDynamicOverlay(new YOe(u._context)),p.addDynamicOverlay(new wke(u._context)),p.addDynamicOverlay(new Oke(u._context)),p.addDynamicOverlay(new Lke(u._context)),p.addDynamicOverlay(new Ste(u._context));var v=new Tte(u._context);v.getDomNode().appendChild(u.viewZones.marginDomNode),v.getDomNode().appendChild(p.getDomNode()),u.viewParts.push(v),u.contentWidgets=new qOe(u._context,u.domNode),u.viewParts.push(u.contentWidgets),u.viewCursors=new sRe(u._context),u.viewParts.push(u.viewCursors),u.overlayWidgets=new Wke(u._context),u.viewParts.push(u.overlayWidgets);var m=new Yke(u._context);u.viewParts.push(m);var _=new Hke(u._context);if(u.viewParts.push(_),c){var b=u._scrollbar.getOverviewRulerLayoutInfo();b.parent.insertBefore(c.getDomNode(),b.insertBefore)}return u.linesContent.appendChild(h.getDomNode()),u.linesContent.appendChild(m.domNode),u.linesContent.appendChild(u.viewZones.domNode),u.linesContent.appendChild(u.viewLines.getDomNode()),u.linesContent.appendChild(u.contentWidgets.domNode),u.linesContent.appendChild(u.viewCursors.getDomNode()),u.overflowGuardContainer.appendChild(v.getDomNode()),u.overflowGuardContainer.appendChild(u._scrollbar.getDomNode()),u.overflowGuardContainer.appendChild(d.getDomNode()),u.overflowGuardContainer.appendChild(u._textAreaHandler.textArea),u.overflowGuardContainer.appendChild(u._textAreaHandler.textAreaCover),u.overflowGuardContainer.appendChild(u.overlayWidgets.getDomNode()),u.overflowGuardContainer.appendChild(_.getDomNode()),u.domNode.appendChild(u.overflowGuardContainer),u.domNode.appendChild(u.contentWidgets.overflowingContentWidgetsDomNode),u._setLayout(),u.pointerHandler=u._register(new lNe(u._context,l,u.createPointerHandlerHelper())),u._register(o.addEventListener(function(C){u.eventDispatcher.emitMany(C)})),u._register(u._cursor.addEventListener(function(C){u.eventDispatcher.emitMany(C)})),u}return e.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},e.prototype.createPointerHandlerHelper=function(){var t=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){t.focus()},getLastViewCursorsRenderData:function(){return t.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(r){return t.viewZones.shouldSuppressMouseDownOnViewZone(r)},shouldSuppressMouseDownOnWidget:function(r){return t.contentWidgets.shouldSuppressMouseDownOnWidget(r)},getPositionFromDOMInfo:function(r,i){return t._flushAccumulatedAndRenderNow(),t.viewLines.getPositionFromDOMInfo(r,i)},visibleRangeForPosition2:function(r,i){return t._flushAccumulatedAndRenderNow(),t.viewLines.visibleRangeForPosition(new J(r,i))},getLineWidth:function(r){return t._flushAccumulatedAndRenderNow(),t.viewLines.getLineWidth(r)}}},e.prototype.createTextAreaHandlerHelper=function(){var t=this;return{visibleRangeForPositionRelativeToEditor:function(r,i){return t._flushAccumulatedAndRenderNow(),t.viewLines.visibleRangeForPosition(new J(r,i))}}},e.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this.overflowGuardContainer.setWidth(t.width),this.overflowGuardContainer.setHeight(t.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},e.prototype.getEditorClassName=function(){var t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.editor.editorClassName+" "+PT(this._context.theme.type)+t},e.prototype.onConfigurationChanged=function(t){return t.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),t.layoutInfo&&this._setLayout(),!1},e.prototype.onFocusChanged=function(t){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(t.isFocused),t.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},e.prototype.onScrollChanged=function(t){return this.outgoingEvents.emitScrollChanged(t),!1},e.prototype.onThemeChanged=function(t){return this.domNode.setClassName(this.getEditorClassName()),!1},e.prototype.dispose=function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var t=0,r=this.viewParts.length;t<r;t++)this.viewParts[t].dispose();this.viewParts=[],n.prototype.dispose.call(this)},e.prototype._renderOnce=function(t){var r=Yq(t);return this._scheduleRender(),r},e.prototype._scheduleRender=function(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=kJ(this._onRenderScheduled.bind(this),100))},e.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},e.prototype._renderNow=function(){var t=this;Yq(function(){return t._actualRender()})},e.prototype._getViewPartsToRender=function(){for(var t=[],r=0,i=0,o=this.viewParts.length;i<o;i++){var s=this.viewParts[i];s.shouldRender()&&(t[r++]=s)}return t},e.prototype._actualRender=function(){if(gDe(this.domNode.domNode)){var t=this._getViewPartsToRender();if(!(!this.viewLines.shouldRender()&&t.length===0)){var r=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(r.startLineNumber,r.endLineNumber,r.centeredLineNumber);var i=new fRe(this._cursor.getViewSelections(),r,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),t=this._getViewPartsToRender());for(var o=new Uxe(this._context.viewLayout,i,this.viewLines),s=0,a=t.length;s<a;s++){var u=t[s];u.prepareRender(o)}for(var s=0,a=t.length;s<a;s++){var u=t[s];u.render(o),u.onDidRender()}}}},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this._scrollbar.delegateVerticalScrollbarMouseDown(t)},e.prototype.restoreState=function(t){this._context.viewLayout.setScrollPositionNow({scrollTop:t.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:t.scrollLeft})},e.prototype.getOffsetForColumn=function(t,r){var i=this._context.model.validateModelPosition({lineNumber:t,column:r}),o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var s=this.viewLines.visibleRangeForPosition(new J(o.lineNumber,o.column));return s?s.left:-1},e.prototype.getTargetAtClientPoint=function(t,r){return this.pointerHandler.getTargetAtClientPoint(t,r)},e.prototype.createOverviewRuler=function(t){return new $ke(this._context,t)},e.prototype.change=function(t){var r=this,i=!1;return this._renderOnce(function(){var o={addZone:function(s){return i=!0,r.viewZones.addZone(s)},removeZone:function(s){s&&(i=r.viewZones.removeZone(s)||i)},layoutZone:function(s){s&&(i=r.viewZones.layoutZone(s)||i)}};pRe(t,o),o.addZone=YO,o.removeZone=YO,o.layoutZone=YO,i&&(r._context.viewLayout.onHeightMaybeChanged(),r._context.privateViewEventBus.emit(new TOe))}),i},e.prototype.render=function(t,r){if(r){this.viewLines.forceShouldRender();for(var i=0,o=this.viewParts.length;i<o;i++){var s=this.viewParts[i];s.forceShouldRender()}}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()},e.prototype.focus=function(){this._textAreaHandler.focusTextArea()},e.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},e.prototype.addContentWidget=function(t){this.contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()},e.prototype.layoutContentWidget=function(t){var r=t.position?t.position.position:null,i=t.position&&t.position.range||null,o=t.position?t.position.preference:null;this.contentWidgets.setWidgetPosition(t.widget,r,i,o),this._scheduleRender()},e.prototype.removeContentWidget=function(t){this.contentWidgets.removeWidget(t.widget),this._scheduleRender()},e.prototype.addOverlayWidget=function(t){this.overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()},e.prototype.layoutOverlayWidget=function(t){var r=t.position?t.position.preference:null,i=this.overlayWidgets.setWidgetPosition(t.widget,r);i&&this._scheduleRender()},e.prototype.removeOverlayWidget=function(t){this.overlayWidgets.removeWidget(t.widget),this._scheduleRender()},e}(aC);function Yq(n){try{return n()}catch(e){He(e)}}function pRe(n,e){try{return n(e)}catch(t){He(t)}}var gRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vRe=function(n){gRe(e,n);function e(t){var r=n.call(this)||this;return r.onDidScroll=null,r.onDidGainFocus=null,r.onDidLoseFocus=null,r.onKeyDown=null,r.onKeyUp=null,r.onContextMenu=null,r.onMouseMove=null,r.onMouseLeave=null,r.onMouseUp=null,r.onMouseDown=null,r.onMouseDrag=null,r.onMouseDrop=null,r.onMouseWheel=null,r._viewModel=t,r}return e.prototype.emitScrollChanged=function(t){this.onDidScroll&&this.onDidScroll(t)},e.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},e.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},e.prototype.emitKeyDown=function(t){this.onKeyDown&&this.onKeyDown(t)},e.prototype.emitKeyUp=function(t){this.onKeyUp&&this.onKeyUp(t)},e.prototype.emitContextMenu=function(t){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseMove=function(t){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseLeave=function(t){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseUp=function(t){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDown=function(t){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDrag=function(t){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDrop=function(t){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseWheel=function(t){this.onMouseWheel&&this.onMouseWheel(t)},e.prototype._convertViewToModelMouseEvent=function(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t},e.prototype._convertViewToModelMouseTarget=function(t){return new mRe(t.element,t.type,t.mouseColumn,t.position?this._convertViewToModelPosition(t.position):null,t.range?this._convertViewToModelRange(t.range):null,t.detail)},e.prototype._convertViewToModelPosition=function(t){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)},e.prototype._convertViewToModelRange=function(t){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},e}(fe),mRe=function(){function n(e,t,r,i,o,s){this.element=e,this.type=t,this.mouseColumn=r,this.position=i,this.range=o,this.detail=s}return n.prototype.toString=function(){return ec.toString(this)},n}(),Xq=function(){function n(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new lo(new H(1,1,1,1),0,new J(1,1),0),new lo(new H(1,1,1,1),0,new J(1,1),0))}return n.prototype.dispose=function(e){this._removeTrackedRange(e)},n.prototype.startTrackingSelection=function(e){this._trackSelection=!0,this._updateTrackedRange(e)},n.prototype.stopTrackingSelection=function(e){this._trackSelection=!1,this._removeTrackedRange(e)},n.prototype._updateTrackedRange=function(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))},n.prototype._removeTrackedRange=function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)},n.prototype.asCursorState=function(){return new St(this.modelState,this.viewState)},n.prototype.readSelectionFromMarkers=function(e){var t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new Re(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new Re(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)},n.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)},n.prototype.setState=function(e,t,r){this._setState(e,t,r)},n.prototype._setState=function(e,t,r){if(t){var i=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new lo(i,s,o,a)}else{if(!r)return;var i=e.model.validateRange(e.convertViewRangeToModelRange(r.selectionStart)),o=e.model.validatePosition(e.convertViewPositionToModelPosition(r.position.lineNumber,r.position.column));t=new lo(i,r.selectionStartLeftoverVisibleColumns,o,r.leftoverVisibleColumns)}if(r){var c=e.validateViewRange(r.selectionStart,t.selectionStart),d=e.validateViewPosition(r.position,t.position);r=new lo(c,t.selectionStartLeftoverVisibleColumns,d,t.leftoverVisibleColumns)}else{var u=e.convertModelPositionToViewPosition(new J(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.convertModelPositionToViewPosition(new J(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),c=new H(u.lineNumber,u.column,l.lineNumber,l.column),d=e.convertModelPositionToViewPosition(t.position);r=new lo(c,t.selectionStartLeftoverVisibleColumns,d,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=r,this._updateTrackedRange(e)},n}(),Qq=function(){function n(e){this.context=e,this.primaryCursor=new Xq(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return n.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},n.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)},n.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)},n.prototype.updateContext=function(e){this.context=e},n.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)},n.prototype.readSelectionFromMarkers=function(){var e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e},n.prototype.getAll=function(){var e=[];e[0]=this.primaryCursor.asCursorState();for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e},n.prototype.getViewPositions=function(){var e=[];e[0]=this.primaryCursor.viewState.position;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e},n.prototype.getSelections=function(){var e=[];e[0]=this.primaryCursor.modelState.selection;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e},n.prototype.getViewSelections=function(){var e=[];e[0]=this.primaryCursor.viewState.selection;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e},n.prototype.setSelections=function(e){this.setStates(St.fromModelSelections(e))},n.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},n.prototype.setStates=function(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))},n.prototype._setSecondaryStates=function(e){var t=this.secondaryCursors.length,r=e.length;if(t<r)for(var i=r-t,o=0;o<i;o++)this._addSecondaryCursor();else if(t>r)for(var s=t-r,o=0;o<s;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var o=0;o<r;o++)this.secondaryCursors[o].setState(this.context,e[o].modelState,e[o].viewState)},n.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},n.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new Xq(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},n.prototype.getLastAddedCursorIndex=function(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex},n.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)},n.prototype._getAll=function(){var e=[];e[0]=this.primaryCursor;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t];return e},n.prototype.normalize=function(){if(this.secondaryCursors.length!==0){for(var e=this._getAll(),t=[],r=0,i=e.length;r<i;r++)t.push({index:r,selection:e[r].modelState.selection});t.sort(function(L,O){return L.selection.startLineNumber===O.selection.startLineNumber?L.selection.startColumn-O.selection.startColumn:L.selection.startLineNumber-O.selection.startLineNumber});for(var o=0;o<t.length-1;o++){var s=t[o],a=t[o+1],u=s.selection,l=a.selection;if(this.context.config.multiCursorMergeOverlapping){var c=void 0;if(l.isEmpty()||u.isEmpty()?c=l.getStartPosition().isBeforeOrEqual(u.getEndPosition()):c=l.getStartPosition().isBefore(u.getEndPosition()),c){var d=s.index<a.index?o:o+1,h=s.index<a.index?o+1:o,p=t[h].index,v=t[d].index,m=t[h].selection,_=t[d].selection;if(!m.equalsSelection(_)){var b=m.plusRange(_),C=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,E=_.selectionStartLineNumber===_.startLineNumber&&_.selectionStartColumn===_.startColumn,T=void 0;p===this.lastAddedCursorIndex?(T=C,this.lastAddedCursorIndex=v):T=E;var A=void 0;T?A=new Re(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):A=new Re(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn),t[d].selection=A;var S=St.fromModelSelection(A);e[v].setState(this.context,S.modelState,S.viewState)}for(var N=0,k=t;N<k.length;N++){var F=k[N];F.index>p&&F.index--}e.splice(p,1),t.splice(h,1),this._removeSecondaryCursor(p-1),o--}}}}},n}(),_Re=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function yRe(n){for(var e=0,t=n.length;e<t;e++)if(n[e].type===6)return!0;return!1}var bRe=function(){function n(e,t,r){this.selections=e,this.source=t,this.reason=r}return n}(),XO=function(){function n(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getAll()}return n.prototype.equals=function(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,r=this.cursorState.length;t<r;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0},n}(),QO=function(){function n(e,t,r){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=r}return n.getAllAutoClosedCharacters=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];t=t.concat(o.getAutoClosedCharactersRanges())}return t},n.prototype.dispose=function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])},n.prototype.getAutoClosedCharactersRanges=function(){for(var e=[],t=0;t<this._autoClosedCharactersDecorations.length;t++){var r=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);r&&e.push(r)}return e},n.prototype.isValid=function(e){for(var t=[],r=0;r<this._autoClosedEnclosingDecorations.length;r++){var i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[r]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(H.compareRangesUsingStarts),e.sort(H.compareRangesUsingStarts);for(var r=0;r<e.length;r++)if(r>=t.length||!t[r].strictContainsRange(e[r]))return!1;return!0},n}(),Zq=function(n){_Re(e,n);function e(t,r,i){var o=n.call(this)||this;o._onDidReachMaxCursorCount=o._register(new Q),o.onDidReachMaxCursorCount=o._onDidReachMaxCursorCount.event,o._onDidAttemptReadOnlyEdit=o._register(new Q),o.onDidAttemptReadOnlyEdit=o._onDidAttemptReadOnlyEdit.event,o._onDidChange=o._register(new Q),o.onDidChange=o._onDidChange.event,o._configuration=t,o._model=r,o._knownModelVersionId=o._model.getVersionId(),o._viewModel=i,o.context=new Nq(o._configuration,o._model,o._viewModel),o._cursors=new Qq(o.context),o._isHandling=!1,o._isDoingComposition=!1,o._columnSelectData=null,o._autoClosedActions=[],o._prevEditOperationType=0,o._register(o._model.onDidChangeRawContent(function(a){if(o._knownModelVersionId=a.versionId,!o._isHandling){var u=a.containsEvent(1);o._onModelContentChanged(u)}})),o._register(i.addEventListener(function(a){yRe(a)&&o._knownModelVersionId===o._model.getVersionId()&&o.setStates("viewModel",0,o.getAll())}));var s=function(){o.context=new Nq(o._configuration,o._model,o._viewModel),o._cursors.updateContext(o.context)};return o._register(o._model.onDidChangeLanguage(function(a){s()})),o._register(o._model.onDidChangeLanguageConfiguration(function(){s()})),o._register(o._model.onDidChangeOptions(function(){s()})),o._register(o._configuration.onDidChange(function(a){$ee.shouldRecreate(a)&&s()})),o}return e.prototype.dispose=function(){this._cursors.dispose(),this._autoClosedActions=nt(this._autoClosedActions),n.prototype.dispose.call(this)},e.prototype._validateAutoClosedActions=function(){if(this._autoClosedActions.length>0)for(var t=this._cursors.getSelections(),r=0;r<this._autoClosedActions.length;r++){var i=this._autoClosedActions[r];i.isValid(t)||(i.dispose(),this._autoClosedActions.splice(r,1),r--)}},e.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},e.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},e.prototype.getAll=function(){return this._cursors.getAll()},e.prototype.setStates=function(t,r,i){i!==null&&i.length>e.MAX_CURSOR_COUNT&&(i=i.slice(0,e.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var o=new XO(this._model,this);this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,r,o)},e.prototype.setColumnSelectData=function(t){this._columnSelectData=t},e.prototype.reveal=function(t,r,i){this._revealRange(r,0,t,i)},e.prototype.revealRange=function(t,r,i,o){this.emitCursorRevealRange(r,i,t,o)},e.prototype.scrollTo=function(t){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:t})},e.prototype.saveState=function(){for(var t=[],r=this._cursors.getSelections(),i=0,o=r.length;i<o;i++){var s=r[i];t.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return t},e.prototype.restoreState=function(t){for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i],a=1,u=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(u=s.position.column);var l=a,c=u;s.selectionStart&&s.selectionStart.lineNumber&&(l=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(c=s.selectionStart.column),r.push({selectionStartLineNumber:l,selectionStartColumn:c,positionLineNumber:a,positionColumn:u})}this.setStates("restoreState",0,St.fromModelSelections(r)),this.reveal(!0,0,1)},e.prototype._onModelContentChanged=function(t){if(this._prevEditOperationType=0,t)this._cursors.dispose(),this._cursors=new Qq(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary("model",1,null);else{var r=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,St.fromModelSelections(r))}},e.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},e.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var t=this._cursors.getPrimaryCursor(),r=t.viewState.position,i=r.lineNumber,o=hn.visibleColumnFromColumn2(this.context.config,this.context.viewModel,r);return{isReal:!1,fromViewLineNumber:i,fromViewVisualColumn:o,toViewLineNumber:i,toViewVisualColumn:o}},e.prototype.getSelections=function(){return this._cursors.getSelections()},e.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},e.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},e.prototype.setSelections=function(t,r){this.setStates(t,0,St.fromModelSelections(r))},e.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},e.prototype.setPrevEditOperationType=function(t){this._prevEditOperationType=t},e.prototype._pushAutoClosedAction=function(t,r){for(var i=[],o=[],s=0,a=t.length;s<a;s++)i.push({range:t[s],options:{inlineClassName:"auto-closed-character",stickiness:1}}),o.push({range:r[s],options:{stickiness:1}});var u=this._model.deltaDecorations([],i),l=this._model.deltaDecorations([],o);this._autoClosedActions.push(new QO(this._model,u,l))},e.prototype._executeEditOperation=function(t){if(t){t.shouldPushStackElementBefore&&this._model.pushStackElement();var r=CRe.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(r){this._interpretCommandResult(r);for(var i=[],o=[],s=0;s<t.commands.length;s++){var a=t.commands[s];a instanceof Ite&&a.enclosingRange&&a.closeCharacterRange&&(i.push(a.closeCharacterRange),o.push(a.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,o),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}},e.prototype._interpretCommandResult=function(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()},e.prototype._emitStateChangedIfNecessary=function(t,r,i){var o=new XO(this._model,this);if(o.equals(i))return!1;var s=this._cursors.getSelections(),a=this._cursors.getViewSelections();try{var u=this._beginEmit();u.emit(new bOe(a))}finally{this._endEmit()}return(!i||i.cursorState.length!==o.cursorState.length||o.cursorState.some(function(l,c){return!l.modelState.equals(i.cursorState[c].modelState)}))&&this._onDidChange.fire(new bRe(s,t||"keyboard",r)),!0},e.prototype._revealRange=function(t,r,i,o){var s=this._cursors.getViewPositions(),a=s[0];if(t===1)for(var u=1;u<s.length;u++)s[u].isBefore(a)&&(a=s[u]);else if(t===2)for(var u=1;u<s.length;u++)a.isBeforeOrEqual(s[u])&&(a=s[u]);else if(s.length>1)return;var l=new H(a.lineNumber,a.column,a.lineNumber,a.column);this.emitCursorRevealRange(l,r,i,o)},e.prototype.emitCursorRevealRange=function(t,r,i,o){try{var s=this._beginEmit();s.emit(new $6(t,r,i,o))}finally{this._endEmit()}},e.prototype._findAutoClosingPairs=function(t){if(!t.length)return null;for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i];if(!s.text||s.text.indexOf(`
`)>=0)return null;var a=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!a)return null;var u=a[1],l=this.context.config.autoClosingPairsClose2.get(u);if(!l||l.length!==1)return null;var c=l[0].open,d=s.text.length-a[2].length-1,h=s.text.lastIndexOf(c,d-1);if(h===-1)return null;r.push([h,d])}return r},e.prototype.executeEdits=function(t,r,i){var o=this,s=null;t==="snippet"&&(s=this._findAutoClosingPairs(r)),s&&(r[0]._isTracked=!0);var a=[],u=[],l=this._model.pushEditOperations(this.getSelections(),r,function(c){if(s)for(var d=0,h=s.length;d<h;d++){var p=s[d],v=p[0],m=p[1],_=c[d],b=_.range.startLineNumber,C=_.range.startColumn-1+v,E=_.range.startColumn-1+m;a.push(new H(b,E+1,b,E+2)),u.push(new H(b,C+1,b,E+2))}var T=i(c);return T&&(o._isHandling=!0),T});l&&(this._isHandling=!1,this.setSelections(t,l)),a.length>0&&this._pushAutoClosedAction(a,u)},e.prototype.trigger=function(t,r,i){var o=an;if(r===o.CompositionStart){this._isDoingComposition=!0;return}if(r===o.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.editor.readOnly){this._onDidAttemptReadOnlyEdit.fire(void 0);return}var s=new XO(this._model,this),a=0;r!==o.Undo&&r!==o.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(r){case o.Type:this._type(t,i.text);break;case o.ReplacePreviousChar:this._replacePreviousChar(i.text,i.replaceCharCnt);break;case o.Paste:a=4,this._paste(i.text,i.pasteOnNewLine,i.multicursorText);break;case o.Cut:this._cut();break;case o.Undo:a=5,this._interpretCommandResult(this._model.undo());break;case o.Redo:a=6,this._interpretCommandResult(this._model.redo());break;case o.ExecuteCommand:this._externalExecuteCommand(i);break;case o.ExecuteCommands:this._externalExecuteCommands(i);break;case o.CompositionEnd:this._interpretCompositionEnd(t);break}}catch(u){He(u)}this._isHandling=!1,r!==o.Undo&&r!==o.Redo&&this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,a,s)&&this._revealRange(0,0,!0,0)},e.prototype._interpretCompositionEnd=function(t){if(!this._isDoingComposition&&t==="keyboard"){var r=QO.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(cu.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),r))}},e.prototype._type=function(t,r){if(!this._isDoingComposition&&t==="keyboard")for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i),a=void 0;zo(s)&&i+1<o?(a=r.charAt(i)+r.charAt(i+1),i++):a=r.charAt(i);var u=QO.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(cu.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),u,a))}else this._executeEditOperation(cu.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),r))},e.prototype._replacePreviousChar=function(t,r){this._executeEditOperation(cu.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t,r))},e.prototype._paste=function(t,r,i){this._executeEditOperation(cu.paste(this.context.config,this.context.model,this.getSelections(),t,r,i))},e.prototype._cut=function(){this._executeEditOperation(BM.cut(this.context.config,this.context.model,this.getSelections()))},e.prototype._externalExecuteCommand=function(t){this._cursors.killSecondaryCursors(),this._executeEditOperation(new Bo(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e.prototype._externalExecuteCommands=function(t){this._executeEditOperation(new Bo(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e.MAX_CURSOR_COUNT=1e4,e}(Ate),CRe=function(){function n(){}return n.executeCommands=function(e,t,r){for(var i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(i,r),s=0,a=i.trackedRanges.length;s<a;s++)i.model._setTrackedRange(i.trackedRanges[s],null,0);return o},n._innerExecuteCommands=function(e,t){if(this._arrayIsEmpty(t))return null;var r=this._getEditOperations(e,t);if(r.operations.length===0)return null;var i=r.operations,o=this._getLoserCursorMap(i);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var s=[],a=0,u=i.length;a<u;a++)o.hasOwnProperty(i[a].identifier.major.toString())||s.push(i[a]);r.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);var l=e.model.pushEditOperations(e.selectionsBefore,s,function(m){for(var _=[],b=0;b<e.selectionsBefore.length;b++)_[b]=[];for(var C=0,E=m;C<E.length;C++){var T=E[C];T.identifier&&_[T.identifier.major].push(T)}for(var A=function(k,F){return k.identifier.minor-F.identifier.minor},S=[],N=function(k){_[k].length>0?(_[k].sort(A),S[k]=t[k].computeCursorState(e.model,{getInverseEditOperations:function(){return _[k]},getTrackedSelection:function(F){var L=parseInt(F,10),O=e.model._getTrackedRange(e.trackedRanges[L]);return e.trackedRangesDirection[L]===0?new Re(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new Re(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):S[k]=e.selectionsBefore[k]},b=0;b<e.selectionsBefore.length;b++)N(b);return S});l||(l=e.selectionsBefore);var c=[];for(var d in o)o.hasOwnProperty(d)&&c.push(parseInt(d,10));c.sort(function(m,_){return _-m});for(var h=0,p=c;h<p.length;h++){var v=p[h];l.splice(v,1)}return l},n._arrayIsEmpty=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t])return!1;return!0},n._getEditOperations=function(e,t){for(var r=[],i=!1,o=0,s=t.length;o<s;o++){var a=t[o];if(a){var u=this._getEditOperationsFromCommand(e,o,a);r=r.concat(u.operations),i=i||u.hadTrackedEditOperation}}return{operations:r,hadTrackedEditOperation:i}},n._getEditOperationsFromCommand=function(e,t,r){var i=[],o=0,s=function(d,h){d.isEmpty()&&h===""||i.push({identifier:{major:t,minor:o++},range:d,text:h,forceMoveMarkers:!1,isAutoWhitespaceEdit:r.insertsAutoWhitespace})},a=!1,u=function(d,h){a=!0,s(d,h)},l=function(d,h){var p;if(d.isEmpty())if(typeof h=="boolean")h?p=2:p=3;else{var v=e.model.getLineMaxColumn(d.startLineNumber);d.startColumn===v?p=2:p=3}else p=1;var m=e.trackedRanges.length,_=e.model._setTrackedRange(null,d,p);return e.trackedRanges[m]=_,e.trackedRangesDirection[m]=d.getDirection(),m.toString()},c={addEditOperation:s,addTrackedEditOperation:u,trackSelection:l};try{r.getEditOperations(e.model,c)}catch(d){return He(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:a}},n._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(u,l){return-H.compareRangesUsingEnds(u.range,l.range)});for(var t={},r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(i.range.getStartPosition().isBefore(o.range.getEndPosition())){var s=void 0;i.identifier.major>o.identifier.major?s=i.identifier.major:s=o.identifier.major,t[s.toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<r&&r--,a--);r>0&&r--}}return t},n}(),Hte=function(){function n(e,t,r,i,o,s){this.id=e,this.label=t,this.alias=r,this._precondition=i,this._run=o,this._contextKeyService=s}return n.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},n.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var e=this._run();return e||Promise.resolve(void 0)},n}(),Jq={getInitialState:function(){return oC},tokenize2:function(n,e,t){return p6(0,n,e,t)}};function ez(n,e){return e===void 0&&(e=Jq),ERe(n,e||Jq)}function wRe(n,e,t,r,i,o){for(var s="<div>",a=r,u=0,l=0,c=e.getCount();l<c;l++){var d=e.getEndOffset(l);if(!(d<=r)){for(var h="";a<d&&a<i;a++){var p=n.charCodeAt(a);switch(p){case 9:var v=o-(a+u)%o;for(u+=v-1;v>0;)h+="&nbsp;",v--;break;case 60:h+="&lt;";break;case 62:h+="&gt;";break;case 38:h+="&amp;";break;case 0:h+="&#00;";break;case 65279:case 8232:h+="";break;case 13:h+="&#8203";break;case 32:h+="&nbsp;";break;default:h+=String.fromCharCode(p)}}if(s+='<span style="'+e.getInlineStyle(l,t)+'">'+h+"</span>",d>i||a>=i)break}}return s+="</div>",s}function ERe(n,e){for(var t='<div class="monaco-tokenized-source">',r=n.split(/\r\n|\r|\n/),i=e.getInitialState(),o=0,s=r.length;o<s;o++){var a=r[o];o>0&&(t+="<br/>");var u=e.tokenize2(a,i,0);pu.convertToEndOffset(u.tokens,a.length);for(var l=new pu(u.tokens,a),c=l.inflate(),d=0,h=0,p=c.getCount();h<p;h++){var v=c.getClassName(h),m=c.getEndOffset(h);t+='<span class="'+v+'">'+ra(a.substring(d,m))+"</span>",d=m}i=u.endState}return t+="</div>",t}var SRe=function(){function n(){this._instanceId=KJ(++n.INSTANCE_COUNT),this._heights=[],this._minWidths=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0,this._minWidth=-1}return n.findInsertionIndex=function(e,t,r,i){for(var o=0,s=e.length;o<s;){var a=o+s>>>1;t===e[a]?i<r[a]?s=a:o=a+1:t<e[a]?s=a:o=a+1}return o},n.prototype.insertWhitespace=function(e,t,r,i){e=e|0,t=t|0,r=r|0,i=i|0;var o=this._instanceId+ ++this._lastWhitespaceId,s=n.findInsertionIndex(this._afterLineNumbers,e,this._ordinals,t);return this._insertWhitespaceAtIndex(o,s,e,t,r,i),this._minWidth=-1,o},n.prototype._insertWhitespaceAtIndex=function(e,t,r,i,o,s){t=t|0,r=r|0,i=i|0,o=o|0,s=s|0,this._heights.splice(t,0,o),this._minWidths.splice(t,0,s),this._ids.splice(t,0,e),this._afterLineNumbers.splice(t,0,r),this._ordinals.splice(t,0,i),this._prefixSum.splice(t,0,0);for(var a=Object.keys(this._whitespaceId2Index),u=0,l=a.length;u<l;u++){var c=a[u],d=this._whitespaceId2Index[c];d>=t&&(this._whitespaceId2Index[c]=d+1)}this._whitespaceId2Index[e]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)},n.prototype.changeWhitespace=function(e,t,r){t=t|0,r=r|0;var i=!1;return i=this.changeWhitespaceHeight(e,r)||i,i=this.changeWhitespaceAfterLineNumber(e,t)||i,i},n.prototype.changeWhitespaceHeight=function(e,t){if(t=t|0,this._whitespaceId2Index.hasOwnProperty(e)){var r=this._whitespaceId2Index[e];if(this._heights[r]!==t)return this._heights[r]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1),!0}return!1},n.prototype.changeWhitespaceAfterLineNumber=function(e,t){if(t=t|0,this._whitespaceId2Index.hasOwnProperty(e)){var r=this._whitespaceId2Index[e];if(this._afterLineNumbers[r]!==t){var i=this._ordinals[r],o=this._heights[r],s=this._minWidths[r];this.removeWhitespace(e);var a=n.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,i);return this._insertWhitespaceAtIndex(e,a,t,i,o,s),!0}}return!1},n.prototype.removeWhitespace=function(e){if(this._whitespaceId2Index.hasOwnProperty(e)){var t=this._whitespaceId2Index[e];return delete this._whitespaceId2Index[e],this._removeWhitespaceAtIndex(t),this._minWidth=-1,!0}return!1},n.prototype._removeWhitespaceAtIndex=function(e){e=e|0,this._heights.splice(e,1),this._minWidths.splice(e,1),this._ids.splice(e,1),this._afterLineNumbers.splice(e,1),this._ordinals.splice(e,1),this._prefixSum.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1);for(var t=Object.keys(this._whitespaceId2Index),r=0,i=t.length;r<i;r++){var o=t[r],s=this._whitespaceId2Index[o];s>=e&&(this._whitespaceId2Index[o]=s-1)}},n.prototype.onLinesDeleted=function(e,t){e=e|0,t=t|0;for(var r=0,i=this._afterLineNumbers.length;r<i;r++){var o=this._afterLineNumbers[r];e<=o&&o<=t?this._afterLineNumbers[r]=e-1:o>t&&(this._afterLineNumbers[r]-=t-e+1)}},n.prototype.onLinesInserted=function(e,t){e=e|0,t=t|0;for(var r=0,i=this._afterLineNumbers.length;r<i;r++){var o=this._afterLineNumbers[r];e<=o&&(this._afterLineNumbers[r]+=t-e+1)}},n.prototype.getTotalHeight=function(){return this._heights.length===0?0:this.getAccumulatedHeight(this._heights.length-1)},n.prototype.getAccumulatedHeight=function(e){e=e|0;var t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._prefixSum[0]=this._heights[0],t++);for(var r=t;r<=e;r++)this._prefixSum[r]=this._prefixSum[r-1]+this._heights[r];return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._prefixSum[e]},n.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e=e|0;var t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getAccumulatedHeight(t)},n.prototype._findLastWhitespaceBeforeLineNumber=function(e){e=e|0;for(var t=this._afterLineNumbers,r=0,i=t.length-1;r<=i;){var o=i-r|0,s=o/2|0,a=r+s|0;if(t[a]<e){if(a+1>=t.length||t[a+1]>=e)return a;r=a+1|0}else i=a-1|0}return-1},n.prototype._findFirstWhitespaceAfterLineNumber=function(e){e=e|0;var t=this._findLastWhitespaceBeforeLineNumber(e),r=t+1;return r<this._heights.length?r:-1},n.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e=e|0,this._findFirstWhitespaceAfterLineNumber(e)},n.prototype.getCount=function(){return this._heights.length},n.prototype.getMinWidth=function(){if(this._minWidth===-1){for(var e=0,t=0,r=this._minWidths.length;t<r;t++)e=Math.max(e,this._minWidths[t]);this._minWidth=e}return this._minWidth},n.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e=e|0,this._afterLineNumbers[e]},n.prototype.getIdForWhitespaceIndex=function(e){return e=e|0,this._ids[e]},n.prototype.getHeightForWhitespaceIndex=function(e){return e=e|0,this._heights[e]},n.prototype.getWhitespaces=function(e){e=e|0;for(var t=[],r=0;r<this._heights.length;r++)t.push({id:this._ids[r],afterLineNumber:this._afterLineNumbers[r],heightInLines:this._heights[r]/e});return t},n.INSTANCE_COUNT=0,n}(),TRe=function(){function n(e,t){this._lineCount=e,this._lineHeight=t,this._whitespaces=new SRe}return n.prototype.setLineHeight=function(e){this._lineHeight=e},n.prototype.onFlushed=function(e){this._lineCount=e},n.prototype.insertWhitespace=function(e,t,r,i){return this._whitespaces.insertWhitespace(e,t,r,i)},n.prototype.changeWhitespace=function(e,t,r){return this._whitespaces.changeWhitespace(e,t,r)},n.prototype.removeWhitespace=function(e){return this._whitespaces.removeWhitespace(e)},n.prototype.onLinesDeleted=function(e,t){this._lineCount-=t-e+1,this._whitespaces.onLinesDeleted(e,t)},n.prototype.onLinesInserted=function(e,t){this._lineCount+=t-e+1,this._whitespaces.onLinesInserted(e,t)},n.prototype.getLinesTotalHeight=function(){var e=this._lineHeight*this._lineCount,t=this._whitespaces.getTotalHeight();return e+t},n.prototype.getVerticalOffsetForLineNumber=function(e){e=e|0;var t;e>1?t=this._lineHeight*(e-1):t=0;var r=this._whitespaces.getAccumulatedHeightBeforeLineNumber(e);return t+r},n.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},n.prototype.getWhitespaceMinWidth=function(){return this._whitespaces.getMinWidth()},n.prototype.isAfterLines=function(e){var t=this.getLinesTotalHeight();return e>t},n.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){if(e=e|0,e<0)return 1;for(var t=this._lineCount|0,r=this._lineHeight,i=1,o=t;i<o;){var s=(i+o)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+r)i=s+1;else{if(e>=a)return s;o=s}}return i>t?t:i},n.prototype.getLinesViewportData=function(e,t){e=e|0,t=t|0;var r=this._lineHeight,i=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(i)|0,s=this._lineCount|0,a=this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(i)|0,u=this._whitespaces.getCount()|0,l,c;a===-1?(a=u,c=s+1,l=0):(c=this._whitespaces.getAfterLineNumberForWhitespaceIndex(a)|0,l=this._whitespaces.getHeightForWhitespaceIndex(a)|0);var d=o,h=d,p=5e5,v=0;o>=p&&(v=Math.floor(o/p)*p,v=Math.floor(v/r)*r,h-=v);for(var m=[],_=e+(t-e)/2,b=-1,C=i;C<=s;C++){if(b===-1){var E=d,T=d+r;(E<=_&&_<T||E>_)&&(b=C)}for(d+=r,m[C-i]=h,h+=r;c===C;)h+=l,d+=l,a++,a>=u?c=s+1:(c=this._whitespaces.getAfterLineNumberForWhitespaceIndex(a)|0,l=this._whitespaces.getHeightForWhitespaceIndex(a)|0);if(d>=t){s=C;break}}b===-1&&(b=s);var A=this.getVerticalOffsetForLineNumber(s)|0,S=i,N=s;return S<N&&o<e&&S++,S<N&&A+r>t&&N--,{bigNumbersDelta:v,startLineNumber:i,endLineNumber:s,relativeVerticalOffset:m,centeredLineNumber:b,completelyVisibleStartLineNumber:S,completelyVisibleEndLineNumber:N}},n.prototype.getVerticalOffsetForWhitespaceIndex=function(e){e=e|0;var t=this._whitespaces.getAfterLineNumberForWhitespaceIndex(e),r;t>=1?r=this._lineHeight*t:r=0;var i;return e>0?i=this._whitespaces.getAccumulatedHeight(e-1):i=0,r+i},n.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){e=e|0;var t,r=0,i=this._whitespaces.getCount()-1,o,s;if(i<0)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(i),u=this._whitespaces.getHeightForWhitespaceIndex(i);if(e>=a+u)return-1;for(;r<i;)if(t=Math.floor((r+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(t),s=this._whitespaces.getHeightForWhitespaceIndex(t),e>=o+s)r=t+1;else{if(e>=o)return t;i=t}return r},n.prototype.getWhitespaceAtVerticalOffset=function(e){e=e|0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this._whitespaces.getCount())return null;var r=this.getVerticalOffsetForWhitespaceIndex(t);if(r>e)return null;var i=this._whitespaces.getHeightForWhitespaceIndex(t),o=this._whitespaces.getIdForWhitespaceIndex(t),s=this._whitespaces.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:s,verticalOffset:r,height:i}},n.prototype.getWhitespaceViewportData=function(e,t){e=e|0,t=t|0;var r=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this._whitespaces.getCount()-1;if(r<0)return[];for(var o=[],s=r;s<=i;s++){var a=this.getVerticalOffsetForWhitespaceIndex(s),u=this._whitespaces.getHeightForWhitespaceIndex(s);if(a>=t)break;o.push({id:this._whitespaces.getIdForWhitespaceIndex(s),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:u})}return o},n.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},n}(),DRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ARe=125,IRe=function(n){DRe(e,n);function e(t,r,i){var o=n.call(this)||this;return o._configuration=t,o._linesLayout=new TRe(r,o._configuration.editor.lineHeight),o.scrollable=o._register(new Rte(0,i)),o._configureSmoothScrollDuration(),o.scrollable.setScrollDimensions({width:t.editor.layoutInfo.contentWidth,height:t.editor.layoutInfo.contentHeight}),o.onDidScroll=o.scrollable.onScroll,o._updateHeight(),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.onHeightMaybeChanged=function(){this._updateHeight()},e.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.editor.viewInfo.smoothScrolling?ARe:0)},e.prototype.onConfigurationChanged=function(t){t.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),t.layoutInfo&&this.scrollable.setScrollDimensions({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),t.viewInfo&&this._configureSmoothScrollDuration(),this._updateHeight()},e.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t)},e.prototype.onLinesDeleted=function(t,r){this._linesLayout.onLinesDeleted(t,r)},e.prototype.onLinesInserted=function(t,r){this._linesLayout.onLinesInserted(t,r)},e.prototype._getHorizontalScrollbarHeight=function(t){return this._configuration.editor.viewInfo.scrollbar.horizontal===2||t.width>=t.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},e.prototype._getTotalHeight=function(){var t=this.scrollable.getScrollDimensions(),r=this._linesLayout.getLinesTotalHeight();return this._configuration.editor.viewInfo.scrollBeyondLastLine?r+=t.height-this._configuration.editor.lineHeight:r+=this._getHorizontalScrollbarHeight(t),Math.max(t.height,r)},e.prototype._updateHeight=function(){this.scrollable.setScrollDimensions({scrollHeight:this._getTotalHeight()})},e.prototype.getCurrentViewport=function(){var t=this.scrollable.getScrollDimensions(),r=this.scrollable.getCurrentScrollPosition();return new $j(r.scrollTop,r.scrollLeft,t.width,t.height)},e.prototype.getFutureViewport=function(){var t=this.scrollable.getScrollDimensions(),r=this.scrollable.getFutureScrollPosition();return new $j(r.scrollTop,r.scrollLeft,t.width,t.height)},e.prototype._computeScrollWidth=function(t,r){var i=this._configuration.editor.wrappingInfo.isViewportWrapping;if(!i){var o=this._configuration.editor.viewInfo.scrollBeyondLastColumn*this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+o,r,s)}return Math.max(t,r)},e.prototype.onMaxLineWidthChanged=function(t){var r=this._computeScrollWidth(t,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:r}),this._updateHeight()},e.prototype.saveState=function(){var t=this.scrollable.getFutureScrollPosition(),r=t.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r),o=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:r,scrollTopWithoutViewZones:r-o,scrollLeft:t.scrollLeft}},e.prototype.addWhitespace=function(t,r,i,o){return this._linesLayout.insertWhitespace(t,r,i,o)},e.prototype.changeWhitespace=function(t,r,i){return this._linesLayout.changeWhitespace(t,r,i)},e.prototype.removeWhitespace=function(t){return this._linesLayout.removeWhitespace(t)},e.prototype.getVerticalOffsetForLineNumber=function(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)},e.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)},e.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)},e.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)},e.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)},e.prototype.getLinesViewportDataAtScrollTop=function(t){var r=this.scrollable.getScrollDimensions();return t+r.height>r.scrollHeight&&(t=r.scrollHeight-r.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+r.height)},e.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)},e.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},e.prototype.getScrollWidth=function(){var t=this.scrollable.getScrollDimensions();return t.scrollWidth},e.prototype.getScrollHeight=function(){var t=this.scrollable.getScrollDimensions();return t.scrollHeight},e.prototype.getCurrentScrollLeft=function(){var t=this.scrollable.getCurrentScrollPosition();return t.scrollLeft},e.prototype.getCurrentScrollTop=function(){var t=this.scrollable.getCurrentScrollPosition();return t.scrollTop},e.prototype.validateScrollPosition=function(t){return this.scrollable.validateScrollPosition(t)},e.prototype.setScrollPositionNow=function(t){this.scrollable.setScrollPositionNow(t)},e.prototype.setScrollPositionSmooth=function(t){this.scrollable.setScrollPositionSmooth(t)},e.prototype.deltaScrollNow=function(t,r){var i=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+t,scrollTop:i.scrollTop+r})},e}(fe),xRe=function(){function n(e,t){this.outputLineIndex=e,this.outputOffset=t}return n}(),LRe=function(){function n(e){this._lines=e}return n.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},n.prototype.convertViewRangeToModelRange=function(e){var t=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new H(t.lineNumber,t.column,r.lineNumber,r.column)},n.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},n.prototype.validateViewRange=function(e,t){var r=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new H(r.lineNumber,r.column,i.lineNumber,i.column)},n.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},n.prototype.convertModelRangeToViewRange=function(e){var t=this._lines.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),r=this._lines.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new H(t.lineNumber,t.column,r.lineNumber,r.column)},n.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},n}(),NRe=function(){function n(e,t,r,i,o,s){this.model=e,this._validModelVersionId=-1,this.tabSize=r,this.wrappingColumn=i,this.columnsForFullWidthChar=o,this.wrappingIndent=s,this.linePositionMapperFactory=t,this._constructLines(!0)}return n.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},n.prototype.createCoordinatesConverter=function(){return new LRe(this)},n.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId)throw new Error("ViewModel is out of sync with Model!");this.lines.length!==this.model.getLineCount()&&this._constructLines(!1)},n.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var r=this.model.getLinesContent(),i=r.length,o=new Uint32Array(i),s=this.hiddenAreasIds.map(function(m){return t.model.getDecorationRange(m)}).sort(H.compareRangesUsingStarts),a=1,u=0,l=-1,c=l+1<s.length?u+1:i+2,d=0;d<i;d++){var h=d+1;h===c&&(l++,a=s[l].startLineNumber,u=s[l].endLineNumber,c=l+1<s.length?u+1:i+2);var p=h>=a&&h<=u,v=ZO(this.linePositionMapperFactory,r[d],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!p);o[d]=v.getViewLineCount(),this.lines[d]=v}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new T2e(o)},n.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)})},n.prototype._reduceRanges=function(e){var t=this;if(e.length===0)return[];for(var r=e.map(function(c){return t.model.validateRange(c)}).sort(H.compareRangesUsingStarts),i=[],o=r[0].startLineNumber,s=r[0].endLineNumber,a=1,u=r.length;a<u;a++){var l=r[a];l.startLineNumber>s+1?(i.push(new H(o,1,s,1)),o=l.startLineNumber,s=l.endLineNumber):l.endLineNumber>s&&(s=l.endLineNumber)}return i.push(new H(o,1,s,1)),i},n.prototype.setHiddenAreas=function(e){var t=this,r=this._reduceRanges(e),i=this.hiddenAreasIds.map(function(T){return t.model.getDecorationRange(T)}).sort(H.compareRangesUsingStarts);if(r.length===i.length){for(var o=!1,s=0;s<r.length;s++)if(!r[s].equalsRange(i[s])){o=!0;break}if(!o)return!1}for(var a=[],u=0,l=r;u<l.length;u++){var c=l[u];a.push({range:c,options:mt.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,a);for(var d=r,h=1,p=0,v=-1,m=v+1<d.length?p+1:this.lines.length+2,_=!1,s=0;s<this.lines.length;s++){var b=s+1;b===m&&(v++,h=d[v].startLineNumber,p=d[v].endLineNumber,m=v+1<d.length?p+1:this.lines.length+2);var C=!1;if(b>=h&&b<=p?this.lines[s].isVisible()&&(this.lines[s]=this.lines[s].setVisible(!1),C=!0):(_=!0,this.lines[s].isVisible()||(this.lines[s]=this.lines[s].setVisible(!0),C=!0)),C){var E=this.lines[s].getViewLineCount();this.prefixSumComputer.changeValue(s,E)}}return _||this.setHiddenAreas([]),!0},n.prototype.modelPositionIsVisible=function(e,t){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()},n.prototype.setTabSize=function(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1),!0)},n.prototype.setWrappingSettings=function(e,t,r){return this.wrappingIndent===e&&this.wrappingColumn===t&&this.columnsForFullWidthChar===r?!1:(this.wrappingIndent=e,this.wrappingColumn=t,this.columnsForFullWidthChar=r,this._constructLines(!1),!0)},n.prototype.onModelFlushed=function(){this._constructLines(!0)},n.prototype.onModelLinesDeleted=function(e,t,r){if(e<=this._validModelVersionId)return null;var i=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(r-1);return this.lines.splice(t-1,r-t+1),this.prefixSumComputer.removeValues(t-1,r-t+1),new PM(i,o)},n.prototype.onModelLinesInserted=function(e,t,r,i){if(e<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),s=!1,a=new J(t,1),u=0,l=o;u<l.length;u++){var c=l[u];if(c.containsPosition(a)){s=!0;break}}for(var d=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=0,p=[],v=new Uint32Array(i.length),m=0,_=i.length;m<_;m++){var b=ZO(this.linePositionMapperFactory,i[m],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!s);p.push(b);var C=b.getViewLineCount();h+=C,v[m]=C}return this.lines=this.lines.slice(0,t-1).concat(p).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,v),new MM(d,d+h-1)},n.prototype.onModelLineChanged=function(e,t,r){if(e<=this._validModelVersionId)return[!1,null,null,null];var i=t-1,o=this.lines[i].getViewLineCount(),s=this.lines[i].isVisible(),a=ZO(this.linePositionMapperFactory,r,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,s);this.lines[i]=a;var u=this.lines[i].getViewLineCount(),l=!1,c=0,d=-1,h=0,p=-1,v=0,m=-1;o>u?(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=c+u-1,v=d+1,m=v+(o-u)-1,l=!0):o<u?(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=c+o-1,h=d+1,p=h+(u-o)-1,l=!0):(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=c+u-1),this.prefixSumComputer.changeValue(i,u);var _=c<=d?new Dte(c,d):null,b=h<=p?new MM(h,p):null,C=v<=m?new PM(v,m):null;return[l,_,b,C]},n.prototype.acceptVersionId=function(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])},n.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},n.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:e},n.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)},n.prototype.getActiveIndentGuide=function(e,t,r){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),r=this._toValidViewLineNumber(r);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),a=this.model.getActiveIndentGuide(i.lineNumber,o.lineNumber,s.lineNumber),u=this.convertModelPositionToViewPosition(a.startLineNumber,1),l=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:u.lineNumber,endLineNumber:l.lineNumber,indent:a.indent}},n.prototype.getViewLinesIndentGuides=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],s=[],a=[],u=r.lineNumber-1,l=i.lineNumber-1,c=null,d=u;d<=l;d++){var h=this.lines[d];if(h.isVisible()){var p=h.getViewLineNumberOfModelPosition(0,d===u?r.column:1),v=h.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(d+1)),m=v-p+1,_=0;m>1&&h.getViewLineMinColumn(this.model,d+1,v)===1&&(_=p===0?1:2),s.push(m),a.push(_),c===null&&(c=new J(d+1,0))}else c!==null&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,d)),c=null)}c!==null&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,i.lineNumber)),c=null);for(var b=t-e+1,C=new Array(b),E=0,T=0,A=o.length;T<A;T++){var S=o[T],m=Math.min(b-E,s[T]),_=a[T],N=void 0;_===2?N=0:_===1?N=1:N=m;for(var k=0;k<m;k++)k===N&&(S=0),C[E++]=S}return C},n.prototype.getViewLineContent=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineContent(this.model,r+1,i)},n.prototype.getViewLineLength=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineLength(this.model,r+1,i)},n.prototype.getViewLineMinColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineMinColumn(this.model,r+1,i)},n.prototype.getViewLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineMaxColumn(this.model,r+1,i)},n.prototype.getViewLineData=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineData(this.model,r+1,i)},n.prototype.getViewLinesData=function(e,t,r){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.prefixSumComputer.getIndexOf(e-1),o=e,s=i.index,a=i.remainder,u=[],l=s,c=this.model.getLineCount();l<c;l++){var d=this.lines[l];if(d.isVisible()){var h=l===s?a:0,p=d.getViewLineCount()-h,v=!1;o+p>t&&(v=!0,p=t-o+1);var m=h+p;if(d.getViewLinesData(this.model,l+1,h,m,o-e,r,u),o+=p,v)break}}return u},n.prototype.validateViewPosition=function(e,t,r){this._ensureValidState(),e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),o=i.index,s=i.remainder,a=this.lines[o],u=a.getViewLineMinColumn(this.model,o+1,s),l=a.getViewLineMaxColumn(this.model,o+1,s);t<u&&(t=u),t>l&&(t=l);var c=a.getModelColumnOfViewPosition(s,t),d=this.model.validatePosition(new J(o+1,c));return d.equals(r)?new J(e,t):this.convertModelPositionToViewPosition(r.lineNumber,r.column)},n.prototype.convertViewPositionToModelPosition=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e);var r=this.prefixSumComputer.getIndexOf(e-1),i=r.index,o=r.remainder,s=this.lines[i].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new J(i+1,s))},n.prototype.convertModelPositionToViewPosition=function(e,t){this._ensureValidState();for(var r=this.model.validatePosition(new J(e,t)),i=r.lineNumber,o=r.column,s=i-1,a=!1;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(s===0&&!this.lines[s].isVisible())return new J(1,1);var u=1+(s===0?0:this.prefixSumComputer.getAccumulatedValue(s-1)),l;return a?l=this.lines[s].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(s+1)):l=this.lines[i-1].getViewPositionOfModelPosition(u,o),l},n.prototype._getViewLineNumberForModelPosition=function(e,t){var r=e-1;if(this.lines[r].isVisible()){var i=1+(r===0?0:this.prefixSumComputer.getAccumulatedValue(r-1));return this.lines[r].getViewLineNumberOfModelPosition(i,t)}for(;r>0&&!this.lines[r].isVisible();)r--;if(r===0&&!this.lines[r].isVisible())return 1;var o=1+(r===0?0:this.prefixSumComputer.getAccumulatedValue(r-1));return this.lines[r].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(r+1))},n.prototype.getAllOverviewRulerDecorations=function(e,t,r){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new Ute,s=0,a=i;s<a.length;s++){var u=a[s],l=u.options.overviewRuler,c=l?l.position:0;if(c!==0){var d=l.getColor(r),h=this._getViewLineNumberForModelPosition(u.range.startLineNumber,u.range.startColumn),p=this._getViewLineNumberForModelPosition(u.range.endLineNumber,u.range.endColumn);o.accept(d,h,p,c)}}return o.result},n.prototype.getDecorationsInRange=function(e,t,r){var i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new H(i.lineNumber,1,o.lineNumber,o.column),t,r);for(var s=[],a=i.lineNumber-1,u=o.lineNumber-1,l=null,c=a;c<=u;c++){var d=this.lines[c];if(d.isVisible())l===null&&(l=new J(c+1,c===a?i.column:1));else if(l!==null){var h=this.model.getLineMaxColumn(c);s=s.concat(this.model.getDecorationsInRange(new H(l.lineNumber,l.column,c,h),t,r)),l=null}}l!==null&&(s=s.concat(this.model.getDecorationsInRange(new H(l.lineNumber,l.column,o.lineNumber,o.column),t,r)),l=null),s.sort(function(T,A){var S=H.compareRangesUsingStarts(T.range,A.range);return S===0?T.id<A.id?-1:T.id>A.id?1:0:S});for(var p=[],v=0,m=null,_=0,b=s;_<b.length;_++){var C=b[_],E=C.id;m!==E&&(m=E,p[v++]=C)}return p},n}(),Vte=function(){function n(){}return n.prototype.isVisible=function(){return!0},n.prototype.setVisible=function(e){return e?this:Wte.INSTANCE},n.prototype.getViewLineCount=function(){return 1},n.prototype.getViewLineContent=function(e,t,r){return e.getLineContent(t)},n.prototype.getViewLineLength=function(e,t,r){return e.getLineLength(t)},n.prototype.getViewLineMinColumn=function(e,t,r){return e.getLineMinColumn(t)},n.prototype.getViewLineMaxColumn=function(e,t,r){return e.getLineMaxColumn(t)},n.prototype.getViewLineData=function(e,t,r){var i=e.getLineTokens(t),o=i.getLineContent();return new b6(o,!1,1,o.length+1,i.inflate())},n.prototype.getViewLinesData=function(e,t,r,i,o,s,a){if(!s[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)},n.prototype.getModelColumnOfViewPosition=function(e,t){return t},n.prototype.getViewPositionOfModelPosition=function(e,t){return new J(e,t)},n.prototype.getViewLineNumberOfModelPosition=function(e,t){return e},n.INSTANCE=new n,n}(),Wte=function(){function n(){}return n.prototype.isVisible=function(){return!1},n.prototype.setVisible=function(e){return e?Vte.INSTANCE:this},n.prototype.getViewLineCount=function(){return 0},n.prototype.getViewLineContent=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineLength=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineMinColumn=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineMaxColumn=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineData=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLinesData=function(e,t,r,i,o,s,a){throw new Error("Not supported")},n.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")},n.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")},n.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error("Not supported")},n.INSTANCE=new n,n}(),ORe=function(){function n(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return n.prototype.isVisible=function(){return this._isVisible},n.prototype.setVisible=function(e){return this._isVisible=e,this},n.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},n.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},n.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,r){return r+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(r+1,0)},n.prototype.getViewLineContent=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(r),o=this.getInputEndOffsetOfOutputLineIndex(e,t,r),s=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});return r>0&&(s=this.wrappedIndent+s),s},n.prototype.getViewLineLength=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(r),o=this.getInputEndOffsetOfOutputLineIndex(e,t,r),s=o-i;return r>0&&(s=this.wrappedIndent.length+s),s},n.prototype.getViewLineMinColumn=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");return r>0?this.wrappedIndentLength+1:1},n.prototype.getViewLineMaxColumn=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,r).length+1},n.prototype.getViewLineData=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(r),o=this.getInputEndOffsetOfOutputLineIndex(e,t,r),s=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});r>0&&(s=this.wrappedIndent+s);var a=r>0?this.wrappedIndentLength+1:1,u=s.length+1,l=r+1<this.getViewLineCount(),c=0;r>0&&(c=this.wrappedIndentLength);var d=e.getLineTokens(t);return new b6(s,l,a,u,d.sliceAndInflate(i,o,c))},n.prototype.getViewLinesData=function(e,t,r,i,o,s,a){if(!this._isVisible)throw new Error("Not supported");for(var u=r;u<i;u++){var l=o+u-r;if(!s[l]){a[l]=null;continue}a[l]=this.getViewLineData(e,t,u)}},n.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var r=t-1;return e>0&&(r<this.wrappedIndentLength?r=0:r-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,r)+1},n.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var r=this.positionMapper.getOutputPositionOfInputOffset(t-1),i=r.outputLineIndex,o=r.outputOffset+1;return i>0&&(o+=this.wrappedIndentLength),new J(e+i,o)},n.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var r=this.positionMapper.getOutputPositionOfInputOffset(t-1);return e+r.outputLineIndex},n}();function ZO(n,e,t,r,i,o,s){var a=n.createLineMapping(e,t,r,i,o);return a===null?s?Vte.INSTANCE:Wte.INSTANCE:new ORe(a,s)}var kRe=function(){function n(e){this._lines=e}return n.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)},n.prototype._validRange=function(e){return this._lines.model.validateRange(e)},n.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)},n.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)},n.prototype.validateViewPosition=function(e,t){return this._validPosition(t)},n.prototype.validateViewRange=function(e,t){return this._validRange(t)},n.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)},n.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)},n.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)},n}(),RRe=function(){function n(e){this.model=e}return n.prototype.dispose=function(){},n.prototype.createCoordinatesConverter=function(){return new kRe(this)},n.prototype.getHiddenAreas=function(){return[]},n.prototype.setHiddenAreas=function(e){return!1},n.prototype.setTabSize=function(e){return!1},n.prototype.setWrappingSettings=function(e,t,r){return!1},n.prototype.onModelFlushed=function(){},n.prototype.onModelLinesDeleted=function(e,t,r){return new PM(t,r)},n.prototype.onModelLinesInserted=function(e,t,r,i){return new MM(t,r)},n.prototype.onModelLineChanged=function(e,t,r){return[!1,new Dte(t,t),null,null]},n.prototype.acceptVersionId=function(e){},n.prototype.getViewLineCount=function(){return this.model.getLineCount()},n.prototype.warmUpLookupCache=function(e,t){},n.prototype.getActiveIndentGuide=function(e,t,r){return{startLineNumber:e,endLineNumber:e,indent:0}},n.prototype.getViewLinesIndentGuides=function(e,t){for(var r=t-e+1,i=new Array(r),o=0;o<r;o++)i[o]=0;return i},n.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)},n.prototype.getViewLineLength=function(e){return this.model.getLineLength(e)},n.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)},n.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},n.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e),r=t.getLineContent();return new b6(r,!1,1,r.length+1,t.inflate())},n.prototype.getViewLinesData=function(e,t,r){var i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);for(var o=[],s=e;s<=t;s++){var a=s-e;r[a]||(o[a]=null),o[a]=this.getViewLineData(s)}return o},n.prototype.getAllOverviewRulerDecorations=function(e,t,r){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new Ute,s=0,a=i;s<a.length;s++){var u=a[s],l=u.options.overviewRuler,c=l?l.position:0;if(c!==0){var d=l.getColor(r),h=u.range.startLineNumber,p=u.range.endLineNumber;o.accept(d,h,p,c)}}return o.result},n.prototype.getDecorationsInRange=function(e,t,r){return this.model.getDecorationsInRange(e,t,r)},n}(),Ute=function(){function n(){this.result=Object.create(null)}return n.prototype.accept=function(e,t,r,i){var o=this.result[e];if(o){var s=o[o.length-3],a=o[o.length-1];if(s===i&&a+1>=t){r>a&&(o[o.length-1]=r);return}o.push(i,t,r)}else this.result[e]=[i,t,r]},n}(),PRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MRe=function(n){PRe(e,n);function e(t,r,i){for(var o=n.call(this,0)||this,s=0;s<t.length;s++)o.set(t.charCodeAt(s),1);for(var s=0;s<r.length;s++)o.set(r.charCodeAt(s),2);for(var s=0;s<i.length;s++)o.set(i.charCodeAt(s),3);return o}return e.prototype.get=function(t){return t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?4:n.prototype.get.call(this,t)},e}(n2),FRe=function(){function n(e,t,r){this.classifier=new MRe(e,t,r)}return n.nextVisibleColumn=function(e,t,r,i){return e=+e,t=+t,i=+i,r?e+(t-e%t):e+i},n.prototype.createLineMapping=function(e,t,r,i,o){if(r===-1)return null;t=+t,r=+r,i=+i,o=+o;var s=0,a="",u=-1;if(o!==0&&(u=Ss(e),u!==-1)){a=e.substring(0,u);for(var l=0;l<u;l++)s=n.nextVisibleColumn(s,t,e.charCodeAt(l)===9,1);var c=0;o===2?c=1:o===3&&(c=2);for(var l=0;l<c;l++)a+="	",s=n.nextVisibleColumn(s,t,!0,1);s+i>r&&(a="",s=0)}for(var d=this.classifier,h=0,p=[],v=0,m=0,_=-1,b=0,C=-1,E=0,T=e.length,l=0;l<T;l++){var A=e.charCodeAt(l),S=A===9,N=d.get(A);if(e6(A)){m=m+1;continue}if(N===1&&(_=l,b=s),N===4&&l>0){var k=e.charCodeAt(l-1),F=d.get(k);F!==1&&(_=l,b=s)}var L=1;if(Lc(A)&&(L=i),m=n.nextVisibleColumn(m,t,S,L),m>r&&l!==0){var O=void 0,P=void 0;_!==-1&&b<=r?(O=_,P=b):C!==-1&&E<=r?(O=C,P=E):(O=l,P=s),p[v++]=O-h,h=O,m=n.nextVisibleColumn(P,t,S,L),_=-1,b=0,C=-1,E=0}if(_!==-1&&(b=n.nextVisibleColumn(b,t,S,L)),C!==-1&&(E=n.nextVisibleColumn(E,t,S,L)),N===2&&(o===0||l>=u)&&(_=l+1,b=s),N===4&&l<T-1){var B=e.charCodeAt(l+1),U=d.get(B);U!==2&&(_=l+1,b=s)}N===3&&(C=l+1,E=s)}return v===0?null:(p[v++]=T-h,new BRe(new v6(E2e(p)),a))},n}(),BRe=function(){function n(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return n.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},n.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},n.prototype.getInputOffsetOfOutputPosition=function(e,t){return e===0?t:this._prefixSums.getAccumulatedValue(e-1)+t},n.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new xRe(t.index,t.remainder)},n}(),HRe=function(){function n(e,t,r,i,o){this.editorId=e,this.model=t,this.configuration=r,this._linesCollection=i,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return n.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},n.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id,r=this._decorationsCache[t];if(!r){var i=e.range,o=e.options,s=void 0;if(o.isWholeLine){var a=this._coordinatesConverter.convertModelPositionToViewPosition(new J(i.startLineNumber,1)),u=this._coordinatesConverter.convertModelPositionToViewPosition(new J(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)));s=new H(a.lineNumber,a.column,u.lineNumber,u.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(i);r=new sIe(s,o),this._decorationsCache[t]=r}return r},n.prototype.getDecorationsViewportData=function(e){var t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},n.prototype._getDecorationsViewportData=function(e){for(var t=this._linesCollection.getDecorationsInRange(e,this.editorId,this.configuration.editor.readOnly),r=e.startLineNumber,i=e.endLineNumber,o=[],s=0,a=[],u=r;u<=i;u++)a[u-r]=[];for(var l=0,c=t.length;l<c;l++){var d=t[l],h=d.options,p=this._getOrCreateViewModelDecoration(d),v=p.range;if(o[s++]=p,h.inlineClassName)for(var m=new ES(v,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(r,v.startLineNumber),b=Math.min(i,v.endLineNumber),u=_;u<=b;u++)a[u-r].push(m);if(h.beforeContentClassName&&r<=v.startLineNumber&&v.startLineNumber<=i){var m=new ES(new H(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn),h.beforeContentClassName,1);a[v.startLineNumber-r].push(m)}if(h.afterContentClassName&&r<=v.endLineNumber&&v.endLineNumber<=i){var m=new ES(new H(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn),h.afterContentClassName,2);a[v.endLineNumber-r].push(m)}}return{decorations:o,inlineDecorations:a}},n}(),VRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WRe=function(n){VRe(e,n);function e(t,r,i,o){var s=n.call(this)||this;if(s.editorId=t,s.configuration=r,s.model=i,s._tokenizeViewportSoon=s._register(new Pr(function(){return s.tokenizeViewport()},50)),s.hasFocus=!1,s.viewportStartLine=-1,s.viewportStartLineTrackedRange=null,s.viewportStartLineDelta=0,s.model.isTooLargeForTokenization())s.lines=new RRe(s.model);else{var a=s.configuration.editor,u=new FRe(a.wrappingInfo.wordWrapBreakBeforeCharacters,a.wrappingInfo.wordWrapBreakAfterCharacters,a.wrappingInfo.wordWrapBreakObtrusiveCharacters);s.lines=new NRe(s.model,u,s.model.getOptions().tabSize,a.wrappingInfo.wrappingColumn,a.fontInfo.typicalFullwidthCharacterWidth/a.fontInfo.typicalHalfwidthCharacterWidth,a.wrappingInfo.wrappingIndent)}return s.coordinatesConverter=s.lines.createCoordinatesConverter(),s.viewLayout=s._register(new IRe(s.configuration,s.getLineCount(),o)),s._register(s.viewLayout.onDidScroll(function(l){l.scrollTopChanged&&s._tokenizeViewportSoon.schedule();try{var c=s._beginEmit();c.emit(new COe(l))}finally{s._endEmit()}})),s.decorations=new HRe(s.editorId,s.model,s.configuration,s.lines,s.coordinatesConverter),s._registerModelEvents(),s._register(s.configuration.onDidChange(function(l){try{var c=s._beginEmit();s._onConfigurationChanged(c,l)}finally{s._endEmit()}})),s._register(Fte.getInstance().onDidChange(function(){try{var l=s._beginEmit();l.emit(new SOe)}finally{s._endEmit()}})),s}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},e.prototype.tokenizeViewport=function(){var t=this.viewLayout.getLinesViewportData(),r=this.coordinatesConverter.convertViewPositionToModelPosition(new J(t.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new J(t.endLineNumber,1));this.model.tokenizeViewport(r.lineNumber,i.lineNumber)},e.prototype.setHasFocus=function(t){this.hasFocus=t},e.prototype._onConfigurationChanged=function(t,r){var i=null;if(this.viewportStartLine!==-1){var o=new J(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(o)}var s=!1,a=this.configuration.editor;if(this.lines.setWrappingSettings(a.wrappingInfo.wrappingIndent,a.wrappingInfo.wrappingColumn,a.fontInfo.typicalFullwidthCharacterWidth/a.fontInfo.typicalHalfwidthCharacterWidth)&&(t.emit(new DE),t.emit(new AE),t.emit(new sv),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(s=!0)),r.readOnly&&(this.decorations.reset(),t.emit(new sv)),t.emit(new yOe(r)),this.viewLayout.onConfigurationChanged(r),s&&i){var u=this.coordinatesConverter.convertModelPositionToViewPosition(i),l=this.viewLayout.getVerticalOffsetForLineNumber(u.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:l+this.viewportStartLineDelta})}},e.prototype._registerModelEvents=function(){var t=this;this._register(this.model.onDidChangeRawContentFast(function(r){try{for(var i=t._beginEmit(),o=!1,s=!1,a=r.changes,u=r.versionId,l=0,c=a.length;l<c;l++){var d=a[l];switch(d.changeType){case 1:{t.lines.onModelFlushed(),i.emit(new DE),t.decorations.reset(),t.viewLayout.onFlushed(t.getLineCount()),o=!0;break}case 3:{var h=t.lines.onModelLinesDeleted(u,d.fromLineNumber,d.toLineNumber);h!==null&&(i.emit(h),t.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),o=!0;break}case 4:{var p=t.lines.onModelLinesInserted(u,d.fromLineNumber,d.toLineNumber,d.detail);p!==null&&(i.emit(p),t.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),o=!0;break}case 2:{var v=t.lines.onModelLineChanged(u,d.lineNumber,d.detail),m=v[0],_=v[1],p=v[2],h=v[3];s=m,_&&i.emit(_),p&&(i.emit(p),t.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),h&&(i.emit(h),t.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber));break}case 5:break}}t.lines.acceptVersionId(u),t.viewLayout.onHeightMaybeChanged(),!o&&s&&(i.emit(new AE),i.emit(new sv),t.decorations.onLineMappingChanged())}finally{t._endEmit()}if(t.viewportStartLine=-1,t.configuration.setMaxLineNumber(t.model.getLineCount()),!t.hasFocus&&t.model.getAttachedEditorCount()>=2&&t.viewportStartLineTrackedRange){var b=t.model._getTrackedRange(t.viewportStartLineTrackedRange);if(b){var C=t.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),E=t.viewLayout.getVerticalOffsetForLineNumber(C.lineNumber);t.viewLayout.setScrollPositionNow({scrollTop:E+t.viewportStartLineDelta})}}})),this._register(this.model.onDidChangeTokens(function(r){for(var i=[],o=0,s=r.ranges.length;o<s;o++){var a=r.ranges[o],u=t.coordinatesConverter.convertModelPositionToViewPosition(new J(a.fromLineNumber,1)).lineNumber,l=t.coordinatesConverter.convertModelPositionToViewPosition(new J(a.toLineNumber,t.model.getLineMaxColumn(a.toLineNumber))).lineNumber;i[o]={fromLineNumber:u,toLineNumber:l}}try{var c=t._beginEmit();c.emit(new wOe(i))}finally{t._endEmit()}r.tokenizationSupportChanged&&t._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(function(r){try{var i=t._beginEmit();i.emit(new DOe)}finally{t._endEmit()}})),this._register(this.model.onDidChangeOptions(function(r){if(t.lines.setTabSize(t.model.getOptions().tabSize)){t.decorations.onLineMappingChanged(),t.viewLayout.onFlushed(t.getLineCount());try{var i=t._beginEmit();i.emit(new DE),i.emit(new AE),i.emit(new sv)}finally{t._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(r){t.decorations.onModelDecorationsChanged();try{var i=t._beginEmit();i.emit(new sv)}finally{t._endEmit()}}))},e.prototype.setHiddenAreas=function(t){try{var r=this._beginEmit(),i=this.lines.setHiddenAreas(t);i&&(r.emit(new DE),r.emit(new AE),r.emit(new sv),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},e.prototype.getVisibleRanges=function(){var t=this.getCompletelyVisibleViewRange(),r=this.coordinatesConverter.convertViewRangeToModelRange(t),i=this.lines.getHiddenAreas();if(i.length===0)return[r];for(var o=[],s=0,a=r.startLineNumber,u=r.startColumn,l=r.endLineNumber,c=r.endColumn,d=0,h=i.length;d<h;d++){var p=i[d].startLineNumber,v=i[d].endLineNumber;v<a||p>l||(a<p&&(o[s++]=new H(a,u,p-1,this.model.getLineMaxColumn(p-1))),a=v+1,u=1)}return(a<l||a===l&&u<c)&&(o[s++]=new H(a,u,l,c)),o},e.prototype.getCompletelyVisibleViewRange=function(){var t=this.viewLayout.getLinesViewportData(),r=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new H(r,this.getLineMinColumn(r),i,this.getLineMaxColumn(i))},e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){var r=this.viewLayout.getLinesViewportDataAtScrollTop(t),i=r.completelyVisibleStartLineNumber,o=r.completelyVisibleEndLineNumber;return new H(i,this.getLineMinColumn(i),o,this.getLineMaxColumn(o))},e.prototype.saveState=function(){var t=this.viewLayout.saveState(),r=t.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(r),o=this.coordinatesConverter.convertViewPositionToModelPosition(new J(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-r;return{scrollLeft:t.scrollLeft,firstPosition:o,firstPositionDeltaTop:s}},e.prototype.reduceRestoreState=function(t){if(typeof t.firstPosition>"u")return this._reduceRestoreStateCompatibility(t);var r=this.model.validatePosition(t.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(r),o=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:o}},e.prototype._reduceRestoreStateCompatibility=function(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}},e.prototype.getTabSize=function(){return this.model.getOptions().tabSize},e.prototype.getOptions=function(){return this.model.getOptions()},e.prototype.getLineCount=function(){return this.lines.getViewLineCount()},e.prototype.setViewport=function(t,r,i){this.lines.warmUpLookupCache(t,r),this.viewportStartLine=t;var o=this.coordinatesConverter.convertViewPositionToModelPosition(new J(t,this.getLineMinColumn(t)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new H(o.lineNumber,o.column,o.lineNumber,o.column),1);var s=this.viewLayout.getVerticalOffsetForLineNumber(t),a=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=a-s},e.prototype.getActiveIndentGuide=function(t,r,i){return this.lines.getActiveIndentGuide(t,r,i)},e.prototype.getLinesIndentGuides=function(t,r){return this.lines.getViewLinesIndentGuides(t,r)},e.prototype.getLineContent=function(t){return this.lines.getViewLineContent(t)},e.prototype.getLineLength=function(t){return this.lines.getViewLineLength(t)},e.prototype.getLineMinColumn=function(t){return this.lines.getViewLineMinColumn(t)},e.prototype.getLineMaxColumn=function(t){return this.lines.getViewLineMaxColumn(t)},e.prototype.getLineFirstNonWhitespaceColumn=function(t){var r=Ss(this.getLineContent(t));return r===-1?0:r+1},e.prototype.getLineLastNonWhitespaceColumn=function(t){var r=Lh(this.getLineContent(t));return r===-1?0:r+2},e.prototype.getDecorationsInViewport=function(t){return this.decorations.getDecorationsViewportData(t).decorations},e.prototype.getViewLineRenderingData=function(t,r){var i=this.model.mightContainRTL(),o=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),a=this.lines.getViewLineData(r),u=this.decorations.getDecorationsViewportData(t).inlineDecorations,l=u[r-t.startLineNumber];return new Su(a.minColumn,a.maxColumn,a.content,a.continuesWithWrappedLine,i,o,a.tokens,l,s)},e.prototype.getViewLineData=function(t){return this.lines.getViewLineData(t)},e.prototype.getMinimapLinesRenderingData=function(t,r,i){var o=this.lines.getViewLinesData(t,r,i);return new oIe(this.getTabSize(),o)},e.prototype.getAllOverviewRulerDecorations=function(t){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.editor.readOnly,t)},e.prototype.invalidateOverviewRulerColorCache=function(){for(var t=this.model.getOverviewRulerDecorations(),r=0,i=t;r<i.length;r++){var o=i[r],s=o.options.overviewRuler;s&&s.invalidateCachedColor()}},e.prototype.invalidateMinimapColorCache=function(){for(var t=this.model.getAllDecorations(),r=0,i=t;r<i.length;r++){var o=i[r],s=o.options.minimap;s&&s.invalidateCachedColor()}},e.prototype.getValueInRange=function(t,r){var i=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(i,r)},e.prototype.getModelLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)},e.prototype.validateModelPosition=function(t){return this.model.validatePosition(t)},e.prototype.validateModelRange=function(t){return this.model.validateRange(t)},e.prototype.deduceModelPositionRelativeToViewPosition=function(t,r,i){var o=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(r<0?r-=i:r+=i);var s=this.model.getOffsetAt(o),a=s+r;return this.model.getPositionAt(a)},e.prototype.getEOL=function(){return this.model.getEOL()},e.prototype.getPlainTextToCopy=function(t,r,i){var o=this,s=i?`\r
`:this.model.getEOL();t=t.slice(0),t.sort(H.compareRangesUsingStarts);var a=t.filter(function(m){return!m.isEmpty()});if(a.length===0){if(!r)return"";for(var u=t.map(function(m){var _=new J(m.startLineNumber,1);return o.coordinatesConverter.convertViewPositionToModelPosition(_).lineNumber}),l="",c=0;c<u.length;c++)c>0&&u[c-1]===u[c]||(l+=this.model.getLineContent(u[c])+s);return l}for(var d=[],h=0,p=a;h<p.length;h++){var v=p[h];d.push(this.getValueInRange(v,i?2:0))}return d.length===1?d[0]:d},e.prototype.getHTMLToCopy=function(t,r){if(this.model.getLanguageIdentifier().id===1||t.length!==1)return null;var i=this.coordinatesConverter.convertViewRangeToModelRange(t[0]);if(i.isEmpty()){if(!r)return null;var o=i.startLineNumber;i=new H(o,this.model.getLineMinColumn(o),o,this.model.getLineMaxColumn(o))}var s=this.configuration.editor.fontInfo,a=this._getColorMap(),u=s.fontFamily===Zd.fontFamily?s.fontFamily:"'"+s.fontFamily+"', "+Zd.fontFamily;return'<div style="'+("color: "+a[1]+";")+("background-color: "+a[2]+";")+("font-family: "+u+";")+("font-weight: "+s.fontWeight+";")+("font-size: "+s.fontSize+"px;")+("line-height: "+s.lineHeight+"px;")+'white-space: pre;">'+this._getHTMLToCopy(i,a)+"</div>"},e.prototype._getHTMLToCopy=function(t,r){for(var i=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn,u=this.getTabSize(),l="",c=i;c<=s;c++){var d=this.model.getLineTokens(c),h=d.getLineContent(),p=c===i?o-1:0,v=c===s?a-1:h.length;h===""?l+="<br>":l+=wRe(h,d.inflate(),r,p,v,u)}return l},e.prototype._getColorMap=function(){var t=Bn.getColorMap(),r=["#000000"];if(t)for(var i=1,o=t.length;i<o;i++)r[i]=se.Format.CSS.formatHex(t[i]);return r},e}(Ate),km=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var r=0,i=e;r<i.length;r++){var o=i[r],s=o[0],a=o[1];this.set(s,a)}}return n.prototype.set=function(e,t){var r=this._entries.get(e);return this._entries.set(e,t),r},n.prototype.has=function(e){return this._entries.has(e)},n.prototype.get=function(e){return this._entries.get(e)},n}(),Ml=qt("accessibilityService"),fC=new Ke("accessibilityModeEnabled",!1),hC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),URe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yd=function(n,e){return function(t,r){e(t,r,n)}},jRe=0,zT="showUnused",qRe=function(){function n(e,t,r,i,o,s){this.model=e,this.viewModel=t,this.cursor=r,this.view=i,this.hasRealView=o,this.listenersToRemove=s}return n.prototype.dispose=function(){nt(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},n}(),Z6=function(n){hC(e,n);function e(t,r,i,o,s,a,u,l,c,d){var h=n.call(this)||this;h._onDidDispose=h._register(new Q),h.onDidDispose=h._onDidDispose.event,h._onDidChangeModelContent=h._register(new Q),h.onDidChangeModelContent=h._onDidChangeModelContent.event,h._onDidChangeModelLanguage=h._register(new Q),h.onDidChangeModelLanguage=h._onDidChangeModelLanguage.event,h._onDidChangeModelLanguageConfiguration=h._register(new Q),h.onDidChangeModelLanguageConfiguration=h._onDidChangeModelLanguageConfiguration.event,h._onDidChangeModelOptions=h._register(new Q),h.onDidChangeModelOptions=h._onDidChangeModelOptions.event,h._onDidChangeModelDecorations=h._register(new Q),h.onDidChangeModelDecorations=h._onDidChangeModelDecorations.event,h._onDidChangeConfiguration=h._register(new Q),h.onDidChangeConfiguration=h._onDidChangeConfiguration.event,h._onDidChangeModel=h._register(new Q),h.onDidChangeModel=h._onDidChangeModel.event,h._onDidChangeCursorPosition=h._register(new Q),h.onDidChangeCursorPosition=h._onDidChangeCursorPosition.event,h._onDidChangeCursorSelection=h._register(new Q),h.onDidChangeCursorSelection=h._onDidChangeCursorSelection.event,h._onDidAttemptReadOnlyEdit=h._register(new Q),h.onDidAttemptReadOnlyEdit=h._onDidAttemptReadOnlyEdit.event,h._onDidLayoutChange=h._register(new Q),h.onDidLayoutChange=h._onDidLayoutChange.event,h._editorTextFocus=h._register(new tz),h.onDidFocusEditorText=h._editorTextFocus.onDidChangeToTrue,h.onDidBlurEditorText=h._editorTextFocus.onDidChangeToFalse,h._editorWidgetFocus=h._register(new tz),h.onDidFocusEditorWidget=h._editorWidgetFocus.onDidChangeToTrue,h.onDidBlurEditorWidget=h._editorWidgetFocus.onDidChangeToFalse,h._onWillType=h._register(new Q),h.onWillType=h._onWillType.event,h._onDidType=h._register(new Q),h.onDidType=h._onDidType.event,h._onCompositionStart=h._register(new Q),h.onCompositionStart=h._onCompositionStart.event,h._onCompositionEnd=h._register(new Q),h.onCompositionEnd=h._onCompositionEnd.event,h._onDidPaste=h._register(new Q),h.onDidPaste=h._onDidPaste.event,h._onMouseUp=h._register(new Q),h.onMouseUp=h._onMouseUp.event,h._onMouseDown=h._register(new Q),h.onMouseDown=h._onMouseDown.event,h._onMouseDrag=h._register(new Q),h.onMouseDrag=h._onMouseDrag.event,h._onMouseDrop=h._register(new Q),h.onMouseDrop=h._onMouseDrop.event,h._onContextMenu=h._register(new Q),h.onContextMenu=h._onContextMenu.event,h._onMouseMove=h._register(new Q),h.onMouseMove=h._onMouseMove.event,h._onMouseLeave=h._register(new Q),h.onMouseLeave=h._onMouseLeave.event,h._onMouseWheel=h._register(new Q),h.onMouseWheel=h._onMouseWheel.event,h._onKeyUp=h._register(new Q),h.onKeyUp=h._onKeyUp.event,h._onKeyDown=h._register(new Q),h.onKeyDown=h._onKeyDown.event,h._onDidScrollChange=h._register(new Q),h.onDidScrollChange=h._onDidScrollChange.event,h._onDidChangeViewZones=h._register(new Q),h.onDidChangeViewZones=h._onDidChangeViewZones.event,h._domElement=t,h._id=++jRe,h._decorationTypeKeysToIds={},h._decorationTypeSubtypes={},h.isSimpleWidget=i.isSimpleWidget||!1,h._telemetryData=i.telemetryData,r=r||{},h._configuration=h._register(h._createConfiguration(r,d)),h._register(h._configuration.onDidChange(function(C){h._onDidChangeConfiguration.fire(C),C.layoutInfo&&h._onDidLayoutChange.fire(h._configuration.editor.layoutInfo),h._configuration.editor.showUnused?h._domElement.classList.add(zT):h._domElement.classList.remove(zT)})),h._contextKeyService=h._register(u.createScoped(h._domElement)),h._notificationService=c,h._codeEditorService=s,h._commandService=a,h._themeService=l,h._register(new zRe(h,h._contextKeyService)),h._register(new GRe(h,h._contextKeyService)),h._instantiationService=o.createChild(new km([yt,h._contextKeyService])),h._modelData=null,h._contributions={},h._actions={},h._focusTracker=new $Re(t),h._focusTracker.onChange(function(){h._editorWidgetFocus.setValue(h._focusTracker.hasFocus())}),h._contentWidgets={},h._overlayWidgets={};var p;Array.isArray(i.contributions)?p=i.contributions:p=$y.getEditorContributions();for(var v=0,m=p.length;v<m;v++){var _=p[v];try{var b=h._instantiationService.createInstance(_,h);h._contributions[b.getId()]=b}catch(C){He(C)}}return $y.getEditorActions().forEach(function(C){var E=new Hte(C.id,C.label,C.alias,qA(C.precondition),function(){return h._instantiationService.invokeFunction(function(T){return Promise.resolve(C.runEditorCommand(T,h,null))})},h._contextKeyService);h._actions[E.id]=E}),h._codeEditorService.addCodeEditor(h),h}return e.prototype._createConfiguration=function(t,r){return new fa(this.isSimpleWidget,t,this._domElement,r)},e.prototype.getId=function(){return this.getEditorType()+":"+this._id},e.prototype.getEditorType=function(){return QA.ICodeEditor},e.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),r=0,i=t.length;r<i;r++){var o=t[r];this._contributions[o].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),n.prototype.dispose.call(this)},e.prototype.invokeWithinContext=function(t){return this._instantiationService.invokeFunction(t)},e.prototype.updateOptions=function(t){this._configuration.updateOptions(t)},e.prototype.getConfiguration=function(){return this._configuration.editor},e.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},e.prototype.getValue=function(t){if(t===void 0&&(t=null),!this._modelData)return"";var r=!!(t&&t.preserveBOM),i=0;return t&&t.lineEnding&&t.lineEnding===`
`?i=1:t&&t.lineEnding&&t.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,r)},e.prototype.setValue=function(t){this._modelData&&this._modelData.model.setValue(t)},e.prototype.getModel=function(){return this._modelData?this._modelData.model:null},e.prototype.setModel=function(t){t===void 0&&(t=null);var r=t;if(!(this._modelData===null&&r===null)&&!(this._modelData&&this._modelData.model===r)){var i=this._detachModel();this._attachModel(r);var o={oldModelUrl:i?i.uri:null,newModelUrl:r?r.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(i)}},e.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var r=this._decorationTypeSubtypes[t];for(var i in r)this._removeDecorationType(t+"-"+i)}this._decorationTypeSubtypes={}}},e.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},e.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},e._getVerticalOffsetForPosition=function(t,r,i){var o=t.model.validatePosition({lineNumber:r,column:i}),s=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)},e.prototype.getTopForLineNumber=function(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1},e.prototype.getTopForPosition=function(t,r){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,r):-1},e.prototype.setHiddenAreas=function(t){this._modelData&&this._modelData.viewModel.setHiddenAreas(t.map(function(r){return H.lift(r)}))},e.prototype.getVisibleColumnFromPosition=function(t){if(!this._modelData)return t.column;var r=this._modelData.model.validatePosition(t),i=this._modelData.model.getOptions().tabSize;return hn.visibleColumnFromColumn(this._modelData.model.getLineContent(r.lineNumber),r.column,i)+1},e.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},e.prototype.setPosition=function(t){if(this._modelData){if(!J.isIPosition(t))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}},e.prototype._sendRevealRange=function(t,r,i,o){if(this._modelData){if(!H.isIRange(t))throw new Error("Invalid arguments");var s=this._modelData.model.validateRange(t),a=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.cursor.emitCursorRevealRange(a,r,i,o)}},e.prototype.revealLine=function(t,r){r===void 0&&(r=0),this._revealLine(t,0,r)},e.prototype.revealLineInCenter=function(t,r){r===void 0&&(r=0),this._revealLine(t,1,r)},e.prototype.revealLineInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this._revealLine(t,2,r)},e.prototype._revealLine=function(t,r,i){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new H(t,1,t,1),r,!1,i)},e.prototype.revealPosition=function(t,r){r===void 0&&(r=0),this._revealPosition(t,0,!0,r)},e.prototype.revealPositionInCenter=function(t,r){r===void 0&&(r=0),this._revealPosition(t,1,!0,r)},e.prototype.revealPositionInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this._revealPosition(t,2,!0,r)},e.prototype._revealPosition=function(t,r,i,o){if(!J.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new H(t.lineNumber,t.column,t.lineNumber,t.column),r,i,o)},e.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},e.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},e.prototype.setSelection=function(t){var r=Re.isISelection(t),i=H.isIRange(t);if(!r&&!i)throw new Error("Invalid arguments");if(r)this._setSelectionImpl(t);else if(i){var o={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(o)}},e.prototype._setSelectionImpl=function(t){if(this._modelData){var r=new Re(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.cursor.setSelections("api",[r])}},e.prototype.revealLines=function(t,r,i){i===void 0&&(i=0),this._revealLines(t,r,0,i)},e.prototype.revealLinesInCenter=function(t,r,i){i===void 0&&(i=0),this._revealLines(t,r,1,i)},e.prototype.revealLinesInCenterIfOutsideViewport=function(t,r,i){i===void 0&&(i=0),this._revealLines(t,r,2,i)},e.prototype._revealLines=function(t,r,i,o){if(typeof t!="number"||typeof r!="number")throw new Error("Invalid arguments");this._sendRevealRange(new H(t,1,r,1),i,!1,o)},e.prototype.revealRange=function(t,r,i,o){r===void 0&&(r=0),i===void 0&&(i=!1),o===void 0&&(o=!0),this._revealRange(t,i?1:0,o,r)},e.prototype.revealRangeInCenter=function(t,r){r===void 0&&(r=0),this._revealRange(t,1,!0,r)},e.prototype.revealRangeInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this._revealRange(t,2,!0,r)},e.prototype.revealRangeAtTop=function(t,r){r===void 0&&(r=0),this._revealRange(t,3,!0,r)},e.prototype._revealRange=function(t,r,i,o){if(!H.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(H.lift(t),r,i,o)},e.prototype.setSelections=function(t,r){if(r===void 0&&(r="api"),!!this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(var i=0,o=t.length;i<o;i++)if(!Re.isISelection(t[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(r,t)}},e.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},e.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},e.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},e.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},e.prototype.setScrollLeft=function(t){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:t})}},e.prototype.setScrollTop=function(t){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:t})}},e.prototype.setScrollPosition=function(t){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(t)},e.prototype.saveViewState=function(){if(!this._modelData)return null;for(var t={},r=Object.keys(this._contributions),i=0,o=r;i<o.length;i++){var s=o[i],a=this._contributions[s];typeof a.saveViewState=="function"&&(t[s]=a.saveViewState())}var u=this._modelData.cursor.saveState(),l=this._modelData.viewModel.saveState();return{cursorState:u,viewState:l,contributionsState:t}},e.prototype.restoreViewState=function(t){if(!(!this._modelData||!this._modelData.hasRealView)){var r=t;if(r&&r.cursorState&&r.viewState){var i=r.cursorState;Array.isArray(i)?this._modelData.cursor.restoreState(i):this._modelData.cursor.restoreState([i]);for(var o=r.contributionsState||{},s=Object.keys(this._contributions),a=0,u=s.length;a<u;a++){var l=s[a],c=this._contributions[l];typeof c.restoreViewState=="function"&&c.restoreViewState(o[l])}var d=this._modelData.viewModel.reduceRestoreState(r.viewState);this._modelData.view.restoreState(d)}}},e.prototype.getContribution=function(t){return this._contributions[t]||null},e.prototype.getActions=function(){for(var t=[],r=Object.keys(this._actions),i=0,o=r.length;i<o;i++){var s=r[i];t.push(this._actions[s])}return t},e.prototype.getSupportedActions=function(){var t=this.getActions();return t=t.filter(function(r){return r.isSupported()}),t},e.prototype.getAction=function(t){return this._actions[t]||null},e.prototype.trigger=function(t,r,i){if(i=i||{},r===an.Type){if(!this._modelData||typeof i.text!="string"||i.text.length===0)return;t==="keyboard"&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(t,r,i),t==="keyboard"&&this._onDidType.fire(i.text);return}if(r===an.Paste){if(!this._modelData||typeof i.text!="string"||i.text.length===0)return;var o=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(t,r,i);var s=this._modelData.cursor.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire(new H(o.lineNumber,o.column,s.lineNumber,s.column));return}r===an.CompositionStart&&this._onCompositionStart.fire(),r===an.CompositionEnd&&this._onCompositionEnd.fire();var a=this.getAction(r);if(a){Promise.resolve(a.run()).then(void 0,He);return}this._modelData&&(this._triggerEditorCommand(t,r,i)||this._modelData.cursor.trigger(t,r,i))},e.prototype._triggerEditorCommand=function(t,r,i){var o=this,s=$y.getEditorCommand(r);return s?(i=i||{},i.source=t,this._instantiationService.invokeFunction(function(a){Promise.resolve(s.runEditorCommand(a,o,i)).then(void 0,He)}),!0):!1},e.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},e.prototype.pushUndoStop=function(){return!this._modelData||this._configuration.editor.readOnly?!1:(this._modelData.model.pushStackElement(),!0)},e.prototype.executeEdits=function(t,r,i){if(!this._modelData||this._configuration.editor.readOnly)return!1;var o;return i?Array.isArray(i)?o=function(){return i}:o=i:o=function(){return null},this._modelData.cursor.executeEdits(t,r,o),!0},e.prototype.executeCommand=function(t,r){this._modelData&&this._modelData.cursor.trigger(t,an.ExecuteCommand,r)},e.prototype.executeCommands=function(t,r){this._modelData&&this._modelData.cursor.trigger(t,an.ExecuteCommands,r)},e.prototype.changeDecorations=function(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null},e.prototype.getLineDecorations=function(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,this._configuration.editor.readOnly):null},e.prototype.deltaDecorations=function(t,r){return this._modelData?t.length===0&&r.length===0?t:this._modelData.model.deltaDecorations(t,r,this._id):[]},e.prototype.removeDecorations=function(t){var r=this._decorationTypeKeysToIds[t];r&&this.deltaDecorations(r,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]},e.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},e.prototype.createOverviewRuler=function(t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(t)},e.prototype.getDomNode=function(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode},e.prototype.delegateVerticalScrollbarMouseDown=function(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(t)},e.prototype.layout=function(t){this._configuration.observeReferenceElement(t),this.render()},e.prototype.focus=function(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()},e.prototype.hasTextFocus=function(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()},e.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},e.prototype.addContentWidget=function(t){var r={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[t.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(r)},e.prototype.layoutContentWidget=function(t){var r=t.getId();if(this._contentWidgets.hasOwnProperty(r)){var i=this._contentWidgets[r];i.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}},e.prototype.removeContentWidget=function(t){var r=t.getId();if(this._contentWidgets.hasOwnProperty(r)){var i=this._contentWidgets[r];delete this._contentWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}},e.prototype.addOverlayWidget=function(t){var r={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(r)},e.prototype.layoutOverlayWidget=function(t){var r=t.getId();if(this._overlayWidgets.hasOwnProperty(r)){var i=this._overlayWidgets[r];i.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}},e.prototype.removeOverlayWidget=function(t){var r=t.getId();if(this._overlayWidgets.hasOwnProperty(r)){var i=this._overlayWidgets[r];delete this._overlayWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}},e.prototype.changeViewZones=function(t){if(!(!this._modelData||!this._modelData.hasRealView)){var r=this._modelData.view.change(t);r&&this._onDidChangeViewZones.fire()}},e.prototype.getTargetAtClientPoint=function(t,r){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(t,r)},e.prototype.getScrolledVisiblePosition=function(t){if(!this._modelData||!this._modelData.hasRealView)return null;var r=this._modelData.model.validatePosition(t),i=this._configuration.editor.layoutInfo,o=e._getVerticalOffsetForPosition(this._modelData,r.lineNumber,r.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(r.lineNumber,r.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft();return{top:o,left:s,height:this._configuration.editor.lineHeight}},e.prototype.getOffsetForColumn=function(t,r){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(t,r)},e.prototype.render=function(t){t===void 0&&(t=!1),!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.render(!0,t)},e.prototype.applyFontInfo=function(t){fa.applyFontInfoSlow(t,this._configuration.editor.fontInfo)},e.prototype._attachModel=function(t){var r=this;if(!t){this._modelData=null;return}var i=[];this._domElement.setAttribute("data-mode-id",t.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setMaxLineNumber(t.getLineCount()),t.onBeforeAttached();var o=new WRe(this._id,this._configuration,t,function(v){return mh(v)});i.push(t.onDidChangeDecorations(function(v){return r._onDidChangeModelDecorations.fire(v)})),i.push(t.onDidChangeLanguage(function(v){r._domElement.setAttribute("data-mode-id",t.getLanguageIdentifier().language),r._onDidChangeModelLanguage.fire(v)})),i.push(t.onDidChangeLanguageConfiguration(function(v){return r._onDidChangeModelLanguageConfiguration.fire(v)})),i.push(t.onDidChangeContent(function(v){return r._onDidChangeModelContent.fire(v)})),i.push(t.onDidChangeOptions(function(v){return r._onDidChangeModelOptions.fire(v)})),i.push(t.onWillDispose(function(){return r.setModel(null)}));var s=new Zq(this._configuration,t,o);i.push(s.onDidReachMaxCursorCount(function(){r._notificationService.warn(D("cursors.maximum","The number of cursors has been limited to {0}.",Zq.MAX_CURSOR_COUNT))})),i.push(s.onDidAttemptReadOnlyEdit(function(){r._onDidAttemptReadOnlyEdit.fire(void 0)})),i.push(s.onDidChange(function(v){for(var m=[],_=0,b=v.selections.length;_<b;_++)m[_]=v.selections[_].getPosition();var C={position:m[0],secondaryPositions:m.slice(1),reason:v.reason,source:v.source};r._onDidChangeCursorPosition.fire(C);var E={selection:v.selections[0],secondarySelections:v.selections.slice(1),source:v.source,reason:v.reason};r._onDidChangeCursorSelection.fire(E)}));var a=this._createView(o,s),u=a[0],l=a[1];if(l){this._domElement.appendChild(u.domNode.domNode);for(var c=Object.keys(this._contentWidgets),d=0,h=c.length;d<h;d++){var p=c[d];u.addContentWidget(this._contentWidgets[p])}c=Object.keys(this._overlayWidgets);for(var d=0,h=c.length;d<h;d++){var p=c[d];u.addOverlayWidget(this._overlayWidgets[p])}u.render(!1,!0),u.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new qRe(t,o,s,u,l,i)},e.prototype._createView=function(t,r){var i=this,o;this.isSimpleWidget?o={executeEditorCommand:function(u,l){u.runCoreEditorCommand(r,l)},paste:function(u,l,c,d){i.trigger(u,an.Paste,{text:l,pasteOnNewLine:c,multicursorText:d})},type:function(u,l){i.trigger(u,an.Type,{text:l})},replacePreviousChar:function(u,l,c){i.trigger(u,an.ReplacePreviousChar,{text:l,replaceCharCnt:c})},compositionStart:function(u){i.trigger(u,an.CompositionStart,void 0)},compositionEnd:function(u){i.trigger(u,an.CompositionEnd,void 0)},cut:function(u){i.trigger(u,an.Cut,void 0)}}:o={executeEditorCommand:function(u,l){u.runCoreEditorCommand(r,l)},paste:function(u,l,c,d){i._commandService.executeCommand(an.Paste,{text:l,pasteOnNewLine:c,multicursorText:d})},type:function(u,l){i._commandService.executeCommand(an.Type,{text:l})},replacePreviousChar:function(u,l,c){i._commandService.executeCommand(an.ReplacePreviousChar,{text:l,replaceCharCnt:c})},compositionStart:function(u){i._commandService.executeCommand(an.CompositionStart,{})},compositionEnd:function(u){i._commandService.executeCommand(an.CompositionEnd,{})},cut:function(u){i._commandService.executeCommand(an.Cut,{})}};var s=new vRe(t);s.onDidGainFocus=function(){i._editorTextFocus.setValue(!0),i._editorWidgetFocus.setValue(!0)},s.onDidScroll=function(u){return i._onDidScrollChange.fire(u)},s.onDidLoseFocus=function(){return i._editorTextFocus.setValue(!1)},s.onContextMenu=function(u){return i._onContextMenu.fire(u)},s.onMouseDown=function(u){return i._onMouseDown.fire(u)},s.onMouseUp=function(u){return i._onMouseUp.fire(u)},s.onMouseDrag=function(u){return i._onMouseDrag.fire(u)},s.onMouseDrop=function(u){return i._onMouseDrop.fire(u)},s.onKeyUp=function(u){return i._onKeyUp.fire(u)},s.onMouseMove=function(u){return i._onMouseMove.fire(u)},s.onMouseLeave=function(u){return i._onMouseLeave.fire(u)},s.onMouseWheel=function(u){return i._onMouseWheel.fire(u)},s.onKeyDown=function(u){return i._onKeyDown.fire(u)};var a=new dRe(o,this._configuration,this._themeService,t,r,s);return[a,!0]},e.prototype._postDetachModelCleanup=function(t){t&&t.removeAllDecorationsWithOwnerId(this._id)},e.prototype._detachModel=function(){if(!this._modelData)return null;var t=this._modelData.model,r=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),r&&this._domElement.removeChild(r),t},e.prototype._removeDecorationType=function(t){this._codeEditorService.removeDecorationType(t)},e.prototype.hasModel=function(){return this._modelData!==null},e=URe([yd(3,cr),yd(4,Dn),yd(5,Qi),yd(6,yt),yd(7,Yr),yd(8,gi),yd(9,Ml)],e),e}(fe),tz=function(n){hC(e,n);function e(){var t=n.call(this)||this;return t._onDidChangeToTrue=t._register(new Q),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new Q),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return e.prototype.setValue=function(t){var r=t?2:1;this._value!==r&&(this._value=r,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())},e}(fe),zRe=function(n){hC(e,n);function e(t,r){var i=n.call(this)||this;return i._editor=t,r.createKey("editorId",t.getId()),i._editorFocus=W.focus.bindTo(r),i._textInputFocus=W.textInputFocus.bindTo(r),i._editorTextFocus=W.editorTextFocus.bindTo(r),i._editorTabMovesFocus=W.tabMovesFocus.bindTo(r),i._editorReadonly=W.readOnly.bindTo(r),i._hasMultipleSelections=W.hasMultipleSelections.bindTo(r),i._hasNonEmptySelection=W.hasNonEmptySelection.bindTo(r),i._canUndo=W.canUndo.bindTo(r),i._canRedo=W.canRedo.bindTo(r),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidChangeModel(function(){return i._updateFromModel()})),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromModel()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i}return e.prototype._updateFromConfig=function(){var t=this._editor.getConfiguration();this._editorTabMovesFocus.set(t.tabFocusMode),this._editorReadonly.set(t.readOnly)},e.prototype._updateFromSelection=function(){var t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(function(r){return!r.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},e.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},e.prototype._updateFromModel=function(){var t=this._editor.getModel();this._canUndo.set(!!(t&&t.canUndo())),this._canRedo.set(!!(t&&t.canRedo()))},e}(fe),GRe=function(n){hC(e,n);function e(t,r){var i=n.call(this)||this;i._editor=t,i._contextKeyService=r,i._langId=W.languageId.bindTo(r),i._hasCompletionItemProvider=W.hasCompletionItemProvider.bindTo(r),i._hasCodeActionsProvider=W.hasCodeActionsProvider.bindTo(r),i._hasCodeLensProvider=W.hasCodeLensProvider.bindTo(r),i._hasDefinitionProvider=W.hasDefinitionProvider.bindTo(r),i._hasDeclarationProvider=W.hasDeclarationProvider.bindTo(r),i._hasImplementationProvider=W.hasImplementationProvider.bindTo(r),i._hasTypeDefinitionProvider=W.hasTypeDefinitionProvider.bindTo(r),i._hasHoverProvider=W.hasHoverProvider.bindTo(r),i._hasDocumentHighlightProvider=W.hasDocumentHighlightProvider.bindTo(r),i._hasDocumentSymbolProvider=W.hasDocumentSymbolProvider.bindTo(r),i._hasReferenceProvider=W.hasReferenceProvider.bindTo(r),i._hasRenameProvider=W.hasRenameProvider.bindTo(r),i._hasSignatureHelpProvider=W.hasSignatureHelpProvider.bindTo(r),i._hasDocumentFormattingProvider=W.hasDocumentFormattingProvider.bindTo(r),i._hasDocumentSelectionFormattingProvider=W.hasDocumentSelectionFormattingProvider.bindTo(r),i._hasMultipleDocumentFormattingProvider=W.hasMultipleDocumentFormattingProvider.bindTo(r),i._hasMultipleDocumentSelectionFormattingProvider=W.hasMultipleDocumentSelectionFormattingProvider.bindTo(r),i._isInWalkThrough=W.isInEmbeddedEditor.bindTo(r);var o=function(){return i._update()};return i._register(t.onDidChangeModel(o)),i._register(t.onDidChangeModelLanguage(o)),i._register(rl.onDidChange(o)),i._register(yc.onDidChange(o)),i._register(pp.onDidChange(o)),i._register(zb.onDidChange(o)),i._register(IT.onDidChange(o)),i._register(xT.onDidChange(o)),i._register(LT.onDidChange(o)),i._register(qb.onDidChange(o)),i._register(Tm.onDidChange(o)),i._register(Ff.onDidChange(o)),i._register(DT.onDidChange(o)),i._register(AT.onDidChange(o)),i._register(zy.onDidChange(o)),i._register(lu.onDidChange(o)),i._register(dp.onDidChange(o)),o(),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.reset=function(){var t=this;this._contextKeyService.bufferChangeEvents(function(){t._langId.reset(),t._hasCompletionItemProvider.reset(),t._hasCodeActionsProvider.reset(),t._hasCodeLensProvider.reset(),t._hasDefinitionProvider.reset(),t._hasDeclarationProvider.reset(),t._hasImplementationProvider.reset(),t._hasTypeDefinitionProvider.reset(),t._hasHoverProvider.reset(),t._hasDocumentHighlightProvider.reset(),t._hasDocumentSymbolProvider.reset(),t._hasReferenceProvider.reset(),t._hasRenameProvider.reset(),t._hasDocumentFormattingProvider.reset(),t._hasDocumentSelectionFormattingProvider.reset(),t._hasSignatureHelpProvider.reset(),t._isInWalkThrough.reset()})},e.prototype._update=function(){var t=this,r=this._editor.getModel();if(!r){this.reset();return}this._contextKeyService.bufferChangeEvents(function(){t._langId.set(r.getLanguageIdentifier().language),t._hasCompletionItemProvider.set(rl.has(r)),t._hasCodeActionsProvider.set(yc.has(r)),t._hasCodeLensProvider.set(pp.has(r)),t._hasDefinitionProvider.set(zb.has(r)),t._hasDeclarationProvider.set(IT.has(r)),t._hasImplementationProvider.set(xT.has(r)),t._hasTypeDefinitionProvider.set(LT.has(r)),t._hasHoverProvider.set(qb.has(r)),t._hasDocumentHighlightProvider.set(Tm.has(r)),t._hasDocumentSymbolProvider.set(Ff.has(r)),t._hasReferenceProvider.set(DT.has(r)),t._hasRenameProvider.set(AT.has(r)),t._hasSignatureHelpProvider.set(dp.has(r)),t._hasDocumentFormattingProvider.set(zy.has(r)||lu.has(r)),t._hasDocumentSelectionFormattingProvider.set(lu.has(r)),t._hasMultipleDocumentFormattingProvider.set(zy.all(r).length+lu.all(r).length>1),t._hasMultipleDocumentSelectionFormattingProvider.set(lu.all(r).length>1),t._isInWalkThrough.set(r.uri.scheme===En.walkThroughSnippet)})},e}(fe),$Re=function(n){hC(e,n);function e(t){var r=n.call(this)||this;return r._onChange=r._register(new Q),r.onChange=r._onChange.event,r._hasFocus=!1,r._domFocusTracker=r._register(Fb(t)),r._register(r._domFocusTracker.onDidFocus(function(){r._hasFocus=!0,r._onChange.fire(void 0)})),r._register(r._domFocusTracker.onDidBlur(function(){r._hasFocus=!1,r._onChange.fire(void 0)})),r}return e.prototype.hasFocus=function(){return this._hasFocus},e}(fe),KRe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),YRe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function JO(n){return KRe+encodeURIComponent(n.toString())+YRe}var XRe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),QRe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ZRe(n){return XRe+encodeURIComponent(n.toString())+QRe}mn(function(n,e){var t=n.getColor(dte);t&&e.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+t+"; }");var r=n.getColor(hte);r&&e.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+JO(r)+'") repeat-x bottom left; }');var i=n.getColor(H6);i&&e.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+i+"; }");var o=n.getColor(HT);o&&e.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+JO(o)+'") repeat-x bottom left; }');var s=n.getColor(V6);s&&e.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=n.getColor(VT);a&&e.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+JO(a)+'") repeat-x bottom left; }');var u=n.getColor(MNe);u&&e.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+u+"; }");var l=n.getColor(PNe);l&&e.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+ZRe(l)+'") no-repeat bottom left; }');var c=n.getColor(hOe);c&&e.addRule("."+zT+" .monaco-editor .squiggly-inline-unnecessary { opacity: "+c.rgba.a+"; }");var d=n.getColor(fOe);d&&e.addRule("."+zT+" .monaco-editor .squiggly-unnecessary { border-bottom: 2px dashed "+d+"; }");var h=n.getColor(rh)||"inherit";e.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+h+"}")});var JRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ePe=!1,p2=function(n){JRe(e,n);function e(t,r,i){i===void 0&&(i={});var o=n.call(this)||this;return o._state=3,o._onDidEnablementChange=o._register(new Q),o.onDidEnablementChange=o._onDidEnablementChange.event,o._onDidStart=o._register(new Q),o.onDidStart=o._onDidStart.event,o._onDidChange=o._register(new Q),o.onDidChange=o._onDidChange.event,o._onDidReset=o._register(new Q),o.onDidReset=o._onDidReset.event,o._onDidEnd=o._register(new Q),o.onDidEnd=o._onDidEnd.event,o.linkedSash=void 0,o.orthogonalStartSashDisposables=o._register(new Be),o.orthogonalEndSashDisposables=o._register(new Be),o.el=Ce(t,Ve(".monaco-sash")),Tt&&De(o.el,"mac"),o._register(Nt(o.el,"mousedown")(o.onMouseDown,o)),o._register(Nt(o.el,"dblclick")(o.onMouseDoubleClick,o)),D_.addTarget(o.el),o._register(Nt(o.el,ii.Start)(o.onTouchStart,o)),bT&&De(o.el,"touch"),o.setOrientation(i.orientation||0),o.hidden=!1,o.layoutProvider=r,o.orthogonalStartSash=i.orthogonalStartSash,o.orthogonalEndSash=i.orthogonalEndSash,kt(o.el,"debug",ePe),o}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(kt(this.el,"disabled",t===0),kt(this.el,"minimum",t===1),kt(this.el,"maximum",t===2),this._state=t,this._onDidEnablementChange.fire(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){this.orthogonalStartSashDisposables.clear(),t?(this.orthogonalStartSashDisposables.add(t.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(t.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){this.orthogonalEndSashDisposables.clear(),t?(this.orthogonalEndSashDisposables.add(t.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(t.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=t},enumerable:!0,configurable:!0}),e.prototype.setOrientation=function(t){this.orientation=t,this.orientation===1?(De(this.el,"horizontal"),ot(this.el,"vertical")):(ot(this.el,"horizontal"),De(this.el,"vertical")),this.layoutProvider&&this.layout()},e.prototype.onMouseDown=function(t){var r=this;wn.stop(t,!1);var i=!1;if(!t.__orthogonalSashEvent){var o=this.getOrthogonalSash(t);o&&(i=!0,t.__orthogonalSashEvent=!0,o.onMouseDown(t))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onMouseDown(t)),!!this.state){for(var s=yj("iframe").concat(yj("webview")),a=0,u=s;a<u.length;a++){var l=u[a];l.style.pointerEvents="none"}var c=new si(t),d=c.posx,h=c.posy,p=c.altKey,v={startX:d,currentX:d,startY:h,currentY:h,altKey:p};De(this.el,"active"),this._onDidStart.fire(v);var m=xh(this.el),_=function(){var T="";i?T="all-scroll":r.orientation===1?r.state===1?T="s-resize":r.state===2?T="n-resize":T=Tt?"row-resize":"ns-resize":r.state===1?T="e-resize":r.state===2?T="w-resize":T=Tt?"col-resize":"ew-resize",m.innerHTML="* { cursor: "+T+" !important; }"},b=new Be;_(),i||this.onDidEnablementChange(_,null,b);var C=function(T){wn.stop(T,!1);var A=new si(T),S={startX:d,currentX:A.posx,startY:h,currentY:A.posy,altKey:p};r._onDidChange.fire(S)},E=function(T){wn.stop(T,!1),r.el.removeChild(m),ot(r.el,"active"),r._onDidEnd.fire(),b.dispose();for(var A=0,S=s;A<S.length;A++){var N=S[A];N.style.pointerEvents="auto"}};Nt(window,"mousemove")(C,null,b),Nt(window,"mouseup")(E,null,b)}},e.prototype.onMouseDoubleClick=function(t){var r=this.getOrthogonalSash(t);r&&r._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()},e.prototype.onTouchStart=function(t){var r=this;wn.stop(t);var i=[],o=t.pageX,s=t.pageY,a=t.altKey;this._onDidStart.fire({startX:o,currentX:o,startY:s,currentY:s,altKey:a}),i.push(_e(this.el,ii.Change,function(u){Dc(u.pageX)&&Dc(u.pageY)&&r._onDidChange.fire({startX:o,currentX:u.pageX,startY:s,currentY:u.pageY,altKey:a})})),i.push(_e(this.el,ii.End,function(u){r._onDidEnd.fire(),nt(i)}))},e.prototype.layout=function(){var t=bT?20:4;if(this.orientation===0){var r=this.layoutProvider;this.el.style.left=r.getVerticalSashLeft(this)-t/2+"px",r.getVerticalSashTop&&(this.el.style.top=r.getVerticalSashTop(this)+"px"),r.getVerticalSashHeight&&(this.el.style.height=r.getVerticalSashHeight(this)+"px")}else{var i=this.layoutProvider;this.el.style.top=i.getHorizontalSashTop(this)-t/2+"px",i.getHorizontalSashLeft&&(this.el.style.left=i.getHorizontalSashLeft(this)+"px"),i.getHorizontalSashWidth&&(this.el.style.width=i.getHorizontalSashWidth(this)+"px")}},e.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},e.prototype.onOrthogonalStartSashEnablementChange=function(t){kt(this.el,"orthogonal-start",t!==0)},e.prototype.onOrthogonalEndSashEnablementChange=function(t){kt(this.el,"orthogonal-end",t!==0)},e.prototype.getOrthogonalSash=function(t){if(this.orientation===0){if(t.offsetY<=4)return this.orthogonalStartSash;if(t.offsetY>=this.el.clientHeight-4)return this.orthogonalEndSash}else{if(t.offsetX<=4)return this.orthogonalStartSash;if(t.offsetX>=this.el.clientWidth-4)return this.orthogonalEndSash}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.el&&this.el.parentElement&&this.el.parentElement.removeChild(this.el),this.el=null},e}(fe),Tv=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=!1),this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=r}return n}(),jte=[];function dC(n,e,t){jte.push([n,new Tv(e,[],t)])}function tPe(){return jte}var qte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J6=qt("IEditorCancelService"),zte=new Ke("cancellableOperation",!1);dC(J6,function(){function n(){this._tokens=new WeakMap}return n.prototype.add=function(e,t){var r=this._tokens.get(e);r||(r=e.invokeWithinContext(function(o){var s=zte.bindTo(o.get(yt)),a=new Ac;return{key:s,tokens:a}}),this._tokens.set(e,r));var i;return r.key.set(!0),i=r.tokens.push(t),function(){i&&(i(),r.key.set(!r.tokens.isEmpty()),i=void 0)}},n.prototype.cancel=function(e){var t=this._tokens.get(e);if(t){var r=t.tokens.pop();r&&(r.cancel(),t.key.set(!t.tokens.isEmpty()))}},n}(),!0);var nPe=function(n){qte(e,n);function e(t,r){var i=n.call(this,r)||this;return i.editor=t,i._unregister=t.invokeWithinContext(function(o){return o.get(J6).add(t,i)}),i}return e.prototype.dispose=function(){this._unregister(),n.prototype.dispose.call(this)},e}(Np);ce(new(function(n){qte(e,n);function e(){return n.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:zte})||this}return e.prototype.runEditorCommand=function(t,r){t.get(J6).cancel(r)},e}(Do)));var Gte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),e5=function(){function n(e,t){if(this.flags=t,this.flags&1){var r=e.getModel();this.modelVersionId=r?Yt("{0}#{1}",r.uri.toString(),r.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=e.getPosition():this.position=null,this.flags&2?this.selection=e.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return n.prototype._equals=function(e){if(!(e instanceof n))return!1;var t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))},n.prototype.validate=function(e){return this._equals(new n(e,this.flags))},n}(),t5=function(n){Gte(e,n);function e(t,r,i){var o=n.call(this,t,i)||this;return o.editor=t,o._listener=new Be,r&4&&o._listener.add(t.onDidChangeCursorPosition(function(s){return o.cancel()})),r&2&&o._listener.add(t.onDidChangeCursorSelection(function(s){return o.cancel()})),r&8&&o._listener.add(t.onDidScrollChange(function(s){return o.cancel()})),r&1&&(o._listener.add(t.onDidChangeModel(function(s){return o.cancel()})),o._listener.add(t.onDidChangeModelContent(function(s){return o.cancel()}))),o}return e.prototype.dispose=function(){this._listener.dispose(),n.prototype.dispose.call(this)},e}(nPe),n5=function(n){Gte(e,n);function e(t,r){var i=n.call(this,r)||this;return i._listener=t.onDidChangeContent(function(){return i.cancel()}),i}return e.prototype.dispose=function(){this._listener.dispose(),n.prototype.dispose.call(this)},e}(Np),VM=function(){function n(e,t){this._visiblePosition=e,this._visiblePositionScrollDelta=t}return n.capture=function(e){var t=null,r=0;if(e.getScrollTop()!==0){var i=e.getVisibleRanges();if(i.length>0){t=i[0].getStartPosition();var o=e.getTopForPosition(t.lineNumber,t.column);r=e.getScrollTop()-o}}return new n(t,r)},n.prototype.restore=function(e){if(this._visiblePosition){var t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}},n}(),g2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),r5=function(n){g2(e,n);function e(t,r,i){var o=n.call(this)||this;return o.options=i,o._context=t||o,o._action=r,r instanceof oa&&o._register(r.onDidChange(function(s){o.element&&o.handleActionChangeEvent(s)})),o}return e.prototype.handleActionChangeEvent=function(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()},Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){this._actionRunner=t},enumerable:!0,configurable:!0}),e.prototype.getAction=function(){return this._action},e.prototype.isEnabled=function(){return this._action.enabled},e.prototype.setActionContext=function(t){this._context=t},e.prototype.render=function(t){var r=this;this.element=t,D_.addTarget(t);var i=this.options&&this.options.draggable;i&&(t.draggable=!0),this._register(_e(this.element,ii.Tap,function(o){return r.onClick(o)})),this._register(_e(this.element,lt.MOUSE_DOWN,function(o){i||wn.stop(o,!0),r._action.enabled&&o.button===0&&r.element&&De(r.element,"active")})),this._register(_e(this.element,lt.CLICK,function(o){wn.stop(o,!0),r.options&&r.options.isMenu?r.onClick(o):vJ(function(){return r.onClick(o)})})),this._register(_e(this.element,lt.DBLCLICK,function(o){wn.stop(o,!0)})),[lt.MOUSE_UP,lt.MOUSE_OUT].forEach(function(o){r._register(_e(r.element,o,function(s){wn.stop(s),ot(r.element,"active")}))})},e.prototype.onClick=function(t){wn.stop(t,!0);var r;Xf(this._context)?r=t:(r=this._context,Ui(r)&&(r.event=t)),this._actionRunner.run(this._action,r)},e.prototype.focus=function(){this.element&&(this.element.focus(),De(this.element,"focused"))},e.prototype.blur=function(){this.element&&(this.element.blur(),ot(this.element,"focused"))},e.prototype.updateEnabled=function(){},e.prototype.updateLabel=function(){},e.prototype.updateTooltip=function(){},e.prototype.updateClass=function(){},e.prototype.updateChecked=function(){},e.prototype.dispose=function(){this.element&&(G4(this.element),this.element=void 0),n.prototype.dispose.call(this)},e}(fe),v2=function(n){g2(e,n);function e(t){var r=n.call(this,e.ID,t,t?"separator text":"separator")||this;return r.checked=!1,r.radio=!1,r.enabled=!1,r}return e.ID="vs.actions.separator",e}(oa),GT=function(n){g2(e,n);function e(t,r,i){i===void 0&&(i={});var o=n.call(this,t,r,i)||this;return o.options=i,o.options.icon=i.icon!==void 0?i.icon:!1,o.options.label=i.label!==void 0?i.label:!0,o.cssClass="",o}return e.prototype.render=function(t){n.prototype.render.call(this,t),this.element&&(this.label=Ce(this.element,Ve("a.action-label"))),this._action.id===v2.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button"),this.options.label&&this.options.keybinding&&this.element&&(Ce(this.element,Ve("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},e.prototype.focus=function(){n.prototype.focus.call(this),this.label.focus()},e.prototype.updateLabel=function(){this.options.label&&(this.label.textContent=this.getAction().label)},e.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=D({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.label.title=t)},e.prototype.updateClass=function(){this.cssClass&&XA(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,De(this.label,"icon"),this.cssClass&&$4(this.label,this.cssClass),this.updateEnabled()):ot(this.label,"icon")},e.prototype.updateEnabled=function(){this.getAction().enabled?(this.label.removeAttribute("aria-disabled"),this.element&&ot(this.element,"disabled"),ot(this.label,"disabled"),this.label.tabIndex=0):(this.label.setAttribute("aria-disabled","true"),this.element&&De(this.element,"disabled"),De(this.label,"disabled"),Q4(this.label))},e.prototype.updateChecked=function(){this.getAction().checked?De(this.label,"checked"):ot(this.label,"checked")},e}(r5),nz={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},pC=function(n){g2(e,n);function e(t,r){r===void 0&&(r=nz);var i=n.call(this)||this;i._onDidBlur=i._register(new Q),i.onDidBlur=i._onDidBlur.event,i._onDidCancel=i._register(new Q),i.onDidCancel=i._onDidCancel.event,i._onDidRun=i._register(new Q),i.onDidRun=i._onDidRun.event,i._onDidBeforeRun=i._register(new Q),i.onDidBeforeRun=i._onDidBeforeRun.event,i.options=r,i._context=r.context,i.options.triggerKeys||(i.options.triggerKeys=nz.triggerKeys),i.options.actionRunner?i._actionRunner=i.options.actionRunner:(i._actionRunner=new Lee,i._register(i._actionRunner)),i._register(i._actionRunner.onDidRun(function(a){return i._onDidRun.fire(a)})),i._register(i._actionRunner.onDidBeforeRun(function(a){return i._onDidBeforeRun.fire(a)})),i.viewItems=[],i.focusedItem=void 0,i.domNode=document.createElement("div"),i.domNode.className="monaco-action-bar",r.animated!==!1&&De(i.domNode,"animated");var o,s;switch(i.options.orientation){case 0:o=15,s=17;break;case 1:o=17,s=15,i.domNode.className+=" reverse";break;case 2:o=16,s=18,i.domNode.className+=" vertical";break;case 3:o=18,s=16,i.domNode.className+=" vertical reverse";break}return i._register(_e(i.domNode,lt.KEY_DOWN,function(a){var u=new Un(a),l=!0;u.equals(o)?i.focusPrevious():u.equals(s)?i.focusNext():u.equals(9)?i.cancel():i.isTriggerKeyEvent(u)?i.options.triggerKeys&&i.options.triggerKeys.keyDown&&i.doTrigger(u):l=!1,l&&(u.preventDefault(),u.stopPropagation())})),i._register(_e(i.domNode,lt.KEY_UP,function(a){var u=new Un(a);i.isTriggerKeyEvent(u)?(i.options.triggerKeys&&!i.options.triggerKeys.keyDown&&i.doTrigger(u),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1026))&&i.updateFocusedItem()})),i.focusTracker=i._register(Fb(i.domNode)),i._register(i.focusTracker.onDidBlur(function(){(document.activeElement===i.domNode||!El(document.activeElement,i.domNode))&&(i._onDidBlur.fire(),i.focusedItem=void 0)})),i._register(i.focusTracker.onDidFocus(function(){return i.updateFocusedItem()})),i.actionsList=document.createElement("ul"),i.actionsList.className="actions-container",i.actionsList.setAttribute("role","toolbar"),i.options.ariaLabel&&i.actionsList.setAttribute("aria-label",i.options.ariaLabel),i.domNode.appendChild(i.actionsList),t.appendChild(i.domNode),i}return e.prototype.isTriggerKeyEvent=function(t){var r=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach(function(i){r=r||t.equals(i)}),r},e.prototype.updateFocusedItem=function(){for(var t=0;t<this.actionsList.children.length;t++){var r=this.actionsList.children[t];if(El(document.activeElement,r)){this.focusedItem=t;break}}},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t,this.viewItems.forEach(function(r){return r.setActionContext(t)})},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.domNode},e.prototype.push=function(t,r){var i=this;r===void 0&&(r={});var o=Array.isArray(t)?t:[t],s=Dc(r.index)?r.index:null;o.forEach(function(a){var u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation"),i._register(_e(u,lt.CONTEXT_MENU,function(c){c.preventDefault(),c.stopPropagation()}));var l;i.options.actionViewItemProvider&&(l=i.options.actionViewItemProvider(a)),l||(l=new GT(i.context,a,r)),l.actionRunner=i._actionRunner,l.setActionContext(i.context),l.render(u),s===null||s<0||s>=i.actionsList.children.length?(i.actionsList.appendChild(u),i.viewItems.push(l)):(i.actionsList.insertBefore(u,i.actionsList.children[s]),i.viewItems.splice(s,0,l),s++)})},e.prototype.clear=function(){this.viewItems=nt(this.viewItems),ca(this.actionsList)},e.prototype.isEmpty=function(){return this.viewItems.length===0},e.prototype.focus=function(t){var r=!1,i=void 0;t===void 0?r=!0:typeof t=="number"?i=t:typeof t=="boolean"&&(r=t),r&&typeof this.focusedItem>"u"?(this.focusedItem=this.viewItems.length-1,this.focusNext()):(i!==void 0&&(this.focusedItem=i),this.updateFocus())},e.prototype.focusNext=function(){typeof this.focusedItem>"u"&&(this.focusedItem=this.viewItems.length-1);var t=this.focusedItem,r;do this.focusedItem=(this.focusedItem+1)%this.viewItems.length,r=this.viewItems[this.focusedItem];while(this.focusedItem!==t&&!r.isEnabled());this.focusedItem===t&&!r.isEnabled()&&(this.focusedItem=void 0),this.updateFocus()},e.prototype.focusPrevious=function(){typeof this.focusedItem>"u"&&(this.focusedItem=0);var t=this.focusedItem,r;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.viewItems.length-1),r=this.viewItems[this.focusedItem];while(this.focusedItem!==t&&!r.isEnabled());this.focusedItem===t&&!r.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(!0)},e.prototype.updateFocus=function(t){typeof this.focusedItem>"u"&&this.actionsList.focus();for(var r=0;r<this.viewItems.length;r++){var i=this.viewItems[r],o=i;r===this.focusedItem?jy(o.isEnabled)&&(o.isEnabled()&&jy(o.focus)?o.focus(t):this.actionsList.focus()):jy(o.blur)&&o.blur()}},e.prototype.doTrigger=function(t){if(!(typeof this.focusedItem>"u")){var r=this.viewItems[this.focusedItem];if(r instanceof r5){var i=r._context===null||r._context===void 0?t:r._context;this.run(r._action,i)}}},e.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},e.prototype.run=function(t,r){return this._actionRunner.run(t,r)},e.prototype.dispose=function(){nt(this.viewItems),this.viewItems=[],G4(this.getContainer()),n.prototype.dispose.call(this)},e}(fe),i5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kE=3,Z0=function(){function n(e,t,r,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=r,this.modifiedLineEnd=i}return n.prototype.getType=function(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0},n}(),ek=function(){function n(e){this.entries=e}return n}(),rPe=function(n){i5(e,n);function e(t){var r=n.call(this)||this;return r._width=0,r._diffEditor=t,r._isVisible=!1,r.shadow=wt(document.createElement("div")),r.shadow.setClassName("diff-review-shadow"),r.actionBarContainer=wt(document.createElement("div")),r.actionBarContainer.setClassName("diff-review-actions"),r._actionBar=r._register(new pC(r.actionBarContainer.domNode)),r._actionBar.push(new oa("diffreview.close",D("label.close","Close"),"close-diff-review",!0,function(){return r.hide(),Promise.resolve(null)}),{label:!1,icon:!0}),r.domNode=wt(document.createElement("div")),r.domNode.setClassName("diff-review monaco-editor-background"),r._content=wt(document.createElement("div")),r._content.setClassName("diff-review-content"),r.scrollbar=r._register(new cC(r._content.domNode,{})),r.domNode.domNode.appendChild(r.scrollbar.getDomNode()),r._register(t.onDidUpdateDiff(function(){r._isVisible&&(r._diffs=r._compute(),r._render())})),r._register(t.getModifiedEditor().onDidChangeCursorPosition(function(){r._isVisible&&r._render()})),r._register(t.getOriginalEditor().onDidFocusEditorWidget(function(){r._isVisible&&r.hide()})),r._register(t.getModifiedEditor().onDidFocusEditorWidget(function(){r._isVisible&&r.hide()})),r._register(hi(r.domNode.domNode,"click",function(i){i.preventDefault();var o=lM(i.target,"diff-review-row");o&&r._goToRow(o)})),r._register(hi(r.domNode.domNode,"keydown",function(i){(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),r._goToRow(r._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),r._goToRow(r._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),r.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),r.accept())})),r._diffs=[],r._currentDiff=null,r}return e.prototype.prev=function(){var t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var r=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){r=i;break}t=this._diffs.length+r-1}else t=this._findDiffIndex(this._diffEditor.getPosition());this._diffs.length!==0&&(t=t%this._diffs.length,this._diffEditor.setPosition(new J(this._diffs[t].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},e.prototype.next=function(){var t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var r=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){r=i;break}t=r+1}else t=this._findDiffIndex(this._diffEditor.getPosition());this._diffs.length!==0&&(t=t%this._diffs.length,this._diffEditor.setPosition(new J(this._diffs[t].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},e.prototype.accept=function(){var t=-1,r=this._getCurrentFocusedRow();if(r){var i=parseInt(r.getAttribute("data-line"),10);isNaN(i)||(t=i)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new J(t,1)),this._diffEditor.revealPosition(new J(t,1),1))},e.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},e.prototype._getPrevRow=function(){var t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()},e.prototype._getNextRow=function(){var t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()},e.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},e.prototype._getCurrentFocusedRow=function(){var t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null},e.prototype._goToRow=function(t){var r=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),r&&r!==t&&(r.tabIndex=-1),this.scrollbar.scanDomNode()},e.prototype.isVisible=function(){return this._isVisible},e.prototype.layout=function(t,r,i){this._width=r,this.shadow.setTop(t-6),this.shadow.setWidth(r),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(r),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(r),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},e.prototype._compute=function(){var t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];var r=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!r||!i?[]:e._mergeAdjacent(t,r.getLineCount(),i.getLineCount())},e._mergeAdjacent=function(t,r,i){if(!t||t.length===0)return[];for(var o=[],s=0,a=0,u=t.length;a<u;a++){var l=t[a],c=l.originalStartLineNumber,d=l.originalEndLineNumber,h=l.modifiedStartLineNumber,p=l.modifiedEndLineNumber,v=[],m=0;{var _=d===0?c:c-1,b=p===0?h:h-1,C=1,E=1;if(a>0){var T=t[a-1];T.originalEndLineNumber===0?C=T.originalStartLineNumber+1:C=T.originalEndLineNumber+1,T.modifiedEndLineNumber===0?E=T.modifiedStartLineNumber+1:E=T.modifiedEndLineNumber+1}var A=_-kE+1,S=b-kE+1;if(A<C){var N=C-A;A=A+N,S=S+N}if(S<E){var N=E-S;A=A+N,S=S+N}v[m++]=new Z0(A,_,S,b)}d!==0&&(v[m++]=new Z0(c,d,0,0)),p!==0&&(v[m++]=new Z0(0,0,h,p));{var k=d===0?c+1:d+1,F=p===0?h+1:p+1,L=r,O=i;if(a+1<u){var P=t[a+1];P.originalEndLineNumber===0?L=P.originalStartLineNumber:L=P.originalStartLineNumber-1,P.modifiedEndLineNumber===0?O=P.modifiedStartLineNumber:O=P.modifiedStartLineNumber-1}var B=k+kE-1,U=F+kE-1;if(B>L){var N=L-B;B=B+N,U=U+N}if(U>O){var N=O-U;B=B+N,U=U+N}v[m++]=new Z0(k,B,F,U)}o[s++]=new ek(v)}for(var $=o[0].entries,ee=[],te=0,a=1,u=o.length;a<u;a++){var ne=o[a].entries,de=$[$.length-1],ke=ne[0];if(de.getType()===0&&ke.getType()===0&&ke.originalLineStart<=de.originalLineEnd){$[$.length-1]=new Z0(de.originalLineStart,ke.originalLineEnd,de.modifiedLineStart,ke.modifiedLineEnd),$=$.concat(ne.slice(1));continue}ee[te++]=new ek($),$=ne}return ee[te++]=new ek($),ee},e.prototype._findDiffIndex=function(t){for(var r=t.lineNumber,i=0,o=this._diffs.length;i<o;i++){var s=this._diffs[i].entries,a=s[s.length-1].modifiedLineEnd;if(r<=a)return i}return 0},e.prototype._render=function(){var t=this._diffEditor.getOriginalEditor().getConfiguration(),r=this._diffEditor.getModifiedEditor().getConfiguration(),i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),a=o.getOptions();if(!this._isVisible||!i||!o){ca(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}var u=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[u]!==this._currentDiff){this._currentDiff=this._diffs[u];var l=this._diffs[u].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),fa.applyFontInfoSlow(c,r.fontInfo);for(var d=0,h=0,p=0,v=0,m=0,_=l.length;m<_;m++){var b=l[m],C=b.originalLineStart,E=b.originalLineEnd,T=b.modifiedLineStart,A=b.modifiedLineEnd;C!==0&&(d===0||C<d)&&(d=C),E!==0&&(h===0||E>h)&&(h=E),T!==0&&(p===0||T<p)&&(p=T),A!==0&&(v===0||A>v)&&(v=A)}var S=document.createElement("div");S.className="diff-review-row";var N=document.createElement("div");N.className="diff-review-cell diff-review-summary";var k=h-d+1,F=v-p+1;N.appendChild(document.createTextNode(u+1+"/"+this._diffs.length+": @@ -"+d+","+k+" +"+p+","+F+" @@")),S.setAttribute("data-line",String(p));var L=function(U){return U===0?D("no_lines","no lines"):U===1?D("one_line","1 line"):D("more_lines","{0} lines",U)},O=L(k),P=L(F);S.setAttribute("aria-label",D({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",u+1,this._diffs.length,d,O,p,P)),S.appendChild(N),S.setAttribute("role","listitem"),c.appendChild(S);for(var B=p,m=0,_=l.length;m<_;m++){var b=l[m];e._renderSection(c,b,B,this._width,t,i,s,r,o,a),b.modifiedLineStart!==0&&(B=b.modifiedLineEnd)}ca(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}},e._renderSection=function(t,r,i,o,s,a,u,l,c,d){var h=r.getType(),p="diff-review-row",v="",m="diff-review-spacer";switch(h){case 1:p="diff-review-row line-insert",v=" char-insert",m="diff-review-spacer insert-sign";break;case 2:p="diff-review-row line-delete",v=" char-delete",m="diff-review-spacer delete-sign";break}for(var _=r.originalLineStart,b=r.originalLineEnd,C=r.modifiedLineStart,E=r.modifiedLineEnd,T=Math.max(E-C,b-_),A=s.layoutInfo.glyphMarginWidth+s.layoutInfo.lineNumbersWidth,S=10+l.layoutInfo.glyphMarginWidth+l.layoutInfo.lineNumbersWidth,N=0;N<=T;N++){var k=_===0?0:_+N,F=C===0?0:C+N,L=document.createElement("div");L.style.minWidth=o+"px",L.className=p,L.setAttribute("role","listitem"),F!==0&&(i=F),L.setAttribute("data-line",String(i));var O=document.createElement("div");O.className="diff-review-cell",L.appendChild(O);var P=document.createElement("span");P.style.width=A+"px",P.style.minWidth=A+"px",P.className="diff-review-line-number"+v,k!==0?P.appendChild(document.createTextNode(String(k))):P.innerHTML="&nbsp;",O.appendChild(P);var B=document.createElement("span");B.style.width=S+"px",B.style.minWidth=S+"px",B.style.paddingRight="10px",B.className="diff-review-line-number"+v,F!==0?B.appendChild(document.createTextNode(String(F))):B.innerHTML="&nbsp;",O.appendChild(B);var U=document.createElement("span");U.className=m,U.innerHTML="&nbsp;&nbsp;",O.appendChild(U);var $=void 0;F!==0?(O.insertAdjacentHTML("beforeend",this._renderLine(c,l,d.tabSize,F)),$=c.getLineContent(F)):(O.insertAdjacentHTML("beforeend",this._renderLine(a,s,u.tabSize,k)),$=a.getLineContent(k)),$.length===0&&($=D("blankLine","blank"));var ee="";switch(h){case 0:ee=D("equalLine","original {0}, modified {1}: {2}",k,F,$);break;case 1:ee=D("insertLine","+ modified {0}: {1}",F,$);break;case 2:ee=D("deleteLine","- original {0}: {1}",k,$);break}L.setAttribute("aria-label",ee),t.appendChild(L)}},e._renderLine=function(t,r,i,o){var s=t.getLineContent(o),a=(16384|2<<23)>>>0,u=new Uint32Array(2);u[0]=s.length,u[1]=a;var l=new pu(u,s),c=Su.isBasicASCII(s,t.mightContainNonBasicASCII()),d=Su.containsRTL(s,c,t.mightContainRTL()),h=i2(new S_(r.fontInfo.isMonospace&&!r.viewInfo.disableMonospaceOptimizations,r.fontInfo.canUseHalfwidthRightwardsArrow,s,!1,c,d,0,l,[],i,r.fontInfo.spaceWidth,r.viewInfo.stopRenderingLineAfter,r.viewInfo.renderWhitespace,r.viewInfo.renderControlCharacters,r.viewInfo.fontLigatures,null));return h.html},e}(fe);mn(function(n,e){var t=n.getColor(wte);t&&e.addRule(".monaco-diff-editor .diff-review-line-number { color: "+t+"; }");var r=n.getColor(l2);r&&e.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+r+" 0 -6px 6px -6px inset; }")});var iPe=function(n){i5(e,n);function e(){return n.call(this,{id:"editor.action.diffReview.next",label:D("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Le.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return e.prototype.run=function(t,r){var i=$te(t);i&&i.diffReviewNext()},e}(Ue),oPe=function(n){i5(e,n);function e(){return n.call(this,{id:"editor.action.diffReview.prev",label:D("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Le.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return e.prototype.run=function(t,r){var i=$te(t);i&&i.diffReviewPrev()},e}(Ue);function $te(n){for(var e=n.get(Dn),t=e.listDiffEditors(),r=0,i=t.length;r<i;r++){var o=t[r];if(o.hasWidgetFocus())return o}return null}pe(iPe);pe(oPe);var Nh=qt("contextViewService"),og=qt("contextMenuService"),sPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tk=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},nk=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},aPe=function(n){sPe(e,n);function e(t,r,i,o,s,a){var u=n.call(this)||this;u._viewZoneId=t,u._marginDomNode=r,u.editor=i,u.diff=o,u._contextMenuService=s,u._clipboardService=a,u._visibility=!1,u._marginDomNode.style.zIndex="10",u._diffActions=document.createElement("div"),u._diffActions.className="lightbulb-glyph",u._diffActions.style.position="absolute";var l=i.getConfiguration().lineHeight,c=i.getModel().getEOL();u._diffActions.style.right="0px",u._diffActions.style.visibility="hidden",u._diffActions.style.height=l+"px",u._diffActions.style.lineHeight=l+"px",u._marginDomNode.appendChild(u._diffActions);var d=[];d.push(new oa("diff.clipboard.copyDeletedContent",o.originalEndLineNumber>o.modifiedStartLineNumber?D("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):D("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,function(){return tk(u,void 0,void 0,function(){return nk(this,function(m){switch(m.label){case 0:return[4,this._clipboardService.writeText(o.originalContent.join(c)+c)];case 1:return m.sent(),[2]}})})}));var h=0,p=void 0;o.originalEndLineNumber>o.modifiedStartLineNumber&&(p=new oa("diff.clipboard.copyDeletedLineContent",D("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber),void 0,!0,function(){return tk(u,void 0,void 0,function(){return nk(this,function(m){switch(m.label){case 0:return[4,this._clipboardService.writeText(o.originalContent[h])];case 1:return m.sent(),[2]}})})}),d.push(p));var v=i.getConfiguration().readOnly;return v||d.push(new oa("diff.inline.revertChange",D("diff.inline.revertChange.label","Revert this change"),void 0,!0,function(){return tk(u,void 0,void 0,function(){var m,m;return nk(this,function(_){return o.modifiedEndLineNumber===0?(m=i.getModel().getLineMaxColumn(o.modifiedStartLineNumber),i.executeEdits("diffEditor",[{range:new H(o.modifiedStartLineNumber,m,o.modifiedStartLineNumber,m),text:c+o.originalContent.join(c)}])):(m=i.getModel().getLineMaxColumn(o.modifiedEndLineNumber),i.executeEdits("diffEditor",[{range:new H(o.modifiedStartLineNumber,1,o.modifiedEndLineNumber,m),text:o.originalContent.join(c)}])),[2]})})})),u._register(hi(u._diffActions,"mousedown",function(m){var _=di(u._diffActions),b=_.top,C=_.height,E=Math.floor(l/3);m.preventDefault(),u._contextMenuService.showContextMenu({getAnchor:function(){return{x:m.posx,y:b+C+E}},getActions:function(){return p&&(p.label=D("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber+h)),d},autoSelectFirstItem:!0})})),u._register(i.onMouseMove(function(m){if(m.target.type===8||m.target.type===5){var _=m.target.detail.viewZoneId;_===u._viewZoneId?(u.visibility=!0,h=u._updateLightBulbPosition(u._marginDomNode,m.event.browserEvent.y,l)):u.visibility=!1}else u.visibility=!1})),u}return Object.defineProperty(e.prototype,"visibility",{get:function(){return this._visibility},set:function(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")},enumerable:!0,configurable:!0}),e.prototype._updateLightBulbPosition=function(t,r,i){var o=di(t).top,s=r-o,a=Math.floor(s/i),u=a*i;return this._diffActions.style.top=u+"px",a},e}(fe),L_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uPe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bd=function(n,e){return function(t,r){e(t,r,n)}},rz=function(){function n(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return n.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(r){return!t._zonesMap[String(r.id)]})},n.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(r){for(var i=0,o=t._zones.length;i<o;i++)r.removeZone(t._zones[i])}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},n.prototype.apply=function(e,t,r,i){var o=this,s=i?VM.capture(e):null;e.changeViewZones(function(a){for(var u=0,l=o._zones.length;u<l;u++)a.removeZone(o._zones[u]);for(var u=0,c=o.inlineDiffMargins.length;u<c;u++)o.inlineDiffMargins[u].dispose();o._zones=[],o._zonesMap={},o.inlineDiffMargins=[];for(var u=0,d=r.zones.length;u<d;u++){var h=r.zones[u];h.suppressMouseDown=!1;var p=a.addZone(h);o._zones.push(p),o._zonesMap[String(p)]=!0,r.zones[u].diff&&h.marginDomNode&&o._clipboardService&&o.inlineDiffMargins.push(new aPe(p,h.marginDomNode,e,r.zones[u].diff,o._contextMenuService,o._clipboardService))}}),s&&s.restore(e),this._decorations=e.deltaDecorations(this._decorations,r.decorations),t&&t.setZones(r.overviewZones)},n}(),lPe=0,WM=function(n){L_(e,n);function e(t,r,i,o,s,a,u,l,c,d){var h=n.call(this)||this;h._onDidDispose=h._register(new Q),h.onDidDispose=h._onDidDispose.event,h._onDidUpdateDiff=h._register(new Q),h.onDidUpdateDiff=h._onDidUpdateDiff.event,h._lastOriginalWarning=null,h._lastModifiedWarning=null,h._editorWorkerService=o,h._codeEditorService=u,h._contextKeyService=h._register(s.createScoped(t)),h._contextKeyService.createKey("isInDiffEditor",!0),h._themeService=l,h._notificationService=c,h.id=++lPe,h._domElement=t,r=r||{},h._renderSideBySide=!0,typeof r.renderSideBySide<"u"&&(h._renderSideBySide=r.renderSideBySide),h._ignoreTrimWhitespace=!0,typeof r.ignoreTrimWhitespace<"u"&&(h._ignoreTrimWhitespace=r.ignoreTrimWhitespace),h._renderIndicators=!0,typeof r.renderIndicators<"u"&&(h._renderIndicators=r.renderIndicators),h._originalIsEditable=!1,typeof r.originalEditable<"u"&&(h._originalIsEditable=!!r.originalEditable),h._updateDecorationsRunner=h._register(new Pr(function(){return h._updateDecorations()},0)),h._containerDomElement=document.createElement("div"),h._containerDomElement.className=e._getClassName(h._themeService.getTheme(),h._renderSideBySide),h._containerDomElement.style.position="relative",h._containerDomElement.style.height="100%",h._domElement.appendChild(h._containerDomElement),h._overviewViewportDomElement=wt(document.createElement("div")),h._overviewViewportDomElement.setClassName("diffViewport"),h._overviewViewportDomElement.setPosition("absolute"),h._overviewDomElement=document.createElement("div"),h._overviewDomElement.className="diffOverview",h._overviewDomElement.style.position="absolute",h._overviewDomElement.appendChild(h._overviewViewportDomElement.domNode),h._register(hi(h._overviewDomElement,"mousedown",function(E){h.modifiedEditor.delegateVerticalScrollbarMouseDown(E)})),h._containerDomElement.appendChild(h._overviewDomElement),h._originalDomNode=document.createElement("div"),h._originalDomNode.className="editor original",h._originalDomNode.style.position="absolute",h._originalDomNode.style.height="100%",h._containerDomElement.appendChild(h._originalDomNode),h._modifiedDomNode=document.createElement("div"),h._modifiedDomNode.className="editor modified",h._modifiedDomNode.style.position="absolute",h._modifiedDomNode.style.height="100%",h._containerDomElement.appendChild(h._modifiedDomNode),h._beginUpdateDecorationsTimeout=-1,h._currentlyChangingViewZones=!1,h._diffComputationToken=0,h._originalEditorState=new rz(d,i),h._modifiedEditorState=new rz(d,i),h._isVisible=!0,h._isHandlingScrollEvent=!1,h._width=0,h._height=0,h._reviewHeight=0,h._diffComputationResult=null;var p=h._contextKeyService.createScoped();p.createKey("isInDiffLeftEditor",!0);var v=new km;v.set(yt,p);var m=a.createChild(v),_=h._contextKeyService.createScoped();_.createKey("isInDiffRightEditor",!0);var b=new km;b.set(yt,_);var C=a.createChild(b);return h.originalEditor=h._createLeftHandSideEditor(r,m),h.modifiedEditor=h._createRightHandSideEditor(r,C),h._originalOverviewRuler=null,h._modifiedOverviewRuler=null,h._reviewPane=new rPe(h),h._containerDomElement.appendChild(h._reviewPane.domNode.domNode),h._containerDomElement.appendChild(h._reviewPane.shadow.domNode),h._containerDomElement.appendChild(h._reviewPane.actionBarContainer.domNode),r.automaticLayout?(h._measureDomElementToken=new E_,h._measureDomElementToken.cancelAndSet(function(){return h._measureDomElement(!1)},100)):h._measureDomElementToken=null,h._enableSplitViewResizing=!0,typeof r.enableSplitViewResizing<"u"&&(h._enableSplitViewResizing=r.enableSplitViewResizing),h._renderSideBySide?h._setStrategy(new oz(h._createDataSource(),h._enableSplitViewResizing)):h._setStrategy(new sz(h._createDataSource(),h._enableSplitViewResizing)),h._register(l.onThemeChange(function(E){h._strategy&&h._strategy.applyColors(E)&&h._updateDecorationsRunner.schedule(),h._containerDomElement.className=e._getClassName(h._themeService.getTheme(),h._renderSideBySide)})),h._codeEditorService.addDiffEditor(h),h}return e.prototype.hasWidgetFocus=function(){return El(document.activeElement,this._domElement)},e.prototype.diffReviewNext=function(){this._reviewPane.next()},e.prototype.diffReviewPrev=function(){this._reviewPane.prev()},e._getClassName=function(t,r){var i="monaco-diff-editor monaco-editor-background ";return r&&(i+="side-by-side "),i+=PT(t.type),i},e.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},e.prototype._createLeftHandSideEditor=function(t,r){var i=this,o=this._createInnerEditor(r,this._originalDomNode,this._adjustOptionsForLeftHandSide(t,this._originalIsEditable));return this._register(o.onDidScrollChange(function(s){i._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(i._isHandlingScrollEvent=!0,i.modifiedEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(function(){i._onViewZonesChanged()})),this._register(o.onDidChangeModelContent(function(){i._isVisible&&i._beginUpdateDecorationsSoon()})),o},e.prototype._createRightHandSideEditor=function(t,r){var i=this,o=this._createInnerEditor(r,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t));return this._register(o.onDidScrollChange(function(s){i._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(i._isHandlingScrollEvent=!0,i.originalEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(function(){i._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(function(s){s.fontInfo&&o.getModel()&&i._onViewZonesChanged()})),this._register(o.onDidChangeModelContent(function(){i._isVisible&&i._beginUpdateDecorationsSoon()})),o},e.prototype._createInnerEditor=function(t,r,i){return t.createInstance(Z6,r,i,{})},e.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._measureDomElementToken&&this._measureDomElementToken.dispose(),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),n.prototype.dispose.call(this)},e.prototype.getId=function(){return this.getEditorType()+":"+this.id},e.prototype.getEditorType=function(){return QA.IDiffEditor},e.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},e.prototype.getOriginalEditor=function(){return this.originalEditor},e.prototype.getModifiedEditor=function(){return this.modifiedEditor},e.prototype.updateOptions=function(t){var r=!1;typeof t.renderSideBySide<"u"&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,r=!0);var i=!1;typeof t.ignoreTrimWhitespace<"u"&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,i=!0),typeof t.renderIndicators<"u"&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),typeof t.originalEditable<"u"&&(this._originalIsEditable=!!t.originalEditable),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t,this._originalIsEditable)),typeof t.enableSplitViewResizing<"u"&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),r&&(this._renderSideBySide?this._setStrategy(new oz(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new sz(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getTheme(),this._renderSideBySide))},e.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},e.prototype.setModel=function(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(t?t.original:null),this.modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,t?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._diffComputationResult=null,this._layoutOverviewViewport()},e.prototype.getDomNode=function(){return this._domElement},e.prototype.getVisibleColumnFromPosition=function(t){return this.modifiedEditor.getVisibleColumnFromPosition(t)},e.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},e.prototype.setPosition=function(t){this.modifiedEditor.setPosition(t)},e.prototype.revealLine=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealLine(t,r)},e.prototype.revealLineInCenter=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealLineInCenter(t,r)},e.prototype.revealLineInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(t,r)},e.prototype.revealPosition=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealPosition(t,r)},e.prototype.revealPositionInCenter=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealPositionInCenter(t,r)},e.prototype.revealPositionInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(t,r)},e.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},e.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},e.prototype.setSelection=function(t){this.modifiedEditor.setSelection(t)},e.prototype.setSelections=function(t){this.modifiedEditor.setSelections(t)},e.prototype.revealLines=function(t,r,i){i===void 0&&(i=0),this.modifiedEditor.revealLines(t,r,i)},e.prototype.revealLinesInCenter=function(t,r,i){i===void 0&&(i=0),this.modifiedEditor.revealLinesInCenter(t,r,i)},e.prototype.revealLinesInCenterIfOutsideViewport=function(t,r,i){i===void 0&&(i=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(t,r,i)},e.prototype.revealRange=function(t,r,i,o){r===void 0&&(r=0),i===void 0&&(i=!1),o===void 0&&(o=!0),this.modifiedEditor.revealRange(t,r,i,o)},e.prototype.revealRangeInCenter=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealRangeInCenter(t,r)},e.prototype.revealRangeInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(t,r)},e.prototype.revealRangeAtTop=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealRangeAtTop(t,r)},e.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},e.prototype.saveViewState=function(){var t=this.originalEditor.saveViewState(),r=this.modifiedEditor.saveViewState();return{original:t,modified:r}},e.prototype.restoreViewState=function(t){if(t.original&&t.modified){var r=t;this.originalEditor.restoreViewState(r.original),this.modifiedEditor.restoreViewState(r.modified)}},e.prototype.layout=function(t){this._measureDomElement(!1,t)},e.prototype.focus=function(){this.modifiedEditor.focus()},e.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},e.prototype.trigger=function(t,r,i){this.modifiedEditor.trigger(t,r,i)},e.prototype.changeDecorations=function(t){return this.modifiedEditor.changeDecorations(t)},e.prototype._measureDomElement=function(t,r){if(r=r||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight},r.width<=0){this._width=0,this._height=0,this._reviewHeight=0;return}!t&&r.width===this._width&&r.height===this._height||(this._width=r.width,this._height=r.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},e.prototype._layoutOverviewRulers=function(){if(!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var t=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH,r=this.modifiedEditor.getLayoutInfo();r&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:t+e.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))}},e.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},e.prototype._beginUpdateDecorationsSoon=function(){var t=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return t._beginUpdateDecorations()},e.UPDATE_DIFF_DECORATIONS_DELAY)},e._equals=function(t,r){return!t&&!r?!0:!t||!r?!1:t.toString()===r.toString()},e.prototype._beginUpdateDecorations=function(){var t=this;this._beginUpdateDecorationsTimeout=-1;var r=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(!(!r||!i)){this._diffComputationToken++;var o=this._diffComputationToken;if(!this._editorWorkerService.canComputeDiff(r.uri,i.uri)){(!e._equals(r.uri,this._lastOriginalWarning)||!e._equals(i.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=r.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(D("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._editorWorkerService.computeDiff(r.uri,i.uri,this._ignoreTrimWhitespace).then(function(s){o===t._diffComputationToken&&r===t.originalEditor.getModel()&&i===t.modifiedEditor.getModel()&&(t._diffComputationResult=s,t._updateDecorationsRunner.schedule(),t._onDidUpdateDiff.fire())},function(s){o===t._diffComputationToken&&r===t.originalEditor.getModel()&&i===t.modifiedEditor.getModel()&&(t._diffComputationResult=null,t._updateDecorationsRunner.schedule())})}},e.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},e.prototype._updateDecorations=function(){if(!(!this.originalEditor.getModel()||!this.modifiedEditor.getModel()||!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var t=this._diffComputationResult?this._diffComputationResult.changes:[],r=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(t,this._ignoreTrimWhitespace,this._renderIndicators,r,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},e.prototype._adjustOptionsForSubEditor=function(t){var r=ac(t||{});return r.inDiffEditor=!0,r.wordWrap="off",r.wordWrapMinified=!1,r.automaticLayout=!1,r.scrollbar=r.scrollbar||{},r.scrollbar.vertical="visible",r.folding=!1,r.codeLens=!1,r.fixedOverflowWidgets=!0,r.minimap||(r.minimap={}),r.minimap.enabled=!1,r},e.prototype._adjustOptionsForLeftHandSide=function(t,r){var i=this._adjustOptionsForSubEditor(t);return i.readOnly=!r,i.overviewRulerLanes=1,i.extraEditorClassName="original-in-monaco-diff-editor",i},e.prototype._adjustOptionsForRightHandSide=function(t){var r=this._adjustOptionsForSubEditor(t);return r.revealHorizontalRightPadding=Rl.viewInfo.revealHorizontalRightPadding+e.ENTIRE_DIFF_OVERVIEW_WIDTH,r.scrollbar.verticalHasArrows=!1,r.extraEditorClassName="modified-in-monaco-diff-editor",r},e.prototype.doLayout=function(){this._measureDomElement(!0)},e.prototype._doLayout=function(){var t=this._strategy.layout();this._originalDomNode.style.width=t+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-t+"px",this._modifiedDomNode.style.left=t+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:t,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-t-e.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},e.prototype._layoutOverviewViewport=function(){var t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},e.prototype._computeOverviewViewport=function(){var t=this.modifiedEditor.getLayoutInfo();if(!t)return null;var r=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),o=Math.max(0,t.contentHeight),s=Math.max(0,o-2*0),a=i>0?s/i:0,u=Math.max(0,Math.floor(t.contentHeight*a)),l=Math.floor(r*a);return{height:u,top:l}},e.prototype._createDataSource=function(){var t=this;return{getWidth:function(){return t._width},getHeight:function(){return t._height-t._reviewHeight},getContainerDomNode:function(){return t._containerDomElement},relayoutEditors:function(){t._doLayout()},getOriginalEditor:function(){return t.originalEditor},getModifiedEditor:function(){return t.modifiedEditor}}},e.prototype._setStrategy=function(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._measureDomElement(!0)},e.prototype._getLineChangeAtOrBeforeLineNumber=function(t,r){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||t<r(i[0]))return null;for(var o=0,s=i.length-1;o<s;){var a=Math.floor((o+s)/2),u=r(i[a]),l=a+1<=s?r(i[a+1]):Number.MAX_VALUE;t<u?s=a-1:t>=l?o=a+1:(o=a,s=a)}return i[o]},e.prototype._getEquivalentLineForOriginalLineNumber=function(t){var r=this._getLineChangeAtOrBeforeLineNumber(t,function(l){return l.originalStartLineNumber});if(!r)return t;var i=r.originalStartLineNumber+(r.originalEndLineNumber>0?-1:0),o=r.modifiedStartLineNumber+(r.modifiedEndLineNumber>0?-1:0),s=r.originalEndLineNumber>0?r.originalEndLineNumber-r.originalStartLineNumber+1:0,a=r.modifiedEndLineNumber>0?r.modifiedEndLineNumber-r.modifiedStartLineNumber+1:0,u=t-i;return u<=s?o+Math.min(u,a):o+a-s+u},e.prototype._getEquivalentLineForModifiedLineNumber=function(t){var r=this._getLineChangeAtOrBeforeLineNumber(t,function(l){return l.modifiedStartLineNumber});if(!r)return t;var i=r.originalStartLineNumber+(r.originalEndLineNumber>0?-1:0),o=r.modifiedStartLineNumber+(r.modifiedEndLineNumber>0?-1:0),s=r.originalEndLineNumber>0?r.originalEndLineNumber-r.originalStartLineNumber+1:0,a=r.modifiedEndLineNumber>0?r.modifiedEndLineNumber-r.modifiedStartLineNumber+1:0,u=t-o;return u<=a?i+Math.min(u,s):i+s-a+u},e.prototype.getDiffLineInformationForOriginal=function(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null},e.prototype.getDiffLineInformationForModified=function(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null},e.ONE_OVERVIEW_WIDTH=15,e.ENTIRE_DIFF_OVERVIEW_WIDTH=30,e.UPDATE_DIFF_DECORATIONS_DELAY=200,e=uPe([bd(3,Fa),bd(4,yt),bd(5,cr),bd(6,Dn),bd(7,Yr),bd(8,gi),bd(9,og)],e),e}(fe),Kte=function(n){L_(e,n);function e(t){var r=n.call(this)||this;return r._dataSource=t,r._insertColor=null,r._removeColor=null,r}return e.prototype.applyColors=function(t){var r=(t.getColor(gte)||OM).transparent(2),i=(t.getColor(vte)||kM).transparent(2),o=!r.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=r,this._removeColor=i,o},e.prototype.getEditorsDiffDecorations=function(t,r,i,o,s,a,u){s=s.sort(function(h,p){return h.afterLineNumber-p.afterLineNumber}),o=o.sort(function(h,p){return h.afterLineNumber-p.afterLineNumber});var l=this._getViewZones(t,o,s,a,u,i),c=this._getOriginalEditorDecorations(t,r,i,a,u),d=this._getModifiedEditorDecorations(t,r,i,a,u);return{original:{decorations:c.decorations,overviewZones:c.overviewZones,zones:l.original},modified:{decorations:d.decorations,overviewZones:d.overviewZones,zones:l.modified}}},e}(fe),iz=function(){function n(e){this._source=e,this._index=-1,this.current=null,this.advance()}return n.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},n}(),Yte=function(){function n(e,t,r){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=r}return n.prototype.getViewZones=function(){for(var e={original:[],modified:[]},t=0,r=0,i=0,o=0,s=0,a=0,u=function(L,O){return L.afterLineNumber-O.afterLineNumber},l=function(L,O){if(O.domNode===null&&L.length>0){var P=L[L.length-1];if(P.afterLineNumber===O.afterLineNumber&&P.domNode===null){P.heightInLines+=O.heightInLines;return}}L.push(O)},c=new iz(this.modifiedForeignVZ),d=new iz(this.originalForeignVZ),h=0,p=this.lineChanges.length;h<=p;h++){var v=h<p?this.lineChanges[h]:null;v!==null?(i=v.originalStartLineNumber+(v.originalEndLineNumber>0?-1:0),o=v.modifiedStartLineNumber+(v.modifiedEndLineNumber>0?-1:0),r=v.originalEndLineNumber>0?v.originalEndLineNumber-v.originalStartLineNumber+1:0,t=v.modifiedEndLineNumber>0?v.modifiedEndLineNumber-v.modifiedStartLineNumber+1:0,s=Math.max(v.originalStartLineNumber,v.originalEndLineNumber),a=Math.max(v.modifiedStartLineNumber,v.modifiedEndLineNumber)):(i+=1e7+r,o+=1e7+t,s=i,a=o);for(var m=[],_=[];c.current&&c.current.afterLineNumber<=a;){var b=void 0;c.current.afterLineNumber<=o?b=i-o+c.current.afterLineNumber:b=s;var C=null;v&&v.modifiedStartLineNumber<=c.current.afterLineNumber&&c.current.afterLineNumber<=v.modifiedEndLineNumber&&(C=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),m.push({afterLineNumber:b,heightInLines:c.current.heightInLines,domNode:null,marginDomNode:C}),c.advance()}for(;d.current&&d.current.afterLineNumber<=s;){var b=void 0;d.current.afterLineNumber<=i?b=o-i+d.current.afterLineNumber:b=a,_.push({afterLineNumber:b,heightInLines:d.current.heightInLines,domNode:null}),d.advance()}if(v!==null&&em(v)){var E=this._produceOriginalFromDiff(v,r,t);E&&m.push(E)}if(v!==null&&tm(v)){var E=this._produceModifiedFromDiff(v,r,t);E&&_.push(E)}var T=0,A=0;for(m=m.sort(u),_=_.sort(u);T<m.length&&A<_.length;){var S=m[T],N=_[A],k=S.afterLineNumber-i,F=N.afterLineNumber-o;k<F?(l(e.original,S),T++):F<k?(l(e.modified,N),A++):S.shouldNotShrink?(l(e.original,S),T++):N.shouldNotShrink?(l(e.modified,N),A++):S.heightInLines>=N.heightInLines?(S.heightInLines-=N.heightInLines,A++):(N.heightInLines-=S.heightInLines,T++)}for(;T<m.length;)l(e.original,m[T]),T++;for(;A<_.length;)l(e.modified,_[A]),A++}return{original:n._ensureDomNodes(e.original),modified:n._ensureDomNodes(e.modified)}},n._ensureDomNodes=function(e){return e.map(function(t){return t.domNode||(t.domNode=hPe()),t})},n}();function sc(n,e,t,r,i){return{range:new H(n,e,t,r),options:i}}var ao={charDelete:mt.register({className:"char-delete"}),charDeleteWholeLine:mt.register({className:"char-delete",isWholeLine:!0}),charInsert:mt.register({className:"char-insert"}),charInsertWholeLine:mt.register({className:"char-insert",isWholeLine:!0}),lineInsert:mt.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:mt.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:mt.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:mt.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:mt.register({marginClassName:"line-delete"})},oz=function(n){L_(e,n);function e(t,r){var i=n.call(this,t)||this;return i._disableSash=r===!1,i._sashRatio=null,i._sashPosition=null,i._startSashPosition=null,i._sash=i._register(new p2(i._dataSource.getContainerDomNode(),i)),i._disableSash&&(i._sash.state=0),i._sash.onDidStart(function(){return i.onSashDragStart()}),i._sash.onDidChange(function(o){return i.onSashDrag(o)}),i._sash.onDidEnd(function(){return i.onSashDragEnd()}),i._sash.onDidReset(function(){return i.onSashReset()}),i}return e.prototype.setEnableSplitViewResizing=function(t){var r=t===!1;this._disableSash!==r&&(this._disableSash=r,this._sash.state=this._disableSash?0:3)},e.prototype.layout=function(t){t===void 0&&(t=this._sashRatio);var r=this._dataSource.getWidth(),i=r-WM.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((t||.5)*i),s=Math.floor(.5*i);return o=this._disableSash?s:o||s,i>e.MINIMUM_EDITOR_WIDTH*2?(o<e.MINIMUM_EDITOR_WIDTH&&(o=e.MINIMUM_EDITOR_WIDTH),o>i-e.MINIMUM_EDITOR_WIDTH&&(o=i-e.MINIMUM_EDITOR_WIDTH)):o=s,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},e.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},e.prototype.onSashDrag=function(t){var r=this._dataSource.getWidth(),i=r-WM.ENTIRE_DIFF_OVERVIEW_WIDTH,o=this.layout((this._startSashPosition+(t.currentX-t.startX))/i);this._sashRatio=o/i,this._dataSource.relayoutEditors()},e.prototype.onSashDragEnd=function(){this._sash.layout()},e.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},e.prototype.getVerticalSashTop=function(t){return 0},e.prototype.getVerticalSashLeft=function(t){return this._sashPosition},e.prototype.getVerticalSashHeight=function(t){return this._dataSource.getHeight()},e.prototype._getViewZones=function(t,r,i,o,s){var a=new cPe(t,r,i);return a.getViewZones()},e.prototype._getOriginalEditorDecorations=function(t,r,i,o,s){for(var a=String(this._removeColor),u={decorations:[],overviewZones:[]},l=o.getModel(),c=0,d=t.length;c<d;c++){var h=t[c];if(tm(h)&&(u.decorations.push({range:new H(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE),options:i?ao.lineDeleteWithSign:ao.lineDelete}),(!em(h)||!h.charChanges)&&u.decorations.push(sc(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE,ao.charDeleteWholeLine)),u.overviewZones.push(new Jb(h.originalStartLineNumber,h.originalEndLineNumber,a)),h.charChanges))for(var p=0,v=h.charChanges.length;p<v;p++){var m=h.charChanges[p];if(tm(m))if(r)for(var _=m.originalStartLineNumber;_<=m.originalEndLineNumber;_++){var b=void 0,C=void 0;_===m.originalStartLineNumber?b=m.originalStartColumn:b=l.getLineFirstNonWhitespaceColumn(_),_===m.originalEndLineNumber?C=m.originalEndColumn:C=l.getLineLastNonWhitespaceColumn(_),u.decorations.push(sc(_,b,_,C,ao.charDelete))}else u.decorations.push(sc(m.originalStartLineNumber,m.originalStartColumn,m.originalEndLineNumber,m.originalEndColumn,ao.charDelete))}}return u},e.prototype._getModifiedEditorDecorations=function(t,r,i,o,s){for(var a=String(this._insertColor),u={decorations:[],overviewZones:[]},l=s.getModel(),c=0,d=t.length;c<d;c++){var h=t[c];if(em(h)&&(u.decorations.push({range:new H(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE),options:i?ao.lineInsertWithSign:ao.lineInsert}),(!tm(h)||!h.charChanges)&&u.decorations.push(sc(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE,ao.charInsertWholeLine)),u.overviewZones.push(new Jb(h.modifiedStartLineNumber,h.modifiedEndLineNumber,a)),h.charChanges))for(var p=0,v=h.charChanges.length;p<v;p++){var m=h.charChanges[p];if(em(m))if(r)for(var _=m.modifiedStartLineNumber;_<=m.modifiedEndLineNumber;_++){var b=void 0,C=void 0;_===m.modifiedStartLineNumber?b=m.modifiedStartColumn:b=l.getLineFirstNonWhitespaceColumn(_),_===m.modifiedEndLineNumber?C=m.modifiedEndColumn:C=l.getLineLastNonWhitespaceColumn(_),u.decorations.push(sc(_,b,_,C,ao.charInsert))}else u.decorations.push(sc(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn,ao.charInsert))}}return u},e.MINIMUM_EDITOR_WIDTH=100,e}(Kte),cPe=function(n){L_(e,n);function e(t,r,i){return n.call(this,t,r,i)||this}return e.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},e.prototype._produceOriginalFromDiff=function(t,r,i){return i>r?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:i-r,domNode:null}:null},e.prototype._produceModifiedFromDiff=function(t,r,i){return r>i?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:r-i,domNode:null}:null},e}(Yte),sz=function(n){L_(e,n);function e(t,r){var i=n.call(this,t)||this;return i.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,i._register(t.getOriginalEditor().onDidLayoutChange(function(o){i.decorationsLeft!==o.decorationsLeft&&(i.decorationsLeft=o.decorationsLeft,t.relayoutEditors())})),i}return e.prototype.setEnableSplitViewResizing=function(t){},e.prototype._getViewZones=function(t,r,i,o,s,a){var u=new fPe(t,r,i,o,s,a);return u.getViewZones()},e.prototype._getOriginalEditorDecorations=function(t,r,i,o,s){for(var a=String(this._removeColor),u={decorations:[],overviewZones:[]},l=0,c=t.length;l<c;l++){var d=t[l];tm(d)&&(u.decorations.push({range:new H(d.originalStartLineNumber,1,d.originalEndLineNumber,Number.MAX_VALUE),options:ao.lineDeleteMargin}),u.overviewZones.push(new Jb(d.originalStartLineNumber,d.originalEndLineNumber,a)))}return u},e.prototype._getModifiedEditorDecorations=function(t,r,i,o,s){for(var a=String(this._insertColor),u={decorations:[],overviewZones:[]},l=s.getModel(),c=0,d=t.length;c<d;c++){var h=t[c];if(em(h))if(u.decorations.push({range:new H(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE),options:i?ao.lineInsertWithSign:ao.lineInsert}),u.overviewZones.push(new Jb(h.modifiedStartLineNumber,h.modifiedEndLineNumber,a)),h.charChanges)for(var p=0,v=h.charChanges.length;p<v;p++){var m=h.charChanges[p];if(em(m))if(r)for(var _=m.modifiedStartLineNumber;_<=m.modifiedEndLineNumber;_++){var b=void 0,C=void 0;_===m.modifiedStartLineNumber?b=m.modifiedStartColumn:b=l.getLineFirstNonWhitespaceColumn(_),_===m.modifiedEndLineNumber?C=m.modifiedEndColumn:C=l.getLineLastNonWhitespaceColumn(_),u.decorations.push(sc(_,b,_,C,ao.charInsert))}else u.decorations.push(sc(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn,ao.charInsert))}else u.decorations.push(sc(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE,ao.charInsertWholeLine))}return u},e.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},e}(Kte),fPe=function(n){L_(e,n);function e(t,r,i,o,s,a){var u=n.call(this,t,r,i)||this;return u.originalModel=o.getModel(),u.modifiedEditorConfiguration=s.getConfiguration(),u.modifiedEditorTabSize=s.getModel().getOptions().tabSize,u.renderIndicators=a,u}return e.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var t=document.createElement("div");return t.className="inline-added-margin-view-zone",t},e.prototype._produceOriginalFromDiff=function(t,r,i){var o=document.createElement("div");return o.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:o}},e.prototype._produceModifiedFromDiff=function(t,r,i){var o=[];if(t.charChanges)for(var s=0,a=t.charChanges.length;s<a;s++){var u=t.charChanges[s];tm(u)&&o.push(new ES(new H(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn),"char-delete",0))}for(var l=Kb(1e4),c=[],d=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,h=this.modifiedEditorConfiguration.lineHeight,p=this.modifiedEditorConfiguration.fontInfo.typicalHalfwidthCharacterWidth,v=0,m=[],_=t.originalStartLineNumber;_<=t.originalEndLineNumber;_++)if(v=Math.max(v,this._renderOriginalLine(_-t.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,_,o,l)),m.push(this.originalModel.getLineContent(_)),this.renderIndicators){var b=_-t.originalStartLineNumber;c=c.concat(['<div class="delete-sign" style="position:absolute;top:'+b*h+"px;width:"+d+"px;height:"+h+'px;right:0;"></div>'])}v+=this.modifiedEditorConfiguration.viewInfo.scrollBeyondLastColumn;var C=document.createElement("div");C.className="view-lines line-delete",C.innerHTML=l.build(),fa.applyFontInfoSlow(C,this.modifiedEditorConfiguration.fontInfo);var E=document.createElement("div");return E.className="inline-deleted-margin-view-zone",E.innerHTML=c.join(""),fa.applyFontInfoSlow(E,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:r,minWidthInPx:v*p,domNode:C,marginDomNode:E,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalContent:m}}},e.prototype._renderOriginalLine=function(t,r,i,o,s,a,u){var l=r.getLineTokens(s),c=l.getLineContent(),d=Yb.filter(a,s,1,c.length+1);u.appendASCIIString('<div class="view-line'),a.length===0&&u.appendASCIIString(" char-delete"),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(t*i.lineHeight)),u.appendASCIIString('px;width:1000000px;">');var h=Su.isBasicASCII(c,r.mightContainNonBasicASCII()),p=Su.containsRTL(c,h,r.mightContainRTL()),v=y6(new S_(i.fontInfo.isMonospace&&!i.viewInfo.disableMonospaceOptimizations,i.fontInfo.canUseHalfwidthRightwardsArrow,c,!1,h,p,0,l,d,o,i.fontInfo.spaceWidth,i.viewInfo.stopRenderingLineAfter,i.viewInfo.renderWhitespace,i.viewInfo.renderControlCharacters,i.viewInfo.fontLigatures,null),u);u.appendASCIIString("</div>");var m=v.characterMapping.getAbsoluteOffsets();return m.length>0?m[m.length-1]:0},e}(Yte);function em(n){return n.modifiedEndLineNumber>0}function tm(n){return n.originalEndLineNumber>0}function hPe(){var n=document.createElement("div");return n.className="diagonal-fill",n}mn(function(n,e){var t=n.getColor(gte);t&&(e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+t+"; }"),e.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+t+"; }"),e.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+t+"; }"));var r=n.getColor(vte);r&&(e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+r+"; }"),e.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+r+"; }"),e.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+r+"; }"));var i=n.getColor(KNe);i&&e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+i+"; }");var o=n.getColor(YNe);o&&e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+o+"; }");var s=n.getColor(l2);s&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=n.getColor(XNe);a&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")});var sg=qt("themeService"),wr=qt("keybindingService"),m2=qt("clipboardService"),o5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),s5=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xn=function(n,e){return function(t,r){e(t,r,n)}},dPe=0,az=!1;function pPe(){az||(az=!0,yxe(document.body))}var Xte=function(n){o5(e,n);function e(t,r,i,o,s,a,u,l,c,d){var h=this;return r=r||{},r.ariaLabel=r.ariaLabel||Gy.editorViewAccessibleLabel,r.ariaLabel=r.ariaLabel+";"+(Es?Gy.accessibilityHelpMessageIE:Gy.accessibilityHelpMessage),h=n.call(this,t,r,{},i,o,s,a,l,c,d)||this,u instanceof Tee?h._standaloneKeybindingService=u:h._standaloneKeybindingService=null,pPe(),h}return e.prototype.addCommand=function(t,r,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var o="DYNAMIC_"+ ++dPe,s=Le.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(o,t,r,s),o},e.prototype.createContextKey=function(t,r){return this._contextKeyService.createKey(t,r)},e.prototype.addAction=function(t){var r=this;if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),fe.None;var i=t.id,o=t.label,s=Le.and(Le.equals("editorId",this.getId()),Le.deserialize(t.precondition)),a=t.keybindings,u=Le.and(s,Le.deserialize(t.keybindingContext)),l=t.contextMenuGroupId||null,c=t.contextMenuOrder||0,d=function(){return Promise.resolve(t.run(r))},h=new Be,p=this.getId()+":"+i;if(h.add(Ri.registerCommand(p,d)),l){var v={command:{id:p,title:o},when:s,group:l,order:c};h.add(Tu.appendMenuItem(7,v))}if(Array.isArray(a))for(var m=0,_=a;m<_.length;m++){var b=_[m];h.add(this._standaloneKeybindingService.addDynamicKeybinding(p,b,d,u))}var C=new Hte(p,o,o,s,d,this._contextKeyService);return this._actions[i]=C,h.add(bn(function(){delete r._actions[i]})),h},e=s5([xn(2,cr),xn(3,Dn),xn(4,Qi),xn(5,yt),xn(6,wr),xn(7,Yr),xn(8,gi),xn(9,Ml)],e),e}(Z6),gPe=function(n){o5(e,n);function e(t,r,i,o,s,a,u,l,c,d,h,p,v){var m=this;RT(p,r,!1),r=r||{},typeof r.theme=="string"&&d.setTheme(r.theme);var _=r.model;delete r.model,m=n.call(this,t,r,o,s,a,u,l,d,h,v)||this,m._contextViewService=c,m._configurationService=p,m._register(i);var b;if(typeof _>"u"?(b=self.monaco.editor.createModel(r.value||"",r.language||"text/plain"),m._ownsModel=!0):(b=_,m._ownsModel=!1),m._attachModel(b),b){var C={oldModelUrl:null,newModelUrl:b.uri};m._onDidChangeModel.fire(C)}return m}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.updateOptions=function(t){RT(this._configurationService,t,!1),n.prototype.updateOptions.call(this,t)},e.prototype._attachModel=function(t){n.prototype._attachModel.call(this,t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},e.prototype._postDetachModelCleanup=function(t){n.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)},e=s5([xn(3,cr),xn(4,Dn),xn(5,Qi),xn(6,yt),xn(7,wr),xn(8,Nh),xn(9,sg),xn(10,gi),xn(11,pi),xn(12,Ml)],e),e}(Xte),vPe=function(n){o5(e,n);function e(t,r,i,o,s,a,u,l,c,d,h,p,v,m){var _=this;return RT(p,r,!0),r=r||{},typeof r.theme=="string"&&(r.theme=d.setTheme(r.theme)),_=n.call(this,t,r,m,l,s,o,c,d,h,v)||this,_._contextViewService=u,_._configurationService=p,_._register(i),_._contextViewService.setContainer(_._containerDomElement),_}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.updateOptions=function(t){RT(this._configurationService,t,!0),n.prototype.updateOptions.call(this,t)},e.prototype._createInnerEditor=function(t,r,i){return t.createInstance(Xte,r,i)},e.prototype.getOriginalEditor=function(){return n.prototype.getOriginalEditor.call(this)},e.prototype.getModifiedEditor=function(){return n.prototype.getModifiedEditor.call(this)},e.prototype.addCommand=function(t,r,i){return this.getModifiedEditor().addCommand(t,r,i)},e.prototype.createContextKey=function(t,r){return this.getModifiedEditor().createContextKey(t,r)},e.prototype.addAction=function(t){return this.getModifiedEditor().addAction(t)},e=s5([xn(3,cr),xn(4,yt),xn(5,wr),xn(6,Nh),xn(7,Fa),xn(8,Dn),xn(9,sg),xn(10,gi),xn(11,pi),xn(12,og),xn(13,cp(m2))],e),e}(WM),a5=qt("IWorkspaceEditService"),Oh=qt("modeService"),mPe=function(){function n(e){this._languageIdentifier=e}return n.prototype.getId=function(){return this._languageIdentifier.language},n}(),rk="text/plain",uz="application/unknown",$T=[],Qte=[],Zte=[];function RE(n,e){e===void 0&&(e=!1);var t=_Pe(n);$T.push(t),t.userConfigured?Zte.push(t):Qte.push(t),e&&!t.userConfigured&&$T.forEach(function(r){r.mime===t.mime||r.userConfigured||(t.extension&&r.extension===t.extension&&console.warn("Overwriting extension <<"+t.extension+">> to now point to mime <<"+t.mime+">>"),t.filename&&r.filename===t.filename&&console.warn("Overwriting filename <<"+t.filename+">> to now point to mime <<"+t.mime+">>"),t.filepattern&&r.filepattern===t.filepattern&&console.warn("Overwriting filepattern <<"+t.filepattern+">> to now point to mime <<"+t.mime+">>"),t.firstline&&r.firstline===t.firstline&&console.warn("Overwriting firstline <<"+t.firstline+">> to now point to mime <<"+t.mime+">>"))})}function _Pe(n){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:n.userConfigured,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?n.filepattern.toLowerCase():void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(br.sep)>=0:!1}}function yPe(n,e){var t;if(n)switch(n.scheme){case En.file:t=n.fsPath;break;case En.data:var r=_h.parseMetaData(n);t=r.get(_h.META_DATA_LABEL);break;default:t=n.path}if(!t)return[uz];t=t.toLowerCase();var i=Op(t),o=lz(t,i,Zte);if(o)return[o,rk];var s=lz(t,i,Qte);if(s)return[s,rk];if(e){var a=bPe(e);if(a)return[a,rk]}return[uz]}function lz(n,e,t){for(var r=null,i=null,o=null,s=t.length-1;s>=0;s--){var a=t[s];if(e===a.filenameLowercase){r=a;break}if(a.filepattern&&(!i||a.filepattern.length>i.filepattern.length)){var u=a.filepatternOnPath?n:e;tee(a.filepatternLowercase,u)&&(i=a)}a.extension&&(!o||a.extension.length>o.extension.length)&&xc(e,a.extensionLowercase)&&(o=a)}return r?r.mime:i?i.mime:o?o.mime:null}function bPe(n){if(n6(n)&&(n=n.substr(1)),n.length>0)for(var e=$T.length-1;e>=0;e--){var t=$T[e];if(t.firstline){var r=n.match(t.firstline);if(r&&r.length>0)return t.mime}}return null}var CPe={ModesRegistry:"editor.modesRegistry"},wPe=function(){function n(){this._onDidChangeLanguages=new Q,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}return n.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidChangeLanguages.fire(void 0)},n.prototype.getLanguages=function(){return[].concat(this._languages).concat(this._dynamicLanguages)},n}(),bp=new wPe;To.add(CPe.ModesRegistry,bp);var u5="plaintext",Jte=new f6(u5,1);bp.registerLanguage({id:u5,extensions:[".txt",".gitignore"],aliases:[D("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]});Ot.register(Jte,{brackets:[["(",")"],["[","]"],["{","}"]]});var EPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cd=Object.prototype.hasOwnProperty,SPe=function(n){EPe(e,n);function e(t,r){t===void 0&&(t=!0),r===void 0&&(r=!1);var i=n.call(this)||this;return i._onDidChange=i._register(new Q),i.onDidChange=i._onDidChange.event,i._warnOnOverwrite=r,i._nextLanguageId2=1,i._languageIdToLanguage=[],i._languageToLanguageId=Object.create(null),i._languages={},i._mimeTypesMap={},i._nameMap={},i._lowercaseNameMap={},t&&(i._initializeFromRegistry(),i._register(bp.onDidChangeLanguages(function(o){return i._initializeFromRegistry()}))),i}return e.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};var t=bp.getLanguages();this._registerLanguages(t)},e.prototype._registerLanguages=function(t){for(var r=this,i=0,o=t;i<o.length;i++){var s=o[i];this._registerLanguage(s)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(a){var u=r._languages[a];u.name&&(r._nameMap[u.name]=u.identifier),u.aliases.forEach(function(l){r._lowercaseNameMap[l.toLowerCase()]=u.identifier}),u.mimetypes.forEach(function(l){r._mimeTypesMap[l]=u.identifier})}),To.as(T_.Configuration).registerOverrideIdentifiers(bp.getLanguages().map(function(a){return a.id})),this._onDidChange.fire()},e.prototype._getLanguageId=function(t){if(this._languageToLanguageId[t])return this._languageToLanguageId[t];var r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=t,this._languageToLanguageId[t]=r,r},e.prototype._registerLanguage=function(t){var r=t.id,i;if(Cd.call(this._languages,r))i=this._languages[r];else{var o=this._getLanguageId(r);i={identifier:new f6(r,o),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=i}this._mergeLanguage(i,t)},e.prototype._mergeLanguage=function(t,r){var i,o=r.id,s=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&((i=t.mimetypes).push.apply(i,r.mimetypes),s=r.mimetypes[0]),s||(s="text/x-"+o,t.mimetypes.push(s)),Array.isArray(r.extensions))for(var a=0,u=r.extensions;a<u.length;a++){var l=u[a];RE({id:o,mime:s,extension:l},this._warnOnOverwrite),t.extensions.push(l)}if(Array.isArray(r.filenames))for(var c=0,d=r.filenames;c<d.length;c++){var h=d[c];RE({id:o,mime:s,filename:h},this._warnOnOverwrite),t.filenames.push(h)}if(Array.isArray(r.filenamePatterns))for(var p=0,v=r.filenamePatterns;p<v.length;p++){var m=v[p];RE({id:o,mime:s,filepattern:m},this._warnOnOverwrite)}if(typeof r.firstLine=="string"&&r.firstLine.length>0){var _=r.firstLine;_.charAt(0)!=="^"&&(_="^"+_);try{var b=new RegExp(_);BDe(b)||RE({id:o,mime:s,firstline:b},this._warnOnOverwrite)}catch(k){He(k)}}t.aliases.push(o);var C=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?C=[null]:C=r.aliases),C!==null)for(var E=0,T=C;E<T.length;E++){var A=T[E];!A||A.length===0||t.aliases.push(A)}var S=C!==null&&C.length>0;if(!(S&&C[0]===null)){var N=(S?C[0]:null)||o;(S||!t.name)&&(t.name=N)}r.configuration&&t.configurationFiles.push(r.configuration)},e.prototype.isRegisteredMode=function(t){return Cd.call(this._mimeTypesMap,t)?!0:Cd.call(this._languages,t)},e.prototype.getModeIdForLanguageNameLowercase=function(t){return Cd.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t].language:null},e.prototype.extractModeIds=function(t){var r=this;return t?t.split(",").map(function(i){return i.trim()}).map(function(i){return Cd.call(r._mimeTypesMap,i)?r._mimeTypesMap[i].language:i}).filter(function(i){return Cd.call(r._languages,i)}):[]},e.prototype.getLanguageIdentifier=function(t){if(t===d6||t===0)return OT;var r;if(typeof t=="string")r=t;else if(r=this._languageIdToLanguage[t],!r)return null;return Cd.call(this._languages,r)?this._languages[r].identifier:null},e.prototype.getModeIdsFromFilepathOrFirstLine=function(t,r){if(!t&&!r)return[];var i=yPe(t,r);return this.extractModeIds(i.join(","))},e}(fe),TPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cz=function(n){TPe(e,n);function e(t,r){var i=n.call(this)||this;return i._onDidChange=i._register(new Q),i.onDidChange=i._onDidChange.event,i._selector=r,i.languageIdentifier=i._selector(),i._register(t(function(){return i._evaluate()})),i}return e.prototype._evaluate=function(){var t=this._selector();t.id!==this.languageIdentifier.id&&(this.languageIdentifier=t,this._onDidChange.fire(this.languageIdentifier))},e}(fe),DPe=function(){function n(e){var t=this;e===void 0&&(e=!1),this._onDidCreateMode=new Q,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new Q,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new SPe(!0,e),this._registry.onDidChange(function(){return t._onLanguagesMaybeChanged.fire()})}return n.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},n.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},n.prototype.getModeIdByFilepathOrFirstLine=function(e,t){var r=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return r.length>0?r[0]:null},n.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},n.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)},n.prototype.create=function(e){var t=this;return new cz(this.onLanguagesMaybeChanged,function(){var r=t.getModeId(e);return t._createModeAndGetLanguageIdentifier(r)})},n.prototype.createByFilepathOrFirstLine=function(e,t){var r=this;return new cz(this.onLanguagesMaybeChanged,function(){var i=r.getModeIdByFilepathOrFirstLine(e,t);return r._createModeAndGetLanguageIdentifier(i)})},n.prototype._createModeAndGetLanguageIdentifier=function(e){var t=this.getLanguageIdentifier(e||"plaintext")||OT;return this._getOrCreateMode(t.language),t},n.prototype.triggerMode=function(e){var t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")},n.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e)||OT;this._instantiatedModes[e]=new mPe(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]},n}(),APe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IPe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fz=function(n,e){return function(t,r){e(t,r,n)}};function PE(n){return n.toString()}var xPe=function(){function n(e,t,r){this._modelEventListeners=new Be,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(function(){return t(e)})),this._modelEventListeners.add(e.onDidChangeLanguage(function(i){return r(e,i)}))}return n.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},n.prototype.dispose=function(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()},n.prototype.setLanguage=function(e){var t=this;this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(function(){return t.model.setMode(e.languageIdentifier)}),this.model.setMode(e.languageIdentifier)},n}(),LPe=Uc||Tt?1:2,NPe=function(n){APe(e,n);function e(t,r){var i=n.call(this)||this;return i._onModelAdded=i._register(new Q),i.onModelAdded=i._onModelAdded.event,i._onModelRemoved=i._register(new Q),i.onModelRemoved=i._onModelRemoved.event,i._onModelModeChanged=i._register(new Q),i.onModelModeChanged=i._onModelModeChanged.event,i._configurationService=t,i._resourcePropertiesService=r,i._models={},i._modelCreationOptionsByLanguageAndResource=Object.create(null),i._configurationServiceSubscription=i._configurationService.onDidChangeConfiguration(function(o){return i._updateModelOptions()}),i._updateModelOptions(),i}return e._readModelOptions=function(t,r){var i=au.tabSize;if(t.editor&&typeof t.editor.tabSize<"u"){var o=parseInt(t.editor.tabSize,10);isNaN(o)||(i=o),i<1&&(i=1)}var s=i;if(t.editor&&typeof t.editor.indentSize<"u"&&t.editor.indentSize!=="tabSize"){var a=parseInt(t.editor.indentSize,10);isNaN(a)||(s=a),s<1&&(s=1)}var u=au.insertSpaces;t.editor&&typeof t.editor.insertSpaces<"u"&&(u=t.editor.insertSpaces==="false"?!1:!!t.editor.insertSpaces);var l=LPe,c=t.eol;c===`\r
`?l=2:c===`
`&&(l=1);var d=au.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace<"u"&&(d=t.editor.trimAutoWhitespace==="false"?!1:!!t.editor.trimAutoWhitespace);var h=au.detectIndentation;t.editor&&typeof t.editor.detectIndentation<"u"&&(h=t.editor.detectIndentation==="false"?!1:!!t.editor.detectIndentation);var p=au.largeFileOptimizations;return t.editor&&typeof t.editor.largeFileOptimizations<"u"&&(p=t.editor.largeFileOptimizations==="false"?!1:!!t.editor.largeFileOptimizations),{isForSimpleWidget:r,tabSize:i,indentSize:s,insertSpaces:u,detectIndentation:h,defaultEOL:l,trimAutoWhitespace:d,largeFileOptimizations:p}},e.prototype.getCreationOptions=function(t,r,i){var o=this._modelCreationOptionsByLanguageAndResource[t+r];if(!o){var s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:r}),a=this._resourcePropertiesService.getEOL(r,t);o=e._readModelOptions({editor:s,eol:a},i),this._modelCreationOptionsByLanguageAndResource[t+r]=o}return o},e.prototype._updateModelOptions=function(){var t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var r=Object.keys(this._models),i=0,o=r.length;i<o;i++){var s=r[i],a=this._models[s],u=a.model.getLanguageIdentifier().language,l=a.model.uri,c=t[u+l],d=this.getCreationOptions(u,l,a.model.isForSimpleWidget);e._setModelOptionsForModel(a.model,d,c)}},e._setModelOptionsForModel=function(t,r,i){i&&i.detectIndentation===r.detectIndentation&&i.insertSpaces===r.insertSpaces&&i.tabSize===r.tabSize&&i.indentSize===r.indentSize&&i.trimAutoWhitespace===r.trimAutoWhitespace||(r.detectIndentation?(t.detectIndentation(r.insertSpaces,r.tabSize),t.updateOptions({trimAutoWhitespace:r.trimAutoWhitespace})):t.updateOptions({insertSpaces:r.insertSpaces,tabSize:r.tabSize,indentSize:r.indentSize,trimAutoWhitespace:r.trimAutoWhitespace}))},e.prototype.dispose=function(){this._configurationServiceSubscription.dispose(),n.prototype.dispose.call(this)},e.prototype._createModelData=function(t,r,i,o){var s=this,a=this.getCreationOptions(r.language,i,o),u=new I_(t,a,r,i),l=PE(u.uri);if(this._models[l])throw new Error("ModelService: Cannot add model because it already exists!");var c=new xPe(u,function(d){return s._onWillDispose(d)},function(d,h){return s._onDidChangeLanguage(d,h)});return this._models[l]=c,c},e.prototype.createModel=function(t,r,i,o){o===void 0&&(o=!1);var s;return r?(s=this._createModelData(t,r.languageIdentifier,i,o),this.setMode(s.model,r)):s=this._createModelData(t,Jte,i,o),this._onModelAdded.fire(s.model),s.model},e.prototype.setMode=function(t,r){if(r){var i=this._models[PE(t.uri)];i&&i.setLanguage(r)}},e.prototype.getModels=function(){for(var t=[],r=Object.keys(this._models),i=0,o=r.length;i<o;i++){var s=r[i];t.push(this._models[s].model)}return t},e.prototype.getModel=function(t){var r=PE(t),i=this._models[r];return i?i.model:null},e.prototype._onWillDispose=function(t){var r=PE(t.uri),i=this._models[r];delete this._models[r],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)},e.prototype._onDidChangeLanguage=function(t,r){var i=r.oldLanguage,o=t.getLanguageIdentifier().language,s=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),a=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,a,s),this._onModelModeChanged.fire({model:t,oldModeId:i})},e=IPe([fz(0,pi),fz(1,uee)],e),e}(fe),OPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kPe=function(n){OPe(e,n);function e(){var t=n.call(this)||this;return t._onCodeEditorAdd=t._register(new Q),t.onCodeEditorAdd=t._onCodeEditorAdd.event,t._onCodeEditorRemove=t._register(new Q),t.onCodeEditorRemove=t._onCodeEditorRemove.event,t._onDiffEditorAdd=t._register(new Q),t._onDiffEditorRemove=t._register(new Q),t._codeEditors=Object.create(null),t._diffEditors=Object.create(null),t}return e.prototype.addCodeEditor=function(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)},e.prototype.removeCodeEditor=function(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)},e.prototype.listCodeEditors=function(){var t=this;return Object.keys(this._codeEditors).map(function(r){return t._codeEditors[r]})},e.prototype.addDiffEditor=function(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)},e.prototype.removeDiffEditor=function(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)},e.prototype.listDiffEditors=function(){var t=this;return Object.keys(this._diffEditors).map(function(r){return t._diffEditors[r]})},e.prototype.getFocusedCodeEditor=function(){for(var t=null,r=this.listCodeEditors(),i=0,o=r;i<o.length;i++){var s=o[i];if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(t=s)}return t},e}(fe),RPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PPe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},MPe=function(n,e){return function(t,r){e(t,r,n)}},FPe=function(n){RPe(e,n);function e(t,r){r===void 0&&(r=xh());var i=n.call(this)||this;return i._decorationOptionProviders=new Map,i._styleSheet=r,i._themeService=t,i}return e.prototype.registerDecorationType=function(t,r,i){var o=this._decorationOptionProviders.get(t);if(!o){var s={styleSheet:this._styleSheet,key:t,parentTypeKey:i,options:r||Object.create(null)};i?o=new BPe(this._themeService,s):o=new HPe(this._themeService,s),this._decorationOptionProviders.set(t,o)}o.refCount++},e.prototype.removeDecorationType=function(t){var r=this._decorationOptionProviders.get(t);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(t),r.dispose(),this.listCodeEditors().forEach(function(i){return i.removeDecorations(t)})))},e.prototype.resolveDecorationOptions=function(t,r){var i=this._decorationOptionProviders.get(t);if(!i)throw new Error("Unknown decoration type key: "+t);return i.getOptions(this,r)},e=PPe([MPe(0,Yr)],e),e}(kPe),BPe=function(){function n(e,t){this._parentTypeKey=t.parentTypeKey,this.refCount=0,this._beforeContentRules=new KT(3,t,e),this._afterContentRules=new KT(4,t,e)}return n.prototype.getOptions=function(e,t){var r=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(r.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(r.afterContentClassName=this._afterContentRules.className),r},n.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},n}(),HPe=function(){function n(e,t){var r=this;this._disposables=new Be,this.refCount=0;var i=function(c){var d=new KT(c,t,e);if(r._disposables.add(d),d.hasContent)return d.className},o=function(c){var d=new KT(c,t,e);return r._disposables.add(d),d.hasContent?{className:d.className,hasLetterSpacing:d.hasLetterSpacing}:null};this.className=i(0);var s=o(1);s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=i(3),this.afterContentClassName=i(4),this.glyphMarginClassName=i(2);var a=t.options;this.isWholeLine=!!a.isWholeLine,this.stickiness=a.rangeBehavior;var u=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,l=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;(typeof u<"u"||typeof l<"u")&&(this.overviewRuler={color:u||l,darkColor:l||u,position:a.overviewRulerLane||ia.Center})}return n.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},n.prototype.dispose=function(){this._disposables.dispose()},n}(),J0={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},KT=function(){function n(e,t,r){var i=this;this._theme=r.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var o=ik.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(o=o+" "+ik.getClassName(this._providerArgs.parentTypeKey,e)),this._className=o,this._unThemedSelector=ik.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=r.onThemeChange(function(s){i._theme=r.getTheme(),i._removeCSS(),i._buildCSS()}):this._themeListener=null}return n.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(n.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),n.prototype._buildCSS=function(){var e=this._providerArgs.options,t,r,i;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),r=this.getCSSTextForModelDecorationClassName(e.light),i=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),r=this.getCSSTextForModelDecorationInlineClassName(e.light),i=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),r=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),r=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),r=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var o=this._providerArgs.styleSheet.sheet,s=!1;t.length>0&&(o.insertRule(this._unThemedSelector+" {"+t+"}",0),s=!0),r.length>0&&(o.insertRule(".vs"+this._unThemedSelector+" {"+r+"}",0),s=!0),i.length>0&&(o.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+i+"}",0),s=!0),this._hasContent=s},n.prototype._removeCSS=function(){cM(this._unThemedSelector,this._providerArgs.styleSheet)},n.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},n.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},n.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if(typeof e<"u"){if(this.collectBorderSettingsCSSText(e,t),typeof e.contentIconPath<"u"&&t.push(Yt(J0.contentIconPath,Cj(Ft.revive(e.contentIconPath)))),typeof e.contentText=="string"){var r=e.contentText.match(/^.*$/m)[0],i=r.replace(/['\\]/g,"\\$&");t.push(Yt(J0.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},n.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return typeof e.gutterIconPath<"u"&&(t.push(Yt(J0.gutterIconPath,Cj(Ft.revive(e.gutterIconPath)))),typeof e.gutterIconSize<"u"&&t.push(Yt(J0.gutterIconSize,e.gutterIconSize))),t.join("")},n.prototype.collectBorderSettingsCSSText=function(e,t){return this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(Yt("box-sizing: border-box;")),!0):!1},n.prototype.collectCSSText=function(e,t,r){for(var i=r.length,o=0,s=t;o<s.length;o++){var a=s[o],u=this.resolveValue(e[a]);typeof u=="string"&&r.push(Yt(J0[a],u))}return r.length!==i},n.prototype.resolveValue=function(e){if(DAe(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},n}(),ik=function(){function n(){}return n.getClassName=function(e,t){return"ced-"+e+"-"+t},n.getSelector=function(e,t,r){var i=".monaco-editor ."+this.getClassName(e,r);return t&&(i=i+"."+this.getClassName(t,r)),r===3?i+="::before":r===4&&(i+="::after"),i},n}(),VPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WPe=function(n){VPe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getActiveCodeEditor=function(){return null},e.prototype.openCodeEditor=function(t,r,i){return r?Promise.resolve(this.doOpenEditor(r,t)):Promise.resolve(null)},e.prototype.doOpenEditor=function(t,r){var i=this.findModel(t,r.resource);if(!i){if(r.resource){var o=r.resource.scheme;if(o===En.http||o===En.https)return FJ(r.resource.toString()),t}return null}var s=r.options?r.options.selection:null;if(s)if(typeof s.endLineNumber=="number"&&typeof s.endColumn=="number")t.setSelection(s),t.revealRangeInCenter(s,1);else{var a={lineNumber:s.startLineNumber,column:s.startColumn};t.setPosition(a),t.revealPositionInCenter(a,1)}return t},e.prototype.findModel=function(t,r){var i=t.getModel();return i&&i.uri.toString()!==r.toString()?null:i},e}(FPe),UPe=function(){function n(e,t,r,i,o){this.token=e,this.index=t,this.fontStyle=r,this.foreground=i,this.background=o}return n}();function jPe(n){if(!n||!Array.isArray(n))return[];for(var e=[],t=0,r=0,i=n.length;r<i;r++){var o=n[r],s=-1;if(typeof o.fontStyle=="string"){s=0;for(var a=o.fontStyle.split(" "),u=0,l=a.length;u<l;u++){var c=a[u];switch(c){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break}}}var d=null;typeof o.foreground=="string"&&(d=o.foreground);var h=null;typeof o.background=="string"&&(h=o.background),e[t++]=new UPe(o.token||"",r,s,d,h)}return e}function qPe(n,e){n.sort(function(b,C){var E=YPe(b.token,C.token);return E!==0?E:b.index-C.index});for(var t=0,r="000000",i="ffffff";n.length>=1&&n[0].token==="";){var o=n.shift();o.fontStyle!==-1&&(t=o.fontStyle),o.foreground!==null&&(r=o.foreground),o.background!==null&&(i=o.background)}for(var s=new GPe,a=0,u=e;a<u.length;a++){var l=u[a];s.getId(l)}for(var c=s.getId(r),d=s.getId(i),h=new XPe(t,c,d),p=new QPe(h),v=0,m=n.length;v<m;v++){var _=n[v];p.insert(_.token,_.fontStyle,s.getId(_.foreground),s.getId(_.background))}return new ene(s,p)}var zPe=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,GPe=function(){function n(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return n.prototype.getId=function(e){if(e===null)return 0;var t=e.match(zPe);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var r=this._color2id.get(e);return r||(r=++this._lastColorId,this._color2id.set(e,r),this._id2color[r]=se.fromHex("#"+e),r)},n.prototype.getColorMap=function(){return this._id2color.slice(0)},n}(),ene=function(){function n(e,t){this._colorMap=e,this._root=t,this._cache=new Map}return n.createFromRawTokenTheme=function(e,t){return this.createFromParsedTokenTheme(jPe(e),t)},n.createFromParsedTokenTheme=function(e,t){return qPe(e,t)},n.prototype.getColorMap=function(){return this._colorMap.getColorMap()},n.prototype._match=function(e){return this._root.match(e)},n.prototype.match=function(e,t){var r=this._cache.get(t);if(typeof r>"u"){var i=this._match(t),o=KPe(t);r=(i.metadata|o<<8)>>>0,this._cache.set(t,r)}return(r|e<<0)>>>0},n}(),$Pe=/\b(comment|string|regex|regexp)\b/;function KPe(n){var e=n.match($Pe);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function YPe(n,e){return n<e?-1:n>e?1:0}var XPe=function(){function n(e,t,r){this._fontStyle=e,this._foreground=t,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return n.prototype.clone=function(){return new n(this._fontStyle,this._foreground,this._background)},n.prototype.acceptOverwrite=function(e,t,r){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},n}(),QPe=function(){function n(e){this._mainRule=e,this._children=new Map}return n.prototype.match=function(e){if(e==="")return this._mainRule;var t=e.indexOf("."),r,i;t===-1?(r=e,i=""):(r=e.substring(0,t),i=e.substring(t+1));var o=this._children.get(r);return typeof o<"u"?o.match(i):this._mainRule},n.prototype.insert=function(e,t,r,i){if(e===""){this._mainRule.acceptOverwrite(t,r,i);return}var o=e.indexOf("."),s,a;o===-1?(s=e,a=""):(s=e.substring(0,o),a=e.substring(o+1));var u=this._children.get(s);typeof u>"u"&&(u=new n(this._mainRule.clone()),this._children.set(s,u)),u.insert(a,t,r,i)},n}();function ZPe(n){for(var e=[],t=1,r=n.length;t<r;t++){var i=n[t];e[t]=".mtk"+t+" { color: "+i+"; }"}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.join(`
`)}var uf,lf,av,JPe={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(uf={},uf[cl]="#FFFFFE",uf[rh]="#000000",uf[W6]="#E5EBF1",uf[c2]="#D3D3D3",uf[f2]="#939393",uf[U6]="#ADD6FF4D",uf)},eMe={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(lf={},lf[cl]="#1E1E1E",lf[rh]="#D4D4D4",lf[W6]="#3A3D41",lf[c2]="#404040",lf[f2]="#707070",lf[U6]="#ADD6FF26",lf)},tMe={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(av={},av[cl]="#000000",av[rh]="#FFFFFF",av[c2]="#FFFFFF",av[f2]="#FFFFFF",av)},Jd="vs",YT="vs-dark",e1="hc-black",nMe=To.as(Zee.ColorContribution),rMe=To.as(Fee.ThemingContribution),tne=function(){function n(e,t){this.themeData=t;var r=t.base;e.length>0?(this.id=r+" "+e,this.themeName=e):(this.id=r,this.themeName=r),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(n.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),n.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},n.prototype.getColors=function(){if(!this.colors){var e=new Map;for(var t in this.themeData.colors)e.set(t,se.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){var r=UM(this.themeData.base);for(var t in r.colors)e.has(t)||e.set(t,se.fromHex(r.colors[t]))}this.colors=e}return this.colors},n.prototype.getColor=function(e,t){var r=this.getColors().get(e);if(r)return r;if(t!==!1)return this.getDefault(e)},n.prototype.getDefault=function(e){var t=this.defaultColors[e];return t||(t=nMe.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)},n.prototype.defines=function(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)},Object.defineProperty(n.prototype,"type",{get:function(){switch(this.base){case Jd:return"light";case e1:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var e=[],t=[];if(this.themeData.inherit){var r=UM(this.themeData.base);e=r.rules,r.encodedTokensColors&&(t=r.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=ene.createFromRawTokenTheme(e,t)}return this._tokenTheme},enumerable:!0,configurable:!0}),n}();function ok(n){return n===Jd||n===YT||n===e1}function UM(n){switch(n){case Jd:return JPe;case YT:return eMe;case e1:return tMe}}function sk(n){var e=UM(n);return new tne(n,e)}var iMe=function(){function n(){this.environment=Object.create(null),this._onThemeChange=new Q,this._onIconThemeChange=new Q,this._knownThemes=new Map,this._knownThemes.set(Jd,sk(Jd)),this._knownThemes.set(YT,sk(YT)),this._knownThemes.set(e1,sk(e1)),this._styleElement=xh(),this._styleElement.className="monaco-colors",this.setTheme(Jd)}return Object.defineProperty(n.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),n.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!ok(t.base)&&!ok(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new tne(e,t)),ok(e)&&this._knownThemes.forEach(function(r){r.base===e&&r.notifyBaseUpdated()}),this._theme&&this._theme.themeName===e&&this.setTheme(e)},n.prototype.getTheme=function(){return this._theme},n.prototype.setTheme=function(e){var t=this,r;if(this._knownThemes.has(e)?r=this._knownThemes.get(e):r=this._knownThemes.get(Jd),this._theme===r)return r.id;this._theme=r;var i=[],o={},s={addRule:function(l){o[l]||(i.push(l),o[l]=!0)}};rMe.getThemingParticipants().forEach(function(l){return l(r,s,t.environment)});var a=r.tokenTheme,u=a.getColorMap();return s.addRule(ZPe(u)),this._styleElement.innerHTML=i.join(`
`),Bn.setColorMap(u),this._onThemeChange.fire(r),r.id},n.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},n}(),_2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sMe=function(n,e){return function(t,r){e(t,r,n)}},XT="data-keybinding-context",l5=function(){function n(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return n.prototype.setValue=function(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1},n.prototype.removeValue=function(e){return e in this._value?(delete this._value[e],!0):!1},n.prototype.getValue=function(e){var t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t},n}(),QT=function(n){_2(e,n);function e(){return n.call(this,-1,null)||this}return e.prototype.setValue=function(t,r){return!1},e.prototype.removeValue=function(t){return!1},e.prototype.getValue=function(t){},e.INSTANCE=new e,e}(l5),aMe=function(n){_2(e,n);function e(t,r,i){var o=n.call(this,t,null)||this;return o._configurationService=r,o._values=new Map,o._listener=o._configurationService.onDidChangeConfiguration(function(s){if(s.source===6){var a=Wb(o._values);o._values.clear(),i.fire(new dz(a))}else{for(var u=[],l=0,c=s.affectedKeys;l<c.length;l++){var d=c[l],h="config."+d;o._values.has(h)&&(o._values.delete(h),u.push(h))}i.fire(new dz(u))}}),o}return e.prototype.dispose=function(){this._listener.dispose()},e.prototype.getValue=function(t){if(t.indexOf(e._keyPrefix)!==0)return n.prototype.getValue.call(this,t);if(this._values.has(t))return this._values.get(t);var r=t.substr(e._keyPrefix.length),i=this._configurationService.getValue(r),o=void 0;switch(typeof i){case"number":case"boolean":case"string":o=i;break}return this._values.set(t,o),o},e.prototype.setValue=function(t,r){return n.prototype.setValue.call(this,t,r)},e.prototype.removeValue=function(t){return n.prototype.removeValue.call(this,t)},e._keyPrefix="config.",e}(l5),uMe=function(){function n(e,t,r){this._service=e,this._key=t,this._defaultValue=r,this.reset()}return n.prototype.set=function(e){this._service.setContext(this._key,e)},n.prototype.reset=function(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)},n.prototype.get=function(){return this._service.getContextKeyValue(this._key)},n}(),hz=function(){function n(e){this.key=e}return n.prototype.affectsSome=function(e){return e.has(this.key)},n}(),dz=function(){function n(e){this.keys=e}return n.prototype.affectsSome=function(e){for(var t=0,r=this.keys;t<r.length;t++){var i=r[t];if(e.has(i))return!0}return!1},n}(),lMe=function(){function n(e){this.events=e}return n.prototype.affectsSome=function(e){for(var t=0,r=this.events;t<r.length;t++){var i=r[t];if(i.affectsSome(e))return!0}return!1},n}(),nne=function(){function n(e){this._onDidChangeContext=new HTe({merge:function(t){return new lMe(t)}}),this._isDisposed=!1,this._myContextId=e}return n.prototype.createKey=function(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new uMe(this,e,t)},Object.defineProperty(n.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext.event},enumerable:!0,configurable:!0}),n.prototype.bufferChangeEvents=function(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}},n.prototype.createScoped=function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new fMe(this,e)},n.prototype.contextMatchesRules=function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var t=this.getContextValuesContainer(this._myContextId),r=bee.contextMatchesRules(t,e);return r},n.prototype.getContextKeyValue=function(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)},n.prototype.setContext=function(e,t){if(!this._isDisposed){var r=this.getContextValuesContainer(this._myContextId);r&&r.setValue(e,t)&&this._onDidChangeContext.fire(new hz(e))}},n.prototype.removeContext=function(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new hz(e))},n.prototype.getContext=function(e){return this._isDisposed?QT.INSTANCE:this.getContextValuesContainer(hMe(e))},n}(),cMe=function(n){_2(e,n);function e(t){var r=n.call(this,0)||this;r._contexts=new Map,r._toDispose=new Be,r._lastContextId=0;var i=new aMe(r._myContextId,t,r._onDidChangeContext);return r._contexts.set(r._myContextId,i),r._toDispose.add(i),r}return e.prototype.dispose=function(){this._isDisposed=!0,this._toDispose.dispose()},e.prototype.getContextValuesContainer=function(t){return this._isDisposed?QT.INSTANCE:this._contexts.get(t)||QT.INSTANCE},e.prototype.createChildContext=function(t){if(t===void 0&&(t=this._myContextId),this._isDisposed)throw new Error("ContextKeyService has been disposed");var r=++this._lastContextId;return this._contexts.set(r,new l5(r,this.getContextValuesContainer(t))),r},e.prototype.disposeContext=function(t){this._isDisposed||this._contexts.delete(t)},e=oMe([sMe(0,pi)],e),e}(nne),fMe=function(n){_2(e,n);function e(t,r){var i=n.call(this,t.createChildContext())||this;return i._parent=t,r&&(i._domNode=r,i._domNode.setAttribute(XT,String(i._myContextId))),i}return e.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(XT),this._domNode=void 0)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return Je.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)},enumerable:!0,configurable:!0}),e.prototype.getContextValuesContainer=function(t){return this._isDisposed?QT.INSTANCE:this._parent.getContextValuesContainer(t)},e.prototype.createChildContext=function(t){if(t===void 0&&(t=this._myContextId),this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)},e.prototype.disposeContext=function(t){this._isDisposed||this._parent.disposeContext(t)},e}(nne);function hMe(n){for(;n;){if(n.hasAttribute(XT)){var e=n.getAttribute(XT);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}Ri.registerCommand(zIe,function(n,e,t){n.get(yt).createKey(String(e),t)});var gC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jM=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,ak=/(&amp;)?(&amp;)([^\s&])/g,dMe=function(n){gC(e,n);function e(t,r,i){var o=n.call(this,i||"submenu",t,"",!0)||this;return o.entries=r,o}return e}(oa),rne=function(n){gC(e,n);function e(t,r,i){i===void 0&&(i={});var o=this;De(t,"monaco-menu-container"),t.setAttribute("role","presentation");var s=document.createElement("div");De(s,"monaco-menu"),s.setAttribute("role","presentation"),o=n.call(this,s,{orientation:2,actionViewItemProvider:function(l){return o.doGetActionViewItem(l,i,a)},context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:[3].concat(Tt?[10]:[]),keyDown:!0}})||this,o.menuElement=s,o._onScroll=o._register(new Q),o.actionsList.setAttribute("role","menu"),o.actionsList.tabIndex=0,o.menuDisposables=o._register(new Be),_e(s,lt.KEY_DOWN,function(l){var c=new Un(l);c.equals(2)&&l.preventDefault()}),i.enableMnemonics&&o.menuDisposables.add(_e(s,lt.KEY_DOWN,function(l){var c=l.key.toLocaleLowerCase();if(o.mnemonics.has(c)){wn.stop(l,!0);var d=o.mnemonics.get(c);if(d.length===1&&(d[0]instanceof pz&&o.focusItemByElement(d[0].container),d[0].onClick(l)),d.length>1){var h=d.shift();h&&(o.focusItemByElement(h.container),d.push(h)),o.mnemonics.set(c,d)}}})),Uc&&o._register(_e(s,lt.KEY_DOWN,function(l){var c=new Un(l);c.equals(14)||c.equals(11)?(o.focusedItem=o.viewItems.length-1,o.focusNext(),wn.stop(l,!0)):(c.equals(13)||c.equals(12))&&(o.focusedItem=0,o.focusPrevious(),wn.stop(l,!0))})),o._register(_e(o.domNode,lt.MOUSE_OUT,function(l){var c=l.relatedTarget;El(c,o.domNode)||(o.focusedItem=void 0,o.scrollTopHold=o.menuElement.scrollTop,o.updateFocus(),l.stopPropagation())})),o._register(_e(o.domNode,lt.MOUSE_UP,function(l){wn.stop(l,!0)})),o._register(_e(o.actionsList,lt.MOUSE_OVER,function(l){var c=l.target;if(!(!c||!El(c,o.actionsList)||c===o.actionsList)){for(;c.parentElement!==o.actionsList&&c.parentElement!==null;)c=c.parentElement;if(Eu(c,"action-item")){var d=o.focusedItem;o.scrollTopHold=o.menuElement.scrollTop,o.setFocusedItem(c),d!==o.focusedItem&&o.updateFocus()}}}));var a={parent:o};o.mnemonics=new Map,o.push(r,{icon:!0,label:!0,isMenu:!0}),o.scrollableElement=o._register(new cC(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var u=o.scrollableElement.getDomNode();return u.style.position=null,s.style.maxHeight=Math.max(10,window.innerHeight-t.getBoundingClientRect().top-30)+"px",o.menuDisposables.add(o.scrollableElement.onScroll(function(){o._onScroll.fire()},o)),o._register(_e(o.menuElement,lt.SCROLL,function(l){o.scrollTopHold!==void 0&&(o.menuElement.scrollTop=o.scrollTopHold,o.scrollTopHold=void 0),o.scrollableElement.scanDomNode()})),t.appendChild(o.scrollableElement.getDomNode()),o.scrollableElement.scanDomNode(),o.viewItems.filter(function(l){return!(l instanceof uk)}).forEach(function(l,c,d){l.updatePositionInSet(c+1,d.length)}),o}return e.prototype.style=function(t){var r=this.getContainer(),i=t.foregroundColor?""+t.foregroundColor:null,o=t.backgroundColor?""+t.backgroundColor:null,s=t.borderColor?"2px solid "+t.borderColor:null,a=t.shadowColor?"0 2px 4px "+t.shadowColor:null;r.style.border=s,this.domNode.style.color=i,this.domNode.style.backgroundColor=o,r.style.boxShadow=a,this.viewItems&&this.viewItems.forEach(function(u){(u instanceof qM||u instanceof uk)&&u.style(t)})},e.prototype.getContainer=function(){return this.scrollableElement.getDomNode()},Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollOffset",{get:function(){return this.menuElement.scrollTop},enumerable:!0,configurable:!0}),e.prototype.focusItemByElement=function(t){var r=this.focusedItem;this.setFocusedItem(t),r!==this.focusedItem&&this.updateFocus()},e.prototype.setFocusedItem=function(t){for(var r=0;r<this.actionsList.children.length;r++){var i=this.actionsList.children[r];if(t===i){this.focusedItem=r;break}}},e.prototype.doGetActionViewItem=function(t,r,i){if(t instanceof v2)return new uk(r.context,t,{icon:!0});if(t instanceof dMe){var o=new pz(t,t.entries,i,r);if(r.enableMnemonics){var s=o.getMnemonic();if(s&&o.isEnabled()){var a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}else{var u={enableMnemonics:r.enableMnemonics};if(r.getKeyBinding){var l=r.getKeyBinding(t);if(l){var c=l.getLabel();c&&(u.keybinding=c)}}var o=new qM(r.context,t,u);if(r.enableMnemonics){var s=o.getMnemonic();if(s&&o.isEnabled()){var a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}},e}(pC),qM=function(n){gC(e,n);function e(t,r,i){i===void 0&&(i={});var o=this;if(i.isMenu=!0,o=n.call(this,r,r,i)||this,o.options=i,o.options.icon=i.icon!==void 0?i.icon:!1,o.options.label=i.label!==void 0?i.label:!0,o.cssClass="",o.options.label&&i.enableMnemonics){var s=o.getAction().label;if(s){var a=jM.exec(s);a&&(o.mnemonic=(a[1]?a[1]:a[3]).toLocaleLowerCase())}}return o.runOnceToEnableMouseUp=new Pr(function(){o.element&&o._register(_e(o.element,lt.MOUSE_UP,function(u){wn.stop(u,!0),o.onClick(u)}))},50),o._register(o.runOnceToEnableMouseUp),o}return e.prototype.render=function(t){n.prototype.render.call(this,t),this.element&&(this.container=t,this.item=Ce(this.element,Ve("a.action-menu-item")),this._action.id===v2.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=Ce(this.item,Ve("span.menu-item-check")),this.check.setAttribute("role","none"),this.label=Ce(this.item,Ve("span.action-label")),this.options.label&&this.options.keybinding&&(Ce(this.item,Ve("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())},e.prototype.blur=function(){n.prototype.blur.call(this),this.applyStyle()},e.prototype.focus=function(){n.prototype.focus.call(this),this.item.focus(),this.applyStyle()},e.prototype.updatePositionInSet=function(t,r){this.item.setAttribute("aria-posinset",""+t),this.item.setAttribute("aria-setsize",""+r)},e.prototype.updateLabel=function(){if(this.options.label){var t=this.getAction().label;if(t){var r=pMe(t);this.options.enableMnemonics||(t=r),this.label.setAttribute("aria-label",r.replace(/&&/g,"&"));var i=jM.exec(t);if(i){t=ra(t),ak.lastIndex=0;for(var o=ak.exec(t);o&&o[1];)o=ak.exec(t);o&&(t=t.substr(0,o.index)+'<u aria-hidden="true">'+o[3]+"</u>"+t.substr(o.index+o[0].length)),t=t.replace(/&amp;&amp;/g,"&amp;"),this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else t=t.replace(/&&/g,"&")}this.label.innerHTML=t.trim()}},e.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=D({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.item.title=t)},e.prototype.updateClass=function(){this.cssClass&&XA(this.item,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class||"",De(this.label,"icon"),this.cssClass&&$4(this.label,this.cssClass),this.updateEnabled()):ot(this.label,"icon")},e.prototype.updateEnabled=function(){this.getAction().enabled?(this.element&&ot(this.element,"disabled"),ot(this.item,"disabled"),this.item.tabIndex=0):(this.element&&De(this.element,"disabled"),De(this.item,"disabled"),Q4(this.item))},e.prototype.updateChecked=function(){this.getAction().checked?(De(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(ot(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false"))},e.prototype.getMnemonic=function(){return this.mnemonic},e.prototype.applyStyle=function(){if(this.menuStyle){var t=this.element&&Eu(this.element,"focused"),r=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:this.menuStyle.backgroundColor,o=t&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:null;this.item.style.color=r?""+r:null,this.check.style.backgroundColor=r?""+r:null,this.item.style.backgroundColor=i?""+i:null,this.container.style.border=o}},e.prototype.style=function(t){this.menuStyle=t,this.applyStyle()},e}(r5),pz=function(n){gC(e,n);function e(t,r,i,o){var s=n.call(this,t,t,o)||this;return s.submenuActions=r,s.parentData=i,s.submenuOptions=o,s.submenuDisposables=s._register(new Be),s.showScheduler=new Pr(function(){s.mouseOver&&(s.cleanupExistingSubmenu(!1),s.createSubmenu(!1))},250),s.hideScheduler=new Pr(function(){s.element&&!El(document.activeElement,s.element)&&s.parentData.submenu===s.mysubmenu&&(s.parentData.parent.focus(!1),s.cleanupExistingSubmenu(!0))},750),s}return e.prototype.render=function(t){var r=this;n.prototype.render.call(this,t),this.element&&(De(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.submenuIndicator=Ce(this.item,Ve("span.submenu-indicator")),this.submenuIndicator.setAttribute("aria-hidden","true"),this._register(_e(this.element,lt.KEY_UP,function(i){var o=new Un(i);(o.equals(17)||o.equals(3))&&(wn.stop(i,!0),r.createSubmenu(!0))})),this._register(_e(this.element,lt.KEY_DOWN,function(i){var o=new Un(i);document.activeElement===r.item&&(o.equals(17)||o.equals(3))&&wn.stop(i,!0)})),this._register(_e(this.element,lt.MOUSE_OVER,function(i){r.mouseOver||(r.mouseOver=!0,r.showScheduler.schedule())})),this._register(_e(this.element,lt.MOUSE_LEAVE,function(i){r.mouseOver=!1})),this._register(_e(this.element,lt.FOCUS_OUT,function(i){r.element&&!El(document.activeElement,r.element)&&r.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){r.parentData.parent.focus(!1),r.cleanupExistingSubmenu(!1)})))},e.prototype.onClick=function(t){wn.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},e.prototype.cleanupExistingSubmenu=function(t){this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=void 0,this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0))},e.prototype.createSubmenu=function(t){var r=this;if(t===void 0&&(t=!0),!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.submenuContainer=Ce(this.element,Ve("div.monaco-submenu")),$4(this.submenuContainer,"menubar-menu-items-holder","context-view"),this.parentData.submenu=new rne(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);var i=this.element.getBoundingClientRect(),o=this.submenuContainer.getBoundingClientRect(),s=getComputedStyle(this.parentData.parent.domNode),a=parseFloat(s.paddingTop||"0")||0;window.innerWidth<=i.right+o.width?(this.submenuContainer.style.left="10px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset+i.height+"px"):(this.submenuContainer.style.left=this.element.offsetWidth+"px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-a+"px"),this.submenuDisposables.add(_e(this.submenuContainer,lt.KEY_UP,function(u){var l=new Un(u);l.equals(15)&&(wn.stop(u,!0),r.parentData.parent.focus(),r.parentData.submenu&&(r.parentData.submenu.dispose(),r.parentData.submenu=void 0),r.submenuDisposables.clear(),r.submenuContainer=void 0)})),this.submenuDisposables.add(_e(this.submenuContainer,lt.KEY_DOWN,function(u){var l=new Un(u);l.equals(15)&&wn.stop(u,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(function(){r.parentData.parent.focus(),r.parentData.submenu&&(r.parentData.submenu.dispose(),r.parentData.submenu=void 0),r.submenuDisposables.clear(),r.submenuContainer=void 0})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}},e.prototype.applyStyle=function(){if(n.prototype.applyStyle.call(this),!!this.menuStyle){var t=this.element&&Eu(this.element,"focused"),r=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator.style.backgroundColor=r?""+r:null,this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)},e}(qM),uk=function(n){gC(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.style=function(t){this.label.style.borderBottomColor=t.separatorColor?""+t.separatorColor:null},e}(GT);function pMe(n){var e=jM,t=e.exec(n);if(!t)return n;var r=!t[1];return n.replace(e,r?"$2$3":"").trim()}var zM=function(){return zM=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zM.apply(this,arguments)};function ine(n,e){var t=Object.create(null);for(var r in e){var i=e[r];typeof i=="string"?t[r]=n.getColor(i):typeof i=="function"&&(t[r]=i(n))}return t}function y2(n,e,t){function r(i){var o=ine(n.getTheme(),e);typeof t=="function"?t(o):t.style(o)}return r(n.getTheme()),n.onThemeChange(r)}function gMe(n,e,t){return y2(e,{badgeBackground:wNe,badgeForeground:ENe,badgeBorder:Mr},n)}function vMe(n,e,t){return y2(e,{foreground:t&&t.foreground||bc,background:t&&t.background||cl,borderColor:t&&t.borderColor||Mr,widgetShadow:t&&t.widgetShadow||ig,progressBarBackground:t&&t.progressBarBackground||ANe,pickerGroupForeground:t&&t.pickerGroupForeground||bNe,pickerGroupBorder:t&&t.pickerGroupBorder||CNe,inputBackground:t&&t.inputBackground||k6,inputForeground:t&&t.inputForeground||R6,inputBorder:t&&t.inputBorder||P6,inputValidationInfoBorder:t&&t.inputValidationInfoBorder||B6,inputValidationInfoBackground:t&&t.inputValidationInfoBackground||M6,inputValidationInfoForeground:t&&t.inputValidationInfoForeground||F6,inputValidationWarningBorder:t&&t.inputValidationWarningBorder||tte,inputValidationWarningBackground:t&&t.inputValidationWarningBackground||Jee,inputValidationWarningForeground:t&&t.inputValidationWarningForeground||ete,inputValidationErrorBorder:t&&t.inputValidationErrorBorder||ite,inputValidationErrorBackground:t&&t.inputValidationErrorBackground||nte,inputValidationErrorForeground:t&&t.inputValidationErrorForeground||rte,listFocusBackground:t&&t.listFocusBackground||gp,listFocusForeground:t&&t.listFocusForeground||ote,listActiveSelectionBackground:t&&t.listActiveSelectionBackground||z6(vp,.1),listActiveSelectionForeground:t&&t.listActiveSelectionForeground||mp,listFocusAndSelectionBackground:t&&t.listFocusAndSelectionBackground||vp,listFocusAndSelectionForeground:t&&t.listFocusAndSelectionForeground||mp,listInactiveSelectionBackground:t&&t.listInactiveSelectionBackground||ste,listInactiveSelectionForeground:t&&t.listInactiveSelectionForeground||ate,listInactiveFocusBackground:t&&t.listInactiveFocusBackground||ute,listHoverBackground:t&&t.listHoverBackground||lte,listHoverForeground:t&&t.listHoverForeground||cte,listDropBackground:t&&t.listDropBackground||fte,listFocusOutline:t&&t.listFocusOutline||Ni,listSelectionOutline:t&&t.listSelectionOutline||Ni,listHoverOutline:t&&t.listHoverOutline||Ni},n)}function one(n,e,t){return y2(e,Ur(t||Object.create(null),sne,!1),n)}var sne={listFocusBackground:gp,listFocusForeground:ote,listActiveSelectionBackground:z6(vp,.1),listActiveSelectionForeground:mp,listFocusAndSelectionBackground:vp,listFocusAndSelectionForeground:mp,listInactiveSelectionBackground:ste,listInactiveSelectionForeground:ate,listInactiveFocusBackground:ute,listHoverBackground:lte,listHoverForeground:cte,listDropBackground:fte,listFocusOutline:Ni,listSelectionOutline:Ni,listHoverOutline:Ni,listFilterWidgetBackground:vNe,listFilterWidgetOutline:mNe,listFilterWidgetNoMatchesOutline:_Ne,listMatchesShadow:ig,treeIndentGuidesStroke:yNe},mMe={shadowColor:ig,borderColor:INe,foregroundColor:xNe,backgroundColor:LNe,selectionForegroundColor:NNe,selectionBackgroundColor:ONe,selectionBorderColor:kNe,separatorColor:RNe};function _Me(n,e,t){return y2(e,zM({},mMe,t),n)}var yMe=function(){function n(e,t,r,i,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=r,this.keybindingService=i,this.themeService=o,this.options={blockMouse:!0}}return n.prototype.configure=function(e){this.options=e},n.prototype.showContextMenu=function(e){var t=this,r=e.getActions();if(r.length){this.focusToReturn=document.activeElement;var i;this.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,anchorAlignment:e.anchorAlignment,render:function(o){var s=e.getMenuClassName?e.getMenuClassName():"";s&&(o.className+=" "+s),t.options.blockMouse&&(t.block=o.appendChild(Ve(".context-view-block")));var a=new Be,u=e.actionRunner||new Lee;return u.onDidBeforeRun(t.onActionRun,t,a),u.onDidRun(t.onDidActionRun,t,a),i=new rne(o,r,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:function(l){return t.keybindingService.lookupKeybinding(l.id)}}),a.add(_Me(i,t.themeService)),i.onDidCancel(function(){return t.contextViewService.hideContextView(!0)},null,a),i.onDidBlur(function(){return t.contextViewService.hideContextView(!0)},null,a),Nt(window,lt.BLUR)(function(){t.contextViewService.hideContextView(!0)},null,a),Nt(window,lt.MOUSE_DOWN)(function(l){if(!l.defaultPrevented){var c=new si(l),d=c.target;if(!c.rightButton){for(;d;){if(d===o)return;d=d.parentElement}t.contextViewService.hideContextView(!0)}}},null,a),al(a,i)},focus:function(){i&&i.focus(!!e.autoSelectFirstItem)},onHide:function(o){e.onHide&&e.onHide(!!o),t.block&&(G4(t.block),t.block=null),t.focusToReturn&&t.focusToReturn.focus()}})}},n.prototype.onActionRun=function(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},n.prototype.onDidActionRun=function(e){e.error&&this.notificationService&&this.notificationService.error(e.error)},n}(),bMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ey=function(n,e){return function(t,r){e(t,r,n)}},wMe=function(n){bMe(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a._onDidContextMenu=a._register(new Q),a.contextMenuHandler=new yMe(i,t,r,o,s),a}return e.prototype.configure=function(t){this.contextMenuHandler.configure(t)},e.prototype.showContextMenu=function(t){this.contextMenuHandler.showContextMenu(t),this._onDidContextMenu.fire()},e=CMe([ey(0,sC),ey(1,gi),ey(2,Nh),ey(3,wr),ey(4,Yr)],e),e}(fe),Ho;(function(n){function e(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};var a=Math.max(o.start,s.start),u=Math.min(o.end,s.end);return u-a<=0?{start:0,end:0}:{start:a,end:u}}n.intersect=e;function t(o){return o.end-o.start<=0}n.isEmpty=t;function r(o,s){return!t(e(o,s))}n.intersects=r;function i(o,s){var a=[],u={start:o.start,end:Math.min(s.start,o.end)},l={start:Math.max(s.end,o.start),end:o.end};return t(u)||a.push(u),t(l)||a.push(l),a}n.relativeComplement=i})(Ho||(Ho={}));var EMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function gz(n,e,t){var r=t.offset+t.size;return t.position===0?e<=n-r?r:e<=t.offset?t.offset-e:Math.max(n-e,0):e<=t.offset?t.offset-e:e<=n-r?r:0}var SMe=function(n){EMe(e,n);function e(t){var r=n.call(this)||this;return r.container=null,r.delegate=null,r.toDisposeOnClean=fe.None,r.toDisposeOnSetContainer=fe.None,r.view=Ve(".context-view"),jr(r.view),r.setContainer(t),r._register(bn(function(){return r.setContainer(null)})),r}return e.prototype.setContainer=function(t){var r=this;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.container.removeChild(this.view),this.container=null),t){this.container=t,this.container.appendChild(this.view);var i=new Be;e.BUBBLE_UP_EVENTS.forEach(function(o){i.add(hi(r.container,o,function(s){r.onDOMEvent(s,!1)}))}),e.BUBBLE_DOWN_EVENTS.forEach(function(o){i.add(hi(r.container,o,function(s){r.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=i}},e.prototype.show=function(t){this.isVisible()&&this.hide(),ca(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",Ti(this.view),this.toDisposeOnClean=t.render(this.view)||fe.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()},e.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}},e.prototype.doLayout=function(){if(this.isVisible()){var t=this.delegate.getAnchor(),r;if(IDe(t)){var i=di(t);r={top:i.top,left:i.left,width:i.width,height:i.height}}else r={top:t.y,left:t.x,width:t.width||1,height:t.height||2};var o=tu(this.view),s=uM(this.view),a=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,l={offset:r.top-window.pageYOffset,size:r.height,position:a===0?0:1},c;u===0?c={offset:r.left,size:0,position:0}:c={offset:r.left+r.width,size:0,position:1};var d=gz(window.innerHeight,s,l)+window.pageYOffset;Ho.intersects({start:d,end:d+s},{start:l.offset,end:l.offset+l.size})&&(c.size=r.width,u===1&&(c.offset=r.left));var h=gz(window.innerWidth,o,c);XA(this.view,"top","bottom","left","right"),De(this.view,a===0?"bottom":"top"),De(this.view,u===0?"left":"right");var p=di(this.container);this.view.style.top=d-p.top+"px",this.view.style.left=h-p.left+"px",this.view.style.width="initial"}},e.prototype.hide=function(t){var r=this.delegate;this.delegate=null,r&&r.onHide&&r.onHide(t),this.toDisposeOnClean.dispose(),jr(this.view)},e.prototype.isVisible=function(){return!!this.delegate},e.prototype.onDOMEvent=function(t,r){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):r&&!El(t.target,this.container)&&this.hide())},e.prototype.dispose=function(){this.hide(),n.prototype.dispose.call(this)},e.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],e.BUBBLE_DOWN_EVENTS=["click"],e}(fe),ane=qt("layoutService"),TMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},AMe=function(n,e){return function(t,r){e(t,r,n)}},IMe=function(n){TMe(e,n);function e(t){var r=n.call(this)||this;return r.layoutService=t,r.contextView=r._register(new SMe(t.container)),r.layout(),r._register(t.onLayout(function(){return r.layout()})),r}return e.prototype.setContainer=function(t){this.contextView.setContainer(t)},e.prototype.showContextView=function(t){this.contextView.show(t)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(t){this.contextView.hide(t)},e=DMe([AMe(0,ane)],e),e}(fe),xMe=qt("dialogService"),c5=Object.prototype.hasOwnProperty;function vz(n){var e=[];for(var t in n)c5.call(n,t)&&e.push(n[t]);return e}function mz(n){for(var e in n)if(c5.call(n,e))return n[e]}function lk(n,e){var t=function(o){if(c5.call(n,o)){var s=e({key:o,value:n[o]},function(){delete n[o]});if(s===!1)return{value:void 0}}};for(var r in n){var i=t(r);if(typeof i=="object")return i.value}}var LMe=function(){function n(){this.map=new Map}return n.prototype.add=function(e,t){var r=this.map.get(e);r||(r=new Set,this.map.set(e,r)),r.add(t)},n.prototype.delete=function(e,t){var r=this.map.get(e);r&&(r.delete(t),r.size===0&&this.map.delete(e))},n.prototype.forEach=function(e,t){var r=this.map.get(e);r&&r.forEach(t)},n}();function NMe(n){return{data:n,incoming:Object.create(null),outgoing:Object.create(null)}}var OMe=function(){function n(e){this._hashFn=e,this._nodes=Object.create(null)}return n.prototype.roots=function(){var e=[];return lk(this._nodes,function(t){fJ(t.value.outgoing)&&e.push(t.value)}),e},n.prototype.insertEdge=function(e,t){var r=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);r.outgoing[this._hashFn(t)]=i,i.incoming[this._hashFn(e)]=r},n.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],lk(this._nodes,function(r){delete r.value.outgoing[t],delete r.value.incoming[t]})},n.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),r=this._nodes[t];return r||(r=NMe(e),this._nodes[t]=r),r},n.prototype.isEmpty=function(){for(var e in this._nodes)return!1;return!0},n.prototype.toString=function(){var e=[];return lk(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join(`
`)},n}(),une=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kMe=typeof Proxy=="function",_z=function(n){une(e,n);function e(t){var r=n.call(this,"cyclic dependency between services")||this;return r.message=t.toString(),r}return e}(Error),yz=function(){function n(e,t,r){e===void 0&&(e=new km),t===void 0&&(t=!1),this._services=e,this._strict=t,this._parent=r,this._services.set(cr,this)}return n.prototype.createChild=function(e){return new n(e,this._strict,this)},n.prototype.invokeFunction=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=ck.traceInvocation(e),s=!1;try{var a={get:function(u,l){if(s)throw OTe("service accessor is only valid during the invocation of its target method");var c=t._getOrCreateServiceInstance(u,o);if(!c&&l!==cp)throw new Error("[invokeFunction] unknown service '"+u+"'");return c}};return e.apply(void 0,[a].concat(r))}finally{s=!0,o.stop()}},n.prototype.createInstance=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i,o;return e instanceof Tv?(i=ck.traceCreation(e.ctor),o=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=ck.traceCreation(e),o=this._createInstance(e,t,i)),i.stop(),o},n.prototype._createInstance=function(e,t,r){t===void 0&&(t=[]);for(var i=du.getServiceDependencies(e).sort(function(h,p){return h.index-p.index}),o=[],s=0,a=i;s<a.length;s++){var u=a[s],l=this._getOrCreateServiceInstance(u.id,r);if(!l&&this._strict&&!u.optional)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+u.id+".");o.push(l)}var c=i.length>0?i[0].index:t.length;if(t.length!==c){console.warn("[createInstance] First service dependency of "+e.name+" at position "+(c+1)+" conflicts with "+t.length+" static arguments");var d=c-t.length;d>0?t=t.concat(new Array(d)):t=t.slice(0,c)}return new(e.bind.apply(e,[void 0].concat(t.concat(o))))},n.prototype._setServiceInstance=function(e,t){if(this._services.get(e)instanceof Tv)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")},n.prototype._getServiceInstanceOrDescriptor=function(e){var t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t},n.prototype._getOrCreateServiceInstance=function(e,t){var r=this._getServiceInstanceOrDescriptor(e);return r instanceof Tv?this._createAndCacheServiceInstance(e,r,t.branch(e,!0)):(t.branch(e,!1),r)},n.prototype._createAndCacheServiceInstance=function(e,t,r){for(var i=new OMe(function(C){return C.id.toString()}),o=0,s=[{id:e,desc:t,_trace:r}];s.length;){var a=s.pop();if(i.lookupOrInsertNode(a),o++>100)throw new _z(i);for(var u=0,l=du.getServiceDependencies(a.desc.ctor);u<l.length;u++){var c=l[u],d=this._getServiceInstanceOrDescriptor(c.id);if(!d&&!c.optional&&console.warn("[createInstance] "+e+" depends on "+c.id+" which is NOT registered."),d instanceof Tv){var h={id:c.id,desc:d,_trace:a._trace.branch(c.id,!0)};i.insertEdge(a,h),s.push(h)}}}for(;;){var p=i.roots();if(p.length===0){if(!i.isEmpty())throw new _z(i);break}for(var v=0,m=p;v<m.length;v++){var _=m[v].data,b=this._createServiceInstanceWithOwner(_.id,_.desc.ctor,_.desc.staticArguments,_.desc.supportsDelayedInstantiation,_._trace);this._setServiceInstance(_.id,b),i.removeNode(_)}}return this._getServiceInstanceOrDescriptor(e)},n.prototype._createServiceInstanceWithOwner=function(e,t,r,i,o){if(r===void 0&&(r=[]),this._services.get(e)instanceof Tv)return this._createServiceInstance(t,r,i,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,r,i,o);throw new Error("illegalState - creating UNKNOWN service instance")},n.prototype._createServiceInstance=function(e,t,r,i){var o=this;if(t===void 0&&(t=[]),!r||!kMe)return this._createInstance(e,t,i);var s=new sM(function(){return o._createInstance(e,t,i)});return new Proxy(Object.create(null),{get:function(a,u){return s.getValue()[u]},set:function(a,u,l){return s.getValue()[u]=l,!0}})},n}(),ck=function(){function n(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}return n.traceInvocation=function(e){return n._None},n.traceCreation=function(e){return n._None},n.prototype.branch=function(e,t){var r=new n(2,e.toString());return this._dep.push([e,t,r]),r},n.prototype.stop=function(){var e=Date.now()-this._start;n._totals+=e;var t=!1;function r(o,s){for(var a=[],u=new Array(o+1).join("	"),l=0,c=s._dep;l<c.length;l++){var d=c[l],h=d[0],p=d[1],v=d[2];if(p&&v){t=!0,a.push(u+"CREATES -> "+h);var m=r(o+1,v);m&&a.push(m)}else a.push(u+"uses -> "+h)}return a.join(`
`)}var i=[(this.type===0?"CREATE":"CALL")+" "+this.name,""+r(1,this),"DONE, took "+e.toFixed(2)+"ms (grand total "+n._totals.toFixed(2)+"ms)"];(e>2||t)&&console.log(i.join(`
`))},n._None=new(function(e){une(t,e);function t(){return e.call(this,-1,null)||this}return t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(n)),n._totals=0,n}(),RMe="label",b2=qt(RMe),ZT;(function(n){n.TREE="tree",n.FORM="form"})(ZT||(ZT={}));function bz(n,e){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];if(!(n.start>=o.range.end)){if(n.end<o.range.start)break;var s=Ho.intersect(n,o.range);Ho.isEmpty(s)||t.push({range:s,size:o.size})}}return t}function GM(n,e){var t=n.start,r=n.end;return{start:t+e,end:r+e}}function PMe(n){for(var e=[],t=null,r=0,i=n;r<i.length;r++){var o=i[r],s=o.range.start,a=o.range.end,u=o.size;if(t&&u===t.size){t.range.end=a;continue}t={range:{start:s,end:a},size:u},e.push(t)}return e}function MMe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return PMe(n.reduce(function(t,r){return t.concat(r)},[]))}var Cz=function(){function n(){this.groups=[],this._size=0}return n.prototype.splice=function(e,t,r){r===void 0&&(r=[]);var i=r.length-t,o=bz({start:0,end:e},this.groups),s=bz({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(u){return{range:GM(u.range,i),size:u.size}}),a=r.map(function(u,l){return{range:{start:e+l,end:e+l+1},size:u.size}});this.groups=MMe(o,a,s),this._size=this.groups.reduce(function(u,l){return u+l.size*(l.range.end-l.range.start)},0)},Object.defineProperty(n.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,r=0,i=0,o=this.groups;i<o.length;i++){var s=o[i],a=s.range.end-s.range.start,u=r+a*s.size;if(e<u)return t+Math.floor((e-r)/s.size);t+=a,r=u}return t},n.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},n.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,r=0,i=0,o=this.groups;i<o.length;i++){var s=o[i],a=s.range.end-s.range.start,u=r+a;if(e<u)return t+(e-r)*s.size;t+=a*s.size,r=u}return-1},n.prototype.dispose=function(){this.groups=null},n}();function FMe(n){try{n.parentElement&&n.parentElement.removeChild(n)}catch{}}var BMe=function(){function n(e){this.renderers=e,this.cache=new Map}return n.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var r=Ve(".monaco-list-row"),i=this.getRenderer(e),o=i.renderTemplate(r);t={domNode:r,templateId:e,templateData:o}}return t},n.prototype.release=function(e){e&&this.releaseRow(e)},n.prototype.releaseRow=function(e){var t=e.domNode,r=e.templateId;t&&(ot(t,"scrolling"),FMe(t));var i=this.getTemplateCache(r);i.push(e)},n.prototype.getTemplateCache=function(e){var t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t},n.prototype.garbageCollect=function(){var e=this;this.renderers&&(this.cache.forEach(function(t,r){for(var i=0,o=t;i<o.length;i++){var s=o[i],a=e.getRenderer(r);a.disposeTemplate(s.templateData),s.domNode=null,s.templateData=null}}),this.cache.clear())},n.prototype.dispose=function(){this.garbageCollect(),this.cache.clear(),this.renderers=null},n.prototype.getRenderer=function(e){var t=this.renderers.get(e);if(!t)throw new Error("No renderer found for "+e);return t},n}(),lne={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"},HMe=function(){function n(e){this.data=e}return n.prototype.update=function(){},n.prototype.getData=function(){return this.data},n}(),zs={CurrentDragAndDropData:void 0},wd=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ed={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(n){return[n]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},t1=function(){function n(e){this.elements=e}return n.prototype.update=function(){},n.prototype.getData=function(){return this.elements},n}(),VMe=function(){function n(e){this.elements=e}return n.prototype.update=function(){},n.prototype.getData=function(){return this.elements},n}(),WMe=function(){function n(){this.types=[],this.files=[]}return n.prototype.update=function(e){var t;if(e.types&&(t=this.types).splice.apply(t,[0,this.types.length].concat(e.types)),e.files){this.files.splice(0,this.files.length);for(var r=0;r<e.files.length;r++){var i=e.files.item(r);i&&(i.size||i.type)&&this.files.push(i)}}},n.prototype.getData=function(){return{types:this.types,files:this.files}},n}();function UMe(n,e){return Array.isArray(n)&&Array.isArray(e)?Ah(n,e):n===e}var jMe=function(){function n(e,t,r,i){var o=this;if(i===void 0&&(i=Ed),this.virtualDelegate=t,this.domId="list_id_"+ ++n.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w_(50),this.splicing=!1,this.dragOverAnimationStopDisposable=fe.None,this.dragOverMouseY=0,this.canUseTranslate3d=void 0,this.canDrop=!1,this.currentDragFeedbackDisposable=fe.None,this.onDragLeaveTimeout=fe.None,this._onDidChangeContentHeight=new Q,i.horizontalScrolling&&i.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new Cz;for(var s=0,a=r;s<a.length;s++){var u=a[s];this.renderers.set(u.templateId,u)}this.cache=new BMe(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",De(this.domNode,this.domId),this.domNode.tabIndex=0,kt(this.domNode,"mouse-support",typeof i.mouseSupport=="boolean"?i.mouseSupport:!0),this.horizontalScrolling=Qg(i,function(l){return l.horizontalScrolling},Ed.horizontalScrolling),kt(this.domNode,"horizontal-scrolling",this.horizontalScrolling),this.additionalScrollHeight=typeof i.additionalScrollHeight>"u"?0:i.additionalScrollHeight,this.ariaProvider=i.ariaProvider||{getSetSize:function(l,c,d){return d},getPosInSet:function(l,c){return c+1}},this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",D_.addTarget(this.rowsContainer),this.scrollableElement=new lC(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:Qg(i,function(l){return l.verticalScrollMode},Ed.verticalScrollMode),useShadows:Qg(i,function(l){return l.useShadows},Ed.useShadows)}),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.disposables=[this.rangeMap,this.scrollableElement,this.cache],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Nt(this.rowsContainer,ii.Change)(this.onTouchChange,this,this.disposables),Nt(this.scrollableElement.getDomNode(),"scroll")(function(l){return l.target.scrollTop=0},null,this.disposables),Je.map(Nt(this.domNode,"dragover"),function(l){return o.toDragEvent(l)})(this.onDragOver,this,this.disposables),Je.map(Nt(this.domNode,"drop"),function(l){return o.toDragEvent(l)})(this.onDrop,this,this.disposables),Nt(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),Nt(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=Qg(i,function(l){return l.setRowLineHeight},Ed.setRowLineHeight),this.supportDynamicHeights=Qg(i,function(l){return l.supportDynamicHeights},Ed.supportDynamicHeights),this.dnd=Qg(i,function(l){return l.dnd},Ed.dnd),this.layout()}return Object.defineProperty(n.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),n.prototype.splice=function(e,t,r){if(r===void 0&&(r=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,r)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},n.prototype._splice=function(e,t,r){var i,o=this;r===void 0&&(r=[]);for(var s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),a={start:e,end:e+t},u=Ho.intersect(s,a),l=u.start;l<u.end;l++)this.removeItemFromDOM(l);var c={start:e+t,end:this.items.length},d=Ho.intersect(c,s),h=Ho.relativeComplement(c,s),p=r.map(function(B){return{id:String(o.itemId++),element:B,templateId:o.virtualDelegate.getTemplateId(B),size:o.virtualDelegate.getHeight(B),width:void 0,hasDynamicHeight:!!o.virtualDelegate.hasDynamicHeight&&o.virtualDelegate.hasDynamicHeight(B),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:fe.None}}),v;e===0&&t>=this.items.length?(this.rangeMap=new Cz,this.rangeMap.splice(0,0,p),this.items=p,v=[]):(this.rangeMap.splice(e,t,p),v=(i=this.items).splice.apply(i,[e,t].concat(p)));for(var m=r.length-t,_=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=GM(d,m),C=Ho.intersect(_,b),l=C.start;l<C.end;l++)this.updateItemInDOM(this.items[l],l);for(var E=Ho.relativeComplement(b,_),T=0,A=E;T<A.length;T++)for(var S=A[T],l=S.start;l<S.end;l++)this.removeItemFromDOM(l);for(var N=h.map(function(B){return GM(B,m)}),k={start:e,end:e+r.length},F=[k].concat(N).map(function(B){return Ho.intersect(_,B)}),L=this.getNextToLastElement(F),O=0,P=F;O<P.length;O++)for(var S=P[O],l=S.start;l<S.end;l++)this.insertItemInDOM(l,L);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),v.map(function(B){return B.element})},n.prototype.eventuallyUpdateScrollDimensions=function(){var e=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=mh(function(){e.scrollableElement.setScrollDimensions({scrollHeight:e.scrollHeight}),e.updateScrollWidth(),e.scrollableElementUpdateDisposable=null}))},n.prototype.eventuallyUpdateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.scrollableElementWidthDelayer.trigger(function(){return e.updateScrollWidth()})},n.prototype.updateScrollWidth=function(){if(this.horizontalScrolling){this.items.length===0&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var e=0,t=0,r=this.items;t<r.length;t++){var i=r[t];typeof i.width<"u"&&(e=Math.max(e,i.width))}this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e+10})}},n.prototype.rerender=function(){if(this.supportDynamicHeights){for(var e=0,t=this.items;e<t.length;e++){var r=t[e];r.lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}},Object.defineProperty(n.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderHeight",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.height},enumerable:!0,configurable:!0}),n.prototype.element=function(e){return this.items[e].element},n.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode},n.prototype.elementHeight=function(e){return this.items[e].size},n.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},n.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},n.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},n.prototype.layout=function(e,t){var r={height:typeof e=="number"?e:RJ(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,r.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(r),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:wT(this.domNode)}))},n.prototype.render=function(e,t,r,i){for(var o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=this.getRenderRange(e,t),a=Ho.relativeComplement(s,o),u=Ho.relativeComplement(o,s),l=this.getNextToLastElement(a),c=0,d=a;c<d.length;c++)for(var h=d[c],p=h.start;p<h.end;p++)this.insertItemInDOM(p,l);for(var v=0,m=u;v<m.length;v++)for(var h=m[v],p=h.start;p<h.end;p++)this.removeItemFromDOM(p);var _=!bo&&!Ic&&yT()===0;if(_){var b="translate3d(-"+r+"px, -"+e+"px, 0px)";this.rowsContainer.style.transform=b,this.rowsContainer.style.webkitTransform=b,_!==this.canUseTranslate3d&&(this.rowsContainer.style.left="0",this.rowsContainer.style.top="0")}else this.rowsContainer.style.left="-"+r+"px",this.rowsContainer.style.top="-"+e+"px",_!==this.canUseTranslate3d&&(this.rowsContainer.style.transform="",this.rowsContainer.style.webkitTransform="");this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(i,this.renderWidth)+"px"),this.canUseTranslate3d=_,this.lastRenderTop=e,this.lastRenderHeight=t},n.prototype.insertItemInDOM=function(e,t){var r=this,i=this.items[e];if(!i.row){i.row=this.cache.alloc(i.templateId);var o=this.ariaProvider.getRole?this.ariaProvider.getRole(i.element):"treeitem";i.row.domNode.setAttribute("role",o);var s=this.ariaProvider.isChecked?this.ariaProvider.isChecked(i.element):void 0;typeof s<"u"&&i.row.domNode.setAttribute("aria-checked",String(s))}i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);var a=this.renderers.get(i.templateId);if(!a)throw new Error("No renderer found for template id "+i.templateId);a&&a.renderElement(i.element,e,i.row.templateData,i.size);var u=this.dnd.getDragURI(i.element);if(i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!u,u){var l=Nt(i.row.domNode,"dragstart");i.dragStartDisposable=l(function(c){return r.onDragStart(i.element,u,c)})}this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())},n.prototype.measureItemWidth=function(e){if(!(!e.row||!e.row.domNode)){e.row.domNode.style.width="fit-content",e.width=wT(e.row.domNode);var t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}},n.prototype.updateItemInDOM=function(e,t){e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.style.height=e.size+"px",this.setRowLineHeight&&(e.row.domNode.style.lineHeight=e.size+"px"),e.row.domNode.setAttribute("data-index",""+t),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.ariaProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.ariaProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),kt(e.row.domNode,"drop-target",e.dropTarget)},n.prototype.removeItemFromDOM=function(e){var t=this.items[e];t.dragStartDisposable.dispose();var r=this.renderers.get(t.templateId);r&&r.disposeElement&&r.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},n.prototype.getScrollTop=function(){var e=this.scrollableElement.getScrollPosition();return e.scrollTop},n.prototype.setScrollTop=function(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e})},Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClick",{get:function(){var e=this;return Je.map(Nt(this.domNode,"click"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClick",{get:function(){var e=this;return Je.map(Nt(this.domNode,"dblclick"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMiddleClick",{get:function(){var e=this;return Je.filter(Je.map(Nt(this.domNode,"auxclick"),function(t){return e.toMouseEvent(t)}),function(t){return t.browserEvent.button===1})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDown",{get:function(){var e=this;return Je.map(Nt(this.domNode,"mousedown"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onContextMenu",{get:function(){var e=this;return Je.map(Nt(this.domNode,"contextmenu"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStart",{get:function(){var e=this;return Je.map(Nt(this.domNode,"touchstart"),function(t){return e.toTouchEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTap",{get:function(){var e=this;return Je.map(Nt(this.rowsContainer,ii.Tap),function(t){return e.toGestureEvent(t)})},enumerable:!0,configurable:!0}),n.prototype.toMouseEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.toTouchEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.toGestureEvent=function(e){var t=this.getItemIndexFromEventTarget(e.initialTarget||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.toDragEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(t){throw console.error("Got bad scroll event:",e),t}},n.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},n.prototype.onDragStart=function(e,t,r){if(r.dataTransfer){var i=this.dnd.getDragElements(e);if(r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setData(lne.RESOURCES,JSON.stringify([t])),r.dataTransfer.setDragImage){var o=void 0;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(i)),typeof o>"u"&&(o=String(i.length));var s=Ve(".monaco-drag-image");s.textContent=o,document.body.appendChild(s),r.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragData=new t1(i),zs.CurrentDragAndDropData=new VMe(i),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,r)}},n.prototype.onDragOver=function(e){var t=this;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),zs.CurrentDragAndDropData&&zs.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(zs.CurrentDragAndDropData)this.currentDragData=zs.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new WMe}var r=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof r=="boolean"?r:r.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof r!="boolean"&&r.effect===0?"copy":"move";var i;if(typeof r!="boolean"&&r.feedback?i=r.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=aJ(i).filter(function(l){return l>=-1&&l<t.length}).sort(),i=i[0]===-1?[-1]:i,i.length===0)throw new Error("Invalid empty feedback list");if(UMe(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)De(this.domNode,"drop-target"),this.currentDragFeedbackDisposable=bn(function(){return ot(t.domNode,"drop-target")});else{for(var o=0,s=i;o<s.length;o++){var a=s[o],u=this.items[a];u.dropTarget=!0,u.row&&u.row.domNode&&De(u.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=bn(function(){for(var l=0,c=i;l<c.length;l++){var d=c[l],h=t.items[d];h.dropTarget=!1,h.row&&h.row.domNode&&ot(h.row.domNode,"drop-target")}})}return!0},n.prototype.onDragLeave=function(){var e=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Em(function(){return e.clearDragOverFeedback()},100)},n.prototype.onDrop=function(e){if(this.canDrop){var t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,zs.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}},n.prototype.onDragEnd=function(){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,zs.CurrentDragAndDropData=void 0},n.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=fe.None},n.prototype.setupDragAndDropScrollTopAnimation=function(e){var t=this;if(!this.dragOverAnimationDisposable){var r=X4(this.domNode).top;this.dragOverAnimationDisposable=RDe(this.animateDragAndDropScrollTop.bind(this,r))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Em(function(){t.dragOverAnimationDisposable&&(t.dragOverAnimationDisposable.dispose(),t.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY},n.prototype.animateDragAndDropScrollTop=function(e){if(this.dragOverMouseY!==void 0){var t=this.dragOverMouseY-e,r=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>r&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-r))))}},n.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},n.prototype.getItemIndexFromEventTarget=function(e){for(var t=e;t instanceof HTMLElement&&t!==this.rowsContainer;){var r=t.getAttribute("data-index");if(r){var i=Number(r);if(!isNaN(i))return i}t=t.parentElement}},n.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},n.prototype._rerender=function(e,t){var r=this.getRenderRange(e,t),i,o;e===this.elementTop(r.start)?(i=r.start,o=0):r.end-r.start>1&&(i=r.start+1,o=this.elementTop(i)-e);for(var s=0;;){for(var a=this.getRenderRange(e,t),u=!1,l=a.start;l<a.end;l++){var c=this.probeDynamicHeight(l);c!==0&&this.rangeMap.splice(l,1,[this.items[l]]),s+=c,u=u||c!==0}if(!u){s!==0&&this.eventuallyUpdateScrollDimensions();for(var d=Ho.relativeComplement(r,a),h=0,p=d;h<p.length;h++)for(var v=p[h],l=v.start;l<v.end;l++)this.items[l].row&&this.removeItemFromDOM(l);for(var m=Ho.relativeComplement(a,r),_=0,b=m;_<b.length;_++)for(var v=b[_],l=v.start;l<v.end;l++){var C=l+1,E=C<this.items.length?this.items[C].row:null,T=E?E.domNode:null;this.insertItemInDOM(l,T)}for(var l=a.start;l<a.end;l++)this.items[l].row&&this.updateItemInDOM(this.items[l],l);typeof i=="number"&&(this.scrollTop=this.elementTop(i)-o),this._onDidChangeContentHeight.fire(this.contentHeight);return}}},n.prototype.probeDynamicHeight=function(e){var t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;var r=t.size,i=this.cache.alloc(t.templateId);i.domNode.style.height="",this.rowsContainer.appendChild(i.domNode);var o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,i.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,i.templateData,void 0)),t.size=i.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(i.domNode),this.cache.release(i),t.size-r},n.prototype.getNextToLastElement=function(e){var t=e[e.length-1];if(!t)return null;var r=this.items[t.end];return!r||!r.row?null:r.row.domNode},n.prototype.getElementDomId=function(e){return this.domId+"_"+e},n.prototype.dispose=function(){if(this.items){for(var e=0,t=this.items;e<t.length;e++){var r=t[e];if(r.row){var i=this.renderers.get(r.row.templateId);i&&i.disposeTemplate(r.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.disposables=nt(this.disposables)},n.InstanceCount=0,wd([Ea],n.prototype,"onMouseClick",null),wd([Ea],n.prototype,"onMouseDblClick",null),wd([Ea],n.prototype,"onMouseMiddleClick",null),wd([Ea],n.prototype,"onMouseDown",null),wd([Ea],n.prototype,"onContextMenu",null),wd([Ea],n.prototype,"onTouchStart",null),wd([Ea],n.prototype,"onTap",null),n}(),qMe=function(){function n(e){this.spliceables=e}return n.prototype.splice=function(e,t,r){this.spliceables.forEach(function(i){return i.splice(e,t,r)})},n}();function nu(n,e,t){return Math.min(Math.max(n,e),t)}function cne(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t,r){for(var i=0,o=n.length;i<o;i++){var s=n[i](t,r);if(s)return s}return null}}var f5=zMe.bind(void 0,!0);function zMe(n,e,t){if(!t||t.length<e.length)return null;var r;return n?r=zJ(t,e):r=t.indexOf(e)===0,r?e.length>0?[{start:0,end:e.length}]:[]:null}function GMe(n,e){var t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function $Me(n,e){return $M(n.toLowerCase(),e.toLowerCase(),0,0)}function $M(n,e,t,r){if(t===n.length)return[];if(r===e.length)return null;if(n[t]===e[r]){var i=null;return(i=$M(n,e,t+1,r+1))?hne({start:r,end:r+1},i):null}return $M(n,e,t,r+1)}function h5(n){return 97<=n&&n<=122}function C2(n){return 65<=n&&n<=90}function d5(n){return 48<=n&&n<=57}function KMe(n){return n===32||n===9||n===10||n===13}var YMe=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(function(n){return YMe.add(n.charCodeAt(0))});function fne(n){return h5(n)||C2(n)||d5(n)}function hne(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function dne(n,e){for(var t=e;t<n.length;t++){var r=n.charCodeAt(t);if(C2(r)||d5(r)||t>0&&!fne(n.charCodeAt(t-1)))return t}return n.length}function KM(n,e,t,r){if(t===n.length)return[];if(r===e.length)return null;if(n[t]!==e[r].toLowerCase())return null;var i=null,o=r+1;for(i=KM(n,e,t+1,r+1);!i&&(o=dne(e,o))<e.length;)i=KM(n,e,t+1,o),o++;return i===null?null:hne({start:r,end:r+1},i)}function XMe(n){for(var e=0,t=0,r=0,i=0,o=0,s=0;s<n.length;s++)o=n.charCodeAt(s),C2(o)&&e++,h5(o)&&t++,fne(o)&&r++,d5(o)&&i++;var a=e/n.length,u=t/n.length,l=r/n.length,c=i/n.length;return{upperPercent:a,lowerPercent:u,alphaPercent:l,numericPercent:c}}function QMe(n){var e=n.upperPercent,t=n.lowerPercent;return t===0&&e>.6}function ZMe(n){var e=n.upperPercent,t=n.lowerPercent,r=n.alphaPercent,i=n.numericPercent;return t>.2&&e<.8&&r>.6&&i<.2}function JMe(n){for(var e=0,t=0,r=0,i=0,o=0;o<n.length;o++)r=n.charCodeAt(o),C2(r)&&e++,h5(r)&&t++,KMe(r)&&i++;return(e===0||t===0)&&i===0?n.length<=30:e<=5}function pne(n,e){if(!e||(e=e.trim(),e.length===0)||!JMe(n)||e.length>60)return null;var t=XMe(e);if(!ZMe(t)){if(!QMe(t))return null;e=e.toLowerCase()}var r=null,i=0;for(n=n.toLowerCase();i<e.length&&(r=KM(n,e,0,i))===null;)i=dne(e,i+1);return r}var e3e=cne(f5,pne,GMe),t3e=cne(f5,pne,$Me),wz=new Sm(1e4);function gne(n,e,t){if(t===void 0&&(t=!1),typeof n!="string"||typeof e!="string")return null;var r=wz.get(n);r||(r=new RegExp(FDe(n),"i"),wz.set(n,r));var i=r.exec(e);return i?[{start:i.index,end:i.index+i[0].length}]:t?t3e(n,e):e3e(n,e)}function n3e(n,e,t,r,i,o){var s=n1(n,e,0,r,i,0,!0);if(s)return s;for(var a=0,u=0,l=o,c=0;c<e.length&&c<Hf;++c){var d=i.indexOf(e.charAt(c),l);if(d>=0)u+=1,a+=Math.pow(2,d),l=d+1;else if(a!==0)break}return[u,a,o]}function p5(n){if(typeof n>"u")return[];for(var e=n[1].toString(2),t=n[2],r=[],i=t;i<Hf;i++)if(e[e.length-(i+1)]==="1"){var o=r[r.length-1];o&&o.end===i?o.end=i+1:r.push({start:i,end:i+1})}return r}var Hf=128;function g5(){for(var n=[],e=[0],t=1;t<=Hf;t++)e.push(-t);for(var t=0;t<=Hf;t++){var r=e.slice(0);r[0]=-t,n.push(r)}return n}var Yl=g5(),vne=g5(),Md=g5();function fk(n,e){if(e<0||e>=n.length)return!1;var t=n.charCodeAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function r3e(n,e){if(e<0||e>=n.length)return!1;var t=n.charCodeAt(e);switch(t){case 32:case 9:return!0;default:return!1}}function Ez(n,e,t){return e[n]!==t[n]}function i3e(n,e,t,r,i,o){for(;e<t&&i<o;)n[e]===r[i]&&(e+=1),i+=1;return e===t}var _u;(function(n){n.Default=Object.freeze([-100,0,0]);function e(t){return!t||t[0]===-100&&t[1]===0&&t[2]===0}n.isDefault=e})(_u||(_u={}));function n1(n,e,t,r,i,o,s){var a=n.length>Hf?Hf:n.length,u=r.length>Hf?Hf:r.length;if(!(t>=a||o>=u||a>u)&&i3e(e,t,a,i,o,u)){var l=1,c=1,d=t,h=o;for(l=1,d=t;d<a;l++,d++)for(c=1,h=o;h<u;c++,h++){var p=o3e(n,e,d,t,r,i,h);vne[l][c]=p;var v=Yl[l-1][c-1]+(p>1?1:p),m=Yl[l-1][c]+-1,_=Yl[l][c-1]+-1;_>=m?_>v?(Yl[l][c]=_,Md[l][c]=4):_===v?(Yl[l][c]=_,Md[l][c]=6):(Yl[l][c]=v,Md[l][c]=2):m>v?(Yl[l][c]=m,Md[l][c]=1):m===v?(Yl[l][c]=m,Md[l][c]=3):(Yl[l][c]=v,Md[l][c]=2)}if(JT=0,eD=-100,_ne=o,yne=s,bne(l-1,c-1,a===u?1:0,0,!1),JT!==0)return[eD,mne,o]}}function o3e(n,e,t,r,i,o,s){return e[t]!==o[s]?-1:s===t-r||Ez(s,i,o)&&(s===0||!Ez(s-1,i,o))?n[t]===i[s]?7:5:fk(o,s)&&(s===0||!fk(o,s-1))||fk(o,s-1)||r3e(o,s-1)?5:1}var JT=0,mne=0,eD=0,_ne=0,yne=!1;function bne(n,e,t,r,i){if(!(JT>=10||t<-25)){for(var o=0;n>0&&e>0;){var s=vne[n][e],a=Md[n][e];if(a===4)e-=1,i?t-=5:r!==0&&(t-=1),i=!1,o=0;else if(a&2)if(a&4&&bne(n,e-1,r!==0?t-1:t,r,i),t+=s,n-=1,e-=1,i=!0,r+=Math.pow(2,e+_ne),s===1){if(o+=1,n===0&&!yne)return}else t+=1+o*(s-1),o=0;else return}t-=e>=3?9:e*3,JT+=1,t>eD&&(eD=t,mne=r)}}function s3e(n,e,t,r,i,o,s){return a3e(n,e,t,r,i,o,!0,s)}function a3e(n,e,t,r,i,o,s,a){var u=n1(n,e,t,r,i,o,a);if(u&&!s)return u;if(n.length>=3)for(var l=Math.min(7,n.length-1),c=t+1;c<l;c++){var d=u3e(n,c);if(d){var h=n1(d,d.toLowerCase(),t,r,i,o,a);h&&(h[0]-=3,(!u||h[0]>u[0])&&(u=h))}}return u}function u3e(n,e){if(!(e+1>=n.length)){var t=n[e],r=n[e+1];if(t!==r)return n.slice(0,e)+r+t+n.slice(e+2)}}var l3e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tD=function(){return tD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},tD.apply(this,arguments)},IS=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},c3e=function(){function n(e){this.trait=e,this.renderedElements=[]}return Object.defineProperty(n.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),n.prototype.renderTemplate=function(e){return e},n.prototype.renderElement=function(e,t,r){var i=Yf(this.renderedElements,function(s){return s.templateData===r});if(i>=0){var o=this.renderedElements[i];this.trait.unrender(r),o.index=t}else{var o={index:t,templateData:r};this.renderedElements.push(o)}this.trait.renderIndex(t,r)},n.prototype.splice=function(e,t,r){for(var i=[],o=0,s=this.renderedElements;o<s.length;o++){var a=s[o];a.index<e?i.push(a):a.index>=e+t&&i.push({index:a.index+r-t,templateData:a.templateData})}this.renderedElements=i},n.prototype.renderIndexes=function(e){for(var t=0,r=this.renderedElements;t<r.length;t++){var i=r[t],o=i.index,s=i.templateData;e.indexOf(o)>-1&&this.trait.renderIndex(o,s)}},n.prototype.disposeTemplate=function(e){var t=Yf(this.renderedElements,function(r){return r.templateData===e});t<0||this.renderedElements.splice(t,1)},n}(),Cne=function(){function n(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new Q,this.onChange=this._onChange.event}return Object.defineProperty(n.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return new c3e(this)},enumerable:!0,configurable:!0}),n.prototype.splice=function(e,t,r){var i=r.length-t,o=e+t,s=this.sortedIndexes.filter(function(a){return a<e}).concat(r.map(function(a,u){return a?u+e:-1}).filter(function(a){return a!==-1}),this.sortedIndexes.filter(function(a){return a>=o}).map(function(a){return a+i}));this.renderer.splice(e,t,r.length),this._set(s,s)},n.prototype.renderIndex=function(e,t){kt(t,this._trait,this.contains(e))},n.prototype.unrender=function(e){ot(e,this._trait)},n.prototype.set=function(e,t){return this._set(e,e.slice().sort(Tz),t)},n.prototype._set=function(e,t,r){var i=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;var s=YM(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:r}),i},n.prototype.get=function(){return this.indexes},n.prototype.contains=function(e){return UA(this.sortedIndexes,e,Tz)>=0},n.prototype.dispose=function(){this._onChange=nt(this._onChange)},IS([Ea],n.prototype,"renderer",null),n}(),f3e=function(n){l3e(e,n);function e(){return n.call(this,"focused")||this}return e.prototype.renderIndex=function(t,r){n.prototype.renderIndex.call(this,t,r),this.contains(t)?r.setAttribute("aria-selected","true"):r.removeAttribute("aria-selected")},e}(Cne),Sz=function(){function n(e,t,r){this.trait=e,this.view=t,this.identityProvider=r}return n.prototype.splice=function(e,t,r){var i=this;if(!this.identityProvider)return this.trait.splice(e,t,r.map(function(){return!1}));var o=this.trait.get().map(function(a){return i.identityProvider.getId(i.view.element(a)).toString()}),s=r.map(function(a){return o.indexOf(i.identityProvider.getId(a).toString())>-1});this.trait.splice(e,t,s)},n}();function r1(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}var h3e=function(){function n(e,t,r){this.list=e,this.view=t,this.disposables=new Be;var i=r.multipleSelectionSupport!==!1;this.openController=r.openController||Dne;var o=Je.chain(Nt(t.domNode,"keydown")).filter(function(s){return!r1(s.target)}).map(function(s){return new Un(s)});o.filter(function(s){return s.keyCode===3}).on(this.onEnter,this,this.disposables),o.filter(function(s){return s.keyCode===16}).on(this.onUpArrow,this,this.disposables),o.filter(function(s){return s.keyCode===18}).on(this.onDownArrow,this,this.disposables),o.filter(function(s){return s.keyCode===11}).on(this.onPageUpArrow,this,this.disposables),o.filter(function(s){return s.keyCode===12}).on(this.onPageDownArrow,this,this.disposables),o.filter(function(s){return s.keyCode===9}).on(this.onEscape,this,this.disposables),i&&o.filter(function(s){return(Tt?s.metaKey:s.ctrlKey)&&s.keyCode===31}).on(this.onCtrlA,this,this.disposables)}return n.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open(this.list.getFocus(),e.browserEvent)},n.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onCtrlA=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Fo(this.list.length),e.browserEvent),this.view.domNode.focus()},n.prototype.onEscape=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()},n.prototype.dispose=function(){this.disposables.dispose()},n}(),Mv;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(Mv||(Mv={}));function wne(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=93&&n.keyCode<=102||n.keyCode>=80&&n.keyCode<=90}var d3e=function(){function n(e,t,r){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=r,this.enabled=!1,this.state=Mv.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.enabledDisposables=new Be,this.disposables=new Be,this.updateOptions(e.options)}return n.prototype.updateOptions=function(e){var t=typeof e.enableKeyboardNavigation>"u"?!0:!!e.enableKeyboardNavigation;t?this.enable():this.disable(),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)},n.prototype.enable=function(){var e=this;if(!this.enabled){var t=Je.chain(Nt(this.view.domNode,"keydown")).filter(function(o){return!r1(o.target)}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).map(function(o){return new Un(o)}).filter(this.keyboardNavigationLabelProvider.mightProducePrintableCharacter?function(o){return e.keyboardNavigationLabelProvider.mightProducePrintableCharacter(o)}:function(o){return wne(o)}).forEach(function(o){o.stopPropagation(),o.preventDefault()}).map(function(o){return o.browserEvent.key}).event,r=Je.debounce(t,function(){return null},800),i=Je.reduce(Je.any(t,r),function(o,s){return s===null?null:(o||"")+s});i(this.onInput,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}},n.prototype.disable=function(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)},n.prototype.onInput=function(e){if(!e){this.state=Mv.Idle,this.triggered=!1;return}var t=this.list.getFocus(),r=t.length>0?t[0]:0,i=this.state===Mv.Idle?1:0;this.state=Mv.Typing;for(var o=0;o<this.list.length;o++){var s=(r+o+i)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),u=a&&a.toString();if(typeof u>"u"||f5(e,u)){this.list.setFocus([s]),this.list.reveal(s);return}}},n.prototype.dispose=function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()},n}(),p3e=function(){function n(e,t){this.list=e,this.view=t,this.disposables=new Be;var r=Je.chain(Nt(t.domNode,"keydown")).filter(function(i){return!r1(i.target)}).map(function(i){return new Un(i)});r.filter(function(i){return i.keyCode===2&&!i.ctrlKey&&!i.metaKey&&!i.shiftKey&&!i.altKey}).on(this.onTab,this,this.disposables)}return n.prototype.onTab=function(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(t.length!==0){var r=this.view.domElement(t[0]);if(r){var i=r.querySelector("[tabIndex]");if(!(!i||!(i instanceof HTMLElement)||i.tabIndex===-1)){var o=window.getComputedStyle(i);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),i.focus())}}}}},n.prototype.dispose=function(){this.disposables.dispose()},n}();function Ene(n){return Tt?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function Sne(n){return n.browserEvent.shiftKey}function Tne(n){return n instanceof MouseEvent&&n.button===2}var g3e={isSelectionSingleChangeEvent:Ene,isSelectionRangeChangeEvent:Sne},Dne={shouldOpen:function(n){return n instanceof MouseEvent?!Tne(n):!0}},Ane=function(){function n(e){this.list=e,this.disposables=new Be,this.multipleSelectionSupport=e.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||g3e),this.openController=e.options.openController||Dne,this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),D_.addTarget(e.getHTMLElement())),e.onMouseClick(this.onPointer,this,this.disposables),e.onMouseMiddleClick(this.onPointer,this,this.disposables),e.onTap(this.onPointer,this,this.disposables)}return n.prototype.isSelectionSingleChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):Tt?e.browserEvent.metaKey:e.browserEvent.ctrlKey},n.prototype.isSelectionRangeChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey},n.prototype.isSelectionChangeEvent=function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)},n.prototype.onMouseDown=function(e){document.activeElement!==e.browserEvent.target&&this.list.domFocus()},n.prototype.onContextMenu=function(e){var t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)},n.prototype.onPointer=function(e){if(this.mouseSupport&&!r1(e.browserEvent.target)){var t=this.list.getFocus()[0],r=this.list.getSelection();t=t===void 0?r[0]:t;var i=e.index;if(typeof i>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e))return this.changeSelection(e,t);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return this.changeSelection(e,t);this.list.setFocus([i],e.browserEvent),Tne(e.browserEvent)||(this.list.setSelection([i],e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open([i],e.browserEvent))}},n.prototype.onDoubleClick=function(e){if(!r1(e.browserEvent.target)&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))){var t=this.list.getFocus();this.list.setSelection(t,e.browserEvent),this.list.pin(t)}},n.prototype.changeSelection=function(e,t){var r=e.index;if(this.isSelectionRangeChangeEvent(e)&&t!==void 0){var i=Math.min(t,r),o=Math.max(t,r),s=Fo(i,o+1),a=this.list.getSelection(),u=_3e(YM(a,[t]),t);if(u.length===0)return;var l=YM(s,y3e(a,u));this.list.setSelection(l,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){var a=this.list.getSelection(),l=a.filter(function(h){return h!==r});this.list.setFocus([r]),a.length===l.length?this.list.setSelection(l.concat([r]),e.browserEvent):this.list.setSelection(l,e.browserEvent)}},n.prototype.dispose=function(){this.disposables.dispose()},n}(),Ine=function(){function n(e,t){this.styleElement=e,this.selectorSuffix=t}return n.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",r=[];e.listFocusBackground&&(r.push(".monaco-list"+t+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }"),r.push(".monaco-list"+t+":focus .monaco-list-row.focused:hover { background-color: "+e.listFocusBackground+"; }")),e.listFocusForeground&&r.push(".monaco-list"+t+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&(r.push(".monaco-list"+t+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }"),r.push(".monaco-list"+t+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")),e.listActiveSelectionForeground&&r.push(".monaco-list"+t+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&r.push(`
				.monaco-drag-image,
				.monaco-list`+t+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+`; }
			`),e.listFocusAndSelectionForeground&&r.push(`
				.monaco-drag-image,
				.monaco-list`+t+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+`; }
			`),e.listInactiveFocusBackground&&(r.push(".monaco-list"+t+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }"),r.push(".monaco-list"+t+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")),e.listInactiveSelectionBackground&&(r.push(".monaco-list"+t+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }"),r.push(".monaco-list"+t+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")),e.listInactiveSelectionForeground&&r.push(".monaco-list"+t+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&r.push(".monaco-list"+t+":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  "+e.listHoverBackground+"; }"),e.listHoverForeground&&r.push(".monaco-list"+t+" .monaco-list-row:hover:not(.selected):not(.focused) { color:  "+e.listHoverForeground+"; }"),e.listSelectionOutline&&r.push(".monaco-list"+t+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }"),e.listFocusOutline&&r.push(`
				.monaco-drag-image,
				.monaco-list`+t+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+`; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&r.push(".monaco-list"+t+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }"),e.listHoverOutline&&r.push(".monaco-list"+t+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }"),e.listDropBackground&&r.push(`
				.monaco-list`+t+`.drop-target,
				.monaco-list`+t+" .monaco-list-row.drop-target { background-color: "+e.listDropBackground+` !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&r.push(".monaco-list-type-filter { background-color: "+e.listFilterWidgetBackground+" }"),e.listFilterWidgetOutline&&r.push(".monaco-list-type-filter { border: 1px solid "+e.listFilterWidgetOutline+"; }"),e.listFilterWidgetNoMatchesOutline&&r.push(".monaco-list-type-filter.no-matches { border: 1px solid "+e.listFilterWidgetNoMatchesOutline+"; }"),e.listMatchesShadow&&r.push(".monaco-list-type-filter { box-shadow: 1px 1px 1px "+e.listMatchesShadow+"; }");var i=r.join(`
`);i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},n}(),v3e={listFocusBackground:se.fromHex("#073655"),listActiveSelectionBackground:se.fromHex("#0E639C"),listActiveSelectionForeground:se.fromHex("#FFFFFF"),listFocusAndSelectionBackground:se.fromHex("#094771"),listFocusAndSelectionForeground:se.fromHex("#FFFFFF"),listInactiveSelectionBackground:se.fromHex("#3F3F46"),listHoverBackground:se.fromHex("#2A2D2E"),listDropBackground:se.fromHex("#383B3D"),treeIndentGuidesStroke:se.fromHex("#a9a9a9")},m3e={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},ariaRootRole:ZT.TREE};function _3e(n,e){var t=n.indexOf(e);if(t===-1)return[];for(var r=[],i=t-1;i>=0&&n[i]===e-(t-i);)r.push(n[i--]);for(r.reverse(),i=t;i<n.length&&n[i]===e+(i-t);)r.push(n[i++]);return r}function YM(n,e){for(var t=[],r=0,i=0;r<n.length||i<e.length;)if(r>=n.length)t.push(e[i++]);else if(i>=e.length)t.push(n[r++]);else if(n[r]===e[i]){t.push(n[r]),r++,i++;continue}else n[r]<e[i]?t.push(n[r++]):t.push(e[i++]);return t}function y3e(n,e){for(var t=[],r=0,i=0;r<n.length||i<e.length;)if(r>=n.length)t.push(e[i++]);else if(i>=e.length)t.push(n[r++]);else if(n[r]===e[i]){r++,i++;continue}else n[r]<e[i]?t.push(n[r++]):i++;return t}var Tz=function(n,e){return n-e},b3e=function(){function n(e,t){this._templateId=e,this.renderers=t}return Object.defineProperty(n.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),n.prototype.renderTemplate=function(e){return this.renderers.map(function(t){return t.renderTemplate(e)})},n.prototype.renderElement=function(e,t,r,i){for(var o=0,s=0,a=this.renderers;s<a.length;s++){var u=a[s];u.renderElement(e,t,r[o++],i)}},n.prototype.disposeElement=function(e,t,r,i){for(var o=0,s=0,a=this.renderers;s<a.length;s++){var u=a[s];u.disposeElement&&u.disposeElement(e,t,r[o],i),o+=1}},n.prototype.disposeTemplate=function(e){for(var t=0,r=0,i=this.renderers;r<i.length;r++){var o=i[r];o.disposeTemplate(e[t++])}},n}(),C3e=function(){function n(e){this.accessibilityProvider=e,this.templateId="a18n"}return n.prototype.renderTemplate=function(e){return e},n.prototype.renderElement=function(e,t,r){var i=this.accessibilityProvider.getAriaLabel(e);i?r.setAttribute("aria-label",i):r.removeAttribute("aria-label");var o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?r.setAttribute("aria-level",""+o):r.removeAttribute("aria-level")},n.prototype.disposeTemplate=function(e){},n}(),w3e=function(){function n(e,t){this.list=e,this.dnd=t}return n.prototype.getDragElements=function(e){var t=this.list.getSelectedElements(),r=t.indexOf(e)>-1?t:[e];return r},n.prototype.getDragURI=function(e){return this.dnd.getDragURI(e)},n.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e)},n.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)},n.prototype.onDragOver=function(e,t,r,i){return this.dnd.onDragOver(e,t,r,i)},n.prototype.drop=function(e,t,r,i){this.dnd.drop(e,t,r,i)},n}(),xne=function(){function n(e,t,r,i){i===void 0&&(i=m3e),this._options=i,this.eventBufferer=new W4,this.disposables=new Be,this._onDidOpen=new Q,this.onDidOpen=this._onDidOpen.event,this._onPin=new Q,this.didJustPressContextMenuKey=!1,this._onDidDispose=new Q,this.onDidDispose=this._onDidDispose.event,this.focus=new f3e,this.selection=new Cne("selected"),Ur(i,v3e,!1);var o=[this.focus.renderer,this.selection.renderer];i.accessibilityProvider&&o.push(new C3e(i.accessibilityProvider)),r=r.map(function(u){return new b3e(u.templateId,o.concat([u]))});var s=tD({},i,{dnd:i.dnd&&new w3e(this,i.dnd)});if(this.view=new jMe(e,t,r,s),typeof i.ariaRole!="string"?this.view.domNode.setAttribute("role",ZT.TREE):this.view.domNode.setAttribute("role",i.ariaRole),this.styleElement=xh(this.view.domNode),this.styleController=i.styleController||new Ine(this.styleElement,this.view.domId),this.spliceable=new qMe([new Sz(this.focus,this.view,i.identityProvider),new Sz(this.selection,this.view,i.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=Je.map(Nt(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=Je.map(Nt(this.view.domNode,"blur",!0),function(){return null}),this.disposables.add(new p3e(this,this.view)),typeof i.keyboardSupport!="boolean"||i.keyboardSupport){var a=new h3e(this,this.view,i);this.disposables.add(a)}i.keyboardNavigationLabelProvider&&(this.typeLabelController=new d3e(this,this.view,i.keyboardNavigationLabelProvider),this.disposables.add(this.typeLabelController)),this.disposables.add(this.createMouseController(i)),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),i.ariaLabel&&this.view.domNode.setAttribute("aria-label",D("aria list","{0}. Use the navigation keys to navigate.",i.ariaLabel)),this.style(i)}return Object.defineProperty(n.prototype,"onFocusChange",{get:function(){var e=this;return Je.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onSelectionChange",{get:function(){var e=this;return Je.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"domId",{get:function(){return this.view.domId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onContextMenu",{get:function(){var e=this,t=Je.chain(Nt(this.view.domNode,"keydown")).map(function(o){return new Un(o)}).filter(function(o){return e.didJustPressContextMenuKey=o.keyCode===58||o.shiftKey&&o.keyCode===68}).filter(function(o){return o.preventDefault(),o.stopPropagation(),!1}).event,r=Je.chain(Nt(this.view.domNode,"keyup")).filter(function(){var o=e.didJustPressContextMenuKey;return e.didJustPressContextMenuKey=!1,o}).filter(function(){return e.getFocus().length>0&&!!e.view.domElement(e.getFocus()[0])}).map(function(o){var s=e.getFocus()[0],a=e.view.element(s),u=e.view.domElement(s);return{index:s,element:a,anchor:u,browserEvent:o}}).event,i=Je.chain(this.view.onContextMenu).filter(function(){return!e.didJustPressContextMenuKey}).map(function(o){var s=o.element,a=o.index,u=o.browserEvent;return{element:s,index:a,anchor:{x:u.clientX+1,y:u.clientY},browserEvent:u}}).event;return Je.any(t,r,i)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onKeyDown",{get:function(){return Nt(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),n.prototype.createMouseController=function(e){return new Ane(this)},n.prototype.updateOptions=function(e){e===void 0&&(e={}),this._options=tD({},this._options,e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options)},Object.defineProperty(n.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),n.prototype.splice=function(e,t,r){var i=this;if(r===void 0&&(r=[]),e<0||e>this.view.length)throw new Error("Invalid start index: "+e);if(t<0)throw new Error("Invalid delete count: "+t);t===0&&r.length===0||this.eventBufferer.bufferEvents(function(){return i.spliceable.splice(e,t,r)})},n.prototype.rerender=function(){this.view.rerender()},n.prototype.element=function(e){return this.view.element(e)},Object.defineProperty(n.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:!0,configurable:!0}),n.prototype.domFocus=function(){this.view.domNode.focus()},n.prototype.layout=function(e,t){this.view.layout(e,t)},n.prototype.setSelection=function(e,t){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o<0||o>=this.length)throw new Error("Invalid index "+o)}this.selection.set(e,t)},n.prototype.getSelection=function(){return this.selection.get()},n.prototype.getSelectedElements=function(){var e=this;return this.getSelection().map(function(t){return e.view.element(t)})},n.prototype.setFocus=function(e,t){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o<0||o>=this.length)throw new Error("Invalid index "+o)}this.focus.set(e,t)},n.prototype.focusNext=function(e,t,r,i){if(e===void 0&&(e=1),t===void 0&&(t=!1),this.length!==0){var o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,i);s>-1&&this.setFocus([s],r)}},n.prototype.focusPrevious=function(e,t,r,i){if(e===void 0&&(e=1),t===void 0&&(t=!1),this.length!==0){var o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,i);s>-1&&this.setFocus([s],r)}},n.prototype.focusNextPage=function(e,t){var r=this,i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;var o=this.view.element(i),s=this.getFocusedElements()[0];if(s!==o){var a=this.findPreviousIndex(i,!1,t);a>-1&&s!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{var u=this.view.getScrollTop();this.view.setScrollTop(u+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==u&&setTimeout(function(){return r.focusNextPage(e,t)},0)}},n.prototype.focusPreviousPage=function(e,t){var r=this,i,o=this.view.getScrollTop();o===0?i=this.view.indexAt(o):i=this.view.indexAfter(o-1);var s=this.view.element(i),a=this.getFocusedElements()[0];if(a!==s){var u=this.findNextIndex(i,!1,t);u>-1&&a!==this.view.element(u)?this.setFocus([u],e):this.setFocus([i],e)}else{var l=o;this.view.setScrollTop(o-this.view.renderHeight),this.view.getScrollTop()!==l&&setTimeout(function(){return r.focusPreviousPage(e,t)},0)}},n.prototype.focusLast=function(e,t){if(this.length!==0){var r=this.findPreviousIndex(this.length-1,!1,t);r>-1&&this.setFocus([r],e)}},n.prototype.focusFirst=function(e,t){if(this.length!==0){var r=this.findNextIndex(0,!1,t);r>-1&&this.setFocus([r],e)}},n.prototype.findNextIndex=function(e,t,r){t===void 0&&(t=!1);for(var i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!r||r(this.element(e)))return e;e++}return-1},n.prototype.findPreviousIndex=function(e,t,r){t===void 0&&(t=!1);for(var i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!r||r(this.element(e)))return e;e--}return-1},n.prototype.getFocus=function(){return this.focus.get()},n.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},n.prototype.reveal=function(e,t){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var r=this.view.getScrollTop(),i=this.view.elementTop(e),o=this.view.elementHeight(e);if(Dc(t)){var s=o-this.view.renderHeight;this.view.setScrollTop(s*nu(t,0,1)+i)}else{var a=i+o,u=r+this.view.renderHeight;i<r?this.view.setScrollTop(i):a>=u&&this.view.setScrollTop(a-this.view.renderHeight)}},n.prototype.getRelativeTop=function(e){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var t=this.view.getScrollTop(),r=this.view.elementTop(e),i=this.view.elementHeight(e);if(r<t||r+i>t+this.view.renderHeight)return null;var o=i-this.view.renderHeight;return Math.abs((t-r)/o)},n.prototype.getHTMLElement=function(){return this.view.domNode},n.prototype.open=function(e,t){for(var r=this,i=0,o=e;i<o.length;i++){var s=o[i];if(s<0||s>=this.length)throw new Error("Invalid index "+s)}this._onDidOpen.fire({indexes:e,elements:e.map(function(a){return r.view.element(a)}),browserEvent:t})},n.prototype.pin=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i<0||i>=this.length)throw new Error("Invalid index "+i)}this._onPin.fire(e)},n.prototype.style=function(e){this.styleController.style(e)},n.prototype.toListEvent=function(e){var t=this,r=e.indexes,i=e.browserEvent;return{indexes:r,elements:r.map(function(o){return t.view.element(o)}),browserEvent:i}},n.prototype._onFocusChange=function(){var e=this.focus.get();e.length>0?this.view.domNode.setAttribute("aria-activedescendant",this.view.getElementDomId(e[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),kt(this.view.domNode,"element-focused",e.length>0)},n.prototype._onSelectionChange=function(){var e=this.selection.get();kt(this.view.domNode,"selection-none",e.length===0),kt(this.view.domNode,"selection-single",e.length===1),kt(this.view.domNode,"selection-multiple",e.length>1)},n.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidOpen.dispose(),this._onPin.dispose(),this._onDidDispose.dispose()},IS([Ea],n.prototype,"onFocusChange",null),IS([Ea],n.prototype,"onSelectionChange",null),IS([Ea],n.prototype,"onContextMenu",null),n}();function Lne(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function XM(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function Nne(n){var e=n.element,t=n.collapsed,r=ri.map(ri.fromArray(n.children),Nne);return{element:e,children:r,collapsed:t}}var E3e=function(){function n(e,t,r){r===void 0&&(r={}),this.list=e,this.rootRef=[],this.eventBufferer=new W4,this._onDidChangeCollapseState=new Q,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Q,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Q,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return n.prototype.splice=function(e,t,r,i,o){var s,a=this;if(e.length===0)throw new Error("Invalid tree location");for(var u=this.getParentNodeWithListIndex(e),l=u.parentNode,c=u.listIndex,d=u.revealed,h=u.visible,p=[],v=ri.map(ri.from(r),function(B){return a.createTreeNode(B,l,l.visible?1:0,d,p,i)}),m=e[e.length-1],_=0,b=m;b>=0&&b<l.children.length;b--){var C=l.children[b];if(C.visible){_=C.visibleChildIndex;break}}var E=[],T=0,A=0;ri.forEach(v,function(B){E.push(B),A+=B.renderNodeCount,B.visible&&(B.visibleChildIndex=_+T++)});for(var S=(s=l.children).splice.apply(s,[m,t].concat(E)),N=0,k=0,F=S;k<F.length;k++){var C=F[k];C.visible&&N++}if(N!==0)for(var b=m+E.length;b<l.children.length;b++){var C=l.children[b];C.visible&&(C.visibleChildIndex-=N)}if(l.visibleChildrenCount+=T-N,d&&h){var L=S.reduce(function(B,U){return B+U.renderNodeCount},0);this._updateAncestorsRenderNodeCount(l,A-L),this.list.splice(c,L,p)}if(S.length>0&&o){var O=function(B){o(B),B.children.forEach(O)};S.forEach(O)}var P=ri.map(ri.fromArray(S),Nne);return this._onDidSplice.fire({insertedNodes:E,deletedNodes:S}),P},n.prototype.rerender=function(e){if(e.length===0)throw new Error("Invalid tree location");var t=this.getTreeNodeWithListIndex(e),r=t.node,i=t.listIndex,o=t.revealed;o&&this.list.splice(i,1,[r])},n.prototype.getListIndex=function(e){var t=this.getTreeNodeWithListIndex(e),r=t.listIndex,i=t.visible,o=t.revealed;return i&&o?r:-1},n.prototype.getListRenderCount=function(e){return this.getTreeNode(e).renderNodeCount},n.prototype.isCollapsed=function(e){return this.getTreeNode(e).collapsed},n.prototype.setCollapsed=function(e,t,r){var i=this,o=this.getTreeNode(e);return typeof t>"u"&&(t=!o.collapsed),this.eventBufferer.bufferEvents(function(){return i._setCollapsed(e,t,r)})},n.prototype._setCollapsed=function(e,t,r){var i=this.getTreeNodeWithListIndex(e),o=i.node,s=i.listIndex,a=i.revealed,u=this._setListNodeCollapsed(o,s,a,t,r||!1);if(o!==this.root&&this.autoExpandSingleChildren&&!t&&!r){for(var l=-1,c=0;c<o.children.length;c++){var d=o.children[c];if(d.visible)if(l>-1){l=-1;break}else l=c}l>-1&&this._setCollapsed(e.concat([l]),!1,!1)}return u},n.prototype._setListNodeCollapsed=function(e,t,r,i,o){var s=this._setNodeCollapsed(e,i,o,!1);if(!r||!e.visible)return s;var a=e.renderNodeCount,u=this.updateNodeAfterCollapseChange(e),l=a-(t===-1?0:1);return this.list.splice(t+1,l,u.slice(1)),s},n.prototype._setNodeCollapsed=function(e,t,r,i){var o=e.collapsible&&e.collapsed!==t;if(e.collapsible&&(e.collapsed=t,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),r)for(var s=0,a=e.children;s<a.length;s++){var u=a[s];o=this._setNodeCollapsed(u,t,!0,!0)||o}return o},n.prototype.expandTo=function(e){var t=this;this.eventBufferer.bufferEvents(function(){for(var r=t.getTreeNode(e);r.parent;)r=r.parent,e=e.slice(0,e.length-1),r.collapsed&&t._setCollapsed(e,!1)})},n.prototype.refilter=function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)},n.prototype.createTreeNode=function(e,t,r,i,o,s){var a=this,u={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},l=this._filterNode(u,r);i&&o.push(u);var c=ri.from(e.children),d=i&&l!==0&&!u.collapsed,h=ri.map(c,function(m){return a.createTreeNode(m,u,l,d,o,s)}),p=0,v=1;return ri.forEach(h,function(m){u.children.push(m),v+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=p++)}),u.collapsible=u.collapsible||u.children.length>0,u.visibleChildrenCount=p,u.visible=l===2?p>0:l===1,u.visible?u.collapsed||(u.renderNodeCount=v):(u.renderNodeCount=0,i&&o.pop()),s&&s(u),u},n.prototype.updateNodeAfterCollapseChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterCollapseChange(e,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},n.prototype._updateNodeAfterCollapseChange=function(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(var r=0,i=e.children;r<i.length;r++){var o=i[r];e.renderNodeCount+=this._updateNodeAfterCollapseChange(o,t)}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount},n.prototype.updateNodeAfterFilterChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},n.prototype._updateNodeAfterFilterChange=function(e,t,r,i){i===void 0&&(i=!0);var o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,!1;i&&r.push(e)}var s=r.length;e.renderNodeCount=e===this.root?0:1;var a=!1;if(!e.collapsed||o!==0){for(var u=0,l=0,c=e.children;l<c.length;l++){var d=c[l];a=this._updateNodeAfterFilterChange(d,o,r,i&&!e.collapsed)||a,d.visible&&(d.visibleChildIndex=u++)}e.visibleChildrenCount=u}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1),e.visible?e.collapsed||(e.renderNodeCount+=r.length-s):(e.renderNodeCount=0,i&&r.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible},n.prototype._updateAncestorsRenderNodeCount=function(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent},n.prototype._filterNode=function(e,t){var r=this.filter?this.filter.filter(e.element,t):1;return typeof r=="boolean"?(e.filterData=void 0,r?1:0):Lne(r)?(e.filterData=r.data,XM(r.visibility)):(e.filterData=void 0,XM(r))},n.prototype.getTreeNode=function(e,t){if(t===void 0&&(t=this.root),!e||e.length===0)return t;var r=e[0],i=e.slice(1);if(r<0||r>t.children.length)throw new Error("Invalid tree location");return this.getTreeNode(i,t.children[r])},n.prototype.getTreeNodeWithListIndex=function(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),r=t.parentNode,i=t.listIndex,o=t.revealed,s=t.visible,a=e[e.length-1];if(a<0||a>r.children.length)throw new Error("Invalid tree location");var u=r.children[a];return{node:u,listIndex:i,revealed:o,visible:s&&u.visible}},n.prototype.getParentNodeWithListIndex=function(e,t,r,i,o){t===void 0&&(t=this.root),r===void 0&&(r=0),i===void 0&&(i=!0),o===void 0&&(o=!0);var s=e[0],a=e.slice(1);if(s<0||s>t.children.length)throw new Error("Invalid tree location");for(var u=0;u<s;u++)r+=t.children[u].renderNodeCount;return i=i&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:r,revealed:i,visible:o}:this.getParentNodeWithListIndex(a,t.children[s],r+1,i,o)},n.prototype.getNode=function(e){return e===void 0&&(e=[]),this.getTreeNode(e)},n.prototype.getNodeLocation=function(e){for(var t=[];e.parent;)t.push(e.parent.children.indexOf(e)),e=e.parent;return t.reverse()},n.prototype.getParentNodeLocation=function(e){return e.length<=1?[]:rTe(e)[0]},n}(),One=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),il=function(){return il=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},il.apply(this,arguments)};function hk(n){if(n instanceof t1){var e=n.elements;return new t1(e.map(function(t){return t.element}))}return n}var S3e=function(){function n(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=fe.None}return n.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},n.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(t){return t.element}))},n.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(hk(e),t)},n.prototype.onDragOver=function(e,t,r,i,o){var s=this;o===void 0&&(o=!0);var a=this.dnd.onDragOver(hk(e),t&&t.element,r,i),u=this.autoExpandNode!==t;if(u&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(u&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=Em(function(){var C=s.modelProvider(),E=C.getNodeLocation(t);C.isCollapsed(E)&&C.setCollapsed(E,!1),s.autoExpandNode=void 0},500)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"){if(!o){var l=typeof a=="boolean"?a:a.accept,c=typeof a=="boolean"?void 0:a.effect;return{accept:l,effect:c,feedback:[r]}}return a}if(a.bubble===1){var d=t.parent,h=this.modelProvider(),p=d&&h.getListIndex(h.getNodeLocation(d));return this.onDragOver(e,d,p,i,!1)}var v=this.modelProvider(),m=v.getNodeLocation(t),_=v.getListIndex(m),b=v.getListRenderCount(m);return il({},a,{feedback:Fo(_,_+b)})},n.prototype.drop=function(e,t,r,i){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(hk(e),t&&t.element,r,i)},n}();function T3e(n,e){return e&&il({},e,{identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new S3e(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(il({},t,{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(il({},t,{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&{getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getAriaLevel:function(t){return t.depth}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&il({},e.keyboardNavigationLabelProvider,{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation,ariaProvider:{getSetSize:function(t){return t.parent.visibleChildrenCount},getPosInSet:function(t){return t.visibleChildIndex+1}}})}var kne=function(){function n(e){this.delegate=e}return n.prototype.getHeight=function(e){return this.delegate.getHeight(e.element)},n.prototype.getTemplateId=function(e){return this.delegate.getTemplateId(e.element)},n.prototype.hasDynamicHeight=function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)},n.prototype.setDynamicHeight=function(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)},n}(),Cp;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(Cp||(Cp={}));var D3e=function(){function n(e,t){var r=this;t===void 0&&(t=[]),this.onDidChange=e,this._elements=t,this.disposables=new Be,e(function(i){return r._elements=i},null,this.disposables)}return Object.defineProperty(n.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.disposables.dispose()},n}(),A3e=function(){function n(e,t,r,i){i===void 0&&(i={}),this.renderer=e,this.activeNodes=r,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=n.DefaultIndent,this._renderIndentGuides=Cp.None,this.renderedIndentGuides=new LMe,this.activeIndentNodes=new Set,this.indentGuidesDisposable=fe.None,this.disposables=[],this.templateId=e.templateId,this.updateOptions(i),Je.map(t,function(o){return o.node})(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return n.prototype.updateOptions=function(e){if(e===void 0&&(e={}),typeof e.indent<"u"&&(this.indent=nu(e.indent,0,40)),typeof e.renderIndentGuides<"u"){var t=e.renderIndentGuides;if(t!==this._renderIndentGuides)if(this._renderIndentGuides=t,t){var r=new Be;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,r),this.indentGuidesDisposable=r,this._onDidChangeActiveNodes(this.activeNodes.elements)}else this.indentGuidesDisposable.dispose()}},n.prototype.renderTemplate=function(e){var t=Ce(e,Ve(".monaco-tl-row")),r=Ce(t,Ve(".monaco-tl-indent")),i=Ce(t,Ve(".monaco-tl-twistie")),o=Ce(t,Ve(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:r,twistie:i,indentGuidesDisposable:fe.None,templateData:s}},n.prototype.renderElement=function(e,t,r,i){typeof i=="number"&&(this.renderedNodes.set(e,{templateData:r,height:i}),this.renderedElements.set(e.element,e));var o=n.DefaultIndent+(e.depth-1)*this.indent;r.twistie.style.marginLeft=o+"px",r.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,r),typeof i=="number"&&this.renderIndentGuides(e,r),this.renderer.renderElement(e,t,r.templateData,i)},n.prototype.disposeElement=function(e,t,r,i){r.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,r.templateData,i),typeof i=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))},n.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},n.prototype.onDidChangeTwistieState=function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)},n.prototype.onDidChangeNodeTwistieState=function(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))},n.prototype.renderTwistie=function(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),kt(t.twistie,"collapsible",e.collapsible),kt(t.twistie,"collapsed",e.collapsible&&e.collapsed),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")},n.prototype.renderIndentGuides=function(e,t){var r=this;if(ca(t.indent),t.indentGuidesDisposable.dispose(),this._renderIndentGuides!==Cp.None){for(var i=new Be,o=e,s=function(){var u=o.parent,l=Ve(".indent-guide",{style:"width: "+a.indent+"px"});a.activeIndentNodes.has(u)&&De(l,"active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),a.renderedIndentGuides.add(u,l),i.add(bn(function(){return r.renderedIndentGuides.delete(u,l)})),o=u},a=this;o.parent&&o.parent.parent;)s();t.indentGuidesDisposable=i}},n.prototype._onDidChangeActiveNodes=function(e){var t=this;if(this._renderIndentGuides!==Cp.None){var r=new Set;e.forEach(function(i){i.collapsible&&i.children.length>0&&!i.collapsed?r.add(i):i.parent&&r.add(i.parent)}),this.activeIndentNodes.forEach(function(i){r.has(i)||t.renderedIndentGuides.forEach(i,function(o){return ot(o,"active")})}),r.forEach(function(i){t.activeIndentNodes.has(i)||t.renderedIndentGuides.forEach(i,function(o){return De(o,"active")})}),this.activeIndentNodes=r}},n.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),this.disposables=nt(this.disposables)},n.DefaultIndent=8,n}(),I3e=function(){function n(e,t,r){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=r,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=[],e.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(n.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pattern",{set:function(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()},enumerable:!0,configurable:!0}),n.prototype.filter=function(e,t){if(this._filter){var r=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return r;var i=void 0;if(typeof r=="boolean"?i=r?1:0:Lne(r)?i=XM(r.visibility):i=r,i===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:_u.Default,visibility:!0};var o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=o&&o.toString();if(typeof s>"u")return{data:_u.Default,visibility:!0};var a=n1(this._pattern,this._lowercasePattern,0,s,s.toLowerCase(),0,!0);return a?(this._matchCount++,{data:a,visibility:!0}):this.tree.options.filterOnType?2:{data:_u.Default,visibility:!0}},n.prototype.reset=function(){this._totalCount=0,this._matchCount=0},n.prototype.dispose=function(){this.disposables=nt(this.disposables)},n}(),x3e=function(){function n(e,t,r,i,o){this.tree=e,this.view=r,this.filter=i,this.keyboardNavigationLabelProvider=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Q,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Q,this.enabledDisposables=[],this.disposables=[],this.domNode=Ve(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,Nt(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=Ce(r.getHTMLElement(),Ve(".monaco-list-type-filter-message")),this.labelDomNode=Ce(this.domNode,Ve("span.label"));var s=Ce(this.domNode,Ve(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=Ce(s,Ve("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),Nt(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=Ce(s,Ve("button.clear")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=D("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}return Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pattern",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterOnType",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType<"u"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")},n.prototype.enable=function(){var e=this;if(!this._enabled){var t=this.keyboardNavigationLabelProvider.mightProducePrintableCharacter?function(o){return e.keyboardNavigationLabelProvider.mightProducePrintableCharacter(o)}:function(o){return wne(o)},r=Je.chain(Nt(this.view.getHTMLElement(),"keydown")).filter(function(o){return!v5(o.target)||o.target===e.filterOnTypeDomNode}).map(function(o){return new Un(o)}).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).filter(function(o){return t(o)||(e.pattern.length>0||e.triggered)&&(o.keyCode===9||o.keyCode===1)&&!o.altKey&&!o.ctrlKey&&!o.metaKey||o.keyCode===1&&(Tt?o.altKey&&!o.metaKey:o.ctrlKey)&&!o.shiftKey}).forEach(function(o){o.stopPropagation(),o.preventDefault()}).event,i=Nt(this.clearDomNode,"click");Je.chain(Je.any(r,i)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}},n.prototype.disable=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables=nt(this.enabledDisposables),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)},n.prototype.onEventOrInput=function(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(Tt?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)},n.prototype.onInput=function(e){var t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,function(o){return!_u.isDefault(o.filterData)});var r=this.tree.getFocus();if(r.length>0){var i=r[0];this.tree.getRelativeTop(i)===null&&this.tree.reveal(i,.5)}this.render(),e||(this.triggered=!1)},n.prototype.onDragStart=function(){var e=this,t=this.view.getHTMLElement(),r=di(t).left,i=t.clientWidth,o=i/2,s=this.domNode.clientWidth,a=[],u=this.positionClassName,l=function(){switch(u){case"nw":e.domNode.style.top="4px",e.domNode.style.left="4px";break;case"ne":e.domNode.style.top="4px",e.domNode.style.left=i-s-6+"px";break}},c=function(h){h.preventDefault();var p=h.screenX-r;h.dataTransfer&&(h.dataTransfer.dropEffect="none"),p<o?u="nw":u="ne",l()},d=function(){e.positionClassName=u,e.domNode.className="monaco-list-type-filter "+e.positionClassName,e.domNode.style.top=null,e.domNode.style.left=null,nt(a)};l(),ot(this.domNode,u),De(this.domNode,"dragging"),a.push(bn(function(){return ot(e.domNode,"dragging")})),Nt(document,"dragover")(c,null,a),Nt(this.domNode,"dragend")(d,null,a),zs.CurrentDragAndDropData=new HMe("vscode-ui"),a.push(bn(function(){return zs.CurrentDragAndDropData=void 0}))},n.prototype.onDidSpliceModel=function(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())},n.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},n.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=D("disable filter on type","Disable Filter on Type"):this.filterOnTypeDomNode.title=D("enable filter on type","Enable Filter on Type")},n.prototype.render=function(){var e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=D("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerHTML="",this._empty=!1),kt(this.domNode,"no-matches",e),this.domNode.title=D("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},n.prototype.shouldAllowFocus=function(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!_u.isDefault(e.filterData)},n.prototype.dispose=function(){this.disable(),this._onDidChangePattern.dispose(),this.disposables=nt(this.disposables)},n}();function v5(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function L3e(n){return{elements:n.elements.map(function(e){return e.element}),browserEvent:n.browserEvent}}function xS(n,e){e(n),n.children.forEach(function(t){return xS(t,e)})}var Dz=function(){function n(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new Q,this.onDidChange=this._onDidChange.event}return Object.defineProperty(n.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),n.prototype.set=function(e,t){Ah(this.nodes,e)||this._set(e,!1,t)},n.prototype._set=function(e,t,r){if(this.nodes=e.slice(),this.elements=void 0,this._nodeSet=void 0,!t){var i=this;this._onDidChange.fire({get elements(){return i.get()},browserEvent:r})}},n.prototype.get=function(){return this.elements||(this.elements=this.nodes.map(function(e){return e.element})),this.elements.slice()},n.prototype.getNodes=function(){return this.nodes},n.prototype.has=function(e){return this.nodeSet.has(e)},n.prototype.onDidModelSplice=function(e){var t=this,r=e.insertedNodes,i=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),s=function(E){return o.delete(E)};i.forEach(function(E){return xS(E,s)}),this.set(u6(o));return}var a=new Set,u=function(E){return a.add(t.identityProvider.getId(E.element).toString())};i.forEach(function(E){return xS(E,u)});var l=new Map,c=function(E){return l.set(t.identityProvider.getId(E.element).toString(),E)};r.forEach(function(E){return xS(E,c)});for(var d=[],h=!0,p=0,v=this.nodes;p<v.length;p++){var m=v[p],_=this.identityProvider.getId(m.element).toString(),b=a.has(_);if(!b)d.push(m);else{var C=l.get(_);C?d.push(C):h=!1}}this._set(d,h)},n.prototype.createNodeSet=function(){for(var e=new Set,t=0,r=this.nodes;t<r.length;t++){var i=r[t];e.add(i)}return e},n}(),N3e=function(n){One(e,n);function e(t,r){var i=n.call(this,t)||this;return i.tree=r,i}return e.prototype.onPointer=function(t){if(!v5(t.browserEvent.target)){var r=t.element;if(!r)return n.prototype.onPointer.call(this,t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return n.prototype.onPointer.call(this,t);var i=Eu(t.browserEvent.target,"monaco-tl-twistie");if(!this.tree.openOnSingleClick&&t.browserEvent.detail!==2&&!i)return n.prototype.onPointer.call(this,t);var o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(r.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!i)return n.prototype.onPointer.call(this,t);var s=this.tree.model,a=s.getNodeLocation(r),u=t.browserEvent.altKey;s.setCollapsed(a,void 0,u),!(o&&i)&&n.prototype.onPointer.call(this,t)}},e.prototype.onDoubleClick=function(t){var r=Eu(t.browserEvent.target,"monaco-tl-twistie");r||n.prototype.onDoubleClick.call(this,t)},e}(Ane),O3e=function(n){One(e,n);function e(t,r,i,o,s,a){var u=n.call(this,t,r,i,a)||this;return u.focusTrait=o,u.selectionTrait=s,u}return e.prototype.createMouseController=function(t){return new N3e(this,t.tree)},e.prototype.splice=function(t,r,i){var o=this;if(i===void 0&&(i=[]),n.prototype.splice.call(this,t,r,i),i.length!==0){var s=[],a=[];i.forEach(function(u,l){o.focusTrait.has(u)&&s.push(t+l),o.selectionTrait.has(u)&&a.push(t+l)}),s.length>0&&n.prototype.setFocus.call(this,lj(n.prototype.getFocus.call(this).concat(s))),a.length>0&&n.prototype.setSelection.call(this,lj(n.prototype.getSelection.call(this).concat(a)))}},e.prototype.setFocus=function(t,r,i){var o=this;i===void 0&&(i=!1),n.prototype.setFocus.call(this,t,r),i||this.focusTrait.set(t.map(function(s){return o.element(s)}),r)},e.prototype.setSelection=function(t,r,i){var o=this;i===void 0&&(i=!1),n.prototype.setSelection.call(this,t,r),i||this.selectionTrait.set(t.map(function(s){return o.element(s)}),r)},e}(xne),Rne=function(){function n(e,t,r,i){var o,s=this;i===void 0&&(i={}),this._options=i,this.eventBufferer=new W4,this.disposables=[],this._onWillRefilter=new Q,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Q;var a=new kne(t),u=new bi,l=new bi,c=new D3e(l.event);this.disposables.push(c),this.renderers=r.map(function(p){return new A3e(p,u.event,c,i)}),(o=this.disposables).push.apply(o,this.renderers);var d;if(i.keyboardNavigationLabelProvider&&(d=new I3e(this,i.keyboardNavigationLabelProvider,i.filter),i=il({},i,{filter:d}),this.disposables.push(d)),this.focus=new Dz(i.identityProvider),this.selection=new Dz(i.identityProvider),this.view=new O3e(e,a,this.renderers,this.focus,this.selection,il({},T3e(function(){return s.model},i),{tree:this})),this.model=this.createModel(this.view,i),u.input=this.model.onDidChangeCollapseState,this.model.onDidSplice(function(p){s.focus.onDidModelSplice(p),s.selection.onDidModelSplice(p)},null,this.disposables),l.input=Je.map(Je.any(this.focus.onDidChange,this.selection.onDidChange,this.model.onDidSplice),function(){return s.focus.getNodes().concat(s.selection.getNodes())}),i.keyboardSupport!==!1){var h=Je.chain(this.view.onKeyDown).filter(function(p){return!v5(p.target)}).map(function(p){return new Un(p)});h.filter(function(p){return p.keyCode===15}).on(this.onLeftArrow,this,this.disposables),h.filter(function(p){return p.keyCode===17}).on(this.onRightArrow,this,this.disposables),h.filter(function(p){return p.keyCode===10}).on(this.onSpace,this,this.disposables)}i.keyboardNavigationLabelProvider&&(this.typeFilterController=new x3e(this,this.model,this.view,d,i.keyboardNavigationLabelProvider),this.focusNavigationFilter=function(p){return s.typeFilterController.shouldAllowFocus(p)},this.disposables.push(this.typeFilterController)),this.styleElement=xh(this.view.getHTMLElement()),kt(this.getHTMLElement(),"always",this._options.renderIndentGuides===Cp.Always)}return Object.defineProperty(n.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidOpen",{get:function(){return Je.map(this.view.onDidOpen,L3e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"openOnSingleClick",{get:function(){return typeof this._options.openOnSingleClick>"u"?!0:this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expandOnlyOnTwistieClick",{get:function(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!1:this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(e){e===void 0&&(e={}),this._options=il({},this._options,e);for(var t=0,r=this.renderers;t<r.length;t++){var i=r[t];i.updateOptions(e)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),kt(this.getHTMLElement(),"always",this._options.renderIndentGuides===Cp.Always)},Object.defineProperty(n.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),n.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e},enumerable:!0,configurable:!0}),n.prototype.domFocus=function(){this.view.domFocus()},n.prototype.layout=function(e,t){this.view.layout(e,t)},n.prototype.style=function(e){var t="."+this.view.domId,r=[];e.treeIndentGuidesStroke&&(r.push(".monaco-list"+t+":hover .monaco-tl-indent > .indent-guide, .monaco-list"+t+".always .monaco-tl-indent > .indent-guide  { border-color: "+e.treeIndentGuidesStroke.transparent(.4)+"; }"),r.push(".monaco-list"+t+" .monaco-tl-indent > .indent-guide.active { border-color: "+e.treeIndentGuidesStroke+"; }"));var i=r.join(`
`);i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i),this.view.style(e)},n.prototype.getNode=function(e){return this.model.getNode(e)},n.prototype.collapse=function(e,t){return t===void 0&&(t=!1),this.model.setCollapsed(e,!0,t)},n.prototype.expand=function(e,t){return t===void 0&&(t=!1),this.model.setCollapsed(e,!1,t)},n.prototype.isCollapsed=function(e){return this.model.isCollapsed(e)},n.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},n.prototype.setSelection=function(e,t){var r=this,i=e.map(function(s){return r.model.getNode(s)});this.selection.set(i,t);var o=e.map(function(s){return r.model.getListIndex(s)}).filter(function(s){return s>-1});this.view.setSelection(o,t,!0)},n.prototype.getSelection=function(){return this.selection.get()},n.prototype.setFocus=function(e,t){var r=this,i=e.map(function(s){return r.model.getNode(s)});this.focus.set(i,t);var o=e.map(function(s){return r.model.getListIndex(s)}).filter(function(s){return s>-1});this.view.setFocus(o,t,!0)},n.prototype.focusNext=function(e,t,r,i){e===void 0&&(e=1),t===void 0&&(t=!1),i===void 0&&(i=this.focusNavigationFilter),this.view.focusNext(e,t,r,i)},n.prototype.getFocus=function(){return this.focus.get()},n.prototype.reveal=function(e,t){this.model.expandTo(e);var r=this.model.getListIndex(e);r!==-1&&this.view.reveal(r,t)},n.prototype.getRelativeTop=function(e){var t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)},n.prototype.onLeftArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(t.length!==0){var r=t[0],i=this.model.getNodeLocation(r),o=this.model.setCollapsed(i,!0);if(!o){var s=this.model.getParentNodeLocation(i);if(s===null)return;var a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}},n.prototype.onRightArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(t.length!==0){var r=t[0],i=this.model.getNodeLocation(r),o=this.model.setCollapsed(i,!1);if(!o){if(!r.children.some(function(u){return u.visible}))return;var s=this.view.getFocus()[0],a=s+1;this.view.reveal(a),this.view.setFocus([a])}}},n.prototype.onSpace=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(t.length!==0){var r=t[0],i=this.model.getNodeLocation(r),o=e.browserEvent.altKey;this.model.setCollapsed(i,void 0,o)}},n.prototype.dispose=function(){this.disposables=nt(this.disposables),this.view.dispose()},n}(),nD=function(){return nD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nD.apply(this,arguments)},Pne=function(){function n(e,t){t===void 0&&(t={}),this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new E3e(e,null,t),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare:function(r,i){return t.sorter.compare(r.element,i.element)}}),this.identityProvider=t.identityProvider}return n.prototype.setChildren=function(e,t,r,i){var o=this.getElementLocation(e);return this._setChildren(o,this.preserveCollapseState(t),r,i)},n.prototype._setChildren=function(e,t,r,i){var o=this,s=new Set,a=new Set,u=function(d){if(s.add(d.element),o.nodes.set(d.element,d),o.identityProvider){var h=o.identityProvider.getId(d.element).toString();a.add(h),o.nodesByIdentity.set(h,d)}r&&r(d)},l=function(d){if(s.has(d.element)||o.nodes.delete(d.element),o.identityProvider){var h=o.identityProvider.getId(d.element).toString();a.has(h)||o.nodesByIdentity.delete(h)}i&&i(d)},c=this.model.splice(e.concat([0]),Number.MAX_VALUE,t,u,l);return c},n.prototype.preserveCollapseState=function(e){var t=this,r=e?MTe(e):ri.empty();return this.sorter&&(r=ri.fromArray(ri.collect(r).sort(this.sorter.compare.bind(this.sorter)))),ri.map(r,function(i){var o=t.nodes.get(i.element);if(!o&&t.identityProvider){var s=t.identityProvider.getId(i.element).toString();o=t.nodesByIdentity.get(s)}if(!o)return nD({},i,{children:t.preserveCollapseState(i.children)});var a=typeof i.collapsible=="boolean"?i.collapsible:o.collapsible,u=typeof i.collapsed<"u"?i.collapsed:o.collapsed;return nD({},i,{collapsible:a,collapsed:u,children:t.preserveCollapseState(i.children)})})},n.prototype.rerender=function(e){var t=this.getElementLocation(e);this.model.rerender(t)},n.prototype.getListIndex=function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)},n.prototype.getListRenderCount=function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)},n.prototype.isCollapsed=function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)},n.prototype.setCollapsed=function(e,t,r){var i=this.getElementLocation(e);return this.model.setCollapsed(i,t,r)},n.prototype.expandTo=function(e){var t=this.getElementLocation(e);this.model.expandTo(t)},n.prototype.refilter=function(){this.model.refilter()},n.prototype.getNode=function(e){if(e===void 0&&(e=null),e===null)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return t},n.prototype.getNodeLocation=function(e){return e.element},n.prototype.getParentNodeLocation=function(e){if(e===null)throw new Error("Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return t.parent.element},n.prototype.getElementLocation=function(e){if(e===null)return[];var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return this.model.getNodeLocation(t)},n}(),k3e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mne=function(n){k3e(e,n);function e(t,r,i,o){return o===void 0&&(o={}),n.call(this,t,r,i,o)||this}return Object.defineProperty(e.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),e.prototype.setChildren=function(t,r){return this.model.setChildren(t,r)},e.prototype.rerender=function(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)},e.prototype.createModel=function(t,r){return new Pne(t,r)},e}(Rne),Vf=function(){return Vf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vf.apply(this,arguments)},cf=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},ff=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function dk(n){return Vf({},n,{children:[],loading:!1,stale:!0,slow:!1,collapsedByDefault:void 0})}function QM(n,e){return e.parent?e.parent===n?!0:QM(n,e.parent):!1}function R3e(n,e){return n===e||QM(n,e)||QM(e,n)}var Az=function(){function n(e){this.node=e}return Object.defineProperty(n.prototype,"element",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.node.parent&&new n(this.node.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this.node.children.map(function(e){return new n(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),n}(),P3e=function(){function n(e,t){this.renderer=e,this.onDidChangeTwistieState=t,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}return n.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{templateData:t}},n.prototype.renderElement=function(e,t,r,i){this.renderer.renderElement(new Az(e),t,r.templateData,i)},n.prototype.renderTwistie=function(e,t){return kt(t,"loading",e.slow),!1},n.prototype.disposeElement=function(e,t,r,i){this.renderer.disposeElement&&this.renderer.disposeElement(new Az(e),t,r.templateData,i)},n.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},n.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=nt(this.disposables)},n}();function pk(n){return{browserEvent:n.browserEvent,elements:n.elements.map(function(e){return e.element})}}var Zy;(function(n){n[n.Refresh=0]="Refresh",n[n.Expand=1]="Expand"})(Zy||(Zy={}));function gk(n){if(n instanceof t1){var e=n.elements;return new t1(e.map(function(t){return t.element}))}return n}var M3e=function(){function n(e){this.dnd=e}return n.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},n.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(t){return t.element}))},n.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(gk(e),t)},n.prototype.onDragOver=function(e,t,r,i,o){return this.dnd.onDragOver(gk(e),t&&t.element,r,i)},n.prototype.drop=function(e,t,r,i){this.dnd.drop(gk(e),t&&t.element,r,i)},n}();function F3e(n){return n&&Vf({},n,{collapseByDefault:!0,identityProvider:n.identityProvider&&{getId:function(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new M3e(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return n.multipleSelectionController.isSelectionSingleChangeEvent(Vf({},e,{element:e.element}))},isSelectionRangeChangeEvent:function(e){return n.multipleSelectionController.isSelectionRangeChangeEvent(Vf({},e,{element:e.element}))}},accessibilityProvider:n.accessibilityProvider&&{getAriaLabel:function(e){return n.accessibilityProvider.getAriaLabel(e.element)}},filter:n.filter&&{filter:function(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&Vf({},n.keyboardNavigationLabelProvider,{getKeyboardNavigationLabel:function(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:function(e){return n.expandOnlyOnTwistieClick(e.element)},ariaProvider:void 0,additionalScrollHeight:n.additionalScrollHeight})}function Fne(n,e){var t;return e&&e.viewState.expanded&&n.id&&e.viewState.expanded.indexOf(n.id)>-1?t=!1:t=n.collapsedByDefault,n.collapsedByDefault=void 0,{element:n,children:n.hasChildren?ri.map(ri.fromArray(n.children),function(r){return Fne(r,e)}):[],collapsible:n.hasChildren,collapsed:t}}function ZM(n,e){e(n),n.children.forEach(function(t){return ZM(t,e)})}var B3e=function(){function n(e,t,r,i,o){var s=this;o===void 0&&(o={}),this.dataSource=i,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Q,this._onDidChangeNodeSlowState=new Q,this.disposables=[],this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.collapseByDefault=o.collapseByDefault;var a=new kne(t),u=r.map(function(c){return new P3e(c,s._onDidChangeNodeSlowState.event)}),l=F3e(o)||{};this.tree=new Mne(e,a,u,l),this.root=dk({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Vf({},this.root,{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(n.prototype,"onDidChangeFocus",{get:function(){return Je.map(this.tree.onDidChangeFocus,pk)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidChangeSelection",{get:function(){return Je.map(this.tree.onDidChangeSelection,pk)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidOpen",{get:function(){return Je.map(this.tree.onDidOpen,pk)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(e){e===void 0&&(e={}),this.tree.updateOptions(e)},n.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e},enumerable:!0,configurable:!0}),n.prototype.domFocus=function(){this.tree.domFocus()},n.prototype.layout=function(e,t){this.tree.layout(e,t)},n.prototype.style=function(e){this.tree.style(e)},n.prototype.getInput=function(){return this.root.element},n.prototype.setInput=function(e,t){return cf(this,void 0,void 0,function(){var r;return ff(this,function(i){switch(i.label){case 0:return this.refreshPromises.forEach(function(o){return o.cancel()}),this.refreshPromises.clear(),this.root.element=e,r=t&&{viewState:t,focus:[],selection:[]},[4,this.updateChildren(e,!0,r)];case 1:return i.sent(),r&&(this.tree.setFocus(r.focus),this.tree.setSelection(r.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop),[2]}})})},n.prototype.updateChildren=function(e,t,r){return e===void 0&&(e=this.root.element),t===void 0&&(t=!0),cf(this,void 0,void 0,function(){return ff(this,function(i){switch(i.label){case 0:if(typeof this.root.element>"u")throw new Error("Tree input not set");return this.root.loading?[4,this.subTreeRefreshPromises.get(this.root)]:[3,3];case 1:return i.sent(),[4,Je.toPromise(this._onDidRender.event)];case 2:i.sent(),i.label=3;case 3:return[4,this.refreshAndRenderNode(this.getDataNode(e),t,Zy.Refresh,r)];case 4:return i.sent(),[2]}})})},n.prototype.rerender=function(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}var t=this.getDataNode(e);this.tree.rerender(t)},n.prototype.collapse=function(e,t){t===void 0&&(t=!1);var r=this.getDataNode(e);return this.tree.collapse(r===this.root?null:r,t)},n.prototype.expand=function(e,t){return t===void 0&&(t=!1),cf(this,void 0,void 0,function(){var r,i;return ff(this,function(o){switch(o.label){case 0:if(typeof this.root.element>"u")throw new Error("Tree input not set");return this.root.loading?[4,this.subTreeRefreshPromises.get(this.root)]:[3,3];case 1:return o.sent(),[4,Je.toPromise(this._onDidRender.event)];case 2:o.sent(),o.label=3;case 3:return r=this.getDataNode(e),r!==this.root&&!r.loading&&!this.tree.isCollapsed(r)?[2,!1]:(i=this.tree.expand(r===this.root?null:r,t),r.loading?[4,this.subTreeRefreshPromises.get(r)]:[3,6]);case 4:return o.sent(),[4,Je.toPromise(this._onDidRender.event)];case 5:o.sent(),o.label=6;case 6:return[2,i]}})})},n.prototype.setSelection=function(e,t){var r=this,i=e.map(function(o){return r.getDataNode(o)});this.tree.setSelection(i,t)},n.prototype.getSelection=function(){var e=this.tree.getSelection();return e.map(function(t){return t.element})},n.prototype.setFocus=function(e,t){var r=this,i=e.map(function(o){return r.getDataNode(o)});this.tree.setFocus(i,t)},n.prototype.getFocus=function(){var e=this.tree.getFocus();return e.map(function(t){return t.element})},n.prototype.reveal=function(e,t){this.tree.reveal(this.getDataNode(e),t)},n.prototype.getDataNode=function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Error("Data tree node not found: "+e);return t},n.prototype.refreshAndRenderNode=function(e,t,r,i){return cf(this,void 0,void 0,function(){var o,s;return ff(this,function(a){switch(a.label){case 0:return[4,this.refreshNode(e,t,i)];case 1:return a.sent(),this.render(e,i),e!==this.root&&this.autoExpandSingleChildren&&r===Zy.Expand?(o=this.tree.getNode(e),s=o.children.filter(function(u){return u.visible}),s.length!==1?[3,3]:[4,this.tree.expand(s[0].element,!1)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.refreshNode=function(e,t,r){return cf(this,void 0,void 0,function(){var i,o=this;return ff(this,function(s){switch(s.label){case 0:if(this.subTreeRefreshPromises.forEach(function(a,u){!i&&R3e(u,e)&&(i=a.then(function(){return o.refreshNode(e,t,r)}))}),i)return[2,i];i=this.doRefreshSubTree(e,t,r),this.subTreeRefreshPromises.set(e,i),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,i];case 2:return s.sent(),[3,4];case 3:return this.subTreeRefreshPromises.delete(e),[7];case 4:return[2]}})})},n.prototype.doRefreshSubTree=function(e,t,r){return cf(this,void 0,void 0,function(){var i,o=this;return ff(this,function(s){switch(s.label){case 0:e.loading=!0,s.label=1;case 1:return s.trys.push([1,,4,5]),[4,this.doRefreshNode(e,t,r)];case 2:return i=s.sent(),e.stale=!1,[4,Promise.all(i.map(function(a){return o.doRefreshSubTree(a,t,r)}))];case 3:return s.sent(),[3,5];case 4:return e.loading=!1,[7];case 5:return[2]}})})},n.prototype.doRefreshNode=function(e,t,r){return cf(this,void 0,void 0,function(){var i,o,s,a,u=this;return ff(this,function(l){switch(l.label){case 0:e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?(o=rC(800),o.then(function(){e.slow=!0,u._onDidChangeNodeSlowState.fire(e)},function(c){return null}),i=this.doGetChildren(e).finally(function(){return o.cancel()})):i=Promise.resolve([]),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,i];case 2:return s=l.sent(),[2,this.setChildren(e,s,t,r)];case 3:if(a=l.sent(),e!==this.root&&this.tree.collapse(e===this.root?null:e),eC(a))return[2,[]];throw a;case 4:return e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),[7];case 5:return[2]}})})},n.prototype.doGetChildren=function(e){var t=this,r=this.refreshPromises.get(e);return r||(r=Gr(function(){return cf(t,void 0,void 0,function(){var i;return ff(this,function(o){switch(o.label){case 0:return[4,this.dataSource.getChildren(e.element)];case 1:return i=o.sent(),this.sorter&&i.sort(this.sorter.compare.bind(this.sorter)),[2,i]}})})}),this.refreshPromises.set(e,r),r.finally(function(){return t.refreshPromises.delete(e)}))},n.prototype._onDidChangeCollapseState=function(e){var t=e.node,r=e.deep;!t.collapsed&&t.element.stale&&(r?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1,Zy.Expand).catch(He))},n.prototype.setChildren=function(e,t,r,i){var o,s=this;if(e.children.length===0&&t.length===0)return[];for(var a=new Map,u=new Map,l=0,c=e.children;l<c.length;l++){var d=c[l];a.set(d.element,d),this.identityProvider&&u.set(d.id,this.tree.getNode(d))}for(var h=[],p=t.map(function(E){var T=!!s.dataSource.hasChildren(E);if(!s.identityProvider){var A=dk({element:E,parent:e,hasChildren:T});return T&&s.collapseByDefault&&!s.collapseByDefault(E)&&(A.collapsedByDefault=!1,h.push(A)),A}var S=s.identityProvider.getId(E).toString(),N=u.get(S);if(N){var A=N.element;return a.delete(A.element),s.nodes.delete(A.element),s.nodes.set(E,A),A.element=E,A.hasChildren=T,r?N.collapsed?ZM(A,function(L){return L.stale=!0}):h.push(A):T&&s.collapseByDefault&&!s.collapseByDefault(E)&&(A.collapsedByDefault=!1,h.push(A)),A}var k=dk({element:E,parent:e,id:S,hasChildren:T});return i&&i.viewState.focus&&i.viewState.focus.indexOf(S)>-1&&i.focus.push(k),i&&i.viewState.selection&&i.viewState.selection.indexOf(S)>-1&&i.selection.push(k),i&&i.viewState.expanded&&i.viewState.expanded.indexOf(S)>-1?h.push(k):T&&s.collapseByDefault&&!s.collapseByDefault(E)&&(k.collapsedByDefault=!1,h.push(k)),k}),v=0,m=u6(a);v<m.length;v++){var _=m[v];ZM(_,function(E){return s.nodes.delete(E.element)})}for(var b=0,C=p;b<C.length;b++){var d=C[b];this.nodes.set(d.element,d)}return(o=e.children).splice.apply(o,[0,e.children.length].concat(p)),h},n.prototype.render=function(e,t){var r=e.children.map(function(i){return Fne(i,t)});this.tree.setChildren(e===this.root?null:e,r),this._onDidRender.fire()},n.prototype.dispose=function(){nt(this.disposables)},n}(),H3e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V3e=function(n){H3e(e,n);function e(t,r,i,o,s){s===void 0&&(s={});var a=n.call(this,t,r,i,s)||this;return a.dataSource=o,a.identityProvider=s.identityProvider,a}return e.prototype.createModel=function(t,r){return new Pne(t,r)},e}(Rne),vC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rD=function(){return rD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rD.apply(this,arguments)},mC=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sr=function(n,e){return function(t,r){e(t,r,n)}},Uu,N_=qt("listService"),W3e=function(){function n(e){this.lists=[],this._lastFocusedWidget=void 0}return Object.defineProperty(n.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),n.prototype.register=function(e,t){var r=this;if(this.lists.some(function(o){return o.widget===e}))throw new Error("Cannot register the same widget multiple times");var i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),al(e.onDidFocus(function(){return r._lastFocusedWidget=e}),bn(function(){return r.lists.splice(r.lists.indexOf(i),1)}),e.onDidDispose(function(){r.lists=r.lists.filter(function(o){return o!==i}),r._lastFocusedWidget===e&&(r._lastFocusedWidget=void 0)}))},n=mC([sr(0,yt)],n),n}(),U3e=new Ke("listFocus",!0),j3e=new Ke("listSupportsMultiselect",!0),q3e=new Ke("listHasSelectionOrFocus",!1),z3e=new Ke("listDoubleSelection",!1),G3e=new Ke("listMultiSelection",!1),$3e=new Ke("listSupportsKeyboardNavigation",!0),m5="listAutomaticKeyboardNavigation",K3e=new Ke(m5,!0),Iz=!1;function Y3e(n,e){var t=n.createScoped(e.getHTMLElement());return U3e.bindTo(t),t}var w2="workbench.list.multiSelectModifier",E2="workbench.list.openMode",JM="workbench.list.horizontalScrolling",iD="workbench.list.keyboardNavigation",_5="workbench.list.automaticKeyboardNavigation",oD="workbench.tree.indent",sD="workbench.tree.renderIndentGuides";function X3e(n){return FIe(n,JM,"workbench.tree.horizontalScrolling")}function aD(n){return n.getValue(w2)==="alt"}function uD(n){return n.getValue(E2)!=="doubleClick"}var Q3e=function(n){vC(e,n);function e(t){var r=n.call(this)||this;return r.configurationService=t,r.useAltAsMultipleSelectionModifier=aD(t),r.registerListeners(),r}return e.prototype.registerListeners=function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration(function(r){r.affectsConfiguration(w2)&&(t.useAltAsMultipleSelectionModifier=aD(t.configurationService))}))},e.prototype.isSelectionSingleChangeEvent=function(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:Ene(t)},e.prototype.isSelectionRangeChangeEvent=function(t){return Sne(t)},e}(fe),Z3e=function(n){vC(e,n);function e(t,r){var i=n.call(this)||this;return i.configurationService=t,i.existingOpenController=r,i.openOnSingleClick=uD(t),i.registerListeners(),i}return e.prototype.registerListeners=function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration(function(r){r.affectsConfiguration(E2)&&(t.openOnSingleClick=uD(t.configurationService))}))},e.prototype.shouldOpen=function(t){if(t instanceof MouseEvent){var r=t.button===0,i=t.detail===2;return r&&!this.openOnSingleClick&&!i?!1:r||t.button===1?this.existingOpenController?this.existingOpenController.shouldOpen(t):!0:!1}return this.existingOpenController?this.existingOpenController.shouldOpen(t):!0},e}(fe);function J3e(n,e,t){var r=new Be,i=rD({},n);if(n.multipleSelectionSupport!==!1&&!n.multipleSelectionController){var o=new Q3e(e);i.multipleSelectionController=o,r.add(o)}var s=new Z3e(e,n.openController);if(i.openController=s,r.add(s),n.keyboardNavigationLabelProvider){var a=n.keyboardNavigationLabelProvider;i.keyboardNavigationLabelProvider={getKeyboardNavigationLabel:function(u){return a.getKeyboardNavigationLabel(u)},mightProducePrintableCharacter:function(u){return t.mightProducePrintableCharacter(u)}}}return[i,r]}var vk;function eFe(){return vk||(vk=xh()),vk}function tFe(n,e){var t=!1;return function(r){if(t)return t=!1,!1;var i=e.softDispatch(r,n);return i&&i.enterChord?(t=!0,!1):(t=!1,!0)}}(function(n){vC(e,n);function e(t,r,i,o,s,a,u,l,c,d){var h=this,p=y5(t,o,s,u,l,c,d),v=p.options,m=p.getAutomaticKeyboardNavigation,_=p.disposable;return h=n.call(this,t,r,i,v)||this,h.disposables.push(_),h.internals=new b5(h,v,m,s,a,u,l,d),h.disposables.push(h.internals),h}return e=mC([sr(4,yt),sr(5,N_),sr(6,Yr),sr(7,pi),sr(8,wr),sr(9,Ml)],e),e})(Mne);(function(n){vC(e,n);function e(t,r,i,o,s,a,u,l,c,d,h){var p=this,v=y5(t,s,a,l,c,d,h),m=v.options,_=v.getAutomaticKeyboardNavigation,b=v.disposable;return p=n.call(this,t,r,i,o,m)||this,p.disposables.push(b),p.internals=new b5(p,m,_,a,u,l,c,h),p.disposables.push(p.internals),p}return e=mC([sr(5,yt),sr(6,N_),sr(7,Yr),sr(8,pi),sr(9,wr),sr(10,Ml)],e),e})(V3e);var nFe=function(n){vC(e,n);function e(t,r,i,o,s,a,u,l,c,d,h){var p=this,v=y5(t,s,a,l,c,d,h),m=v.options,_=v.getAutomaticKeyboardNavigation,b=v.disposable;return p=n.call(this,t,r,i,o,m)||this,p.disposables.push(b),p.internals=new b5(p,m,_,a,u,l,c,h),p.disposables.push(p.internals),p}return Object.defineProperty(e.prototype,"contextKeyService",{get:function(){return this.internals.contextKeyService},enumerable:!0,configurable:!0}),e=mC([sr(5,yt),sr(6,N_),sr(7,Yr),sr(8,pi),sr(9,wr),sr(10,Ml)],e),e}(B3e);function y5(n,e,t,r,i,o,s){$3e.bindTo(t),Iz||(K3e.bindTo(t),Iz=!0);var a=function(){var _=t.getContextKeyValue(m5);return _&&(_=i.getValue(_5)),_},u=s.getAccessibilitySupport()===2,l=u?"simple":i.getValue(iD),c=typeof e.horizontalScrolling<"u"?e.horizontalScrolling:X3e(i),d=uD(i),h=J3e(e,i,o),p=h[0],v=h[1],m=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:v,options:rD({keyboardSupport:!1,styleController:new Ine(eFe())},ine(r.getTheme(),sne),p,{indent:i.getValue(oD),renderIndentGuides:i.getValue(sD),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:l==="simple",filterOnType:l==="filter",horizontalScrolling:c,openOnSingleClick:d,keyboardNavigationEventFilter:tFe(n,o),additionalScrollHeight:m})}}var b5=function(){function n(e,t,r,i,o,s,a,u){var l=this;this.disposables=[],this.contextKeyService=Y3e(i,e);var c=j3e.bindTo(this.contextKeyService);c.set(t.multipleSelectionSupport!==!1),this.hasSelectionOrFocus=q3e.bindTo(this.contextKeyService),this.hasDoubleSelection=z3e.bindTo(this.contextKeyService),this.hasMultiSelection=G3e.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=aD(a);var d=new Set;d.add(m5);var h=function(){var p=u.getAccessibilitySupport()===2,v=p?"simple":a.getValue(iD);e.updateOptions({simpleKeyboardNavigation:v==="simple",filterOnType:v==="filter"})};this.disposables.push(this.contextKeyService,o.register(e),one(e,s),e.onDidChangeSelection(function(){var p=e.getSelection(),v=e.getFocus();l.hasSelectionOrFocus.set(p.length>0||v.length>0),l.hasMultiSelection.set(p.length>1),l.hasDoubleSelection.set(p.length===2)}),e.onDidChangeFocus(function(){var p=e.getSelection(),v=e.getFocus();l.hasSelectionOrFocus.set(p.length>0||v.length>0)}),a.onDidChangeConfiguration(function(p){if(p.affectsConfiguration(E2)&&e.updateOptions({openOnSingleClick:uD(a)}),p.affectsConfiguration(w2)&&(l._useAltAsMultipleSelectionModifier=aD(a)),p.affectsConfiguration(oD)){var v=a.getValue(oD);e.updateOptions({indent:v})}if(p.affectsConfiguration(sD)){var m=a.getValue(sD);e.updateOptions({renderIndentGuides:m})}p.affectsConfiguration(iD)&&h(),p.affectsConfiguration(_5)&&e.updateOptions({automaticKeyboardNavigation:r()})}),this.contextKeyService.onDidChangeContext(function(p){p.affectsSome(d)&&e.updateOptions({automaticKeyboardNavigation:r()})}),u.onDidChangeAccessibilitySupport(function(){return h()}))}return n.prototype.dispose=function(){this.disposables=nt(this.disposables)},n=mC([sr(3,yt),sr(4,N_),sr(5,Yr),sr(6,pi),sr(7,Ml)],n),n}(),rFe=To.as(T_.Configuration);rFe.registerConfiguration({id:"workbench",order:7,title:D("workbenchConfigurationTitle","Workbench"),type:"object",properties:(Uu={},Uu[w2]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[D("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),D("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:D({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},Uu[E2]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:D({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},Uu[JM]={type:"boolean",default:!1,description:D("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench.")},Uu["workbench.tree.horizontalScrolling"]={type:"boolean",default:!1,description:D("tree horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench."),deprecationMessage:D("deprecated","This setting is deprecated, please use '{0}' instead.",JM)},Uu[oD]={type:"number",default:8,minimum:0,maximum:40,description:D("tree indent setting","Controls tree indentation in pixels.")},Uu[sD]={type:"string",enum:["none","onHover","always"],default:"onHover",description:D("render tree indent guides","Controls whether the tree should render indent guides.")},Uu[iD]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[D("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),D("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),D("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:D("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},Uu[_5]={type:"boolean",default:!0,markdownDescription:D("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},Uu)});var Nn;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(Nn||(Nn={}));(function(n){function e(s,a){return a-s}n.compare=e;var t=Object.create(null);t[n.Error]=D("sev.error","Error"),t[n.Warning]=D("sev.warning","Warning"),t[n.Info]=D("sev.info","Info");function r(s){return t[s]||""}n.toString=r;function i(s){switch(s){case tr.Error:return n.Error;case tr.Warning:return n.Warning;case tr.Info:return n.Info;case tr.Ignore:return n.Hint}}n.fromSeverity=i;function o(s){switch(s){case n.Error:return tr.Error;case n.Warning:return tr.Warning;case n.Info:return tr.Info;case n.Hint:return tr.Ignore}}n.toSeverity=o})(Nn||(Nn={}));var lD;(function(n){var e="";function t(i){return r(i,!0)}n.makeKey=t;function r(i,o){var s=[e];return i.source?s.push(i.source.replace("","")):s.push(e),i.code?s.push(i.code.replace("","")):s.push(e),i.severity!==void 0&&i.severity!==null?s.push(Nn.toString(i.severity)):s.push(e),i.message&&o?s.push(i.message.replace("","")):s.push(e),i.startLineNumber!==void 0&&i.startLineNumber!==null?s.push(i.startLineNumber.toString()):s.push(e),i.startColumn!==void 0&&i.startColumn!==null?s.push(i.startColumn.toString()):s.push(e),i.endLineNumber!==void 0&&i.endLineNumber!==null?s.push(i.endLineNumber.toString()):s.push(e),i.endColumn!==void 0&&i.endColumn!==null?s.push(i.endColumn.toString()):s.push(e),s.push(e),s.join("")}n.makeKeyOptionalMessage=r})(lD||(lD={}));var _C=qt("markerService"),qd;(function(n){function e(i,o,s){if(i[o])return i[o][s]}n.get=e;function t(i,o,s,a){i[o]||(i[o]=Object.create(null)),i[o][s]=a}n.set=t;function r(i,o,s){return i[o]&&i[o][s]?(delete i[o][s],fJ(i[o])&&delete i[o],!0):!1}n.remove=r})(qd||(qd={}));var iFe=function(){function n(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}return n.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},n.prototype._update=function(e){if(this._data)for(var t=0,r=e;t<r.length;t++){var i=r[t],o=i.toString(),s=this._data[o];s&&this._substract(s);var a=this._resourceStats(i);this._add(a),this._data[o]=a}},n.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===En.inMemory||e.scheme===En.walkThrough||e.scheme===En.walkThroughSnippet)return t;for(var r=0,i=this._service.read({resource:e});r<i.length;r++){var o=i[r].severity;o===Nn.Error?t.errors+=1:o===Nn.Warning?t.warnings+=1:o===Nn.Info?t.infos+=1:t.unknowns+=1}return t},n.prototype._substract=function(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns},n.prototype._add=function(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns},n}(),oFe=function(){function n(){this._onMarkerChanged=new Q,this._onMarkerChangedEvent=Je.debounce(this._onMarkerChanged.event,n._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new iFe(this)}return n.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(n.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),n.prototype.remove=function(e,t){for(var r=0,i=t||[];r<i.length;r++){var o=i[r];this.changeOne(e,o,[])}},n.prototype.changeOne=function(e,t,r){if(B4(r)){var i=qd.remove(this._byResource,t.toString(),e),o=qd.remove(this._byOwner,e,t.toString());if(i!==o)throw new Error("invalid marker service state");i&&o&&this._onMarkerChanged.fire([t])}else{for(var s=[],a=0,u=r;a<u.length;a++){var l=u[a],c=n._toMarker(e,t,l);c&&s.push(c)}qd.set(this._byResource,t.toString(),e,s),qd.set(this._byOwner,e,t.toString(),s),this._onMarkerChanged.fire([t])}},n._toMarker=function(e,t,r){var i=r.code,o=r.severity,s=r.message,a=r.source,u=r.startLineNumber,l=r.startColumn,c=r.endLineNumber,d=r.endColumn,h=r.relatedInformation,p=r.tags;if(s)return u=u>0?u:1,l=l>0?l:1,c=c>=u?c:u,d=d>0?d:l,{resource:t,owner:e,code:i,severity:o,message:s,source:a,startLineNumber:u,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:p}},n.prototype.read=function(e){e===void 0&&(e=Object.create(null));var t=e.owner,r=e.resource,i=e.severities,o=e.take;if((!o||o<0)&&(o=-1),t&&r){var s=qd.get(this._byResource,r.toString(),t);if(s){for(var a=[],u=0,l=s;u<l.length;u++){var c=l[u];if(n._accept(c,i)){var d=a.push(c);if(o>0&&d===o)break}}return a}else return[]}else if(!t&&!r){var a=[];for(var h in this._byResource)for(var p in this._byResource[h])for(var v=0,m=this._byResource[h][p];v<m.length;v++){var s=m[v];if(n._accept(s,i)){var d=a.push(s);if(o>0&&d===o)return a}}return a}else{var _=t?this._byOwner[t]:r?this._byResource[r.toString()]:void 0;if(!_)return[];var a=[];for(var b in _)for(var C=0,E=_[b];C<E.length;C++){var s=E[C];if(n._accept(s,i)){var d=a.push(s);if(o>0&&d===o)return a}}return a}},n._accept=function(e,t){return t===void 0||(t&e.severity)===e.severity},n._debouncer=function(e,t){e||(n._dedupeMap=Object.create(null),e=[]);for(var r=0,i=t;r<i.length;r++){var o=i[r];n._dedupeMap[o.toString()]===void 0&&(n._dedupeMap[o.toString()]=!0,e.push(o))}return e},n}(),S2=qt("editorProgressService"),sFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kh=qt("storageService"),cD;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(cD||(cD={}));var aFe=function(n){sFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._serviceBrand=null,t._onDidChangeStorage=t._register(new Q),t.onDidChangeStorage=t._onDidChangeStorage.event,t.onWillSaveState=Je.None,t.globalCache=new Map,t.workspaceCache=new Map,t}return e.prototype.getCache=function(t){return t===0?this.globalCache:this.workspaceCache},e.prototype.get=function(t,r,i){var o=this.getCache(r).get(t);return Xf(o)?i:o},e.prototype.getBoolean=function(t,r,i){var o=this.getCache(r).get(t);return Xf(o)?i:o==="true"},e.prototype.store=function(t,r,i){if(Xf(r))return this.remove(t,i);var o=String(r),s=this.getCache(i).get(t);return s===o||(this.getCache(i).set(t,o),this._onDidChangeStorage.fire({scope:i,key:t})),Promise.resolve()},e.prototype.remove=function(t,r){var i=this.getCache(r).delete(t);return i&&this._onDidChangeStorage.fire({scope:r,key:t}),Promise.resolve()},e}(fe),uFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bne=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},e3=function(n,e){return function(t,r){e(t,r,n)}},lFe=function(){function n(e){this._commandService=e}return n.prototype.createMenu=function(e,t){return new cFe(e,this._commandService,t)},n=Bne([e3(0,Qi)],n),n}(),cFe=function(n){uFe(e,n);function e(t,r,i){var o=n.call(this)||this;return o._id=t,o._commandService=r,o._contextKeyService=i,o._onDidChange=o._register(new Q),o._build(),o._register(Je.debounce(Je.filter(Tu.onDidChangeMenu,function(s){return s===o._id}),function(){},50)(o._build,o)),o._register(Je.debounce(o._contextKeyService.onDidChangeContext,function(s,a){return s||a.affectsSome(o._contextKeys)},50)(function(s){return s&&o._onDidChange.fire(void 0)},o)),o}return e.prototype._build=function(){this._menuGroups=[],this._contextKeys=new Set;var t=Tu.getMenuItems(this._id),r;t.sort(e._compareMenuItems);for(var i=0,o=t;i<o.length;i++){var s=o[i],a=s.group||"";(!r||r[0]!==a)&&(r=[a,[]],this._menuGroups.push(r)),r[1].push(s),e._fillInKbExprKeys(s.when,this._contextKeys),TS(s)&&s.command.precondition&&e._fillInKbExprKeys(s.command.precondition,this._contextKeys),TS(s)&&s.command.toggled&&e._fillInKbExprKeys(s.command.toggled,this._contextKeys)}this._onDidChange.fire(this)},e.prototype.getActions=function(t){for(var r=[],i=0,o=this._menuGroups;i<o.length;i++){for(var s=o[i],a=s[0],u=s[1],l=[],c=0,d=u;c<d.length;c++){var h=d[c];if(this._contextKeyService.contextMatchesRules(h.when)){var p=TS(h)?new Lxe(h.command,h.alt,t,this._contextKeyService,this._commandService):new xxe(h);l.push(p)}}l.length>0&&r.push([a,l])}return r},e._fillInKbExprKeys=function(t,r){if(t)for(var i=0,o=t.keys();i<o.length;i++){var s=o[i];r.add(s)}},e._compareMenuItems=function(t,r){var i=t.group,o=r.group;if(i!==o){if(i){if(!o)return-1}else return 1;if(i==="navigation")return-1;if(o==="navigation")return 1;var s=i.localeCompare(o);if(s!==0)return s}var a=t.order||0,u=r.order||0;if(a<u)return-1;if(a>u)return 1;var l=typeof t.command.title=="string"?t.command.title:t.command.title.value,c=typeof r.command.title=="string"?r.command.title:r.command.title.value;return l.localeCompare(c)},e=Bne([e3(1,Qi),e3(2,yt)],e),e}(fe),Hne=qt("markerDecorationsService"),Vne=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fFe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xz=function(n,e){return function(t,r){e(t,r,n)}};function ty(n){return n.toString()}var hFe=function(n){Vne(e,n);function e(t){var r=n.call(this)||this;return r.model=t,r._markersData=new Map,r._register(bn(function(){r.model.deltaDecorations(Wb(r._markersData),[]),r._markersData.clear()})),r}return e.prototype.update=function(t,r){for(var i=this.model.deltaDecorations(Wb(this._markersData),r),o=0;o<i.length;o++)this._markersData.set(i[o],t[o])},e.prototype.getMarker=function(t){return this._markersData.get(t.id)},e}(fe),dFe=function(n){Vne(e,n);function e(t,r){var i=n.call(this)||this;return i._markerService=r,i._onDidChangeMarker=i._register(new Q),i._markerDecorations=new Map,t.getModels().forEach(function(o){return i._onModelAdded(o)}),i._register(t.onModelAdded(i._onModelAdded,i)),i._register(t.onModelRemoved(i._onModelRemoved,i)),i._register(i._markerService.onMarkerChanged(i._handleMarkerChange,i)),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._markerDecorations.forEach(function(t){return t.dispose()}),this._markerDecorations.clear()},e.prototype.getMarker=function(t,r){var i=this._markerDecorations.get(ty(t.uri));return i?Cm(i.getMarker(r)):null},e.prototype._handleMarkerChange=function(t){var r=this;t.forEach(function(i){var o=r._markerDecorations.get(ty(i));o&&r._updateDecorations(o)})},e.prototype._onModelAdded=function(t){var r=new hFe(t);this._markerDecorations.set(ty(t.uri),r),this._updateDecorations(r)},e.prototype._onModelRemoved=function(t){var r=this,i=this._markerDecorations.get(ty(t.uri));i&&(i.dispose(),this._markerDecorations.delete(ty(t.uri))),(t.uri.scheme===En.inMemory||t.uri.scheme===En.internal||t.uri.scheme===En.vscode)&&this._markerService&&this._markerService.read({resource:t.uri}).map(function(o){return o.owner}).forEach(function(o){return r._markerService.remove(o,[t.uri])})},e.prototype._updateDecorations=function(t){var r=this,i=this._markerService.read({resource:t.model.uri,take:500}),o=i.map(function(s){return{range:r._createDecorationRange(t.model,s),options:r._createDecorationOption(s)}});t.update(i,o),this._onDidChangeMarker.fire(t.model)},e.prototype._createDecorationRange=function(t,r){var i=H.lift(r);if(r.severity===Nn.Hint&&(!r.tags||r.tags.indexOf(1)===-1)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=t.validateRange(i),i.isEmpty()){var o=t.getWordAtPosition(i.getStartPosition());if(o)i=new H(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn);else{var s=t.getLineLastNonWhitespaceColumn(i.startLineNumber)||t.getLineMaxColumn(i.startLineNumber);s===1||(i.endColumn>=s?i=new H(i.startLineNumber,s-1,i.endLineNumber,s):i=new H(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(r.endColumn===Number.MAX_VALUE&&r.startColumn===1&&i.startLineNumber===i.endLineNumber){var a=t.getLineFirstNonWhitespaceColumn(r.startLineNumber);a<i.endColumn&&(i=new H(i.startLineNumber,a,i.endLineNumber,i.endColumn),r.startColumn=a)}return i},e.prototype._createDecorationOption=function(t){var r,i=void 0,o,s=void 0;switch(t.severity){case Nn.Hint:t.tags&&t.tags.indexOf(1)>=0?r="squiggly-unnecessary":r="squiggly-hint",o=0;break;case Nn.Warning:r="squiggly-warning",i=Xs(pOe),o=20;break;case Nn.Info:r="squiggly-info",i=Xs(gOe),o=10;break;case Nn.Error:default:r="squiggly-error",i=Xs(dOe),o=30;break}return t.tags&&(t.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:i,position:ia.Right},zIndex:o,inlineClassName:s}},e=fFe([xz(0,is),xz(1,_C)],e),e}(fe),pFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gFe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Lz=function(n,e){return function(t,r){e(t,r,n)}},vFe=function(n){pFe(e,n);function e(t,r){var i=n.call(this)||this;return i._contextKeyService=t,i._configurationService=r,i._onDidChangeAccessibilitySupport=new Q,i.onDidChangeAccessibilitySupport=i._onDidChangeAccessibilitySupport.event,i._accessibilityModeEnabledContext=fC.bindTo(i._contextKeyService),i._register(i._configurationService.onDidChangeConfiguration(function(o){o.affectsConfiguration("editor.accessibilitySupport")&&i._updateContextKey()})),i._updateContextKey(),i.onDidChangeAccessibilitySupport(function(){return i._updateContextKey()}),i}return e.prototype._updateContextKey=function(){var t=this.getAccessibilitySupport()===2,r=this._configurationService.getValue("editor.accessibilitySupport");this._accessibilityModeEnabledContext.set(r==="on"||r==="auto"&&t)},e=gFe([Lz(0,yt),Lz(1,pi)],e),e}(fe),mFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_Fe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nz=function(n,e){return function(t,r){e(t,r,n)}},yFe=function(n){mFe(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.contextKeyService=t,i.configurationService=r,i._accessibilitySupport=0,i}return e.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},e=_Fe([Nz(0,yt),Nz(1,pi)],e),e}(vFe),bFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vn;(function(n){var e=new km,t=function(){function a(u,l){this._serviceId=u,this._factory=l,this._value=null}return Object.defineProperty(a.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),a.prototype.get=function(u){if(!this._value){if(u&&(this._value=u[this._serviceId.toString()]),this._value||(this._value=this._factory(u)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");e.set(this._serviceId,this._value)}return this._value},a}();n.LazyStaticService=t;var r=[];function i(a,u){var l=new t(a,u);return r.push(l),l}function o(a){for(var u=new km,l=0,c=tPe();l<c.length;l++){var d=c[l],h=d[0],p=d[1];u.set(h,p)}for(var v in a)a.hasOwnProperty(v)&&u.set(qt(v),a[v]);r.forEach(function(_){return u.set(_.id,_.get(a))});var m=new yz(u,!0);return u.set(cr,m),[u,m]}n.init=o,n.instantiationService=i(cr,function(){return new yz(e,!0)});var s=new Dee;n.configurationService=i(pi,function(){return s}),n.resourceConfigurationService=i(aee,function(){return new hxe(s)}),n.resourcePropertiesService=i(uee,function(){return new dxe(s)}),n.contextService=i(Eee,function(){return new gxe}),n.labelService=i(b2,function(){return new mxe}),n.telemetryService=i(sC,function(){return new pxe}),n.dialogService=i(xMe,function(){return new cxe}),n.notificationService=i(gi,function(){return new fxe}),n.markerService=i(_C,function(){return new oFe}),n.modeService=i(Oh,function(a){return new DPe}),n.modelService=i(is,function(a){return new NPe(n.configurationService.get(a),n.resourcePropertiesService.get(a))}),n.markerDecorationsService=i(Hne,function(a){return new dFe(n.modelService.get(a),n.markerService.get(a))}),n.standaloneThemeService=i(sg,function(){return new iMe}),n.codeEditorService=i(Dn,function(a){return new WPe(n.standaloneThemeService.get(a))}),n.editorProgressService=i(S2,function(){return new lxe}),n.storageService=i(kh,function(){return new aFe}),n.logService=i(m6,function(){return new P2e}),n.editorWorkerService=i(Fa,function(a){return new B2e(n.modelService.get(a),n.resourceConfigurationService.get(a),n.logService.get(a))})})(vn||(vn={}));var CFe=function(n){bFe(e,n);function e(t,r){var i=n.call(this)||this,o=vn.init(r),s=o[0],a=o[1];i._serviceCollection=s,i._instantiationService=a;var u=i.get(pi),l=i.get(gi),c=i.get(sC),d=i.get(Yr),h=function(C,E){var T=null;return r&&(T=r[C.toString()]),T||(T=E()),i._serviceCollection.set(C,T),T},p=h(yt,function(){return i._register(new cMe(u))});h(Ml,function(){return new yFe(p,u)}),h(N_,function(){return new W3e(p)});var v=h(Qi,function(){return new See(i._instantiationService)}),m=h(wr,function(){return i._register(new Tee(p,v,c,l,t))}),_=h(ane,function(){return new _xe(t)}),b=h(Nh,function(){return i._register(new IMe(_))});return h(og,function(){var C=new wMe(c,l,b,m,d);return C.configure({blockMouse:!1}),i._register(C)}),h(Oee,function(){return new lFe(v)}),h(a5,function(){return new vxe(vn.modelService.get(is))}),i}return e.prototype.get=function(t){var r=this._serviceCollection.get(t);if(!r)throw new Error("Missing service "+t);return r},e.prototype.set=function(t,r){this._serviceCollection.set(t,r)},e.prototype.has=function(t){return this._serviceCollection.has(t)},e}(fe),bh=qt("openerService"),C5=Object.freeze({_serviceBrand:void 0,registerOpener:function(){return{dispose:function(){}}},registerValidator:function(){return{dispose:function(){}}},open:function(){return Promise.resolve(!1)}});function Wne(n,e,t){var r=new CFe(n,e),i=null;r.has(kp)||(i=new uxe,r.set(kp,i)),r.has(bh)||r.set(bh,new gAe(r.get(Dn),r.get(Qi)));var o=t(r);return i&&i.setEditor(o),o}function wFe(n,e,t){return Wne(n,t||{},function(r){return new gPe(n,e,r,r.get(cr),r.get(Dn),r.get(Qi),r.get(yt),r.get(wr),r.get(Nh),r.get(sg),r.get(gi),r.get(pi),r.get(Ml))})}function EFe(n){return vn.codeEditorService.get().onCodeEditorAdd(function(e){n(e)})}function SFe(n,e,t){return Wne(n,t||{},function(r){return new vPe(n,e,r,r.get(cr),r.get(yt),r.get(wr),r.get(Nh),r.get(Fa),r.get(Dn),r.get(sg),r.get(gi),r.get(pi),r.get(og),null)})}function TFe(n,e){return new _Ae(n,e)}function Oz(n,e,t){return vn.modelService.get().createModel(n,e,t)}function DFe(n,e,t){if(n=n||"",!e){var r=n.indexOf(`
`),i=n;return r!==-1&&(i=n.substring(0,r)),Oz(n,vn.modeService.get().createByFilepathOrFirstLine(t||null,i),t)}return Oz(n,vn.modeService.get().create(e),t)}function AFe(n,e){vn.modelService.get().setMode(n,vn.modeService.get().create(e))}function IFe(n,e,t){n&&vn.markerService.get().changeOne(e,n.uri,t)}function xFe(n){return vn.markerService.get().read(n)}function LFe(n){return vn.modelService.get().getModel(n)}function NFe(){return vn.modelService.get().getModels()}function OFe(n){return vn.modelService.get().onModelAdded(n)}function kFe(n){return vn.modelService.get().onModelRemoved(n)}function RFe(n){return vn.modelService.get().onModelModeChanged(function(e){n({model:e.model,oldLanguage:e.oldModeId})})}function PFe(n){return j2e(vn.modelService.get(),n)}function MFe(n,e){return C6.colorizeElement(vn.standaloneThemeService.get(),vn.modeService.get(),n,e)}function FFe(n,e,t){return C6.colorize(vn.modeService.get(),n,e,t)}function BFe(n,e,t){return t===void 0&&(t=4),C6.colorizeModelLine(n,e,t)}function HFe(n){var e=Bn.get(n);return e||{getInitialState:function(){return oC},tokenize:function(t,r,i){return oee(n,t,r,i)}}}function VFe(n,e){var t=vn.modeService.get();t.triggerMode(e);for(var r=HFe(e),i=n.split(/\r\n|\r|\n/),o=[],s=r.getInitialState(),a=0,u=i.length;a<u;a++){var l=i[a],c=r.tokenize(l,s,0);o[a]=c.tokens,s=c.endState}return o}function WFe(n,e){vn.standaloneThemeService.get().defineTheme(n,e)}function UFe(n){vn.standaloneThemeService.get().setTheme(n)}function jFe(){Txe()}function qFe(){return{create:wFe,onDidCreateEditor:EFe,createDiffEditor:SFe,createDiffNavigator:TFe,createModel:DFe,setModelLanguage:AFe,setModelMarkers:IFe,getModelMarkers:xFe,getModels:NFe,getModel:LFe,onDidCreateModel:OFe,onWillDisposeModel:kFe,onDidChangeModelLanguage:RFe,createWebWorker:PFe,colorizeElement:MFe,colorize:FFe,colorizeModelLine:BFe,tokenize:VFe,defineTheme:WFe,setTheme:UFe,remeasureFonts:jFe,ScrollbarVisibility:OP,WrappingIndent:UP,OverviewRulerLane:kP,MinimapPosition:RP,EndOfLinePreference:PP,DefaultEndOfLine:MP,EndOfLineSequence:FP,TrackedRangeStickiness:BP,CursorChangeReason:VP,MouseTargetType:KP,TextEditorCursorStyle:qP,TextEditorCursorBlinkingStyle:jP,ContentWidgetPositionPreference:GP,OverlayWidgetPositionPreference:$P,RenderMinimap:WP,ScrollType:HP,RenderLineNumbersType:zP,InternalEditorOptions:yJ,BareFontInfo:l6,FontInfo:pM,TextModelResolvedOptions:bS,FindMatch:Ub,EditorType:QA}}function zFe(n,e){if(!e||!Array.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++){var i=r[t];if(!n(i))return!1}return!0}function kz(n,e){return typeof n=="boolean"?n:e}function Rz(n,e){return typeof n=="string"?n:e}function GFe(n){for(var e={},t=0,r=n;t<r.length;t++){var i=r[t];e[i]=!0}return e}function Pz(n,e){e===void 0&&(e=!1),e&&(n=n.map(function(r){return r.toLowerCase()}));var t=GFe(n);return e?function(r){return t[r.toLowerCase()]!==void 0&&t.hasOwnProperty(r.toLowerCase())}:function(r){return t[r]!==void 0&&t.hasOwnProperty(r)}}function t3(n,e){for(var t=0;e.indexOf("@")>=0&&t<5;)t++,e=e.replace(/@(\w+)/g,function(r,i){var o="";if(typeof n[i]=="string")o=n[i];else if(n[i]&&n[i]instanceof RegExp)o=n[i].source;else throw n[i]===void 0?sn(n,"language definition does not contain attribute '"+i+"', used at: "+e):sn(n,"attribute reference '"+i+"' must be a string, used at: "+e);return bv(o)?"":"(?:"+o+")"});return new RegExp(e,n.ignoreCase?"i":"")}function $Fe(n,e,t,r){if(r<0)return n;if(r<e.length)return e[r];if(r>=100){r=r-100;var i=t.split(".");if(i.unshift(t),r<i.length)return i[r]}return null}function KFe(n,e,t,r){var i=-1,o=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(i=parseInt(s[3]),s[2]&&(i=i+100)),o=s[4]);var a="~",u=o;!o||o.length===0?(a="!=",u=""):/^\w*$/.test(u)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],u=s[2]));var l;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(u)){var c=Pz(u.split("|"),n.ignoreCase);l=function(_){return a==="~"?c(_):!c(_)}}else if(a==="@"||a==="!@"){var d=n[u];if(!d)throw sn(n,"the @ match target '"+u+"' is not defined, in rule: "+e);if(!zFe(function(_){return typeof _=="string"},d))throw sn(n,"the @ match target '"+u+"' must be an array of strings, in rule: "+e);var h=Pz(d,n.ignoreCase);l=function(_){return a==="@"?h(_):!h(_)}}else if(a==="~"||a==="!~")if(u.indexOf("$")<0){var p=t3(n,"^"+u+"$");l=function(_){return a==="~"?p.test(_):!p.test(_)}}else l=function(_,b,C,E){var T=t3(n,"^"+If(n,u,b,C,E)+"$");return T.test(_)};else if(u.indexOf("$")<0){var v=Jf(n,u);l=function(_){return a==="=="?_===v:_!==v}}else{var m=Jf(n,u);l=function(_,b,C,E,T){var A=If(n,m,b,C,E);return a==="=="?_===A:_!==A}}return i===-1?{name:t,value:r,test:function(_,b,C,E){return l(_,_,b,C,E)}}:{name:t,value:r,test:function(_,b,C,E){var T=$Fe(_,b,C,i);return l(T||"",_,b,C,E)}}}function n3(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw sn(n,"a 'token' attribute must be of type string, in rule: "+e);var r={token:t.token};if(t.token.indexOf("$")>=0&&(r.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")r.bracket=1;else if(t.bracket==="@close")r.bracket=-1;else throw sn(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw sn(n,"the next state must be a string value in rule: "+e);var i=t.next;if(!/^(@pop|@push|@popall)$/.test(i)&&(i[0]==="@"&&(i=i.substr(1)),i.indexOf("$")<0&&!cIe(n,If(n,i,"",[],""))))throw sn(n,"the next state '"+t.next+"' is not defined in rule: "+e);r.next=i}return typeof t.goBack=="number"&&(r.goBack=t.goBack),typeof t.switchTo=="string"&&(r.switchTo=t.switchTo),typeof t.log=="string"&&(r.log=t.log),typeof t.nextEmbedded=="string"&&(r.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),r}else if(Array.isArray(t)){for(var o=[],s=0,a=t.length;s<a;s++)o[s]=n3(n,e,t[s]);return{group:o}}else if(t.cases){var u=[];for(var l in t.cases)if(t.cases.hasOwnProperty(l)){var c=n3(n,e,t.cases[l]);l==="@default"||l==="@"||l===""?u.push({test:void 0,value:c,name:l}):l==="@eos"?u.push({test:function(h,p,v,m){return m},value:c,name:l}):u.push(KFe(n,e,l,c))}var d=n.defaultToken;return{test:function(h,p,v,m){for(var _=0,b=u;_<b.length;_++){var C=b[_],E=!C.test||C.test(h,p,v,m);if(E)return C.value}return d}}}else throw sn(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}var YFe=function(){function n(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return n.prototype.setRegex=function(e,t){var r;if(typeof t=="string")r=t;else if(t instanceof RegExp)r=t.source;else throw sn(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=r.length>0&&r[0]==="^",this.name=this.name+": "+r,this.regex=t3(e,"^(?:"+(this.matchOnlyAtLineStart?r.substr(1):r)+")")},n.prototype.setAction=function(e,t){this.action=n3(e,this.name,t)},n}();function XFe(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");var t={};t.languageId=n,t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=kz(e.ignoreCase,!1),t.tokenPostfix=Rz(e.tokenPostfix,"."+t.languageId),t.defaultToken=Rz(e.defaultToken,"source"),t.usesEmbedded=!1;var r=e;r.languageId=n,r.ignoreCase=t.ignoreCase,r.noThrow=t.noThrow,r.usesEmbedded=t.usesEmbedded,r.stateNames=e.tokenizer,r.defaultToken=t.defaultToken;function i(h,p,v){for(var m=0,_=v;m<_.length;m++){var b=_[m],C=b.include;if(C){if(typeof C!="string")throw sn(t,"an 'include' attribute must be a string at: "+h);if(C[0]==="@"&&(C=C.substr(1)),!e.tokenizer[C])throw sn(t,"include target '"+C+"' is not defined at: "+h);i(h+"."+C,p,e.tokenizer[C])}else{var E=new YFe(h);if(Array.isArray(b)&&b.length>=1&&b.length<=3)if(E.setRegex(r,b[0]),b.length>=3)if(typeof b[1]=="string")E.setAction(r,{token:b[1],next:b[2]});else if(typeof b[1]=="object"){var T=b[1];T.next=b[2],E.setAction(r,T)}else throw sn(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+h);else E.setAction(r,b[1]);else{if(!b.regex)throw sn(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+h);b.name&&typeof b.name=="string"&&(E.name=b.name),b.matchOnlyAtStart&&(E.matchOnlyAtLineStart=kz(b.matchOnlyAtLineStart,!1)),E.setRegex(r,b.regex),E.setAction(r,b.action)}p.push(E)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw sn(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(var o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);var s=e.tokenizer[o];t.tokenizer[o]=new Array,i("tokenizer."+o,t.tokenizer[o],s)}if(t.usesEmbedded=r.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw sn(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];for(var a=[],u=0,l=e.brackets;u<l.length;u++){var c=l[u],d=c;if(d&&Array.isArray(d)&&d.length===3&&(d={token:d[2],open:d[0],close:d[1]}),d.open===d.close)throw sn(t,"open and close brackets in a 'brackets' attribute must be different: "+d.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof d.open=="string"&&typeof d.token=="string"&&typeof d.close=="string")a.push({token:d.token+t.tokenPostfix,open:Jf(t,d.open),close:Jf(t,d.close)});else throw sn(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=a,t.noThrow=!0,t}function QFe(n){bp.registerLanguage(n)}function ZFe(){var n=[];return n=n.concat(bp.getLanguages()),n}function JFe(n){var e=vn.modeService.get().getLanguageIdentifier(n);return e?e.id:0}function e4e(n,e){var t=vn.modeService.get().onDidCreateMode(function(r){r.getId()===n&&(t.dispose(),e())});return t}function t4e(n,e){var t=vn.modeService.get().getLanguageIdentifier(n);if(!t)throw new Error("Cannot set configuration for unknown language "+n);return Ot.register(t,e)}var n4e=function(){function n(e){this._actual=e}return n.prototype.getInitialState=function(){return this._actual.getInitialState()},n.prototype.tokenize=function(e,t,r){throw new Error("Not supported!")},n.prototype.tokenize2=function(e,t){var r=this._actual.tokenizeEncoded(e,t);return new $A(r.tokens,r.endState)},n}(),r4e=function(){function n(e,t,r){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=r}return n.prototype.getInitialState=function(){return this._actual.getInitialState()},n.prototype._toClassicTokens=function(e,t,r){for(var i=[],o=0,s=0,a=e.length;s<a;s++){var u=e[s],l=u.startIndex;s===0?l=0:l<o&&(l=o),i[s]=new GA(l+r,u.scopes,t),o=l}return i},n.prototype.tokenize=function(e,t,r){var i=this._actual.tokenize(e,t),o=this._toClassicTokens(i.tokens,this._languageIdentifier.language,r),s;return i.endState.equals(t)?s=t:s=i.endState,new q4(o,s)},n.prototype._toBinaryTokens=function(e,t){for(var r=this._languageIdentifier.id,i=this._standaloneThemeService.getTheme().tokenTheme,o=[],s=0,a=0,u=0,l=e.length;u<l;u++){var c=e[u],d=i.match(r,c.scopes);if(!(s>0&&o[s-1]===d)){var h=c.startIndex;u===0?h=0:h<a&&(h=a),o[s++]=h+t,o[s++]=d,a=h}}for(var p=new Uint32Array(s),u=0;u<s;u++)p[u]=o[u];return p},n.prototype.tokenize2=function(e,t,r){var i=this._actual.tokenize(e,t),o=this._toBinaryTokens(i.tokens,r),s;return i.endState.equals(t)?s=t:s=i.endState,new $A(o,s)},n}();function i4e(n){return"tokenizeEncoded"in n}function Une(n){return n&&typeof n.then=="function"}function o4e(n,e){var t=vn.modeService.get().getLanguageIdentifier(n);if(!t)throw new Error("Cannot set tokens provider for unknown language "+n);var r=function(i){return i4e(i)?new n4e(i):new r4e(vn.standaloneThemeService.get(),t,i)};return Une(e)?Bn.registerPromise(n,e.then(function(i){return r(i)})):Bn.register(n,r(e))}function s4e(n,e){var t=function(r){return pIe(vn.modeService.get(),vn.standaloneThemeService.get(),n,XFe(n,r))};return Une(e)?Bn.registerPromise(n,e.then(function(r){return t(r)})):Bn.register(n,t(e))}function a4e(n,e){return DT.register(n,e)}function u4e(n,e){return AT.register(n,e)}function l4e(n,e){return dp.register(n,e)}function c4e(n,e){return qb.register(n,{provideHover:function(t,r,i){var o=t.getWordAtPosition(r);return Promise.resolve(e.provideHover(t,r,i)).then(function(s){if(s)return!s.range&&o&&(s.range=new H(r.lineNumber,o.startColumn,r.lineNumber,o.endColumn)),s.range||(s.range=new H(r.lineNumber,r.column,r.lineNumber,r.column)),s})}})}function f4e(n,e){return Ff.register(n,e)}function h4e(n,e){return Tm.register(n,e)}function d4e(n,e){return zb.register(n,e)}function p4e(n,e){return xT.register(n,e)}function g4e(n,e){return LT.register(n,e)}function v4e(n,e){return pp.register(n,e)}function m4e(n,e){return yc.register(n,{provideCodeActions:function(t,r,i,o){var s=vn.markerService.get().read({resource:t.uri}).filter(function(a){return H.areIntersectingOrTouching(a,r)});return e.provideCodeActions(t,r,{markers:s,only:i.only},o)}})}function _4e(n,e){return zy.register(n,e)}function y4e(n,e){return lu.register(n,e)}function b4e(n,e){return NT.register(n,e)}function C4e(n,e){return Gb.register(n,e)}function w4e(n,e){return rl.register(n,e)}function E4e(n,e){return Dm.register(n,e)}function S4e(n,e){return gM.register(n,e)}function T4e(n,e){return IT.register(n,e)}function D4e(n,e){return JA.register(n,e)}function A4e(){return{register:QFe,getLanguages:ZFe,onLanguage:e4e,getEncodedLanguageId:JFe,setLanguageConfiguration:t4e,setTokensProvider:o4e,setMonarchTokensProvider:s4e,registerReferenceProvider:a4e,registerRenameProvider:u4e,registerCompletionItemProvider:w4e,registerSignatureHelpProvider:l4e,registerHoverProvider:c4e,registerDocumentSymbolProvider:f4e,registerDocumentHighlightProvider:h4e,registerDefinitionProvider:d4e,registerImplementationProvider:p4e,registerTypeDefinitionProvider:g4e,registerCodeLensProvider:v4e,registerCodeActionProvider:m4e,registerDocumentFormattingEditProvider:_4e,registerDocumentRangeFormattingEditProvider:y4e,registerOnTypeFormattingEditProvider:b4e,registerLinkProvider:C4e,registerColorProvider:E4e,registerFoldingRangeProvider:S4e,registerDeclarationProvider:T4e,registerSelectionRangeProvider:D4e,DocumentHighlightKind:tM,CompletionItemKind:XP,CompletionItemTag:QP,CompletionItemInsertTextRule:ZP,SymbolKind:nM,SymbolTag:rM,IndentAction:YP,CompletionTriggerKind:JP,SignatureHelpTriggerKind:eM,FoldingRangeKind:ZA}}var LS=self;Rl.wrappingIndent=0;Rl.viewInfo.glyphMargin=!1;Rl.autoIndent=!1;var Zi=AJ();Zi.editor=qFe();Zi.languages=A4e();Zi.CancellationTokenSource;Zi.Emitter;Zi.KeyCode;Zi.KeyMod;Zi.Position;var ny=Zi.Range;Zi.Selection;Zi.SelectionDirection;Zi.MarkerSeverity;Zi.MarkerTag;Zi.Uri;Zi.Token;var nm=Zi.editor;Zi.languages;LS.monaco=Zi;typeof LS.require<"u"&&typeof LS.require.config=="function"&&LS.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var I4e="3.5.1",Mz=monaco.Emitter,jne=function(){function n(e,t){this._onDidChange=new Mz,this._onDidExtraLibsChange=new Mz,this._extraLibs=Object.create(null),this._workerMaxIdleTime=2*60*1e3,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!0,configurable:!0}),n.prototype.getExtraLibs=function(){return this._extraLibs},n.prototype.addExtraLib=function(e,t){var r=this;if(typeof t>"u"&&(t="ts:extralib-"+Math.random().toString(36).substring(2,15)),this._extraLibs[t]&&this._extraLibs[t].content===e)return{dispose:function(){}};var i=1;return this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:e,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var o=r._extraLibs[t];o&&o.version===i&&(delete r._extraLibs[t],r._fireOnDidExtraLibsChangeSoon())}}},n.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)},0))},n.prototype.getCompilerOptions=function(){return this._compilerOptions},n.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},n.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},n.prototype.setMaximumWorkerIdleTime=function(e){this._workerMaxIdleTime=e},n.prototype.getWorkerMaxIdleTime=function(){return this._workerMaxIdleTime},n.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},n.prototype.getEagerModelSync=function(){return this._eagerModelSync},n}(),r3;(function(n){n[n.None=0]="None",n[n.CommonJS=1]="CommonJS",n[n.AMD=2]="AMD",n[n.UMD=3]="UMD",n[n.System=4]="System",n[n.ES2015=5]="ES2015",n[n.ESNext=99]="ESNext"})(r3||(r3={}));var i3;(function(n){n[n.None=0]="None",n[n.Preserve=1]="Preserve",n[n.React=2]="React",n[n.ReactNative=3]="ReactNative"})(i3||(i3={}));var o3;(function(n){n[n.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",n[n.LineFeed=1]="LineFeed"})(o3||(o3={}));var i1;(function(n){n[n.ES3=0]="ES3",n[n.ES5=1]="ES5",n[n.ES2015=2]="ES2015",n[n.ES2016=3]="ES2016",n[n.ES2017=4]="ES2017",n[n.ES2018=5]="ES2018",n[n.ES2019=6]="ES2019",n[n.ES2020=7]="ES2020",n[n.ESNext=99]="ESNext",n[n.JSON=100]="JSON",n[n.Latest=99]="Latest"})(i1||(i1={}));var s3;(function(n){n[n.Classic=1]="Classic",n[n.NodeJs=2]="NodeJs"})(s3||(s3={}));var qne=new jne({allowNonTsExtensions:!0,target:i1.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),zne=new jne({allowNonTsExtensions:!0,allowJs:!0,target:i1.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});function x4e(){return T2().then(function(n){return n.getTypeScriptWorker()})}function L4e(){return T2().then(function(n){return n.getJavaScriptWorker()})}function N4e(){return{ModuleKind:r3,JsxEmit:i3,NewLineKind:o3,ScriptTarget:i1,ModuleResolutionKind:s3,typescriptVersion:I4e,typescriptDefaults:qne,javascriptDefaults:zne,getTypeScriptWorker:x4e,getJavaScriptWorker:L4e}}monaco.languages.typescript=N4e();function T2(){return et(()=>import("./tsMode-xKRrtrtT.js"),[])}monaco.languages.onLanguage("typescript",function(){return T2().then(function(n){return n.setupTypeScript(qne)})});monaco.languages.onLanguage("javascript",function(){return T2().then(function(n){return n.setupJavaScript(zne)})});var O4e=monaco.Emitter,w5=function(){function n(e,t){this._onDidChange=new O4e,this._languageId=e,this.setDiagnosticsOptions(t)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},n}(),E5={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},Gne=new w5("css",E5),$ne=new w5("scss",E5),Kne=new w5("less",E5);function k4e(){return{cssDefaults:Gne,lessDefaults:Kne,scssDefaults:$ne}}monaco.languages.css=k4e();function S5(){return et(()=>import("./cssMode-ByoFQ6w7.js"),[])}monaco.languages.onLanguage("less",function(){S5().then(function(n){return n.setupMode(Kne)})});monaco.languages.onLanguage("scss",function(){S5().then(function(n){return n.setupMode($ne)})});monaco.languages.onLanguage("css",function(){S5().then(function(n){return n.setupMode(Gne)})});var R4e=monaco.Emitter,P4e=function(){function n(e,t,r){this._onDidChange=new R4e,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},n.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},n}(),M4e={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1},F4e={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0},Yne=new P4e("json",M4e,F4e);function B4e(){return{jsonDefaults:Yne}}monaco.languages.json=B4e();function H4e(){return et(()=>import("./jsonMode-DsAMagc9.js"),[])}monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});monaco.languages.onLanguage("json",function(){H4e().then(function(n){return n.setupMode(Yne)})});var V4e=monaco.Emitter,T5=function(){function n(e,t){this._onDidChange=new V4e,this._languageId=e,this.setOptions(t)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),n.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},n}(),D5={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},W4e={format:D5,suggest:{html5:!0,angular1:!0,ionic:!0}},U4e={format:D5,suggest:{html5:!0}},j4e={format:D5,suggest:{html5:!0,razor:!0}},Xne="html",Qne="handlebars",Zne="razor",Jne=new T5(Xne,W4e),ere=new T5(Qne,U4e),tre=new T5(Zne,j4e);function q4e(){return{htmlDefaults:Jne,razorDefaults:tre,handlebarDefaults:ere}}monaco.languages.html=q4e();function A5(){return et(()=>import("./htmlMode-CwD2Js95.js"),[])}monaco.languages.onLanguage(Xne,function(){A5().then(function(n){return n.setupMode(Jne)})});monaco.languages.onLanguage(Qne,function(){A5().then(function(n){return n.setupMode(ere)})});monaco.languages.onLanguage(Zne,function(){A5().then(function(n){return n.setupMode(tre)})});var fD=typeof monaco>"u"?self.monaco:monaco,nre={};function z4e(n){var e=nre[n].loader;return e().then(function(t){fD.languages.setMonarchTokensProvider(n,t.language),fD.languages.setLanguageConfiguration(n,t.conf)})}var mk={};function G4e(n){return mk[n]||(mk[n]=z4e(n)),mk[n]}function rt(n){var e=n.id;nre[e]=n,fD.languages.register(n),fD.languages.onLanguage(e,function(){G4e(e)})}rt({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return et(()=>import("./abap-CroyChCn.js"),[])}});rt({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return et(()=>import("./bat-DPkNLes8.js"),[])}});rt({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return et(()=>import("./coffee-B7EJu28W.js"),[])}});rt({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return et(()=>import("./cpp-BEB0WcoC.js"),[])}});rt({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return et(()=>import("./cpp-BEB0WcoC.js"),[])}});rt({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return et(()=>import("./csharp-DWIp4pSg.js"),[])}});rt({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return et(()=>import("./csp-C46ZqvIl.js"),[])}});rt({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return et(()=>import("./css-DUIZ76Ch.js"),[])}});rt({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return et(()=>import("./dockerfile-C1cGoIR-.js"),[])}});rt({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return et(()=>import("./fsharp-fd1GTHhf.js"),[])}});rt({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return et(()=>import("./go-O9LJTZXk.js"),[])}});rt({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return et(()=>import("./handlebars-BvkMZJ20.js"),[])}});rt({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return et(()=>import("./html-3yF9IKqR.js"),[])}});rt({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return et(()=>import("./ini-BvajGCUy.js"),[])}});rt({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return et(()=>import("./java-DPgNP7lh.js"),[])}});rt({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return et(()=>import("./javascript-B50b1xvf.js"),__vite__mapDeps([0,1]))}});rt({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return et(()=>import("./kotlin-DNEyQ-_b.js"),[])}});rt({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return et(()=>import("./less-B86-qBTk.js"),[])}});rt({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return et(()=>import("./lua-D28Ae8-K.js"),[])}});rt({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return et(()=>import("./markdown-B78DZXM-.js"),[])}});rt({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return et(()=>import("./mips-CdjsipkG.js"),[])}});rt({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return et(()=>import("./msdax-CYqgjx_P.js"),[])}});rt({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return et(()=>import("./mysql-BAlWi9Ou.js"),[])}});rt({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return et(()=>import("./objective-c-B1aVtJYH.js"),[])}});rt({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return et(()=>import("./pascal-DTluBHOt.js"),[])}});rt({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return et(()=>import("./pascaligo-5jv8CcQD.js"),[])}});rt({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return et(()=>import("./pgsql-M-WMQIqP.js"),[])}});rt({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return et(()=>import("./php-120yhfDK.js"),[])}});rt({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return et(()=>import("./postiats-CQpG440k.js"),[])}});rt({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return et(()=>import("./powerquery-DdJtto1Z.js"),[])}});rt({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return et(()=>import("./powershell-Bu_VLpJB.js"),[])}});rt({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return et(()=>import("./pug-kFxLfcjb.js"),[])}});rt({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return et(()=>import("./python-BkTgHGXl.js"),[])}});rt({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],loader:function(){return et(()=>import("./r-DTzboqR4.js"),[])}});rt({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return et(()=>import("./razor-erwnNA65.js"),[])}});rt({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return et(()=>import("./redis-CHOsPHWR.js"),[])}});rt({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return et(()=>import("./redshift-C7PkzcsH.js"),[])}});rt({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],loader:function(){return et(()=>import("./ruby-Dg4z_gXy.js"),[])}});rt({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return et(()=>import("./rust-BCqVQ9nX.js"),[])}});rt({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return et(()=>import("./sb-BYAiYHFx.js"),[])}});rt({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return et(()=>import("./scss-CdQcnAnq.js"),[])}});rt({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return et(()=>import("./sophia-RYC1BQQz.js"),[])}});rt({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return et(()=>import("./solidity-CME5AdoB.js"),[])}});rt({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return et(()=>import("./sql-CbGH2FIt.js"),[])}});rt({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return et(()=>import("./st-C9od-Za1.js"),[])}});rt({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return et(()=>import("./swift-CDHAPRNA.js"),[])}});rt({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return et(()=>import("./tcl-CVK_QlCp.js"),[])}});rt({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return et(()=>import("./twig-bne2BnKZ.js"),[])}});rt({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return et(()=>import("./typescript-3a6SNL6q.js"),[])}});rt({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return et(()=>import("./vb-DgkWD2cI.js"),[])}});rt({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return et(()=>import("./xml-DfgkohBE.js"),[])}});rt({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return et(()=>import("./yaml-BR93gJIW.js"),[])}});rt({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return et(()=>import("./scheme-Dhb-2j9p.js"),[])}});rt({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return et(()=>import("./clojure-D9WOWImG.js"),[])}});rt({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return et(()=>import("./shell-CmmbcNmB.js"),[])}});rt({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return et(()=>import("./perl-DlYyT36c.js"),[])}});rt({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return et(()=>import("./azcli-1IWB1ccx.js"),[])}});rt({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return et(()=>import("./apex-BL_CmIl-.js"),[])}});rt({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return et(()=>import("./graphql-DV_i635h.js"),[])}});var I5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$4e=re("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},D("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),K4e=function(n){I5(e,n);function e(){return n.call(this,{id:"editor.action.jumpToBracket",label:D("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:3160,weight:100}})||this}return e.prototype.run=function(t,r){var i=x5.get(r);i&&i.jumpToBracket()},e}(Ue),Y4e=function(n){I5(e,n);function e(){return n.call(this,{id:"editor.action.selectToBracket",label:D("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0})||this}return e.prototype.run=function(t,r){var i=x5.get(r);i&&i.selectToBracket()},e}(Ue),X4e=function(){function n(e,t){this.position=e,this.brackets=t}return n}(),x5=function(n){I5(e,n);function e(t){var r=n.call(this)||this;return r._editor=t,r._lastBracketsData=[],r._lastVersionId=0,r._decorations=[],r._updateBracketsSoon=r._register(new Pr(function(){return r._updateBrackets()},50)),r._matchBrackets=r._editor.getConfiguration().contribInfo.matchBrackets,r._updateBracketsSoon.schedule(),r._register(t.onDidChangeCursorPosition(function(i){r._matchBrackets&&r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeModelContent(function(i){r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeModel(function(i){r._lastBracketsData=[],r._decorations=[],r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeModelLanguageConfiguration(function(i){r._lastBracketsData=[],r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeConfiguration(function(i){r._matchBrackets=r._editor.getConfiguration().contribInfo.matchBrackets,!r._matchBrackets&&r._decorations.length>0&&(r._decorations=r._editor.deltaDecorations(r._decorations,[])),r._updateBracketsSoon.schedule()})),r}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var t=this._editor.getModel(),r=this._editor.getSelections().map(function(i){var o=i.getStartPosition(),s=t.matchBracket(o),a=null;if(s)s[0].containsPosition(o)?a=s[1].getStartPosition():s[1].containsPosition(o)&&(a=s[0].getStartPosition());else{var u=t.findNextBracket(o);u&&u.range&&(a=u.range.getStartPosition())}return a?new Re(a.lineNumber,a.column,a.lineNumber,a.column):new Re(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(r),this._editor.revealRange(r[0])}},e.prototype.selectToBracket=function(){if(this._editor.hasModel()){var t=this._editor.getModel(),r=[];this._editor.getSelections().forEach(function(i){var o=i.getStartPosition(),s=t.matchBracket(o),a=null,u=null;if(!s){var l=t.findNextBracket(o);l&&l.range&&(s=t.matchBracket(l.range.getStartPosition()))}s&&(s[0].startLineNumber===s[1].startLineNumber?(a=s[1].startColumn<s[0].startColumn?s[1].getStartPosition():s[0].getStartPosition(),u=s[1].startColumn<s[0].startColumn?s[0].getEndPosition():s[1].getEndPosition()):(a=s[1].startLineNumber<s[0].startLineNumber?s[1].getStartPosition():s[0].getStartPosition(),u=s[1].startLineNumber<s[0].startLineNumber?s[0].getEndPosition():s[1].getEndPosition())),a&&u&&r.push(new Re(a.lineNumber,a.column,u.lineNumber,u.column))}),r.length>0&&(this._editor.setSelections(r),this._editor.revealRange(r[0]))}},e.prototype._updateBrackets=function(){if(this._matchBrackets){this._recomputeBrackets();for(var t=[],r=0,i=0,o=this._lastBracketsData.length;i<o;i++){var s=this._lastBracketsData[i].brackets;s&&(t[r++]={range:s[0],options:e._DECORATION_OPTIONS},t[r++]={range:s[1],options:e._DECORATION_OPTIONS})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}},e.prototype._recomputeBrackets=function(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}var t=this._editor.getModel(),r=t.getVersionId(),i=[];this._lastVersionId===r&&(i=this._lastBracketsData);for(var o=this._editor.getSelections(),s=[],a=0,u=0,l=o.length;u<l;u++){var c=o[u];c.isEmpty()&&(s[a++]=c.getStartPosition())}s.length>1&&s.sort(J.compare);for(var d=[],h=0,p=0,v=i.length,u=0,l=s.length;u<l;u++){for(var m=s[u];p<v&&i[p].position.isBefore(m);)p++;if(p<v&&i[p].position.equals(m))d[h++]=i[p];else{var _=t.matchBracket(m);d[h++]=new X4e(m,_)}}this._lastBracketsData=d,this._lastVersionId=r},e.ID="editor.contrib.bracketMatchingController",e._DECORATION_OPTIONS=mt.register({stickiness:1,className:"bracket-match",overviewRuler:{color:Xs($4e),position:ia.Center}}),e}(fe);Cn(x5);pe(Y4e);pe(K4e);mn(function(n,e){var t=n.getColor(uOe);t&&e.addRule(".monaco-editor .bracket-match { background-color: "+t+"; }");var r=n.getColor(Ete);r&&e.addRule(".monaco-editor .bracket-match { border: 1px solid "+r+"; }")});Tu.appendMenuItem(16,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:D({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});var Q4e=function(){function n(e,t){this._selection=e,this._isMovingLeft=t,this._cutStartIndex=-1,this._cutEndIndex=-1,this._moved=!1,this._selectionId=null}return n.prototype.getEditOperations=function(e,t){var r=this._selection;if(this._selectionId=t.trackSelection(r),r.startLineNumber===r.endLineNumber&&!(this._isMovingLeft&&r.startColumn===0)&&!(!this._isMovingLeft&&r.endColumn===e.getLineMaxColumn(r.startLineNumber))){var i=r.selectionStartLineNumber,o=e.getLineContent(i),s,a,u;this._isMovingLeft?(s=o.substring(0,r.startColumn-2),a=o.substring(r.startColumn-1,r.endColumn-1),u=o.substring(r.startColumn-2,r.startColumn-1)+o.substring(r.endColumn-1)):(s=o.substring(0,r.startColumn-1)+o.substring(r.endColumn-1,r.endColumn),a=o.substring(r.startColumn-1,r.endColumn-1),u=o.substring(r.endColumn));var l=s+a+u;t.addEditOperation(new H(i,1,i,e.getLineMaxColumn(i)),null),t.addEditOperation(new H(i,1,i,1),l),this._cutStartIndex=r.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+r.endColumn-r.startColumn,this._moved=!0}},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);return this._moved&&(r=r.setStartPosition(r.startLineNumber,this._cutStartIndex),r=r.setEndPosition(r.startLineNumber,this._cutEndIndex)),r},n}(),L5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rre=function(n){L5(e,n);function e(t,r){var i=n.call(this,r)||this;return i.left=t,i}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=[],o=r.getSelections(),s=0,a=o;s<a.length;s++){var u=a[s];i.push(new Q4e(u,this.left))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()}},e}(Ue),Z4e=function(n){L5(e,n);function e(){return n.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:D("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:W.writable})||this}return e}(rre),J4e=function(n){L5(e,n);function e(){return n.call(this,!1,{id:"editor.action.moveCarretRightAction",label:D("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:W.writable})||this}return e}(rre);pe(Z4e);pe(J4e);var e6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t6e=function(n){e6e(e,n);function e(){return n.call(this,{id:"editor.action.transposeLetters",label:D("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}return e.prototype.positionLeftOf=function(t,r){var i=t.column,o=t.lineNumber;return i>r.getLineMinColumn(o)?e6(r.getLineContent(o).charCodeAt(i-2))?i=i-2:i=i-1:o>1&&(o=o-1,i=r.getLineMaxColumn(o)),new J(o,i)},e.prototype.positionRightOf=function(t,r){var i=t.column,o=t.lineNumber;return i<r.getLineMaxColumn(o)?zo(r.getLineContent(o).charCodeAt(i-1))?i=i+2:i=i+1:o<r.getLineCount()&&(o=o+1,i=0),new J(o,i)},e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getModel(),o=[],s=r.getSelections(),a=0,u=s;a<u.length;a++){var l=u[a];if(l.isEmpty()){var c=l.startLineNumber,d=l.startColumn,h=i.getLineMaxColumn(c);if(!(c===1&&(d===1||d===2&&h===2))){var p=d===h?l.getPosition():this.positionRightOf(l.getPosition(),i),v=this.positionLeftOf(p,i),m=this.positionLeftOf(v,i),_=i.getValueInRange(H.fromPositions(m,v)),b=i.getValueInRange(H.fromPositions(v,p)),C=H.fromPositions(m,p);o.push(new Lr(C,b+_))}}}o.length>0&&(r.pushUndoStop(),r.executeCommands(this.id,o),r.pushUndoStop())}},e}(Ue);pe(t6e);var yC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N5="9_cutcopypaste",n6e=wu||document.queryCommandSupported("cut"),ire=wu||document.queryCommandSupported("copy"),r6e=ire&&!ul,i6e=wu||!Mb&&document.queryCommandSupported("paste"),D2=function(n){yC(e,n);function e(t,r){var i=n.call(this,r)||this;return i.browserCommand=t,i}return e.prototype.runCommand=function(t,r){var i=t.get(Dn).getFocusedCodeEditor();if(i&&i.hasTextFocus()){i.trigger("keyboard",this.id,r);return}document.execCommand(this.browserCommand)},e.prototype.run=function(t,r){r.focus(),document.execCommand(this.browserCommand)},e}(Ue),o6e=function(n){yC(e,n);function e(){var t=this,r={kbExpr:W.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return wu||(r=void 0),t=n.call(this,"cut",{id:"editor.action.clipboardCutAction",label:D("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:W.writable,kbOpts:r,menuOpts:{group:N5,order:1},menubarOpts:{menuId:14,group:"2_ccp",title:D({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this,t}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getConfiguration().emptySelectionClipboard;!i&&r.getSelection().isEmpty()||n.prototype.run.call(this,t,r)}},e}(D2),s6e=function(n){yC(e,n);function e(){var t=this,r={kbExpr:W.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return wu||(r=void 0),t=n.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:D("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:void 0,kbOpts:r,menuOpts:{group:N5,order:2},menubarOpts:{menuId:14,group:"2_ccp",title:D({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this,t}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getConfiguration().emptySelectionClipboard;!i&&r.getSelection().isEmpty()||n.prototype.run.call(this,t,r)}},e}(D2),a6e=function(n){yC(e,n);function e(){var t=this,r={kbExpr:W.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return wu||(r=void 0),t=n.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:D("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:W.writable,kbOpts:r,menuOpts:{group:N5,order:3},menubarOpts:{menuId:14,group:"2_ccp",title:D({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this,t}return e}(D2),u6e=function(n){yC(e,n);function e(){return n.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:D("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,weight:100}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getConfiguration().emptySelectionClipboard;!i&&r.getSelection().isEmpty()||(MT.forceCopyWithSyntaxHighlighting=!0,n.prototype.run.call(this,t,r),MT.forceCopyWithSyntaxHighlighting=!1)}},e}(D2);n6e&&pe(o6e);ire&&pe(s6e);i6e&&pe(a6e);r6e&&pe(u6e);var l6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),c6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},f6e=function(n,e){return function(t,r){e(t,r,n)}},Cc=function(n){l6e(e,n);function e(t,r){var i=n.call(this)||this;return i.closeTimeout=3e3,i._messageWidget=i._register(new Ih),i._messageListeners=i._register(new Be),i._editor=t,i._visible=e.MESSAGE_VISIBLE.bindTo(r),i._register(i._editor.onDidAttemptReadOnlyEdit(function(){return i._onDidAttemptReadOnlyEdit()})),i}return e.get=function(t){return t.getContribution(e._id)},e.prototype.getId=function(){return e._id},e.prototype.dispose=function(){n.prototype.dispose.call(this),this._visible.reset()},e.prototype.showMessage=function(t,r){var i=this;ji(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Fz(this._editor,r,t),this._messageListeners.add(this._editor.onDidBlurEditorText(function(){return i.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(function(){return i.closeMessage()})),this._messageListeners.add(this._editor.onDidDispose(function(){return i.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeModel(function(){return i.closeMessage()})),this._messageListeners.add(new Ns(function(){return i.closeMessage()},this.closeTimeout));var o;this._messageListeners.add(this._editor.onMouseMove(function(s){s.target.position&&(o?o.containsPosition(s.target.position)||i.closeMessage():o=new H(r.lineNumber-3,1,s.target.position.lineNumber+3,1))}))},e.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Fz.fadeOut(this._messageWidget.value))},e.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(D("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},e._id="editor.contrib.messageController",e.MESSAGE_VISIBLE=new Ke("messageVisible",!1),e=c6e([f6e(1,yt)],e),e}(fe),h6e=Do.bindToContribution(Cc.get);ce(new h6e({id:"leaveEditorMessage",precondition:Cc.MESSAGE_VISIBLE,handler:function(n){return n.closeMessage()},kbOpts:{weight:130,primary:9}}));var Fz=function(){function n(e,t,r){var i=t.lineNumber,o=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(i,i,0),this._position={lineNumber:i,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var s=document.createElement("div");s.classList.add("message"),s.textContent=r,this._domNode.appendChild(s);var a=document.createElement("div");a.classList.add("anchor"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return n.fadeOut=function(e){var t,r=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",r)};return t=setTimeout(r,110),e.getDomNode().addEventListener("animationend",r),e.getDomNode().classList.add("fadeOut"),{dispose:r}},n.prototype.dispose=function(){this._editor.removeContentWidget(this)},n.prototype.getId=function(){return"messageoverlay"},n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return{position:this._position,preference:[1]}},n}();Cn(Cc);mn(function(n,e){var t=n.getColor(B6);if(t){var r=n.type===Lm?2:1;e.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+t+"; }"),e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+r+"px solid "+t+"; }")}var i=n.getColor(M6);i&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+i+"; }");var o=n.getColor(F6);o&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+o+"; }")});var d6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),p6e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},g6e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},v6e=function(n){d6e(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._contextMenuService=r,o._delegate=i,o._showingActions=o._register(new Ih),o._visible=!1,o}return e.prototype.show=function(t,r){return p6e(this,void 0,void 0,function(){var i,o=this;return g6e(this,function(s){return t.actions.length?this._editor.getDomNode()?(this._visible=!0,i=t.actions.map(function(a){return o.codeActionToAction(a)}),this._showingActions.value=t,this._contextMenuService.showContextMenu({getAnchor:function(){return J.isIPosition(r)&&(r=o._toCoords(r)),r||{x:0,y:0}},getActions:function(){return i},onHide:function(){o._visible=!1,o._editor.focus()},autoSelectFirstItem:!0}),[2]):(this._visible=!1,[2,Promise.reject(tC())]):(this._visible=!1,[2])})})},e.prototype.codeActionToAction=function(t){var r=this,i=t.command?t.command.id:t.title,o=t.title;return new oa(i,o,void 0,!0,function(){return r._delegate.onSelectCodeAction(t)})},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),e.prototype._toCoords=function(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();var r=this._editor.getScrolledVisiblePosition(t),i=di(this._editor.getDomNode()),o=i.left+r.left,s=i.top+r.top+r.height;return{x:o,y:s}},e}(fe),m6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},y6e=function(n,e){return function(t,r){e(t,r,n)}},Jy;(function(n){n.Hidden=new(function(){function t(){this.type=0}return t}());var e=function(){function t(r,i,o){this.actions=r,this.editorPosition=i,this.widgetPosition=o,this.type=1}return t}();n.Showing=e})(Jy||(Jy={}));var b6e=function(n){m6e(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._quickFixActionId=r,o._keybindingService=i,o._onClick=o._register(new Q),o.onClick=o._onClick.event,o._state=Jy.Hidden,o._domNode=document.createElement("div"),o._domNode.className="lightbulb-glyph",o._editor.addContentWidget(o),o._register(o._editor.onDidChangeModelContent(function(s){var a=o._editor.getModel();(o._state.type!==1||!a||o._state.editorPosition.lineNumber>=a.getLineCount())&&o.hide()})),o._register(hi(o._domNode,"mousedown",function(s){if(o._state.type===1){o._editor.focus(),s.preventDefault();var a=di(o._domNode),u=a.top,l=a.height,c=o._editor.getConfiguration().lineHeight,d=Math.floor(c/3);o._state.widgetPosition.position!==null&&o._state.widgetPosition.position.lineNumber<o._state.editorPosition.lineNumber&&(d+=c),o._onClick.fire({x:s.posx,y:u+l+d,actions:o._state.actions})}})),o._register(_e(o._domNode,"mouseenter",function(s){if((s.buttons&1)===1){o.hide();var a=new ng;a.startMonitoring(A_,function(){},function(){a.dispose()})}})),o._register(o._editor.onDidChangeConfiguration(function(s){s.contribInfo&&!o._editor.getConfiguration().contribInfo.lightbulbEnabled&&o.hide()})),o._updateLightBulbTitle(),o._register(o._keybindingService.onDidUpdateKeybindings(o._updateLightBulbTitle,o)),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"LightBulbWidget"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._state.type===1?this._state.widgetPosition:null},e.prototype.update=function(t,r){var i=this;if(t.actions.length<=0)return this.hide();var o=this._editor.getConfiguration();if(!o.contribInfo.lightbulbEnabled)return this.hide();var s=r.lineNumber,a=r.column,u=this._editor.getModel();if(!u)return this.hide();var l=u.getOptions().tabSize,c=u.getLineContent(s),d=I_.computeIndentLevel(c,l),h=o.fontInfo.spaceWidth*d>22,p=function(m){return m>2&&i._editor.getTopForLineNumber(m)===i._editor.getTopForLineNumber(m-1)},v=s;if(!h){if(s>1&&!p(s-1))v-=1;else if(!p(s+1))v+=1;else if(a*o.fontInfo.spaceWidth<22)return this.hide()}this._state=new Jy.Showing(t,r,{position:{lineNumber:v,column:1},preference:e._posPref}),kt(this._domNode,"autofixable",t.hasAutoFix),this._editor.layoutContentWidget(this)},Object.defineProperty(e.prototype,"title",{set:function(t){this._domNode.title=t},enumerable:!0,configurable:!0}),e.prototype.hide=function(){this._state=Jy.Hidden,this._editor.layoutContentWidget(this)},e.prototype._updateLightBulbTitle=function(){var t=this._keybindingService.lookupKeybinding(this._quickFixActionId),r;t?r=D("quickFixWithKb","Show Fixes ({0})",t.getLabel()):r=D("quickFix","Show Fixes"),this.title=r},e._posPref=[0],e=_6e([y6e(2,wr)],e),e}(fe),C6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Bz=function(n,e){return function(t,r){e(t,r,n)}},_k=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},yk=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},E6e=function(n){C6e(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a._editor=t,a.delegate=i,a._activeCodeActions=a._register(new Ih),a._codeActionWidget=a._register(new v6e(a._editor,o,{onSelectCodeAction:function(u){return _k(a,void 0,void 0,function(){return yk(this,function(l){return this.delegate.applyCodeAction(u,!0),[2]})})}})),a._lightBulbWidget=a._register(new b6e(a._editor,r,s)),a._register(a._lightBulbWidget.onClick(a._handleLightBulbSelect,a)),a}return e.prototype.update=function(t){return _k(this,void 0,void 0,function(){var r,i;return yk(this,function(o){switch(o.label){case 0:if(t.type!==1)return this._lightBulbWidget.hide(),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.actions];case 2:return r=o.sent(),[3,4];case 3:return i=o.sent(),He(i),[2];case 4:if(this._lightBulbWidget.update(r,t.position),!r.actions.length&&t.trigger.context)return Cc.get(this._editor).showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=r,[2];if(t.trigger.type!=="manual")return[3,10];if(!(t.trigger.filter&&t.trigger.filter.kind))return[3,9];if(!(r.actions.length>0))return[3,9];if(!(t.trigger.autoApply===1||t.trigger.autoApply===0&&r.actions.length===1))return[3,9];o.label=5;case 5:return o.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(r.actions[0],!1)];case 6:return o.sent(),[3,8];case 7:return r.dispose(),[7];case 8:return[2];case 9:return this._activeCodeActions.value=r,this._codeActionWidget.show(r,t.position),[3,11];case 10:this._codeActionWidget.isVisible?r.dispose():this._activeCodeActions.value=r,o.label=11;case 11:return[2]}})})},e.prototype.showCodeActionList=function(t,r){return _k(this,void 0,void 0,function(){return yk(this,function(i){return this._codeActionWidget.show(t,r),[2]})})},e.prototype._handleLightBulbSelect=function(t){this._codeActionWidget.show(t.actions,t)},e=w6e([Bz(3,og),Bz(4,wr)],e),e}(fe),lr=function(){function n(e){this.value=e}return n.prototype.equals=function(e){return this.value===e.value},n.prototype.contains=function(e){return this.equals(e)||Vb(e.value,this.value+n.sep)},n.prototype.intersects=function(e){return this.contains(e)||e.contains(this)},n.sep=".",n.Empty=new n(""),n.QuickFix=new n("quickfix"),n.Refactor=new n("refactor"),n.Source=new n("source"),n.SourceOrganizeImports=new n("source.organizeImports"),n.SourceFixAll=new n("source.fixAll"),n}();function S6e(n,e){return!(n.kind&&!n.kind.intersects(e)||lr.Source.contains(e)&&!n.includeSourceActions)}function T6e(n,e){var t=e.kind?new lr(e.kind):void 0;return!(n.kind&&(!t||!n.kind.contains(t))||!n.includeSourceActions&&t&&lr.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}var D6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A6e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},I6e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},x6e=function(n){D6e(e,n);function e(t,r){var i=n.call(this)||this;return i._register(r),i.actions=jA(t.slice(),e.codeActionsComparator),i}return e.codeActionsComparator=function(t,r){return ts(t.diagnostics)?ts(r.diagnostics)?t.diagnostics[0].message.localeCompare(r.diagnostics[0].message):-1:ts(r.diagnostics)?1:0},Object.defineProperty(e.prototype,"hasAutoFix",{get:function(){return this.actions.some(function(t){return!!t.kind&&lr.QuickFix.contains(new lr(t.kind))&&!!t.isPreferred})},enumerable:!0,configurable:!0}),e}(fe);function O5(n,e,t,r){var i=t.filter||{},o={only:i.kind?i.kind.value:void 0,trigger:t.type==="manual"?2:1},s=new n5(n,r),a=L6e(n,i),u=new Be,l=a.map(function(d){return Promise.resolve(d.provideCodeActions(n,e,o,s.token)).then(function(h){return s.token.isCancellationRequested||!h?[]:(u.add(h),h.actions.filter(function(p){return p&&T6e(i,p)}))},function(h){if(eC(h))throw h;return Eo(h),[]})}),c=yc.onDidChange(function(){var d=yc.all(n);Ah(d,a)||s.cancel()});return Promise.all(l).then(Pb).then(function(d){return new x6e(d,u)}).finally(function(){c.dispose(),s.dispose()})}function L6e(n,e){return yc.all(n).filter(function(t){return t.providedCodeActionKinds?t.providedCodeActionKinds.some(function(r){return S6e(e,new lr(r))}):!0})}jc("_executeCodeActionProvider",function(n,e){return A6e(this,void 0,void 0,function(){var t,r,i,o,s,a;return I6e(this,function(u){switch(u.label){case 0:if(t=e.resource,r=e.rangeOrSelection,i=e.kind,!(t instanceof Ft)||(o=n.get(is).getModel(t),!o)||(s=Re.isISelection(r)?Re.liftSelection(r):H.isIRange(r)?o.validateRange(r):void 0,!s))throw Rr();return[4,O5(o,s,{type:"manual",filter:{includeSourceActions:!0,kind:i&&i.value?new lr(i.value):void 0}},nn.None)];case 1:return a=u.sent(),setTimeout(function(){return a.dispose()},100),[2,a.actions]}})})});var ore=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sre=new Ke("supportedCodeAction",""),N6e=function(n){ore(e,n);function e(t,r,i,o){o===void 0&&(o=250);var s=n.call(this)||this;return s._editor=t,s._markerService=r,s._signalChange=i,s._delay=o,s._autoTriggerTimer=s._register(new Ns),s._register(s._markerService.onMarkerChanged(function(a){return s._onMarkerChanges(a)})),s._register(s._editor.onDidChangeCursorPosition(function(){return s._onCursorChange()})),s}return e.prototype.trigger=function(t){var r=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);return this._createEventAndSignalChange(t,r)},e.prototype._onMarkerChanges=function(t){var r=this,i=this._editor.getModel();i&&t.some(function(o){return o.toString()===i.uri.toString()})&&this._autoTriggerTimer.cancelAndSet(function(){r.trigger({type:"auto"})},this._delay)},e.prototype._onCursorChange=function(){var t=this;this._autoTriggerTimer.cancelAndSet(function(){t.trigger({type:"auto"})},this._delay)},e.prototype._getRangeOfMarker=function(t){var r=this._editor.getModel();if(r)for(var i=0,o=this._markerService.read({resource:r.uri});i<o.length;i++){var s=o[i];if(H.intersectRanges(s,t))return H.lift(s)}},e.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(t){if(this._editor.hasModel()){var r=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&t.type==="auto"){var o=i.getPosition(),s=o.lineNumber,a=o.column,u=r.getLineContent(s);if(u.length===0)return;if(a===1){if(/\s/.test(u[0]))return}else if(a===r.getLineMaxColumn(s)){if(/\s/.test(u[u.length-1]))return}else if(/\s/.test(u[a-2])&&/\s/.test(u[a-1]))return}return i}},e.prototype._createEventAndSignalChange=function(t,r){var i=this._editor.getModel();if(!r||!i){this._signalChange(void 0);return}var o=this._getRangeOfMarker(r),s=o?o.getStartPosition():r.getStartPosition(),a={trigger:t,selection:r,position:s};return this._signalChange(a),a},e}(fe),zd;(function(n){n.Empty=new(function(){function t(){this.type=0}return t}());var e=function(){function t(r,i,o,s){this.trigger=r,this.rangeOrSelection=i,this.position=o,this.actions=s,this.type=1}return t}();n.Triggered=e})(zd||(zd={}));var O6e=function(n){ore(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._editor=t,s._markerService=r,s._progressService=o,s._codeActionOracle=s._register(new Ih),s._state=zd.Empty,s._onDidChangeState=s._register(new Q),s.onDidChangeState=s._onDidChangeState.event,s._supportedCodeActions=sre.bindTo(i),s._register(s._editor.onDidChangeModel(function(){return s._update()})),s._register(s._editor.onDidChangeModelLanguage(function(){return s._update()})),s._register(yc.onDidChange(function(){return s._update()})),s._update(),s}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this.setState(zd.Empty,!0)},e.prototype._update=function(){var t=this;this._codeActionOracle.value=void 0,this.setState(zd.Empty);var r=this._editor.getModel();if(r&&yc.has(r)&&!this._editor.getConfiguration().readOnly){for(var i=[],o=0,s=yc.all(r);o<s.length;o++){var a=s[o];Array.isArray(a.providedCodeActionKinds)&&i.push.apply(i,a.providedCodeActionKinds)}this._supportedCodeActions.set(i.join(" ")),this._codeActionOracle.value=new N6e(this._editor,this._markerService,function(u){if(!u){t.setState(zd.Empty);return}var l=Gr(function(c){return O5(r,u.selection,u.trigger,c)});t._progressService&&u.trigger.type==="manual"&&t._progressService.showWhile(l,250),t.setState(new zd.Triggered(u.trigger,u.selection,u.position,l))},void 0),this._codeActionOracle.value.trigger({type:"auto"})}else this._supportedCodeActions.reset()},e.prototype.trigger=function(t){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(t)},e.prototype.setState=function(t,r){t!==this._state&&(this._state.type===1&&this._state.actions.cancel(),this._state=t,r||this._onDidChangeState.fire(t))},e}(fe),Rh=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Sd=function(n,e){return function(t,r){e(t,r,n)}},are=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},ure=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function bC(n){return Le.regex(sre.keys()[0],new RegExp("(\\s|^)"+Sl(n.value)+"\\b"))}var k5=function(n){Rh(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this)||this;return c._commandService=u,c._bulkEditService=l,c._editor=t,c._model=c._register(new O6e(c._editor,r,i,o)),c._register(c._model.onDidChangeState(function(d){return c.update(d)})),c._ui=c._register(new E6e(t,R5.Id,{applyCodeAction:function(d,h){return are(c,void 0,void 0,function(){return ure(this,function(p){switch(p.label){case 0:return p.trys.push([0,,2,3]),[4,this._applyCodeAction(d)];case 1:return p.sent(),[3,3];case 2:return h&&this._trigger({type:"auto",filter:{}}),[7];case 3:return[2]}})})}},s,a)),c}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.update=function(t){this._ui.update(t)},e.prototype.showCodeActions=function(t,r){return this._ui.showCodeActionList(t,r)},e.prototype.getId=function(){return e.ID},e.prototype.manualTriggerAtCurrentPosition=function(t,r,i){if(this._editor.hasModel()){Cc.get(this._editor).closeMessage();var o=this._editor.getPosition();this._trigger({type:"manual",filter:r,autoApply:i,context:{notAvailableMessage:t,position:o}})}},e.prototype._trigger=function(t){return this._model.trigger(t)},e.prototype._applyCodeAction=function(t){return R6e(t,this._bulkEditService,this._commandService,this._editor)},e.ID="editor.contrib.quickFixController",e=k6e([Sd(1,_C),Sd(2,yt),Sd(3,S2),Sd(4,og),Sd(5,wr),Sd(6,Qi),Sd(7,a5)],e),e}(fe);function R6e(n,e,t,r){return are(this,void 0,void 0,function(){return ure(this,function(i){switch(i.label){case 0:return n.edit?[4,e.apply(n.edit,{editor:r})]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.command?[4,t.executeCommand.apply(t,[n.command.id].concat(n.command.arguments||[]))]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}})})}function ag(n,e,t,r){if(n.hasModel()){var i=k5.get(n);i&&i.manualTriggerAtCurrentPosition(e,t,r)}}var R5=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,label:D("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Le.and(W.writable,W.hasCodeActionsProvider),kbOpts:{kbExpr:W.editorTextFocus,primary:2132,weight:100}})||this}return e.prototype.run=function(t,r){return ag(r,D("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)},e.Id="editor.action.quickFix",e}(Ue),P5=function(){function n(e,t,r){this.kind=e,this.apply=t,this.preferred=r}return n.fromUser=function(e,t){return!e||typeof e!="object"?new n(t.kind,t.apply,!1):new n(n.getKindFromUser(e,t.kind),n.getApplyFromUser(e,t.apply),n.getPreferredUser(e))},n.getApplyFromUser=function(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return 1;case"never":return 2;case"ifsingle":return 0;default:return t}},n.getKindFromUser=function(e,t){return typeof e.kind=="string"?new lr(e.kind):t},n.getPreferredUser=function(e){return typeof e.preferred=="boolean"?e.preferred:!1},n}(),P6e=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,precondition:Le.and(W.writable,W.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:{type:"object",required:["kind"],properties:{kind:{type:"string"},apply:{type:"string",default:"ifSingle",enum:["first","ifSingle","never"]}}}}]}})||this}return e.prototype.runEditorCommand=function(t,r,i){var o=P5.fromUser(i,{kind:lr.Empty,apply:0});return ag(r,D("editor.action.quickFix.noneMessage","No code actions available"),{kind:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)},e.Id="editor.action.codeAction",e}(Do),M6e=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,label:D("refactor.label","Refactor..."),alias:"Refactor...",precondition:Le.and(W.writable,W.hasCodeActionsProvider),kbOpts:{kbExpr:W.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},menuOpts:{group:"1_modification",order:2,when:Le.and(W.writable,bC(lr.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:{type:"object",properties:{kind:{type:"string"},apply:{type:"string",default:"never",enum:["first","ifSingle","never"]}}}}]}})||this}return e.prototype.run=function(t,r,i){var o=P5.fromUser(i,{kind:lr.Refactor,apply:2});return ag(r,D("editor.action.refactor.noneMessage","No refactorings available"),{kind:lr.Refactor.contains(o.kind)?o.kind:lr.Empty,onlyIncludePreferredActions:o.preferred},o.apply)},e.Id="editor.action.refactor",e}(Ue),F6e=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,label:D("source.label","Source Action..."),alias:"Source Action...",precondition:Le.and(W.writable,W.hasCodeActionsProvider),menuOpts:{group:"1_modification",order:2.1,when:Le.and(W.writable,bC(lr.Source))},description:{description:"Source Action...",args:[{name:"args",schema:{type:"object",properties:{kind:{type:"string"},apply:{type:"string",default:"never",enum:["first","ifSingle","never"]}}}}]}})||this}return e.prototype.run=function(t,r,i){var o=P5.fromUser(i,{kind:lr.Source,apply:2});return ag(r,D("editor.action.source.noneMessage","No source actions available"),{kind:lr.Source.contains(o.kind)?o.kind:lr.Empty,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)},e.Id="editor.action.sourceAction",e}(Ue),B6e=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,label:D("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Le.and(W.writable,bC(lr.SourceOrganizeImports)),kbOpts:{kbExpr:W.editorTextFocus,primary:1581,weight:100}})||this}return e.prototype.run=function(t,r){return ag(r,D("editor.action.organize.noneMessage","No organize imports action available"),{kind:lr.SourceOrganizeImports,includeSourceActions:!0},0)},e.Id="editor.action.organizeImports",e}(Ue),H6e=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,label:D("fixAll.label","Fix All"),alias:"Fix All",precondition:Le.and(W.writable,bC(lr.SourceFixAll))})||this}return e.prototype.run=function(t,r){return ag(r,D("fixAll.noneMessage","No fix all action available"),{kind:lr.SourceFixAll,includeSourceActions:!0},0)},e.Id="editor.action.fixAll",e}(Ue),V6e=function(n){Rh(e,n);function e(){return n.call(this,{id:e.Id,label:D("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Le.and(W.writable,bC(lr.QuickFix)),kbOpts:{kbExpr:W.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})||this}return e.prototype.run=function(t,r){return ag(r,D("editor.action.autoFix.noneMessage","No auto fixes available"),{kind:lr.QuickFix,onlyIncludePreferredActions:!0},0)},e.Id="editor.action.autoFix",e}(Ue);Cn(k5);pe(R5);pe(M6e);pe(F6e);pe(B6e);pe(V6e);pe(H6e);ce(new P6e);var a3=function(){function n(){this.lenses=[],this._dispoables=new Be}return n.prototype.dispose=function(){this._dispoables.dispose()},n.prototype.add=function(e,t){this._dispoables.add(e);for(var r=0,i=e.lenses;r<i.length;r++){var o=i[r];this.lenses.push({symbol:o,provider:t})}},n}();function lre(n,e){var t=pp.ordered(n),r=new Map,i=new a3,o=t.map(function(s,a){return r.set(s,a),Promise.resolve(s.provideCodeLenses(n,e)).then(function(u){return u&&i.add(u,s)}).catch(Eo)});return Promise.all(o).then(function(){return i.lenses=jA(i.lenses,function(s,a){return s.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:r.get(s.provider)<r.get(a.provider)?-1:r.get(s.provider)>r.get(a.provider)?1:s.symbol.range.startColumn<a.symbol.range.startColumn?-1:s.symbol.range.startColumn>a.symbol.range.startColumn?1:0}),i})}jc("_executeCodeLensProvider",function(n,e){var t=e.resource,r=e.itemResolveCount;if(!(t instanceof Ft))throw Rr();var i=n.get(is).getModel(t);if(!i)throw Rr();var o=[],s=new Be;return lre(i,nn.None).then(function(a){s.add(a);for(var u=[],l=function(p){typeof r>"u"||p.symbol.command?o.push(p.symbol):r-- >0&&p.provider.resolveCodeLens&&u.push(Promise.resolve(p.provider.resolveCodeLens(i,p.symbol,nn.None)).then(function(v){return o.push(v||p.symbol)}))},c=0,d=a.lenses;c<d.length;c++){var h=d[c];l(h)}return Promise.all(u)}).then(function(){return o}).finally(function(){setTimeout(function(){return s.dispose()},100)})});var W6e=function(){function n(e,t){this.afterLineNumber=e,this._onHeight=t,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return n.prototype.onComputedHeight=function(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())},n}(),U6e=function(){function n(e,t,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._id="codeLensWidget"+ ++n._idPool,this._editor=e,this.setSymbolRange(t),this._domNode=document.createElement("span"),this._domNode.innerHTML="&nbsp;",De(this._domNode,"codelens-decoration"),this.updateHeight(),this.withCommands(r.map(function(i){return i.symbol}),!1)}return n.prototype.updateHeight=function(){var e=this._editor.getConfiguration(),t=e.fontInfo,r=e.lineHeight;this._domNode.style.height=Math.round(r*1.1)+"px",this._domNode.style.lineHeight=r+"px",this._domNode.style.fontSize=Math.round(t.fontSize*.9)+"px",this._domNode.style.paddingRight=Math.round(t.fontSize*.45)+"px",this._domNode.innerHTML="&nbsp;"},n.prototype.withCommands=function(e,t){this._commands.clear();var r=Wc(e);if(B4(r)){this._domNode.innerHTML="<span>no commands</span>";return}for(var i=[],o=0;o<r.length;o++){var s=r[o].command;if(s){var a=ra(s.title),u=void 0;s.id?(u="<a id="+o+">"+a+"</a>",this._commands.set(String(o),s)):u="<span>"+a+"</span>",i.push(u)}}var l=this._domNode.innerHTML===""||this._domNode.innerHTML==="&nbsp;";this._domNode.innerHTML=i.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this),l&&t&&De(this._domNode,"fadein")},n.prototype.getCommand=function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0},n.prototype.getId=function(){return this._id},n.prototype.getDomNode=function(){return this._domNode},n.prototype.setSymbolRange=function(e){if(this._editor.hasModel()){var t=e.startLineNumber,r=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:r},preference:[1]}}},n.prototype.getPosition=function(){return this._widgetPosition||null},n.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},n._idPool=0,n}(),bk=function(){function n(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return n.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},n.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},n.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),r=0,i=t.length;r<i;r++)this._addDecorationsCallbacks[r](t[r])},n}(),Hz=function(){function n(e,t,r,i,o){var s=this;this._editor=t,this._data=e,this._decorationIds=new Array(this._data.length);var a;this._data.forEach(function(u,l){r.addDecoration({range:u.symbol.range,options:mt.EMPTY},function(c){return s._decorationIds[l]=c}),a?a=H.plusRange(a,u.symbol.range):a=H.lift(u.symbol.range)}),a&&(this._contentWidget=new U6e(t,a,this._data),this._viewZone=new W6e(a.startLineNumber-1,o),this._viewZoneId=i.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget))}return n.prototype.dispose=function(e,t){for(;this._decorationIds.length;)e.removeDecoration(this._decorationIds.pop());t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget)},n.prototype.isValid=function(){var e=this;if(!this._editor.hasModel())return!1;var t=this._editor.getModel();return this._decorationIds.some(function(r,i){var o=t.getDecorationRange(r),s=e._data[i].symbol;return!!(o&&H.isEmpty(s.range)===o.isEmpty())})},n.prototype.updateCodeLensSymbols=function(e,t){for(var r=this;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(i,o){t.addDecoration({range:i.symbol.range,options:mt.EMPTY},function(s){return r._decorationIds[o]=s})})},n.prototype.computeIfNecessary=function(e){if(!this._contentWidget.isVisible())return null;for(var t=0;t<this._decorationIds.length;t++){var r=e.getDecorationRange(this._decorationIds[t]);r&&(this._data[t].symbol.range=r)}return this._data},n.prototype.updateCommands=function(e){this._contentWidget.withCommands(e,!0);for(var t=0;t<this._data.length;t++){var r=e[t];if(r){var i=this._data[t].symbol;i.command=r.command||i.command}}},n.prototype.updateHeight=function(){this._contentWidget.updateHeight()},n.prototype.getCommand=function(e){return this._contentWidget.getCommand(e)},n.prototype.getLineNumber=function(){if(this._editor.hasModel()){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);if(e)return e.startLineNumber}return-1},n.prototype.update=function(e){if(this.isValid()&&this._editor.hasModel()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget))}},n}();mn(function(n,e){var t=n.getColor(aOe);t&&e.addRule(".monaco-editor .codelens-decoration { color: "+t+"; }");var r=n.getColor(q6);r&&e.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+r+" !important; }")});var j6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},q6e=function(n,e){return function(t,r){e(t,r,n)}},cre=qt("ICodeLensCache"),Vz=function(){function n(e,t){this.lineCount=e,this.data=t}return n}(),z6e=function(){function n(e){var t=this;this._fakeProvider=new(function(){function s(){}return s.prototype.provideCodeLenses=function(){throw new Error("not supported")},s}()),this._cache=new Sm(20,.75);var r="codelens/cache";CT(function(){return e.remove(r,1)});var i="codelens/cache2",o=e.get(i,1,"{}");this._deserialize(o),CJ(e.onWillSaveState)(function(s){s.reason===cD.SHUTDOWN&&e.store(i,t._serialize(),1)})}return n.prototype.put=function(e,t){var r=new a3;r.add({lenses:t.lenses.map(function(o){return o.symbol}),dispose:function(){}},this._fakeProvider);var i=new Vz(e.getLineCount(),r);this._cache.set(e.uri.toString(),i)},n.prototype.get=function(e){var t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0},n.prototype.delete=function(e){this._cache.delete(e.uri.toString())},n.prototype._serialize=function(){var e=Object.create(null);return this._cache.forEach(function(t,r){for(var i=new Set,o=0,s=t.data.lenses;o<s.length;o++){var a=s[o];i.add(a.symbol.range.startLineNumber)}e[r]={lineCount:t.lineCount,lines:u6(i)}}),JSON.stringify(e)},n.prototype._deserialize=function(e){try{var t=JSON.parse(e);for(var r in t){for(var i=t[r],o=[],s=0,a=i.lines;s<a.length;s++){var u=a[s];o.push({range:new H(u,1,u,11)})}var l=new a3;l.add({lenses:o,dispose:function(){}},this._fakeProvider),this._cache.set(r,new Vz(i.lineCount,l))}}catch{}},n=j6e([q6e(0,kh)],n),n}();dC(cre,z6e);var G6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ck=function(n,e){return function(t,r){e(t,r,n)}},$6e=function(){function n(e,t,r,i){var o=this;this._editor=e,this._commandService=t,this._notificationService=r,this._codeLensCache=i,this._globalToDispose=new Be,this._localToDispose=new Be,this._lenses=[],this._oldCodeLensModels=new Be,this._modelChangeCounter=0,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose.add(this._editor.onDidChangeModel(function(){return o._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeModelLanguage(function(){return o._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeConfiguration(function(){var s=o._isEnabled;o._isEnabled=o._editor.getConfiguration().contribInfo.codeLens,s!==o._isEnabled&&o._onModelChange()})),this._globalToDispose.add(pp.onDidChange(this._onModelChange,this)),this._onModelChange()}return n.prototype.dispose=function(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),nt(this._currentCodeLensModel)},n.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),nt(this._currentCodeLensModel)},n.prototype.getId=function(){return n.ID},n.prototype._onModelChange=function(){var e=this;this._localDispose();var t=this._editor.getModel();if(t&&this._isEnabled){var r=this._codeLensCache.get(t);if(r&&this._renderCodeLensSymbols(r),!pp.has(t)){r&&this._localToDispose.add(Em(function(){var c=e._codeLensCache.get(t);r===c&&(e._codeLensCache.delete(t),e._onModelChange())},30*1e3));return}for(var i=0,o=pp.all(t);i<o.length;i++){var s=o[i];if(typeof s.onDidChange=="function"){var a=s.onDidChange(function(){return l.schedule()});this._localToDispose.add(a)}}var u=this._detectVisibleLenses=new Pr(function(){return e._onViewportChanged()},250),l=new Pr(function(){var c=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=Gr(function(d){return lre(t,d)}),e._currentFindCodeLensSymbolsPromise.then(function(d){c===e._modelChangeCounter&&(e._currentCodeLensModel&&e._oldCodeLensModels.add(e._currentCodeLensModel),e._currentCodeLensModel=d,e._codeLensCache.put(t,d),e._renderCodeLensSymbols(d),u.schedule())},He)},250);this._localToDispose.add(l),this._localToDispose.add(u),this._localToDispose.add(this._editor.onDidChangeModelContent(function(){e._editor.changeDecorations(function(c){e._editor.changeViewZones(function(d){var h=[],p=-1;e._lenses.forEach(function(m){!m.isValid()||p===m.getLineNumber()?h.push(m):(m.update(d),p=m.getLineNumber())});var v=new bk;h.forEach(function(m){m.dispose(v,d),e._lenses.splice(e._lenses.indexOf(m),1)}),v.commit(c)})}),u.schedule(),l.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(function(c){c.scrollTopChanged&&e._lenses.length>0&&u.schedule()})),this._localToDispose.add(this._editor.onDidLayoutChange(function(){u.schedule()})),this._localToDispose.add(bn(function(){if(e._editor.getModel()){var c=VM.capture(e._editor);e._editor.changeDecorations(function(d){e._editor.changeViewZones(function(h){e._disposeAllLenses(d,h)})}),c.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onDidChangeConfiguration(function(c){if(c.fontInfo)for(var d=0,h=e._lenses;d<h.length;d++){var p=h[d];p.updateHeight()}})),this._localToDispose.add(this._editor.onMouseUp(function(c){var d;if(c.target.type===9&&c.target.element&&c.target.element.tagName==="A")for(var h=0,p=e._lenses;h<p.length;h++){var v=p[h],m=v.getCommand(c.target.element);if(m){(d=e._commandService).executeCommand.apply(d,[m.id].concat(m.arguments||[])).catch(function(_){return e._notificationService.error(_)});break}}})),l.schedule()}},n.prototype._disposeAllLenses=function(e,t){var r=new bk;this._lenses.forEach(function(i){return i.dispose(r,t)}),e&&r.commit(e),this._lenses=[]},n.prototype._renderCodeLensSymbols=function(e){var t=this;if(this._editor.hasModel()){for(var r=this._editor.getModel().getLineCount(),i=[],o,s=0,a=e.lenses;s<a.length;s++){var u=a[s],l=u.symbol.range.startLineNumber;l<1||l>r||(o&&o[o.length-1].symbol.range.startLineNumber===l?o.push(u):(o=[u],i.push(o)))}var c=VM.capture(this._editor);this._editor.changeDecorations(function(d){t._editor.changeViewZones(function(h){for(var p=new bk,v=0,m=0;m<i.length&&v<t._lenses.length;){var _=i[m][0].symbol.range.startLineNumber,b=t._lenses[v].getLineNumber();b<_?(t._lenses[v].dispose(p,h),t._lenses.splice(v,1)):b===_?(t._lenses[v].updateCodeLensSymbols(i[m],p),m++,v++):(t._lenses.splice(v,0,new Hz(i[m],t._editor,p,h,function(){return t._detectVisibleLenses&&t._detectVisibleLenses.schedule()})),v++,m++)}for(;v<t._lenses.length;)t._lenses[v].dispose(p,h),t._lenses.splice(v,1);for(;m<i.length;)t._lenses.push(new Hz(i[m],t._editor,p,h,function(){return t._detectVisibleLenses&&t._detectVisibleLenses.schedule()})),m++;p.commit(d)})}),c.restore(this._editor)}},n.prototype._onViewportChanged=function(){var e=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);var t=this._editor.getModel();if(t){var r=[],i=[];this._lenses.forEach(function(o){var s=o.computeIfNecessary(t);s&&(r.push(s),i.push(o))}),r.length!==0&&(this._currentResolveCodeLensSymbolsPromise=Gr(function(o){var s=r.map(function(a,u){var l=new Array(a.length),c=a.map(function(d,h){return!d.symbol.command&&typeof d.provider.resolveCodeLens=="function"?Promise.resolve(d.provider.resolveCodeLens(t,d.symbol,o)).then(function(p){l[h]=p},Eo):(l[h]=d.symbol,Promise.resolve(void 0))});return Promise.all(c).then(function(){o.isCancellationRequested||i[u].updateCommands(l)})});return Promise.all(s)}),this._currentResolveCodeLensSymbolsPromise.then(function(){e._oldCodeLensModels.clear(),e._currentResolveCodeLensSymbolsPromise=void 0},function(o){He(o),e._currentResolveCodeLensSymbolsPromise=void 0}))}},n.ID="css.editor.codeLens",n=G6e([Ck(1,Qi),Ck(2,gi),Ck(3,cre)],n),n}();Cn($6e);function M5(n,e){switch(e===void 0&&(e=0),typeof n){case"object":return n===null?hc(349,e):Array.isArray(n)?Y6e(n,e):X6e(n,e);case"string":return fre(n,e);case"boolean":return K6e(n,e);case"number":return hc(n,e);case"undefined":return hc(0,937);default:return hc(0,617)}}function hc(n,e){return(e<<5)-e+n|0}function K6e(n,e){return hc(n?433:863,e)}function fre(n,e){e=hc(149417,e);for(var t=0,r=n.length;t<r;t++)e=hc(n.charCodeAt(t),e);return e}function Y6e(n,e){return e=hc(104579,e),n.reduce(function(t,r){return M5(r,t)},e)}function X6e(n,e){return e=hc(181387,e),Object.keys(n).sort().reduce(function(t,r){return t=fre(r,t),M5(n[r],t)},e)}function Q6e(n,e){var t=[],r=Dm.ordered(n).reverse(),i=r.map(function(o){return Promise.resolve(o.provideDocumentColors(n,e)).then(function(s){if(Array.isArray(s))for(var a=0,u=s;a<u.length;a++){var l=u[a];t.push({colorInfo:l,provider:o})}})});return Promise.all(i).then(function(){return t})}function Wz(n,e,t,r){return Promise.resolve(t.provideColorPresentations(n,e,r))}jc("_executeDocumentColorProvider",function(n,e){var t=e.resource;if(!(t instanceof Ft))throw Rr();var r=n.get(is).getModel(t);if(!r)throw Rr();var i=[],o=Dm.ordered(r).reverse(),s=o.map(function(a){return Promise.resolve(a.provideDocumentColors(r,nn.None)).then(function(u){if(Array.isArray(u))for(var l=0,c=u;l<c.length;l++){var d=c[l];i.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]})}})});return Promise.all(s).then(function(){return i})});jc("_executeColorPresentationProvider",function(n,e){var t=e.resource,r=e.color,i=e.range;if(!(t instanceof Ft)||!Array.isArray(r)||r.length!==4||!H.isIRange(i))throw Rr();var o=r[0],s=r[1],a=r[2],u=r[3],l=n.get(is).getModel(t);if(!l)throw Rr();var c={range:i,color:{red:o,green:s,blue:a,alpha:u}},d=[],h=Dm.ordered(l).reverse(),p=h.map(function(v){return Promise.resolve(v.provideColorPresentations(l,c,nn.None)).then(function(m){Array.isArray(m)&&d.push.apply(d,m)})});return Promise.all(p).then(function(){return d})});var Z6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Uz=function(n,e){return function(t,r){e(t,r,n)}},e5e=500,hre=function(n){Z6e(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._codeEditorService=r,o._configurationService=i,o._localToDispose=o._register(new Be),o._decorationsIds=[],o._colorDatas=new Map,o._colorDecoratorIds=[],o._decorationsTypes=new Set,o._register(t.onDidChangeModel(function(s){o._isEnabled=o.isEnabled(),o.onModelChanged()})),o._register(t.onDidChangeModelLanguage(function(s){return o.onModelChanged()})),o._register(Dm.onDidChange(function(s){return o.onModelChanged()})),o._register(t.onDidChangeConfiguration(function(s){var a=o._isEnabled;o._isEnabled=o.isEnabled(),a!==o._isEnabled&&(o._isEnabled?o.onModelChanged():o.removeAllDecorations())})),o._timeoutTimer=null,o._computePromise=null,o._isEnabled=o.isEnabled(),o.onModelChanged(),o}return e.prototype.isEnabled=function(){var t=this._editor.getModel();if(!t)return!1;var r=t.getLanguageIdentifier(),i=this._configurationService.getValue(r.language);if(i){var o=i.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getConfiguration().contribInfo.colorDecorators},e.prototype.getId=function(){return e.ID},e.get=function(t){return t.getContribution(this.ID)},e.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),n.prototype.dispose.call(this)},e.prototype.onModelChanged=function(){var t=this;if(this.stop(),!!this._isEnabled){var r=this._editor.getModel();!r||!Dm.has(r)||(this._localToDispose.add(this._editor.onDidChangeModelContent(function(i){t._timeoutTimer||(t._timeoutTimer=new Ns,t._timeoutTimer.cancelAndSet(function(){t._timeoutTimer=null,t.beginCompute()},e.RECOMPUTE_TIME))})),this.beginCompute())}},e.prototype.beginCompute=function(){var t=this;this._computePromise=Gr(function(r){var i=t._editor.getModel();return i?Q6e(i,r):Promise.resolve([])}),this._computePromise.then(function(r){t.updateDecorations(r),t.updateColorDecorators(r),t._computePromise=null},He)},e.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()},e.prototype.updateDecorations=function(t){var r=this,i=t.map(function(o){return{range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:mt.EMPTY}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,i),this._colorDatas=new Map,this._decorationsIds.forEach(function(o,s){return r._colorDatas.set(o,t[s])})},e.prototype.updateColorDecorators=function(t){for(var r=this,i=[],o={},s=0;s<t.length&&i.length<e5e;s++){var a=t[s].colorInfo.color,u=a.red,l=a.green,c=a.blue,d=a.alpha,h=new yn(Math.round(u*255),Math.round(l*255),Math.round(c*255),d),p=M5(h).toString(16),v="rgba("+h.r+", "+h.g+", "+h.b+", "+h.a+")",m="colorBox-"+p;!this._decorationsTypes.has(m)&&!o[m]&&this._codeEditorService.registerDecorationType(m,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:v},dark:{before:{border:"solid 0.1em #eee"}}}),o[m]=!0,i.push({range:{startLineNumber:t[s].colorInfo.range.startLineNumber,startColumn:t[s].colorInfo.range.startColumn,endLineNumber:t[s].colorInfo.range.endLineNumber,endColumn:t[s].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(m,!0)})}this._decorationsTypes.forEach(function(_){o[_]||r._codeEditorService.removeDecorationType(_)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,i)},e.prototype.removeAllDecorations=function(){var t=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(function(r){t._codeEditorService.removeDecorationType(r)})},e.prototype.getColorData=function(t){var r=this,i=this._editor.getModel();if(!i)return null;var o=i.getDecorationsInRange(H.fromPositions(t,t)).filter(function(s){return r._colorDatas.has(s.id)});return o.length===0?null:this._colorDatas.get(o[0].id)},e.ID="editor.contrib.colorDetector",e.RECOMPUTE_TIME=1e3,e=J6e([Uz(1,Dn),Uz(2,pi)],e),e}(fe);Cn(hre);var Ty=function(){function n(e){this._selection=e,this._usedEndToken=null}return n._haystackHasNeedleAtOffset=function(e,t,r){if(r<0)return!1;var i=t.length,o=e.length;if(r+i>o)return!1;for(var s=0;s<i;s++){var a=e.charCodeAt(r+s),u=t.charCodeAt(s);if(a!==u&&!(a>=65&&a<=90&&a+32===u)&&!(u>=65&&u<=90&&u+32===a))return!1}return!0},n.prototype._createOperationsForBlockComment=function(e,t,r,i,o){var s=e.startLineNumber,a=e.startColumn,u=e.endLineNumber,l=e.endColumn,c=i.getLineContent(s),d=i.getLineContent(u),h=c.lastIndexOf(t,a-1+t.length),p=d.indexOf(r,l-1-r.length);if(h!==-1&&p!==-1)if(s===u){var v=c.substring(h+t.length,p);v.indexOf(r)>=0&&(h=-1,p=-1)}else{var m=c.substring(h+t.length),_=d.substring(0,p);(m.indexOf(r)>=0||_.indexOf(r)>=0)&&(h=-1,p=-1)}var b;h!==-1&&p!==-1?(h+t.length<c.length&&c.charCodeAt(h+t.length)===32&&(t=t+" "),p>0&&d.charCodeAt(p-1)===32&&(r=" "+r,p-=1),b=n._createRemoveBlockCommentOperations(new H(s,h+t.length+1,u,p+1),t,r)):(b=n._createAddBlockCommentOperations(e,t,r),this._usedEndToken=b.length===1?r:null);for(var C=0,E=b;C<E.length;C++){var T=E[C];o.addTrackedEditOperation(T.range,T.text)}},n._createRemoveBlockCommentOperations=function(e,t,r){var i=[];return H.isEmpty(e)?i.push(Or.delete(new H(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+r.length))):(i.push(Or.delete(new H(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(Or.delete(new H(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+r.length)))),i},n._createAddBlockCommentOperations=function(e,t,r){var i=[];return H.isEmpty(e)?i.push(Or.replace(new H(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+r)):(i.push(Or.insert(new J(e.startLineNumber,e.startColumn),t+" ")),i.push(Or.insert(new J(e.endLineNumber,e.endColumn)," "+r))),i},n.prototype.getEditOperations=function(e,t){var r=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(r);var o=e.getLanguageIdAtPosition(r,i),s=Ot.getComments(o);!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,e,t)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations();if(r.length===2){var i=r[0],o=r[1];return new Re(i.range.endLineNumber,i.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{var s=r[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new Re(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)}},n}(),t5e=function(){function n(e,t,r){this._selection=e,this._selectionId=null,this._tabSize=t,this._type=r,this._deltaColumn=0,this._moveEndPositionDown=!1}return n._gatherPreflightCommentStrings=function(e,t,r){e.tokenizeIfCheap(t);var i=e.getLanguageIdAtPosition(t,1),o=Ot.getComments(i),s=o?o.lineCommentToken:null;if(!s)return null;for(var a=[],u=0,l=r-t+1;u<l;u++)a[u]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a},n._analyzeLines=function(e,t,r,i){var o=!0,s;e===0?s=!0:e===1?s=!1:s=!0;for(var a=0,u=r.length;a<u;a++){var l=r[a],c=i+a,d=t.getLineContent(c),h=Ss(d);if(h===-1){l.ignore=!0,l.commentStrOffset=d.length;continue}if(o=!1,l.ignore=!1,l.commentStrOffset=h,s&&!Ty._haystackHasNeedleAtOffset(d,l.commentStr,h)&&(e===0?s=!1:e===1||(l.ignore=!0)),s){var p=h+l.commentStrLength;p<d.length&&d.charCodeAt(p)===32&&(l.commentStrLength+=1)}}if(e===0&&o){s=!1;for(var a=0,u=r.length;a<u;a++)r[a].ignore=!1}return{supported:!0,shouldRemoveComments:s,lines:r}},n._gatherPreflightData=function(e,t,r,i){var o=n._gatherPreflightCommentStrings(t,r,i);return o===null?{supported:!1}:n._analyzeLines(e,t,o,r)},n.prototype._executeLineComments=function(e,t,r,i){var o;r.shouldRemoveComments?o=n._createRemoveLineCommentsOperations(r.lines,i.startLineNumber):(n._normalizeInsertionPoint(e,r.lines,i.startLineNumber,this._tabSize),o=n._createAddLineCommentsOperations(r.lines,i.startLineNumber));for(var s=new J(i.positionLineNumber,i.positionColumn),a=0,u=o.length;a<u;a++)if(t.addEditOperation(o[a].range,o[a].text),o[a].range.isEmpty()&&o[a].range.getStartPosition().equals(s)){var l=e.getLineContent(s.lineNumber);l.length+1===s.column&&(this._deltaColumn=(o[a].text||"").length)}this._selectionId=t.trackSelection(i)},n.prototype._attemptRemoveBlockComment=function(e,t,r,i){var o=t.startLineNumber,s=t.endLineNumber,a=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),u=e.getLineContent(o).lastIndexOf(r,a-1),l=e.getLineContent(s).indexOf(i,t.endColumn-1-r.length);return u!==-1&&l===-1&&(l=e.getLineContent(o).indexOf(i,u+r.length),s=o),u===-1&&l!==-1&&(u=e.getLineContent(s).lastIndexOf(r,l),o=s),t.isEmpty()&&(u===-1||l===-1)&&(u=e.getLineContent(o).indexOf(r),u!==-1&&(l=e.getLineContent(o).indexOf(i,u+r.length))),u!==-1&&e.getLineContent(o).charCodeAt(u+r.length)===32&&(r+=" "),l!==-1&&e.getLineContent(s).charCodeAt(l-1)===32&&(i=" "+i,l-=1),u!==-1&&l!==-1?Ty._createRemoveBlockCommentOperations(new H(o,u+r.length+1,s,l+1),r,i):null},n.prototype._executeBlockComment=function(e,t,r){e.tokenizeIfCheap(r.startLineNumber);var i=e.getLanguageIdAtPosition(r.startLineNumber,1),o=Ot.getComments(i);if(!(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)){var s=o.blockCommentStartToken,a=o.blockCommentEndToken,u=this._attemptRemoveBlockComment(e,r,s,a);if(!u){if(r.isEmpty()){var l=e.getLineContent(r.startLineNumber),c=Ss(l);c===-1&&(c=l.length),u=Ty._createAddBlockCommentOperations(new H(r.startLineNumber,c+1,r.startLineNumber,l.length+1),s,a)}else u=Ty._createAddBlockCommentOperations(new H(r.startLineNumber,e.getLineFirstNonWhitespaceColumn(r.startLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),s,a);u.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(r);for(var d=0,h=u;d<h.length;d++){var p=h[d];t.addEditOperation(p.range,p.text)}}},n.prototype.getEditOperations=function(e,t){var r=this._selection;this._moveEndPositionDown=!1,r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));var i=n._gatherPreflightData(this._type,e,r.startLineNumber,r.endLineNumber);return i.supported?this._executeLineComments(e,t,i,r):this._executeBlockComment(e,t,r)},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),new Re(r.selectionStartLineNumber,r.selectionStartColumn+this._deltaColumn,r.positionLineNumber,r.positionColumn+this._deltaColumn)},n._createRemoveLineCommentsOperations=function(e,t){for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];s.ignore||r.push(Or.delete(new H(t+i,s.commentStrOffset+1,t+i,s.commentStrOffset+s.commentStrLength+1)))}return r},n._createAddLineCommentsOperations=function(e,t){for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];s.ignore||r.push(Or.insert(new J(t+i,s.commentStrOffset+1),s.commentStr+" "))}return r},n.nextVisibleColumn=function(e,t,r,i){return r?e+(t-e%t):e+i},n._normalizeInsertionPoint=function(e,t,r,i){for(var o=Number.MAX_VALUE,s,a,u=0,l=t.length;u<l;u++)if(!t[u].ignore){for(var c=e.getLineContent(r+u),d=0,h=0,p=t[u].commentStrOffset;d<o&&h<p;h++)d=n.nextVisibleColumn(d,i,c.charCodeAt(h)===9,1);d<o&&(o=d)}o=Math.floor(o/i)*i;for(var u=0,l=t.length;u<l;u++)if(!t[u].ignore){var c=e.getLineContent(r+u),d=0;for(s=0,a=t[u].commentStrOffset;d<o&&s<a;s++)d=n.nextVisibleColumn(d,i,c.charCodeAt(s)===9,1);d>o?t[u].commentStrOffset=s-1:t[u].commentStrOffset=s}},n}(),CC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F5=function(n){CC(e,n);function e(t,r){var i=n.call(this,r)||this;return i._type=t,i}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getModel(),o=[],s=r.getSelections(),a=i.getOptions(),u=0,l=s;u<l.length;u++){var c=l[u];o.push(new t5e(c,a.tabSize,this._type))}r.pushUndoStop(),r.executeCommands(this.id,o),r.pushUndoStop()}},e}(Ue),n5e=function(n){CC(e,n);function e(){return n.call(this,0,{id:"editor.action.commentLine",label:D("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2133,weight:100},menubarOpts:{menuId:14,group:"5_insert",title:D({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}return e}(F5),r5e=function(n){CC(e,n);function e(){return n.call(this,1,{id:"editor.action.addCommentLine",label:D("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2081),weight:100}})||this}return e}(F5),i5e=function(n){CC(e,n);function e(){return n.call(this,2,{id:"editor.action.removeCommentLine",label:D("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2099),weight:100}})||this}return e}(F5),o5e=function(n){CC(e,n);function e(){return n.call(this,{id:"editor.action.blockComment",label:D("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menubarOpts:{menuId:14,group:"5_insert",title:D({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=[],o=r.getSelections(),s=0,a=o;s<a.length;s++){var u=a[s];i.push(new Ty(u))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()}},e}(Ue);pe(n5e);pe(r5e);pe(i5e);pe(o5e);var s5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),a5e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ry=function(n,e){return function(t,r){e(t,r,n)}},dre=function(){function n(e,t,r,i,o,s){var a=this;this._contextMenuService=t,this._contextViewService=r,this._contextKeyService=i,this._keybindingService=o,this._menuService=s,this._toDispose=new Be,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(function(u){return a._onContextMenu(u)})),this._toDispose.add(this._editor.onMouseWheel(function(u){a._contextMenuIsBeingShownCount>0&&a._contextViewService.hideContextView()})),this._toDispose.add(this._editor.onKeyDown(function(u){u.keyCode===58&&(u.preventDefault(),u.stopPropagation(),a.showContextMenu())}))}return n.get=function(e){return e.getContribution(n.ID)},n.prototype._onContextMenu=function(e){if(this._editor.hasModel()){if(!this._editor.getConfiguration().contribInfo.contextmenu){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type!==12&&(e.event.preventDefault(),!(e.target.type!==6&&e.target.type!==7&&e.target.type!==1))){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}}},n.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contribInfo.contextmenu&&this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}var t=this._getMenuActions(this._editor.getModel());t.length>0&&this._doShowContextMenu(t,e)}},n.prototype._getMenuActions=function(e){var t=[],r=this._menuService.createMenu(7,this._contextKeyService),i=r.getActions({arg:e.uri});r.dispose();for(var o=0,s=i;o<s.length;o++){var a=s[o],u=a[1];t.push.apply(t,u),t.push(new v2)}return t.pop(),t},n.prototype._doShowContextMenu=function(e,t){var r=this;if(t===void 0&&(t=null),!!this._editor.hasModel()){var i=this._editor.getConfiguration().contribInfo.hover;if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=di(this._editor.getDomNode()),a=s.left+o.left,u=s.top+o.top+o.height;t={x:a,y:u}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return t},getActions:function(){return e},getActionViewItem:function(l){var c=r._keybindingFor(l);if(c)return new GT(l,l,{label:!0,keybinding:c.getLabel(),isMenu:!0});var d=l;return typeof d.getActionViewItem=="function"?d.getActionViewItem():new GT(l,l,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(l){return r._keybindingFor(l)},onHide:function(l){r._contextMenuIsBeingShownCount--,r._editor.focus(),r._editor.updateOptions({hover:i})}})}},n.prototype._keybindingFor=function(e){return this._keybindingService.lookupKeybinding(e.id)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()},n.ID="editor.contrib.contextmenu",n=a5e([ry(1,og),ry(2,Nh),ry(3,yt),ry(4,wr),ry(5,Oee)],n),n}(),u5e=function(n){s5e(e,n);function e(){return n.call(this,{id:"editor.action.showContextMenu",label:D("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:1092,weight:100}})||this}return e.prototype.run=function(t,r){var i=dre.get(r);i.showContextMenu()},e}(Ue);Cn(dre);pe(u5e);var pre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jz=function(){function n(e){this.selections=e}return n.prototype.equals=function(e){var t=this.selections.length,r=e.selections.length;if(t!==r)return!1;for(var i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0},n}(),gre=function(n){pre(e,n);function e(t){var r=n.call(this)||this;return r._editor=t,r._isCursorUndo=!1,r._undoStack=[],r._prevState=r._readState(),r._register(t.onDidChangeModel(function(i){r._undoStack=[],r._prevState=null})),r._register(t.onDidChangeModelContent(function(i){r._undoStack=[],r._prevState=null})),r._register(t.onDidChangeCursorSelection(function(i){!r._isCursorUndo&&r._prevState&&(r._undoStack.push(r._prevState),r._undoStack.length>50&&r._undoStack.shift()),r._prevState=r._readState()})),r}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._readState=function(){return this._editor.hasModel()?new jz(this._editor.getSelections()):null},e.prototype.getId=function(){return e.ID},e.prototype.cursorUndo=function(){if(this._editor.hasModel())for(var t=new jz(this._editor.getSelections());this._undoStack.length>0;){var r=this._undoStack.pop();if(!r.equals(t)){this._isCursorUndo=!0,this._editor.setSelections(r.selections),this._editor.revealRangeInCenterIfOutsideViewport(r.selections[0],0),this._isCursorUndo=!1;return}}},e.ID="editor.contrib.cursorUndoController",e}(fe),l5e=function(n){pre(e,n);function e(){return n.call(this,{id:"cursorUndo",label:D("cursor.undo","Soft Undo"),alias:"Soft Undo",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:2099,weight:100}})||this}return e.prototype.run=function(t,r,i){gre.get(r).cursorUndo()},e}(Ue);Cn(gre);pe(l5e);var c5e=function(){function n(e,t,r){this.selection=e,this.targetPosition=t,this.copy=r,this.targetSelection=null}return n.prototype.getEditOperations=function(e,t){var r=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new H(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),r),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Re(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Re(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Re(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Re(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Re(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)},n.prototype.computeCursorState=function(e,t){return this.targetSelection},n}(),f5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function uv(n){return Tt?n.altKey:n.ctrlKey}var h5e=function(n){f5e(e,n);function e(t){var r=n.call(this)||this;return r._editor=t,r._register(r._editor.onMouseDown(function(i){return r._onEditorMouseDown(i)})),r._register(r._editor.onMouseUp(function(i){return r._onEditorMouseUp(i)})),r._register(r._editor.onMouseDrag(function(i){return r._onEditorMouseDrag(i)})),r._register(r._editor.onMouseDrop(function(i){return r._onEditorMouseDrop(i)})),r._register(r._editor.onKeyDown(function(i){return r.onEditorKeyDown(i)})),r._register(r._editor.onKeyUp(function(i){return r.onEditorKeyUp(i)})),r._register(r._editor.onDidBlurEditorWidget(function(){return r.onEditorBlur()})),r._dndDecorationIds=[],r._mouseDown=!1,r._modifierPressed=!1,r._dragSelection=null,r}return e.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},e.prototype.onEditorKeyDown=function(t){this._editor.getConfiguration().dragAndDrop&&(uv(t)&&(this._modifierPressed=!0),this._mouseDown&&uv(t)&&this._editor.updateOptions({mouseStyle:"copy"}))},e.prototype.onEditorKeyUp=function(t){this._editor.getConfiguration().dragAndDrop&&(uv(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},e.prototype._onEditorMouseDown=function(t){this._mouseDown=!0},e.prototype._onEditorMouseUp=function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},e.prototype._onEditorMouseDrag=function(t){var r=t.target;if(this._dragSelection===null){var i=this._editor.getSelections()||[],o=i.filter(function(s){return r.position&&s.containsPosition(r.position)});if(o.length===1)this._dragSelection=o[0];else return}uv(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),r.position&&(this._dragSelection.containsPosition(r.position)?this._removeDecoration():this.showAt(r.position))},e.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var r=new J(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){var i=null;if(t.event.shiftKey){var o=this._editor.getSelection();if(o){var s=o.selectionStartLineNumber,a=o.selectionStartColumn;i=[new Re(s,a,r.lineNumber,r.column)]}}else i=(this._editor.getSelections()||[]).map(function(u){return u.containsPosition(r)?new Re(r.lineNumber,r.column,r.lineNumber,r.column):u});this._editor.setSelections(i||[],"mouse")}else(!this._dragSelection.containsPosition(r)||(uv(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(r)||this._dragSelection.getStartPosition().equals(r)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new c5e(this._dragSelection,r,uv(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},e.prototype.showAt=function(t){var r=[{range:new H(t.lineNumber,t.column,t.lineNumber,t.column),options:e._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,r),this._editor.revealPosition(t,1)},e.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},e.prototype._hitContent=function(t){return t.type===6||t.type===7},e.prototype._hitMargin=function(t){return t.type===2||t.type===3||t.type===4},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,n.prototype.dispose.call(this)},e.ID="editor.contrib.dragAndDrop",e.TRIGGER_KEY_VALUE=Tt?6:5,e._DECORATION_OPTIONS=mt.register({className:"dnd-target"}),e}(fe);Cn(h5e);var d5e=function(){function n(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return n.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},n.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},n.prototype.getCount=function(){return this._decorations.length},n.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},n.prototype.getStartPosition=function(){return this._startPosition},n.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},n.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},n.prototype.getCurrentMatchesPosition=function(e){for(var t=this._editor.getModel().getDecorationsInRange(e),r=0,i=t;r<i.length;r++){var o=i[r],s=o.options;if(s===n._FIND_MATCH_DECORATION||s===n._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 1},n.prototype.setCurrentFindMatch=function(e){var t=this,r=null,i=0;if(e)for(var o=0,s=this._decorations.length;o<s;o++){var a=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(a)){r=this._decorations[o],i=o+1;break}}return(this._highlightedDecorationId!==null||r!==null)&&this._editor.changeDecorations(function(u){if(t._highlightedDecorationId!==null&&(u.changeDecorationOptions(t._highlightedDecorationId,n._FIND_MATCH_DECORATION),t._highlightedDecorationId=null),r!==null&&(t._highlightedDecorationId=r,u.changeDecorationOptions(t._highlightedDecorationId,n._CURRENT_FIND_MATCH_DECORATION)),t._rangeHighlightDecorationId!==null&&(u.removeDecoration(t._rangeHighlightDecorationId),t._rangeHighlightDecorationId=null),r!==null){var l=t._editor.getModel().getDecorationRange(r);if(l.startLineNumber!==l.endLineNumber&&l.endColumn===1){var c=l.endLineNumber-1,d=t._editor.getModel().getLineMaxColumn(c);l=new H(l.startLineNumber,l.startColumn,c,d)}t._rangeHighlightDecorationId=u.addDecoration(l,n._RANGE_HIGHLIGHT_DECORATION)}}),i},n.prototype.set=function(e,t){var r=this;this._editor.changeDecorations(function(i){var o=n._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){o=n._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var a=r._editor.getModel().getLineCount(),u=r._editor.getLayoutInfo().height,l=u/a,c=Math.max(2,Math.ceil(3/l)),d=e[0].range.startLineNumber,h=e[0].range.endLineNumber,p=1,v=e.length;p<v;p++){var m=e[p].range;h+c>=m.startLineNumber?m.endLineNumber>h&&(h=m.endLineNumber):(s.push({range:new H(d,1,h,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=m.startLineNumber,h=m.endLineNumber)}s.push({range:new H(d,1,h,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var _=new Array(e.length),p=0,v=e.length;p<v;p++)_[p]={range:e[p].range,options:o};r._decorations=i.deltaDecorations(r._decorations,_),r._overviewRulerApproximateDecorations=i.deltaDecorations(r._overviewRulerApproximateDecorations,s),r._rangeHighlightDecorationId&&(i.removeDecoration(r._rangeHighlightDecorationId),r._rangeHighlightDecorationId=null),r._findScopeDecorationId&&(i.removeDecoration(r._findScopeDecorationId),r._findScopeDecorationId=null),t&&(r._findScopeDecorationId=i.addDecoration(t,n._FIND_SCOPE_DECORATION))})},n.prototype.matchBeforePosition=function(e){if(this._decorations.length===0)return null;for(var t=this._decorations.length-1;t>=0;t--){var r=this._decorations[t],i=this._editor.getModel().getDecorationRange(r);if(!(!i||i.endLineNumber>e.lineNumber)){if(i.endLineNumber<e.lineNumber)return i;if(!(i.endColumn>e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},n.prototype.matchAfterPosition=function(e){if(this._decorations.length===0)return null;for(var t=0,r=this._decorations.length;t<r;t++){var i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])},n.prototype._allDecorations=function(){var e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},n._CURRENT_FIND_MATCH_DECORATION=mt.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Xs(UO),position:ia.Center},minimap:{color:Xs(kq),position:TT.Inline}}),n._FIND_MATCH_DECORATION=mt.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Xs(UO),position:ia.Center},minimap:{color:Xs(kq),position:TT.Inline}}),n._FIND_MATCH_NO_OVERVIEW_DECORATION=mt.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),n._FIND_MATCH_ONLY_OVERVIEW_DECORATION=mt.register({stickiness:1,overviewRuler:{color:Xs(UO),position:ia.Center}}),n._RANGE_HIGHLIGHT_DECORATION=mt.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),n._FIND_SCOPE_DECORATION=mt.register({className:"findScope",isWholeLine:!0}),n}(),p5e=function(){function n(e,t,r){this._editorSelection=e,this._ranges=t,this._replaceStrings=r,this._trackedEditorSelectionId=null}return n.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var r=[],i=0;i<this._ranges.length;i++)r.push({range:this._ranges[i],text:this._replaceStrings[i]});r.sort(function(c,d){return H.compareRangesUsingStarts(c.range,d.range)});for(var o=[],s=r[0],i=1;i<r.length;i++)s.range.endLineNumber===r[i].range.startLineNumber&&s.range.endColumn===r[i].range.startColumn?(s.range=s.range.plusRange(r[i].range),s.text=s.text+r[i].text):(o.push(s),s=r[i]);o.push(s);for(var a=0,u=o;a<u.length;a++){var l=u[a];t.addEditOperation(l.range,l.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},n}();function vre(n,e){return n&&n[0]!==""?n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():KDe(n[0][0])?g5e(n,e,"-")?v5e(n,e,"-"):e[0].toUpperCase()+e.substr(1):e:e}function g5e(n,e,t){var r=n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1;return r&&n[0].split(t).length===e.split(t).length}function v5e(n,e,t){var r=e.split(t),i=n[0].split(t),o="";return r.forEach(function(s,a){o+=vre([i[a]],s)+t}),o.slice(0,-1)}var qz=function(){function n(e){this.staticValue=e,this.kind=0}return n}(),m5e=function(){function n(e){this.pieces=e,this.kind=1}return n}(),B5=function(){function n(e){!e||e.length===0?this._state=new qz(""):e.length===1&&e[0].staticValue!==null?this._state=new qz(e[0].staticValue):this._state=new m5e(e)}return n.fromStaticValue=function(e){return new n([NS.staticValue(e)])},Object.defineProperty(n.prototype,"hasReplacementPatterns",{get:function(){return this._state.kind===1},enumerable:!0,configurable:!0}),n.prototype.buildReplaceString=function(e,t){if(this._state.kind===0)return t?vre(e,this._state.staticValue):this._state.staticValue;for(var r="",i=0,o=this._state.pieces.length;i<o;i++){var s=this._state.pieces[i];if(s.staticValue!==null){r+=s.staticValue;continue}r+=n._substitute(s.matchIndex,e)}return r},n._substitute=function(e,t){if(t===null)return"";if(e===0)return t[0];for(var r="";e>0;){if(e<t.length){var i=t[e]||"";return i+r}r=String(e%10)+r,e=Math.floor(e/10)}return"$"+r},n}(),NS=function(){function n(e,t){this.staticValue=e,this.matchIndex=t}return n.staticValue=function(e){return new n(e,-1)},n.matchIndex=function(e){return new n(null,e)},n}(),_5e=function(){function n(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return n.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},n.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},n.prototype._emitStatic=function(e){e.length!==0&&(this._currentStaticPiece+=e)},n.prototype.emitMatchIndex=function(e,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=NS.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=NS.matchIndex(e),this._lastCharIndex=t},n.prototype.finalize=function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=NS.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new B5(this._result)},n}();function y5e(n){if(!n||n.length===0)return new B5(null);for(var e=new _5e(n),t=0,r=n.length;t<r;t++){var i=n.charCodeAt(t);if(i===92){if(t++,t>=r)break;var o=n.charCodeAt(t);switch(o){case 92:e.emitUnchanged(t-1),e.emitStatic("\\",t+1);break;case 110:e.emitUnchanged(t-1),e.emitStatic(`
`,t+1);break;case 116:e.emitUnchanged(t-1),e.emitStatic("	",t+1);break}continue}if(i===36){if(t++,t>=r)break;var o=n.charCodeAt(t);if(o===36){e.emitUnchanged(t-1),e.emitStatic("$",t+1);continue}if(o===48||o===38){e.emitUnchanged(t-1),e.emitMatchIndex(0,t+1);continue}if(49<=o&&o<=57){var s=o-48;if(t+1<r){var a=n.charCodeAt(t+1);if(48<=a&&a<=57){t++,s=s*10+(a-48),e.emitUnchanged(t-2),e.emitMatchIndex(s,t+1);continue}}e.emitUnchanged(t-1),e.emitMatchIndex(s,t+1);continue}}}return e.finalize()}var ug=new Ke("findWidgetVisible",!1),A2=new Ke("findInputFocussed",!1),H5=new Ke("replaceInputFocussed",!1),ME={primary:545,mac:{primary:2593}},FE={primary:565,mac:{primary:2613}},BE={primary:560,mac:{primary:2608}},HE={primary:554,mac:{primary:2602}},ln={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},ep=19999,b5e=240,C5e=function(){function n(e,t){var r=this;this._toDispose=new Be,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Ns,this._decorations=new d5e(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Pr(function(){return r.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(i){(i.reason===3||i.reason===5||i.reason===6)&&r._decorations.setStartPosition(r._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(i){r._ignoreModelContentChanged||(i.isFlush&&r._decorations.reset(),r._decorations.setStartPosition(r._editor.getPosition()),r._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(function(i){return r._onStateChanged(i)})),this.research(!1,this._state.searchScope)}return n.prototype.dispose=function(){this._isDisposed=!0,nt(this._startSearchingTimer),this._toDispose.dispose()},n.prototype._onStateChanged=function(e){var t=this;if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){var r=this._editor.getModel();r.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)},b5e)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}},n._getSearchRange=function(e,t){return t||e.getFullModelRange()},n.prototype.research=function(e,t){var r=null;typeof t<"u"?r=t:r=this._decorations.getFindScope(),r!==null&&r.startLineNumber!==r.endLineNumber&&(r.endColumn===1?r=new H(r.startLineNumber,1,r.endLineNumber-1,this._editor.getModel().getLineMaxColumn(r.endLineNumber-1)):r=new H(r.startLineNumber,1,r.endLineNumber,this._editor.getModel().getLineMaxColumn(r.endLineNumber)));var i=this._findMatches(r,!1,ep);this._decorations.set(i,r),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},n.prototype._hasMatches=function(){return this._state.matchesCount>0},n.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},n.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},n.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),r=e.lineNumber,i=e.column,o=this._editor.getModel();return t||i===1?(r===1?r=o.getLineCount():r--,i=o.getLineMaxColumn(r)):i--,new J(r,i)},n.prototype._moveToPrevMatch=function(e,t){if(t===void 0&&(t=!1),this._decorations.getCount()<ep){var r=this._decorations.matchBeforePosition(e);r&&r.isEmpty()&&r.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),r=this._decorations.matchBeforePosition(e)),r&&this._setCurrentFindMatch(r);return}if(!this._cannotFind()){var i=this._decorations.getFindScope(),o=n._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(e)&&(e=o.getEndPosition()),e.isBefore(o.getStartPosition())&&(e=o.getEndPosition());var s=e.lineNumber,a=e.column,u=this._editor.getModel(),l=new J(s,a),c=u.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=u.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1)),!!c){if(!t&&!o.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}},n.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},n.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),r=e.lineNumber,i=e.column,o=this._editor.getModel();return t||i===o.getLineMaxColumn(r)?(r===o.getLineCount()?r=1:r++,i=1):i++,new J(r,i)},n.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<ep){var t=this._decorations.matchAfterPosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),t&&this._setCurrentFindMatch(t);return}var r=this._getNextMatch(e,!1,!0);r&&this._setCurrentFindMatch(r.range)},n.prototype._getNextMatch=function(e,t,r,i){if(i===void 0&&(i=!1),this._cannotFind())return null;var o=this._decorations.getFindScope(),s=n._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());var a=e.lineNumber,u=e.column,l=this._editor.getModel(),c=new J(a,u),d=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t);return r&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),d=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t)),d?!i&&!s.containsRange(d.range)?this._getNextMatch(d.range.getEndPosition(),t,r,!0):d:null},n.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},n.prototype._getReplacePattern=function(){return this._state.isRegex?y5e(this._state.replaceString):B5.fromStaticValue(this._state.replaceString)},n.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),r=this._getNextMatch(t.getStartPosition(),!0,!1);if(r)if(t.equalsRange(r.range)){var i=e.buildReplaceString(r.matches,this._state.preserveCase),o=new Lr(t,i);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new J(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}},n.prototype._findMatches=function(e,t,r){var i=n._getSearchRange(this._editor.getModel(),e);return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t,r)},n.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();e===null&&this._state.matchesCount>=ep?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},n.prototype._largeReplaceAll=function(){var e=new Pd(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null),t=e.parseSearchRequest();if(t){var r=t.regex;if(!r.multiline){var i="m";r.ignoreCase&&(i+="i"),r.global&&(i+="g"),r=new RegExp(r.source,i)}var o=this._editor.getModel(),s=o.getValue(1),a=o.getFullModelRange(),u=this._getReplacePattern(),l,c=this._state.preserveCase;u.hasReplacementPatterns||c?l=s.replace(r,function(){return u.buildReplaceString(arguments,c)}):l=s.replace(r,u.buildReplaceString(null,c));var d=new WT(a,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}},n.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),r=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),i=[],o=0,s=r.length;o<s;o++)i[o]=t.buildReplaceString(r[o].matches,this._state.preserveCase);var a=new p5e(this._editor.getSelection(),r.map(function(u){return u.range}),i);this._executeEditorCommand("replaceAll",a)},n.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824),r=t.map(function(u){return new Re(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn)}),i=this._editor.getSelection(),o=0,s=r.length;o<s;o++){var a=r[o];if(a.equalsRange(i)){r=[i].concat(r.slice(0,o)).concat(r.slice(o+1));break}}this._editor.setSelections(r)}},n.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},n}(),w5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E5e={inputActiveOptionBorder:se.fromHex("#007ACC00"),inputActiveOptionBackground:se.fromHex("#0E639C50")},I2=function(n){w5e(e,n);function e(t){var r=n.call(this)||this;return r._onChange=r._register(new Q),r.onChange=r._onChange.event,r._onKeyDown=r._register(new Q),r.onKeyDown=r._onKeyDown.event,r._opts=ac(t),Ur(r._opts,E5e,!1),r._checked=r._opts.isChecked,r.domNode=document.createElement("div"),r.domNode.title=r._opts.title,r.domNode.className="monaco-custom-checkbox "+(r._opts.actionClassName||"")+" "+(r._checked?"checked":"unchecked"),r.domNode.tabIndex=0,r.domNode.setAttribute("role","checkbox"),r.domNode.setAttribute("aria-checked",String(r._checked)),r.domNode.setAttribute("aria-label",r._opts.title),r.applyStyles(),r.onclick(r.domNode,function(i){r.checked=!r._checked,r._onChange.fire(!1),i.preventDefault()}),r.onkeydown(r.domNode,function(i){if(i.keyCode===10||i.keyCode===3){r.checked=!r._checked,r._onChange.fire(!0),i.preventDefault();return}r._onKeyDown.fire(i)}),r}return e.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),e.prototype.width=function(){return 22},e.prototype.style=function(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()},e.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")},e.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},e.prototype.disable=function(){Q4(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},e}(os),V5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),S5e=D("caseDescription","Match Case"),T5e=D("wordsDescription","Match Whole Word"),D5e=D("regexDescription","Use Regular Expression"),mre=function(n){V5(e,n);function e(t){return n.call(this,{actionClassName:"monaco-case-sensitive",title:S5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return e}(I2),_re=function(n){V5(e,n);function e(t){return n.call(this,{actionClassName:"monaco-whole-word",title:T5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return e}(I2),yre=function(n){V5(e,n);function e(t){return n.call(this,{actionClassName:"monaco-regex",title:D5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return e}(I2),A5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I5e=function(n){A5e(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._hideSoon=s._register(new Pr(function(){return s._hide()},2e3)),s._isVisible=!1,s._editor=t,s._state=r,s._keybindingService=i,s._domNode=document.createElement("div"),s._domNode.className="findOptionsWidget",s._domNode.style.display="none",s._domNode.style.top="10px",s._domNode.setAttribute("role","presentation"),s._domNode.setAttribute("aria-hidden","true");var a=o.getTheme().getColor(FT),u=o.getTheme().getColor(BT);return s.caseSensitive=s._register(new mre({appendTitle:s._keybindingLabelFor(ln.ToggleCaseSensitiveCommand),isChecked:s._state.matchCase,inputActiveOptionBorder:a,inputActiveOptionBackground:u})),s._domNode.appendChild(s.caseSensitive.domNode),s._register(s.caseSensitive.onChange(function(){s._state.change({matchCase:s.caseSensitive.checked},!1)})),s.wholeWords=s._register(new _re({appendTitle:s._keybindingLabelFor(ln.ToggleWholeWordCommand),isChecked:s._state.wholeWord,inputActiveOptionBorder:a,inputActiveOptionBackground:u})),s._domNode.appendChild(s.wholeWords.domNode),s._register(s.wholeWords.onChange(function(){s._state.change({wholeWord:s.wholeWords.checked},!1)})),s.regex=s._register(new yre({appendTitle:s._keybindingLabelFor(ln.ToggleRegexCommand),isChecked:s._state.isRegex,inputActiveOptionBorder:a,inputActiveOptionBackground:u})),s._domNode.appendChild(s.regex.domNode),s._register(s.regex.onChange(function(){s._state.change({isRegex:s.regex.checked},!1)})),s._editor.addOverlayWidget(s),s._register(s._state.onFindReplaceStateChange(function(l){var c=!1;l.isRegex&&(s.regex.checked=s._state.isRegex,c=!0),l.wholeWord&&(s.wholeWords.checked=s._state.wholeWord,c=!0),l.matchCase&&(s.caseSensitive.checked=s._state.matchCase,c=!0),!s._state.isRevealed&&c&&s._revealTemporarily()})),s._register(K4(s._domNode,function(l){return s._onMouseOut()})),s._register(_e(s._domNode,"mouseover",function(l){return s._onMouseOver()})),s._applyTheme(o.getTheme()),s._register(o.onThemeChange(s._applyTheme.bind(s))),s}return e.prototype._keybindingLabelFor=function(t){var r=this._keybindingService.lookupKeybinding(t);return r?" ("+r.getLabel()+")":""},e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:0}},e.prototype.highlightFindOptions=function(){this._revealTemporarily()},e.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},e.prototype._onMouseOut=function(){this._hideSoon.schedule()},e.prototype._onMouseOver=function(){this._hideSoon.cancel()},e.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},e.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype._applyTheme=function(t){var r={inputActiveOptionBorder:t.getColor(FT),inputActiveOptionBackground:t.getColor(BT)};this.caseSensitive.style(r),this.wholeWords.style(r),this.regex.style(r)},e.ID="editor.contrib.findOptionsWidget",e}(os);mn(function(n,e){var t=n.getColor(fl);t&&e.addRule(".monaco-editor .findOptionsWidget { background-color: "+t+"; }");var r=n.getColor(ig);r&&e.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+r+"; }");var i=n.getColor(Mr);i&&e.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+i+"; }")});function VE(n,e){return n===1?!0:n===2?!1:e}var x5e=function(){function n(){this._onFindReplaceStateChange=new Q,this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null}return Object.defineProperty(n.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRegex",{get:function(){return VE(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wholeWord",{get:function(){return VE(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchCase",{get:function(){return VE(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preserveCase",{get:function(){return VE(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n.prototype.changeMatchInfo=function(e,t,r){var i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,i.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,i.matchesCount=!0,o=!0),typeof r<"u"&&(H.equalsRange(this._currentMatch,r)||(this._currentMatch=r,i.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(i)},n.prototype.change=function(e,t,r){r===void 0&&(r=!0);var i={moveCursor:t,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1,s=this.isRegex,a=this.wholeWord,u=this.matchCase,l=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,i.searchString=!0,o=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,i.replaceString=!0,o=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,i.isRevealed=!0,o=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,i.isReplaceRevealed=!0,o=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(H.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,i.searchScope=!0,o=!0)),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,s!==this.isRegex&&(o=!0,i.isRegex=!0),a!==this.wholeWord&&(o=!0,i.wholeWord=!0),u!==this.matchCase&&(o=!0,i.matchCase=!0),l!==this.preserveCase&&(o=!0,i.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(i)},n}();function L5e(n,e){e===void 0&&(e={});var t=W5(e);return t.textContent=n,t}function bre(n,e){e===void 0&&(e={});var t=W5(e);return Cre(t,O5e(n),e.actionHandler),t}function W5(n){var e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}var N5e=function(){function n(e){this.source=e,this.index=0}return n.prototype.eos=function(){return this.index>=this.source.length},n.prototype.next=function(){var e=this.peek();return this.advance(),e},n.prototype.peek=function(){return this.source[this.index]},n.prototype.advance=function(){this.index++},n}();function Cre(n,e,t){var r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===5&&t){var i=document.createElement("a");i.href="#",t.disposeables.add(hi(i,"click",function(o){t.callback(String(e.index),o)})),r=i}else e.type===7?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(function(o){Cre(r,o,t)})}function O5e(n){for(var e={type:1,children:[]},t=0,r=e,i=[],o=new N5e(n);!o.eos();){var s=o.next(),a=s==="\\"&&u3(o.peek())!==0;if(a&&(s=o.next()),!a&&k5e(s)&&s===o.peek()){o.advance(),r.type===2&&(r=i.pop());var u=u3(s);if(r.type===u||r.type===5&&u===6)r=i.pop();else{var l={type:u,children:[]};u===5&&(l.index=t,t++),r.children.push(l),i.push(r),r=l}}else if(s===`
`)r.type===2&&(r=i.pop()),r.children.push({type:7});else if(r.type!==2){var c={type:2,content:s};r.children.push(c),i.push(r),r=c}else r.content+=s}return r.type===2&&(r=i.pop()),e}function k5e(n){return u3(n)!==0}function u3(n){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}var R5e=function(){function n(e,t){e===void 0&&(e=[]),t===void 0&&(t=10),this._initialize(e),this._limit=t,this._onChange()}return n.prototype.add=function(e){this._history.delete(e),this._history.add(e),this._onChange()},n.prototype.next=function(){return this._navigator.next()},n.prototype.previous=function(){return this._navigator.previous()},n.prototype.current=function(){return this._navigator.current()},n.prototype.parent=function(){return null},n.prototype.first=function(){return this._navigator.first()},n.prototype.last=function(){return this._navigator.last()},n.prototype.has=function(e){return this._history.has(e)},n.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new FTe(this._elements,0,this._elements.length,this._elements.length)},n.prototype._reduceToLimit=function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))},n.prototype._initialize=function(e){this._history=new Set;for(var t=0,r=e;t<r.length;t++){var i=r[t];this._history.add(i)}},Object.defineProperty(n.prototype,"_elements",{get:function(){var e=[];return this._history.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),n}(),wre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iy=Ve,P5e={inputBackground:se.fromHex("#3C3C3C"),inputForeground:se.fromHex("#CCCCCC"),inputValidationInfoBorder:se.fromHex("#55AAFF"),inputValidationInfoBackground:se.fromHex("#063B49"),inputValidationWarningBorder:se.fromHex("#B89500"),inputValidationWarningBackground:se.fromHex("#352A05"),inputValidationErrorBorder:se.fromHex("#BE1100"),inputValidationErrorBackground:se.fromHex("#5A1D1D")},Ere=function(n){wre(e,n);function e(t,r,i){var o=n.call(this)||this;o.state="idle",o.maxHeight=Number.POSITIVE_INFINITY,o._onDidChange=o._register(new Q),o.onDidChange=o._onDidChange.event,o._onDidHeightChange=o._register(new Q),o.onDidHeightChange=o._onDidHeightChange.event,o.contextViewProvider=r,o.options=i||Object.create(null),Ur(o.options,P5e,!1),o.message=null,o.placeholder=o.options.placeholder||"",o.ariaLabel=o.options.ariaLabel||"",o.inputBackground=o.options.inputBackground,o.inputForeground=o.options.inputForeground,o.inputBorder=o.options.inputBorder,o.inputValidationInfoBorder=o.options.inputValidationInfoBorder,o.inputValidationInfoBackground=o.options.inputValidationInfoBackground,o.inputValidationInfoForeground=o.options.inputValidationInfoForeground,o.inputValidationWarningBorder=o.options.inputValidationWarningBorder,o.inputValidationWarningBackground=o.options.inputValidationWarningBackground,o.inputValidationWarningForeground=o.options.inputValidationWarningForeground,o.inputValidationErrorBorder=o.options.inputValidationErrorBorder,o.inputValidationErrorBackground=o.options.inputValidationErrorBackground,o.inputValidationErrorForeground=o.options.inputValidationErrorForeground,o.options.validationOptions&&(o.validation=o.options.validationOptions.validation),o.element=Ce(t,iy(".monaco-inputbox.idle"));var s=o.options.flexibleHeight?"textarea":"input",a=Ce(o.element,iy(".wrapper"));if(o.input=Ce(a,iy(s+".input")),o.input.setAttribute("autocorrect","off"),o.input.setAttribute("autocapitalize","off"),o.input.setAttribute("spellcheck","false"),o.onfocus(o.input,function(){return De(o.element,"synthetic-focus")}),o.onblur(o.input,function(){return ot(o.element,"synthetic-focus")}),o.options.flexibleHeight){o.maxHeight=typeof o.options.flexibleMaxHeight=="number"?o.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,o.mirror=Ce(a,iy("div.mirror")),o.mirror.innerHTML="&nbsp;",o.scrollableElement=new lC(o.element,{vertical:1}),o.options.flexibleWidth&&(o.input.setAttribute("wrap","off"),o.mirror.style.whiteSpace="pre",o.mirror.style.wordWrap="initial"),Ce(t,o.scrollableElement.getDomNode()),o._register(o.scrollableElement),o._register(o.scrollableElement.onScroll(function(l){return o.input.scrollTop=l.scrollTop}));var u=Je.filter(Nt(document,"selectionchange"),function(){var l=document.getSelection();return!!l&&l.anchorNode===a});o._register(u(o.updateScrollDimensions,o)),o._register(o.onDidHeightChange(o.updateScrollDimensions,o))}else o.input.type=o.options.type||"text",o.input.setAttribute("wrap","off");return o.ariaLabel&&o.input.setAttribute("aria-label",o.ariaLabel),o.placeholder&&o.setPlaceHolder(o.placeholder),o.oninput(o.input,function(){return o.onValueChange()}),o.onblur(o.input,function(){return o.onBlur()}),o.onfocus(o.input,function(){return o.onFocus()}),o.placeholder&&Es&&o.onclick(o.input,function(l){wn.stop(l,!0),o.input.focus()}),setTimeout(function(){o.input&&o.updateMirror()},0),o.options.actions&&(o.actionbar=o._register(new pC(o.element)),o.actionbar.push(o.options.actions,{icon:!0,label:!1})),o.applyStyles(),o}return e.prototype.onBlur=function(){this._hideMessage()},e.prototype.onFocus=function(){this._showMessage()},e.prototype.setPlaceHolder=function(t){this.input&&(this.input.setAttribute("placeholder",t),this.input.title=t)},e.prototype.setAriaLabel=function(t){this.ariaLabel=t,this.input&&(t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},Object.defineProperty(e.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return typeof this.cachedHeight=="number"?this.cachedHeight:uM(this.element)},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.blur=function(){this.input.blur()},e.prototype.hasFocus=function(){return document.activeElement===this.input},e.prototype.select=function(t){t===void 0&&(t=null),this.input.select(),t&&this.input.setSelectionRange(t.start,t.end)},e.prototype.enable=function(){this.input.removeAttribute("disabled")},e.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},Object.defineProperty(e.prototype,"width",{get:function(){return tu(this.input)},set:function(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){var r=0;if(this.mirror){var i=parseFloat(this.mirror.style.paddingLeft||"")||0,o=parseFloat(this.mirror.style.paddingRight||"")||0;r=i+o}this.input.style.width=t-r+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{set:function(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width="calc(100% - "+t+"px)":this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")},enumerable:!0,configurable:!0}),e.prototype.updateScrollDimensions=function(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number")){var t=this.cachedContentHeight,r=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:r}),this.scrollableElement.setScrollPosition({scrollTop:i})}},e.prototype.showMessage=function(t,r){this.message=t,ot(this.element,"idle"),ot(this.element,"info"),ot(this.element,"warning"),ot(this.element,"error"),De(this.element,this.classForType(t.type));var i=this.stylesForType(this.message.type);this.element.style.border=i.border?"1px solid "+i.border:null;var o;t.type===3?o=D("alertErrorMessage","Error: {0}",t.content):t.type===2?o=D("alertWarningMessage","Warning: {0}",t.content):o=D("alertInfoMessage","Info: {0}",t.content),ji(o),(this.hasFocus()||r)&&this._showMessage()},e.prototype.hideMessage=function(){this.message=null,ot(this.element,"info"),ot(this.element,"warning"),ot(this.element,"error"),De(this.element,"idle"),this._hideMessage(),this.applyStyles()},e.prototype.validate=function(){var t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!t},e.prototype.stylesForType=function(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},e.prototype.classForType=function(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}},e.prototype._showMessage=function(){var t=this;if(!(!this.contextViewProvider||!this.message)){var r,i=function(){return r.style.width=tu(t.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return t.element},anchorAlignment:1,render:function(o){if(!t.message)return null;r=Ce(o,iy(".monaco-inputbox-container")),i();var s={inline:!0,className:"monaco-inputbox-message"},a=t.message.formatContent?bre(t.message.content,s):L5e(t.message.content,s);De(a,t.classForType(t.message.type));var u=t.stylesForType(t.message.type);return a.style.backgroundColor=u.background?u.background.toString():null,a.style.color=u.foreground?u.foreground.toString():null,a.style.border=u.border?"1px solid "+u.border:null,Ce(r,a),null},onHide:function(){t.state="closed"},layout:i}),this.state="open"}},e.prototype._hideMessage=function(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")},e.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()},e.prototype.updateMirror=function(){if(this.mirror){var t=this.value||this.placeholder,r=t.charCodeAt(t.length-1),i=r===10?" ":"",o=t+i;o?this.mirror.textContent=t+i:this.mirror.innerHTML="&nbsp;",this.layout()}},e.prototype.style=function(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var t=this.inputBackground?this.inputBackground.toString():null,r=this.inputForeground?this.inputForeground.toString():null,i=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=t,this.element.style.color=r,this.input.style.backgroundColor=t,this.input.style.color=r,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.borderColor=i}},e.prototype.layout=function(){if(this.mirror){var t=this.cachedContentHeight;this.cachedContentHeight=uM(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}},e.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=void 0,this.message=null,this.validation=void 0,this.state=null,this.actionbar=void 0,n.prototype.dispose.call(this)},e}(os),Sre=function(n){wre(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.history=new R5e(i.history,100),o}return e.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},e.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,oq(this.value))},e.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,oq(this.value))},e.prototype.getCurrentValue=function(){var t=this.history.current();return t||(t=this.history.last(),this.history.next()),t},e.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},e.prototype.getNextValue=function(){return this.history.next()||this.history.last()},e}(Ere),M5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F5e=D("defaultLabel","input"),B5e=function(n){M5e(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._showOptionButtons=i,s.fixFocusOnOptionClickEnabled=!0,s._onDidOptionChange=s._register(new Q),s.onDidOptionChange=s._onDidOptionChange.event,s._onKeyDown=s._register(new Q),s.onKeyDown=s._onKeyDown.event,s._onMouseDown=s._register(new Q),s.onMouseDown=s._onMouseDown.event,s._onInput=s._register(new Q),s._onKeyUp=s._register(new Q),s._onCaseSensitiveKeyDown=s._register(new Q),s.onCaseSensitiveKeyDown=s._onCaseSensitiveKeyDown.event,s._onRegexKeyDown=s._register(new Q),s.onRegexKeyDown=s._onRegexKeyDown.event,s._lastHighlightFindOptions=0,s.contextViewProvider=r,s.placeholder=o.placeholder||"",s.validation=o.validation,s.label=o.label||F5e,s.inputActiveOptionBorder=o.inputActiveOptionBorder,s.inputActiveOptionBackground=o.inputActiveOptionBackground,s.inputBackground=o.inputBackground,s.inputForeground=o.inputForeground,s.inputBorder=o.inputBorder,s.inputValidationInfoBorder=o.inputValidationInfoBorder,s.inputValidationInfoBackground=o.inputValidationInfoBackground,s.inputValidationInfoForeground=o.inputValidationInfoForeground,s.inputValidationWarningBorder=o.inputValidationWarningBorder,s.inputValidationWarningBackground=o.inputValidationWarningBackground,s.inputValidationWarningForeground=o.inputValidationWarningForeground,s.inputValidationErrorBorder=o.inputValidationErrorBorder,s.inputValidationErrorBackground=o.inputValidationErrorBackground,s.inputValidationErrorForeground=o.inputValidationErrorForeground;var a=o.appendCaseSensitiveLabel||"",u=o.appendWholeWordsLabel||"",l=o.appendRegexLabel||"",c=o.history||[],d=!!o.flexibleHeight,h=!!o.flexibleWidth,p=o.flexibleMaxHeight;s.domNode=document.createElement("div"),De(s.domNode,"monaco-findInput"),s.inputBox=s._register(new Sre(s.domNode,s.contextViewProvider,{placeholder:s.placeholder||"",ariaLabel:s.label||"",validationOptions:{validation:s.validation},inputBackground:s.inputBackground,inputForeground:s.inputForeground,inputBorder:s.inputBorder,inputValidationInfoBackground:s.inputValidationInfoBackground,inputValidationInfoForeground:s.inputValidationInfoForeground,inputValidationInfoBorder:s.inputValidationInfoBorder,inputValidationWarningBackground:s.inputValidationWarningBackground,inputValidationWarningForeground:s.inputValidationWarningForeground,inputValidationWarningBorder:s.inputValidationWarningBorder,inputValidationErrorBackground:s.inputValidationErrorBackground,inputValidationErrorForeground:s.inputValidationErrorForeground,inputValidationErrorBorder:s.inputValidationErrorBorder,history:c,flexibleHeight:d,flexibleWidth:h,flexibleMaxHeight:p})),s.regex=s._register(new yre({appendTitle:l,isChecked:!1,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionBackground:s.inputActiveOptionBackground})),s._register(s.regex.onChange(function(_){s._onDidOptionChange.fire(_),!_&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),s._register(s.regex.onKeyDown(function(_){s._onRegexKeyDown.fire(_)})),s.wholeWords=s._register(new _re({appendTitle:u,isChecked:!1,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionBackground:s.inputActiveOptionBackground})),s._register(s.wholeWords.onChange(function(_){s._onDidOptionChange.fire(_),!_&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),s.caseSensitive=s._register(new mre({appendTitle:a,isChecked:!1,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionBackground:s.inputActiveOptionBackground})),s._register(s.caseSensitive.onChange(function(_){s._onDidOptionChange.fire(_),!_&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),s._register(s.caseSensitive.onKeyDown(function(_){s._onCaseSensitiveKeyDown.fire(_)})),s._showOptionButtons&&(s.inputBox.paddingRight=s.caseSensitive.width()+s.wholeWords.width()+s.regex.width());var v=[s.caseSensitive.domNode,s.wholeWords.domNode,s.regex.domNode];s.onkeydown(s.domNode,function(_){if(_.equals(15)||_.equals(17)||_.equals(9)){var b=v.indexOf(document.activeElement);if(b>=0){var C=-1;_.equals(17)?C=(b+1)%v.length:_.equals(15)&&(b===0?C=v.length-1:C=b-1),_.equals(9)?v[b].blur():C>=0&&v[C].focus(),wn.stop(_,!0)}}});var m=document.createElement("div");return m.className="controls",m.style.display=s._showOptionButtons?"block":"none",m.appendChild(s.caseSensitive.domNode),m.appendChild(s.wholeWords.domNode),m.appendChild(s.regex.domNode),s.domNode.appendChild(m),t&&t.appendChild(s.domNode),s.onkeydown(s.inputBox.inputElement,function(_){return s._onKeyDown.fire(_)}),s.onkeyup(s.inputBox.inputElement,function(_){return s._onKeyUp.fire(_)}),s.oninput(s.inputBox.inputElement,function(_){return s._onInput.fire()}),s.onmousedown(s.inputBox.inputElement,function(_){return s._onMouseDown.fire(_)}),s}return e.prototype.enable=function(){ot(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},e.prototype.disable=function(){De(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},e.prototype.setFocusInputOnOptionClick=function(t){this.fixFocusOnOptionClickEnabled=t},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(t){this.inputBox.value!==t&&(this.inputBox.value=t)},e.prototype.style=function(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.domNode){var t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);var r={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(r)}},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},e.prototype.setCaseSensitive=function(t){this.caseSensitive.checked=t},e.prototype.getWholeWords=function(){return this.wholeWords.checked},e.prototype.setWholeWords=function(t){this.wholeWords.checked=t},e.prototype.getRegex=function(){return this.regex.checked},e.prototype.setRegex=function(t){this.regex.checked=t,this.validate()},e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},e.prototype.highlightFindOptions=function(){ot(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,De(this.domNode,"highlight-"+this._lastHighlightFindOptions)},e.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},e.prototype.clearMessage=function(){this.inputBox&&this.inputBox.hideMessage()},e.prototype.dispose=function(){n.prototype.dispose.call(this)},e}(os),Tre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H5e=D("defaultLabel","input"),V5e=D("label.preserveCaseCheckbox","Preserve Case"),W5e=function(n){Tre(e,n);function e(t){return n.call(this,{actionClassName:"monaco-case-sensitive",title:V5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return e}(I2),U5e=function(n){Tre(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._showOptionButtons=i,s.fixFocusOnOptionClickEnabled=!0,s.cachedOptionsWidth=0,s._onDidOptionChange=s._register(new Q),s.onDidOptionChange=s._onDidOptionChange.event,s._onKeyDown=s._register(new Q),s.onKeyDown=s._onKeyDown.event,s._onMouseDown=s._register(new Q),s._onInput=s._register(new Q),s._onKeyUp=s._register(new Q),s._onPreserveCaseKeyDown=s._register(new Q),s.onPreserveCaseKeyDown=s._onPreserveCaseKeyDown.event,s.contextViewProvider=r,s.placeholder=o.placeholder||"",s.validation=o.validation,s.label=o.label||H5e,s.inputActiveOptionBorder=o.inputActiveOptionBorder,s.inputBackground=o.inputBackground,s.inputForeground=o.inputForeground,s.inputBorder=o.inputBorder,s.inputValidationInfoBorder=o.inputValidationInfoBorder,s.inputValidationInfoBackground=o.inputValidationInfoBackground,s.inputValidationInfoForeground=o.inputValidationInfoForeground,s.inputValidationWarningBorder=o.inputValidationWarningBorder,s.inputValidationWarningBackground=o.inputValidationWarningBackground,s.inputValidationWarningForeground=o.inputValidationWarningForeground,s.inputValidationErrorBorder=o.inputValidationErrorBorder,s.inputValidationErrorBackground=o.inputValidationErrorBackground,s.inputValidationErrorForeground=o.inputValidationErrorForeground;var a=!!o.flexibleHeight,u=!!o.flexibleWidth,l=o.flexibleMaxHeight;return s.buildDomNode(o.history||[],a,u,l),t&&t.appendChild(s.domNode),s.onkeydown(s.inputBox.inputElement,function(c){return s._onKeyDown.fire(c)}),s.onkeyup(s.inputBox.inputElement,function(c){return s._onKeyUp.fire(c)}),s.oninput(s.inputBox.inputElement,function(c){return s._onInput.fire()}),s.onmousedown(s.inputBox.inputElement,function(c){return s._onMouseDown.fire(c)}),s}return e.prototype.enable=function(){ot(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()},e.prototype.disable=function(){De(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},e.prototype.style=function(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.domNode){var t={inputActiveOptionBorder:this.inputActiveOptionBorder};this.preserveCase.style(t);var r={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(r)}},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getPreserveCase=function(){return this.preserveCase.checked},e.prototype.setPreserveCase=function(t){this.preserveCase.checked=t},e.prototype.focusOnPreserve=function(){this.preserveCase.focus()},e.prototype.buildDomNode=function(t,r,i,o){var s=this;this.domNode=document.createElement("div"),De(this.domNode,"monaco-findInput"),this.inputBox=this._register(new Sre(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:r,flexibleWidth:i,flexibleMaxHeight:o})),this.preserveCase=this._register(new W5e({appendTitle:"",isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.preserveCase.onChange(function(l){s._onDidOptionChange.fire(l),!l&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),this._register(this.preserveCase.onKeyDown(function(l){s._onPreserveCaseKeyDown.fire(l)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;var a=[this.preserveCase.domNode];this.onkeydown(this.domNode,function(l){if(l.equals(15)||l.equals(17)||l.equals(9)){var c=a.indexOf(document.activeElement);if(c>=0){var d=-1;l.equals(17)?d=(c+1)%a.length:l.equals(15)&&(c===0?d=a.length-1:d=c-1),l.equals(9)?a[c].blur():d>=0&&a[d].focus(),wn.stop(l,!0)}}});var u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u)},e.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},Object.defineProperty(e.prototype,"width",{set:function(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=t,this.domNode.style.width=t+"px"},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){n.prototype.dispose.call(this)},e}(os),Dre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Are=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ire=function(n,e){return function(t,r){e(t,r,n)}},o1="historyNavigationWidget",U5="historyNavigationEnabled";function j5e(n,e,t){new Ke(t,e).bindTo(n)}function q5e(n,e){return n.createScoped(e.target)}function xre(n,e){return n.getContext(document.activeElement).getValue(e)}function Lre(n,e){var t=q5e(n,e);j5e(t,e,o1);var r=new Ke(U5,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationEnablement:r}}var z5e=function(n){Dre(e,n);function e(t,r,i,o,s){s===void 0&&(s=!1);var a=n.call(this,t,r,s,i)||this;return a._register(Lre(o,{target:a.inputBox.element,historyNavigator:a.inputBox}).scopedContextKeyService),a}return e=Are([Ire(3,yt)],e),e}(B5e),G5e=function(n){Dre(e,n);function e(t,r,i,o,s){s===void 0&&(s=!1);var a=n.call(this,t,r,s,i)||this;return a._register(Lre(o,{target:a.inputBox.element,historyNavigator:a.inputBox}).scopedContextKeyService),a}return e=Are([Ire(3,yt)],e),e}(U5e);pa.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Le.and(Le.has(o1),Le.equals(U5,!0)),primary:16,secondary:[528],handler:function(n,e){var t=xre(n.get(yt),o1);if(t){var r=t.historyNavigator;r.showPreviousValue()}}});pa.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Le.and(Le.has(o1),Le.equals(U5,!0)),primary:18,secondary:[530],handler:function(n,e){var t=xre(n.get(yt),o1);if(t){var r=t.historyNavigator;r.showNextValue()}}});var j5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$5e=D("label.find","Find"),K5e=D("placeholder.find","Find"),Y5e=D("label.previousMatchButton","Previous match"),X5e=D("label.nextMatchButton","Next match"),Q5e=D("label.toggleSelectionFind","Find in selection"),Z5e=D("label.closeButton","Close"),J5e=D("label.replace","Replace"),eBe=D("placeholder.replace","Replace"),tBe=D("label.replaceButton","Replace"),nBe=D("label.replaceAllButton","Replace All"),rBe=D("label.toggleReplaceButton","Toggle Replace mode"),iBe=D("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",ep),oBe=D("label.matchesLocation","{0} of {1}"),zz=D("label.noResults","No Results"),ju=419,sBe=275,aBe=sBe-54,Dv=69,Gz=17+(Dv+3+1)+23*4+2,uBe=33,$z="ctrlEnterReplaceAll.windows.donotask",Kz=Tt?256:2048,wk=function(){function n(e){this.afterLineNumber=e,this.heightInPx=uBe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}return n}();function Yz(n,e,t){var r=!!e.match(/\n/);if(t&&r&&t.selectionStart>0){n.stopPropagation();return}}function Xz(n,e,t){var r=!!e.match(/\n/);if(t&&r&&t.selectionEnd<t.value.length){n.stopPropagation();return}}var lBe=function(n){j5(e,n);function e(t,r,i,o,s,a,u,l,c){var d=n.call(this)||this;return d._codeEditor=t,d._controller=r,d._state=i,d._contextViewProvider=o,d._keybindingService=s,d._contextKeyService=a,d._storageService=l,d._notificationService=c,d._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean($z,0),d._isVisible=!1,d._isReplaceVisible=!1,d._ignoreChangeEvent=!1,d._updateHistoryDelayer=new w_(500),d._register(bn(function(){return d._updateHistoryDelayer.cancel()})),d._register(d._state.onFindReplaceStateChange(function(h){return d._onStateChanged(h)})),d._buildDomNode(),d._updateButtons(),d._tryUpdateWidgetWidth(),d._findInput.inputBox.layout(),d._register(d._codeEditor.onDidChangeConfiguration(function(h){if(h.readOnly&&(d._codeEditor.getConfiguration().readOnly&&d._state.change({isReplaceRevealed:!1},!1),d._updateButtons()),h.layoutInfo&&d._tryUpdateWidgetWidth(),h.accessibilitySupport&&d.updateAccessibilitySupport(),h.contribInfo){var p=d._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop;p&&!d._viewZone&&(d._viewZone=new wk(0),d._showViewZone()),!p&&d._viewZone&&d._removeViewZone()}})),d.updateAccessibilitySupport(),d._register(d._codeEditor.onDidChangeCursorSelection(function(){d._isVisible&&d._updateToggleSelectionFindButton()})),d._register(d._codeEditor.onDidFocusEditorWidget(function(){if(d._isVisible){var h=d._controller.getGlobalBufferTerm();h&&h!==d._state.searchString&&(d._state.change({searchString:h},!0),d._findInput.select())}})),d._findInputFocused=A2.bindTo(a),d._findFocusTracker=d._register(Fb(d._findInput.inputBox.inputElement)),d._register(d._findFocusTracker.onDidFocus(function(){d._findInputFocused.set(!0),d._updateSearchScope()})),d._register(d._findFocusTracker.onDidBlur(function(){d._findInputFocused.set(!1)})),d._replaceInputFocused=H5.bindTo(a),d._replaceFocusTracker=d._register(Fb(d._replaceInput.inputBox.inputElement)),d._register(d._replaceFocusTracker.onDidFocus(function(){d._replaceInputFocused.set(!0),d._updateSearchScope()})),d._register(d._replaceFocusTracker.onDidBlur(function(){d._replaceInputFocused.set(!1)})),d._codeEditor.addOverlayWidget(d),d._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop&&(d._viewZone=new wk(0)),d._applyTheme(u.getTheme()),d._register(u.onThemeChange(d._applyTheme.bind(d))),d._register(d._codeEditor.onDidChangeModel(function(){d._isVisible&&(d._viewZoneId=void 0)})),d._register(d._codeEditor.onDidScrollChange(function(h){if(h.scrollTopChanged){d._layoutViewZone();return}setTimeout(function(){d._layoutViewZone()},0)})),d}return e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},e.prototype._onStateChanged=function(t){if(t.searchString){this._state.searchString.indexOf(`
`)>=0?De(this._domNode,"multipleline"):ot(this._domNode,"multipleline");try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getConfiguration().readOnly&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=tu(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){var r=this._state.searchString.length>0&&this._state.matchesCount===0;kt(this._domNode,"no-results",r),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory()},e.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},e.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},e.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=Dv+"px",this._state.matchesCount>=ep?this._matchesCount.title=iBe:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var t;if(this._state.matchesCount>0){var r=String(this._state.matchesCount);this._state.matchesCount>=ep&&(r+="+");var i=String(this._state.matchesPosition);i==="0"&&(i="?"),t=Yt(oBe,i,r)}else t=zz;this._matchesCount.appendChild(document.createTextNode(t)),ji(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString),!0),Dv=Math.max(Dv,this._matchesCount.clientWidth)},e.prototype._getAriaLabel=function(t,r,i){return t===zz?i===""?D("ariaSearchNoResultEmpty","{0} found",t):D("ariaSearchNoResult","{0} found for {1}",t,i):r?D("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",t,i,r.startLineNumber+":"+r.startColumn):D("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",t,i)},e.prototype._updateToggleSelectionFindButton=function(){var t=this._codeEditor.getSelection(),r=t?t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn:!1,i=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(i||r))},e.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var t=this._state.searchString.length>0,r=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&r),this._nextBtn.setEnabled(this._isVisible&&t&&r),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),kt(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var i=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&i)},e.prototype._reveal=function(){var t=this;if(!this._isVisible){this._isVisible=!0;var r=this._codeEditor.getSelection(),i=r?r.startLineNumber!==r.endLineNumber||r.startColumn!==r.endColumn:!1;i&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){De(t._domNode,"visible"),t._domNode.setAttribute("aria-hidden","false")},0),setTimeout(function(){t._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);var o=!0;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&r){var s=this._codeEditor.getDomNode();if(s){var a=di(s),u=this._codeEditor.getScrolledVisiblePosition(r.getStartPosition()),l=a.left+(u?u.left:0),c=u?u.top:0;if(this._viewZone&&c<this._viewZone.heightInPx){r.endLineNumber>r.startLineNumber&&(o=!1);var d=X4(this._domNode).left;l>d&&(o=!1);var h=this._codeEditor.getScrolledVisiblePosition(r.getEndPosition()),p=a.left+(h?h.left:0);p>d&&(o=!1)}}}this._showViewZone(o)}},e.prototype._hide=function(t){this._isVisible&&(this._isVisible=!1,this._updateButtons(),ot(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},e.prototype._layoutViewZone=function(){var t=this,r=this._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop;if(!r){this._removeViewZone();return}if(this._isVisible){var i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(function(o){i.heightInPx=t._getHeight(),t._viewZoneId=o.addZone(i),t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+i.heightInPx)})}},e.prototype._showViewZone=function(t){var r=this;if(t===void 0&&(t=!0),!!this._isVisible){var i=this._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop;if(i){this._viewZone===void 0&&(this._viewZone=new wk(0));var o=this._viewZone;this._codeEditor.changeViewZones(function(s){if(r._viewZoneId!==void 0){var a=r._getHeight();if(a===o.heightInPx)return;var u=a-o.heightInPx;o.heightInPx=a,s.layoutZone(r._viewZoneId),t&&r._codeEditor.setScrollTop(r._codeEditor.getScrollTop()+u);return}else{var u=r._getHeight();o.heightInPx=u,r._viewZoneId=s.addZone(o),t&&r._codeEditor.setScrollTop(r._codeEditor.getScrollTop()+u)}})}}},e.prototype._removeViewZone=function(){var t=this;this._codeEditor.changeViewZones(function(r){t._viewZoneId!==void 0&&(r.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._viewZone&&(t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx),t._viewZone=void 0))})},e.prototype._applyTheme=function(t){var r={inputActiveOptionBorder:t.getColor(FT),inputActiveOptionBackground:t.getColor(BT),inputBackground:t.getColor(k6),inputForeground:t.getColor(R6),inputBorder:t.getColor(P6),inputValidationInfoBackground:t.getColor(M6),inputValidationInfoForeground:t.getColor(F6),inputValidationInfoBorder:t.getColor(B6),inputValidationWarningBackground:t.getColor(Jee),inputValidationWarningForeground:t.getColor(ete),inputValidationWarningBorder:t.getColor(tte),inputValidationErrorBackground:t.getColor(nte),inputValidationErrorForeground:t.getColor(rte),inputValidationErrorBorder:t.getColor(ite)};this._findInput.style(r),this._replaceInput.style(r)},e.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible){var t=this._codeEditor.getConfiguration().layoutInfo.contentWidth;if(t<=0){De(this._domNode,"hiddenEditor");return}else Eu(this._domNode,"hiddenEditor")&&ot(this._domNode,"hiddenEditor");var r=this._codeEditor.getConfiguration().layoutInfo.width,i=this._codeEditor.getConfiguration().layoutInfo.minimapWidth,o=!1,s=!1,a=!1;if(this._resized){var u=tu(this._domNode);if(u>ju){this._domNode.style.maxWidth=r-28-i-15+"px",this._replaceInput.width=tu(this._findInput.domNode);return}}if(ju+28+i>=r&&(s=!0),ju+28+i-Dv>=r&&(a=!0),ju+28+i-Dv>=r+50&&(o=!0),kt(this._domNode,"collapsed-find-widget",o),kt(this._domNode,"narrow-find-widget",a),kt(this._domNode,"reduced-find-widget",s),!a&&!o&&(this._domNode.style.maxWidth=r-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();var l=this._findInput.inputBox.width;l>0&&(this._replaceInput.width=l)}}},e.prototype._getHeight=function(){var t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t},e.prototype._tryUpdateHeight=function(){var t=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===t?!1:(this._cachedHeight=t,this._domNode.style.height=t+"px",!0)},e.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},e.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},e.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},e.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var t=this._codeEditor.getSelection();t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));var r=this._state.currentMatch;t.startLineNumber!==t.endLineNumber&&(H.equalsRange(t,r)||this._state.change({searchScope:t},!0))}},e.prototype._onFindInputMouseDown=function(t){t.middleButton&&t.stopPropagation()},e.prototype._onFindInputKeyDown=function(t){if(t.equals(Kz|3)){var r=this._findInput.inputBox.inputElement,i=r.selectionStart,o=r.selectionEnd,s=r.value;if(i!==null&&o!==null){var a=s.substr(0,i)+`
`+s.substr(o);this._findInput.inputBox.value=a,r.setSelectionRange(i+1,i+1),this._findInput.inputBox.layout(),t.preventDefault();return}}if(t.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(2066)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return Yz(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(t.equals(18))return Xz(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))},e.prototype._onReplaceInputKeyDown=function(t){if(t.equals(Kz|3)){bo&&wu&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(D("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store($z,!0,0));var r=this._replaceInput.inputBox.inputElement,i=r.selectionStart,o=r.selectionEnd,s=r.value;if(i!==null&&o!==null){var a=s.substr(0,i)+`
`+s.substr(o);this._replaceInput.inputBox.value=a,r.setSelectionRange(i+1,i+1),this._replaceInput.inputBox.layout(),t.preventDefault();return}}if(t.equals(2)){this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(1026)){this._findInput.focus(),t.preventDefault();return}if(t.equals(2066)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return Yz(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(t.equals(18))return Xz(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))},e.prototype.getHorizontalSashTop=function(t){return 0},e.prototype.getHorizontalSashLeft=function(t){return 0},e.prototype.getHorizontalSashWidth=function(t){return 500},e.prototype._keybindingLabelFor=function(t){var r=this._keybindingService.lookupKeybinding(t);return r?" ("+r.getLabel()+")":""},e.prototype._buildDomNode=function(){var t=this,r=!0,i=!0;this._findInput=this._register(new z5e(null,this._contextViewProvider,{width:aBe,label:$5e,placeholder:K5e,appendCaseSensitiveLabel:this._keybindingLabelFor(ln.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(ln.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(ln.ToggleRegexCommand),validation:function(c){if(c.length===0||!t._findInput.getRegex())return null;try{return new RegExp(c),null}catch(d){return{content:d.message}}},flexibleHeight:r,flexibleWidth:i,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(c){return t._onFindInputKeyDown(c)})),this._register(this._findInput.inputBox.onDidChange(function(){t._ignoreChangeEvent||t._state.change({searchString:t._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){t._state.change({isRegex:t._findInput.getRegex(),wholeWord:t._findInput.getWholeWords(),matchCase:t._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(c){c.equals(1026)&&t._isReplaceVisible&&(t._replaceInput.focus(),c.preventDefault())})),this._register(this._findInput.onRegexKeyDown(function(c){c.equals(2)&&t._isReplaceVisible&&(t._replaceInput.focusOnPreserve(),c.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(function(c){t._tryUpdateHeight()&&t._showViewZone()})),Uc&&this._register(this._findInput.onMouseDown(function(c){return t._onFindInputMouseDown(c)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new lv({label:Y5e+this._keybindingLabelFor(ln.PreviousMatchFindAction),className:"previous",onTrigger:function(){t._codeEditor.getAction(ln.PreviousMatchFindAction).run().then(void 0,He)}})),this._nextBtn=this._register(new lv({label:X5e+this._keybindingLabelFor(ln.NextMatchFindAction),className:"next",onTrigger:function(){t._codeEditor.getAction(ln.NextMatchFindAction).run().then(void 0,He)}}));var o=document.createElement("div");o.className="find-part",o.appendChild(this._findInput.domNode);var s=document.createElement("div");s.className="find-actions",o.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new cBe({parent:s,title:Q5e+this._keybindingLabelFor(ln.ToggleSearchScopeCommand),onChange:function(){if(t._toggleSelectionFind.checked){if(t._codeEditor.hasModel()){var c=t._codeEditor.getSelection();c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()||t._state.change({searchScope:c},!0)}}else t._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new lv({label:Z5e+this._keybindingLabelFor(ln.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){t._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(c){c.equals(2)&&t._isReplaceVisible&&(t._replaceBtn.isEnabled()?t._replaceBtn.focus():t._codeEditor.focus(),c.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new G5e(null,void 0,{label:J5e,placeholder:eBe,history:[],flexibleHeight:r,flexibleWidth:i,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(c){return t._onReplaceInputKeyDown(c)})),this._register(this._replaceInput.inputBox.onDidChange(function(){t._state.change({replaceString:t._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(c){t._isReplaceVisible&&t._tryUpdateHeight()&&t._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){t._state.change({preserveCase:t._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(c){c.equals(2)&&(t._prevBtn.isEnabled()?t._prevBtn.focus():t._nextBtn.isEnabled()?t._nextBtn.focus():t._toggleSelectionFind.isEnabled()?t._toggleSelectionFind.focus():t._closeBtn.isEnabled()&&t._closeBtn.focus(),c.preventDefault())})),this._replaceBtn=this._register(new lv({label:tBe+this._keybindingLabelFor(ln.ReplaceOneAction),className:"replace",onTrigger:function(){t._controller.replace()},onKeyDown:function(c){c.equals(1026)&&(t._closeBtn.focus(),c.preventDefault())}})),this._replaceAllBtn=this._register(new lv({label:nBe+this._keybindingLabelFor(ln.ReplaceAllAction),className:"replace-all",onTrigger:function(){t._controller.replaceAll()}}));var a=document.createElement("div");a.className="replace-part",a.appendChild(this._replaceInput.domNode);var u=document.createElement("div");u.className="replace-actions",a.appendChild(u),u.appendChild(this._replaceBtn.domNode),u.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new lv({label:rBe,className:"toggle left",onTrigger:function(){t._state.change({isReplaceRevealed:!t._isReplaceVisible},!1),t._isReplaceVisible&&(t._replaceInput.width=tu(t._findInput.domNode),t._replaceInput.inputBox.layout()),t._showViewZone()}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=ju+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(o),this._domNode.appendChild(a),this._resizeSash=new p2(this._domNode,this,{orientation:0}),this._resized=!1;var l=ju;this._register(this._resizeSash.onDidStart(function(){l=tu(t._domNode)})),this._register(this._resizeSash.onDidChange(function(c){t._resized=!0;var d=l+c.startX-c.currentX;if(!(d<ju)){var h=d-Gz,p=parseFloat(Y4(t._domNode).maxWidth)||0;d>p||(t._domNode.style.width=d+"px",t._findInput.inputBox.width=h,t._isReplaceVisible&&(t._replaceInput.width=tu(t._findInput.domNode)),t._findInput.inputBox.layout(),t._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(function(){var c=tu(t._domNode);if(!(c<ju)){var d=ju;(!t._resized||c===ju)&&(d=t._codeEditor.getConfiguration().layoutInfo.width-28-t._codeEditor.getConfiguration().layoutInfo.minimapWidth-15,t._resized=!0);var h=d-Gz;t._domNode.style.width=d+"px",t._findInput.inputBox.width=h,t._isReplaceVisible&&(t._replaceInput.width=tu(t._findInput.domNode)),t._findInput.inputBox.layout()}}))},e.prototype.updateAccessibilitySupport=function(){var t=this._codeEditor.getConfiguration().accessibilitySupport;this._findInput.setFocusInputOnOptionClick(t!==2)},e.ID="editor.contrib.findWidget",e}(os),cBe=function(n){j5(e,n);function e(t){var r=n.call(this)||this;return r._opts=t,r._domNode=document.createElement("div"),r._domNode.className="monaco-checkbox",r._domNode.title=r._opts.title,r._domNode.tabIndex=0,r._checkbox=document.createElement("input"),r._checkbox.type="checkbox",r._checkbox.className="checkbox",r._checkbox.id="checkbox-"+e._COUNTER++,r._checkbox.tabIndex=-1,r._label=document.createElement("label"),r._label.className="label",r._label.htmlFor=r._checkbox.id,r._label.tabIndex=-1,r._domNode.appendChild(r._checkbox),r._domNode.appendChild(r._label),r._opts.parent.appendChild(r._domNode),r.onchange(r._checkbox,function(){r._opts.onChange()}),r}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(t){this._checkbox.checked=t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._domNode.focus()},e.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},e.prototype.disable=function(){this._checkbox.disabled=!0},e.prototype.setEnabled=function(t){t?(this.enable(),this.domNode.tabIndex=0):(this.disable(),this.domNode.tabIndex=-1)},e._COUNTER=0,e}(os),lv=function(n){j5(e,n);function e(t){var r=n.call(this)||this;return r._opts=t,r._domNode=document.createElement("div"),r._domNode.title=r._opts.label,r._domNode.tabIndex=0,r._domNode.className="button "+r._opts.className,r._domNode.setAttribute("role","button"),r._domNode.setAttribute("aria-label",r._opts.label),r.onclick(r._domNode,function(i){r._opts.onTrigger(),i.preventDefault()}),r.onkeydown(r._domNode,function(i){if(i.equals(10)||i.equals(3)){r._opts.onTrigger(),i.preventDefault();return}r._opts.onKeyDown&&r._opts.onKeyDown(i)}),r}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},e.prototype.focus=function(){this._domNode.focus()},e.prototype.setEnabled=function(t){kt(this._domNode,"disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1},e.prototype.setExpanded=function(t){this._domNode.setAttribute("aria-expanded",String(!!t))},e.prototype.toggleClass=function(t,r){kt(this._domNode,t,r)},e}(os);mn(function(n,e){var t=function(_,b){b&&e.addRule(".monaco-editor "+_+" { background-color: "+b+"; }")};t(".findMatch",n.getColor(WNe)),t(".currentFindMatch",n.getColor(VNe)),t(".findScope",n.getColor(UNe));var r=n.getColor(fl);t(".find-widget",r);var i=n.getColor(ig);i&&e.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+i+"; }");var o=n.getColor(qNe);o&&e.addRule(".monaco-editor .findMatch { border: 1px "+(n.type==="hc"?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var s=n.getColor(jNe);s&&e.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+s+"; padding: 1px; box-sizing: border-box; }");var a=n.getColor(zNe);a&&e.addRule(".monaco-editor .findScope { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+a+"; }");var u=n.getColor(Mr);u&&e.addRule(".monaco-editor .find-widget { border: 2px solid "+u+"; }");var l=n.getColor(pte);l&&e.addRule(".monaco-editor .find-widget { color: "+l+"; }");var c=n.getColor(gNe);c&&e.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+c+"; }");var d=n.getColor(FNe);if(d)e.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+d+"; width: 3px !important; margin-left: -4px;}");else{var h=n.getColor(_p);h&&e.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+h+"; width: 3px !important; margin-left: -4px;}")}var p=n.getColor(FT);p&&e.addRule(".monaco-editor .find-widget .monaco-checkbox .checkbox:checked + .label { border: 1px solid "+p.toString()+"; }");var v=n.getColor(BT);v&&e.addRule(".monaco-editor .find-widget .monaco-checkbox .checkbox:checked + .label { background-color: "+v.toString()+"; }");var m=n.getColor(Nm);m&&e.addRule(".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+m+"; }")});var va=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nre=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ku=function(n,e){return function(t,r){e(t,r,n)}},fBe=524288;function Ore(n){if(!n.hasModel())return null;var e=n.getSelection();if(e.startLineNumber===e.endLineNumber){if(e.isEmpty()){var t=n.getModel().getWordAtPosition(e.getStartPosition());if(t)return t.word}else if(n.getModel().getValueLengthInRange(e)<fBe)return n.getModel().getValueInRange(e)}return null}var Al=function(n){va(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._editor=t,s._findWidgetVisible=ug.bindTo(r),s._contextKeyService=r,s._storageService=i,s._clipboardService=o,s._updateHistoryDelayer=new w_(500),s._state=s._register(new x5e),s.loadQueryState(),s._register(s._state.onFindReplaceStateChange(function(a){return s._onStateChanged(a)})),s._model=null,s._register(s._editor.onDidChangeModel(function(){var a=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:s._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:s._storageService.getBoolean("editor.preserveCase",1,!1)},!1),a&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})})),s}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this.disposeModel(),n.prototype.dispose.call(this)},e.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},e.prototype.getId=function(){return e.ID},e.prototype._onStateChanged=function(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)},e.prototype.saveQueryState=function(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},e.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},e.prototype.isFindInputFocused=function(){return!!A2.getValue(this._contextKeyService)},e.prototype.getState=function(){return this._state},e.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},e.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},e.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},e.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},e.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var t=this._editor.getSelection();t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||this._state.change({searchScope:t},!0)}},e.prototype.setSearchString=function(t){this._state.isRegex&&(t=Sl(t)),this._state.change({searchString:t},!1)},e.prototype.highlightFindOptions=function(){},e.prototype._start=function(t){if(this.disposeModel(),!!this._editor.hasModel()){var r={isRevealed:!0};if(t.seedSearchStringFromSelection){var i=Ore(this._editor);i&&(this._state.isRegex?r.searchString=Sl(i):r.searchString=i)}if(!r.searchString&&t.seedSearchStringFromGlobalClipboard){var i=this.getGlobalBufferTerm();i&&(r.searchString=i)}if(t.forceRevealReplace?r.isReplaceRevealed=!0:this._findWidgetVisible.get()||(r.isReplaceRevealed=!1),t.updateSearchScope){var o=this._editor.getSelection();o.isEmpty()||(r.searchScope=o)}this._state.change(r,!1),this._model||(this._model=new C5e(this._editor,this._state))}},e.prototype.start=function(t){this._start(t)},e.prototype.moveToNextMatch=function(){return this._model?(this._model.moveToNextMatch(),!0):!1},e.prototype.moveToPrevMatch=function(){return this._model?(this._model.moveToPrevMatch(),!0):!1},e.prototype.replace=function(){return this._model?(this._model.replace(),!0):!1},e.prototype.replaceAll=function(){return this._model?(this._model.replaceAll(),!0):!1},e.prototype.selectAllMatches=function(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1},e.prototype.getGlobalBufferTerm=function(){return this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},e.prototype.setGlobalBufferTerm=function(t){this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)},e.ID="editor.contrib.findController",e=Nre([Ku(1,yt),Ku(2,kh),Ku(3,m2)],e),e}(fe),hBe=function(n){va(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this,t,i,u,l)||this;return c._contextViewService=r,c._keybindingService=o,c._themeService=s,c._notificationService=a,c._widget=null,c._findOptionsWidget=null,c}return e.prototype._start=function(t){this._widget||this._createFindWidget(),!this._widget.getPosition()&&this._editor.getConfiguration().contribInfo.find.autoFindInSelection&&(t.updateSearchScope=!0),n.prototype._start.call(this,t),t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput()},e.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},e.prototype._createFindWidget=function(){this._widget=this._register(new lBe(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new I5e(this._editor,this._state,this._keybindingService,this._themeService))},e=Nre([Ku(1,Nh),Ku(2,yt),Ku(3,wr),Ku(4,Yr),Ku(5,gi),Ku(6,kh),Ku(7,cp(m2))],e),e}(Al),dBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.StartFindAction,label:D("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menubarOpts:{menuId:14,group:"3_find",title:D({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return e.prototype.run=function(t,r){var i=Al.get(r);i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:r.getConfiguration().contribInfo.find.globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},e}(Ue),pBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.StartFindWithSelection,label:D("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return e.prototype.run=function(t,r){var i=Al.get(r);i&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1}),i.setGlobalBufferTerm(i.getState().searchString))},e}(Ue),x2=function(n){va(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=Al.get(r);i&&!this._run(i)&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))},e}(Ue),gBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.NextMatchFindAction,label:D("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return e.prototype._run=function(t){return t.moveToNextMatch()},e}(x2),vBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.NextMatchFindAction,label:D("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Le.and(W.focus,A2),primary:3,weight:100}})||this}return e.prototype._run=function(t){return t.moveToNextMatch()},e}(x2),mBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.PreviousMatchFindAction,label:D("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return e.prototype._run=function(t){return t.moveToPrevMatch()},e}(x2),_Be=function(n){va(e,n);function e(){return n.call(this,{id:ln.PreviousMatchFindAction,label:D("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Le.and(W.focus,A2),primary:1027,weight:100}})||this}return e.prototype._run=function(t){return t.moveToPrevMatch()},e}(x2),kre=function(n){va(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=Al.get(r);if(i){var o=Ore(r);o&&i.setSearchString(o),this._run(i)||(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))}},e}(Ue),yBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.NextSelectionMatchFindAction,label:D("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:2109,weight:100}})||this}return e.prototype._run=function(t){return t.moveToNextMatch()},e}(kre),bBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.PreviousSelectionMatchFindAction,label:D("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:3133,weight:100}})||this}return e.prototype._run=function(t){return t.moveToPrevMatch()},e}(kre),CBe=function(n){va(e,n);function e(){return n.call(this,{id:ln.StartFindReplaceAction,label:D("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menubarOpts:{menuId:14,group:"3_find",title:D({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return e.prototype.run=function(t,r){if(!(!r.hasModel()||r.getConfiguration().readOnly)){var i=Al.get(r),o=r.getSelection(),s=i.isFindInputFocused(),a=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&r.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&!s,u=s||a?2:1;i&&i.start({forceRevealReplace:!0,seedSearchStringFromSelection:a,seedSearchStringFromGlobalClipboard:r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,shouldFocus:u,shouldAnimate:!0,updateSearchScope:!1})}},e}(Ue);Cn(hBe);pe(dBe);pe(pBe);pe(gBe);pe(vBe);pe(mBe);pe(_Be);pe(yBe);pe(bBe);pe(CBe);var Fl=Do.bindToContribution(Al.get);ce(new Fl({id:ln.CloseFindWidgetCommand,precondition:ug,handler:function(n){return n.closeFindWidget()},kbOpts:{weight:105,kbExpr:W.focus,primary:9,secondary:[1033]}}));ce(new Fl({id:ln.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(n){return n.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:W.focus,primary:ME.primary,mac:ME.mac,win:ME.win,linux:ME.linux}}));ce(new Fl({id:ln.ToggleWholeWordCommand,precondition:void 0,handler:function(n){return n.toggleWholeWords()},kbOpts:{weight:105,kbExpr:W.focus,primary:FE.primary,mac:FE.mac,win:FE.win,linux:FE.linux}}));ce(new Fl({id:ln.ToggleRegexCommand,precondition:void 0,handler:function(n){return n.toggleRegex()},kbOpts:{weight:105,kbExpr:W.focus,primary:BE.primary,mac:BE.mac,win:BE.win,linux:BE.linux}}));ce(new Fl({id:ln.ToggleSearchScopeCommand,precondition:void 0,handler:function(n){return n.toggleSearchScope()},kbOpts:{weight:105,kbExpr:W.focus,primary:HE.primary,mac:HE.mac,win:HE.win,linux:HE.linux}}));ce(new Fl({id:ln.ReplaceOneAction,precondition:ug,handler:function(n){return n.replace()},kbOpts:{weight:105,kbExpr:W.focus,primary:3094}}));ce(new Fl({id:ln.ReplaceOneAction,precondition:ug,handler:function(n){return n.replace()},kbOpts:{weight:105,kbExpr:Le.and(W.focus,H5),primary:3}}));ce(new Fl({id:ln.ReplaceAllAction,precondition:ug,handler:function(n){return n.replaceAll()},kbOpts:{weight:105,kbExpr:W.focus,primary:2563}}));ce(new Fl({id:ln.ReplaceAllAction,precondition:ug,handler:function(n){return n.replaceAll()},kbOpts:{weight:105,kbExpr:Le.and(W.focus,H5),primary:void 0,mac:{primary:2051}}}));ce(new Fl({id:ln.SelectAllMatchesAction,precondition:ug,handler:function(n){return n.selectAllMatches()},kbOpts:{weight:105,kbExpr:W.focus,primary:515}}));var Qz=65535,lc=16777215,Zz=4278190080,s1=function(){function n(e,t,r){if(e.length!==t.length||e.length>Qz)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=r,this._parentsComputed=!1}return n.prototype.ensureParentIndices=function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],r=function(l,c){var d=t[t.length-1];return e.getStartLineNumber(d)<=l&&e.getEndLineNumber(d)>=c},i=0,o=this._startIndexes.length;i<o;i++){var s=this._startIndexes[i],a=this._endIndexes[i];if(s>lc||a>lc)throw new Error("startLineNumber or endLineNumber must not exceed "+lc);for(;t.length>0&&!r(s,a);)t.pop();var u=t.length>0?t[t.length-1]:-1;t.push(i),this._startIndexes[i]=s+((u&255)<<24),this._endIndexes[i]=a+((u&65280)<<16)}}},Object.defineProperty(n.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),n.prototype.getStartLineNumber=function(e){return this._startIndexes[e]&lc},n.prototype.getEndLineNumber=function(e){return this._endIndexes[e]&lc},n.prototype.getType=function(e){return this._types?this._types[e]:void 0},n.prototype.hasTypes=function(){return!!this._types},n.prototype.isCollapsed=function(e){var t=e/32|0,r=e%32;return(this._collapseStates[t]&1<<r)!==0},n.prototype.setCollapsed=function(e,t){var r=e/32|0,i=e%32,o=this._collapseStates[r];t?this._collapseStates[r]=o|1<<i:this._collapseStates[r]=o&~(1<<i)},n.prototype.toRegion=function(e){return new wBe(this,e)},n.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&Zz)>>>24)+((this._endIndexes[e]&Zz)>>>16);return t===Qz?-1:t},n.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t},n.prototype.findIndex=function(e){var t=0,r=this._startIndexes.length;if(r===0)return-1;for(;t<r;){var i=Math.floor((t+r)/2);e<this.getStartLineNumber(i)?r=i:t=i+1}return t-1},n.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){var r=this.getEndLineNumber(t);if(r>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1},n.prototype.toString=function(){for(var e=[],t=0;t<this.length;t++)e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t);return e.join(", ")},n}(),wBe=function(){function n(e,t){this.ranges=e,this.index=t}return Object.defineProperty(n.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),n.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber},n.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber},n}(),EBe=function(){function n(e,t){this._updateEventEmitter=new Q,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new s1(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(n.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),n.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var r={};this._decorationProvider.changeDecorations(function(i){for(var o=0,s=e;o<s.length;o++){var a=s[o],u=a.regionIndex,l=t._editorDecorationIds[u];if(l&&!r[l]){r[l]=!0;var c=!t._regions.isCollapsed(u);t._regions.setCollapsed(u,c),i.changeDecorationOptions(l,t._decorationProvider.getDecorationOption(c))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},n.prototype.update=function(e,t){var r=this;t===void 0&&(t=[]);for(var i=[],o=function(v,m){for(var _=0,b=t;_<b.length;_++){var C=b[_];if(v<C&&C<=m)return!0}return!1},s=function(v,m){var _=e.getStartLineNumber(v);m&&o(_,e.getEndLineNumber(v))&&(m=!1),e.setCollapsed(v,m);var b=r._textModel.getLineMaxColumn(_),C={startLineNumber:_,startColumn:b,endLineNumber:_,endColumn:b};i.push({range:C,options:r._decorationProvider.getDecorationOption(m)})},a=0,u=function(){for(;a<r._regions.length;){var v=r._regions.isCollapsed(a);if(a++,v)return a-1}return-1},l=0,c=u();c!==-1&&l<e.length;){var d=this._textModel.getDecorationRange(this._editorDecorationIds[c]);if(d){var h=d.startLineNumber;if(this._textModel.getLineMaxColumn(h)===d.startColumn)for(;l<e.length;){var p=e.getStartLineNumber(l);if(h>=p)s(l,h===p),l++;else break}}c=u()}for(;l<e.length;)s(l,!1),l++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},n.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var r=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(r){var i=r.startLineNumber,o=r.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:i,endLineNumber:o})}}if(e.length>0)return e},n.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r],s=this.getRegionAtLine(o.startLineNumber);s&&!s.isCollapsed&&t.push(s)}this.toggleCollapseState(t)}},n.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},n.prototype.getAllRegionsAtLine=function(e,t){var r=[];if(this._regions)for(var i=this._regions.findRange(e),o=1;i>=0;){var s=this._regions.toRegion(i);(!t||t(s,o))&&r.push(s),o++,i=s.parentIndex}return r},n.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},n.prototype.getRegionsInside=function(e,t){var r=[],i=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2)for(var s=[],a=i,u=this._regions.length;a<u;a++){var l=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;s.length>0&&!l.containedBy(s[s.length-1]);)s.pop();s.push(l),t(l,s.length)&&r.push(l)}else break}else for(var a=i,u=this._regions.length;a<u;a++){var l=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o)(!t||t(l))&&r.push(l);else break}return r},n}();function O_(n,e,t,r){t===void 0&&(t=Number.MAX_VALUE);var i=[];if(r&&r.length>0)for(var o=0,s=r;o<s.length;o++){var a=s[o],u=n.getRegionAtLine(a);if(u&&(u.isCollapsed!==e&&i.push(u),t>1)){var l=n.getRegionsInside(u,function(c,d){return c.isCollapsed!==e&&d<t});i.push.apply(i,l)}}else{var l=n.getRegionsInside(null,function(d,h){return d.isCollapsed!==e&&h<t});i.push.apply(i,l)}n.toggleCollapseState(i)}function Rre(n,e,t,r){for(var i=[],o=0,s=r;o<s.length;o++){var a=s[o],u=n.getAllRegionsAtLine(a,function(l,c){return l.isCollapsed!==e&&c<=t});i.push.apply(i,u)}n.toggleCollapseState(i)}function SBe(n,e,t,r){var i=function(s,a){return a===e&&s.isCollapsed!==t&&!r.some(function(u){return s.containsLine(u)})},o=n.getRegionsInside(null,i);n.toggleCollapseState(o)}function q5(n,e,t){for(var r=n.textModel,i=n.regions,o=[],s=i.length-1;s>=0;s--)if(t!==i.isCollapsed(s)){var a=i.getStartLineNumber(s);e.test(r.getLineContent(a))&&o.push(i.toRegion(s))}n.toggleCollapseState(o)}function z5(n,e,t){for(var r=n.regions,i=[],o=r.length-1;o>=0;o--)t!==r.isCollapsed(o)&&e===r.getType(o)&&i.push(r.toRegion(o));n.toggleCollapseState(i)}var TBe=function(){function n(e){this.editor=e,this.autoHideFoldingControls=!0}return n.prototype.getDecorationOption=function(e){return e?n.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n.EXPANDED_VISUAL_DECORATION},n.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)},n.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)},n.COLLAPSED_VISUAL_DECORATION=mt.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}),n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=mt.register({stickiness:1,linesDecorationsClassName:"folding"}),n.EXPANDED_VISUAL_DECORATION=mt.register({stickiness:1,linesDecorationsClassName:"folding alwaysShowFoldIcons"}),n}(),DBe=function(){function n(e){var t=this;this._updateEventEmitter=new Q,this._foldingModel=e,this._foldingModelListener=e.onDidChange(function(r){return t.updateHiddenRanges()}),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),n.prototype.updateHiddenRanges=function(){for(var e=!1,t=[],r=0,i=0,o=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;r<a.length;r++)if(a.isCollapsed(r)){var u=a.getStartLineNumber(r)+1,l=a.getEndLineNumber(r);o<=u&&l<=s||(!e&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===u&&this._hiddenRanges[i].endLineNumber===l?(t.push(this._hiddenRanges[i]),i++):(e=!0,t.push(new H(u,1,l,1))),o=u,s=l)}(e||i<this._hiddenRanges.length)&&this.applyHiddenRanges(t)},n.prototype.applyMemento=function(e){if(!Array.isArray(e)||e.length===0)return!1;for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];if(!o.startLineNumber||!o.endLineNumber)return!1;t.push(new H(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(t),!0},n.prototype.getMemento=function(){return this._hiddenRanges.map(function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}})},n.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)},n.prototype.hasRanges=function(){return this._hiddenRanges.length>0},n.prototype.isHidden=function(e){return Jz(this._hiddenRanges,e)!==null},n.prototype.adjustSelections=function(e){for(var t=this,r=!1,i=this._foldingModel.textModel,o=null,s=function(h){return(!o||!ABe(h,o))&&(o=Jz(t._hiddenRanges,h)),o?o.startLineNumber-1:null},a=0,u=e.length;a<u;a++){var l=e[a],c=s(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),r=!0);var d=s(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),r=!0),e[a]=l}return r},n.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},n}();function ABe(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function Jz(n,e){var t=iTe(n,function(r){return e<r.startLineNumber})-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}var IBe=5e3,xBe="indent",LBe=function(){function n(e){this.editorModel=e,this.id=xBe}return n.prototype.dispose=function(){},n.prototype.compute=function(e){var t=Ot.getFoldingRules(this.editorModel.getLanguageIdentifier().id),r=t&&!!t.offSide,i=t&&t.markers;return Promise.resolve(OBe(this.editorModel,r,i))},n}(),NBe=function(){function n(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}return n.prototype.insertFirst=function(e,t,r){if(!(e>lc||t>lc)){var i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._length++,r<1e3&&(this._indentOccurrences[r]=(this._indentOccurrences[r]||0)+1)}},n.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),r=new Uint32Array(this._length),i=this._length-1,o=0;i>=0;i--,o++)t[o]=this._startIndexes[i],r[o]=this._endIndexes[i];return new s1(t,r)}else{for(var s=0,a=this._indentOccurrences.length,i=0;i<this._indentOccurrences.length;i++){var u=this._indentOccurrences[i];if(u){if(u+s>this._foldingRangesLimit){a=i;break}s+=u}}for(var l=e.getOptions().tabSize,t=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),i=this._length-1,o=0;i>=0;i--){var c=this._startIndexes[i],d=e.getLineContent(c),h=I_.computeIndentLevel(d,l);(h<a||h===a&&s++<this._foldingRangesLimit)&&(t[o]=c,r[o]=this._endIndexes[i],o++)}return new s1(t,r)}},n}();function OBe(n,e,t,r){r===void 0&&(r=IBe);var i=n.getOptions().tabSize,o=new NBe(r),s=void 0;t&&(s=new RegExp("("+t.start.source+")|(?:"+t.end.source+")"));var a=[],u=n.getLineCount()+1;a.push({indent:-1,endAbove:u,line:u});for(var l=n.getLineCount();l>0;l--){var c=n.getLineContent(l),d=I_.computeIndentLevel(c,i),h=a[a.length-1];if(d===-1){e&&(h.endAbove=l);continue}var p=void 0;if(s&&(p=c.match(s)))if(p[1]){for(var v=a.length-1;v>0&&a[v].indent!==-2;)v--;if(v>0){a.length=v+1,h=a[v],o.insertFirst(l,h.line,d),h.line=l,h.indent=d,h.endAbove=l;continue}}else{a.push({indent:-2,endAbove:l,line:l});continue}if(h.indent>d){do a.pop(),h=a[a.length-1];while(h.indent>d);var m=h.endAbove-1;m-l>=1&&o.insertFirst(l,m,d)}h.indent===d?h.endAbove=l:a.push({indent:d,endAbove:l,line:l})}return o.toIndentRanges(n)}var kBe=5e3,RBe={},Pre="syntax",PBe=function(){function n(e,t,r){r===void 0&&(r=kBe),this.editorModel=e,this.providers=t,this.limit=r,this.id=Pre}return n.prototype.compute=function(e){var t=this;return MBe(this.providers,this.editorModel,e).then(function(r){if(r){var i=Mre(r,t.limit);return i}return null})},n.prototype.dispose=function(){},n}();function MBe(n,e,t){var r=null,i=n.map(function(o,s){return Promise.resolve(o.provideFoldingRanges(e,RBe,t)).then(function(a){if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(r)||(r=[]);for(var u=e.getLineCount(),l=0,c=a;l<c.length;l++){var d=c[l];d.start>0&&d.end>d.start&&d.end<=u&&r.push({start:d.start,end:d.end,rank:s,kind:d.kind})}}},Eo)});return Promise.all(i).then(function(o){return r})}var FBe=function(){function n(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}return n.prototype.add=function(e,t,r,i){if(!(e>lc||t>lc)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=i,this._types[o]=r,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}},n.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),r=0;r<this._length;r++)e[r]=this._startIndexes[r],t[r]=this._endIndexes[r];return new s1(e,t,this._types)}else{for(var i=0,o=this._nestingLevelCounts.length,r=0;r<this._nestingLevelCounts.length;r++){var s=this._nestingLevelCounts[r];if(s){if(s+i>this._foldingRangesLimit){o=r;break}i+=s}}for(var e=new Uint32Array(this._foldingRangesLimit),t=new Uint32Array(this._foldingRangesLimit),a=[],r=0,u=0;r<this._length;r++){var l=this._nestingLevels[r];(l<o||l===o&&i++<this._foldingRangesLimit)&&(e[u]=this._startIndexes[r],t[u]=this._endIndexes[r],a[u]=this._types[r],u++)}return new s1(e,t,a)}},n}();function Mre(n,e){for(var t=n.sort(function(l,c){var d=l.start-c.start;return d===0&&(d=l.rank-c.rank),d}),r=new FBe(e),i=void 0,o=[],s=0,a=t;s<a.length;s++){var u=a[s];if(!i)i=u,r.add(u.start,u.end,u.kind&&u.kind.value,o.length);else if(u.start>i.start)if(u.end<=i.end)o.push(i),i=u,r.add(u.start,u.end,u.kind&&u.kind.value,o.length);else{if(u.start>i.end){do i=o.pop();while(i&&u.start>i.end);i&&o.push(i),i=u}r.add(u.start,u.end,u.kind&&u.kind.value,o.length)}}return r.toIndentRanges()}var Fre="init",BBe=function(){function n(e,t,r,i){if(this.editorModel=e,this.id=Fre,t.length){var o=function(s){return{range:{startLineNumber:s.startLineNumber,startColumn:0,endLineNumber:s.endLineNumber,endColumn:e.getLineLength(s.endLineNumber)},options:{stickiness:1}}};this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(r,i)}}return n.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)},n.prototype.compute=function(e){var t=[];if(this.decorationIds)for(var r=0,i=this.decorationIds;r<i.length;r++){var o=i[r],s=this.editorModel.getDecorationRange(o);s&&t.push({start:s.startLineNumber,end:s.endLineNumber,rank:1})}return Promise.resolve(Mre(t,Number.MAX_VALUE))},n}(),Ba=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HBe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},VBe=function(n,e){return function(t,r){e(t,r,n)}},Nu=new Ke("foldingEnabled",!1),eG="editor.contrib.folding",Bre=function(n){Ba(e,n);function e(t,r){var i=n.call(this)||this;return i.contextKeyService=r,i.localToDispose=i._register(new Be),i.editor=t,i._isEnabled=i.editor.getConfiguration().contribInfo.folding,i._autoHideFoldingControls=i.editor.getConfiguration().contribInfo.showFoldingControls==="mouseover",i._useFoldingProviders=i.editor.getConfiguration().contribInfo.foldingStrategy!=="indentation",i.foldingModel=null,i.hiddenRangeModel=null,i.rangeProvider=null,i.foldingRegionPromise=null,i.foldingStateMemento=null,i.foldingModelPromise=null,i.updateScheduler=null,i.cursorChangedScheduler=null,i.mouseDownInfo=null,i.foldingDecorationProvider=new TBe(t),i.foldingDecorationProvider.autoHideFoldingControls=i._autoHideFoldingControls,i.foldingEnabled=Nu.bindTo(i.contextKeyService),i.foldingEnabled.set(i._isEnabled),i._register(i.editor.onDidChangeModel(function(){return i.onModelChanged()})),i._register(i.editor.onDidChangeConfiguration(function(o){if(o.contribInfo){var s=i._isEnabled;i._isEnabled=i.editor.getConfiguration().contribInfo.folding,i.foldingEnabled.set(i._isEnabled),s!==i._isEnabled&&i.onModelChanged();var a=i._autoHideFoldingControls;i._autoHideFoldingControls=i.editor.getConfiguration().contribInfo.showFoldingControls==="mouseover",a!==i._autoHideFoldingControls&&(i.foldingDecorationProvider.autoHideFoldingControls=i._autoHideFoldingControls,i.onModelContentChanged());var u=i._useFoldingProviders;i._useFoldingProviders=i.editor.getConfiguration().contribInfo.foldingStrategy!=="indentation",u!==i._useFoldingProviders&&i.onFoldingStrategyChanged()}})),i.onModelChanged(),i}return e.get=function(t){return t.getContribution(eG)},e.prototype.getId=function(){return eG},e.prototype.saveViewState=function(){var t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){var r=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:r,lineCount:t.getLineCount(),provider:i}}},e.prototype.restoreViewState=function(t){var r=this.editor.getModel();if(!(!r||!this._isEnabled||r.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!t||!t.collapsedRegions||t.lineCount!==r.getLineCount())){(t.provider===Pre||t.provider===Fre)&&(this.foldingStateMemento=t);var i=t.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){var o=this.getFoldingModel();o&&o.then(function(s){s&&s.applyMemento(i)}).then(void 0,He)}}},e.prototype.onModelChanged=function(){var t=this;this.localToDispose.clear();var r=this.editor.getModel();!this._isEnabled||!r||r.isTooLargeForTokenization()||(this.foldingModel=new EBe(r,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new DBe(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(i){return t.onHiddenRangesChanges(i)})),this.updateScheduler=new w_(200),this.cursorChangedScheduler=new Pr(function(){return t.revealCursor()},200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(gM.onDidChange(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelContent(function(){return t.onModelContentChanged()})),this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return t.onCursorPositionChanged()})),this.localToDispose.add(this.editor.onMouseDown(function(i){return t.onEditorMouseDown(i)})),this.localToDispose.add(this.editor.onMouseUp(function(i){return t.onEditorMouseUp(i)})),this.localToDispose.add({dispose:function(){t.foldingRegionPromise&&(t.foldingRegionPromise.cancel(),t.foldingRegionPromise=null),t.updateScheduler&&t.updateScheduler.cancel(),t.updateScheduler=null,t.foldingModel=null,t.foldingModelPromise=null,t.hiddenRangeModel=null,t.cursorChangedScheduler=null,t.foldingStateMemento=null,t.rangeProvider&&t.rangeProvider.dispose(),t.rangeProvider=null}}),this.onModelContentChanged())},e.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},e.prototype.getRangeProvider=function(t){var r=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new LBe(t),this._useFoldingProviders&&this.foldingModel){var i=gM.ordered(this.foldingModel.textModel);if(i.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var o=this.rangeProvider=new BBe(t,this.foldingStateMemento.collapsedRegions,function(){r.foldingStateMemento=null,r.onFoldingStrategyChanged()},3e4);return o}else i.length>0&&(this.rangeProvider=new PBe(t,i))}return this.foldingStateMemento=null,this.rangeProvider},e.prototype.getFoldingModel=function(){return this.foldingModelPromise},e.prototype.onModelContentChanged=function(){var t=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var r=t.foldingModel;if(!r)return null;var i=t.foldingRegionPromise=Gr(function(o){return t.getRangeProvider(r.textModel).compute(o)});return i.then(function(o){if(o&&i===t.foldingRegionPromise){var s=t.editor.getSelections(),a=s?s.map(function(u){return u.startLineNumber}):[];r.update(o,a)}return r})}).then(void 0,function(r){return He(r),null}))},e.prototype.onHiddenRangesChanges=function(t){if(this.hiddenRangeModel&&t.length){var r=this.editor.getSelections();r&&this.hiddenRangeModel.adjustSelections(r)&&this.editor.setSelections(r)}this.editor.setHiddenAreas(t)},e.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},e.prototype.revealCursor=function(){var t=this,r=this.getFoldingModel();r&&r.then(function(i){if(i){var o=t.editor.getSelections();if(o&&o.length>0){for(var s=[],a=function(d){var h=d.selectionStartLineNumber;t.hiddenRangeModel&&t.hiddenRangeModel.isHidden(h)&&s.push.apply(s,i.getAllRegionsAtLine(h,function(p){return p.isCollapsed&&h>p.startLineNumber}))},u=0,l=o;u<l.length;u++){var c=l[u];a(c)}s.length&&(i.toggleCollapseState(s),t.reveal(o[0].getPosition()))}}}).then(void 0,He)},e.prototype.onEditorMouseDown=function(t){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!t.target||!t.target.range)&&!(!t.event.leftButton&&!t.event.middleButton)){var r=t.target.range,i=!1;switch(t.target.type){case 4:var o=t.target.detail,s=t.target.element.offsetLeft,a=o.offsetX-s;if(a<5)return;i=!0;break;case 7:{if(this.hiddenRangeModel.hasRanges()){var u=t.target.detail;if(!u.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){var l=this.editor.getModel();if(l&&r.startColumn===l.getLineMaxColumn(r.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:r.startLineNumber,iconClicked:i}}},e.prototype.onEditorMouseUp=function(t){var r=this,i=this.getFoldingModel();if(!(!i||!this.mouseDownInfo||!t.target)){var o=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,a=t.target.range;if(!(!a||a.startLineNumber!==o)){if(s){if(t.target.type!==4)return}else{var u=this.editor.getModel();if(!u||a.startColumn!==u.getLineMaxColumn(o))return}i.then(function(l){if(l){var c=l.getRegionAtLine(o);if(c&&c.startLineNumber===o){var d=c.isCollapsed;if(s||d){var h=[c];(t.event.middleButton||t.event.shiftKey)&&h.push.apply(h,l.getRegionsInside(c,function(p){return p.isCollapsed===d})),l.toggleCollapseState(h),r.reveal({lineNumber:o,column:1})}}}}).then(void 0,He)}}},e.prototype.reveal=function(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)},e=HBe([VBe(1,yt)],e),e}(fe),Bl=function(n){Ba(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.runEditorCommand=function(t,r,i){var o=this,s=Bre.get(r);if(s){var a=s.getFoldingModel();if(a)return this.reportTelemetry(t,r),a.then(function(u){if(u){o.invoke(s,u,r,i);var l=r.getSelection();l&&s.reveal(l.getStartPosition())}})}},e.prototype.getSelectedLines=function(t){var r=t.getSelections();return r?r.map(function(i){return i.startLineNumber}):[]},e.prototype.getLineNumbers=function(t,r){return t&&t.selectionLines?t.selectionLines.map(function(i){return i+1}):this.getSelectedLines(r)},e.prototype.run=function(t,r){},e}(Ue);function Hre(n){if(!po(n)){if(!Ui(n))return!1;var e=n;if(!po(e.levels)&&!Dc(e.levels)||!po(e.direction)&&!wl(e.direction)||!po(e.selectionLines)&&(!lJ(e.selectionLines)||!e.selectionLines.every(Dc)))return!1}return!0}var WBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.unfold",label:D("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:Hre,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return e.prototype.invoke=function(t,r,i,o){var s=o&&o.levels||1,a=this.getLineNumbers(o,i);o&&o.direction==="up"?Rre(r,!1,s,a):O_(r,!1,s,a)},e}(Bl),UBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.unfoldRecursively",label:D("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2137),weight:100}})||this}return e.prototype.invoke=function(t,r,i,o){O_(r,!1,Number.MAX_VALUE,this.getSelectedLines(i))},e}(Bl),jBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.fold",label:D("foldAction.label","Fold"),alias:"Fold",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold. Defaults to 1.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
						`,constraint:Hre,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return e.prototype.invoke=function(t,r,i,o){var s=o&&o.levels||1,a=this.getLineNumbers(o,i);o&&o.direction==="up"?Rre(r,!0,s,a):O_(r,!0,s,a)},e}(Bl),qBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.foldRecursively",label:D("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2135),weight:100}})||this}return e.prototype.invoke=function(t,r,i){var o=this.getSelectedLines(i);O_(r,!0,Number.MAX_VALUE,o)},e}(Bl),zBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.foldAllBlockComments",label:D("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2133),weight:100}})||this}return e.prototype.invoke=function(t,r,i){if(r.regions.hasTypes())z5(r,ZA.Comment.value,!0);else{var o=i.getModel();if(!o)return;var s=Ot.getComments(o.getLanguageIdentifier().id);if(s&&s.blockCommentStartToken){var a=new RegExp("^\\s*"+Sl(s.blockCommentStartToken));q5(r,a,!0)}}},e}(Bl),GBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.foldAllMarkerRegions",label:D("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2077),weight:100}})||this}return e.prototype.invoke=function(t,r,i){if(r.regions.hasTypes())z5(r,ZA.Region.value,!0);else{var o=i.getModel();if(!o)return;var s=Ot.getFoldingRules(o.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){var a=new RegExp(s.markers.start);q5(r,a,!0)}}},e}(Bl),$Be=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.unfoldAllMarkerRegions",label:D("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2078),weight:100}})||this}return e.prototype.invoke=function(t,r,i){if(r.regions.hasTypes())z5(r,ZA.Region.value,!1);else{var o=i.getModel();if(!o)return;var s=Ot.getFoldingRules(o.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){var a=new RegExp(s.markers.start);q5(r,a,!1)}}},e}(Bl),KBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.foldAll",label:D("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2069),weight:100}})||this}return e.prototype.invoke=function(t,r,i){O_(r,!0)},e}(Bl),YBe=function(n){Ba(e,n);function e(){return n.call(this,{id:"editor.unfoldAll",label:D("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2088),weight:100}})||this}return e.prototype.invoke=function(t,r,i){O_(r,!1)},e}(Bl),tG=function(n){Ba(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(e.ID_PREFIX.length))},e.prototype.invoke=function(t,r,i){SBe(r,this.getFoldingLevel(),!0,this.getSelectedLines(i))},e.ID_PREFIX="editor.foldLevel",e.ID=function(t){return e.ID_PREFIX+t},e}(Bl);Cn(Bre);pe(WBe);pe(UBe);pe(jBe);pe(qBe);pe(KBe);pe(YBe);pe(zBe);pe(GBe);pe($Be);for(var cv=1;cv<=7;cv++)Nxe(new tG({id:tG.ID(cv),label:D("foldLevelAction.label","Fold Level {0}",cv),alias:"Fold Level "+cv,precondition:Nu,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2048|21+cv),weight:100}}));var G5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XBe=function(n){G5(e,n);function e(){return n.call(this,{id:"editor.action.fontZoomIn",label:D("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return e.prototype.run=function(t,r){Oc.setZoomLevel(Oc.getZoomLevel()+1)},e}(Ue),QBe=function(n){G5(e,n);function e(){return n.call(this,{id:"editor.action.fontZoomOut",label:D("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return e.prototype.run=function(t,r){Oc.setZoomLevel(Oc.getZoomLevel()-1)},e}(Ue),ZBe=function(n){G5(e,n);function e(){return n.call(this,{id:"editor.action.fontZoomReset",label:D("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return e.prototype.run=function(t,r){Oc.setZoomLevel(0)},e}(Ue);pe(XBe);pe(QBe);pe(ZBe);var $5=function(){function n(){}return n._handleEolEdits=function(e,t){for(var r=void 0,i=[],o=0,s=t;o<s.length;o++){var a=s[o];typeof a.eol=="number"&&(r=a.eol),a.range&&typeof a.text=="string"&&i.push(a)}return typeof r=="number"&&e.hasModel()&&e.getModel().pushEOL(r),i},n._isFullModelReplaceEdit=function(e,t){if(!e.hasModel())return!1;var r=e.getModel(),i=r.validateRange(t.range),o=r.getFullModelRange();return o.equalsRange(i)},n.execute=function(e,t){e.pushUndoStop();var r=n._handleEolEdits(e,t);r.length===1&&n._isFullModelReplaceEdit(e,r[0])?e.executeEdits("formatEditsCommand",r.map(function(i){return Or.replace(H.lift(i.range),i.text)})):e.executeEdits("formatEditsCommand",r.map(function(i){return Or.replaceMove(H.lift(i.range),i.text)})),e.pushUndoStop()},n}(),Ek=function(){function n(e){this.value=e,this._lower=e.toLowerCase()}return n.toKey=function(e){return typeof e=="string"?e.toLowerCase():e._lower},n}(),lg=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},cg=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function K5(n){if(n=n.filter(function(o){return o.range}),!!n.length){for(var e=n[0].range,t=1;t<n.length;t++)e=H.plusRange(e,n[t].range);var r=e.startLineNumber,i=e.endLineNumber;r===i?n.length===1?ji(D("hint11","Made 1 formatting edit on line {0}",r)):ji(D("hintn1","Made {0} formatting edits on line {1}",n.length,r)):n.length===1?ji(D("hint1n","Made 1 formatting edit between lines {0} and {1}",r,i)):ji(D("hintnn","Made {0} formatting edits between lines {1} and {2}",n.length,r,i))}}function Vre(n){for(var e=[],t=new Set,r=zy.ordered(n),i=0,o=r;i<o.length;i++){var s=o[i];e.push(s),s.extensionId&&t.add(Ek.toKey(s.extensionId))}for(var a=lu.ordered(n),u=function(d){if(d.extensionId){if(t.has(Ek.toKey(d.extensionId)))return"continue";t.add(Ek.toKey(d.extensionId))}e.push({displayName:d.displayName,extensionId:d.extensionId,provideDocumentFormattingEdits:function(h,p,v){return d.provideDocumentRangeFormattingEdits(h,h.getFullModelRange(),p,v)}})},l=0,c=a;l<c.length;l++){var s=c[l];u(s)}return e}var Wre=function(){function n(){}return n.select=function(e,t,r){return lg(this,void 0,void 0,function(){var i;return cg(this,function(o){switch(o.label){case 0:return e.length===0?[2,void 0]:(i=n._selectors.iterator().next().value,i?[4,i(e,t,r)]:[3,2]);case 1:return[2,o.sent()];case 2:return[2,e[0]]}})})},n._selectors=new Ac,n}();function Ure(n,e,t,r,i){return lg(this,void 0,void 0,function(){var o,s,a,u;return cg(this,function(l){switch(l.label){case 0:return o=n.get(cr),s=Tl(e)?e.getModel():e,a=lu.ordered(s),[4,Wre.select(a,s,r)];case 1:return u=l.sent(),u?[4,o.invokeFunction(JBe,u,e,t,i)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function JBe(n,e,t,r,i){return lg(this,void 0,void 0,function(){var o,s,a,u,l,c,d;return cg(this,function(h){switch(h.label){case 0:o=n.get(Fa),Tl(t)?(s=t.getModel(),a=new t5(t,5,i)):(s=t,a=new n5(t,i)),h.label=1;case 1:return h.trys.push([1,,4,5]),[4,e.provideDocumentRangeFormattingEdits(s,r,s.getFormattingOptions(),a.token)];case 2:return l=h.sent(),[4,o.computeMoreMinimalEdits(s.uri,l)];case 3:return u=h.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return!u||u.length===0?[2,!1]:(Tl(t)?($5.execute(t,u),K5(u),t.pushUndoStop(),t.focus(),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1)):(c=u[0].range,d=new Re(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),s.pushEditOperations([d],u.map(function(p){return{text:p.text,range:H.lift(p.range),forceMoveMarkers:!0}}),function(p){for(var v=0,m=p;v<m.length;v++){var _=m[v].range;if(H.areIntersectingOrTouching(_,d))return[new Re(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)]}return null})),[2,!0])}})})}function e8e(n,e,t,r){return lg(this,void 0,void 0,function(){var i,o,s,a;return cg(this,function(u){switch(u.label){case 0:return i=n.get(cr),o=Tl(e)?e.getModel():e,s=Vre(o),[4,Wre.select(s,o,t)];case 1:return a=u.sent(),a?[4,i.invokeFunction(t8e,a,e,t,r)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function t8e(n,e,t,r,i){return lg(this,void 0,void 0,function(){var o,s,a,u,l,c,d;return cg(this,function(h){switch(h.label){case 0:o=n.get(Fa),Tl(t)?(s=t.getModel(),a=new t5(t,5,i)):(s=t,a=new n5(t,i)),h.label=1;case 1:return h.trys.push([1,,4,5]),[4,e.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token)];case 2:return l=h.sent(),[4,o.computeMoreMinimalEdits(s.uri,l)];case 3:return u=h.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return!u||u.length===0?[2,!1]:(Tl(t)?($5.execute(t,u),r!==2&&(K5(u),t.pushUndoStop(),t.focus(),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1))):(c=u[0].range,d=new Re(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),s.pushEditOperations([d],u.map(function(p){return{text:p.text,range:H.lift(p.range),forceMoveMarkers:!0}}),function(p){for(var v=0,m=p;v<m.length;v++){var _=m[v].range;if(H.areIntersectingOrTouching(_,d))return[new Re(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)]}return null})),[2,!0])}})})}function n8e(n,e,t,r,i){return lg(this,void 0,void 0,function(){var o,s,a,u,l;return cg(this,function(c){switch(c.label){case 0:o=lu.ordered(e),s=0,a=o,c.label=1;case 1:return s<a.length?(u=a[s],[4,Promise.resolve(u.provideDocumentRangeFormattingEdits(e,t,r,i)).catch(Eo)]):[3,5];case 2:return l=c.sent(),ts(l)?[4,n.computeMoreMinimalEdits(e.uri,l)]:[3,4];case 3:return[2,c.sent()];case 4:return s++,[3,1];case 5:return[2,void 0]}})})}function r8e(n,e,t,r){return lg(this,void 0,void 0,function(){var i,o,s,a,u;return cg(this,function(l){switch(l.label){case 0:i=Vre(e),o=0,s=i,l.label=1;case 1:return o<s.length?(a=s[o],[4,Promise.resolve(a.provideDocumentFormattingEdits(e,t,r)).catch(Eo)]):[3,5];case 2:return u=l.sent(),ts(u)?[4,n.computeMoreMinimalEdits(e.uri,u)]:[3,4];case 3:return[2,l.sent()];case 4:return o++,[3,1];case 5:return[2,void 0]}})})}function jre(n,e,t,r,i){var o=NT.ordered(e);return o.length===0||o[0].autoFormatTriggerCharacters.indexOf(r)<0?Promise.resolve(void 0):Promise.resolve(o[0].provideOnTypeFormattingEdits(e,t,r,i,nn.None)).catch(Eo).then(function(s){return n.computeMoreMinimalEdits(e.uri,s)})}jc("_executeFormatRangeProvider",function(n,e){var t=e.resource,r=e.range,i=e.options;if(!(t instanceof Ft)||!H.isIRange(r))throw Rr();var o=n.get(is).getModel(t);if(!o)throw Rr("resource");return n8e(n.get(Fa),o,H.lift(r),i,nn.None)});jc("_executeFormatDocumentProvider",function(n,e){var t=e.resource,r=e.options;if(!(t instanceof Ft))throw Rr("resource");var i=n.get(is).getModel(t);if(!i)throw Rr("resource");return r8e(n.get(Fa),i,r,nn.None)});jc("_executeFormatOnTypeProvider",function(n,e){var t=e.resource,r=e.position,i=e.ch,o=e.options;if(!(t instanceof Ft)||!J.isIPosition(r)||typeof i!="string")throw Rr();var s=n.get(is).getModel(t);if(!s)throw Rr("resource");return jre(n.get(Fa),s,J.lift(r),i,o)});var qre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zre=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gre=function(n,e){return function(t,r){e(t,r,n)}},Y5=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},X5=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},i8e=void 0,o8e=function(){function n(e,t){var r=this;this._workerService=t,this._callOnDispose=new Be,this._callOnModel=new Be,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModel(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModelLanguage(function(){return r._update()})),this._callOnDispose.add(NT.onDidChange(this._update,this))}return n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},n.prototype._update=function(){var e=this;if(this._callOnModel.clear(),!!this._editor.getConfiguration().contribInfo.formatOnType&&this._editor.hasModel()){var t=this._editor.getModel(),r=NT.ordered(t)[0];if(!(!r||!r.autoFormatTriggerCharacters)){for(var i=new Ov,o=0,s=r.autoFormatTriggerCharacters;o<s.length;o++){var a=s[o];i.add(a.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType(function(u){var l=u.charCodeAt(u.length-1);i.has(l)&&e._trigger(String.fromCharCode(l))}))}}},n.prototype._trigger=function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var r=this._editor.getModel(),i=this._editor.getPosition(),o=!1,s=this._editor.onDidChangeModelContent(function(a){if(a.isFlush){o=!0,s.dispose();return}for(var u=0,l=a.changes.length;u<l;u++){var c=a.changes[u];if(c.range.endLineNumber<=i.lineNumber){o=!0,s.dispose();return}}});jre(this._workerService,r,i,e,r.getFormattingOptions()).then(function(a){s.dispose(),!o&&ts(a)&&($5.execute(t._editor,a),K5(a))},function(a){throw s.dispose(),a})}},n.ID="editor.contrib.autoFormat",n=zre([Gre(1,Fa)],n),n}(),s8e=function(){function n(e,t){var r=this;this.editor=e,this._instantiationService=t,this._callOnDispose=new Be,this._callOnModel=new Be,this._callOnDispose.add(e.onDidChangeConfiguration(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModel(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModelLanguage(function(){return r._update()})),this._callOnDispose.add(lu.onDidChange(this._update,this))}return n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},n.prototype._update=function(){var e=this;this._callOnModel.clear(),this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.hasModel()&&lu.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(function(t){return e._trigger(t)}))},n.prototype._trigger=function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Ure,this.editor,e,2,nn.None).catch(He))},n.ID="editor.contrib.formatOnPaste",n=zre([Gre(1,cr)],n),n}(),a8e=function(n){qre(e,n);function e(){return n.call(this,{id:"editor.action.formatDocument",label:D("formatDocument.label","Format Document"),alias:"Format Document",precondition:Le.and(W.writable,W.hasDocumentFormattingProvider),kbOpts:{kbExpr:Le.and(W.editorTextFocus,W.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},menuOpts:{when:W.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return e.prototype.run=function(t,r){return Y5(this,void 0,void 0,function(){var i;return X5(this,function(o){switch(o.label){case 0:return r.hasModel()?(i=t.get(cr),[4,i.invokeFunction(e8e,r,1,nn.None)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e}(Ue),u8e=function(n){qre(e,n);function e(){return n.call(this,{id:"editor.action.formatSelection",label:D("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Le.and(W.writable,W.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Le.and(W.editorTextFocus,W.hasDocumentSelectionFormattingProvider),primary:So(2089,2084),weight:100},menuOpts:{when:Le.and(W.hasDocumentSelectionFormattingProvider,W.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return e.prototype.run=function(t,r){return Y5(this,void 0,void 0,function(){var i,o,s;return X5(this,function(a){switch(a.label){case 0:return r.hasModel()?(i=t.get(cr),o=r.getModel(),s=r.getSelection(),s.isEmpty()&&(s=new H(s.startLineNumber,1,s.startLineNumber,o.getLineMaxColumn(s.startLineNumber))),[4,i.invokeFunction(Ure,r,s,1,nn.None)]):[2];case 1:return a.sent(),[2]}})})},e}(Ue);Cn(o8e);Cn(s8e);pe(a8e);pe(u8e);Ri.registerCommand("editor.action.format",function(n){return Y5(i8e,void 0,void 0,function(){var e,t;return X5(this,function(r){switch(r.label){case 0:return e=n.get(Dn).getFocusedCodeEditor(),!e||!e.hasModel()?[2]:(t=n.get(Qi),e.getSelection().isEmpty()?[4,t.executeCommand("editor.action.formatDocument")]:[3,2]);case 1:return r.sent(),[3,4];case 2:return[4,t.executeCommand("editor.action.formatSelection")];case 3:r.sent(),r.label=4;case 4:return[2]}})})});var l8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),c8e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Td=function(n,e){return function(t,r){e(t,r,n)}},Q5=function(n){l8e(e,n);function e(t,r,i,o,s,a,u,l,c,d){var h=n.call(this,t,i.getRawConfiguration(),{},o,s,a,u,l,c,d)||this;return h._parentEditor=i,h._overwriteOptions=r,n.prototype.updateOptions.call(h,h._overwriteOptions),h._register(i.onDidChangeConfiguration(function(p){return h._onParentConfigurationChanged(p)})),h}return e.prototype.getParentEditor=function(){return this._parentEditor},e.prototype._onParentConfigurationChanged=function(t){n.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),n.prototype.updateOptions.call(this,this._overwriteOptions)},e.prototype.updateOptions=function(t){Ur(this._overwriteOptions,t,!0),n.prototype.updateOptions.call(this,this._overwriteOptions)},e=c8e([Td(3,cr),Td(4,Dn),Td(5,Qi),Td(6,yt),Td(7,Yr),Td(8,gi),Td(9,Ml)],e),e}(Z6),$re=function(){function n(e){this._prefix=e,this._lastId=0}return n.prototype.nextId=function(){return this._prefix+ ++this._lastId},n}(),Kre=new $re("id#"),nG=new se(new yn(0,122,204)),f8e={showArrow:!0,showFrame:!0,className:"",frameColor:nG,arrowColor:nG,keepEditorSelection:!1},h8e="vs.editor.contrib.zoneWidget",d8e=function(){function n(e,t,r,i,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=r,this.heightInLines=i,this._onDomNodeTop=o,this._onComputedHeight=s}return n.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},n.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},n}(),p8e=function(){function n(e,t){this._id=e,this._domNode=t}return n.prototype.getId=function(){return this._id},n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return null},n}(),g8e=function(){function n(e){this._editor=e,this._ruleName=n._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return n.prototype.dispose=function(){this.hide(),cM(this._ruleName)},Object.defineProperty(n.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),n.prototype._updateStyle=function(){cM(this._ruleName),ADe(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},n.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:H.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])},n.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},n._IdGenerator=new $re(".arrow-decoration-"),n}(),v8e=function(){function n(e,t){var r=this;t===void 0&&(t={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Be,this.container=null,this._isShowing=!1,this.editor=e,this.options=ac(t),Ur(this.options,f8e,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(i){var o=r._getWidth(i);r.domNode.style.width=o+"px",r.domNode.style.left=r._getLeft(i)+"px",r._onWidth(o)}))}return n.prototype.dispose=function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},n.prototype.create=function(){De(this.domNode,"zone-widget"),this.options.className&&De(this.domNode,this.options.className),this.container=document.createElement("div"),De(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new g8e(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},n.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},n.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}},n.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth},n.prototype._getLeft=function(e){return e.minimapWidth>0&&e.minimapLeft===0?e.minimapWidth:0},n.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},n.prototype._onViewZoneHeight=function(e){if(this.domNode.style.height=e+"px",this.container){var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var r=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(r))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(n.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){var t=this.editor.getModel();if(t){var r=t.getDecorationRange(e);if(r)return r.getStartPosition()}}},enumerable:!0,configurable:!0}),n.prototype.show=function(e,t){var r=H.isIRange(e)?e:new H(e.lineNumber,e.column,e.lineNumber,e.column);this._isShowing=!0,this._showImpl(r,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:r,options:mt.EMPTY}])},n.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},n.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight,t=0;if(this.options.showArrow){var r=Math.round(e/3);t+=2*r}if(this.options.showFrame){var i=Math.round(e/9);t+=2*i}return t},n.prototype._showImpl=function(e,t){var r=this,i={lineNumber:e.startLineNumber,column:e.startColumn},o=this.editor.getLayoutInfo(),s=this._getWidth(o);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(o)+"px";var a=document.createElement("div");a.style.overflow="hidden";var u=this.editor.getConfiguration().lineHeight,l=this.editor.getLayoutInfo().height/u*.8;t>=l&&(t=l);var c=0,d=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(u/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(u/9)),this.editor.changeViewZones(function(_){r._viewZone&&_.removeZone(r._viewZone.id),r._overlayWidget&&(r.editor.removeOverlayWidget(r._overlayWidget),r._overlayWidget=null),r.domNode.style.top="-1000px",r._viewZone=new d8e(a,i.lineNumber,i.column,t,function(b){return r._onViewZoneTop(b)},function(b){return r._onViewZoneHeight(b)}),r._viewZone.id=_.addZone(r._viewZone),r._overlayWidget=new p8e(h8e+r._viewZone.id,r.domNode),r.editor.addOverlayWidget(r._overlayWidget)}),this.container&&this.options.showFrame){var h=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}var p=t*u-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=p+"px",this.container.style.overflow="hidden"),this._doLayout(p,s),this.options.keepEditorSelection||this.editor.setSelection(e);var v=this.editor.getModel();if(v){var m=Math.min(v.getLineCount(),Math.max(1,e.endLineNumber+1));this.revealLine(m)}},n.prototype.revealLine=function(e){this.editor.revealLine(e,0)},n.prototype.setCssClass=function(e,t){this.container&&(t&&this.container.classList.remove(t),De(this.container,e))},n.prototype._onWidth=function(e){},n.prototype._doLayout=function(e,t){},n.prototype._relayout=function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(r){t._viewZone&&(t._viewZone.heightInLines=e,r.layoutZone(t._viewZone.id))})},n.prototype._initSash=function(){var e=this;if(!this._resizeSash){this._resizeSash=this._disposables.add(new p2(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);var t;this._disposables.add(this._resizeSash.onDidStart(function(r){e._viewZone&&(t={startY:r.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(function(){t=void 0})),this._disposables.add(this._resizeSash.onDidChange(function(r){if(t){var i=(r.currentY-t.startY)/e.editor.getConfiguration().lineHeight,o=i<0?Math.ceil(i):Math.floor(i),s=t.heightInLines+o;s>5&&s<35&&e._relayout(s)}}))}},n.prototype.getHorizontalSashLeft=function(){return 0},n.prototype.getHorizontalSashTop=function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},n.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},n}(),m8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yre=qt("IPeekViewService");dC(Yre,function(){function n(){this._widgets=new Map}return n.prototype.addExclusiveWidget=function(e,t){var r=this,i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());var o=function(){var s=r._widgets.get(e);s&&s.widget===t&&(s.listener.dispose(),r._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(o)})},n}());var kc;(function(n){n.inPeekEditor=new Ke("inReferenceSearchEditor",!0),n.notInPeekEditor=n.inPeekEditor.toNegated()})(kc||(kc={}));function _8e(n){var e=n.get(Dn).getFocusedCodeEditor();return e instanceof Q5?e.getParentEditor():e}var y8e={headerBackgroundColor:se.white,primaryHeadingColor:se.fromHex("#333333"),secondaryHeadingColor:se.fromHex("#6c6c6cb3")},Xre=function(n){m8e(e,n);function e(t,r){r===void 0&&(r={});var i=n.call(this,t,r)||this;return i._onDidClose=new Q,Ur(i.options,y8e,!1),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(e.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),e.prototype.style=function(t){var r=this.options;t.headerBackgroundColor&&(r.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(r.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(r.secondaryHeadingColor=t.secondaryHeadingColor),n.prototype.style.call(this,t)},e.prototype._applyStyles=function(){n.prototype._applyStyles.call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())},e.prototype._fillContainer=function(t){this.setCssClass("peekview-widget"),this._headElement=Ve(".head"),this._bodyElement=Ve(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)},e.prototype._fillHead=function(t){var r=this,i=Ve(".peekview-title");Ce(this._headElement,i),hi(i,"click",function(a){return r._onTitleClick(a)}),this._fillTitleIcon(i),this._primaryHeading=Ve("span.filename"),this._secondaryHeading=Ve("span.dirname"),this._metaHeading=Ve("span.meta"),Ce(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);var o=Ve(".peekview-actions");Ce(this._headElement,o);var s=this._getActionBarOptions();this._actionbarWidget=new pC(o,s),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new oa("peekview.close",D("label.close","Close"),"close-peekview-action",!0,function(){return r.dispose(),Promise.resolve()}),{label:!1,icon:!0})},e.prototype._fillTitleIcon=function(t){},e.prototype._getActionBarOptions=function(){return{}},e.prototype._onTitleClick=function(t){},e.prototype.setTitle=function(t,r){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=ra(t),this._primaryHeading.setAttribute("aria-label",t),r?this._secondaryHeading.innerHTML=ra(r):ca(this._secondaryHeading))},e.prototype.setMetaTitle=function(t){this._metaHeading&&(t?this._metaHeading.innerHTML=ra(t):ca(this._metaHeading))},e.prototype._doLayout=function(t,r){if(!this._isShowing&&t<0){this.dispose();return}var i=Math.ceil(this.editor.getConfiguration().lineHeight*1.2),o=t-(i+2);this._doLayoutHead(i,r),this._doLayoutBody(o,r)},e.prototype._doLayoutHead=function(t,r){this._headElement&&(this._headElement.style.height=t+"px",this._headElement.style.lineHeight=this._headElement.style.height)},e.prototype._doLayoutBody=function(t,r){this._bodyElement&&(this._bodyElement.style.height=t+"px")},e}(v8e),Rm=function(){function n(e,t,r){this.parent=e,this._range=t,this.isProviderFirst=r,this._onRefChanged=new Q,this.onRefChanged=this._onRefChanged.event,this.id=Kre.nextId()}return Object.defineProperty(n.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._onRefChanged.fire(this)},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){return D("aria.oneReference","symbol in {0} on line {1} at column {2}",Nc(this.uri),this.range.startLineNumber,this.range.startColumn)},n}(),b8e=function(){function n(e){this._modelReference=e}return n.prototype.dispose=function(){nt(this._modelReference)},n.prototype.preview=function(e,t){t===void 0&&(t=8);var r=this._modelReference.object.textEditorModel;if(r){var i=e.startLineNumber,o=e.startColumn,s=e.endLineNumber,a=e.endColumn,u=r.getWordUntilPosition({lineNumber:i,column:o-t}),l=new H(i,u.startColumn,i,o),c=new H(s,a,s,Number.MAX_VALUE),d=r.getValueInRange(l).replace(/^\s+/,Hb),h=r.getValueInRange(e),p=r.getValueInRange(c).replace(/\s+$/,Hb);return{value:d+h+p,highlight:{start:d.length,end:d.length+h.length}}}},n}(),Pm=function(){function n(e,t){this._parent=e,this._uri=t,this._children=[]}return Object.defineProperty(n.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){var e=this.children.length;return e===1?D("aria.fileReferences.1","1 symbol in {0}, full path {1}",Nc(this.uri),this.uri.fsPath):D("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Nc(this.uri),this.uri.fsPath)},n.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this._uri).then(function(r){var i=r.object;if(!i)throw r.dispose(),new Error;return t._preview=new b8e(r),t._resolved=!0,t},function(r){return t._children=[],t._resolved=!0,t._loadFailure=r,t}))},n.prototype.dispose=function(){this._preview&&(this._preview.dispose(),this._preview=void 0)},n}(),Mm=function(){function n(e){var t=this;this._disposables=new Be,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Q,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event;var r=e[0];e.sort(n._compareReferences);for(var i,o=0,s=e;o<s.length;o++){var a=s[o];if((!i||i.uri.toString()!==a.uri.toString())&&(i=new Pm(this,a.uri),this.groups.push(i)),i.children.length===0||!H.equalsRange(a.range,i.children[i.children.length-1].range)){var u=new Rm(i,a.targetSelectionRange||a.range,r===a);this._disposables.add(u.onRefChanged(function(l){return t._onDidChangeReferenceRange.fire(l)})),this.references.push(u),i.children.push(u)}}}return Object.defineProperty(n.prototype,"empty",{get:function(){return this.groups.length===0},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){return this.empty?D("aria.result.0","No results found"):this.references.length===1?D("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?D("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):D("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},n.prototype.nextOrPreviousReference=function(e,t){var r=e.parent,i=r.children.indexOf(e),o=r.children.length,s=r.parent.groups.length;return s===1||t&&i+1<o||!t&&i>0?(t?i=(i+1)%o:i=(i+o-1)%o,r.children[i]):(i=r.parent.groups.indexOf(r),t?(i=(i+1)%s,r.parent.groups[i].children[0]):(i=(i+s-1)%s,r.parent.groups[i].children[r.parent.groups[i].children.length-1]))},n.prototype.nearestReference=function(e,t){var r=this.references.map(function(i,o){return{idx:o,prefixLen:J4(i.uri.toString(),e.toString()),offsetDist:Math.abs(i.range.startLineNumber-t.lineNumber)*100+Math.abs(i.range.startColumn-t.column)}}).sort(function(i,o){return i.prefixLen>o.prefixLen?-1:i.prefixLen<o.prefixLen?1:i.offsetDist<o.offsetDist?-1:i.offsetDist>o.offsetDist?1:0})[0];if(r)return this.references[r.idx]},n.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var r=t[e];if(r.isProviderFirst)return r}return this.references[0]},n.prototype.dispose=function(){nt(this.groups),this._disposables.dispose(),this.groups.length=0},n._compareReferences=function(e,t){var r=e.uri.toString(),i=t.uri.toString();return r<i?-1:r>i?1:H.compareRangesUsingStarts(e.range,t.range)},n}();function Sk(n){return ra(n)}var Fv=function(){function n(e,t){this.supportOcticons=t,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(n.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),n.prototype.set=function(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=""),e||(e=""),i&&(e=n.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===r&&Qf(this.highlights,t))&&(Array.isArray(t)||(t=[]),this.text=e,this.title=r,this.highlights=t,this.render())},n.prototype.render=function(){for(var e="",t=0,r=0,i=this.highlights;r<i.length;r++){var o=i[r];if(o.end!==o.start){if(t<o.start){e+="<span>";var s=this.text.substring(t,o.start);e+=this.supportOcticons?Sk(s):ra(s),e+="</span>",t=o.end}e+='<span class="highlight">';var a=this.text.substring(o.start,o.end);e+=this.supportOcticons?Sk(a):ra(a),e+="</span>",t=o.end}}if(t<this.text.length){e+="<span>";var a=this.text.substring(t);e+=this.supportOcticons?Sk(a):ra(a),e+="</span>"}this.domNode.innerHTML=e,this.domNode.title=this.title,this.didEverRender=!0},n.escapeNewLines=function(e,t){var r=0,i=0;return e.replace(/\r\n|\r|\n/g,function(o,s){i=o===`\r
`?-1:0,s+=r;for(var a=0,u=t;a<u.length;a++){var l=u[a];l.end<=s||(l.start>=s&&(l.start+=i),l.end>=s&&(l.end+=i))}return r+=i,""})},n}(),C8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WE=function(){function n(e){this._element=e}return Object.defineProperty(n.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textContent",{set:function(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{set:function(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{set:function(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"empty",{set:function(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":null)},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.disposed=!0},n}(),Z5=function(n){C8e(e,n);function e(t,r){var i=n.call(this)||this;return i.domNode=i._register(new WE(Ce(t,Ve(".monaco-icon-label")))),i.labelDescriptionContainer=i._register(new WE(Ce(i.domNode.element,Ve(".monaco-icon-label-description-container")))),r&&r.supportHighlights?i.labelNode=new Fv(Ce(i.labelDescriptionContainer.element,Ve("a.label-name")),!!r.supportOcticons):i.labelNode=i._register(new WE(Ce(i.labelDescriptionContainer.element,Ve("a.label-name")))),r&&r.supportDescriptionHighlights?i.descriptionNodeFactory=function(){return new Fv(Ce(i.labelDescriptionContainer.element,Ve("span.label-description")),!!r.supportOcticons)}:i.descriptionNodeFactory=function(){return i._register(new WE(Ce(i.labelDescriptionContainer.element,Ve("span.label-description"))))},i}return e.prototype.setLabel=function(t,r,i){var o=["monaco-icon-label"];i&&(i.extraClasses&&o.push.apply(o,i.extraClasses),i.italic&&o.push("italic")),this.domNode.className=o.join(" "),this.domNode.title=i&&i.title?i.title:"",this.labelNode instanceof Fv?this.labelNode.set(t||"",i?i.matches:void 0,i&&i.title?i.title:void 0,i&&i.labelEscapeNewLines):this.labelNode.textContent=t||"",(r||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Fv?(this.descriptionNode.set(r||"",i?i.descriptionMatches:void 0),i&&i.descriptionTitle?this.descriptionNode.element.title=i.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=r||"",this.descriptionNode.title=i&&i.descriptionTitle?i.descriptionTitle:"",this.descriptionNode.empty=!r))},e}(fe),w8e={badgeBackground:se.fromHex("#4D4D4D"),badgeForeground:se.fromHex("#FFFFFF")},E8e=function(){function n(e,t){this.count=0,this.options=t||Object.create(null),Ur(this.options,w8e,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Ce(e,Ve(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return n.prototype.setCount=function(e){this.count=e,this.render()},n.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},n.prototype.render=function(){this.element.textContent=Yt(this.countFormat,this.count),this.element.title=Yt(this.titleFormat,this.count),this.applyStyles()},n.prototype.style=function(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()},n.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():null,t=this.badgeForeground?this.badgeForeground.toString():null,r=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=r?"1px":null,this.element.style.borderStyle=r?"solid":null,this.element.style.borderColor=r}},n}();function S8e(n,e,t){if(typeof n=="string"&&(n=Ft.file(n)),n.scheme!==En.file&&n.scheme!==En.untitled)return n.with({query:null,fragment:null}).toString(!0);if(J5(n.fsPath))return ST(Zre(n.fsPath));var r=ST(n.fsPath);return!bo&&e&&(r=T8e(r,e.userHome)),r}function Qre(n){if(n){typeof n=="string"&&(n=Ft.file(n));var e=Nc(n)||(n.scheme===En.file?n.fsPath:n.path);return J5(e)?Zre(e):e}}function J5(n){return!!(bo&&n&&n[1]===":")}function Zre(n){return J5(n)?n.charAt(0).toUpperCase()+n.slice(1):n}var Tk=Object.create(null);function T8e(n,e){if(bo||!n||!e)return n;var t=Tk.original===e?Tk.normalized:void 0;return t||(t=""+UJ(e,br.sep)+br.sep,Tk={original:e,normalized:t}),(Uc?Vb(n,t):zJ(n,t))&&(n="~/"+n.substr(t.length)),n}var D8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L2=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},a1=function(n,e){return function(t,r){e(t,r,n)}},A8e=function(){function n(e){this._resolverService=e}return n.prototype.hasChildren=function(e){return e instanceof Mm||e instanceof Pm&&!e.failure},n.prototype.getChildren=function(e){if(e instanceof Mm)return e.groups;if(e instanceof Pm)return e.resolve(this._resolverService).then(function(t){return t.children});throw new Error("bad tree")},n=L2([a1(0,kp)],n),n}(),I8e=function(){function n(){}return n.prototype.getHeight=function(){return 23},n.prototype.getTemplateId=function(e){return e instanceof Pm?Jre.id:eie.id},n}(),x8e=function(){function n(e){this._keybindingService=e}return n.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof Rm){var t=e.parent.preview,r=t&&t.preview(e.range);if(r)return r.value}return Nc(e.uri)},n.prototype.mightProducePrintableCharacter=function(e){return this._keybindingService.mightProducePrintableCharacter(e)},n=L2([a1(0,wr)],n),n}(),L8e=function(){function n(){}return n.prototype.getId=function(e){return e.id},n}(),N8e=function(n){D8e(e,n);function e(t,r,i){var o=n.call(this)||this;o._uriLabel=r;var s=document.createElement("div");return De(s,"reference-file"),o.file=o._register(new Z5(s,{supportHighlights:!0})),o.badge=new E8e(Ce(s,Ve(".count"))),o._register(gMe(o.badge,i)),t.appendChild(s),o}return e.prototype.set=function(t,r){var i=s6(t.uri);this.file.setLabel(Qre(t.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(t.uri),matches:r});var o=t.children.length;this.badge.setCount(o),t.failure?this.badge.setTitleFormat(D("referencesFailre","Failed to resolve file.")):o>1?this.badge.setTitleFormat(D("referencesCount","{0} references",o)):this.badge.setTitleFormat(D("referenceCount","{0} reference",o))},e=L2([a1(1,b2),a1(2,Yr)],e),e}(fe),Jre=function(){function n(e){this._instantiationService=e,this.templateId=n.id}return n.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(N8e,e)},n.prototype.renderElement=function(e,t,r){r.set(e.element,p5(e.filterData))},n.prototype.disposeTemplate=function(e){e.dispose()},n.id="FileReferencesRenderer",n=L2([a1(0,cr)],n),n}(),O8e=function(){function n(e){this.label=new Fv(e,!1)}return n.prototype.set=function(e,t){var r=e.parent.preview,i=r&&r.preview(e.range);if(!i)this.label.set(Nc(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1));else{var o=i.value,s=i.highlight;t&&!_u.isDefault(t)?(kt(this.label.element,"referenceMatch",!1),this.label.set(o,p5(t))):(kt(this.label.element,"referenceMatch",!0),this.label.set(o,[s]))}},n}(),eie=function(){function n(){this.templateId=n.id}return n.prototype.renderTemplate=function(e){return new O8e(e)},n.prototype.renderElement=function(e,t,r){r.set(e.element,e.filterData)},n.prototype.disposeTemplate=function(){},n.id="OneReferenceRenderer",n}(),k8e=function(){function n(){}return n.prototype.getAriaLabel=function(e){return e instanceof Pm||e instanceof Rm?e.getAriaMessage():null},n}(),eB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),R8e={separatorBorder:se.transparent},tie=function(){function n(e,t,r,i){this.container=e,this.view=t,this.disposable=i,this._cachedVisibleSize=void 0,typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,De(e,"visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}return Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return typeof this._cachedVisibleSize>"u"},enumerable:!0,configurable:!0}),n.prototype.setVisible=function(e,t){e!==this.visible&&(e?(this.size=nu(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),kt(this.container,"visible",e),this.view.setVisible&&this.view.setVisible(e))},Object.defineProperty(n.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:!0,configurable:!0}),n.prototype.layout=function(e){this.view.layout(this.size,e)},n.prototype.dispose=function(){return this.disposable.dispose(),this.view},n}(),P8e=function(n){eB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.layout=function(t){n.prototype.layout.call(this,t),this.container.style.height=this.size+"px"},e}(tie),M8e=function(n){eB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.layout=function(t){n.prototype.layout.call(this,t),this.container.style.width=this.size+"px"},e}(tie),tc;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(tc||(tc={}));var hD;(function(n){n.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}n.Split=e;function t(r){return{type:"invisible",cachedVisibleSize:r}}n.Invisible=t})(hD||(hD={}));var F8e=function(n){eB(e,n);function e(t,r){r===void 0&&(r={});var i=n.call(this)||this;return i.size=0,i.contentSize=0,i.proportions=void 0,i.viewItems=[],i.sashItems=[],i.state=tc.Idle,i._onDidSashChange=i._register(new Q),i.onDidSashChange=i._onDidSashChange.event,i._onDidSashReset=i._register(new Q),i.orientation=po(r.orientation)?0:r.orientation,i.inverseAltBehavior=!!r.inverseAltBehavior,i.proportionalLayout=po(r.proportionalLayout)?!0:!!r.proportionalLayout,i.el=document.createElement("div"),De(i.el,"monaco-split-view2"),De(i.el,i.orientation===0?"vertical":"horizontal"),t.appendChild(i.el),i.sashContainer=Ce(i.el,Ve(".sash-container")),i.viewContainer=Ce(i.el,Ve(".split-view-container")),i.style(r.styles||R8e),r.descriptor&&(i.size=r.descriptor.size,r.descriptor.views.forEach(function(o,s){var a=po(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},u=o.view;i.doAddView(u,a,s,!0)}),i.contentSize=i.viewItems.reduce(function(o,s){return o+s.size},0),i.saveProportions()),i}return Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){for(var r=0,i=this.sashItems;r<i.length;r++){var o=i[r];o.sash.orthogonalStartSash=t}this._orthogonalStartSash=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){for(var r=0,i=this.sashItems;r<i.length;r++){var o=i[r];o.sash.orthogonalEndSash=t}this._orthogonalEndSash=t},enumerable:!0,configurable:!0}),e.prototype.style=function(t){t.separatorBorder.isTransparent()?(ot(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(De(this.el,"separator-border"),this.el.style.setProperty("--separator-border",t.separatorBorder.toString()))},e.prototype.addView=function(t,r,i){i===void 0&&(i=this.viewItems.length),this.doAddView(t,r,i,!1)},e.prototype.layout=function(t,r){var i=this,o=Math.max(this.size,this.contentSize);if(this.size=t,this.orthogonalSize=r,this.proportions)for(var l=0;l<this.viewItems.length;l++){var c=this.viewItems[l];c.size=nu(Math.round(this.proportions[l]*t),c.minimumSize,c.maximumSize)}else{var s=Fo(this.viewItems.length),a=s.filter(function(d){return i.viewItems[d].priority===1}),u=s.filter(function(d){return i.viewItems[d].priority===2});this.resize(this.viewItems.length-1,t-o,void 0,a,u)}this.distributeEmptySpace(),this.layoutViews()},e.prototype.saveProportions=function(){var t=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(r){return r.size/t.contentSize}))},e.prototype.onSashStart=function(t){var r=this,i=t.sash,o=t.start,s=t.alt,a=Yf(this.sashItems,function(c){return c.sash===i}),u=al(Nt(document.body,"keydown")(function(c){return l(r.sashDragState.current,c.altKey)}),Nt(document.body,"keyup")(function(){return l(r.sashDragState.current,!1)})),l=function(c,d){var h=r.viewItems.map(function(U){return U.size}),p=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY;if(r.inverseAltBehavior&&(d=!d),d){var m=a===r.sashItems.length-1;if(m){var _=r.viewItems[a];p=(_.minimumSize-_.size)/2,v=(_.maximumSize-_.size)/2}else{var _=r.viewItems[a+1];p=(_.size-_.maximumSize)/2,v=(_.size-_.minimumSize)/2}}var b,C;if(!d){var E=Fo(a,-1),T=Fo(a+1,r.viewItems.length),A=E.reduce(function(U,$){return U+(r.viewItems[$].minimumSize-h[$])},0),S=E.reduce(function(U,$){return U+(r.viewItems[$].viewMaximumSize-h[$])},0),N=T.length===0?Number.POSITIVE_INFINITY:T.reduce(function(U,$){return U+(h[$]-r.viewItems[$].minimumSize)},0),k=T.length===0?Number.NEGATIVE_INFINITY:T.reduce(function(U,$){return U+(h[$]-r.viewItems[$].viewMaximumSize)},0),F=Math.max(A,k),L=Math.min(N,S),O=r.findFirstSnapIndex(E),P=r.findFirstSnapIndex(T);if(typeof O=="number"){var _=r.viewItems[O],B=Math.floor(_.viewMinimumSize/2);b={index:O,limitDelta:_.visible?F-B:F+B,size:_.size}}if(typeof P=="number"){var _=r.viewItems[P],B=Math.floor(_.viewMinimumSize/2);C={index:P,limitDelta:_.visible?L+B:L-B,size:_.size}}}r.sashDragState={start:c,current:c,index:a,sizes:h,minDelta:p,maxDelta:v,alt:d,snapBefore:b,snapAfter:C,disposable:u}};l(o,s)},e.prototype.onSashChange=function(t){var r=t.current,i=this.sashDragState,o=i.index,s=i.start,a=i.sizes,u=i.alt,l=i.minDelta,c=i.maxDelta,d=i.snapBefore,h=i.snapAfter;this.sashDragState.current=r;var p=r-s,v=this.resize(o,p,a,void 0,void 0,l,c,d,h);if(u){var m=o===this.sashItems.length-1,_=this.viewItems.map(function(S){return S.size}),b=m?o:o+1,C=this.viewItems[b],E=C.size-C.maximumSize,T=C.size-C.minimumSize,A=m?o-1:o+1;this.resize(A,-v,_,void 0,void 0,E,T)}this.distributeEmptySpace(),this.layoutViews()},e.prototype.onSashEnd=function(t){this._onDidSashChange.fire(t),this.sashDragState.disposable.dispose(),this.saveProportions()},e.prototype.onViewChange=function(t,r){var i=this.viewItems.indexOf(t);i<0||i>=this.viewItems.length||(r=typeof r=="number"?r:t.size,r=nu(r,t.minimumSize,t.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((t.size-r)/2)),this.distributeEmptySpace(),this.layoutViews()):(t.size=r,this.relayout([i],void 0)))},e.prototype.resizeView=function(t,r){var i=this;if(this.state!==tc.Idle)throw new Error("Cant modify splitview");if(this.state=tc.Busy,!(t<0||t>=this.viewItems.length)){var o=Fo(this.viewItems.length).filter(function(l){return l!==t}),s=o.filter(function(l){return i.viewItems[l].priority===1}).concat([t]),a=o.filter(function(l){return i.viewItems[l].priority===2}),u=this.viewItems[t];r=Math.round(r),r=nu(r,u.minimumSize,Math.min(u.maximumSize,this.size)),u.size=r,this.relayout(s,a),this.state=tc.Idle}},e.prototype.distributeViewSizes=function(){for(var t=this,r=[],i=0,o=0,s=this.viewItems;o<s.length;o++){var a=s[o];a.maximumSize-a.minimumSize>0&&(r.push(a),i+=a.size)}for(var u=Math.floor(i/r.length),l=0,c=r;l<c.length;l++){var a=c[l];a.size=nu(u,a.minimumSize,a.maximumSize)}var d=Fo(this.viewItems.length),h=d.filter(function(v){return t.viewItems[v].priority===1}),p=d.filter(function(v){return t.viewItems[v].priority===2});this.relayout(h,p)},e.prototype.getViewSize=function(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size},e.prototype.doAddView=function(t,r,i,o){var s=this;if(i===void 0&&(i=this.viewItems.length),this.state!==tc.Idle)throw new Error("Cant modify splitview");this.state=tc.Busy;var a=Ve(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(a):this.viewContainer.insertBefore(a,this.viewContainer.children.item(i));var u=t.onDidChange(function(O){return s.onViewChange(h,O)}),l=bn(function(){return s.viewContainer.removeChild(a)}),c=al(u,l),d;typeof r=="number"?d=r:r.type==="split"?d=this.getViewSize(r.index)/2:r.type==="invisible"?d={cachedVisibleSize:r.cachedVisibleSize}:d=t.minimumSize;var h=this.orientation===0?new P8e(a,t,d,c):new M8e(a,t,d,c);if(this.viewItems.splice(i,0,h),this.viewItems.length>1){var p=this.orientation===0?1:0,v=this.orientation===0?{getHorizontalSashTop:function(O){return s.getSashPosition(O)}}:{getVerticalSashLeft:function(O){return s.getSashPosition(O)}},m=new p2(this.sashContainer,v,{orientation:p,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),_=this.orientation===0?function(O){return{sash:m,start:O.startY,current:O.currentY,alt:O.altKey}}:function(O){return{sash:m,start:O.startX,current:O.currentX,alt:O.altKey}},b=Je.map(m.onDidStart,_),C=b(this.onSashStart,this),E=Je.map(m.onDidChange,_),T=E(this.onSashChange,this),A=Je.map(m.onDidEnd,function(){return Yf(s.sashItems,function(O){return O.sash===m})}),S=A(this.onSashEnd,this),N=m.onDidReset(function(){var O=Yf(s.sashItems,function(ee){return ee.sash===m}),P=Fo(O,-1),B=Fo(O+1,s.viewItems.length),U=s.findFirstSnapIndex(P),$=s.findFirstSnapIndex(B);typeof U=="number"&&!s.viewItems[U].visible||typeof $=="number"&&!s.viewItems[$].visible||s._onDidSashReset.fire(O)}),k=al(C,T,S,N,m),F={sash:m,disposable:k};this.sashItems.splice(i-1,0,F)}a.appendChild(t.element);var L;typeof r!="number"&&r.type==="split"&&(L=[r.index]),o||this.relayout([i],L),this.state=tc.Idle,!o&&typeof r!="number"&&r.type==="distribute"&&this.distributeViewSizes()},e.prototype.relayout=function(t,r){var i=this.viewItems.reduce(function(o,s){return o+s.size},0);this.resize(this.viewItems.length-1,this.size-i,void 0,t,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},e.prototype.resize=function(t,r,i,o,s,a,u,l,c){var d=this;if(i===void 0&&(i=this.viewItems.map(function(ze){return ze.size})),a===void 0&&(a=Number.NEGATIVE_INFINITY),u===void 0&&(u=Number.POSITIVE_INFINITY),t<0||t>=this.viewItems.length)return 0;var h=Fo(t,-1),p=Fo(t+1,this.viewItems.length);if(s)for(var v=0,m=s;v<m.length;v++){var _=m[v];oO(h,_),oO(p,_)}if(o)for(var b=0,C=o;b<C.length;b++){var E=C[b];dE(h,E),dE(p,E)}var T=h.map(function(ze){return d.viewItems[ze]}),A=h.map(function(ze){return i[ze]}),S=p.map(function(ze){return d.viewItems[ze]}),N=p.map(function(ze){return i[ze]}),k=h.reduce(function(ze,dt){return ze+(d.viewItems[dt].minimumSize-i[dt])},0),F=h.reduce(function(ze,dt){return ze+(d.viewItems[dt].maximumSize-i[dt])},0),L=p.length===0?Number.POSITIVE_INFINITY:p.reduce(function(ze,dt){return ze+(i[dt]-d.viewItems[dt].minimumSize)},0),O=p.length===0?Number.NEGATIVE_INFINITY:p.reduce(function(ze,dt){return ze+(i[dt]-d.viewItems[dt].maximumSize)},0),P=Math.max(k,O,a),B=Math.min(L,F,u),U=!1;if(l){var $=this.viewItems[l.index],ee=r>=l.limitDelta;U=ee!==$.visible,$.setVisible(ee,l.size)}if(!U&&c){var $=this.viewItems[c.index],ee=r<c.limitDelta;U=ee!==$.visible,$.setVisible(ee,c.size)}if(U)return this.resize(t,r,i,o,s,a,u);r=nu(r,P,B);for(var te=0,ne=r;te<T.length;te++){var de=T[te],ke=nu(A[te]+ne,de.minimumSize,de.maximumSize),qe=ke-A[te];ne-=qe,de.size=ke}for(var te=0,ft=r;te<S.length;te++){var de=S[te],ke=nu(N[te]-ft,de.minimumSize,de.maximumSize),qe=ke-N[te];ft+=qe,de.size=ke}return r},e.prototype.distributeEmptySpace=function(t){for(var r=this,i=this.viewItems.reduce(function(C,E){return C+E.size},0),o=this.size-i,s=Fo(this.viewItems.length-1,-1),a=s.filter(function(C){return r.viewItems[C].priority===1}),u=s.filter(function(C){return r.viewItems[C].priority===2}),l=0,c=u;l<c.length;l++){var d=c[l];oO(s,d)}for(var h=0,p=a;h<p.length;h++){var d=p[h];dE(s,d)}typeof t=="number"&&dE(s,t);for(var v=0;o!==0&&v<s.length;v++){var m=this.viewItems[s[v]],_=nu(m.size+o,m.minimumSize,m.maximumSize),b=_-m.size;o-=b,m.size=_}},e.prototype.layoutViews=function(){var t=this;this.contentSize=this.viewItems.reduce(function(l,c){return l+c.size},0),this.viewItems.forEach(function(l){return l.layout(t.orthogonalSize)}),this.sashItems.forEach(function(l){return l.sash.layout()});var r=!1,i=this.viewItems.map(function(l){return r=l.size-l.minimumSize>0||r});r=!1;var o=this.viewItems.map(function(l){return r=l.maximumSize-l.size>0||r}),s=this.viewItems.slice().reverse();r=!1;var a=s.map(function(l){return r=l.size-l.minimumSize>0||r}).reverse();r=!1;var u=s.map(function(l){return r=l.maximumSize-l.size>0||r}).reverse();this.sashItems.forEach(function(l,c){var d=l.sash,h=!(i[c]&&u[c+1]),p=!(o[c]&&a[c+1]);if(h&&p){var v=Fo(c,-1),m=Fo(c+1,t.viewItems.length),_=t.findFirstSnapIndex(v),b=t.findFirstSnapIndex(m),C=typeof _=="number"&&!t.viewItems[_].visible,E=typeof b=="number"&&!t.viewItems[b].visible;C&&a[c]?d.state=1:E&&i[c]?d.state=2:d.state=0}else h&&!p?d.state=1:!h&&p?d.state=2:d.state=3})},e.prototype.getSashPosition=function(t){for(var r=0,i=0;i<this.sashItems.length;i++)if(r+=this.viewItems[i].size,this.sashItems[i].sash===t)return r;return 0},e.prototype.findFirstSnapIndex=function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r],s=this.viewItems[o];if(s.visible&&s.snap)return o}for(var a=0,u=t;a<u.length;a++){var o=u[a],s=this.viewItems[o];if(s.visible&&s.maximumSize-s.minimumSize>0)return;if(!s.visible&&s.snap)return o}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.viewItems.forEach(function(t){return t.dispose()}),this.viewItems=[],this.sashItems.forEach(function(t){return t.disposable.dispose()}),this.sashItems=[]},e}(fe),B8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H8e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oy=function(n,e){return function(t,r){e(t,r,n)}},V8e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},W8e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},U8e=function(){function n(e,t){var r=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Be,this._callOnModelChange=new Be,this._callOnDispose.add(this._editor.onDidChangeModel(function(){return r._onModelChanged()})),this._onModelChanged()}return n.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},n.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,r=this._model.groups;t<r.length;t++){var i=r[t];if(i.uri.toString()===e.uri.toString()){this._addDecorations(i);return}}},n.prototype._addDecorations=function(e){var t=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(l){return t._onDecorationChanged()}));for(var r=[],i=[],o=0,s=e.children.length;o<s;o++){var a=e.children[o];this._decorationIgnoreSet.has(a.id)||(r.push({range:a.range,options:n.DecorationOptions}),i.push(o))}for(var u=this._editor.deltaDecorations([],r),o=0;o<u.length;o++)this._decorations.set(u[o],e.children[i[o]])}},n.prototype._onDecorationChanged=function(){var e=this,t=[],r=this._editor.getModel();if(r){this._decorations.forEach(function(s,a){var u=r.getDecorationRange(a);if(u){var l=!1;if(!H.equalsRange(u,s.range)){if(H.spansMultipleLines(u))l=!0;else{var c=s.range.endColumn-s.range.startColumn,d=u.endColumn-u.startColumn;c!==d&&(l=!0)}l?(e._decorationIgnoreSet.add(s.id),t.push(a)):s.range=u}}});for(var i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.deltaDecorations(t,[])}},n.prototype.removeDecorations=function(){var e=[];this._decorations.forEach(function(t,r){e.push(r)}),this._editor.deltaDecorations(e,[]),this._decorations.clear()},n.DecorationOptions=mt.register({stickiness:1,className:"reference-decoration"}),n}(),j8e=function(){function n(){this.ratio=.7,this.heightInLines=18}return n.fromJSON=function(e){var t,r;try{var i=JSON.parse(e);t=i.ratio,r=i.heightInLines}catch{}return{ratio:t||.7,heightInLines:r||18}},n}(),nie=new Ke("referenceSearchTreeFocused",!0),q8e=function(n){B8e(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return c._defaultTreeKeyboardSupport=r,c.layoutData=i,c._textModelResolverService=s,c._instantiationService=a,c._peekViewService=u,c._uriLabel=l,c._disposeOnNewModel=new Be,c._callOnDispose=new Be,c._onDidSelectReference=new Q,c._dim={height:0,width:0},c._applyTheme(o.getTheme()),c._callOnDispose.add(o.onThemeChange(c._applyTheme.bind(c))),c._peekViewService.addExclusiveWidget(t,c),c.create(),c}return e.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),nt(this._preview),nt(this._previewNotAvailableMessage),nt(this._tree),nt(this._previewModelReference),this._splitView.dispose(),n.prototype.dispose.call(this)},e.prototype._applyTheme=function(t){var r=t.getColor(G8e)||se.transparent;this.style({arrowColor:r,frameColor:r,headerBackgroundColor:t.getColor(z8e)||se.transparent,primaryHeadingColor:t.getColor(rie),secondaryHeadingColor:t.getColor(iie)})},Object.defineProperty(e.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),e.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),n.prototype.show.call(this,t,this.layoutData.heightInLines||18)},e.prototype.focus=function(){this._tree.domFocus()},e.prototype._onTitleClick=function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})},e.prototype._fillBody=function(t){var r=this;this.setCssClass("reference-zone-widget"),this._messageContainer=Ce(t,Ve("div.messages")),jr(this._messageContainer),this._splitView=new F8e(t,{orientation:1}),this._previewContainer=Ce(t,Ve("div.preview.inline"));var i={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Q5,this._previewContainer,i,this.editor),jr(this._previewContainer),this._previewNotAvailableMessage=I_.createFromString(D("missingPreviewMessage","no preview available")),this._treeContainer=Ce(t,Ve("div.ref-tree.inline"));var o={ariaLabel:D("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new k8e,keyboardNavigationLabelProvider:this._instantiationService.createInstance(x8e),identityProvider:new L8e};this._tree=this._instantiationService.createInstance(nFe,this._treeContainer,new I8e,[this._instantiationService.createInstance(Jre),this._instantiationService.createInstance(eie)],this._instantiationService.createInstance(A8e),o),nie.bindTo(this._tree.contextKeyService),this._splitView.addView({onDidChange:Je.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(a){r._preview.layout({height:r._dim.height,width:a})}},hD.Distribute),this._splitView.addView({onDidChange:Je.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(a){r._treeContainer.style.height=r._dim.height+"px",r._treeContainer.style.width=a+"px",r._tree.layout(r._dim.height,a)}},hD.Distribute),this._disposables.add(this._splitView.onDidSashChange(function(){r._dim.width&&(r.layoutData.ratio=r._splitView.getViewSize(0)/r._dim.width)},void 0));var s=function(a,u){a instanceof Rm&&(u==="show"&&r._revealReference(a,!1),r._onDidSelectReference.fire({element:a,kind:u,source:"tree"}))};this._tree.onDidChangeFocus(function(a){s(a.elements[0],"show")}),this._tree.onDidChangeSelection(function(a){var u=!1;a.browserEvent instanceof KeyboardEvent&&(u=!0),u?s(a.elements[0],"goto"):s(a.elements[0],"show")}),this._tree.onDidOpen(function(a){var u=a.browserEvent instanceof MouseEvent&&(a.browserEvent.ctrlKey||a.browserEvent.metaKey||a.browserEvent.altKey),l=!a.browserEvent||a.browserEvent instanceof MouseEvent&&a.browserEvent.detail===2;u?s(a.elements[0],"side"):l?s(a.elements[0],"goto"):s(a.elements[0],"show")}),jr(this._treeContainer)},e.prototype._onWidth=function(t){this._dim&&this._doLayoutBody(this._dim.height,t)},e.prototype._doLayoutBody=function(t,r){n.prototype._doLayoutBody.call(this,t,r),this._dim={height:t,width:r},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(r),this._splitView.resizeView(0,r*this.layoutData.ratio)},e.prototype.setSelection=function(t){var r=this;return this._revealReference(t,!0).then(function(){r._model&&(r._tree.setSelection([t]),r._tree.setFocus([t]))})},e.prototype.setModel=function(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()},e.prototype._onNewModel=function(){var t=this;return this._model?this._model.empty?(this.setTitle(""),this._messageContainer.innerHTML=D("noResults","No results"),Ti(this._messageContainer),Promise.resolve(void 0)):(jr(this._messageContainer),this._decorationsManager=new U8e(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(r){return t._tree.rerender(r)})),this._disposeOnNewModel.add(this._preview.onMouseDown(function(r){var i=r.event,o=r.target;if(i.detail===2){var s=t._getFocusedReference();s&&t._onDidSelectReference.fire({element:{uri:s.uri,range:o.range},kind:i.ctrlKey||i.metaKey||i.altKey?"side":"open",source:"editor"})}})),De(this.container,"results-loaded"),Ti(this._treeContainer),Ti(this._previewContainer),this._splitView.layout(this._dim.width),this.focus(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)},e.prototype._getFocusedReference=function(){var t=this._tree.getFocus()[0];if(t instanceof Rm)return t;if(t instanceof Pm&&t.children.length>0)return t.children[0]},e.prototype._revealReference=function(t,r){return V8e(this,void 0,void 0,function(){var i,o,s,a,u;return W8e(this,function(l){switch(l.label){case 0:return this._revealedReference===t?[2]:(this._revealedReference=t,t.uri.scheme!==En.inMemory?this.setTitle(JJ(t.uri),this._uriLabel.getUriLabel(s6(t.uri))):this.setTitle(D("peekView.alternateTitle","References")),i=this._textModelResolverService.createModelReference(t.uri),this._tree.getInput()!==t.parent?[3,1]:(this._tree.reveal(t),[3,3]));case 1:return r&&this._tree.reveal(t.parent),[4,this._tree.expand(t.parent)];case 2:l.sent(),this._tree.reveal(t),l.label=3;case 3:return[4,i];case 4:return o=l.sent(),this._model?(nt(this._previewModelReference),s=o.object,s?(a=this._preview.getModel()===s.textEditorModel?0:1,u=H.lift(t.range).collapseToStart(),this._previewModelReference=o,this._preview.setModel(s.textEditorModel),this._preview.setSelection(u),this._preview.revealRangeInCenter(u,a)):(this._preview.setModel(this._previewNotAvailableMessage),o.dispose()),[2]):(o.dispose(),[2])}})})},e=H8e([oy(3,Yr),oy(4,kp),oy(5,cr),oy(6,Yre),oy(7,b2)],e),e}(Xre),z8e=re("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},D("peekViewTitleBackground","Background color of the peek view title area.")),rie=re("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},D("peekViewTitleForeground","Color of the peek view title.")),iie=re("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},D("peekViewTitleInfoForeground","Color of the peek view title info.")),G8e=re("peekView.border",{dark:"#007acc",light:"#007acc",hc:Mr},D("peekViewBorder","Color of the peek view borders and arrow.")),$8e=re("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:se.black},D("peekViewResultsBackground","Background color of the peek view result list.")),K8e=re("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:se.white},D("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Y8e=re("peekViewResult.fileForeground",{dark:se.white,light:"#1E1E1E",hc:se.white},D("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),X8e=re("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},D("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Q8e=re("peekViewResult.selectionForeground",{dark:se.white,light:"#6C6C6C",hc:se.white},D("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),OS=re("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:se.black},D("peekViewEditorBackground","Background color of the peek view editor.")),Z8e=re("peekViewEditorGutter.background",{dark:OS,light:OS,hc:OS},D("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),J8e=re("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},D("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),e9e=re("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},D("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),t9e=re("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Ni},D("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));mn(function(n,e){var t=n.getColor(J8e);t&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+t+"; }");var r=n.getColor(e9e);r&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+r+"; }");var i=n.getColor(t9e);i&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+i+"; box-sizing: border-box; }");var o=n.getColor(Ni);o&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+o+"; box-sizing: border-box; }");var s=n.getColor($8e);s&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=n.getColor(K8e);a&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var u=n.getColor(Y8e);u&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+u+"; }");var l=n.getColor(X8e);l&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+l+"; }");var c=n.getColor(Q8e);c&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+c+" !important; }");var d=n.getColor(OS);d&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+("	background-color: "+d+";")+"}");var h=n.getColor(Z8e);h&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+("	background-color: "+h+";")+"}")});var n9e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fv=function(n,e){return function(t,r){e(t,r,n)}},r9e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},i9e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},wC=new Ke("referenceSearchVisible",!1),k_=function(){function n(e,t,r,i,o,s,a,u){this._defaultTreeKeyboardSupport=e,this._editorService=i,this._notificationService=o,this._instantiationService=s,this._storageService=a,this._configurationService=u,this._disposables=new Be,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._editor=t,this._referenceSearchVisible=wC.bindTo(r)}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._referenceSearchVisible.reset(),nt(this._disposables),this._widget&&(nt(this._widget),this._widget=void 0),this._model&&(nt(this._model),this._model=void 0)},n.prototype.toggleWidget=function(e,t,r){var i=this,o;if(this._widget&&(o=this._widget.position),this.closeWidget(),!(o&&e.containsPosition(o))){this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){i.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(function(){i._ignoreModelChangeEvent||i.closeWidget()}));var s="peekViewLayout",a=j8e.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(q8e,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(D("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(function(){t.cancel(),i._widget&&(i._storageService.store(s,JSON.stringify(i._widget.layoutData),0),i._widget=void 0),i.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(function(l){var c=l.element,d=l.kind;switch(d){case"open":if(l.source==="editor"&&i._configurationService.getValue("editor.stablePeek"))break;case"side":c&&i.openReference(c,d==="side");break;case"goto":c&&(r.onGoto?r.onGoto(c):i._gotoReference(c));break}}));var u=++this._requestIdPool;t.then(function(l){if(!(u!==i._requestIdPool||!i._widget))return i._model&&i._model.dispose(),i._model=l,i._widget.setModel(i._model).then(function(){if(i._widget&&i._model&&i._editor.hasModel()){i._widget.setMetaTitle(r.getMetaTitle(i._model));var c=i._editor.getModel().uri,d=new J(e.startLineNumber,e.startColumn),h=i._model.nearestReference(c,d);if(h)return i._widget.setSelection(h)}})},function(l){i._notificationService.error(l)})}},n.prototype.goToNextOrPreviousReference=function(e){return r9e(this,void 0,void 0,function(){var t,r,i,o;return i9e(this,function(s){switch(s.label){case 0:return!this._editor.hasModel()||!this._model||!this._widget?[2]:(t=this._widget.position,t?(r=this._model.nearestReference(this._editor.getModel().uri,t),r?(i=this._model.nextOrPreviousReference(r,e),o=this._editor.hasTextFocus(),[4,this._widget.setSelection(i)]):[2]):[2]);case 1:return s.sent(),[4,this._gotoReference(i)];case 2:return s.sent(),o&&this._editor.focus(),[2]}})})},n.prototype.closeWidget=function(){this._widget&&(nt(this._widget),this._widget=void 0),this._referenceSearchVisible.reset(),this._disposables.clear(),this._model&&(nt(this._model),this._model=void 0),this._editor.focus(),this._requestIdPool+=1},n.prototype._gotoReference=function(e){var t=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var r=H.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:r}},this._editor).then(function(i){if(t._ignoreModelChangeEvent=!1,!i||i!==t._editor){t.closeWidget();return}t._widget&&(t._widget.show(r),t._widget.focus())},function(i){t._ignoreModelChangeEvent=!1,He(i)})},n.prototype.openReference=function(e,t){t||this.closeWidget();var r=e.uri,i=e.range;this._editorService.openCodeEditor({resource:r,options:{selection:i}},this._editor,t)},n.ID="editor.contrib.referencesController",n=n9e([fv(2,yt),fv(3,Dn),fv(4,gi),fv(5,cr),fv(6,kh),fv(7,pi)],n),n}();function N2(n,e,t,r){var i=t.ordered(n),o=i.map(function(s){return Promise.resolve(r(s,n,e)).then(void 0,function(a){Eo(a)})});return Promise.all(o).then(Pb).then(Wc)}function tB(n,e,t){return N2(n,e,zb,function(r,i,o){return r.provideDefinition(i,o,t)})}function oie(n,e,t){return N2(n,e,IT,function(r,i,o){return r.provideDeclaration(i,o,t)})}function sie(n,e,t){return N2(n,e,xT,function(r,i,o){return r.provideImplementation(i,o,t)})}function aie(n,e,t){return N2(n,e,LT,function(r,i,o){return r.provideTypeDefinition(i,o,t)})}Lu("_executeDefinitionProvider",function(n,e){return tB(n,e,nn.None)});Lu("_executeDeclarationProvider",function(n,e){return oie(n,e,nn.None)});Lu("_executeImplementationProvider",function(n,e){return sie(n,e,nn.None)});Lu("_executeTypeDefinitionProvider",function(n,e){return aie(n,e,nn.None)});var o9e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uie=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dy=function(n,e){return function(t,r){e(t,r,n)}},nB=new Ke("hasSymbols",!1),O2=qt("ISymbolNavigationService"),s9e=function(){function n(e,t,r,i){this._editorService=t,this._notificationService=r,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=nB.bindTo(e)}return n.prototype.reset=function(){this._ctxHasSymbols.reset(),nt(this._currentState),nt(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},n.prototype.put=function(e){var t=this,r=e.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var i=new a9e(this._editorService),o=i.onDidChange(function(s){if(!t._ignoreEditorChange){var a=t._editorService.getActiveCodeEditor();if(a){var u=a.getModel(),l=a.getPosition();if(!(!u||!l)){for(var c=!1,d=!1,h=0,p=r.references;h<p.length;h++){var v=p[h];if(v.uri.toString()===u.uri.toString())c=!0,d=d||H.containsPosition(v.range,l);else if(c)break}(!c||!d)&&t.reset()}}}});this._currentState=al(i,o)},n.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:H.collapseToStart(r.range),revealInCenterIfOutsideViewport:!0}},e).finally(function(){t._ignoreEditorChange=!1})},n.prototype._showMessage=function(){nt(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?D("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):D("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},n=uie([Dy(0,yt),Dy(1,Dn),Dy(2,gi),Dy(3,wr)],n),n}();dC(O2,s9e,!0);ce(new(function(n){o9e(e,n);function e(){return n.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:Le.and(nB,Le.equals("config.editor.gotoLocation.multiple","goto")),kbOpts:{weight:100,primary:70}})||this}return e.prototype.runEditorCommand=function(t,r){return t.get(O2).revealNext(r)},e}(Do)));pa.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:nB,primary:9,handler:function(n){n.get(O2).reset()}});var a9e=function(){function n(e){this._listener=new Map,this._disposables=new Be,this._onDidChange=new Q,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return n.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(nt)},n.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,al(e.onDidChangeCursorPosition(function(r){return t._onDidChange.fire({editor:e})}),e.onDidChangeModelContent(function(r){return t._onDidChange.fire({editor:e})})))},n.prototype._onDidRemoveEditor=function(e){nt(this._listener.get(e)),this._listener.delete(e)},n=uie([Dy(0,Dn)],n),n}(),ma=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rG=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},iG=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Hl=function(){function n(e,t,r,i){e===void 0&&(e=!1),t===void 0&&(t=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),this.openToSide=e,this.openInPeek=t,this.filterCurrent=r,this.showMessage=i}return n}(),fg=function(n){ma(e,n);function e(t,r){var i=n.call(this,r)||this;return i._configuration=t,i}return e.prototype.run=function(t,r){var i=this;if(!r.hasModel())return Promise.resolve(void 0);var o=t.get(gi),s=t.get(Dn),a=t.get(S2),u=t.get(O2),l=r.getModel(),c=r.getPosition(),d=new t5(r,5),h=dDe(this._getTargetLocationForPosition(l,c,d.token),d.token).then(function(p){return rG(i,void 0,void 0,function(){var v,m,_,b,C,E,T,A;return iG(this,function(S){if(!p||l.isDisposed())return[2];for(v=-1,m=[],_=0,b=p;_<b.length;_++)C=b[_],!(!C||!C.range)&&(E=m.push(C),this._configuration.filterCurrent&&C.uri.toString()===l.uri.toString()&&H.containsPosition(C.range,c)&&v===-1&&(v=E-1));if(m.length===0)this._configuration.showMessage&&(T=l.getWordAtPosition(c),Cc.get(r).showMessage(this._getNoResultFoundMessage(T),c));else return m.length===1&&v!==-1?(A=m[0],[2,this._openReference(r,s,A,!1).then(function(){})]):[2,this._onResult(s,u,r,new Mm(m))];return[2]})})},function(p){o.error(p)}).finally(function(){d.dispose()});return a.showWhile(h,250),h},e.prototype._getTargetLocationForPosition=function(t,r,i){return tB(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("noResultWord","No definition found for '{0}'",t.word):D("generic.noResults","No definition found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("meta.title","  {0} definitions",t.references.length):""},e.prototype._onResult=function(t,r,i,o){return rG(this,void 0,void 0,function(){var s,a,u,l;return iG(this,function(c){switch(c.label){case 0:return s=o.getAriaMessage(),ji(s),a=i.getConfiguration().contribInfo.gotoLocation,this._configuration.openInPeek||a.multiple==="peek"&&o.references.length>1?(this._openInPeek(t,i,o),[3,3]):[3,1];case 1:return i.hasModel()?(u=o.firstReference(),u?[4,this._openReference(i,t,u,this._configuration.openToSide)]:[2]):[3,3];case 2:l=c.sent(),l&&o.references.length>1&&a.multiple==="gotoAndPeek"?this._openInPeek(t,l,o):o.dispose(),a.multiple==="goto"&&r.put(u),c.label=3;case 3:return[2]}})})},e.prototype._openReference=function(t,r,i,o){var s=void 0;return qAe(i)&&(s=i.targetSelectionRange),s||(s=i.range),r.openCodeEditor({resource:i.uri,options:{selection:H.collapseToStart(s),revealInCenterIfOutsideViewport:!0}},t,o)},e.prototype._openInPeek=function(t,r,i){var o=this,s=k_.get(r);s&&r.hasModel()?s.toggleWidget(r.getSelection(),Gr(function(a){return Promise.resolve(i)}),{getMetaTitle:function(a){return o._getMetaTitle(a)},onGoto:function(a){return s.closeWidget(),o._openReference(r,t,a,!1)}}):i.dispose()},e}(Ue),lie=V4?2118:70,u9e=function(n){ma(e,n);function e(){var t=n.call(this,new Hl,{id:e.id,label:D("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Le.and(W.hasDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:lie,weight:100},menuOpts:{group:"navigation",order:1.1}})||this;return Ri.registerCommandAlias("editor.action.goToDeclaration",e.id),t}return e.id="editor.action.revealDefinition",e}(fg),l9e=function(n){ma(e,n);function e(){var t=n.call(this,new Hl(!0),{id:e.id,label:D("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Le.and(W.hasDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,lie),weight:100}})||this;return Ri.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id),t}return e.id="editor.action.revealDefinitionAside",e}(fg),c9e=function(n){ma(e,n);function e(){var t=n.call(this,new Hl(void 0,!0,!1),{id:e.id,label:D("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Le.and(W.hasDefinitionProvider,kc.notInPeekEditor,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menuOpts:{group:"navigation",order:1.2}})||this;return Ri.registerCommandAlias("editor.action.previewDeclaration",e.id),t}return e.id="editor.action.peekDefinition",e}(fg),cie=function(n){ma(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._getTargetLocationForPosition=function(t,r,i){return oie(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("decl.noResultWord","No declaration found for '{0}'",t.word):D("decl.generic.noResults","No declaration found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("decl.meta.title","  {0} declarations",t.references.length):""},e}(fg),f9e=function(n){ma(e,n);function e(){return n.call(this,new Hl,{id:e.id,label:D("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Le.and(W.hasDeclarationProvider,W.isInEmbeddedEditor.toNegated()),menuOpts:{group:"navigation",order:1.3}})||this}return e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("decl.noResultWord","No declaration found for '{0}'",t.word):D("decl.generic.noResults","No declaration found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("decl.meta.title","  {0} declarations",t.references.length):""},e.id="editor.action.revealDeclaration",e}(cie),h9e=function(n){ma(e,n);function e(){return n.call(this,new Hl(void 0,!0,!1),{id:"editor.action.peekDeclaration",label:D("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Le.and(W.hasDeclarationProvider,kc.notInPeekEditor,W.isInEmbeddedEditor.toNegated()),menuOpts:{group:"navigation",order:1.31}})||this}return e}(cie),fie=function(n){ma(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._getTargetLocationForPosition=function(t,r,i){return sie(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):D("goToImplementation.generic.noResults","No implementation found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("meta.implementations.title","  {0} implementations",t.references.length):""},e}(fg),d9e=function(n){ma(e,n);function e(){return n.call(this,new Hl,{id:e.ID,label:D("actions.goToImplementation.label","Go to Implementation"),alias:"Go to Implementation",precondition:Le.and(W.hasImplementationProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:2118,weight:100}})||this}return e.ID="editor.action.goToImplementation",e}(fie),p9e=function(n){ma(e,n);function e(){return n.call(this,new Hl(!1,!0,!1),{id:e.ID,label:D("actions.peekImplementation.label","Peek Implementation"),alias:"Peek Implementation",precondition:Le.and(W.hasImplementationProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:3142,weight:100}})||this}return e.ID="editor.action.peekImplementation",e}(fie),hie=function(n){ma(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._getTargetLocationForPosition=function(t,r,i){return aie(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):D("goToTypeDefinition.generic.noResults","No type definition found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("meta.typeDefinitions.title","  {0} type definitions",t.references.length):""},e}(fg),g9e=function(n){ma(e,n);function e(){return n.call(this,new Hl,{id:e.ID,label:D("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Le.and(W.hasTypeDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:0,weight:100},menuOpts:{group:"navigation",order:1.4}})||this}return e.ID="editor.action.goToTypeDefinition",e}(hie),v9e=function(n){ma(e,n);function e(){return n.call(this,new Hl(!1,!0,!1),{id:e.ID,label:D("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Le.and(W.hasTypeDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:0,weight:100}})||this}return e.ID="editor.action.peekTypeDefinition",e}(hie);pe(u9e);pe(l9e);pe(c9e);pe(f9e);pe(h9e);pe(d9e);pe(p9e);pe(g9e);pe(v9e);Tu.appendMenuItem(16,{group:"4_symbol_nav",command:{id:"editor.action.goToDeclaration",title:D({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},order:2});Tu.appendMenuItem(16,{group:"4_symbol_nav",command:{id:"editor.action.goToTypeDefinition",title:D({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},order:3});Tu.appendMenuItem(16,{group:"4_symbol_nav",command:{id:"editor.action.goToImplementation",title:D({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementation")},order:4});var Fp=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.appendText=function(e){return this.value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this},n.prototype.appendMarkdown=function(e){return this.value+=e,this},n.prototype.appendCodeblock=function(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this},n}();function k2(n){return l3(n)?!n.value:Array.isArray(n)?n.every(k2):!0}function l3(n){return n instanceof Fp?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||n.isTrusted===void 0):!1}function m9e(n,e){return!n&&!e?!0:!n||!e?!1:Array.isArray(n)&&Array.isArray(e)?Ah(n,e,oG):l3(n)&&l3(e)?oG(n,e):!1}function oG(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted}function Dk(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function _9e(n){var e=[],t=n.split("|").map(function(c){return c.trim()});n=t[0];var r=t[1];if(r){var i=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),s=i?i[1]:"",a=o?o[1]:"",u=isFinite(parseInt(a)),l=isFinite(parseInt(s));u&&e.push('width="'+a+'"'),l&&e.push('height="'+s+'"')}return{href:n,dimensions:e}}var y9e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function c3(n,e){return!!n[e]}var Ak=function(){function n(e,t){this.target=e.target,this.hasTriggerModifier=c3(e.event,t.triggerModifier),this.hasSideBySideModifier=c3(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=Es||e.event.detail<=1}return n}(),sG=function(){function n(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=c3(e,t.triggerModifier)}return n}(),UE=function(){function n(e,t,r,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=i}return n.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},n}();function aG(n){return n==="altKey"?Tt?new UE(57,"metaKey",6,"altKey"):new UE(5,"ctrlKey",6,"altKey"):Tt?new UE(6,"altKey",57,"metaKey"):new UE(6,"altKey",5,"ctrlKey")}var die=function(n){y9e(e,n);function e(t){var r=n.call(this)||this;return r._onMouseMoveOrRelevantKeyDown=r._register(new Q),r.onMouseMoveOrRelevantKeyDown=r._onMouseMoveOrRelevantKeyDown.event,r._onExecute=r._register(new Q),r.onExecute=r._onExecute.event,r._onCancel=r._register(new Q),r.onCancel=r._onCancel.event,r._editor=t,r._opts=aG(r._editor.getConfiguration().multiCursorModifier),r.lastMouseMoveEvent=null,r.hasTriggerKeyOnMouseDown=!1,r._register(r._editor.onDidChangeConfiguration(function(i){if(i.multiCursorModifier){var o=aG(r._editor.getConfiguration().multiCursorModifier);if(r._opts.equals(o))return;r._opts=o,r.lastMouseMoveEvent=null,r.hasTriggerKeyOnMouseDown=!1,r._onCancel.fire()}})),r._register(r._editor.onMouseMove(function(i){return r.onEditorMouseMove(new Ak(i,r._opts))})),r._register(r._editor.onMouseDown(function(i){return r.onEditorMouseDown(new Ak(i,r._opts))})),r._register(r._editor.onMouseUp(function(i){return r.onEditorMouseUp(new Ak(i,r._opts))})),r._register(r._editor.onKeyDown(function(i){return r.onEditorKeyDown(new sG(i,r._opts))})),r._register(r._editor.onKeyUp(function(i){return r.onEditorKeyUp(new sG(i,r._opts))})),r._register(r._editor.onMouseDrag(function(){return r.resetHandler()})),r._register(r._editor.onDidChangeCursorSelection(function(i){return r.onDidChangeCursorSelection(i)})),r._register(r._editor.onDidChangeModel(function(i){return r.resetHandler()})),r._register(r._editor.onDidChangeModelContent(function(){return r.resetHandler()})),r._register(r._editor.onDidScrollChange(function(i){(i.scrollTopChanged||i.scrollLeftChanged)&&r.resetHandler()})),r}return e.prototype.onDidChangeCursorSelection=function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this.resetHandler()},e.prototype.onEditorMouseMove=function(t){this.lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])},e.prototype.onEditorMouseDown=function(t){this.hasTriggerKeyOnMouseDown=t.hasTriggerModifier},e.prototype.onEditorMouseUp=function(t){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(t)},e.prototype.onEditorKeyDown=function(t){this.lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()},e.prototype.onEditorKeyUp=function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()},e.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},e}(fe),b9e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uG=function(n,e){return function(t,r){e(t,r,n)}},C9e=function(){function n(e,t,r){var i=this;this.textModelResolverService=t,this.modeService=r,this.toUnhook=new Be,this.decorations=[],this.currentWordUnderMouse=null,this.previousPromise=null,this.editor=e;var o=new die(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(function(s){var a=s[0],u=s[1];i.startFindDefinition(a,qA(u))})),this.toUnhook.add(o.onExecute(function(s){i.isEnabled(s)&&i.gotoDefinition(s.target,s.hasSideBySideModifier).then(function(){i.removeDecorations()},function(a){i.removeDecorations(),He(a)})})),this.toUnhook.add(o.onCancel(function(){i.removeDecorations(),i.currentWordUnderMouse=null}))}return n.prototype.startFindDefinition=function(e,t){var r=this;if(!(e.target.type===9&&this.decorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordUnderMouse=null,this.removeDecorations();return}var i=e.target.position?this.editor.getModel().getWordAtPosition(e.target.position):null;if(!i){this.currentWordUnderMouse=null,this.removeDecorations();return}var o=e.target.position;if(!(this.currentWordUnderMouse&&this.currentWordUnderMouse.startColumn===i.startColumn&&this.currentWordUnderMouse.endColumn===i.endColumn&&this.currentWordUnderMouse.word===i.word)){this.currentWordUnderMouse=i;var s=new e5(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Gr(function(a){return r.findDefinition(e.target,a)}),this.previousPromise.then(function(a){if(!a||!a.length||!s.validate(r.editor)){r.removeDecorations();return}if(a.length>1)r.addDecoration(new H(o.lineNumber,i.startColumn,o.lineNumber,i.endColumn),new Fp().appendText(D("multipleResults","Click to show {0} definitions.",a.length)));else{var u=a[0];if(!u.uri)return;r.textModelResolverService.createModelReference(u.uri).then(function(l){if(!l.object||!l.object.textEditorModel){l.dispose();return}var c=l.object.textEditorModel,d=u.range.startLineNumber;if(d<1||d>c.getLineCount()){l.dispose();return}var h=r.getPreviewValue(c,d,u),p;u.originSelectionRange?p=H.lift(u.originSelectionRange):p=new H(o.lineNumber,i.startColumn,o.lineNumber,i.endColumn);var v=r.modeService.getModeIdByFilepathOrFirstLine(c.uri);r.addDecoration(p,new Fp().appendCodeblock(v||"",h)),l.dispose()})}}).then(void 0,He)}}},n.prototype.getPreviewValue=function(e,t,r){var i=r.targetSelectionRange?r.range:this.getPreviewRangeBasedOnBrackets(e,t),o=i.endLineNumber-i.startLineNumber;o>=n.MAX_SOURCE_PREVIEW_LINES&&(i=this.getPreviewRangeBasedOnIndentation(e,t));var s=this.stripIndentationFromPreviewRange(e,t,i);return s},n.prototype.stripIndentationFromPreviewRange=function(e,t,r){for(var i=e.getLineFirstNonWhitespaceColumn(t),o=i,s=t+1;s<r.endLineNumber;s++){var a=e.getLineFirstNonWhitespaceColumn(s);o=Math.min(o,a)}var u=e.getValueInRange(r).replace(new RegExp("^\\s{"+(o-1)+"}","gm"),"").trim();return u},n.prototype.getPreviewRangeBasedOnIndentation=function(e,t){for(var r=e.getLineFirstNonWhitespaceColumn(t),i=Math.min(e.getLineCount(),t+n.MAX_SOURCE_PREVIEW_LINES),o=t+1;o<i;o++){var s=e.getLineFirstNonWhitespaceColumn(o);if(r===s)break}return new H(t,1,o+1,1)},n.prototype.getPreviewRangeBasedOnBrackets=function(e,t){for(var r=Math.min(e.getLineCount(),t+n.MAX_SOURCE_PREVIEW_LINES),i=[],o=!0,s=e.findNextBracket(new J(t,1));s!==null;){if(i.length===0)i.push(s);else{var a=i[i.length-1];if(a.open===s.open&&a.isOpen&&!s.isOpen?i.pop():i.push(s),i.length===0)if(o)o=!1;else return new H(t,1,s.range.endLineNumber+1,1)}var u=e.getLineMaxColumn(t),l=s.range.endLineNumber,c=s.range.endColumn;if(u===s.range.endColumn&&(l++,c=1),l>r)return new H(t,1,r+1,1);s=e.findNextBracket(new J(l,c))}return new H(t,1,r+1,1)},n.prototype.addDecoration=function(e,t){var r={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.decorations=this.editor.deltaDecorations(this.decorations,[r])},n.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},n.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&zb.has(this.editor.getModel())},n.prototype.findDefinition=function(e,t){var r=this.editor.getModel();return r?tB(r,e.position,t):Promise.resolve(null)},n.prototype.gotoDefinition=function(e,t){var r=this;this.editor.setPosition(e.position);var i=new fg(new Hl(t,!1,!0,!1),{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext(function(o){return i.run(o,r.editor)})},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this.toUnhook.dispose()},n.ID="editor.contrib.gotodefinitionwithmouse",n.MAX_SOURCE_PREVIEW_LINES=8,n=b9e([uG(1,kp),uG(2,Oh)],n),n}();Cn(C9e);mn(function(n,e){var t=n.getColor(q6);t&&e.addRule(".monaco-editor .goto-definition-link { color: "+t+" !important; }")});var w9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.58318 2.02842C9.96435 2.16331 11.2561 2.77279 12.2383 3.75307C13.3643 4.87923 13.9978 6.40584 14 7.99829C14.0004 9.38617 13.5196 10.7313 12.6396 11.8045C11.7595 12.8778 10.5345 13.6127 9.17333 13.8841C7.81215 14.1556 6.39895 13.9467 5.1745 13.2931C3.95005 12.6394 2.99008 11.5815 2.45814 10.2995C1.92619 9.0175 1.85517 7.59072 2.25717 6.26222C2.65917 4.93373 3.50933 3.7857 4.66282 3.0137C5.8163 2.24171 7.20177 1.89351 8.58318 2.02842ZM8.68038 1.03316C10.292 1.19055 11.7993 1.90184 12.9453 3.04585C14.2587 4.35938 14.9976 6.14013 15 7.99764C15.0005 9.61695 14.4396 11.1864 13.4129 12.4385C12.3861 13.6907 10.9569 14.5482 9.36889 14.8648C7.78084 15.1815 6.13211 14.9378 4.70359 14.1752C3.27506 13.4127 2.1551 12.1784 1.53449 10.6828C0.913887 9.18708 0.831027 7.52251 1.30003 5.97259C1.76903 4.42268 2.76089 3.08331 4.10662 2.18265C5.45236 1.28199 7.06873 0.875761 8.68038 1.03316ZM5.52498 5L8.00004 7.47506L10.4751 5L11.1822 5.70711L8.70714 8.18217L11.1818 10.6569L10.4747 11.364L8.00004 8.88927L5.52535 11.364L4.81824 10.6569L7.29293 8.18217L4.81787 5.70711L5.52498 5Z" fill="'),E9e=encodeURIComponent('"/></svg>'),S9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.58318 2.02842C9.96435 2.16331 11.2561 2.77279 12.2383 3.75307C13.3643 4.87923 13.9978 6.40584 14 7.99829C14.0004 9.38617 13.5196 10.7313 12.6396 11.8045C11.7595 12.8778 10.5345 13.6127 9.17333 13.8841C7.81215 14.1556 6.39895 13.9467 5.1745 13.2931C3.95005 12.6394 2.99008 11.5815 2.45814 10.2995C1.92619 9.0175 1.85517 7.59072 2.25717 6.26222C2.65917 4.93373 3.50933 3.7857 4.66282 3.0137C5.8163 2.24171 7.20177 1.89351 8.58318 2.02842ZM8.68038 1.03316C10.292 1.19055 11.7993 1.90184 12.9453 3.04585C14.2587 4.35938 14.9976 6.14013 15 7.99764C15.0005 9.61695 14.4396 11.1864 13.4129 12.4385C12.3861 13.6907 10.9569 14.5482 9.36889 14.8648C7.78084 15.1815 6.13211 14.9378 4.70359 14.1752C3.27506 13.4127 2.1551 12.1784 1.53449 10.6828C0.913887 9.18708 0.831027 7.52251 1.30003 5.97259C1.76903 4.42268 2.76089 3.08331 4.10662 2.18265C5.45236 1.28199 7.06873 0.875761 8.68038 1.03316ZM5.52498 5L8.00004 7.47506L10.4751 5L11.1822 5.70711L8.70714 8.18217L11.1818 10.6569L10.4747 11.364L8.00004 8.88927L5.52535 11.364L4.81824 10.6569L7.29293 8.18217L4.81787 5.70711L5.52498 5Z" fill="'),T9e=encodeURIComponent('"/></svg>'),D9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.12 13.9725L15 12.5L9.37927 2H7.61924L1.9985 12.5L2.87852 13.9725H14.12ZM2.87852 12.9725L8.49925 2.47249L14.12 12.9725H2.87852ZM7.98952 6H8.98802V10H7.98952V6ZM7.98952 11H8.98802V12H7.98952V11Z" fill="'),A9e=encodeURIComponent('"/></svg>'),I9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.12 13.9725L15 12.5L9.37927 2H7.61924L1.9985 12.5L2.87852 13.9725H14.12ZM2.87852 12.9725L8.49925 2.47249L14.12 12.9725H2.87852ZM7.98952 6H8.98802V10H7.98952V6ZM7.98952 11H8.98802V12H7.98952V11Z" fill="'),x9e=encodeURIComponent('"/></svg>'),lG=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 4.46243 5.46243 2 8.5 2C11.5376 2 14 4.46243 14 7.5C14 10.5376 11.5376 13 8.5 13C5.46243 13 3 10.5376 3 7.5ZM2 7.5C2 3.91015 4.91015 1 8.5 1C12.0899 1 15 3.91015 15 7.5C15 11.0899 12.0899 14 8.5 14C4.91015 14 2 11.0899 2 7.5ZM8 4V5H9V4H8ZM8 6L8 10H9L9 6H8Z" fill="'),cG=encodeURIComponent('"/></svg>'),fG=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 4.46243 5.46243 2 8.5 2C11.5376 2 14 4.46243 14 7.5C14 10.5376 11.5376 13 8.5 13C5.46243 13 3 10.5376 3 7.5ZM2 7.5C2 3.91015 4.91015 1 8.5 1C12.0899 1 15 3.91015 15 7.5C15 11.0899 12.0899 14 8.5 14C4.91015 14 2 11.0899 2 7.5ZM8 4V5H9V4H8ZM8 6L8 10H9L9 6H8Z" fill="'),hG=encodeURIComponent('"/></svg>'),u1;(function(n){function e(r,i){switch(r){case tr.Ignore:var o=i.type===af?se.fromHex("#75BEFF"):se.fromHex("#007ACC");return i.type===af?lG+encodeURIComponent(o.toString())+cG:fG+encodeURIComponent(o.toString())+hG;case tr.Info:var s=i.type===af?se.fromHex("#007ACC"):se.fromHex("#75BEFF");return i.type===af?lG+encodeURIComponent(s.toString())+cG:fG+encodeURIComponent(s.toString())+hG;case tr.Warning:var a=i.type===af?se.fromHex("#DDB100"):se.fromHex("#fc0");return i.type===af?D9e+encodeURIComponent(a.toString())+A9e:I9e+encodeURIComponent(a.toString())+x9e;case tr.Error:var u=i.type===af?se.fromHex("#A1260D"):se.fromHex("#F48771");return i.type===af?w9e+encodeURIComponent(u.toString())+E9e:S9e+encodeURIComponent(u.toString())+T9e}return""}n.getSVGData=e;function t(r){switch(r){case tr.Ignore:return"severity-icon severity-ignore";case tr.Info:return"severity-icon severity-info";case tr.Warning:return"severity-icon severity-warning";case tr.Error:return"severity-icon severity-error"}return""}n.className=t})(u1||(u1={}));function jE(n,e){return"."+u1.className(n).split(" ").join(".")+' { background: url("data:image/svg+xml,'+u1.getSVGData(n,e)+'") center center no-repeat; height: 16px; width: 16px; }'}mn(function(n,e){e.addRule(jE(tr.Error,n)),e.addRule(jE(tr.Warning,n)),e.addRule(jE(tr.Info,n)),e.addRule(jE(tr.Ignore,n))});var L9e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N9e=function(){function n(e,t,r){var i=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=[],this._editor=t;var o=document.createElement("div");o.className="descriptioncontainer",o.setAttribute("aria-live","assertive"),o.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),De(this._messageBlock,"message"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.push(hi(this._relatedBlock,"click",function(s){s.preventDefault();var a=i._relatedDiagnostics.get(s.target);a&&r(a)})),this._scrollable=new lC(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.push(this._scrollable.onScroll(function(s){o.style.left="-"+s.scrollLeft+"px",o.style.top="-"+s.scrollTop+"px"})),this._disposables.push(this._scrollable)}return n.prototype.dispose=function(){nt(this._disposables)},n.prototype.update=function(e){var t=e.source,r=e.message,i=e.relatedInformation,o=e.code,s=r.split(/\r\n|\r|\n/g);this._lines=s.length,this._longestLineLength=0;for(var a=0,u=s;a<u.length;a++){var l=u[a];this._longestLineLength=Math.max(l.length,this._longestLineLength)}ca(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var c=this._messageBlock,d=0,h=s;d<h.length;d++){var l=h[d];c=document.createElement("div"),c.innerText=l,l===""&&(c.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(c)}if(t||o){var p=document.createElement("span");if(De(p,"details"),c.appendChild(p),t){var v=document.createElement("span");v.innerText=t,De(v,"source"),p.appendChild(v)}if(o){var m=document.createElement("span");m.innerText="("+o+")",De(m,"code"),p.appendChild(m)}}if(ca(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),ts(i)){var _=this._relatedBlock.appendChild(document.createElement("div"));_.style.paddingTop=Math.floor(this._editor.getConfiguration().lineHeight*.66)+"px",this._lines+=1;for(var b=0,C=i;b<C.length;b++){var E=C[b],T=document.createElement("div"),A=document.createElement("a");De(A,"filename"),A.innerHTML=Qre(E.resource)+"("+E.startLineNumber+", "+E.startColumn+"): ",A.title=S8e(E.resource,void 0),this._relatedDiagnostics.set(A,E);var S=document.createElement("span");S.innerText=E.message,T.appendChild(A),T.appendChild(S),this._lines+=1,_.appendChild(T)}}var N=this._editor.getConfiguration().fontInfo,k=Math.ceil(N.typicalFullwidthCharacterWidth*this._longestLineLength*.75),F=N.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:k,scrollHeight:F})},n.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},n.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},n}(),O9e=function(n){L9e(e,n);function e(t,r,i){var o=n.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return o.actions=r,o._themeService=i,o._callOnDispose=new Be,o._onDidSelectRelatedInformation=new Q,o.onDidSelectRelatedInformation=o._onDidSelectRelatedInformation.event,o._severity=Nn.Warning,o._backgroundColor=se.white,o._applyTheme(i.getTheme()),o._callOnDispose.add(i.onThemeChange(o._applyTheme.bind(o))),o.create(),o}return e.prototype._applyTheme=function(t){this._backgroundColor=t.getColor(M9e);var r=k9e;this._severity===Nn.Warning?r=R9e:this._severity===Nn.Info&&(r=P9e);var i=t.getColor(r);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:t.getColor(rie),secondaryHeadingColor:t.getColor(iie)})},e.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),n.prototype._applyStyles.call(this)},e.prototype.dispose=function(){this._callOnDispose.dispose(),n.prototype.dispose.call(this)},e.prototype._fillHead=function(t){n.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0})},e.prototype._fillTitleIcon=function(t){this._icon=Ce(t,Ve(""))},e.prototype._getActionBarOptions=function(){return{orientation:1}},e.prototype._fillBody=function(t){var r=this;this._parentContainer=t,De(t,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new N9e(this._container,this.editor,function(i){return r._onDidSelectRelatedInformation.fire(i)}),this._disposables.add(this._message)},e.prototype.show=function(t,r){throw new Error("call showAtMarker")},e.prototype.showAtMarker=function(t,r,i){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var o=H.lift(t),s=this.editor.getPosition(),a=s&&o.containsPosition(s)?s:o.getStartPosition();n.prototype.show.call(this,a,this.computeRequiredHeight());var u=this.editor.getModel();if(u){var l=i>1?D("problems","{0} of {1} problems",r,i):D("change","{0} of {1} problem",r,i);this.setTitle(Nc(u.uri),l)}this._icon.className=u1.className(Nn.toSeverity(this._severity)),this.editor.revealPositionInCenter(a,0)},e.prototype.updateMarker=function(t){this._container.classList.remove("stale"),this._message.update(t)},e.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},e.prototype._doLayoutBody=function(t,r){n.prototype._doLayoutBody.call(this,t,r),this._heightInPixel=t,this._message.layout(t,r),this._container.style.height=t+"px"},e.prototype._onWidth=function(t){this._message.layout(this._heightInPixel,t)},e.prototype._relayout=function(){n.prototype._relayout.call(this,this.computeRequiredHeight())},e.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},e}(Xre),Ik=G6(hte,dte),xk=G6(HT,H6),Lk=G6(VT,V6),k9e=re("editorMarkerNavigationError.background",{dark:Ik,light:Ik,hc:Ik},D("editorMarkerNavigationError","Editor marker navigation widget error color.")),R9e=re("editorMarkerNavigationWarning.background",{dark:xk,light:xk,hc:xk},D("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),P9e=re("editorMarkerNavigationInfo.background",{dark:Lk,light:Lk,hc:Lk},D("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),M9e=re("editorMarkerNavigation.background",{dark:"#2D2D30",light:se.white,hc:"#0C141F"},D("editorMarkerNavigationBackground","Editor marker navigation widget background."));mn(function(n,e){var t=n.getColor(u2);t&&e.addRule(".monaco-editor .marker-widget a { color: "+t+"; }")});var EC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F9e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sy=function(n,e){return function(t,r){e(t,r,n)}},dG=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},pG=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},B9e=function(){function n(e,t){var r=this;this._toUnbind=new Be,this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new Q,this._onMarkerSetChanged=new Q,this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose(function(){return r.dispose()})),this._toUnbind.add(this._editor.onDidChangeCursorPosition(function(){r._ignoreSelectionChange||r.currentMarker&&r._editor.getPosition()&&H.containsPosition(r.currentMarker,r._editor.getPosition())||(r._nextIdx=-1)}))}return Object.defineProperty(n.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),n.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(Fm.compareMarker),t?this._nextIdx=Math.max(-1,UA(this._markers,t,Fm.compareMarker)):this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},n.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},n.prototype._initIdx=function(e){for(var t=!1,r=this._editor.getPosition(),i=0;i<this._markers.length;i++){var o=H.lift(this._markers[i]);if(o.isEmpty()&&this._editor.getModel()){var s=this._editor.getModel().getWordAtPosition(o.getStartPosition());s&&(o=new H(o.startLineNumber,s.startColumn,o.startLineNumber,s.endColumn))}if(r&&(o.containsPosition(r)||r.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(n.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),n.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var r=this._nextIdx,i=!1;if(this._nextIdx===-1?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:i=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:i=!0),r!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return i},n.prototype.canNavigate=function(){return this._markers.length>0},n.prototype.findMarkerAtPosition=function(e){for(var t=0,r=this._markers;t<r.length;t++){var i=r[t];if(H.containsPosition(i,e))return i}},Object.defineProperty(n.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),n.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},n.prototype.dispose=function(){this._toUnbind.dispose()},n}(),R2=function(){function n(e,t,r,i,o,s){this._markerService=t,this._contextKeyService=r,this._themeService=i,this._editorService=o,this._keybindingService=s,this._model=null,this._widget=null,this._disposeOnClose=new Be,this._editor=e,this._widgetVisible=pie.bindTo(this._contextKeyService)}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},n.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},n.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new B9e(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var r=this._keybindingService.lookupKeybinding(kS.ID),i=this._keybindingService.lookupKeybinding(eb.ID),o=[new oa(kS.ID,kS.LABEL+(r?" ("+r.getLabel()+")":""),"show-previous-problem chevron-up",this._model.canNavigate(),function(){return dG(e,void 0,void 0,function(){return pG(this,function(l){return this._model&&this._model.move(!1,!0),[2]})})}),new oa(eb.ID,eb.LABEL+(i?" ("+i.getLabel()+")":""),"show-next-problem chevron-down",this._model.canNavigate(),function(){return dG(e,void 0,void 0,function(){return pG(this,function(l){return this._model&&this._model.move(!0,!0),[2]})})})];this._widget=new O9e(this._editor,o,this._themeService),this._widgetVisible.set(!0),this._widget.onDidClose(function(){return e._cleanUp()},this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var s=0,a=o;s<a.length;s++){var u=a[s];this._disposeOnClose.add(u)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function(l){e._editorService.openCodeEditor({resource:l.resource,options:{pinned:!0,revealIfOpened:!0,selection:H.lift(l).collapseToStart()}},e._editor).then(void 0,He),e.closeMarkersNavigation(!1)})),this._disposeOnClose.add(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function(l){!l||!e._model?e._cleanUp():e._model.withoutWatchingEditorPosition(function(){!e._widget||!e._model||e._widget.showAtMarker(l,e._model.indexOf(l),e._model.total)})})),this._disposeOnClose.add(this._model.onMarkerSetChanged(function(){if(!(!e._widget||!e._widget.position||!e._model)){var l=e._model.findMarkerAtPosition(e._widget.position);l?e._widget.updateMarker(l):e._widget.showStale()}})),this._model},n.prototype.closeMarkersNavigation=function(e){e===void 0&&(e=!0),this._cleanUp(),e&&this._editor.focus()},n.prototype.show=function(e){var t=this.getOrCreateModel();t.currentMarker=e},n.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some(function(r){return t.uri.toString()===r.toString()})&&this._model.setMarkers(this._getMarkers())},n.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:Nn.Error|Nn.Warning|Nn.Info}):[]},n.ID="editor.contrib.markerController",n=F9e([sy(1,_C),sy(2,yt),sy(3,Yr),sy(4,Dn),sy(5,wr)],n),n}(),Fm=function(n){EC(e,n);function e(t,r,i){var o=n.call(this,i)||this;return o._isNext=t,o._multiFile=r,o}return e.prototype.run=function(t,r){var i=this,o=t.get(_C),s=t.get(Dn),a=R2.get(r);if(!a)return Promise.resolve(void 0);var u=a.getOrCreateModel(),l=u.move(this._isNext,!this._multiFile);if(!l||!this._multiFile)return Promise.resolve(void 0);var c=o.read({severities:Nn.Error|Nn.Warning|Nn.Info}).sort(e.compareMarker);if(c.length===0)return Promise.resolve(void 0);var d=r.getModel();if(!d)return Promise.resolve(void 0);var h=u.currentMarker||{resource:d.uri,severity:Nn.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},p=UA(c,h,e.compareMarker);p<0?(p=~p,p%=c.length):this._isNext?p=(p+1)%c.length:p=(p+c.length-1)%c.length;var v=c[p];return v.resource.toString()===d.uri.toString()?(u.move(this._isNext,!0),Promise.resolve(void 0)):(a.closeMarkersNavigation(),s.openCodeEditor({resource:v.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:v}},r).then(function(m){if(m)return m.getAction(i.id).run()}))},e.compareMarker=function(t,r){var i=jJ(t.resource.toString(),r.resource.toString());return i===0&&(i=Nn.compare(t.severity,r.severity)),i===0&&(i=H.compareRangesUsingStarts(t,r)),i},e}(Ue),eb=function(n){EC(e,n);function e(){return n.call(this,!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:578,weight:100}})||this}return e.ID="editor.action.marker.next",e.LABEL=D("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),e}(Fm),kS=function(n){EC(e,n);function e(){return n.call(this,!1,!1,{id:e.ID,label:e.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1602,weight:100}})||this}return e.ID="editor.action.marker.prev",e.LABEL=D("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),e}(Fm),H9e=function(n){EC(e,n);function e(){return n.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:D("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.focus,primary:66,weight:100}})||this}return e}(Fm),V9e=function(n){EC(e,n);function e(){return n.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:D("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.focus,primary:1090,weight:100}})||this}return e}(Fm);Cn(R2);pe(eb);pe(kS);pe(H9e);pe(V9e);var pie=new Ke("markersNavigationVisible",!1),W9e=Do.bindToContribution(R2.get);ce(new W9e({id:"closeMarkersNavigation",precondition:pie,handler:function(n){return n.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:W.focus,primary:9,secondary:[1033]}}));Tu.appendMenuItem(16,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:D({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1});Tu.appendMenuItem(16,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:D({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2});var U9e=function(){function n(e,t,r){this.presentationIndex=r,this._onColorFlushed=new Q,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Q,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Q,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}return Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),n.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},n.prototype.guessColorPresentation=function(e,t){for(var r=0;r<this.colorPresentations.length;r++)if(t===this.colorPresentations[r].label){this.presentationIndex=r,this._onDidChangePresentation.fire(this.presentation);break}},n.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},n}(),hg=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hl=Ve,j9e=function(n){hg(e,n);function e(t,r,i){var o=n.call(this)||this;o.model=r,o.domNode=hl(".colorpicker-header"),Ce(t,o.domNode),o.pickedColorNode=Ce(o.domNode,hl(".picked-color"));var s=Ce(o.domNode,hl(".original-color"));return s.style.backgroundColor=se.Format.CSS.format(o.model.originalColor),o.backgroundColor=i.getTheme().getColor(Rp)||se.white,o._register(mn(function(a,u){o.backgroundColor=a.getColor(Rp)||se.white})),o._register(_e(o.pickedColorNode,lt.CLICK,function(){return o.model.selectNextColorPresentation()})),o._register(_e(s,lt.CLICK,function(){o.model.color=o.model.originalColor,o.model.flushColor()})),o._register(r.onDidChangeColor(o.onDidChangeColor,o)),o._register(r.onDidChangePresentation(o.onDidChangePresentation,o)),o.pickedColorNode.style.backgroundColor=se.Format.CSS.format(r.color),kt(o.pickedColorNode,"light",r.color.rgba.a<.5?o.backgroundColor.isLighter():r.color.isLighter()),o}return e.prototype.onDidChangeColor=function(t){this.pickedColorNode.style.backgroundColor=se.Format.CSS.format(t),kt(this.pickedColorNode,"light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()},e.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},e}(fe),q9e=function(n){hg(e,n);function e(t,r,i){var o=n.call(this)||this;return o.model=r,o.pixelRatio=i,o.domNode=hl(".colorpicker-body"),Ce(t,o.domNode),o.saturationBox=new z9e(o.domNode,o.model,o.pixelRatio),o._register(o.saturationBox),o._register(o.saturationBox.onDidChange(o.onDidSaturationValueChange,o)),o._register(o.saturationBox.onColorFlushed(o.flushColor,o)),o.opacityStrip=new G9e(o.domNode,o.model),o._register(o.opacityStrip),o._register(o.opacityStrip.onDidChange(o.onDidOpacityChange,o)),o._register(o.opacityStrip.onColorFlushed(o.flushColor,o)),o.hueStrip=new $9e(o.domNode,o.model),o._register(o.hueStrip),o._register(o.hueStrip.onDidChange(o.onDidHueChange,o)),o._register(o.hueStrip.onColorFlushed(o.flushColor,o)),o}return e.prototype.flushColor=function(){this.model.flushColor()},e.prototype.onDidSaturationValueChange=function(t){var r=t.s,i=t.v,o=this.model.color.hsva;this.model.color=new se(new Bf(o.h,r,i,o.a))},e.prototype.onDidOpacityChange=function(t){var r=this.model.color.hsva;this.model.color=new se(new Bf(r.h,r.s,r.v,t))},e.prototype.onDidHueChange=function(t){var r=this.model.color.hsva,i=(1-t)*360;this.model.color=new se(new Bf(i===360?0:i,r.s,r.v,r.a))},e.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},e}(fe),z9e=function(n){hg(e,n);function e(t,r,i){var o=n.call(this)||this;return o.model=r,o.pixelRatio=i,o._onDidChange=new Q,o.onDidChange=o._onDidChange.event,o._onColorFlushed=new Q,o.onColorFlushed=o._onColorFlushed.event,o.domNode=hl(".saturation-wrap"),Ce(t,o.domNode),o.canvas=document.createElement("canvas"),o.canvas.className="saturation-box",Ce(o.domNode,o.canvas),o.selection=hl(".saturation-selection"),Ce(o.domNode,o.selection),o.layout(),o._register(_e(o.domNode,lt.MOUSE_DOWN,function(s){return o.onMouseDown(s)})),o._register(o.model.onDidChangeColor(o.onDidChangeColor,o)),o.monitor=null,o}return e.prototype.onMouseDown=function(t){var r=this;this.monitor=this._register(new ng);var i=di(this.domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(A_,function(s){return r.onDidChangePosition(s.posx-i.left,s.posy-i.top)},function(){return null});var o=_e(document,lt.MOUSE_UP,function(){r._onColorFlushed.fire(),o.dispose(),r.monitor&&(r.monitor.stopMonitoring(!0),r.monitor=null)},!0)},e.prototype.onDidChangePosition=function(t,r){var i=Math.max(0,Math.min(1,t/this.width)),o=Math.max(0,Math.min(1,1-r/this.height));this.paintSelection(i,o),this._onDidChange.fire({s:i,v:o})},e.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var t=this.model.color.hsva;this.paintSelection(t.s,t.v)},e.prototype.paint=function(){var t=this.model.color.hsva,r=new se(new Bf(t.h,1,1,1)),i=this.canvas.getContext("2d"),o=i.createLinearGradient(0,0,this.canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");var s=i.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=se.Format.CSS.format(r),i.fill(),i.fillStyle=o,i.fill(),i.fillStyle=s,i.fill()},e.prototype.paintSelection=function(t,r){this.selection.style.left=t*this.width+"px",this.selection.style.top=this.height-r*this.height+"px"},e.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},e}(fe),gie=function(n){hg(e,n);function e(t,r){var i=n.call(this)||this;return i.model=r,i._onDidChange=new Q,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new Q,i.onColorFlushed=i._onColorFlushed.event,i.domNode=Ce(t,hl(".strip")),i.overlay=Ce(i.domNode,hl(".overlay")),i.slider=Ce(i.domNode,hl(".slider")),i.slider.style.top="0px",i._register(_e(i.domNode,lt.MOUSE_DOWN,function(o){return i.onMouseDown(o)})),i.layout(),i}return e.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var t=this.getValue(this.model.color);this.updateSliderPosition(t)},e.prototype.onMouseDown=function(t){var r=this,i=this._register(new ng),o=di(this.domNode);De(this.domNode,"grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),i.startMonitoring(A_,function(a){return r.onDidChangeTop(a.posy-o.top)},function(){return null});var s=_e(document,lt.MOUSE_UP,function(){r._onColorFlushed.fire(),s.dispose(),i.stopMonitoring(!0),ot(r.domNode,"grabbing")},!0)},e.prototype.onDidChangeTop=function(t){var r=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(r),this._onDidChange.fire(r)},e.prototype.updateSliderPosition=function(t){this.slider.style.top=(1-t)*this.height+"px"},e}(fe),G9e=function(n){hg(e,n);function e(t,r){var i=n.call(this,t,r)||this;return De(i.domNode,"opacity-strip"),i._register(r.onDidChangeColor(i.onDidChangeColor,i)),i.onDidChangeColor(i.model.color),i}return e.prototype.onDidChangeColor=function(t){var r=t.rgba,i=r.r,o=r.g,s=r.b,a=new se(new yn(i,o,s,1)),u=new se(new yn(i,o,s,0));this.overlay.style.background="linear-gradient(to bottom, "+a+" 0%, "+u+" 100%)"},e.prototype.getValue=function(t){return t.hsva.a},e}(gie),$9e=function(n){hg(e,n);function e(t,r){var i=n.call(this,t,r)||this;return De(i.domNode,"hue-strip"),i}return e.prototype.getValue=function(t){return 1-t.hsva.h/360},e}(gie),K9e=function(n){hg(e,n);function e(t,r,i,o){var s=n.call(this)||this;s.model=r,s.pixelRatio=i,s._register(xJ(function(){return s.layout()}));var a=hl(".colorpicker-widget");t.appendChild(a);var u=new j9e(a,s.model,o);return s.body=new q9e(a,s.model,s.pixelRatio),s._register(u),s._register(s.body),s}return e.prototype.layout=function(){this.body.layout()},e}(os);function vie(n,e,t){var r=qb.ordered(n),i=r.map(function(o){return Promise.resolve(o.provideHover(n,e,t)).then(function(s){return s&&Y9e(s)?s:void 0},function(s){Eo(s)})});return Promise.all(i).then(Wc)}Lu("_executeHoverProvider",function(n,e){return vie(n,e,nn.None)});function Y9e(n){var e=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return e&&t}var mie=function(){function n(e,t,r,i,o){var s=this;this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new Pr(function(){return s._triggerAsyncComputation()},0),this._secondWaitScheduler=new Pr(function(){return s._triggerSyncComputation()},0),this._loadingMessageScheduler=new Pr(function(){return s._showLoadingMessage()},0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=r,this._progressCallback=i}return n.prototype.setHoverTime=function(e){this._hoverTime=e},n.prototype._firstWaitTime=function(){return this._hoverTime/2},n.prototype._secondWaitTime=function(){return this._hoverTime/2},n.prototype._loadingMessageTime=function(){return 3*this._hoverTime},n.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Gr(function(t){return e._computer.computeAsync(t)}),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(t){return e._onError(t)})):this._asyncComputationPromiseDone=!0},n.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},n.prototype._showLoadingMessage=function(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())},n.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))},n.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},n.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):He(e)},n.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},n.prototype.start=function(e){if(e===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}},n.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},n}(),_ie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X9e=function(n){_ie(e,n);function e(t,r){var i=n.call(this)||this;return i.allowEditorOverflow=!0,i._id=t,i._editor=r,i._isVisible=!1,i._stoleFocus=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new cC(i._domNode,{}),i._register(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,function(o){o.equals(9)&&i.hide()}),i._register(i._editor.onDidChangeConfiguration(function(o){o.fontInfo&&i.updateFont()})),i._editor.onDidLayoutChange(function(o){return i.layout()}),i.layout(),i._editor.addContentWidget(i),i._showAtPosition=null,i._showAtRange=null,i._stoleFocus=!1,i}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t,kt(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._containerDomNode},e.prototype.showAt=function(t,r,i){this._showAtPosition=t,this._showAtRange=r,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._containerDomNode.focus()},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},e.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},e.prototype.dispose=function(){this._editor.removeContentWidget(this),n.prototype.dispose.call(this)},e.prototype.updateFont=function(){var t=this,r=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));r.forEach(function(i){return t._editor.applyFontInfo(i)})},e.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},e.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},e.prototype.layout=function(){var t=Math.max(this._editor.getLayoutInfo().height/4,250),r=this._editor.getConfiguration().fontInfo,i=r.fontSize,o=r.lineHeight;this._domNode.style.fontSize=i+"px",this._domNode.style.lineHeight=o+"px",this._domNode.style.maxHeight=t+"px",this._domNode.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px"},e}(os),Q9e=function(n){_ie(e,n);function e(t,r){var i=n.call(this)||this;return i._id=t,i._editor=r,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration(function(o){o.fontInfo&&i.updateFont()})),i._editor.addOverlayWidget(i),i}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t,kt(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.showAt=function(t){this._showAtLineNumber=t,this.isVisible||(this.isVisible=!0);var r=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),o=this._editor.getScrollTop(),s=this._editor.getConfiguration().lineHeight,a=this._domNode.clientHeight,u=i-o-(a-s)/2;this._domNode.style.left=r.glyphMarginLeft+r.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(u),0)+"px"},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},e.prototype.getPosition=function(){return null},e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.updateFont=function(){var t=this,r=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),i=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));r.concat(i).forEach(function(o){return t._editor.applyFontInfo(o)})},e.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont()},e}(os),Vl;(function(n){var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:_,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:_,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:_,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};e._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,e._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,e.def=d(e.def).replace("label",e._label).replace("title",e._title).getRegex(),e.bullet=/(?:[*+-]|\d{1,9}\.)/,e.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,e.item=d(e.item,"gm").replace(/bull/g,e.bullet).getRegex(),e.list=d(e.list).replace(/bull/g,e.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+e.def.source+")").getRegex(),e._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",e._comment=/<!--(?!-?>)[\s\S]*?-->/,e.html=d(e.html,"i").replace("comment",e._comment).replace("tag",e._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),e.paragraph=d(e.paragraph).replace("hr",e.hr).replace("heading",e.heading).replace("lheading",e.lheading).replace("tag",e._tag).getRegex(),e.blockquote=d(e.blockquote).replace("paragraph",e.paragraph).getRegex(),e.normal=b({},e),e.gfm=b({},e.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),e.gfm.paragraph=d(e.paragraph).replace("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|").getRegex(),e.tables=b({},e.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),e.pedantic=b({},e.normal,{html:d(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",e._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});function t(S){this.tokens=[],this.tokens.links=Object.create(null),this.options=S||A.defaults,this.rules=e.normal,this.options.pedantic?this.rules=e.pedantic:this.options.gfm&&(this.options.tables?this.rules=e.tables:this.rules=e.gfm)}t.rules=e,t.lex=function(S,N){var k=new t(N);return k.lex(S)},t.prototype.lex=function(S){return S=S.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(S,!0)},t.prototype.token=function(S,N){S=S.replace(/^ +$/gm,"");for(var k,F,L,O,P,B,U,$,ee,te,ne,de,ke,qe,ft,ze;S;){if((L=this.rules.newline.exec(S))&&(S=S.substring(L[0].length),L[0].length>1&&this.tokens.push({type:"space"})),L=this.rules.code.exec(S)){S=S.substring(L[0].length),L=L[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?L:E(L,`
`)});continue}if(L=this.rules.fences.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:"code",lang:L[2]?L[2].trim():L[2],text:L[3]||""});continue}if(L=this.rules.heading.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:"heading",depth:L[1].length,text:L[2]});continue}if((L=this.rules.nptable.exec(S))&&(B={type:"table",header:C(L[1].replace(/^ *| *\| *$/g,"")),align:L[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:L[3]?L[3].replace(/\n$/,"").split(`
`):[]},B.header.length===B.align.length)){for(S=S.substring(L[0].length),ne=0;ne<B.align.length;ne++)/^ *-+: *$/.test(B.align[ne])?B.align[ne]="right":/^ *:-+: *$/.test(B.align[ne])?B.align[ne]="center":/^ *:-+ *$/.test(B.align[ne])?B.align[ne]="left":B.align[ne]=null;for(ne=0;ne<B.cells.length;ne++)B.cells[ne]=C(B.cells[ne],B.header.length);this.tokens.push(B);continue}if(L=this.rules.hr.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:"hr"});continue}if(L=this.rules.blockquote.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:"blockquote_start"}),L=L[0].replace(/^ *> ?/gm,""),this.token(L,N),this.tokens.push({type:"blockquote_end"});continue}if(L=this.rules.list.exec(S)){for(S=S.substring(L[0].length),O=L[2],qe=O.length>1,U={type:"list_start",ordered:qe,start:qe?+O:"",loose:!1},this.tokens.push(U),L=L[0].match(this.rules.item),$=[],k=!1,ke=L.length,ne=0;ne<ke;ne++)B=L[ne],te=B.length,B=B.replace(/^ *([*+-]|\d+\.) */,""),~B.indexOf(`
 `)&&(te-=B.length,B=this.options.pedantic?B.replace(/^ {1,4}/gm,""):B.replace(new RegExp("^ {1,"+te+"}","gm"),"")),ne!==ke-1&&(P=e.bullet.exec(L[ne+1])[0],(O.length>1?P.length===1:P.length>1||this.options.smartLists&&P!==O)&&(S=L.slice(ne+1).join(`
`)+S,ne=ke-1)),F=k||/\n\n(?!\s*$)/.test(B),ne!==ke-1&&(k=B.charAt(B.length-1)===`
`,F||(F=k)),F&&(U.loose=!0),ft=/^\[[ xX]\] /.test(B),ze=void 0,ft&&(ze=B[1]!==" ",B=B.replace(/^\[[ xX]\] +/,"")),ee={type:"list_item_start",task:ft,checked:ze,loose:F},$.push(ee),this.tokens.push(ee),this.token(B,!1),this.tokens.push({type:"list_item_end"});if(U.loose)for(ke=$.length,ne=0;ne<ke;ne++)$[ne].loose=!0;this.tokens.push({type:"list_end"});continue}if(L=this.rules.html.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(L[1]==="pre"||L[1]==="script"||L[1]==="style"),text:L[0]});continue}if(N&&(L=this.rules.def.exec(S))){S=S.substring(L[0].length),L[3]&&(L[3]=L[3].substring(1,L[3].length-1)),de=L[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[de]||(this.tokens.links[de]={href:L[2],title:L[3]});continue}if((L=this.rules.table.exec(S))&&(B={type:"table",header:C(L[1].replace(/^ *| *\| *$/g,"")),align:L[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:L[3]?L[3].replace(/\n$/,"").split(`
`):[]},B.header.length===B.align.length)){for(S=S.substring(L[0].length),ne=0;ne<B.align.length;ne++)/^ *-+: *$/.test(B.align[ne])?B.align[ne]="right":/^ *:-+: *$/.test(B.align[ne])?B.align[ne]="center":/^ *:-+ *$/.test(B.align[ne])?B.align[ne]="left":B.align[ne]=null;for(ne=0;ne<B.cells.length;ne++)B.cells[ne]=C(B.cells[ne].replace(/^ *\| *| *\| *$/g,""),B.header.length);this.tokens.push(B);continue}if(L=this.rules.lheading.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:"heading",depth:L[2]==="="?1:2,text:L[1]});continue}if(N&&(L=this.rules.paragraph.exec(S))){S=S.substring(L[0].length),this.tokens.push({type:"paragraph",text:L[1].charAt(L[1].length-1)===`
`?L[1].slice(0,-1):L[1]});continue}if(L=this.rules.text.exec(S)){S=S.substring(L[0].length),this.tokens.push({type:"text",text:L[0]});continue}if(S)throw new Error("Infinite loop on byte: "+S.charCodeAt(0))}return this.tokens};var r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};r._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,r.em=d(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=d(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=d(r.tag).replace("comment",e._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,r._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=d(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=d(r.reflink).replace("label",r._label).getRegex(),r.normal=b({},r),r.pedantic=b({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=b({},r.normal,{escape:d(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=d(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=b({},r.gfm,{br:d(r.br).replace("{2,}","*").getRegex(),text:d(r.gfm.text).replace(/\{2,\}/g,"*").getRegex()});function i(S,N){if(this.options=N||A.defaults,this.links=S,this.rules=r.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.options.breaks?this.rules=r.breaks:this.rules=r.gfm)}i.rules=r,i.output=function(S,N,k){var F=new i(N,k);return F.output(S)},i.prototype.output=function(S){for(var N="",k,F,L,O,P,B;S;){if(P=this.rules.escape.exec(S)){S=S.substring(P[0].length),N+=l(P[1]);continue}if(P=this.rules.tag.exec(S)){!this.inLink&&/^<a /i.test(P[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(P[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(P[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(P[0])&&(this.inRawBlock=!1),S=S.substring(P[0].length),N+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(P[0]):l(P[0]):P[0];continue}if(P=this.rules.link.exec(S)){var U=T(P[2],"()");if(U>-1){var $=P[0].length-(P[2].length-U)-(P[3]||"").length;P[2]=P[2].substring(0,U),P[0]=P[0].substring(0,$).trim(),P[3]=""}S=S.substring(P[0].length),this.inLink=!0,L=P[2],this.options.pedantic?(k=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(L),k?(L=k[1],O=k[3]):O=""):O=P[3]?P[3].slice(1,-1):"",L=L.trim().replace(/^<([\s\S]*)>$/,"$1"),N+=this.outputLink(P,{href:i.escapes(L),title:i.escapes(O)}),this.inLink=!1;continue}if((P=this.rules.reflink.exec(S))||(P=this.rules.nolink.exec(S))){if(S=S.substring(P[0].length),k=(P[2]||P[1]).replace(/\s+/g," "),k=this.links[k.toLowerCase()],!k||!k.href){N+=P[0].charAt(0),S=P[0].substring(1)+S;continue}this.inLink=!0,N+=this.outputLink(P,k),this.inLink=!1;continue}if(P=this.rules.strong.exec(S)){S=S.substring(P[0].length),N+=this.renderer.strong(this.output(P[4]||P[3]||P[2]||P[1]));continue}if(P=this.rules.em.exec(S)){S=S.substring(P[0].length),N+=this.renderer.em(this.output(P[6]||P[5]||P[4]||P[3]||P[2]||P[1]));continue}if(P=this.rules.code.exec(S)){S=S.substring(P[0].length),N+=this.renderer.codespan(l(P[2].trim(),!0));continue}if(P=this.rules.br.exec(S)){S=S.substring(P[0].length),N+=this.renderer.br();continue}if(P=this.rules.del.exec(S)){S=S.substring(P[0].length),N+=this.renderer.del(this.output(P[1]));continue}if(P=this.rules.autolink.exec(S)){S=S.substring(P[0].length),P[2]==="@"?(F=l(this.mangle(P[1])),L="mailto:"+F):(F=l(P[1]),L=F),N+=this.renderer.link(L,null,F);continue}if(!this.inLink&&(P=this.rules.url.exec(S))){if(P[2]==="@")F=l(P[0]),L="mailto:"+F;else{do B=P[0],P[0]=this.rules._backpedal.exec(P[0])[0];while(B!==P[0]);F=l(P[0]),P[1]==="www."?L="http://"+F:L=F}S=S.substring(P[0].length),N+=this.renderer.link(L,null,F);continue}if(P=this.rules.text.exec(S)){S=S.substring(P[0].length),this.inRawBlock?N+=this.renderer.text(P[0]):N+=this.renderer.text(l(this.smartypants(P[0])));continue}if(S)throw new Error("Infinite loop on byte: "+S.charCodeAt(0))}return N},i.escapes=function(S){return S&&S.replace(i.rules._escapes,"$1")},i.prototype.outputLink=function(S,N){var k=N.href,F=N.title?l(N.title):null;return S[0].charAt(0)!=="!"?this.renderer.link(k,F,this.output(S[1])):this.renderer.image(k,F,l(S[1]))},i.prototype.smartypants=function(S){return this.options.smartypants?S.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):S},i.prototype.mangle=function(S){if(!this.options.mangle)return S;for(var N="",k=S.length,F=0,L;F<k;F++)L=S.charCodeAt(F),Math.random()>.5&&(L="x"+L.toString(16)),N+="&#"+L+";";return N};function o(S){this.options=S||A.defaults}o.prototype.code=function(S,N,k){var F=(N||"").match(/\S*/)[0];if(this.options.highlight){var L=this.options.highlight(S,F);L!=null&&L!==S&&(k=!0,S=L)}return F?'<pre><code class="'+this.options.langPrefix+l(F,!0)+'">'+(k?S:l(S,!0))+`</code></pre>
`:"<pre><code>"+(k?S:l(S,!0))+"</code></pre>"},o.prototype.blockquote=function(S){return`<blockquote>
`+S+`</blockquote>
`},o.prototype.html=function(S){return S},o.prototype.heading=function(S,N,k,F){return this.options.headerIds?"<h"+N+' id="'+this.options.headerPrefix+F.slug(k)+'">'+S+"</h"+N+`>
`:"<h"+N+">"+S+"</h"+N+`>
`},o.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},o.prototype.list=function(S,N,k){var F=N?"ol":"ul",L=N&&k!==1?' start="'+k+'"':"";return"<"+F+L+`>
`+S+"</"+F+`>
`},o.prototype.listitem=function(S){return"<li>"+S+`</li>
`},o.prototype.checkbox=function(S){return"<input "+(S?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},o.prototype.paragraph=function(S){return"<p>"+S+`</p>
`},o.prototype.table=function(S,N){return N&&(N="<tbody>"+N+"</tbody>"),`<table>
<thead>
`+S+`</thead>
`+N+`</table>
`},o.prototype.tablerow=function(S){return`<tr>
`+S+`</tr>
`},o.prototype.tablecell=function(S,N){var k=N.header?"th":"td",F=N.align?"<"+k+' align="'+N.align+'">':"<"+k+">";return F+S+"</"+k+`>
`},o.prototype.strong=function(S){return"<strong>"+S+"</strong>"},o.prototype.em=function(S){return"<em>"+S+"</em>"},o.prototype.codespan=function(S){return"<code>"+S+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(S){return"<del>"+S+"</del>"},o.prototype.link=function(S,N,k){if(S=h(this.options.sanitize,this.options.baseUrl,S),S===null)return k;var F='<a href="'+l(S)+'"';return N&&(F+=' title="'+N+'"'),F+=">"+k+"</a>",F},o.prototype.image=function(S,N,k){if(S=h(this.options.sanitize,this.options.baseUrl,S),S===null)return k;var F='<img src="'+S+'" alt="'+k+'"';return N&&(F+=' title="'+N+'"'),F+=this.options.xhtml?"/>":">",F},o.prototype.text=function(S){return S};function s(){}s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(S){return S},s.prototype.link=s.prototype.image=function(S,N,k){return""+k},s.prototype.br=function(){return""};function a(S){this.tokens=[],this.token=null,this.options=S||A.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new u}a.parse=function(S,N){var k=new a(N);return k.parse(S)},a.prototype.parse=function(S){this.inline=new i(S.links,this.options),this.inlineText=new i(S.links,b({},this.options,{renderer:new s})),this.tokens=S.reverse();for(var N="";this.next();)N+=this.tok();return N},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var S=this.token.text;this.peek().type==="text";)S+=`
`+this.next().text;return this.inline.output(S)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{var S="",N="",k,F,L,O;for(L="",k=0;k<this.token.header.length;k++)L+=this.renderer.tablecell(this.inline.output(this.token.header[k]),{header:!0,align:this.token.align[k]});for(S+=this.renderer.tablerow(L),k=0;k<this.token.cells.length;k++){for(F=this.token.cells[k],L="",O=0;O<F.length;O++)L+=this.renderer.tablecell(this.inline.output(F[O]),{header:!1,align:this.token.align[O]});N+=this.renderer.tablerow(L)}return this.renderer.table(S,N)}case"blockquote_start":{for(N="";this.next().type!=="blockquote_end";)N+=this.tok();return this.renderer.blockquote(N)}case"list_start":{N="";for(var P=this.token.ordered,B=this.token.start;this.next().type!=="list_end";)N+=this.tok();return this.renderer.list(N,P,B)}case"list_item_start":{N="";var U=this.token.loose,$=this.token.checked,ee=this.token.task;for(this.token.task&&(N+=this.renderer.checkbox($));this.next().type!=="list_item_end";)N+=!U&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(N,ee,$)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{var te='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(te);else throw new Error(te)}}};function u(){this.seen={}}u.prototype.slug=function(S){var N=S.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(N)){var k=N;do this.seen[k]++,N=k+"-"+this.seen[k];while(this.seen.hasOwnProperty(N))}return this.seen[N]=0,N};function l(S,N){if(N){if(l.escapeTest.test(S))return S.replace(l.escapeReplace,function(k){return l.replacements[k]})}else if(l.escapeTestNoEncode.test(S))return S.replace(l.escapeReplaceNoEncode,function(k){return l.replacements[k]});return S}l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function c(S){return S.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(N,k){return k=k.toLowerCase(),k==="colon"?":":k.charAt(0)==="#"?k.charAt(1)==="x"?String.fromCharCode(parseInt(k.substring(2),16)):String.fromCharCode(+k.substring(1)):""})}function d(S,N){return S=S.source||S,N=N||"",{replace:function(k,F){return F=F.source||F,F=F.replace(/(^|[^\[])\^/g,"$1"),S=S.replace(k,F),this},getRegex:function(){return new RegExp(S,N)}}}function h(S,N,k){if(S){try{var F=decodeURIComponent(c(k)).replace(/[^\w:]/g,"").toLowerCase()}catch{return null}if(F.indexOf("javascript:")===0||F.indexOf("vbscript:")===0||F.indexOf("data:")===0)return null}N&&!m.test(k)&&(k=p(N,k));try{k=encodeURI(k).replace(/%25/g,"%")}catch{return null}return k}function p(S,N){return v[" "+S]||(/^[^:]+:\/*[^/]*$/.test(S)?v[" "+S]=S+"/":v[" "+S]=E(S,"/",!0)),S=v[" "+S],N.slice(0,2)==="//"?S.replace(/:[\s\S]*/,":")+N:N.charAt(0)==="/"?S.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+N:S+N}var v={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(){}_.exec=_;function b(S){for(var N=1,k,F;N<arguments.length;N++){k=arguments[N];for(F in k)Object.prototype.hasOwnProperty.call(k,F)&&(S[F]=k[F])}return S}function C(S,N){var k=S.replace(/\|/g,function(O,P,B){for(var U=!1,$=P;--$>=0&&B[$]==="\\";)U=!U;return U?"|":" |"}),F=k.split(/ \|/),L=0;if(F.length>N)F.splice(N);else for(;F.length<N;)F.push("");for(;L<F.length;L++)F[L]=F[L].trim().replace(/\\\|/g,"|");return F}function E(S,N,k){if(S.length===0)return"";for(var F=0;F<S.length;){var L=S.charAt(S.length-F-1);if(L===N&&!k)F++;else if(L!==N&&k)F++;else break}return S.substr(0,S.length-F)}function T(S,N){if(S.indexOf(N[1])===-1)return-1;for(var k=0,F=0;F<S.length;F++)if(S[F]==="\\")F++;else if(S[F]===N[0])k++;else if(S[F]===N[1]&&(k--,k<0))return F;return-1}function A(S,N,k){if(typeof S>"u"||S===null)throw new Error("marked(): input parameter is undefined or null");if(typeof S!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(S)+", string expected");if(k||typeof N=="function"){k||(k=N,N=null),N=b({},A.defaults,N||{});var F=N.highlight,L,O,P=0;try{L=t.lex(S,N)}catch(U){return k(U)}O=L.length;var B=function(U){if(U)return N.highlight=F,k(U);var $;try{$=a.parse(L,N)}catch(ee){U=ee}return N.highlight=F,U?k(U):k(null,$)};if(!F||F.length<3||(delete N.highlight,!O))return B();for(;P<L.length;P++)(function(U){return U.type!=="code"?--O||B():F(U.text,U.lang,function($,ee){if($)return B($);if(ee==null||ee===U.text)return--O||B();U.text=ee,U.escaped=!0,--O||B()})})(L[P]);return}try{return N&&(N=b({},A.defaults,N)),a.parse(t.lex(S,N),N)}catch(U){if(U.message+=`
Please report this to https://github.com/markedjs/marked.`,(N||A.defaults).silent)return"<p>An error occurred:</p><pre>"+l(U.message+"",!0)+"</pre>";throw U}}A.options=A.setOptions=function(S){return b(A.defaults,S),A},A.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new o,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},A.defaults=A.getDefaults(),A.Parser=a,A.parser=a.parse,A.Renderer=o,A.TextRenderer=s,A.Lexer=t,A.lexer=t.lex,A.InlineLexer=i,A.inlineLexer=i.output,A.Slugger=u,A.parse=A,Vl=A}).call(void 0);Vl.Parser;Vl.parser;var Z9e=Vl.Renderer;Vl.TextRenderer;Vl.Lexer;Vl.lexer;Vl.InlineLexer;Vl.inlineLexer;var J9e=Vl.parse;let yie;(function(){function n(e,t,r){function i(a,u){if(!t[a]){if(!e[a]){var l=typeof require=="function"&&require;if(!u&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(h){var p=e[a][1][h];return i(p||h)},d,d.exports,n,e,t,r)}return t[a].exports}for(var o=typeof require=="function"&&require,s=0;s<r.length;s++)i(r[s]);return i}return n})()({1:[function(n,e,t){var r=n("./toMap"),i=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:r(i)}},{"./toMap":10}],2:[function(n,e,t){var r={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=r},{}],3:[function(n,e,t){var r=n("./toMap"),i=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:r(i)}},{"./toMap":10}],4:[function(n,e,t){n("he");var r=n("assignment"),i=n("./parser"),o=n("./sanitizer"),s=n("./defaults");function a(u,l,c){var d=[],h=c===!0?l:r({},s,l),p=o(d,h);return i(u,p),d.join("")}a.defaults=s,e.exports=a,yie=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(n,e,t){e.exports=function(i){return typeof i=="string"?i.toLowerCase():i}},{}],6:[function(n,e,t){function r(i){for(var o=Array.prototype.slice.call(arguments,1),s,a;o.length;){s=o.shift();for(a in s)s.hasOwnProperty(a)&&(Object.prototype.toString.call(i[a])==="[object Object]"?i[a]=r(i[a],s[a]):i[a]=s[a])}return i}e.exports=r},{}],7:[function(n,e,t){var r=n("he"),i=n("./lowercase");n("./attributes");var o=n("./elements"),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,u=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,l=/^</,c=/^<\s*\//;function d(){var p=[];return p.lastItem=function(){return p[p.length-1]},p}function h(p,v){for(var m=d(),_=p,b;p;)C();k();function C(){b=!0,E();var F=p===_;_=p,F&&(p="")}function E(){p.substr(0,4)==="<!--"?A():c.test(p)?T(a,k):l.test(p)&&T(s,N),S()}function T(F,L){var O=p.match(F);O&&(p=p.substring(O[0].length),O[0].replace(F,L),b=!1)}function A(){var F=p.indexOf("-->");F>=0&&(v.comment&&v.comment(p.substring(4,F)),p=p.substring(F+3),b=!1)}function S(){if(b){var F,L=p.indexOf("<");L>=0?(F=p.substring(0,L),p=p.substring(L)):(F=p,p=""),v.chars&&v.chars(F)}}function N(F,L,O,P){var B={},U=i(L),$=o.voids[U]||!!P;O.replace(u,ee),$||m.push(U),v.start&&v.start(U,B,$);function ee(te,ne,de,ke,qe){de===void 0&&ke===void 0&&qe===void 0?B[ne]=void 0:B[ne]=r.decode(de||ke||qe||"")}}function k(F,L){var O,P=0,B=i(L);if(B)for(P=m.length-1;P>=0&&m[P]!==B;P--);if(P>=0){for(O=m.length-1;O>=P;O--)v.end&&v.end(m[O]);m.length=P}}}e.exports=h},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(n,e,t){var r=n("he"),i=n("./lowercase"),o=n("./attributes"),s=n("./elements");function a(u,l){var c,d=l||{};return E(),{start:p,end:v,chars:_};function h(T){u.push(T)}function p(T,A,S){var N=i(T);if(c.ignoring){b(N);return}if((d.allowedTags||[]).indexOf(N)===-1){b(N);return}if(d.filter&&!d.filter({tag:N,attrs:A})){b(N);return}h("<"),h(N),Object.keys(A).forEach(k),h(S?"/>":">");function k(F){var L=A[F],O=(d.allowedClasses||{})[N]||[],P=(d.allowedAttributes||{})[N]||[];P=P.concat((d.allowedAttributes||{})["*"]||[]);var B,U=i(F);U==="class"&&P.indexOf(U)===-1?(L=L.split(" ").filter($).join(" ").trim(),B=L.length):B=P.indexOf(U)!==-1&&(o.uris[U]!==!0||m(L)),B&&(h(" "),h(F),typeof L=="string"&&(h('="'),h(r.encode(L)),h('"')));function $(ee){return O&&O.indexOf(ee)!==-1}}}function v(T){var A=i(T),S=(d.allowedTags||[]).indexOf(A)!==-1;S&&c.ignoring===!1?(h("</"),h(A),h(">")):C(A)}function m(T){var A=T[0];if(A==="#"||A==="/")return!0;var S=T.indexOf(":");if(S===-1)return!0;var N=T.indexOf("?");if(N!==-1&&S>N)return!0;var k=T.indexOf("#");if(k!==-1&&S>k)return!0;return d.allowedSchemes.some(F);function F(L){return T.indexOf(L+":")===0}}function _(T){c.ignoring===!1&&h(d.transformText?d.transformText(T):T)}function b(T){s.voids[T]||(c.ignoring===!1?c={ignoring:T,depth:1}:c.ignoring===T&&c.depth++)}function C(T){c.ignoring===T&&--c.depth<=0&&E()}function E(){c={ignoring:!1,depth:0}}}e.exports=a},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(n,e,t){var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},o=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,s=/[&<>"']/g;function a(d){return r[d]}function u(d){return i[d]}function l(d){return d==null?"":String(d).replace(s,a)}function c(d){return d==null?"":String(d).replace(o,u)}l.options=c.options={},e.exports={encode:l,escape:l,decode:c,unescape:c,version:"1.0.0-browser"}},{}],10:[function(n,e,t){function r(o){return o.reduce(i,{})}function i(o,s){return o[s]=!0,o}e.exports=r},{}]},{},[4]);var eHe=yie;function tHe(n,e){e===void 0&&(e={});var t=W5(e),r=function(h){var p;try{p=HJ(decodeURIComponent(h))}catch{}return p?(p=fTe(p,function(v){if(n.uris&&n.uris[v])return Ft.revive(n.uris[v])}),encodeURIComponent(JSON.stringify(p))):h},i=function(h,p){var v=n.uris&&n.uris[h];if(!v)return h;var m=Ft.revive(v);return p&&(m=BJ(m)),m.query&&(m=m.with({query:r(m.query)})),v&&(h=m.toString(!0)),h},o,s=new Promise(function(h){return o=h}),a=new Z9e;a.image=function(h,p,v){var m,_=[],b=[];return h&&(m=_9e(h),h=m.href,_=m.dimensions,h=i(h,!0),b.push('src="'+h+'"')),v&&b.push('alt="'+v+'"'),p&&b.push('title="'+p+'"'),_.length&&(b=b.concat(_)),"<img "+b.join(" ")+">"},a.link=function(h,p,v){return h===v&&(v=Dk(v)),h=i(h,!1),p=Dk(p),h=Dk(h),!h||h.match(/^data:|javascript:/i)||h.match(/^command:/i)&&!n.isTrusted||h.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?v:(h=h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="#" data-href="'+h+'" title="'+(p||h)+'">'+v+"</a>")},a.paragraph=function(h){return"<p>"+h+"</p>"},e.codeBlockRenderer&&(a.code=function(h,p){var v=e.codeBlockRenderer(p,h),m=Kre.nextId(),_=Promise.all([v,s]).then(function(b){var C=b[0],E=t.querySelector('div[data-code="'+m+'"]');E&&(E.innerHTML=C)}).catch(function(b){});return e.codeBlockRenderCallback&&_.then(e.codeBlockRenderCallback),'<div class="code" data-code="'+m+'">'+ra(h)+"</div>"});var u=e.actionHandler;u&&u.disposeables.add(hi(t,"click",function(h){var p=h.target;if(!(p.tagName!=="A"&&(p=p.parentElement,!p||p.tagName!=="A")))try{var v=p.dataset.href;v&&u.callback(v,h)}catch(m){He(m)}finally{h.preventDefault()}}));var l={sanitize:!0,renderer:a},c=["http","https","mailto","data"];n.isTrusted&&c.push("command");var d=J9e(n.value,l);return t.innerHTML=eHe(d,{allowedSchemes:c,allowedAttributes:{a:["href","name","target","data-href"],iframe:["allowfullscreen","frameborder","src"],img:["src","title","alt","width","height"],div:["class","data-code"]}}),o(),t}var nHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gG=function(n,e){return function(t,r){e(t,r,n)}},P2=function(n){nHe(e,n);function e(t,r,i){i===void 0&&(i=C5);var o=n.call(this)||this;return o._editor=t,o._modeService=r,o._openerService=i,o._onDidRenderCodeBlock=o._register(new Q),o.onDidRenderCodeBlock=o._onDidRenderCodeBlock.event,o}return e.prototype.getOptions=function(t){var r=this;return{codeBlockRenderer:function(i,o){var s=null;if(i)s=r._modeService.getModeIdForLanguageName(i);else{var a=r._editor.getModel();a&&(s=a.getLanguageIdentifier().language)}return r._modeService.triggerMode(s||""),Promise.resolve(!0).then(function(u){var l=Bn.getPromise(s||"");return l?l.then(function(c){return ez(o,c)}):ez(o,void 0)}).then(function(u){return'<span style="font-family: '+r._editor.getConfiguration().fontInfo.fontFamily+'">'+u+"</span>"})},codeBlockRenderCallback:function(){return r._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(i){var o;try{o=Ft.parse(i)}catch{}o&&r._openerService&&r._openerService.open(o).catch(He)},disposeables:t}}},e.prototype.render=function(t){var r=new Be,i;return t?i=tHe(t,this.getOptions(r)):i=document.createElement("span"),{element:i,dispose:function(){return r.dispose()}}},e=rHe([gG(1,Oh),gG(2,cp(bh))],e),e}(fe),iHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ro=Ve,rm=function(){function n(e,t,r){this.range=e,this.color=t,this.provider=r}return n}(),Bv=function(){function n(e,t){this.range=e,this.marker=t}return n}(),oHe=function(){function n(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}return n.prototype.setRange=function(e){this._range=e,this._result=[]},n.prototype.clearResult=function(){this._result=[]},n.prototype.computeAsync=function(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var t=this._editor.getModel();return qb.has(t)?vie(t,new J(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])},n.prototype.computeSync=function(){var e=this;if(!this._editor.hasModel()||!this._range)return[];var t=this._editor.getModel(),r=this._range.startLineNumber;if(r>this._editor.getModel().getLineCount())return[];var i=hre.get(this._editor),o=t.getLineMaxColumn(r),s=this._editor.getLineDecorations(r),a=!1,u=this._range,l=s.map(function(c){var d=c.range.startLineNumber===r?c.range.startColumn:1,h=c.range.endLineNumber===r?c.range.endColumn:o;if(d>u.startColumn||u.endColumn>h)return null;var p=new H(u.startLineNumber,d,u.startLineNumber,h),v=e._markerDecorationsService.getMarker(t,c);if(v)return new Bv(p,v);var m=i.getColorData(c.range.getStartPosition());if(!a&&m){a=!0;var _=m.colorInfo,b=_.color,C=_.range;return new rm(C,b,m.provider)}else{if(k2(c.options.hoverMessage))return null;var E=c.options.hoverMessage?uJ(c.options.hoverMessage):[];return{contents:E,range:p}}});return Wc(l)},n.prototype.onResult=function(e,t){t?this._result=e.concat(this._result.sort(function(r,i){return r instanceof rm?-1:i instanceof rm?1:0})):this._result=this._result.concat(e)},n.prototype.getResult=function(){return this._result.slice(0)},n.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},n.prototype._getLoadingMessage=function(){return{range:this._range,contents:[new Fp().appendText(D("modesContentHover.loading","Loading..."))]}},n}(),Nk=function(n){iHe(e,n);function e(t,r,i,o,s,a){a===void 0&&(a=C5);var u=n.call(this,e.ID,t)||this;return u._themeService=i,u._keybindingService=o,u._modeService=s,u._openerService=a,u.renderDisposable=u._register(new Ih),u._messages=[],u._lastRange=null,u._computer=new oHe(u._editor,r),u._highlightDecorations=[],u._isChangingDecorations=!1,u._shouldFocus=!1,u._colorPicker=null,u._hoverOperation=new mie(u._computer,function(l){return u._withResult(l,!0)},null,function(l){return u._withResult(l,!1)},u._editor.getConfiguration().contribInfo.hover.delay),u._register(hi(u.getDomNode(),lt.FOCUS,function(){u._colorPicker&&De(u.getDomNode(),"colorpicker-hover")})),u._register(hi(u.getDomNode(),lt.BLUR,function(){ot(u.getDomNode(),"colorpicker-hover")})),u._register(t.onDidChangeConfiguration(function(l){u._hoverOperation.setHoverTime(u._editor.getConfiguration().contribInfo.hover.delay)})),u}return e.prototype.dispose=function(){this._hoverOperation.cancel(),n.prototype.dispose.call(this)},e.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},e.prototype.startShowingAt=function(t,r,i){if(!(this._lastRange&&this._lastRange.equalsRange(t))){if(this._hoverOperation.cancel(),this.isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==t.startLineNumber)this.hide();else{for(var o=[],s=0,a=this._messages.length;s<a;s++){var u=this._messages[s],l=u.range;l&&l.startColumn<=t.startColumn&&l.endColumn>=t.endColumn&&o.push(u)}if(o.length>0){if(sHe(o,this._messages))return;this._renderMessages(t,o)}else this.hide()}this._lastRange=t,this._computer.setRange(t),this._shouldFocus=i,this._hoverOperation.start(r)}},e.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),n.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},e.prototype.isColorPickerVisible=function(){return!!this._colorPicker},e.prototype._withResult=function(t,r){this._messages=t,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):r&&this.hide()},e.prototype._renderMessages=function(t,r){var i=this;this.renderDisposable.dispose(),this._colorPicker=null;var o=Number.MAX_VALUE,s=r[0].range?H.lift(r[0].range):null,a=document.createDocumentFragment(),u=!0,l=!1,c=new Be,d=[];if(r.forEach(function(p){if(p.range)if(o=Math.min(o,p.range.startColumn),s=s?H.plusRange(s,p.range):H.lift(p.range),p instanceof rm){l=!0;var v=p.color,m=v.red,_=v.green,b=v.blue,C=v.alpha,E=new yn(m*255,_*255,b*255,C),T=new se(E);if(!i._editor.hasModel())return;var A=i._editor.getModel(),S=new H(p.range.startLineNumber,p.range.startColumn,p.range.endLineNumber,p.range.endColumn),N={range:p.range,color:p.color},k=new U9e(T,[],0),F=new K9e(a,k,i._editor.getConfiguration().pixelRatio,i._themeService);Wz(A,N,p.provider,nn.None).then(function(L){if(k.colorPresentations=L||[],!!i._editor.hasModel()){var O=i._editor.getModel().getValueInRange(p.range);k.guessColorPresentation(T,O);var P=function(){var ee,te;k.presentation.textEdit?(ee=[k.presentation.textEdit],te=new H(k.presentation.textEdit.range.startLineNumber,k.presentation.textEdit.range.startColumn,k.presentation.textEdit.range.endLineNumber,k.presentation.textEdit.range.endColumn),te=te.setEndPosition(te.endLineNumber,te.startColumn+k.presentation.textEdit.text.length)):(ee=[{identifier:null,range:S,text:k.presentation.label,forceMoveMarkers:!1}],te=S.setEndPosition(S.endLineNumber,S.startColumn+k.presentation.label.length)),i._editor.pushUndoStop(),i._editor.executeEdits("colorpicker",ee),k.presentation.additionalTextEdits&&(ee=k.presentation.additionalTextEdits.slice(),i._editor.executeEdits("colorpicker",ee),i.hide()),i._editor.pushUndoStop(),S=te},B=function(ee){return Wz(A,{range:S,color:{red:ee.rgba.r/255,green:ee.rgba.g/255,blue:ee.rgba.b/255,alpha:ee.rgba.a}},p.provider,nn.None).then(function(te){k.colorPresentations=te||[]})},U=k.onColorFlushed(function(ee){B(ee).then(P)}),$=k.onDidChangeColor(B);i._colorPicker=F,i.showAt(S.getStartPosition(),S,i._shouldFocus),i.updateContents(a),i._colorPicker.layout(),i.renderDisposable.value=al(U,$,F,c)}})}else p instanceof Bv?(d.push(p),u=!1):p.contents.filter(function(L){return!k2(L)}).forEach(function(L){var O=ro("div.hover-row.markdown-hover"),P=Ce(O,ro("div.hover-contents")),B=c.add(new P2(i._editor,i._modeService,i._openerService));c.add(B.onDidRenderCodeBlock(function(){P.className="hover-contents code-hover-contents",i.onContentsChange()}));var U=c.add(B.render(L));P.appendChild(U.element),a.appendChild(O),u=!1})}),d.length){d.forEach(function(p){return a.appendChild(i.renderMarkerHover(p))});var h=d.length===1?d[0]:d.sort(function(p,v){return Nn.compare(p.marker.severity,v.marker.severity)})[0];a.appendChild(this.renderMarkerStatusbar(h))}!l&&!u&&(this.showAt(new J(t.startLineNumber,o),s,this._shouldFocus),this.updateContents(a)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,s?[{range:s,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},e.prototype.renderMarkerHover=function(t){var r=this,i=ro("div.hover-row"),o=Ce(i,ro("div.marker.hover-contents")),s=t.marker,a=s.source,u=s.message,l=s.code,c=s.relatedInformation;this._editor.applyFontInfo(o);var d=Ce(o,ro("span"));if(d.style.whiteSpace="pre-wrap",d.innerText=u,a||l){var h=Ce(o,ro("span"));h.style.opacity="0.6",h.style.paddingLeft="6px",h.innerText=a&&l?a+"("+l+")":a||"("+l+")"}if(ts(c))for(var p=function(S,N,k,F){var L=Ce(o,ro("div"));L.style.marginTop="8px";var O=Ce(L,ro("a"));O.innerText=Nc(N)+"("+k+", "+F+"): ",O.style.cursor="pointer",O.onclick=function(B){B.stopPropagation(),B.preventDefault(),r._openerService&&r._openerService.open(N.with({fragment:k+","+F})).catch(He)};var P=Ce(L,ro("span"));P.innerText=S,v._editor.applyFontInfo(P)},v=this,m=0,_=c;m<_.length;m++){var b=_[m],C=b.message,E=b.resource,T=b.startLineNumber,A=b.startColumn;p(C,E,T,A)}return i},e.prototype.renderMarkerStatusbar=function(t){var r=this,i=ro("div.hover-row.status-bar"),o=new Be,s=Ce(i,ro("div.actions"));(t.marker.severity===Nn.Error||t.marker.severity===Nn.Warning||t.marker.severity===Nn.Info)&&o.add(this.renderAction(s,{label:D("peek problem","Peek Problem"),commandId:eb.ID,run:function(){r.hide(),R2.get(r._editor).show(t.marker),r._editor.focus()}}));var a=Ce(s,ro("div"));a.style.opacity="0",a.style.transition="opacity 0.2s",setTimeout(function(){return a.style.opacity="1"},200),a.textContent=D("checkingForQuickFixes","Checking for quick fixes..."),o.add(bn(function(){return a.remove()}));var u=this.getCodeActions(t.marker);return o.add(bn(function(){return u.cancel()})),u.then(function(l){if(a.style.transition="",a.style.opacity="1",!l.actions.length){l.dispose(),a.textContent=D("noQuickFixes","No quick fixes available");return}a.remove();var c=!1;o.add(bn(function(){c||l.dispose()})),o.add(r.renderAction(s,{label:D("quick fixes","Quick Fix..."),commandId:R5.Id,run:function(d){c=!0;var h=k5.get(r._editor),p=di(d);h.showCodeActions(l,{x:p.left+6,y:p.top+p.height+6})}}))}),this.renderDisposable.value=o,i},e.prototype.getCodeActions=function(t){var r=this;return Gr(function(i){return O5(r._editor.getModel(),new H(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),{type:"manual",filter:{kind:lr.QuickFix}},i)})},e.prototype.renderAction=function(t,r){var i=Ce(t,ro("div.action-container")),o=Ce(i,ro("a.action"));r.iconClass&&Ce(o,ro("span.icon."+r.iconClass));var s=Ce(o,ro("span"));s.textContent=r.label;var a=this._keybindingService.lookupKeybinding(r.commandId);return a&&(s.title=r.label+" ("+a.getLabel()+")"),_e(i,lt.CLICK,function(u){u.stopPropagation(),u.preventDefault(),r.run(i)})},e.ID="editor.contrib.modesContentHoverWidget",e._DECORATION_OPTIONS=mt.register({className:"hoverHighlight"}),e}(X9e);function sHe(n,e){if(!n&&e||n&&!e||n.length!==e.length)return!1;for(var t=0;t<n.length;t++){var r=n[t],i=e[t];if(r instanceof Bv&&i instanceof Bv)return lD.makeKey(r.marker)===lD.makeKey(i.marker);if(r instanceof rm||i instanceof rm||r instanceof Bv||i instanceof Bv||!m9e(r.contents,i.contents))return!1}return!0}var aHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uHe=function(){function n(e){this._editor=e,this._lineNumber=-1,this._result=[]}return n.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},n.prototype.clearResult=function(){this._result=[]},n.prototype.computeSync=function(){var e=function(u){return{value:u}},t=this._editor.getLineDecorations(this._lineNumber),r=[];if(!t)return r;for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.options.glyphMarginClassName){var a=s.options.glyphMarginHoverMessage;!a||k2(a)||r.push.apply(r,uJ(a).map(e))}}return r},n.prototype.onResult=function(e,t){this._result=this._result.concat(e)},n.prototype.getResult=function(){return this._result},n.prototype.getResultWithLoadingMessage=function(){return this.getResult()},n}(),qE=function(n){aHe(e,n);function e(t,r,i){i===void 0&&(i=C5);var o=n.call(this,e.ID,t)||this;return o._renderDisposeables=o._register(new Be),o._messages=[],o._lastLineNumber=-1,o._markdownRenderer=o._register(new P2(o._editor,r,i)),o._computer=new uHe(o._editor),o._hoverOperation=new mie(o._computer,function(s){return o._withResult(s)},void 0,function(s){return o._withResult(s)},300),o}return e.prototype.dispose=function(){this._hoverOperation.cancel(),n.prototype.dispose.call(this)},e.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},e.prototype.startShowingAt=function(t){this._lastLineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=t,this._computer.setLineNumber(t),this._hoverOperation.start(0))},e.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),n.prototype.hide.call(this)},e.prototype._withResult=function(t){this._messages=t,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},e.prototype._renderMessages=function(t,r){this._renderDisposeables.clear();for(var i=document.createDocumentFragment(),o=0,s=r;o<s.length;o++){var a=s[o],u=this._markdownRenderer.render(a.value);this._renderDisposeables.add(u),i.appendChild(Ve("div.hover-row",void 0,u.element))}this.updateContents(i),this.showAt(t)},e.ID="editor.contrib.modesGlyphHoverWidget",e}(Q9e),lHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ay=function(n,e){return function(t,r){e(t,r,n)}},bie=function(){function n(e,t,r,i,o,s){var a=this;this._editor=e,this._openerService=t,this._modeService=r,this._markerDecorationsService=i,this._keybindingService=o,this._themeService=s,this._toUnhook=new Be,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(u){u.contribInfo&&(a._hideWidgets(),a._unhookEvents(),a._hookEvents())})}return Object.defineProperty(n.prototype,"contentWidget",{get:function(){return this._contentWidget||this._createHoverWidgets(),this._contentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"glyphWidget",{get:function(){return this._glyphWidget||this._createHoverWidgets(),this._glyphWidget},enumerable:!0,configurable:!0}),n.get=function(e){return e.getContribution(n.ID)},n.prototype._hookEvents=function(){var e=this,t=function(){return e._hideWidgets()},r=this._editor.getConfiguration().contribInfo.hover;this._isHoverEnabled=r.enabled,this._isHoverSticky=r.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(function(i){return e._onEditorMouseDown(i)})),this._toUnhook.add(this._editor.onMouseUp(function(i){return e._onEditorMouseUp(i)})),this._toUnhook.add(this._editor.onMouseMove(function(i){return e._onEditorMouseMove(i)})),this._toUnhook.add(this._editor.onKeyDown(function(i){return e._onKeyDown(i)})),this._toUnhook.add(this._editor.onDidChangeModelDecorations(function(){return e._onModelDecorationsChanged()}))):this._toUnhook.add(this._editor.onMouseMove(t)),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange(function(i){return e._onEditorScrollChanged(i)}))},n.prototype._unhookEvents=function(){this._toUnhook.clear()},n.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},n.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},n.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;if(t===9&&e.target.detail===Nk.ID){this._hoverClicked=!0;return}t===12&&e.target.detail===qE.ID||(t!==12&&e.target.detail!==qE.ID&&(this._hoverClicked=!1),this._hideWidgets())},n.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},n.prototype._onEditorMouseMove=function(e){var t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&!(this._isHoverSticky&&t===9&&e.target.detail===Nk.ID)&&!(this._isHoverSticky&&t===12&&e.target.detail===qE.ID)){if(t===7){var r=this._editor.getConfiguration().fontInfo.typicalHalfwidthCharacterWidth/2,i=e.target.detail;i&&!i.isAfterLines&&typeof i.horizontalDistanceToText=="number"&&i.horizontalDistanceToText<r&&(t=6)}t===6?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):t===2?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},n.prototype._onKeyDown=function(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()},n.prototype._hideWidgets=function(){!this._glyphWidget||!this._contentWidget||this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()||(this._glyphWidget.hide(),this._contentWidget.hide())},n.prototype._createHoverWidgets=function(){this._contentWidget=new Nk(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget=new qE(this._editor,this._modeService,this._openerService)},n.prototype.showContentHover=function(e,t,r){this.contentWidget.startShowingAt(e,t,r)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget&&this._glyphWidget.dispose(),this._contentWidget&&this._contentWidget.dispose()},n.ID="editor.contrib.hover",n=cHe([ay(1,bh),ay(2,Oh),ay(3,Hne),ay(4,wr),ay(5,Yr)],n),n}(),fHe=function(n){lHe(e,n);function e(){return n.call(this,{id:"editor.action.showHover",label:D({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2087),weight:100}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=bie.get(r);if(i){var o=r.getPosition(),s=new H(o.lineNumber,o.column,o.lineNumber,o.column),a=r.getConfiguration().accessibilitySupport===2;i.showContentHover(s,1,a)}}},e}(Ue);Cn(bie);pe(fHe);mn(function(n,e){var t=n.getColor(GNe);t&&e.addRule(".monaco-editor .hoverHighlight { background-color: "+t+"; }");var r=n.getColor(Rp);r&&e.addRule(".monaco-editor .monaco-editor-hover { background-color: "+r+"; }");var i=n.getColor(j6);i&&(e.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+i+"; }"),e.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+i.transparent(.5)+"; }"),e.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+i.transparent(.5)+"; }"),e.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+i.transparent(.5)+"; }"));var o=n.getColor(u2);o&&e.addRule(".monaco-editor .monaco-editor-hover a { color: "+o+"; }");var s=n.getColor($Ne);s&&e.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+s+"; }");var a=n.getColor(O6);a&&e.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+a+"; }")});var hHe=function(){function n(e,t,r){this._editRange=e,this._originalSelection=t,this._text=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return this._originalSelection.isEmpty()?new Re(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new Re(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)},n}(),Cie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pHe=function(n,e){return function(t,r){e(t,r,n)}},rB=function(){function n(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.dispose=function(){},n.prototype.getId=function(){return n.ID},n.prototype.run=function(e,t){var r=this;this.currentRequest&&this.currentRequest.cancel();var i=this.editor.getSelection(),o=this.editor.getModel();if(!(!o||!i)){var s=i;if(s.startLineNumber===s.endLineNumber){var a=new e5(this.editor,5),u=o.uri;return this.editorWorkerService.canNavigateValueSet(u)?(this.currentRequest=Gr(function(l){return r.editorWorkerService.navigateValueSet(u,s,t)}),this.currentRequest.then(function(l){if(!(!l||!l.range||!l.value)&&a.validate(r.editor)){var c=H.lift(l.range),d=l.range,h=l.value.length-(s.endColumn-s.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+l.value.length},h>1&&(s=new Re(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+h-1));var p=new hHe(c,s,l.value);r.editor.pushUndoStop(),r.editor.executeCommand(e,p),r.editor.pushUndoStop(),r.decorationIds=r.editor.deltaDecorations(r.decorationIds,[{range:d,options:n.DECORATION}]),r.decorationRemover&&r.decorationRemover.cancel(),r.decorationRemover=rC(350),r.decorationRemover.then(function(){return r.decorationIds=r.editor.deltaDecorations(r.decorationIds,[])}).catch(He)}}).catch(He)):Promise.resolve(void 0)}}},n.ID="editor.contrib.inPlaceReplaceController",n.DECORATION=mt.register({className:"valueSetReplacement"}),n=dHe([pHe(1,Fa)],n),n}(),gHe=function(n){Cie(e,n);function e(){return n.call(this,{id:"editor.action.inPlaceReplace.up",label:D("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:3154,weight:100}})||this}return e.prototype.run=function(t,r){var i=rB.get(r);return i?i.run(this.id,!0):Promise.resolve(void 0)},e}(Ue),vHe=function(n){Cie(e,n);function e(){return n.call(this,{id:"editor.action.inPlaceReplace.down",label:D("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:3156,weight:100}})||this}return e.prototype.run=function(t,r){var i=rB.get(r);return i?i.run(this.id,!1):Promise.resolve(void 0)},e}(Ue);Cn(rB);pe(gHe);pe(vHe);mn(function(n,e){var t=n.getColor(Ete);t&&e.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+t+"; }")});var mHe=function(){function n(e,t){this._selection=e,this._cursors=t,this._selectionId=null}return n.prototype.getEditOperations=function(e,t){for(var r=_He(e,this._cursors),i=0,o=r.length;i<o;i++){var s=r[i];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},n}();function _He(n,e){e.sort(function(v,m){return v.lineNumber===m.lineNumber?v.column-m.column:v.lineNumber-m.lineNumber});for(var t=e.length-2;t>=0;t--)e[t].lineNumber===e[t+1].lineNumber&&e.splice(t,1);for(var r=[],i=0,o=0,s=e.length,a=1,u=n.getLineCount();a<=u;a++){var l=n.getLineContent(a),c=l.length+1,d=0;if(!(o<s&&e[o].lineNumber===a&&(d=e[o].column,o++,d===c))&&l.length!==0){var h=Lh(l),p=0;if(h===-1)p=1;else if(h!==l.length-1)p=h+2;else continue;p=Math.max(d,p),r[i++]=Or.delete(new H(a,p,a,c))}}return r}var yHe=function(){function n(e,t){this._selection=e,this._isCopyingDown=t,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return n.prototype.getEditOperations=function(e,t){var r=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._endLineNumberDelta=1,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));for(var i=[],o=r.startLineNumber;o<=r.endLineNumber;o++)i.push(e.getLineContent(o));var s=i.join(`
`);s===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new H(r.startLineNumber,1,r.startLineNumber,1),s+`
`):t.addEditOperation(new H(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),`
`+s),this._selectionId=t.trackSelection(r),this._selectionDirection=this._selection.getDirection()},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var i=r.startLineNumber,o=r.startColumn,s=r.endLineNumber,a=r.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),r=Re.createWithDirection(i,o,s,a,this._selectionDirection)}return r},n}();function qu(n,e){for(var t=0,r=0;r<n.length;r++)n.charAt(r)==="	"?t+=e:t++;return t}function Ok(n,e,t){n=n<0?0:n;var r="";if(!t){var i=Math.floor(n/e);n=n%e;for(var o=0;o<i;o++)r+="	"}for(var o=0;o<n;o++)r+=" ";return r}var bHe=function(){function n(e,t,r){this._selection=e,this._isMovingDown=t,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return n.prototype.getEditOperations=function(e,t){var r=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;var i=this._selection;i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));var o=e.getOptions(),s=o.tabSize,a=o.indentSize,u=o.insertSpaces,l=this.buildIndentConverter(s,a,u),c={getLineTokens:function(O){return e.getLineTokens(O)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(O,P){return e.getLanguageIdAtPosition(O,P)},getLineContent:null};if(i.startLineNumber===i.endLineNumber&&e.getLineMaxColumn(i.startLineNumber)===1){var d=i.startLineNumber,h=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(h)===1?t.addEditOperation(new H(1,1,1,1),null):(t.addEditOperation(new H(d,1,d,1),e.getLineContent(h)),t.addEditOperation(new H(h,1,h,e.getLineMaxColumn(h)),null)),i=new Re(h,1,h,1)}else{var p,v=void 0;if(this._isMovingDown){p=i.endLineNumber+1,v=e.getLineContent(p),t.addEditOperation(new H(p-1,e.getLineMaxColumn(p-1),p,e.getLineMaxColumn(p)),null);var m=v;if(this.shouldAutoIndent(e,i)){var _=this.matchEnterRule(e,l,s,p,i.startLineNumber-1);if(_!==null){var b=In(e.getLineContent(p)),C=_+qu(b,s),E=Ok(C,s,u);m=E+this.trimLeft(v)}else{c.getLineContent=function(O){return O===i.startLineNumber?e.getLineContent(p):e.getLineContent(O)};var T=Ot.getGoodIndentForLine(c,e.getLanguageIdAtPosition(p,1),i.startLineNumber,l);if(T!==null){var b=In(e.getLineContent(p)),C=qu(T,s),A=qu(b,s);if(C!==A){var E=Ok(C,s,u);m=E+this.trimLeft(v)}}}t.addEditOperation(new H(i.startLineNumber,1,i.startLineNumber,1),m+`
`);var S=this.matchEnterRule(e,l,s,i.startLineNumber,i.startLineNumber,m);if(S!==null)S!==0&&this.getIndentEditsOfMovingBlock(e,t,i,s,u,S);else{c.getLineContent=function(O){return O===i.startLineNumber?m:O>=i.startLineNumber+1&&O<=i.endLineNumber+1?e.getLineContent(O-1):e.getLineContent(O)};var N=Ot.getGoodIndentForLine(c,e.getLanguageIdAtPosition(p,1),i.startLineNumber+1,l);if(N!==null){var b=In(e.getLineContent(i.startLineNumber)),C=qu(N,s),A=qu(b,s);if(C!==A){var k=C-A;this.getIndentEditsOfMovingBlock(e,t,i,s,u,k)}}}}else t.addEditOperation(new H(i.startLineNumber,1,i.startLineNumber,1),m+`
`)}else if(p=i.startLineNumber-1,v=e.getLineContent(p),t.addEditOperation(new H(p,1,p+1,1),null),t.addEditOperation(new H(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+v),this.shouldAutoIndent(e,i)){c.getLineContent=function(P){return P===p?e.getLineContent(i.startLineNumber):e.getLineContent(P)};var S=this.matchEnterRule(e,l,s,i.startLineNumber,i.startLineNumber-2);if(S!==null)S!==0&&this.getIndentEditsOfMovingBlock(e,t,i,s,u,S);else{var F=Ot.getGoodIndentForLine(c,e.getLanguageIdAtPosition(i.startLineNumber,1),p,l);if(F!==null){var L=In(e.getLineContent(i.startLineNumber)),C=qu(F,s),A=qu(L,s);if(C!==A){var k=C-A;this.getIndentEditsOfMovingBlock(e,t,i,s,u,k)}}}}}this._selectionId=t.trackSelection(i)},n.prototype.buildIndentConverter=function(e,t,r){return{shiftIndent:function(i){return jd.shiftIndent(i,i.length+1,e,t,r)},unshiftIndent:function(i){return jd.unshiftIndent(i,i.length+1,e,t,r)}}},n.prototype.matchEnterRule=function(e,t,r,i,o,s){for(var a=o;a>=1;){var u=void 0;a===o&&s!==void 0?u=s:u=e.getLineContent(a);var l=Lh(u);if(l>=0)break;a--}if(a<1||i>e.getLineCount())return null;var c=e.getLineMaxColumn(a),d=Ot.getEnterAction(e,new H(a,c,a,c));if(d){var h=d.indentation,p=d.enterAction;p.indentAction===$n.None||p.indentAction===$n.Indent?h=d.indentation+p.appendText:p.indentAction===$n.IndentOutdent?h=d.indentation:p.indentAction===$n.Outdent&&(h=t.unshiftIndent(d.indentation)+p.appendText);var v=e.getLineContent(i);if(this.trimLeft(v).indexOf(this.trimLeft(h))>=0){var m=In(e.getLineContent(i)),_=In(h),b=Ot.getIndentMetadata(e,i);b!==null&&b&2&&(_=t.unshiftIndent(_));var C=qu(_,r),E=qu(m,r);return C-E}}return null},n.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},n.prototype.shouldAutoIndent=function(e,t){if(!this._autoIndent||!e.isCheapToTokenize(t.startLineNumber))return!1;var r=e.getLanguageIdAtPosition(t.startLineNumber,1),i=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(r!==i||Ot.getIndentRulesSupport(r)===null)},n.prototype.getIndentEditsOfMovingBlock=function(e,t,r,i,o,s){for(var a=r.startLineNumber;a<=r.endLineNumber;a++){var u=e.getLineContent(a),l=In(u),c=qu(l,i),d=c+s,h=Ok(d,i,o);h!==l&&(t.addEditOperation(new H(a,1,a,l.length+1),h),a===r.endLineNumber&&r.endColumn<=l.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r},n}(),vG=function(){function n(e,t){this.selection=e,this.descending=t,this.selectionId=null}return n.prototype.getEditOperations=function(e,t){var r=CHe(e,this.selection,this.descending);r&&t.addEditOperation(r.range,r.text),this.selectionId=t.trackSelection(this.selection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},n.canRun=function(e,t,r){if(e===null)return!1;var i=wie(e,t,r);if(!i)return!1;for(var o=0,s=i.before.length;o<s;o++)if(i.before[o]!==i.after[o])return!0;return!1},n}();function wie(n,e,t){var r=e.startLineNumber,i=e.endLineNumber;if(e.endColumn===1&&i--,r>=i)return null;for(var o=[],s=r;s<=i;s++)o.push(n.getLineContent(s));var a=o.slice(0);return a.sort(function(u,l){return u.toLowerCase().localeCompare(l.toLowerCase())}),t===!0&&(a=a.reverse()),{startLineNumber:r,endLineNumber:i,before:o,after:a}}function CHe(n,e,t){var r=wie(n,e,t);return r?Or.replace(new H(r.startLineNumber,1,r.endLineNumber,n.getLineMaxColumn(r.endLineNumber)),r.after.join(`
`)):null}var fr=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eie=function(n){fr(e,n);function e(t,r){var i=n.call(this,r)||this;return i.down=t,i}return e.prototype.run=function(t,r){for(var i=[],o=r.getSelections()||[],s=0,a=o;s<a.length;s++){var u=a[s];i.push(new yHe(u,this.down))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()},e}(Ue),wHe=function(n){fr(e,n);function e(){return n.call(this,!1,{id:"editor.action.copyLinesUpAction",label:D("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return e}(Eie),EHe=function(n){fr(e,n);function e(){return n.call(this,!0,{id:"editor.action.copyLinesDownAction",label:D("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return e}(Eie),Sie=function(n){fr(e,n);function e(t,r){var i=n.call(this,r)||this;return i.down=t,i}return e.prototype.run=function(t,r){for(var i=[],o=r.getSelections()||[],s=r.getConfiguration().autoIndent,a=0,u=o;a<u.length;a++){var l=u[a];i.push(new bHe(l,this.down,s))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()},e}(Ue),SHe=function(n){fr(e,n);function e(){return n.call(this,!1,{id:"editor.action.moveLinesUpAction",label:D("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:528,linux:{primary:528},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return e}(Sie),THe=function(n){fr(e,n);function e(){return n.call(this,!0,{id:"editor.action.moveLinesDownAction",label:D("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:530,linux:{primary:530},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return e}(Sie),Tie=function(n){fr(e,n);function e(t,r){var i=n.call(this,r)||this;return i.descending=t,i}return e.prototype.run=function(t,r){for(var i=r.getSelections()||[],o=0,s=i;o<s.length;o++){var a=s[o];if(!vG.canRun(r.getModel(),a,this.descending))return}for(var u=[],l=0,c=i.length;l<c;l++)u[l]=new vG(i[l],this.descending);r.pushUndoStop(),r.executeCommands(this.id,u),r.pushUndoStop()},e}(Ue),DHe=function(n){fr(e,n);function e(){return n.call(this,!1,{id:"editor.action.sortLinesAscending",label:D("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:W.writable})||this}return e}(Tie),AHe=function(n){fr(e,n);function e(){return n.call(this,!0,{id:"editor.action.sortLinesDescending",label:D("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:W.writable})||this}return e}(Tie),IHe=function(n){fr(e,n);function e(){return n.call(this,{id:e.ID,label:D("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:So(2089,2102),weight:100}})||this}return e.prototype.run=function(t,r,i){var o=[];i.reason==="auto-save"&&(o=(r.getSelections()||[]).map(function(u){return new J(u.positionLineNumber,u.positionColumn)}));var s=r.getSelection();if(s!==null){var a=new mHe(s,o);r.pushUndoStop(),r.executeCommands(this.id,[a]),r.pushUndoStop()}},e.ID="editor.action.trimTrailingWhitespace",e}(Ue),xHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.deleteLines",label:D("lines.delete","Delete Line"),alias:"Delete Line",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:3113,weight:100}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=this._getLinesToRemove(r),o=r.getModel();if(!(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)){for(var s=0,a=[],u=[],l=0,c=i.length;l<c;l++){var d=i[l],h=d.startLineNumber,p=d.endLineNumber,v=1,m=o.getLineMaxColumn(p);p<o.getLineCount()?(p+=1,m=1):h>1&&(h-=1,v=o.getLineMaxColumn(h)),a.push(Or.replace(new Re(h,v,p,m),"")),u.push(new Re(h-s,d.positionColumn,h-s,d.positionColumn)),s+=d.endLineNumber-d.startLineNumber+1}r.pushUndoStop(),r.executeEdits(this.id,a,u),r.pushUndoStop()}}},e.prototype._getLinesToRemove=function(t){var r=t.getSelections().map(function(a){var u=a.endLineNumber;return a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(u-=1),{startLineNumber:a.startLineNumber,selectionStartColumn:a.selectionStartColumn,endLineNumber:u,positionColumn:a.positionColumn}});r.sort(function(a,u){return a.startLineNumber===u.startLineNumber?a.endLineNumber-u.endLineNumber:a.startLineNumber-u.startLineNumber});for(var i=[],o=r[0],s=1;s<r.length;s++)o.endLineNumber+1>=r[s].startLineNumber?o.endLineNumber=r[s].endLineNumber:(i.push(o),o=r[s]);return i.push(o),i},e}(Ue),LHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.indentLines",label:D("lines.indent","Indent Line"),alias:"Indent Line",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2137,weight:100}})||this}return e.prototype.run=function(t,r){var i=r._getCursors();i&&(r.pushUndoStop(),r.executeCommands(this.id,cu.indent(i.context.config,r.getModel(),r.getSelections())),r.pushUndoStop())},e}(Ue),NHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.outdentLines",label:D("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2135,weight:100}})||this}return e.prototype.run=function(t,r){HM.Outdent.runEditorCommand(t,r,null)},e}(Ue),OHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.insertLineBefore",label:D("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:3075,weight:100}})||this}return e.prototype.run=function(t,r){var i=r._getCursors();i&&(r.pushUndoStop(),r.executeCommands(this.id,cu.lineInsertBefore(i.context.config,r.getModel(),r.getSelections())))},e}(Ue),kHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.insertLineAfter",label:D("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2051,weight:100}})||this}return e.prototype.run=function(t,r){var i=r._getCursors();i&&(r.pushUndoStop(),r.executeCommands(this.id,cu.lineInsertAfter(i.context.config,r.getModel(),r.getSelections())))},e}(Ue),Die=function(n){fr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getSelection(),o=this._getRangesToDelete(r),s=[],a=0,u=o.length-1;a<u;a++){var l=o[a],c=o[a+1];H.intersectRanges(l,c)===null?s.push(l):o[a+1]=H.plusRange(l,c)}s.push(o[o.length-1]);var d=this._getEndCursorState(i,s),h=s.map(function(p){return Or.replace(p,"")});r.pushUndoStop(),r.executeEdits(this.id,h,d),r.pushUndoStop()}},e}(Ue),RHe=function(n){fr(e,n);function e(){return n.call(this,{id:"deleteAllLeft",label:D("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}return e.prototype._getEndCursorState=function(t,r){var i=null,o=[],s=0;return r.forEach(function(a){var u;if(a.endColumn===1&&s>0){var l=a.startLineNumber-s;u=new Re(l,a.startColumn,l,a.startColumn)}else u=new Re(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn);s+=a.endLineNumber-a.startLineNumber,a.intersectRanges(t)?i=u:o.push(u)}),i&&o.unshift(i),o},e.prototype._getRangesToDelete=function(t){var r=t.getSelections();if(r===null)return[];var i=r,o=t.getModel();return o===null?[]:(i.sort(H.compareRangesUsingStarts),i=i.map(function(s){if(s.isEmpty())if(s.startColumn===1){var a=Math.max(1,s.startLineNumber-1),u=s.startLineNumber===1?1:o.getLineContent(a).length+1;return new H(a,u,s.startLineNumber,1)}else return new H(s.startLineNumber,1,s.startLineNumber,s.startColumn);else return new H(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),i)},e}(Die),PHe=function(n){fr(e,n);function e(){return n.call(this,{id:"deleteAllRight",label:D("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}return e.prototype._getEndCursorState=function(t,r){for(var i=null,o=[],s=0,a=r.length,u=0;s<a;s++){var l=r[s],c=new Re(l.startLineNumber-u,l.startColumn,l.startLineNumber-u,l.startColumn);l.intersectRanges(t)?i=c:o.push(c)}return i&&o.unshift(i),o},e.prototype._getRangesToDelete=function(t){var r=t.getModel();if(r===null)return[];var i=t.getSelections();if(i===null)return[];var o=i.map(function(s){if(s.isEmpty()){var a=r.getLineMaxColumn(s.startLineNumber);return s.startColumn===a?new H(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new H(s.startLineNumber,s.startColumn,s.startLineNumber,a)}return s});return o.sort(H.compareRangesUsingStarts),o},e}(Die),MHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.joinLines",label:D("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return e.prototype.run=function(t,r){var i=r.getSelections();if(i!==null){var o=r.getSelection();if(o!==null){i.sort(H.compareRangesUsingStarts);var s=[],a=i.reduce(function($,ee){return $.isEmpty()?$.endLineNumber===ee.startLineNumber?(o.equalsSelection($)&&(o=ee),ee):ee.startLineNumber>$.endLineNumber+1?(s.push($),ee):new Re($.startLineNumber,$.startColumn,ee.endLineNumber,ee.endColumn):ee.startLineNumber>$.endLineNumber?(s.push($),ee):new Re($.startLineNumber,$.startColumn,ee.endLineNumber,ee.endColumn)});s.push(a);var u=r.getModel();if(u!==null){for(var l=[],c=[],d=o,h=0,p=0,v=s.length;p<v;p++){var m=s[p],_=m.startLineNumber,b=1,C=0,E=void 0,T=void 0,A=u.getLineContent(m.endLineNumber).length-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){var S=m.getStartPosition();S.lineNumber<u.getLineCount()?(E=_+1,T=u.getLineMaxColumn(E)):(E=S.lineNumber,T=u.getLineMaxColumn(S.lineNumber))}else E=m.endLineNumber,T=u.getLineMaxColumn(E);for(var N=u.getLineContent(_),k=_+1;k<=E;k++){var F=u.getLineContent(k),L=u.getLineFirstNonWhitespaceColumn(k);if(L>=1){var O=!0;N===""&&(O=!1),O&&(N.charAt(N.length-1)===" "||N.charAt(N.length-1)==="	")&&(O=!1,N=N.replace(/[\s\uFEFF\xA0]+$/g," "));var P=F.substr(L-1);N+=(O?" ":"")+P,O?C=P.length+1:C=P.length}else C=0}var B=new H(_,b,E,T);if(!B.isEmpty()){var U=void 0;m.isEmpty()?(l.push(Or.replace(B,N)),U=new Re(B.startLineNumber-h,N.length-C+1,_-h,N.length-C+1)):m.startLineNumber===m.endLineNumber?(l.push(Or.replace(B,N)),U=new Re(m.startLineNumber-h,m.startColumn,m.endLineNumber-h,m.endColumn)):(l.push(Or.replace(B,N)),U=new Re(m.startLineNumber-h,m.startColumn,m.startLineNumber-h,N.length-A)),H.intersectRanges(B,o)!==null?d=U:c.push(U)}h+=B.endLineNumber-B.startLineNumber}c.unshift(d),r.pushUndoStop(),r.executeEdits(this.id,l,c),r.pushUndoStop()}}}},e}(Ue),FHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.transpose",label:D("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:W.writable})||this}return e.prototype.run=function(t,r){var i=r.getSelections();if(i!==null){var o=r.getModel();if(o!==null){for(var s=[],a=0,u=i.length;a<u;a++){var l=i[a];if(l.isEmpty()){var c=l.getStartPosition(),d=o.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===o.getLineCount())continue;var h=new H(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p=o.getValueInRange(h).split("").reverse().join("");s.push(new Lr(new Re(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p))}else{var h=new H(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),p=o.getValueInRange(h).split("").reverse().join("");s.push(new WT(h,p,new Re(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}}r.pushUndoStop(),r.executeCommands(this.id,s),r.pushUndoStop()}}},e}(Ue),iB=function(n){fr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=r.getSelections();if(i!==null){var o=r.getModel();if(o!==null){for(var s=r.getConfiguration().wordSeparators,a=[],u=0,l=i.length;u<l;u++){var c=i[u];if(c.isEmpty()){var d=c.getStartPosition(),h=o.getWordAtPosition(d);if(!h)continue;var p=new H(d.lineNumber,h.startColumn,d.lineNumber,h.endColumn),v=o.getValueInRange(p);a.push(new WT(p,this._modifyText(v,s),new Re(d.lineNumber,d.column,d.lineNumber,d.column)))}else{var v=o.getValueInRange(c);a.push(new WT(c,this._modifyText(v,s),c))}}r.pushUndoStop(),r.executeCommands(this.id,a),r.pushUndoStop()}}},e}(Ue),BHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.transformToUppercase",label:D("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:W.writable})||this}return e.prototype._modifyText=function(t,r){return t.toLocaleUpperCase()},e}(iB),HHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.transformToLowercase",label:D("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:W.writable})||this}return e.prototype._modifyText=function(t,r){return t.toLocaleLowerCase()},e}(iB),VHe=function(n){fr(e,n);function e(){return n.call(this,{id:"editor.action.transformToTitlecase",label:D("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:W.writable})||this}return e.prototype._modifyText=function(t,r){for(var i=`\r
	 `+r,o=i.split(""),s="",a=!0,u=0;u<t.length;u++){var l=t[u];o.indexOf(l)>=0?(a=!0,s+=l):a?(a=!1,s+=l.toLocaleUpperCase()):s+=l.toLocaleLowerCase()}return s},e}(iB);pe(wHe);pe(EHe);pe(SHe);pe(THe);pe(DHe);pe(AHe);pe(IHe);pe(xHe);pe(LHe);pe(NHe);pe(OHe);pe(kHe);pe(RHe);pe(PHe);pe(MHe);pe(FHe);pe(BHe);pe(HHe);pe(VHe);var WHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UHe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},jHe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},qHe=void 0,zHe=function(){function n(e,t){this._link=e,this._provider=t}return n.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(n.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),n.prototype.resolve=function(e){var t=this;if(this._link.url)try{return typeof this._link.url=="string"?Promise.resolve(Ft.parse(this._link.url)):Promise.resolve(this._link.url)}catch{return Promise.reject(new Error("invalid"))}return typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(function(r){return t._link=r||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}):Promise.reject(new Error("missing"))},n}(),mG=function(n){WHe(e,n);function e(t){for(var r=n.call(this)||this,i=[],o=function(h,p){var v=h.links.map(function(m){return new zHe(m,p)});i=e._union(i,v),zA(p)&&s._register(p)},s=this,a=0,u=t;a<u.length;a++){var l=u[a],c=l[0],d=l[1];o(c,d)}return r.links=i,r}return e._union=function(t,r){var i=[],o,s,a,u;for(o=0,a=0,s=t.length,u=r.length;o<s&&a<u;){var l=t[o],c=r[a];if(H.areIntersectingOrTouching(l.range,c.range)){o++;continue}var d=H.compareRangesUsingStarts(l.range,c.range);d<0?(i.push(l),o++):(i.push(c),a++)}for(;o<s;o++)i.push(t[o]);for(;a<u;a++)i.push(r[a]);return i},e}(fe);function Aie(n,e){var t=[],r=Gb.ordered(n).reverse().map(function(i,o){return Promise.resolve(i.provideLinks(n,e)).then(function(s){s&&(t[o]=[s,i])},Eo)});return Promise.all(r).then(function(){var i=new mG(Wc(t));return e.isCancellationRequested?(i.dispose(),new mG([])):i})}Ri.registerCommand("_executeLinkProvider",function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return UHe(qHe,void 0,void 0,function(){var r,i,o,s;return jHe(this,function(a){switch(a.label){case 0:return r=e[0],r instanceof Ft?(i=n.get(is).getModel(r),i?[4,Aie(i,nn.None)]:[2,[]]):[2,[]];case 1:return o=a.sent(),o?(s=o.links.slice(0),o.dispose(),[2,s]):[2,[]]}})})});var GHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),f3=function(){return f3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},f3.apply(this,arguments)},$He=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_G=function(n,e){return function(t,r){e(t,r,n)}},KHe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},YHe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function XHe(n,e){var t=n.url&&/^command:/i.test(n.url.toString()),r=n.tooltip?n.tooltip:t?D("links.navigate.executeCmd","Execute command"):D("links.navigate.follow","Follow link"),i=e?Tt?D("links.navigate.kb.meta.mac","cmd + click"):D("links.navigate.kb.meta","ctrl + click"):Tt?D("links.navigate.kb.alt.mac","option + click"):D("links.navigate.kb.alt","alt + click");if(n.url){var o=new Fp().appendMarkdown("["+r+"]("+n.url.toString()+") ("+i+")");return o.isTrusted=!0,o}else return new Fp().appendText(r+" ("+i+")")}var yG={general:mt.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:mt.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},bG=function(){function n(e,t){this.link=e,this.decorationId=t}return n.decoration=function(e,t){return{range:e.range,options:n._getOptions(e,t,!1)}},n._getOptions=function(e,t,r){var i=f3({},r?yG.active:yG.general);return i.hoverMessage=XHe(e,t),i},n.prototype.activate=function(e,t){e.changeDecorationOptions(this.decorationId,n._getOptions(this.link,t,!0))},n.prototype.deactivate=function(e,t){e.changeDecorationOptions(this.decorationId,n._getOptions(this.link,t,!1))},n}(),Iie=function(){function n(e,t,r){var i=this;this.listenersToRemove=new Be,this.editor=e,this.openerService=t,this.notificationService=r;var o=new die(e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown(function(s){var a=s[0],u=s[1];i._onEditorMouseMove(a,u)})),this.listenersToRemove.add(o.onExecute(function(s){i.onEditorMouseUp(s)})),this.listenersToRemove.add(o.onCancel(function(s){i.cleanUpActiveLinkDecoration()})),this.enabled=e.getConfiguration().contribInfo.links,this.listenersToRemove.add(e.onDidChangeConfiguration(function(s){var a=e.getConfiguration().contribInfo.links;i.enabled!==a&&(i.enabled=a,i.updateDecorations([]),i.stop(),i.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(function(s){return i.onChange()})),this.listenersToRemove.add(e.onDidChangeModel(function(s){return i.onModelChanged()})),this.listenersToRemove.add(e.onDidChangeModelLanguage(function(s){return i.onModelModeChanged()})),this.listenersToRemove.add(Gb.onDidChange(function(s){return i.onModelModeChanged()})),this.timeout=new Ns,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},n.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},n.prototype.onChange=function(){var e=this;this.timeout.setIfNotSet(function(){return e.beginCompute()},n.RECOMPUTE_TIME)},n.prototype.beginCompute=function(){return KHe(this,void 0,void 0,function(){var e,t,r;return YHe(this,function(i){switch(i.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(e=this.editor.getModel(),!Gb.has(e))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Gr(function(o){return Aie(e,o)}),i.label=1;case 1:return i.trys.push([1,3,4,5]),t=this,[4,this.computePromise];case 2:return t.activeLinksList=i.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return r=i.sent(),He(r),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}})})},n.prototype.updateDecorations=function(e){for(var t=this.editor.getConfiguration().multiCursorModifier==="altKey",r=[],i=Object.keys(this.currentOccurrences),o=0,s=i.length;o<s;o++){var a=i[o],u=this.currentOccurrences[a];r.push(u.decorationId)}var l=[];if(e)for(var c=0,d=e;c<d.length;c++){var h=d[c];l.push(bG.decoration(h,t))}var p=this.editor.deltaDecorations(r,l);this.currentOccurrences={},this.activeLinkDecorationId=null;for(var o=0,s=p.length;o<s;o++){var u=new bG(e[o],p[o]);this.currentOccurrences[u.decorationId]=u}},n.prototype._onEditorMouseMove=function(e,t){var r=this,i=this.editor.getConfiguration().multiCursorModifier==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations(function(s){o.activate(s,i),r.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()},n.prototype.cleanUpActiveLinkDecoration=function(){var e=this.editor.getConfiguration().multiCursorModifier==="altKey";if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(function(r){t.deactivate(r,e)}),this.activeLinkDecorationId=null}},n.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier)}},n.prototype.openLinkOccurrence=function(e,t){var r=this;if(this.openerService){var i=e.link;i.resolve(nn.None).then(function(o){return r.openerService.open(o,{openToSide:t})},function(o){var s=o instanceof Error?o.message:o;s==="invalid"?r.notificationService.warn(D("invalid.url","Failed to open this link because it is not well-formed: {0}",i.url.toString())):s==="missing"?r.notificationService.warn(D("missing.url","Failed to open this link because its target is missing.")):He(o)})}},n.prototype.getLinkOccurrence=function(e){if(!this.editor.hasModel()||!e)return null;for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),r=0,i=t;r<i.length;r++){var o=i[r],s=this.currentOccurrences[o.id];if(s)return s}return null},n.prototype.isEnabled=function(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))},n.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},n.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},n.ID="editor.linkDetector",n.RECOMPUTE_TIME=1e3,n=$He([_G(1,bh),_G(2,gi)],n),n}(),QHe=function(n){GHe(e,n);function e(){return n.call(this,{id:"editor.action.openLink",label:D("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return e.prototype.run=function(t,r){var i=Iie.get(r);if(i&&r.hasModel())for(var o=r.getSelections(),s=0,a=o;s<a.length;s++){var u=a[s],l=i.getLinkOccurrence(u.getEndPosition());l&&i.openLinkOccurrence(l,!1)}},e}(Ue);Cn(Iie);pe(QHe);mn(function(n,e){var t=n.getColor(q6);t&&e.addRule(".monaco-editor .detected-link-active { color: "+t+" !important; }")});var Os=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZHe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.insertCursorAbove",label:D("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return e.prototype.run=function(t,r,i){if(r.hasModel()){var o=i&&i.logicalLine===!0,s=r._getCursors(),a=s.context;a.config.readOnly||(a.model.pushStackElement(),s.setStates(i.source,3,ei.addCursorUp(a,s.getAll(),o)),s.reveal(!0,1,0))}},e}(Ue),JHe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.insertCursorBelow",label:D("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return e.prototype.run=function(t,r,i){if(r.hasModel()){var o=i&&i.logicalLine===!0,s=r._getCursors(),a=s.context;a.config.readOnly||(a.model.pushStackElement(),s.setStates(i.source,3,ei.addCursorDown(a,s.getAll(),o)),s.reveal(!0,2,0))}},e}(Ue),eVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:D("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:1575,weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return e.prototype.getCursorsForSelection=function(t,r,i){if(!t.isEmpty()){for(var o=t.startLineNumber;o<t.endLineNumber;o++){var s=r.getLineMaxColumn(o);i.push(new Re(o,s,o,s))}t.endColumn>1&&i.push(new Re(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}},e.prototype.run=function(t,r){var i=this;if(r.hasModel()){var o=r.getModel(),s=r.getSelections(),a=[];s.forEach(function(u){return i.getCursorsForSelection(u,o,a)}),a.length>0&&r.setSelections(a)}},e}(Ue),tVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.addCursorsToBottom",label:D("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getSelections(),o=r.getModel().getLineCount(),s=[],a=i[0].startLineNumber;a<=o;a++)s.push(new Re(a,i[0].startColumn,a,i[0].endColumn));s.length>0&&r.setSelections(s)}},e}(Ue),nVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.addCursorsToTop",label:D("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getSelections(),o=[],s=i[0].startLineNumber;s>=1;s--)o.push(new Re(s,i[0].startColumn,s,i[0].endColumn));o.length>0&&r.setSelections(o)}},e}(Ue),zE=function(){function n(e,t,r){this.selections=e,this.revealRange=t,this.revealScrollType=r}return n}(),xie=function(){function n(e,t,r,i,o,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=r,this.searchText=i,this.wholeWord=o,this.matchCase=s,this.currentMatch=a}return n.create=function(e,t){if(!e.hasModel())return null;var r=t.getState();if(!e.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new n(e,t,!1,r.searchString,r.wholeWord,r.matchCase,null);var i=!1,o,s,a=e.getSelections();a.length===1&&a[0].isEmpty()?(i=!0,o=!0,s=!0):(o=r.wholeWord,s=r.matchCase);var u=e.getSelection(),l,c=null;if(u.isEmpty()){var d=e.getModel().getWordAtPosition(u.getStartPosition());if(!d)return null;l=d.word,c=new Re(u.startLineNumber,d.startColumn,u.startLineNumber,d.endColumn)}else l=e.getModel().getValueInRange(u).replace(/\r\n/g,`
`);return new n(e,t,i,l,o,s,c)},n.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new zE(t.concat(e),e,0)},n.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new zE(t.slice(0,t.length-1).concat(e),e,0)},n.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),r=t[t.length-1],i=this._editor.getModel().findNextMatch(this.searchText,r.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return i?new Re(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},n.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new zE(t.concat(e),e,0)},n.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new zE(t.slice(0,t.length-1).concat(e),e,0)},n.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),r=t[t.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,r.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return i?new Re(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},n.prototype.selectAll=function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824)):[]},n}(),oB=function(n){Os(e,n);function e(t){var r=n.call(this)||this;return r._sessionDispose=r._register(new Be),r._editor=t,r._ignoreSelectionChange=!1,r._session=null,r}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._endSession(),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype._beginSessionIfNeeded=function(t){var r=this;if(!this._session){var i=xie.create(this._editor,t);if(!i)return;this._session=i;var o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),t.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function(s){r._ignoreSelectionChange||r._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(function(){r._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(function(s){(s.matchCase||s.wholeWord)&&r._endSession()}))}},e.prototype._endSession=function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null},e.prototype._setSelections=function(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1},e.prototype._expandEmptyToWord=function(t,r){if(!r.isEmpty())return r;var i=t.getWordAtPosition(r.getStartPosition());return i?new Re(r.startLineNumber,i.startColumn,r.startLineNumber,i.endColumn):r},e.prototype._applySessionResult=function(t){t&&(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))},e.prototype.getSession=function(t){return this._session},e.prototype.addSelectionToNextFindMatch=function(t){if(this._editor.hasModel()){if(!this._session){var r=this._editor.getSelections();if(r.length>1){var i=t.getState(),o=i.matchCase,s=Lie(this._editor.getModel(),r,o);if(!s){for(var a=this._editor.getModel(),u=[],l=0,c=r.length;l<c;l++)u[l]=this._expandEmptyToWord(a,r[l]);this._editor.setSelections(u);return}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}},e.prototype.addSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},e.prototype.moveSelectionToNextFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},e.prototype.moveSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},e.prototype.selectAll=function(t){if(this._editor.hasModel()){var r=null,i=t.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)r=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824);else{if(this._beginSessionIfNeeded(t),!this._session)return;r=this._session.selectAll()}if(r.length>0){for(var o=this._editor.getSelection(),s=0,a=r.length;s<a;s++){var u=r[s],l=u.range.intersectRanges(o);if(l){r[s]=r[0],r[0]=u;break}}this._setSelections(r.map(function(c){return new Re(c.range.startLineNumber,c.range.startColumn,c.range.endLineNumber,c.range.endColumn)}))}}},e.ID="editor.contrib.multiCursorController",e}(fe),R_=function(n){Os(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=oB.get(r);if(i){var o=Al.get(r);o&&this._run(i,o)}},e}(Ue),rVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:D("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:2082,weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return e.prototype._run=function(t,r){t.addSelectionToNextFindMatch(r)},e}(R_),iVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:D("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return e.prototype._run=function(t,r){t.addSelectionToPreviousFindMatch(r)},e}(R_),oVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:D("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:So(2089,2082),weight:100}})||this}return e.prototype._run=function(t,r){t.moveSelectionToNextFindMatch(r)},e}(R_),sVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:D("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}return e.prototype._run=function(t,r){t.moveSelectionToPreviousFindMatch(r)},e}(R_),aVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.selectHighlights",label:D("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:3114,weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return e.prototype._run=function(t,r){t.selectAll(r)},e}(R_),uVe=function(n){Os(e,n);function e(){return n.call(this,{id:"editor.action.changeAll",label:D("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2108,weight:100},menuOpts:{group:"1_modification",order:1.2}})||this}return e.prototype._run=function(t,r){t.selectAll(r)},e}(R_),CG=function(){function n(e,t,r){this.searchText=e,this.matchCase=t,this.wordSeparators=r}return n.softEquals=function(e,t){return!e&&!t?!0:!e||!t?!1:e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators},n}(),lVe=function(n){Os(e,n);function e(t){var r=n.call(this)||this;return r.editor=t,r._isEnabled=t.getConfiguration().contribInfo.selectionHighlight,r.decorations=[],r.updateSoon=r._register(new Pr(function(){return r._update()},300)),r.state=null,r._register(t.onDidChangeConfiguration(function(i){r._isEnabled=t.getConfiguration().contribInfo.selectionHighlight})),r._register(t.onDidChangeCursorSelection(function(i){r._isEnabled&&(i.selection.isEmpty()?i.reason===3?(r.state&&r._setState(null),r.updateSoon.schedule()):r._setState(null):r._update())})),r._register(t.onDidChangeModel(function(i){r._setState(null)})),r._register(Al.get(t).getState().onFindReplaceStateChange(function(i){r._update()})),r}return e.prototype.getId=function(){return e.ID},e.prototype._update=function(){this._setState(e._createState(this._isEnabled,this.editor))},e._createState=function(t,r){if(!t||!r.hasModel())return null;var i=r.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;var o=oB.get(r);if(!o)return null;var s=Al.get(r);if(!s)return null;var a=o.getSession(s);if(!a){var u=r.getSelections();if(u.length>1){var l=s.getState(),c=l.matchCase,d=Lie(r.getModel(),u,c);if(!d)return null}a=xie.create(r,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;var h=s.getState(),p=h.matchCase;if(h.isRevealed){var v=h.searchString;p||(v=v.toLowerCase());var m=a.searchText;if(p||(m=m.toLowerCase()),v===m&&a.matchCase===h.matchCase&&a.wholeWord===h.wholeWord&&!h.isRegex)return null}return new CG(a.searchText,a.matchCase,a.wholeWord?r.getConfiguration().wordSeparators:null)},e.prototype._setState=function(t){if(CG.softEquals(this.state,t)){this.state=t;return}if(this.state=t,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(this.editor.hasModel()){var r=this.editor.getModel();if(!r.isTooLargeForTokenization()){var i=Tm.has(r),o=r.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(m){return m.range});o.sort(H.compareRangesUsingStarts);var s=this.editor.getSelections();s.sort(H.compareRangesUsingStarts);for(var a=[],u=0,l=0,c=o.length,d=s.length;u<c;){var h=o[u];if(l>=d)a.push(h),u++;else{var p=H.compareRangesUsingStarts(h,s[l]);p<0?((s[l].isEmpty()||!H.areIntersecting(h,s[l]))&&a.push(h),u++):(p>0||u++,l++)}}var v=a.map(function(m){return{range:m,options:i?e._SELECTION_HIGHLIGHT:e._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,v)}}},e.prototype.dispose=function(){this._setState(null),n.prototype.dispose.call(this)},e.ID="editor.contrib.selectionHighlighter",e._SELECTION_HIGHLIGHT_OVERVIEW=mt.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Xs(mte),position:ia.Center}}),e._SELECTION_HIGHLIGHT=mt.register({stickiness:1,className:"selectionHighlight"}),e}(fe);function Lie(n,e,t){for(var r=wG(n,e[0],!t),i=1,o=e.length;i<o;i++){var s=e[i];if(s.isEmpty())return!1;var a=wG(n,s,!t);if(r!==a)return!1}return!0}function wG(n,e,t){var r=n.getValueInRange(e);return t?r.toLowerCase():r}Cn(oB);Cn(lVe);pe(ZHe);pe(JHe);pe(eVe);pe(rVe);pe(iVe);pe(oVe);pe(sVe);pe(aVe);pe(uVe);pe(tVe);pe(nVe);var cVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},fVe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},hVe=void 0,Bp={Visible:new Ke("parameterHintsVisible",!1),MultipleSignatures:new Ke("parameterHintsMultipleSignatures",!1)};function Nie(n,e,t,r){var i=dp.ordered(n);return z4(i.map(function(o){return function(){return Promise.resolve(o.provideSignatureHelp(n,e,r,t)).catch(function(s){return Eo(s)})}}))}Lu("_executeSignatureHelpProvider",function(n,e,t){return cVe(hVe,void 0,void 0,function(){var r;return fVe(this,function(i){switch(i.label){case 0:return[4,Nie(n,e,{triggerKind:hp.Invoke,isRetrigger:!1,triggerCharacter:t.triggerCharacter},nn.None)];case 1:return r=i.sent(),r?(setTimeout(function(){return r.dispose()},0),[2,r.value]):[2,void 0]}})})});var dVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h3=function(){return h3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},h3.apply(this,arguments)},Df;(function(n){n.Default=new(function(){function r(){this.type=0}return r}());var e=function(){function r(i){this.request=i,this.type=2}return r}();n.Pending=e;var t=function(){function r(i){this.hints=i,this.type=1}return r}();n.Active=t})(Df||(Df={}));var pVe=function(n){dVe(e,n);function e(t,r){r===void 0&&(r=e.DEFAULT_DELAY);var i=n.call(this)||this;return i._onChangedHints=i._register(new Q),i.onChangedHints=i._onChangedHints.event,i.triggerOnType=!1,i._state=Df.Default,i._lastSignatureHelpResult=i._register(new Ih),i.triggerChars=new Ov,i.retriggerChars=new Ov,i.triggerId=0,i.editor=t,i.throttledDelayer=new w_(r),i._register(i.editor.onDidChangeConfiguration(function(){return i.onEditorConfigurationChange()})),i._register(i.editor.onDidChangeModel(function(o){return i.onModelChanged()})),i._register(i.editor.onDidChangeModelLanguage(function(o){return i.onModelChanged()})),i._register(i.editor.onDidChangeCursorSelection(function(o){return i.onCursorChange(o)})),i._register(i.editor.onDidChangeModelContent(function(o){return i.onModelContentChange()})),i._register(dp.onDidChange(i.onModelChanged,i)),i._register(i.editor.onDidType(function(o){return i.onDidType(o)})),i.onEditorConfigurationChange(),i.onModelChanged(),i}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state.type===2&&this._state.request.cancel(),this._state=t},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t){t===void 0&&(t=!1),this.state=Df.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)},e.prototype.trigger=function(t,r){var i=this,o=this.editor.getModel();if(!(!o||!dp.has(o))){var s=++this.triggerId;this.throttledDelayer.trigger(function(){return i.doTrigger({triggerKind:t.triggerKind,triggerCharacter:t.triggerCharacter,isRetrigger:i.state.type===1||i.state.type===2,activeSignatureHelp:i.state.type===1?i.state.hints:void 0},s)},r).then(void 0,He)}},e.prototype.next=function(){if(this.state.type===1){var t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,i=r%t===t-1,o=this.editor.getConfiguration().contribInfo.parameterHints.cycle;if((t<2||i)&&!o){this.cancel();return}this.updateActiveSignature(i&&o?0:r+1)}},e.prototype.previous=function(){if(this.state.type===1){var t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,i=r===0,o=this.editor.getConfiguration().contribInfo.parameterHints.cycle;if((t<2||i)&&!o){this.cancel();return}this.updateActiveSignature(i&&o?t-1:r-1)}},e.prototype.updateActiveSignature=function(t){this.state.type===1&&(this.state=new Df.Active(h3({},this.state.hints,{activeSignature:t})),this._onChangedHints.fire(this.state.hints))},e.prototype.doTrigger=function(t,r){var i=this;if(this.cancel(!0),!this.editor.hasModel())return Promise.resolve(!1);var o=this.editor.getModel(),s=this.editor.getPosition();return this.state=new Df.Pending(Gr(function(a){return Nie(o,s,t,a)})),this.state.request.then(function(a){return r!==i.triggerId?(a&&a.dispose(),!1):!a||!a.value.signatures||a.value.signatures.length===0?(a&&a.dispose(),i._lastSignatureHelpResult.clear(),i.cancel(),!1):(i.state=new Df.Active(a.value),i._lastSignatureHelpResult.value=a,i._onChangedHints.fire(i.state.hints),!0)}).catch(function(a){return r===i.triggerId&&(i.state=Df.Default),He(a),!1})},Object.defineProperty(e.prototype,"isTriggered",{get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),e.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new Ov,this.retriggerChars=new Ov;var t=this.editor.getModel();if(t)for(var r=0,i=dp.ordered(t);r<i.length;r++){for(var o=i[r],s=0,a=o.signatureHelpTriggerCharacters||[];s<a.length;s++){var u=a[s];this.triggerChars.add(u.charCodeAt(0)),this.retriggerChars.add(u.charCodeAt(0))}for(var l=0,c=o.signatureHelpRetriggerCharacters||[];l<c.length;l++){var u=c[l];this.retriggerChars.add(u.charCodeAt(0))}}},e.prototype.onDidType=function(t){if(this.triggerOnType){var r=t.length-1,i=t.charCodeAt(r);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:hp.TriggerCharacter,triggerCharacter:t.charAt(r)})}},e.prototype.onCursorChange=function(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:hp.ContentChange})},e.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:hp.ContentChange})},e.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getConfiguration().contribInfo.parameterHints.enabled,this.triggerOnType||this.cancel()},e.prototype.dispose=function(){this.cancel(!0),n.prototype.dispose.call(this)},e.DEFAULT_DELAY=120,e}(fe),gVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kk=function(n,e){return function(t,r){e(t,r,n)}},ds=Ve,mVe=function(n){gVe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.editor=t,s.renderDisposeables=s._register(new Be),s.model=s._register(new Ih),s.allowEditorOverflow=!0,s.markdownRenderer=s._register(new P2(t,o,i)),s.model.value=new pVe(t),s.keyVisible=Bp.Visible.bindTo(r),s.keyMultipleSignatures=Bp.MultipleSignatures.bindTo(r),s.visible=!1,s._register(s.model.value.onChangedHints(function(a){a?(s.show(),s.render(a)):s.hide()})),s}return e.prototype.createParamaterHintDOMNodes=function(){var t=this;this.element=ds(".editor-widget.parameter-hints-widget");var r=Ce(this.element,ds(".wrapper"));r.tabIndex=-1;var i=Ce(r,ds(".buttons")),o=Ce(i,ds(".button.previous")),s=Ce(i,ds(".button.next")),a=_j(Nt(o,"click"));this._register(a(this.previous,this));var u=_j(Nt(s,"click"));this._register(u(this.next,this)),this.overloads=Ce(r,ds(".overloads"));var l=ds(".body");this.scrollbar=new cC(l,{}),this._register(this.scrollbar),r.appendChild(this.scrollbar.getDomNode()),this.signature=Ce(l,ds(".signature")),this.docs=Ce(l,ds(".docs")),this.editor.addContentWidget(this),this.hide(),this.element.style.userSelect="text",this._register(this.editor.onDidChangeCursorSelection(function(d){t.visible&&t.editor.layoutContentWidget(t)}));var c=function(){var d=t.editor.getConfiguration().fontInfo;t.element.style.fontSize=d.fontSize+"px"};c(),this._register(Je.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(d){return d.fontInfo}).on(c,null)),this._register(this.editor.onDidLayoutChange(function(d){return t.updateMaxHeight()})),this.updateMaxHeight()},e.prototype.show=function(){var t=this;!this.model||this.visible||(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){return De(t.element,"visible")},100),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){!this.model||!this.visible||(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,ot(this.element,"visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},e.prototype.render=function(t){var r=t.signatures.length>1;kt(this.element,"multiple",r),this.keyMultipleSignatures.set(r),this.signature.innerHTML="",this.docs.innerHTML="";var i=t.signatures[t.activeSignature];if(i){var o=Ce(this.signature,ds(".code")),s=i.parameters.length>0,a=this.editor.getConfiguration().fontInfo;if(o.style.fontSize=a.fontSize+"px",o.style.fontFamily=a.fontFamily,s)this.renderParameters(o,i,t.activeParameter);else{var u=Ce(o,ds("span"));u.textContent=i.label}this.renderDisposeables.clear();var l=i.parameters[t.activeParameter];if(l&&l.documentation){var c=ds("span.documentation");if(typeof l.documentation=="string")c.textContent=l.documentation;else{var d=this.markdownRenderer.render(l.documentation);De(d.element,"markdown-docs"),this.renderDisposeables.add(d),c.appendChild(d.element)}Ce(this.docs,ds("p",{},c))}if(i.documentation!==void 0)if(typeof i.documentation=="string")Ce(this.docs,ds("p",{},i.documentation));else{var d=this.markdownRenderer.render(i.documentation);De(d.element,"markdown-docs"),this.renderDisposeables.add(d),Ce(this.docs,d.element)}var h=!1;l&&typeof l.documentation=="string"&&l.documentation.length>0&&(h=!0),l&&typeof l.documentation=="object"&&l.documentation.value.length>0&&(h=!0),typeof i.documentation=="string"&&i.documentation.length>0&&(h=!0),typeof i.documentation=="object"&&i.documentation.value.length>0&&(h=!0),kt(this.signature,"has-docs",h),kt(this.docs,"empty",!h);var p=String(t.activeSignature+1);if(t.signatures.length<10&&(p+="/"+t.signatures.length),this.overloads.textContent=p,l){var v=this.getParameterLabel(i,t.activeParameter);this.announcedLabel!==v&&(ji(D("hint","{0}, hint",v)),this.announcedLabel=v)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},e.prototype.renderParameters=function(t,r,i){var o=this.getParameterLabelOffsets(r,i),s=o[0],a=o[1],u=document.createElement("span");u.textContent=r.label.substring(0,s);var l=document.createElement("span");l.textContent=r.label.substring(s,a),l.className="parameter active";var c=document.createElement("span");c.textContent=r.label.substring(a),Ce(t,u,l,c)},e.prototype.getParameterLabel=function(t,r){var i=t.parameters[r];return typeof i.label=="string"?i.label:t.label.substring(i.label[0],i.label[1])},e.prototype.getParameterLabelOffsets=function(t,r){var i=t.parameters[r];if(i){if(Array.isArray(i.label))return i.label;var o=t.label.lastIndexOf(i.label);return o>=0?[o,o+i.label.length]:[0,0]}else return[0,0]},e.prototype.next=function(){this.model.value&&(this.editor.focus(),this.model.value.next())},e.prototype.previous=function(){this.model.value&&(this.editor.focus(),this.model.value.previous())},e.prototype.cancel=function(){this.model.value&&this.model.value.cancel()},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.trigger=function(t){this.model.value&&this.model.value.trigger(t,0)},e.prototype.updateMaxHeight=function(){var t=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=t+"px"},e.ID="editor.widget.parameterHintsWidget",e=vVe([kk(1,yt),kk(2,bh),kk(3,Oh)],e),e}(fe);mn(function(n,e){var t=n.getColor(j6);if(t){var r=n.type===Lm?2:1;e.addRule(".monaco-editor .parameter-hints-widget { border: "+r+"px solid "+t+"; }"),e.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+t.transparent(.5)+"; }"),e.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+t.transparent(.5)+"; }")}var i=n.getColor(Rp);i&&e.addRule(".monaco-editor .parameter-hints-widget { background-color: "+i+"; }");var o=n.getColor(u2);o&&e.addRule(".monaco-editor .parameter-hints-widget a { color: "+o+"; }");var s=n.getColor(O6);s&&e.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+s+"; }")});var Oie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_Ve=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yVe=function(n,e){return function(t,r){e(t,r,n)}},sB=function(n){Oie(e,n);function e(t,r){var i=n.call(this)||this;return i.editor=t,i.widget=i._register(r.createInstance(mVe,i.editor)),i}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.cancel=function(){this.widget.cancel()},e.prototype.previous=function(){this.widget.previous()},e.prototype.next=function(){this.widget.next()},e.prototype.trigger=function(t){this.widget.trigger(t)},e.ID="editor.controller.parameterHints",e=_Ve([yVe(1,cr)],e),e}(fe),bVe=function(n){Oie(e,n);function e(){return n.call(this,{id:"editor.action.triggerParameterHints",label:D("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:W.hasSignatureHelpProvider,kbOpts:{kbExpr:W.editorTextFocus,primary:3082,weight:100}})||this}return e.prototype.run=function(t,r){var i=sB.get(r);i&&i.trigger({triggerKind:hp.Invoke})},e}(Ue);Cn(sB);pe(bVe);var aB=175,uB=Do.bindToContribution(sB.get);ce(new uB({id:"closeParameterHints",precondition:Bp.Visible,handler:function(n){return n.cancel()},kbOpts:{weight:aB,kbExpr:W.focus,primary:9,secondary:[1033]}}));ce(new uB({id:"showPrevParameterHint",precondition:Le.and(Bp.Visible,Bp.MultipleSignatures),handler:function(n){return n.previous()},kbOpts:{weight:aB,kbExpr:W.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));ce(new uB({id:"showNextParameterHint",precondition:Le.and(Bp.Visible,Bp.MultipleSignatures),handler:function(n){return n.next()},kbOpts:{weight:aB,kbExpr:W.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var CVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},EVe=function(n,e){return function(t,r){e(t,r,n)}},lB={getMetaTitle:function(n){return n.references.length>1?D("meta.titleReference","  {0} references",n.references.length):""}},SVe=function(){function n(e,t){e instanceof Q5&&kc.inPeekEditor.bindTo(t)}return n.prototype.dispose=function(){},n.prototype.getId=function(){return n.ID},n.ID="editor.contrib.referenceController",n=wVe([EVe(1,yt)],n),n}(),TVe=function(n){CVe(e,n);function e(){return n.call(this,{id:"editor.action.referenceSearch.trigger",label:D("references.action.label","Peek References"),alias:"Peek References",precondition:Le.and(W.hasReferenceProvider,kc.notInPeekEditor,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:1094,weight:100},menuOpts:{group:"navigation",order:1.5}})||this}return e.prototype.run=function(t,r){var i=k_.get(r);if(i&&r.hasModel()){var o=r.getSelection(),s=r.getModel(),a=Gr(function(u){return cB(s,o.getStartPosition(),u).then(function(l){return new Mm(l)})});i.toggleWidget(o,a,lB)}},e}(Ue);Cn(SVe);pe(TVe);var DVe=function(n,e,t){if(!(e instanceof Ft))throw new Error("illegal argument, uri");if(!t)throw new Error("illegal argument, position");var r=n.get(Dn);return r.openCodeEditor({resource:e},r.getFocusedCodeEditor()).then(function(i){if(!(!Tl(i)||!i.hasModel())){var o=k_.get(i);if(o){var s=Gr(function(u){return cB(i.getModel(),J.lift(t),u).then(function(l){return new Mm(l)})}),a=new H(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(o.toggleWidget(a,s,lB))}}})},AVe=function(n,e,t,r){if(!(e instanceof Ft))throw new Error("illegal argument, uri expected");if(!r)throw new Error("missing references");var i=n.get(Dn);return i.openCodeEditor({resource:e},i.getFocusedCodeEditor()).then(function(o){if(Tl(o)){var s=k_.get(o);if(s)return s.toggleWidget(new H(t.lineNumber,t.column,t.lineNumber,t.column),Gr(function(a){return Promise.resolve(new Mm(r))}),lB)}})};Ri.registerCommand({id:"editor.action.findReferences",handler:DVe});Ri.registerCommand({id:"editor.action.showReferences",handler:AVe,description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:Ft},{name:"position",description:"The position at which to show",constraint:J.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}});function kie(n,e){P_(n,function(t){return t.closeWidget()})}function IVe(n,e){var t=n.get(N_),r=t.lastFocusedList&&t.lastFocusedList.getFocus();r instanceof Rm&&P_(n,function(i){return i.openReference(r,!0)})}function P_(n,e){var t=_8e(n);if(t){var r=k_.get(t);r&&e(r)}}pa.registerCommandAndKeybindingRule({id:"goToNextReference",weight:250,primary:62,when:wC,handler:function(n){P_(n,function(e){e.goToNextOrPreviousReference(!0)})}});pa.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:150,primary:62,when:kc.inPeekEditor,handler:function(n){P_(n,function(e){e.goToNextOrPreviousReference(!0)})}});pa.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:250,primary:1086,when:wC,handler:function(n){P_(n,function(e){e.goToNextOrPreviousReference(!1)})}});pa.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:150,primary:1086,when:kc.inPeekEditor,handler:function(n){P_(n,function(e){e.goToNextOrPreviousReference(!1)})}});pa.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Le.and(wC,Le.not("config.editor.stablePeek")),handler:kie});pa.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:-1,primary:9,secondary:[1033],when:Le.and(kc.inPeekEditor,Le.not("config.editor.stablePeek")),handler:kie});pa.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Le.and(wC,nie),handler:IVe});function cB(n,e,t){var r=DT.ordered(n).map(function(i){return Promise.resolve(i.provideReferences(n,e,{includeDeclaration:!0},t)).then(function(o){if(Array.isArray(o))return o},function(o){Eo(o)})});return Promise.all(r).then(function(i){return Pb(Wc(i))})}Lu("_executeReferenceProvider",function(n,e){return cB(n,e,nn.None)});var fB=new Ke("renameInputVisible",!1),xVe=function(){function n(e,t,r){var i=this;this.themeService=t,this._disposables=new Be,this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._visibleContextKey=fB.bindTo(r),this._editor=e,this._editor.addContentWidget(this),this._disposables.add(e.onDidChangeConfiguration(function(o){o.fontInfo&&i.updateFont()})),this._disposables.add(t.onThemeChange(function(o){return i.onThemeChange(o)}))}return n.prototype.onThemeChange=function(e){this.updateStyles(e)},n.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},n.prototype.getId=function(){return"__renameInputWidget"},n.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",D("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},n.prototype.updateStyles=function(e){if(this._inputField){var t=e.getColor(k6),r=e.getColor(R6),i=e.getColor(ig),o=e.getColor(P6);this._inputField.style.backgroundColor=t?t.toString():null,this._inputField.style.color=r?r.toString():null,this._inputField.style.borderWidth=o?"1px":"0px",this._inputField.style.borderStyle=o?"solid":"none",this._inputField.style.borderColor=o?o.toString():"none",this._domNode.style.boxShadow=i?" 0 2px 8px "+i:null}},n.prototype.updateFont=function(){if(this._inputField){var e=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=e.fontFamily,this._inputField.style.fontWeight=e.fontWeight,this._inputField.style.fontSize=e.fontSize+"px"}},n.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},n.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},n.prototype.cancelInput=function(e){this._currentCancelInput&&this._currentCancelInput(e)},n.prototype.getInput=function(e,t,r,i){var o=this;this._position=new J(e.startLineNumber,e.startColumn),this._inputField.value=t,this._inputField.setAttribute("selectionStart",r.toString()),this._inputField.setAttribute("selectionEnd",i.toString()),this._inputField.size=Math.max((e.endColumn-e.startColumn)*1.1,20);var s=new Be,a=function(){s.dispose(),o._hide()};return new Promise(function(u){o._currentCancelInput=function(c){return o._currentAcceptInput=null,o._currentCancelInput=null,u(c),!0},o._currentAcceptInput=function(){if(o._inputField.value.trim().length===0||o._inputField.value===t){o.cancelInput(!0);return}o._currentAcceptInput=null,o._currentCancelInput=null,u(o._inputField.value)};var l=function(){var c=o._editor.getPosition();(!c||!H.containsPosition(e,c))&&o.cancelInput(!0)};s.add(o._editor.onDidChangeCursorSelection(l)),s.add(o._editor.onDidBlurEditorWidget(function(){return o.cancelInput(!1)})),o._show()}).then(function(u){return a(),u},function(u){return a(),Promise.reject(u)})},n.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},100)},n.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},n}(),Rie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uy=function(n,e){return function(t,r){e(t,r,n)}},l1=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},c1=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Pie=function(){function n(e,t){this.model=e,this.position=t,this._providers=AT.ordered(e)}return n.prototype.hasProvider=function(){return this._providers.length>0},n.prototype.resolveRenameLocation=function(e){return l1(this,void 0,void 0,function(){var t,r,i;return c1(this,function(o){switch(o.label){case 0:return t=this._providers[0],t?t.resolveRenameLocation?[4,t.resolveRenameLocation(this.model,this.position,e)]:[3,2]:[2,void 0];case 1:r=o.sent(),o.label=2;case 2:return!r&&(i=this.model.getWordAtPosition(this.position),i)?[2,{range:new H(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word}]:[2,r]}})})},n.prototype.provideRenameEdits=function(e,t,r,i){return l1(this,void 0,void 0,function(){var o,s;return c1(this,function(a){switch(a.label){case 0:return o=this._providers[t],o?[4,o.provideRenameEdits(this.model,this.position,e,i)]:[2,{edits:[],rejectReason:r.join(`
`)}];case 1:if(s=a.sent(),s){if(s.rejectReason)return[2,this.provideRenameEdits(e,t+1,r.concat(s.rejectReason),i)]}else return[2,this.provideRenameEdits(e,t+1,r.concat(D("no result","No result.")),i)];return[2,s]}})})},n}();function NVe(n,e,t){return l1(this,void 0,void 0,function(){return c1(this,function(r){return[2,new Pie(n,e).provideRenameEdits(t,0,[],nn.None)]})})}var hB=function(n){Rie(e,n);function e(t,r,i,o,s,a){var u=n.call(this)||this;return u.editor=t,u._notificationService=r,u._bulkEditService=i,u._progressService=o,u._contextKeyService=s,u._themeService=a,u._renameOperationIdPool=1,u._register(u.editor.onDidChangeModel(function(){return u.onModelChanged()})),u._register(u.editor.onDidChangeModelLanguage(function(){return u.onModelChanged()})),u._register(u.editor.onDidChangeCursorSelection(function(){return u.onModelChanged()})),u}return e.get=function(t){return t.getContribution(e.ID)},Object.defineProperty(e.prototype,"renameInputField",{get:function(){return this._renameInputField||(this._renameInputField=this._register(new xVe(this.editor,this._themeService,this._contextKeyService))),this._renameInputField},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return e.ID},e.prototype.run=function(){return l1(this,void 0,void 0,function(){var t,r=this;return c1(this,function(i){return this._activeRename&&this._activeRename.operation.cancel(),t=this._renameOperationIdPool++,this._activeRename={id:t,operation:Gr(function(o){return r.doRename(o,t)})},[2,this._activeRename.operation]})})},e.prototype.doRename=function(t,r){return l1(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d,h=this;return c1(this,function(p){switch(p.label){case 0:if(!this.editor.hasModel())return[2,void 0];if(i=this.editor.getPosition(),o=new Pie(this.editor.getModel(),i),!o.hasProvider())return[2,void 0];p.label=1;case 1:return p.trys.push([1,3,,4]),a=o.resolveRenameLocation(t),this._progressService.showWhile(a,250),[4,a];case 2:return s=p.sent(),[3,4];case 3:return u=p.sent(),Cc.get(this.editor).showMessage(u||D("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i),[2,void 0];case 4:return s?s.rejectReason?(Cc.get(this.editor).showMessage(s.rejectReason,i),[2,void 0]):!this._activeRename||this._activeRename.id!==r?[2,void 0]:(l=this.editor.getSelection(),c=0,d=s.text.length,!H.isEmpty(l)&&!H.spansMultipleLines(l)&&H.containsRange(s.range,l)&&(c=Math.max(0,l.startColumn-s.range.startColumn),d=Math.min(s.range.endColumn,l.endColumn)-s.range.startColumn),[2,this.renameInputField.getInput(s.range,s.text,c,d).then(function(v){if(typeof v=="boolean"){v&&h.editor.focus();return}h.editor.focus();var m=new e5(h.editor,15),_=Promise.resolve(o.provideRenameEdits(v,0,[],t).then(function(b){if(h.editor.hasModel()){if(b.rejectReason){m.validate(h.editor)?Cc.get(h.editor).showMessage(b.rejectReason,h.editor.getPosition()):h._notificationService.info(b.rejectReason);return}return h._bulkEditService.apply(b,{editor:h.editor}).then(function(C){C.ariaSummary&&ji(D("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,v,C.ariaSummary))})}},function(b){return h._notificationService.error(D("rename.failed","Rename failed to execute.")),Promise.reject(b)}));return h._progressService.showWhile(_,250),_})]):[2,void 0]}})})},e.prototype.acceptRenameInput=function(){this._renameInputField&&this._renameInputField.acceptInput()},e.prototype.cancelRenameInput=function(){this._renameInputField&&this._renameInputField.cancelInput(!0)},e.prototype.onModelChanged=function(){this._activeRename&&(this._activeRename.operation.cancel(),this._activeRename=void 0)},e.ID="editor.contrib.renameController",e=LVe([uy(1,gi),uy(2,a5),uy(3,S2),uy(4,yt),uy(5,Yr)],e),e}(fe),OVe=function(n){Rie(e,n);function e(){return n.call(this,{id:"editor.action.rename",label:D("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Le.and(W.writable,W.hasRenameProvider),kbOpts:{kbExpr:W.editorTextFocus,primary:60,weight:100},menuOpts:{group:"1_modification",order:1.1}})||this}return e.prototype.runCommand=function(t,r){var i=this,o=t.get(Dn),s=Array.isArray(r)&&r||[void 0,void 0],a=s[0],u=s[1];return Ft.isUri(a)&&J.isIPosition(u)?o.openCodeEditor({resource:a},o.getActiveCodeEditor()).then(function(l){l&&(l.setPosition(u),l.invokeWithinContext(function(c){return i.reportTelemetry(c,l),i.run(c,l)}))},He):n.prototype.runCommand.call(this,t,r)},e.prototype.run=function(t,r){var i=hB.get(r);return i?i.run():Promise.resolve()},e}(Ue);Cn(hB);pe(OVe);var Mie=Do.bindToContribution(hB.get);ce(new Mie({id:"acceptRenameInput",precondition:fB,handler:function(n){return n.acceptRenameInput()},kbOpts:{weight:199,kbExpr:W.focus,primary:3}}));ce(new Mie({id:"cancelRenameInput",precondition:fB,handler:function(n){return n.cancelRenameInput()},kbOpts:{weight:199,kbExpr:W.focus,primary:9,secondary:[1033]}}));Lu("_executeDocumentRenameProvider",function(n,e,t){var r=t.newName;if(typeof r!="string")throw Rr("newName");return NVe(n,e,r)});var kVe=function(){function n(){}return n.prototype.provideSelectionRanges=function(e,t){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=[];r.push(a),this._addInWordRanges(a,e,s),this._addWordRanges(a,e,s),this._addWhitespaceLine(a,e,s),a.push({range:e.getFullModelRange()})}return r},n.prototype._addInWordRanges=function(e,t,r){var i=t.getWordAtPosition(r);if(i){for(var o=i.word,s=i.startColumn,a=r.column-s,u=a,l=a,c=0;u>=0;u--){var d=o.charCodeAt(u);if(d===95||d===45)break;if(fc(d)&&ou(c))break;c=d}for(u+=1;l<o.length;l++){var d=o.charCodeAt(l);if(ou(d)&&fc(c))break;if(d===95||d===45)break;c=d}u<l&&e.push({range:new H(r.lineNumber,s+u,r.lineNumber,s+l)})}},n.prototype._addWordRanges=function(e,t,r){var i=t.getWordAtPosition(r);i&&e.push({range:new H(r.lineNumber,i.startColumn,r.lineNumber,i.endColumn)})},n.prototype._addWhitespaceLine=function(e,t,r){t.getLineLength(r.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(r.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(r.lineNumber)===0&&e.push({range:new H(r.lineNumber,1,r.lineNumber,t.getLineMaxColumn(r.lineNumber))})},n}(),RVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},EG=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Fie=function(){function n(){}return n.prototype.provideSelectionRanges=function(e,t){return RVe(this,void 0,void 0,function(){var r,i,o,s,a;return EG(this,function(u){switch(u.label){case 0:r=[],i=function(l){var c,d;return EG(this,function(h){switch(h.label){case 0:return c=[],r.push(c),d=new Map,[4,new Promise(function(p){return n._bracketsRightYield(p,0,e,l,d)})];case 1:return h.sent(),[4,new Promise(function(p){return n._bracketsLeftYield(p,0,e,l,d,c)})];case 2:return h.sent(),[2]}})},o=0,s=t,u.label=1;case 1:return o<s.length?(a=s[o],[5,i(a)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2,r]}})})},n._bracketsRightYield=function(e,t,r,i,o){for(var s=new Map,a=Date.now();;){if(t>=n._maxRounds){e();break}if(!i){e();break}var u=r.findNextBracket(i);if(!u){e();break}var l=Date.now()-a;if(l>n._maxDuration){setTimeout(function(){return n._bracketsRightYield(e,t+1,r,i,o)});break}var c=u.close;if(u.isOpen){var d=s.has(c)?s.get(c):0;s.set(c,d+1)}else{var d=s.has(c)?s.get(c):0;if(d-=1,s.set(c,Math.max(0,d)),d<0){var h=o.get(c);h||(h=new Ac,o.set(c,h)),h.push(u.range)}}i=u.range.getEndPosition()}},n._bracketsLeftYield=function(e,t,r,i,o,s){for(var a=new Map,u=Date.now();;){if(t>=n._maxRounds&&o.size===0){e();break}if(!i){e();break}var l=r.findPrevBracket(i);if(!l){e();break}var c=Date.now()-u;if(c>n._maxDuration){setTimeout(function(){return n._bracketsLeftYield(e,t+1,r,i,o,s)});break}var d=l.close;if(l.isOpen){var h=a.has(d)?a.get(d):0;if(h-=1,a.set(d,Math.max(0,h)),h<0){var p=o.get(d);if(p){var v=p.shift();p.size===0&&o.delete(d);var m=H.fromPositions(l.range.getEndPosition(),v.getStartPosition()),_=H.fromPositions(l.range.getStartPosition(),v.getEndPosition());s.push({range:m}),s.push({range:_}),n._addBracketLeading(r,_,s)}}}else{var h=a.has(d)?a.get(d):0;a.set(d,h+1)}i=l.range.getStartPosition()}},n._addBracketLeading=function(e,t,r){if(t.startLineNumber!==t.endLineNumber){var i=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(i);o!==0&&o!==t.startColumn&&(r.push({range:H.fromPositions(new J(i,o),t.getEndPosition())}),r.push({range:H.fromPositions(new J(i,1),t.getEndPosition())}));var s=i-1;if(s>0){var a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(r.push({range:H.fromPositions(new J(s,a),t.getEndPosition())}),r.push({range:H.fromPositions(new J(s,1),t.getEndPosition())}))}}},n._maxDuration=30,n._maxRounds=2,n}(),dB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},MVe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},FVe=function(){function n(e,t){this.index=e,this.ranges=t}return n.prototype.mov=function(e){var t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;var r=new n(t,this.ranges);return r.ranges[t].equalsRange(this.ranges[this.index])?r.mov(e):r},n}(),Bie=function(){function n(e){this._ignoreSelection=!1,this._editor=e}return n.get=function(e){return e.getContribution(n._id)},n.prototype.dispose=function(){nt(this._selectionListener)},n.prototype.getId=function(){return n._id},n.prototype.run=function(e){var t=this;if(this._editor.hasModel()){var r=this._editor.getSelections(),i=this._editor.getModel();if(JA.has(i)){var o=Promise.resolve(void 0);return this._state||(o=Vie(i,r.map(function(s){return s.getPosition()}),nn.None).then(function(s){if(!(!ts(s)||s.length!==r.length)&&!(!t._editor.hasModel()||!Ah(t._editor.getSelections(),r,function(l,c){return l.equalsSelection(c)}))){for(var a=function(l){s[l]=s[l].filter(function(c){return c.containsPosition(r[l].getStartPosition())&&c.containsPosition(r[l].getEndPosition())}),s[l].unshift(r[l])},u=0;u<s.length;u++)a(u);t._state=s.map(function(l){return new FVe(0,l)}),nt(t._selectionListener),t._selectionListener=t._editor.onDidChangeCursorPosition(function(){t._ignoreSelection||(nt(t._selectionListener),t._state=void 0)})}})),o.then(function(){if(t._state){t._state=t._state.map(function(a){return a.mov(e)});var s=t._state.map(function(a){return Re.fromPositions(a.ranges[a.index].getStartPosition(),a.ranges[a.index].getEndPosition())});t._ignoreSelection=!0;try{t._editor.setSelections(s)}finally{t._ignoreSelection=!1}}})}}},n._id="editor.contrib.smartSelectController",n}(),Hie=function(n){dB(e,n);function e(t,r){var i=n.call(this,r)||this;return i._forward=t,i}return e.prototype.run=function(t,r){return PVe(this,void 0,void 0,function(){var i;return MVe(this,function(o){switch(o.label){case 0:return i=Bie.get(r),i?[4,i.run(this._forward)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e}(Ue),BVe=function(n){dB(e,n);function e(){return n.call(this,!0,{id:"editor.action.smartSelect.expand",label:D("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:1553,mac:{primary:3345},weight:100},menubarOpts:{menuId:22,group:"1_basic",title:D({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return e}(Hie);Ri.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var HVe=function(n){dB(e,n);function e(){return n.call(this,!1,{id:"editor.action.smartSelect.shrink",label:D("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:1551,mac:{primary:3343},weight:100},menubarOpts:{menuId:22,group:"1_basic",title:D({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return e}(Hie);Cn(Bie);pe(BVe);pe(HVe);JA.register("*",new kVe);function Vie(n,e,t){var r=JA.all(n);r.length===1&&r.unshift(new Fie);for(var i=[],o=[],s=0,a=r;s<a.length;s++){var u=a[s];i.push(Promise.resolve(u.provideSelectionRanges(n,e,t)).then(function(l){if(ts(l)&&l.length===e.length)for(var c=0;c<e.length;c++){o[c]||(o[c]=[]);for(var d=0,h=l[c];d<h.length;d++){var p=h[d];H.isIRange(p.range)&&H.containsPosition(p.range,e[c])&&o[c].push(H.lift(p.range))}}},Eo))}return Promise.all(i).then(function(){return o.map(function(l){if(l.length===0)return[];l.sort(function(A,S){return J.isBefore(A.getStartPosition(),S.getStartPosition())?1:J.isBefore(S.getStartPosition(),A.getStartPosition())||J.isBefore(A.getEndPosition(),S.getEndPosition())?-1:J.isBefore(S.getEndPosition(),A.getEndPosition())?1:0});for(var c=[],d,h=0,p=l;h<p.length;h++){var v=p[h];(!d||H.containsRange(v,d)&&!H.equalsRange(v,d))&&(c.push(v),d=v)}for(var m=[c[0]],_=1;_<c.length;_++){var b=c[_-1],C=c[_];if(C.startLineNumber!==b.startLineNumber||C.endLineNumber!==b.endLineNumber){var E=new H(b.startLineNumber,n.getLineFirstNonWhitespaceColumn(b.startLineNumber),b.endLineNumber,n.getLineLastNonWhitespaceColumn(b.endLineNumber));E.containsRange(b)&&!E.equalsRange(b)&&C.containsRange(E)&&!C.equalsRange(E)&&m.push(E);var T=new H(b.startLineNumber,1,b.endLineNumber,n.getLineMaxColumn(b.endLineNumber));T.containsRange(b)&&!T.equalsRange(E)&&C.containsRange(T)&&!C.equalsRange(T)&&m.push(T)}m.push(C)}return m})})}Lu("_executeSelectionRangeProvider",function(n,e,t){return Vie(n,t.positions,nn.None)});var VVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},WVe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},UVe=void 0,jn={Visible:new Ke("suggestWidgetVisible",!1),MultipleSuggestions:new Ke("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new Ke("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new Ke("acceptSuggestionOnEnter",!0)},jVe=function(){function n(e,t,r,i,o){this.position=e,this.completion=t,this.container=r,this.provider=i,this.score=_u.Default,this.distance=0,this.labelLow=t.label.toLowerCase(),this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase();var s=i.resolveCompletionItem;if(typeof s!="function")this.resolve=function(){return Promise.resolve()};else{var a;this.resolve=function(u){if(!a){var l=!1;a=Promise.resolve(s.call(i,o,e,t,u)).then(function(c){hTe(t,c),l=!0},function(c){eC(c)&&(a=void 0)}),u.onCancellationRequested(function(){l||(a=void 0)})}return a}}}return n}(),Wie=function(){function n(e,t,r){e===void 0&&(e=2),t===void 0&&(t=new Set),r===void 0&&(r=new Set),this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=r}return n.default=new n,n}(),RS;function qVe(){return RS}function Uie(n,e,t,r,i){t===void 0&&(t=Wie.default),r===void 0&&(r={triggerKind:0}),i===void 0&&(i=nn.None);var o=n.getWordUntilPosition(e),s=new H(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn);e=e.clone();var a=rl.orderedGroups(n);!t.kindFilter.has(25)&&RS&&a.unshift([RS]);var u=[],l=new Be,c=!1,d=a.map(function(p){return function(){return Promise.all(p.map(function(v){if(!(t.providerFilter.size>0&&!t.providerFilter.has(v)))return Promise.resolve(v.provideCompletionItems(n,e,r,i)).then(function(m){var _=u.length;if(m){for(var b=0,C=m.suggestions||[];b<C.length;b++){var E=C[b];t.kindFilter.has(E.kind)||(E.range||(E.range=s),u.push(new jVe(e,E,m,v,n)))}zA(m)&&l.add(m)}_!==u.length&&v!==RS&&(c=!0)},Eo)}))}}),h=z4(d,function(){return c||i.isCancellationRequested}).then(function(){return i.isCancellationRequested?(l.dispose(),Promise.reject(tC())):u.sort(jie(t.snippetSortOrder))});return h}function pB(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.completion.label<e.completion.label?-1:n.completion.label>e.completion.label?1:n.completion.kind-e.completion.kind}function zVe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===25)return-1;if(e.completion.kind===25)return 1}return pB(n,e)}function GVe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===25)return 1;if(e.completion.kind===25)return-1}return pB(n,e)}var M2=new Map;M2.set(0,zVe);M2.set(2,GVe);M2.set(1,pB);function jie(n){return M2.get(n)}Lu("_executeCompletionItemProvider",function(n,e,t){return VVe(UVe,void 0,void 0,function(){var r,i,o,s,a,u,l,c;return WVe(this,function(d){switch(d.label){case 0:return r={incomplete:!1,suggestions:[]},i=new Be,o=[],s=t.maxItemsToResolve||0,[4,Uie(n,e)];case 1:for(a=d.sent(),u=0,l=a;u<l.length;u++)c=l[u],o.length<s&&o.push(c.resolve(nn.None)),r.incomplete=r.incomplete||c.container.incomplete,r.suggestions.push(c.completion),zA(c.container)&&i.add(c.container);d.label=2;case 2:return d.trys.push([2,,4,5]),[4,Promise.all(o)];case 3:return d.sent(),[2,r];case 4:return setTimeout(function(){return i.dispose()},100),[7];case 5:return[2]}})})});var d3=new(function(){function n(){this.onlyOnceSuggestions=[]}return n.prototype.provideCompletionItems=function(){var e=this.onlyOnceSuggestions.slice(0),t={suggestions:e};return this.onlyOnceSuggestions.length=0,t},n}());rl.register("*",d3);function $Ve(n,e){setTimeout(function(){var t;(t=d3.onlyOnceSuggestions).push.apply(t,e),n.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(d3))},0)}var Ph=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hs,KVe=function(){function n(){this.value="",this.pos=0}return n.isDigitCharacter=function(e){return e>=48&&e<=57},n.isVariableCharacter=function(e){return e===95||e>=97&&e<=122||e>=65&&e<=90},n.prototype.text=function(e){this.value=e,this.pos=0},n.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},n.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var e=this.pos,t=0,r=this.value.charCodeAt(e),i;if(i=n._table[r],typeof i=="number")return this.pos+=1,{type:i,pos:e,len:1};if(n.isDigitCharacter(r)){i=8;do t+=1,r=this.value.charCodeAt(e+t);while(n.isDigitCharacter(r));return this.pos+=t,{type:i,pos:e,len:t}}if(n.isVariableCharacter(r)){i=9;do r=this.value.charCodeAt(e+ ++t);while(n.isVariableCharacter(r)||n.isDigitCharacter(r));return this.pos+=t,{type:i,pos:e,len:t}}i=10;do t+=1,r=this.value.charCodeAt(e+t);while(!isNaN(r)&&typeof n._table[r]>"u"&&!n.isDigitCharacter(r)&&!n.isVariableCharacter(r));return this.pos+=t,{type:i,pos:e,len:t}},n._table=(Hs={},Hs[36]=0,Hs[58]=1,Hs[44]=2,Hs[123]=3,Hs[125]=4,Hs[92]=5,Hs[47]=6,Hs[124]=7,Hs[43]=11,Hs[45]=12,Hs[63]=13,Hs),n}(),M_=function(){function n(){this._children=[]}return n.prototype.appendChild=function(e){return e instanceof Gs&&this._children[this._children.length-1]instanceof Gs?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},n.prototype.replace=function(e,t){var r=e.parent,i=r.children.indexOf(e),o=r.children.slice(0);o.splice.apply(o,[i,1].concat(t)),r._children=o,function s(a,u){for(var l=0,c=a;l<c.length;l++){var d=c[l];d.parent=u,s(d.children,d)}}(t,r)},Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"snippet",{get:function(){for(var e=this;;){if(!e)return;if(e instanceof zie)return e;e=e.parent}},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.children.reduce(function(e,t){return e+t.toString()},"")},n.prototype.len=function(){return 0},n}(),Gs=function(n){Ph(e,n);function e(t){var r=n.call(this)||this;return r.value=t,r}return e.prototype.toString=function(){return this.value},e.prototype.len=function(){return this.value.length},e.prototype.clone=function(){return new e(this.value)},e}(M_),qie=function(n){Ph(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(M_),Zu=function(n){Ph(e,n);function e(t){var r=n.call(this)||this;return r.index=t,r}return e.compareByIndex=function(t,r){return t.index===r.index?0:t.isFinalTabstop?1:r.isFinalTabstop||t.index<r.index?-1:t.index>r.index?1:0},Object.defineProperty(e.prototype,"isFinalTabstop",{get:function(){return this.index===0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this._children.length===1&&this._children[0]instanceof gB?this._children[0]:void 0},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(r){return r.clone()}),t},e}(qie),gB=function(n){Ph(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=[],t}return e.prototype.appendChild=function(t){return t instanceof Gs&&(t.parent=this,this.options.push(t)),this},e.prototype.toString=function(){return this.options[0].value},e.prototype.len=function(){return this.options[0].len()},e.prototype.clone=function(){var t=new e;return this.options.forEach(t.appendChild,t),t},e}(M_),YVe=function(n){Ph(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.regexp=new RegExp(""),t}return e.prototype.resolve=function(t){var r=this,i=!1,o=t.replace(this.regexp,function(){return i=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(function(s){return s instanceof nc&&!!s.elseValue})&&(o=this._replace([])),o},e.prototype._replace=function(t){for(var r="",i=0,o=this._children;i<o.length;i++){var s=o[i];if(s instanceof nc){var a=t[s.index]||"";a=s.resolve(a),r+=a}else r+=s.toString()}return r},e.prototype.toString=function(){return""},e.prototype.clone=function(){var t=new e;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(function(r){return r.clone()}),t},e}(M_),nc=function(n){Ph(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.index=t,s.shorthandName=r,s.ifValue=i,s.elseValue=o,s}return e.prototype.resolve=function(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":t&&typeof this.ifValue=="string"?this.ifValue:!t&&typeof this.elseValue=="string"?this.elseValue:t||""},e.prototype._toPascalCase=function(t){var r=t.match(/[a-z]+/gi);return r?r.map(function(i){return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}).join(""):t},e.prototype.clone=function(){var t=new e(this.index,this.shorthandName,this.ifValue,this.elseValue);return t},e}(M_),p3=function(n){Ph(e,n);function e(t){var r=n.call(this)||this;return r.name=t,r}return e.prototype.resolve=function(t){var r=t.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new Gs(r)],!0):!1},e.prototype.clone=function(){var t=new e(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(r){return r.clone()}),t},e}(qie);function SG(n,e){for(var t=n.slice();t.length>0;){var r=t.shift(),i=e(r);if(!i)break;t.unshift.apply(t,r.children)}}var zie=function(n){Ph(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var t=[],r;this.walk(function(i){return i instanceof Zu&&(t.push(i),r=!r||r.index<i.index?i:r),!0}),this._placeholders={all:t,last:r}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholders",{get:function(){var t=this.placeholderInfo.all;return t},enumerable:!0,configurable:!0}),e.prototype.offset=function(t){var r=0,i=!1;return this.walk(function(o){return o===t?(i=!0,!1):(r+=o.len(),!0)}),i?r:-1},e.prototype.fullLen=function(t){var r=0;return SG([t],function(i){return r+=i.len(),!0}),r},e.prototype.enclosingPlaceholders=function(t){for(var r=[],i=t.parent;i;)i instanceof Zu&&r.push(i),i=i.parent;return r},e.prototype.resolveVariables=function(t){var r=this;return this.walk(function(i){return i instanceof p3&&i.resolve(t)&&(r._placeholders=void 0),!0}),this},e.prototype.appendChild=function(t){return this._placeholders=void 0,n.prototype.appendChild.call(this,t)},e.prototype.replace=function(t,r){return this._placeholders=void 0,n.prototype.replace.call(this,t,r)},e.prototype.clone=function(){var t=new e;return this._children=this.children.map(function(r){return r.clone()}),t},e.prototype.walk=function(t){SG(this.children,t)},e}(M_),Gie=function(){function n(){this._scanner=new KVe,this._token={type:14,pos:0,len:0}}return n.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},n.prototype.parse=function(e,t,r){this._scanner.text(e),this._token=this._scanner.next();for(var i=new zie;this._parse(i););var o=new Map,s=[],a=0;i.walk(function(_){return _ instanceof Zu&&(a+=1,_.isFinalTabstop?o.set(0,void 0):!o.has(_.index)&&_.children.length>0?o.set(_.index,_.children):s.push(_)),!0});for(var u=0,l=s;u<l.length;u++){var c=l[u],d=o.get(c.index);if(d){var h=new Zu(c.index);h.transform=c.transform;for(var p=0,v=d;p<v.length;p++){var m=v[p];h.appendChild(m.clone())}i.replace(c,[h])}}return r||(r=a>0&&t),!o.has(0)&&r&&i.appendChild(new Zu(0)),i},n.prototype._accept=function(e,t){if(e===void 0||this._token.type===e){var r=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),r}return!1},n.prototype._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},n.prototype._until=function(e){if(this._token.type===14)return!1;for(var t="",r=this._token.pos,i={type:14,pos:0,len:0};this._token.type!==e||i.type===5;)if(this._token.type===e&&(t+=this._scanner.value.substring(r,i.pos),r=this._token.pos),i=this._token,this._token=this._scanner.next(),this._token.type===14)return!1;return t+=this._scanner.value.substring(r,this._token.pos),this._token=this._scanner.next(),t},n.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},n.prototype._parseEscaped=function(e){var t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Gs(t)),!0):!1},n.prototype._parseTabstopOrVariableName=function(e){var t,r=this._token,i=this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0));return i?(e.appendChild(/^\d+$/.test(t)?new Zu(Number(t)):new p3(t)),!0):this._backTo(r)},n.prototype._parseComplexPlaceholder=function(e){var t,r=this._token,i=this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0));if(!i)return this._backTo(r);var o=new Zu(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Gs("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7))for(var s=new gB;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(s),this._accept(4)))return e.appendChild(o),!0}return this._backTo(r),!1}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(r),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(r)},n.prototype._parseChoiceElement=function(e){for(var t=this._token,r=[];!(this._token.type===2||this._token.type===7);){var i=void 0;if((i=this._accept(5,!0))?i=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||i:i=this._accept(void 0,!0),!i)return this._backTo(t),!1;r.push(i)}return r.length===0?(this._backTo(t),!1):(e.appendChild(new Gs(r.join(""))),!0)},n.prototype._parseComplexVariable=function(e){var t,r=this._token,i=this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0));if(!i)return this._backTo(r);var o=new p3(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Gs("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(r),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(r)},n.prototype._parseTransform=function(e){for(var t=new YVe,r="",i="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,r+=o;continue}if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){var o=void 0;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new Gs(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(r,i)}catch{return!1}return e.transform=t,!0},n.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var r=!1;this._accept(3)&&(r=!0);var i=this._accept(8,!0);if(i)if(r){if(this._accept(4))return e.appendChild(new nc(Number(i))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new nc(Number(i))),!0;else return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new nc(Number(i),o)),!0)}else if(this._accept(11)){var s=this._until(4);if(s)return e.appendChild(new nc(Number(i),void 0,s,void 0)),!0}else if(this._accept(12)){var a=this._until(4);if(a)return e.appendChild(new nc(Number(i),void 0,void 0,a)),!0}else if(this._accept(13)){var s=this._until(1);if(s){var a=this._until(4);if(a)return e.appendChild(new nc(Number(i),void 0,s,a)),!0}}else{var a=this._until(4);if(a)return e.appendChild(new nc(Number(i),void 0,void 0,a)),!0}return this._backTo(t),!1},n.prototype._parseAnything=function(e){return this._token.type!==14?(e.appendChild(new Gs(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1},n}(),TG="code-workspace";function XVe(n){return n instanceof Ft}function QVe(n){if(n.configuration)return{configPath:n.configuration,id:n.id};if(n.folders.length===1)return n.folders[0].uri}var ZVe=function(){function n(e){this._delegates=e}return n.prototype.resolve=function(e){for(var t=0,r=this._delegates;t<r.length;t++){var i=r[t],o=i.resolve(e);if(o!==void 0)return o}},n}(),JVe=function(){function n(e,t){this._model=e,this._selection=t}return n.prototype.resolve=function(e){var t=e.name;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){var r=this._model.getValueInRange(this._selection)||void 0;if(r&&this._selection.startLineNumber!==this._selection.endLineNumber&&e.snippet){var i=this._model.getLineContent(this._selection.startLineNumber),o=In(i,0,this._selection.startColumn-1),s=o;e.snippet.walk(function(l){return l===e?!1:(l instanceof Gs&&(s=In(l.value.split(/\r\n|\r|\n/).pop())),!0)});var a=J4(s,o);r=r.replace(/(\r\n|\r|\n)(.*)/g,function(l,c,d){return""+c+s.substr(a)+d})}return r}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){var u=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return u&&u.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}},n}(),eWe=function(){function n(e,t){this._labelService=e,this._model=t}return n.prototype.resolve=function(e){var t=e.name;if(t==="TM_FILENAME")return Op(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){var r=Op(this._model.uri.fsPath),i=r.lastIndexOf(".");return i<=0?r:r.slice(0,i)}else{if(t==="TM_DIRECTORY"&&this._labelService)return o6(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(s6(this._model.uri));if(t==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri)}},n}(),tWe=function(){function n(e,t,r){this._clipboardText=e,this._selectionIdx=t,this._selectionCount=r}return n.prototype.resolve=function(e){if(e.name==="CLIPBOARD"&&this._clipboardText){var t=this._clipboardText.split(/\r\n|\n|\r/).filter(function(r){return!WJ(r)});return t.length===this._selectionCount?t[this._selectionIdx]:this._clipboardText}},n}(),nWe=function(){function n(e){this._model=e}return n.prototype.resolve=function(e){var t=e.name,r=this._model.getLanguageIdentifier(),i=Ot.getComments(r.id);if(i){if(t==="LINE_COMMENT")return i.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return i.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return i.blockCommentEndToken||void 0}},n}(),rWe=function(){function n(){}return n.prototype.resolve=function(e){var t=e.name;if(t==="CURRENT_YEAR")return String(new Date().getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return z0(new Date().getMonth().valueOf()+1,2);if(t==="CURRENT_DATE")return z0(new Date().getDate().valueOf(),2);if(t==="CURRENT_HOUR")return z0(new Date().getHours().valueOf(),2);if(t==="CURRENT_MINUTE")return z0(new Date().getMinutes().valueOf(),2);if(t==="CURRENT_SECOND")return z0(new Date().getSeconds().valueOf(),2);if(t==="CURRENT_DAY_NAME")return n.dayNames[new Date().getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return n.dayNamesShort[new Date().getDay()];if(t==="CURRENT_MONTH_NAME")return n.monthNames[new Date().getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return n.monthNamesShort[new Date().getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))},n.dayNames=[D("Sunday","Sunday"),D("Monday","Monday"),D("Tuesday","Tuesday"),D("Wednesday","Wednesday"),D("Thursday","Thursday"),D("Friday","Friday"),D("Saturday","Saturday")],n.dayNamesShort=[D("SundayShort","Sun"),D("MondayShort","Mon"),D("TuesdayShort","Tue"),D("WednesdayShort","Wed"),D("ThursdayShort","Thu"),D("FridayShort","Fri"),D("SaturdayShort","Sat")],n.monthNames=[D("January","January"),D("February","February"),D("March","March"),D("April","April"),D("May","May"),D("June","June"),D("July","July"),D("August","August"),D("September","September"),D("October","October"),D("November","November"),D("December","December")],n.monthNamesShort=[D("JanuaryShort","Jan"),D("FebruaryShort","Feb"),D("MarchShort","Mar"),D("AprilShort","Apr"),D("MayShort","May"),D("JuneShort","Jun"),D("JulyShort","Jul"),D("AugustShort","Aug"),D("SeptemberShort","Sep"),D("OctoberShort","Oct"),D("NovemberShort","Nov"),D("DecemberShort","Dec")],n}(),iWe=function(){function n(e){this._workspaceService=e}return n.prototype.resolve=function(e){if(!(e.name!=="WORKSPACE_NAME"||!this._workspaceService)){var t=QVe(this._workspaceService.getWorkspace());if(t){if(XVe(t))return Op(t.path);var r=Op(t.configPath.path);return xc(r,TG)&&(r=r.substr(0,r.length-TG.length-1)),r}}},n}();mn(function(n,e){function t(r){var i=n.getColor(r);return i?i.toString():"transparent"}e.addRule(".monaco-editor .snippet-placeholder { background-color: "+t(QNe)+"; outline-color: "+t(ZNe)+"; }"),e.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+t(JNe)+"; outline-color: "+t(eOe)+"; }")});var oWe=function(){function n(e,t,r){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=r,this._placeholderGroups=uj(t.placeholders,Zu.compareByIndex),this._placeholderGroupsIdx=-1}return n.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach(function(t){return e.push(t)}),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},n.prototype._initDecorations=function(){var e=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var t=this._editor.getModel();this._editor.changeDecorations(function(r){for(var i=0,o=e._snippet.placeholders;i<o.length;i++){var s=o[i],a=e._snippet.offset(s),u=e._snippet.fullLen(s),l=H.fromPositions(t.getPositionAt(e._offset+a),t.getPositionAt(e._offset+a+u)),c=s.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,d=r.addDecoration(l,c);e._placeholderDecorations.set(s,d)}})}},n.prototype.move=function(e){var t=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var r=[],i=0,o=this._placeholderGroups[this._placeholderGroupsIdx];i<o.length;i++){var s=o[i];if(s.transform){var a=this._placeholderDecorations.get(s),u=this._editor.getModel().getDecorationRange(a),l=this._editor.getModel().getValueInRange(u);r.push(Or.replaceMove(u,s.transform.resolve(l)))}}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}var c=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,c=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,c=!0);var d=this._editor.getModel().changeDecorations(function(h){for(var p=new Set,v=[],m=0,_=t._placeholderGroups[t._placeholderGroupsIdx];m<_.length;m++){var b=_[m],C=t._placeholderDecorations.get(b),E=t._editor.getModel().getDecorationRange(C);v.push(new Re(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn)),c=c&&t._hasPlaceholderBeenCollapsed(b),h.changeDecorationOptions(C,b.isFinalTabstop?n._decor.activeFinal:n._decor.active),p.add(b);for(var T=0,A=t._snippet.enclosingPlaceholders(b);T<A.length;T++){var S=A[T],N=t._placeholderDecorations.get(S);h.changeDecorationOptions(N,S.isFinalTabstop?n._decor.activeFinal:n._decor.active),p.add(S)}}return t._placeholderDecorations.forEach(function(k,F){p.has(F)||h.changeDecorationOptions(k,F.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive)}),v});return c?this.move(e):d},n.prototype._hasPlaceholderBeenCollapsed=function(e){for(var t=e;t;){if(t instanceof Zu){var r=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(r);if(i.isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1},Object.defineProperty(n.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),n.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,r=this._placeholderGroups;t<r.length;t++)for(var i=r[t],o=void 0,s=0,a=i;s<a.length;s++){var u=a[s];if(u.isFinalTabstop)break;o||(o=[],e.set(u.index,o));var l=this._placeholderDecorations.get(u),c=this._editor.getModel().getDecorationRange(l);if(!c){e.delete(u.index);break}o.push(c)}return e},Object.defineProperty(n.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),n.prototype.merge=function(e){var t=this,r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(i){for(var o=0,s=t._placeholderGroups[t._placeholderGroupsIdx];o<s.length;o++){var a=s[o],u=e.shift();console.assert(!u._placeholderDecorations);for(var l=u._snippet.placeholderInfo.last.index,c=0,d=u._snippet.placeholderInfo.all;c<d.length;c++){var h=d[c];h.isFinalTabstop?h.index=a.index+(l+1)/t._nestingLevel:h.index=a.index+h.index/t._nestingLevel}t._snippet.replace(a,u._snippet.children);var p=t._placeholderDecorations.get(a);i.removeDecoration(p),t._placeholderDecorations.delete(a);for(var v=0,m=u._snippet.placeholders;v<m.length;v++){var _=m[v],b=u._snippet.offset(_),C=u._snippet.fullLen(_),E=H.fromPositions(r.getPositionAt(u._offset+b),r.getPositionAt(u._offset+b+C)),T=i.addDecoration(E,n._decor.inactive);t._placeholderDecorations.set(_,T)}}t._placeholderGroups=uj(t._snippet.placeholders,Zu.compareByIndex)})},n._decor={active:mt.register({stickiness:0,className:"snippet-placeholder"}),inactive:mt.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:mt.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:mt.register({stickiness:1,className:"finish-snippet-placeholder"})},n}(),DG={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},sWe=function(){function n(e,t,r){r===void 0&&(r=DG),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=r}return n.adjustWhitespace=function(e,t,r){var i=e.getLineContent(t.lineNumber),o=In(i,0,t.column-1);r.walk(function(s){if(s instanceof Gs&&!(s.parent instanceof gB)){for(var a=s.value.split(/\r\n|\r|\n/),u=1;u<a.length;u++){var l=In(a[u]);a[u]=e.normalizeIndentation(o+l)+a[u].substr(l.length)}var c=a.join(e.getEOL());c!==s.value&&s.parent.replace(s,[new Gs(c)])}return!0})},n.adjustSelection=function(e,t,r,i){if(r!==0||i!==0){var o=t.positionLineNumber,s=t.positionColumn,a=s-r,u=s+i,l=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:u});t=Re.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t},n.createEditsAndSnippets=function(e,t,r,i,o,s,a){var u=[],l=[];if(!e.hasModel())return{edits:u,snippets:l};var c=e.getModel(),d=e.invokeWithinContext(function(U){return U.get(Eee,cp)}),h=e.invokeWithinContext(function(U){return new eWe(U.get(b2,cp),c)}),p=e.invokeWithinContext(function(U){return U.get(m2,cp)});a=a||p&&p.readTextSync();for(var v=0,m=c.getValueInRange(n.adjustSelection(c,e.getSelection(),r,0)),_=c.getValueInRange(n.adjustSelection(c,e.getSelection(),0,i)),b=c.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),C=e.getSelections().map(function(U,$){return{selection:U,idx:$}}).sort(function(U,$){return H.compareRangesUsingStarts(U.selection,$.selection)}),E=0,T=C;E<T.length;E++){var A=T[E],S=A.selection,N=A.idx,k=n.adjustSelection(c,S,r,0),F=n.adjustSelection(c,S,0,i);m!==c.getValueInRange(k)&&(k=S),_!==c.getValueInRange(F)&&(F=S);var L=S.setStartPosition(k.startLineNumber,k.startColumn).setEndPosition(F.endLineNumber,F.endColumn),O=new Gie().parse(t,!0,o),P=L.getStartPosition();(s||N>0&&b!==c.getLineFirstNonWhitespaceColumn(S.positionLineNumber))&&n.adjustWhitespace(c,P,O),O.resolveVariables(new ZVe([h,new tWe(a,N,C.length),new JVe(c,S),new nWe(c),new rWe,new iWe(d)]));var B=c.getOffsetAt(P)+v;v+=O.toString().length-c.getValueLengthInRange(L),u[N]=Or.replace(L,O.toString()),l[N]=new oWe(e,O,B)}return{edits:u,snippets:l}},n.prototype.dispose=function(){nt(this._snippets)},n.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},n.prototype.insert=function(){var e=this;if(this._editor.hasModel()){var t=n.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),r=t.edits,i=t.snippets;this._snippets=i,this._editor.executeEdits("snippet",r,function(o){return e._snippets[0].hasPlaceholder?e._move(!0):o.map(function(s){return Re.fromPositions(s.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])}},n.prototype.merge=function(e,t){var r=this;if(t===void 0&&(t=DG),!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);var i=n.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText),o=i.edits,s=i.snippets;this._editor.executeEdits("snippet",o,function(a){for(var u=0,l=r._snippets;u<l.length;u++){var c=l[u];c.merge(s)}return console.assert(s.length===0),r._snippets[0].hasPlaceholder?r._move(void 0):a.map(function(d){return Re.fromPositions(d.range.getEndPosition())})})}},n.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},n.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},n.prototype._move=function(e){for(var t=[],r=0,i=this._snippets;r<i.length;r++){var o=i[r],s=o.move(e);t.push.apply(t,s)}return t},Object.defineProperty(n.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),n.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=new Map,r=function(u){var l=u.computePossibleSelections();if(t.size===0&&l.forEach(function(c,d){c.sort(H.compareRangesUsingStarts);for(var h=0,p=e;h<p.length;h++){var v=p[h];if(c[0].containsRange(v)){t.set(d,[]);break}}}),t.size===0)return{value:!1};t.forEach(function(c,d){c.push.apply(c,l.get(d))})},i=0,o=this._snippets;i<o.length;i++){var s=o[i],a=r(s);if(typeof a=="object")return a.value}return e.sort(H.compareRangesUsingStarts),t.forEach(function(u,l){if(u.length!==e.length){t.delete(l);return}u.sort(H.compareRangesUsingStarts);for(var c=0;c<u.length;c++)if(!u[c].containsRange(e[c])){t.delete(l);return}}),t.size>0},n}(),g3=function(){return g3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},g3.apply(this,arguments)},aWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},AG=function(n,e){return function(t,r){e(t,r,n)}},IG={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},ha=function(){function n(e,t,r){this._editor=e,this._logService=t,this._snippetListener=new Be,this._modelVersionId=-1,this._inSnippet=n.InSnippetMode.bindTo(r),this._hasNextTabstop=n.HasNextTabstop.bindTo(r),this._hasPrevTabstop=n.HasPrevTabstop.bindTo(r)}return n.get=function(e){return e.getContribution("snippetController2")},n.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),nt(this._session),this._snippetListener.dispose()},n.prototype.getId=function(){return"snippetController2"},n.prototype.insert=function(e,t){try{this._doInsert(e,typeof t>"u"?IG:g3({},IG,t))}catch(r){this.cancel(),this._logService.error(r),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},n.prototype._doInsert=function(e,t){var r=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new sWe(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(function(i){return i.isFlush&&r.cancel()})),this._snippetListener.add(this._editor.onDidChangeModel(function(){return r.cancel()})),this._snippetListener.add(this._editor.onDidChangeCursorSelection(function(){return r._updateState()})))},n.prototype._updateState=function(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},n.prototype._handleChoice=function(){var e=this;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}var t=this._session.choice;if(!t){this._currentChoice=void 0;return}if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map(function(i){return Re.fromPositions(i.getStartPosition())}));var r=t.options[0];$Ve(this._editor,t.options.map(function(i,o){return{kind:13,label:i.value,insertText:i.value,sortText:$De("a",o+1),range:H.fromPositions(e._editor.getPosition(),e._editor.getPosition().delta(0,r.value.length))}}))}},n.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},n.prototype.cancel=function(e){e===void 0&&(e=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),nt(this._session),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])},n.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},n.prototype.next=function(){this._session&&this._session.next(),this._updateState()},n.prototype.isInSnippet=function(){return!!this._inSnippet.get()},n.InSnippetMode=new Ke("inSnippetMode",!1),n.HasNextTabstop=new Ke("hasNextTabstop",!1),n.HasPrevTabstop=new Ke("hasPrevTabstop",!1),n=aWe([AG(1,m6),AG(2,yt)],n),n}();Cn(ha);var F2=Do.bindToContribution(ha.get);ce(new F2({id:"jumpToNextSnippetPlaceholder",precondition:Le.and(ha.InSnippetMode,ha.HasNextTabstop),handler:function(n){return n.next()},kbOpts:{weight:130,kbExpr:W.editorTextFocus,primary:2}}));ce(new F2({id:"jumpToPrevSnippetPlaceholder",precondition:Le.and(ha.InSnippetMode,ha.HasPrevTabstop),handler:function(n){return n.prev()},kbOpts:{weight:130,kbExpr:W.editorTextFocus,primary:1026}}));ce(new F2({id:"leaveSnippet",precondition:ha.InSnippetMode,handler:function(n){return n.cancel(!0)},kbOpts:{weight:130,kbExpr:W.editorTextFocus,primary:9,secondary:[1033]}}));ce(new F2({id:"acceptSnippet",precondition:ha.InSnippetMode,handler:function(n){return n.finish()}}));var B2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xG=function(n,e){return function(t,r){e(t,r,n)}},vB=function(){function n(){}return n.prototype.select=function(e,t,r){if(r.length===0)return 0;for(var i=r[0].score[0],o=1;o<r.length;o++){var s=r[o],a=s.score,u=s.completion;if(a[0]!==i)break;if(u.preselect)return o}return 0},n}(),lWe=function(n){B2(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.memorize=function(t,r,i){},e.prototype.toJSON=function(){},e.prototype.fromJSON=function(){},e}(vB),cWe=function(n){B2(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._cache=new Sm(300,.66),t._seq=0,t}return e.prototype.memorize=function(t,r,i){var o=i.completion.label,s=t.getLanguageIdentifier().language+"/"+o;this._cache.set(s,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})},e.prototype.select=function(t,r,i){if(i.length===0)return 0;var o=t.getLineContent(r.lineNumber).substr(r.column-10,r.column-1);if(/\s$/.test(o))return n.prototype.select.call(this,t,r,i);for(var s=i[0].score[0],a=-1,u=-1,l=-1,c=0;c<i.length&&i[c].score[0]===s;c++){var d=t.getLanguageIdentifier().language+"/"+i[c].completion.label,h=this._cache.peek(d);if(h&&h.touch>l&&h.type===i[c].completion.kind&&h.insertText===i[c].completion.insertText&&(l=h.touch,u=c),i[c].completion.preselect&&a===-1)return a=c}return u!==-1?u:a!==-1?a:0},e.prototype.toJSON=function(){var t=[];return this._cache.forEach(function(r,i){t.push([i,r])}),t},e.prototype.fromJSON=function(t){this._cache.clear();for(var r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=s[0],u=s[1];u.touch=r,u.type=typeof u.type=="number"?u.type:h6(u.type),this._cache.set(a,u)}this._seq=this._cache.size},e}(vB),fWe=function(n){B2(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._trie=dM.forStrings(),t._seq=0,t}return e.prototype.memorize=function(t,r,i){var o=t.getWordUntilPosition(r).word,s=t.getLanguageIdentifier().language+"/"+o;this._trie.set(s,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})},e.prototype.select=function(t,r,i){var o=t.getWordUntilPosition(r).word;if(!o)return n.prototype.select.call(this,t,r,i);var s=t.getLanguageIdentifier().language+"/"+o,a=this._trie.get(s);if(a||(a=this._trie.findSubstr(s)),a)for(var u=0;u<i.length;u++){var l=i[u].completion,c=l.kind,d=l.insertText;if(c===a.type&&d===a.insertText)return u}return n.prototype.select.call(this,t,r,i)},e.prototype.toJSON=function(){var t=[];return this._trie.forEach(function(r,i){return t.push([i,r])}),t.sort(function(r,i){return-(r[1].touch-i[1].touch)}).forEach(function(r,i){return r[1].touch=i}),t.slice(0,200)},e.prototype.fromJSON=function(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(var r=0,i=t;r<i.length;r++){var o=i[r],s=o[0],a=o[1];a.type=typeof a.type=="number"?a.type:h6(a.type),this._trie.set(s,a)}}},e}(vB),hWe=function(n){B2(e,n);function e(t,r){var i=n.call(this)||this;i._storageService=t,i._configService=r,i._storagePrefix="suggest/memories";var o=function(){var s=i._configService.getValue("editor.suggestSelection"),a=i._configService.getValue("editor.suggest.shareSuggestSelections");i._update(s,a,!1)};return i._persistSoon=i._register(new Pr(function(){return i._saveState()},500)),i._register(t.onWillSaveState(function(s){s.reason===cD.SHUTDOWN&&i._saveState()})),i._register(i._configService.onDidChangeConfiguration(function(s){(s.affectsConfiguration("editor.suggestSelection")||s.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&o()})),i._register(i._storageService.onDidChangeStorage(function(s){s.scope===0&&s.key.indexOf(i._storagePrefix)===0&&(document.hasFocus()||i._update(i._mode,i._shareMem,!0))})),o(),i}return e.prototype._update=function(t,r,i){if(!(!i&&this._mode===t&&this._shareMem===r)){this._shareMem=r,this._mode=t,this._strategy=t==="recentlyUsedByPrefix"?new fWe:t==="recentlyUsed"?new cWe:new lWe;try{var o=r?0:1,s=this._storageService.get(this._storagePrefix+"/"+this._mode,o);s&&this._strategy.fromJSON(JSON.parse(s))}catch{}}},e.prototype.memorize=function(t,r,i){this._strategy.memorize(t,r,i),this._persistSoon.schedule()},e.prototype.select=function(t,r,i){return this._strategy.select(t,r,i)},e.prototype._saveState=function(){var t=JSON.stringify(this._strategy),r=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,t,r)},e=uWe([xG(0,kh),xG(1,pi)],e),e}(fe),$ie=qt("ISuggestMemories");dC($ie,hWe,!0);var dWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pWe=function(n,e){return function(t,r){e(t,r,n)}},H2=function(){function n(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=n.OtherSuggestions.bindTo(t)}return n.prototype.dispose=function(){this.reset()},n.prototype.reset=function(){this._ckOtherSuggestions.reset(),nt(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},n.prototype.set=function(e,t){var r=this,i=e.model,o=e.index;if(i.items.length===0){this.reset();return}var s=n._moveIndex(!0,i,o);if(s===o){this.reset();return}this._acceptNext=t,this._model=i,this._index=o,this._listener=this._editor.onDidChangeCursorPosition(function(){r._ignore||r.reset()}),this._ckOtherSuggestions.set(!0)},n._moveIndex=function(e,t,r){for(var i=r;i=(i+t.items.length+(e?1:-1))%t.items.length,!(i===r||!t.items[i].completion.additionalTextEdits););return i},n.prototype.next=function(){this._move(!0)},n.prototype.prev=function(){this._move(!1)},n.prototype._move=function(e){if(this._model)try{this._ignore=!0,this._index=n._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},n.OtherSuggestions=new Ke("hasOtherSuggestions",!1),n=dWe([pWe(1,yt)],n),n}(),gWe=function(){function n(e,t,r,i,o){o===void 0&&(o=Rl.contribInfo.suggest),this._snippetCompareFn=n._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=i,this._options=o,this._refilterKind=1,this._lineContext=r,o.snippets==="top"?this._snippetCompareFn=n._compareCompletionItemsSnippetsUp:o.snippets==="bottom"&&(this._snippetCompareFn=n._compareCompletionItemsSnippetsDown)}return Object.defineProperty(n.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),n.prototype.adopt=function(e){for(var t=new Array,r=0;r<this._items.length;)e.has(this._items[r].provider)?r++:(t.push(this._items[r]),this._items[r]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t},Object.defineProperty(n.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),n.prototype._ensureCachedState=function(){this._refilterKind!==0&&this._createCachedState()},n.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,r=e.characterCountDelta,i="",o="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],u=!this._options.filterGraceful||s.length>2e3?n1:s3e,l=0;l<s.length;l++){var c=s[l];c.container.incomplete&&this._isIncomplete.add(c.provider);var d=c.position.column-c.completion.range.startColumn,h=d+r-(c.position.column-this._column);if(i.length!==h&&(i=h===0?"":t.slice(-h),o=i.toLowerCase()),c.word=i,h===0)c.score=_u.Default;else{for(var p=0;p<d;){var v=i.charCodeAt(p);if(v===32||v===9)p+=1;else break}if(p>=h)c.score=_u.Default;else if(typeof c.completion.filterText=="string"){var m=u(i,o,p,c.completion.filterText,c.filterTextLow,0,!1);if(!m)continue;HDe(c.completion.filterText,c.completion.label)===0?c.score=m:(c.score=n3e(i,o,p,c.completion.label,c.labelLow,0),c.score[0]=m[0])}else{var m=u(i,o,p,c.completion.label,c.labelLow,0,!1);if(!m)continue;c.score=m}}switch(c.idx=l,c.distance=this._wordDistance.distance(c.position,c.completion),a.push(c),this._stats.suggestionCount++,c.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++;break}}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0},n._compareCompletionItems=function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},n._compareCompletionItemsSnippetsDown=function(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===25)return 1;if(t.completion.kind===25)return-1}return n._compareCompletionItems(e,t)},n._compareCompletionItemsSnippetsUp=function(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===25)return-1;if(t.completion.kind===25)return 1}return n._compareCompletionItems(e,t)},n}(),LG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vWe=function(){function n(){}return n.create=function(e,t){if(!t.getConfiguration().contribInfo.suggest.localityBonus||!t.hasModel())return Promise.resolve(n.None);var r=t.getModel(),i=t.getPosition();return e.canComputeWordRanges(r.uri)?new Fie().provideSelectionRanges(r,[i]).then(function(o){return!o||o.length===0||o[0].length===0?n.None:e.computeWordRanges(r.uri,o[0][0].range).then(function(s){return new(function(a){LG(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.prototype.distance=function(l,c){if(!s||!i.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;var d=c.label,h=s[d];if(B4(h))return 2<<20;for(var p=UA(h,H.fromPositions(l),H.compareRangesUsingStarts),v=p>=0?h[p]:h[Math.max(0,~p-1)],m=o.length,_=0,b=o[0];_<b.length;_++){var C=b[_];if(!H.containsRange(C.range,v))break;m-=1}return m},u}(n))})}):Promise.resolve(n.None)},n.None=new(function(e){LG(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.distance=function(){return 0},t}(n)),n}(),ly=function(){function n(e,t,r,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=r,this.shy=i}return n.shouldAutoTrigger=function(e){if(!e.hasModel())return!1;var t=e.getModel(),r=e.getPosition();t.tokenizeIfCheap(r.lineNumber);var i=t.getWordAtPosition(r);return!(!i||i.endColumn!==r.column||!isNaN(Number(i.word)))},n}(),mWe=function(){function n(e,t){var r=this;this._editor=e,this._editorWorker=t,this._toDispose=new Be,this._quickSuggestDelay=10,this._triggerQuickSuggest=new Ns,this._state=0,this._completionDisposables=new Be,this._onDidCancel=new Q,this._onDidTrigger=new Q,this._onDidSuggest=new Q,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new Re(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(function(){r._updateTriggerCharacters(),r.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(function(){r._updateTriggerCharacters(),r.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(function(){r._updateTriggerCharacters(),r._updateQuickSuggest()})),this._toDispose.add(rl.onDidChange(function(){r._updateTriggerCharacters(),r._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(function(o){r._onCursorChange(o)}));var i=!1;this._toDispose.add(this._editor.onCompositionStart(function(){i=!0})),this._toDispose.add(this._editor.onCompositionEnd(function(){i=!1,r._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(function(){i||r._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}return n.prototype.dispose=function(){nt(this._triggerCharacterListener),nt([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},n.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},n.prototype._updateTriggerCharacters=function(){var e=this;if(nt(this._triggerCharacterListener),!(this._editor.getConfiguration().readOnly||!this._editor.hasModel()||!this._editor.getConfiguration().contribInfo.suggestOnTriggerCharacters)){for(var t=Object.create(null),r=0,i=rl.all(this._editor.getModel());r<i.length;r++)for(var o=i[r],s=0,a=o.triggerCharacters||[];s<a.length;s++){var u=a[s],l=t[u];l||(l=t[u]=new Set,l.add(qVe())),l.add(o)}this._triggerCharacterListener=this._editor.onDidType(function(c){var d=c.charAt(c.length-1),h=t[d];if(h){var p=e._completionModel?e._completionModel.adopt(h):void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:d},!!e._completionModel,h,p)}})}},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),n.prototype.cancel=function(e){e===void 0&&(e=!1),this._state!==0&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))},n.prototype.clear=function(){this._completionDisposables.clear()},n.prototype._updateActiveSuggestSession=function(){this._state!==0&&(!this._editor.hasModel()||!rl.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))},n.prototype._onCursorChange=function(e){var t=this;if(this._editor.hasModel()){var r=this._editor.getModel(),i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0||e.source!=="keyboard"&&e.source!=="deleteLeft"){this._state!==0&&this.cancel();return}if(rl.has(r)&&this._state===0){if(this._editor.getConfiguration().contribInfo.quickSuggestions===!1||!i.containsRange(this._currentSelection)&&!i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getConfiguration().contribInfo.suggest.snippetsPreventQuickSuggestions&&ha.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(t._state===0&&ly.shouldAutoTrigger(t._editor)&&t._editor.hasModel()){var o=t._editor.getModel(),s=t._editor.getPosition(),a=t._editor.getConfiguration().contribInfo.quickSuggestions;if(a!==!1){if(a!==!0){o.tokenizeIfCheap(s.lineNumber);var u=o.getLineTokens(s.lineNumber),l=u.getStandardTokenType(u.findTokenIndexAtOffset(Math.max(s.column-1-1,0))),c=a.other&&l===0||a.comments&&l===1||a.strings&&l===2;if(!c)return}t.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}}},n.prototype._refilterCompletionItems=function(){var e=this;Promise.resolve().then(function(){if(e._state!==0&&e._editor.hasModel()){var t=e._editor.getModel(),r=e._editor.getPosition(),i=new ly(t,r,e._state===2,!1);e._onNewContext(i)}})},n.prototype.trigger=function(e,t,r,i){var o=this;if(t===void 0&&(t=!1),!!this._editor.hasModel()){var s=this._editor.getModel(),a=e.auto,u=new ly(s,this._editor.getPosition(),a,e.shy);this.cancel(t),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:e.shy,position:this._editor.getPosition()}),this._context=u;var l;e.triggerCharacter?l={triggerKind:1,triggerCharacter:e.triggerCharacter}:r&&r.size>0?l={triggerKind:2}:l={triggerKind:0},this._requestToken=new Np;var c=this._editor.getConfiguration().contribInfo,d=new Set,h=1;switch(c.suggest.snippets){case"top":h=0;break;case"bottom":h=2;break;case"none":d.add(25);break}for(var p in c.suggest.filteredTypes){var v=h6(p,!0);typeof v<"u"&&c.suggest.filteredTypes[p]===!1&&d.add(v)}var m=vWe.create(this._editorWorker,this._editor),_=Uie(s,this._editor.getPosition(),new Wie(h,d,r),l,this._requestToken.token);Promise.all([_,m]).then(function(b){var C=b[0],E=b[1];if(nt(o._requestToken),o._state!==0&&o._editor.hasModel()){var T=o._editor.getModel();if(ts(i)){var A=jie(h);C=C.concat(i).sort(A)}var S=new ly(T,o._editor.getPosition(),a,e.shy);o._completionModel=new gWe(C,o._context.column,{leadingLineContent:S.leadingLineContent,characterCountDelta:S.column-o._context.column},E,o._editor.getConfiguration().contribInfo.suggest);for(var N=0,k=C;N<k.length;N++){var F=k[N];zA(F.container)&&o._completionDisposables.add(F.container)}o._onNewContext(S)}}).catch(He)}},n.prototype._onNewContext=function(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(e.leadingWord.startColumn<this._context.leadingWord.startColumn){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel)if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){var t=this._completionModel.incomplete,r=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1},!0,t,r)}else{var i=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(ly.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=i,o=this._completionModel.items.length>0,o&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}},n}(),dc;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(dc||(dc={}));function GE(n,e,t,r){var i=r===dc.ROOT_FOLDER?["rootfolder-icon"]:r===dc.FOLDER?["folder-icon"]:["file-icon"];if(t){var o;if(t.scheme===En.data){var s=_h.parseMetaData(t);o=s.get(_h.META_DATA_LABEL)}else o=NG(JJ(t).toLowerCase());if(r===dc.FOLDER)i.push(o+"-name-folder-icon");else{if(o){i.push(o+"-name-file-icon");for(var a=o.split("."),u=1;u<a.length;u++)i.push(a.slice(u).join(".")+"-ext-file-icon");i.push("ext-file-icon")}var l=_We(n,e,t);l&&i.push(NG(l)+"-lang-file-icon")}}return i}function _We(n,e,t){if(!t)return null;var r=null;if(t.scheme===En.data){var i=_h.parseMetaData(t),o=i.get(_h.META_DATA_MIME);o&&(r=e.getModeId(o))}else{var s=n.getModel(t);s&&(r=s.getModeId())}return r&&r!==u5?r:e.getModeIdByFilepathOrFirstLine(t)}function NG(n){return n.replace(/\s/g,"\\$&")}var v3=function(){return v3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},v3.apply(this,arguments)},Kie=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ru=function(n,e){return function(t,r){e(t,r,n)}},yWe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},bWe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},CWe=!1,wWe=re("editorSuggestWidget.background",{dark:fl,light:fl,hc:fl},D("editorSuggestWidgetBackground","Background color of the suggest widget.")),EWe=re("editorSuggestWidget.border",{dark:_p,light:_p,hc:_p},D("editorSuggestWidgetBorder","Border color of the suggest widget.")),SWe=re("editorSuggestWidget.foreground",{dark:rh,light:rh,hc:rh},D("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),TWe=re("editorSuggestWidget.selectedBackground",{dark:gp,light:gp,hc:gp},D("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),DWe=re("editorSuggestWidget.highlightForeground",{dark:WO,light:WO,hc:WO},D("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),OG=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function AWe(n,e){return n.completion.label.match(OG)?(e[0]=n.completion.label,!0):typeof n.completion.documentation=="string"&&n.completion.documentation.match(OG)?(e[0]=n.completion.documentation,!0):!1}function tb(n){if(!n)return!1;var e=n.completion;return e.documentation?!0:e.detail&&e.detail!==e.label}var IWe=function(){function n(e,t,r,i,o,s){this.widget=e,this.editor=t,this.triggerKeybindingLabel=r,this._modelService=i,this._modeService=o,this._themeService=s}return Object.defineProperty(n.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),n.prototype.renderTemplate=function(e){var t=this,r=Object.create(null);r.disposables=new Be,r.root=e,De(r.root,"show-file-icons"),r.icon=Ce(e,Ve(".icon")),r.colorspan=Ce(r.icon,Ve("span.colorspan"));var i=Ce(e,Ve(".contents")),o=Ce(i,Ve(".main"));r.iconLabel=new Z5(o,{supportHighlights:!0,supportOcticons:!0}),r.disposables.add(r.iconLabel),r.typeLabel=Ce(o,Ve("span.type-label")),r.readMore=Ce(o,Ve("span.readMore")),r.readMore.title=D("readMore","Read More...{0}",this.triggerKeybindingLabel);var s=function(){var a=t.editor.getConfiguration(),u=a.fontInfo.fontFamily,l=a.contribInfo.suggestFontSize||a.fontInfo.fontSize,c=a.contribInfo.suggestLineHeight||a.fontInfo.lineHeight,d=a.fontInfo.fontWeight,h=l+"px",p=c+"px";r.root.style.fontSize=h,r.root.style.fontWeight=d,o.style.fontFamily=u,o.style.lineHeight=p,r.icon.style.height=p,r.icon.style.width=p,r.readMore.style.height=p,r.readMore.style.width=p};return s(),r.disposables.add(Je.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(a){return a.fontInfo||a.contribInfo}).on(s,null)),r},n.prototype.renderElement=function(e,t,r){var i=this,o=r,s=e.completion;o.icon.className="icon "+Mj(s.kind),o.colorspan.style.backgroundColor="";var a={labelEscapeNewLines:!0,matches:p5(e.score)},u=[];s.kind===19&&AWe(e,u)?(o.icon.className="icon customcolor",o.colorspan.style.backgroundColor=u[0]):s.kind===20&&this._themeService.getIconTheme().hasFileIcons?(o.icon.className="icon hide",a.extraClasses=Pb([GE(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.label}),dc.FILE),GE(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.detail}),dc.FILE)])):s.kind===23&&this._themeService.getIconTheme().hasFolderIcons?(o.icon.className="icon hide",a.extraClasses=Pb([GE(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.label}),dc.FOLDER),GE(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.detail}),dc.FOLDER)])):(o.icon.className="icon hide",a.extraClasses=["suggest-icon "+Mj(s.kind)]),s.tags&&s.tags.indexOf(1)>=0&&(a.extraClasses=(a.extraClasses||[]).concat(["deprecated"]),a.matches=[]),o.iconLabel.setLabel(s.label,void 0,a),o.typeLabel.textContent=(s.detail||"").replace(/\n.*$/m,""),tb(e)?(Ti(o.readMore),o.readMore.onmousedown=function(l){l.stopPropagation(),l.preventDefault()},o.readMore.onclick=function(l){l.stopPropagation(),l.preventDefault(),i.widget.toggleDetails()}):(jr(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)},n.prototype.disposeTemplate=function(e){e.disposables.dispose()},n=Kie([ru(3,is),ru(4,Oh),ru(5,Yr)],n),n}(),xWe=function(){function n(e,t,r,i,o){var s=this;this.widget=t,this.editor=r,this.markdownRenderer=i,this.triggerKeybindingLabel=o,this.borderWidth=1,this.disposables=new Be,this.el=Ce(e,Ve(".details")),this.disposables.add(bn(function(){return e.removeChild(s.el)})),this.body=Ve(".body"),this.scrollbar=new cC(this.body,{}),Ce(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Ce(this.body,Ve(".header")),this.close=Ce(this.header,Ve("span.close")),this.close.title=D("readLess","Read less...{0}",this.triggerKeybindingLabel),this.type=Ce(this.header,Ve("p.type")),this.docs=Ce(this.body,Ve("p.docs")),this.ariaLabel=null,this.configureFont(),Je.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(a){return a.fontInfo}).on(this.configureFont,this,this.disposables),i.onDidRenderCodeBlock(function(){return s.scrollbar.scanDomNode()},this,this.disposables)}return Object.defineProperty(n.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),n.prototype.renderLoading=function(){this.type.textContent=D("loading","Loading..."),this.docs.textContent=""},n.prototype.renderItem=function(e,t){var r=this;this.renderDisposeable=nt(this.renderDisposeable);var i=e.completion,o=i.documentation,s=i.detail;if(t){var a="";a+="score: "+e.score[0]+(e.word?", compared '"+(e.completion.filterText&&e.completion.filterText+" (filterText)"||e.completion.label)+"' with '"+e.word+"'":" (no prefix)")+`
`,a+="distance: "+e.distance+`, see localityBonus-setting
`,a+="index: "+e.idx+", based on "+(e.completion.sortText&&'sortText: "'+e.completion.sortText+'"'||"label")+`
`,o=new Fp().appendCodeblock("empty",a),s="Provider: "+e.provider._debugDisplayName}if(!t&&!tb(e)){this.type.textContent="",this.docs.textContent="",De(this.el,"no-docs"),this.ariaLabel=null;return}if(ot(this.el,"no-docs"),typeof o=="string")ot(this.docs,"markdown-docs"),this.docs.textContent=o;else{De(this.docs,"markdown-docs"),this.docs.innerHTML="";var u=this.markdownRenderer.render(o);this.renderDisposeable=u,this.docs.appendChild(u.element)}s?(this.type.innerText=s,Ti(this.type)):(this.type.innerText="",jr(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+this.borderWidth*2+"px",this.close.onmousedown=function(l){l.preventDefault(),l.stopPropagation()},this.close.onclick=function(l){l.preventDefault(),l.stopPropagation(),r.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=Yt("{0}{1}",s||"",o?typeof o=="string"?o:o.value:"")},n.prototype.getAriaLabel=function(){return this.ariaLabel},n.prototype.scrollDown=function(e){e===void 0&&(e=8),this.body.scrollTop+=e},n.prototype.scrollUp=function(e){e===void 0&&(e=8),this.body.scrollTop-=e},n.prototype.scrollTop=function(){this.body.scrollTop=0},n.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},n.prototype.pageDown=function(){this.scrollDown(80)},n.prototype.pageUp=function(){this.scrollUp(80)},n.prototype.setBorderWidth=function(e){this.borderWidth=e},n.prototype.configureFont=function(){var e=this.editor.getConfiguration(),t=e.fontInfo.fontFamily,r=e.contribInfo.suggestFontSize||e.fontInfo.fontSize,i=e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight,o=e.fontInfo.fontWeight,s=r+"px",a=i+"px";this.el.style.fontSize=s,this.el.style.fontWeight=o,this.type.style.fontFamily=t,this.close.style.height=a,this.close.style.width=a},n.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=nt(this.renderDisposeable)},n}(),LWe=function(){function n(e,t,r,i,o,s,a,u,l){var c=this;this.editor=e,this.telemetryService=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.state=null,this.isAuto=!1,this.loadingTimeout=fe.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new Ns,this.toDispose=new Be,this.onDidSelectEmitter=new Q,this.onDidFocusEmitter=new Q,this.onDidHideEmitter=new Q,this.onDidShowEmitter=new Q,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._lastAriaAlertLabel=null;var d=s.lookupKeybinding("editor.action.triggerSuggest"),h=d?" ("+d.getLabel()+")":"",p=this.toDispose.add(new P2(e,a,u));this.isAuto=!1,this.focusedItem=null,this.storageService=o,this.element=Ve(".editor-widget.suggest-widget"),this.toDispose.add(_e(this.element,"click",function(_){_.target===c.element&&c.hideWidget()})),this.messageElement=Ce(this.element,Ve(".message")),this.listElement=Ce(this.element,Ve(".tree")),this.details=l.createInstance(xWe,this.element,this,this.editor,p,h);var v=function(){return kt(c.element,"no-icons",!c.editor.getConfiguration().contribInfo.suggest.showIcons)};v();var m=l.createInstance(IWe,this,this.editor,h);this.list=new xne(this.listElement,this,[m],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1}),this.toDispose.add(one(this.list,i,{listInactiveFocusBackground:TWe,listInactiveFocusOutline:Ni})),this.toDispose.add(i.onThemeChange(function(_){return c.onThemeChange(_)})),this.toDispose.add(e.onDidLayoutChange(function(){return c.onEditorLayoutChange()})),this.toDispose.add(this.list.onMouseDown(function(_){return c.onListMouseDown(_)})),this.toDispose.add(this.list.onSelectionChange(function(_){return c.onListSelection(_)})),this.toDispose.add(this.list.onFocusChange(function(_){return c.onListFocus(_)})),this.toDispose.add(this.editor.onDidChangeCursorSelection(function(){return c.onCursorSelectionChanged()})),this.toDispose.add(this.editor.onDidChangeConfiguration(function(_){return _.contribInfo&&v()})),this.suggestWidgetVisible=jn.Visible.bindTo(r),this.suggestWidgetMultipleSuggestions=jn.MultipleSuggestions.bindTo(r),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(i.getTheme())}return n.prototype.onCursorSelectionChanged=function(){this.state!==0&&this.editor.layoutContentWidget(this)},n.prototype.onEditorLayoutChange=function(){(this.state===3||this.state===5)&&this.expandDocsSettingFromStorage()&&this.expandSideOrBelow()},n.prototype.onListMouseDown=function(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))},n.prototype.onListSelection=function(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])},n.prototype.select=function(e,t){var r=this.completionModel;r&&(this.onDidSelectEmitter.fire({item:e,index:t,model:r}),this.editor.focus())},n.prototype._getSuggestionAriaAlertLabel=function(e){return this.expandDocsSettingFromStorage()?D("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",e.completion.label,this.details.getAriaLabel()):e.completion.label},n.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&ji(this._lastAriaAlertLabel,!0))},n.prototype.onThemeChange=function(e){var t=e.getColor(wWe);t&&(this.listElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());var r=e.getColor(EWe);r&&(this.listElement.style.borderColor=r.toString(),this.details.element.style.borderColor=r.toString(),this.messageElement.style.borderColor=r.toString(),this.detailsBorderColor=r.toString());var i=e.getColor(Nm);i&&(this.detailsFocusBorderColor=i.toString()),this.details.setBorderWidth(e.type==="hc"?2:1)},n.prototype.onListFocus=function(e){var t=this;if(!this.ignoreFocusEvents){if(!e.elements.length){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),this._ariaAlert(null);return}if(this.completionModel){var r=e.elements[0],i=e.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,r!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=r,this.list.reveal(i),this.currentSuggestionDetails=Gr(function(o){return yWe(t,void 0,void 0,function(){var s,a,u=this;return bWe(this,function(l){switch(l.label){case 0:return s=Em(function(){return u.showDetails(!0)},250),o.onCancellationRequested(function(){return s.dispose()}),[4,r.resolve(o)];case 1:return a=l.sent(),s.dispose(),[2,a]}})})}),this.currentSuggestionDetails.then(function(){i>=t.list.length||r!==t.list.element(i)||(t.ignoreFocusEvents=!0,t.list.splice(i,1,[r]),t.list.setFocus([i]),t.ignoreFocusEvents=!1,t.expandDocsSettingFromStorage()?t.showDetails(!1):ot(t.element,"docs-side"),t._ariaAlert(t._getSuggestionAriaAlertLabel(r)))}).catch(He)),this.onDidFocusEmitter.fire({item:r,index:i,model:this.completionModel})}}},n.prototype.setState=function(e){if(this.element){var t=this.state!==e;switch(this.state=e,kt(this.element,"frozen",e===4),e){case 0:jr(this.messageElement,this.details.element,this.listElement),this.hide(),this.listHeight=0,t&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=n.LOADING_MESSAGE,jr(this.listElement,this.details.element),Ti(this.messageElement),ot(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=n.NO_SUGGESTIONS_MESSAGE,jr(this.listElement,this.details.element),Ti(this.messageElement),ot(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:jr(this.messageElement),Ti(this.listElement),this.show();break;case 4:jr(this.messageElement),Ti(this.listElement),this.show();break;case 5:jr(this.messageElement),Ti(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel());break}}},n.prototype.showTriggered=function(e,t){var r=this;this.state===0&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=Em(function(){return r.setState(1)},t)))},n.prototype.showSuggestions=function(e,t,r,i){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==e&&(this.completionModel=e),r&&this.state!==2&&this.state!==0){this.setState(4);return}var o=this.completionModel.items.length,s=o===0;if(this.suggestWidgetMultipleSuggestions.set(o>1),s)i?this.setState(0):this.setState(2),this.completionModel=null;else{if(this.state!==3){var a=this.completionModel.stats;a.wasAutomaticallyTriggered=!!i,this.telemetryService.publicLog("suggestWidget",v3({},a))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),r?this.setState(4):this.setState(3),this.list.reveal(t,0),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}},n.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},n.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},n.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},n.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},n.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},n.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},n.prototype.getFocusedItem=function(){if(this.state!==0&&this.state!==2&&this.state!==1&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},n.prototype.toggleDetailsFocus=function(){this.state===5?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):this.state===3&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},n.prototype.toggleDetails=function(){if(tb(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),jr(this.details.element),ot(this.element,"docs-side"),ot(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(this.state!==3&&this.state!==5&&this.state!==4)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this._ariaAlert(this.details.getAriaLabel()),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},n.prototype.showDetails=function(e){this.expandSideOrBelow(),Ti(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",e?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},n.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},n.prototype.show=function(){var e=this,t=this.updateListHeight();t!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=t),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(function(){De(e.element,"visible"),e.onDidShowEmitter.fire(e)},100)},n.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),ot(this.element,"visible")},n.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},n.prototype.getPosition=function(){if(this.state===0)return null;var e=[2,1];return this.preferDocPositionTop&&(e=[1]),{position:this.editor.getPosition(),preference:e}},n.prototype.getDomNode=function(){return this.element},n.prototype.getId=function(){return n.ID},n.prototype.updateListHeight=function(){var e=0;if(this.state===2||this.state===1)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight,r=this.editor.getConfiguration().contribInfo.suggest.maxVisibleSuggestions;e=Math.min(t,r)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.list.layout(e),e},n.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var e=this.editor.getConfiguration().fontInfo.lineHeight,t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),r=di(this.editor.getDomNode()),i=r.left+t.left,o=r.top+t.top+t.height,s=di(this.element),a=s.left,u=s.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<u&&!this.preferDocPositionTop){this.preferDocPositionTop=!0,this.adjustDocsPosition();return}this.docsPositionPreviousWidgetY=u,a<i-this.listWidth?De(this.element,"list-right"):ot(this.element,"list-right"),Eu(this.element,"docs-side")&&o-e>u&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},n.prototype.expandSideOrBelow=function(){if(!tb(this.focusedItem)&&this.firstFocusInCurrentList){ot(this.element,"docs-side"),ot(this.element,"docs-below");return}var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(De(this.element,"docs-below"),ot(this.element,"docs-side")):tb(this.focusedItem)&&(De(this.element,"docs-side"),ot(this.element,"docs-below"))},Object.defineProperty(n.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getConfiguration().contribInfo.suggest.maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getConfiguration();return e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight},enumerable:!0,configurable:!0}),n.prototype.getHeight=function(e){return this.unfocusedHeight},n.prototype.getTemplateId=function(e){return"suggestion"},n.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,CWe)},n.prototype.updateExpandDocsSetting=function(e){this.storageService.store("expandSuggestionDocs",e,0)},n.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},n.ID="editor.widget.suggestWidget",n.LOADING_MESSAGE=D("suggestWidget.loading","Loading..."),n.NO_SUGGESTIONS_MESSAGE=D("suggestWidget.noSuggestions","No suggestions."),n=Kie([ru(1,sC),ru(2,yt),ru(3,Yr),ru(4,kh),ru(5,wr),ru(6,Oh),ru(7,bh),ru(8,cr)],n),n}();mn(function(n,e){var t=n.getColor(DWe);t&&e.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+t+"; }");var r=n.getColor(SWe);r&&e.addRule(".monaco-editor .suggest-widget { color: "+r+"; }");var i=n.getColor(u2);i&&e.addRule(".monaco-editor .suggest-widget a { color: "+i+"; }");var o=n.getColor(O6);o&&e.addRule(".monaco-editor .suggest-widget code { background-color: "+o+"; }")});var NWe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kWe=function(n,e){return function(t,r){e(t,r,n)}},Yie=function(n){NWe(e,n);function e(t,r){var i=n.call(this)||this;return i._editor=t,i._enabled=!1,i._ckAtEnd=e.AtEnd.bindTo(r),i._register(i._editor.onDidChangeConfiguration(function(o){return o.contribInfo&&i._update()})),i._update(),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),nt(this._selectionListener),this._ckAtEnd.reset()},e.prototype._update=function(){var t=this,r=this._editor.getConfiguration().contribInfo.tabCompletion==="on";if(this._enabled!==r)if(this._enabled=r,this._enabled){var i=function(){if(!t._editor.hasModel()){t._ckAtEnd.set(!1);return}var o=t._editor.getModel(),s=t._editor.getSelection(),a=o.getWordAtPosition(s.getStartPosition());if(!a){t._ckAtEnd.set(!1);return}t._ckAtEnd.set(a.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(i),i()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},e.AtEnd=new Ke("atEndOfWord",!1),e=OWe([kWe(1,yt)],e),e}(fe),RWe=function(){function n(e,t,r){var i=this;this._disposables=new Be,this._disposables.add(t.onDidShow(function(){return i._onItem(t.getFocusedItem())})),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(function(o){if(i._active){var s=o.charCodeAt(o.length-1);i._active.acceptCharacters.has(s)&&e.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter&&r(i._active.item)}}))}return n.prototype._onItem=function(e){if(!e||!ts(e.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===e.item)){for(var t=new Ov,r=0,i=e.item.completion.commitCharacters;r<i.length;r++){var o=i[r];o.length>0&&t.add(o.charCodeAt(0))}this._active={acceptCharacters:t,item:e}}},n.prototype.reset=function(){this._active=void 0},n.prototype.dispose=function(){this._disposables.dispose()},n}(),PWe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),m3=function(){return m3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m3.apply(this,arguments)},MWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cy=function(n,e){return function(t,r){e(t,r,n)}},FWe=function(){function n(e,t){this._model=e,this._position=t;var r=e.getLineMaxColumn(t.lineNumber);if(r!==t.column){var i=e.getOffsetAt(t),o=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:H.fromPositions(t,o),options:{stickiness:1}}])}}return n.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},n.prototype.delta=function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]),r=this._model.getOffsetAt(t.getStartPosition());return r-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column},n}(),mB=function(){function n(e,t,r,i,o,s){var a=this;this._editor=e,this._memoryService=r,this._commandService=i,this._contextKeyService=o,this._instantiationService=s,this._lineSuffix=new Ih,this._toDispose=new Be,this._model=new mWe(this._editor,t),this._widget=new sM(function(){var c=a._instantiationService.createInstance(LWe,a._editor);a._toDispose.add(c),a._toDispose.add(c.onDidSelect(function(p){return a._insertSuggestion(p,!1,!0)},a));var d=new RWe(a._editor,c,function(p){return a._insertSuggestion(p,!1,!0)});a._toDispose.add(d),a._toDispose.add(a._model.onDidSuggest(function(p){p.completionModel.items.length===0&&d.reset()}));var h=jn.MakesTextEdit.bindTo(a._contextKeyService);return a._toDispose.add(c.onDidFocus(function(p){var v=p.item,m=a._editor.getPosition(),_=v.completion.range.startColumn,b=m.column,C=!0;if(a._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter==="smart"&&a._model.state===2&&!v.completion.command&&!v.completion.additionalTextEdits&&!(v.completion.insertTextRules&4)&&b-_===v.completion.insertText.length){var E=a._editor.getModel().getValueInRange({startLineNumber:m.lineNumber,startColumn:_,endLineNumber:m.lineNumber,endColumn:b});C=E!==v.completion.insertText}h.set(C)})),a._toDispose.add(bn(function(){return h.reset()})),c}),this._alternatives=new sM(function(){return a._toDispose.add(new H2(a._editor,a._contextKeyService))}),this._toDispose.add(s.createInstance(Yie,e)),this._toDispose.add(this._model.onDidTrigger(function(c){a._widget.getValue().showTriggered(c.auto,c.shy?250:50),a._lineSuffix.value=new FWe(a._editor.getModel(),c.position)})),this._toDispose.add(this._model.onDidSuggest(function(c){if(!c.shy){var d=a._memoryService.select(a._editor.getModel(),a._editor.getPosition(),c.completionModel.items);a._widget.getValue().showSuggestions(c.completionModel,d,c.isFrozen,c.auto)}})),this._toDispose.add(this._model.onDidCancel(function(c){c.retrigger||a._widget.getValue().hideWidget()})),this._toDispose.add(this._editor.onDidBlurEditorWidget(function(){a._model.cancel(),a._model.clear()}));var u=jn.AcceptSuggestionsOnEnter.bindTo(o),l=function(){var c=a._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter;u.set(c==="on"||c==="smart")};this._toDispose.add(this._editor.onDidChangeConfiguration(function(){return l()})),l()}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this._widget.dispose(),this._model.dispose(),this._lineSuffix.dispose()},n.prototype._insertSuggestion=function(e,t,r){var i,o=this;if(!e||!e.item){this._alternatives.getValue().reset(),this._model.cancel(),this._model.clear();return}if(this._editor.hasModel()){var s=this._editor.getModel(),a=s.getAlternativeVersionId(),u=e.item,l=u.completion,c=u.position,d=this._editor.getPosition().column,h=d-c.column;r&&this._editor.pushUndoStop(),Array.isArray(l.additionalTextEdits)&&this._editor.executeEdits("suggestController.additionalTextEdits",l.additionalTextEdits.map(function(b){return Or.replace(H.lift(b.range),b.text)})),this._memoryService.memorize(s,this._editor.getPosition(),e.item);var p=l.insertText;l.insertTextRules&4||(p=Gie.escape(p));var v=c.column-l.range.startColumn,m=l.range.endColumn-c.column,_=this._lineSuffix.value?this._lineSuffix.value.delta(this._editor.getPosition()):0;ha.get(this._editor).insert(p,{overwriteBefore:v+h,overwriteAfter:m+_,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(l.insertTextRules&1)}),r&&this._editor.pushUndoStop(),l.command?l.command.id===Xie.id?this._model.trigger({auto:!0,shy:!1},!0):((i=this._commandService).executeCommand.apply(i,[l.command.id].concat(l.command.arguments?l.command.arguments.slice():[])).catch(He).finally(function(){return o._model.clear()}),this._model.cancel()):(this._model.cancel(),this._model.clear()),t&&this._alternatives.getValue().set(e,function(b){for(;s.canUndo();){a!==s.getAlternativeVersionId()&&s.undo(),o._insertSuggestion(b,!1,!1);break}}),this._alertCompletionItem(e.item)}},n.prototype._alertCompletionItem=function(e){var t=e.completion;if(ts(t.additionalTextEdits)){var r=D("arai.alert.snippet","Accepting '{0}' made {1} additional edits",t.label,t.additionalTextEdits.length);ji(r)}},n.prototype.triggerSuggest=function(e){this._editor.hasModel()&&(this._model.trigger({auto:!1,shy:!1},!1,e),this._editor.revealLine(this._editor.getPosition().lineNumber,0),this._editor.focus())},n.prototype.triggerSuggestAndAcceptBest=function(e){var t=this;if(this._editor.hasModel()){var r=this._editor.getPosition(),i=function(){r.equals(t._editor.getPosition())&&t._commandService.executeCommand(e.fallback)},o=function(s){if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;var a=t._editor.getPosition(),u=s.completion.range.startColumn,l=a.column;if(l-u!==s.completion.insertText.length)return!0;var c=t._editor.getModel().getValueInRange({startLineNumber:a.lineNumber,startColumn:u,endLineNumber:a.lineNumber,endColumn:l});return c!==s.completion.insertText};Je.once(this._model.onDidTrigger)(function(s){var a=[];Je.any(t._model.onDidTrigger,t._model.onDidCancel)(function(){nt(a),i()},void 0,a),t._model.onDidSuggest(function(u){var l=u.completionModel;if(nt(a),l.items.length===0){i();return}var c=t._memoryService.select(t._editor.getModel(),t._editor.getPosition(),l.items),d=l.items[c];if(!o(d)){i();return}t._editor.pushUndoStop(),t._insertSuggestion({index:c,item:d,model:l},!0,!1)},void 0,a)}),this._model.trigger({auto:!1,shy:!0}),this._editor.revealLine(r.lineNumber,0),this._editor.focus()}},n.prototype.acceptSelectedSuggestion=function(e){var t=this._widget.getValue().getFocusedItem();this._insertSuggestion(t,!!e,!0)},n.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},n.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},n.prototype.cancelSuggestWidget=function(){this._model.cancel(),this._model.clear(),this._widget.getValue().hideWidget()},n.prototype.selectNextSuggestion=function(){this._widget.getValue().selectNext()},n.prototype.selectNextPageSuggestion=function(){this._widget.getValue().selectNextPage()},n.prototype.selectLastSuggestion=function(){this._widget.getValue().selectLast()},n.prototype.selectPrevSuggestion=function(){this._widget.getValue().selectPrevious()},n.prototype.selectPrevPageSuggestion=function(){this._widget.getValue().selectPreviousPage()},n.prototype.selectFirstSuggestion=function(){this._widget.getValue().selectFirst()},n.prototype.toggleSuggestionDetails=function(){this._widget.getValue().toggleDetails()},n.prototype.toggleExplainMode=function(){this._widget.getValue().toggleExplainMode()},n.prototype.toggleSuggestionFocus=function(){this._widget.getValue().toggleDetailsFocus()},n.ID="editor.contrib.suggestController",n=MWe([cy(1,Fa),cy(2,$ie),cy(3,Qi),cy(4,yt),cy(5,cr)],n),n}(),Xie=function(n){PWe(e,n);function e(){return n.call(this,{id:e.id,label:D("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Le.and(W.writable,W.hasCompletionItemProvider),kbOpts:{kbExpr:W.textInputFocus,primary:2058,mac:{primary:266},weight:100}})||this}return e.prototype.run=function(t,r){var i=mB.get(r);i&&i.triggerSuggest()},e.id="editor.action.triggerSuggest",e}(Ue);Cn(mB);pe(Xie);var Ha=190,ss=Do.bindToContribution(mB.get);ce(new ss({id:"acceptSelectedSuggestion",precondition:jn.Visible,handler:function(n){return n.acceptSelectedSuggestion(!0)},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:2}}));ce(new ss({id:"acceptSelectedSuggestionOnEnter",precondition:jn.Visible,handler:function(n){return n.acceptSelectedSuggestion(!1)},kbOpts:{weight:Ha,kbExpr:Le.and(W.textInputFocus,jn.AcceptSuggestionsOnEnter,jn.MakesTextEdit),primary:3}}));ce(new ss({id:"hideSuggestWidget",precondition:jn.Visible,handler:function(n){return n.cancelSuggestWidget()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:9,secondary:[1033]}}));ce(new ss({id:"selectNextSuggestion",precondition:Le.and(jn.Visible,jn.MultipleSuggestions),handler:function(n){return n.selectNextSuggestion()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));ce(new ss({id:"selectNextPageSuggestion",precondition:Le.and(jn.Visible,jn.MultipleSuggestions),handler:function(n){return n.selectNextPageSuggestion()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:12,secondary:[2060]}}));ce(new ss({id:"selectLastSuggestion",precondition:Le.and(jn.Visible,jn.MultipleSuggestions),handler:function(n){return n.selectLastSuggestion()}}));ce(new ss({id:"selectPrevSuggestion",precondition:Le.and(jn.Visible,jn.MultipleSuggestions),handler:function(n){return n.selectPrevSuggestion()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));ce(new ss({id:"selectPrevPageSuggestion",precondition:Le.and(jn.Visible,jn.MultipleSuggestions),handler:function(n){return n.selectPrevPageSuggestion()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:11,secondary:[2059]}}));ce(new ss({id:"selectFirstSuggestion",precondition:Le.and(jn.Visible,jn.MultipleSuggestions),handler:function(n){return n.selectFirstSuggestion()}}));ce(new ss({id:"toggleSuggestionDetails",precondition:jn.Visible,handler:function(n){return n.toggleSuggestionDetails()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:2058,mac:{primary:266}}}));ce(new ss({id:"toggleExplainMode",precondition:jn.Visible,handler:function(n){return n.toggleExplainMode()},kbOpts:{weight:100,primary:2133}}));ce(new ss({id:"toggleSuggestionFocus",precondition:jn.Visible,handler:function(n){return n.toggleSuggestionFocus()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:2570,mac:{primary:778}}}));ce(new ss({id:"insertBestCompletion",precondition:Le.and(Le.equals("config.editor.tabCompletion","on"),Yie.AtEnd,jn.Visible.toNegated(),H2.OtherSuggestions.toNegated(),ha.InSnippetMode.toNegated()),handler:function(n,e){n.triggerSuggestAndAcceptBest(Ui(e)?m3({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:Ha,primary:2}}));ce(new ss({id:"insertNextSuggestion",precondition:Le.and(Le.equals("config.editor.tabCompletion","on"),H2.OtherSuggestions,jn.Visible.toNegated(),ha.InSnippetMode.toNegated()),handler:function(n){return n.acceptNextSuggestion()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:2}}));ce(new ss({id:"insertPrevSuggestion",precondition:Le.and(Le.equals("config.editor.tabCompletion","on"),H2.OtherSuggestions,jn.Visible.toNegated(),ha.InSnippetMode.toNegated()),handler:function(n){return n.acceptPrevSuggestion()},kbOpts:{weight:Ha,kbExpr:W.textInputFocus,primary:1026}}));var BWe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HWe=function(n){BWe(e,n);function e(){return n.call(this,{id:"editor.action.forceRetokenize",label:D("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getModel();i.resetTokenization();var o=new _6(!0);i.forceTokenization(i.getLineCount()),o.stop(),console.log("tokenization took "+o.elapsed())}},e}(Ue);pe(HWe);var VWe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_3=function(n){VWe(e,n);function e(){return n.call(this,{id:e.ID,label:D({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}return e.prototype.run=function(t,r){var i=kT.getTabFocusMode(),o=!i;kT.setTabFocusMode(o),ji(o?D("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):D("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},e.ID="editor.action.toggleTabFocusMode",e}(Ue);pe(_3);var dg=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},UWe=function(n,e){return function(t,r){e(t,r,n)}},jWe=re("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},D("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),qWe=re("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},D("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),zWe=re("editor.wordHighlightBorder",{light:null,dark:null,hc:Ni},D("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),GWe=re("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Ni},D("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),$We=re("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},D("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),KWe=re("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},D("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),V2=new Ke("hasWordHighlights",!1);function Qie(n,e,t){var r=Tm.ordered(n);return z4(r.map(function(i){return function(){return Promise.resolve(i.provideDocumentHighlights(n,e,t)).then(void 0,Eo)}}),ts)}var Zie=function(){function n(e,t,r){var i=this;this._wordRange=this._getCurrentWordRange(e,t),this.result=Gr(function(o){return i._compute(e,t,r,o)})}return n.prototype._getCurrentWordRange=function(e,t){var r=e.getWordAtPosition(t.getPosition());return r?new H(t.startLineNumber,r.startColumn,t.startLineNumber,r.endColumn):null},n.prototype.isValid=function(e,t,r){for(var i=t.startLineNumber,o=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t),u=!!(this._wordRange&&this._wordRange.equalsRange(a)),l=0,c=r.length;!u&&l<c;l++){var d=e.getDecorationRange(r[l]);d&&d.startLineNumber===i&&d.startColumn<=o&&d.endColumn>=s&&(u=!0)}return u},n.prototype.cancel=function(){this.result.cancel()},n}(),YWe=function(n){dg(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._compute=function(t,r,i,o){return Qie(t,r.getPosition(),o).then(function(s){return s||[]})},e}(Zie),XWe=function(n){dg(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o._selectionIsEmpty=r.isEmpty(),o}return e.prototype._compute=function(t,r,i,o){return rC(250,o).then(function(){if(!r.isEmpty())return[];var s=t.getWordAtPosition(r.getPosition());if(!s)return[];var a=t.findMatches(s.word,!0,!1,!0,i,!1);return a.map(function(u){return{range:u.range,kind:jb.Text}})})},e.prototype.isValid=function(t,r,i){var o=r.isEmpty();return this._selectionIsEmpty!==o?!1:n.prototype.isValid.call(this,t,r,i)},e}(Zie);function QWe(n,e,t){return Tm.has(n)?new YWe(n,e,t):new XWe(n,e,t)}Lu("_executeDocumentHighlights",function(n,e){return Qie(n,e,nn.None)});var ZWe=function(){function n(e,t){var r=this;this.toUnhook=new Be,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=V2.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight,this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(function(i){r._ignorePositionChangeEvent||r.occurrencesHighlight&&r._onPositionChanged(i)})),this.toUnhook.add(e.onDidChangeModelContent(function(i){r._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(function(i){var o=r.editor.getConfiguration().contribInfo.occurrencesHighlight;r.occurrencesHighlight!==o&&(r.occurrencesHighlight=o,r._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return n.prototype.hasDecorations=function(){return this._decorationIds.length>0},n.prototype.restore=function(){this.occurrencesHighlight&&this._run()},n.prototype._getSortedHighlights=function(){var e=this;return Wc(this._decorationIds.map(function(t){return e.model.getDecorationRange(t)}).sort(H.compareRangesUsingStarts))},n.prototype.moveNext=function(){var e=this,t=this._getSortedHighlights(),r=Yf(t,function(s){return s.containsPosition(e.editor.getPosition())}),i=(r+1)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o)}finally{this._ignorePositionChangeEvent=!1}},n.prototype.moveBack=function(){var e=this,t=this._getSortedHighlights(),r=Yf(t,function(s){return s.containsPosition(e.editor.getPosition())}),i=(r-1+t.length)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o)}finally{this._ignorePositionChangeEvent=!1}},n.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},n.prototype._stopAll=function(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},n.prototype._onPositionChanged=function(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()},n.prototype._run=function(){var e=this,t=this.editor.getSelection();if(t.startLineNumber!==t.endLineNumber){this._stopAll();return}var r=t.startLineNumber,i=t.startColumn,o=t.endColumn,s=this.model.getWordAtPosition({lineNumber:r,column:i});if(!s||s.startColumn>i||s.endColumn<o){this._stopAll();return}var a=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),a)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var u=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=QWe(this.model,this.editor.getSelection(),this.editor.getConfiguration().wordSeparators),this.workerRequest.result.then(function(l){u===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=l||[],e._beginRenderDecorations())},He)}},n.prototype._beginRenderDecorations=function(){var e=this,t=new Date().getTime(),r=this.lastCursorPositionChangeTime+250;t>=r?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},r-t)},n.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,r=this.workerRequestValue.length;t<r;t++){var i=this.workerRequestValue[t];e.push({range:i.range,options:n._getDecorationOptions(i.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())},n._getDecorationOptions=function(e){return e===jb.Write?this._WRITE_OPTIONS:e===jb.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},n.prototype.dispose=function(){this._stopAll(),this.toUnhook.dispose()},n._WRITE_OPTIONS=mt.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Xs(KWe),position:ia.Center}}),n._TEXT_OPTIONS=mt.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Xs(mte),position:ia.Center}}),n._REGULAR_OPTIONS=mt.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:Xs($We),position:ia.Center}}),n}(),_B=function(n){dg(e,n);function e(t,r){var i=n.call(this)||this;i.wordHighligher=null;var o=function(){t.hasModel()&&(i.wordHighligher=new ZWe(t,r))};return i._register(t.onDidChangeModel(function(s){i.wordHighligher&&(i.wordHighligher.dispose(),i.wordHighligher=null),o()})),o(),i}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.saveViewState=function(){return!!(this.wordHighligher&&this.wordHighligher.hasDecorations())},e.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},e.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},e.prototype.restoreViewState=function(t){this.wordHighligher&&t&&this.wordHighligher.restore()},e.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),n.prototype.dispose.call(this)},e.ID="editor.contrib.wordHighlighter",e=WWe([UWe(1,yt)],e),e}(fe),Jie=function(n){dg(e,n);function e(t,r){var i=n.call(this,r)||this;return i._isNext=t,i}return e.prototype.run=function(t,r){var i=_B.get(r);i&&(this._isNext?i.moveNext():i.moveBack())},e}(Ue),JWe=function(n){dg(e,n);function e(){return n.call(this,!0,{id:"editor.action.wordHighlight.next",label:D("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:V2,kbOpts:{kbExpr:W.editorTextFocus,primary:65,weight:100}})||this}return e}(Jie),eUe=function(n){dg(e,n);function e(){return n.call(this,!1,{id:"editor.action.wordHighlight.prev",label:D("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:V2,kbOpts:{kbExpr:W.editorTextFocus,primary:1089,weight:100}})||this}return e}(Jie),tUe=function(n){dg(e,n);function e(){return n.call(this,{id:"editor.action.wordHighlight.trigger",label:D("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:V2.toNegated(),kbOpts:{kbExpr:W.editorTextFocus,primary:0,weight:100}})||this}return e.prototype.run=function(t,r,i){var o=_B.get(r);o&&o.restoreViewState(!0)},e}(Ue);Cn(_B);pe(JWe);pe(eUe);pe(tUe);mn(function(n,e){var t=n.getColor(U6);t&&(e.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+t+"; }"),e.addRule(".monaco-editor .selectionHighlight { background-color: "+t.transparent(.5)+"; }"));var r=n.getColor(jWe);r&&e.addRule(".monaco-editor .wordHighlight { background-color: "+r+"; }");var i=n.getColor(qWe);i&&e.addRule(".monaco-editor .wordHighlightStrong { background-color: "+i+"; }");var o=n.getColor(HNe);o&&e.addRule(".monaco-editor .selectionHighlight { border: 1px "+(n.type==="hc"?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var s=n.getColor(zWe);s&&e.addRule(".monaco-editor .wordHighlight { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+s+"; box-sizing: border-box; }");var a=n.getColor(GWe);a&&e.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+a+"; box-sizing: border-box; }")});var Hn=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),W2=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r._inSelectionMode=t.inSelectionMode,r._wordNavigationType=t.wordNavigationType,r}return e.prototype.runEditorCommand=function(t,r,i){var o=this;if(r.hasModel()){var s=r.getConfiguration(),a=Pl(s.wordSeparators),u=r.getModel(),l=r.getSelections(),c=l.map(function(h){var p=new J(h.positionLineNumber,h.positionColumn),v=o._move(a,u,p,o._wordNavigationType);return o._moveTo(h,v,o._inSelectionMode)});if(r._getCursors().setStates("moveWordCommand",0,c.map(function(h){return St.fromModelSelection(h)})),c.length===1){var d=new J(c[0].positionLineNumber,c[0].positionColumn);r.revealPosition(d,0)}}},e.prototype._moveTo=function(t,r,i){return i?new Re(t.selectionStartLineNumber,t.selectionStartColumn,r.lineNumber,r.column):new Re(r.lineNumber,r.column,r.lineNumber,r.column)},e}(Do),Mh=function(n){Hn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return yi.moveWordLeft(t,r,i,o)},e}(W2),Fh=function(n){Hn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return yi.moveWordRight(t,r,i,o)},e}(W2),nUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}return e}(Mh),rUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return e}(Mh),iUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0})||this}return e}(Mh),oUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}return e}(Mh),sUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return e}(Mh),aUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0})||this}return e}(Mh),uUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:Le.and(W.textInputFocus,fC),primary:2063,mac:{primary:527},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,Pl(Rl.wordSeparators),r,i,o)},e}(Mh),lUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:Le.and(W.textInputFocus,fC),primary:3087,mac:{primary:1551},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,Pl(Rl.wordSeparators),r,i,o)},e}(Mh),cUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return e}(Fh),fUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}return e}(Fh),hUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return e}(Fh),dUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return e}(Fh),pUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}return e}(Fh),gUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return e}(Fh),vUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:Le.and(W.textInputFocus,fC),primary:2065,mac:{primary:529},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,Pl(Rl.wordSeparators),r,i,o)},e}(Fh),mUe=function(n){Hn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:Le.and(W.textInputFocus,fC),primary:3089,mac:{primary:1553},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,Pl(Rl.wordSeparators),r,i,o)},e}(Fh),U2=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r._whitespaceHeuristics=t.whitespaceHeuristics,r._wordNavigationType=t.wordNavigationType,r}return e.prototype.runEditorCommand=function(t,r,i){var o=this;if(r.hasModel()){var s=r.getConfiguration(),a=Pl(s.wordSeparators),u=r.getModel(),l=r.getSelections(),c=l.map(function(d){var h=o._delete(a,u,d,o._whitespaceHeuristics,o._wordNavigationType);return new Lr(h,"")});r.pushUndoStop(),r.executeCommands(this.id,c),r.pushUndoStop()}},e}(Do),yB=function(n){Hn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._delete=function(t,r,i,o,s){var a=yi.deleteWordLeft(t,r,i,o,s);return a||new H(1,1,1,1)},e}(U2),bB=function(n){Hn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._delete=function(t,r,i,o,s){var a=yi.deleteWordRight(t,r,i,o,s);if(a)return a;var u=r.getLineCount(),l=r.getLineMaxColumn(u);return new H(u,l,u,l)},e}(U2),_Ue=function(n){Hn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:W.writable})||this}return e}(yB),yUe=function(n){Hn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:W.writable})||this}return e}(yB),bUe=function(n){Hn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return e}(yB),CUe=function(n){Hn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:W.writable})||this}return e}(bB),wUe=function(n){Hn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:W.writable})||this}return e}(bB),EUe=function(n){Hn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return e}(bB);ce(new nUe);ce(new rUe);ce(new iUe);ce(new oUe);ce(new sUe);ce(new aUe);ce(new cUe);ce(new fUe);ce(new hUe);ce(new dUe);ce(new pUe);ce(new gUe);ce(new uUe);ce(new lUe);ce(new vUe);ce(new mUe);ce(new _Ue);ce(new yUe);ce(new bUe);ce(new CUe);ce(new wUe);ce(new EUe);var Bh=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SUe=function(n){Bh(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}return e.prototype._delete=function(t,r,i,o,s){var a=h2.deleteWordPartLeft(t,r,i,o);return a||new H(1,1,1,1)},e}(U2),TUe=function(n){Bh(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}return e.prototype._delete=function(t,r,i,o,s){var a=h2.deleteWordPartRight(t,r,i,o);if(a)return a;var u=r.getLineCount(),l=r.getLineMaxColumn(u);return new H(u,l,u,l)},e}(U2),eoe=function(n){Bh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return h2.moveWordPartLeft(t,r,i)},e}(W2),DUe=function(n){Bh(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return e}(eoe);Ri.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var AUe=function(n){Bh(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return e}(eoe);Ri.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var toe=function(n){Bh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return h2.moveWordPartRight(t,r,i)},e}(W2),IUe=function(n){Bh(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return e}(toe),xUe=function(n){Bh(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return e}(toe);ce(new SUe);ce(new TUe);ce(new DUe);ce(new AUe);ce(new IUe);ce(new xUe);var CB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},PS=function(n,e){return function(t,r){e(t,r,n)}},roe=new Ke("accessibilityHelpWidgetVisible",!1),wB=function(n){CB(e,n);function e(t,r){var i=n.call(this)||this;return i._editor=t,i._widget=i._register(r.createInstance(NUe,i._editor)),i}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.show=function(){this._widget.show()},e.prototype.hide=function(){this._widget.hide()},e.ID="editor.contrib.accessibilityHelpController",e=noe([PS(1,cr)],e),e}(fe);function LUe(n,e){return!n||n.length===0?Jn.noSelection:n.length===1?e?Yt(Jn.singleSelectionRange,n[0].positionLineNumber,n[0].positionColumn,e):Yt(Jn.singleSelection,n[0].positionLineNumber,n[0].positionColumn):e?Yt(Jn.multiSelectionRange,n.length,e):n.length>0?Yt(Jn.multiSelection,n.length):""}var NUe=function(n){CB(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._contextKeyService=r,s._keybindingService=i,s._openerService=o,s._editor=t,s._isVisibleKey=roe.bindTo(s._contextKeyService),s._domNode=wt(document.createElement("div")),s._domNode.setClassName("accessibilityHelpWidget"),s._domNode.setDisplay("none"),s._domNode.setAttribute("role","dialog"),s._domNode.setAttribute("aria-hidden","true"),s._contentDomNode=wt(document.createElement("div")),s._contentDomNode.setAttribute("role","document"),s._domNode.appendChild(s._contentDomNode),s._isVisible=!1,s._register(s._editor.onDidLayoutChange(function(){s._isVisible&&s._layout()})),s._register(hi(s._contentDomNode.domNode,"keydown",function(a){if(s._isVisible&&(a.equals(2083)&&(ji(Jn.emergencyConfOn),s._editor.updateOptions({accessibilitySupport:"on"}),ca(s._contentDomNode.domNode),s._buildContent(),s._contentDomNode.domNode.focus(),a.preventDefault(),a.stopPropagation()),a.equals(2086))){ji(Jn.openingDocs);var u=s._editor.getRawConfiguration().accessibilityHelpUrl;typeof u>"u"&&(u="https://go.microsoft.com/fwlink/?linkid=852450"),s._openerService.open(Ft.parse(u)),a.preventDefault(),a.stopPropagation()}})),s.onblur(s._contentDomNode.domNode,function(){s.hide()}),s._editor.addOverlayWidget(s),s}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.getPosition=function(){return{preference:null}},e.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},e.prototype._descriptionForCommand=function(t,r,i){var o=this._keybindingService.lookupKeybinding(t);return o?Yt(r,o.getAriaLabel()):Yt(i,t)},e.prototype._buildContent=function(){var t=this._editor.getConfiguration(),r=this._editor.getSelections(),i=0;if(r){var o=this._editor.getModel();o&&r.forEach(function(l){i+=o.getValueLengthInRange(l)})}var s=LUe(r,i);t.wrappingInfo.inDiffEditor?t.readOnly?s+=Jn.readonlyDiffEditor:s+=Jn.editableDiffEditor:t.readOnly?s+=Jn.readonlyEditor:s+=Jn.editableEditor;var a=Tt?Jn.changeConfigToOnMac:Jn.changeConfigToOnWinLinux;switch(t.accessibilitySupport){case 0:s+=`

 - `+a;break;case 2:s+=`

 - `+Jn.auto_on;break;case 1:s+=`

 - `+Jn.auto_off,s+=" "+a;break}t.tabFocusMode?s+=`

 - `+this._descriptionForCommand(_3.ID,Jn.tabFocusModeOnMsg,Jn.tabFocusModeOnMsgNoKb):s+=`

 - `+this._descriptionForCommand(_3.ID,Jn.tabFocusModeOffMsg,Jn.tabFocusModeOffMsgNoKb);var u=Tt?Jn.openDocMac:Jn.openDocWinLinux;s+=`

 - `+u,s+=`

`+Jn.outroMsg,this._contentDomNode.domNode.appendChild(bre(s)),this._contentDomNode.domNode.setAttribute("aria-label",s)},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,ca(this._contentDomNode.domNode),this._editor.focus())},e.prototype._layout=function(){var t=this._editor.getLayoutInfo(),r=Math.max(5,Math.min(e.WIDTH,t.width-40)),i=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(r),this._domNode.setHeight(i);var o=Math.round((t.height-i)/2);this._domNode.setTop(o);var s=Math.round((t.width-r)/2);this._domNode.setLeft(s)},e.ID="editor.contrib.accessibilityHelpWidget",e.WIDTH=500,e.HEIGHT=300,e=noe([PS(1,yt),PS(2,wr),PS(3,bh)],e),e}(os),OUe=function(n){CB(e,n);function e(){return n.call(this,{id:"editor.action.showAccessibilityHelp",label:Jn.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:Es?2107:571,weight:100}})||this}return e.prototype.run=function(t,r){var i=wB.get(r);i&&i.show()},e}(Ue);Cn(wB);pe(OUe);var kUe=Do.bindToContribution(wB.get);ce(new kUe({id:"closeAccessibilityHelp",precondition:roe,handler:function(n){return n.hide()},kbOpts:{weight:200,kbExpr:W.focus,primary:9,secondary:[1033]}}));mn(function(n,e){var t=n.getColor(fl);t&&e.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+t+"; }");var r=n.getColor(pte);r&&e.addRule(".monaco-editor .accessibilityHelpWidget { color: "+r+"; }");var i=n.getColor(ig);i&&e.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+i+"; }");var o=n.getColor(Mr);o&&e.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+o+"; }")});var ioe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RUe=function(n){ioe(e,n);function e(t){var r=n.call(this)||this;return r.editor=t,r.widget=null,bT&&(r._register(t.onDidChangeConfiguration(function(){return r.update()})),r.update()),r}return e.prototype.update=function(){var t=!this.editor.getConfiguration().readOnly;!this.widget&&t?this.widget=new PUe(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e}(fe),PUe=function(n){ioe(e,n);function e(t){var r=n.call(this)||this;return r.editor=t,r._domNode=document.createElement("textarea"),r._domNode.className="iPadShowKeyboard",r._register(_e(r._domNode,"touchstart",function(i){r.editor.focus()})),r._register(_e(r._domNode,"focus",function(i){r.editor.focus()})),r.editor.addOverlayWidget(r),r}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:1}},e.ID="editor.contrib.ShowKeyboardWidget",e}(fe);Cn(RUe);var EB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MUe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kG=function(n,e){return function(t,r){e(t,r,n)}},ooe=function(n){EB(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._modeService=i,o._widget=null,o._register(o._editor.onDidChangeModel(function(s){return o.stop()})),o._register(o._editor.onDidChangeModelLanguage(function(s){return o.stop()})),o._register(Bn.onDidChange(function(s){return o.stop()})),o}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.stop(),n.prototype.dispose.call(this)},e.prototype.launch=function(){this._widget||this._editor.hasModel()&&(this._widget=new VUe(this._editor,this._modeService))},e.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},e.ID="editor.contrib.inspectTokens",e=MUe([kG(1,sg),kG(2,Oh)],e),e}(fe),FUe=function(n){EB(e,n);function e(){return n.call(this,{id:"editor.action.inspectTokens",label:wM.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})||this}return e.prototype.run=function(t,r){var i=ooe.get(r);i&&i.launch()},e}(Ue);function BUe(n){for(var e="",t=0,r=n.length;t<r;t++){var i=n.charCodeAt(t);switch(i){case 9:e+="&rarr;";break;case 32:e+="&middot;";break;case 60:e+="&lt;";break;case 62:e+="&gt;";break;case 38:e+="&amp;";break;default:e+=String.fromCharCode(i)}}return e}function HUe(n){var e=Bn.get(n.language);return e||{getInitialState:function(){return oC},tokenize:function(t,r,i){return oee(n.language,t,r,i)},tokenize2:function(t,r,i){return p6(n.id,t,r,i)}}}var VUe=function(n){EB(e,n);function e(t,r){var i=n.call(this)||this;return i.allowEditorOverflow=!0,i._editor=t,i._modeService=r,i._model=i._editor.getModel(),i._domNode=document.createElement("div"),i._domNode.className="tokens-inspect-widget",i._tokenizationSupport=HUe(i._model.getLanguageIdentifier()),i._compute(i._editor.getPosition()),i._register(i._editor.onDidChangeCursorPosition(function(o){return i._compute(i._editor.getPosition())})),i._editor.addContentWidget(i),i}return e.prototype.dispose=function(){this._editor.removeContentWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e._ID},e.prototype._compute=function(t){for(var r=this._getTokensAtLine(t.lineNumber),i=0,o=r.tokens1.length-1;o>=0;o--){var s=r.tokens1[o];if(t.column-1>=s.offset){i=o;break}}for(var a=0,o=r.tokens2.length>>>1;o>=0;o--)if(t.column-1>=r.tokens2[o<<1]){a=o;break}var u="",l=this._model.getLineContent(t.lineNumber),c="";if(i<r.tokens1.length){var d=r.tokens1[i].offset,h=i+1<r.tokens1.length?r.tokens1[i+1].offset:l.length;c=l.substring(d,h)}u+='<h2 class="tm-token">'+BUe(c)+'<span class="tm-token-length">('+c.length+" "+(c.length===1?"char":"chars")+")</span></h2>",u+='<hr class="tokens-inspect-separator" style="clear:both"/>';var p=this._decodeMetadata(r.tokens2[(a<<1)+1]);u+='<table class="tm-metadata-table"><tbody>',u+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+ra(p.languageIdentifier.language)+"</td>",u+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(p.tokenType)+"</td>",u+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(p.fontStyle)+"</td>",u+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+se.Format.CSS.formatHex(p.foreground)+"</td>",u+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+se.Format.CSS.formatHex(p.background)+"</td>",u+="</tbody></table>",u+='<hr class="tokens-inspect-separator"/>',i<r.tokens1.length&&(u+='<span class="tm-token-type">'+ra(r.tokens1[i].type)+"</span>"),this._domNode.innerHTML=u,this._editor.layoutContentWidget(this)},e.prototype._decodeMetadata=function(t){var r=Bn.getColorMap(),i=uu.getLanguageId(t),o=uu.getTokenType(t),s=uu.getFontStyle(t),a=uu.getForeground(t),u=uu.getBackground(t);return{languageIdentifier:this._modeService.getLanguageIdentifier(i),tokenType:o,fontStyle:s,foreground:r[a],background:r[u]}},e.prototype._tokenTypeToString=function(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},e.prototype._fontStyleToString=function(t){var r="";return t&1&&(r+="italic "),t&2&&(r+="bold "),t&4&&(r+="underline "),r.length===0&&(r="---"),r},e.prototype._getTokensAtLine=function(t){var r=this._getStateBeforeLine(t),i=this._tokenizationSupport.tokenize(this._model.getLineContent(t),r,0),o=this._tokenizationSupport.tokenize2(this._model.getLineContent(t),r,0);return{startState:r,tokens1:i.tokens,tokens2:o.tokens,endState:i.endState}},e.prototype._getStateBeforeLine=function(t){for(var r=this._tokenizationSupport.getInitialState(),i=1;i<t;i++){var o=this._tokenizationSupport.tokenize(this._model.getLineContent(i),r,0);r=o.endState}return r},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}},e._ID="editor.contrib.inspectTokensWidget",e}(fe);Cn(ooe);pe(FUe);mn(function(n,e){var t=n.getColor(j6);if(t){var r=n.type===Lm?2:1;e.addRule(".monaco-editor .tokens-inspect-widget { border: "+r+"px solid "+t+"; }"),e.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+t+"; }")}var i=n.getColor(Rp);i&&e.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+i+"; }")});var fy=Ve,WUe=function(){function n(e,t,r){this.os=t,this.options=r,this.domNode=Ce(e,fy(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}return n.prototype.set=function(e,t){this.didEverRender&&this.keybinding===e&&n.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())},n.prototype.render=function(){if(ca(this.domNode),this.keybinding){var e=this.keybinding.getParts(),t=e[0],r=e[1];t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),r&&(Ce(this.domNode,fy("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,r,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0},n.prototype.renderPart=function(e,t,r){var i=wee.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,!!(r&&r.ctrlKey),i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,!!(r&&r.shiftKey),i.separator),t.altKey&&this.renderKey(e,i.altKey,!!(r&&r.altKey),i.separator),t.metaKey&&this.renderKey(e,i.metaKey,!!(r&&r.metaKey),i.separator);var o=t.keyLabel;o&&this.renderKey(e,o,!!(r&&r.keyCode),"")},n.prototype.renderKey=function(e,t,r,i){Ce(e,fy("span.monaco-keybinding-key"+(r?".highlight":""),void 0,t)),i&&Ce(e,fy("span.monaco-keybinding-key-separator",void 0,i))},n.prototype.renderUnbound=function(e){Ce(e,fy("span.monaco-keybinding-key",void 0,D("unbound","Unbound")))},n.areSame=function(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&Qf(e.firstPart,t.firstPart)&&Qf(e.chordPart,t.chordPart)},n}(),UUe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jUe=0,SB=function(){function n(e){e===void 0&&(e=[]),this.id=(jUe++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){},n.prototype.getLabelOptions=function(){},n.prototype.getAriaLabel=function(){return Wc([this.getLabel(),this.getDescription(),this.getDetail()]).join(", ")},n.prototype.getDetail=function(){},n.prototype.getIcon=function(){},n.prototype.getDescription=function(){},n.prototype.getTooltip=function(){},n.prototype.getDescriptionTooltip=function(){},n.prototype.getKeybinding=function(){},n.prototype.isHidden=function(){return!!this.hidden},n.prototype.setHighlights=function(e,t,r){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=r},n.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},n.prototype.run=function(e,t){return!1},n}(),nb=function(n){UUe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.entry=t,o.groupLabel=r,o.withBorder=i,o}return e.prototype.getGroupLabel=function(){return this.groupLabel},e.prototype.setGroupLabel=function(t){this.groupLabel=t},e.prototype.showBorder=function(){return!!this.withBorder},e.prototype.setShowBorder=function(t){this.withBorder=t},e.prototype.getLabel=function(){return this.entry?this.entry.getLabel():n.prototype.getLabel.call(this)},e.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():n.prototype.getLabelOptions.call(this)},e.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():n.prototype.getAriaLabel.call(this)},e.prototype.getDetail=function(){return this.entry?this.entry.getDetail():n.prototype.getDetail.call(this)},e.prototype.getIcon=function(){return this.entry?this.entry.getIcon():n.prototype.getIcon.call(this)},e.prototype.getDescription=function(){return this.entry?this.entry.getDescription():n.prototype.getDescription.call(this)},e.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():n.prototype.getHighlights.call(this)},e.prototype.isHidden=function(){return this.entry?this.entry.isHidden():n.prototype.isHidden.call(this)},e.prototype.setHighlights=function(t,r,i){this.entry?this.entry.setHighlights(t,r,i):n.prototype.setHighlights.call(this,t,r,i)},e.prototype.run=function(t,r){return this.entry?this.entry.run(t,r):n.prototype.run.call(this,t,r)},e}(SB),soe=function(){function n(){}return n.prototype.hasActions=function(e,t){return!1},n.prototype.getActions=function(e,t){return null},n}(),qUe="quickOpenEntry",RG="quickOpenEntryGroup",zUe=function(){function n(e,t){e===void 0&&(e=new soe),this.actionProvider=e,this.actionRunner=t}return n.prototype.getHeight=function(e){return e.getDetail()?44:22},n.prototype.getTemplateId=function(e){return e instanceof nb?RG:qUe},n.prototype.renderTemplate=function(e,t,r){var i=document.createElement("div");De(i,"sub-content"),t.appendChild(i);var o=Ve(".quick-open-row"),s=Ve(".quick-open-row"),a=Ve(".quick-open-entry",void 0,o,s);i.appendChild(a);var u=document.createElement("span");o.appendChild(u);var l=new Z5(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportOcticons:!0}),c=document.createElement("span");o.appendChild(c),De(c,"quick-open-entry-keybinding");var d=new WUe(c,Qu),h=document.createElement("div");s.appendChild(h),De(h,"quick-open-entry-meta");var p=new Fv(h,!0),v;e===RG&&(v=document.createElement("div"),De(v,"results-group"),t.appendChild(v)),De(t,"actions");var m=document.createElement("div");De(m,"primary-action-bar"),t.appendChild(m);var _=new pC(m,{actionRunner:this.actionRunner});return{container:t,entry:a,icon:u,label:l,detail:p,keybinding:d,group:v,actionBar:_}},n.prototype.renderElement=function(e,t,r,i){this.actionProvider.hasActions(null,e)?De(r.container,"has-actions"):ot(r.container,"has-actions"),r.actionBar.context=e;var o=this.actionProvider.getActions(null,e);if(r.actionBar.isEmpty()&&o&&o.length>0?r.actionBar.push(o,{icon:!0,label:!1}):!r.actionBar.isEmpty()&&(!o||o.length===0)&&r.actionBar.clear(),e instanceof nb&&e.getGroupLabel()?De(r.container,"has-group-label"):ot(r.container,"has-group-label"),e instanceof nb){var s=e,a=r;s.showBorder()?(De(a.container,"results-group-separator"),i.pickerGroupBorder&&(a.container.style.borderTopColor=i.pickerGroupBorder.toString())):(ot(a.container,"results-group-separator"),a.container.style.borderTopColor=null);var u=s.getGroupLabel()||"";a.group&&(a.group.textContent=u,i.pickerGroupForeground&&(a.group.style.color=i.pickerGroupForeground.toString()))}if(e instanceof SB){var l=e.getHighlights(),c=l[0],d=l[1],h=l[2],p=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";r.icon.className=p;var v=e.getLabelOptions()||Object.create(null);v.matches=c||[],v.title=e.getTooltip(),v.descriptionTitle=e.getDescriptionTooltip()||e.getDescription(),v.descriptionMatches=d||[],r.label.setLabel(qA(e.getLabel()),e.getDescription(),v),r.detail.set(e.getDetail(),h),r.keybinding.set(e.getKeybinding())}},n.prototype.disposeTemplate=function(e,t){t.actionBar.dispose(),t.actionBar=null,t.container=null,t.entry=null,t.keybinding=null,t.detail=null,t.group=null,t.icon=null,t.label.dispose(),t.label=null},n}(),TB=function(){function n(e,t){e===void 0&&(e=[]),t===void 0&&(t=new soe),this._entries=e,this._dataSource=this,this._renderer=new zUe(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(n.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),n.prototype.getId=function(e){return e.getId()},n.prototype.getLabel=function(e){return Cm(e.getLabel())},n.prototype.getAriaLabel=function(e){var t=e.getAriaLabel();return t?D("quickOpenAriaLabelEntry","{0}, picker",e.getAriaLabel()):D("quickOpenAriaLabel","picker")},n.prototype.isVisible=function(e){return!e.isHidden()},n.prototype.run=function(e,t,r){return e.run(t,r)},n}(),GUe=function(){function n(e){this.modelProvider=jy(e.getModel)?e:{getModel:function(){return e}}}return n.prototype.getId=function(e,t){if(!t)return null;var r=this.modelProvider.getModel();return r===t?"__root__":r.dataSource.getId(t)},n.prototype.hasChildren=function(e,t){var r=this.modelProvider.getModel();return!!(r&&r===t&&r.entries.length>0)},n.prototype.getChildren=function(e,t){var r=this.modelProvider.getModel();return Promise.resolve(r===t?r.entries:[])},n.prototype.getParent=function(e,t){return Promise.resolve(null)},n}(),$Ue=function(){function n(e){this.modelProvider=e}return n.prototype.getAriaLabel=function(e,t){var r=this.modelProvider.getModel();return r.accessibilityProvider?r.accessibilityProvider.getAriaLabel(t):null},n.prototype.getPosInSet=function(e,t){var r=this.modelProvider.getModel(),i=0;if(r.filter)for(var o=0,s=r.entries;o<s.length;o++){var a=s[o];if(r.filter.isVisible(a)&&i++,a===t)break}else i=r.entries.indexOf(t)+1;return String(i)},n.prototype.getSetSize=function(){var e=this.modelProvider.getModel(),t=0;if(e.filter)for(var r=0,i=e.entries;r<i.length;r++){var o=i[r];e.filter.isVisible(o)&&t++}else t=e.entries.length;return String(t)},n}(),KUe=function(){function n(e){this.modelProvider=e}return n.prototype.isVisible=function(e,t){var r=this.modelProvider.getModel();return r.filter?r.filter.isVisible(t):!0},n}(),YUe=function(){function n(e,t){this.modelProvider=e,this.styles=t}return n.prototype.updateStyles=function(e){this.styles=e},n.prototype.getHeight=function(e,t){var r=this.modelProvider.getModel();return r.renderer.getHeight(t)},n.prototype.getTemplateId=function(e,t){var r=this.modelProvider.getModel();return r.renderer.getTemplateId(t)},n.prototype.renderTemplate=function(e,t,r){var i=this.modelProvider.getModel();return i.renderer.renderTemplate(t,r,this.styles)},n.prototype.renderElement=function(e,t,r,i){var o=this.modelProvider.getModel();o.renderer.renderElement(t,r,i,this.styles)},n.prototype.disposeTemplate=function(e,t,r){var i=this.modelProvider.getModel();i.renderer.disposeTemplate(t,r)},n}(),PG=function(){function n(){this._arr=[]}return n.prototype.set=function(e,t){this._arr.push({keybinding:_T(e,Qu),callback:t})},n.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var r=this._arr[t];if(e.toChord().equals(r.keybinding))return r.callback}return null},n}(),aoe=function(){function n(e){var t=this;e===void 0&&(e={clickBehavior:0,keyboardSupport:!0,openMode:0}),this.options=e,this.downKeyBindingDispatcher=new PG,this.upKeyBindingDispatcher=new PG,(typeof e.keyboardSupport!="boolean"||e.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(r,i){return t.onUp(r,i)}),this.downKeyBindingDispatcher.set(18,function(r,i){return t.onDown(r,i)}),this.downKeyBindingDispatcher.set(15,function(r,i){return t.onLeft(r,i)}),this.downKeyBindingDispatcher.set(17,function(r,i){return t.onRight(r,i)}),Tt&&(this.downKeyBindingDispatcher.set(2064,function(r,i){return t.onLeft(r,i)}),this.downKeyBindingDispatcher.set(300,function(r,i){return t.onDown(r,i)}),this.downKeyBindingDispatcher.set(302,function(r,i){return t.onUp(r,i)})),this.downKeyBindingDispatcher.set(11,function(r,i){return t.onPageUp(r,i)}),this.downKeyBindingDispatcher.set(12,function(r,i){return t.onPageDown(r,i)}),this.downKeyBindingDispatcher.set(14,function(r,i){return t.onHome(r,i)}),this.downKeyBindingDispatcher.set(13,function(r,i){return t.onEnd(r,i)}),this.downKeyBindingDispatcher.set(10,function(r,i){return t.onSpace(r,i)}),this.downKeyBindingDispatcher.set(9,function(r,i){return t.onEscape(r,i)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return n.prototype.onMouseDown=function(e,t,r,i){return i===void 0&&(i="mouse"),this.options.clickBehavior===0&&(r.leftButton||r.middleButton)?r.target&&(r.target.tagName&&r.target.tagName.toLowerCase()==="input"||lM(r.target,"scrollbar","monaco-tree")||lM(r.target,"monaco-action-bar","row"))?!1:this.onLeftClick(e,t,r,i):!1},n.prototype.onClick=function(e,t,r){var i=Tt;return i&&r.ctrlKey?(r.preventDefault(),r.stopPropagation(),!1):r.target&&r.target.tagName&&r.target.tagName.toLowerCase()==="input"||this.options.clickBehavior===0&&(r.leftButton||r.middleButton)?!1:this.onLeftClick(e,t,r)},n.prototype.onLeftClick=function(e,t,r,i){i===void 0&&(i="mouse");var o=r,s={origin:i,originalEvent:r,didClickOnTwistie:this.isClickOnTwistie(o)};if(e.getInput()===t)e.clearFocus(s),e.clearSelection(s);else{var a=r&&o.browserEvent&&o.browserEvent.type==="mousedown"&&o.browserEvent.detail===1;a||r.preventDefault(),r.stopPropagation(),e.domFocus(),e.setSelection([t],s),e.setFocus(t,s),this.shouldToggleExpansion(t,o,i)&&(e.isExpanded(t)?e.collapse(t).then(void 0,He):e.expand(t).then(void 0,He))}return!0},n.prototype.shouldToggleExpansion=function(e,t,r){var i=r==="mouse"&&t.detail===2;return this.openOnSingleClick||i||this.isClickOnTwistie(t)},Object.defineProperty(n.prototype,"openOnSingleClick",{get:function(){return this.options.openMode===0},enumerable:!0,configurable:!0}),n.prototype.isClickOnTwistie=function(e){var t=e.target;if(!Eu(t,"content"))return!1;var r=window.getComputedStyle(t,":before");if(r.backgroundImage==="none"||r.display==="none")return!1;var i=parseInt(r.width)+parseInt(r.paddingRight);return e.browserEvent.offsetX<=i},n.prototype.onContextMenu=function(e,t,r){return r.target&&r.target.tagName&&r.target.tagName.toLowerCase()==="input"||r&&(r.preventDefault(),r.stopPropagation()),!1},n.prototype.onTap=function(e,t,r){var i=r.initialTarget;return i&&i.tagName&&i.tagName.toLowerCase()==="input"?!1:this.onLeftClick(e,t,r,"touch")},n.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},n.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},n.prototype.onKey=function(e,t,r){var i=e.dispatch(r.toKeybinding());return i&&i(t,r)?(r.preventDefault(),r.stopPropagation(),!0):!1},n.prototype.onUp=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusPrevious(1,r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onPageUp=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusPreviousPage(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onDown=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusNext(1,r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onPageDown=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusNextPage(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onHome=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusFirst(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onEnd=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusLast(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onLeft=function(e,t){var r={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(r);else{var i=e.getFocus();e.collapse(i).then(function(o){if(i&&!o)return e.focusParent(r),e.reveal(e.getFocus())}).then(void 0,He)}return!0},n.prototype.onRight=function(e,t){var r={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(r);else{var i=e.getFocus();e.expand(i).then(function(o){if(i&&!o)return e.focusFirstChild(r),e.reveal(e.getFocus())}).then(void 0,He)}return!0},n.prototype.onEnter=function(e,t){var r={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],r),!0},n.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var r=e.getFocus();return r&&e.toggleExpansion(r),!0},n.prototype.onEscape=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(r),!0):e.getSelection().length?(e.clearSelection(r),!0):e.getFocus()?(e.clearFocus(r),!0):!1},n}(),XUe=function(){function n(){}return n.prototype.getDragURI=function(e,t){return null},n.prototype.onDragStart=function(e,t,r){},n.prototype.onDragOver=function(e,t,r,i){return null},n.prototype.drop=function(e,t,r,i){},n}(),QUe=function(){function n(){}return n.prototype.isVisible=function(e,t){return!0},n}(),ZUe=function(){function n(){}return n.prototype.getAriaLabel=function(e,t){return null},n}(),JUe=function(){function n(e,t){this.styleElement=e,this.selectorSuffix=t}return n.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",r=[];e.listFocusBackground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+e.listFocusBackground+"; }"),e.listFocusForeground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listActiveSelectionBackground+"; }"),e.listActiveSelectionForeground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&r.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+e.listFocusAndSelectionBackground+`; }
			`),e.listFocusAndSelectionForeground&&r.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+e.listFocusAndSelectionForeground+`; }
			`),e.listInactiveSelectionBackground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listInactiveSelectionBackground+"; }"),e.listInactiveSelectionForeground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+e.listHoverBackground+"; }"),e.listHoverForeground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+e.listHoverForeground+"; }"),e.listDropBackground&&r.push(`
				.monaco-tree`+t+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+e.listDropBackground+` !important; color: inherit !important; }
			`),e.listFocusOutline&&r.push(`
				.monaco-tree-drag-image																															{ border: 1px solid `+e.listFocusOutline+`; background: #000; }
				.monaco-tree`+t+` .monaco-tree-rows > .monaco-tree-row 														{ border: 1px solid transparent; }
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) 						{ border: 1px dotted "+e.listFocusOutline+`; }
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) 						{ border: 1px solid "+e.listFocusOutline+`; }
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  							{ border: 1px solid "+e.listFocusOutline+`; }
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  	{ border: 1px dashed "+e.listFocusOutline+`; }
				.monaco-tree`+t+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row.drop-target												{ border: 1px dashed "+e.listFocusOutline+`; }
			`);var i=r.join(`
`);i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},n}(),e7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t7e=function(){function n(e){this._onDispose=new Q,this.onDispose=this._onDispose.event,this._item=e}return Object.defineProperty(n.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=void 0)},n}(),n7e=function(){function n(){this.locks=Object.create({})}return n.prototype.isLocked=function(e){return!!this.locks[e.id]},n.prototype.run=function(e,t){var r=this,i=this.getLock(e);if(i)return new Promise(function(s,a){Je.once(i.onDispose)(function(){return r.run(e,t).then(s,a)})});var o;return new Promise(function(s,a){if(e.isDisposed())return a(new Error("Item is disposed."));var u=r.locks[e.id]=new t7e(e);return o=t().then(function(l){return delete r.locks[e.id],u.dispose(),l}).then(s,a),o})},n.prototype.getLock=function(e){var t;for(t in this.locks){var r=this.locks[t];if(e.intersects(r.item))return r}return null},n}(),r7e=function(){function n(){this._isDisposed=!1,this._onDidRevealItem=new Ka,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new Ka,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new Ka,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new Ka,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new Ka,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new Ka,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new Ka,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new Ka,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new Ka,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new Ka,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new Ka,this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}return n.prototype.register=function(e){Zv(!this.isRegistered(e.id),"item already registered: "+e.id);var t=al(this._onDidRevealItem.add(e.onDidReveal),this._onExpandItem.add(e.onExpand),this._onDidExpandItem.add(e.onDidExpand),this._onCollapseItem.add(e.onCollapse),this._onDidCollapseItem.add(e.onDidCollapse),this._onDidAddTraitItem.add(e.onDidAddTrait),this._onDidRemoveTraitItem.add(e.onDidRemoveTrait),this._onDidRefreshItem.add(e.onDidRefresh),this._onRefreshItemChildren.add(e.onRefreshChildren),this._onDidRefreshItemChildren.add(e.onDidRefreshChildren),this._onDidDisposeItem.add(e.onDidDispose));this.items[e.id]={item:e,disposable:t}},n.prototype.deregister=function(e){Zv(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},n.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},n.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},n.prototype.dispose=function(){this.items=null,this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},n.prototype.isDisposed=function(){return this._isDisposed},n}(),uoe=function(){function n(e,t,r,i,o){this._onDidCreate=new Q,this._onDidReveal=new Q,this.onDidReveal=this._onDidReveal.event,this._onExpand=new Q,this.onExpand=this._onExpand.event,this._onDidExpand=new Q,this.onDidExpand=this._onDidExpand.event,this._onCollapse=new Q,this.onCollapse=this._onCollapse.event,this._onDidCollapse=new Q,this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new Q,this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new Q,this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new Q,this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new Q,this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new Q,this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new Q,this.onDidDispose=this._onDidDispose.event,this.registry=t,this.context=r,this.lock=i,this.element=o,this.id=e,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=!!(this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,o)),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return n.prototype.getElement=function(){return this.element},n.prototype.hasChildren=function(){return this.doesHaveChildren},n.prototype.getDepth=function(){return this.depth},n.prototype.isVisible=function(){return this.visible},n.prototype.setVisible=function(e){this.visible=e},n.prototype.isExpanded=function(){return this.expanded},n.prototype._setExpanded=function(e){this.expanded=e},n.prototype.reveal=function(e){e===void 0&&(e=null);var t={item:this,relativeTop:e};this._onDidReveal.fire(t)},n.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return Promise.resolve(!1);var t=this.lock.run(this,function(){if(e.isExpanded()||!e.doesHaveChildren)return Promise.resolve(!1);var r={item:e},i;return e._onExpand.fire(r),e.needsChildrenRefresh?i=e.refreshChildren(!1,!0,!0):i=Promise.resolve(null),i.then(function(){return e._setExpanded(!0),e._onDidExpand.fire(r),!0})});return t.then(function(r){return e.isDisposed()?!1:e.context.options.autoExpandSingleChildren&&r&&e.firstChild!==null&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):r})},n.prototype.collapse=function(e){var t=this;if(e===void 0&&(e=!1),e){var r=Promise.resolve(null);return this.forEachChild(function(i){r=r.then(function(){return i.collapse(!0)})}),r.then(function(){return t.collapse(!1)})}else return!this.isExpanded()||this.lock.isLocked(this)?Promise.resolve(!1):this.lock.run(this,function(){var i={item:t};return t._onCollapse.fire(i),t._setExpanded(!1),t._onDidCollapse.fire(i),Promise.resolve(!0)})},n.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this._onDidAddTrait.fire(t)},n.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this._onDidRemoveTrait.fire(t)},n.prototype.hasTrait=function(e){return this.traits[e]||!1},n.prototype.getAllTraits=function(){var e=[],t;for(t in this.traits)this.traits.hasOwnProperty(t)&&this.traits[t]&&e.push(t);return e},n.prototype.getHeight=function(){return this.height},n.prototype.refreshChildren=function(e,t,r){var i=this;if(t===void 0&&(t=!1),r===void 0&&(r=!1),!r&&!this.isExpanded()){var o=function(a){a.needsChildrenRefresh=!0,a.forEachChild(o)};return o(this),Promise.resolve(this)}this.needsChildrenRefresh=!1;var s=function(){var a={item:i,isNested:t};i._onRefreshChildren.fire(a);var u;i.doesHaveChildren?u=i.context.dataSource.getChildren(i.context.tree,i.element):u=Promise.resolve([]);var l=u.then(function(c){if(i.isDisposed()||i.registry.isDisposed())return Promise.resolve(null);if(!Array.isArray(c))return Promise.reject(new Error("Please return an array of children."));c=c?c.slice(0):[],c=i.sort(c);for(var d={};i.firstChild!==null;)d[i.firstChild.id]=i.firstChild,i.removeChild(i.firstChild);for(var h=0,p=c.length;h<p;h++){var v=c[h],m=i.context.dataSource.getId(i.context.tree,v),_=d[m]||new n(m,i.registry,i.context,i.lock,v);_.element=v,e&&(_.needsChildrenRefresh=e),delete d[m],i.addChild(_)}for(var b in d)d.hasOwnProperty(b)&&d[b].dispose();return e?Promise.all(i.mapEachChild(function(C){return C.doRefresh(e,!0)})):Promise.all(i.mapEachChild(function(C){return C.isExpanded()&&C.needsChildrenRefresh?C.doRefresh(e,!0):(C.updateVisibility(),Promise.resolve(null))}))});return l.then(void 0,He).then(function(){return i._onDidRefreshChildren.fire(a)})};return t?s():this.lock.run(this,s)},n.prototype.doRefresh=function(e,t){return t===void 0&&(t=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(e,t)},n.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},n.prototype.refresh=function(e){return this.doRefresh(e)},n.prototype.getNavigator=function(){return new loe(this)},n.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},n.prototype.isAncestorOf=function(e){for(var t=e;t;){if(t.id===this.id)return!0;t=t.parent}return!1},n.prototype.addChild=function(e,t){t===void 0&&(t=this.lastChild);var r=this.firstChild===null,i=t===null,o=t===this.lastChild;if(r)this.firstChild=this.lastChild=e,e.next=e.previous=null;else if(i){if(!this.firstChild)throw new Error("Invalid tree state");this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e}else if(o){if(!this.lastChild)throw new Error("Invalid tree state");this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e}else{if(e.previous=t,!t)throw new Error("Invalid tree state");if(e.next=t.next,!t.next)throw new Error("Invalid tree state");t.next.previous=e,t.next=e}e.parent=this,e.depth=this.depth+1},n.prototype.removeChild=function(e){var t=this.firstChild===e,r=this.lastChild===e;if(t&&r)this.firstChild=this.lastChild=null;else if(t){if(!e.next)throw new Error("Invalid tree state");e.next.previous=null,this.firstChild=e.next}else if(r){if(!e.previous)throw new Error("Invalid tree state");e.previous.next=null,this.lastChild=e.previous}else{if(!e.next)throw new Error("Invalid tree state");if(e.next.previous=e.previous,!e.previous)throw new Error("Invalid tree state");e.previous.next=e.next}e.parent=null,e.depth=NaN},n.prototype.forEachChild=function(e){for(var t=this.firstChild,r;t;)r=t.next,e(t),t=r},n.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(r){t.push(e(r))}),t},n.prototype.sort=function(e){var t=this,r=this.context.sorter;return r?e.sort(function(i,o){return r.compare(t.context.tree,i,o)}):e},n.prototype._getHeight=function(){return this.context.renderer?this.context.renderer.getHeight(this.context.tree,this.element):0},n.prototype._isVisible=function(){return this.context.filter?this.context.filter.isVisible(this.context.tree,this.element):!1},n.prototype.isDisposed=function(){return this._isDisposed},n.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},n}(),y3=function(n){e7e(e,n);function e(t,r,i,o,s){return n.call(this,t,r,i,o,s)||this}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(t){},e.prototype.isExpanded=function(){return!0},e.prototype._setExpanded=function(t){},e.prototype._getHeight=function(){return 0},e.prototype._isVisible=function(){return!1},e}(uoe),loe=function(){function n(e,t){t===void 0&&(t=!0),this.item=e,this.start=t?e:null}return n.lastDescendantOf=function(e){return e?e instanceof y3?n.lastDescendantOf(e.lastChild):e.isVisible()?!e.isExpanded()||e.lastChild===null?e:n.lastDescendantOf(e.lastChild):n.lastDescendantOf(e.previous):null},n.prototype.current=function(){return this.item||null},n.prototype.next=function(){if(this.item)do if((this.item instanceof y3||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},n.prototype.previous=function(){if(this.item)do{var e=n.lastDescendantOf(this.item.previous);e?this.item=e:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},n.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},n.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},n.prototype.last=function(){return n.lastDescendantOf(this.start)},n}(),i7e=function(){function n(e){this._onSetInput=new Q,this.onSetInput=this._onSetInput.event,this._onDidSetInput=new Q,this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new Q,this.onRefresh=this._onRefresh.event,this._onDidRefresh=new Q,this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new Q,this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new Q,this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new Q,this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new bi,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new bi,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new bi,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new bi,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new bi,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new bi,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new bi,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new bi,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new bi,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new bi,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new bi,this.context=e,this.input=null,this.traitsToItems={}}return n.prototype.setInput=function(e){var t=this,r={item:this.input};this._onSetInput.fire(r),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new n7e,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new r7e,this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem(function(o){return o.getAllTraits().forEach(function(s){return delete t.traitsToItems[s][o.id]})});var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new y3(i,this.registry,this.context,this.lock,e),r={item:this.input},this._onDidSetInput.fire(r),this.refresh(this.input)},n.prototype.getInput=function(){return this.input?this.input.getElement():null},n.prototype.refresh=function(e,t){var r=this;e===void 0&&(e=null),t===void 0&&(t=!0);var i=this.getItem(e);if(!i)return Promise.resolve(null);var o={item:i,recursive:t};return this._onRefresh.fire(o),i.refresh(t).then(function(){r._onDidRefresh.fire(o)})},n.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():Promise.resolve(!1)},n.prototype.collapse=function(e,t){t===void 0&&(t=!1);var r=this.getItem(e);return r?r.collapse(t):Promise.resolve(!1)},n.prototype.toggleExpansion=function(e,t){return t===void 0&&(t=!1),this.isExpanded(e)?this.collapse(e,t):this.expand(e)},n.prototype.isExpanded=function(e){var t=this.getItem(e);return t?t.isExpanded():!1},n.prototype.reveal=function(e,t){var r=this;return t===void 0&&(t=null),this.resolveUnknownParentChain(e).then(function(i){var o=Promise.resolve(null);return i.forEach(function(s){o=o.then(function(){return r.expand(s)})}),o}).then(function(){var i=r.getItem(e);if(i)return i.reveal(t)})},n.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(r){return r?t.resolveUnknownParentChain(r).then(function(i){return i.push(r),i}):Promise.resolve([])})},n.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var r={highlight:this.getHighlight(),payload:t};this._onDidHighlight.fire(r)},n.prototype.getHighlight=function(e){e===void 0&&(e=!1);var t=this.getElementsWithTrait("highlighted",e);return t.length===0?null:t[0]},n.prototype.setSelection=function(e,t){this.setTraits("selected",e);var r={selection:this.getSelection(),payload:t};this._onDidSelect.fire(r)},n.prototype.getSelection=function(e){return e===void 0&&(e=!1),this.getElementsWithTrait("selected",e)},n.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var r={focus:this.getFocus(),payload:t};this._onDidFocus.fire(r)},n.prototype.getFocus=function(e){e===void 0&&(e=!1);var t=this.getElementsWithTrait("focused",e);return t.length===0?null:t[0]},n.prototype.focusNext=function(e,t){e===void 0&&(e=1);for(var r=this.getFocus()||this.input,i,o=this.getNavigator(r,!1),s=0;s<e&&(i=o.next(),!!i);s++)r=i;this.setFocus(r,t)},n.prototype.focusPrevious=function(e,t){e===void 0&&(e=1);for(var r=this.getFocus()||this.input,i,o=this.getNavigator(r,!1),s=0;s<e&&(i=o.previous(),!!i);s++)r=i;this.setFocus(r,t)},n.prototype.focusParent=function(e){var t=this.getFocus()||this.input,r=this.getNavigator(t,!1),i=r.parent();i&&this.setFocus(i,e)},n.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input),r=this.getNavigator(t,!1),i=r.next(),o=r.parent();o===t&&this.setFocus(i,e)},n.prototype.focusFirst=function(e,t){this.focusNth(0,e,t)},n.prototype.focusNth=function(e,t,r){for(var i=this.getParent(r),o=this.getNavigator(i),s=o.first(),a=0;a<e;a++)s=o.next();s&&this.setFocus(s,t)},n.prototype.focusLast=function(e,t){var r=this.getParent(t),i;if(t&&r)i=r.lastChild;else{var o=this.getNavigator(r);i=o.last()}i&&this.setFocus(i,e)},n.prototype.getParent=function(e){if(e){var t=this.getItem(e);if(t&&t.parent)return t.parent}return this.getItem(this.input)},n.prototype.getNavigator=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!0),new loe(this.getItem(e),t)},n.prototype.getItem=function(e){return e===void 0&&(e=null),e===null?this.input:e instanceof uoe?e:typeof e=="string"?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},n.prototype.removeTraits=function(e,t){var r=this.traitsToItems[e]||{},i,o;if(t.length===0){for(o in r)r.hasOwnProperty(o)&&(i=r[o],i.removeTrait(e));delete this.traitsToItems[e]}else for(var s=0,a=t.length;s<a;s++)i=this.getItem(t[s]),i&&(i.removeTrait(e),delete r[i.id])},n.prototype.setTraits=function(e,t){if(t.length===0)this.removeTraits(e,t);else{for(var r={},i=void 0,o=0,s=t.length;o<s;o++)i=this.getItem(t[o]),i&&(r[i.id]=i);var a=this.traitsToItems[e]||{},u=[],l=void 0;for(l in a)a.hasOwnProperty(l)&&(r.hasOwnProperty(l)?delete r[l]:u.push(a[l]));for(var o=0,s=u.length;o<s;o++)i=u[o],i.removeTrait(e),delete a[i.id];for(l in r)r.hasOwnProperty(l)&&(i=r[l],i.addTrait(e),a[l]=i);this.traitsToItems[e]=a}},n.prototype.getElementsWithTrait=function(e,t){var r=[],i=this.traitsToItems[e]||{},o;for(o in i)i.hasOwnProperty(o)&&(i[o].isVisible()||t)&&r.push(i[o].getElement());return r},n.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},n}(),o7e=function(){function n(e){this.elements=e}return n.prototype.update=function(e){},n.prototype.getData=function(){return this.elements},n}(),s7e=function(){function n(e){this.elements=e}return n.prototype.update=function(e){},n.prototype.getData=function(){return this.elements},n}(),a7e=function(){function n(){this.types=[],this.files=[]}return n.prototype.update=function(e){e.types&&(this.types=[],Array.prototype.push.apply(this.types,e.types)),e.files&&(this.files=[],Array.prototype.push.apply(this.files,e.files),this.files=this.files.filter(function(t){return t.size||t.type}))},n.prototype.getData=function(){return{types:this.types,files:this.files}},n}(),u7e=function(){function n(){this.heightMap=[],this.indexes={}}return n.prototype.getContentHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},n.prototype.onInsertItems=function(e,t){t===void 0&&(t=null);var r=null,i,o,s,a,u=0;if(t===null)o=0,a=0;else{if(o=this.indexes[t]+1,i=this.heightMap[o-1],!i){console.error("view item doesnt exist");return}a=i.top+i.height}for(var l=this.heightMap.splice.bind(this.heightMap,o,0),c=[];r=e.next();)i=this.createViewItem(r),i.top=a+u,this.indexes[r.id]=o++,c.push(i),u+=i.height;for(l.apply(this.heightMap,c),s=o;s<this.heightMap.length;s++)i=this.heightMap[s],i.top+=u,this.indexes[i.model.id]=s;for(s=c.length-1;s>=0;s--)this.onInsertItem(c[s]);for(s=this.heightMap.length-1;s>=o;s--)this.onRefreshItem(this.heightMap[s]);return u},n.prototype.onInsertItem=function(e){},n.prototype.onRemoveItems=function(e){for(var t=null,r,i=null,o=0,s=0;t=e.next();){if(o=this.indexes[t],r=this.heightMap[o],!r){console.error("view item doesnt exist");return}s-=r.height,delete this.indexes[t],this.onRemoveItem(r),i===null&&(i=o)}if(!(s===0||i===null))for(this.heightMap.splice(i,o-i+1),o=i;o<this.heightMap.length;o++)r=this.heightMap[o],r.top+=s,this.indexes[r.model.id]=o,this.onRefreshItem(r)},n.prototype.onRemoveItem=function(e){},n.prototype.onRefreshItemSet=function(e){var t=this,r=e.sort(function(i,o){return t.indexes[i.id]-t.indexes[o.id]});this.onRefreshItems(new Nv(r))},n.prototype.onRefreshItems=function(e){for(var t=null,r,i,o,s=null,a=0;t=e.next();){for(o=this.indexes[t.id];a!==0&&s!==null&&s<o;s++)r=this.heightMap[s],r.top+=a,this.onRefreshItem(r);r=this.heightMap[o],i=t.getHeight(),r.top+=a,a+=i-r.height,r.height=i,this.onRefreshItem(r,!0),s=o+1}if(a!==0&&s!==null)for(;s<this.heightMap.length;s++)r=this.heightMap[s],r.top+=a,this.onRefreshItem(r)},n.prototype.onRefreshItem=function(e,t){},n.prototype.indexAt=function(e){for(var t=0,r=this.heightMap.length,i,o;t<r;)if(i=Math.floor((t+r)/2),o=this.heightMap[i],e<o.top)r=i;else if(e>=o.top+o.height){if(t===i)break;t=i}else return i;return this.heightMap.length},n.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},n.prototype.itemAtIndex=function(e){return this.heightMap[e]},n.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},n.prototype.createViewItem=function(e){throw new Error("not implemented")},n.prototype.dispose=function(){this.heightMap=[],this.indexes={}},n}(),coe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),foe=function(){function n(e,t,r){this._posx=e,this._posy=t,this._target=r}return n.prototype.preventDefault=function(){},n.prototype.stopPropagation=function(){},Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n}(),l7e=function(n){coe(e,n);function e(t){var r=n.call(this,t.posx,t.posy,t.target)||this;return r.originalEvent=t,r}return e.prototype.preventDefault=function(){this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},e}(foe),c7e=function(n){coe(e,n);function e(t,r,i){var o=n.call(this,t,r,i.target)||this;return o.originalEvent=i,o}return e.prototype.preventDefault=function(){this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},e}(foe),hoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function f7e(n){try{n.parentElement.removeChild(n)}catch{}}var h7e=function(){function n(e){this.context=e,this._cache={"":[]}}return n.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var r=document.createElement("div");r.className="content";var i=document.createElement("div");i.appendChild(r);var o=null;try{o=this.context.renderer.renderTemplate(this.context.tree,e,r)}catch(s){console.error("Tree usage error: exception while rendering template"),console.error(s)}t={element:i,templateId:e,templateData:o}}return t},n.prototype.release=function(e,t){f7e(t.element),this.cache(e).push(t)},n.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},n.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(r){e.context.renderer.disposeTemplate(e.context.tree,t,r.templateData),r.element=null,r.templateData=null}),delete e._cache[t]})},n.prototype.dispose=function(){this.garbageCollect(),this._cache=null},n}(),doe=function(){function n(e,t){var r=this;this.width=0,this.needsRender=!1,this.uri=null,this.unbindDragStart=fe.None,this._draggable=!1,this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(i){return r._styles[i]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(n.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),n.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},n.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},n.prototype.render=function(e){var t=this;if(e===void 0&&(e=!1),!(!this.model||!this.element)){var r=["monaco-tree-row"];r.push.apply(r,Object.keys(this._styles)),this.model.hasChildren()&&r.push("has-children"),this.element.className=r.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var i=this.context.accessibilityProvider,o=i.getAriaLabel(this.context.tree,this.model.getElement());if(o&&this.element.setAttribute("aria-label",o),i.getPosInSet&&i.getSetSize&&(this.element.setAttribute("aria-setsize",i.getSetSize()),this.element.setAttribute("aria-posinset",i.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var s=$J(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",s)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles.expanded)):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var a=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(a!==this.uri&&(this.unbindDragStart&&this.unbindDragStart.dispose(),a?(this.uri=a,this.draggable=!0,this.unbindDragStart=_e(this.element,"dragstart",function(c){t.onDragStart(c)})):this.uri=null),!e&&this.element){var u=0;if(this.context.horizontalScrolling){var l=window.getComputedStyle(this.element);u=parseFloat(l.paddingLeft)}this.context.horizontalScrolling&&(this.element.style.width="fit-content");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(c){console.error("Tree usage error: exception while rendering element"),console.error(c)}this.context.horizontalScrolling&&(this.width=wT(this.element)+u,this.element.style.width="")}}},n.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[b3.BINDING]=this),!this.element.parentElement){if(t===null)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch{console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},n.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart.dispose(),this.uri=null,this.element[b3.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},n.prototype.dispose=function(){this.row=null},n}(),d7e=function(n){hoe(e,n);function e(t,r,i){var o=n.call(this,t,r)||this;return o.row={element:i,templateData:null,templateId:null},o}return e.prototype.render=function(){if(!(!this.model||!this.element)){var t=["monaco-tree-wrapper"];t.push.apply(t,Object.keys(this._styles)),this.model.hasChildren()&&t.push("has-children"),this.element.className=t.join(" ")}},e.prototype.insertInDOM=function(t,r){},e.prototype.removeFromDOM=function(){},e}(doe);function p7e(n,e){return!n&&!e?!0:!n||!e||n.accept!==e.accept||n.bubble!==e.bubble?!1:n.effect===e.effect}var b3=function(n){hoe(e,n);function e(t,r){var i=n.call(this)||this;i.model=null,i.lastPointerType="",i.lastClickTimeStamp=0,i.contentWidthUpdateDelayer=new w_(50),i.isRefreshing=!1,i.refreshingPreviousChildrenIds={},i.currentDragAndDropData=null,i.currentDropTarget=null,i.currentDropTargets=null,i.currentDropDisposable=fe.None,i.dragAndDropScrollInterval=null,i.dragAndDropScrollTimeout=null,i.dragAndDropMouseY=null,i.highlightedItemWasDraggable=!1,i.onHiddenScrollTop=null,i._onDOMFocus=new Q,i.onDOMFocus=i._onDOMFocus.event,i._onDOMBlur=new Q,i._onDidScroll=new Q,e.counter++,i.instance=e.counter;var o=typeof t.options.horizontalScrollMode>"u"?2:t.options.horizontalScrollMode;i.horizontalScrolling=o!==2,i.context={dataSource:t.dataSource,renderer:t.renderer,controller:t.controller,dnd:t.dnd,filter:t.filter,sorter:t.sorter,tree:t.tree,accessibilityProvider:t.accessibilityProvider,options:t.options,cache:new h7e(t),horizontalScrolling:i.horizontalScrolling},i.modelListeners=[],i.viewListeners=[],i.items={},i.domNode=document.createElement("div"),i.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+i.instance,i.domNode.tabIndex=t.options.preventRootFocus?-1:0,i.styleElement=xh(i.domNode),i.treeStyler=t.styler||new JUe(i.styleElement,"monaco-tree-instance-"+i.instance),i.domNode.setAttribute("role","tree"),i.context.options.ariaLabel&&i.domNode.setAttribute("aria-label",i.context.options.ariaLabel),i.context.options.alwaysFocused&&De(i.domNode,"focused"),i.context.options.paddingOnRow||De(i.domNode,"no-row-padding"),i.wrapper=document.createElement("div"),i.wrapper.className="monaco-tree-wrapper",i.scrollableElement=new lC(i.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:o,vertical:typeof t.options.verticalScrollMode<"u"?t.options.verticalScrollMode:1,useShadows:t.options.useShadows}),i.scrollableElement.onScroll(function(a){i.render(a.scrollTop,a.height,a.scrollLeft,a.width,a.scrollWidth),i._onDidScroll.fire()}),Es?(i.wrapper.style.msTouchAction="none",i.wrapper.style.msContentZooming="none"):D_.addTarget(i.wrapper),i.rowsContainer=document.createElement("div"),i.rowsContainer.className="monaco-tree-rows",t.options.showTwistie&&(i.rowsContainer.className+=" show-twisties");var s=Fb(i.domNode);return i.viewListeners.push(s.onDidFocus(function(){return i.onFocus()})),i.viewListeners.push(s.onDidBlur(function(){return i.onBlur()})),i.viewListeners.push(s),i.viewListeners.push(_e(i.domNode,"keydown",function(a){return i.onKeyDown(a)})),i.viewListeners.push(_e(i.domNode,"keyup",function(a){return i.onKeyUp(a)})),i.viewListeners.push(_e(i.domNode,"mousedown",function(a){return i.onMouseDown(a)})),i.viewListeners.push(_e(i.domNode,"mouseup",function(a){return i.onMouseUp(a)})),i.viewListeners.push(_e(i.wrapper,"auxclick",function(a){a&&a.button===1&&i.onMouseMiddleClick(a)})),i.viewListeners.push(_e(i.wrapper,"click",function(a){return i.onClick(a)})),i.viewListeners.push(_e(i.domNode,"contextmenu",function(a){return i.onContextMenu(a)})),i.viewListeners.push(_e(i.wrapper,ii.Tap,function(a){return i.onTap(a)})),i.viewListeners.push(_e(i.wrapper,ii.Change,function(a){return i.onTouchChange(a)})),Es&&(i.viewListeners.push(_e(i.wrapper,"MSPointerDown",function(a){return i.onMsPointerDown(a)})),i.viewListeners.push(_e(i.wrapper,"MSGestureTap",function(a){return i.onMsGestureTap(a)})),i.viewListeners.push(iC(i.wrapper,"MSGestureChange",function(a){return i.onThrottledMsGestureChange(a)},function(a,u){u.stopPropagation(),u.preventDefault();var l={translationY:u.translationY,translationX:u.translationX};return a&&(l.translationY+=a.translationY,l.translationX+=a.translationX),l}))),i.viewListeners.push(_e(window,"dragover",function(a){return i.onDragOver(a)})),i.viewListeners.push(_e(i.wrapper,"drop",function(a){return i.onDrop(a)})),i.viewListeners.push(_e(window,"dragend",function(a){return i.onDragEnd(a)})),i.viewListeners.push(_e(window,"dragleave",function(a){return i.onDragOver(a)})),i.wrapper.appendChild(i.rowsContainer),i.domNode.appendChild(i.scrollableElement.getDomNode()),r.appendChild(i.domNode),i.lastRenderTop=0,i.lastRenderHeight=0,i.didJustPressContextMenuKey=!1,i.currentDropTarget=null,i.currentDropTargets=[],i.shouldInvalidateDropReaction=!1,i.dragAndDropScrollInterval=null,i.dragAndDropScrollTimeout=null,i.onRowsChanged(),i.layout(),i.setupMSGesture(),i.applyStyles(t.options),i}return e.prototype.applyStyles=function(t){this.treeStyler.style(t)},e.prototype.createViewItem=function(t){return new doe(this.context,t)},e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.focus=function(){this.domNode.focus()},e.prototype.isFocused=function(){return document.activeElement===this.domNode},e.prototype.blur=function(){this.domNode.blur()},e.prototype.setupMSGesture=function(){var t=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return t.msGesture.target=t.wrapper},100))},e.prototype.isTreeVisible=function(){return this.onHiddenScrollTop===null},e.prototype.layout=function(t,r){this.isTreeVisible()&&(this.viewHeight=t||RJ(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=r||wT(this.wrapper)))},e.prototype.render=function(t,r,i,o,s){var a,u,l=t,c=t+r,d=this.lastRenderTop+this.lastRenderHeight;for(a=this.indexAfter(c)-1,u=this.indexAt(Math.max(d,l));a>=u;a--)this.insertItemInDOM(this.itemAtIndex(a));for(a=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(c))-1,u=this.indexAt(l);a>=u;a--)this.insertItemInDOM(this.itemAtIndex(a));for(a=this.indexAt(this.lastRenderTop),u=Math.min(this.indexAt(l),this.indexAfter(d));a<u;a++)this.removeItemFromDOM(this.itemAtIndex(a));for(a=Math.max(this.indexAfter(c),this.indexAt(this.lastRenderTop)),u=this.indexAfter(d);a<u;a++)this.removeItemFromDOM(this.itemAtIndex(a));var h=this.itemAtIndex(this.indexAt(l));h&&(this.rowsContainer.style.top=h.top-l+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-i+"px",this.rowsContainer.style.width=Math.max(s,o)+"px"),this.lastRenderTop=l,this.lastRenderHeight=c-l},e.prototype.setModel=function(t){this.releaseModel(),this.model=t,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},e.prototype.onRefreshing=function(){this.isRefreshing=!0},e.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},e.prototype.onRowsChanged=function(t){t===void 0&&(t=this.scrollTop),!this.isRefreshing&&(this.scrollTop=t,this.updateScrollWidth())},e.prototype.updateScrollWidth=function(){var t=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger(function(){for(var r=Object.keys(t.items),i=0,o=0,s=r;o<s.length;o++){var a=s[o];i=Math.max(i,t.items[a].width)}t.scrollWidth=i+10})},e.prototype.focusNextPage=function(t){var r=this,i=this.indexAt(this.scrollTop+this.viewHeight);i=i===0?0:i-1;var o=this.itemAtIndex(i).model.getElement(),s=this.model.getFocus();if(s!==o)this.model.setFocus(o,t);else{var a=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==a&&setTimeout(function(){r.focusNextPage(t)},0)}},e.prototype.focusPreviousPage=function(t){var r=this,i;this.scrollTop===0?i=this.indexAt(this.scrollTop):i=this.indexAfter(this.scrollTop-1);var o=this.itemAtIndex(i).model.getElement(),s=this.model.getFocus();if(s!==o)this.model.setFocus(o,t);else{var a=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==a&&setTimeout(function(){r.focusPreviousPage(t)},0)}},Object.defineProperty(e.prototype,"viewHeight",{get:function(){var t=this.scrollableElement.getScrollDimensions();return t.height},set:function(t){this.scrollableElement.setScrollDimensions({height:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{set:function(t){t=t+(this.horizontalScrolling?10:0),this.scrollableElement.setScrollDimensions({scrollHeight:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewWidth",{get:function(){var t=this.scrollableElement.getScrollDimensions();return t.width},set:function(t){this.scrollableElement.setScrollDimensions({width:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{set:function(t){this.scrollableElement.setScrollDimensions({scrollWidth:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){var t=this.scrollableElement.getScrollPosition();return t.scrollTop},set:function(t){var r=this.getContentHeight()+(this.horizontalScrolling?10:0);this.scrollableElement.setScrollDimensions({scrollHeight:r}),this.scrollableElement.setScrollPosition({scrollTop:t})},enumerable:!0,configurable:!0}),e.prototype.onClearingInput=function(t){var r=t.item;r&&(this.onRemoveItems(new vj(r.getNavigator(),function(i){return i&&i.id})),this.onRowsChanged())},e.prototype.onSetInput=function(t){this.context.cache.garbageCollect(),this.inputItem=new d7e(this.context,t.item,this.wrapper)},e.prototype.onItemChildrenRefreshing=function(t){var r=t.item,i=this.items[r.id];if(i&&this.context.options.showLoading&&(i.loadingTimer=setTimeout(function(){i.loadingTimer=0,i.loading=!0},e.LOADING_DECORATION_DELAY)),!t.isNested){for(var o=[],s=r.getNavigator(),a=void 0;a=s.next();)o.push(a.id);this.refreshingPreviousChildrenIds[r.id]=o}},e.prototype.onItemChildrenRefreshed=function(t){var r=this,i=t.item,o=this.items[i.id];if(o&&(o.loadingTimer&&(clearTimeout(o.loadingTimer),o.loadingTimer=0),o.loading=!1),!t.isNested){for(var s=this.refreshingPreviousChildrenIds[i.id],a=[],u=i.getNavigator(),l=void 0;l=u.next();)a.push(l);var c=Math.abs(s.length-a.length)>1e3,d=[],h=!1;if(!c){var p=new g6({getLength:function(){return s.length},getElementAtIndex:function(C){return s[C]}},{getLength:function(){return a.length},getElementAtIndex:function(C){return a[C].id}},null);d=p.ComputeDiff(!1),h=d.some(function(C){if(C.modifiedLength>0){for(var E=C.modifiedStart,T=C.modifiedStart+C.modifiedLength;E<T;E++)if(r.items.hasOwnProperty(a[E].id))return!0}return!1})}if(!c&&!h&&d.length<50)for(var v=0,m=d;v<m.length;v++){var _=m[v];if(_.originalLength>0&&this.onRemoveItems(new Nv(s,_.originalStart,_.originalStart+_.originalLength)),_.modifiedLength>0){var b=a[_.modifiedStart-1]||i;b=b.getDepth()>0?b:null,this.onInsertItems(new Nv(a,_.modifiedStart,_.modifiedStart+_.modifiedLength),b?b.id:null)}}else(c||d.length)&&(this.onRemoveItems(new Nv(s)),this.onInsertItems(new Nv(a),i.getDepth()>0?i.id:null));(c||d.length)&&this.onRowsChanged()}},e.prototype.onItemRefresh=function(t){this.onItemsRefresh([t])},e.prototype.onItemsRefresh=function(t){var r=this;this.onRefreshItemSet(t.filter(function(i){return r.items.hasOwnProperty(i.id)})),this.onRowsChanged()},e.prototype.onItemExpanding=function(t){var r=this.items[t.item.id];r&&(r.expanded=!0)},e.prototype.onItemExpanded=function(t){var r=t.item,i=this.items[r.id];if(i){i.expanded=!0;var o=this.onInsertItems(r.getNavigator(),r.id)||0,s=this.scrollTop;i.top+i.height<=this.scrollTop&&(s+=o),this.onRowsChanged(s)}},e.prototype.onItemCollapsing=function(t){var r=t.item,i=this.items[r.id];i&&(i.expanded=!1,this.onRemoveItems(new vj(r.getNavigator(),function(o){return o&&o.id})),this.onRowsChanged())},e.prototype.onItemReveal=function(t){var r=t.item,i=t.relativeTop,o=this.items[r.id];if(o)if(i!==null){i=i<0?0:i,i=i>1?1:i;var s=o.height-this.viewHeight;this.scrollTop=s*i+o.top}else{var a=o.top+o.height,u=this.scrollTop+this.viewHeight;o.top<this.scrollTop?this.scrollTop=o.top:a>=u&&(this.scrollTop=a-this.viewHeight)}},e.prototype.onItemAddTrait=function(t){var r=t.item,i=t.trait,o=this.items[r.id];o&&o.addClass(i),i==="highlighted"&&(De(this.domNode,i),o&&(this.highlightedItemWasDraggable=!!o.draggable,o.draggable&&(o.draggable=!1)))},e.prototype.onItemRemoveTrait=function(t){var r=t.item,i=t.trait,o=this.items[r.id];o&&o.removeClass(i),i==="highlighted"&&(ot(this.domNode,i),this.highlightedItemWasDraggable&&(o.draggable=!0),this.highlightedItemWasDraggable=!1)},e.prototype.onModelFocusChange=function(){var t=this.model&&this.model.getFocus();kt(this.domNode,"no-focused-item",!t),t?this.domNode.setAttribute("aria-activedescendant",$J(this.context.dataSource.getId(this.context.tree,t))):this.domNode.removeAttribute("aria-activedescendant")},e.prototype.onInsertItem=function(t){var r=this;t.onDragStart=function(i){r.onDragStart(t,i)},t.needsRender=!0,this.refreshViewItem(t),this.items[t.id]=t},e.prototype.onRefreshItem=function(t,r){r===void 0&&(r=!1),t.needsRender=t.needsRender||r,this.refreshViewItem(t)},e.prototype.onRemoveItem=function(t){this.removeItemFromDOM(t),t.dispose(),delete this.items[t.id]},e.prototype.refreshViewItem=function(t){t.render(),this.shouldBeRendered(t)?this.insertItemInDOM(t):this.removeItemFromDOM(t)},e.prototype.onClick=function(t){if(!(this.lastPointerType&&this.lastPointerType!=="mouse")){var r=new si(t),i=this.getItemAround(r.target);i&&(Es&&Date.now()-this.lastClickTimeStamp<300&&(r.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,i.model.getElement(),r))}},e.prototype.onMouseMiddleClick=function(t){if(this.context.controller.onMouseMiddleClick){var r=new si(t),i=this.getItemAround(r.target);i&&this.context.controller.onMouseMiddleClick(this.context.tree,i.model.getElement(),r)}},e.prototype.onMouseDown=function(t){if(this.didJustPressContextMenuKey=!1,!!this.context.controller.onMouseDown&&!(this.lastPointerType&&this.lastPointerType!=="mouse")){var r=new si(t);if(!(r.ctrlKey&&wu&&Tt)){var i=this.getItemAround(r.target);i&&this.context.controller.onMouseDown(this.context.tree,i.model.getElement(),r)}}},e.prototype.onMouseUp=function(t){if(this.context.controller.onMouseUp&&!(this.lastPointerType&&this.lastPointerType!=="mouse")){var r=new si(t);if(!(r.ctrlKey&&wu&&Tt)){var i=this.getItemAround(r.target);i&&this.context.controller.onMouseUp(this.context.tree,i.model.getElement(),r)}}},e.prototype.onTap=function(t){var r=this.getItemAround(t.initialTarget);r&&this.context.controller.onTap(this.context.tree,r.model.getElement(),t)},e.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},e.prototype.onContextMenu=function(t){var r,i;if(t instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var o=new Un(t);i=this.model.getFocus();var s=void 0;if(!i)i=this.model.getInput(),s=di(this.inputItem.element);else{var a=this.context.dataSource.getId(this.context.tree,i),u=this.items[a];s=di(u.element)}r=new c7e(s.left+s.width,s.top,o)}else{var l=new si(t),c=this.getItemAround(l.target);if(!c)return;i=c.model.getElement(),r=new l7e(l)}this.context.controller.onContextMenu(this.context.tree,i,r)},e.prototype.onKeyDown=function(t){var r=new Un(t);this.didJustPressContextMenuKey=r.keyCode===58||r.shiftKey&&r.keyCode===68,!(r.target&&r.target.tagName&&r.target.tagName.toLowerCase()==="input")&&(this.didJustPressContextMenuKey&&(r.preventDefault(),r.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,r))},e.prototype.onKeyUp=function(t){this.didJustPressContextMenuKey&&this.onContextMenu(t),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new Un(t))},e.prototype.onDragStart=function(t,r){if(!this.model.getHighlight()){var i=t.model.getElement(),o=this.model.getSelection(),s;if(o.indexOf(i)>-1?s=o:s=[i],r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setData(lne.RESOURCES,JSON.stringify([t.uri])),r.dataTransfer.setDragImage){var a=void 0;this.context.dnd.getDragLabel?a=this.context.dnd.getDragLabel(this.context.tree,s):a=String(s.length);var u=document.createElement("div");u.className="monaco-tree-drag-image",u.textContent=a,document.body.appendChild(u),r.dataTransfer.setDragImage(u,-10,-10),setTimeout(function(){return document.body.removeChild(u)},0)}this.currentDragAndDropData=new o7e(s),zs.CurrentDragAndDropData=new s7e(s),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new cO(r))}},e.prototype.setupDragAndDropScrollInterval=function(){var t=this,r=X4(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(t.dragAndDropMouseY!==null){var i=t.dragAndDropMouseY-r,o=0,s=t.viewHeight-35;i<35?o=Math.max(-14,.2*(i-35)):i>s&&(o=Math.min(14,.2*(i-s))),t.scrollTop+=o}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){t.cancelDragAndDropScrollInterval(),t.dragAndDropScrollTimeout=null},1e3))},e.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},e.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},e.prototype.onDragOver=function(t){var r=this;t.preventDefault();var i=new cO(t),o=this.getItemAround(i.target);if(!o||i.posx===0&&i.posy===0&&i.browserEvent.type===lt.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(v){return v.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(zs.CurrentDragAndDropData)this.currentDragAndDropData=zs.CurrentDragAndDropData;else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new a7e}this.currentDragAndDropData.update(i.browserEvent.dataTransfer);var s,a=o.model,u;do{if(s=a?a.getElement():this.model.getInput(),u=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,s,i),!u||u.bubble!==1)break;a=a&&a.parent}while(a);if(!a)return this.currentDropElement=null,!1;var l=u&&u.accept;l?(this.currentDropElement=a.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=u.effect===0?"copy":"move"):this.currentDropElement=null;var c=a.id===this.inputItem.id?this.inputItem:this.items[a.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==c||!p7e(this.currentDropElementReaction,u))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(v){return v.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=c,this.currentDropElementReaction=u,l)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),u.bubble===0)for(var d=a.getNavigator(),h=void 0;h=d.next();)o=this.items[h.id],o&&(o.dropTarget=!0,this.currentDropTargets.push(o));if(u.autoExpand){var p=rC(500);this.currentDropDisposable=bn(function(){return p.cancel()}),p.then(function(){return r.context.tree.expand(r.currentDropElement)}).then(function(){return r.shouldInvalidateDropReaction=!0})}}return!0},e.prototype.onDrop=function(t){if(this.currentDropElement){var r=new cO(t);r.preventDefault(),this.currentDragAndDropData.update(r.browserEvent.dataTransfer),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,r),this.onDragEnd(t)}this.cancelDragAndDropScrollInterval()},e.prototype.onDragEnd=function(t){this.currentDropTarget&&(this.currentDropTargets.forEach(function(r){return r.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,zs.CurrentDragAndDropData=void 0,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},e.prototype.onFocus=function(){this.context.options.alwaysFocused||De(this.domNode,"focused"),this._onDOMFocus.fire()},e.prototype.onBlur=function(){this.context.options.alwaysFocused||ot(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},e.prototype.onMsPointerDown=function(t){if(this.msGesture){var r=t.pointerType;if(r===(t.MSPOINTER_TYPE_MOUSE||"mouse")){this.lastPointerType="mouse";return}else if(r===(t.MSPOINTER_TYPE_TOUCH||"touch"))this.lastPointerType="touch";else return;t.stopPropagation(),t.preventDefault(),this.msGesture.addPointer(t.pointerId)}},e.prototype.onThrottledMsGestureChange=function(t){this.scrollTop-=t.translationY},e.prototype.onMsGestureTap=function(t){t.initialTarget=document.elementFromPoint(t.clientX,t.clientY),this.onTap(t)},e.prototype.insertItemInDOM=function(t){var r=null,i=this.itemAfter(t);i&&i.element&&(r=i.element),t.insertInDOM(this.rowsContainer,r)},e.prototype.removeItemFromDOM=function(t){t&&t.removeFromDOM()},e.prototype.shouldBeRendered=function(t){return t.top<this.lastRenderTop+this.lastRenderHeight&&t.top+t.height>this.lastRenderTop},e.prototype.getItemAround=function(t){var r=this.inputItem,i=t;do{if(i[e.BINDING]&&(r=i[e.BINDING]),i===this.wrapper||i===this.domNode)return r;if(i===this.scrollableElement.getDomNode()||i===document.body)return}while(i=i.parentElement)},e.prototype.releaseModel=function(){this.model&&(this.modelListeners=nt(this.modelListeners),this.model=null)},e.prototype.dispose=function(){var t=this;this.scrollableElement.dispose(),this.releaseModel(),this.viewListeners=nt(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.items&&Object.keys(this.items).forEach(function(r){return t.items[r].removeFromDOM()}),this.context.cache&&this.context.cache.dispose(),n.prototype.dispose.call(this)},e.BINDING="monaco-tree-row",e.LOADING_DECORATION_DELAY=800,e.counter=0,e}(u7e),g7e=function(){function n(e,t,r){if(r===void 0&&(r={}),this.tree=e,this.configuration=t,this.options=r,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer,this.controller=t.controller||new aoe({clickBehavior:1,keyboardSupport:typeof r.keyboardSupport!="boolean"||r.keyboardSupport}),this.dnd=t.dnd||new XUe,this.filter=t.filter||new QUe,this.sorter=t.sorter,this.accessibilityProvider=t.accessibilityProvider||new ZUe,this.styler=t.styler}return n}(),v7e={listFocusBackground:se.fromHex("#073655"),listActiveSelectionBackground:se.fromHex("#0E639C"),listActiveSelectionForeground:se.fromHex("#FFFFFF"),listFocusAndSelectionBackground:se.fromHex("#094771"),listFocusAndSelectionForeground:se.fromHex("#FFFFFF"),listInactiveSelectionBackground:se.fromHex("#3F3F46"),listHoverBackground:se.fromHex("#2A2D2E"),listDropBackground:se.fromHex("#383B3D")},m7e=function(){function n(e,t,r){r===void 0&&(r={}),this._onDidChangeFocus=new bi,this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new bi,this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new bi,this._onDidExpandItem=new bi,this._onDidCollapseItem=new bi,this._onDispose=new Q,this.onDidDispose=this._onDispose.event,this.container=e,Ur(r,v7e,!1),r.twistiePixels=typeof r.twistiePixels=="number"?r.twistiePixels:32,r.showTwistie=r.showTwistie!==!1,r.indentPixels=typeof r.indentPixels=="number"?r.indentPixels:12,r.alwaysFocused=r.alwaysFocused===!0,r.useShadows=r.useShadows!==!1,r.paddingOnRow=r.paddingOnRow!==!1,r.showLoading=r.showLoading!==!1,this.context=new g7e(this,t,r),this.model=new i7e(this.context),this.view=new b3(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}return n.prototype.style=function(e){this.view.applyStyles(e)},Object.defineProperty(n.prototype,"onDidFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:!0,configurable:!0}),n.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},n.prototype.layout=function(e,t){this.view.layout(e,t)},n.prototype.domFocus=function(){this.view.focus()},n.prototype.isDOMFocused=function(){return this.view.isFocused()},n.prototype.domBlur=function(){this.view.blur()},n.prototype.setInput=function(e){return this.model.setInput(e)},n.prototype.getInput=function(){return this.model.getInput()},n.prototype.expand=function(e){return this.model.expand(e)},n.prototype.collapse=function(e,t){return t===void 0&&(t=!1),this.model.collapse(e,t)},n.prototype.toggleExpansion=function(e,t){return t===void 0&&(t=!1),this.model.toggleExpansion(e,t)},n.prototype.isExpanded=function(e){return this.model.isExpanded(e)},n.prototype.reveal=function(e,t){return t===void 0&&(t=null),this.model.reveal(e,t)},n.prototype.getHighlight=function(){return this.model.getHighlight()},n.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},n.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},n.prototype.getSelection=function(){return this.model.getSelection()},n.prototype.clearSelection=function(e){this.model.setSelection([],e)},n.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},n.prototype.getFocus=function(){return this.model.getFocus()},n.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},n.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},n.prototype.focusParent=function(e){this.model.focusParent(e)},n.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)},n.prototype.focusFirst=function(e,t){this.model.focusFirst(e,t)},n.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},n.prototype.focusLast=function(e,t){this.model.focusLast(e,t)},n.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},n.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},n.prototype.clearFocus=function(e){this.model.setFocus(null,e)},n.prototype.dispose=function(){this._onDispose.fire(),this.model!==null&&(this.model.dispose(),this.model=null),this.view!==null&&(this.view.dispose(),this.view=null),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},n}(),_7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y7e="done",b7e="active",MG="infinite",C7e="discrete",w7e="monaco-progress-container",E7e="progress-bit",S7e={progressBarBackground:se.fromHex("#0E70C0")},T7e=function(n){_7e(e,n);function e(t,r){var i=n.call(this)||this;return i.options=r||Object.create(null),Ur(i.options,S7e,!1),i.workedVal=0,i.progressBarBackground=i.options.progressBarBackground,i._register(i.showDelayedScheduler=new Pr(function(){return Ti(i.element)},0)),i.create(t),i}return e.prototype.create=function(t){this.element=document.createElement("div"),De(this.element,w7e),t.appendChild(this.element),this.bit=document.createElement("div"),De(this.bit,E7e),this.element.appendChild(this.bit),this.applyStyles()},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",XA(this.element,b7e,MG,C7e),this.workedVal=0,this.totalWork=void 0},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(t){var r=this;return De(this.element,y7e),Eu(this.element,MG)?(this.bit.style.opacity="0",t?setTimeout(function(){return r.off()},200):this.off()):(this.bit.style.width="inherit",t?setTimeout(function(){return r.off()},200):this.off()),this},e.prototype.hide=function(){jr(this.element),this.showDelayedScheduler.cancel()},e.prototype.style=function(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()},e.prototype.applyStyles=function(){if(this.bit){var t=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=t}},e}(fe),poe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),D7e=function(n){poe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onContextMenu=function(t,r,i){return Tt?this.onLeftClick(t,r,i):n.prototype.onContextMenu.call(this,t,r,i)},e}(aoe),A7e={background:se.fromHex("#1E1E1E"),foreground:se.fromHex("#CCCCCC"),pickerGroupForeground:se.fromHex("#0097FB"),pickerGroupBorder:se.fromHex("#3F3F46"),widgetShadow:se.fromHex("#000000"),progressBarBackground:se.fromHex("#0E70C0")},FG=D("quickOpenAriaLabel","Quick picker. Type to narrow down results."),I7e=function(n){poe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.isDisposed=!1,o.container=t,o.callbacks=r,o.options=i,o.styles=i||Object.create(null),Ur(o.styles,A7e,!1),o.model=null,o}return e.prototype.getModel=function(){return this.model},e.prototype.create=function(){var t=this;this.element=document.createElement("div"),De(this.element,"monaco-quick-open-widget"),this.container.appendChild(this.element),this._register(_e(this.element,lt.CONTEXT_MENU,function(i){return wn.stop(i,!0)})),this._register(_e(this.element,lt.FOCUS,function(i){return t.gainingFocus()},!0)),this._register(_e(this.element,lt.BLUR,function(i){return t.loosingFocus(i)},!0)),this._register(_e(this.element,lt.KEY_DOWN,function(i){var o=new Un(i);if(o.keyCode===9)wn.stop(i,!0),t.hide(2);else if(o.keyCode===2&&!o.altKey&&!o.ctrlKey&&!o.metaKey){var s=i.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");o.shiftKey&&o.target===s[0]?(wn.stop(i,!0),s[s.length-1].focus()):!o.shiftKey&&o.target===s[s.length-1]&&(wn.stop(i,!0),s[0].focus())}})),this.progressBar=this._register(new T7e(this.element,{progressBarBackground:this.styles.progressBarBackground})),this.progressBar.hide(),this.inputContainer=document.createElement("div"),De(this.inputContainer,"quick-open-input"),this.element.appendChild(this.inputContainer),this.inputBox=this._register(new Ere(this.inputContainer,void 0,{placeholder:this.options.inputPlaceHolder||"",ariaLabel:FG,inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})),this.inputElement=this.inputBox.inputElement,this.inputElement.setAttribute("role","combobox"),this.inputElement.setAttribute("aria-haspopup","false"),this.inputElement.setAttribute("aria-autocomplete","list"),this._register(_e(this.inputBox.inputElement,lt.INPUT,function(i){return t.onType()})),this._register(_e(this.inputBox.inputElement,lt.KEY_DOWN,function(i){var o=new Un(i),s=t.shouldOpenInBackground(o);if(o.keyCode!==2){if(o.keyCode===18||o.keyCode===16||o.keyCode===12||o.keyCode===11)wn.stop(i,!0),t.navigateInTree(o.keyCode,o.shiftKey),t.inputBox.inputElement.selectionStart===t.inputBox.inputElement.selectionEnd&&(t.inputBox.inputElement.selectionStart=t.inputBox.value.length);else if(o.keyCode===3||s){wn.stop(i,!0);var a=t.tree.getFocus();a&&t.elementSelected(a,i,s?2:1)}}})),this.resultCount=document.createElement("div"),De(this.resultCount,"quick-open-result-count"),this.resultCount.setAttribute("aria-live","polite"),this.resultCount.setAttribute("aria-atomic","true"),this.element.appendChild(this.resultCount),this.treeContainer=document.createElement("div"),De(this.treeContainer,"quick-open-tree"),this.element.appendChild(this.treeContainer);var r=this.options.treeCreator||function(i,o,s){return new m7e(i,o,s)};return this.tree=this._register(r(this.treeContainer,{dataSource:new GUe(this),controller:new D7e({clickBehavior:1,keyboardSupport:this.options.keyboardSupport}),renderer:this.renderer=new YUe(this,this.styles),filter:new KUe(this),accessibilityProvider:new $Ue(this)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:3,horizontalScrollMode:2,ariaLabel:D("treeAriaLabel","Quick Picker"),keyboardSupport:this.options.keyboardSupport,preventRootFocus:!1})),this.treeElement=this.tree.getHTMLElement(),this._register(this.tree.onDidChangeFocus(function(i){t.elementFocused(i.focus,i)})),this._register(this.tree.onDidChangeSelection(function(i){if(i.selection&&i.selection.length>0){var o=i.payload&&i.payload.originalEvent instanceof si?i.payload.originalEvent:void 0,s=o?t.shouldOpenInBackground(o):!1;t.elementSelected(i.selection[0],i,s?2:1)}})),this._register(_e(this.treeContainer,lt.KEY_DOWN,function(i){var o=new Un(i);t.quickNavigateConfiguration&&(o.keyCode===18||o.keyCode===16||o.keyCode===12||o.keyCode===11)&&(wn.stop(i,!0),t.navigateInTree(o.keyCode))})),this._register(_e(this.treeContainer,lt.KEY_UP,function(i){var o=new Un(i),s=o.keyCode;if(t.quickNavigateConfiguration){var a=t.quickNavigateConfiguration.keybindings,u=s===3||a.some(function(c){var d=c.getParts(),h=d[0],p=d[1];return p?!1:h.shiftKey&&s===4?!(o.ctrlKey||o.altKey||o.metaKey):!!(h.altKey&&s===6||h.ctrlKey&&s===5||h.metaKey&&s===57)});if(u){var l=t.tree.getFocus();l&&t.elementSelected(l,i)}}})),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this._register(_e(this.treeContainer,lt.KEY_DOWN,function(i){var o=new Un(i);t.quickNavigateConfiguration||(o.keyCode===18||o.keyCode===16||o.keyCode===12||o.keyCode===11)&&(wn.stop(i,!0),t.navigateInTree(o.keyCode,o.shiftKey),t.treeElement.focus())})),this.element},e.prototype.style=function(t){this.styles=t,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var t=this.styles.foreground?this.styles.foreground.toString():null,r=this.styles.background?this.styles.background.toString():null,i=this.styles.borderColor?this.styles.borderColor.toString():null,o=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.element.style.color=t,this.element.style.backgroundColor=r,this.element.style.borderColor=i,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.boxShadow=o?"0 5px 8px "+o:null}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},e.prototype.shouldOpenInBackground=function(t){if(t instanceof Un){if(t.keyCode!==17||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return!1;var r=this.inputBox.inputElement;return r.selectionEnd===this.inputBox.value.length&&r.selectionStart===r.selectionEnd}return t.middleButton},e.prototype.onType=function(){var t=this.inputBox.value;this.helpText&&(t?jr(this.helpText):Ti(this.helpText)),this.callbacks.onType(t)},e.prototype.navigateInTree=function(t,r){var i=this.tree.getInput(),o=i?i.entries:[],s=this.tree.getFocus();switch(t){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:r?this.tree.focusPrevious():this.tree.focusNext();break}var a=this.tree.getFocus();o.length>1&&s===a&&(t===16||t===2&&r?this.tree.focusLast():(t===18||t===2&&!r)&&this.tree.focusFirst()),a=this.tree.getFocus(),a&&this.tree.reveal(a)},e.prototype.elementFocused=function(t,r){if(!(!t||!this.isVisible())){var i=this.treeElement.getAttribute("aria-activedescendant");i?this.inputElement.setAttribute("aria-activedescendant",i):this.inputElement.removeAttribute("aria-activedescendant");var o={event:r,keymods:this.extractKeyMods(r),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(t,0,o)}},e.prototype.elementSelected=function(t,r,i){var o=!0;if(this.isVisible()){var s=i||1,a={event:r,keymods:this.extractKeyMods(r),quickNavigateConfiguration:this.quickNavigateConfiguration};o=this.model.runner.run(t,s,a)}o&&this.hide(0)},e.prototype.extractKeyMods=function(t){return{ctrlCmd:t&&(t.ctrlKey||t.metaKey||t.payload&&t.payload.originalEvent&&(t.payload.originalEvent.ctrlKey||t.payload.originalEvent.metaKey)),alt:t&&(t.altKey||t.payload&&t.payload.originalEvent&&t.payload.originalEvent.altKey)}},e.prototype.show=function(t,r){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=r?r.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(jr(this.inputContainer),Ti(this.element),this.tree.domFocus()):(Ti(this.inputContainer),Ti(this.element),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||wl(t)?jr(this.helpText):Ti(this.helpText)),wl(t)?this.doShowWithPrefix(t):(r&&r.value&&this.restoreLastInput(r.value),this.doShowWithInput(t,r&&r.autoFocus?r.autoFocus:{})),r&&r.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(r.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.restoreLastInput=function(t){this.inputBox.value=t,this.inputBox.select(),this.callbacks.onType(t)},e.prototype.doShowWithPrefix=function(t){this.inputBox.value=t,this.callbacks.onType(t)},e.prototype.doShowWithInput=function(t,r){this.setInput(t,r)},e.prototype.setInputAndLayout=function(t,r){var i=this;this.treeContainer.style.height=this.getHeight(t)+"px",this.tree.setInput(null).then(function(){return i.model=t,i.inputElement.setAttribute("aria-haspopup",String(t&&t.entries&&t.entries.length>0)),i.tree.setInput(t)}).then(function(){i.tree.layout();var o=t?t.entries.filter(function(s){return i.isElementVisible(t,s)}):[];i.updateResultCount(o.length),o.length&&i.autoFocus(t,o,r)})},e.prototype.isElementVisible=function(t,r){return t.filter?t.filter.isVisible(r):!0},e.prototype.autoFocus=function(t,r,i){if(i===void 0&&(i={}),i.autoFocusPrefixMatch){for(var o=void 0,s=void 0,a=i.autoFocusPrefixMatch,u=a.toLowerCase(),l=0,c=r;l<c.length;l++){var d=c[l],h=t.dataSource.getLabel(d)||"";if(!o&&h.indexOf(a)===0?o=d:!s&&h.toLowerCase().indexOf(u)===0&&(s=d),o&&s)break}var p=o||s;if(p){this.tree.setFocus(p),this.tree.reveal(p,.5);return}}i.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus())):typeof i.autoFocusIndex=="number"?r.length>i.autoFocusIndex&&(this.tree.focusNth(i.autoFocusIndex),this.tree.reveal(this.tree.getFocus())):i.autoFocusSecondEntry?r.length>1&&this.tree.focusNth(1):i.autoFocusLastEntry&&r.length>1&&this.tree.focusLast()},e.prototype.getHeight=function(t){var r=this,i=t.renderer;if(!t){var o=i.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*o:0}var s=0,a;this.layoutDimensions&&this.layoutDimensions.height&&(a=(this.layoutDimensions.height-50)*.4),(!a||a>e.MAX_ITEMS_HEIGHT)&&(a=e.MAX_ITEMS_HEIGHT);for(var u=t.entries.filter(function(h){return r.isElementVisible(t,h)}),l=this.options.maxItemsToShow||u.length,c=0;c<l&&c<u.length;c++){var d=i.getHeight(u[c]);if(s+d<=a)s+=d;else break}return s},e.prototype.updateResultCount=function(t){this.resultCount.textContent=D({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",t)},e.prototype.hide=function(t){this.isVisible()&&(this.visible=!1,jr(this.element),this.element.blur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style.height=(this.options.minItemsToShow?this.options.minItemsToShow*22:0)+"px",this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),t===0?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(t))},e.prototype.setInput=function(t,r,i){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(t,r),this.inputBox&&this.inputBox.setAriaLabel(i||FG))},e.prototype.onInputChanging=function(){var t=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),De(this.element,"content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){ot(t.element,"content-changing")},500)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var r=Math.min(this.layoutDimensions.width*.62,e.MAX_WIDTH);this.element&&(this.element.style.width=r+"px",this.element.style.marginLeft="-"+r/2+"px",this.inputContainer.style.width=r-12+"px")},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(t){var r=this;if(this.isVisible()){var i=t.relatedTarget;!this.quickNavigateConfiguration&&El(i,this.element)||(this.isLoosingFocus=!0,setTimeout(function(){if(!(!r.isLoosingFocus||r.isDisposed)){var o=r.callbacks.onFocusLost&&r.callbacks.onFocusLost();o||r.hide(1)}},0))}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.isDisposed=!0},e.MAX_WIDTH=600,e.MAX_ITEMS_HEIGHT=20*22,e}(fe),x7e=function(){function n(e,t,r,i,o,s){this.codeEditor=e,this.themeService=s,this.create(t,r,i,o)}return n.prototype.create=function(e,t,r,i){this.domNode=document.createElement("div"),this.quickOpenWidget=new I7e(this.domNode,{onOk:e,onCancel:t,onType:r},{inputPlaceHolder:void 0,inputAriaLabel:i.inputAriaLabel,keyboardSupport:!0}),this.styler=vMe(this.quickOpenWidget,this.themeService,{pickerGroupForeground:bc}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},n.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)},n.prototype.getId=function(){return n.ID},n.prototype.getDomNode=function(){return this.domNode},n.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},n.prototype.show=function(e){this.visible=!0;var t=this.codeEditor.getLayoutInfo();t&&this.quickOpenWidget.layout(new TDe(t.width,t.height)),this.quickOpenWidget.show(e),this.codeEditor.layoutOverlayWidget(this)},n.prototype.getPosition=function(){return this.visible?{preference:2}:null},n.ID="editor.contrib.quickOpenEditorWidget",n}(),L7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N7e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},O7e=function(n,e){return function(t,r){e(t,r,n)}},goe=function(){function n(e,t){this.themeService=t,this.widget=null,this.rangeHighlightDecorationId=null,this.lastKnownEditorSelection=null,this.editor=e}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},n.prototype.run=function(e){var t=this;this.widget&&(this.widget.destroy(),this.widget=null);var r=function(i){t.clearDecorations(),i&&t.lastKnownEditorSelection&&(t.editor.setSelection(t.lastKnownEditorSelection),t.editor.revealRangeInCenterIfOutsideViewport(t.lastKnownEditorSelection,0)),t.lastKnownEditorSelection=null,(document.activeElement===document.body||!i)&&t.editor.focus()};this.widget=new x7e(this.editor,function(){return r(!1)},function(){return r(!0)},function(i){t.widget.setInput(e.getModel(i),e.getAutoFocus(i))},{inputAriaLabel:e.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},n.prototype.decorateLine=function(e,t){var r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var i=[{range:e,options:n._RANGE_HIGHLIGHT_DECORATION}],o=t.deltaDecorations(r,i);this.rangeHighlightDecorationId=o[0]},n.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},n.ID="editor.controller.quickOpenController",n._RANGE_HIGHLIGHT_DECORATION=mt.register({className:"rangeHighlight",isWholeLine:!0}),n=N7e([O7e(1,Yr)],n),n}(),DB=function(n){L7e(e,n);function e(t,r){var i=n.call(this,r)||this;return i._inputAriaLabel=t,i}return e.prototype.getController=function(t){return goe.get(t)},e.prototype._show=function(t,r){t.run({inputAriaLabel:this._inputAriaLabel,getModel:function(i){return r.getModel(i)},getAutoFocus:function(i){return r.getAutoFocus(i)}})},e}(Ue);Cn(goe);var voe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k7e=function(n){voe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.editor=r,o.decorator=i,o.parseResult=o.parseInput(t),o}return e.prototype.parseInput=function(t){var r=t.split(",").map(function(l){return parseInt(l,10)}).filter(function(l){return!isNaN(l)}),i;r.length===0?i=new J(-1,-1):r.length===1?i=new J(r[0],1):i=new J(r[0],r[1]);var o;if(Tl(this.editor))o=this.editor.getModel();else{var s=this.editor.getModel();o=s?s.modified:null}var a=o?o.validatePosition(i).equals(i):!1,u;return a?i.column&&i.column>1?u=Yt(uc.gotoLineLabelValidLineAndColumn,i.lineNumber,i.column):u=Yt(uc.gotoLineLabelValidLine,i.lineNumber):i.lineNumber<1||i.lineNumber>(o?o.getLineCount():0)?u=Yt(uc.gotoLineLabelEmptyWithLineLimit,o?o.getLineCount():0):u=Yt(uc.gotoLineLabelEmptyWithLineAndColumnLimit,o?o.getLineMaxColumn(i.lineNumber):0),{position:i,isValid:a,label:u}},e.prototype.getLabel=function(){return this.parseResult.label},e.prototype.getAriaLabel=function(){var t=this.editor.getPosition(),r=t?t.lineNumber:0;return Yt(uc.gotoLineAriaLabel,r,this.parseResult.label)},e.prototype.run=function(t,r){return t===1?this.runOpen():this.runPreview()},e.prototype.runOpen=function(){if(!this.parseResult.isValid)return!1;var t=this.toSelection();return this.editor.setSelection(t),this.editor.revealRangeInCenter(t,0),this.editor.focus(),!0},e.prototype.runPreview=function(){if(!this.parseResult.isValid)return this.decorator.clearDecorations(),!1;var t=this.toSelection();return this.editor.revealRangeInCenter(t,0),this.decorator.decorateLine(t,this.editor),!1},e.prototype.toSelection=function(){return new H(this.parseResult.position.lineNumber,this.parseResult.position.column,this.parseResult.position.lineNumber,this.parseResult.position.column)},e}(SB),R7e=function(n){voe(e,n);function e(){return n.call(this,uc.gotoLineActionInput,{id:"editor.action.gotoLine",label:uc.gotoLineActionLabel,alias:"Go to Line...",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:2085,mac:{primary:293},weight:100}})||this}return e.prototype.run=function(t,r){var i=this;this._show(this.getController(r),{getModel:function(o){return new TB([new k7e(o,r,i.getController(r))])},getAutoFocus:function(o){return{autoFocusFirstEntry:o.length>0}}})},e}(DB);pe(R7e);var moe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),P7e=function(n){moe(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a.key=t,a.keyAriaLabel=r,a.setHighlights(i),a.action=o,a.editor=s,a}return e.prototype.getLabel=function(){return this.action.label},e.prototype.getAriaLabel=function(){return this.keyAriaLabel?Yt(Im.ariaLabelEntryWithKey,this.getLabel(),this.keyAriaLabel):Yt(Im.ariaLabelEntry,this.getLabel())},e.prototype.getGroupLabel=function(){return this.key},e.prototype.run=function(t,r){var i=this;return t===1?(setTimeout(function(){i.editor.focus();try{var o=i.action.run()||Promise.resolve();o.then(void 0,He)}catch(s){He(s)}},50),!0):!1},e}(nb),M7e=function(n){moe(e,n);function e(){return n.call(this,Im.quickCommandActionInput,{id:"editor.action.quickCommand",label:Im.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:Es?571:59,weight:100},menuOpts:{group:"z_commands",order:1}})||this}return e.prototype.run=function(t,r){var i=this,o=t.get(wr);this._show(this.getController(r),{getModel:function(s){return new TB(i._editorActionsToEntries(o,r,s))},getAutoFocus:function(s){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:s}}})},e.prototype._sort=function(t,r){var i=(t.getLabel()||"").toLowerCase(),o=(r.getLabel()||"").toLowerCase();return i.localeCompare(o)},e.prototype._editorActionsToEntries=function(t,r,i){for(var o=r.getSupportedActions(),s=[],a=0,u=o;a<u.length;a++){var l=u[a],c=t.lookupKeybinding(l.id);if(l.label){var d=gne(i,l.label);d&&s.push(new P7e(c&&c.getLabel()||"",c&&c.getAriaLabel()||"",d,l,r))}}return s=s.sort(this._sort),s},e}(DB);pe(M7e);var AB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hv=function(){function n(){}return n.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},n.findId=function(e,t){var r;typeof e=="string"?r=t.id+"/"+e:(r=t.id+"/"+e.name,t.children[r]!==void 0&&(r=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var i=r,o=0;t.children[i]!==void 0;o++)i=r+"_"+o;return i},n.empty=function(e){for(var t in e.children)return!1;return!0},n}(),_oe=function(n){AB(e,n);function e(t,r,i){var o=n.call(this)||this;return o.id=t,o.parent=r,o.symbol=i,o.children=Object.create(null),o}return e}(Hv),F7e=function(n){AB(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.id=t,s.parent=r,s.provider=i,s.providerIndex=o,s.children=Object.create(null),s}return e}(Hv),B7e=function(){function n(){this._n=1,this._val=0}return n.prototype.update=function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this},n}(),H7e=function(n){AB(e,n);function e(t){var r=n.call(this)||this;return r.textModel=t,r.id="root",r.parent=void 0,r._groups=Object.create(null),r.children=Object.create(null),r.id="root",r.parent=void 0,r}return e.create=function(t,r){var i=this,o=this._keys.for(t,!0),s=e._requests.get(o);if(!s){var a=new Np;s={promiseCnt:0,source:a,promise:e._create(t,a.token),model:void 0},e._requests.set(o,s);var u=Date.now();s.promise.then(function(){var l=i._keys.for(t,!1),c=i._requestDurations.get(l);c||(c=new B7e,i._requestDurations.set(l,c)),c.update(Date.now()-u)})}return s.model?Promise.resolve(s.model):(s.promiseCnt+=1,r.onCancellationRequested(function(){--s.promiseCnt===0&&(s.source.cancel(),e._requests.delete(o))}),new Promise(function(l,c){s.promise.then(function(d){s.model=d,l(d)},function(d){e._requests.delete(o),c(d)})}))},e._create=function(t,r){var i=new Np(r),o=new e(t),s=Ff.ordered(t),a=s.map(function(l,c){var d=Hv.findId("provider_"+c,o),h=new F7e(d,o,l,c);return Promise.resolve(l.provideDocumentSymbols(o.textModel,i.token)).then(function(p){for(var v=0,m=p||[];v<m.length;v++){var _=m[v];e._makeOutlineElement(_,h)}return h},function(p){return Eo(p),h}).then(function(p){Hv.empty(p)?p.remove():o._groups[d]=p})}),u=Ff.onDidChange(function(){var l=Ff.ordered(t);Ah(l,s)||i.cancel()});return Promise.all(a).then(function(){return i.token.isCancellationRequested&&!r.isCancellationRequested?e._create(t,r):o._compact()}).finally(function(){u.dispose()})},e._makeOutlineElement=function(t,r){var i=Hv.findId(t,r),o=new _oe(i,r,t);if(t.children)for(var s=0,a=t.children;s<a.length;s++){var u=a[s];e._makeOutlineElement(u,o)}r.children[o.id]=o},e.prototype._compact=function(){var t=0;for(var r in this._groups){var i=this._groups[r];mz(i.children)===void 0?delete this._groups[r]:t+=1}if(t!==1)this.children=this._groups;else{var i=mz(this._groups);for(var r in i.children){var o=i.children[r];o.parent=this,this.children[o.id]=o}}return this},e._requestDurations=new Sm(50,.7),e._requests=new Sm(9,.75),e._keys=new(function(){function t(){this._counter=1,this._data=new WeakMap}return t.prototype.for=function(r,i){return r.id+"/"+(i?r.getVersionId():"")+"/"+this._hash(Ff.all(r))},t.prototype._hash=function(r){for(var i="",o=0,s=r;o<s.length;o++){var a=s[o],u=this._data.get(a);typeof u>"u"&&(u=this._counter++,this._data.set(a,u)),i+=u}return i},t}()),e}(Hv),V7e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},W7e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function C3(n,e,t){return V7e(this,void 0,void 0,function(){var r,i,o,s,a,u;return W7e(this,function(l){switch(l.label){case 0:return[4,H7e.create(n,t)];case 1:for(r=l.sent(),i=[],o=0,s=vz(r.children);o<s.length;o++)a=s[o],a instanceof _oe?i.push(a.symbol):i.push.apply(i,vz(a.children).map(function(c){return c.symbol}));return u=[],t.isCancellationRequested?[2,u]:(e?yoe(u,i,""):u=i,[2,u.sort(U7e)])}})})}function U7e(n,e){return H.compareRangesUsingStarts(n.range,e.range)}function yoe(n,e,t){for(var r=0,i=e;r<i.length;r++){var o=i[r];n.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||t,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&yoe(n,o.children,o.name)}}jc("_executeDocumentSymbolProvider",function(n,e){var t=e.resource;if(!(t instanceof Ft))throw Rr("resource");var r=n.get(is).getModel(t);return r?C3(r,!1,nn.None):n.get(kp).createModelReference(t).then(function(i){return new Promise(function(o,s){try{var a=C3(i.object.textEditorModel,!1,nn.None);o(a)}catch(u){s(u)}}).finally(function(){i.dispose()})})});var boe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dd=":",j7e=function(n){boe(e,n);function e(t,r,i,o,s,a,u){var l=n.call(this)||this;return l.name=t,l.type=r,l.description=i,l.range=o,l.setHighlights(s),l.editor=a,l.decorator=u,l}return e.prototype.getLabel=function(){return this.name},e.prototype.getAriaLabel=function(){return Yt(oo.entryAriaLabel,this.name)},e.prototype.getIcon=function(){return this.type},e.prototype.getDescription=function(){return this.description},e.prototype.getType=function(){return this.type},e.prototype.getRange=function(){return this.range},e.prototype.run=function(t,r){return t===1?this.runOpen(r):this.runPreview()},e.prototype.runOpen=function(t){var r=this.toSelection();return this.editor.setSelection(r),this.editor.revealRangeInCenter(r,0),this.editor.focus(),!0},e.prototype.runPreview=function(){var t=this.toSelection();return this.editor.revealRangeInCenter(t,0),this.decorator.decorateLine(this.range,this.editor),!1},e.prototype.toSelection=function(){return new H(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},e}(nb),q7e=function(n){boe(e,n);function e(){return n.call(this,oo.quickOutlineActionInput,{id:"editor.action.quickOutline",label:oo.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:W.hasDocumentSymbolProvider,kbOpts:{kbExpr:W.focus,primary:3117,weight:100},menuOpts:{group:"navigation",order:3}})||this}return e.prototype.run=function(t,r){var i=this;if(r.hasModel()){var o=r.getModel();if(Ff.has(o))return C3(o,!0,nn.None).then(function(s){s.length!==0&&i._run(r,s)})}},e.prototype._run=function(t,r){var i=this;this._show(this.getController(t),{getModel:function(o){return new TB(i.toQuickOpenEntries(t,r,o))},getAutoFocus:function(o){return o.indexOf(Dd)===0&&(o=o.substr(Dd.length)),{autoFocusPrefixMatch:o,autoFocusFirstEntry:!!o}}})},e.prototype.symbolEntry=function(t,r,i,o,s,a,u){return new j7e(t,r,i,H.lift(o),s,a,u)},e.prototype.toQuickOpenEntries=function(t,r,i){var o=this.getController(t),s=[],a=i;i.indexOf(Dd)===0&&(a=a.substr(Dd.length));for(var u=0,l=r;u<l.length;u++){var c=l[u],d=MDe(c.name),h=gne(a,d);if(h){var p=void 0;c.containerName&&(p=c.containerName),s.push(this.symbolEntry(d,zAe(c.kind),p,c.range,h,t,o))}}if(i&&(i.indexOf(Dd)===0?s=s.sort(this.sortScoped.bind(this,i.toLowerCase())):s=s.sort(this.sortNormal.bind(this,i.toLowerCase()))),s.length>0&&i.indexOf(Dd)===0){for(var v=null,m=null,_=0,b=0;b<s.length;b++){var C=s[b];v!==C.getType()?(m&&m.setGroupLabel(this.typeToLabel(v||"",_)),v=C.getType(),m=C,_=1,C.setShowBorder(b>0)):_++}m&&m.setGroupLabel(this.typeToLabel(v||"",_))}else s.length>0&&s[0].setGroupLabel(Yt(oo._symbols_,s.length));return s},e.prototype.typeToLabel=function(t,r){switch(t){case"module":return Yt(oo._modules_,r);case"class":return Yt(oo._class_,r);case"interface":return Yt(oo._interface_,r);case"method":return Yt(oo._method_,r);case"function":return Yt(oo._function_,r);case"property":return Yt(oo._property_,r);case"variable":return Yt(oo._variable_,r);case"var":return Yt(oo._variable2_,r);case"constructor":return Yt(oo._constructor_,r);case"call":return Yt(oo._call_,r)}return t},e.prototype.sortNormal=function(t,r,i){var o=r.getLabel().toLowerCase(),s=i.getLabel().toLowerCase(),a=o.localeCompare(s);if(a!==0)return a;var u=r.getRange(),l=i.getRange();return u.startLineNumber-l.startLineNumber},e.prototype.sortScoped=function(t,r,i){t=t.substr(Dd.length);var o=r.getType(),s=i.getType(),a=o.localeCompare(s);if(a!==0)return a;if(t){var u=r.getLabel().toLowerCase(),l=i.getLabel().toLowerCase(),c=u.localeCompare(l);if(c!==0)return c}var d=r.getRange(),h=i.getRange();return d.startLineNumber-h.startLineNumber},e}(DB);pe(q7e);var z7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G7e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hv=function(n,e){return function(t,r){e(t,r,n)}},$7e=function(n){z7e(e,n);function e(t,r,i,o,s,a,u){return n.call(this,!0,t,r,i,o,s,a,u)||this}return e=G7e([hv(1,yt),hv(2,Dn),hv(3,gi),hv(4,cr),hv(5,kh),hv(6,pi)],e),e}(k_);Cn($7e);var K7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y7e=function(n){K7e(e,n);function e(){var t=n.call(this,{id:"editor.action.toggleHighContrast",label:EM.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0})||this;return t._originalThemeName=null,t}return e.prototype.run=function(t,r){var i=t.get(sg);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getTheme().themeName,i.setTheme("hc-black"))},e}(Ue);pe(Y7e);class Wf{constructor({codeEditor:e,widgetId:t,color:r,label:i,range:o,tooltipDuration:s=1e3,opacity:a="1.0",onDisposed:u}){this._editor=e,this._tooltipDuration=s,this._id=`monaco-remote-cursor-${t}`,this._onDisposed=u,this._color=r,this._content=i,this._opacity=a,this._domNode=this._createWidgetNode(),this._scrollListener=this._editor.onDidScrollChange(()=>{this._updateTooltipPosition()}),this.updatePosition(o),this._hideTimer=null,this._editor.addContentWidget(this),this._disposed=!1}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return this._position}updatePosition(e){this._updatePosition(e),setTimeout(()=>this._showTooltip(),0)}updateContent(e){typeof e!="string"||e===this._content||(this._tooltipNode.textContent=e)}dispose(){this._disposed||(this._editor.removeContentWidget(this),this._scrollListener!==null&&this._scrollListener.dispose(),this._disposed=!0,this._onDisposed())}isDisposed(){return this._disposed}_updatePosition(e){this._position={position:e.getEndPosition(),preference:[nm.ContentWidgetPositionPreference.ABOVE,nm.ContentWidgetPositionPreference.BELOW]},this._editor.layoutContentWidget(this)}_showTooltip(){this._updateTooltipPosition(),this._hideTimer!==null?clearTimeout(this._hideTimer):this._setTooltipVisible(!0),this._hideTimer=setTimeout(()=>{this._setTooltipVisible(!1),this._hideTimer=null},this._tooltipDuration)}_updateTooltipPosition(){this._domNode.offsetTop-this._editor.getScrollTop()-this._tooltipNode.offsetHeight<5?this._tooltipNode.style.top=`${this._tooltipNode.offsetHeight+2}px`:this._tooltipNode.style.top=`-${this._tooltipNode.offsetHeight}px`,this._tooltipNode.style.left="0"}_setTooltipVisible(e){e?this._tooltipNode.style.display="block":this._tooltipNode.style.display="none"}_colorWithCSSVars(e){return`var(${`--color-${e}-${Wf.WIDGET_NODE_CLASSNAME}`}, ${this._color})`}_getTextColor(){const e=VSe(this._color);return Math.round((e[0]*299+e[1]*587+e[2]*114)/1e3)>=125?"#000000":"#ffffff"}_createTooltipNode(){const e=document.createElement("div");e.style.borderColor=this._colorWithCSSVars("border"),e.style.backgroundColor=this._colorWithCSSVars("bg"),e.style.color=this._getTextColor(),e.style.opacity=this._opacity,e.style.borderRadius="2px",e.style.fontSize="12px",e.style.padding="2px 8px",e.style.whiteSpace="nowrap",e.textContent=this._content;const t=`${Wf.TOOLTIP_NODE_CLASSNAME}-${this._color.replace("#","")}`;return e.classList.add(t,Wf.TOOLTIP_NODE_CLASSNAME),e}_createWidgetNode(){su(document!=null,"This package must run on browser!");const e=document.createElement("div");return e.style.height="20px",e.style.paddingBottom="0px",e.style.transition="all 0.1s linear",this._tooltipNode=this._createTooltipNode(),e.appendChild(this._tooltipNode),e.classList.add("monaco-editor-overlaymessage",Wf.WIDGET_NODE_CLASSNAME),e}}Wf.WIDGET_NODE_CLASSNAME="firepad-remote-cursor";Wf.TOOLTIP_NODE_CLASSNAME="firepad-remote-cursor-message";class X7e{constructor(e){this._editor=e,this._tooltipDuration=1e3,this._cursors=new Map}addCursor(e,t,r,i){const o=new Wf({codeEditor:this._editor,widgetId:e,color:r,range:t,label:i||e.toString(),tooltipDuration:this._tooltipDuration,onDisposed:()=>{this.removeCursor(e)}});this._cursors.set(e,o)}removeCursor(e){const t=this._cursors.get(e);t&&(t.dispose(),this._cursors.delete(e))}updateCursor(e,t,r,i){const o=this._cursors.get(e);if(o){o.updatePosition(t),o.updateContent(i);return}this.addCursor(e,t,r,i)}dispose(){this._cursors.forEach(e=>e.dispose()),this._cursors.clear()}}class Q7e{constructor(e,t=!0){var r;this._classNames=[],this._disposables=[],this._monaco=e,this._lastDocLines=((r=this._monaco.getModel())===null||r===void 0?void 0:r.getLinesContent())||[""],this._lastCursorRange=this._monaco.getSelection(),this._remoteCursors=new Map,this._cursorWidgetController=new X7e(this._monaco),this._redoCallback=null,this._undoCallback=null,this._originalRedo=null,this._originalUndo=null,this._ignoreChanges=!1,t||this._init()}_init(){this._emitter=new J1([io.Blur,io.Change,io.CursorActivity,io.Error,io.Focus,io.Redo,io.Undo]),this._disposables.push(this._cursorWidgetController,this._monaco.onDidBlurEditorWidget(()=>{this._onBlur()}),this._monaco.onDidFocusEditorWidget(()=>{this._onFocus()}),this._monaco.onDidChangeModel(e=>{this._onModelChange(e)}),this._monaco.onDidChangeModelContent(e=>{this._onChange(e)}),this._monaco.onDidChangeCursorPosition(e=>{this._onCursorActivity(e)}))}dispose(){this._remoteCursors.clear(),this._disposables.forEach(t=>t.dispose()),this._disposables.splice(0,this._disposables.length),this._emitter&&(this._emitter.dispose(),this._emitter=null);const e=this._getModel();e&&(e.undo!==this._originalUndo&&(e.undo=this._originalUndo),e.redo!==this._originalRedo&&(e.redo=this._originalRedo),this._originalUndo=null,this._originalRedo=null)}_getModel(){return this._monaco.getModel()}registerUndo(e){const t=this._getModel();t&&(this._originalUndo=t.undo,t.undo=this._undoCallback=e)}registerRedo(e){const t=this._getModel();t&&(this._originalRedo=t.redo,t.redo=this._redoCallback=e)}on(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.on(e,t)}off(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.off(e,t)}registerCallbacks(e){Object.entries(e).forEach(([t,r])=>{this.on(t,r)})}_trigger(e,t,...r){var i;return(i=this._emitter)===null||i===void 0?void 0:i.trigger(e,t||{},...r)}getCursor(){const e=this._getModel();if(!e)return null;let t=this._monaco.getSelection();t==null&&(t=this._lastCursorRange);const r=t.getStartPosition(),i=t.getEndPosition();let o=e.getOffsetAt(r),s=e.getOffsetAt(i);return o>s&&([o,s]=[s,o]),new KF(o,s)}setCursor(e){const{position:t,selectionEnd:r}=e.toJSON(),i=this._getModel();if(!i)return;let o=i.getPositionAt(t),s=i.getPositionAt(r);t>r&&([o,s]=[s,o]),this._monaco.setSelection(new ny(o.lineNumber,o.column,s.lineNumber,s.column))}setOtherCursor(e,t,r,i){su(typeof t=="object"&&typeof t.toJSON=="function"&&typeof r=="string"&&(typeof e=="string"||typeof e=="number")&&!!r.match(/^#[a-fA-F0-9]{3,6}$/));const{position:o,selectionEnd:s}=t.toJSON();Qd(o<0||s<0);let a=this._remoteCursors.get(e);a?a.decoration=this._monaco.deltaDecorations(a.decoration,[]):(a={clientID:e,decoration:[]},this._remoteCursors.set(e,a));let u=r,l=`remote-client-selection-${r.replace("#","")}`;o===s&&(u="transparent",l=l.replace("selection","cursor")),this._addStyleRule(l,u,r);const c=this._getModel();if(!c)return{dispose:hP};let d=c.getPositionAt(o),h=c.getPositionAt(s);d>h&&([d,h]=[h,d]);const p=new ny(d.lineNumber,d.column,h.lineNumber,h.column);return a.decoration=this._monaco.deltaDecorations(a.decoration,[{range:p,options:{className:l,isWholeLine:!1,stickiness:nm.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]),this._cursorWidgetController.updateCursor(e,p,r,i),{dispose:()=>{const v=this._remoteCursors.get(e);v&&(v.decoration=this._monaco.deltaDecorations(v.decoration,[]))}}}getText(){const e=this._getModel();return e?e.getValue():""}setText(e){const t=this._getModel();t&&t.applyEdits([{range:t.getFullModelRange(),text:e}])}setInitiated(e){this.setText(""),this._initiated=e}_getPreviousContentInRange(e){const t=this._getModel(),r=t?t.getEOL():dP.LF;if(!e)return this._lastDocLines.join(r);if(e.isEmpty())return"";let i="";const{startLineNumber:o,startColumn:s,endLineNumber:a,endColumn:u}=e;for(let l=o;l<=a;l++){const c=this._lastDocLines[l-1];if(l===o){if(l===a)return c.slice(s-1,u-1);i+=c.slice(s-1)+r}else l===a?i+=c.slice(0,u-1):i+=c+r}return i}_transformOpsIntoMonacoChanges(e,t){let r=0;const i=[];for(const o of e){if(o.isRetain()){r+=o.chars;continue}if(o.isInsert()){const s=t.getPositionAt(r);i.push({range:new ny(s.lineNumber,s.column,s.lineNumber,s.column),text:o.text,forceMoveMarkers:!0});continue}if(o.isDelete()){const s=t.getPositionAt(r),a=t.getPositionAt(r+o.chars);i.push({range:new ny(s.lineNumber,s.column,a.lineNumber,a.column),text:"",forceMoveMarkers:!0}),r+=o.chars}}return i}_applyChangesToMonaco(e){let t;typeof this._monaco.getConfiguration=="function"?{readOnly:t}=this._monaco.getConfiguration():t=this._monaco.getOption(nm.EditorOption.readOnly),t&&this._monaco.updateOptions({readOnly:!1}),this._monaco.executeEdits("firepad",e),t&&this._monaco.updateOptions({readOnly:t})}applyOperation(e){e.isNoop()||(this._ignoreChanges=!0);const t=this._getModel();if(!t)return;const r=this._transformOpsIntoMonacoChanges(e.getOps(),t);r.length&&this._applyChangesToMonaco(r),t&&(this._lastDocLines=t.getLinesContent()),this._ignoreChanges=!1}invertOperation(e){return e.invert(this.getText())}_onBlur(){const e=this._monaco.getSelection();(!e||e.isEmpty())&&this._trigger(io.Blur)}_onFocus(){this._trigger(io.Focus)}_onCursorActivity(e){e.reason!==nm.CursorChangeReason.RecoverFromMarkers&&this._trigger(io.CursorActivity)}_onChange(e){if(this._ignoreChanges||!this._initiated)return;const t=this._getModel(),i=this._getPreviousContentInRange().length;if(!e.changes||e.changes.length===0){const a=new ut().retain(i,null);this._trigger(io.Change,a,a);return}const[o,s]=this._operationFromMonacoChange(e.changes,i);this._lastDocLines=t.getLinesContent(),this._trigger(io.Change,o,s)}_onModelChange(e){const t=this._getModel();if(!t)return;this._undoCallback&&(this._originalUndo=t.undo,t.undo=this._undoCallback),this._redoCallback&&(this._originalRedo=t.redo,t.redo=this._redoCallback);const r=this._lastDocLines.length,i=this._lastDocLines[r-1].length,o=new ny(1,1,r,i+1),s=this._getPreviousContentInRange();this._onChange({changes:[{range:o,rangeOffset:0,rangeLength:s.length,text:t.getValue()}]})}_operationFromMonacoChange(e,t){let r=new ut().retain(t,null),i=new ut().retain(t,null),o=0;const s=e.sort((a,u)=>u.rangeOffset-a.rangeOffset);for(const a of s){let u=new ut,l=new ut;const{range:c,text:d,rangeOffset:h,rangeLength:p}=a,v=t-h-p+o;try{u=u.retain(h,null),l=l.retain(h,null)}catch(m){throw this._trigger(io.Error,m,u.toString(),{rangeOffset:h}),m}!d&&!c.isEmpty()?(u=u.delete(p),l=l.insert(this._getPreviousContentInRange(c),null)):d&&!c.isEmpty()?(u=u.delete(p).insert(d,null),l=l.insert(this._getPreviousContentInRange(c),null).delete(d)):(u=u.insert(d,null),l=l.delete(d));try{u=u.retain(v,null),l=l.retain(v,null)}catch(m){throw this._trigger(io.Error,m,u.toString(),{restLength:v}),m}o=o+d.length-p,r=r.compose(u),i=l.compose(i)}return[r,i]}_getStyles(e,t,r){return`
      .${e} {
        position: relative;
        background-color: ${t};
        border-left: 2px solid ${r};
      }
    `}_addStyleRule(e,t,r){if(su(document!=null,"This package must run on browser!"),this._classNames.includes(e))return;const i=this._getStyles(e,t,r),o=document.createTextNode(i),s=document.createElement("style");s.appendChild(o),document.head.appendChild(s),this._classNames.push(e)}}function Z7e(n,e,t={}){const r=t.userId||JSe(),i=t.userColor||USe(r.toString()),o=t.userName||r.toString(),s=t.defaultText||e.getValue();let a=new VA(n,r,i,o);const u=new Q7e(e,!1);return new F4(a,u,{userId:r,userName:o,userColor:i,defaultText:s})}function J7e(n,e,t={}){return Z7e(n,e,t)}(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,y){f!=Array.prototype&&f!=Object.prototype&&(f[g]=y.value)};function t(f){f=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,f];for(var g=0;g<f.length;++g){var y=f[g];if(y&&y.Math==Math)return y}return globalThis}var r=t(this);function i(f,g){if(g){var y=r;f=f.split(".");for(var w=0;w<f.length-1;w++){var I=f[w];I in y||(y[I]={}),y=y[I]}f=f[f.length-1],w=y[f],g=g(w),g!=w&&g!=null&&e(y,f,{configurable:!0,writable:!0,value:g})}}function o(f){var g=0;return function(){return g<f.length?{done:!1,value:f[g++]}:{done:!0}}}function s(f){var g=typeof Symbol<"u"&&Symbol.iterator&&f[Symbol.iterator];return g?g.call(f):{next:o(f)}}i("Promise",function(f){function g(M){this.b=0,this.c=void 0,this.a=[];var z=this.f();try{M(z.resolve,z.reject)}catch(le){z.reject(le)}}function y(){this.a=null}function w(M){return M instanceof g?M:new g(function(z){z(M)})}if(f)return f;y.prototype.b=function(M){if(this.a==null){this.a=[];var z=this;this.c(function(){z.g()})}this.a.push(M)};var I=r.setTimeout;y.prototype.c=function(M){I(M,0)},y.prototype.g=function(){for(;this.a&&this.a.length;){var M=this.a;this.a=[];for(var z=0;z<M.length;++z){var le=M[z];M[z]=null;try{le()}catch(ye){this.f(ye)}}}this.a=null},y.prototype.f=function(M){this.c(function(){throw M})},g.prototype.f=function(){function M(ye){return function(Ct){le||(le=!0,ye.call(z,Ct))}}var z=this,le=!1;return{resolve:M(this.m),reject:M(this.g)}},g.prototype.m=function(M){if(M===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(M instanceof g)this.s(M);else{e:switch(typeof M){case"object":var z=M!=null;break e;case"function":z=!0;break e;default:z=!1}z?this.v(M):this.h(M)}},g.prototype.v=function(M){var z=void 0;try{z=M.then}catch(le){this.g(le);return}typeof z=="function"?this.u(z,M):this.h(M)},g.prototype.g=function(M){this.i(2,M)},g.prototype.h=function(M){this.i(1,M)},g.prototype.i=function(M,z){if(this.b!=0)throw Error("Cannot settle("+M+", "+z+"): Promise already settled in state"+this.b);this.b=M,this.c=z,this.l()},g.prototype.l=function(){if(this.a!=null){for(var M=0;M<this.a.length;++M)R.b(this.a[M]);this.a=null}};var R=new y;return g.prototype.s=function(M){var z=this.f();M.Ra(z.resolve,z.reject)},g.prototype.u=function(M,z){var le=this.f();try{M.call(z,le.resolve,le.reject)}catch(ye){le.reject(ye)}},g.prototype.then=function(M,z){function le(fn,mi){return typeof fn=="function"?function(Gl){try{ye(fn(Gl))}catch(IN){Ct(IN)}}:mi}var ye,Ct,An=new g(function(fn,mi){ye=fn,Ct=mi});return this.Ra(le(M,ye),le(z,Ct)),An},g.prototype.catch=function(M){return this.then(void 0,M)},g.prototype.Ra=function(M,z){function le(){switch(ye.b){case 1:M(ye.c);break;case 2:z(ye.c);break;default:throw Error("Unexpected state: "+ye.b)}}var ye=this;this.a==null?R.b(le):this.a.push(le)},g.resolve=w,g.reject=function(M){return new g(function(z,le){le(M)})},g.race=function(M){return new g(function(z,le){for(var ye=s(M),Ct=ye.next();!Ct.done;Ct=ye.next())w(Ct.value).Ra(z,le)})},g.all=function(M){var z=s(M),le=z.next();return le.done?w([]):new g(function(ye,Ct){function An(Gl){return function(IN){fn[Gl]=IN,mi--,mi==0&&ye(fn)}}var fn=[],mi=0;do fn.push(void 0),mi++,w(le.value).Ra(An(fn.length-1),Ct),le=z.next();while(!le.done)})},g});var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function d(f){return(f=f.querySelector&&f.querySelector("script[nonce]"))&&(f=f.nonce||f.getAttribute("nonce"))&&l.test(f)?f:""}function h(){}function p(f){var g=typeof f;return g!="object"?g:f?Array.isArray(f)?"array":g:"null"}function v(f){var g=p(f);return g=="array"||g=="object"&&typeof f.length=="number"}function m(f){return p(f)=="function"}function _(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function b(f){return Object.prototype.hasOwnProperty.call(f,C)&&f[C]||(f[C]=++E)}var C="closure_uid_"+(1e9*Math.random()>>>0),E=0;function T(f,g,y){return f.call.apply(f.bind,arguments)}function A(f,g,y){if(!f)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,w),f.apply(g,I)}}return function(){return f.apply(g,arguments)}}function S(f,g,y){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S=T:S=A,S.apply(null,arguments)}function N(f,g){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function k(f,g){function y(){}y.prototype=g.prototype,f.bb=g.prototype,f.prototype=new y,f.prototype.constructor=f}function F(f){return f}function L(f,g,y){this.code=P+f,this.message=g||B[f]||"",this.a=y||null}k(L,Error),L.prototype.w=function(){var f={code:this.code,message:this.message};return this.a&&(f.serverResponse=this.a),f},L.prototype.toJSON=function(){return this.w()};function O(f){var g=f&&f.code;return g?new L(g.substring(P.length),f.message,f.serverResponse):null}var P="auth/",B={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},U={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function $(f){for(var g in U)if(U[g].id===f)return f=U[g],{firebaseEndpoint:f.Ua,secureTokenEndpoint:f.$a,identityPlatformEndpoint:f.Xa};return null}var ee;ee=$("__EID__")?"__EID__":void 0;function te(f){if(!f)return!1;try{return!!f.$goog_Thenable}catch{return!1}}function ne(f){if(Error.captureStackTrace)Error.captureStackTrace(this,ne);else{var g=Error().stack;g&&(this.stack=g)}f&&(this.message=String(f))}k(ne,Error),ne.prototype.name="CustomError";function de(f,g){f=f.split("%s");for(var y="",w=f.length-1,I=0;I<w;I++)y+=f[I]+(I<g.length?g[I]:"%s");ne.call(this,y+f[w])}k(de,ne),de.prototype.name="AssertionError";function ke(f,g){throw new de("Failure"+(f?": "+f:""),Array.prototype.slice.call(arguments,1))}function qe(f,g){this.c=f,this.f=g,this.b=0,this.a=null}qe.prototype.get=function(){if(0<this.b){this.b--;var f=this.a;this.a=f.next,f.next=null}else f=this.c();return f};function ft(f,g){f.f(g),100>f.b&&(f.b++,g.next=f.a,f.a=g)}function ze(){this.b=this.a=null}var dt=new qe(function(){return new q},function(f){f.reset()});ze.prototype.add=function(f,g){var y=dt.get();y.set(f,g),this.b?this.b.next=y:this.a=y,this.b=y};function vi(){var f=rH,g=null;return f.a&&(g=f.a,f.a=f.a.next,f.a||(f.b=null),g.next=null),g}function q(){this.next=this.b=this.a=null}q.prototype.set=function(f,g){this.a=f,this.b=g,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var me=Array.prototype.indexOf?function(f,g){return Array.prototype.indexOf.call(f,g,void 0)}:function(f,g){if(typeof f=="string")return typeof g!="string"||g.length!=1?-1:f.indexOf(g,0);for(var y=0;y<f.length;y++)if(y in f&&f[y]===g)return y;return-1},Ht=Array.prototype.forEach?function(f,g,y){Array.prototype.forEach.call(f,g,y)}:function(f,g,y){for(var w=f.length,I=typeof f=="string"?f.split(""):f,R=0;R<w;R++)R in I&&g.call(y,I[R],R,f)};function as(f,g){for(var y=typeof f=="string"?f.split(""):f,w=f.length-1;0<=w;--w)w in y&&g.call(void 0,y[w],w,f)}var xo=Array.prototype.filter?function(f,g){return Array.prototype.filter.call(f,g,void 0)}:function(f,g){for(var y=f.length,w=[],I=0,R=typeof f=="string"?f.split(""):f,M=0;M<y;M++)if(M in R){var z=R[M];g.call(void 0,z,M,f)&&(w[I++]=z)}return w},qn=Array.prototype.map?function(f,g){return Array.prototype.map.call(f,g,void 0)}:function(f,g){for(var y=f.length,w=Array(y),I=typeof f=="string"?f.split(""):f,R=0;R<y;R++)R in I&&(w[R]=g.call(void 0,I[R],R,f));return w},eo=Array.prototype.some?function(f,g){return Array.prototype.some.call(f,g,void 0)}:function(f,g){for(var y=f.length,w=typeof f=="string"?f.split(""):f,I=0;I<y;I++)if(I in w&&g.call(void 0,w[I],I,f))return!0;return!1};function G(f){e:{for(var g=Khe,y=f.length,w=typeof f=="string"?f.split(""):f,I=0;I<y;I++)if(I in w&&g.call(void 0,w[I],I,f)){g=I;break e}g=-1}return 0>g?null:typeof f=="string"?f.charAt(g):f[g]}function Z(f,g){return 0<=me(f,g)}function ie(f,g){g=me(f,g);var y;return(y=0<=g)&&Array.prototype.splice.call(f,g,1),y}function ue(f,g){var y=0;as(f,function(w,I){g.call(void 0,w,I,f)&&Array.prototype.splice.call(f,I,1).length==1&&y++})}function ge(f){return Array.prototype.concat.apply([],arguments)}function Se(f){var g=f.length;if(0<g){for(var y=Array(g),w=0;w<g;w++)y[w]=f[w];return y}return[]}var Ne=String.prototype.trim?function(f){return f.trim()}:function(f){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(f)[1]},Ee=/&/g,Oe=/</g,we=/>/g,We=/"/g,pt=/'/g,at=/\x00/g,bt=/[\x00&<>"']/;function Ye(f,g){return f.indexOf(g)!=-1}function cn(f,g){return f<g?-1:f>g?1:0}var _n;e:{var Er=u.navigator;if(Er){var us=Er.userAgent;if(us){_n=us;break e}}_n=""}function zn(f){return Ye(_n,f)}function t0(f,g){for(var y in f)g.call(void 0,f[y],y,f)}function Rs(f){for(var g in f)return!1;return!0}function Va(f){var g={},y;for(y in f)g[y]=f[y];return g}var to="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qn(f,g){for(var y,w,I=1;I<arguments.length;I++){w=arguments[I];for(y in w)f[y]=w[y];for(var R=0;R<to.length;R++)y=to[R],Object.prototype.hasOwnProperty.call(w,y)&&(f[y]=w[y])}}function n0(f,g){e:{try{var y=f&&f.ownerDocument,w=y&&(y.defaultView||y.parentWindow);if(w=w||u,w.Element&&w.Location){var I=w;break e}}catch{}I=null}if(I&&typeof I[g]<"u"&&(!f||!(f instanceof I[g])&&(f instanceof I.Location||f instanceof I.Element))){if(_(f))try{var R=f.constructor.displayName||f.constructor.name||Object.prototype.toString.call(f)}catch{R="<object could not be stringified>"}else R=f===void 0?"undefined":f===null?"null":typeof f;ke("Argument is not a %s (or a non-Element, non-Location mock); got: %s",g,R)}}function ku(f,g){this.a=f===JC&&g||"",this.b=B9}ku.prototype.ta=!0,ku.prototype.sa=function(){return this.a},ku.prototype.toString=function(){return"Const{"+this.a+"}"};function tx(f){return f instanceof ku&&f.constructor===ku&&f.b===B9?f.a:(ke("expected object of type Const, got '"+f+"'"),"type_error:Const")}var B9={},JC={},ew;function H9(){if(ew===void 0){var f=null,g=u.trustedTypes;if(g&&g.createPolicy){try{f=g.createPolicy("goog#html",{createHTML:F,createScript:F,createScriptURL:F})}catch(y){u.console&&u.console.error(y.message)}ew=f}else ew=f}return ew}function Dg(f,g){this.a=g===W9?f:""}Dg.prototype.ta=!0,Dg.prototype.sa=function(){return this.a.toString()},Dg.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function V9(f){return f instanceof Dg&&f.constructor===Dg?f.a:(ke("expected object of type TrustedResourceUrl, got '"+f+"' of type "+p(f)),"type_error:TrustedResourceUrl")}function nx(f,g){var y=tx(f);if(!Sfe.test(y))throw Error("Invalid TrustedResourceUrl format: "+y);return f=y.replace(Efe,function(w,I){if(!Object.prototype.hasOwnProperty.call(g,I))throw Error('Found marker, "'+I+'", in format string, "'+y+'", but no valid label mapping found in args: '+JSON.stringify(g));return w=g[I],w instanceof ku?tx(w):encodeURIComponent(String(w))}),Tfe(f)}var Efe=/%{(\w+)}/g,Sfe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,W9={};function Tfe(f){var g=H9();return f=g?g.createScriptURL(f):f,new Dg(f,W9)}function ls(f,g){this.a=g===r0?f:""}ls.prototype.ta=!0,ls.prototype.sa=function(){return this.a.toString()},ls.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function tw(f){return f instanceof ls&&f.constructor===ls?f.a:(ke("expected object of type SafeUrl, got '"+f+"' of type "+p(f)),"type_error:SafeUrl")}var Dfe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Afe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,U9=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function j9(f){if(f instanceof ls)return f;if(f=typeof f=="object"&&f.ta?f.sa():String(f),U9.test(f))f=new ls(f,r0);else{f=String(f),f=f.replace(/(%0A|%0D)/g,"");var g=f.match(Afe);f=g&&Dfe.test(g[1])?new ls(f,r0):null}return f}function q9(f){return f instanceof ls?f:(f=typeof f=="object"&&f.ta?f.sa():String(f),U9.test(f)||(f="about:invalid#zClosurez"),new ls(f,r0))}var r0={},z9=new ls("about:invalid#zClosurez",r0);function Ag(f,g,y){this.a=y===G9?f:""}Ag.prototype.ta=!0,Ag.prototype.sa=function(){return this.a.toString()},Ag.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Ife(f){return f instanceof Ag&&f.constructor===Ag?f.a:(ke("expected object of type SafeHtml, got '"+f+"' of type "+p(f)),"type_error:SafeHtml")}var G9={};function xfe(f,g){n0(f,"HTMLScriptElement"),f.src=V9(g),(g=f.ownerDocument&&f.ownerDocument.defaultView)&&g!=u?g=d(g.document):(c===null&&(c=d(u.document)),g=c),g&&f.setAttribute("nonce",g)}function $9(f,g,y,w){return f=f instanceof ls?f:q9(f),g=g||u,y=y instanceof ku?tx(y):y||"",g.open(tw(f),y,w,void 0)}function K9(f,g){for(var y=f.split("%s"),w="",I=Array.prototype.slice.call(arguments,1);I.length&&1<y.length;)w+=y.shift()+I.shift();return w+y.join("%s")}function rx(f){return bt.test(f)&&(f.indexOf("&")!=-1&&(f=f.replace(Ee,"&amp;")),f.indexOf("<")!=-1&&(f=f.replace(Oe,"&lt;")),f.indexOf(">")!=-1&&(f=f.replace(we,"&gt;")),f.indexOf('"')!=-1&&(f=f.replace(We,"&quot;")),f.indexOf("'")!=-1&&(f=f.replace(pt,"&#39;")),f.indexOf("\0")!=-1&&(f=f.replace(at,"&#0;"))),f}function ix(f){return ix[" "](f),f}ix[" "]=h;function Lfe(f,g){var y=Rfe;return Object.prototype.hasOwnProperty.call(y,f)?y[f]:y[f]=g(f)}var Nfe=zn("Opera"),Wa=zn("Trident")||zn("MSIE"),Y9=zn("Edge"),Ofe=Y9||Wa,X9=zn("Gecko")&&!(Ye(_n.toLowerCase(),"webkit")&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),kfe=Ye(_n.toLowerCase(),"webkit")&&!zn("Edge");function Q9(){var f=u.document;return f?f.documentMode:void 0}var nw;e:{var ox="",sx=function(){var f=_n;if(X9)return/rv:([^\);]+)(\)|;)/.exec(f);if(Y9)return/Edge\/([\d\.]+)/.exec(f);if(Wa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(f);if(kfe)return/WebKit\/(\S+)/.exec(f);if(Nfe)return/(?:Version)[ \/]?(\S+)/.exec(f)}();if(sx&&(ox=sx?sx[1]:""),Wa){var ax=Q9();if(ax!=null&&ax>parseFloat(ox)){nw=String(ax);break e}}nw=ox}var Rfe={};function Z9(f){return Lfe(f,function(){for(var g=0,y=Ne(String(nw)).split("."),w=Ne(String(f)).split("."),I=Math.max(y.length,w.length),R=0;g==0&&R<I;R++){var M=y[R]||"",z=w[R]||"";do{if(M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],z=/(\d*)(\D*)(.*)/.exec(z)||["","","",""],M[0].length==0&&z[0].length==0)break;g=cn(M[1].length==0?0:parseInt(M[1],10),z[1].length==0?0:parseInt(z[1],10))||cn(M[2].length==0,z[2].length==0)||cn(M[2],z[2]),M=M[3],z=z[3]}while(g==0)}return 0<=g})}var ux;if(u.document&&Wa){var J9=Q9();ux=J9||parseInt(nw,10)||void 0}else ux=void 0;var Kc=ux;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Pfe=!Wa||9<=Number(Kc);function i0(f){var g=document;return typeof f=="string"?g.getElementById(f):f}function eH(f,g){t0(g,function(y,w){y&&typeof y=="object"&&y.ta&&(y=y.sa()),w=="style"?f.style.cssText=y:w=="class"?f.className=y:w=="for"?f.htmlFor=y:tH.hasOwnProperty(w)?f.setAttribute(tH[w],y):w.lastIndexOf("aria-",0)==0||w.lastIndexOf("data-",0)==0?f.setAttribute(w,y):f[w]=y})}var tH={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mfe(f,g,y){var w=arguments,I=document,R=String(w[0]),M=w[1];if(!Pfe&&M&&(M.name||M.type)){if(R=["<",R],M.name&&R.push(' name="',rx(M.name),'"'),M.type){R.push(' type="',rx(M.type),'"');var z={};Qn(z,M),delete z.type,M=z}R.push(">"),R=R.join("")}return R=rw(I,R),M&&(typeof M=="string"?R.className=M:Array.isArray(M)?R.className=M.join(" "):eH(R,M)),2<w.length&&Ffe(I,R,w),R}function Ffe(f,g,y){function w(z){z&&g.appendChild(typeof z=="string"?f.createTextNode(z):z)}for(var I=2;I<y.length;I++){var R=y[I];if(!v(R)||_(R)&&0<R.nodeType)w(R);else{e:{if(R&&typeof R.length=="number"){if(_(R)){var M=typeof R.item=="function"||typeof R.item=="string";break e}if(m(R)){M=typeof R.item=="function";break e}}M=!1}Ht(M?Se(R):R,w)}}}function rw(f,g){return g=String(g),f.contentType==="application/xhtml+xml"&&(g=g.toLowerCase()),f.createElement(g)}function nH(f){u.setTimeout(function(){throw f},0)}var lx;function Bfe(){var f=u.MessageChannel;if(typeof f>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!zn("Presto")&&(f=function(){var I=rw(document,"IFRAME");I.style.display="none",document.documentElement.appendChild(I);var R=I.contentWindow;I=R.document,I.open(),I.close();var M="callImmediate"+Math.random(),z=R.location.protocol=="file:"?"*":R.location.protocol+"//"+R.location.host;I=S(function(le){(z=="*"||le.origin==z)&&le.data==M&&this.port1.onmessage()},this),R.addEventListener("message",I,!1),this.port1={},this.port2={postMessage:function(){R.postMessage(M,z)}}}),typeof f<"u"&&!zn("Trident")&&!zn("MSIE")){var g=new f,y={},w=y;return g.port1.onmessage=function(){if(y.next!==void 0){y=y.next;var I=y.Hb;y.Hb=null,I()}},function(I){w.next={Hb:I},w=w.next,g.port2.postMessage(0)}}return function(I){u.setTimeout(I,0)}}function iw(f,g){ow||Hfe(),cx||(ow(),cx=!0),rH.add(f,g)}var ow;function Hfe(){if(u.Promise&&u.Promise.resolve){var f=u.Promise.resolve(void 0);ow=function(){f.then(iH)}}else ow=function(){var g=iH;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!zn("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(lx||(lx=Bfe()),lx(g)):u.setImmediate(g)}}var cx=!1,rH=new ze;function iH(){for(var f;f=vi();){try{f.a.call(f.b)}catch(g){nH(g)}ft(dt,f)}cx=!1}function Gt(f,g){if(this.a=Gh,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,f!=h)try{var y=this;f.call(g,function(w){$h(y,o0,w)},function(w){if(!(w instanceof Ig))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}$h(y,Ul,w)})}catch(w){$h(this,Ul,w)}}var Gh=0,o0=2,Ul=3;function oH(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}oH.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var sH=new qe(function(){return new oH},function(f){f.reset()});function fx(f,g,y){var w=sH.get();return w.g=f,w.b=g,w.f=y,w}function ht(f){if(f instanceof Gt)return f;var g=new Gt(h);return $h(g,o0,f),g}function nr(f){return new Gt(function(g,y){y(f)})}function aH(f,g,y){fH(f,g,y,null)||iw(N(g,f))}function Vfe(f){return new Gt(function(g,y){var w=f.length,I=[];if(w)for(var R=function(ye,Ct){w--,I[ye]=Ct,w==0&&g(I)},M=function(ye){y(ye)},z=0,le;z<f.length;z++)le=f[z],aH(le,N(R,z),M);else g(I)})}function uH(f){return new Gt(function(g){var y=f.length,w=[];if(y)for(var I=function(z,le,ye){y--,w[z]=le?{Qb:!0,value:ye}:{Qb:!1,reason:ye},y==0&&g(w)},R=0,M;R<f.length;R++)M=f[R],aH(M,N(I,R,!0),N(I,R,!1));else g(w)})}Gt.prototype.then=function(f,g,y){return cH(this,m(f)?f:null,m(g)?g:null,y)},Gt.prototype.$goog_Thenable=!0,n=Gt.prototype,n.oa=function(f,g){return f=fx(f,f,g),f.c=!0,hx(this,f),this},n.o=function(f,g){return cH(this,null,f,g)},n.cancel=function(f){if(this.a==Gh){var g=new Ig(f);iw(function(){lH(this,g)},this)}};function lH(f,g){if(f.a==Gh)if(f.c){var y=f.c;if(y.b){for(var w=0,I=null,R=null,M=y.b;M&&(M.c||(w++,M.a==f&&(I=M),!(I&&1<w)));M=M.next)I||(R=M);I&&(y.a==Gh&&w==1?lH(y,g):(R?(w=R,w.next==y.f&&(y.f=w),w.next=w.next.next):dH(y),pH(y,I,Ul,g)))}f.c=null}else $h(f,Ul,g)}function hx(f,g){f.b||f.a!=o0&&f.a!=Ul||hH(f),f.f?f.f.next=g:f.b=g,f.f=g}function cH(f,g,y,w){var I=fx(null,null,null);return I.a=new Gt(function(R,M){I.g=g?function(z){try{var le=g.call(w,z);R(le)}catch(ye){M(ye)}}:R,I.b=y?function(z){try{var le=y.call(w,z);le===void 0&&z instanceof Ig?M(z):R(le)}catch(ye){M(ye)}}:M}),I.a.c=f,hx(f,I),I.a}n.$c=function(f){this.a=Gh,$h(this,o0,f)},n.ad=function(f){this.a=Gh,$h(this,Ul,f)};function $h(f,g,y){f.a==Gh&&(f===y&&(g=Ul,y=new TypeError("Promise cannot resolve to itself")),f.a=1,fH(y,f.$c,f.ad,f)||(f.i=y,f.a=g,f.c=null,hH(f),g!=Ul||y instanceof Ig||Ufe(f,y)))}function fH(f,g,y,w){if(f instanceof Gt)return hx(f,fx(g||h,y||null,w)),!0;if(te(f))return f.then(g,y,w),!0;if(_(f))try{var I=f.then;if(m(I))return Wfe(f,I,g,y,w),!0}catch(R){return y.call(w,R),!0}return!1}function Wfe(f,g,y,w,I){function R(le){z||(z=!0,w.call(I,le))}function M(le){z||(z=!0,y.call(I,le))}var z=!1;try{g.call(f,M,R)}catch(le){R(le)}}function hH(f){f.h||(f.h=!0,iw(f.gc,f))}function dH(f){var g=null;return f.b&&(g=f.b,f.b=g.next,g.next=null),f.b||(f.f=null),g}n.gc=function(){for(var f;f=dH(this);)pH(this,f,this.a,this.i);this.h=!1};function pH(f,g,y,w){if(y==Ul&&g.b&&!g.c)for(;f&&f.g;f=f.c)f.g=!1;if(g.a)g.a.c=null,gH(g,y,w);else try{g.c?g.g.call(g.f):gH(g,y,w)}catch(I){vH.call(null,I)}ft(sH,g)}function gH(f,g,y){g==o0?f.g.call(f.f,y):f.b&&f.b.call(f.f,y)}function Ufe(f,g){f.g=!0,iw(function(){f.g&&vH.call(null,g)})}var vH=nH;function Ig(f){ne.call(this,f)}k(Ig,ne),Ig.prototype.name="cancel";function sw(){this.ya=this.ya,this.pa=this.pa}var jfe=0;sw.prototype.ya=!1;function mH(f){!f.ya&&(f.ya=!0,f.Da(),jfe!=0)&&b(f)}sw.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var qfe=Object.freeze||function(f){return f},_H=!Wa||9<=Number(Kc),zfe=Wa&&!Z9("9"),Gfe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{u.addEventListener("test",h,g),u.removeEventListener("test",h,g)}catch{}return f}();function cs(f,g){this.type=f,this.b=this.target=g,this.defaultPrevented=!1}cs.prototype.preventDefault=function(){this.defaultPrevented=!0};function Kh(f,g){if(cs.call(this,f?f.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,f){var y=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.b=g,g=f.relatedTarget){if(X9){e:{try{ix(g.nodeName);var I=!0;break e}catch{}I=!1}I||(g=null)}}else y=="mouseover"?g=f.fromElement:y=="mouseout"&&(g=f.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$fe[f.pointerType]||"",this.a=f,f.defaultPrevented&&this.preventDefault()}}k(Kh,cs);var $fe=qfe({2:"touch",3:"pen",4:"mouse"});Kh.prototype.preventDefault=function(){Kh.bb.preventDefault.call(this);var f=this.a;if(f.preventDefault)f.preventDefault();else if(f.returnValue=!1,zfe)try{(f.ctrlKey||112<=f.keyCode&&123>=f.keyCode)&&(f.keyCode=-1)}catch{}},Kh.prototype.g=function(){return this.a};var s0="closure_listenable_"+(1e6*Math.random()|0),Kfe=0;function Yfe(f,g,y,w,I){this.listener=f,this.proxy=null,this.src=g,this.type=y,this.capture=!!w,this.Wa=I,this.key=++Kfe,this.wa=this.Qa=!1}function aw(f){f.wa=!0,f.listener=null,f.proxy=null,f.src=null,f.Wa=null}function uw(f){this.src=f,this.a={},this.b=0}uw.prototype.add=function(f,g,y,w,I){var R=f.toString();f=this.a[R],f||(f=this.a[R]=[],this.b++);var M=px(f,g,w,I);return-1<M?(g=f[M],y||(g.Qa=!1)):(g=new Yfe(g,this.src,R,!!w,I),g.Qa=y,f.push(g)),g};function dx(f,g){var y=g.type;y in f.a&&ie(f.a[y],g)&&(aw(g),f.a[y].length==0&&(delete f.a[y],f.b--))}function px(f,g,y,w){for(var I=0;I<f.length;++I){var R=f[I];if(!R.wa&&R.listener==g&&R.capture==!!y&&R.Wa==w)return I}return-1}var gx="closure_lm_"+(1e6*Math.random()|0),vx={};function _a(f,g,y,w,I){if(w&&w.once)mx(f,g,y,w,I);else if(Array.isArray(g))for(var R=0;R<g.length;R++)_a(f,g[R],y,w,I);else y=yx(y),f&&f[s0]?SH(f,g,y,_(w)?!!w.capture:!!w,I):yH(f,g,y,!1,w,I)}function yH(f,g,y,w,I,R){if(!g)throw Error("Invalid event type");var M=_(I)?!!I.capture:!!I,z=lw(f);if(z||(f[gx]=z=new uw(f)),y=z.add(g,y,w,M,R),!y.proxy)if(w=Xfe(),y.proxy=w,w.src=f,w.listener=y,f.addEventListener)Gfe||(I=M),I===void 0&&(I=!1),f.addEventListener(g.toString(),w,I);else if(f.attachEvent)f.attachEvent(CH(g.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.")}function Xfe(){var f=Qfe,g=_H?function(y){return f.call(g.src,g.listener,y)}:function(y){if(y=f.call(g.src,g.listener,y),!y)return y};return g}function mx(f,g,y,w,I){if(Array.isArray(g))for(var R=0;R<g.length;R++)mx(f,g[R],y,w,I);else y=yx(y),f&&f[s0]?bx(f,g,y,_(w)?!!w.capture:!!w,I):yH(f,g,y,!0,w,I)}function Ps(f,g,y,w,I){if(Array.isArray(g))for(var R=0;R<g.length;R++)Ps(f,g[R],y,w,I);else w=_(w)?!!w.capture:!!w,y=yx(y),f&&f[s0]?(f=f.v,g=String(g).toString(),g in f.a&&(R=f.a[g],y=px(R,y,w,I),-1<y&&(aw(R[y]),Array.prototype.splice.call(R,y,1),R.length==0&&(delete f.a[g],f.b--)))):f&&(f=lw(f))&&(g=f.a[g.toString()],f=-1,g&&(f=px(g,y,w,I)),(y=-1<f?g[f]:null)&&bH(y))}function bH(f){if(typeof f!="number"&&f&&!f.wa){var g=f.src;if(g&&g[s0])dx(g.v,f);else{var y=f.type,w=f.proxy;g.removeEventListener?g.removeEventListener(y,w,f.capture):g.detachEvent?g.detachEvent(CH(y),w):g.addListener&&g.removeListener&&g.removeListener(w),(y=lw(g))?(dx(y,f),y.b==0&&(y.src=null,g[gx]=null)):aw(f)}}}function CH(f){return f in vx?vx[f]:vx[f]="on"+f}function wH(f,g,y,w){var I=!0;if((f=lw(f))&&(g=f.a[g.toString()]))for(g=g.concat(),f=0;f<g.length;f++){var R=g[f];R&&R.capture==y&&!R.wa&&(R=EH(R,w),I=I&&R!==!1)}return I}function EH(f,g){var y=f.listener,w=f.Wa||f.src;return f.Qa&&bH(f),y.call(w,g)}function Qfe(f,g){if(f.wa)return!0;if(!_H){if(!g)e:{g=["window","event"];for(var y=u,w=0;w<g.length;w++)if(y=y[g[w]],y==null){g=null;break e}g=y}if(w=g,g=new Kh(w,this),y=!0,!(0>w.keyCode||w.returnValue!=null)){e:{var I=!1;if(w.keyCode==0)try{w.keyCode=-1;break e}catch{I=!0}(I||w.returnValue==null)&&(w.returnValue=!0)}for(w=[],I=g.b;I;I=I.parentNode)w.push(I);for(f=f.type,I=w.length-1;0<=I;I--){g.b=w[I];var R=wH(w[I],f,!0,g);y=y&&R}for(I=0;I<w.length;I++)g.b=w[I],R=wH(w[I],f,!1,g),y=y&&R}return y}return EH(f,new Kh(g,this))}function lw(f){return f=f[gx],f instanceof uw?f:null}var _x="__closure_events_fn_"+(1e9*Math.random()>>>0);function yx(f){return m(f)?f:(f[_x]||(f[_x]=function(g){return f.handleEvent(g)}),f[_x])}function Lo(){sw.call(this),this.v=new uw(this),this.bc=this,this.hb=null}k(Lo,sw),Lo.prototype[s0]=!0,Lo.prototype.addEventListener=function(f,g,y,w){_a(this,f,g,y,w)},Lo.prototype.removeEventListener=function(f,g,y,w){Ps(this,f,g,y,w)},Lo.prototype.dispatchEvent=function(f){var g,y=this.hb;if(y)for(g=[];y;y=y.hb)g.push(y);y=this.bc;var w=f.type||f;if(typeof f=="string")f=new cs(f,y);else if(f instanceof cs)f.target=f.target||y;else{var I=f;f=new cs(w,y),Qn(f,I)}if(I=!0,g)for(var R=g.length-1;0<=R;R--){var M=f.b=g[R];I=cw(M,w,!0,f)&&I}if(M=f.b=y,I=cw(M,w,!0,f)&&I,I=cw(M,w,!1,f)&&I,g)for(R=0;R<g.length;R++)M=f.b=g[R],I=cw(M,w,!1,f)&&I;return I},Lo.prototype.Da=function(){if(Lo.bb.Da.call(this),this.v){var f=this.v,g;for(g in f.a){for(var y=f.a[g],w=0;w<y.length;w++)aw(y[w]);delete f.a[g],f.b--}}this.hb=null};function SH(f,g,y,w,I){f.v.add(String(g),y,!1,w,I)}function bx(f,g,y,w,I){f.v.add(String(g),y,!0,w,I)}function cw(f,g,y,w){if(g=f.v.a[String(g)],!g)return!0;g=g.concat();for(var I=!0,R=0;R<g.length;++R){var M=g[R];if(M&&!M.wa&&M.capture==y){var z=M.listener,le=M.Wa||M.src;M.Qa&&dx(f.v,M),I=z.call(le,w)!==!1&&I}}return I&&!w.defaultPrevented}function Cx(f,g,y){if(m(f))y&&(f=S(f,y));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(f,g||0)}function xg(f){var g=null;return new Gt(function(y,w){g=Cx(function(){y(void 0)},f),g==-1&&w(Error("Failed to schedule timer."))}).o(function(y){throw u.clearTimeout(g),y})}function TH(f){if(f.X&&typeof f.X=="function")return f.X();if(typeof f=="string")return f.split("");if(v(f)){for(var g=[],y=f.length,w=0;w<y;w++)g.push(f[w]);return g}g=[],y=0;for(w in f)g[y++]=f[w];return g}function DH(f){if(f.Y&&typeof f.Y=="function")return f.Y();if(!f.X||typeof f.X!="function"){if(v(f)||typeof f=="string"){var g=[];f=f.length;for(var y=0;y<f;y++)g.push(y);return g}g=[],y=0;for(var w in f)g[y++]=w;return g}}function Zfe(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(v(f)||typeof f=="string")Ht(f,g,void 0);else for(var y=DH(f),w=TH(f),I=w.length,R=0;R<I;R++)g.call(void 0,w[R],y&&y[R],f)}function Lg(f,g){this.b={},this.a=[],this.c=0;var y=arguments.length;if(1<y){if(y%2)throw Error("Uneven number of arguments");for(var w=0;w<y;w+=2)this.set(arguments[w],arguments[w+1])}else if(f)if(f instanceof Lg)for(y=f.Y(),w=0;w<y.length;w++)this.set(y[w],f.get(y[w]));else for(w in f)this.set(w,f[w])}n=Lg.prototype,n.X=function(){wx(this);for(var f=[],g=0;g<this.a.length;g++)f.push(this.b[this.a[g]]);return f},n.Y=function(){return wx(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0};function wx(f){if(f.c!=f.a.length){for(var g=0,y=0;g<f.a.length;){var w=f.a[g];Yh(f.b,w)&&(f.a[y++]=w),g++}f.a.length=y}if(f.c!=f.a.length){var I={};for(y=g=0;g<f.a.length;)w=f.a[g],Yh(I,w)||(f.a[y++]=w,I[w]=1),g++;f.a.length=y}}n.get=function(f,g){return Yh(this.b,f)?this.b[f]:g},n.set=function(f,g){Yh(this.b,f)||(this.c++,this.a.push(f)),this.b[f]=g},n.forEach=function(f,g){for(var y=this.Y(),w=0;w<y.length;w++){var I=y[w],R=this.get(I);f.call(g,R,I,this)}};function Yh(f,g){return Object.prototype.hasOwnProperty.call(f,g)}var AH=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jfe(f,g){if(f){f=f.split("&");for(var y=0;y<f.length;y++){var w=f[y].indexOf("="),I=null;if(0<=w){var R=f[y].substring(0,w);I=f[y].substring(w+1)}else R=f[y];g(R,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function Yc(f,g){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var y;f instanceof Yc?(this.i=g!==void 0?g:f.i,a0(this,f.c),this.l=f.l,this.a=f.a,u0(this,f.g),this.f=f.f,Ex(this,NH(f.b)),this.h=f.h):f&&(y=String(f).match(AH))?(this.i=!!g,a0(this,y[1]||"",!0),this.l=l0(y[2]||""),this.a=l0(y[3]||"",!0),u0(this,y[4]),this.f=l0(y[5]||"",!0),Ex(this,y[6]||"",!0),this.h=l0(y[7]||"")):(this.i=!!g,this.b=new Xh(null,this.i))}Yc.prototype.toString=function(){var f=[],g=this.c;g&&f.push(c0(g,IH,!0),":");var y=this.a;return(y||g=="file")&&(f.push("//"),(g=this.l)&&f.push(c0(g,IH,!0),"@"),f.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.g,y!=null&&f.push(":",String(y))),(y=this.f)&&(this.a&&y.charAt(0)!="/"&&f.push("/"),f.push(c0(y,y.charAt(0)=="/"?nhe:the,!0))),(y=this.b.toString())&&f.push("?",y),(y=this.h)&&f.push("#",c0(y,ihe)),f.join("")},Yc.prototype.resolve=function(f){var g=new Yc(this),y=!!f.c;y?a0(g,f.c):y=!!f.l,y?g.l=f.l:y=!!f.a,y?g.a=f.a:y=f.g!=null;var w=f.f;if(y)u0(g,f.g);else if(y=!!f.f){if(w.charAt(0)!="/")if(this.a&&!this.f)w="/"+w;else{var I=g.f.lastIndexOf("/");I!=-1&&(w=g.f.substr(0,I+1)+w)}if(I=w,I==".."||I==".")w="";else if(Ye(I,"./")||Ye(I,"/.")){w=I.lastIndexOf("/",0)==0,I=I.split("/");for(var R=[],M=0;M<I.length;){var z=I[M++];z=="."?w&&M==I.length&&R.push(""):z==".."?((1<R.length||R.length==1&&R[0]!="")&&R.pop(),w&&M==I.length&&R.push("")):(R.push(z),w=!0)}w=R.join("/")}else w=I}return y?g.f=w:y=f.b.toString()!=="",y?Ex(g,NH(f.b)):y=!!f.h,y&&(g.h=f.h),g};function a0(f,g,y){f.c=y?l0(g,!0):g,f.c&&(f.c=f.c.replace(/:$/,""))}function u0(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.g=g}else f.g=null}function Ex(f,g,y){g instanceof Xh?(f.b=g,ohe(f.b,f.i)):(y||(g=c0(g,rhe)),f.b=new Xh(g,f.i))}function Sr(f,g,y){f.b.set(g,y)}function ya(f,g){return f.b.get(g)}function fs(f){return f instanceof Yc?new Yc(f):new Yc(f,void 0)}function fw(f,g,y,w){var I=new Yc(null,void 0);return f&&a0(I,f),g&&(I.a=g),y&&u0(I,y),w&&(I.f=w),I}function l0(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function c0(f,g,y){return typeof f=="string"?(f=encodeURI(f).replace(g,ehe),y&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ehe(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var IH=/[#\/\?@]/g,the=/[#\?:]/g,nhe=/[#\?]/g,rhe=/[#\?@]/g,ihe=/#/g;function Xh(f,g){this.b=this.a=null,this.c=f||null,this.f=!!g}function Xc(f){f.a||(f.a=new Lg,f.b=0,f.c&&Jfe(f.c,function(g,y){f.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}function xH(f){var g=DH(f);if(typeof g>"u")throw Error("Keys are undefined");var y=new Xh(null,void 0);f=TH(f);for(var w=0;w<g.length;w++){var I=g[w],R=f[w];Array.isArray(R)?LH(y,I,R):y.add(I,R)}return y}n=Xh.prototype,n.add=function(f,g){Xc(this),this.c=null,f=Ng(this,f);var y=this.a.get(f);return y||this.a.set(f,y=[]),y.push(g),this.b+=1,this};function Ru(f,g){Xc(f),g=Ng(f,g),Yh(f.a.b,g)&&(f.c=null,f.b-=f.a.get(g).length,f=f.a,Yh(f.b,g)&&(delete f.b[g],f.c--,f.a.length>2*f.c&&wx(f)))}n.clear=function(){this.a=this.c=null,this.b=0};function Sx(f,g){return Xc(f),g=Ng(f,g),Yh(f.a.b,g)}n.forEach=function(f,g){Xc(this),this.a.forEach(function(y,w){Ht(y,function(I){f.call(g,I,w,this)},this)},this)},n.Y=function(){Xc(this);for(var f=this.a.X(),g=this.a.Y(),y=[],w=0;w<g.length;w++)for(var I=f[w],R=0;R<I.length;R++)y.push(g[w]);return y},n.X=function(f){Xc(this);var g=[];if(typeof f=="string")Sx(this,f)&&(g=ge(g,this.a.get(Ng(this,f))));else{f=this.a.X();for(var y=0;y<f.length;y++)g=ge(g,f[y])}return g},n.set=function(f,g){return Xc(this),this.c=null,f=Ng(this,f),Sx(this,f)&&(this.b-=this.a.get(f).length),this.a.set(f,[g]),this.b+=1,this},n.get=function(f,g){return f?(f=this.X(f),0<f.length?String(f[0]):g):g};function LH(f,g,y){Ru(f,g),0<y.length&&(f.c=null,f.a.set(Ng(f,g),Se(y)),f.b+=y.length)}n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var f=[],g=this.a.Y(),y=0;y<g.length;y++){var w=g[y],I=encodeURIComponent(String(w));w=this.X(w);for(var R=0;R<w.length;R++){var M=I;w[R]!==""&&(M+="="+encodeURIComponent(String(w[R]))),f.push(M)}}return this.c=f.join("&")};function NH(f){var g=new Xh;return g.c=f.c,f.a&&(g.a=new Lg(f.a),g.b=f.b),g}function Ng(f,g){return g=String(g),f.f&&(g=g.toLowerCase()),g}function ohe(f,g){g&&!f.f&&(Xc(f),f.c=null,f.a.forEach(function(y,w){var I=w.toLowerCase();w!=I&&(Ru(this,w),LH(this,I,y))},f)),f.f=g}function OH(f){var g=[];return Tx(new she,f,g),g.join("")}function she(){}function Tx(f,g,y){if(g==null)y.push("null");else{if(typeof g=="object"){if(Array.isArray(g)){var w=g;g=w.length,y.push("[");for(var I="",R=0;R<g;R++)y.push(I),Tx(f,w[R],y),I=",";y.push("]");return}if(g instanceof String||g instanceof Number||g instanceof Boolean)g=g.valueOf();else{y.push("{"),I="";for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&(R=g[w],typeof R!="function"&&(y.push(I),RH(w,y),y.push(":"),Tx(f,R,y),I=","));y.push("}");return}}switch(typeof g){case"string":RH(g,y);break;case"number":y.push(isFinite(g)&&!isNaN(g)?String(g):"null");break;case"boolean":y.push(String(g));break;case"function":y.push("null");break;default:throw Error("Unknown type: "+typeof g)}}}var kH={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},ahe=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function RH(f,g){g.push('"',f.replace(ahe,function(y){var w=kH[y];return w||(w="\\u"+(y.charCodeAt(0)|65536).toString(16).substr(1),kH[y]=w),w}),'"')}function Dx(){var f=Pi();return Wa&&!!Kc&&Kc==11||/Edge\/\d+/.test(f)}function f0(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function PH(f,g){g=g||u.window;var y="about:blank";f&&(y=tw(j9(f)||z9)),g.location.href=y}function MH(f,g){var y=[],w;for(w in f)w in g?typeof f[w]!=typeof g[w]?y.push(w):typeof f[w]=="object"&&f[w]!=null&&g[w]!=null?0<MH(f[w],g[w]).length&&y.push(w):f[w]!==g[w]&&y.push(w):y.push(w);for(w in g)w in f||y.push(w);return y}function uhe(){var f=Pi();return f=Og(f)!=VH?null:(f=f.match(/\sChrome\/(\d+)/i))&&f.length==2?parseInt(f[1],10):null,f&&30>f?!1:!Wa||!Kc||9<Kc}function FH(f){return f=(f||Pi()).toLowerCase(),!!(f.match(/android/)||f.match(/webos/)||f.match(/iphone|ipad|ipod/)||f.match(/blackberry/)||f.match(/windows phone/)||f.match(/iemobile/))}function Qh(f){f=f||u.window;try{f.close()}catch{}}function BH(f,g,y){var w=Math.floor(1e9*Math.random()).toString();g=g||500,y=y||600;var I=(window.screen.availHeight-y)/2,R=(window.screen.availWidth-g)/2;g={width:g,height:y,top:0<I?I:0,left:0<R?R:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},y=Pi().toLowerCase(),w&&(g.target=w,Ye(y,"crios/")&&(g.target="_blank")),Og(Pi())==xx&&(f=f||"http://localhost",g.scrollbars=!0),y=f||"",(f=g)||(f={}),w=window,g=y instanceof ls?y:j9(typeof y.href<"u"?y.href:String(y))||z9,y=f.target||y.target,I=[];for(M in f)switch(M){case"width":case"height":case"top":case"left":I.push(M+"="+f[M]);break;case"target":case"noopener":case"noreferrer":break;default:I.push(M+"="+(f[M]?1:0))}var M=I.join(",");if((zn("iPhone")&&!zn("iPod")&&!zn("iPad")||zn("iPad")||zn("iPod"))&&w.navigator&&w.navigator.standalone&&y&&y!="_self"?(M=rw(document,"A"),n0(M,"HTMLAnchorElement"),g=g instanceof ls?g:q9(g),M.href=tw(g),M.setAttribute("target",y),f.noreferrer&&M.setAttribute("rel","noreferrer"),f=document.createEvent("MouseEvent"),f.initMouseEvent("click",!0,!0,w,1),M.dispatchEvent(f),M={}):f.noreferrer?(M=$9("",w,y,M),f=tw(g),M&&(Ofe&&Ye(f,";")&&(f="'"+f.replace(/'/g,"%27")+"'"),M.opener=null,f='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rx(f)+'">',f=(w=H9())?w.createHTML(f):f,f=new Ag(f,null,G9),w=M.document)&&(w.write(Ife(f)),w.close())):(M=$9(g,w,y,M))&&f.noopener&&(M.opener=null),M)try{M.focus()}catch{}return M}function lhe(f){return new Gt(function(g){function y(){xg(2e3).then(function(){if(!f||f.closed)g();else return y()})}return y()})}var che=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fhe=/^[^@]+@[^@]+$/;function hw(){var f=null;return new Gt(function(g){u.document.readyState=="complete"?g():(f=function(){g()},mx(window,"load",f))}).o(function(g){throw Ps(window,"load",f),g})}function hhe(){return Ax(void 0)?hw().then(function(){return new Gt(function(f,g){var y=u.document,w=setTimeout(function(){g(Error("Cordova framework is not ready."))},1e3);y.addEventListener("deviceready",function(){clearTimeout(w),f()},!1)})}):nr(Error("Cordova must run in an Android or iOS file scheme."))}function Ax(f){return f=f||Pi(),!(Rg()!=="file:"&&Rg()!=="ionic:"||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ix(){var f=u.window;try{return!(!f||f==f.top)}catch{return!1}}function Ua(){return typeof u.WorkerGlobalScope<"u"&&typeof u.importScripts=="function"}function Pu(){return tt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":tt.INTERNAL.hasOwnProperty("node")?"Node":Ua()?"Worker":"Browser"}function HH(){var f=Pu();return f==="ReactNative"||f==="Node"}function dhe(){for(var f=50,g=[];0<f;)g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),f--;return g.join("")}var xx="Firefox",VH="Chrome";function Og(f){var g=f.toLowerCase();if(Ye(g,"opera/")||Ye(g,"opr/")||Ye(g,"opios/"))return"Opera";if(Ye(g,"iemobile"))return"IEMobile";if(Ye(g,"msie")||Ye(g,"trident/"))return"IE";if(Ye(g,"edge/"))return"Edge";if(Ye(g,"firefox/"))return xx;if(Ye(g,"silk/"))return"Silk";if(Ye(g,"blackberry"))return"Blackberry";if(Ye(g,"webos"))return"Webos";if(!Ye(g,"safari/")||Ye(g,"chrome/")||Ye(g,"crios/")||Ye(g,"android"))if(!Ye(g,"chrome/")&&!Ye(g,"crios/")||Ye(g,"edge/")){if(Ye(g,"android"))return"Android";if((f=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&f.length==2)return f[1]}else return VH;else return"Safari";return"Other"}var WH={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kg(f,g){g=g||[];var y=[],w={},I;for(I in WH)w[WH[I]]=!0;for(I=0;I<g.length;I++)typeof w[g[I]]<"u"&&(delete w[g[I]],y.push(g[I]));return y.sort(),g=y,g.length||(g=["FirebaseCore-web"]),y=Pu(),y==="Browser"?(w=Pi(),y=Og(w)):y==="Worker"&&(w=Pi(),y=Og(w)+"-"+y),y+"/JsCore/"+f+"/"+g.join(",")}function Pi(){return u.navigator&&u.navigator.userAgent||""}function rr(f,g){f=f.split("."),g=g||u;for(var y=0;y<f.length&&typeof g=="object"&&g!=null;y++)g=g[f[y]];return y!=f.length&&(g=void 0),g}function Lx(){try{var f=u.localStorage,g=Jh();if(f)return f.setItem(g,"1"),f.removeItem(g),Dx()?!!u.indexedDB:!0}catch{return Ua()&&!!u.indexedDB}return!1}function Zh(){return(dw()||Rg()==="chrome-extension:"||Ax())&&!HH()&&Lx()&&!Ua()}function dw(){return Rg()==="http:"||Rg()==="https:"}function Rg(){return u.location&&u.location.protocol||null}function h0(f){return f=f||Pi(),!(FH(f)||Og(f)==xx)}function d0(f){return typeof f>"u"?null:OH(f)}function UH(f){var g={},y;for(y in f)f.hasOwnProperty(y)&&f[y]!==null&&f[y]!==void 0&&(g[y]=f[y]);return g}function Pg(f){if(f!==null)return JSON.parse(f)}function Jh(f){return f||Math.floor(1e9*Math.random()).toString()}function jH(f){return f=f||Pi(),!(Og(f)=="Safari"||f.toLowerCase().match(/iphone|ipad|ipod/))}function qH(){var f=u.___jsl;if(f&&f.H){for(var g in f.H)if(f.H[g].r=f.H[g].r||[],f.H[g].L=f.H[g].L||[],f.H[g].r=f.H[g].L.concat(),f.CP)for(var y=0;y<f.CP.length;y++)f.CP[y]=null}}function Qc(f,g){if(f>g)throw Error("Short delay should be less than long delay!");this.a=f,this.c=g,f=Pi(),g=Pu(),this.b=FH(f)||g==="ReactNative"}Qc.prototype.get=function(){var f=u.navigator;return!(f&&typeof f.onLine=="boolean"&&(dw()||Rg()==="chrome-extension:"||typeof f.connection<"u"))||f.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Nx(){var f=u.document;return f&&typeof f.visibilityState<"u"?f.visibilityState=="visible":!0}function phe(){var f=u.document,g=null;return Nx()||!f?ht():new Gt(function(y){g=function(){Nx()&&(f.removeEventListener("visibilitychange",g,!1),y())},f.addEventListener("visibilitychange",g,!1)}).o(function(y){throw f.removeEventListener("visibilitychange",g,!1),y})}function p0(f){try{var g=new Date(parseInt(f,10));if(!isNaN(g.getTime())&&!/[^0-9]/.test(f))return g.toUTCString()}catch{}return null}function zH(){return!(!rr("fireauth.oauthhelper",u)&&!rr("fireauth.iframe",u))}function ghe(){var f=u.navigator;return f&&f.serviceWorker&&f.serviceWorker.controller||null}function vhe(){var f=u.navigator;return f&&f.serviceWorker?ht().then(function(){return f.serviceWorker.ready}).then(function(g){return g.active||null}).o(function(){return null}):ht(null)}var GH={};function Ox(f){GH[f]||(GH[f]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(f))}var kx;try{var Rx={};Object.defineProperty(Rx,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Rx,"abcd",{configurable:!0,enumerable:!0,value:2}),kx=Rx.abcd==2}catch{kx=!1}function Xe(f,g,y){kx?Object.defineProperty(f,g,{configurable:!0,enumerable:!0,value:y}):f[g]=y}function No(f,g){if(g)for(var y in g)g.hasOwnProperty(y)&&Xe(f,y,g[y])}function Mu(f){var g={};return No(g,f),g}function mhe(f){var g={},y;for(y in f)f.hasOwnProperty(y)&&(g[y]=f[y]);return g}function _he(f,g){if(!g||!g.length)return!0;if(!f)return!1;for(var y=0;y<g.length;y++){var w=f[g[y]];if(w==null||w==="")return!1}return!0}function Px(f){var g=f;if(typeof f=="object"&&f!=null){g="length"in f?[]:{};for(var y in f)Xe(g,y,Px(f[y]))}return g}function Mx(f){var g=f&&(f[Vx]?"phone":null);if(g&&f&&f[Hx]){Xe(this,"uid",f[Hx]),Xe(this,"displayName",f[$H]||null);var y=null;f[Bx]&&(y=new Date(f[Bx]).toUTCString()),Xe(this,"enrollmentTime",y),Xe(this,"factorId",g)}else throw new L("internal-error","Internal assert: invalid MultiFactorInfo object")}Mx.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Fx(f){try{var g=new g0(f)}catch{g=null}return g}var $H="displayName",Bx="enrolledAt",Hx="mfaEnrollmentId",Vx="phoneInfo";function g0(f){Mx.call(this,f),Xe(this,"phoneNumber",f[Vx])}k(g0,Mx),g0.prototype.w=function(){var f=g0.bb.w.call(this);return f.phoneNumber=this.phoneNumber,f};function yhe(f){var g={},y=f[bhe],w=f[whe],I=f[Ehe];if(f=Fx(f[Che]),!I||I!=pw&&I!=v0&&!y||I==v0&&!w||I==Wx&&!f)throw Error("Invalid checkActionCode response!");I==v0?(g[YH]=y||null,g[XH]=y||null,g[KH]=w):(g[YH]=w||null,g[XH]=w||null,g[KH]=y||null),g[She]=f||null,Xe(this,Dhe,I),Xe(this,The,Px(g))}var Wx="REVERT_SECOND_FACTOR_ADDITION",pw="EMAIL_SIGNIN",v0="VERIFY_AND_CHANGE_EMAIL",bhe="email",Che="mfaInfo",whe="newEmail",Ehe="requestType",KH="email",YH="fromEmail",She="multiFactorInfo",XH="previousEmail",The="data",Dhe="operation";function Ux(f){f=fs(f);var g=ya(f,QH)||null,y=ya(f,ZH)||null,w=ya(f,JH)||null;if(w=w&&Lhe[w]||null,!g||!y||!w)throw new L("argument-error",QH+", "+ZH+"and "+JH+" are required in a valid action code URL.");No(this,{apiKey:g,operation:w,code:y,continueUrl:ya(f,Ahe)||null,languageCode:ya(f,Ihe)||null,tenantId:ya(f,xhe)||null})}var QH="apiKey",ZH="oobCode",Ahe="continueUrl",Ihe="languageCode",JH="mode",xhe="tenantId",Lhe={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Wx,signIn:pw,verifyAndChangeEmail:v0,verifyEmail:"VERIFY_EMAIL"};function eV(f){try{return new Ux(f)}catch{return null}}function gw(f){var g=f[Nhe];if(typeof g>"u")throw new L("missing-continue-uri");if(typeof g!="string"||typeof g=="string"&&!g.length)throw new L("invalid-continue-uri");this.h=g,this.b=this.a=null,this.g=!1;var y=f[tV];if(y&&typeof y=="object"){g=y[sV];var w=y[iV];if(y=y[oV],typeof g=="string"&&g.length){if(this.a=g,typeof w<"u"&&typeof w!="boolean")throw new L("argument-error",iV+" property must be a boolean when specified.");if(this.g=!!w,typeof y<"u"&&(typeof y!="string"||typeof y=="string"&&!y.length))throw new L("argument-error",oV+" property must be a non empty string when specified.");this.b=y||null}else{if(typeof g<"u")throw new L("argument-error",sV+" property must be a non empty string when specified.");if(typeof w<"u"||typeof y<"u")throw new L("missing-android-pkg-name")}}else if(typeof y<"u")throw new L("argument-error",tV+" property must be a non null object when specified.");if(this.f=null,(g=f[rV])&&typeof g=="object"){if(g=g[aV],typeof g=="string"&&g.length)this.f=g;else if(typeof g<"u")throw new L("argument-error",aV+" property must be a non empty string when specified.")}else if(typeof g<"u")throw new L("argument-error",rV+" property must be a non null object when specified.");if(g=f[jx],typeof g<"u"&&typeof g!="boolean")throw new L("argument-error",jx+" property must be a boolean when specified.");if(this.c=!!g,f=f[nV],typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new L("argument-error",nV+" property must be a non empty string when specified.");this.i=f||null}var tV="android",nV="dynamicLinkDomain",jx="handleCodeInApp",rV="iOS",Nhe="url",iV="installApp",oV="minimumVersion",sV="packageName",aV="bundleId";function vw(f){var g={};g.continueUrl=f.h,g.canHandleCodeInApp=f.c,(g.androidPackageName=f.a)&&(g.androidMinimumVersion=f.b,g.androidInstallApp=f.g),g.iOSBundleId=f.f,g.dynamicLinkDomain=f.i;for(var y in g)g[y]===null&&delete g[y];return g}function Ohe(f){return qn(f,function(g){return g=g.toString(16),1<g.length?g:"0"+g}).join("")}var m0=null;function khe(f){var g=[];return Rhe(f,function(y){g.push(y)}),g}function Rhe(f,g){function y(le){for(;w<f.length;){var ye=f.charAt(w++),Ct=m0[ye];if(Ct!=null)return Ct;if(!/^[\s\xa0]*$/.test(ye))throw Error("Unknown base64 encoding at char: "+ye)}return le}Phe();for(var w=0;;){var I=y(-1),R=y(0),M=y(64),z=y(64);if(z===64&&I===-1)break;g(I<<2|R>>4),M!=64&&(g(R<<4&240|M>>2),z!=64&&g(M<<6&192|z))}}function Phe(){if(!m0){m0={};for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),g=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++)for(var w=f.concat(g[y].split("")),I=0;I<w.length;I++){var R=w[I];m0[R]===void 0&&(m0[R]=I)}}}function mw(f){var g=uV(f);if(!(g&&g.sub&&g.iss&&g.aud&&g.exp))throw Error("Invalid JWT");this.h=f,this.a=g.exp,this.i=g.sub,f=Date.now()/1e3,this.g=g.iat||(f>this.a?this.a:f),this.b=g.provider_id||g.firebase&&g.firebase.sign_in_provider||null,this.f=g.firebase&&g.firebase.tenant||null,this.c=!!g.is_anonymous||this.b=="anonymous"}mw.prototype.T=function(){return this.f},mw.prototype.l=function(){return this.c},mw.prototype.toString=function(){return this.h};function _w(f){try{return new mw(f)}catch{return null}}function uV(f){if(!f||(f=f.split("."),f.length!=3))return null;f=f[1];for(var g=(4-f.length%4)%4,y=0;y<g;y++)f+=".";try{var w=khe(f);for(f=[],y=g=0;g<w.length;){var I=w[g++];if(128>I)f[y++]=String.fromCharCode(I);else if(191<I&&224>I){var R=w[g++];f[y++]=String.fromCharCode((I&31)<<6|R&63)}else if(239<I&&365>I){R=w[g++];var M=w[g++],z=w[g++],le=((I&7)<<18|(R&63)<<12|(M&63)<<6|z&63)-65536;f[y++]=String.fromCharCode(55296+(le>>10)),f[y++]=String.fromCharCode(56320+(le&1023))}else R=w[g++],M=w[g++],f[y++]=String.fromCharCode((I&15)<<12|(R&63)<<6|M&63)}return JSON.parse(f.join(""))}catch{}return null}var lV="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yw=["client_id","response_type","scope","redirect_uri","state"],qx={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:yw},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:yw},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:yw},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:lV},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function zx(f){for(var g in qx)if(qx[g].fa==f)return qx[g];return null}function cV(f){var g={};g["facebook.com"]=hV,g["google.com"]=pV,g["github.com"]=dV,g["twitter.com"]=gV;var y=f&&f[fV];try{if(y)return g[y]?new g[y](f):new Fu(f);if(typeof f[Gx]<"u")return new $x(f)}catch{}return null}var Gx="idToken",fV="providerId";function $x(f){var g=f[fV];if(!g&&f[Gx]){var y=_w(f[Gx]);y&&y.b&&(g=y.b)}if(!g)throw Error("Invalid additional user info!");(g=="anonymous"||g=="custom")&&(g=null),y=!1,typeof f.isNewUser<"u"?y=!!f.isNewUser:f.kind==="identitytoolkit#SignupNewUserResponse"&&(y=!0),Xe(this,"providerId",g),Xe(this,"isNewUser",y)}function Fu(f){$x.call(this,f),f=Pg(f.rawUserInfo||"{}"),Xe(this,"profile",Px(f||{}))}k(Fu,$x);function hV(f){if(Fu.call(this,f),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}k(hV,Fu);function dV(f){if(Fu.call(this,f),this.providerId!="github.com")throw Error("Invalid provider ID!");Xe(this,"username",this.profile&&this.profile.login||null)}k(dV,Fu);function pV(f){if(Fu.call(this,f),this.providerId!="google.com")throw Error("Invalid provider ID!")}k(pV,Fu);function gV(f){if(Fu.call(this,f),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Xe(this,"username",f.screenName||null)}k(gV,Fu);function vV(f){var g=fs(f),y=ya(g,"link"),w=ya(fs(y),"link");return g=ya(g,"deep_link_id"),ya(fs(g),"link")||g||w||y||f}function bw(f,g){if(!f&&!g)throw new L("internal-error","Internal assert: no raw session string available");if(f&&g)throw new L("internal-error","Internal assert: unable to determine the session type");this.a=f||null,this.b=g||null,this.type=this.a?_0:Cw}var _0="enroll",Cw="signin";bw.prototype.Ha=function(){return this.a?ht(this.a):ht(this.b)},bw.prototype.w=function(){return this.type==_0?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Mg(){}Mg.prototype.ka=function(){},Mg.prototype.b=function(){},Mg.prototype.c=function(){},Mg.prototype.w=function(){};function Fg(f,g){return f.then(function(y){if(y[za]){var w=_w(y[za]);if(!w||g!=w.i)throw new L("user-mismatch");return y}throw new L("user-mismatch")}).o(function(y){throw y&&y.code&&y.code==P+"user-not-found"?new L("user-mismatch"):y})}function ed(f,g){if(g)this.a=g;else throw new L("internal-error","failed to construct a credential");Xe(this,"providerId",f),Xe(this,"signInMethod",f)}ed.prototype.ka=function(f){return mL(f,Kx(this))},ed.prototype.b=function(f,g){var y=Kx(this);return y.idToken=g,_L(f,y)},ed.prototype.c=function(f,g){return Fg(yL(f,Kx(this)),g)};function Kx(f){return{pendingToken:f.a,requestUri:"http://localhost"}}ed.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Mhe(f){if(f&&f.providerId&&f.signInMethod&&f.providerId.indexOf("saml.")==0&&f.pendingToken)try{return new ed(f.providerId,f.pendingToken)}catch{}return null}function jl(f,g,y){if(this.a=null,g.idToken||g.accessToken)g.idToken&&Xe(this,"idToken",g.idToken),g.accessToken&&Xe(this,"accessToken",g.accessToken),g.nonce&&!g.pendingToken&&Xe(this,"nonce",g.nonce),g.pendingToken&&(this.a=g.pendingToken);else if(g.oauthToken&&g.oauthTokenSecret)Xe(this,"accessToken",g.oauthToken),Xe(this,"secret",g.oauthTokenSecret);else throw new L("internal-error","failed to construct a credential");Xe(this,"providerId",f),Xe(this,"signInMethod",y)}jl.prototype.ka=function(f){return mL(f,Yx(this))},jl.prototype.b=function(f,g){var y=Yx(this);return y.idToken=g,_L(f,y)},jl.prototype.c=function(f,g){var y=Yx(this);return Fg(yL(f,y),g)};function Yx(f){var g={};return f.idToken&&(g.id_token=f.idToken),f.accessToken&&(g.access_token=f.accessToken),f.secret&&(g.oauth_token_secret=f.secret),g.providerId=f.providerId,f.nonce&&!f.a&&(g.nonce=f.nonce),g={postBody:xH(g).toString(),requestUri:"http://localhost"},f.a&&(delete g.postBody,g.pendingToken=f.a),g}jl.prototype.w=function(){var f={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(f.oauthIdToken=this.idToken),this.accessToken&&(f.oauthAccessToken=this.accessToken),this.secret&&(f.oauthTokenSecret=this.secret),this.nonce&&(f.nonce=this.nonce),this.a&&(f.pendingToken=this.a),f};function Fhe(f){if(f&&f.providerId&&f.signInMethod){var g={idToken:f.oauthIdToken,accessToken:f.oauthTokenSecret?null:f.oauthAccessToken,oauthTokenSecret:f.oauthTokenSecret,oauthToken:f.oauthTokenSecret&&f.oauthAccessToken,nonce:f.nonce,pendingToken:f.pendingToken};try{return new jl(f.providerId,g,f.signInMethod)}catch{}}return null}function td(f,g){this.Qc=g||[],No(this,{providerId:f,isOAuthProvider:!0}),this.Jb={},this.qb=(zx(f)||{}).Ja||null,this.pb=null}td.prototype.Ka=function(f){return this.Jb=Va(f),this};function mV(f){if(typeof f!="string"||f.indexOf("saml.")!=0)throw new L("argument-error",'SAML provider IDs must be prefixed with "saml."');td.call(this,f,[])}k(mV,td);function Ms(f){td.call(this,f,yw),this.a=[]}k(Ms,td),Ms.prototype.Ca=function(f){return Z(this.a,f)||this.a.push(f),this},Ms.prototype.Rb=function(){return Se(this.a)},Ms.prototype.credential=function(f,g){var y;if(_(f)?y={idToken:f.idToken||null,accessToken:f.accessToken||null,nonce:f.rawNonce||null}:y={idToken:f||null,accessToken:g||null},!y.idToken&&!y.accessToken)throw new L("argument-error","credential failed: must provide the ID token and/or the access token.");return new jl(this.providerId,y,this.providerId)};function nd(){Ms.call(this,"facebook.com")}k(nd,Ms),Xe(nd,"PROVIDER_ID","facebook.com"),Xe(nd,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function _V(f){if(!f)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var g=f;return _(f)&&(g=f.accessToken),new nd().credential({accessToken:g})}function rd(){Ms.call(this,"github.com")}k(rd,Ms),Xe(rd,"PROVIDER_ID","github.com"),Xe(rd,"GITHUB_SIGN_IN_METHOD","github.com");function yV(f){if(!f)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var g=f;return _(f)&&(g=f.accessToken),new rd().credential({accessToken:g})}function id(){Ms.call(this,"google.com"),this.Ca("profile")}k(id,Ms),Xe(id,"PROVIDER_ID","google.com"),Xe(id,"GOOGLE_SIGN_IN_METHOD","google.com");function bV(f,g){var y=f;return _(f)&&(y=f.idToken,g=f.accessToken),new id().credential({idToken:y,accessToken:g})}function Bg(){td.call(this,"twitter.com",lV)}k(Bg,td),Xe(Bg,"PROVIDER_ID","twitter.com"),Xe(Bg,"TWITTER_SIGN_IN_METHOD","twitter.com");function CV(f,g){var y=f;if(_(y)||(y={oauthToken:f,oauthTokenSecret:g}),!y.oauthToken||!y.oauthTokenSecret)throw new L("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new jl("twitter.com",y,"twitter.com")}function Zc(f,g,y){this.a=f,this.f=g,Xe(this,"providerId","password"),Xe(this,"signInMethod",y===ba.EMAIL_LINK_SIGN_IN_METHOD?ba.EMAIL_LINK_SIGN_IN_METHOD:ba.EMAIL_PASSWORD_SIGN_IN_METHOD)}Zc.prototype.ka=function(f){return this.signInMethod==ba.EMAIL_LINK_SIGN_IN_METHOD?Xt(f,Cde,{email:this.a,oobCode:this.f}):Xt(f,YV,{email:this.a,password:this.f})},Zc.prototype.b=function(f,g){return this.signInMethod==ba.EMAIL_LINK_SIGN_IN_METHOD?Xt(f,wde,{idToken:g,email:this.a,oobCode:this.f}):Xt(f,KV,{idToken:g,email:this.a,password:this.f})},Zc.prototype.c=function(f,g){return Fg(this.ka(f),g)},Zc.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Bhe(f){return f&&f.email&&f.password?new Zc(f.email,f.password,f.signInMethod):null}function ba(){No(this,{providerId:"password",isOAuthProvider:!1})}function wV(f,g){if(g=Xx(g),!g)throw new L("argument-error","Invalid email link!");return new Zc(f,g.code,ba.EMAIL_LINK_SIGN_IN_METHOD)}function Xx(f){return f=vV(f),(f=eV(f))&&f.operation===pw?f:null}No(ba,{PROVIDER_ID:"password"}),No(ba,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),No(ba,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Jc(f){if(!(f.fb&&f.eb||f.La&&f.ea))throw new L("internal-error");this.a=f,Xe(this,"providerId","phone"),this.fa="phone",Xe(this,"signInMethod","phone")}Jc.prototype.ka=function(f){return f.gb(y0(this))},Jc.prototype.b=function(f,g){var y=y0(this);return y.idToken=g,Xt(f,Ude,y)},Jc.prototype.c=function(f,g){var y=y0(this);return y.operation="REAUTH",f=Xt(f,jde,y),Fg(f,g)},Jc.prototype.w=function(){var f={providerId:"phone"};return this.a.fb&&(f.verificationId=this.a.fb),this.a.eb&&(f.verificationCode=this.a.eb),this.a.La&&(f.temporaryProof=this.a.La),this.a.ea&&(f.phoneNumber=this.a.ea),f};function Hhe(f){if(f&&f.providerId==="phone"&&(f.verificationId&&f.verificationCode||f.temporaryProof&&f.phoneNumber)){var g={};return Ht(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(y){f[y]&&(g[y]=f[y])}),new Jc(g)}return null}function y0(f){return f.a.La&&f.a.ea?{temporaryProof:f.a.La,phoneNumber:f.a.ea}:{sessionInfo:f.a.fb,code:f.a.eb}}function ql(f){try{this.a=f||tt.auth()}catch{throw new L("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}No(this,{providerId:"phone",isOAuthProvider:!1})}ql.prototype.gb=function(f,g){var y=this.a.a;return ht(g.verify()).then(function(w){if(typeof w!="string")throw new L("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(g.type){case"recaptcha":var I=_(f)?f.session:null,R=_(f)?f.phoneNumber:f,M;return I&&I.type==_0?M=I.Ha().then(function(z){return hde(y,{idToken:z,phoneEnrollmentInfo:{phoneNumber:R,recaptchaToken:w}})}):I&&I.type==Cw?M=I.Ha().then(function(z){return dde(y,{mfaPendingCredential:z,mfaEnrollmentId:f.multiFactorHint&&f.multiFactorHint.uid||f.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):M=fde(y,{phoneNumber:R,recaptchaToken:w}),M.then(function(z){return typeof g.reset=="function"&&g.reset(),z},function(z){throw typeof g.reset=="function"&&g.reset(),z});default:throw new L("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function EV(f,g){if(!f)throw new L("missing-verification-id");if(!g)throw new L("missing-verification-code");return new Jc({fb:f,eb:g})}No(ql,{PROVIDER_ID:"phone"}),No(ql,{PHONE_SIGN_IN_METHOD:"phone"});function Qx(f){if(f.temporaryProof&&f.phoneNumber)return new Jc({La:f.temporaryProof,ea:f.phoneNumber});var g=f&&f.providerId;if(!g||g==="password")return null;var y=f&&f.oauthAccessToken,w=f&&f.oauthTokenSecret,I=f&&f.nonce,R=f&&f.oauthIdToken,M=f&&f.pendingToken;try{switch(g){case"google.com":return bV(R,y);case"facebook.com":return _V(y);case"github.com":return yV(y);case"twitter.com":return CV(y,w);default:return y||w||R||M?M?g.indexOf("saml.")==0?new ed(g,M):new jl(g,{pendingToken:M,idToken:f.oauthIdToken,accessToken:f.oauthAccessToken},g):new Ms(g).credential({idToken:R,accessToken:y,rawNonce:I}):null}}catch{return null}}function Zx(f){if(!f.isOAuthProvider)throw new L("invalid-oauth-provider")}function ja(f,g,y,w,I,R,M){if(this.c=f,this.b=g||null,this.g=y||null,this.f=w||null,this.i=R||null,this.h=M||null,this.a=I||null,this.g||this.a){if(this.g&&this.a)throw new L("invalid-auth-event");if(this.g&&!this.f)throw new L("invalid-auth-event")}else throw new L("invalid-auth-event")}ja.prototype.getUid=function(){var f=[];return f.push(this.c),this.b&&f.push(this.b),this.f&&f.push(this.f),this.h&&f.push(this.h),f.join("-")},ja.prototype.T=function(){return this.h},ja.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function SV(f){return f=f||{},f.type?new ja(f.type,f.eventId,f.urlResponse,f.sessionId,f.error&&O(f.error),f.postBody,f.tenantId):null}function Vhe(){this.b=null,this.a=[]}var Jx=null;function Whe(f){var g=Jx;g.a.push(f),g.b||(g.b=function(y){for(var w=0;w<g.a.length;w++)g.a[w](y)},f=rr("universalLinks.subscribe",u),typeof f=="function"&&f(null,g.b))}function eL(f){var g="unauthorized-domain",y=void 0,w=fs(f);f=w.a,w=w.c,w=="chrome-extension"?y=K9("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",f):w=="http"||w=="https"?y=K9("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",f):g="operation-not-supported-in-this-environment",L.call(this,g,y)}k(eL,L);function b0(f,g,y){L.call(this,f,y),f=g||{},f.Kb&&Xe(this,"email",f.Kb),f.ea&&Xe(this,"phoneNumber",f.ea),f.credential&&Xe(this,"credential",f.credential),f.$b&&Xe(this,"tenantId",f.$b)}k(b0,L),b0.prototype.w=function(){var f={code:this.code,message:this.message};this.email&&(f.email=this.email),this.phoneNumber&&(f.phoneNumber=this.phoneNumber),this.tenantId&&(f.tenantId=this.tenantId);var g=this.credential&&this.credential.w();return g&&Qn(f,g),f},b0.prototype.toJSON=function(){return this.w()};function ww(f){if(f.code){var g=f.code||"";g.indexOf(P)==0&&(g=g.substring(P.length));var y={credential:Qx(f),$b:f.tenantId};if(f.email)y.Kb=f.email;else if(f.phoneNumber)y.ea=f.phoneNumber;else if(!y.credential)return new L(g,f.message||void 0);return new b0(g,y,f.message)}return null}function C0(){}C0.prototype.c=null;function TV(f){return f.c||(f.c=f.b())}var tL;function Ew(){}k(Ew,C0),Ew.prototype.a=function(){var f=DV(this);return f?new ActiveXObject(f):new XMLHttpRequest},Ew.prototype.b=function(){var f={};return DV(this)&&(f[0]=!0,f[1]=!0),f};function DV(f){if(!f.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var g=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],y=0;y<g.length;y++){var w=g[y];try{return new ActiveXObject(w),f.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return f.f}tL=new Ew;function Sw(){}k(Sw,C0),Sw.prototype.a=function(){var f=new XMLHttpRequest;if("withCredentials"in f)return f;if(typeof XDomainRequest<"u")return new AV;throw Error("Unsupported browser")},Sw.prototype.b=function(){return{}};function AV(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.qc,this),this.a.onerror=S(this.Tb,this),this.a.onprogress=S(this.rc,this),this.a.ontimeout=S(this.vc,this)}n=AV.prototype,n.open=function(f,g,y){if(y!=null&&!y)throw Error("Only async requests are supported.");this.a.open(f,g)},n.send=function(f){if(f)if(typeof f=="string")this.a.send(f);else throw Error("Only string data is supported");else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(f){return f.toLowerCase()=="content-type"?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,nL(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",nL(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,nL(this,1)};function nL(f,g){f.readyState=g,f.onreadystatechange&&f.onreadystatechange()}n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function rL(f,g,y){this.reset(f,g,y,void 0,void 0)}rL.prototype.a=null,rL.prototype.reset=function(f,g,y,w,I){delete this.a};function iL(f){this.f=f,this.b=this.c=this.a=null}function w0(f,g){this.name=f,this.value=g}w0.prototype.toString=function(){return this.name};var IV=new w0("SEVERE",1e3),oL=new w0("WARNING",900),Uhe=new w0("CONFIG",700),jhe=new w0("FINE",500);function xV(f){return f.c?f.c:f.a?xV(f.a):(ke("Root logger has no level set."),null)}iL.prototype.log=function(f,g,y){if(f.value>=xV(this).value)for(m(g)&&(g=g()),f=new rL(f,String(g),this.f),y&&(f.a=y),y=this;y;)y=y.a};var sL={},Tw=null;function aL(f){Tw||(Tw=new iL(""),sL[""]=Tw,Tw.c=Uhe);var g;if(!(g=sL[f])){g=new iL(f);var y=f.lastIndexOf("."),w=f.substr(y+1);y=aL(f.substr(0,y)),y.b||(y.b={}),y.b[w]=g,g.a=y,sL[f]=g}return g}function Ca(f,g){f&&f.log(jhe,g,void 0)}function Dw(f){this.f=f}k(Dw,C0),Dw.prototype.a=function(){return new Aw(this.f)},Dw.prototype.b=function(f){return function(){return f}}({});function Aw(f){Lo.call(this),this.u=f,this.h=void 0,this.readyState=uL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=aL("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(Aw,Lo);var uL=0;n=Aw.prototype,n.open=function(f,g){if(this.readyState!=uL)throw this.abort(),Error("Error reopening a connection");this.s=f,this.f=g,this.readyState=1,S0(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var g={headers:this.l,method:this.s,credentials:this.h,cache:void 0};f&&(g.body=f),this.u.fetch(new Request(this.f,g)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,E0(this)),this.readyState=uL},n.uc=function(f){this.a&&(this.g=f,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=f.headers,this.readyState=2,S0(this)),this.a&&(this.readyState=3,S0(this),this.a&&(this.responseType==="arraybuffer"?f.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof u.ReadableStream<"u"&&"body"in f?(this.response=this.responseText="",this.c=f.body.getReader(),this.m=new TextDecoder,LV(this)):f.text().then(this.tc.bind(this),this.Va.bind(this)))))};function LV(f){f.c.read().then(f.pc.bind(f)).catch(f.Va.bind(f))}n.pc=function(f){if(this.a){var g=this.m.decode(f.value?f.value:new Uint8Array(0),{stream:!f.done});g&&(this.response=this.responseText+=g),f.done?E0(this):S0(this),this.readyState==3&&LV(this)}},n.tc=function(f){this.a&&(this.response=this.responseText=f,E0(this))},n.sc=function(f){this.a&&(this.response=f,E0(this))},n.Va=function(f){var g=this.i;g&&g.log(oL,"Failed to fetch url "+this.f,f instanceof Error?f:Error(f)),this.a&&E0(this)};function E0(f){f.readyState=4,f.g=null,f.c=null,f.m=null,S0(f)}n.setRequestHeader=function(f,g){this.l.append(f,g)},n.getResponseHeader=function(f){return this.b?this.b.get(f.toLowerCase())||"":((f=this.i)&&f.log(oL,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var f=this.i;return f&&f.log(oL,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}f=[];for(var g=this.b.entries(),y=g.next();!y.done;)y=y.value,f.push(y[0]+": "+y[1]),y=g.next();return f.join(`\r
`)};function S0(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Aw.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(f){this.h=f?"include":"same-origin"}});function T0(f){Lo.call(this),this.headers=new Lg,this.D=f||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=NV,this.u=this.S=!1}k(T0,Lo);var NV="";T0.prototype.b=aL("goog.net.XhrIo");var qhe=/^https?$/i,zhe=["POST","PUT"];function Ghe(f,g,y,w,I){if(f.a)throw Error("[goog.net.XhrIo] Object is active with another request="+f.l+"; newUri="+g);y=y?y.toUpperCase():"GET",f.l=g,f.h="",f.P=y,f.J=!1,f.c=!0,f.a=f.D?f.D.a():tL.a(),f.C=f.D?TV(f.D):TV(tL),f.a.onreadystatechange=S(f.Wb,f);try{Ca(f.b,zl(f,"Opening Xhr")),f.N=!0,f.a.open(y,String(g),!0),f.N=!1}catch(M){Ca(f.b,zl(f,"Error opening Xhr: "+M.message)),OV(f,M);return}g=w||"";var R=new Lg(f.headers);I&&Zfe(I,function(M,z){R.set(z,M)}),I=G(R.Y()),w=u.FormData&&g instanceof u.FormData,!Z(zhe,y)||I||w||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),R.forEach(function(M,z){this.a.setRequestHeader(z,M)},f),f.m&&(f.a.responseType=f.m),"withCredentials"in f.a&&f.a.withCredentials!==f.S&&(f.a.withCredentials=f.S);try{PV(f),0<f.g&&(f.u=$he(f.a),Ca(f.b,zl(f,"Will abort after "+f.g+"ms if incomplete, xhr2 "+f.u)),f.u?(f.a.timeout=f.g,f.a.ontimeout=S(f.Ma,f)):f.s=Cx(f.Ma,f.g,f)),Ca(f.b,zl(f,"Sending request")),f.i=!0,f.a.send(g),f.i=!1}catch(M){Ca(f.b,zl(f,"Send error: "+M.message)),OV(f,M)}}function $he(f){return Wa&&Z9(9)&&typeof f.timeout=="number"&&f.ontimeout!==void 0}function Khe(f){return f.toLowerCase()=="content-type"}n=T0.prototype,n.Ma=function(){typeof a<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ca(this.b,zl(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function OV(f,g){f.c=!1,f.a&&(f.f=!0,f.a.abort(),f.f=!1),f.h=g,kV(f),Iw(f)}function kV(f){f.J||(f.J=!0,f.dispatchEvent("complete"),f.dispatchEvent("error"))}n.abort=function(){this.a&&this.c&&(Ca(this.b,zl(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Iw(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Iw(this,!0)),T0.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?RV(this):this.Jc())},n.Jc=function(){RV(this)};function RV(f){if(f.c&&typeof a<"u"){if(f.C[1]&&D0(f)==4&&xw(f)==2)Ca(f.b,zl(f,"Local request error detected and ignored"));else if(f.i&&D0(f)==4)Cx(f.Wb,0,f);else if(f.dispatchEvent("readystatechange"),D0(f)==4){Ca(f.b,zl(f,"Request complete")),f.c=!1;try{var g=xw(f);e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var I;if(I=g===0){var R=String(f.l).match(AH)[1]||null;if(!R&&u.self&&u.self.location){var M=u.self.location.protocol;R=M.substr(0,M.length-1)}I=!qhe.test(R?R.toLowerCase():"")}w=I}if(w)f.dispatchEvent("complete"),f.dispatchEvent("success");else{try{var z=2<D0(f)?f.a.statusText:""}catch(le){Ca(f.b,"Can not get status: "+le.message),z=""}f.h=z+" ["+xw(f)+"]",kV(f)}}finally{Iw(f)}}}}function Iw(f,g){if(f.a){PV(f);var y=f.a,w=f.C[0]?h:null;f.a=null,f.C=null,g||f.dispatchEvent("ready");try{y.onreadystatechange=w}catch(I){(f=f.b)&&f.log(IV,"Problem encountered resetting onreadystatechange: "+I.message,void 0)}}}function PV(f){f.a&&f.u&&(f.a.ontimeout=null),f.s&&(u.clearTimeout(f.s),f.s=null)}function D0(f){return f.a?f.a.readyState:0}function xw(f){try{return 2<D0(f)?f.a.status:-1}catch{return-1}}function Yhe(f){try{return f.a?f.a.responseText:""}catch(g){return Ca(f.b,"Can not get responseText: "+g.message),""}}n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case NV:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var f=this.b;return f&&f.log(IV,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(g){return Ca(this.b,"Can not get response: "+g.message),null}};function zl(f,g){return g+" ["+f.P+" "+f.l+" "+xw(f)+"]"}function od(f){var g=Zhe;this.g=[],this.u=g,this.s=f||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}od.prototype.cancel=function(f){if(this.a)this.c instanceof od&&this.c.cancel();else{if(this.b){var g=this.b;delete this.b,f?g.cancel(f):(g.l--,0>=g.l&&g.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(f=new I0,Lw(this),A0(this,!1,f))}},od.prototype.m=function(f,g){this.i=!1,A0(this,f,g)};function A0(f,g,y){f.a=!0,f.c=y,f.f=!g,FV(f)}function Lw(f){if(f.a){if(!f.v)throw new Nw;f.v=!1}}function Xhe(f,g){lL(f,null,g,void 0)}function lL(f,g,y,w){f.g.push([g,y,w]),f.a&&FV(f)}od.prototype.then=function(f,g,y){var w,I,R=new Gt(function(M,z){w=M,I=z});return lL(this,w,function(M){M instanceof I0?R.cancel():I(M)}),R.then(f,g,y)},od.prototype.$goog_Thenable=!0;function MV(f){return eo(f.g,function(g){return m(g[1])})}function FV(f){if(f.h&&f.a&&MV(f)){var g=f.h,y=Ow[g];y&&(u.clearTimeout(y.a),delete Ow[g]),f.h=0}f.b&&(f.b.l--,delete f.b),g=f.c;for(var w=y=!1;f.g.length&&!f.i;){var I=f.g.shift(),R=I[0],M=I[1];if(I=I[2],R=f.f?M:R)try{var z=R.call(I||f.s,g);z!==void 0&&(f.f=f.f&&(z==g||z instanceof Error),f.c=g=z),(te(g)||typeof u.Promise=="function"&&g instanceof u.Promise)&&(w=!0,f.i=!0)}catch(le){g=le,f.f=!0,MV(f)||(y=!0)}}f.c=g,w&&(z=S(f.m,f,!0),w=S(f.m,f,!1),g instanceof od?(lL(g,z,w),g.C=!0):g.then(z,w)),y&&(g=new BV(g),Ow[g.a]=g,f.h=g.a)}function Nw(){ne.call(this)}k(Nw,ne),Nw.prototype.message="Deferred has already fired",Nw.prototype.name="AlreadyCalledError";function I0(){ne.call(this)}k(I0,ne),I0.prototype.message="Deferred was canceled",I0.prototype.name="CanceledError";function BV(f){this.a=u.setTimeout(S(this.c,this),0),this.b=f}BV.prototype.c=function(){throw delete Ow[this.a],this.b};var Ow={};function cL(f){var g={},y=g.document||document,w=V9(f).toString(),I=rw(document,"SCRIPT"),R={Xb:I,Ma:void 0},M=new od(R),z=null,le=g.timeout!=null?g.timeout:5e3;return 0<le&&(z=window.setTimeout(function(){kw(I,!0);var ye=new fL(ede,"Timeout reached for loading script "+w);Lw(M),A0(M,!1,ye)},le),R.Ma=z),I.onload=I.onreadystatechange=function(){I.readyState&&I.readyState!="loaded"&&I.readyState!="complete"||(kw(I,g.xd||!1,z),Lw(M),A0(M,!0,null))},I.onerror=function(){kw(I,!0,z);var ye=new fL(Jhe,"Error while loading script "+w);Lw(M),A0(M,!1,ye)},R=g.attributes||{},Qn(R,{type:"text/javascript",charset:"UTF-8"}),eH(I,R),xfe(I,f),Qhe(y).appendChild(I),M}function Qhe(f){var g;return(g=(f||document).getElementsByTagName("HEAD"))&&g.length!=0?g[0]:f.documentElement}function Zhe(){if(this&&this.Xb){var f=this.Xb;f&&f.tagName=="SCRIPT"&&kw(f,!0,this.Ma)}}function kw(f,g,y){y!=null&&u.clearTimeout(y),f.onload=h,f.onerror=h,f.onreadystatechange=h,g&&window.setTimeout(function(){f&&f.parentNode&&f.parentNode.removeChild(f)},0)}var Jhe=0,ede=1;function fL(f,g){var y="Jsloader error (code #"+f+")";g&&(y+=": "+g),ne.call(this,y),this.code=f}k(fL,ne);function Rw(f){this.f=f}k(Rw,C0),Rw.prototype.a=function(){return new this.f},Rw.prototype.b=function(){return{}};function qa(f,g,y){if(this.c=f,f=g||{},this.l=f.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=f.secureTokenTimeout||tde,this.g=Va(f.secureTokenHeaders||nde),this.h=f.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=f.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=f.firebaseTimeout||rde,this.a=Va(f.firebaseHeaders||ide),y&&(this.a["X-Client-Version"]=y,this.g["X-Client-Version"]=y),y=Pu()=="Node",y=u.XMLHttpRequest||y&&tt.INTERNAL.node&&tt.INTERNAL.node.XMLHttpRequest,!y&&!Ua())throw new L("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ua()?this.f=new Dw(self):HH()?this.f=new Rw(y):this.f=new Sw,this.b=null}var hL,za="idToken",tde=new Qc(3e4,6e4),nde={"Content-Type":"application/x-www-form-urlencoded"},rde=new Qc(3e4,6e4),ide={"Content-Type":"application/json"};function HV(f,g){g?f.a["X-Firebase-Locale"]=g:delete f.a["X-Firebase-Locale"]}function Pw(f,g){g&&(f.l=dL("https://securetoken.googleapis.com/v1/token",g),f.h=dL("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",g),f.i=dL("https://identitytoolkit.googleapis.com/v2/",g))}function dL(f,g){return f=fs(f),g=fs(g.url),f.f=f.a+f.f,a0(f,g.c),f.a=g.a,u0(f,g.g),f.toString()}function VV(f,g){g?(f.a["X-Client-Version"]=g,f.g["X-Client-Version"]=g):(delete f.a["X-Client-Version"],delete f.g["X-Client-Version"])}qa.prototype.T=function(){return this.b};function WV(f,g,y,w,I,R,M){uhe()||Ua()?f=S(f.u,f):(hL||(hL=new Gt(function(z,le){sde(z,le)})),f=S(f.s,f)),f(g,y,w,I,R,M)}qa.prototype.u=function(f,g,y,w,I,R){if(Ua()&&(typeof u.fetch>"u"||typeof u.Headers>"u"||typeof u.Request>"u"))throw new L("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var M=new T0(this.f);if(R){M.g=Math.max(0,R);var z=setTimeout(function(){M.dispatchEvent("timeout")},R)}SH(M,"complete",function(){z&&clearTimeout(z);var le=null;try{le=JSON.parse(Yhe(this))||null}catch{le=null}g&&g(le)}),bx(M,"ready",function(){z&&clearTimeout(z),mH(this)}),bx(M,"timeout",function(){z&&clearTimeout(z),mH(this),g&&g(null)}),Ghe(M,f,y,w,I)};var ode=new ku(JC,"https://apis.google.com/js/client.js?onload=%{onload}"),UV="__fcb"+Math.floor(1e6*Math.random()).toString();function sde(f,g){if(((window.gapi||{}).client||{}).request)f();else{u[UV]=function(){((window.gapi||{}).client||{}).request?f():g(Error("CORS_UNSUPPORTED"))};var y=nx(ode,{onload:UV});Xhe(cL(y),function(){g(Error("CORS_UNSUPPORTED"))})}}qa.prototype.s=function(f,g,y,w,I){var R=this;hL.then(function(){window.gapi.client.setApiKey(R.c);var M=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:f,method:y,body:w,headers:I,authType:"none",callback:function(z){window.gapi.auth.setToken(M),g&&g(z)}})}).o(function(M){g&&g({error:{message:M&&M.message||"CORS_UNSUPPORTED"}})})};function ade(f,g){return new Gt(function(y,w){g.grant_type=="refresh_token"&&g.refresh_token||g.grant_type=="authorization_code"&&g.code?WV(f,f.l+"?key="+encodeURIComponent(f.c),function(I){I?I.error?w(CL(I)):I.access_token&&I.refresh_token?y(I):w(new L("internal-error")):w(new L("network-request-failed"))},"POST",xH(g).toString(),f.g,f.m.get()):w(new L("internal-error"))})}function jV(f,g,y,w,I,R,M){var z=fs(g+y);Sr(z,"key",f.c),M&&Sr(z,"cb",Date.now().toString());var le=w=="GET";if(le)for(var ye in I)I.hasOwnProperty(ye)&&Sr(z,ye,I[ye]);return new Gt(function(Ct,An){WV(f,z.toString(),function(fn){fn?fn.error?An(CL(fn,R||{})):Ct(fn):An(new L("network-request-failed"))},w,le?void 0:OH(UH(I)),f.a,f.v.get())})}function sd(f){if(f=f.email,typeof f!="string"||!fhe.test(f))throw new L("invalid-email")}function qV(f){"email"in f&&sd(f)}function ude(f,g){return Xt(f,_de,{identifier:g,continueUri:dw()?f0():"http://localhost"}).then(function(y){return y.signinMethods||[]})}function lde(f){return Xt(f,Lde,{}).then(function(g){return g.authorizedDomains||[]})}function hs(f){if(!f[za])throw f.mfaPendingCredential?new L("multi-factor-auth-required",null,Va(f)):new L("internal-error")}function pL(f){if(f.phoneNumber||f.temporaryProof){if(!f.phoneNumber||!f.temporaryProof)throw new L("internal-error")}else{if(!f.sessionInfo)throw new L("missing-verification-id");if(!f.code)throw new L("missing-verification-code")}}qa.prototype.Ab=function(){return Xt(this,Rde,{})},qa.prototype.Cb=function(f,g){return Xt(this,$V,{idToken:f,email:g})},qa.prototype.Db=function(f,g){return Xt(this,KV,{idToken:f,password:g})};var cde={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};n=qa.prototype,n.Eb=function(f,g){var y={idToken:f},w=[];return t0(cde,function(I,R){var M=g[R];M===null?w.push(I):R in g&&(y[R]=M)}),w.length&&(y.deleteAttribute=w),Xt(this,$V,y)},n.wb=function(f,g){return f={requestType:"PASSWORD_RESET",email:f},Qn(f,g),Xt(this,xde,f)},n.xb=function(f,g){return f={requestType:"EMAIL_SIGNIN",email:f},Qn(f,g),Xt(this,Dde,f)},n.vb=function(f,g){return f={requestType:"VERIFY_EMAIL",idToken:f},Qn(f,g),Xt(this,Ade,f)},n.Fb=function(f,g,y){return f={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:f,newEmail:g},Qn(f,y),Xt(this,Ide,f)};function fde(f,g){return Xt(f,kde,g)}n.gb=function(f){return Xt(this,Wde,f)};function hde(f,g){return Xt(f,Pde,g).then(function(y){return y.phoneSessionInfo.sessionInfo})}function zV(f){if(!f.phoneVerificationInfo)throw new L("internal-error");if(!f.phoneVerificationInfo.sessionInfo)throw new L("missing-verification-id");if(!f.phoneVerificationInfo.code)throw new L("missing-verification-code")}function dde(f,g){return Xt(f,Mde,g).then(function(y){return y.phoneResponseInfo.sessionInfo})}function pde(f,g,y){return Xt(f,bde,{idToken:g,deleteProvider:y})}function gL(f){if(!f.requestUri||!f.sessionId&&!f.postBody&&!f.pendingToken)throw new L("internal-error")}function vL(f,g){return g.oauthIdToken&&g.providerId&&g.providerId.indexOf("oidc.")==0&&!g.pendingToken&&(f.sessionId?g.nonce=f.sessionId:f.postBody&&(f=new Xh(f.postBody),Sx(f,"nonce")&&(g.nonce=f.get("nonce")))),g}function GV(f){var g=null;if(f.needConfirmation?(f.code="account-exists-with-different-credential",g=ww(f)):f.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(f.code="credential-already-in-use",g=ww(f)):f.errorMessage=="EMAIL_EXISTS"?(f.code="email-already-in-use",g=ww(f)):f.errorMessage&&(g=XV(f.errorMessage)),g)throw g;hs(f)}function mL(f,g){return g.returnIdpCredential=!0,Xt(f,Fde,g)}function _L(f,g){return g.returnIdpCredential=!0,Xt(f,Hde,g)}function yL(f,g){return g.returnIdpCredential=!0,g.autoCreate=!1,Xt(f,Bde,g)}function bL(f){if(!f.oobCode)throw new L("invalid-action-code")}n.ob=function(f,g){return Xt(this,Ode,{oobCode:f,newPassword:g})},n.Sa=function(f){return Xt(this,vde,{oobCode:f})},n.kb=function(f){return Xt(this,gde,{oobCode:f})};var gde={endpoint:"setAccountInfo",A:bL,Z:"email",B:!0},vde={endpoint:"resetPassword",A:bL,G:function(f){var g=f.requestType;if(!g||!f.email&&g!="EMAIL_SIGNIN"&&g!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},B:!0},mde={endpoint:"signupNewUser",A:function(f){if(sd(f),!f.password)throw new L("weak-password")},G:hs,V:!0,B:!0},_de={endpoint:"createAuthUri",B:!0},yde={endpoint:"deleteAccount",O:["idToken"]},bde={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(f){if(!Array.isArray(f.deleteProvider))throw new L("internal-error")}},Cde={endpoint:"emailLinkSignin",O:["email","oobCode"],A:sd,G:hs,V:!0,B:!0},wde={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:sd,G:hs,V:!0},Ede={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:zV,G:hs,B:!0,Na:!0},Sde={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:zV,G:hs,B:!0,Na:!0},Tde={endpoint:"getAccountInfo"},Dde={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(f){if(f.requestType!="EMAIL_SIGNIN")throw new L("internal-error");sd(f)},Z:"email",B:!0},Ade={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(f){if(f.requestType!="VERIFY_EMAIL")throw new L("internal-error")},Z:"email",B:!0},Ide={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(f){if(f.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},Z:"email",B:!0},xde={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(f){if(f.requestType!="PASSWORD_RESET")throw new L("internal-error");sd(f)},Z:"email",B:!0},Lde={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Nde={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(f){if(!f.recaptchaSiteKey)throw new L("internal-error")}},Ode={endpoint:"resetPassword",A:bL,Z:"email",B:!0},kde={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},$V={endpoint:"setAccountInfo",O:["idToken"],A:qV,V:!0},KV={endpoint:"setAccountInfo",O:["idToken"],A:function(f){if(qV(f),!f.password)throw new L("weak-password")},G:hs,V:!0},Rde={endpoint:"signupNewUser",G:hs,V:!0,B:!0},Pde={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(f){if(!f.phoneEnrollmentInfo)throw new L("internal-error");if(!f.phoneEnrollmentInfo.phoneNumber)throw new L("missing-phone-number");if(!f.phoneEnrollmentInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(f){if(!f.phoneSessionInfo||!f.phoneSessionInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},Mde={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(f){if(!f.phoneSignInInfo||!f.phoneSignInInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(f){if(!f.phoneResponseInfo||!f.phoneResponseInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},Fde={endpoint:"verifyAssertion",A:gL,Za:vL,G:GV,V:!0,B:!0},Bde={endpoint:"verifyAssertion",A:gL,Za:vL,G:function(f){if(f.errorMessage&&f.errorMessage=="USER_NOT_FOUND")throw new L("user-not-found");if(f.errorMessage)throw XV(f.errorMessage);hs(f)},V:!0,B:!0},Hde={endpoint:"verifyAssertion",A:function(f){if(gL(f),!f.idToken)throw new L("internal-error")},Za:vL,G:GV,V:!0},Vde={endpoint:"verifyCustomToken",A:function(f){if(!f.token)throw new L("invalid-custom-token")},G:hs,V:!0,B:!0},YV={endpoint:"verifyPassword",A:function(f){if(sd(f),!f.password)throw new L("wrong-password")},G:hs,V:!0,B:!0},Wde={endpoint:"verifyPhoneNumber",A:pL,G:hs,B:!0},Ude={endpoint:"verifyPhoneNumber",A:function(f){if(!f.idToken)throw new L("internal-error");pL(f)},G:function(f){if(f.temporaryProof)throw f.code="credential-already-in-use",ww(f);hs(f)}},jde={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pL,G:hs,B:!0},qde={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(f){if(!!f[za]^!!f.refreshToken)throw new L("internal-error")},B:!0,Na:!0};function Xt(f,g,y){if(!_he(y,g.O))return nr(new L("internal-error"));var w=!!g.Na,I=g.Vb||"POST",R;return ht(y).then(g.A).then(function(){return g.V&&(y.returnSecureToken=!0),g.B&&f.b&&typeof y.tenantId>"u"&&(y.tenantId=f.b),w?jV(f,f.i,g.endpoint,I,y,g.Ib,g.mb||!1):jV(f,f.h,g.endpoint,I,y,g.Ib,g.mb||!1)}).then(function(M){return R=M,g.Za?g.Za(y,R):R}).then(g.G).then(function(){if(!g.Z)return R;if(!(g.Z in R))throw new L("internal-error");return R[g.Z]})}function XV(f){return CL({error:{errors:[{message:f}],code:400,message:f}})}function CL(f,g){var y=(f.error&&f.error.errors&&f.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(y=w[y]?new L(w[y]):null)return y;y=f.error&&f.error.message||"",w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Qn(w,g||{}),g=(g=y.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<g.length?g[1]:void 0;for(var I in w)if(y.indexOf(I)===0)return new L(w[I],g);return!g&&f&&(g=d0(f)),new L("internal-error",g)}function zde(f){this.b=f,this.a=null,this.sb=Gde(this)}function Gde(f){return Zde().then(function(){return new Gt(function(g,y){rr("gapi.iframes.getContext")().open({where:document.body,url:f.b,messageHandlersFilter:rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function I(){clearTimeout(R),g()}f.a=w,f.a.restyle({setHideOnLeave:!1});var R=setTimeout(function(){y(Error("Network Error"))},Qde.get());w.ping(I).then(I,function(){y(Error("Network Error"))})})})})}function $de(f,g){return f.sb.then(function(){return new Gt(function(y){f.a.send(g.type,g,y,rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Kde(f,g){f.sb.then(function(){f.a.register("authEvent",g,rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Yde=new ku(JC,"https://apis.google.com/js/api.js?onload=%{onload}"),Xde=new Qc(3e4,6e4),Qde=new Qc(5e3,15e3),Mw=null;function Zde(){return Mw||(Mw=new Gt(function(f,g){function y(){qH(),rr("gapi.load")("gapi.iframes",{callback:f,ontimeout:function(){qH(),g(Error("Network Error"))},timeout:Xde.get()})}if(rr("gapi.iframes.Iframe"))f();else if(rr("gapi.load"))y();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[w]=function(){rr("gapi.load")?y():g(Error("Network Error"))},w=nx(Yde,{onload:w}),ht(cL(w)).o(function(){g(Error("Network Error"))})}}).o(function(f){throw Mw=null,f}))}function QV(f,g,y,w){this.l=f,this.h=g,this.i=y,this.g=w,this.f=null,this.g?(f=fs(this.g.url),f=fw(f.c,f.a,f.g,"/emulator/auth/iframe")):f=fw("https",this.l,null,"/__/auth/iframe"),this.a=f,Sr(this.a,"apiKey",this.h),Sr(this.a,"appName",this.i),this.b=null,this.c=[]}QV.prototype.toString=function(){return this.f?Sr(this.a,"v",this.f):Ru(this.a.b,"v"),this.b?Sr(this.a,"eid",this.b):Ru(this.a.b,"eid"),this.c.length?Sr(this.a,"fw",this.c.join(",")):Ru(this.a.b,"fw"),this.a.toString()};function wL(f,g,y,w,I,R){this.u=f,this.s=g,this.c=y,this.m=w,this.v=R,this.i=this.g=this.l=null,this.a=I,this.h=this.f=null}wL.prototype.zb=function(f){return this.h=f,this},wL.prototype.toString=function(){if(this.v){var f=fs(this.v.url);f=fw(f.c,f.a,f.g,"/emulator/auth/handler")}else f=fw("https",this.u,null,"/__/auth/handler");if(Sr(f,"apiKey",this.s),Sr(f,"appName",this.c),Sr(f,"authType",this.m),this.a.isOAuthProvider){var g=this.a;try{var y=tt.app(this.c).auth().la()}catch{y=null}g.pb=y,Sr(f,"providerId",this.a.providerId),y=this.a,g=UH(y.Jb);for(var w in g)g[w]=g[w].toString();w=y.Qc,g=Va(g);for(var I=0;I<w.length;I++){var R=w[I];R in g&&delete g[R]}y.qb&&y.pb&&!g[y.qb]&&(g[y.qb]=y.pb),Rs(g)||Sr(f,"customParameters",d0(g))}if(typeof this.a.Rb=="function"&&(y=this.a.Rb(),y.length&&Sr(f,"scopes",y.join(","))),this.l?Sr(f,"redirectUrl",this.l):Ru(f.b,"redirectUrl"),this.g?Sr(f,"eventId",this.g):Ru(f.b,"eventId"),this.i?Sr(f,"v",this.i):Ru(f.b,"v"),this.b)for(var M in this.b)this.b.hasOwnProperty(M)&&!ya(f,M)&&Sr(f,M,this.b[M]);return this.h?Sr(f,"tid",this.h):Ru(f.b,"tid"),this.f?Sr(f,"eid",this.f):Ru(f.b,"eid"),M=EL(this.c),M.length&&Sr(f,"fw",M.join(",")),f.toString()};function EL(f){try{return tt.app(f).auth().Ga()}catch{return[]}}function ZV(f,g,y,w,I,R){this.s=f,this.g=g,this.b=y,this.f=R,this.c=w||null,this.i=I||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function JV(f){var g=f0();return lde(f).then(function(y){e:{var w=fs(g),I=w.c;w=w.a;for(var R=0;R<y.length;R++){var M=y[R],z=w,le=I;if(M.indexOf("chrome-extension://")==0?z=fs(M).a==z&&le=="chrome-extension":le!="http"&&le!="https"?z=!1:che.test(M)?z=z==M:(M=M.split(".").join("\\."),z=new RegExp("^(.+\\."+M+"|"+M+")$","i").test(z)),z){y=!0;break e}}y=!1}if(!y)throw new eL(f0())})}function eW(f){return f.m||(f.m=hw().then(function(){if(!f.u){var g=f.c,y=f.i,w=EL(f.b),I=new QV(f.s,f.g,f.b,f.f);I.f=g,I.b=y,I.c=Se(w||[]),f.u=I.toString()}f.v=new zde(f.u),Jde(f)})),f.m}n=ZV.prototype,n.Pb=function(f,g,y){var w=new L("popup-closed-by-user"),I=new L("web-storage-unsupported"),R=this,M=!1;return this.ma().then(function(){epe(R).then(function(z){z||(f&&Qh(f),g(I),M=!0)})}).o(function(){}).then(function(){if(!M)return lhe(f)}).then(function(){if(!M)return xg(y).then(function(){g(w)})})},n.Yb=function(){var f=Pi();return!h0(f)&&!jH(f)},n.Ub=function(){return!1},n.Nb=function(f,g,y,w,I,R,M,z){if(!f)return nr(new L("popup-blocked"));if(M&&!h0())return this.ma().o(function(ye){Qh(f),I(ye)}),w(),ht();this.a||(this.a=JV(tW(this)));var le=this;return this.a.then(function(){var ye=le.ma().o(function(Ct){throw Qh(f),I(Ct),Ct});return w(),ye}).then(function(){if(Zx(y),!M){var ye=x0(le.s,le.g,le.b,g,y,null,R,le.c,void 0,le.i,z,le.f);PH(ye,f)}}).o(function(ye){throw ye.code=="auth/network-request-failed"&&(le.a=null),ye})};function tW(f){return f.l||(f.C=f.c?kg(f.c,EL(f.b)):null,f.l=new qa(f.g,$(f.i),f.C),f.f&&Pw(f.l,f.f)),f.l}n.Ob=function(f,g,y,w){this.a||(this.a=JV(tW(this)));var I=this;return this.a.then(function(){Zx(g);var R=x0(I.s,I.g,I.b,f,g,f0(),y,I.c,void 0,I.i,w,I.f);PH(R)}).o(function(R){throw R.code=="auth/network-request-failed"&&(I.a=null),R})},n.ma=function(){var f=this;return eW(this).then(function(){return f.v.sb}).o(function(){throw f.a=null,new L("network-request-failed")})},n.ac=function(){return!0};function x0(f,g,y,w,I,R,M,z,le,ye,Ct,An){return f=new wL(f,g,y,w,I,An),f.l=R,f.g=M,f.i=z,f.b=Va(le||null),f.f=ye,f.zb(Ct).toString()}function Jde(f){if(!f.v)throw Error("IfcHandler must be initialized!");Kde(f.v,function(g){var y={};if(g&&g.authEvent){var w=!1;for(g=SV(g.authEvent),y=0;y<f.h.length;y++)w=f.h[y](g)||w;return y={},y.status=w?"ACK":"ERROR",ht(y)}return y.status="ERROR",ht(y)})}function epe(f){var g={type:"webStorageSupport"};return eW(f).then(function(){return $de(f.v,g)}).then(function(y){if(y&&y.length&&typeof y[0].webStorageSupport<"u")return y[0].webStorageSupport;throw Error()})}n.Ea=function(f){this.h.push(f)},n.Ta=function(f){ue(this.h,function(g){return g==f})};function nW(f){if(this.a=f||tt.INTERNAL.reactNative&&tt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new L("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}n=nW.prototype,n.get=function(f){return ht(this.a.getItem(f)).then(function(g){return g&&Pg(g)})},n.set=function(f,g){return ht(this.a.setItem(f,d0(g)))},n.U=function(f){return ht(this.a.removeItem(f))},n.ca=function(){},n.ia=function(){};function rW(f){this.b=f,this.a={},this.f=S(this.c,this)}var iW=[];function tpe(){var f=Ua()?self:null;if(Ht(iW,function(y){y.b==f&&(g=y)}),!g){var g=new rW(f);iW.push(g)}return g}rW.prototype.c=function(f){var g=f.data.eventType,y=f.data.eventId,w=this.a[g];if(w&&0<w.length){f.ports[0].postMessage({status:"ack",eventId:y,eventType:g,response:null});var I=[];Ht(w,function(R){I.push(ht().then(function(){return R(f.origin,f.data.data)}))}),uH(I).then(function(R){var M=[];Ht(R,function(z){M.push({fulfilled:z.Qb,value:z.value,reason:z.reason?z.reason.message:void 0})}),Ht(M,function(z){for(var le in z)typeof z[le]>"u"&&delete z[le]}),f.ports[0].postMessage({status:"done",eventId:y,eventType:g,response:M})})}};function oW(f,g,y){Rs(f.a)&&f.b.addEventListener("message",f.f),typeof f.a[g]>"u"&&(f.a[g]=[]),f.a[g].push(y)}function sW(f){this.a=f}sW.prototype.postMessage=function(f,g){this.a.postMessage(f,g)};function aW(f){this.c=f,this.b=!1,this.a=[]}function uW(f,g,y,w){var I,R=y||{},M,z,le,ye=null;if(f.b)return nr(Error("connection_unavailable"));var Ct=w?800:50,An=typeof MessageChannel<"u"?new MessageChannel:null;return new Gt(function(fn,mi){An?(I=Math.floor(Math.random()*Math.pow(10,20)).toString(),An.port1.start(),z=setTimeout(function(){mi(Error("unsupported_event"))},Ct),M=function(Gl){Gl.data.eventId===I&&(Gl.data.status==="ack"?(clearTimeout(z),le=setTimeout(function(){mi(Error("timeout"))},3e3)):Gl.data.status==="done"?(clearTimeout(le),typeof Gl.data.response<"u"?fn(Gl.data.response):mi(Error("unknown_error"))):(clearTimeout(z),clearTimeout(le),mi(Error("invalid_response"))))},ye={messageChannel:An,onMessage:M},f.a.push(ye),An.port1.addEventListener("message",M),f.c.postMessage({eventType:g,eventId:I,data:R},[An.port2])):mi(Error("connection_unavailable"))}).then(function(fn){return SL(f,ye),fn}).o(function(fn){throw SL(f,ye),fn})}function SL(f,g){if(g){var y=g.messageChannel,w=g.onMessage;y&&(y.port1.removeEventListener("message",w),y.port1.close()),ue(f.a,function(I){return I==g})}}aW.prototype.close=function(){for(;0<this.a.length;)SL(this,this.a[0]);this.b=!0};function lW(){if(!AL())throw new L("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var f=this;Ua()&&self?(this.v=tpe(),oW(this.v,"keyChanged",function(g,y){return hW(f).then(function(w){return 0<w.length&&Ht(f.a,function(I){I(w)}),{keyProcessed:Z(w,y.key)}})}),oW(this.v,"ping",function(){return ht(["keyChanged"])})):vhe().then(function(g){(f.h=g)&&(f.g=new aW(new sW(g)),uW(f.g,"ping",null,!0).then(function(y){y[0].fulfilled&&Z(y[0].value,"keyChanged")&&(f.s=!0)}).o(function(){}))})}var TL;function npe(f){return new Gt(function(g,y){var w=f.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){g()},w.onerror=function(I){y(Error(I.target.error))}})}function cW(f){return new Gt(function(g,y){var w=f.m.open("firebaseLocalStorageDb",1);w.onerror=function(I){try{I.preventDefault()}catch{}y(Error(I.target.error))},w.onupgradeneeded=function(I){I=I.target.result;try{I.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(R){y(R)}},w.onsuccess=function(I){I=I.target.result,I.objectStoreNames.contains("firebaseLocalStorage")?g(I):npe(f).then(function(){return cW(f)}).then(function(R){g(R)}).o(function(R){y(R)})}})}function DL(f){return f.i||(f.i=cW(f)),f.i}function Fw(f,g){function y(I,R){DL(f).then(g).then(I).o(function(M){if(3<++w)R(M);else return DL(f).then(function(z){return z.close(),f.i=void 0,y(I,R)}).o(function(z){R(z)})})}var w=0;return new Gt(y)}function AL(){try{return!!u.indexedDB}catch{return!1}}function L0(f){return f.objectStore("firebaseLocalStorage")}function N0(f,g){return f.transaction(["firebaseLocalStorage"],g?"readwrite":"readonly")}function Hg(f){return new Gt(function(g,y){f.onsuccess=function(w){w&&w.target?g(w.target.result):g()},f.onerror=function(w){y(w.target.error)}})}n=lW.prototype,n.set=function(f,g){var y=this,w=!1;return Fw(this,function(I){return I=L0(N0(I,!0)),Hg(I.get(f))}).then(function(I){return Fw(y,function(R){if(R=L0(N0(R,!0)),I)return I.value=g,Hg(R.put(I));y.b++,w=!0;var M={};return M.fbase_key=f,M.value=g,Hg(R.add(M))})}).then(function(){return y.c[f]=g,fW(y,f)}).oa(function(){w&&y.b--})};function fW(f,g){return f.g&&f.h&&ghe()===f.h?uW(f.g,"keyChanged",{key:g},f.s).then(function(){}).o(function(){}):ht()}n.get=function(f){return Fw(this,function(g){return Hg(L0(N0(g,!1)).get(f))}).then(function(g){return g&&g.value})},n.U=function(f){var g=this,y=!1;return Fw(this,function(w){return y=!0,g.b++,Hg(L0(N0(w,!0)).delete(f))}).then(function(){return delete g.c[f],fW(g,f)}).oa(function(){y&&g.b--})};function hW(f){return DL(f).then(function(g){var y=L0(N0(g,!1));return y.getAll?Hg(y.getAll()):new Gt(function(w,I){var R=[],M=y.openCursor();M.onsuccess=function(z){(z=z.target.result)?(R.push(z.value),z.continue()):w(R)},M.onerror=function(z){I(z.target.error)}})}).then(function(g){var y={},w=[];if(f.b==0){for(w=0;w<g.length;w++)y[g[w].fbase_key]=g[w].value;w=MH(f.c,y),f.c=y}return w})}n.ca=function(f){this.a.length==0&&rpe(this),this.a.push(f)},n.ia=function(f){ue(this.a,function(g){return g==f}),this.a.length==0&&dW(this)};function rpe(f){function g(){f.f=setTimeout(function(){f.l=hW(f).then(function(y){0<y.length&&Ht(f.a,function(w){w(y)})}).then(function(){g()}).o(function(y){y.message!="STOP_EVENT"&&g()})},800)}dW(f),g()}function dW(f){f.l&&f.l.cancel("STOP_EVENT"),f.f&&(clearTimeout(f.f),f.f=null)}function pW(f){var g=this,y=null;this.a=[],this.type="indexedDB",this.c=f,this.b=ht().then(function(){if(AL()){var w=Jh(),I="__sak"+w;return TL||(TL=new lW),y=TL,y.set(I,w).then(function(){return y.get(I)}).then(function(R){if(R!==w)throw Error("indexedDB not supported!");return y.U(I)}).then(function(){return y}).o(function(){return g.c})}return g.c}).then(function(w){return g.type=w.type,w.ca(function(I){Ht(g.a,function(R){R(I)})}),w})}n=pW.prototype,n.get=function(f){return this.b.then(function(g){return g.get(f)})},n.set=function(f,g){return this.b.then(function(y){return y.set(f,g)})},n.U=function(f){return this.b.then(function(g){return g.U(f)})},n.ca=function(f){this.a.push(f)},n.ia=function(f){ue(this.a,function(g){return g==f})};function O0(){this.a={},this.type="inMemory"}n=O0.prototype,n.get=function(f){return ht(this.a[f])},n.set=function(f,g){return this.a[f]=g,ht()},n.U=function(f){return delete this.a[f],ht()},n.ca=function(){},n.ia=function(){};function Bw(){if(!ipe())throw Pu()=="Node"?new L("internal-error","The LocalStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=gW()||tt.INTERNAL.node.localStorage,this.type="localStorage"}function gW(){try{var f=u.localStorage,g=Jh();return f&&(f.setItem(g,"1"),f.removeItem(g)),f}catch{return null}}function ipe(){var f=Pu()=="Node";if(f=gW()||f&&tt.INTERNAL.node&&tt.INTERNAL.node.localStorage,!f)return!1;try{return f.setItem("__sak","1"),f.removeItem("__sak"),!0}catch{return!1}}n=Bw.prototype,n.get=function(f){var g=this;return ht().then(function(){var y=g.a.getItem(f);return Pg(y)})},n.set=function(f,g){var y=this;return ht().then(function(){var w=d0(g);w===null?y.U(f):y.a.setItem(f,w)})},n.U=function(f){var g=this;return ht().then(function(){g.a.removeItem(f)})},n.ca=function(f){u.window&&_a(u.window,"storage",f)},n.ia=function(f){u.window&&Ps(u.window,"storage",f)};function IL(){this.type="nullStorage"}n=IL.prototype,n.get=function(){return ht(null)},n.set=function(){return ht()},n.U=function(){return ht()},n.ca=function(){},n.ia=function(){};function xL(){if(!ope())throw Pu()=="Node"?new L("internal-error","The SessionStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=vW()||tt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function vW(){try{var f=u.sessionStorage,g=Jh();return f&&(f.setItem(g,"1"),f.removeItem(g)),f}catch{return null}}function ope(){var f=Pu()=="Node";if(f=vW()||f&&tt.INTERNAL.node&&tt.INTERNAL.node.sessionStorage,!f)return!1;try{return f.setItem("__sak","1"),f.removeItem("__sak"),!0}catch{return!1}}n=xL.prototype,n.get=function(f){var g=this;return ht().then(function(){var y=g.a.getItem(f);return Pg(y)})},n.set=function(f,g){var y=this;return ht().then(function(){var w=d0(g);w===null?y.U(f):y.a.setItem(f,w)})},n.U=function(f){var g=this;return ht().then(function(){g.a.removeItem(f)})},n.ca=function(){},n.ia=function(){};function spe(){var f={};f.Browser=ape,f.Node=upe,f.ReactNative=lpe,f.Worker=cpe,this.a=f[Pu()]}var LL,ape={F:Bw,cb:xL},upe={F:Bw,cb:xL},lpe={F:nW,cb:IL},cpe={F:Bw,cb:IL},Vg={rd:"local",NONE:"none",td:"session"};function fpe(f){var g=new L("invalid-persistence-type"),y=new L("unsupported-persistence-type");e:{for(w in Vg)if(Vg[w]==f){var w=!0;break e}w=!1}if(!w||typeof f!="string")throw g;switch(Pu()){case"ReactNative":if(f==="session")throw y;break;case"Node":if(f!=="none")throw y;break;case"Worker":if(f==="session"||!AL()&&f!=="none")throw y;break;default:if(!Lx()&&f!=="none")throw y}}function mW(){var f=!!(!jH(Pi())&&Ix()),g=h0(),y=Lx();this.m=f,this.h=g,this.l=y,this.a={},LL||(LL=new spe),f=LL;try{this.g=!Dx()&&zH()||!u.indexedDB?new f.a.F:new pW(Ua()?new O0:new f.a.F)}catch{this.g=new O0,this.h=!0}try{this.i=new f.a.cb}catch{this.i=new O0}this.v=new O0,this.f=S(this.Zb,this),this.b={}}var NL;function k0(){return NL||(NL=new mW),NL}function ad(f,g){switch(g){case"session":return f.i;case"none":return f.v;default:return f.g}}function Wg(f,g){return"firebase:"+f.name+(g?":"+g:"")}function hpe(f,g,y){var w=Wg(g,y),I=ad(f,g.F);return f.get(g,y).then(function(R){var M=null;try{M=Pg(u.localStorage.getItem(w))}catch{}if(M&&!R)return u.localStorage.removeItem(w),f.set(g,M,y);M&&R&&I.type!="localStorage"&&u.localStorage.removeItem(w)})}n=mW.prototype,n.get=function(f,g){return ad(this,f.F).get(Wg(f,g))};function Ug(f,g,y){return y=Wg(g,y),g.F=="local"&&(f.b[y]=null),ad(f,g.F).U(y)}n.set=function(f,g,y){var w=Wg(f,y),I=this,R=ad(this,f.F);return R.set(w,g).then(function(){return R.get(w)}).then(function(M){f.F=="local"&&(I.b[w]=M)})},n.addListener=function(f,g,y){f=Wg(f,g),this.l&&(this.b[f]=u.localStorage.getItem(f)),Rs(this.a)&&(ad(this,"local").ca(this.f),this.h||(Dx()||!zH())&&u.indexedDB||!this.l||dpe(this)),this.a[f]||(this.a[f]=[]),this.a[f].push(y)},n.removeListener=function(f,g,y){f=Wg(f,g),this.a[f]&&(ue(this.a[f],function(w){return w==y}),this.a[f].length==0&&delete this.a[f]),Rs(this.a)&&(ad(this,"local").ia(this.f),OL(this))};function dpe(f){OL(f),f.c=setInterval(function(){for(var g in f.a){var y=u.localStorage.getItem(g),w=f.b[g];y!=w&&(f.b[g]=y,y=new Kh({type:"storage",key:g,target:window,oldValue:w,newValue:y,a:!0}),f.Zb(y))}},1e3)}function OL(f){f.c&&(clearInterval(f.c),f.c=null)}n.Zb=function(f){if(f&&f.g){var g=f.a.key;if(g==null)for(var y in this.a){var w=this.b[y];typeof w>"u"&&(w=null);var I=u.localStorage.getItem(y);I!==w&&(this.b[y]=I,this.nb(y))}else if(g.indexOf("firebase:")==0&&this.a[g]){if(typeof f.a.a<"u"?ad(this,"local").ia(this.f):OL(this),this.m){if(y=u.localStorage.getItem(g),w=f.a.newValue,w!==y)w!==null?u.localStorage.setItem(g,w):u.localStorage.removeItem(g);else if(this.b[g]===w&&typeof f.a.a>"u")return}var R=this;y=function(){(typeof f.a.a<"u"||R.b[g]!==u.localStorage.getItem(g))&&(R.b[g]=u.localStorage.getItem(g),R.nb(g))},Wa&&Kc&&Kc==10&&u.localStorage.getItem(g)!==f.a.newValue&&f.a.newValue!==f.a.oldValue?setTimeout(y,10):y()}}else Ht(f,S(this.nb,this))},n.nb=function(f){this.a[f]&&Ht(this.a[f],function(g){g()})};function ppe(f){this.a=f,this.b=k0()}var kL={name:"authEvent",F:"local"};function gpe(f){return f.b.get(kL,f.a).then(function(g){return SV(g)})}function vpe(){this.a=k0()}function mpe(){this.b=-1}function Hw(f,g){this.b=_W,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=f,this.h=g,this.l=u.Int32Array?new Int32Array(64):Array(64),Vw===void 0&&(u.Int32Array?Vw=new Int32Array(CW):Vw=CW),this.reset()}var Vw;k(Hw,mpe);for(var _W=64,_pe=_W-1,yW=[],RL=0;RL<_pe;RL++)yW[RL]=0;var bW=ge(128,yW);Hw.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Se(this.h)};function PL(f){for(var g=f.f,y=f.l,w=0,I=0;I<g.length;)y[w++]=g[I]<<24|g[I+1]<<16|g[I+2]<<8|g[I+3],I=4*w;for(g=16;64>g;g++){I=y[g-15]|0,w=y[g-2]|0;var R=(y[g-16]|0)+((I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3)|0,M=(y[g-7]|0)+((w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;y[g]=R+M|0}w=f.a[0]|0,I=f.a[1]|0;var z=f.a[2]|0,le=f.a[3]|0,ye=f.a[4]|0,Ct=f.a[5]|0,An=f.a[6]|0;for(R=f.a[7]|0,g=0;64>g;g++){var fn=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&I^w&z^I&z)|0;M=ye&Ct^~ye&An,R=R+((ye>>>6|ye<<26)^(ye>>>11|ye<<21)^(ye>>>25|ye<<7))|0,M=M+(Vw[g]|0)|0,M=R+(M+(y[g]|0)|0)|0,R=An,An=Ct,Ct=ye,ye=le+M|0,le=z,z=I,I=w,w=M+fn|0}f.a[0]=f.a[0]+w|0,f.a[1]=f.a[1]+I|0,f.a[2]=f.a[2]+z|0,f.a[3]=f.a[3]+le|0,f.a[4]=f.a[4]+ye|0,f.a[5]=f.a[5]+Ct|0,f.a[6]=f.a[6]+An|0,f.a[7]=f.a[7]+R|0}function ML(f,g,y){y===void 0&&(y=g.length);var w=0,I=f.c;if(typeof g=="string")for(;w<y;)f.f[I++]=g.charCodeAt(w++),I==f.b&&(PL(f),I=0);else if(v(g))for(;w<y;){var R=g[w++];if(!(typeof R=="number"&&0<=R&&255>=R&&R==(R|0)))throw Error("message must be a byte array");f.f[I++]=R,I==f.b&&(PL(f),I=0)}else throw Error("message must be string or array");f.c=I,f.g+=y}var CW=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wW(){Hw.call(this,8,ype)}k(wW,Hw);var ype=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function EW(f,g,y,w,I,R){this.v=f,this.i=g,this.l=y,this.m=w||null,this.u=I||null,this.s=R,this.h=g+":"+y,this.C=new vpe,this.g=new ppe(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ww(f){return new L("invalid-cordova-configuration",f)}n=EW.prototype,n.ma=function(){return this.Ia?this.Ia:this.Ia=hhe().then(function(){if(typeof rr("universalLinks.subscribe",u)!="function")throw Ww("cordova-universal-links-plugin-fix is not installed");if(typeof rr("BuildInfo.packageName",u)>"u")throw Ww("cordova-plugin-buildinfo is not installed");if(typeof rr("cordova.plugins.browsertab.openUrl",u)!="function")throw Ww("cordova-plugin-browsertab is not installed");if(typeof rr("cordova.InAppBrowser.open",u)!="function")throw Ww("cordova-plugin-inappbrowser is not installed")},function(){throw new L("cordova-not-ready")})};function bpe(){for(var f=20,g=[];0<f;)g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),f--;return g.join("")}function Cpe(f){var g=new wW;ML(g,f),f=[];var y=8*g.g;56>g.c?ML(g,bW,56-g.c):ML(g,bW,g.b-(g.c-56));for(var w=63;56<=w;w--)g.f[w]=y&255,y/=256;for(PL(g),w=y=0;w<g.i;w++)for(var I=24;0<=I;I-=8)f[y++]=g.a[w]>>I&255;return Ohe(f)}n.Pb=function(f,g){return g(new L("operation-not-supported-in-this-environment")),ht()},n.Nb=function(){return nr(new L("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(f,g,y,w){if(this.c)return nr(new L("redirect-operation-pending"));var I=this,R=u.document,M=null,z=null,le=null,ye=null;return this.c=ht().then(function(){return Zx(g),TW(I)}).then(function(){return wpe(I,f,g,y,w)}).then(function(){return new Gt(function(Ct,An){z=function(){var fn=rr("cordova.plugins.browsertab.close",u);return Ct(),typeof fn=="function"&&fn(),I.a&&typeof I.a.close=="function"&&(I.a.close(),I.a=null),!1},I.Ea(z),le=function(){M||(M=xg(2e3).then(function(){An(new L("redirect-cancelled-by-user"))}))},ye=function(){Nx()&&le()},R.addEventListener("resume",le,!1),Pi().toLowerCase().match(/android/)||R.addEventListener("visibilitychange",ye,!1)}).o(function(Ct){return FL(I).then(function(){throw Ct})})}).oa(function(){le&&R.removeEventListener("resume",le,!1),ye&&R.removeEventListener("visibilitychange",ye,!1),M&&M.cancel(),z&&I.Ta(z),I.c=null})};function wpe(f,g,y,w,I){var R=bpe(),M=new ja(g,w,null,R,new L("no-auth-event"),null,I),z=rr("BuildInfo.packageName",u);if(typeof z!="string")throw new L("invalid-cordova-configuration");var le=rr("BuildInfo.displayName",u),ye={};if(Pi().toLowerCase().match(/iphone|ipad|ipod/))ye.ibi=z;else if(Pi().toLowerCase().match(/android/))ye.apn=z;else return nr(new L("operation-not-supported-in-this-environment"));le&&(ye.appDisplayName=le),R=Cpe(R),ye.sessionId=R;var Ct=x0(f.v,f.i,f.l,g,y,null,w,f.m,ye,f.u,I,f.s);return f.ma().then(function(){var An=f.h;return f.C.a.set(kL,M.w(),An)}).then(function(){var An=rr("cordova.plugins.browsertab.isAvailable",u);if(typeof An!="function")throw new L("invalid-cordova-configuration");var fn=null;An(function(mi){if(mi){if(fn=rr("cordova.plugins.browsertab.openUrl",u),typeof fn!="function")throw new L("invalid-cordova-configuration");fn(Ct)}else{if(fn=rr("cordova.InAppBrowser.open",u),typeof fn!="function")throw new L("invalid-cordova-configuration");mi=Pi(),f.a=fn(Ct,mi.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||mi.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function SW(f,g){for(var y=0;y<f.b.length;y++)try{f.b[y](g)}catch{}}function TW(f){return f.f||(f.f=f.ma().then(function(){return new Gt(function(g){function y(w){return g(w),f.Ta(y),!1}f.Ea(y),Epe(f)})})),f.f}function FL(f){var g=null;return gpe(f.g).then(function(y){return g=y,y=f.g,Ug(y.b,kL,y.a)}).then(function(){return g})}function Epe(f){function g(M){w=!0,I&&I.cancel(),FL(f).then(function(z){var le=y;if(z&&M&&M.url){var ye=null;le=vV(M.url),le.indexOf("/__/auth/callback")!=-1&&(ye=fs(le),ye=Pg(ya(ye,"firebaseError")||null),ye=(ye=typeof ye=="object"?O(ye):null)?new ja(z.c,z.b,null,null,ye,null,z.T()):new ja(z.c,z.b,le,z.f,null,null,z.T())),le=ye||y}SW(f,le)})}var y=new ja("unknown",null,null,null,new L("no-auth-event")),w=!1,I=xg(500).then(function(){return FL(f).then(function(){w||SW(f,y)})}),R=u.handleOpenURL;u.handleOpenURL=function(M){if(M.toLowerCase().indexOf(rr("BuildInfo.packageName",u).toLowerCase()+"://")==0&&g({url:M}),typeof R=="function")try{R(M)}catch(z){console.error(z)}},Jx||(Jx=new Vhe),Whe(g)}n.Ea=function(f){this.b.push(f),TW(this).o(function(g){g.code==="auth/invalid-cordova-configuration"&&(g=new ja("unknown",null,null,null,new L("no-auth-event")),f(g))})},n.Ta=function(f){ue(this.b,function(g){return g==f})};function Spe(f){this.a=f,this.b=k0()}var BL={name:"pendingRedirect",F:"session"};function Tpe(f){return f.b.set(BL,"pending",f.a)}function HL(f){return Ug(f.b,BL,f.a)}function Dpe(f){return f.b.get(BL,f.a).then(function(g){return g=="pending"})}function Uw(f,g,y,w){this.i={},this.u=0,this.D=f,this.v=g,this.m=y,this.J=w,this.h=[],this.f=!1,this.l=S(this.s,this),this.b=new qw,this.C=new PW,this.g=new Spe(OW(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=DW(this.D,this.v,this.m,ee,this.J)}function DW(f,g,y,w,I){var R=tt.SDK_VERSION||null;return Ax()?new EW(f,g,y,R,w,I):new ZV(f,g,y,R,w,I)}Uw.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=DW(this.D,this.v,this.m,null,this.J),this.i={}};function AW(f){f.f||(f.f=!0,f.a.Ea(f.l));var g=f.a;return f.a.ma().o(function(y){throw f.a==g&&f.reset(),y})}function IW(f){f.a.Yb()&&AW(f).o(function(g){var y=new ja("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));WL(g)&&f.s(y)}),f.a.Ub()||kW(f.b)}function jw(f,g){Z(f.h,g)||f.h.push(g),f.f||Dpe(f.g).then(function(y){y?HL(f.g).then(function(){AW(f).o(function(w){var I=new ja("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));WL(w)&&f.s(I)})}):IW(f)}).o(function(){IW(f)})}function VL(f,g){ue(f.h,function(y){return y==g})}Uw.prototype.s=function(f){if(!f)throw new L("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),f&&f.getUid()&&this.i.hasOwnProperty(f.getUid()))return!1;for(var g=!1,y=0;y<this.h.length;y++){var w=this.h[y];if(w.Gb(f.c,f.b)){(g=this.c[f.c])&&(g.h(f,w),f&&(f.f||f.b)&&(this.i[f.getUid()]=!0,this.u=Date.now())),g=!0;break}}return kW(this.b),g};var Ape=new Qc(2e3,1e4),Ipe=new Qc(3e4,6e4);Uw.prototype.ra=function(){return this.b.ra()};function xW(f,g,y,w,I,R,M){return f.a.Nb(g,y,w,function(){f.f||(f.f=!0,f.a.Ea(f.l))},function(){f.reset()},I,R,M)}function WL(f){return!!(f&&f.code=="auth/cordova-not-ready")}function LW(f,g,y,w,I){var R;return Tpe(f.g).then(function(){return f.a.Ob(g,y,w,I).o(function(M){if(WL(M))throw new L("operation-not-supported-in-this-environment");return R=M,HL(f.g).then(function(){throw R})}).then(function(){return f.a.ac()?new Gt(function(){}):HL(f.g).then(function(){return f.ra()}).then(function(){}).o(function(){})})})}function NW(f,g,y,w,I){return f.a.Pb(w,function(R){g.na(y,null,R,I)},Ape.get())}var UL={};function OW(f,g,y){return f=f+":"+g,y&&(f=f+":"+y.url),f}function jL(f,g,y,w){var I=OW(g,y,w);return UL[I]||(UL[I]=new Uw(f,g,y,w)),UL[I]}function qw(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}qw.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qw.prototype.h=function(f,g){if(f){this.reset(),this.g=!0;var y=f.c,w=f.b,I=f.a&&f.a.code=="auth/web-storage-unsupported",R=f.a&&f.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!I&&!R),y!="unknown"||I||R?f.a?(ud(this,!0,null,f.a),ht()):g.Fa(y,w)?xpe(this,f,g):nr(new L("invalid-auth-event")):(ud(this,!1,null,null),ht())}else nr(new L("invalid-auth-event"))};function kW(f){f.g||(f.g=!0,ud(f,!1,null,null))}function zw(f){f.g&&!f.i&&ud(f,!1,null,null)}function xpe(f,g,y){y=y.Fa(g.c,g.b);var w=g.g,I=g.f,R=g.i,M=g.T(),z=!!g.c.match(/Redirect$/);y(w,I,M,R).then(function(le){ud(f,z,le,null)}).o(function(le){ud(f,z,null,le)})}function Lpe(f,g){if(f.b=function(){return nr(g)},f.c.length)for(var y=0;y<f.c.length;y++)f.c[y](g)}function RW(f,g){if(f.b=function(){return ht(g)},f.f.length)for(var y=0;y<f.f.length;y++)f.f[y](g)}function ud(f,g,y,w){g?w?Lpe(f,w):RW(f,y):RW(f,{user:null}),f.f=[],f.c=[]}qw.prototype.ra=function(){var f=this;return new Gt(function(g,y){f.b?f.b().then(g,y):(f.f.push(g),f.c.push(y),Npe(f))})};function Npe(f){var g=new L("timeout");f.a&&f.a.cancel(),f.a=xg(Ipe.get()).then(function(){f.b||(f.g=!0,ud(f,!0,null,g))})}function PW(){}PW.prototype.h=function(f,g){if(f){var y=f.c,w=f.b;f.a?(g.na(f.c,null,f.a,f.b),ht()):g.Fa(y,w)?Ope(f,g):nr(new L("invalid-auth-event"))}else nr(new L("invalid-auth-event"))};function Ope(f,g){var y=f.b,w=f.c;g.Fa(w,y)(f.g,f.f,f.T(),f.i).then(function(I){g.na(w,I,null,y)}).o(function(I){g.na(w,null,I,y)})}function MW(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(f){this.jb=f},enumerable:!1})}function qL(f,g){this.a=g,Xe(this,"verificationId",f)}qL.prototype.confirm=function(f){return f=EV(this.verificationId,f),this.a(f)};function zL(f,g,y,w){return new ql(f).gb(g,y).then(function(I){return new qL(I,w)})}function kpe(f){var g=uV(f);if(!(g&&g.exp&&g.auth_time&&g.iat))throw new L("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");No(this,{token:f,expirationTime:p0(1e3*g.exp),authTime:p0(1e3*g.auth_time),issuedAtTime:p0(1e3*g.iat),signInProvider:g.firebase&&g.firebase.sign_in_provider?g.firebase.sign_in_provider:null,signInSecondFactor:g.firebase&&g.firebase.sign_in_second_factor?g.firebase.sign_in_second_factor:null,claims:g})}function GL(f,g,y){var w=g&&g[BW];if(!w)throw new L("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=f,this.f=Va(g),this.g=y,this.c=new bw(null,w),this.b=[];var I=this;Ht(g[FW]||[],function(R){(R=Fx(R))&&I.b.push(R)}),Xe(this,"auth",this.a),Xe(this,"session",this.c),Xe(this,"hints",this.b)}var FW="mfaInfo",BW="mfaPendingCredential";GL.prototype.Rc=function(f){var g=this;return f.tb(this.a.a,this.c).then(function(y){var w=Va(g.f);return delete w[FW],delete w[BW],Qn(w,y),g.g(w)})};function $L(f,g,y,w){L.call(this,"multi-factor-auth-required",w,g),this.b=new GL(f,g,y),Xe(this,"resolver",this.b)}k($L,L);function HW(f,g,y){if(f&&_(f.serverResponse)&&f.code==="auth/multi-factor-auth-required")try{return new $L(g,f.serverResponse,y,f.message)}catch{}return null}function VW(){}VW.prototype.tb=function(f,g,y){return g.type==_0?Rpe(this,f,g,y):Ppe(this,f,g)};function Rpe(f,g,y,w){return y.Ha().then(function(I){return I={idToken:I},typeof w<"u"&&(I.displayName=w),Qn(I,{phoneVerificationInfo:y0(f.a)}),Xt(g,Ede,I)})}function Ppe(f,g,y){return y.Ha().then(function(w){return w={mfaPendingCredential:w},Qn(w,{phoneVerificationInfo:y0(f.a)}),Xt(g,Sde,w)})}function KL(f){Xe(this,"factorId",f.fa),this.a=f}k(KL,VW);function WW(f){if(KL.call(this,f),this.a.fa!=ql.PROVIDER_ID)throw new L("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}k(WW,KL);function jg(f,g){cs.call(this,f);for(var y in g)this[y]=g[y]}k(jg,cs);function YL(f,g){this.a=f,this.b=[],this.c=S(this.yc,this),_a(this.a,"userReloaded",this.c);var y=[];g&&g.multiFactor&&g.multiFactor.enrolledFactors&&Ht(g.multiFactor.enrolledFactors,function(w){var I=null,R={};if(w){w.uid&&(R[Hx]=w.uid),w.displayName&&(R[$H]=w.displayName),w.enrollmentTime&&(R[Bx]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(R[Vx]=w.phoneNumber);try{I=new g0(R)}catch{}w=I}else w=null;w&&y.push(w)}),Gw(this,y)}function Mpe(f){var g=[];return Ht(f.mfaInfo||[],function(y){(y=Fx(y))&&g.push(y)}),g}n=YL.prototype,n.yc=function(f){Gw(this,Mpe(f.hd))};function Gw(f,g){f.b=g,Xe(f,"enrolledFactors",g)}n.Sb=function(){return this.a.I().then(function(f){return new bw(f,null)})},n.fc=function(f,g){var y=this,w=this.a.a;return this.Sb().then(function(I){return f.tb(w,I,g)}).then(function(I){return Bu(y.a,I),y.a.reload()})},n.bd=function(f){var g=this,y=typeof f=="string"?f:f.uid,w=this.a.a;return this.a.I().then(function(I){return Xt(w,qde,{idToken:I,mfaEnrollmentId:y})}).then(function(I){var R=xo(g.b,function(M){return M.uid!=y});return Gw(g,R),Bu(g.a,I),g.a.reload().o(function(M){if(M.code!="auth/user-token-expired")throw M})})},n.w=function(){return{multiFactor:{enrolledFactors:qn(this.b,function(f){return f.w()})}}};function XL(f,g,y){if(this.h=f,this.i=g,this.g=y,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}XL.prototype.start=function(){this.a=this.c,QL(this,!0)};function Fpe(f,g){return g?(f.a=f.c,f.g()):(g=f.a,f.a*=2,f.a>f.f&&(f.a=f.f),g)}function QL(f,g){f.stop(),f.b=xg(Fpe(f,g)).then(function(){return phe()}).then(function(){return f.h()}).then(function(){QL(f,!0)}).o(function(y){f.i(y)&&QL(f,!1)})}XL.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function ZL(f){this.f=f,this.b=this.a=null,this.c=Date.now()}ZL.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function UW(f,g){typeof g>"u"&&(f.b?(g=f.b,g=g.a-g.g):g=0),f.c=Date.now()+1e3*g}function jW(f,g){f.b=_w(g[za]||""),f.a=g.refreshToken,g=g.expiresIn,UW(f,typeof g<"u"?Number(g):void 0)}function Bpe(f,g){f.b=g.b,f.a=g.a,f.c=g.c}function Hpe(f,g){return ade(f.f,g).then(function(y){return f.b=_w(y.access_token),f.a=y.refresh_token,UW(f,y.expires_in),{accessToken:f.b.toString(),refreshToken:f.a}}).o(function(y){throw y.code=="auth/user-token-expired"&&(f.a=null),y})}ZL.prototype.getToken=function(f){return f=!!f,this.b&&!this.a?nr(new L("user-token-expired")):f||!this.b||Date.now()>this.c-3e4?this.a?Hpe(this,{grant_type:"refresh_token",refresh_token:this.a}):ht(null):ht({accessToken:this.b.toString(),refreshToken:this.a})};function $w(f,g){this.a=f||null,this.b=g||null,No(this,{lastSignInTime:p0(g||null),creationTime:p0(f||null)})}function Vpe(f){return new $w(f.a,f.b)}$w.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Wpe(f,g,y,w,I,R){No(this,{uid:f,displayName:w||null,photoURL:I||null,email:y||null,phoneNumber:R||null,providerId:g})}function Fs(f,g,y){this.N=[],this.l=f.apiKey,this.m=f.appName,this.s=f.authDomain||null;var w=tt.SDK_VERSION?kg(tt.SDK_VERSION):null;this.a=new qa(this.l,$(ee),w),(this.u=f.emulatorConfig||null)&&Pw(this.a,this.u),this.h=new ZL(this.a),oN(this,g[za]),jW(this.h,g),Xe(this,"refreshToken",this.h.a),zW(this,y||{}),Lo.call(this),this.P=!1,this.s&&Zh()&&(this.b=jL(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Upe(this),this.ba=S(this.ib,this);var I=this;this.za=null,this.Pa=function(R){I.xa(R.h)},this.qa=null,this.Ba=function(R){JL(I,R.c)},this.$=null,this.aa=[],this.Oa=function(R){R0(I,R.f)},this.ja=null,this.S=new YL(this,y),Xe(this,"multiFactor",this.S)}k(Fs,Lo),Fs.prototype.xa=function(f){this.za=f,HV(this.a,f)};function JL(f,g){f.u=g,Pw(f.a,g),f.b&&(g=f.b,f.b=jL(f.s,f.l,f.m,f.u),f.P&&(VL(g,f),jw(f.b,f)))}Fs.prototype.la=function(){return this.za};function eN(f,g){f.qa&&Ps(f.qa,"languageCodeChanged",f.Pa),(f.qa=g)&&_a(g,"languageCodeChanged",f.Pa)}function tN(f,g){f.$&&Ps(f.$,"emulatorConfigChanged",f.Ba),(f.$=g)&&_a(g,"emulatorConfigChanged",f.Ba)}function R0(f,g){f.aa=g,VV(f.a,tt.SDK_VERSION?kg(tt.SDK_VERSION,f.aa):null)}Fs.prototype.Ga=function(){return Se(this.aa)};function nN(f,g){f.ja&&Ps(f.ja,"frameworkChanged",f.Oa),(f.ja=g)&&_a(g,"frameworkChanged",f.Oa)}Fs.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function rN(f){try{return tt.app(f.m).auth()}catch{throw new L("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+f.m+"'!")}}function Upe(f){return new XL(function(){return f.I(!0)},function(g){return!!(g&&g.code=="auth/network-request-failed")},function(){var g=f.h.c-Date.now()-3e5;return 0<g?g:0})}function qW(f){f.J||f.D.b||(f.D.start(),Ps(f,"tokenChanged",f.ba),_a(f,"tokenChanged",f.ba))}function iN(f){Ps(f,"tokenChanged",f.ba),f.D.stop()}function oN(f,g){f.Aa=g,Xe(f,"_lat",g)}function jpe(f,g){ue(f.W,function(y){return y==g})}function ld(f){for(var g=[],y=0;y<f.W.length;y++)g.push(f.W[y](f));return uH(g).then(function(){return f})}function P0(f){f.b&&!f.P&&(f.P=!0,jw(f.b,f))}function zW(f,g){No(f,{uid:g.uid,displayName:g.displayName||null,photoURL:g.photoURL||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,isAnonymous:g.isAnonymous||!1,tenantId:g.tenantId||null,metadata:new $w(g.createdAt,g.lastLoginAt),providerData:[]}),f.a.b=f.tenantId}Xe(Fs.prototype,"providerId","firebase");function GW(){}function sN(f){return ht().then(function(){if(f.J)throw new L("app-deleted")})}function aN(f){return qn(f.providerData,function(g){return g.providerId})}function uN(f,g){g&&($W(f,g.providerId),f.providerData.push(g))}function $W(f,g){ue(f.providerData,function(y){return y.providerId==g})}function ef(f,g,y){(g!="uid"||y)&&f.hasOwnProperty(g)&&Xe(f,g,y)}function Kw(f,g){f!=g&&(No(f,{uid:g.uid,displayName:g.displayName,photoURL:g.photoURL,email:g.email,emailVerified:g.emailVerified,phoneNumber:g.phoneNumber,isAnonymous:g.isAnonymous,tenantId:g.tenantId,providerData:[]}),g.metadata?Xe(f,"metadata",Vpe(g.metadata)):Xe(f,"metadata",new $w),Ht(g.providerData,function(y){uN(f,y)}),Bpe(f.h,g.h),Xe(f,"refreshToken",f.h.a),Gw(f.S,g.S.b))}n=Fs.prototype,n.reload=function(){var f=this;return Qr(this,sN(this).then(function(){return lN(f).then(function(){return ld(f)}).then(GW)}))};function lN(f){return f.I().then(function(g){var y=f.isAnonymous;return qpe(f,g).then(function(){return y||ef(f,"isAnonymous",!1),g})})}n.oc=function(f){return this.I(f).then(function(g){return new kpe(g)})},n.I=function(f){var g=this;return Qr(this,sN(this).then(function(){return g.h.getToken(f)}).then(function(y){if(!y)throw new L("internal-error");return y.accessToken!=g.Aa&&(oN(g,y.accessToken),g.dispatchEvent(new jg("tokenChanged"))),ef(g,"refreshToken",y.refreshToken),y.accessToken}))};function Bu(f,g){g[za]&&f.Aa!=g[za]&&(jW(f.h,g),f.dispatchEvent(new jg("tokenChanged")),oN(f,g[za]),ef(f,"refreshToken",f.h.a))}function qpe(f,g){return Xt(f.a,Tde,{idToken:g}).then(S(f.Kc,f))}n.Kc=function(f){if(f=f.users,!f||!f.length)throw new L("internal-error");f=f[0],zW(this,{uid:f.localId,displayName:f.displayName,photoURL:f.photoUrl,email:f.email,emailVerified:!!f.emailVerified,phoneNumber:f.phoneNumber,lastLoginAt:f.lastLoginAt,createdAt:f.createdAt,tenantId:f.tenantId});for(var g=zpe(f),y=0;y<g.length;y++)uN(this,g[y]);ef(this,"isAnonymous",!(this.email&&f.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new jg("userReloaded",{hd:f}))};function zpe(f){return(f=f.providerUserInfo)&&f.length?qn(f,function(g){return new Wpe(g.rawId,g.providerId,g.email,g.displayName,g.photoUrl,g.phoneNumber)}):[]}n.Lc=function(f){return Ox("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(f)},n.ub=function(f){var g=this,y=null;return Qr(this,f.c(this.a,this.uid).then(function(w){return Bu(g,w),y=M0(g,w,"reauthenticate"),g.i=null,g.reload()}).then(function(){return y}),!0)};function Yw(f,g){return lN(f).then(function(){if(Z(aN(f),g))return ld(f).then(function(){throw new L("provider-already-linked")})})}n.Cc=function(f){return Ox("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(f)},n.rb=function(f){var g=this,y=null;return Qr(this,Yw(this,f.providerId).then(function(){return g.I()}).then(function(w){return f.b(g.a,w)}).then(function(w){return y=M0(g,w,"link"),KW(g,w)}).then(function(){return y}))},n.Dc=function(f,g){var y=this;return Qr(this,Yw(this,"phone").then(function(){return zL(rN(y),f,g,S(y.rb,y))}))},n.Mc=function(f,g){var y=this;return Qr(this,ht().then(function(){return zL(rN(y),f,g,S(y.ub,y))}),!0)};function M0(f,g,y){var w=Qx(g);return g=cV(g),Mu({user:f,credential:w,additionalUserInfo:g,operationType:y})}function KW(f,g){return Bu(f,g),f.reload().then(function(){return f})}n.Cb=function(f){var g=this;return Qr(this,this.I().then(function(y){return g.a.Cb(y,f)}).then(function(y){return Bu(g,y),g.reload()}))},n.ed=function(f){var g=this;return Qr(this,this.I().then(function(y){return f.b(g.a,y)}).then(function(y){return Bu(g,y),g.reload()}))},n.Db=function(f){var g=this;return Qr(this,this.I().then(function(y){return g.a.Db(y,f)}).then(function(y){return Bu(g,y),g.reload()}))},n.Eb=function(f){if(f.displayName===void 0&&f.photoURL===void 0)return sN(this);var g=this;return Qr(this,this.I().then(function(y){return g.a.Eb(y,{displayName:f.displayName,photoUrl:f.photoURL})}).then(function(y){return Bu(g,y),ef(g,"displayName",y.displayName||null),ef(g,"photoURL",y.photoUrl||null),Ht(g.providerData,function(w){w.providerId==="password"&&(Xe(w,"displayName",g.displayName),Xe(w,"photoURL",g.photoURL))}),ld(g)}).then(GW))},n.cd=function(f){var g=this;return Qr(this,lN(this).then(function(y){return Z(aN(g),f)?pde(g.a,y,[f]).then(function(w){var I={};return Ht(w.providerUserInfo||[],function(R){I[R.providerId]=!0}),Ht(aN(g),function(R){I[R]||$W(g,R)}),I[ql.PROVIDER_ID]||Xe(g,"phoneNumber",null),ld(g)}):ld(g).then(function(){throw new L("no-such-provider")})}))},n.delete=function(){var f=this;return Qr(this,this.I().then(function(g){return Xt(f.a,yde,{idToken:g})}).then(function(){f.dispatchEvent(new jg("userDeleted"))})).then(function(){for(var g=0;g<f.N.length;g++)f.N[g].cancel("app-deleted");eN(f,null),tN(f,null),nN(f,null),f.N=[],f.J=!0,iN(f),Xe(f,"refreshToken",null),f.b&&VL(f.b,f)})},n.Gb=function(f,g){return!!(f=="linkViaPopup"&&(this.g||null)==g&&this.f||f=="reauthViaPopup"&&(this.g||null)==g&&this.f||f=="linkViaRedirect"&&(this.ga||null)==g||f=="reauthViaRedirect"&&(this.ga||null)==g)},n.na=function(f,g,y,w){f!="linkViaPopup"&&f!="reauthViaPopup"||w!=(this.g||null)||(y&&this.C?this.C(y):g&&!y&&this.f&&this.f(g),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(f,g){return f=="linkViaPopup"&&g==(this.g||null)?S(this.Lb,this):f=="reauthViaPopup"&&g==(this.g||null)?S(this.Mb,this):f=="linkViaRedirect"&&(this.ga||null)==g?S(this.Lb,this):f=="reauthViaRedirect"&&(this.ga||null)==g?S(this.Mb,this):null},n.Ec=function(f){var g=this;return YW(this,"linkViaPopup",f,function(){return Yw(g,f.providerId).then(function(){return ld(g)})},!1)},n.Nc=function(f){return YW(this,"reauthViaPopup",f,function(){return ht()},!0)};function YW(f,g,y,w,I){if(!Zh())return nr(new L("operation-not-supported-in-this-environment"));if(f.i&&!I)return nr(f.i);var R=zx(y.providerId),M=Jh(f.uid+":::"),z=null;(!h0()||Ix())&&f.s&&y.isOAuthProvider&&(z=x0(f.s,f.l,f.m,g,y,null,M,tt.SDK_VERSION||null,null,null,f.tenantId,f.u));var le=BH(z,R&&R.va,R&&R.ua);return w=w().then(function(){if(QW(f),!I)return f.I().then(function(){})}).then(function(){return xW(f.b,le,g,y,M,!!z,f.tenantId)}).then(function(){return new Gt(function(ye,Ct){f.na(g,null,new L("cancelled-popup-request"),f.g||null),f.f=ye,f.C=Ct,f.g=M,f.c=NW(f.b,f,g,le,M)})}).then(function(ye){return le&&Qh(le),ye?Mu(ye):null}).o(function(ye){throw le&&Qh(le),ye}),Qr(f,w,I)}n.Fc=function(f){var g=this;return XW(this,"linkViaRedirect",f,function(){return Yw(g,f.providerId)},!1)},n.Oc=function(f){return XW(this,"reauthViaRedirect",f,function(){return ht()},!0)};function XW(f,g,y,w,I){if(!Zh())return nr(new L("operation-not-supported-in-this-environment"));if(f.i&&!I)return nr(f.i);var R=null,M=Jh(f.uid+":::");return w=w().then(function(){if(QW(f),!I)return f.I().then(function(){})}).then(function(){return f.ga=M,ld(f)}).then(function(z){return f.ha&&(z=f.ha,z=z.b.set(cN,f.w(),z.a)),z}).then(function(){return LW(f.b,g,y,M,f.tenantId)}).o(function(z){if(R=z,f.ha)return JW(f.ha);throw R}).then(function(){if(R)throw R}),Qr(f,w,I)}function QW(f){if(!f.b||!f.P)throw f.b&&!f.P?new L("internal-error"):new L("auth-domain-config-required")}n.Lb=function(f,g,y,w){var I=this;this.c&&(this.c.cancel(),this.c=null);var R=null;return y=this.I().then(function(M){return _L(I.a,{requestUri:f,postBody:w,sessionId:g,idToken:M})}).then(function(M){return R=M0(I,M,"link"),KW(I,M)}).then(function(){return R}),Qr(this,y)},n.Mb=function(f,g,y,w){var I=this;this.c&&(this.c.cancel(),this.c=null);var R=null,M=ht().then(function(){return Fg(yL(I.a,{requestUri:f,sessionId:g,postBody:w,tenantId:y}),I.uid)}).then(function(z){return R=M0(I,z,"reauthenticate"),Bu(I,z),I.i=null,I.reload()}).then(function(){return R});return Qr(this,M,!0)},n.vb=function(f){var g=this,y=null;return Qr(this,this.I().then(function(w){return y=w,typeof f>"u"||Rs(f)?{}:vw(new gw(f))}).then(function(w){return g.a.vb(y,w)}).then(function(w){if(g.email!=w)return g.reload()}).then(function(){}))},n.Fb=function(f,g){var y=this,w=null;return Qr(this,this.I().then(function(I){return w=I,typeof g>"u"||Rs(g)?{}:vw(new gw(g))}).then(function(I){return y.a.Fb(w,f,I)}).then(function(I){if(y.email!=I)return y.reload()}).then(function(){}))};function Qr(f,g,y){var w=Gpe(f,g,y);return f.N.push(w),w.oa(function(){ie(f.N,w)}),w.o(function(I){var R=null;throw I&&I.code==="auth/multi-factor-auth-required"&&(R=HW(I.w(),rN(f),S(f.jc,f))),R||I})}n.jc=function(f){var g=null,y=this;return f=Fg(ht(f),y.uid).then(function(w){return g=M0(y,w,"reauthenticate"),Bu(y,w),y.i=null,y.reload()}).then(function(){return g}),Qr(this,f,!0)};function Gpe(f,g,y){return f.i&&!y?(g.cancel(),nr(f.i)):g.o(function(w){throw!w||w.code!="auth/user-disabled"&&w.code!="auth/user-token-expired"||(f.i||f.dispatchEvent(new jg("userInvalidated")),f.i=w),w})}n.toJSON=function(){return this.w()},n.w=function(){var f={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Qn(f,this.metadata.w()),Ht(this.providerData,function(g){f.providerData.push(mhe(g))}),Qn(f,this.S.w()),f};function ZW(f){if(!f.apiKey)return null;var g={apiKey:f.apiKey,authDomain:f.authDomain,appName:f.appName,emulatorConfig:f.emulatorConfig},y={};if(f.stsTokenManager&&f.stsTokenManager.accessToken){y[za]=f.stsTokenManager.accessToken,y.refreshToken=f.stsTokenManager.refreshToken||null;var w=f.stsTokenManager.expirationTime;w&&(y.expiresIn=(w-Date.now())/1e3)}else return null;var I=new Fs(g,y,f);return f.providerData&&Ht(f.providerData,function(R){R&&uN(I,Mu(R))}),f.redirectEventId&&(I.ga=f.redirectEventId),I}function $pe(f,g,y,w){var I=new Fs(f,g);return y&&(I.ha=y),w&&R0(I,w),I.reload().then(function(){return I})}function Kpe(f,g,y,w){var I=f.h,R={};return R[za]=I.b&&I.b.toString(),R.refreshToken=I.a,g=new Fs(g||{apiKey:f.l,authDomain:f.s,appName:f.m},R),y&&(g.ha=y),w&&R0(g,w),Kw(g,f),g}function Ype(f){this.a=f,this.b=k0()}var cN={name:"redirectUser",F:"session"};function JW(f){return Ug(f.b,cN,f.a)}function Xpe(f,g){return f.b.get(cN,f.a).then(function(y){return y&&g&&(y.authDomain=g),ZW(y||{})})}function fN(f){this.a=f,this.b=k0(),this.c=null,this.f=Qpe(this),this.b.addListener(Hu("local"),this.a,S(this.g,this))}fN.prototype.g=function(){var f=this,g=Hu("local");qg(this,function(){return ht().then(function(){return f.c&&f.c.F!="local"?f.b.get(g,f.a):null}).then(function(y){if(y)return hN(f,"local").then(function(){f.c=g})})})};function hN(f,g){var y=[],w;for(w in Vg)Vg[w]!==g&&y.push(Ug(f.b,Hu(Vg[w]),f.a));return y.push(Ug(f.b,dN,f.a)),Vfe(y)}function Qpe(f){var g=Hu("local"),y=Hu("session"),w=Hu("none");return hpe(f.b,g,f.a).then(function(){return f.b.get(y,f.a)}).then(function(I){return I?y:f.b.get(w,f.a).then(function(R){return R?w:f.b.get(g,f.a).then(function(M){return M?g:f.b.get(dN,f.a).then(function(z){return z?Hu(z):g})})})}).then(function(I){return f.c=I,hN(f,I.F)}).o(function(){f.c||(f.c=g)})}var dN={name:"persistence",F:"session"};function Hu(f){return{name:"authUser",F:f}}fN.prototype.yb=function(f){var g=null,y=this;return fpe(f),qg(this,function(){return f!=y.c.F?y.b.get(y.c,y.a).then(function(w){return g=w,hN(y,f)}).then(function(){if(y.c=Hu(f),g)return y.b.set(y.c,g,y.a)}):ht()})};function Zpe(f){return qg(f,function(){return f.b.set(dN,f.c.F,f.a)})}function eU(f,g){return qg(f,function(){return f.b.set(f.c,g.w(),f.a)})}function tU(f){return qg(f,function(){return Ug(f.b,f.c,f.a)})}function nU(f,g,y){return qg(f,function(){return f.b.get(f.c,f.a).then(function(w){return w&&g&&(w.authDomain=g),w&&y&&(w.emulatorConfig=y),ZW(w||{})})})}function qg(f,g){return f.f=f.f.then(g,g),f.f}function Ga(f){if(this.l=!1,Xe(this,"settings",new MW),Xe(this,"app",f),Rn(this).options&&Rn(this).options.apiKey)f=tt.SDK_VERSION?kg(tt.SDK_VERSION):null,this.a=new qa(Rn(this).options&&Rn(this).options.apiKey,$(ee),f);else throw new L("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=tt.INTERNAL.createSubscribe(S(this.zc,this)),this.W=void 0,this.ib=tt.INTERNAL.createSubscribe(S(this.Ac,this)),zg(this,null),this.i=new fN(Rn(this).options.apiKey+":"+Rn(this).name),this.D=new Ype(Rn(this).options.apiKey+":"+Rn(this).name),this.$=gr(this,ige(this)),this.h=gr(this,oge(this)),this.ba=!1,this.ja=S(this.Zc,this),this.Ba=S(this.da,this),this.qa=S(this.mc,this),this.za=S(this.wc,this),this.Aa=S(this.xc,this),this.b=null,tge(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.Gc,this),this.u=0,Lo.call(this),ege(this),this.J=[],this.R=null}k(Ga,Lo);function rU(f){cs.call(this,"languageCodeChanged"),this.h=f}k(rU,cs);function iU(f){cs.call(this,"emulatorConfigChanged"),this.c=f}k(iU,cs);function oU(f){cs.call(this,"frameworkChanged"),this.f=f}k(oU,cs),n=Ga.prototype,n.yb=function(f){return f=this.i.yb(f),gr(this,f)},n.xa=function(f){this.aa===f||this.l||(this.aa=f,HV(this.a,this.aa),this.dispatchEvent(new rU(this.la())))},n.la=function(){return this.aa},n.fd=function(){var f=u.navigator;this.xa(f&&(f.languages&&f.languages[0]||f.language||f.userLanguage)||null)},n.gd=function(f,g){if(!this.R){if(!/^https?:\/\//.test(f))throw new L("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");g=g?!!g.disableWarnings:!1,Jpe(g),this.R={url:f,ec:g},this.settings.jb=!0,Pw(this.a,this.R),this.dispatchEvent(new iU(this.R))}};function Jpe(f){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!f&&hw().then(function(){var g=u.document.createElement("div");g.innerText="Running in emulator mode. Do not use with production credentials.",g.style.position="fixed",g.style.width="100%",g.style.backgroundColor="#ffffff",g.style.border=".1em solid #000000",g.style.color="#b50000",g.style.bottom="0px",g.style.left="0px",g.style.margin="0px",g.style.zIndex=1e4,g.style.textAlign="center",g.classList.add("firebase-emulator-warning"),u.document.body.appendChild(g)})}n.Gc=function(f){this.J.push(f),VV(this.a,tt.SDK_VERSION?kg(tt.SDK_VERSION,this.J):null),this.dispatchEvent(new oU(this.J))},n.Ga=function(){return Se(this.J)},n.zb=function(f){this.S===f||this.l||(this.S=f,this.a.b=this.S)},n.T=function(){return this.S};function ege(f){Object.defineProperty(f,"lc",{get:function(){return this.la()},set:function(g){this.xa(g)},enumerable:!1}),f.aa=null,Object.defineProperty(f,"ti",{get:function(){return this.T()},set:function(g){this.zb(g)},enumerable:!1}),f.S=null,Object.defineProperty(f,"emulatorConfig",{get:function(){if(this.R){var g=fs(this.R.url);g=Mu({protocol:g.c,host:g.a,port:g.g,options:Mu({disableWarnings:this.R.ec})})}else g=null;return g},enumerable:!1})}n.toJSON=function(){return{apiKey:Rn(this).options.apiKey,authDomain:Rn(this).options.authDomain,appName:Rn(this).name,currentUser:Rt(this)&&Rt(this).w()}};function pN(f){return f.Oa||nr(new L("auth-domain-config-required"))}function tge(f){var g=Rn(f).options.authDomain,y=Rn(f).options.apiKey;g&&Zh()&&(f.Oa=f.$.then(function(){if(!f.l){if(f.b=jL(g,y,Rn(f).name,f.R),jw(f.b,f),Rt(f)&&P0(Rt(f)),f.m){P0(f.m);var w=f.m;w.xa(f.la()),eN(w,f),w=f.m,R0(w,f.J),nN(w,f),w=f.m,JL(w,f.R),tN(w,f),f.m=null}return f.b}}))}n.Gb=function(f,g){switch(f){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==g&&!!this.f;default:return!1}},n.na=function(f,g,y,w){f=="signInViaPopup"&&this.g==w&&(y&&this.C?this.C(y):g&&!y&&this.f&&this.f(g),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(f,g){return f=="signInViaRedirect"||f=="signInViaPopup"&&this.g==g&&this.f?S(this.ic,this):null},n.ic=function(f,g,y,w){var I=this,R={requestUri:f,postBody:w,sessionId:g,tenantId:y};return this.c&&(this.c.cancel(),this.c=null),I.$.then(function(){return cd(I,mL(I.a,R))})},n.Xc=function(f){if(!Zh())return nr(new L("operation-not-supported-in-this-environment"));var g=this,y=zx(f.providerId),w=Jh(),I=null;(!h0()||Ix())&&Rn(this).options.authDomain&&f.isOAuthProvider&&(I=x0(Rn(this).options.authDomain,Rn(this).options.apiKey,Rn(this).name,"signInViaPopup",f,null,w,tt.SDK_VERSION||null,null,null,this.T(),this.R));var R=BH(I,y&&y.va,y&&y.ua);return y=pN(this).then(function(M){return xW(M,R,"signInViaPopup",f,w,!!I,g.T())}).then(function(){return new Gt(function(M,z){g.na("signInViaPopup",null,new L("cancelled-popup-request"),g.g),g.f=M,g.C=z,g.g=w,g.c=NW(g.b,g,"signInViaPopup",R,w)})}).then(function(M){return R&&Qh(R),M?Mu(M):null}).o(function(M){throw R&&Qh(R),M}),gr(this,y)},n.Yc=function(f){if(!Zh())return nr(new L("operation-not-supported-in-this-environment"));var g=this,y=pN(this).then(function(){return Zpe(g.i)}).then(function(){return LW(g.b,"signInViaRedirect",f,void 0,g.T())});return gr(this,y)};function sU(f){if(!Zh())return nr(new L("operation-not-supported-in-this-environment"));var g=pN(f).then(function(){return f.b.ra()}).then(function(y){return y?Mu(y):null});return gr(f,g)}n.ra=function(){var f=this;return sU(this).then(function(g){return f.b&&zw(f.b.b),g}).o(function(g){throw f.b&&zw(f.b.b),g})},n.dd=function(f){if(!f)return nr(new L("null-user"));if(this.S!=f.tenantId)return nr(new L("tenant-id-mismatch"));var g=this,y={};y.apiKey=Rn(this).options.apiKey,y.authDomain=Rn(this).options.authDomain,y.appName=Rn(this).name;var w=Kpe(f,y,g.D,g.Ga());return gr(this,this.h.then(function(){if(Rn(g).options.apiKey!=f.l)return w.reload()}).then(function(){return Rt(g)&&f.uid==Rt(g).uid?(Kw(Rt(g),f),g.da(f)):(zg(g,w),P0(w),g.da(w))}).then(function(){F0(g)}))};function nge(f,g){var y={};return y.apiKey=Rn(f).options.apiKey,y.authDomain=Rn(f).options.authDomain,y.appName=Rn(f).name,f.R&&(y.emulatorConfig=f.R),f.$.then(function(){return $pe(y,g,f.D,f.Ga())}).then(function(w){return Rt(f)&&w.uid==Rt(f).uid?(Kw(Rt(f),w),f.da(w)):(zg(f,w),P0(w),f.da(w))}).then(function(){F0(f)})}function zg(f,g){Rt(f)&&(jpe(Rt(f),f.Ba),Ps(Rt(f),"tokenChanged",f.qa),Ps(Rt(f),"userDeleted",f.za),Ps(Rt(f),"userInvalidated",f.Aa),iN(Rt(f))),g&&(g.W.push(f.Ba),_a(g,"tokenChanged",f.qa),_a(g,"userDeleted",f.za),_a(g,"userInvalidated",f.Aa),0<f.u&&qW(g)),Xe(f,"currentUser",g),g&&(g.xa(f.la()),eN(g,f),R0(g,f.J),nN(g,f),JL(g,f.R),tN(g,f))}n.Bb=function(){var f=this,g=this.h.then(function(){return f.b&&zw(f.b.b),Rt(f)?(zg(f,null),tU(f.i).then(function(){F0(f)})):ht()});return gr(this,g)};function rge(f){var g=Xpe(f.D,Rn(f).options.authDomain).then(function(y){return(f.m=y)&&(y.ha=f.D),JW(f.D)});return gr(f,g)}function ige(f){var g=Rn(f).options.authDomain,y=rge(f).then(function(){return nU(f.i,g,f.R)}).then(function(w){return w?(w.ha=f.D,f.m&&(f.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return eU(f.i,w).then(function(){return w})}).o(function(I){return I.code=="auth/network-request-failed"?w:tU(f.i)})):null}).then(function(w){zg(f,w||null)});return gr(f,y)}function oge(f){return f.$.then(function(){return sU(f)}).o(function(){}).then(function(){if(!f.l)return f.ja()}).o(function(){}).then(function(){if(!f.l){f.ba=!0;var g=f.i;g.b.addListener(Hu("local"),g.a,f.ja)}})}n.Zc=function(){var f=this;return nU(this.i,Rn(this).options.authDomain).then(function(g){if(!f.l){var y;if(y=Rt(f)&&g){y=Rt(f).uid;var w=g.uid;y=y==null||y===""||w===void 0||w===null||w===""?!1:y==w}if(y)return Kw(Rt(f),g),Rt(f).I();(Rt(f)||g)&&(zg(f,g),g&&(P0(g),g.ha=f.D),f.b&&jw(f.b,f),F0(f))}})},n.da=function(f){return eU(this.i,f)},n.mc=function(){F0(this),this.da(Rt(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()};function cd(f,g){var y=null,w=null;return gr(f,g.then(function(I){return y=Qx(I),w=cV(I),nge(f,I)},function(I){var R=null;throw I&&I.code==="auth/multi-factor-auth-required"&&(R=HW(I.w(),f,S(f.kc,f))),R||I}).then(function(){return Mu({user:Rt(f),credential:y,additionalUserInfo:w,operationType:"signIn"})}))}n.kc=function(f){var g=this;return this.h.then(function(){return cd(g,ht(f))})},n.zc=function(f){var g=this;this.addAuthTokenListener(function(){f.next(Rt(g))})},n.Ac=function(f){var g=this;sge(this,function(){f.next(Rt(g))})},n.Ic=function(f,g,y){var w=this;return this.ba&&Promise.resolve().then(function(){typeof f=="function"?f(Rt(w)):typeof f.next=="function"&&f.next(Rt(w))}),this.Pa(f,g,y)},n.Hc=function(f,g,y){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),typeof f=="function"?f(Rt(w)):typeof f.next=="function"&&f.next(Rt(w))}),this.ib(f,g,y)},n.nc=function(f){var g=this,y=this.h.then(function(){return Rt(g)?Rt(g).I(f).then(function(w){return{accessToken:w}}):null});return gr(this,y)},n.Tc=function(f){var g=this;return this.h.then(function(){return cd(g,Xt(g.a,Vde,{token:f}))}).then(function(y){var w=y.user;return ef(w,"isAnonymous",!1),g.da(w),y})},n.Uc=function(f,g){var y=this;return this.h.then(function(){return cd(y,Xt(y.a,YV,{email:f,password:g}))})},n.dc=function(f,g){var y=this;return this.h.then(function(){return cd(y,Xt(y.a,mde,{email:f,password:g}))})},n.ab=function(f){var g=this;return this.h.then(function(){return cd(g,f.ka(g.a))})},n.Sc=function(f){return Ox("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(f)},n.Ab=function(){var f=this;return this.h.then(function(){var g=Rt(f);if(g&&g.isAnonymous){var y=Mu({providerId:null,isNewUser:!1});return Mu({user:g,credential:null,additionalUserInfo:y,operationType:"signIn"})}return cd(f,f.a.Ab()).then(function(w){var I=w.user;return ef(I,"isAnonymous",!0),f.da(I),w})})};function Rn(f){return f.app}function Rt(f){return f.currentUser}n.getUid=function(){return Rt(this)&&Rt(this).uid||null};function Xw(f){return Rt(f)&&Rt(f)._lat||null}function F0(f){if(f.ba){for(var g=0;g<f.s.length;g++)f.s[g]&&f.s[g](Xw(f));if(f.W!==f.getUid()&&f.N.length)for(f.W=f.getUid(),g=0;g<f.N.length;g++)f.N[g]&&f.N[g](Xw(f))}}n.cc=function(f){this.addAuthTokenListener(f),this.u++,0<this.u&&Rt(this)&&qW(Rt(this))},n.Pc=function(f){var g=this;Ht(this.s,function(y){y==f&&g.u--}),0>this.u&&(this.u=0),this.u==0&&Rt(this)&&iN(Rt(this)),this.removeAuthTokenListener(f)},n.addAuthTokenListener=function(f){var g=this;this.s.push(f),gr(this,this.h.then(function(){g.l||Z(g.s,f)&&f(Xw(g))}))},n.removeAuthTokenListener=function(f){ue(this.s,function(g){return g==f})};function sge(f,g){f.N.push(g),gr(f,f.h.then(function(){!f.l&&Z(f.N,g)&&f.W!==f.getUid()&&(f.W=f.getUid(),g(Xw(f)))}))}n.delete=function(){this.l=!0;for(var f=0;f<this.P.length;f++)this.P[f].cancel("app-deleted");return this.P=[],this.i&&(f=this.i,f.b.removeListener(Hu("local"),f.a,this.ja)),this.b&&(VL(this.b,this),zw(this.b.b)),Promise.resolve()};function gr(f,g){return f.P.push(g),g.oa(function(){ie(f.P,g)}),g}n.hc=function(f){return gr(this,ude(this.a,f))},n.Bc=function(f){return!!Xx(f)},n.xb=function(f,g){var y=this;return gr(this,ht().then(function(){var w=new gw(g);if(!w.c)throw new L("argument-error",jx+" must be true when sending sign in link to email");return vw(w)}).then(function(w){return y.a.xb(f,w)}).then(function(){}))},n.jd=function(f){return this.Sa(f).then(function(g){return g.data.email})},n.ob=function(f,g){return gr(this,this.a.ob(f,g).then(function(){}))},n.Sa=function(f){return gr(this,this.a.Sa(f).then(function(g){return new yhe(g)}))},n.kb=function(f){return gr(this,this.a.kb(f).then(function(){}))},n.wb=function(f,g){var y=this;return gr(this,ht().then(function(){return typeof g>"u"||Rs(g)?{}:vw(new gw(g))}).then(function(w){return y.a.wb(f,w)}).then(function(){}))},n.Wc=function(f,g){return gr(this,zL(this,f,g,S(this.ab,this)))},n.Vc=function(f,g){var y=this;return gr(this,ht().then(function(){var w=g||f0(),I=wV(f,w);if(w=Xx(w),!w)throw new L("argument-error","Invalid email link!");if(w.tenantId!==y.T())throw new L("tenant-id-mismatch");return y.ab(I)}))};function B0(){}B0.prototype.render=function(){},B0.prototype.reset=function(){},B0.prototype.getResponse=function(){},B0.prototype.execute=function(){};function Gg(){this.a={},this.b=1e12}var gN=null;Gg.prototype.render=function(f,g){return this.a[this.b.toString()]=new Qw(f,g),this.b++},Gg.prototype.reset=function(f){var g=vN(this,f);f=aU(f),g&&f&&(g.delete(),delete this.a[f])},Gg.prototype.getResponse=function(f){return(f=vN(this,f))?f.getResponse():null},Gg.prototype.execute=function(f){(f=vN(this,f))&&f.execute()};function vN(f,g){return(g=aU(g))&&f.a[g]||null}function aU(f){return(f=typeof f>"u"?1e12:f)?f.toString():null}function Qw(f,g){this.g=!1,this.c=g,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=i0(f);var y=this;this.i=function(){y.execute()},this.h?this.execute():_a(this.f,"click",this.i)}Qw.prototype.getResponse=function(){return mN(this),this.b},Qw.prototype.execute=function(){mN(this);var f=this;this.a||(this.a=setTimeout(function(){f.b=dhe();var g=f.c.callback,y=f.c["expired-callback"];if(g)try{g(f.b)}catch{}f.a=setTimeout(function(){if(f.a=null,f.b=null,y)try{y()}catch{}f.h&&f.execute()},6e4)},500))},Qw.prototype.delete=function(){mN(this),this.g=!0,clearTimeout(this.a),this.a=null,Ps(this.f,"click",this.i)};function mN(f){if(f.g)throw Error("reCAPTCHA mock was already deleted!")}function _N(){}Xe(_N,"FACTOR_ID","phone");function yN(){}yN.prototype.g=function(){return gN||(gN=new Gg),ht(gN)},yN.prototype.c=function(){};var bN=null;function CN(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var age=new ku(JC,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),uge=new Qc(3e4,6e4);CN.prototype.g=function(f){var g=this;return new Gt(function(y,w){var I=setTimeout(function(){w(new L("network-request-failed"))},uge.get());if(!u.grecaptcha||f!==g.f&&!g.b){u[g.a]=function(){if(u.grecaptcha){g.f=f;var M=u.grecaptcha.render;u.grecaptcha.render=function(z,le){return z=M(z,le),g.b++,z},clearTimeout(I),y(u.grecaptcha)}else clearTimeout(I),w(new L("internal-error"));delete u[g.a]};var R=nx(age,{onload:g.a,hl:f||""});ht(cL(R)).o(function(){clearTimeout(I),w(new L("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(I),y(u.grecaptcha)})},CN.prototype.c=function(){this.b--};var wN=null;function EN(f,g,y,w,I,R,M){if(Xe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=g,this.g=null,M?(bN||(bN=new yN),M=bN):(wN||(wN=new CN),M=wN),this.m=M,this.a=y||{theme:"light",type:"image"},this.h=[],this.a[cU])throw new L("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[lge]==="invisible",!u.document)throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!i0(g)||!this.i&&i0(g).hasChildNodes())throw new L("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qa(f,R||null,I||null),this.u=w||function(){return null};var z=this;this.l=[];var le=this.a[uU];this.a[uU]=function(Ct){if(fU(z,Ct),typeof le=="function")le(Ct);else if(typeof le=="string"){var An=rr(le,u);typeof An=="function"&&An(Ct)}};var ye=this.a[lU];this.a[lU]=function(){if(fU(z,null),typeof ye=="function")ye();else if(typeof ye=="string"){var Ct=rr(ye,u);typeof Ct=="function"&&Ct()}}}var uU="callback",lU="expired-callback",cU="sitekey",lge="size";function fU(f,g){for(var y=0;y<f.l.length;y++)try{f.l[y](g)}catch{}}function cge(f,g){ue(f.l,function(y){return y==g})}function SN(f,g){return f.h.push(g),g.oa(function(){ie(f.h,g)}),g}n=EN.prototype,n.Ia=function(){var f=this;return this.f?this.f:this.f=SN(this,ht().then(function(){if(dw()&&!Ua())return hw();throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return f.m.g(f.u())}).then(function(g){return f.g=g,Xt(f.s,Nde,{})}).then(function(g){f.a[cU]=g.recaptchaSiteKey}).o(function(g){throw f.f=null,g}))},n.render=function(){Zw(this);var f=this;return SN(this,this.Ia().then(function(){if(f.c===null){var g=f.v;if(!f.i){var y=i0(g);g=Mfe("DIV"),y.appendChild(g)}f.c=f.g.render(g,f.a)}return f.c}))},n.verify=function(){Zw(this);var f=this;return SN(this,this.render().then(function(g){return new Gt(function(y){var w=f.g.getResponse(g);if(w)y(w);else{var I=function(R){R&&(cge(f,I),y(R))};f.l.push(I),f.i&&f.g.execute(f.c)}})}))},n.reset=function(){Zw(this),this.c!==null&&this.g.reset(this.c)};function Zw(f){if(f.J)throw new L("internal-error","RecaptchaVerifier instance has been destroyed.")}n.clear=function(){Zw(this),this.J=!0,this.m.c();for(var f=0;f<this.h.length;f++)this.h[f].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){f=i0(this.v);for(var g;g=f.firstChild;)f.removeChild(g)}};function TN(f,g,y){var w=!1;try{this.b=y||tt.app()}catch{throw new L("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)y=this.b.options.apiKey;else throw new L("invalid-api-key");var I=this,R=null;try{R=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}R=tt.SDK_VERSION?kg(tt.SDK_VERSION,R):null,EN.call(this,y,f,g,function(){try{var M=I.b.auth().la()}catch{M=null}return M},R,$(ee),w)}k(TN,EN);function hU(f,g,y,w){e:{y=Array.prototype.slice.call(y);for(var I=0,R=!1,M=0;M<g.length;M++)if(g[M].optional)R=!0;else{if(R)throw new L("internal-error","Argument validator encountered a required argument after an optional argument.");I++}if(R=g.length,y.length<I||R<y.length)w="Expected "+(I==R?I==1?"1 argument":I+" arguments":I+"-"+R+" arguments")+" but got "+y.length+".";else{for(I=0;I<y.length;I++)if(R=g[I].optional&&y[I]===void 0,!g[I].M(y[I])&&!R){if(g=g[I],0>I||I>=dU.length)throw new L("internal-error","Argument validator received an unsupported number of arguments.");y=dU[I],w=(w?"":y+" argument ")+(g.name?'"'+g.name+'" ':"")+"must be "+g.K+".";break e}w=null}}if(w)throw new L("argument-error",f+" failed: "+w)}var dU="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ge(f,g){return{name:f||"",K:"a valid string",optional:!!g,M:function(y){return typeof y=="string"}}}function DN(f,g){return{name:f||"",K:"a boolean",optional:!!g,M:function(y){return typeof y=="boolean"}}}function Fr(f,g){return{name:f||"",K:"a valid object",optional:!!g,M:_}}function $g(f,g){return{name:f||"",K:"a function",optional:!!g,M:function(y){return typeof y=="function"}}}function Vu(f,g){return{name:f||"",K:"null",optional:!!g,M:function(y){return y===null}}}function fge(){return{name:"",K:"an HTML element",optional:!1,M:function(f){return!!(f&&f instanceof Element)}}}function hge(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(f){return!!(f&&f instanceof Ga)}}}function dge(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(f){return!!(f&&f instanceof tt.app.App)}}}function tf(f){return{name:f?f+"Credential":"credential",K:f?"a valid "+f+" credential":"a valid credential",optional:!1,M:function(g){if(!g)return!1;var y=!f||g.providerId===f;return!(!g.ka||!y)}}}function pU(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(f){return f?!!f.tb:!1}}}function Kg(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(f){return!!(f&&f.providerId&&f.hasOwnProperty&&f.hasOwnProperty("isOAuthProvider"))}}}function AN(f,g){return _(f)&&typeof f.type=="string"&&f.type===g&&typeof f.Ha=="function"}function gU(f){return _(f)&&typeof f.uid=="string"}function Jw(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(f){return!(!f||typeof f.type!="string"||typeof f.verify!="function")}}}function Tr(f,g,y,w){return{name:y||"",K:f.K+" or "+g.K,optional:!!w,M:function(I){return f.M(I)||g.M(I)}}}function hr(f,g){for(var y in g){var w=g[y].name;f[w]=mU(w,f[y],g[y].j)}}function vU(f,g){for(var y in g){var w=g[y].name;w!==y&&Object.defineProperty(f,w,{get:N(function(I){return this[I]},y),set:N(function(I,R,M,z){hU(I,[M],[z],!0),this[R]=z},w,y,g[y].lb),enumerable:!0})}}function Dr(f,g,y,w){f[g]=mU(g,y,w)}function mU(f,g,y){function w(){var M=Array.prototype.slice.call(arguments);return hU(I,y,M),g.apply(this,M)}if(!y)return g;var I=pge(f),R;for(R in g)w[R]=g[R];for(R in g.prototype)w.prototype[R]=g.prototype[R];return w}function pge(f){return f=f.split("."),f[f.length-1]}hr(Ga.prototype,{kb:{name:"applyActionCode",j:[Ge("code")]},Sa:{name:"checkActionCode",j:[Ge("code")]},ob:{name:"confirmPasswordReset",j:[Ge("code"),Ge("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ge("email"),Ge("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ge("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ge("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Tr(Fr(),$g(),"nextOrObserver"),$g("opt_error",!0),$g("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Tr(Fr(),$g(),"nextOrObserver"),$g("opt_error",!0),$g("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ge("email"),Tr(Fr("opt_actionCodeSettings",!0),Vu(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ge("email"),Fr("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ge("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[tf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[tf()]},Tc:{name:"signInWithCustomToken",j:[Ge("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ge("email"),Ge("password")]},Vc:{name:"signInWithEmailLink",j:[Ge("email"),Ge("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ge("phoneNumber"),Jw()]},Xc:{name:"signInWithPopup",j:[Kg()]},Yc:{name:"signInWithRedirect",j:[Kg()]},dd:{name:"updateCurrentUser",j:[Tr(function(f){return{name:"user",K:"an instance of Firebase User",optional:!!f,M:function(g){return!!(g&&g instanceof Fs)}}}(),Vu(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ge(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ge("url"),Fr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ge("code")]}}),vU(Ga.prototype,{lc:{name:"languageCode",lb:Tr(Ge(),Vu(),"languageCode")},ti:{name:"tenantId",lb:Tr(Ge(),Vu(),"tenantId")}}),Ga.Persistence=Vg,Ga.Persistence.LOCAL="local",Ga.Persistence.SESSION="session",Ga.Persistence.NONE="none",hr(Fs.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[DN("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[DN("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[tf()]},rb:{name:"linkWithCredential",j:[tf()]},Dc:{name:"linkWithPhoneNumber",j:[Ge("phoneNumber"),Jw()]},Ec:{name:"linkWithPopup",j:[Kg()]},Fc:{name:"linkWithRedirect",j:[Kg()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[tf()]},ub:{name:"reauthenticateWithCredential",j:[tf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ge("phoneNumber"),Jw()]},Nc:{name:"reauthenticateWithPopup",j:[Kg()]},Oc:{name:"reauthenticateWithRedirect",j:[Kg()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Tr(Fr("opt_actionCodeSettings",!0),Vu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ge(null,!0)]},cd:{name:"unlink",j:[Ge("provider")]},Cb:{name:"updateEmail",j:[Ge("email")]},Db:{name:"updatePassword",j:[Ge("password")]},ed:{name:"updatePhoneNumber",j:[tf("phone")]},Eb:{name:"updateProfile",j:[Fr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ge("email"),Tr(Fr("opt_actionCodeSettings",!0),Vu(null,!0),"opt_actionCodeSettings",!0)]}}),hr(Gg.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hr(B0.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hr(Gt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),vU(MW.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:DN("appVerificationDisabledForTesting")}}),hr(qL.prototype,{confirm:{name:"confirm",j:[Ge("verificationCode")]}}),Dr(Mg,"fromJSON",function(f){f=typeof f=="string"?JSON.parse(f):f;for(var g,y=[Fhe,Bhe,Hhe,Mhe],w=0;w<y.length;w++)if(g=y[w](f))return g;return null},[Tr(Ge(),Fr(),"json")]),Dr(ba,"credential",function(f,g){return new Zc(f,g)},[Ge("email"),Ge("password")]),hr(Zc.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),hr(nd.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Fr("customOAuthParameters")]}}),Dr(nd,"credential",_V,[Tr(Ge(),Fr(),"token")]),Dr(ba,"credentialWithLink",wV,[Ge("email"),Ge("emailLink")]),hr(rd.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Fr("customOAuthParameters")]}}),Dr(rd,"credential",yV,[Tr(Ge(),Fr(),"token")]),hr(id.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Fr("customOAuthParameters")]}}),Dr(id,"credential",bV,[Tr(Ge(),Tr(Fr(),Vu()),"idToken"),Tr(Ge(),Vu(),"accessToken",!0)]),hr(Bg.prototype,{Ka:{name:"setCustomParameters",j:[Fr("customOAuthParameters")]}}),Dr(Bg,"credential",CV,[Tr(Ge(),Fr(),"token"),Ge("secret",!0)]),hr(Ms.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},credential:{name:"credential",j:[Tr(Ge(),Tr(Fr(),Vu()),"optionsOrIdToken"),Tr(Ge(),Vu(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Fr("customOAuthParameters")]}}),hr(jl.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),hr(ed.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),Dr(ql,"credential",EV,[Ge("verificationId"),Ge("verificationCode")]),hr(ql.prototype,{gb:{name:"verifyPhoneNumber",j:[Tr(Ge(),function(f,g){return{name:f||"phoneInfoOptions",K:"valid phone info options",optional:!!g,M:function(y){return y?y.session&&y.phoneNumber?AN(y.session,_0)&&typeof y.phoneNumber=="string":y.session&&y.multiFactorHint?AN(y.session,Cw)&&gU(y.multiFactorHint):y.session&&y.multiFactorUid?AN(y.session,Cw)&&typeof y.multiFactorUid=="string":y.phoneNumber?typeof y.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Jw()]}}),hr(Jc.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),hr(L.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),hr(b0.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),hr(eL.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),hr($L.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),hr(GL.prototype,{Rc:{name:"resolveSignIn",j:[pU()]}}),hr(YL.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[pU(),Ge("displayName",!0)]},bd:{name:"unenroll",j:[Tr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:gU},Ge(),"multiFactorInfoIdentifier")]}}),hr(TN.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Dr(Ux,"parseLink",eV,[Ge("link")]),Dr(_N,"assertion",function(f){return new WW(f)},[tf("phone")]),function(){if(typeof tt<"u"&&tt.INTERNAL&&tt.INTERNAL.registerComponent){var f={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pw,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Wx,VERIFY_AND_CHANGE_EMAIL:v0,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ga,AuthCredential:Mg,Error:L};Dr(f,"EmailAuthProvider",ba,[]),Dr(f,"FacebookAuthProvider",nd,[]),Dr(f,"GithubAuthProvider",rd,[]),Dr(f,"GoogleAuthProvider",id,[]),Dr(f,"TwitterAuthProvider",Bg,[]),Dr(f,"OAuthProvider",Ms,[Ge("providerId")]),Dr(f,"SAMLAuthProvider",mV,[Ge("providerId")]),Dr(f,"PhoneAuthProvider",ql,[hge()]),Dr(f,"RecaptchaVerifier",TN,[Tr(Ge(),fge(),"recaptchaContainer"),Fr("recaptchaParameters",!0),dge()]),Dr(f,"ActionCodeURL",Ux,[]),Dr(f,"PhoneMultiFactorGenerator",_N,[]),tt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(g){return g=g.getProvider("app").getImmediate(),new Ga(g)},multipleInstances:!1,serviceProps:f,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(g){g.getProvider("auth-internal").initialize()}}),tt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(g){return g=g.getProvider("auth").getImmediate(),{getUid:S(g.getUid,g),getToken:S(g.nc,g),addAuthTokenListener:S(g.cc,g),removeAuthTokenListener:S(g.Pc,g)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),tt.registerVersion("@firebase/auth","0.16.8"),tt.INTERNAL.extendNamespace({User:Fs})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w3=function(n,e){return w3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},w3(n,e)};function eje(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");w3(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Coe(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var tje=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,IB=IB||{},Et=tje||self;function dD(){}function E3(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function j2(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function nje(n){return Object.prototype.hasOwnProperty.call(n,Rk)&&n[Rk]||(n[Rk]=++rje)}var Rk="closure_uid_"+(1e9*Math.random()>>>0),rje=0;function ije(n,e,t){return n.call.apply(n.bind,arguments)}function oje(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Gi(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gi=ije:Gi=oje,Gi.apply(null,arguments)}function $E(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ji(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Hh(){this.s=this.s,this.o=this.o}var sje=0;Hh.prototype.s=!1;Hh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),sje!=0)&&nje(this)};Hh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var woe=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(var t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Eoe=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){for(var r=n.length,i=typeof n=="string"?n.split(""):n,o=0;o<r;o++)o in i&&e.call(t,i[o],o,n)};function aje(n){e:{for(var e=Jje,t=n.length,r=typeof n=="string"?n.split(""):n,i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:typeof n=="string"?n.charAt(e):n[e]}function BG(n){return Array.prototype.concat.apply([],arguments)}function xB(n){var e=n.length;if(0<e){for(var t=Array(e),r=0;r<e;r++)t[r]=n[r];return t}return[]}function pD(n){return/^[\s\xa0]*$/.test(n)}var HG=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Go(n,e){return n.indexOf(e)!=-1}function Pk(n,e){return n<e?-1:n>e?1:0}var $o;e:{var VG=Et.navigator;if(VG){var WG=VG.userAgent;if(WG){$o=WG;break e}}$o=""}function LB(n,e,t){for(var r in n)e.call(t,n[r],r,n)}function Soe(n){var e={};for(var t in n)e[t]=n[t];return e}var UG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Toe(n,e){for(var t,r,i=1;i<arguments.length;i++){r=arguments[i];for(t in r)n[t]=r[t];for(var o=0;o<UG.length;o++)t=UG[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function NB(n){return NB[" "](n),n}NB[" "]=dD;function uje(n){var e=fje;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}var lje=Go($o,"Opera"),Bm=Go($o,"Trident")||Go($o,"MSIE"),Doe=Go($o,"Edge"),S3=Doe||Bm,Aoe=Go($o,"Gecko")&&!(Go($o.toLowerCase(),"webkit")&&!Go($o,"Edge"))&&!(Go($o,"Trident")||Go($o,"MSIE"))&&!Go($o,"Edge"),cje=Go($o.toLowerCase(),"webkit")&&!Go($o,"Edge");function Ioe(){var n=Et.document;return n?n.documentMode:void 0}var gD;e:{var Mk="",Fk=function(){var n=$o;if(Aoe)return/rv:([^\);]+)(\)|;)/.exec(n);if(Doe)return/Edge\/([\d\.]+)/.exec(n);if(Bm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(cje)return/WebKit\/(\S+)/.exec(n);if(lje)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(Fk&&(Mk=Fk?Fk[1]:""),Bm){var Bk=Ioe();if(Bk!=null&&Bk>parseFloat(Mk)){gD=String(Bk);break e}}gD=Mk}var fje={};function hje(){return uje(function(){for(var n=0,e=HG(String(gD)).split("."),t=HG("9").split("."),r=Math.max(e.length,t.length),i=0;n==0&&i<r;i++){var o=e[i]||"",s=t[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;n=Pk(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Pk(o[2].length==0,s[2].length==0)||Pk(o[2],s[2]),o=o[3],s=s[3]}while(n==0)}return 0<=n})}var T3;if(Et.document&&Bm){var jG=Ioe();T3=jG||parseInt(gD,10)||void 0}else T3=void 0;var dje=T3,pje=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",dD,e),Et.removeEventListener("test",dD,e)}catch{}return n}();function vo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vo.prototype.h=function(){this.defaultPrevented=!0};function f1(n,e){if(vo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Aoe){e:{try{NB(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:gje[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&f1.Z.h.call(this)}}Ji(f1,vo);var gje={2:"touch",3:"pen",4:"mouse"};f1.prototype.h=function(){f1.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var q2="closure_listenable_"+(1e6*Math.random()|0),vje=0;function mje(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++vje,this.ca=this.fa=!1}function z2(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function G2(n){this.src=n,this.g={},this.h=0}G2.prototype.add=function(n,e,t,r,i){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var s=A3(n,e,r,i);return-1<s?(e=n[s],t||(e.fa=!1)):(e=new mje(e,this.src,o,!!r,i),e.fa=t,n.push(e)),e};function D3(n,e){var t=e.type;if(t in n.g){var r=n.g[t],i=woe(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(z2(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function A3(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==r)return i}return-1}var OB="closure_lm_"+(1e6*Math.random()|0),Hk={};function xoe(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)xoe(n,e[o],t,r,i);return null}return t=Ooe(t),n&&n[q2]?n.N(e,t,j2(r)?!!r.capture:!!r,i):_je(n,e,t,!1,r,i)}function _je(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=j2(i)?!!i.capture:!!i,a=RB(n);if(a||(n[OB]=a=new G2(n)),t=a.add(e,t,r,s,o),t.proxy)return t;if(r=yje(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pje||(i=s),i===void 0&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Noe(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function yje(){function n(t){return e.call(n.src,n.listener,t)}var e=bje;return n}function Loe(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Loe(n,e[o],t,r,i);else r=j2(r)?!!r.capture:!!r,t=Ooe(t),n&&n[q2]?(n=n.i,e=String(e).toString(),e in n.g&&(o=n.g[e],t=A3(o,t,r,i),-1<t&&(z2(o[t]),Array.prototype.splice.call(o,t,1),o.length==0&&(delete n.g[e],n.h--)))):n&&(n=RB(n))&&(e=n.g[e.toString()],n=-1,e&&(n=A3(e,t,r,i)),(t=-1<n?e[n]:null)&&kB(t))}function kB(n){if(typeof n!="number"&&n&&!n.ca){var e=n.src;if(e&&e[q2])D3(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Noe(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=RB(e))?(D3(t,n),t.h==0&&(t.src=null,e[OB]=null)):z2(n)}}}function Noe(n){return n in Hk?Hk[n]:Hk[n]="on"+n}function bje(n,e){if(n.ca)n=!0;else{e=new f1(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&kB(n),n=t.call(r,e)}return n}function RB(n){return n=n[OB],n instanceof G2?n:null}var Vk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ooe(n){return typeof n=="function"?n:(n[Vk]||(n[Vk]=function(e){return n.handleEvent(e)}),n[Vk])}function ki(){Hh.call(this),this.i=new G2(this),this.P=this,this.I=null}Ji(ki,Hh);ki.prototype[q2]=!0;ki.prototype.removeEventListener=function(n,e,t,r){Loe(this,n,e,t,r)};function $i(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,typeof e=="string")e=new vo(e,n);else if(e instanceof vo)e.target=e.target||n;else{var i=e;e=new vo(r,n),Toe(e,i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=KE(s,r,!0,e)&&i}if(s=e.g=n,i=KE(s,r,!0,e)&&i,i=KE(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)s=e.g=t[o],i=KE(s,r,!1,e)&&i}ki.prototype.M=function(){if(ki.Z.M.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)z2(t[r]);delete n.g[e],n.h--}}this.I=null};ki.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};ki.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function KE(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==t){var a=s.listener,u=s.ia||s.src;s.fa&&D3(n.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var PB=Et.JSON.stringify;function Cje(){var n=Roe,e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wje=function(){function n(){this.h=this.g=null}return n.prototype.add=function(e,t){var r=koe.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r},n}(),koe=new(function(){function n(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return n.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},n}())(function(){return new Eje},function(n){return n.reset()}),Eje=function(){function n(){this.next=this.g=this.h=null}return n.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},n.prototype.reset=function(){this.next=this.g=this.h=null},n}();function Sje(n){Et.setTimeout(function(){throw n},0)}function MB(n,e){I3||Tje(),x3||(I3(),x3=!0),Roe.add(n,e)}var I3;function Tje(){var n=Et.Promise.resolve(void 0);I3=function(){n.then(Dje)}}var x3=!1,Roe=new wje;function Dje(){for(var n;n=Cje();){try{n.h.call(n.g)}catch(t){Sje(t)}var e=koe;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}x3=!1}function $2(n,e){ki.call(this),this.h=n||1,this.g=e||Et,this.j=Gi(this.kb,this),this.l=Date.now()}Ji($2,ki);je=$2.prototype;je.da=!1;je.S=null;je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$i(this,"tick"),this.da&&(FB(this),this.start()))}};je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function FB(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}je.M=function(){$2.Z.M.call(this),FB(this),delete this.g};function BB(n,e,t){if(typeof n=="function")t&&(n=Gi(n,t));else if(n&&typeof n.handleEvent=="function")n=Gi(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function Poe(n){n.g=BB(function(){n.g=null,n.i&&(n.i=!1,Poe(n))},n.j);var e=n.h;n.h=null,n.m.apply(null,e)}var Aje=function(n){eje(e,n);function e(t,r){var i=n.call(this)||this;return i.m=t,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Poe(this)},e.prototype.M=function(){n.prototype.M.call(this),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Hh);function h1(n){Hh.call(this),this.h=n,this.g={}}Ji(h1,Hh);var qG=[];function Moe(n,e,t,r){Array.isArray(t)||(t&&(qG[0]=t.toString()),t=qG);for(var i=0;i<t.length;i++){var o=xoe(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Foe(n){LB(n.g,function(e,t){this.g.hasOwnProperty(t)&&kB(e)},n),n.g={}}h1.prototype.M=function(){h1.Z.M.call(this),Foe(this)};h1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function K2(){this.g=!0}K2.prototype.Aa=function(){this.g=!1};function Ije(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+t+`
`+s})}function xje(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+t+`
`+o+" "+s})}function Vv(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+Nje(n,t)+(r?" "+r:"")})}function Lje(n,e){n.info(function(){return"TIMEOUT: "+e})}K2.prototype.info=function(){};function Nje(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return PB(t)}catch{return e}}var pg={},zG=null;function Y2(){return zG=zG||new ki}pg.Ma="serverreachability";function Boe(n){vo.call(this,pg.Ma,n)}Ji(Boe,vo);function d1(n){var e=Y2();$i(e,new Boe(e))}pg.STAT_EVENT="statevent";function Hoe(n,e){vo.call(this,pg.STAT_EVENT,n),this.stat=e}Ji(Hoe,vo);function es(n){var e=Y2();$i(e,new Hoe(e,n))}pg.Na="timingevent";function Voe(n,e){vo.call(this,pg.Na,n),this.size=e}Ji(Voe,vo);function SC(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}var X2={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Woe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HB(){}HB.prototype.h=null;function GG(n){return n.h||(n.h=n.i())}function Uoe(){}var TC={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function VB(){vo.call(this,"d")}Ji(VB,vo);function WB(){vo.call(this,"c")}Ji(WB,vo);var L3;function Q2(){}Ji(Q2,HB);Q2.prototype.g=function(){return new XMLHttpRequest};Q2.prototype.i=function(){return{}};L3=new Q2;function DC(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new h1(this),this.P=Oje,n=S3?125:void 0,this.W=new $2(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new joe}function joe(){this.i=null,this.g="",this.h=!1}var Oje=45e3,N3={},vD={};je=DC.prototype;je.setTimeout=function(n){this.P=n};function O3(n,e,t){n.K=1,n.v=J2(Rc(e)),n.s=t,n.U=!0,qoe(n,null)}function qoe(n,e){n.F=Date.now(),AC(n),n.A=Rc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Qoe(t.h,"t",r),n.C=0,t=n.l.H,n.h=new joe,n.g=mse(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Aje(Gi(n.Ia,n,n.g),n.O)),Moe(n.V,n.g,"readystatechange",n.gb),e=n.H?Soe(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),d1(),Ije(n.j,n.u,n.A,n.m,n.X,n.s)}je.gb=function(n){n=n.target;var e=this.L;e&&pc(n)==3?e.l():this.Ia(n)};je.Ia=function(n){try{if(n==this.g)e:{var e=pc(this.g),t=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||S3||this.g&&(this.h.h||this.g.ga()||XG(this.g)))){this.I||e!=4||t==7||(t==8||0>=r?d1(3):d1(2)),Z2(this);var i=this.g.ba();this.N=i;t:if(zoe(this)){var o=XG(this.g);n="";var s=o.length,a=pc(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tp(this),rb(this);var u="";break t}this.h.i=new Et.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(o[t],{stream:a&&t==s-1});o.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,xje(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pD(l)){var d=l;break t}}d=null}if(i=d)Vv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,k3(this,i);else{this.i=!1,this.o=3,es(12),tp(this),rb(this);break e}}this.U?(Goe(this,e,u),S3&&this.i&&e==3&&(Moe(this.V,this.W,"tick",this.fb),this.W.start())):(Vv(this.j,this.m,u,null),k3(this,u)),e==4&&tp(this),this.i&&!this.I&&(e==4?dse(this.l,this):(this.i=!1,AC(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,es(12)):(this.o=0,es(13)),tp(this),rb(this)}}}catch{}finally{}};function zoe(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Ba:!1}function Goe(n,e,t){for(var r=!0,i;!n.I&&n.C<t.length;)if(i=kje(n,t),i==vD){e==4&&(n.o=4,es(14),r=!1),Vv(n.j,n.m,null,"[Incomplete Response]");break}else if(i==N3){n.o=4,es(15),Vv(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else Vv(n.j,n.m,i,null),k3(n,i);zoe(n)&&i!=vD&&i!=N3&&(n.h.g="",n.C=0),e!=4||t.length!=0||n.h.h||(n.o=1,es(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,e=n.l,e.g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),XB(e),e.L=!0,es(11))):(Vv(n.j,n.m,t,"[Invalid Chunked Response]"),tp(n),rb(n))}je.fb=function(){if(this.g){var n=pc(this.g),e=this.g.ga();this.C<e.length&&(Z2(this),Goe(this,n,e),this.i&&n!=4&&AC(this))}};function kje(n,e){var t=n.C,r=e.indexOf(`
`,t);return r==-1?vD:(t=Number(e.substring(t,r)),isNaN(t)?N3:(r+=1,r+t>e.length?vD:(e=e.substr(r,t),n.C=r+t,e)))}je.cancel=function(){this.I=!0,tp(this)};function AC(n){n.Y=Date.now()+n.P,$oe(n,n.P)}function $oe(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=SC(Gi(n.eb,n),e)}function Z2(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}je.eb=function(){this.B=null;var n=Date.now();0<=n-this.Y?(Lje(this.j,this.A),this.K!=2&&(d1(),es(17)),tp(this),this.o=2,rb(this)):$oe(this,this.Y-n)};function rb(n){n.l.G==0||n.I||dse(n.l,n)}function tp(n){Z2(n);var e=n.L;e&&typeof e.na=="function"&&e.na(),n.L=null,FB(n.W),Foe(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function k3(n,e){try{var t=n.l;if(t.G!=0&&(t.g==n||R3(t.i,n))){if(t.I=n.N,!n.J&&R3(t.i,n)&&t.G==3){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!t.u){if(t.g)if(t.g.F+3e3<n.F)bD(t),nI(t);else break e;YB(t),es(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&t.A==0&&!t.v&&(t.v=SC(Gi(t.ab,t),6e3));if(1>=ese(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else np(t,11)}else if((n.J||t.g==n)&&bD(t),!pD(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(t.U=o[0],o=o[1],t.G==2)if(o[0]=="c"){t.J=o[1],t.la=o[2];var s=o[3];s!=null&&(t.ma=s,t.h.info("VER="+t.ma));var a=o[4];a!=null&&(t.za=a,t.h.info("SVER="+t.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,t.K=r,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;var l=n.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var d=r.i;!d.g&&(Go(c,"spdy")||Go(c,"quic")||Go(c,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(qB(d,d.h),d.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ar(r.F,r.D,h))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms")),r=t;var p=n;if(r.oa=vse(r,r.H?r.la:null,r.W),p.J){tse(r.i,p);var v=p,m=r.K;m&&v.setTimeout(m),v.B&&(Z2(v),AC(v)),r.g=p}else fse(r);0<t.l.length&&rI(t)}else o[0]!="stop"&&o[0]!="close"||np(t,7);else t.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?np(t,7):KB(t):o[0]!="noop"&&t.j&&t.j.wa(o),t.A=0)}}d1(4)}catch{}}function Rje(n){if(n.R&&typeof n.R=="function")return n.R();if(typeof n=="string")return n.split("");if(E3(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function UB(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(E3(n)||typeof n=="string")Eoe(n,e,void 0);else{if(n.T&&typeof n.T=="function")var t=n.T();else if(n.R&&typeof n.R=="function")t=void 0;else if(E3(n)||typeof n=="string"){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=Rje(n),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}}function F_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof F_)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}je=F_.prototype;je.R=function(){jB(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n};je.T=function(){return jB(this),this.g.concat()};function jB(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Hp(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)r=n.g[e],Hp(i,r)||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}je.get=function(n,e){return Hp(this.h,n)?this.h[n]:e};je.set=function(n,e){Hp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e};je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],o=this.get(i);n.call(e,o,i,this)}};function Hp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var Koe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pje(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vp){this.g=e!==void 0?e:n.g,mD(this,n.j),this.s=n.s,_D(this,n.i),yD(this,n.m),this.l=n.l,e=n.h;var t=new p1;t.i=e.i,e.g&&(t.g=new F_(e.g),t.h=e.h),$G(this,t),this.o=n.o}else n&&(t=String(n).match(Koe))?(this.g=!!e,mD(this,t[1]||"",!0),this.s=ib(t[2]||""),_D(this,t[3]||"",!0),yD(this,t[4]),this.l=ib(t[5]||"",!0),$G(this,t[6]||"",!0),this.o=ib(t[7]||"")):(this.g=!!e,this.h=new p1(null,this.g))}Vp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ay(e,KG,!0),":");var t=this.i;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Ay(e,KG,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.i&&t.charAt(0)!="/"&&n.push("/"),n.push(Ay(t,t.charAt(0)=="/"?Vje:Hje,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ay(t,Uje)),n.join("")};function Rc(n){return new Vp(n)}function mD(n,e,t){n.j=t?ib(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _D(n,e,t){n.i=t?ib(e,!0):e}function yD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $G(n,e,t){e instanceof p1?(n.h=e,jje(n.h,n.g)):(t||(e=Ay(e,Wje)),n.h=new p1(e,n.g))}function ar(n,e,t){n.h.set(e,t)}function J2(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mje(n){return n instanceof Vp?Rc(n):new Vp(n,void 0)}function Fje(n,e,t,r){var i=new Vp(null,void 0);return n&&mD(i,n),e&&_D(i,e),t&&yD(i,t),r&&(i.l=r),i}function ib(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ay(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,Bje),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Bje(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var KG=/[#\/\?@]/g,Hje=/[#\?:]/g,Vje=/[#\?]/g,Wje=/[#\?@]/g,Uje=/#/g;function p1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vh(n){n.g||(n.g=new F_,n.h=0,n.i&&Pje(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}je=p1.prototype;je.add=function(n,e){Vh(this),this.i=null,n=B_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function Yoe(n,e){Vh(n),e=B_(n,e),Hp(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,n=n.g,Hp(n.h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&jB(n)))}function Xoe(n,e){return Vh(n),e=B_(n,e),Hp(n.g.h,e)}je.forEach=function(n,e){Vh(this),this.g.forEach(function(t,r){Eoe(t,function(i){n.call(e,i,r,this)},this)},this)};je.T=function(){Vh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],o=0;o<i.length;o++)t.push(e[r]);return t};je.R=function(n){Vh(this);var e=[];if(typeof n=="string")Xoe(this,n)&&(e=BG(e,this.g.get(B_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=BG(e,n[t])}return e};je.set=function(n,e){return Vh(this),this.i=null,n=B_(this,n),Xoe(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};je.get=function(n,e){return n?(n=this.R(n),0<n.length?String(n[0]):e):e};function Qoe(n,e,t){Yoe(n,e),0<t.length&&(n.i=null,n.g.set(B_(n,e),xB(t)),n.h+=t.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),n.push(s)}}return this.i=n.join("&")};function B_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jje(n,e){e&&!n.j&&(Vh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Yoe(this,r),Qoe(this,i,t))},n)),n.j=e}var qje=function(){function n(e,t){this.h=e,this.g=t}return n}();function Zoe(n){this.l=n||zje,Et.PerformanceNavigationTiming?(n=Et.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zje=10;function Joe(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function ese(n){return n.h?1:n.g?n.g.size:0}function R3(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function qB(n,e){n.g?n.g.add(e):n.h=e}function tse(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}Zoe.prototype.cancel=function(){var n,e;if(this.i=nse(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var t=Coe(this.g.values()),r=t.next();!r.done;r=t.next()){var i=r.value;i.cancel()}}catch(o){n={error:o}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}this.g.clear()}};function nse(n){var e,t;if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){var r=n.i;try{for(var i=Coe(n.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}return xB(n.i)}function zB(){}zB.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)};zB.prototype.parse=function(n){return Et.JSON.parse(n,void 0)};function Gje(){this.g=new zB}function $je(n,e,t){var r=t||"";try{UB(n,function(i,o){var s=i;j2(i)&&(s=PB(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kje(n,e){var t=new K2;if(Et.Image){var r=new Image;r.onload=$E(YE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=$E(YE,t,r,"TestLoadImage: error",!1,e),r.onabort=$E(YE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=$E(YE,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function YE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function IC(n){this.l=n.$b||null,this.j=n.ib||!1}Ji(IC,HB);IC.prototype.g=function(){return new eI(this.l,this.j)};IC.prototype.i=function(n){return function(){return n}}({});function eI(n,e){ki.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=GB,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ji(eI,ki);var GB=0;je=eI.prototype;je.open=function(n,e){if(this.readyState!=GB)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,g1(this)};je.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xC(this)),this.readyState=GB};je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,g1(this)),this.g&&(this.readyState=3,g1(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rse(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))};function rse(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xC(this):g1(this),this.readyState==3&&rse(this)}};je.Ua=function(n){this.g&&(this.response=this.responseText=n,xC(this))};je.Ta=function(n){this.g&&(this.response=n,xC(this))};je.ha=function(){this.g&&xC(this)};function xC(n){n.readyState=4,n.l=null,n.j=null,n.A=null,g1(n)}je.setRequestHeader=function(n,e){this.v.append(n,e)};je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";for(var n=[],e=this.h.entries(),t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function g1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(eI.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var Yje=Et.JSON.parse;function $r(n){ki.call(this),this.headers=new F_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ise,this.K=this.L=!1}Ji($r,ki);var ise="",Xje=/^https?$/i,Qje=["POST","PUT"];je=$r.prototype;je.ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():L3.g(),this.C=this.u?GG(this.u):GG(L3),this.g.onreadystatechange=Gi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){YG(this,o);return}n=t||"";var i=new F_(this.headers);r&&UB(r,function(o,s){i.set(s,o)}),r=aje(i.T()),t=Et.FormData&&n instanceof Et.FormData,!(0<=woe(Qje,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ase(this),0<this.B&&((this.K=Zje(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gi(this.pa,this)):this.A=BB(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){YG(this,o)}};function Zje(n){return Bm&&hje()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}function Jje(n){return n.toLowerCase()=="content-type"}je.pa=function(){typeof IB<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))};function YG(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ose(n),tI(n)}function ose(n){n.D||(n.D=!0,$i(n,"complete"),$i(n,"error"))}je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),tI(this))};je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tI(this,!0)),$r.Z.M.call(this)};je.Fa=function(){this.s||(this.F||this.v||this.l?sse(this):this.cb())};je.cb=function(){sse(this)};function sse(n){if(n.h&&typeof IB<"u"&&(!n.C[1]||pc(n)!=4||n.ba()!=2)){if(n.v&&pc(n)==4)BB(n.Fa,0,n);else if($i(n,"readystatechange"),pc(n)==4){n.h=!1;try{var e=n.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=e===0){var o=String(n.H).match(Koe)[1]||null;if(!o&&Et.self&&Et.self.location){var s=Et.self.location.protocol;o=s.substr(0,s.length-1)}i=!Xje.test(o?o.toLowerCase():"")}r=i}if(r)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var a=2<pc(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.ba()+"]",ose(n)}}finally{tI(n)}}}}function tI(n,e){if(n.g){ase(n);var t=n.g,r=n.C[0]?dD:null;n.g=null,n.C=null,e||$i(n,"ready");try{t.onreadystatechange=r}catch{}}}function ase(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function pc(n){return n.g?n.g.readyState:0}je.ba=function(){try{return 2<pc(this)?this.g.status:-1}catch{return-1}};je.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),Yje(e)}};function XG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ise:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}je.Da=function(){return this.m};je.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function eqe(n){var e="";return LB(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function $B(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=eqe(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):ar(n,e,t))}function hy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function use(n){this.za=0,this.l=[],this.h=new K2,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hy("baseRetryDelayMs",5e3,n),this.$a=hy("retryDelaySeedMs",1e4,n),this.Ya=hy("forwardChannelMaxRetries",2,n),this.ra=hy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Zoe(n&&n.concurrentRequestLimit),this.Ca=new Gje,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||n.Xb!==!1}je=use.prototype;je.ma=8;je.G=1;function KB(n){if(lse(n),n.G==3){var e=n.V++,t=Rc(n.F);ar(t,"SID",n.J),ar(t,"RID",e),ar(t,"TYPE","terminate"),LC(n,t),e=new DC(n,n.h,e,void 0),e.K=2,e.v=J2(Rc(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&(new Image().src=e.v,t=!0),t||(e.g=mse(e.l,null),e.g.ea(e.v)),e.F=Date.now(),AC(e)}gse(n)}je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}};function nI(n){n.g&&(XB(n),n.g.cancel(),n.g=null)}function lse(n){nI(n),n.u&&(Et.clearTimeout(n.u),n.u=null),bD(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Et.clearTimeout(n.m),n.m=null)}function Wk(n,e){n.l.push(new qje(n.Za++,e)),n.G==3&&rI(n)}function rI(n){Joe(n.i)||n.m||(n.m=!0,MB(n.Ha,n),n.C=0)}function tqe(n,e){return ese(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.l=e.D.concat(n.l),!0):n.G==1||n.G==2||n.C>=(n.Xa?0:n.Ya)?!1:(n.m=SC(Gi(n.Ha,n,e),pse(n,n.C)),n.C++,!0)}je.Ha=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;var e=new DC(this,this.h,n,void 0),t=this.s;if(this.P&&(t?(t=Soe(t),Toe(t,this.P)):t=this.P),this.o===null&&(e.H=t),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=cse(this,e,r),i=Rc(this.F),ar(i,"RID",n),ar(i,"CVER",22),this.D&&ar(i,"X-HTTP-Session-Id",this.D),LC(this,i),this.o&&t&&$B(i,this.o,t),qB(this.i,e),this.Ra&&ar(i,"TYPE","init"),this.ja?(ar(i,"$req",r),ar(i,"SID","null"),e.$=!0,O3(e,i,null)):O3(e,i,r),this.G=2}}else this.G==3&&(n?QG(this,n):this.l.length==0||Joe(this.i)||QG(this))};function QG(n,e){var t;e?t=e.m:t=n.V++;var r=Rc(n.F);ar(r,"SID",n.J),ar(r,"RID",t),ar(r,"AID",n.U),LC(n,r),n.o&&n.s&&$B(r,n.o,n.s),t=new DC(n,n.h,t,n.C+1),n.o===null&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=cse(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),qB(n.i,t),O3(t,r,e)}function LC(n,e){n.j&&UB({},function(t,r){ar(e,r,t)})}function cse(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Gi(n.j.Oa,n.j,n):null;e:for(var i=n.l,o=-1;;){var s=["count="+t];o==-1?0<t?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<t;u++){var l=i[u].h,c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{$je(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}return n=n.l.splice(0,t),e.D=n,r}function fse(n){n.g||n.u||(n.Y=1,MB(n.Ga,n),n.A=0)}function YB(n){return n.g||n.u||3<=n.A?!1:(n.Y++,n.u=SC(Gi(n.Ga,n),pse(n,n.A)),n.A++,!0)}je.Ga=function(){if(this.u=null,hse(this),this.$&&!(this.L||this.g==null||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=SC(Gi(this.bb,this),n)}};je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,es(10),nI(this),hse(this))};function XB(n){n.B!=null&&(Et.clearTimeout(n.B),n.B=null)}function hse(n){n.g=new DC(n,n.h,"rpc",n.Y),n.o===null&&(n.g.H=n.s),n.g.O=0;var e=Rc(n.oa);ar(e,"RID","rpc"),ar(e,"SID",n.J),ar(e,"CI",n.N?"0":"1"),ar(e,"AID",n.U),LC(n,e),ar(e,"TYPE","xmlhttp"),n.o&&n.s&&$B(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=J2(Rc(e)),t.s=null,t.U=!0,qoe(t,n)}je.ab=function(){this.v!=null&&(this.v=null,nI(this),YB(this),es(19))};function bD(n){n.v!=null&&(Et.clearTimeout(n.v),n.v=null)}function dse(n,e){var t=null;if(n.g==e){bD(n),XB(n),n.g=null;var r=2}else if(R3(n.i,e))t=e.D,tse(n.i,e),r=1;else return;if(n.I=e.N,n.G!=0){if(e.i)if(r==1){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;r=Y2(),$i(r,new Voe(r,t)),rI(n)}else fse(n);else if(i=e.o,i==3||i==0&&0<n.I||!(r==1&&tqe(n,e)||r==2&&YB(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:np(n,5);break;case 4:np(n,10);break;case 3:np(n,6);break;default:np(n,2)}}}function pse(n,e){var t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function np(n,e){if(n.h.info("Error code "+e),e==2){var t=null;n.j&&(t=null);var r=Gi(n.jb,n);t||(t=new Vp("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||mD(t,"https"),J2(t)),Kje(t.toString(),r)}else es(2);n.G=0,n.j&&n.j.va(e),gse(n),lse(n)}je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),es(2)):(this.h.info("Failed to ping google.com"),es(1))};function gse(n){n.G=0,n.I=-1,n.j&&((nse(n.i).length!=0||n.l.length!=0)&&(n.i.i.length=0,xB(n.l),n.l.length=0),n.j.ua())}function vse(n,e,t){var r=Mje(t);if(r.i!="")e&&_D(r,e+"."+r.i),yD(r,r.m);else{var i=Et.location;r=Fje(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&LB(n.aa,function(o,s){ar(r,s,o)}),e=n.D,t=n.sa,e&&t&&ar(r,e,t),ar(r,"VER",n.ma),LC(n,r),r}function mse(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&n.Ba&&!n.qa?new $r(new IC({ib:!0})):new $r(n.qa),e.L=n.H,e}function _se(){}je=_se.prototype;je.xa=function(){};je.wa=function(){};je.va=function(){};je.ua=function(){};je.Oa=function(){};function CD(){if(Bm&&!(10<=Number(dje)))throw Error("Environmental error: no available transport.")}CD.prototype.g=function(n,e){return new da(n,e)};function da(n,e){ki.call(this),this.g=new use(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!pD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pD(e)&&(this.g.D=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new H_(this)}Ji(da,ki);da.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),MB(Gi(n.hb,n,e))),es(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=vse(n,null,n.W),rI(n)};da.prototype.close=function(){KB(this.g)};da.prototype.u=function(n){if(typeof n=="string"){var e={};e.__data__=n,Wk(this.g,e)}else this.v?(e={},e.__data__=PB(n),Wk(this.g,e)):Wk(this.g,n)};da.prototype.M=function(){this.g.j=null,delete this.j,KB(this.g),delete this.g,da.Z.M.call(this)};function yse(n){VB.call(this);var e=n.__sm__;if(e){e:{for(var t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}Ji(yse,VB);function bse(){WB.call(this),this.status=1}Ji(bse,WB);function H_(n){this.g=n}Ji(H_,_se);H_.prototype.xa=function(){$i(this.g,"a")};H_.prototype.wa=function(n){$i(this.g,new yse(n))};H_.prototype.va=function(n){$i(this.g,new bse)};H_.prototype.ua=function(){$i(this.g,"b")};CD.prototype.createWebChannel=CD.prototype.g;da.prototype.send=da.prototype.u;da.prototype.open=da.prototype.m;da.prototype.close=da.prototype.close;X2.NO_ERROR=0;X2.TIMEOUT=8;X2.HTTP_ERROR=6;Woe.COMPLETE="complete";Uoe.EventType=TC;TC.OPEN="a";TC.CLOSE="b";TC.ERROR="c";TC.MESSAGE="d";ki.prototype.listen=ki.prototype.N;$r.prototype.listenOnce=$r.prototype.O;$r.prototype.getLastError=$r.prototype.La;$r.prototype.getLastErrorCode=$r.prototype.Da;$r.prototype.getStatus=$r.prototype.ba;$r.prototype.getResponseJson=$r.prototype.Qa;$r.prototype.getResponseText=$r.prototype.ga;$r.prototype.send=$r.prototype.ea;var nqe=function(){return new CD},rqe=function(){return Y2()},Uk=X2,iqe=Woe,oqe=pg,ZG={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sqe=IC,XE=Uoe,aqe=$r,uqe={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea=function(){function n(e,t){var r=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return t.writeSequenceNumber(i)})}return n.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},n.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},n}();ea.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},be=function(n){function e(t,r){var i=this;return(i=n.call(this,r)||this).code=t,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Fe(e,n),e}(Error),yu=new Qp("@firebase/firestore");function P3(){return yu.logLevel}function xe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(yu.logLevel<=zt.DEBUG){var r=e.map(QB);yu.debug.apply(yu,Vt(["Firestore (8.10.1): "+n],r))}}function qr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(yu.logLevel<=zt.ERROR){var r=e.map(QB);yu.error.apply(yu,Vt(["Firestore (8.10.1): "+n],r))}}function v1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(yu.logLevel<=zt.WARN){var r=e.map(QB);yu.warn.apply(yu,Vt(["Firestore (8.10.1): "+n],r))}}function QB(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch{return n}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n){n===void 0&&(n="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+n;throw qr(e),new Error(e)}function _t(n,e){n||it()}function Me(n,e){return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lqe(n){var e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(var r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cse=function(){function n(){}return n.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=lqe(40),o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length));return r},n}();function Qt(n,e){return n<e?-1:n>e?1:0}function Hm(n,e,t){return n.length===e.length&&n.every(function(r,i){return t(r,e[i])})}function wse(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts=function(){function n(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return n.now=function(){return n.fromMillis(Date.now())},n.fromDate=function(e){return n.fromMillis(e.getTime())},n.fromMillis=function(e){var t=Math.floor(e/1e3);return new n(t,Math.floor(1e6*(e-1e3*t)))},n.prototype.toDate=function(){return new Date(this.toMillis())},n.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},n.prototype._compareTo=function(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)},n.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},n.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},n.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},n.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},n}(),jt=function(){function n(e){this.timestamp=e}return n.fromTimestamp=function(e){return new n(e)},n.min=function(){return new n(new Ts(0,0))},n.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},n.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},n.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},n.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},n.prototype.toTimestamp=function(){return this.timestamp},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(n){var e=0;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gg(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ese(n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sse=function(){function n(e,t,r){t===void 0?t=0:t>e.length&&it(),r===void 0?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}return Object.defineProperty(n.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return n.comparator(this,e)===0},n.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(function(r){t.push(r)}):t.push(e),this.construct(t)},n.prototype.limit=function(){return this.offset+this.length},n.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},n.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},n.prototype.firstSegment=function(){return this.segments[this.offset]},n.prototype.lastSegment=function(){return this.get(this.length-1)},n.prototype.get=function(e){return this.segments[this.offset+e]},n.prototype.isEmpty=function(){return this.length===0},n.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},n.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},n.prototype.forEach=function(e){for(var t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])},n.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},n.comparator=function(e,t){for(var r=Math.min(e.length,t.length),i=0;i<r;i++){var o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0},n}(),gn=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.construct=function(t,r,i){return new e(t,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(Sse),cqe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Du=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.construct=function(t,r,i){return new e(t,r,i)},e.isValidIdentifier=function(t){return cqe.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<t.length;){var u=t[o];if(u==="\\"){if(o+1===t.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(r)},e.emptyPath=function(){return new e([])},e}(Sse),Vm=function(){function n(e){this.fields=e,e.sort(Du.comparator)}return n.prototype.covers=function(e){for(var t=0,r=this.fields;t<r.length;t++)if(r[t].isPrefixOf(e))return!0;return!1},n.prototype.isEqual=function(e){return Hm(this.fields,e.fields,function(t,r){return t.isEqual(r)})},n}(),ns=function(){function n(e){this.binaryString=e}return n.fromBase64String=function(e){return new n(atob(e))},n.fromUint8Array=function(e){return new n(function(t){for(var r="",i=0;i<t.length;++i)r+=String.fromCharCode(t[i]);return r}(e))},n.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},n.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)},n.prototype.approximateByteSize=function(){return 2*this.binaryString.length},n.prototype.compareTo=function(e){return Qt(this.binaryString,e.binaryString)},n.prototype.isEqual=function(e){return this.binaryString===e.binaryString},n}();ns.EMPTY_BYTE_STRING=new ns("");var fqe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ch(n){if(_t(!!n),typeof n=="string"){var e=0,t=fqe.exec(n);if(_t(!!t),t[1]){var r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wr(n.seconds),nanos:Wr(n.nanos)}}function Wr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wm(n){return typeof n=="string"?ns.fromBase64String(n):ns.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Tse(n){var e=n.mapValue.fields.__previous_value__;return ZB(e)?Tse(e):e}function m1(n){var e=Ch(n.mapValue.fields.__local_write_time__.timestampValue);return new Ts(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n){return n==null}function wD(n){return n===0&&1/n==-1/0}function Dse(n){return typeof n=="number"&&Number.isInteger(n)&&!wD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct=function(){function n(e){this.path=e}return n.fromPath=function(e){return new n(gn.fromString(e))},n.fromName=function(e){return new n(gn.fromString(e).popFirst(5))},n.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},n.prototype.isEqual=function(e){return e!==null&&gn.comparator(this.path,e.path)===0},n.prototype.toString=function(){return this.path.toString()},n.comparator=function(e,t){return gn.comparator(e.path,t.path)},n.isDocumentKey=function(e){return e.length%2==0},n.fromSegments=function(e){return new n(new gn(e.slice()))},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ZB(n)?4:10:it()}function Il(n,e){var t=Wp(n);if(t!==Wp(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return m1(n).isEqual(m1(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Ch(r.timestampValue),s=Ch(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,i){return Wm(r.bytesValue).isEqual(Wm(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Wr(r.geoPointValue.latitude)===Wr(i.geoPointValue.latitude)&&Wr(r.geoPointValue.longitude)===Wr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Wr(r.integerValue)===Wr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Wr(r.doubleValue),s=Wr(i.doubleValue);return o===s?wD(o)===wD(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Hm(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(JG(o)!==JG(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Il(o[a],s[a])))return!1;return!0}(n,e);default:return it()}}function _1(n,e){return(n.values||[]).find(function(t){return Il(t,e)})!==void 0}function Um(n,e){var t=Wp(n),r=Wp(e);if(t!==r)return Qt(t,r);switch(t){case 0:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(i,o){var s=Wr(i.integerValue||i.doubleValue),a=Wr(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return e$(n.timestampValue,e.timestampValue);case 4:return e$(m1(n),m1(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(i,o){var s=Wm(i),a=Wm(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var l=Qt(s[u],a[u]);if(l!==0)return l}return Qt(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){var s=Qt(Wr(i.latitude),Wr(o.latitude));return s!==0?s:Qt(Wr(i.longitude),Wr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var l=Um(s[u],a[u]);if(l)return l}return Qt(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(var c=0;c<a.length&&c<l.length;++c){var d=Qt(a[c],l[c]);if(d!==0)return d;var h=Um(s[a[c]],u[l[c]]);if(h!==0)return h}return Qt(a.length,l.length)}(n.mapValue,e.mapValue);default:throw it()}}function e$(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qt(n,e);var t=Ch(n),r=Ch(e),i=Qt(t.seconds,r.seconds);return i!==0?i:Qt(t.nanos,r.nanos)}function JB(n){return M3(n)}function M3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){var i=Ch(r);return"time("+i.seconds+","+i.nanos+")"}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wm(n.bytesValue).toBase64():"referenceValue"in n?(t=n.referenceValue,ct.fromName(t).toString()):"geoPointValue"in n?"geo("+(e=n.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in n?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=M3(a[s]);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+M3(r.fields[u])}return i+"}"}(n.mapValue):it();var e,t}function ED(n,e){return{referenceValue:"projects/"+n.projectId+"/databases/"+n.database+"/documents/"+e.path.canonicalString()}}function F3(n){return!!n&&"integerValue"in n}function e8(n){return!!n&&"arrayValue"in n}function t$(n){return!!n&&"nullValue"in n}function n$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function MS(n){return!!n&&"mapValue"in n}function ob(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){var e={mapValue:{fields:{}}};return gg(n.mapValue.fields,function(i,o){return e.mapValue.fields[i]=ob(o)}),e}if(n.arrayValue){for(var t={arrayValue:{values:[]}},r=0;r<(n.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=ob(n.arrayValue.values[r]);return t}return Object.assign({},n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=function(){function n(e){this.value=e}return n.empty=function(){return new n({mapValue:{}})},n.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,r=0;r<e.length-1;++r)if(!MS(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},n.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ob(t)},n.prototype.setAll=function(e){var t=this,r=Du.emptyPath(),i={},o=[];e.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var l=t.getFieldsMap(r);t.applyChanges(l,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=ob(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},n.prototype.delete=function(e){var t=this.field(e.popLast());MS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},n.prototype.isEqual=function(e){return Il(this.value,e.value)},n.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=t.mapValue.fields[e.get(r)];MS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields},n.prototype.applyChanges=function(e,t,r){gg(t,function(a,u){return e[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete e[s]}},n.prototype.clone=function(){return new n(ob(this.value))},n}();function Ase(n){var e=[];return gg(n.fields,function(t,r){var i=new Du([t]);if(MS(r)){var o=Ase(r.mapValue).fields;if(o.length===0)e.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];e.push(i.child(u))}}else e.push(i)}),new Vm(e)}var Yi=function(){function n(e,t,r,i,o){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=o}return n.newInvalidDocument=function(e){return new n(e,0,jt.min(),Qs.empty(),0)},n.newFoundDocument=function(e,t,r){return new n(e,1,t,r,0)},n.newNoDocument=function(e,t){return new n(e,2,t,Qs.empty(),0)},n.newUnknownDocument=function(e,t){return new n(e,3,t,Qs.empty(),2)},n.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},n.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this},n.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this},n.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},n.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(n.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isValidDocument=function(){return this.documentType!==0},n.prototype.isFoundDocument=function(){return this.documentType===1},n.prototype.isNoDocument=function(){return this.documentType===2},n.prototype.isUnknownDocument=function(){return this.documentType===3},n.prototype.isEqual=function(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},n.prototype.clone=function(){return new n(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},n}(),hqe=function(n,e,t,r,i,o,s){e===void 0&&(e=null),t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=n,this.collectionGroup=e,this.orderBy=t,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(n,e,t,r,i,o,s){return e===void 0&&(e=null),t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new hqe(n,e,t,r,i,o,s)}function NC(n){var e=Me(n);if(e.h===null){var t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+JB(i.value)}(r)}).join(","),t+="|ob:",t+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),vg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=TD(e.startAt)),e.endAt&&(t+="|ub:",t+=TD(e.endAt)),e.h=t}return e.h}function iI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<n.orderBy.length;t++)if(!bqe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(var r=0;r<n.filters.length;r++)if(i=n.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Il(i.value,o.value))return!1;var i,o;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!o$(n.startAt,e.startAt)&&o$(n.endAt,e.endAt)}function SD(n){return ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ta=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).field=t,o.op=r,o.value=i,o}return Fe(e,n),e.create=function(t,r,i){return t.isKeyField()?r==="in"||r==="not-in"?this.l(t,r,i):new dqe(t,r,i):r==="array-contains"?new vqe(t,i):r==="in"?new mqe(t,i):r==="not-in"?new _qe(t,i):r==="array-contains-any"?new yqe(t,i):new e(t,r,i)},e.l=function(t,r,i){return r==="in"?new pqe(t,i):new gqe(t,i)},e.prototype.matches=function(t){var r=t.data.field(this.field);return this.op==="!="?r!==null&&this.m(Um(r,this.value)):r!==null&&Wp(this.value)===Wp(r)&&this.m(Um(r,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),dqe=function(n){function e(t,r,i){var o=this;return(o=n.call(this,t,r,i)||this).key=ct.fromName(i.referenceValue),o}return Fe(e,n),e.prototype.matches=function(t){var r=ct.comparator(t.key,this.key);return this.m(r)},e}(ta),pqe=function(n){function e(t,r){var i=this;return(i=n.call(this,t,"in",r)||this).keys=Ise("in",r),i}return Fe(e,n),e.prototype.matches=function(t){return this.keys.some(function(r){return r.isEqual(t.key)})},e}(ta),gqe=function(n){function e(t,r){var i=this;return(i=n.call(this,t,"not-in",r)||this).keys=Ise("not-in",r),i}return Fe(e,n),e.prototype.matches=function(t){return!this.keys.some(function(r){return r.isEqual(t.key)})},e}(ta);function Ise(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(function(r){return ct.fromName(r.referenceValue)})}var vqe=function(n){function e(t,r){return n.call(this,t,"array-contains",r)||this}return Fe(e,n),e.prototype.matches=function(t){var r=t.data.field(this.field);return e8(r)&&_1(r.arrayValue,this.value)},e}(ta),mqe=function(n){function e(t,r){return n.call(this,t,"in",r)||this}return Fe(e,n),e.prototype.matches=function(t){var r=t.data.field(this.field);return r!==null&&_1(this.value.arrayValue,r)},e}(ta),_qe=function(n){function e(t,r){return n.call(this,t,"not-in",r)||this}return Fe(e,n),e.prototype.matches=function(t){if(_1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=t.data.field(this.field);return r!==null&&!_1(this.value.arrayValue,r)},e}(ta),yqe=function(n){function e(t,r){return n.call(this,t,"array-contains-any",r)||this}return Fe(e,n),e.prototype.matches=function(t){var r=this,i=t.data.field(this.field);return!(!e8(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return _1(r.value.arrayValue,o)})},e}(ta),y1=function(n,e){this.position=n,this.before=e};function TD(n){return(n.before?"b":"a")+":"+n.position.map(function(e){return JB(e)}).join(",")}var im=function(n,e){e===void 0&&(e="asc"),this.field=n,this.dir=e};function bqe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function i$(n,e,t){for(var r=0,i=0;i<n.position.length;i++){var o=e[i],s=n.position[i];if(r=o.field.isKeyField()?ct.comparator(ct.fromName(s.referenceValue),t.key):Um(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return n.before?r<=0:r<0}function o$(n,e){if(n===null)return e===null;if(e===null||n.before!==e.before||n.position.length!==e.position.length)return!1;for(var t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(n,e,t,r,i,o,s,a){e===void 0&&(e=null),t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=n,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function xse(n,e,t,r,i,o,s,a){return new qc(n,e,t,r,i,o,s,a)}function V_(n){return new qc(n)}function FS(n){return!vg(n.limit)&&n.limitType==="F"}function DD(n){return!vg(n.limit)&&n.limitType==="L"}function t8(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function n8(n){for(var e=0,t=n.filters;e<t.length;e++){var r=t[e];if(r.g())return r.field}return null}function r8(n){return n.collectionGroup!==null}function jm(n){var e=Me(n);if(e.p===null){e.p=[];var t=n8(e),r=t8(e);if(t!==null&&r===null)t.isKeyField()||e.p.push(new im(t)),e.p.push(new im(Du.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new im(Du.keyField(),u))}}}return e.p}function Pa(n){var e=Me(n);if(!e.T)if(e.limitType==="F")e.T=r$(e.path,e.collectionGroup,jm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],r=0,i=jm(e);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";t.push(new im(o.field,s))}var a=e.endAt?new y1(e.endAt.position,!e.endAt.before):null,u=e.startAt?new y1(e.startAt.position,!e.startAt.before):null;e.T=r$(e.path,e.collectionGroup,t,e.filters,e.limit,a,u)}return e.T}function Lse(n,e,t){return new qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function OC(n,e){return iI(Pa(n),Pa(e))&&n.limitType===e.limitType}function Nse(n){return NC(Pa(n))+"|lt:"+n.limitType}function B3(n){return"Query(target="+function(e){var t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+JB(i.value);var i}).join(", ")+"]"),vg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+TD(e.startAt)),e.endAt&&(t+=", endAt: "+TD(e.endAt)),"Target("+t+")"}(Pa(n))+"; limitType="+n.limitType+")"}function kC(n,e){return e.isFoundDocument()&&function(t,r){var i=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ct.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(var i=0,o=t.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(n,e)&&function(t,r){for(var i=0,o=t.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!i$(t.startAt,jm(t),r))&&(!t.endAt||!i$(t.endAt,jm(t),r))}(n,e)}function Ose(n){return function(e,t){for(var r=!1,i=0,o=jm(n);i<o.length;i++){var s=o[i],a=Cqe(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Cqe(n,e,t){var r=n.field.isKeyField()?ct.comparator(e.key,t.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?Um(a,u):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kse(n,e){if(n.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wD(e)?"-0":e}}function Rse(n){return{integerValue:""+n}}function Pse(n,e){return Dse(e)?Rse(e):kse(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oI=function(){this._=void 0};function wqe(n,e,t){return n instanceof qm?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Up?Fse(n,e):n instanceof jp?Bse(n,e):function(r,i){var o=Mse(r,i),s=s$(o)+s$(r.A);return F3(o)&&F3(r.A)?Rse(s):kse(r.R,s)}(n,e)}function Eqe(n,e,t){return n instanceof Up?Fse(n,e):n instanceof jp?Bse(n,e):t}function Mse(n,e){return n instanceof zm?F3(t=e)||function(r){return!!r&&"doubleValue"in r}(t)?e:{integerValue:0}:null;var t}var qm=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e}(oI),Up=function(n){function e(t){var r=this;return(r=n.call(this)||this).elements=t,r}return Fe(e,n),e}(oI);function Fse(n,e){for(var t=Hse(e),r=function(s){t.some(function(a){return Il(a,s)})||t.push(s)},i=0,o=n.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:t}}}var jp=function(n){function e(t){var r=this;return(r=n.call(this)||this).elements=t,r}return Fe(e,n),e}(oI);function Bse(n,e){for(var t=Hse(e),r=function(s){t=t.filter(function(a){return!Il(a,s)})},i=0,o=n.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:t}}}var zm=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).R=t,i.A=r,i}return Fe(e,n),e}(oI);function s$(n){return Wr(n.integerValue||n.doubleValue)}function Hse(n){return e8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RC=function(n,e){this.field=n,this.transform=e},Sqe=function(n,e){this.version=n,this.transformResults=e},go=function(){function n(e,t){this.updateTime=e,this.exists=t}return n.none=function(){return new n},n.exists=function(e){return new n(void 0,e)},n.updateTime=function(e){return new n(e)},Object.defineProperty(n.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},n}();function BS(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var sI=function(){};function Tqe(n,e,t){n instanceof PC?function(r,i,o){var s=r.value.clone(),a=l$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Wh?function(r,i,o){if(BS(r.precondition,i)){var s=l$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(Vse(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(n,e,t):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function H3(n,e,t){n instanceof PC?function(r,i,o){if(BS(r.precondition,i)){var s=r.value.clone(),a=c$(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(u$(i),s).setHasLocalMutations()}}(n,e,t):n instanceof Wh?function(r,i,o){if(BS(r.precondition,i)){var s=c$(r.fieldTransforms,o,i),a=i.data;a.setAll(Vse(r)),a.setAll(s),i.convertToFoundDocument(u$(i),a).setHasLocalMutations()}}(n,e,t):function(r,i){BS(r.precondition,i)&&i.convertToNoDocument(jt.min())}(n,e)}function Dqe(n,e){for(var t=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Mse(o.transform,s||null);a!=null&&(t==null&&(t=Qs.empty()),t.set(o.field,a))}return t||null}function a$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&Hm(t,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,l){return u instanceof Up&&l instanceof Up||u instanceof jp&&l instanceof jp?Hm(u.elements,l.elements,Il):u instanceof zm&&l instanceof zm?Il(u.A,l.A):u instanceof qm&&l instanceof qm}(s.transform,a.transform)}(i,o)})}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}function u$(n){return n.isFoundDocument()?n.version:jt.min()}var PC=function(n){function e(t,r,i,o){o===void 0&&(o=[]);var s=this;return(s=n.call(this)||this).key=t,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return Fe(e,n),e}(sI),Wh=function(n){function e(t,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=n.call(this)||this).key=t,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return Fe(e,n),e}(sI);function Vse(n){var e=new Map;return n.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var r=n.data.field(t);e.set(t,r)}}),e}function l$(n,e,t){var r=new Map;_t(n.length===t.length);for(var i=0;i<t.length;i++){var o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Eqe(s,a,t[i]))}return r}function c$(n,e,t){for(var r=new Map,i=0,o=n;i<o.length;i++){var s=o[i],a=s.transform,u=t.data.field(s.field);r.set(s.field,wqe(a,u,e))}return r}var Hr,rn,MC=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).key=t,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Fe(e,n),e}(sI),i8=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).key=t,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Fe(e,n),e}(sI),Aqe=function(n){this.count=n};function Wse(n){switch(n){case oe.OK:return it();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return it()}}function Use(n){if(n===void 0)return qr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Hr.OK:return oe.OK;case Hr.CANCELLED:return oe.CANCELLED;case Hr.UNKNOWN:return oe.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return oe.INTERNAL;case Hr.UNAVAILABLE:return oe.UNAVAILABLE;case Hr.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Hr.NOT_FOUND:return oe.NOT_FOUND;case Hr.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Hr.ABORTED:return oe.ABORTED;case Hr.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Hr.DATA_LOSS:return oe.DATA_LOSS;default:return it()}}(rn=Hr||(Hr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao=function(){function n(e,t){this.comparator=e,this.root=t||xf.EMPTY}return n.prototype.insert=function(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xf.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xf.BLACK,null,null))},n.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null},n.prototype.indexOf=function(e){for(var t=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1},n.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(n.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),n.prototype.minKey=function(){return this.root.minKey()},n.prototype.maxKey=function(){return this.root.maxKey()},n.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},n.prototype.forEach=function(e){this.inorderTraversal(function(t,r){return e(t,r),!1})},n.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,r){return e.push(t+":"+r),!1}),"{"+e.join(", ")+"}"},n.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},n.prototype.getIterator=function(){return new QE(this.root,null,this.comparator,!1)},n.prototype.getIteratorFrom=function(e){return new QE(this.root,e,this.comparator,!1)},n.prototype.getReverseIterator=function(){return new QE(this.root,null,this.comparator,!0)},n.prototype.getReverseIteratorFrom=function(e){return new QE(this.root,e,this.comparator,!0)},n}(),QE=function(){function n(e,t,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return n.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},n.prototype.hasNext=function(){return this.nodeStack.length>0},n.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},n}(),xf=function(){function n(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}return n.prototype.copy=function(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},n.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},n.prototype.minKey=function(){return this.min().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(e,t,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r))).fixUp()},n.prototype.removeMin=function(){if(this.left.isEmpty())return n.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},n.prototype.remove=function(e,t){var r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()},n.prototype.isRed=function(){return this.color},n.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},n.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},n.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},n.prototype.rotateLeft=function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},n.prototype.rotateRight=function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},n.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},n.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},n.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();var e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)},n}();xf.EMPTY=null,xf.RED=!0,xf.BLACK=!1,xf.EMPTY=new(function(){function n(){this.size=0}return Object.defineProperty(n.prototype,"key",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){throw it()},enumerable:!1,configurable:!0}),n.prototype.copy=function(e,t,r,i,o){return this},n.prototype.insert=function(e,t,r){return new xf(e,t)},n.prototype.remove=function(e,t){return this},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(e){return!1},n.prototype.reverseTraversal=function(e){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.isRed=function(){return!1},n.prototype.checkMaxDepth=function(){return!0},n.prototype.check=function(){return 0},n}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui=function(){function n(e){this.comparator=e,this.data=new Ao(this.comparator)}return n.prototype.has=function(e){return this.data.get(e)!==null},n.prototype.first=function(){return this.data.minKey()},n.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(n.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),n.prototype.indexOf=function(e){return this.data.indexOf(e)},n.prototype.forEach=function(e){this.data.inorderTraversal(function(t,r){return e(t),!1})},n.prototype.forEachInRange=function(e,t){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}},n.prototype.forEachWhile=function(e,t){var r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},n.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},n.prototype.getIterator=function(){return new f$(this.data.getIterator())},n.prototype.getIteratorFrom=function(e){return new f$(this.data.getIteratorFrom(e))},n.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},n.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},n.prototype.isEmpty=function(){return this.data.isEmpty()},n.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(r){t=t.add(r)}),t},n.prototype.isEqual=function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),r=e.data.getIterator();t.hasNext();){var i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},n.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},n.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},n.prototype.copy=function(e){var t=new n(this.comparator);return t.data=e,t},n}(),f$=function(){function n(e){this.iter=e}return n.prototype.getNext=function(){return this.iter.getNext().key},n.prototype.hasNext=function(){return this.iter.hasNext()},n}(),Iqe=new Ao(ct.comparator);function La(){return Iqe}var xqe=new Ao(ct.comparator);function V3(){return xqe}var Lqe=new Ao(ct.comparator);function jse(){return Lqe}var Nqe=new ui(ct.comparator);function kn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=Nqe,r=0,i=n;r<i.length;r++){var o=i[r];t=t.add(o)}return t}var Oqe=new ui(Qt);function aI(){return Oqe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o8=function(){function n(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return n.createSynthesizedRemoteEventForCurrentChange=function(e,t){var r=new Map;return r.set(e,s8.createSynthesizedTargetChangeForCurrentChange(e,t)),new n(jt.min(),r,aI(),La(),kn())},n}(),s8=function(){function n(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return n.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new n(ns.EMPTY_BYTE_STRING,t,kn(),kn(),kn())},n}(),HS=function(n,e,t,r){this.v=n,this.removedTargetIds=e,this.key=t,this.P=r},qse=function(n,e){this.targetId=n,this.V=e},zse=function(n,e,t,r){t===void 0&&(t=ns.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=n,this.targetIds=e,this.resumeToken=t,this.cause=r},h$=function(){function n(){this.S=0,this.D=p$(),this.C=ns.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(n.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),n.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},n.prototype.M=function(){var e=kn(),t=kn(),r=kn();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new s8(this.C,this.N,e,t,r)},n.prototype.L=function(){this.k=!1,this.D=p$()},n.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},n.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},n.prototype.U=function(){this.S+=1},n.prototype.K=function(){this.S-=1},n.prototype.j=function(){this.k=!0,this.N=!0},n}(),kqe=function(){function n(e){this.W=e,this.G=new Map,this.H=La(),this.J=d$(),this.Y=new ui(Qt)}return n.prototype.X=function(e){for(var t=0,r=e.v;t<r.length;t++){var i=r[t];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,s=e.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,e.key,e.P)},n.prototype.et=function(e){var t=this;this.forEachTarget(e,function(r){var i=t.nt(r);switch(e.state){case 0:t.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||t.removeTarget(r);break;case 3:t.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:t.st(r)&&(t.it(r),i.O(e.resumeToken));break;default:it()}})},n.prototype.forEachTarget=function(e,t){var r=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(i,o){r.st(o)&&t(o)})},n.prototype.rt=function(e){var t=e.targetId,r=e.V.count,i=this.ot(t);if(i){var o=i.target;if(SD(o))if(r===0){var s=new ct(o.path);this.tt(t,s,Yi.newNoDocument(s,jt.min()))}else _t(r===1);else this.ct(t)!==r&&(this.it(t),this.Y=this.Y.add(t))}},n.prototype.ut=function(e){var t=this,r=new Map;this.G.forEach(function(s,a){var u=t.ot(a);if(u){if(s.current&&SD(u.target)){var l=new ct(u.target.path);t.H.get(l)!==null||t.at(a,l)||t.tt(a,l,Yi.newNoDocument(l,e))}s.$&&(r.set(a,s.M()),s.L())}});var i=kn();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(l){var c=t.ot(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new o8(e,r,this.Y,this.H,i);return this.H=La(),this.J=d$(),this.Y=new ui(Qt),o},n.prototype.Z=function(e,t){if(this.st(e)){var r=this.at(e,t.key)?2:0;this.nt(e).B(t.key,r),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},n.prototype.tt=function(e,t,r){if(this.st(e)){var i=this.nt(e);this.at(e,t)?i.B(t,1):i.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),r&&(this.H=this.H.insert(t,r))}},n.prototype.removeTarget=function(e){this.G.delete(e)},n.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},n.prototype.U=function(e){this.nt(e).U()},n.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new h$,this.G.set(e,t)),t},n.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ui(Qt),this.J=this.J.insert(e,t)),t},n.prototype.st=function(e){var t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t},n.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},n.prototype.it=function(e){var t=this;this.G.set(e,new h$),this.W.getRemoteKeysForTarget(e).forEach(function(r){t.tt(e,r,null)})},n.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},n}();function d$(){return new Ao(ct.comparator)}function p$(){return new Ao(ct.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rqe={asc:"ASCENDING",desc:"DESCENDING"},Pqe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mqe=function(n,e){this.databaseId=n,this.I=e};function b1(n,e){return n.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gse(n,e){return n.I?e.toBase64():e.toUint8Array()}function Fqe(n,e){return b1(n,e.toTimestamp())}function xi(n){return _t(!!n),jt.fromTimestamp(function(e){var t=Ch(e);return new Ts(t.seconds,t.nanos)}(n))}function a8(n,e){return function(t){return new gn(["projects",t.projectId,"databases",t.database])}(n).child("documents").child(e).canonicalString()}function $se(n){var e=gn.fromString(n);return _t(tae(e)),e}function C1(n,e){return a8(n.databaseId,e.path)}function dl(n,e){var t=$se(e);if(t.get(1)!==n.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ct(Yse(t))}function W3(n,e){return a8(n.databaseId,e)}function Kse(n){var e=$se(n);return e.length===4?gn.emptyPath():Yse(e)}function w1(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yse(n){return _t(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function g$(n,e,t){return{name:C1(n,e),fields:t.value.mapValue.fields}}function Xse(n,e,t){var r=dl(n,e.name),i=xi(e.updateTime),o=new Qs({mapValue:{fields:e.fields}}),s=Yi.newFoundDocument(r,i,o);return t&&s.setHasCommittedMutations(),t?s.setHasCommittedMutations():s}function AD(n,e){var t;if(e instanceof PC)t={update:g$(n,e.key,e.value)};else if(e instanceof MC)t={delete:C1(n,e.key)};else if(e instanceof Wh)t={update:g$(n,e.key,e.data),updateMask:Uqe(e.fieldMask)};else{if(!(e instanceof i8))return it();t={verify:C1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof qm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Up)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof jp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zm)return{fieldPath:o.field.canonicalString(),increment:s.A};throw it()}(0,r)})),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Fqe(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:it()}(n,e.precondition)),t}function v$(n,e){var t=e.currentDocument?function(l){return l.updateTime!==void 0?go.updateTime(xi(l.updateTime)):l.exists!==void 0?go.exists(l.exists):go.none()}(e.currentDocument):go.none(),r=e.updateTransforms?e.updateTransforms.map(function(l){return function(c,d){var h=null;if("setToServerValue"in d)_t(d.setToServerValue==="REQUEST_TIME"),h=new qm;else if("appendMissingElements"in d){var p=d.appendMissingElements.values||[];h=new Up(p)}else if("removeAllFromArray"in d){var v=d.removeAllFromArray.values||[];h=new jp(v)}else"increment"in d?h=new zm(c,d.increment):it();var m=Du.fromServerFormat(d.fieldPath);return new RC(m,h)}(n,l)}):[];if(e.update){e.update.name;var i=dl(n,e.update.name),o=new Qs({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Vm(c.map(function(d){return Du.fromServerFormat(d)}))}(e.updateMask);return new Wh(i,o,s,t,r)}return new PC(i,o,t,r)}if(e.delete){var a=dl(n,e.delete);return new MC(a,t)}if(e.verify){var u=dl(n,e.verify);return new i8(u,t)}return it()}function Qse(n,e){return{documents:[W3(n,e.path)]}}function Zse(n,e){var t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=W3(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=W3(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(l){return function(c){if(c.op==="=="){if(n$(c.value))return{unaryFilter:{field:dv(c.field),op:"IS_NAN"}};if(t$(c.value))return{unaryFilter:{field:dv(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(n$(c.value))return{unaryFilter:{field:dv(c.field),op:"IS_NOT_NAN"}};if(t$(c.value))return{unaryFilter:{field:dv(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dv(c.field),op:Hqe(c.op),value:c.value}}}(l)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(e.filters);i&&(t.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(l){return{field:dv(l.field),direction:Bqe(l.dir)}}(u)})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);var s=function(a,u){return a.I||vg(u)?u:{value:u}}(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=m$(e.startAt)),e.endAt&&(t.structuredQuery.endAt=m$(e.endAt)),t}function Jse(n){var e=Kse(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_t(r===1);var o=t.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];t.where&&(s=eae(t.where));var a=[];t.orderBy&&(a=t.orderBy.map(function(d){return function(h){return new im(Wv(h.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)}));var u=null;t.limit&&(u=function(d){var h;return vg(h=typeof d=="object"?d.value:d)?null:h}(t.limit));var l=null;t.startAt&&(l=_$(t.startAt));var c=null;return t.endAt&&(c=_$(t.endAt)),xse(e,i,a,s,u,"F",l,c)}function eae(n){return n?n.unaryFilter!==void 0?[Wqe(n)]:n.fieldFilter!==void 0?[Vqe(n)]:n.compositeFilter!==void 0?n.compositeFilter.filters.map(function(e){return eae(e)}).reduce(function(e,t){return e.concat(t)}):it():[]}function m$(n){return{before:n.before,values:n.position}}function _$(n){var e=!!n.before,t=n.values||[];return new y1(t,e)}function Bqe(n){return Rqe[n]}function Hqe(n){return Pqe[n]}function dv(n){return{fieldPath:n.canonicalString()}}function Wv(n){return Du.fromServerFormat(n.fieldPath)}function Vqe(n){return ta.create(Wv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function Wqe(n){switch(n.unaryFilter.op){case"IS_NAN":var e=Wv(n.unaryFilter.field);return ta.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=Wv(n.unaryFilter.field);return ta.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wv(n.unaryFilter.field);return ta.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wv(n.unaryFilter.field);return ta.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return it()}}function Uqe(n){var e=[];return n.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function tae(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){for(var e="",t=0;t<n.length;t++)e.length>0&&(e=y$(e)),e=jqe(n.get(t),e);return y$(e)}function jqe(n,e){for(var t=e,r=n.length,i=0;i<r;i++){var o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function y$(n){return n+""}function gc(n){var e=n.length;if(_t(e>=2),e===2)return _t(n.charAt(0)===""&&n.charAt(1)===""),gn.emptyPath();for(var t=e-2,r=[],i="",o=0;o<e;){var s=n.indexOf("",o);switch((s<0||s>t)&&it(),n.charAt(s+1)){case"":var a=n.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:it()}o=s+2}return new gn(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qqe=function(n,e){this.seconds=n,this.nanoseconds=e},qs=function(n,e,t){this.ownerId=n,this.allowTabSynchronization=e,this.leaseTimestampMs=t};qs.store="owner",qs.key="owner";var oh=function(n,e,t){this.userId=n,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};oh.store="mutationQueues",oh.keyPath="userId";var er=function(n,e,t,r,i){this.userId=n,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=r,this.mutations=i};er.store="mutations",er.keyPath="batchId",er.userMutationsIndex="userMutationsIndex",er.userMutationsKeyPath=["userId","batchId"];var co=function(){function n(){}return n.prefixForUser=function(e){return[e]},n.prefixForPath=function(e,t){return[e,bu(t)]},n.key=function(e,t,r){return[e,bu(t),r]},n}();co.store="documentMutations",co.PLACEHOLDER=new co;var zqe=function(n,e){this.path=n,this.readTime=e},Gqe=function(n,e){this.path=n,this.version=e},yr=function(n,e,t,r,i,o){this.unknownDocument=n,this.noDocument=e,this.document=t,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yr.store="remoteDocuments",yr.readTimeIndex="readTimeIndex",yr.readTimeIndexPath="readTime",yr.collectionReadTimeIndex="collectionReadTimeIndex",yr.collectionReadTimeIndexPath=["parentPath","readTime"];var ol=function(n){this.byteSize=n};ol.store="remoteDocumentGlobal",ol.key="remoteDocumentGlobalKey";var Cs=function(n,e,t,r,i,o,s){this.targetId=n,this.canonicalId=e,this.readTime=t,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Cs.store="targets",Cs.keyPath="targetId",Cs.queryTargetsIndexName="queryTargetsIndex",Cs.queryTargetsKeyPath=["canonicalId","targetId"];var qi=function(n,e,t){this.targetId=n,this.path=e,this.sequenceNumber=t};qi.store="targetDocuments",qi.keyPath=["targetId","path"],qi.documentTargetsIndex="documentTargetsIndex",qi.documentTargetsKeyPath=["path","targetId"];var $s=function(n,e,t,r){this.highestTargetId=n,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=r};$s.key="targetGlobalKey",$s.store="targetGlobal";var wp=function(n,e){this.collectionId=n,this.parent=e};wp.store="collectionParents",wp.keyPath=["collectionId","parent"];var wc=function(n,e,t,r){this.clientId=n,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=r};wc.store="clientMetadata",wc.keyPath="clientId";var Gm=function(n,e,t){this.bundleId=n,this.createTime=e,this.version=t};Gm.store="bundles",Gm.keyPath="bundleId";var $m=function(n,e,t){this.name=n,this.readTime=e,this.bundledQuery=t};$m.store="namedQueries",$m.keyPath="name";var $qe=Vt(Vt([],Vt(Vt([],Vt(Vt([],Vt(Vt([],[oh.store,er.store,co.store,yr.store,Cs.store,qs.store,$s.store,qi.store]),[wc.store])),[ol.store])),[wp.store])),[Gm.store,$m.store]),nae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rae=function(){function n(){this.onCommittedListeners=[]}return n.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},n.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},n}(),Co=function(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})},Te=function(){function n(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){t.isDone=!0,t.result=r,t.nextCallback&&t.nextCallback(r)},function(r){t.isDone=!0,t.error=r,t.catchCallback&&t.catchCallback(r)})}return n.prototype.catch=function(e){return this.next(void 0,e)},n.prototype.next=function(e,t){var r=this;return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n(function(i,o){r.nextCallback=function(s){r.wrapSuccess(e,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(t,s).next(i,o)}})},n.prototype.toPromise=function(){var e=this;return new Promise(function(t,r){e.next(t,r)})},n.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof n?t:n.resolve(t)}catch(r){return n.reject(r)}},n.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.resolve(t)},n.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.reject(t)},n.resolve=function(e){return new n(function(t,r){t(e)})},n.reject=function(e){return new n(function(t,r){r(e)})},n.waitFor=function(e){return new n(function(t,r){var i=0,o=0,s=!1;e.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&t()},function(u){return r(u)})}),s=!0,o===i&&t()})},n.or=function(e){for(var t=n.resolve(!1),r=function(s){t=t.next(function(a){return a?n.resolve(a):s()})},i=0,o=e;i<o.length;i++)r(o[i]);return t},n.forEach=function(e,t){var r=this,i=[];return e.forEach(function(o,s){i.push(t.call(r,o,s))}),this.waitFor(i)},n}(),iae=function(){function n(e,t){var r=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Co,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){t.error?r.ft.reject(new sb(e,t.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=u8(i.target.error);r.ft.reject(new sb(e,o))}}return n.open=function(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new sb(t,o)}},Object.defineProperty(n.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),n.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},n.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Yqe(t)},n}(),Km=function(){function n(e,t,r){this.name=e,this.version=t,this.wt=r,n._t(Ap())===12.2&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return n.delete=function(e){return xe("SimpleDb","Removing database:",e),Gd(window.indexedDB.deleteDatabase(e)).toPromise()},n.yt=function(){if(typeof indexedDB>"u")return!1;if(n.gt())return!0;var e=Ap(),t=n._t(e),r=0<t&&t<10,i=n.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},n.gt=function(){var e;return typeof process<"u"&&((e=uqe)===null||e===void 0?void 0:e.Tt)==="YES"},n.It=function(e,t){return e.store(t)},n._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)},n.Et=function(e){var t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)},n.prototype.At=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(xe("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var l=u.target.result;o(l)},a.onblocked=function(){s(new sb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var l=u.target.error;l.name==="VersionError"?s(new be(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new sb(e,l))},a.onupgradeneeded=function(u){xe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var l=u.target.result;r.wt.Rt(l,a.transaction,u.oldVersion,r.version).next(function(){xe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:t.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},n.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},n.prototype.runTransaction=function(e,t,r,i){return X(this,void 0,void 0,function(){var o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:o=t==="readonly",s=0,a=function(){var d,h,p,v,m;return Y(this,function(_){switch(_.label){case 0:++s,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=_.sent(),d=iae.open(u.db,e,o?"readonly":"readwrite",r),h=i(d).catch(function(b){return d.abort(b),Te.reject(b)}).toPromise(),p={},h.catch(function(){}),[4,d.dt];case 3:return[2,(p.value=(_.sent(),h),p)];case 4:return v=_.sent(),m=v.name!=="FirebaseError"&&s<3,xe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",m),u.close(),m?[3,5]:[2,{value:Promise.reject(v)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},n.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},n}(),Kqe=function(){function n(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(n.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),n.prototype.done=function(){this.Vt=!0},n.prototype.Ct=function(e){this.St=e},n.prototype.delete=function(){return Gd(this.Pt.delete())},n}(),sb=function(n){function e(t,r){var i=this;return(i=n.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Fe(e,n),e}(be);function mg(n){return n.name==="IndexedDbTransactionError"}var Yqe=function(){function n(e){this.store=e}return n.prototype.put=function(e,t){var r;return t!==void 0?(xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gd(r)},n.prototype.add=function(e){return xe("SimpleDb","ADD",this.store.name,e,e),Gd(this.store.add(e))},n.prototype.get=function(e){var t=this;return Gd(this.store.get(e)).next(function(r){return r===void 0&&(r=null),xe("SimpleDb","GET",t.store.name,e,r),r})},n.prototype.delete=function(e){return xe("SimpleDb","DELETE",this.store.name,e),Gd(this.store.delete(e))},n.prototype.count=function(){return xe("SimpleDb","COUNT",this.store.name),Gd(this.store.count())},n.prototype.Nt=function(e,t){var r=this.cursor(this.options(e,t)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},n.prototype.kt=function(e,t){xe("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,t);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},n.prototype.$t=function(e,t){var r;t?r=e:(r={},t=e);var i=this.cursor(r);return this.xt(i,t)},n.prototype.Ot=function(e){var t=this.cursor({});return new Te(function(r,i){t.onerror=function(o){var s=u8(o.target.error);i(s)},t.onsuccess=function(o){var s=o.target.result;s?e(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},n.prototype.xt=function(e,t){var r=[];return new Te(function(i,o){e.onerror=function(s){o(s.target.error)},e.onsuccess=function(s){var a=s.target.result;if(a){var u=new Kqe(a),l=t(a.primaryKey,a.value,u);if(l instanceof Te){var c=l.catch(function(d){return u.done(),Te.reject(d)});r.push(c)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return Te.waitFor(r)})},n.prototype.options=function(e,t){var r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}},n.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},n}();function Gd(n){return new Te(function(e,t){n.onsuccess=function(r){var i=r.target.result;e(i)},n.onerror=function(r){var i=u8(r.target.error);t(i)}})}var b$=!1;function u8(n){var e=Km._t(Ap());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){var r=new be("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return b$||(b$=!0,setTimeout(function(){throw r},0)),r}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C$=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).Mt=t,i.currentSequenceNumber=r,i}return Fe(e,n),e}(rae);function ks(n,e){var t=Me(n);return Km.It(t.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l8=function(){function n(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}return n.prototype.applyToRemoteDocument=function(e,t){for(var r=t.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&Tqe(o,e,r[i])}},n.prototype.applyToLocalView=function(e){for(var t=0,r=this.baseMutations;t<r.length;t++)(s=r[t]).key.isEqual(e.key)&&H3(s,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(e.key)&&H3(s,e,this.localWriteTime)}},n.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;t.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(jt.min())})},n.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},kn())},n.prototype.isEqual=function(e){return this.batchId===e.batchId&&Hm(this.mutations,e.mutations,function(t,r){return a$(t,r)})&&Hm(this.baseMutations,e.baseMutations,function(t,r){return a$(t,r)})},n}(),Xqe=function(){function n(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}return n.from=function(e,t,r){_t(e.mutations.length===r.length);for(var i=jse(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)},n}(),uI=function(){function n(e,t,r,i,o,s,a){o===void 0&&(o=jt.min()),s===void 0&&(s=jt.min()),a===void 0&&(a=ns.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return n.prototype.withSequenceNumber=function(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},n.prototype.withResumeToken=function(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},n.prototype.withLastLimboFreeSnapshotVersion=function(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},n}(),oae=function(n){this.Lt=n};function U3(n,e){if(e.document)return Xse(n.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ct.fromSegments(e.noDocument.path),r=Xm(e.noDocument.readTime),i=Yi.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ct.fromSegments(e.unknownDocument.path);return r=Xm(e.unknownDocument.version),Yi.newUnknownDocument(o,r)}return it()}function w$(n,e,t){var r=c8(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(d,h){return{name:C1(d,h.key),fields:h.data.value.mapValue.fields,updateTime:b1(d,h.version.toTimestamp())}}(n.Lt,e),s=e.hasCommittedMutations;return new yr(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Ym(e.version);return s=e.hasCommittedMutations,new yr(null,new zqe(a,u),null,s,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),c=Ym(e.version);return new yr(new Gqe(l,c),null,null,!0,r,i)}return it()}function c8(n){var e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sae(n){var e=new Ts(n[0],n[1]);return jt.fromTimestamp(e)}function Ym(n){var e=n.toTimestamp();return new qqe(e.seconds,e.nanoseconds)}function Xm(n){var e=new Ts(n.seconds,n.nanoseconds);return jt.fromTimestamp(e)}function Av(n,e){for(var t=(e.baseMutations||[]).map(function(u){return v$(n.Lt,u)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map(function(u){return v$(n.Lt,u)}),a=Ts.fromMillis(e.localWriteTimeMs);return new l8(e.batchId,a,t,s)}function Iy(n){var e,t,r=Xm(n.readTime),i=n.lastLimboFreeSnapshotVersion!==void 0?Xm(n.lastLimboFreeSnapshotVersion):jt.min();return n.query.documents!==void 0?(_t((t=n.query).documents.length===1),e=Pa(V_(Kse(t.documents[0])))):e=function(o){return Pa(Jse(o))}(n.query),new uI(e,n.targetId,0,n.lastListenSequenceNumber,r,i,ns.fromBase64String(n.resumeToken))}function aae(n,e){var t,r=Ym(e.snapshotVersion),i=Ym(e.lastLimboFreeSnapshotVersion);t=SD(e.target)?Qse(n.Lt,e.target):Zse(n.Lt,e.target);var o=e.resumeToken.toBase64();return new Cs(e.targetId,NC(e.target),r,o,e.sequenceNumber,i,t)}function f8(n){var e=Jse({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lse(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qqe=function(){function n(){}return n.prototype.getBundleMetadata=function(e,t){return E$(e).get(t).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Xm(i.createTime),version:i.version};var i})},n.prototype.saveBundleMetadata=function(e,t){return E$(e).put({bundleId:(r=t).id,createTime:Ym(xi(r.createTime)),version:r.version});var r},n.prototype.getNamedQuery=function(e,t){return S$(e).get(t).next(function(r){if(r)return{name:(i=r).name,query:f8(i.bundledQuery),readTime:Xm(i.readTime)};var i})},n.prototype.saveNamedQuery=function(e,t){return S$(e).put(function(r){return{name:r.name,readTime:Ym(xi(r.readTime)),bundledQuery:r.bundledQuery}}(t))},n}();function E$(n){return ks(n,Gm.store)}function S$(n){return ks(n,$m.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zqe=function(){function n(){this.Bt=new h8}return n.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Te.resolve()},n.prototype.getCollectionParents=function(e,t){return Te.resolve(this.Bt.getEntries(t))},n}(),h8=function(){function n(){this.index={}}return n.prototype.add=function(e){var t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ui(gn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o},n.prototype.has=function(e){var t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)},n.prototype.getEntries=function(e){return(this.index[e]||new ui(gn.comparator)).toArray()},n}(),Jqe=function(){function n(){this.qt=new h8}return n.prototype.addToCollectionParentIndex=function(e,t){var r=this;if(!this.qt.has(t)){var i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(function(){r.qt.add(t)});var s={collectionId:i,parent:bu(o)};return T$(e).put(s)}return Te.resolve()},n.prototype.getCollectionParents=function(e,t){var r=[],i=IDBKeyRange.bound([t,""],[wse(t),""],!1,!0);return T$(e).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==t)break;r.push(gc(u.parent))}return r})},n}();function T$(n){return ks(n,wp.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gu=function(){function n(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}return n.withCacheSize=function(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(n,e,t){var r=n.store(er.store),i=n.store(co.store),o=[],s=IDBKeyRange.only(t.batchId),a=0,u=r.$t({range:s},function(v,m,_){return a++,_.delete()});o.push(u.next(function(){_t(a===1)}));for(var l=[],c=0,d=t.mutations;c<d.length;c++){var h=d[c],p=co.key(e,h.key.path,t.batchId);o.push(i.delete(p)),l.push(h.key)}return Te.waitFor(o).next(function(){return l})}function ID(n){if(!n)return 0;var e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gu.DEFAULT_COLLECTION_PERCENTILE=10,Gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gu.DEFAULT=new Gu(41943040,Gu.DEFAULT_COLLECTION_PERCENTILE,Gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gu.DISABLED=new Gu(-1,0,0);var eze=function(){function n(e,t,r,i){this.userId=e,this.R=t,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return n.Qt=function(e,t,r,i){return _t(e.uid!==""),new n(e.isAuthenticated()?e.uid:"",t,r,i)},n.prototype.checkEmpty=function(e){var t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).$t({index:er.userMutationsIndex,range:r},function(i,o,s){t=!1,s.done()}).next(function(){return t})},n.prototype.addMutationBatch=function(e,t,r,i){var o=this,s=Iv(e),a=hf(e);return a.add({}).next(function(u){_t(typeof u=="number");for(var l=new l8(u,t,r,i),c=function(b,C,E){var T=E.baseMutations.map(function(S){return AD(b.Lt,S)}),A=E.mutations.map(function(S){return AD(b.Lt,S)});return new er(C,E.batchId,E.localWriteTime.toMillis(),T,A)}(o.R,o.userId,l),d=[],h=new ui(function(b,C){return Qt(b.canonicalString(),C.canonicalString())}),p=0,v=i;p<v.length;p++){var m=v[p],_=co.key(o.userId,m.key.path,u);h=h.add(m.key.path.popLast()),d.push(a.put(c)),d.push(s.put(_,co.PLACEHOLDER))}return h.forEach(function(b){d.push(o.Ut.addToCollectionParentIndex(e,b))}),e.addOnCommittedListener(function(){o.Kt[u]=l.keys()}),Te.waitFor(d).next(function(){return l})})},n.prototype.lookupMutationBatch=function(e,t){var r=this;return hf(e).get(t).next(function(i){return i?(_t(i.userId===r.userId),Av(r.R,i)):null})},n.prototype.jt=function(e,t){var r=this;return this.Kt[t]?Te.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(i){if(i){var o=i.keys();return r.Kt[t]=o,o}return null})},n.prototype.getNextMutationBatchAfterBatchId=function(e,t){var r=this,i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return hf(e).$t({index:er.userMutationsIndex,range:o},function(a,u,l){u.userId===r.userId&&(_t(u.batchId>=i),s=Av(r.R,u)),l.done()}).next(function(){return s})},n.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return hf(e).$t({index:er.userMutationsIndex,range:t,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},n.prototype.getAllMutationBatches=function(e){var t=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).Nt(er.userMutationsIndex,r).next(function(i){return i.map(function(o){return Av(t.R,o)})})},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var r=this,i=co.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=[];return Iv(e).$t({range:o},function(a,u,l){var c=a[0],d=a[1],h=a[2],p=gc(d);if(c===r.userId&&t.path.isEqual(p))return hf(e).get(h).next(function(v){if(!v)throw it();_t(v.userId===r.userId),s.push(Av(r.R,v))});l.done()}).next(function(){return s})},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var r=this,i=new ui(Qt),o=[];return t.forEach(function(s){var a=co.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),l=Iv(e).$t({range:u},function(c,d,h){var p=c[0],v=c[1],m=c[2],_=gc(v);p===r.userId&&s.path.isEqual(_)?i=i.add(m):h.done()});o.push(l)}),Te.waitFor(o).next(function(){return r.Wt(e,i)})},n.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var r=this,i=t.path,o=i.length+1,s=co.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new ui(Qt);return Iv(e).$t({range:a},function(l,c,d){var h=l[0],p=l[1],v=l[2],m=gc(p);h===r.userId&&i.isPrefixOf(m)?m.length===o&&(u=u.add(v)):d.done()}).next(function(){return r.Wt(e,u)})},n.prototype.Wt=function(e,t){var r=this,i=[],o=[];return t.forEach(function(s){o.push(hf(e).get(s).next(function(a){if(a===null)throw it();_t(a.userId===r.userId),i.push(Av(r.R,a))}))}),Te.waitFor(o).next(function(){return i})},n.prototype.removeMutationBatch=function(e,t){var r=this;return uae(e.Mt,this.userId,t).next(function(i){return e.addOnCommittedListener(function(){r.Gt(t.batchId)}),Te.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},n.prototype.Gt=function(e){delete this.Kt[e]},n.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(r){if(!r)return Te.resolve();var i=IDBKeyRange.lowerBound(co.prefixForUser(t.userId)),o=[];return Iv(e).$t({range:i},function(s,a,u){if(s[0]===t.userId){var l=gc(s[1]);o.push(l)}else u.done()}).next(function(){_t(o.length===0)})})},n.prototype.containsKey=function(e,t){return lae(e,this.userId,t)},n.prototype.zt=function(e){var t=this;return cae(e).get(this.userId).next(function(r){return r||new oh(t.userId,-1,"")})},n}();function lae(n,e,t){var r=co.prefixForPath(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Iv(n).$t({range:o,Ft:!0},function(a,u,l){var c=a[0],d=a[1];a[2],c===e&&d===i&&(s=!0),l.done()}).next(function(){return s})}function hf(n){return ks(n,er.store)}function Iv(n){return ks(n,co.store)}function cae(n){return ks(n,oh.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xD=function(){function n(e){this.Ht=e}return n.prototype.next=function(){return this.Ht+=2,this.Ht},n.Jt=function(){return new n(0)},n.Yt=function(){return new n(-1)},n}(),tze=function(){function n(e,t){this.referenceDelegate=e,this.R=t}return n.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(r){var i=new xD(r.highestTargetId);return r.highestTargetId=i.next(),t.Zt(e,r).next(function(){return r.highestTargetId})})},n.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return jt.fromTimestamp(new Ts(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},n.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},n.prototype.setTargetsMetadata=function(e,t,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),i.Zt(e,o)})},n.prototype.addTargetData=function(e,t){var r=this;return this.te(e,t).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(t,i),r.Zt(e,i)})})},n.prototype.updateTargetData=function(e,t){return this.te(e,t)},n.prototype.removeTargetData=function(e,t){var r=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return pv(e).delete(t.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return _t(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},n.prototype.removeTargets=function(e,t,r){var i=this,o=0,s=[];return pv(e).$t(function(a,u){var l=Iy(u);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(e,l)))}).next(function(){return Te.waitFor(s)}).next(function(){return o})},n.prototype.forEachTarget=function(e,t){return pv(e).$t(function(r,i){var o=Iy(i);t(o)})},n.prototype.Xt=function(e){return A$(e).get($s.key).next(function(t){return _t(t!==null),t})},n.prototype.Zt=function(e,t){return A$(e).put($s.key,t)},n.prototype.te=function(e,t){return pv(e).put(aae(this.R,t))},n.prototype.ee=function(e,t){var r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},n.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},n.prototype.getTargetData=function(e,t){var r=NC(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return pv(e).$t({range:i,index:Cs.queryTargetsIndexName},function(s,a,u){var l=Iy(a);iI(t,l.target)&&(o=l,u.done())}).next(function(){return o})},n.prototype.addMatchingKeys=function(e,t,r){var i=this,o=[],s=Lf(e);return t.forEach(function(a){var u=bu(a.path);o.push(s.put(new qi(r,u))),o.push(i.referenceDelegate.addReference(e,r,a))}),Te.waitFor(o)},n.prototype.removeMatchingKeys=function(e,t,r){var i=this,o=Lf(e);return Te.forEach(t,function(s){var a=bu(s.path);return Te.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(e,r,s)])})},n.prototype.removeMatchingKeysForTargetId=function(e,t){var r=Lf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)},n.prototype.getMatchingKeysForTargetId=function(e,t){var r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Lf(e),o=kn();return i.$t({range:r,Ft:!0},function(s,a,u){var l=gc(s[1]),c=new ct(l);o=o.add(c)}).next(function(){return o})},n.prototype.containsKey=function(e,t){var r=bu(t.path),i=IDBKeyRange.bound([r],[wse(r)],!1,!0),o=0;return Lf(e).$t({index:qi.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var l=s[0];s[1],l!==0&&(o++,u.done())}).next(function(){return o>0})},n.prototype.lt=function(e,t){return pv(e).get(t).next(function(r){return r?Iy(r):null})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n){return ks(n,Cs.store)}function A$(n){return ks(n,$s.store)}function Lf(n){return ks(n,qi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n){return X(this,void 0,void 0,function(){return Y(this,function(e){if(n.code!==oe.FAILED_PRECONDITION||n.message!==nae)throw n;return xe("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(n,e){var t=n[0],r=n[1],i=e[0],o=e[1],s=Qt(t,i);return s===0?Qt(r,o):s}var nze=function(){function n(e){this.ne=e,this.buffer=new ui(I$),this.se=0}return n.prototype.ie=function(){return++this.se},n.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var r=this.buffer.last();I$(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}},Object.defineProperty(n.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),n}(),rze=function(){function n(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return n.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},n.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(n.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),n.prototype.ue=function(e){var t=this,r=this.oe?3e5:6e4;xe("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return X(t,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return mg(i=o.sent())?(xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,_g(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},n}(),ize=function(){function n(e,t){this.ae=e,this.params=t}return n.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(r){return Math.floor(t/100*r)})},n.prototype.nthSequenceNumber=function(e,t){var r=this;if(t===0)return Te.resolve(ea.o);var i=new nze(t);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},n.prototype.removeTargets=function(e,t,r){return this.ae.removeTargets(e,t,r)},n.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},n.prototype.collect=function(e,t){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(D$)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),D$):r.fe(e,t)})},n.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},n.prototype.fe=function(e,t){var r,i,o,s,a,u,l,c=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(h){return h>c.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+h),i=c.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),c.nthSequenceNumber(e,i)}).next(function(h){return r=h,a=Date.now(),c.removeTargets(e,r,t)}).next(function(h){return o=h,u=Date.now(),c.removeOrphanedDocuments(e,r)}).next(function(h){return l=Date.now(),P3()<=zt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-d)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+h+" documents in "+(l-u)+`ms
Total Duration: `+(l-d)+"ms"),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},n}(),oze=function(){function n(e,t){this.db=e,this.garbageCollector=function(r,i){return new ize(r,i)}(this,t)}return n.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return t.next(function(i){return r+i})})},n.prototype.de=function(e){var t=0;return this.le(e,function(r){t++}).next(function(){return t})},n.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},n.prototype.le=function(e,t){return this.we(e,function(r,i){return t(i)})},n.prototype.addReference=function(e,t,r){return ZE(e,r)},n.prototype.removeReference=function(e,t,r){return ZE(e,r)},n.prototype.removeTargets=function(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)},n.prototype.markPotentiallyOrphaned=function(e,t){return ZE(e,t)},n.prototype._e=function(e,t){return function(r,i){var o=!1;return cae(r).Ot(function(s){return lae(r,s,i).next(function(a){return a&&(o=!0),Te.resolve(!a)})}).next(function(){return o})}(e,t)},n.prototype.removeOrphanedDocuments=function(e,t){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(e,function(a,u){if(u<=t){var l=r._e(e,a).next(function(c){if(!c)return s++,i.getEntry(e,a).next(function(){return i.removeEntry(a),Lf(e).delete([0,bu(a.path)])})});o.push(l)}}).next(function(){return Te.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return s})},n.prototype.removeTarget=function(e,t){var r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},n.prototype.updateLimboDocument=function(e,t){return ZE(e,t)},n.prototype.we=function(e,t){var r,i=Lf(e),o=ea.o;return i.$t({index:qi.documentTargetsIndex},function(s,a){var u=s[0];s[1];var l=a.path,c=a.sequenceNumber;u===0?(o!==ea.o&&t(new ct(gc(r)),o),o=c,r=l):o=ea.o}).next(function(){o!==ea.o&&t(new ct(gc(r)),o)})},n.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},n}();function ZE(n,e){return Lf(n).put(function(t,r){return new qi(0,bu(t.path),r)}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W_=function(){function n(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return n.prototype.get=function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,e))return u}},n.prototype.has=function(e){return this.get(e)!==void 0},n.prototype.set=function(e,t){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]},n.prototype.delete=function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),!0;return!1},n.prototype.forEach=function(e){gg(this.inner,function(t,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];e(a,u)}})},n.prototype.isEmpty=function(){return Ese(this.inner)},n}(),fae=function(){function n(){this.changes=new W_(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return n.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:jt.min()},n.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},n.prototype.removeEntry=function(e,t){t===void 0&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Yi.newInvalidDocument(e),readTime:t})},n.prototype.getEntry=function(e,t){this.assertNotApplied();var r=this.changes.get(t);return r!==void 0?Te.resolve(r.document):this.getFromCache(e,t)},n.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},n.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},n.prototype.assertNotApplied=function(){},n}(),sze=function(){function n(e,t){this.R=e,this.Ut=t}return n.prototype.addEntry=function(e,t,r){return Af(e).put(JE(t),r)},n.prototype.removeEntry=function(e,t){var r=Af(e),i=JE(t);return r.delete(i)},n.prototype.updateMetadata=function(e,t){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=t,r.me(e,i)})},n.prototype.getEntry=function(e,t){var r=this;return Af(e).get(JE(t)).next(function(i){return r.ye(t,i)})},n.prototype.ge=function(e,t){var r=this;return Af(e).get(JE(t)).next(function(i){return{document:r.ye(t,i),size:ID(i)}})},n.prototype.getEntries=function(e,t){var r=this,i=La();return this.pe(e,t,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},n.prototype.Ee=function(e,t){var r=this,i=La(),o=new Ao(ct.comparator);return this.pe(e,t,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,ID(a))}).next(function(){return{documents:i,Te:o}})},n.prototype.pe=function(e,t,r){if(t.isEmpty())return Te.resolve();var i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),s=o.getNext();return Af(e).$t({range:i},function(a,u,l){for(var c=ct.fromSegments(a);s&&ct.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},n.prototype.getDocumentsMatchingQuery=function(e,t,r){var i=this,o=La(),s=t.path.length+1,a={};if(r.isEqual(jt.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var l=t.path.toArray(),c=c8(r);a.range=IDBKeyRange.lowerBound([l,c],!0),a.index=yr.collectionReadTimeIndex}return Af(e).$t(a,function(d,h,p){if(d.length===s){var v=U3(i.R,h);t.path.isPrefixOf(v.key.path)?kC(t,v)&&(o=o.insert(v.key,v)):p.done()}}).next(function(){return o})},n.prototype.newChangeBuffer=function(e){return new aze(this,!!e&&e.trackRemovals)},n.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},n.prototype.getMetadata=function(e){return x$(e).get(ol.key).next(function(t){return _t(!!t),t})},n.prototype.me=function(e,t){return x$(e).put(ol.key,t)},n.prototype.ye=function(e,t){if(t){var r=U3(this.R,t);if(!r.isNoDocument()||!r.version.isEqual(jt.min()))return r}return Yi.newInvalidDocument(e)},n}(),aze=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).Ie=t,i.trackRemovals=r,i.Ae=new W_(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return Fe(e,n),e.prototype.applyChanges=function(t){var r=this,i=[],o=0,s=new ui(function(a,u){return Qt(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var l=r.Ae.get(a);if(u.document.isValidDocument()){var c=w$(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var d=ID(c);o+=d-l,i.push(r.Ie.addEntry(t,a,c))}else if(o-=l,r.trackRemovals){var h=w$(r.Ie.R,Yi.newNoDocument(a,jt.min()),r.getReadTime(a));i.push(r.Ie.addEntry(t,a,h))}else i.push(r.Ie.removeEntry(t,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(t,a))}),i.push(this.Ie.updateMetadata(t,o)),Te.waitFor(i)},e.prototype.getFromCache=function(t,r){var i=this;return this.Ie.ge(t,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(t,r){var i=this;return this.Ie.Ee(t,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},e}(fae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(n){return ks(n,ol.store)}function Af(n){return ks(n,yr.store)}function JE(n){return n.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uze=function(){function n(e){this.R=e}return n.prototype.Rt=function(e,t,r,i){var o=this;_t(r<i&&r>=0&&i<=11);var s=new iae("createOrUpgrade",t);r<1&&i>=1&&(function(u){u.createObjectStore(qs.store)}(e),function(u){u.createObjectStore(oh.store,{keyPath:oh.keyPath}),u.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0}),u.createObjectStore(co.store)}(e),L$(e),function(u){u.createObjectStore(yr.store)}(e));var a=Te.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(qi.store),u.deleteObjectStore(Cs.store),u.deleteObjectStore($s.store)}(e),L$(e)),a=a.next(function(){return function(u){var l=u.store($s.store),c=new $s(0,0,jt.min().toTimestamp(),0);return l.put($s.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,l){return l.store(er.store).Nt().next(function(c){u.deleteObjectStore(er.store),u.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0});var d=l.store(er.store),h=c.map(function(p){return d.put(p)});return Te.waitFor(h)})}(e,s)})),a=a.next(function(){(function(u){u.createObjectStore(wc.store,{keyPath:wc.keyPath})})(e)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(ol.store)}(e),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(e,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e),function(u){var l=u.objectStore(yr.store);l.createIndex(yr.readTimeIndex,yr.readTimeIndexPath,{unique:!1}),l.createIndex(yr.collectionReadTimeIndex,yr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(Gm.store,{keyPath:Gm.keyPath})})(e),function(u){u.createObjectStore($m.store,{keyPath:$m.keyPath})}(e)})),a},n.prototype.be=function(e){var t=0;return e.store(yr.store).$t(function(r,i){t+=ID(i)}).next(function(){var r=new ol(t);return e.store(ol.store).put(ol.key,r)})},n.prototype.Re=function(e){var t=this,r=e.store(oh.store),i=e.store(er.store);return r.Nt().next(function(o){return Te.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(er.userMutationsIndex,a).next(function(u){return Te.forEach(u,function(l){_t(l.userId===s.userId);var c=Av(t.R,l);return uae(e,s.userId,c).next(function(){})})})})})},n.prototype.ve=function(e){var t=e.store(qi.store),r=e.store(yr.store);return e.store($s.store).get($s.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new gn(s),l=function(c){return[0,bu(c)]}(u);o.push(t.get(l).next(function(c){return c?Te.resolve():function(d){return t.put(new qi(0,bu(d),i.highestListenSequenceNumber))}(u)}))}).next(function(){return Te.waitFor(o)})})},n.prototype.Pe=function(e,t){e.createObjectStore(wp.store,{keyPath:wp.keyPath});var r=t.store(wp.store),i=new h8,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:bu(u)})}};return t.store(yr.store).$t({Ft:!0},function(s,a){var u=new gn(s);return o(u.popLast())}).next(function(){return t.store(co.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var l=gc(u);return o(l.popLast())})})},n.prototype.Ve=function(e){var t=this,r=e.store(Cs.store);return r.$t(function(i,o){var s=Iy(o),a=aae(t.R,s);return r.put(a)})},n}();function L$(n){n.createObjectStore(qi.store,{keyPath:qi.keyPath}).createIndex(qi.documentTargetsIndex,qi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Cs.store,{keyPath:Cs.keyPath}).createIndex(Cs.queryTargetsIndexName,Cs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore($s.store)}var jk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lze=function(){function n(e,t,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(d){return Promise.resolve()},!n.yt())throw new be(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oze(this,i),this.Le=t+"main",this.R=new oae(u),this.Be=new Km(this.Le,11,new uze(this.R)),this.qe=new tze(this.referenceDelegate,this.R),this.Ut=new Jqe,this.Ue=function(d,h){return new sze(d,h)}(this.R,this.Ut),this.Ke=new Qqe,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return n.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new be(oe.FAILED_PRECONDITION,jk);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new ea(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},n.prototype.He=function(e){var t=this;return this.Me=function(r){return X(t,void 0,void 0,function(){return Y(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},n.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(r){return X(t,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},n.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return X(t,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},n.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return eS(t).put(new wc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(r){return e.isPrimary&&!r?e.Xe(t).next(function(){return!1}):!!r&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(mg(t))return xe("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},n.prototype.Je=function(e){var t=this;return dy(e).get(qs.key).next(function(r){return Te.resolve(t.tn(r))})},n.prototype.en=function(e){return eS(e).delete(this.clientId)},n.prototype.nn=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o=this;return Y(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=ks(a,wc.store);return u.Nt().next(function(l){var c=o.rn(l,18e5),d=l.filter(function(h){return c.indexOf(h)===-1});return Te.forEach(d,function(h){return u.delete(h.clientId)}).next(function(){return d})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.Qe)for(t=0,r=e;t<r.length;t++)i=r[t],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},n.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},n.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},n.prototype.Ye=function(e){var t=this;return this.Ce?Te.resolve(!0):dy(e).get(qs.key).next(function(r){if(r!==null&&t.sn(r.leaseTimestampMs,5e3)&&!t.cn(r.ownerId)){if(t.tn(r)&&t.networkEnabled)return!0;if(!t.tn(r)){if(!r.allowTabSynchronization)throw new be(oe.FAILED_PRECONDITION,jk);return!1}}return!(!t.networkEnabled||!t.inForeground)||eS(e).Nt().next(function(i){return t.rn(i,5e3).find(function(o){if(t.clientId!==o.clientId){var s=!t.networkEnabled&&o.networkEnabled,a=!t.inForeground&&o.inForeground,u=t.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return t.isPrimary!==r&&xe("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},n.prototype.shutdown=function(){return X(this,void 0,void 0,function(){var e=this;return Y(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[qs.store,wc.store],function(r){var i=new C$(r,ea.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},n.prototype.rn=function(e,t){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,t)&&!r.cn(i.clientId)})},n.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return eS(t).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(n.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),n.prototype.getMutationQueue=function(e){return eze.Qt(e,this.R,this.Ut,this.referenceDelegate)},n.prototype.getTargetCache=function(){return this.qe},n.prototype.getRemoteDocumentCache=function(){return this.Ue},n.prototype.getIndexManager=function(){return this.Ut},n.prototype.getBundleCache=function(){return this.Ke},n.prototype.runTransaction=function(e,t,r){var i=this;xe("IndexedDbPersistence","Starting transaction:",e);var o,s=t==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,s,$qe,function(a){return o=new C$(a,i.Ne?i.Ne.next():ea.o),t==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw qr("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new be(oe.FAILED_PRECONDITION,nae);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},n.prototype.dn=function(e){var t=this;return dy(e).get(qs.key).next(function(r){if(r!==null&&t.sn(r.leaseTimestampMs,5e3)&&!t.cn(r.ownerId)&&!t.tn(r)&&!(t.Ce||t.allowTabSynchronization&&r.allowTabSynchronization))throw new be(oe.FAILED_PRECONDITION,jk)})},n.prototype.Ze=function(e){var t=new qs(this.clientId,this.allowTabSynchronization,Date.now());return dy(e).put(qs.key,t)},n.yt=function(){return Km.yt()},n.prototype.Xe=function(e){var t=this,r=dy(e);return r.get(qs.key).next(function(i){return t.tn(i)?(xe("IndexedDbPersistence","Releasing primary lease."),r.delete(qs.key)):Te.resolve()})},n.prototype.sn=function(e,t){var r=Date.now();return!(e<r-t||e>r&&(qr("Detected an update time that is in the future: "+e+" > "+r),1))},n.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},n.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},n.prototype.Ge=function(){var e,t=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){t.un(),mbe()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},n.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},n.prototype.cn=function(e){var t;try{var r=((t=this.Qe)===null||t===void 0?void 0:t.getItem(this.on(e)))!==null;return xe("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return qr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},n.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}},n.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},n.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},n}();function dy(n){return ks(n,qs.store)}function eS(n){return ks(n,wc.store)}function d8(n,e){var t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var cze=function(n,e){this.progress=n,this.wn=e},hae=function(){function n(e,t,r){this.Ue=e,this._n=t,this.Ut=r}return n.prototype.mn=function(e,t){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(i){return r.yn(e,t,i)})},n.prototype.yn=function(e,t,r){return this.Ue.getEntry(e,t).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},n.prototype.gn=function(e,t){e.forEach(function(r,i){for(var o=0,s=t;o<s.length;o++)s[o].applyToLocalView(i)})},n.prototype.pn=function(e,t){var r=this;return this.Ue.getEntries(e,t).next(function(i){return r.En(e,i).next(function(){return i})})},n.prototype.En=function(e,t){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(i){return r.gn(t,i)})},n.prototype.getDocumentsMatchingQuery=function(e,t,r){return function(i){return ct.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(t)?this.Tn(e,t.path):r8(t)?this.In(e,t,r):this.An(e,t,r)},n.prototype.Tn=function(e,t){return this.mn(e,new ct(t)).next(function(r){var i=V3();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},n.prototype.In=function(e,t,r){var i=this,o=t.collectionGroup,s=V3();return this.Ut.getCollectionParents(e,o).next(function(a){return Te.forEach(a,function(u){var l=function(c,d){return new qc(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t,u.child(o));return i.An(e,l,r).next(function(c){c.forEach(function(d,h){s=s.insert(d,h)})})}).next(function(){return s})})},n.prototype.An=function(e,t,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(e,t,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(a){return o=a,s.Rn(e,o,i).next(function(u){i=u;for(var l=0,c=o;l<c.length;l++)for(var d=c[l],h=0,p=d.mutations;h<p.length;h++){var v=p[h],m=v.key,_=i.get(m);_==null&&(_=Yi.newInvalidDocument(m),i=i.insert(m,_)),H3(v,_,d.localWriteTime),_.isFoundDocument()||(i=i.remove(m))}})}).next(function(){return i.forEach(function(a,u){kC(t,u)||(i=i.remove(a))}),i})},n.prototype.Rn=function(e,t,r){for(var i=kn(),o=0,s=t;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var l=u[a];l instanceof Wh&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(e,i).next(function(d){return d.forEach(function(h,p){p.isFoundDocument()&&(c=c.insert(h,p))}),c})},n}(),fze=function(){function n(e,t,r,i){this.targetId=e,this.fromCache=t,this.bn=r,this.vn=i}return n.Pn=function(e,t){for(var r=kn(),i=kn(),o=0,s=t.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new n(e,t.fromCache,r,i)},n}(),dae=function(){function n(){}return n.prototype.Vn=function(e){this.Sn=e},n.prototype.getDocumentsMatchingQuery=function(e,t,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(jt.min())?this.Dn(e,t):this.Sn.pn(e,i).next(function(s){var a=o.Cn(t,s);return(FS(t)||DD(t))&&o.Nn(t.limitType,a,i,r)?o.Dn(e,t):(P3()<=zt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),B3(t)),o.Sn.getDocumentsMatchingQuery(e,t,r).next(function(u){return a.forEach(function(l){u=u.insert(l.key,l)}),u}))})},n.prototype.Cn=function(e,t){var r=new ui(Ose(e));return t.forEach(function(i,o){kC(e,o)&&(r=r.add(o))}),r},n.prototype.Nn=function(e,t,r,i){if(r.size!==t.size)return!0;var o=e==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},n.prototype.Dn=function(e,t){return P3()<=zt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",B3(t)),this.Sn.getDocumentsMatchingQuery(e,t,jt.min())},n}(),hze=function(){function n(e,t,r,i){this.persistence=e,this.xn=t,this.R=i,this.kn=new Ao(Qt),this.Fn=new W_(function(o){return NC(o)},iI),this.$n=jt.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new hae(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return n.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,t.kn)})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(n,e,t,r){return new hze(n,e,t,r)}function gae(n,e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return t=Me(n),r=t._n,i=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(a){var u;return t._n.getAllMutationBatches(a).next(function(l){return u=l,r=t.persistence.getMutationQueue(e),i=new hae(t.On,r,t.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(l){for(var c=[],d=[],h=kn(),p=0,v=u;p<v.length;p++){var m=v[p];c.push(m.batchId);for(var _=0,b=m.mutations;_<b.length;_++){var C=b[_];h=h.add(C.key)}}for(var E=0,T=l;E<T.length;E++){var A=T[E];d.push(A.batchId);for(var S=0,N=A.mutations;S<N.length;S++){var k=N[S];h=h.add(k.key)}}return i.pn(a,h).next(function(F){return{Ln:F,removedBatchIds:c,addedBatchIds:d}})})})];case 1:return o=s.sent(),[2,(t._n=r,t.Mn=i,t.xn.Vn(t.Mn),o)]}})})}function dze(n,e){var t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=t.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){var c=u.batch,d=c.keys(),h=Te.resolve();return d.forEach(function(p){h=h.next(function(){return l.getEntry(a,p)}).next(function(v){var m=u.docVersions.get(p);_t(m!==null),v.version.compareTo(m)<0&&(c.applyToRemoteDocument(v,u),v.isValidDocument()&&l.addEntry(v,u.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(a,c)})}(t,r,e,o).next(function(){return o.apply(r)}).next(function(){return t._n.performConsistencyCheck(r)}).next(function(){return t.Mn.pn(r,i)})})}function vae(n){var e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function pze(n,e){var t=Me(n),r=e.snapshotVersion,i=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=t.On.newChangeBuffer({trackRemovals:!0});i=t.kn;var a=[];e.targetChanges.forEach(function(c,d){var h=i.get(d);if(h){a.push(t.qe.removeMatchingKeys(o,c.removedDocuments,d).next(function(){return t.qe.addMatchingKeys(o,c.addedDocuments,d)}));var p=c.resumeToken;if(p.approximateByteSize()>0){var v=h.withResumeToken(p,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(d,v),function(m,_,b){return _t(_.resumeToken.approximateByteSize()>0),m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,v,c)&&a.push(t.qe.updateTargetData(o,v))}}});var u=La();if(e.documentUpdates.forEach(function(c,d){e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(mae(o,s,e.documentUpdates,r,void 0).next(function(c){u=c})),!r.isEqual(jt.min())){var l=t.qe.getLastRemoteSnapshotVersion(o).next(function(c){return t.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(l)}return Te.waitFor(a).next(function(){return s.apply(o)}).next(function(){return t.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return t.kn=i,o})}function mae(n,e,t,r,i){var o=kn();return t.forEach(function(s){return o=o.add(s)}),e.getEntries(n,o).next(function(s){var a=La();return t.forEach(function(u,l){var c=s.get(u),d=(i==null?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(jt.min())?(e.removeEntry(u,d),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l,d),a=a.insert(u,l)):xe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}function gze(n,e){var t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),t._n.getNextMutationBatchAfterBatchId(r,e)})}function Qm(n,e){var t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return t.qe.getTargetData(r,e).next(function(o){return o?(i=o,Te.resolve(i)):t.qe.allocateTargetId(r).next(function(s){return i=new uI(e,s,0,r.currentSequenceNumber),t.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=t.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.kn=t.kn.insert(r.targetId,r),t.Fn.set(e,r.targetId)),r})}function Zm(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:r=Me(n),i=r.kn.get(e),o=t?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),t?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!mg(s=a.sent()))throw s;return xe("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function LD(n,e,t){var r=Me(n),i=jt.min(),o=kn();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,l){var c=Me(a),d=c.Fn.get(l);return d!==void 0?Te.resolve(c.kn.get(d)):c.qe.getTargetData(u,l)}(r,s,Pa(e)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,e,t?i:jt.min(),t?o:kn())}).next(function(a){return{documents:a,Bn:o}})})}function _ae(n,e){var t=Me(n),r=Me(t.qe),i=t.kn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(s){return s?s.target:null})})}function yae(n){var e=Me(n);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(r,i,o){var s=Me(r),a=La(),u=c8(o),l=Af(i),c=IDBKeyRange.lowerBound(u,!0);return l.$t({index:yr.readTimeIndex,range:c},function(d,h){var p=U3(s.R,h);a=a.insert(p.key,p),u=h.readTime}).next(function(){return{wn:a,readTime:sae(u)}})}(e.On,t,e.$n)}).then(function(t){var r=t.wn,i=t.readTime;return e.$n=i,r})}function vze(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){return[2,(e=Me(n)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Af(i),s=jt.min();return o.$t({index:yr.readTimeIndex,reverse:!0},function(a,u,l){u.readTime&&(s=sae(u.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){e.$n=r})]})})}function mze(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d,h,p;return Y(this,function(v){switch(v.label){case 0:for(i=Me(n),o=kn(),s=La(),a=jse(),u=0,l=t;u<l.length;u++)c=l[u],d=e.qn(c.metadata.name),c.document&&(o=o.add(d)),s=s.insert(d,e.Un(c)),a=a.insert(d,e.Kn(c.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Qm(i,function(m){return Pa(V_(gn.fromString("__bundle__/docs/"+m)))}(r))];case 1:return p=v.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(m){return mae(m,h,s,jt.min(),a).next(function(_){return h.apply(m),_}).next(function(_){return i.qe.removeMatchingKeysForTargetId(m,p.targetId).next(function(){return i.qe.addMatchingKeys(m,o,p.targetId)}).next(function(){return i.Mn.En(m,_)}).next(function(){return _})})})]}})})}function _ze(n,e,t){return t===void 0&&(t=kn()),X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return[4,Qm(n,Pa(f8(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Me(n)).persistence.runTransaction("Save named query","readwrite",function(s){var a=xi(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ke.saveNamedQuery(s,e);var u=r.withResumeToken(ns.EMPTY_BYTE_STRING,a);return i.kn=i.kn.insert(u.targetId,u),i.qe.updateTargetData(s,u).next(function(){return i.qe.removeMatchingKeysForTargetId(s,r.targetId)}).next(function(){return i.qe.addMatchingKeys(s,t,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(s,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yze=function(){function n(e){this.R=e,this.Qn=new Map,this.jn=new Map}return n.prototype.getBundleMetadata=function(e,t){return Te.resolve(this.Qn.get(t))},n.prototype.saveBundleMetadata=function(e,t){var r;return this.Qn.set(t.id,{id:(r=t).id,version:r.version,createTime:xi(r.createTime)}),Te.resolve()},n.prototype.getNamedQuery=function(e,t){return Te.resolve(this.jn.get(t))},n.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(r){return{name:r.name,query:f8(r.bundledQuery),readTime:xi(r.readTime)}}(t)),Te.resolve()},n}(),p8=function(){function n(){this.Wn=new ui(Ci.Gn),this.zn=new ui(Ci.Hn)}return n.prototype.isEmpty=function(){return this.Wn.isEmpty()},n.prototype.addReference=function(e,t){var r=new Ci(e,t);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},n.prototype.Jn=function(e,t){var r=this;e.forEach(function(i){return r.addReference(i,t)})},n.prototype.removeReference=function(e,t){this.Yn(new Ci(e,t))},n.prototype.Xn=function(e,t){var r=this;e.forEach(function(i){return r.removeReference(i,t)})},n.prototype.Zn=function(e){var t=this,r=new ct(new gn([])),i=new Ci(r,e),o=new Ci(r,e+1),s=[];return this.zn.forEachInRange([i,o],function(a){t.Yn(a),s.push(a.key)}),s},n.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},n.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},n.prototype.es=function(e){var t=new ct(new gn([])),r=new Ci(t,e),i=new Ci(t,e+1),o=kn();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},n.prototype.containsKey=function(e){var t=new Ci(e,0),r=this.Wn.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)},n}(),Ci=function(){function n(e,t){this.key=e,this.ns=t}return n.Gn=function(e,t){return ct.comparator(e.key,t.key)||Qt(e.ns,t.ns)},n.Hn=function(e,t){return Qt(e.ns,t.ns)||ct.comparator(e.key,t.key)},n}(),bze=function(){function n(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ui(Ci.Gn)}return n.prototype.checkEmpty=function(e){return Te.resolve(this._n.length===0)},n.prototype.addMutationBatch=function(e,t,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new l8(o,t,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var l=u[a];this.rs=this.rs.add(new Ci(l.key,o)),this.Ut.addToCollectionParentIndex(e,l.key.path.popLast())}return Te.resolve(s)},n.prototype.lookupMutationBatch=function(e,t){return Te.resolve(this.os(t))},n.prototype.getNextMutationBatchAfterBatchId=function(e,t){var r=t+1,i=this.cs(r),o=i<0?0:i;return Te.resolve(this._n.length>o?this._n[o]:null)},n.prototype.getHighestUnacknowledgedBatchId=function(){return Te.resolve(this._n.length===0?-1:this.ss-1)},n.prototype.getAllMutationBatches=function(e){return Te.resolve(this._n.slice())},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var r=this,i=new Ci(t,0),o=new Ci(t,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),Te.resolve(s)},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var r=this,i=new ui(Qt);return t.forEach(function(o){var s=new Ci(o,0),a=new Ci(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),Te.resolve(this.us(i))},n.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var r=t.path,i=r.length+1,o=r;ct.isDocumentKey(o)||(o=o.child(""));var s=new Ci(new ct(o),0),a=new ui(Qt);return this.rs.forEachWhile(function(u){var l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ns)),!0)},s),Te.resolve(this.us(a))},n.prototype.us=function(e){var t=this,r=[];return e.forEach(function(i){var o=t.os(i);o!==null&&r.push(o)}),r},n.prototype.removeMutationBatch=function(e,t){var r=this;_t(this.hs(t.batchId,"removed")===0),this._n.shift();var i=this.rs;return Te.forEach(t.mutations,function(o){var s=new Ci(o.key,t.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},n.prototype.Gt=function(e){},n.prototype.containsKey=function(e,t){var r=new Ci(t,0),i=this.rs.firstAfterOrEqual(r);return Te.resolve(t.isEqual(i&&i.key))},n.prototype.performConsistencyCheck=function(e){return this._n.length,Te.resolve()},n.prototype.hs=function(e,t){return this.cs(e)},n.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},n.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},n}(),Cze=function(){function n(e,t){this.Ut=e,this.ls=t,this.docs=new Ao(ct.comparator),this.size=0}return n.prototype.addEntry=function(e,t,r){var i=t.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},n.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},n.prototype.getEntry=function(e,t){var r=this.docs.get(t);return Te.resolve(r?r.document.clone():Yi.newInvalidDocument(t))},n.prototype.getEntries=function(e,t){var r=this,i=La();return t.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Yi.newInvalidDocument(o))}),Te.resolve(i)},n.prototype.getDocumentsMatchingQuery=function(e,t,r){for(var i=La(),o=new ct(t.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,l=a.value,c=l.document,d=l.readTime;if(!t.path.isPrefixOf(u.path))break;d.compareTo(r)<=0||kC(t,c)&&(i=i.insert(c.key,c.clone()))}return Te.resolve(i)},n.prototype.fs=function(e,t){return Te.forEach(this.docs,function(r){return t(r)})},n.prototype.newChangeBuffer=function(e){return new wze(this)},n.prototype.getSize=function(e){return Te.resolve(this.size)},n}(),wze=function(n){function e(t){var r=this;return(r=n.call(this)||this).Ie=t,r}return Fe(e,n),e.prototype.applyChanges=function(t){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(t,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),Te.waitFor(i)},e.prototype.getFromCache=function(t,r){return this.Ie.getEntry(t,r)},e.prototype.getAllFromCache=function(t,r){return this.Ie.getEntries(t,r)},e}(fae),Eze=function(){function n(e){this.persistence=e,this.ds=new W_(function(t){return NC(t)},iI),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.ws=0,this._s=new p8,this.targetCount=0,this.ys=xD.Jt()}return n.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(r,i){return t(i)}),Te.resolve()},n.prototype.getLastRemoteSnapshotVersion=function(e){return Te.resolve(this.lastRemoteSnapshotVersion)},n.prototype.getHighestSequenceNumber=function(e){return Te.resolve(this.ws)},n.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Te.resolve(this.highestTargetId)},n.prototype.setTargetsMetadata=function(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ws&&(this.ws=t),Te.resolve()},n.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new xD(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},n.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Te.resolve()},n.prototype.updateTargetData=function(e,t){return this.te(t),Te.resolve()},n.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Te.resolve()},n.prototype.removeTargets=function(e,t,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=t&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),Te.waitFor(s).next(function(){return o})},n.prototype.getTargetCount=function(e){return Te.resolve(this.targetCount)},n.prototype.getTargetData=function(e,t){var r=this.ds.get(t)||null;return Te.resolve(r)},n.prototype.addMatchingKeys=function(e,t,r){return this._s.Jn(t,r),Te.resolve()},n.prototype.removeMatchingKeys=function(e,t,r){this._s.Xn(t,r);var i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(function(s){o.push(i.markPotentiallyOrphaned(e,s))}),Te.waitFor(o)},n.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Te.resolve()},n.prototype.getMatchingKeysForTargetId=function(e,t){var r=this._s.es(t);return Te.resolve(r)},n.prototype.containsKey=function(e,t){return Te.resolve(this._s.containsKey(t))},n}(),Sze=function(){function n(e,t){var r=this;this.gs={},this.Ne=new ea(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Eze(this),this.Ut=new Zqe,this.Ue=function(i,o){return new Cze(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new oae(t),this.Ke=new yze(this.R)}return n.prototype.start=function(){return Promise.resolve()},n.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(n.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),n.prototype.setDatabaseDeletedListener=function(){},n.prototype.setNetworkEnabled=function(){},n.prototype.getIndexManager=function(){return this.Ut},n.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new bze(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},n.prototype.getTargetCache=function(){return this.qe},n.prototype.getRemoteDocumentCache=function(){return this.Ue},n.prototype.getBundleCache=function(){return this.Ke},n.prototype.runTransaction=function(e,t,r){var i=this;xe("MemoryPersistence","Starting transaction:",e);var o=new Tze(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},n.prototype.Is=function(e,t){return Te.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,t)}}))},n}(),Tze=function(n){function e(t){var r=this;return(r=n.call(this)||this).currentSequenceNumber=t,r}return Fe(e,n),e}(rae),Dze=function(){function n(e){this.persistence=e,this.As=new p8,this.Rs=null}return n.bs=function(e){return new n(e)},Object.defineProperty(n.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw it()},enumerable:!1,configurable:!0}),n.prototype.addReference=function(e,t,r){return this.As.addReference(r,t),this.vs.delete(r.toString()),Te.resolve()},n.prototype.removeReference=function(e,t,r){return this.As.removeReference(r,t),this.vs.add(r.toString()),Te.resolve()},n.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Te.resolve()},n.prototype.removeTarget=function(e,t){var r=this;this.As.Zn(t.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(e,t)})},n.prototype.Es=function(){this.Rs=new Set},n.prototype.Ts=function(e){var t=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.vs,function(i){var o=ct.fromPath(i);return t.Ps(e,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return t.Rs=null,r.apply(e)})},n.prototype.updateLimboDocument=function(e,t){var r=this;return this.Ps(e,t).next(function(i){i?r.vs.delete(t.toString()):r.vs.add(t.toString())})},n.prototype.ps=function(e){return 0},n.prototype.Ps=function(e,t){var r=this;return Te.or([function(){return Te.resolve(r.As.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){return r.persistence.Is(e,t)}])},n}(),Hi=function(){function n(e){this.uid=e}return n.prototype.isAuthenticated=function(){return this.uid!=null},n.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},n.prototype.isEqual=function(e){return e.uid===this.uid},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(n,e){return"firestore_clients_"+n+"_"+e}function O$(n,e,t){var r="firestore_mutations_"+n+"_"+t;return e.isAuthenticated()&&(r+="_"+e.uid),r}function qk(n,e){return"firestore_targets_"+n+"_"+e}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");var k$=function(){function n(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}return n.Vs=function(e,t,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new be(o.error.code,o.error.message)),s?new n(e,t,o.state,i):(qr("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+r),null)},n.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},n}(),zk=function(){function n(e,t,r){this.targetId=e,this.state=t,this.error=r}return n.Vs=function(e,t){var r,i=JSON.parse(t),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new be(i.error.code,i.error.message)),o?new n(e,i.state,r):(qr("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},n.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},n}(),R$=function(){function n(e,t){this.clientId=e,this.activeTargetIds=t}return n.Vs=function(e,t){for(var r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=aI(),s=0;i&&s<r.activeTargetIds.length;++s)i=Dse(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(qr("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},n}(),Aze=function(){function n(e,t){this.clientId=e,this.onlineState=t}return n.Vs=function(e){var t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(qr("SharedClientState","Failed to parse online state: "+e),null)},n}(),j3=function(){function n(){this.activeTargetIds=aI()}return n.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},n.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},n.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},n}(),Gk=function(){function n(e,t,r,i,o){this.window=e,this.Se=t,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ao(Qt),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=N$(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new j3),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return n.yt=function(e){return!(!e||!e.localStorage)},n.prototype.start=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o,s,a,u,l,c,d,h=this;return Y(this,function(p){switch(p.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=p.sent(),t=0,r=e;t<r.length;t++)(i=r[t])!==this.Ns&&(o=this.getItem(N$(this.persistenceKey,i)))&&(s=R$.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)d=c[l],this.ks(d);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},n.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},n.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},n.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(t=!0)}),t},n.prototype.addPendingMutation=function(e){this.zs(e,"pending")},n.prototype.updateMutationState=function(e,t,r){this.zs(e,t,r),this.Hs(e)},n.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(qk(this.persistenceKey,e));if(r){var i=zk.Vs(e,r);i&&(t=i.state)}}return this.Js.Ds(e),this.Qs(),t},n.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},n.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},n.prototype.clearQueryState=function(e){this.removeItem(qk(this.persistenceKey,e))},n.prototype.updateQueryState=function(e,t,r){this.Ys(e,t,r)},n.prototype.handleUserChange=function(e,t,r){var i=this;t.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},n.prototype.setOnlineState=function(e){this.Xs(e)},n.prototype.notifyBundleLoaded=function(){this.Zs()},n.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},n.prototype.getItem=function(e){var t=this.storage.getItem(e);return xe("SharedClientState","READ",e,t),t},n.prototype.setItem=function(e,t){xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)},n.prototype.removeItem=function(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)},n.prototype.ks=function(e){var t=this,r=e;if(r.storageArea===this.storage){if(xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return X(t,void 0,void 0,function(){var i,o,s,a,u,l;return Y(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(l=function(d){var h=ea.o;if(d!=null)try{var p=JSON.parse(d);_t(typeof p=="number"),h=p}catch(v){qr("SharedClientState","Failed to read sequence number from WebStorage",v)}return h}(r.newValue))!==ea.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(n.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),n.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},n.prototype.zs=function(e,t,r){var i=new k$(this.currentUser,e,t,r),o=O$(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},n.prototype.Hs=function(e){var t=O$(this.persistenceKey,this.currentUser,e);this.removeItem(t)},n.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},n.prototype.Ys=function(e,t,r){var i=qk(this.persistenceKey,e),o=new zk(e,t,r);this.setItem(i,o.Ss())},n.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},n.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},n.prototype.ni=function(e,t){var r=this.ti(e);return R$.Vs(r,t)},n.prototype.si=function(e,t){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return k$.Vs(new Hi(o),i,t)},n.prototype.ri=function(e,t){var r=this.qs.exec(e),i=Number(r[1]);return zk.Vs(i,t)},n.prototype.js=function(e){return Aze.Vs(e)},n.prototype.ii=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(xe("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},n.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},n.prototype.ei=function(e,t){var r=this,i=t?this.Fs.insert(e,t):this.Fs.remove(e),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(l){o.has(l)||a.push(l)}),o.forEach(function(l){s.has(l)||u.push(l)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},n.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},n.prototype.Gs=function(e){var t=aI();return e.forEach(function(r,i){t=t.unionWith(i.activeTargetIds)}),t},n}(),bae=function(){function n(){this.li=new j3,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return n.prototype.addPendingMutation=function(e){},n.prototype.updateMutationState=function(e,t,r){},n.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},n.prototype.updateQueryState=function(e,t,r){this.fi[e]=t},n.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},n.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},n.prototype.clearQueryState=function(e){delete this.fi[e]},n.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},n.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},n.prototype.start=function(){return this.li=new j3,Promise.resolve()},n.prototype.handleUserChange=function(e,t,r){},n.prototype.setOnlineState=function(e){},n.prototype.shutdown=function(){},n.prototype.writeSequenceNumber=function(e){},n.prototype.notifyBundleLoaded=function(){},n}(),Ize=function(){function n(){}return n.prototype.di=function(e){},n.prototype.shutdown=function(){},n}(),P$=function(){function n(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return n.prototype.di=function(e){this.gi.push(e)},n.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},n.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},n.prototype._i=function(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},n.prototype.yi=function(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},n.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},n}(),xze={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lze=function(){function n(e){this.Ei=e.Ei,this.Ti=e.Ti}return n.prototype.Ii=function(e){this.Ai=e},n.prototype.Ri=function(e){this.bi=e},n.prototype.onMessage=function(e){this.vi=e},n.prototype.close=function(){this.Ti()},n.prototype.send=function(e){this.Ei(e)},n.prototype.Pi=function(){this.Ai()},n.prototype.Vi=function(e){this.bi(e)},n.prototype.Si=function(e){this.vi(e)},n}(),Nze=function(n){function e(t){var r=this;return(r=n.call(this,t)||this).forceLongPolling=t.forceLongPolling,r.autoDetectLongPolling=t.autoDetectLongPolling,r.useFetchStreams=t.useFetchStreams,r}return Fe(e,n),e.prototype.Fi=function(t,r,i,o){return new Promise(function(s,a){var u=new aqe;u.listenOnce(iqe.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Uk.NO_ERROR:var c=u.getResponseJson();xe("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Uk.TIMEOUT:xe("Connection",'RPC "'+t+'" timed out'),a(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Uk.HTTP_ERROR:var d=u.getStatus();if(xe("Connection",'RPC "'+t+'" failed with status:',d,"response text:",u.getResponseText()),d>0){var h=u.getResponseJson().error;if(h&&h.status&&h.message){var p=function(v){var m=v.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(m)>=0?m:oe.UNKNOWN}(h.status);a(new be(p,h.message))}else a(new be(oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new be(oe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{xe("Connection",'RPC "'+t+'" completed.')}});var l=JSON.stringify(o);u.send(r,"POST",l,i,15)})},e.prototype.Oi=function(t,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=nqe(),s=rqe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new sqe({})),this.ki(a.initMessageHeaders,r),XF()||EQ()||pbe()||gbe()||vbe()||QF()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");xe("Connection","Creating WebChannel: "+u,a);var l=o.createWebChannel(u,a),c=!1,d=!1,h=new Lze({Ei:function(v){d?xe("Connection","Not sending because WebChannel is closed:",v):(c||(xe("Connection","Opening WebChannel transport."),l.open(),c=!0),xe("Connection","WebChannel sending:",v),l.send(v))},Ti:function(){return l.close()}}),p=function(v,m,_){v.listen(m,function(b){try{_(b)}catch(C){setTimeout(function(){throw C},0)}})};return p(l,XE.EventType.OPEN,function(){d||xe("Connection","WebChannel transport opened.")}),p(l,XE.EventType.CLOSE,function(){d||(d=!0,xe("Connection","WebChannel transport closed"),h.Vi())}),p(l,XE.EventType.ERROR,function(v){d||(d=!0,v1("Connection","WebChannel transport errored:",v),h.Vi(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),p(l,XE.EventType.MESSAGE,function(v){var m;if(!d){var _=v.data[0];_t(!!_);var b=_,C=b.error||((m=b[0])===null||m===void 0?void 0:m.error);if(C){xe("Connection","WebChannel received error:",C);var E=C.status,T=function(S){var N=Hr[S];if(N!==void 0)return Use(N)}(E),A=C.message;T===void 0&&(T=oe.INTERNAL,A="Unknown error status: "+E+" with message "+C.message),d=!0,h.Vi(new be(T,A)),l.close()}else xe("Connection","WebChannel received:",_),h.Si(_)}}),p(s,oqe.STAT_EVENT,function(v){v.stat===ZG.PROXY?xe("Connection","Detected buffering proxy"):v.stat===ZG.NOPROXY&&xe("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function n(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return n.prototype.Ni=function(e,t,r,i){var o=this.xi(e,t);xe("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(e,o,s,r).then(function(a){return xe("RestConnection","Received: ",a),a},function(a){throw v1("RestConnection",e+" failed with error: ",a,"url: ",o,"request:",r),a})},n.prototype.$i=function(e,t,r,i){return this.Ni(e,t,r,i)},n.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])},n.prototype.xi=function(e,t){var r=xze[e];return this.Di+"/v1/"+t+":"+r},n}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(){return typeof window<"u"?window:null}function VS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){return new Mqe(n,!0)}var g8=function(){function n(e,t,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return n.prototype.reset=function(){this.qi=0},n.prototype.Qi=function(){this.qi=this.Bi},n.prototype.ji=function(e){var t=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&xe("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},n.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},n.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},n.prototype.Wi=function(){return(Math.random()-.5)*this.qi},n}(),wae=function(){function n(e,t,r,i,o,s){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new g8(e,t)}return n.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},n.prototype.er=function(){return this.state===2},n.prototype.start=function(){this.state!==3?this.auth():this.nr()},n.prototype.stop=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.sr=function(){this.state=0,this.Zi.reset()},n.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},n.prototype.cr=function(e){this.ur(),this.stream.send(e)},n.prototype.rr=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},n.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},n.prototype.close=function(e,t){return X(this,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===oe.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return r.sent(),[2]}})})},n.prototype.ar=function(){},n.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){t(function(){var o=new be(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},n.prototype.lr=function(e){var t=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return t.dr(i)})}),this.stream.onMessage(function(i){r(function(){return t.onMessage(i)})})},n.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return X(e,void 0,void 0,function(){return Y(this,function(t){return this.state=0,this.start(),[2]})})})},n.prototype.dr=function(e){return xe("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},n.prototype.hr=function(e){var t=this;return function(r){t.Se.enqueueAndForget(function(){return t.Yi===e?r():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},n}(),Oze=function(n){function e(t,r,i,o,s){var a=this;return(a=n.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return Fe(e,n),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:it()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(_,b){return _.I?(_t(b===void 0||typeof b=="string"),ns.fromBase64String(b||"")):(_t(b===void 0||b instanceof Uint8Array),ns.fromUint8Array(b||new Uint8Array))}(o,s.targetChange.resumeToken),d=(h=s.targetChange.cause)&&function(_){var b=_.code===void 0?oe.UNKNOWN:Use(_.code);return new be(b,_.message||"")}(h);a=new zse(u,l,c,d||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,l=dl(o,u.document.name),c=xi(u.document.updateTime);var h=new Qs({mapValue:{fields:u.document.fields}}),p=(d=Yi.newFoundDocument(l,c,h),u.targetIds||[]),v=u.removedTargetIds||[];a=new HS(p,v,d.key,d)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,l=dl(o,u.document),c=u.readTime?xi(u.readTime):jt.min(),h=Yi.newNoDocument(l,c),d=u.removedTargetIds||[],a=new HS([],d,h.key,h);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,l=dl(o,u.document),c=u.removedTargetIds||[],a=new HS([],c,l,null);else{if(!("filter"in s))return it();s.filter;var m=s.filter;m.targetId,u=m.count||0,l=new Aqe(u),c=m.targetId,a=new qse(c,l)}return a}(this.R,t),i=function(o){if(!("targetChange"in o))return jt.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?jt.min():s.readTime?xi(s.readTime):jt.min()}(t);return this.listener._r(r,i)},e.prototype.mr=function(t){var r={};r.database=w1(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=SD(u)?{documents:Qse(o,u)}:{query:Zse(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=Gse(o,s.resumeToken):s.snapshotVersion.compareTo(jt.min())>0&&(a.readTime=b1(o,s.snapshotVersion.toTimestamp())),a}(this.R,t);var i=function(o,s){var a=function(u,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,t);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(t){var r={};r.database=w1(this.R),r.removeTarget=t,this.cr(r)},e}(wae),kze=function(n){function e(t,r,i,o,s){var a=this;return(a=n.call(this,t,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return Fe(e,n),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,n.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(_t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(_t(s!==void 0),o.map(function(a){return function(u,l){var c=u.updateTime?xi(u.updateTime):xi(l);return c.isEqual(jt.min())&&(c=xi(l)),new Sqe(c,u.transformResults||[])}(a,s)})):[]}(t.writeResults,t.commitTime),i=xi(t.commitTime);return this.listener.Tr(i,r)}return _t(!t.writeResults||t.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=w1(this.R),this.cr(t)},e.prototype.Er=function(t){var r=this,i={streamToken:this.lastStreamToken,writes:t.map(function(o){return AD(r.R,o)})};this.cr(i)},e}(wae),Rze=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).credentials=t,o.Hi=r,o.R=i,o.Rr=!1,o}return Fe(e,n),e.prototype.br=function(){if(this.Rr)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(t,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new be(oe.UNKNOWN,s.toString())})},e.prototype.$i=function(t,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(t,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new be(oe.UNKNOWN,s.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Pze=function(){function n(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return n.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},n.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},n.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},n.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},n.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qr(t),this.Vr=!1):xe("OnlineStateTracker",t)},n.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},n}(),Mze=function(n,e,t,r,i){var o=this;this.localStore=n,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){t.enqueueAndForget(function(){return X(o,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return Uh(this)?(xe("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return X(this,void 0,void 0,function(){var l;return Y(this,function(c){switch(c.label){case 0:return(l=Me(u)).Or.add(4),[4,U_(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,BC(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new Pze(t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:if(!Uh(n))return[3,4];e=0,t=n.Mr,r.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function U_(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:e=0,t=n.Mr,r.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lI(n,e){var t=Me(n);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),_8(t)?m8(t):q_(t).er()&&v8(t,e))}function E1(n,e){var t=Me(n),r=q_(t);t.$r.delete(e),r.er()&&Eae(t,e),t.$r.size===0&&(r.er()?r.ir():Uh(t)&&t.Br.set("Unknown"))}function v8(n,e){n.qr.U(e.targetId),q_(n).mr(e)}function Eae(n,e){n.qr.U(e),q_(n).yr(e)}function m8(n){n.qr=new kqe({getRemoteKeysForTarget:function(e){return n.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return n.$r.get(e)||null}}),q_(n).start(),n.Br.Sr()}function _8(n){return Uh(n)&&!q_(n).tr()&&n.$r.size>0}function Uh(n){return Me(n).Or.size===0}function Sae(n){n.qr=void 0}function Fze(n){return X(this,void 0,void 0,function(){return Y(this,function(e){return n.$r.forEach(function(t,r){v8(n,t)}),[2]})})}function Bze(n,e){return X(this,void 0,void 0,function(){return Y(this,function(t){return Sae(n),_8(n)?(n.Br.Nr(e),m8(n)):n.Br.set("Unknown"),[2]})})}function Hze(n,e,t){return X(this,void 0,void 0,function(){var r,i,o;return Y(this,function(s){switch(s.label){case 0:if(n.Br.set("Online"),!(e instanceof zse&&e.state===2&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return X(this,void 0,void 0,function(){var l,c,d,h;return Y(this,function(p){switch(p.label){case 0:l=u.cause,c=0,d=u.targetIds,p.label=1;case 1:return c<d.length?(h=d[c],a.$r.has(h)?[4,a.remoteSyncer.rejectListen(h,l)]:[3,3]):[3,5];case 2:p.sent(),a.$r.delete(h),a.qr.removeTarget(h),p.label=3;case 3:p.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(n,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ND(n,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof HS?n.qr.X(e):e instanceof qse?n.qr.rt(e):n.qr.et(e),t.isEqual(jt.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,vae(n.localStore)];case 8:return i=s.sent(),t.compareTo(i)>=0?[4,function(a,u){var l=a.qr.ut(u);return l.targetChanges.forEach(function(c,d){if(c.resumeToken.approximateByteSize()>0){var h=a.$r.get(d);h&&a.$r.set(d,h.withResumeToken(c.resumeToken,u))}}),l.targetMismatches.forEach(function(c){var d=a.$r.get(c);if(d){a.$r.set(c,d.withResumeToken(ns.EMPTY_BYTE_STRING,d.snapshotVersion)),Eae(a,c);var h=new uI(d.target,c,1,d.sequenceNumber);v8(a,h)}}),a.remoteSyncer.applyRemoteEvent(l)}(n,t)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return xe("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ND(n,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ND(n,e,t){return X(this,void 0,void 0,function(){var r=this;return Y(this,function(i){switch(i.label){case 0:if(!mg(e))throw e;return n.Or.add(1),[4,U_(n)];case 1:return i.sent(),n.Br.set("Offline"),t||(t=function(){return vae(n.localStore)}),n.asyncQueue.enqueueRetryable(function(){return X(r,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return xe("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return o.sent(),n.Or.delete(1),[4,BC(n)];case 2:return o.sent(),[2]}})})}),[2]}})})}function Tae(n,e){return e().catch(function(t){return ND(n,t,e)})}function j_(n){return X(this,void 0,void 0,function(){var e,t,r,i,o;return Y(this,function(s){switch(s.label){case 0:e=Me(n),t=wh(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return Uh(a)&&a.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gze(e.localStore,r)];case 3:return(i=s.sent())===null?(e.Fr.length===0&&t.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var l=wh(a);l.er()&&l.pr&&l.Er(u.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ND(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Dae(e)&&Aae(e),[2]}})})}function Dae(n){return Uh(n)&&!wh(n).tr()&&n.Fr.length>0}function Aae(n){wh(n).start()}function Vze(n){return X(this,void 0,void 0,function(){return Y(this,function(e){return wh(n).Ar(),[2]})})}function Wze(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){for(e=wh(n),t=0,r=n.Fr;t<r.length;t++)i=r[t],e.Er(i.mutations);return[2]})})}function Uze(n,e,t){return X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return r=n.Fr.shift(),i=Xqe.from(r,e,t),[4,Tae(n,function(){return n.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,j_(n)];case 2:return o.sent(),[2]}})})}function jze(n,e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return e&&wh(n).pr?[4,function(r,i){return X(this,void 0,void 0,function(){var o,s;return Y(this,function(a){switch(a.label){case 0:return Wse(s=i.code)&&s!==oe.ABORTED?(o=r.Fr.shift(),wh(r).sr(),[4,Tae(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,j_(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(n,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return Dae(n)&&Aae(n),[2]}})})}function q3(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return t=Me(n),e?(t.Or.delete(2),[4,BC(t)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,U_(t)]);case 3:r.sent(),t.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function q_(n){var e=this;return n.Ur||(n.Ur=function(t,r,i){var o=Me(t);return o.br(),new Oze(r,o.Hi,o.credentials,o.R,i)}(n.datastore,n.asyncQueue,{Ii:Fze.bind(null,n),Ri:Bze.bind(null,n),_r:Hze.bind(null,n)}),n.Mr.push(function(t){return X(e,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return t?(n.Ur.sr(),_8(n)?m8(n):n.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:r.sent(),Sae(n),r.label=3;case 3:return[2]}})})})),n.Ur}function wh(n){var e=this;return n.Kr||(n.Kr=function(t,r,i){var o=Me(t);return o.br(),new kze(r,o.Hi,o.credentials,o.R,i)}(n.datastore,n.asyncQueue,{Ii:Vze.bind(null,n),Ri:jze.bind(null,n),Ir:Wze.bind(null,n),Tr:Uze.bind(null,n)}),n.Mr.push(function(t){return X(e,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return t?(n.Kr.sr(),[4,j_(n)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,n.Kr.stop()];case 3:r.sent(),n.Fr.length>0&&(xe("RemoteStore","Stopping write stream with "+n.Fr.length+" pending writes"),n.Fr=[]),r.label=4;case 4:return[2]}})})})),n.Kr}var qze=function(){function n(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return n.createAndSchedule=function(e,t,r,i,o){var s=new n(e,t,Date.now()+r,i,o);return s.start(r),s},n.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},n.prototype.skipDelay=function(){return this.handleDelayElapsed()},n.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},n.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},n.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},n}();function z_(n,e){if(qr("AsyncQueue",e+": "+n),mg(n))return new be(oe.UNAVAILABLE,e+": "+n);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iae=function(){function n(e){this.comparator=e?function(t,r){return e(t,r)||ct.comparator(t.key,r.key)}:function(t,r){return ct.comparator(t.key,r.key)},this.keyedMap=V3(),this.sortedSet=new Ao(this.comparator)}return n.emptySet=function(e){return new n(e.comparator)},n.prototype.has=function(e){return this.keyedMap.get(e)!=null},n.prototype.get=function(e){return this.keyedMap.get(e)},n.prototype.first=function(){return this.sortedSet.minKey()},n.prototype.last=function(){return this.sortedSet.maxKey()},n.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},n.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(n.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),n.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,r){return e(t),!1})},n.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},n.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},n.prototype.isEqual=function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();t.hasNext();){var i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},n.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},n.prototype.copy=function(e,t){var r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r},n}(),M$=function(){function n(){this.Qr=new Ao(ct.comparator)}return n.prototype.track=function(e){var t=e.doc.key,r=this.Qr.get(t);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(t,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(t):e.type===1&&r.type===2?this.Qr=this.Qr.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):it():this.Qr=this.Qr.insert(t,e)},n.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,r){e.push(r)}),e},n}(),OD=function(){function n(e,t,r,i,o,s,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return n.fromInitialDocuments=function(e,t,r,i){var o=[];return t.forEach(function(s){o.push({type:0,doc:s})}),new n(e,t,Iae.emptySet(t),o,r,i,!0,!1)},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&OC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0},n}(),zze=function(){this.Wr=void 0,this.listeners=[]},Gze=function(){this.queries=new W_(function(n){return Nse(n)},OC),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:if(t=Me(n),r=e.query,i=!1,(o=t.queries.get(r))||(i=!0,o=new zze),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,t.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return a=l.sent(),u=z_(a,"Initialization of query '"+B3(e.query)+"' failed"),[2,void e.onError(u)];case 4:return t.queries.set(r,o),o.listeners.push(e),e.zr(t.onlineState),o.Wr&&e.Hr(o.Wr)&&C8(t),[2]}})})}function b8(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){return t=Me(n),r=e.query,i=!1,(o=t.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(t.queries.delete(r),t.onUnlisten(r))]:[2]})})}function $ze(n,e){for(var t=Me(n),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=t.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&C8(t)}function Kze(n,e,t){var r=Me(n),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(t);r.queries.delete(e)}function C8(n){n.Gr.forEach(function(e){e.next()})}var w8=function(){function n(e,t,r){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return n.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&t.push(o)}e=new OD(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),s=!0):this.eo(e,this.onlineState)&&(this.no(e),s=!0),this.Xr=e,s},n.prototype.onError=function(e){this.Jr.error(e)},n.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},n.prototype.eo=function(e,t){if(!e.fromCache)return!0;var r=t!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&t!=="Offline")},n.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0},n.prototype.no=function(e){e=OD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},n}(),Yze=function(){function n(e,t){this.payload=e,this.byteLength=t}return n.prototype.io=function(){return"metadata"in this.payload},n}(),F$=function(){function n(e){this.R=e}return n.prototype.qn=function(e){return dl(this.R,e)},n.prototype.Un=function(e){return e.metadata.exists?Xse(this.R,e.document,!1):Yi.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},n.prototype.Kn=function(e){return xi(e)},n}(),Xze=function(){function n(e,t,r){this.ro=e,this.localStore=t,this.R=r,this.queries=[],this.documents=[],this.progress=xae(e)}return n.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},n.prototype.co=function(e){for(var t=new Map,r=new F$(this.R),i=0,o=e;i<o.length;i++){var s=o[i];if(s.metadata.queries)for(var a=r.qn(s.metadata.name),u=0,l=s.metadata.queries;u<l.length;u++){var c=l[u],d=(t.get(c)||kn()).add(a);t.set(c,d)}}return t},n.prototype.complete=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return[4,mze(this.localStore,new F$(this.R),this.documents,this.ro.id)];case 1:e=s.sent(),t=this.co(this.documents),r=0,i=this.queries,s.label=2;case 2:return r<i.length?(o=i[r],[4,_ze(this.localStore,o,t.get(o.name))]):[3,5];case 3:s.sent(),s.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new cze(Object.assign({},this.progress),e))]}})})},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lae=function(n){this.key=n},Nae=function(n){this.key=n},Oae=function(){function n(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=kn(),this.mutatedKeys=kn(),this.lo=Ose(e),this.fo=new Iae(this.lo)}return Object.defineProperty(n.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),n.prototype._o=function(e,t){var r=this,i=t?t.mo:new M$,o=t?t.fo:this.fo,s=t?t.mutatedKeys:this.mutatedKeys,a=o,u=!1,l=FS(this.query)&&o.size===this.query.limit?o.last():null,c=DD(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(h,p){var v=o.get(h),m=kC(r.query,p)?p:null,_=!!v&&r.mutatedKeys.has(v.key),b=!!m&&(m.hasLocalMutations||r.mutatedKeys.has(m.key)&&m.hasCommittedMutations),C=!1;v&&m?v.data.isEqual(m.data)?_!==b&&(i.track({type:3,doc:m}),C=!0):r.yo(v,m)||(i.track({type:2,doc:m}),C=!0,(l&&r.lo(m,l)>0||c&&r.lo(m,c)<0)&&(u=!0)):!v&&m?(i.track({type:0,doc:m}),C=!0):v&&!m&&(i.track({type:1,doc:v}),C=!0,(l||c)&&(u=!0)),C&&(m?(a=a.add(m),s=b?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),FS(this.query)||DD(this.query))for(;a.size>this.query.limit;){var d=FS(this.query)?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},n.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},n.prototype.applyChanges=function(e,t,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var s=e.mo.jr();s.sort(function(c,d){return function(h,p){var v=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return v(h)-v(p)}(c.type,d.type)||i.lo(c.doc,d.doc)}),this.po(r);var a=t?this.Eo():[],u=this.ho.size===0&&this.current?1:0,l=u!==this.ao;return this.ao=u,s.length!==0||l?{snapshot:new OD(this.query,e.fo,o,s,e.mutatedKeys,u===0,l,!1),To:a}:{To:a}},n.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new M$,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},n.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},n.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(r){return t.uo=t.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return t.uo=t.uo.delete(r)}),this.current=e.current)},n.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=kn(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return t.forEach(function(i){e.ho.has(i)||r.push(new Nae(i))}),this.ho.forEach(function(i){t.has(i)||r.push(new Lae(i))}),r},n.prototype.Ao=function(e){this.uo=e.Bn,this.ho=kn();var t=this._o(e.documents);return this.applyChanges(t,!0)},n.prototype.Ro=function(){return OD.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},n}(),Qze=function(n,e,t){this.query=n,this.targetId=e,this.view=t},Zze=function(n){this.key=n,this.bo=!1},Jze=function(){function n(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new W_(function(a){return Nse(a)},OC),this.Vo=new Map,this.So=new Set,this.Do=new Ao(ct.comparator),this.Co=new Map,this.No=new p8,this.xo={},this.ko=new Map,this.Fo=xD.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(n.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),n}();function eGe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return t=A8(n),(o=t.Po.get(e))?(r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Qm(t.localStore,Pa(e))];case 2:return s=u.sent(),a=t.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,E8(t,e,r,a==="current")];case 3:i=u.sent(),t.isPrimaryClient&&lI(t.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function E8(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:return n.Oo=function(d,h,p){return function(v,m,_,b){return X(this,void 0,void 0,function(){var C,E,T;return Y(this,function(A){switch(A.label){case 0:return C=m.view._o(_),C.Nn?[4,LD(v.localStore,m.query,!1).then(function(S){var N=S.documents;return m.view._o(N,C)})]:[3,2];case 1:C=A.sent(),A.label=2;case 2:return E=b&&b.targetChanges.get(m.targetId),T=m.view.applyChanges(C,v.isPrimaryClient,E),[2,(z3(v,m.targetId,T.To),T.snapshot)]}})})}(n,d,h,p)},[4,LD(n.localStore,e,!0)];case 1:return i=c.sent(),o=new Oae(e,i.Bn),s=o._o(i.documents),a=s8.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline"),u=o.applyChanges(s,n.isPrimaryClient,a),z3(n,t,u.To),l=new Qze(e,t,o),[2,(n.Po.set(e,l),n.Vo.has(t)?n.Vo.get(t).push(e):n.Vo.set(t,[e]),u.snapshot)]}})})}function tGe(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return t=Me(n),r=t.Po.get(e),(i=t.Vo.get(r.targetId)).length>1?[2,(t.Vo.set(r.targetId,i.filter(function(s){return!OC(s,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Zm(t.localStore,r.targetId,!1).then(function(){t.sharedClientState.clearQueryState(r.targetId),E1(t.remoteStore,r.targetId),Jm(t,r.targetId)}).catch(_g)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Jm(t,r.targetId),[4,Zm(t.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function nGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:r=I8(n),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,l){var c,d=Me(u),h=Ts.now(),p=l.reduce(function(v,m){return v.add(m.key)},kn());return d.persistence.runTransaction("Locally write mutations","readwrite",function(v){return d.Mn.pn(v,p).next(function(m){c=m;for(var _=[],b=0,C=l;b<C.length;b++){var E=C[b],T=Dqe(E,c.get(E.key));T!=null&&_.push(new Wh(E.key,T,Ase(T.value.mapValue),go.exists(!0)))}return d._n.addMutationBatch(v,h,_,l)})}).then(function(v){return v.applyToLocalDocumentSet(c),{batchId:v.batchId,changes:c}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,l,c){var d=u.xo[u.currentUser.toKey()];d||(d=new Ao(Qt)),d=d.insert(l,c),u.xo[u.currentUser.toKey()]=d}(r,i.batchId,t),[4,zc(r,i.changes)];case 3:return a.sent(),[4,j_(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=z_(o,"Failed to persist write"),t.reject(s),[3,6];case 6:return[2]}})})}function kae(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:t=Me(n),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,pze(t.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,s){var a=t.Co.get(s);a&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?_t(a.bo):o.removedDocuments.size>0&&(_t(a.bo),a.bo=!1))}),[4,zc(t,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,_g(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function B$(n,e,t){var r=Me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=Me(o);a.onlineState=s;var u=!1;a.queries.forEach(function(l,c){for(var d=0,h=c.listeners;d<h.length;d++)h[d].zr(s)&&(u=!0)}),u&&C8(a)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return(r=Me(n)).sharedClientState.updateQueryState(e,"rejected",t),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Ao(ct.comparator)).insert(o,Yi.newNoDocument(o,jt.min())),a=kn().add(o),u=new o8(jt.min(),new Map,new ui(Qt),s,a),[4,kae(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),D8(r),[3,4];case 2:return[4,Zm(r.localStore,e,!1).then(function(){return Jm(r,e,t)}).catch(_g)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function iGe(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:t=Me(n),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,dze(t.localStore,e)];case 2:return i=o.sent(),T8(t,r,null),S8(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),[4,zc(t,i)];case 3:return o.sent(),[3,6];case 4:return[4,_g(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function oGe(n,e,t){return X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:r=Me(n),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=Me(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return u._n.lookupMutationBatch(l,a).next(function(d){return _t(d!==null),c=d.keys(),u._n.removeMutationBatch(l,d)}).next(function(){return u._n.performConsistencyCheck(l)}).next(function(){return u.Mn.pn(l,c)})})}(r.localStore,e)];case 2:return i=o.sent(),T8(r,e,t),S8(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),[4,zc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,_g(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sGe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:Uh((t=Me(n)).remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var l=Me(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(t.localStore)];case 2:return(r=a.sent())===-1?[2,void e.resolve()]:((i=t.ko.get(r)||[]).push(e),t.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=z_(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function S8(n,e){(n.ko.get(e)||[]).forEach(function(t){t.resolve()}),n.ko.delete(e)}function T8(n,e,t){var r=Me(n),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Jm(n,e,t){t===void 0&&(t=null),n.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=n.Vo.get(e);r<i.length;r++){var o=i[r];n.Po.delete(o),t&&n.vo.Mo(o,t)}n.Vo.delete(e),n.isPrimaryClient&&n.No.Zn(e).forEach(function(s){n.No.containsKey(s)||Rae(n,s)})}function Rae(n,e){n.So.delete(e.path.canonicalString());var t=n.Do.get(e);t!==null&&(E1(n.remoteStore,t),n.Do=n.Do.remove(e),n.Co.delete(t),D8(n))}function z3(n,e,t){for(var r=0,i=t;r<i.length;r++){var o=i[r];o instanceof Lae?(n.No.addReference(o.key,e),aGe(n,o)):o instanceof Nae?(xe("SyncEngine","Document no longer in limbo: "+o.key),n.No.removeReference(o.key,e),n.No.containsKey(o.key)||Rae(n,o.key)):it()}}function aGe(n,e){var t=e.key,r=t.path.canonicalString();n.Do.get(t)||n.So.has(r)||(xe("SyncEngine","New document in limbo: "+t),n.So.add(r),D8(n))}function D8(n){for(;n.So.size>0&&n.Do.size<n.maxConcurrentLimboResolutions;){var e=n.So.values().next().value;n.So.delete(e);var t=new ct(gn.fromString(e)),r=n.Fo.next();n.Co.set(r,new Zze(t)),n.Do=n.Do.insert(t,r),lI(n.remoteStore,new uI(Pa(V_(t.path)),r,2,ea.o))}}function zc(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return r=Me(n),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,l){s.push(r.Oo(l,e,t).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var d=fze.Pn(l.targetId,c);o.push(d)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,l){return X(this,void 0,void 0,function(){var c,d,h,p,v,m,_,b,C;return Y(this,function(E){switch(E.label){case 0:c=Me(u),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(T){return Te.forEach(l,function(A){return Te.forEach(A.bn,function(S){return c.persistence.referenceDelegate.addReference(T,A.targetId,S)}).next(function(){return Te.forEach(A.vn,function(S){return c.persistence.referenceDelegate.removeReference(T,A.targetId,S)})})})})];case 2:return E.sent(),[3,4];case 3:if(!mg(d=E.sent()))throw d;return xe("LocalStore","Failed to update sequence numbers: "+d),[3,4];case 4:for(h=0,p=l;h<p.length;h++)v=p[h],m=v.targetId,v.fromCache||(_=c.kn.get(m),b=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(b),c.kn=c.kn.insert(m,C));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function uGe(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return(t=Me(n)).currentUser.isEqual(e)?[3,3]:(xe("SyncEngine","User change. New user:",e.toKey()),[4,gae(t.localStore,e)]);case 1:return r=i.sent(),t.currentUser=e,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new be(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(t),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,zc(t,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function lGe(n,e){var t=Me(n),r=t.Co.get(e);if(r&&r.bo)return kn().add(r.key);var i=kn(),o=t.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=t.Po.get(u);i=i.unionWith(l.view.wo)}return i}function cGe(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,LD((t=Me(n)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(t.isPrimaryClient&&z3(t,e.targetId,i.To),i)]}})})}function fGe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){return[2,yae((e=Me(n)).localStore).then(function(r){return zc(e,r)})]})})}function hGe(n,e,t,r){return X(this,void 0,void 0,function(){var i,o;return Y(this,function(s){switch(s.label){case 0:return[4,function(a,u){var l=Me(a),c=Me(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(d){return c.jt(d,u).next(function(h){return h?l.Mn.pn(d,h):Te.resolve(null)})})}((i=Me(n)).localStore,e)];case 1:return(o=s.sent())===null?[3,6]:t!=="pending"?[3,3]:[4,j_(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:t==="acknowledged"||t==="rejected"?(T8(i,e,r||null),S8(i,e),function(a,u){Me(Me(a)._n).Gt(u)}(i.localStore,e)):it(),s.label=4;case 4:return[4,zc(i,o)];case 5:return s.sent(),[3,7];case 6:xe("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function dGe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:return A8(t=Me(n)),I8(t),e!==!0||t.$o===!0?[3,3]:(r=t.sharedClientState.getAllActiveQueryTargets(),[4,H$(t,r.toArray())]);case 1:return i=c.sent(),t.$o=!0,[4,q3(t.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],lI(t.remoteStore,a);return[3,7];case 3:return e!==!1||t.$o===!1?[3,7]:(u=[],l=Promise.resolve(),t.Vo.forEach(function(d,h){t.sharedClientState.isLocalQueryTarget(h)?u.push(h):l=l.then(function(){return Jm(t,h),Zm(t.localStore,h,!0)}),E1(t.remoteStore,h)}),[4,l]);case 4:return c.sent(),[4,H$(t,u)];case 5:return c.sent(),function(d){var h=Me(d);h.Co.forEach(function(p,v){E1(h.remoteStore,v)}),h.No.ts(),h.Co=new Map,h.Do=new Ao(ct.comparator)}(t),t.$o=!1,[4,q3(t.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function H$(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,d,h,p,v,m,_;return Y(this,function(b){switch(b.label){case 0:r=Me(n),i=[],o=[],s=0,a=e,b.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=r.Vo.get(u))&&c.length!==0?[4,Qm(r.localStore,Pa(c[0]))]:[3,7]):[3,13];case 2:l=b.sent(),d=0,h=c,b.label=3;case 3:return d<h.length?(p=h[d],v=r.Po.get(p),[4,cGe(r,v)]):[3,6];case 4:(m=b.sent()).snapshot&&o.push(m.snapshot),b.label=5;case 5:return d++,[3,3];case 6:return[3,11];case 7:return[4,_ae(r.localStore,u)];case 8:return _=b.sent(),[4,Qm(r.localStore,_)];case 9:return l=b.sent(),[4,E8(r,Pae(_),u,!1)];case 10:b.sent(),b.label=11;case 11:i.push(l),b.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function Pae(n){return xse(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pGe(n){var e=Me(n);return Me(Me(e.localStore).persistence).fn()}function gGe(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s;return Y(this,function(a){switch(a.label){case 0:return(i=Me(n)).$o?(xe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yae(i.localStore)];case 3:return o=a.sent(),s=o8.createSynthesizedRemoteEventForCurrentChange(e,t==="current"),[4,zc(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Zm(i.localStore,e,!0)];case 6:return a.sent(),Jm(i,e,r),[3,8];case 7:it(),a.label=8;case 8:return[2]}})})}function vGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,d,h;return Y(this,function(p){switch(p.label){case 0:if(!(r=A8(n)).$o)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(xe("SyncEngine","Adding an already active target "+s),[3,5]):[4,_ae(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,Qm(r.localStore,a)];case 3:return u=p.sent(),[4,E8(r,Pae(a),u.targetId,!1)];case 4:p.sent(),lI(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:l=function(v){return Y(this,function(m){switch(m.label){case 0:return r.Vo.has(v)?[4,Zm(r.localStore,v,!1).then(function(){E1(r.remoteStore,v),Jm(r,v)}).catch(_g)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})},c=0,d=t,p.label=7;case 7:return c<d.length?(h=d[c],[5,l(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function A8(n){var e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kae.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lGe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rGe.bind(null,e),e.vo._r=$ze.bind(null,e.eventManager),e.vo.Mo=Kze.bind(null,e.eventManager),e}function I8(n){var e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iGe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oGe.bind(null,e),e}function mGe(n,e,t){var r=Me(n);(function(i,o,s){return X(this,void 0,void 0,function(){var a,u,l,c,d,h;return Y(this,function(p){switch(p.label){case 0:return p.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return a=p.sent(),[4,function(v,m){var _=Me(v),b=xi(m.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",function(C){return _.Ke.getBundleMetadata(C,m.id)}).then(function(C){return!!C&&C.createTime.compareTo(b)>=0})}(i.localStore,a)];case 2:return p.sent()?[4,o.close()]:[3,4];case 3:return[2,(p.sent(),void s._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(a)))];case 4:return s._updateProgress(xae(a)),u=new Xze(a,i.localStore,o.R),[4,o.Lo()];case 5:l=p.sent(),p.label=6;case 6:return l?[4,u.oo(l)]:[3,10];case 7:return(c=p.sent())&&s._updateProgress(c),[4,o.Lo()];case 8:l=p.sent(),p.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return d=p.sent(),[4,zc(i,d.wn,void 0)];case 12:return p.sent(),[4,function(v,m){var _=Me(v);return _.persistence.runTransaction("Save bundle","readwrite",function(b){return _.Ke.saveBundleMetadata(b,m)})}(i.localStore,a)];case 13:return p.sent(),s._completeWith(d.progress),[3,15];case 14:return v1("SyncEngine","Loading bundle failed with "+(h=p.sent())),s._failWith(h),[3,15];case 15:return[2]}})})})(r,e,t).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Mae=function(){function n(){this.synchronizeTabs=!1}return n.prototype.initialize=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return this.R=FC(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},n.prototype.Uo=function(e){return null},n.prototype.Ko=function(e){return pae(this.persistence,new dae,e.initialUser,this.R)},n.prototype.qo=function(e){return new Sze(Dze.bs,this.R)},n.prototype.Bo=function(e){return new bae},n.prototype.terminate=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},n}(),Fae=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).Qo=t,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return Fe(e,n),e.prototype.initialize=function(t){return X(this,void 0,void 0,function(){var r=this;return Y(this,function(i){switch(i.label){case 0:return[4,n.prototype.initialize.call(this,t)];case 1:return i.sent(),[4,vze(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,t)];case 3:return i.sent(),[4,I8(this.Qo.syncEngine)];case 4:return i.sent(),[4,j_(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(t){return pae(this.persistence,new dae,t.initialUser,this.R)},e.prototype.Uo=function(t){var r=this.persistence.referenceDelegate.garbageCollector;return new rze(r,t.asyncQueue)},e.prototype.qo=function(t){var r=d8(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Gu.withCacheSize(this.cacheSizeBytes):Gu.DEFAULT;return new lze(this.synchronizeTabs,r,t.clientId,i,t.asyncQueue,Cae(),VS(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new bae},e}(Mae),_Ge=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r,!1)||this).Qo=t,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Fe(e,n),e.prototype.initialize=function(t){return X(this,void 0,void 0,function(){var r,i=this;return Y(this,function(o){switch(o.label){case 0:return[4,n.prototype.initialize.call(this,t)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Gk?(this.sharedClientState.syncEngine={ui:hGe.bind(null,r),ai:gGe.bind(null,r),hi:vGe.bind(null,r),fn:pGe.bind(null,r),ci:fGe.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return X(i,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return[4,dGe(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var r=Cae();if(!Gk.yt(r))throw new be(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=d8(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gk(r,t.asyncQueue,i,t.clientId,t.initialUser)},e}(Fae),G3=function(){function n(){}return n.prototype.initialize=function(e,t){return X(this,void 0,void 0,function(){var r=this;return Y(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return B$(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uGe.bind(null,this.syncEngine),[4,q3(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.createEventManager=function(e){return new Gze},n.prototype.createDatastore=function(e){var t,r=FC(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new Nze(t));return function(o,s,a){return new Rze(o,s,a)}(e.credentials,i,r)},n.prototype.createRemoteStore=function(e){var t,r,i,o,s,a=this;return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(u){return B$(a.syncEngine,u,0)},s=P$.yt()?new P$:new Ize,new Mze(t,r,i,o,s)},n.prototype.createSyncEngine=function(e,t){return function(r,i,o,s,a,u,l){var c=new Jze(r,i,o,s,a,u);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},n.prototype.terminate=function(){return function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return t=Me(e),xe("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,U_(t)];case 1:return r.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(n,e){e===void 0&&(e=10240);var t=0;return{read:function(){return X(this,void 0,void 0,function(){var r;return Y(this,function(i){return t<n.byteLength?(r={value:n.slice(t,t+e),done:!1},[2,(t+=e,r)]):[2,{done:!0}]})})},cancel:function(){return X(this,void 0,void 0,function(){return Y(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cI=function(){function n(e){this.observer=e,this.muted=!1}return n.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},n.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},n.prototype.Wo=function(){this.muted=!0},n.prototype.jo=function(e,t){var r=this;this.muted||setTimeout(function(){r.muted||e(t)},0)},n}(),yGe=function(){function n(e,t){var r=this;this.Go=e,this.R=t,this.metadata=new Co,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return n.prototype.close=function(){return this.Go.cancel()},n.prototype.getMetadata=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){return[2,this.metadata.promise]})})},n.prototype.Lo=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},n.prototype.Ho=function(){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(t=this.zo.decode(e),r=Number(t),isNaN(r)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new Yze(JSON.parse(i),e.length+r)]}})})},n.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e===123})},n.prototype.Jo=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},n.prototype.Xo=function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},n.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},n.prototype.tc=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})},n}(),bGe=function(){function n(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return n.prototype.lookup=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new be(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return X(this,void 0,void 0,function(){var a,u,l,c,d,h;return Y(this,function(p){switch(p.label){case 0:return a=Me(o),u=w1(a.R)+"/documents",l={documents:s.map(function(v){return C1(a.R,v)})},[4,a.$i("BatchGetDocuments",u,l)];case 1:return c=p.sent(),d=new Map,c.forEach(function(v){var m=function(_,b){return"found"in b?function(C,E){_t(!!E.found),E.found.name,E.found.updateTime;var T=dl(C,E.found.name),A=xi(E.found.updateTime),S=new Qs({mapValue:{fields:E.found.fields}});return Yi.newFoundDocument(T,A,S)}(_,b):"missing"in b?function(C,E){_t(!!E.missing),_t(!!E.readTime);var T=dl(C,E.missing),A=xi(E.readTime);return Yi.newNoDocument(T,A)}(_,b):it()}(a.R,v);d.set(m.key.toString(),m)}),h=[],[2,(s.forEach(function(v){var m=d.get(v.toString());_t(!!m),h.push(m)}),h)]}})})}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach(function(o){return r.recordVersion(o)}),t)]}})})},n.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},n.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},n.prototype.delete=function(e){this.write(new MC(e,this.precondition(e))),this.writtenDocs.add(e.toString())},n.prototype.commit=function(){return X(this,void 0,void 0,function(){var e,t=this;return Y(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var s=ct.fromPath(o);t.mutations.push(new i8(s,t.precondition(s)))}),[4,function(i,o){return X(this,void 0,void 0,function(){var s,a,u;return Y(this,function(l){switch(l.label){case 0:return s=Me(i),a=w1(s.R)+"/documents",u={writes:o.map(function(c){return AD(s.R,c)})},[4,s.Ni("Commit",a,u)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},n.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=jt.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new be(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},n.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?go.updateTime(t):go.none()},n.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jt.min()))throw new be(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return go.updateTime(t)}return go.exists(!0)},n.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},n.prototype.ensureCommitNotCalled=function(){},n}(),CGe=function(){function n(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new g8(this.asyncQueue,"transaction_retry")}return n.prototype.run=function(){this.ec-=1,this.nc()},n.prototype.nc=function(){var e=this;this.Zi.ji(function(){return X(e,void 0,void 0,function(){var t,r,i=this;return Y(this,function(o){return t=new bGe(this.datastore),(r=this.sc(t))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},n.prototype.sc=function(e){try{var t=this.updateFunction(e);return!vg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},n.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},n.prototype.rc=function(e){if(e.name==="FirebaseError"){var t=e.code;return t==="aborted"||t==="failed-precondition"||!Wse(t)}return!1},n}(),wGe=function(){function n(e,t,r){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Hi.UNAUTHENTICATED,this.clientId=Cse.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(o){return X(i,void 0,void 0,function(){return Y(this,function(s){switch(s.label){case 0:return xe("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return n.prototype.getConfiguration=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},n.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},n.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return X(e,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return r=o.sent(),i=z_(r,"Failed to shutdown persistence"),t.reject(i),[3,6];case 6:return[2]}})})}),t.promise},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(n,e){return X(this,void 0,void 0,function(){var t,r,i=this;return Y(this,function(o){switch(o.label){case 0:return n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider"),[4,n.getConfiguration()];case 1:return t=o.sent(),[4,e.initialize(t)];case 2:return o.sent(),r=t.initialUser,n.setCredentialChangeListener(function(s){return X(i,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,gae(e.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return n.terminate()}),n.offlineComponents=e,[2]}})})}function Hae(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return n.asyncQueue.verifyOperationInProgress(),[4,x8(n)];case 1:return t=i.sent(),xe("FirestoreClient","Initializing OnlineComponentProvider"),[4,n.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(t,r)];case 3:return i.sent(),n.setCredentialChangeListener(function(o){return function(s,a){return X(this,void 0,void 0,function(){var u,l;return Y(this,function(c){switch(c.label){case 0:return(u=Me(s)).asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials"),l=Uh(u),u.Or.add(3),[4,U_(u)];case 1:return c.sent(),l&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return c.sent(),u.Or.delete(3),[4,BC(u)];case 3:return c.sent(),[2]}})})}(e.remoteStore,o)}),n.onlineComponents=e,[2]}})})}function x8(n){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return n.offlineComponents?[3,2]:(xe("FirestoreClient","Using default OfflineComponentProvider"),[4,Bae(n,new Mae)]);case 1:e.sent(),e.label=2;case 2:return[2,n.offlineComponents]}})})}function fI(n){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return n.onlineComponents?[3,2]:(xe("FirestoreClient","Using default OnlineComponentProvider"),[4,Hae(n,new G3)]);case 1:e.sent(),e.label=2;case 2:return[2,n.onlineComponents]}})})}function W$(n){return x8(n).then(function(e){return e.persistence})}function L8(n){return x8(n).then(function(e){return e.localStore})}function U$(n){return fI(n).then(function(e){return e.remoteStore})}function N8(n){return fI(n).then(function(e){return e.syncEngine})}function e_(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return[4,fI(n)];case 1:return e=r.sent(),[2,((t=e.eventManager).onListen=eGe.bind(null,e.syncEngine),t.onUnlisten=tGe.bind(null,e.syncEngine),t)]}})})}function j$(n,e,t){var r=this;t===void 0&&(t={});var i=new Co;return n.asyncQueue.enqueueAndForget(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,d){var h=new cI({next:function(v){u.enqueueAndForget(function(){return b8(a,p)});var m=v.docs.has(l);!m&&v.fromCache?d.reject(new be(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?d.reject(new be(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:function(v){return d.reject(v)}}),p=new w8(V_(l.path),h,{includeMetadataChanges:!0,so:!0});return y8(a,p)},[4,e_(n)];case 1:return[2,o.apply(void 0,[s.sent(),n.asyncQueue,e,t,i])]}})})}),i.promise}function q$(n,e,t){var r=this;t===void 0&&(t={});var i=new Co;return n.asyncQueue.enqueueAndForget(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,d){var h=new cI({next:function(v){u.enqueueAndForget(function(){return b8(a,p)}),v.fromCache&&c.source==="server"?d.reject(new be(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:function(v){return d.reject(v)}}),p=new w8(l,h,{includeMetadataChanges:!0,so:!0});return y8(a,p)},[4,e_(n)];case 1:return[2,o.apply(void 0,[s.sent(),n.asyncQueue,e,t,i])]}})})}),i.promise}var EGe=function(n,e,t,r,i,o,s,a){this.databaseId=n,this.appId=e,this.persistenceKey=t,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},kD=function(){function n(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(n.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database},n}(),z$=new Map,Vae=function(n,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+n},G$=function(){function n(){this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(null)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Hi.UNAUTHENTICATED)})},n.prototype.removeChangeListener=function(){this.changeListener=null},n}(),SGe=function(){function n(e){this.token=e,this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(this.token)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(e,t){var r=this;this.changeListener=t,e.enqueueRetryable(function(){return t(r.token.user)})},n.prototype.removeChangeListener=function(){this.changeListener=null},n}(),TGe=function(){function n(e){var t=this;this.currentUser=Hi.UNAUTHENTICATED,this.oc=new Co,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var r=function(i){xe("FirebaseCredentialsProvider","Auth detected"),t.auth=i,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!t.auth){var i=e.getImmediate({optional:!0});i?r(i):(xe("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return n.prototype.getToken=function(){var e=this,t=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==t?(xe("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(_t(typeof i.accessToken=="string"),new Vae(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},n.prototype.invalidateToken=function(){this.forceRefresh=!0},n.prototype.setChangeListener=function(e,t){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return X(r,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,t(this.currentUser)];case 2:return i.sent(),this.changeListener=t,[2]}})})})},n.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},n.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new Hi(e)},n}(),DGe=function(){function n(e,t,r){this.hc=e,this.lc=t,this.fc=r,this.type="FirstParty",this.user=Hi.FIRST_PARTY}return Object.defineProperty(n.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),n}(),AGe=function(){function n(e,t,r){this.hc=e,this.lc=t,this.fc=r}return n.prototype.getToken=function(){return Promise.resolve(new DGe(this.hc,this.lc,this.fc))},n.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Hi.FIRST_PARTY)})},n.prototype.removeChangeListener=function(){},n.prototype.invalidateToken=function(){},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(n,e,t){if(!t)throw new be(oe.INVALID_ARGUMENT,"Function "+n+"() cannot be called with an empty "+e+".")}function k8(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new be(oe.INVALID_ARGUMENT,"Invalid options passed to function "+n+'(): You cannot specify both "merge" and "mergeFields".');return e}function Wae(n,e,t,r){if(e===!0&&r===!0)throw new be(oe.INVALID_ARGUMENT,n+" and "+t+" cannot be used together.")}function $$(n){if(!ct.isDocumentKey(n))throw new be(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n+" has "+n.length+".")}function K$(n){if(ct.isDocumentKey(n))throw new be(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n+" has "+n.length+".")}function hI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=n.substring(0,20)+"..."),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";var e=function(t){if(t.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(r&&r.length>1)return r[1]}return null}(n);return e?"a custom "+e+" object":"an object"}return typeof n=="function"?"a function":it()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=hI(n);throw new be(oe.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return n}function Y$(n,e){if(e<=0)throw new be(oe.INVALID_ARGUMENT,"Function "+n+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X$=function(){function n(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Wae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return n.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},n}(),S1=function(){function n(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X$({}),this._settingsFrozen=!1,e instanceof kD?(this._databaseId=e,this._credentials=new G$):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kD(r.options.projectId)}(e),this._credentials=new TGe(t))}return Object.defineProperty(n.prototype,"app",{get:function(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),n.prototype._setSettings=function(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X$(e),e.credentials!==void 0&&(this._credentials=function(t){if(!t)return new G$;switch(t.type){case"gapi":var r=t.client;return _t(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new AGe(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new be(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},n.prototype._getSettings=function(){return this._settings},n.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},n.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},n.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},n.prototype._terminate=function(){return e=this,(t=z$.get(e))&&(xe("ComponentProvider","Removing Datastore"),z$.delete(e),t.terminate()),Promise.resolve();var e,t},n}(),pr=function(){function n(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(n.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new sh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(e){return new n(this.firestore,e,this._key)},n}(),Ds=function(){function n(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}return n.prototype.withConverter=function(e){return new n(this.firestore,e,this._query)},n}(),sh=function(n){function e(t,r,i){var o=this;return(o=n.call(this,t,r,V_(i))||this)._path=i,o.type="collection",o}return Fe(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new pr(this.firestore,null,new ct(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ds);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uae(n,e){for(var t,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(n=Bt(n),O8("collection","path",e),n instanceof S1)return K$(t=gn.fromString.apply(gn,Vt([e],r))),new sh(n,null,t);if(!(n instanceof pr||n instanceof sh))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return K$(t=gn.fromString.apply(gn,Vt([n.path],r)).child(gn.fromString(e))),new sh(n.firestore,null,t)}function WS(n,e){for(var t,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(n=Bt(n),arguments.length===1&&(e=Cse.u()),O8("doc","path",e),n instanceof S1)return $$(t=gn.fromString.apply(gn,Vt([e],r))),new pr(n,null,new ct(t));if(!(n instanceof pr||n instanceof sh))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $$(t=n._path.child(gn.fromString.apply(gn,Vt([e],r)))),new pr(n.firestore,n instanceof sh?n.converter:null,new ct(t))}function jae(n,e){return n=Bt(n),e=Bt(e),(n instanceof pr||n instanceof sh)&&(e instanceof pr||e instanceof sh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qae(n,e){return n=Bt(n),e=Bt(e),n instanceof Ds&&e instanceof Ds&&n.firestore===e.firestore&&OC(n._query,e._query)&&n.converter===e.converter}var IGe=function(){function n(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new g8(this,"async_queue_retry"),this.Ic=function(){var r=VS();r&&xe("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var t=VS();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(n.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),n.prototype.enqueueAndForget=function(e){this.enqueue(e)},n.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},n.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=VS();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ic)}},n.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Co;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},n.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},n.prototype.bc=function(){return X(this,void 0,void 0,function(){var e,t=this;return Y(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!mg(e=r.sent()))throw e;return xe("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),r.label=5;case 5:return[2]}})})},n.prototype.Rc=function(e){var t=this,r=this.dc.then(function(){return t.gc=!0,e().catch(function(i){throw t.yc=i,t.gc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return t.gc=!1,i})});return this.dc=r,r},n.prototype.enqueueAfterDelay=function(e,t,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var o=qze.createAndSchedule(this,e,t,r,function(s){return i.vc(s)});return this.mc.push(o),o},n.prototype.Ac=function(){this.yc&&it()},n.prototype.verifyOperationInProgress=function(){},n.prototype.Pc=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},n.prototype.Vc=function(e){for(var t=0,r=this.mc;t<r.length;t++)if(r[t].timerId===e)return!0;return!1},n.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=t.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return t.Pc()})},n.prototype.Dc=function(e){this.Tc.push(e)},n.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},n}();function t_(n){return function(e,t){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(n)}var xGe=function(){function n(){this._progressObserver={},this._taskCompletionResolver=new Co,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return n.prototype.onProgress=function(e,t,r){this._progressObserver={next:e,error:t,complete:r}},n.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},n.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},n.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},n.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},n.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},n}(),LGe=-1,kr=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this).type="firestore",i._queue=new IGe,i._persistenceKey="name"in t?t.name:"[DEFAULT]",i}return Fe(e,n),e.prototype._terminate=function(){return this._firestoreClient||zae(this),this._firestoreClient.terminate()},e}(S1);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n){return n._firestoreClient||zae(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zae(n){var e,t=n._freezeSettings(),r=function(i,o,s,a){return new EGe(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,t);n._firestoreClient=new wGe(n._credentials,n._queue,r)}function Q$(n,e,t){var r=this,i=new Co;return n.asyncQueue.enqueue(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Bae(n,t)];case 1:return s.sent(),[4,Hae(n,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Z$(n){if(n._initialized||n._terminated)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Du(e)}return n.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},n}(),qp=function(){function n(e){this._byteString=e}return n.fromBase64String=function(e){try{return new n(ns.fromBase64String(e))}catch(t){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},n.fromUint8Array=function(e){return new n(ns.fromUint8Array(e))},n.prototype.toBase64=function(){return this._byteString.toBase64()},n.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},n.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},n.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},n}(),yg=function(n){this._methodName=n},dI=function(){function n(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(n.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},n.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},n.prototype._compareTo=function(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)},n}(),NGe=/^__.*__$/,OGe=function(){function n(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}return n.prototype.toMutation=function(e,t){return this.fieldMask!==null?new Wh(e,this.data,this.fieldMask,t,this.fieldTransforms):new PC(e,this.data,t,this.fieldTransforms)},n}(),Gae=function(){function n(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}return n.prototype.toMutation=function(e,t){return new Wh(e,this.data,this.fieldMask,t,this.fieldTransforms)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}var Kae=function(){function n(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(n.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),n.prototype.xc=function(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},n.prototype.kc=function(e){var t,r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},n.prototype.Oc=function(e){var t,r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},n.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},n.prototype.Lc=function(e){return RD(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},n.prototype.contains=function(e){return this.fieldMask.find(function(t){return e.isPrefixOf(t)})!==void 0||this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})!==void 0},n.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},n.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if($ae(this.Nc)&&NGe.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},n}(),kGe=function(){function n(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=r||FC(e)}return n.prototype.Uc=function(e,t,r,i){return i===void 0&&(i=!1),new Kae({Nc:e,methodName:t,qc:r,path:Du.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},n}();function bg(n){var e=n._freezeSettings(),t=FC(n._databaseId);return new kGe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pI(n,e,t,r,i,o){o===void 0&&(o={});var s=n.Uc(o.merge||o.mergeFields?2:0,e,t,i);F8("Data must be an object, but it was:",s,r);var a,u,l=Qae(r,s);if(o.merge)a=new Vm(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],d=0,h=o.mergeFields;d<h.length;d++){var p=$3(e,h[d],t);if(!s.contains(p))throw new be(oe.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Jae(c,p)||c.push(p)}a=new Vm(c),u=s.fieldTransforms.filter(function(v){return a.covers(v.field)})}else a=null,u=s.fieldTransforms;return new OGe(new Qs(l),a,u)}var R8=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype._toFieldTransform=function(t){if(t.Nc!==2)throw t.Nc===1?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(yg);function Yae(n,e,t){return new Kae({Nc:3,qc:e.settings.qc,methodName:n._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var RGe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype._toFieldTransform=function(t){return new RC(t.path,new qm)},e.prototype.isEqual=function(t){return t instanceof e},e}(yg),PGe=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Kc=r,i}return Fe(e,n),e.prototype._toFieldTransform=function(t){var r=Yae(this,t,!0),i=this.Kc.map(function(s){return Cg(s,r)}),o=new Up(i);return new RC(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(yg),MGe=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Kc=r,i}return Fe(e,n),e.prototype._toFieldTransform=function(t){var r=Yae(this,t,!0),i=this.Kc.map(function(s){return Cg(s,r)}),o=new jp(i);return new RC(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(yg),FGe=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Qc=r,i}return Fe(e,n),e.prototype._toFieldTransform=function(t){var r=new zm(t.R,Pse(t.R,this.Qc));return new RC(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yg);function P8(n,e,t,r){var i=n.Uc(1,e,t);F8("Data must be an object, but it was:",i,r);var o=[],s=Qs.empty();gg(r,function(u,l){var c=B8(e,u,t);l=Bt(l);var d=i.Oc(c);if(l instanceof R8)o.push(c);else{var h=Cg(l,d);h!=null&&(o.push(c),s.set(c,h))}});var a=new Vm(o);return new Gae(s,a,i.fieldTransforms)}function M8(n,e,t,r,i,o){var s=n.Uc(1,e,t),a=[$3(e,r,t)],u=[i];if(o.length%2!=0)throw new be(oe.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push($3(e,o[l])),u.push(o[l+1]);for(var c=[],d=Qs.empty(),h=a.length-1;h>=0;--h)if(!Jae(c,a[h])){var p=a[h],v=u[h];v=Bt(v);var m=s.Oc(p);if(v instanceof R8)c.push(p);else{var _=Cg(v,m);_!=null&&(c.push(p),d.set(p,_))}}var b=new Vm(c);return new Gae(d,b,s.fieldTransforms)}function Xae(n,e,t,r){return r===void 0&&(r=!1),Cg(t,n.Uc(r?4:3,e))}function Cg(n,e){if(Zae(n=Bt(n)))return F8("Unsupported field value:",e,n),Qae(n,e);if(n instanceof yg)return function(t,r){if(!$ae(r.Nc))throw r.Lc(t._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(t._methodName+"() is not currently supported inside arrays");var i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(t,r){for(var i=[],o=0,s=0,a=t;s<a.length;s++){var u=Cg(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if((t=Bt(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return Pse(r.R,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){var i=Ts.fromDate(t);return{timestampValue:b1(r.R,i)}}if(t instanceof Ts)return i=new Ts(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:b1(r.R,i)};if(t instanceof dI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qp)return{bytesValue:Gse(r.R,t._byteString)};if(t instanceof pr){i=r.databaseId;var o=t.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:a8(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Lc("Unsupported field value: "+hI(t))}(n,e)}function Qae(n,e){var t={};return Ese(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gg(n,function(r,i){var o=Cg(i,e.kc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Zae(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ts||n instanceof dI||n instanceof qp||n instanceof pr||n instanceof yg)}function F8(n,e,t){if(!Zae(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){var r=hI(t);throw r==="an object"?e.Lc(n+" a custom object"):e.Lc(n+" "+r)}}function $3(n,e,t){if((e=Bt(e))instanceof pl)return e._internalPath;if(typeof e=="string")return B8(n,e);throw RD("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}var BGe=new RegExp("[~\\*/\\[\\]]");function B8(n,e,t){if(e.search(BGe)>=0)throw RD("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",n,!1,void 0,t);try{return new(pl.bind.apply(pl,Vt([void 0],e.split("."))))()._internalPath}catch{throw RD("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",n,!1,void 0,t)}}function RD(n,e,t,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+e+"() called with invalid data";t&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new be(oe.INVALID_ARGUMENT,(a+=". ")+n+u)}function Jae(n,e){return n.some(function(t){return t.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T1=function(){function n(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new pr(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),n.prototype.exists=function(){return this._document!==null},n.prototype.data=function(){if(this._document){if(this._converter){var e=new HGe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},n.prototype.get=function(e){if(this._document){var t=this._document.data.field(PD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}},n}(),HGe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.data=function(){return n.prototype.data.call(this)},e}(T1);function PD(n,e){return typeof e=="string"?B8(n,e):e instanceof pl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rp=function(){function n(e,t){this.hasPendingWrites=e,this.fromCache=t}return n.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},n}(),Ec=function(n){function e(t,r,i,o,s,a){var u=this;return(u=n.call(this,t,r,i,o,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=s,u}return Fe(e,n),e.prototype.exists=function(){return n.prototype.exists.call(this)},e.prototype.data=function(t){if(t===void 0&&(t={}),this._document){if(this._converter){var r=new ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(PD("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(T1),ab=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.data=function(t){return t===void 0&&(t={}),n.prototype.data.call(this,t)},e}(Ec),Nf=function(){function n(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rp(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(n.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),n.prototype.forEach=function(e,t){var r=this;this._snapshot.docs.forEach(function(i){e.call(t,new ab(r._firestore,r._userDataWriter,i.key,i,new rp(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},n.prototype.docChanges=function(e){e===void 0&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new ab(r._firestore,r._userDataWriter,a.doc.key,a.doc,new rp(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new ab(r._firestore,r._userDataWriter,a.doc.key,a.doc,new rp(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(c=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:VGe(a.type),doc:u,oldIndex:l,newIndex:c}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},n}();function VGe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function eue(n,e){return n instanceof Ec&&e instanceof Ec?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nf&&e instanceof Nf&&n._firestore===e._firestore&&qae(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(n){if(DD(n)&&n.explicitOrderBy.length===0)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HC=function(){};function df(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,i=e;r<i.length;r++){var o=i[r];n=o._apply(n)}return n}var WGe=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).jc=t,o.Wc=r,o.Gc=i,o.type="where",o}return Fe(e,n),e.prototype._apply=function(t){var r=bg(t.firestore),i=function(o,s,a,u,l,c,d){var h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new be(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){rK(d,c);for(var p=[],v=0,m=d;v<m.length;v++){var _=m[v];p.push(nK(u,o,_))}h={arrayValue:{values:p}}}else h=nK(u,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rK(d,c),h=Xae(a,"where",d,c==="in"||c==="not-in");var b=ta.create(l,c,h);return function(C,E){if(E.g()){var T=n8(C);if(T!==null&&!T.isEqual(E.field))throw new be(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+T.toString()+"' and '"+E.field.toString()+"'");var A=t8(C);A!==null&&rue(C,E.field,A)}var S=function(N,k){for(var F=0,L=N.filters;F<L.length;F++){var O=L[F];if(k.indexOf(O.op)>=0)return O.op}return null}(C,function(N){switch(N){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(E.op));if(S!==null)throw S===E.op?new be(oe.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+E.op.toString()+"' filter."):new be(oe.INVALID_ARGUMENT,"Invalid query. You cannot use '"+E.op.toString()+"' filters with '"+S.toString()+"' filters.")}(o,b),b}(t._query,0,r,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ds(t.firestore,t.converter,function(o,s){var a=o.filters.concat([s]);return new qc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))},e}(HC),UGe=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).jc=t,i.zc=r,i.type="orderBy",i}return Fe(e,n),e.prototype._apply=function(t){var r=function(i,o,s){if(i.startAt!==null)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new im(o,s);return function(u,l){if(t8(u)===null){var c=n8(u);c!==null&&rue(u,c,l.field)}}(i,a),a}(t._query,this.jc,this.zc);return new Ds(t.firestore,t.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new qc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))},e}(HC),J$=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Hc=r,o.Jc=i,o}return Fe(e,n),e.prototype._apply=function(t){return new Ds(t.firestore,t.converter,Lse(t._query,this.Hc,this.Jc))},e}(HC),eK=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Yc=r,o.Xc=i,o}return Fe(e,n),e.prototype._apply=function(t){var r=nue(t,this.type,this.Yc,this.Xc);return new Ds(t.firestore,t.converter,function(i,o){return new qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(t._query,r))},e}(HC),tK=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Yc=r,o.Xc=i,o}return Fe(e,n),e.prototype._apply=function(t){var r=nue(t,this.type,this.Yc,this.Xc);return new Ds(t.firestore,t.converter,function(i,o){return new qc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(t._query,r))},e}(HC);function nue(n,e,t,r){if(t[0]=Bt(t[0]),t[0]instanceof T1)return function(o,s,a,u,l){if(!u)throw new be(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var c=[],d=0,h=jm(o);d<h.length;d++){var p=h[d];if(p.field.isKeyField())c.push(ED(s,u.key));else{var v=u.data.field(p.field);if(ZB(v))throw new be(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){var m=p.field.canonicalString();throw new be(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+m+"' (used as the orderBy) does not exist.")}c.push(v)}}return new y1(c,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);var i=bg(n.firestore);return function(o,s,a,u,l,c){var d=o.explicitOrderBy;if(l.length>d.length)throw new be(oe.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],p=0;p<l.length;p++){var v=l[p];if(d[p].field.isKeyField()){if(typeof v!="string")throw new be(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof v);if(!r8(o)&&v.indexOf("/")!==-1)throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+v+"' contains a slash.");var m=o.path.child(gn.fromString(v));if(!ct.isDocumentKey(m))throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+m+"' is not because it contains an odd number of segments.");var _=new ct(m);h.push(ED(s,_))}else{var b=Xae(a,u,v);h.push(b)}}return new y1(h,c)}(n._query,n.firestore._databaseId,i,e,t,r)}function nK(n,e,t){if(typeof(t=Bt(t))=="string"){if(t==="")throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!r8(e)&&t.indexOf("/")!==-1)throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var r=e.path.child(gn.fromString(t));if(!ct.isDocumentKey(r))throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ED(n,new ct(r))}if(t instanceof pr)return ED(n,t._key);throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hI(t)+".")}function rK(n,e){if(!Array.isArray(n)||n.length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(n.length>10)throw new be(oe.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rue(n,e,t){if(!t.isEqual(e))throw new be(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H8=function(){function n(){}return n.prototype.convertValue=function(e,t){switch(t===void 0&&(t="none"),Wp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}},n.prototype.convertObject=function(e,t){var r=this,i={};return gg(e.fields,function(o,s){i[o]=r.convertValue(s,t)}),i},n.prototype.convertGeoPoint=function(e){return new dI(Wr(e.latitude),Wr(e.longitude))},n.prototype.convertArray=function(e,t){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,t)})},n.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var r=Tse(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(m1(e));default:return null}},n.prototype.convertTimestamp=function(e){var t=Ch(e);return new Ts(t.seconds,t.nanos)},n.prototype.convertDocumentKey=function(e,t){var r=gn.fromString(e);_t(tae(r));var i=new kD(r.get(1),r.get(3)),o=new ct(r.popFirst(5));return i.isEqual(t)||qr("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e,t){return n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e}var jGe=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return Fe(e,n),e.prototype.convertBytes=function(t){return new qp(t)},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return new pr(this.firestore,null,r)},e}(H8),qGe=function(){function n(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bg(e)}return n.prototype.set=function(e,t,r){this._verifyNotCommitted();var i=Of(e,this._firestore),o=gI(i.converter,t,r),s=pI(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,go.none())),this},n.prototype.update=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Of(e,this._firestore);return s=typeof(t=Bt(t))=="string"||t instanceof pl?M8(this._dataReader,"WriteBatch.update",a._key,t,r,i):P8(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,go.exists(!0))),this},n.prototype.delete=function(e){this._verifyNotCommitted();var t=Of(e,this._firestore);return this._mutations=this._mutations.concat(new MC(t._key,go.none())),this},n.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},n.prototype._verifyNotCommitted=function(){if(this._committed)throw new be(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n,e){if((n=Bt(n)).firestore!==e)throw new be(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ep=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return Fe(e,n),e.prototype.convertBytes=function(t){return new qp(t)},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return new pr(this.firestore,null,r)},e}(H8);function iK(n,e,t){n=dn(n,pr);var r=dn(n.firestore,kr),i=gI(n.converter,e,t);return VC(r,[pI(bg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,go.none())])}function oK(n,e,t){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];n=dn(n,pr);var o=dn(n.firestore,kr),s=bg(o);return VC(o,[(typeof(e=Bt(e))=="string"||e instanceof pl?M8(s,"updateDoc",n._key,e,t,r):P8(s,"updateDoc",n._key,e)).toMutation(n._key,go.exists(!0))])}function iue(n){for(var e,t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];n=Bt(n);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||t_(i[a])||(s=i[a],a++);var u,l,c,d={includeMetadataChanges:s.includeMetadataChanges};if(t_(i[a])){var h=i[a];i[a]=(e=h.next)===null||e===void 0?void 0:e.bind(h),i[a+1]=(t=h.error)===null||t===void 0?void 0:t.bind(h),i[a+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(n instanceof pr)l=dn(n.firestore,kr),c=V_(n._key.path),u={next:function(m){i[a]&&i[a](K3(l,n,m))},error:i[a+1],complete:i[a+2]};else{var p=dn(n,Ds);l=dn(p.firestore,kr),c=p._query;var v=new Ep(l);u={next:function(m){i[a]&&i[a](new Nf(l,v,p,m))},error:i[a+1],complete:i[a+2]},tue(n._query)}return function(m,_,b,C){var E=this,T=new cI(C),A=new w8(_,T,b);return m.asyncQueue.enqueueAndForget(function(){return X(E,void 0,void 0,function(){var S;return Y(this,function(N){switch(N.label){case 0:return S=y8,[4,e_(m)];case 1:return[2,S.apply(void 0,[N.sent(),A])]}})})}),function(){T.Wo(),m.asyncQueue.enqueueAndForget(function(){return X(E,void 0,void 0,function(){var S;return Y(this,function(N){switch(N.label){case 0:return S=b8,[4,e_(m)];case 1:return[2,S.apply(void 0,[N.sent(),A])]}})})})}}(Di(l),c,d,u)}function VC(n,e){return function(t,r){var i=this,o=new Co;return t.asyncQueue.enqueueAndForget(function(){return X(i,void 0,void 0,function(){var s;return Y(this,function(a){switch(a.label){case 0:return s=nGe,[4,N8(t)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(Di(n),e)}function K3(n,e,t){var r=t.docs.get(e._key),i=new Ep(n);return new Ec(n,i,e._key,r,new rp(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zGe=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this)._firestore=t,i}return Fe(e,n),e.prototype.get=function(t){var r=this,i=Of(t,this._firestore),o=new Ep(this._firestore);return n.prototype.get.call(this,t).then(function(s){return new Ec(r._firestore,o,i._key,s._document,new rp(!1,!1),i.converter)})},e}(function(){function n(e,t){this._firestore=e,this._transaction=t,this._dataReader=bg(e)}return n.prototype.get=function(e){var t=this,r=Of(e,this._firestore),i=new jGe(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return it();var s=o[0];if(s.isFoundDocument())return new T1(t._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new T1(t._firestore,i,r._key,null,r.converter);throw it()})},n.prototype.set=function(e,t,r){var i=Of(e,this._firestore),o=gI(i.converter,t,r),s=pI(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},n.prototype.update=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=Of(e,this._firestore);return s=typeof(t=Bt(t))=="string"||t instanceof pl?M8(this._dataReader,"Transaction.update",a._key,t,r,i):P8(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,s),this},n.prototype.delete=function(e){var t=Of(e,this._firestore);return this._transaction.delete(t._key),this},n}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(){if(typeof Uint8Array>"u")throw new be(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function aK(){if(typeof atob>"u")throw new be(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var oue=function(){function n(e){this._delegate=e}return n.fromBase64String=function(e){return aK(),new n(qp.fromBase64String(e))},n.fromUint8Array=function(e){return sK(),new n(qp.fromUint8Array(e))},n.prototype.toBase64=function(){return aK(),this._delegate.toBase64()},n.prototype.toUint8Array=function(){return sK(),this._delegate.toUint8Array()},n.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(),GGe=function(){function n(){}return n.prototype.enableIndexedDbPersistence=function(e,t){return function(r,i){Z$(r=dn(r,kr));var o=Di(r),s=r._freezeSettings(),a=new G3;return Q$(o,a,new Fae(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:t})},n.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){Z$(t=dn(t,kr));var r=Di(t),i=t._freezeSettings(),o=new G3;return Q$(r,o,new _Ge(o,i.cacheSizeBytes))}(e._delegate)},n.prototype.clearIndexedDbPersistence=function(e){return function(t){var r=this;if(t._initialized&&!t._terminated)throw new be(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Co;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return X(this,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return Km.yt()?(u=a+"main",[4,Km.delete(u)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(d8(t._databaseId,t._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},n}(),V8=function(){function n(e,t,r){var i=this;this._delegate=t,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof kD||(this.tu=e)}return Object.defineProperty(n.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),n.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||v1("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},n.prototype.useEmulator=function(e,t,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var l=(i=dn(i,S1))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&v1("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),a.mockUserToken){var c,d;if(typeof a.mockUserToken=="string")c=a.mockUserToken,d=Hi.MOCK_USER;else{c=YF(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var h=a.mockUserToken.sub||a.mockUserToken.user_id;if(!h)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Hi(h)}i._credentials=new SGe(new Vae(c,d))}}(this._delegate,e,t,r)},n.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return X(t,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return[4,W$(e)];case 1:return r=o.sent(),[4,U$(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=Me(s);return a.Or.delete(0),BC(a)}(i))]}})})})}(Di(dn(this._delegate,kr)))},n.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return X(t,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return[4,W$(e)];case 1:return r=o.sent(),[4,U$(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return X(this,void 0,void 0,function(){var a;return Y(this,function(u){switch(u.label){case 0:return(a=Me(s)).Or.add(0),[4,U_(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(Di(dn(this._delegate,kr)))},n.prototype.enablePersistence=function(e){var t=!1,r=!1;return e&&Wae("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},n.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},n.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},n.prototype.waitForPendingWrites=function(){return function(e){var t=this,r=new Co;return e.asyncQueue.enqueueAndForget(function(){return X(t,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:return i=sGe,[4,N8(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Di(dn(this._delegate,kr)))},n.prototype.onSnapshotsInSync=function(e){return function(t,r){return function(i,o){var s=this,a=new cI(o);return i.asyncQueue.enqueueAndForget(function(){return X(s,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return u=function(c,d){Me(c).Gr.add(d),d.next()},[4,e_(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return X(s,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return u=function(c,d){Me(c).Gr.delete(d)},[4,e_(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})})}}(Di(t=dn(t,kr)),t_(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(n.prototype,"app",{get:function(){if(!this.tu)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),n.prototype.collection=function(e){try{return new MD(this,Uae(this._delegate,e))}catch(t){throw Uo(t,"collection()","Firestore.collection()")}},n.prototype.doc=function(e){try{return new Sp(this,WS(this._delegate,e))}catch(t){throw Uo(t,"doc()","Firestore.doc()")}},n.prototype.collectionGroup=function(e){try{return new WC(this,function(t,r){if(t=dn(t,S1),O8("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new be(oe.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ds(t,null,function(i){return new qc(gn.emptyPath(),i)}(r))}(this._delegate,e))}catch(t){throw Uo(t,"collectionGroup()","Firestore.collectionGroup()")}},n.prototype.runTransaction=function(e){var t=this;return function(r,i){return function(o,s){var a=this,u=new Co;return o.asyncQueue.enqueueAndForget(function(){return X(a,void 0,void 0,function(){var l;return Y(this,function(c){switch(c.label){case 0:return[4,function(d){return fI(d).then(function(h){return h.datastore})}(o)];case 1:return l=c.sent(),new CGe(o.asyncQueue,l,s,u).run(),[2]}})})}),u.promise}(Di(r),function(o){return i(new zGe(r,o))})}(this._delegate,function(r){return e(new sue(t,r))})},n.prototype.batch=function(){var e=this;return Di(this._delegate),new aue(new qGe(this._delegate,function(t){return VC(e._delegate,t)}))},n.prototype.loadBundle=function(e){throw new be(oe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},n.prototype.namedQuery=function(e){throw new be(oe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},n}(),vI=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return Fe(e,n),e.prototype.convertBytes=function(t){return new oue(new qp(t))},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return Sp.eu(r,this.firestore,null)},e}(H8);function $Ge(n){var e;e=n,yu.setLogLevel(e)}var sue=function(){function n(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}return n.prototype.get=function(e){var t=this,r=ip(e);return this._delegate.get(r).then(function(i){return new D1(t._firestore,new Ec(t._firestore._delegate,t._userDataWriter,i._key,i._document,i.metadata,r.converter))})},n.prototype.set=function(e,t,r){var i=ip(e);return r?(k8("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this},n.prototype.update=function(e,t,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=ip(e);return arguments.length===2?this._delegate.update(a,t):(i=this._delegate).update.apply(i,Vt([a,t,r],o)),this},n.prototype.delete=function(e){var t=ip(e);return this._delegate.delete(t),this},n}(),aue=function(){function n(e){this._delegate=e}return n.prototype.set=function(e,t,r){var i=ip(e);return r?(k8("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this},n.prototype.update=function(e,t,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=ip(e);return arguments.length===2?this._delegate.update(a,t):(i=this._delegate).update.apply(i,Vt([a,t,r],o)),this},n.prototype.delete=function(e){var t=ip(e);return this._delegate.delete(t),this},n.prototype.commit=function(){return this._delegate.commit()},n}(),mI=function(){function n(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}return n.prototype.fromFirestore=function(e,t){var r=new ab(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A1(this._firestore,r),t??{})},n.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},n.nu=function(e,t){var r=n.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(t);return o||(o=new n(e,new vI(e),t),i.set(t,o)),o},n}();mI.su=new WeakMap;var Sp=function(){function n(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}return n.iu=function(e,t,r){if(e.length%2!=0)throw new be(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new n(t,new pr(t._delegate,r,new ct(e)))},n.eu=function(e,t,r){return new n(t,new pr(t._delegate,r,e))},Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new MD(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),n.prototype.collection=function(e){try{return new MD(this.firestore,Uae(this._delegate,e))}catch(t){throw Uo(t,"collection()","DocumentReference.collection()")}},n.prototype.isEqual=function(e){return(e=Bt(e))instanceof pr&&jae(this._delegate,e)},n.prototype.set=function(e,t){t=k8("DocumentReference.set",t);try{return t?iK(this._delegate,e,t):iK(this._delegate,e)}catch(r){throw Uo(r,"setDoc()","DocumentReference.set()")}},n.prototype.update=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?oK(this._delegate,e):oK.apply(void 0,Vt([this._delegate,e,t],r))}catch(o){throw Uo(o,"updateDoc()","DocumentReference.update()")}},n.prototype.delete=function(){return VC(dn((e=this._delegate).firestore,kr),[new MC(e._key,go.none())]);var e},n.prototype.onSnapshot=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=uue(t),o=lue(t,function(s){return new D1(e.firestore,new Ec(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))});return iue(this._delegate,i,o)},n.prototype.get=function(e){var t=this;return((e==null?void 0:e.source)==="cache"?function(r){r=dn(r,pr);var i=dn(r.firestore,kr),o=Di(i),s=new Ep(i);return function(a,u){var l=this,c=new Co;return a.asyncQueue.enqueueAndForget(function(){return X(l,void 0,void 0,function(){var d;return Y(this,function(h){switch(h.label){case 0:return d=function(p,v,m){return X(this,void 0,void 0,function(){var _,b;return Y(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(E,T){var A=Me(E);return A.persistence.runTransaction("read document","readonly",function(S){return A.Mn.mn(S,T)})}(p,v)];case 1:return(b=C.sent()).isFoundDocument()?m.resolve(b):b.isNoDocument()?m.resolve(null):m.reject(new be(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return _=C.sent(),b=z_(_,"Failed to get document '"+v+" from cache"),m.reject(b),[3,3];case 3:return[2]}})})},[4,L8(a)];case 1:return[2,d.apply(void 0,[h.sent(),u,c])]}})})}),c.promise}(o,r._key).then(function(a){return new Ec(i,s,r._key,a,new rp(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=dn(r,pr);var i=dn(r.firestore,kr);return j$(Di(i),r._key,{source:"server"}).then(function(o){return K3(i,r,o)})}(this._delegate):function(r){r=dn(r,pr);var i=dn(r.firestore,kr);return j$(Di(i),r._key).then(function(o){return K3(i,r,o)})}(this._delegate)).then(function(r){return new D1(t.firestore,new Ec(t.firestore._delegate,t._userDataWriter,r._key,r._document,r.metadata,t._delegate.converter))})},n.prototype.withConverter=function(e){return new n(this.firestore,e?this._delegate.withConverter(mI.nu(this.firestore,e)):this._delegate.withConverter(null))},n}();function Uo(n,e,t){return n.message=n.message.replace(e,t),n}function uue(n){for(var e=0,t=n;e<t.length;e++){var r=t[e];if(typeof r=="object"&&!t_(r))return r}return{}}function lue(n,e){var t,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(t=(i=t_(n[0])?n[0]:t_(n[1])?n[1]:typeof n[0]=="function"?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]}).error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var D1=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"ref",{get:function(){return new Sp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),n.prototype.data=function(e){return this._delegate.data(e)},n.prototype.get=function(e,t){return this._delegate.get(e,t)},n.prototype.isEqual=function(e){return eue(this._delegate,e._delegate)},n}(),A1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.data=function(t){return this._delegate.data(t)},e}(D1),WC=function(){function n(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}return n.prototype.where=function(e,t,r){try{return new n(this.firestore,df(this._delegate,function(i,o,s){var a=o,u=PD("where",i);return new WGe(u,a,s)}(e,t,r)))}catch(i){throw Uo(i,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.orderBy=function(e,t){try{return new n(this.firestore,df(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=PD("orderBy",r);return new UGe(s,o)}(e,t)))}catch(r){throw Uo(r,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.limit=function(e){try{return new n(this.firestore,df(this._delegate,function(t){return Y$("limit",t),new J$("limit",t,"F")}(e)))}catch(t){throw Uo(t,"limit()","Query.limit()")}},n.prototype.limitToLast=function(e){try{return new n(this.firestore,df(this._delegate,function(t){return Y$("limitToLast",t),new J$("limitToLast",t,"L")}(e)))}catch(t){throw Uo(t,"limitToLast()","Query.limitToLast()")}},n.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,df(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eK("startAt",r,!0)}).apply(void 0,e)))}catch(r){throw Uo(r,"startAt()","Query.startAt()")}},n.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,df(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eK("startAfter",r,!1)}).apply(void 0,e)))}catch(r){throw Uo(r,"startAfter()","Query.startAfter()")}},n.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,df(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tK("endBefore",r,!0)}).apply(void 0,e)))}catch(r){throw Uo(r,"endBefore()","Query.endBefore()")}},n.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,df(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tK("endAt",r,!1)}).apply(void 0,e)))}catch(r){throw Uo(r,"endAt()","Query.endAt()")}},n.prototype.isEqual=function(e){return qae(this._delegate,e._delegate)},n.prototype.get=function(e){var t=this;return((e==null?void 0:e.source)==="cache"?function(r){r=dn(r,Ds);var i=dn(r.firestore,kr),o=Di(i),s=new Ep(i);return function(a,u){var l=this,c=new Co;return a.asyncQueue.enqueueAndForget(function(){return X(l,void 0,void 0,function(){var d;return Y(this,function(h){switch(h.label){case 0:return d=function(p,v,m){return X(this,void 0,void 0,function(){var _,b,C,E,T;return Y(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,LD(p,v,!0)];case 1:return T=A.sent(),_=new Oae(v,T.Bn),b=_._o(T.documents),C=_.applyChanges(b,!1),m.resolve(C.snapshot),[3,3];case 2:return E=A.sent(),T=z_(E,"Failed to execute query '"+v+" against cache"),m.reject(T),[3,3];case 3:return[2]}})})},[4,L8(a)];case 1:return[2,d.apply(void 0,[h.sent(),u,c])]}})})}),c.promise}(o,r._query).then(function(a){return new Nf(i,s,r,a)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=dn(r,Ds);var i=dn(r.firestore,kr),o=Di(i),s=new Ep(i);return q$(o,r._query,{source:"server"}).then(function(a){return new Nf(i,s,r,a)})}(this._delegate):function(r){r=dn(r,Ds);var i=dn(r.firestore,kr),o=Di(i),s=new Ep(i);return tue(r._query),q$(o,r._query).then(function(a){return new Nf(i,s,r,a)})}(this._delegate)).then(function(r){return new Y3(t.firestore,new Nf(t.firestore._delegate,t._userDataWriter,t._delegate,r._snapshot))})},n.prototype.onSnapshot=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=uue(t),o=lue(t,function(s){return new Y3(e.firestore,new Nf(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))});return iue(this._delegate,i,o)},n.prototype.withConverter=function(e){return new n(this.firestore,e?this._delegate.withConverter(mI.nu(this.firestore,e)):this._delegate.withConverter(null))},n}(),KGe=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doc",{get:function(){return new A1(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),n}(),Y3=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"query",{get:function(){return new WC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new A1(e._firestore,t)})},enumerable:!1,configurable:!0}),n.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(r){return new KGe(t._firestore,r)})},n.prototype.forEach=function(e,t){var r=this;this._delegate.forEach(function(i){e.call(t,new A1(r._firestore,i))})},n.prototype.isEqual=function(e){return eue(this._delegate,e._delegate)},n}(),MD=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this).firestore=t,i._delegate=r,i}return Fe(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Sp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Sp(this.firestore,t===void 0?WS(this._delegate):WS(this._delegate,t))}catch(r){throw Uo(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var r=this;return function(i,o){var s=dn(i.firestore,kr),a=WS(i),u=gI(i.converter,o);return VC(s,[pI(bg(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,go.exists(!1))]).then(function(){return a})}(this._delegate,t).then(function(i){return new Sp(r.firestore,i)})},e.prototype.isEqual=function(t){return jae(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mI.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(WC);function ip(n){return dn(n,pr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YGe=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(pl.bind.apply(pl,Vt([void 0],e)))}return n.documentId=function(){return new n(Du.keyField().canonicalString())},n.prototype.isEqual=function(e){return(e=Bt(e))instanceof pl&&this._delegate._internalPath.isEqual(e._internalPath)},n}(),XGe=function(){function n(e){this._delegate=e}return n.serverTimestamp=function(){var e=new RGe("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new n(e)},n.delete=function(){var e=new R8("deleteField");return e._methodName="FieldValue.delete",new n(e)},n.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new PGe("arrayUnion",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new n(r)},n.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new MGe("arrayRemove",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new n(r)},n.increment=function(e){var t=function(r){return new FGe("increment",r)}(e);return t._methodName="FieldValue.increment",new n(t)},n.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QGe(n){return function(e,t){var r=Di(e=dn(e,kr)),i=new xGe;return function(o,s,a,u){var l=this,c=function(d,h){return function(p,v){return new yGe(p,v)}(function(p,v){if(p instanceof Uint8Array)return V$(p,v);if(p instanceof ArrayBuffer)return V$(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof d=="string"?new TextEncoder().encode(d):d),h)}(a,FC(s));o.asyncQueue.enqueueAndForget(function(){return X(l,void 0,void 0,function(){var d;return Y(this,function(h){switch(h.label){case 0:return d=mGe,[4,N8(o)];case 1:return d.apply(void 0,[h.sent(),c,u]),[2]}})})})}(r,e._databaseId,t,i),i}(this._delegate,n)}function ZGe(n){var e,t,r=this;return(e=this._delegate,t=n,function(i,o){var s=this;return i.asyncQueue.enqueue(function(){return X(s,void 0,void 0,function(){var a;return Y(this,function(u){switch(u.label){case 0:return a=function(l,c){var d=Me(l);return d.persistence.runTransaction("Get named query","readonly",function(h){return d.Ke.getNamedQuery(h,c)})},[4,L8(i)];case 1:return[2,a.apply(void 0,[u.sent(),o])]}})})})}(Di(e=dn(e,kr)),t).then(function(i){return i?new Ds(e,null,i.query):null})).then(function(i){return i?new WC(r,i):null})}var JGe={Firestore:V8,GeoPoint:dI,Timestamp:Ts,Blob:oue,Transaction:sue,WriteBatch:aue,DocumentReference:Sp,DocumentSnapshot:D1,Query:WC,QueryDocumentSnapshot:A1,QuerySnapshot:Y3,CollectionReference:MD,FieldPath:YGe,FieldValue:XGe,setLogLevel:$Ge,CACHE_SIZE_UNLIMITED:LGe};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$e(n){(function(e,t){e.INTERNAL.registerComponent(new yo("firestore",function(r){var i=r.getProvider("app").getImmediate();return t(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},JGe)))})(n,function(e,t){return new V8(e,new kr(e,t),new GGe)}),n.registerVersion("@firebase/firestore","2.4.1")}e$e(tt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$e(n){n.prototype.loadBundle=QGe,n.prototype.namedQuery=ZGe}t$e(V8);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uK={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},om=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=t,o.details=i,o}return e}(Error);function n$e(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function r$e(n,e,t){var r=n$e(n),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if(typeof a=="string"){if(!uK[a])return new om("internal","internal");r=uK[a],i=a}var u=s.message;typeof u=="string"&&(i=u),o=s.details,o!==void 0&&(o=t.decode(o))}}catch{}return r==="ok"?null:new om(r,i,o)}var i$e=function(){function n(e,t){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||t.get().then(function(i){return r.messaging=i},function(){})}return n.prototype.getAuthToken=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=t.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getInstanceIdToken=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getContext=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return t=r.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o$e="type.googleapis.com/google.protobuf.Int64Value",s$e="type.googleapis.com/google.protobuf.UInt64Value";function lK(n,e){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}var a$e=function(){function n(){}return n.prototype.encode=function(e){var t=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return t.encode(r)});if(typeof e=="function"||typeof e=="object")return lK(e,function(r){return t.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},n.prototype.decode=function(e){var t=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case o$e:case s$e:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return t.decode(i)}):typeof e=="function"||typeof e=="object"?lK(e,function(i){return t.decode(i)}):e},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$e(n){var e,t=new Promise(function(r,i){e=setTimeout(function(){i(new om("deadline-exceeded","deadline-exceeded"))},n)});return{timer:e,promise:t}}var cK=function(){function n(e,t,r,i,o,s){var a=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=s,this.serializer=new a$e,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new i$e(t,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),n.prototype._url=function(e){var t=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+t+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},n.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},n.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},n.prototype.httpsCallable=function(e,t){var r=this;return function(i){return r.call(e,i,t||{})}},n.prototype.postJSON=function(e,t,r){return X(this,void 0,void 0,function(){var i,o,s;return Y(this,function(a){switch(a.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=a.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:r})];case 3:return o=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:s=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,o.json()];case 7:return s=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:o.status,json:s}]}})})},n.prototype.getAppCheckToken=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return t=r.sent(),[2,t.token];case 2:return[2,null]}})})},n.prototype.call=function(e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d,h,p,v,m;return Y(this,function(_){switch(_.label){case 0:return i=this._url(e),t=this.serializer.encode(t),o={data:t},s={},[4,this.contextProvider.getContext()];case 1:return a=_.sent(),a.authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=r.timeout||7e4,l=u$e(u),c=l.timer,d=l.promise,[4,Promise.race([fK(c,this.postJSON(i,o,s)),d,fK(c,this.cancelAllRequests)])];case 2:if(h=_.sent(),!h)throw new om("cancelled","Firebase Functions instance was deleted.");if(p=r$e(h.status,h.json,this.serializer),p)throw p;if(!h.json)throw new om("internal","Response is not valid JSON object.");if(v=h.json.data,typeof v>"u"&&(v=h.json.result),typeof v>"u")throw new om("internal","Response is missing data field.");return m=this.serializer.decode(v),[2,{data:m}]}})})},n}();function fK(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,e];case 1:return t=r.sent(),clearTimeout(n),[2,t]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l$e="functions";function c$e(n,e){var t={Functions:cK};function r(i,o){var s=o.instanceIdentifier,a=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal"),c=i.getProvider("messaging");return new cK(a,u,c,l,s,e)}n.INTERNAL.registerComponent(new yo(l$e,r,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}var f$e="@firebase/functions",h$e="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */c$e(tt,fetch.bind(self));tt.registerVersion(f$e,h$e);function d$e(n){return Array.prototype.slice.call(n)}function cue(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function _I(n,e,t){var r,i=new Promise(function(o,s){r=n[e].apply(n,t),cue(r).then(o,s)});return i.request=r,i}function p$e(n,e,t){var r=_I(n,e,t);return r.then(function(i){if(i)return new I1(i,r.request)})}function G_(n,e,t){t.forEach(function(r){Object.defineProperty(n.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function W8(n,e,t,r){r.forEach(function(i){i in t.prototype&&(n.prototype[i]=function(){return _I(this[e],i,arguments)})})}function yI(n,e,t,r){r.forEach(function(i){i in t.prototype&&(n.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function fue(n,e,t,r){r.forEach(function(i){i in t.prototype&&(n.prototype[i]=function(){return p$e(this[e],i,arguments)})})}function wg(n){this._index=n}G_(wg,"_index",["name","keyPath","multiEntry","unique"]);W8(wg,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);fue(wg,"_index",IDBIndex,["openCursor","openKeyCursor"]);function I1(n,e){this._cursor=n,this._request=e}G_(I1,"_cursor",["direction","key","primaryKey","value"]);W8(I1,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(I1.prototype[n]=function(){var e=this,t=arguments;return Promise.resolve().then(function(){return e._cursor[n].apply(e._cursor,t),cue(e._request).then(function(r){if(r)return new I1(r,e._request)})})})});function Wl(n){this._store=n}Wl.prototype.createIndex=function(){return new wg(this._store.createIndex.apply(this._store,arguments))};Wl.prototype.index=function(){return new wg(this._store.index.apply(this._store,arguments))};G_(Wl,"_store",["name","keyPath","indexNames","autoIncrement"]);W8(Wl,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);fue(Wl,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);yI(Wl,"_store",IDBObjectStore,["deleteIndex"]);function UC(n){this._tx=n,this.complete=new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(){t(n.error)},n.onabort=function(){t(n.error)}})}UC.prototype.objectStore=function(){return new Wl(this._tx.objectStore.apply(this._tx,arguments))};G_(UC,"_tx",["objectStoreNames","mode"]);yI(UC,"_tx",IDBTransaction,["abort"]);function bI(n,e,t){this._db=n,this.oldVersion=e,this.transaction=new UC(t)}bI.prototype.createObjectStore=function(){return new Wl(this._db.createObjectStore.apply(this._db,arguments))};G_(bI,"_db",["name","version","objectStoreNames"]);yI(bI,"_db",IDBDatabase,["deleteObjectStore","close"]);function CI(n){this._db=n}CI.prototype.transaction=function(){return new UC(this._db.transaction.apply(this._db,arguments))};G_(CI,"_db",["name","version","objectStoreNames"]);yI(CI,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(n){[Wl,wg].forEach(function(e){n in e.prototype&&(e.prototype[n.replace("open","iterate")]=function(){var t=d$e(arguments),r=t[t.length-1],i=this._store||this._index,o=i[n].apply(i,t.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[wg,Wl].forEach(function(n){n.prototype.getAll||(n.prototype.getAll=function(e,t){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(s){if(!s){o(i);return}if(i.push(s.value),t!==void 0&&i.length==t){o(i);return}s.continue()})})})});function U8(n,e,t){var r=_I(indexedDB,"open",[n,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){t&&t(new bI(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new CI(o)})}function $k(n){return _I(indexedDB,"deleteDatabase",[n])}var g$e="@firebase/installations",hue="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var due=1e4,pue="w:"+hue,gue="FIS_v2",v$e="https://firebaseinstallations.googleapis.com/v1",m$e=60*60*1e3,_$e="installations",y$e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pf,b$e=(pf={},pf["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',pf["not-registered"]="Firebase Installation is not registered.",pf["installation-not-found"]="Firebase Installation not found.",pf["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',pf["app-offline"]="Could not process request. Application offline.",pf["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",pf),Pc=new Hc(_$e,y$e,b$e);function vue(n){return n instanceof v_&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(n){var e=n.projectId;return v$e+"/projects/"+e+"/installations"}function mue(n){return{token:n.token,requestStatus:2,expiresIn:C$e(n.expiresIn),creationTime:Date.now()}}function q8(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return t=i.sent(),r=t.error,[2,Pc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function _ue(n){var e=n.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function yue(n,e){var t=e.refreshToken,r=_ue(n);return r.append("Authorization",w$e(t)),r}function z8(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return[4,n()];case 1:return e=t.sent(),e.status>=500&&e.status<600?[2,n()]:[2,e]}})})}function C$e(n){return Number(n.replace("s","000"))}function w$e(n){return gue+" "+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$e(n,e){var t=e.fid;return X(this,void 0,void 0,function(){var r,i,o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:return r=j8(n),i=_ue(n),o={fid:t,authVersion:gue,appId:n.appId,sdkVersion:pue},s={method:"POST",headers:i,body:JSON.stringify(o)},[4,z8(function(){return fetch(r,s)})];case 1:return a=c.sent(),a.ok?[4,a.json()]:[3,3];case 2:return u=c.sent(),l={fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:mue(u.authToken)},[2,l];case 3:return[4,q8("Create Installation",a)];case 4:throw c.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(n){return new Promise(function(e){setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$e(n){var e=btoa(String.fromCharCode.apply(String,Vt([],Wi(n))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T$e=/^[cdef][\w-]{21}$/,X3="";function D$e(){try{var n=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(n),n[0]=112+n[0]%16;var t=A$e(n);return T$e.test(t)?t:X3}catch{return X3}}function A$e(n){var e=S$e(n);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){return n.appName+"!"+n.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_=new Map;function Cue(n,e){var t=$_(n);wue(t,e),L$e(t,e)}function I$e(n,e){Eue();var t=$_(n),r=n_.get(t);r||(r=new Set,n_.set(t,r)),r.add(e)}function x$e(n,e){var t=$_(n),r=n_.get(t);r&&(r.delete(e),r.size===0&&n_.delete(t),Sue())}function wue(n,e){var t,r,i=n_.get(n);if(i)try{for(var o=Li(i),s=o.next();!s.done;s=o.next()){var a=s.value;a(e)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}function L$e(n,e){var t=Eue();t&&t.postMessage({key:n,fid:e}),Sue()}var op=null;function Eue(){return!op&&"BroadcastChannel"in self&&(op=new BroadcastChannel("[Firebase] FID Change"),op.onmessage=function(n){wue(n.data.key,n.data.fid)}),op}function Sue(){n_.size===0&&op&&(op.close(),op=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$e="firebase-installations-database",O$e=1,zp="firebase-installations-store",Kk=null;function G8(){return Kk||(Kk=U8(N$e,O$e,function(n){switch(n.oldVersion){case 0:n.createObjectStore(zp)}})),Kk}function FD(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return t=$_(n),[4,G8()];case 1:return r=a.sent(),i=r.transaction(zp,"readwrite"),o=i.objectStore(zp),[4,o.get(t)];case 2:return s=a.sent(),[4,o.put(e,t)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),(!s||s.fid!==e.fid)&&Cue(n,e.fid),[2,e]}})})}function $8(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return e=$_(n),[4,G8()];case 1:return t=i.sent(),r=t.transaction(zp,"readwrite"),[4,r.objectStore(zp).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function jC(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return t=$_(n),[4,G8()];case 1:return r=u.sent(),i=r.transaction(zp,"readwrite"),o=i.objectStore(zp),[4,o.get(t)];case 2:return s=u.sent(),a=e(s),a!==void 0?[3,4]:[4,o.delete(t)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,t)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),a&&(!s||s.fid!==a.fid)&&Cue(n,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return[4,jC(n,function(o){var s=k$e(o),a=R$e(n,s);return e=a.registrationPromise,a.installationEntry})];case 1:return t=i.sent(),t.fid!==X3?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:t,registrationPromise:e}]}})})}function k$e(n){var e=n||{fid:D$e(),registrationStatus:0};return Tue(e)}function R$e(n,e){if(e.registrationStatus===0){if(!navigator.onLine){var t=Promise.reject(Pc.create("app-offline"));return{installationEntry:e,registrationPromise:t}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=P$e(n,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:M$e(n)}:{installationEntry:e}}function P$e(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,E$e(n,e)];case 1:return t=i.sent(),[2,FD(n,t)];case 2:return r=i.sent(),vue(r)&&r.customData.serverCode===409?[4,$8(n)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,FD(n,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function M$e(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,hK(n)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,bue(100)];case 3:return o.sent(),[4,hK(n)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,K8(n)];case 6:return t=o.sent(),r=t.installationEntry,i=t.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function hK(n){return jC(n,function(e){if(!e)throw Pc.create("installation-not-found");return Tue(e)})}function Tue(n){return F$e(n)?{fid:n.fid,registrationStatus:0}:n}function F$e(n){return n.registrationStatus===1&&n.registrationTime+due<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$e(n,e){var t=n.appConfig,r=n.platformLoggerProvider;return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d;return Y(this,function(h){switch(h.label){case 0:return i=H$e(t,e),o=yue(t,e),s=r.getImmediate({optional:!0}),s&&o.append("x-firebase-client",s.getPlatformInfoString()),a={installation:{sdkVersion:pue}},u={method:"POST",headers:o,body:JSON.stringify(a)},[4,z8(function(){return fetch(i,u)})];case 1:return l=h.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=h.sent(),d=mue(c),[2,d];case 3:return[4,q8("Generate Auth Token",l)];case 4:throw h.sent()}})})}function H$e(n,e){var t=e.fid;return j8(n)+"/"+t+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(n,e){return e===void 0&&(e=!1),X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return[4,jC(n.appConfig,function(a){if(!Due(a))throw Pc.create("not-registered");var u=a.authToken;if(!e&&U$e(u))return a;if(u.requestStatus===1)return t=V$e(n,e),a;if(!navigator.onLine)throw Pc.create("app-offline");var l=q$e(a);return t=W$e(n,l),l})];case 1:return r=s.sent(),t?[4,t]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}})})}function V$e(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,dK(n.appConfig)];case 1:t=i.sent(),i.label=2;case 2:return t.authToken.requestStatus!==1?[3,5]:[4,bue(100)];case 3:return i.sent(),[4,dK(n.appConfig)];case 4:return t=i.sent(),[3,2];case 5:return r=t.authToken,r.requestStatus===0?[2,Y8(n,e)]:[2,r]}})})}function dK(n){return jC(n,function(e){if(!Due(e))throw Pc.create("not-registered");var t=e.authToken;return z$e(t)?gt(gt({},e),{authToken:{requestStatus:0}}):e})}function W$e(n,e){return X(this,void 0,void 0,function(){var t,i,r,i;return Y(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,B$e(n,e)];case 1:return t=o.sent(),i=gt(gt({},e),{authToken:t}),[4,FD(n.appConfig,i)];case 2:return o.sent(),[2,t];case 3:return r=o.sent(),vue(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,$8(n.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=gt(gt({},e),{authToken:{requestStatus:0}}),[4,FD(n.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function Due(n){return n!==void 0&&n.registrationStatus===2}function U$e(n){return n.requestStatus===2&&!j$e(n)}function j$e(n){var e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+m$e}function q$e(n){var e={requestStatus:1,requestTime:Date.now()};return gt(gt({},n),{authToken:e})}function z$e(n){return n.requestStatus===1&&n.requestTime+due<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$e(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return[4,K8(n.appConfig)];case 1:return e=i.sent(),t=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):Y8(n).catch(console.error),[2,t.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$e(n,e){return e===void 0&&(e=!1),X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,K$e(n.appConfig)];case 1:return r.sent(),[4,Y8(n,e)];case 2:return t=r.sent(),[2,t.token]}})})}function K$e(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return[4,K8(n)];case 1:return e=t.sent().registrationPromise,e?[4,e]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$e(n,e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return t=X$e(n,e),r=yue(n,e),i={method:"DELETE",headers:r},[4,z8(function(){return fetch(t,i)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,q8("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function X$e(n,e){var t=e.fid;return j8(n)+"/"+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$e(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return e=n.appConfig,[4,jC(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(t=r.sent(),!t)return[3,6];if(t.registrationStatus!==1)return[3,2];throw Pc.create("delete-pending-registration");case 2:if(t.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Pc.create("app-offline");case 3:return[4,Y$e(e,t)];case 4:return r.sent(),[4,$8(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$e(n,e){var t=n.appConfig;return I$e(t,e),function(){x$e(t,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$e(n){var e,t;if(!n||!n.options)throw Yk("App Configuration");if(!n.name)throw Yk("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Li(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!n.options[s])throw Yk(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Yk(n){return Pc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eKe(n){var e="installations";n.INTERNAL.registerComponent(new yo(e,function(t){var r=t.getProvider("app").getImmediate(),i=J$e(r),o=t.getProvider("platform-logger"),s={appConfig:i,platformLoggerProvider:o},a={app:r,getId:function(){return G$e(s)},getToken:function(u){return $$e(s,u)},delete:function(){return Q$e(s)},onIdChange:function(u){return Z$e(s,u)}};return a},"PUBLIC")),n.registerVersion(g$e,hue)}eKe(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr,tKe=(Jr={},Jr["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Jr["only-available-in-window"]="This method is available in a Window context.",Jr["only-available-in-sw"]="This method is available in a service worker context.",Jr["permission-default"]="The notification permission was not granted and dismissed instead.",Jr["permission-blocked"]="The notification permission was not granted and blocked instead.",Jr["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Jr["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Jr["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Jr["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Jr["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Jr["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Jr["token-update-no-token"]="FCM returned no token when updating the user to push.",Jr["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Jr["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Jr["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Jr["invalid-vapid-key"]="The public VAPID key must be a string.",Jr["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Jr),Ln=new Hc("messaging","Messaging",tKe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nKe="/firebase-messaging-sw.js",rKe="/firebase-cloud-messaging-push-scope",BD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iKe="https://fcmregistrations.googleapis.com/v1",Aue="FCM_MSG",oKe="FirebaseMessaging: ",sKe="google.c.a.e",Iue="google.c.a.c_id",aKe="google.c.a.ts",uKe="google.c.a.c_l",lKe=1e3,cKe=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Gp;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(Gp||(Gp={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){var e=new Uint8Array(n),t=btoa(String.fromCharCode.apply(String,Vt([],Wi(e))));return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fKe(n){for(var e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xk="fcm_token_details_db",hKe=5,pK="fcm_token_object_Store";function dKe(n){return X(this,void 0,void 0,function(){var e,t,r,i,o=this;return Y(this,function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=s.sent(),t=e.map(function(a){return a.name}),!t.includes(Xk))return[2,null];s.label=2;case 2:return r=null,[4,U8(Xk,hKe,function(a){return X(o,void 0,void 0,function(){var u,l,c,c,c,d;return Y(this,function(h){switch(h.label){case 0:return a.oldVersion<2?[2]:a.objectStoreNames.contains(pK)?(u=a.transaction.objectStore(pK),[4,u.index("fcmSenderId").get(n)]):[2];case 1:return l=h.sent(),[4,u.clear()];case 2:if(h.sent(),!l)return[2];if(a.oldVersion===2){if(c=l,!c.auth||!c.p256dh||!c.endpoint)return[2];r={token:c.fcmToken,createTime:(d=c.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:rc(c.vapidKey)}}}else a.oldVersion===3?(c=l,r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:rc(c.auth),p256dh:rc(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:rc(c.vapidKey)}}):a.oldVersion===4&&(c=l,r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:rc(c.auth),p256dh:rc(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:rc(c.vapidKey)}});return[2]}})})})];case 3:return i=s.sent(),i.close(),[4,$k(Xk)];case 4:return s.sent(),[4,$k("fcm_vapid_details_db")];case 5:return s.sent(),[4,$k("undefined")];case 6:return s.sent(),[2,pKe(r)?r:null]}})})}function pKe(n){if(!n||!n.subscriptionOptions)return!1;var e=n.subscriptionOptions;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gKe="firebase-messaging-database",vKe=1,$p="firebase-messaging-store",Qk=null;function X8(){return Qk||(Qk=U8(gKe,vKe,function(n){switch(n.oldVersion){case 0:n.createObjectStore($p)}})),Qk}function HD(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return e=Z8(n),[4,X8()];case 1:return t=o.sent(),[4,t.transaction($p).objectStore($p).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,dKe(n.appConfig.senderId)];case 4:return i=o.sent(),i?[4,Q8(n,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function Q8(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return t=Z8(n),[4,X8()];case 1:return r=o.sent(),i=r.transaction($p,"readwrite"),[4,i.objectStore($p).put(e,t)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function mKe(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return e=Z8(n),[4,X8()];case 1:return t=i.sent(),r=t.transaction($p,"readwrite"),[4,r.objectStore($p).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Z8(n){var e=n.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ke(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return[4,e9(n)];case 1:t=l.sent(),r=Lue(e),i={method:"POST",headers:t,body:JSON.stringify(r)},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(J8(n.appConfig),i)];case 3:return s=l.sent(),[4,s.json()];case 4:return o=l.sent(),[3,6];case 5:throw a=l.sent(),Ln.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,Ln.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw Ln.create("token-subscribe-no-token");return[2,o.token]}})})}function yKe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return[4,e9(n)];case 1:t=l.sent(),r=Lue(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(J8(n.appConfig)+"/"+e.token,i)];case 3:return s=l.sent(),[4,s.json()];case 4:return o=l.sent(),[3,6];case 5:throw a=l.sent(),Ln.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,Ln.create("token-update-failed",{errorInfo:u});if(!o.token)throw Ln.create("token-update-no-token");return[2,o.token]}})})}function xue(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return[4,e9(n)];case 1:t=u.sent(),r={method:"DELETE",headers:t},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(J8(n.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw s=o.error.message,Ln.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw a=u.sent(),Ln.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function J8(n){var e=n.projectId;return iKe+"/projects/"+e+"/registrations"}function e9(n){var e=n.appConfig,t=n.installations;return X(this,void 0,void 0,function(){var r;return Y(this,function(i){switch(i.label){case 0:return[4,t.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function Lue(n){var e=n.p256dh,t=n.auth,r=n.endpoint,i=n.vapidKey,o={web:{endpoint:r,auth:t,p256dh:e}};return i!==BD&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bKe=7*24*60*60*1e3;function Q3(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:if(Notification.permission!=="granted")throw Ln.create("permission-blocked");return[4,wKe(e,t)];case 1:return r=a.sent(),[4,HD(n)];case 2:return i=a.sent(),o={vapidKey:t,swScope:e.scope,endpoint:r.endpoint,auth:rc(r.getKey("auth")),p256dh:rc(r.getKey("p256dh"))},i?[3,3]:[2,gK(n,o)];case 3:if(EKe(i.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,xue(n,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,gK(n,o)];case 8:return Date.now()>=i.createTime+bKe?[2,CKe({token:i.token,createTime:Date.now(),subscriptionOptions:o},n,e)]:[2,i.token];case 9:return[2]}})})}function ub(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,HD(n)];case 1:return t=i.sent(),t?[4,xue(n,t.token)]:[3,4];case 2:return i.sent(),[4,mKe(n)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function CKe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,yKe(e,n)];case 1:return r=s.sent(),i=gt(gt({},n),{token:r,createTime:Date.now()}),[4,Q8(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,ub(e,t)];case 4:throw s.sent(),o;case 5:return[2]}})})}function gK(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,_Ke(n,e)];case 1:return t=i.sent(),r={token:t,createTime:Date.now(),subscriptionOptions:e},[4,Q8(n,r)];case 2:return i.sent(),[2,r.token]}})})}function wKe(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,n.pushManager.getSubscription()];case 1:return t=r.sent(),t?[2,t]:[2,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fKe(e)})]}})})}function EKe(n,e){var t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SKe(n){var e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return TKe(e,n),DKe(e,n),AKe(e,n),e}function TKe(n,e){if(e.notification){n.notification={};var t=e.notification.title;t&&(n.notification.title=t);var r=e.notification.body;r&&(n.notification.body=r);var i=e.notification.image;i&&(n.notification.image=i)}}function DKe(n,e){e.data&&(n.data=e.data)}function AKe(n,e){if(e.fcmOptions){n.fcmOptions={};var t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);var r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nue(n){return typeof n=="object"&&!!n&&Iue in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(n){return new Promise(function(e){setTimeout(e,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IKe=function(){function n(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(t.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(t.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(t.onNotificationClick(r))})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Ln.create("invalid-bg-handler");this.bgMessageHandler=e},n.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},n.prototype.getToken=function(){var e,t;return X(this,void 0,void 0,function(){var r;return Y(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,HD(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(t=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&t!==void 0?t:BD,i.label=2;case 2:return[2,Q3(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},n.prototype.deleteToken=function(){return ub(this.firebaseDependencies,self.registration)},n.prototype.requestPermission=function(){throw Ln.create("only-available-in-window")},n.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Ln.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Ln.create("invalid-vapid-key");this.vapidKey=e},n.prototype.useServiceWorker=function(){throw Ln.create("only-available-in-window")},n.prototype.onMessage=function(){throw Ln.create("only-available-in-window")},n.prototype.onTokenRefresh=function(){throw Ln.create("only-available-in-window")},n.prototype.onPush=function(e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return t=LKe(e),t?[4,Oue()]:(console.debug(oKe+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=s.sent(),OKe(r)?[2,kKe(r,t)]:(i=!1,t.notification?[4,RKe(xKe(t))]:[3,3]);case 2:s.sent(),i=!0,s.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=SKe(t),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,vK(lKe)]);case 4:return s.sent(),[2]}})})},n.prototype.onSubChange=function(e){var t,r;return X(this,void 0,void 0,function(){var i,o;return Y(this,function(s){switch(s.label){case 0:return i=e.newSubscription,i?[3,2]:[4,ub(this.firebaseDependencies,self.registration)];case 1:return s.sent(),[2];case 2:return[4,HD(this.firebaseDependencies)];case 3:return o=s.sent(),[4,ub(this.firebaseDependencies,self.registration)];case 4:return s.sent(),[4,Q3(this.firebaseDependencies,self.registration,(r=(t=o==null?void 0:o.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&r!==void 0?r:BD)];case 5:return s.sent(),[2]}})})},n.prototype.onNotificationClick=function(e){var t,r;return X(this,void 0,void 0,function(){var i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:if(i=(r=(t=e.notification)===null||t===void 0?void 0:t.data)===null||r===void 0?void 0:r[Aue],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=PKe(i),o?(s=new URL(o,self.location.href),a=new URL(self.location.origin),s.host!==a.host?[2]:[4,NKe(s)]):[2];case 1:return u=l.sent(),u?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=l.sent(),[4,vK(cKe)];case 3:return l.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=l.sent(),l.label=6;case 6:return u?(i.messageType=Gp.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,u.postMessage(i)]):[2]}})})},n}();function xKe(n){var e,t=gt({},n.notification);return t.data=(e={},e[Aue]=n,e),t}function LKe(n){var e=n.data;if(!e)return null;try{return e.json()}catch{return null}}function NKe(n){return X(this,void 0,void 0,function(){var e,t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return[4,Oue()];case 1:e=u.sent();try{for(t=Li(e),r=t.next();!r.done;r=t.next())if(i=r.value,o=new URL(i.url,self.location.href),n.host===o.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(s)throw s.error}}return[2,null]}})})}function OKe(n){return n.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function kKe(n,e){var t,r;e.isFirebaseMessaging=!0,e.messageType=Gp.PUSH_RECEIVED;try{for(var i=Li(n),o=i.next();!o.done;o=i.next()){var s=o.value;s.postMessage(e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}function Oue(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function RKe(n){var e,t=n.actions,r=Notification.maxActions;return t&&r&&t.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=n.title)!==null&&e!==void 0?e:"",n)}function PKe(n){var e,t,r,i=(t=(e=n.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&t!==void 0?t:(r=n.notification)===null||r===void 0?void 0:r.click_action;return i||(Nue(n.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MKe=function(){function n(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return t.messageEventListener(r)})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.messageEventListener=function(e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return t=e.data,t.isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Gp.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(BKe(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),r=t.data,Nue(r)&&r[sKe]==="1"?[4,this.logEvent(t.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.getVapidKey=function(){return this.vapidKey},n.prototype.getSwReg=function(){return this.swRegistration},n.prototype.getToken=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if(Notification.permission!=="granted")throw Ln.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Q3(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},n.prototype.updateVapidKey=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=BD),[2]})})},n.prototype.updateSwReg=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},n.prototype.registerDefaultSw=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(nKe,{scope:rKe})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=r.sent(),Ln.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},n.prototype.deleteToken=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,ub(this.firebaseDependencies,this.swRegistration)]}})})},n.prototype.requestPermission=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=t.sent(),e==="granted")return[2];throw e==="denied"?Ln.create("permission-blocked"):Ln.create("permission-default")}})})},n.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Ln.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Ln.create("invalid-vapid-key");this.vapidKey=e},n.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");if(this.swRegistration)throw Ln.create("use-sw-after-get-token");this.swRegistration=e},n.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},n.prototype.setBackgroundMessageHandler=function(){throw Ln.create("only-available-in-sw")},n.prototype.onBackgroundMessage=function(){throw Ln.create("only-available-in-sw")},n.prototype.onTokenRefresh=function(){return function(){}},n.prototype.logEvent=function(e,t){return X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return r=FKe(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:t[Iue],message_name:t[uKe],message_time:t[aKe],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},n}();function FKe(n){switch(n){case Gp.NOTIFICATION_CLICKED:return"notification_open";case Gp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function BKe(n){return delete n.messageType,delete n.isFirebaseMessaging,n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HKe(n){var e,t;if(!n||!n.options)throw Zk("App Configuration Object");if(!n.name)throw Zk("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=n.options;try{for(var o=Li(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(!i[a])throw Zk(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{appName:n.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Zk(n){return Ln.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VKe="messaging";function WKe(n){var e=n.getProvider("app").getImmediate(),t=HKe(e),r=n.getProvider("installations").getImmediate(),i=n.getProvider("analytics-internal"),o={app:e,appConfig:t,installations:r,analyticsProvider:i};if(!kue())throw Ln.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new IKe(o):new MKe(o)}var UKe={isSupported:kue};tt.INTERNAL.registerComponent(new yo(VKe,WKe,"PUBLIC").setServiceProps(UKe));function kue(){return self&&"ServiceWorkerGlobalScope"in self?qKe():jKe()}function jKe(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function qKe(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rue="firebasestorage.googleapis.com",Pue="storageBucket",zKe=2*60*1e3,GKe=10*60*1e3,Xr=function(n){Fe(e,n);function e(t,r){var i=n.call(this,Jk(t),"Firebase Storage: "+r+" ("+Jk(t)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(t){return Jk(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(v_);function Jk(n){return"storage/"+n}function t9(){var n="An unknown error occurred, please check the error payload for server response.";return new Xr("unknown",n)}function $Ke(n){return new Xr("object-not-found","Object '"+n+"' does not exist.")}function KKe(n){return new Xr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YKe(){var n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xr("unauthenticated",n)}function XKe(){return new Xr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function QKe(n){return new Xr("unauthorized","User does not have permission to access '"+n+"'.")}function ZKe(){return new Xr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Mue(){return new Xr("canceled","User canceled the upload/download.")}function JKe(n){return new Xr("invalid-url","Invalid URL '"+n+"'.")}function eYe(n){return new Xr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}function tYe(){return new Xr("no-default-bucket","No default bucket found. Did you set the '"+Pue+"' property when initializing the app?")}function Fue(){return new Xr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nYe(){return new Xr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function rYe(){return new Xr("no-download-url","The given file does not have any download URLs.")}function sm(n){return new Xr("invalid-argument",n)}function Bue(){return new Xr("app-deleted","The Firebase app was deleted.")}function Hue(n){return new Xr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lb(n,e){return new Xr("invalid-format","String does not match format '"+n+"': "+e)}function tS(n){throw new Xr("internal-error","Internal error: "+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iYe(n){return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},eR=function(){function n(e,t){this.data=e,this.contentType=t||null}return n}();function Vue(n,e){switch(n){case Aa.RAW:return new eR(Wue(e));case Aa.BASE64:case Aa.BASE64URL:return new eR(Uue(n,e));case Aa.DATA_URL:return new eR(sYe(e),aYe(e))}throw t9()}function Wue(n){for(var e=[],t=0;t<n.length;t++){var r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320;if(!i)e.push(239,191,189);else{var o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oYe(n){var e;try{e=decodeURIComponent(n)}catch{throw lb(Aa.DATA_URL,"Malformed data URL.")}return Wue(e)}function Uue(n,e){switch(n){case Aa.BASE64:{var t=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(t||r){var i=t?"-":"_";throw lb(n,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Aa.BASE64URL:{var o=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(o||s){var i=o?"+":"/";throw lb(n,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var a;try{a=iYe(e)}catch{throw lb(n,"Invalid character found")}for(var u=new Uint8Array(a.length),l=0;l<a.length;l++)u[l]=a.charCodeAt(l);return u}var jue=function(){function n(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(t===null)throw lb(Aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=t[1]||null;r!=null&&(this.base64=uYe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return n}();function sYe(n){var e=new jue(n);return e.base64?Uue(Aa.BASE64,e.rest):oYe(e.rest)}function aYe(n){var e=new jue(n);return e.contentType}function uYe(n,e){var t=n.length>=e.length;return t?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lYe={STATE_CHANGED:"state_changed"},jo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tR(n){switch(n){case"running":case"pausing":case"canceling":return jo.RUNNING;case"paused":return jo.PAUSED;case"success":return jo.SUCCESS;case"canceled":return jo.CANCELED;case"error":return jo.ERROR;default:return jo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Tp||(Tp={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cYe=function(){function n(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Tp.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=Tp.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Tp.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return n.prototype.send=function(e,t,r,i){if(this.sent_)throw tS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},n.prototype.getErrorCode=function(){if(!this.sent_)throw tS("cannot .getErrorCode() before sending");return this.errorCode_},n.prototype.getStatus=function(){if(!this.sent_)throw tS("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},n.prototype.getResponseText=function(){if(!this.sent_)throw tS("cannot .getResponseText() before sending");return this.xhr_.responseText},n.prototype.abort=function(){this.xhr_.abort()},n.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},n.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},n.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},n}();function fYe(){return new cYe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hYe=function(){function n(){}return n.prototype.createConnection=function(){return fYe()},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia=function(){function n(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),n.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},n.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},n.makeFromBucketSpec=function(e,t){var r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw eYe(e)},n.makeFromUrl=function(e,t){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(F){F.path_=decodeURIComponent(F.path)}for(var c="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp("^https?://"+d+"/"+c+"/b/"+i+"/o"+h,"i"),v={bucket:1,path:3},m=t===Rue?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",b=new RegExp("^https?://"+m+"/"+i+"/"+_,"i"),C={bucket:1,path:2},E=[{regex:a,indices:u,postModify:o},{regex:p,indices:v,postModify:l},{regex:b,indices:C,postModify:l}],T=0;T<E.length;T++){var A=E[T],S=A.regex.exec(e);if(S){var N=S[A.indices.bucket],k=S[A.indices.path];k||(k=""),r=new n(N,k),A.postModify(r);break}}if(r==null)throw JKe(e);return r},n}(),dYe=function(){function n(e){this.promise_=Promise.reject(e)}return n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(e){},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pYe(n,e,t){var r=1,i=null,o=!1,s=0;function a(){return s===2}var u=!1;function l(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];u||(u=!0,e.apply(null,v))}function c(v){i=setTimeout(function(){i=null,n(d,a())},v)}function d(v){for(var m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];if(!u){if(v){l.call.apply(l,Vt([null,v],m));return}var b=a()||o;if(b){l.call.apply(l,Vt([null,v],m));return}r<64&&(r*=2);var C;s===1?(s=2,C=0):C=(r+Math.random())*1e3,c(C)}}var h=!1;function p(v){h||(h=!0,!u&&(i!==null?(v||(s=2),clearTimeout(i),c(0)):v||(s=1)))}return c(0),setTimeout(function(){o=!0,p(!0)},t),p}function gYe(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vYe(n){return n!==void 0}function mYe(n){return typeof n=="function"}function _Ye(n){return typeof n=="object"&&!Array.isArray(n)}function wI(n){return typeof n=="string"||n instanceof String}function mK(n){return n9()&&n instanceof Blob}function n9(){return typeof Blob<"u"}function Z3(n,e,t,r){if(r<e)throw sm("Invalid value for '"+n+"'. Expected "+e+" or greater.");if(r>t)throw sm("Invalid value for '"+n+"'. Expected "+t+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n,e){var t=e.match(/^(\w+):\/\/.+/),r=t==null?void 0:t[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+n}function que(n){var e=encodeURIComponent,t="?";for(var r in n)if(n.hasOwnProperty(r)){var i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yYe=function(){function n(e,t,r,i,o,s,a,u,l,c,d){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=a,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=l,this.pool_=d,this.promise_=new Promise(function(p,v){h.resolve_=p,h.reject_=v,h.start_()})}return n.prototype.start_=function(){var e=this;function t(i,o){if(o){i(!1,new nS(!1,null,!0));return}var s=e.pool_.createConnection();e.pendingConnection_=s;function a(u){var l=u.loaded,c=u.lengthComputable?u.total:-1;e.progressCallback_!==null&&e.progressCallback_(l,c)}e.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&s.removeUploadProgressListener(a),e.pendingConnection_=null;var u=s.getErrorCode()===Tp.NO_ERROR,l=s.getStatus();if(!u||e.isRetryStatusCode_(l)){var c=s.getErrorCode()===Tp.ABORT;i(!1,new nS(!1,null,c));return}var d=e.successCodes_.indexOf(l)!==-1;i(!0,new nS(d,s))})}function r(i,o){var s=e.resolve_,a=e.reject_,u=o.connection;if(o.wasSuccessCode)try{var l=e.callback_(u,u.getResponseText());vYe(l)?s(l):s()}catch(d){a(d)}else if(u!==null){var c=t9();c.serverResponse=u.getResponseText(),e.errorCallback_?a(e.errorCallback_(u,c)):a(c)}else if(o.canceled){var c=e.appDelete_?Bue():Mue();a(c)}else{var c=ZKe();a(c)}}this.canceled_?r(!1,new nS(!1,null,!0)):this.backoffId_=pYe(t,r,this.timeout_)},n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gYe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},n.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return t||i||o},n}(),nS=function(){function n(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}return n}();function bYe(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function CYe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wYe(n,e){e&&(n["X-Firebase-GMPID"]=e)}function EYe(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SYe(n,e,t,r,i,o){var s=que(n.urlParams),a=n.url+s,u=Object.assign({},n.headers);return wYe(u,e),bYe(u,t),CYe(u,o),EYe(u,r),new yYe(a,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TYe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DYe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=TYe();if(t!==void 0){for(var r=new t,i=0;i<n.length;i++)r.append(n[i]);return r.getBlob()}else{if(n9())return new Blob(n);throw new Xr("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function AYe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(){function n(e,t){var r=0,i="";mK(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return n.prototype.size=function(){return this.size_},n.prototype.type=function(){return this.type_},n.prototype.slice=function(e,t){if(mK(this.data_)){var r=this.data_,i=AYe(r,e,t);return i===null?null:new n(i)}else{var o=new Uint8Array(this.data_.buffer,e,t-e);return new n(o,!0)}},n.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(n9()){var r=e.map(function(u){return u instanceof n?u.data_:u});return new n(DYe.apply(null,r))}else{var i=e.map(function(u){return wI(u)?Vue(Aa.RAW,u).data:u.data_}),o=0;i.forEach(function(u){o+=u.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(u){for(var l=0;l<u.length;l++)s[a++]=u[l]}),new n(s,!0)}},n.prototype.uploadData=function(){return this.data_},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(n){var e;try{e=JSON.parse(n)}catch{return null}return _Ye(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IYe(n){if(n.length===0)return null;var e=n.lastIndexOf("/");if(e===-1)return"";var t=n.slice(0,e);return t}function xYe(n,e){var t=e.split("/").filter(function(r){return r.length>0}).join("/");return n.length===0?t:n+"/"+t}function zue(n){var e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LYe(n,e){return e}var ko=function(){function n(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||LYe}return n}(),rS=null;function NYe(n){return!wI(n)||n.length<2?n:zue(n)}function EI(){if(rS)return rS;var n=[];n.push(new ko("bucket")),n.push(new ko("generation")),n.push(new ko("metageneration")),n.push(new ko("name","fullPath",!0));function e(o,s){return NYe(s)}var t=new ko("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}var i=new ko("size");return i.xform=r,n.push(i),n.push(new ko("timeCreated")),n.push(new ko("updated")),n.push(new ko("md5Hash",null,!0)),n.push(new ko("cacheControl",null,!0)),n.push(new ko("contentDisposition",null,!0)),n.push(new ko("contentEncoding",null,!0)),n.push(new ko("contentLanguage",null,!0)),n.push(new ko("contentType",null,!0)),n.push(new ko("metadata","customMetadata",!0)),rS=n,rS}function OYe(n,e){function t(){var r=n.bucket,i=n.fullPath,o=new Ia(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function kYe(n,e,t){var r={};r.type="file";for(var i=t.length,o=0;o<i;o++){var s=t[o];r[s.local]=s.xform(r,e[s.server])}return OYe(r,n),r}function Gue(n,e,t){var r=i9(e);if(r===null)return null;var i=r;return kYe(n,i,t)}function RYe(n,e,t){var r=i9(e);if(r===null||!wI(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,s=i.split(","),a=s.map(function(u){var l=n.bucket,c=n.fullPath,d="/b/"+o(l)+"/o/"+o(c),h=jh(d,t),p=que({alt:"media",token:u});return h+p});return a[0]}function o9(n,e){for(var t={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _K="prefixes",yK="items";function PYe(n,e,t){var r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[_K])for(var i=0,o=t[_K];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),u=n._makeStorageReference(new Ia(e,a));r.prefixes.push(u)}if(t[yK])for(var l=0,c=t[yK];l<c.length;l++){var d=c[l],u=n._makeStorageReference(new Ia(e,d.name));r.items.push(u)}return r}function MYe(n,e,t){var r=i9(t);if(r===null)return null;var i=r;return PYe(n,e,i)}var Gc=function(){function n(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){if(!n)throw t9()}function SI(n,e){function t(r,i){var o=Gue(n,i,e);return gl(o!==null),o}return t}function FYe(n,e){function t(r,i){var o=MYe(n,e,i);return gl(o!==null),o}return t}function BYe(n,e){function t(r,i){var o=Gue(n,i,e);return gl(o!==null),RYe(o,i,n.host)}return t}function K_(n){function e(t,r){var i;return t.getStatus()===401?t.getResponseText().includes("Firebase App Check token is invalid")?i=XKe():i=YKe():t.getStatus()===402?i=KKe(n.bucket):t.getStatus()===403?i=QKe(n.path):i=r,i.serverResponse=r.serverResponse,i}return e}function TI(n){var e=K_(n);function t(r,i){var o=e(r,i);return r.getStatus()===404&&(o=$Ke(n.path)),o.serverResponse=i.serverResponse,o}return t}function $ue(n,e,t){var r=e.fullServerUrl(),i=jh(r,n.host),o="GET",s=n.maxOperationRetryTime,a=new Gc(i,o,SI(n,t),s);return a.errorHandler=TI(e),a}function HYe(n,e,t,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=e.bucketOnlyServerUrl(),a=jh(s,n.host),u="GET",l=n.maxOperationRetryTime,c=new Gc(a,u,FYe(n,e.bucket),l);return c.urlParams=o,c.errorHandler=K_(e),c}function VYe(n,e,t){var r=e.fullServerUrl(),i=jh(r,n.host),o="GET",s=n.maxOperationRetryTime,a=new Gc(i,o,BYe(n,t),s);return a.errorHandler=TI(e),a}function WYe(n,e,t,r){var i=e.fullServerUrl(),o=jh(i,n.host),s="PATCH",a=o9(t,r),u={"Content-Type":"application/json; charset=utf-8"},l=n.maxOperationRetryTime,c=new Gc(o,s,SI(n,r),l);return c.headers=u,c.body=a,c.errorHandler=TI(e),c}function UYe(n,e){var t=e.fullServerUrl(),r=jh(t,n.host),i="DELETE",o=n.maxOperationRetryTime;function s(u,l){}var a=new Gc(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=TI(e),a}function jYe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Kue(n,e,t){var r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=jYe(null,e)),r}function qYe(n,e,t,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var E="",T=0;T<2;T++)E=E+Math.random().toString().slice(2);return E}var u=a();s["Content-Type"]="multipart/related; boundary="+u;var l=Kue(e,r,i),c=o9(l,t),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",p=r9.getBlob(d,r,h);if(p===null)throw Fue();var v={name:l.fullPath},m=jh(o,n.host),_="POST",b=n.maxUploadRetryTime,C=new Gc(m,_,SI(n,t),b);return C.urlParams=v,C.headers=s,C.body=p.uploadData(),C.errorHandler=K_(e),C}var VD=function(){function n(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}return n}();function s9(n,e){var t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{gl(!1)}var r=e||["active"];return gl(!!t&&r.indexOf(t)!==-1),t}function zYe(n,e,t,r,i){var o=e.bucketOnlyServerUrl(),s=Kue(e,r,i),a={name:s.fullPath},u=jh(o,n.host),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=o9(s,t),h=n.maxUploadRetryTime;function p(m){s9(m);var _;try{_=m.getResponseHeader("X-Goog-Upload-URL")}catch{gl(!1)}return gl(wI(_)),_}var v=new Gc(u,l,p,h);return v.urlParams=a,v.headers=c,v.body=d,v.errorHandler=K_(e),v}function GYe(n,e,t,r){var i={"X-Goog-Upload-Command":"query"};function o(l){var c=s9(l,["active","final"]),d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gl(!1)}d||gl(!1);var h=Number(d);return gl(!isNaN(h)),new VD(h,r.size(),c==="final")}var s="POST",a=n.maxUploadRetryTime,u=new Gc(t,s,o,a);return u.headers=i,u.errorHandler=K_(e),u}var bK=256*1024;function $Ye(n,e,t,r,i,o,s,a){var u=new VD(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw nYe();var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var d=u.current,h=d+c,p=c===l?"upload, finalize":"upload",v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":""+u.current},m=r.slice(d,h);if(m===null)throw Fue();function _(T,A){var S=s9(T,["active","final"]),N=u.current+c,k=r.size(),F;return S==="final"?F=SI(e,o)(T,A):F=null,new VD(N,k,S==="final",F)}var b="POST",C=e.maxUploadRetryTime,E=new Gc(t,b,_,C);return E.headers=v,E.body=m.uploadData(),E.progressCallback=a||null,E.errorHandler=K_(n),E}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KYe=function(){function n(e,t,r){var i=mYe(e)||t!=null||r!=null;if(i)this.next=e,this.error=t,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Promise.resolve().then(function(){return n.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yue=function(){function n(e,t,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=EI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,s){i._resolve=o,i._reject=s,i._start()}),this._promise.then(null,function(){})}return n.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(r){return e._updateProgress(t+r)}},n.prototype._shouldDoResumable=function(e){return e.size()>256*1024},n.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},n.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(t._state){case"running":e(i,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused");break}})},n.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,r){var i=zYe(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(s){e._request=void 0,e._uploadUrl=s,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},n.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(r,i){var o=GYe(e._ref.storage,e._ref._location,t,e._blob),s=e._ref.storage._makeRequest(o,r,i);e._request=s,s.getPromise().then(function(a){a=a,e._request=void 0,e._updateProgress(a.current),e._needToFetchStatus=!1,a.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},n.prototype._continueUpload=function(){var e=this,t=bK*this._chunkMultiplier,r=new VD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,s){var a;try{a=$Ye(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,r,e._makeProgressCallback())}catch(l){e._error=l,e._transition("error");return}var u=e._ref.storage._makeRequest(a,o,s);e._request=u,u.getPromise().then(function(l){e._increaseMultiplier(),e._request=void 0,e._updateProgress(l.current),l.finalized?(e._metadata=l.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},n.prototype._increaseMultiplier=function(){var e=bK*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},n.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,r){var i=$ue(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._transition("success")},e._metadataErrorHandler)})},n.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,r){var i=qYe(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},n.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},n.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Mue(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},n.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(n.prototype,"snapshot",{get:function(){var e=tR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),n.prototype.on=function(e,t,r,i){var o=this,s=new KYe(t,r,i);return this._addObserver(s),function(){o._removeObserver(s)}},n.prototype.then=function(e,t){return this._promise.then(e,t)},n.prototype.catch=function(e){return this.then(null,e)},n.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},n.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)},n.prototype._notifyObservers=function(){var e=this;this._finishPromise();var t=this._observers.slice();t.forEach(function(r){e._notifyObserver(r)})},n.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(tR(this._state)){case jo.SUCCESS:gv(this._resolve.bind(null,this.snapshot))();break;case jo.CANCELED:case jo.ERROR:var t=this._reject;gv(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},n.prototype._notifyObserver=function(e){var t=tR(this._state);switch(t){case jo.RUNNING:case jo.PAUSED:e.next&&gv(e.next.bind(e,this.snapshot))();break;case jo.SUCCESS:e.complete&&gv(e.complete.bind(e))();break;case jo.CANCELED:case jo.ERROR:e.error&&gv(e.error.bind(e,this._error))();break;default:e.error&&gv(e.error.bind(e,this._error))()}},n.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},n.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},n.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DI=function(){function n(e,t){this._service=e,t instanceof Ia?this._location=t:this._location=Ia.makeFromUrl(t,e.host)}return n.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},n.prototype._newRef=function(e,t){return new n(e,t)},Object.defineProperty(n.prototype,"root",{get:function(){var e=new Ia(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return zue(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=IYe(this._location.path);if(e===null)return null;var t=new Ia(this._location.bucket,e);return new n(this._service,t)},enumerable:!1,configurable:!0}),n.prototype._throwIfRoot=function(e){if(this._location.path==="")throw Hue(e)},n}();function YYe(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Yue(n,new r9(e),t)}function XYe(n){var e={prefixes:[],items:[]};return Xue(n,e).then(function(){return e})}function Xue(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return r={pageToken:t},[4,Que(n,r)];case 1:return i=a.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(s=e.items).push.apply(s,i.items),i.nextPageToken==null?[3,3]:[4,Xue(n,e,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Que(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&Z3("options.maxResults",1,1e3,e.maxResults),t=e||{},r=HYe(n.storage,n._location,"/",t.pageToken,t.maxResults),[4,n.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function QYe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return n._throwIfRoot("getMetadata"),e=$ue(n.storage,n._location,EI()),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}function ZYe(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return n._throwIfRoot("updateMetadata"),t=WYe(n.storage,n._location,e,EI()),[4,n.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise()]}})})}function JYe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return n._throwIfRoot("getDownloadURL"),e=VYe(n.storage,n._location,EI()),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise().then(function(r){if(r===null)throw rYe();return r})]}})})}function eXe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return n._throwIfRoot("deleteObject"),e=UYe(n.storage,n._location),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}function Zue(n,e){var t=xYe(n._location.path,e),r=new Ia(n._location.bucket,t);return new DI(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(n){return/^[A-Za-z]+:\/\//.test(n)}function tXe(n,e){return new DI(n,e)}function Jue(n,e){if(n instanceof AI){var t=n;if(t._bucket==null)throw tYe();var r=new DI(t,t._bucket);return e!=null?Jue(r,e):r}else return e!==void 0?Zue(n,e):n}function nXe(n,e){if(e&&J3(e)){if(n instanceof AI)return tXe(n,e);throw sm("To use ref(service, url), the first argument must be a Storage instance.")}else return Jue(n,e)}function CK(n,e){var t=e==null?void 0:e[Pue];return t==null?null:Ia.makeFromBucketSpec(t,n)}function rXe(n,e,t,r){r===void 0&&(r={}),n.host="http://"+e+":"+t;var i=r.mockUserToken;i&&(n._overrideAuthToken=typeof i=="string"?i:YF(i,n.app.options.projectId))}var AI=function(){function n(e,t,r,i,o,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=Rue,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zKe,this._maxUploadRetryTime=GKe,this._requests=new Set,o!=null?this._bucket=Ia.makeFromBucketSpec(o,this._host):this._bucket=CK(this._host,this.app.options)}return Object.defineProperty(n.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Ia.makeFromBucketSpec(this._url,e):this._bucket=CK(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Z3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Z3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),n.prototype._getAuthToken=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(t=r.sent(),t!==null)return[2,t.accessToken];r.label=2;case 2:return[2,null]}})})},n.prototype._getAppCheckToken=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return t=r.sent(),[2,t.token];case 2:return[2,null]}})})},n.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},n.prototype._makeStorageReference=function(e){return new DI(this,e)},n.prototype._makeRequest=function(e,t,r){var i=this;if(this._deleted)return new dYe(Bue());var o=SYe(e,this._appId,t,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},n.prototype.makeRequestWithTokens=function(e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=o.sent(),r=t[0],i=t[1],[2,this._makeRequest(e,r,i)]}})})},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iXe(n,e,t){return n=Bt(n),YYe(n,e,t)}function oXe(n){return n=Bt(n),QYe(n)}function sXe(n,e){return n=Bt(n),ZYe(n,e)}function aXe(n,e){return n=Bt(n),Que(n,e)}function uXe(n){return n=Bt(n),XYe(n)}function lXe(n){return n=Bt(n),JYe(n)}function cXe(n){return n=Bt(n),eXe(n)}function wK(n,e){return n=Bt(n),nXe(n,e)}function fXe(n,e){return Zue(n,e)}function hXe(n,e,t,r){r===void 0&&(r={}),rXe(n,e,t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iS=function(){function n(e,t,r){this._delegate=e,this.task=t,this.ref=r}return Object.defineProperty(n.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EK=function(){function n(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(n.prototype,"snapshot",{get:function(){return new iS(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),n.prototype.then=function(e,t){var r=this;return this._delegate.then(function(i){if(e)return e(new iS(i,r,r._ref))},t)},n.prototype.on=function(e,t,r,i){var o=this,s=void 0;return t&&(typeof t=="function"?s=function(a){return t(new iS(a,o,o._ref))}:s={next:t.next?function(a){return t.next(new iS(a,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)},n}(),SK=function(){function n(e,t){this._delegate=e,this._service=t}return Object.defineProperty(n.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new x1(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new x1(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x1=function(){function n(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(n.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this._delegate.toString()},n.prototype.child=function(e){var t=fXe(this._delegate,e);return new n(t,this.storage)},Object.defineProperty(n.prototype,"root",{get:function(){return new n(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new n(e,this.storage)},enumerable:!1,configurable:!0}),n.prototype.put=function(e,t){return this._throwIfRoot("put"),new EK(iXe(this._delegate,e,t),this)},n.prototype.putString=function(e,t,r){t===void 0&&(t=Aa.RAW),this._throwIfRoot("putString");var i=Vue(t,e),o=gt({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new EK(new Yue(this._delegate,new r9(i.data,!0),o),this)},n.prototype.listAll=function(){var e=this;return uXe(this._delegate).then(function(t){return new SK(t,e.storage)})},n.prototype.list=function(e){var t=this;return aXe(this._delegate,e||void 0).then(function(r){return new SK(r,t.storage)})},n.prototype.getMetadata=function(){return oXe(this._delegate)},n.prototype.updateMetadata=function(e){return sXe(this._delegate,e)},n.prototype.getDownloadURL=function(){return lXe(this._delegate)},n.prototype.delete=function(){return this._throwIfRoot("delete"),cXe(this._delegate)},n.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw Hue(e)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dXe=function(){function n(e,t){this.app=e,this._delegate=t}return Object.defineProperty(n.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),n.prototype.ref=function(e){if(J3(e))throw sm("ref() expected a child path but got a URL, use refFromURL instead.");return new x1(wK(this._delegate,e),this)},n.prototype.refFromURL=function(e){if(!J3(e))throw sm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ia.makeFromUrl(e,this._delegate.host)}catch{throw sm("refFromUrl() expected a valid full URL but got an invalid one.")}return new x1(wK(this._delegate,e),this)},n.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},n.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},n.prototype.useEmulator=function(e,t,r){r===void 0&&(r={}),hXe(this._delegate,e,t,r)},n}(),pXe="@firebase/storage",gXe="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vXe="storage";function mXe(n,e){var t=e.instanceIdentifier,r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal"),s=new dXe(r,new AI(r,i,o,new hYe,t,tt.SDK_VERSION));return s}function _Xe(n){var e={TaskState:jo,TaskEvent:lYe,StringFormat:Aa,Storage:AI,Reference:x1};n.INTERNAL.registerComponent(new yo(vXe,mXe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(pXe,gXe)}_Xe(tt);var yXe="@firebase/performance",ele="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tle=ele,bXe="FB-PERF-TRACE-START",CXe="FB-PERF-TRACE-STOP",eF="FB-PERF-TRACE-MEASURE",nle="_wt_",rle="_fp",ile="_fcp",ole="_fid",sle="@firebase/performance/config",ale="@firebase/performance/configexpire",wXe="performance",ule="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi,EXe=(Mi={},Mi["trace started"]="Trace {$traceName} was started before.",Mi["trace stopped"]="Trace {$traceName} is not running.",Mi["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Mi["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Mi["no window"]="Window is not available.",Mi["no app id"]="App id is not available.",Mi["no project id"]="Project id is not available.",Mi["no api key"]="Api key is not available.",Mi["invalid cc log"]="Attempted to queue invalid cc event",Mi["FB not default"]="Performance can only start when Firebase app instance is the default one.",Mi["RC response not ok"]="RC response is not ok",Mi["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Mi["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Mi["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Mi["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Mi),uo=new Hc(wXe,ule,EXe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mc=new Qp(ule);Mc.logLevel=zt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nR,lle,mo=function(){function n(e){if(this.window=e,!e)throw uo.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return n.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},n.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},n.prototype.measure=function(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)},n.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},n.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},n.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},n.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Mc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):j1()?!0:(Mc.info("IndexedDB is not supported by current browswer"),!1)},n.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,s=i.getEntries();o<s.length;o++){var a=s[o];t(a)}});r.observe({entryTypes:[e]})}},n.getInstance=function(){return nR===void 0&&(nR=new n(lle)),nR},n}();function SXe(n){lle=n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(n,e){var t=n.length-e.length;if(t<0||t>1)throw uo.create("invalid String merger input");for(var r=[],i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rR,ai=function(){function n(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=TK("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=TK("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return n.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw uo.create("no app id");return e},n.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw uo.create("no project id");return e},n.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw uo.create("no api key");return e},n.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},n.getInstance=function(){return rR===void 0&&(rR=new n),rR},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cle;function TXe(){var n=ai.getInstance().installationsService.getId();return n.then(function(e){cle=e}),n}function a9(){return cle}function DXe(){var n=ai.getInstance().installationsService.getToken();return n.then(function(e){}),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"})(am||(am={}));var AXe=["firebase_","google_","ga_"],IXe=new RegExp("^[a-zA-Z]\\w*$"),xXe=40,LXe=100;function NXe(){var n=mo.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function fle(){var n=mo.getInstance().document,e=n.visibilityState;switch(e){case"visible":return am.VISIBLE;case"hidden":return am.HIDDEN;default:return am.UNKNOWN}}function OXe(){var n=mo.getInstance().navigator,e=n.connection,t=e&&e.effectiveType;switch(t){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function kXe(n){if(n.length===0||n.length>xXe)return!1;var e=AXe.some(function(t){return n.startsWith(t)});return!e&&!!n.match(IXe)}function RXe(n){return n.length!==0&&n.length<=LXe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PXe="0.0.1",MXe={loggingEnabled:!0},FXe="FIREBASE_INSTALLATIONS_AUTH";function BXe(n){var e=HXe();return e?(DK(e),Promise.resolve()):UXe(n).then(DK).then(function(t){return VXe(t)},function(){})}function HXe(){var n=mo.getInstance().localStorage;if(n){var e=n.getItem(ale);if(!(!e||!jXe(e))){var t=n.getItem(sle);if(t)try{var r=JSON.parse(t);return r}catch{return}}}}function VXe(n){var e=mo.getInstance().localStorage;!n||!e||(e.setItem(sle,JSON.stringify(n)),e.setItem(ale,String(Date.now()+ai.getInstance().configTimeToLive*60*60*1e3)))}var WXe="Could not fetch config, will use default configs";function UXe(n){return DXe().then(function(e){var t=ai.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+t+"/namespaces/fireperf:fetch?key="+ai.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:FXe+" "+e},body:JSON.stringify({app_instance_id:n,app_instance_id_token:e,app_id:ai.getInstance().getAppId(),app_version:tle,sdk_version:PXe})});return fetch(i).then(function(o){if(o.ok)return o.json();throw uo.create("RC response not ok")})}).catch(function(){Mc.info(WXe)})}function DK(n){if(!n)return n;var e=ai.getInstance(),t=n.entries||{};return t.fpr_enabled!==void 0?e.loggingEnabled=String(t.fpr_enabled)==="true":e.loggingEnabled=MXe.loggingEnabled,t.fpr_log_source&&(e.logSource=Number(t.fpr_log_source)),t.fpr_log_endpoint_url&&(e.logEndPointUrl=t.fpr_log_endpoint_url),t.fpr_log_transport_key&&(e.transportKey=t.fpr_log_transport_key),t.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate)),t.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=AK(e.tracesSamplingRate),e.logNetworkAfterSampling=AK(e.networkRequestsSamplingRate),n}function jXe(n){return Number(n)>Date.now()}function AK(n){return Math.random()<=n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u9=1,iR;function hle(){return u9=2,iR=iR||zXe(),iR}function qXe(){return u9===3}function zXe(){return GXe().then(function(){return TXe()}).then(function(n){return BXe(n)}).then(function(){return IK()},function(){return IK()})}function GXe(){var n=mo.getInstance().document;return new Promise(function(e){if(n&&n.readyState!=="complete"){var t=function(){n.readyState==="complete"&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}function IK(){u9=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l9=10*1e3,$Xe=5.5*1e3,dle=3,KXe=1e3,WD=dle,ah=[],xK=!1;function YXe(){xK||(II($Xe),xK=!0)}function II(n){setTimeout(function(){if(WD!==0){if(!ah.length)return II(l9);XXe()}},n)}function XXe(){var n=ah.splice(0,KXe),e=n.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),t={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ai.getInstance().logSource,log_event:e};QXe(t,n).catch(function(){ah=Vt(Vt([],n),ah),WD--,Mc.info("Tries left: "+WD+"."),II(l9)})}function QXe(n,e){return ZXe(n).then(function(t){return t.ok||Mc.info("Call to Firebase backend failed."),t.json()}).then(function(t){var r=Number(t.nextRequestWaitMillis),i=l9;isNaN(r)||(i=Math.max(r,i));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(ah=Vt(Vt([],e),ah),Mc.info("Retry transport request later.")),WD=dle,II(i)})}function ZXe(n){var e=ai.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}function JXe(n){if(!n.eventTime||!n.message)throw uo.create("invalid cc log");ah=Vt(Vt([],ah),[n])}function eQe(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.apply(void 0,e);JXe({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR;function ple(n,e){oR||(oR=eQe(nQe)),oR(n,e)}function oS(n){var e=ai.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||mo.getInstance().requiredApisAvailable()&&(n.isAuto&&fle()!==am.VISIBLE||(qXe()?sR(n):hle().then(function(){return sR(n)},function(){return sR(n)})))}function sR(n){if(a9()){var e=ai.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return ple(n,1)},0)}}function tQe(n){var e=ai.getInstance();if(e.instrumentationEnabled){var t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return ple(n,0)},0)}}function nQe(n,e){return e===0?rQe(n):iQe(n)}function rQe(n){var e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:gle(),network_request_metric:e};return JSON.stringify(t)}function iQe(n){var e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};Object.keys(n.counters).length!==0&&(e.counters=n.counters);var t=n.getAttributes();Object.keys(t).length!==0&&(e.custom_attributes=t);var r={application_info:gle(),trace_metric:e};return JSON.stringify(r)}function gle(){return{google_app_id:ai.getInstance().getAppId(),app_instance_id:a9(),web_app_info:{sdk_version:tle,page_url:mo.getInstance().getUrl(),service_worker_status:NXe(),visibility_state:fle(),effective_connection_type:OXe()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oQe=100,sQe="_",aQe=[rle,ile,ole];function uQe(n,e){return n.length===0||n.length>oQe?!1:e&&e.startsWith(nle)&&aQe.indexOf(n)>-1||!n.startsWith(sQe)}function lQe(n){var e=Math.floor(n);return e<n&&Mc.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cb=function(){function n(e,t,r){t===void 0&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=mo.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=bXe+"-"+this.randomId+"-"+this.name,this.traceStopMark=CXe+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||eF+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return n.prototype.start=function(){if(this.state!==1)throw uo.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},n.prototype.stop=function(){if(this.state!==2)throw uo.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),oS(this)},n.prototype.record=function(e,t,r){if(e<=0)throw uo.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw uo.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(t*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=gt({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var s=o[i];isNaN(Number(r.metrics[s]))||(this.counters[s]=Number(Math.floor(r.metrics[s])))}oS(this)},n.prototype.incrementMetric=function(e,t){t===void 0&&(t=1),this.counters[e]===void 0?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},n.prototype.putMetric=function(e,t){if(uQe(e,this.name))this.counters[e]=lQe(t);else throw uo.create("invalid custom metric name",{customMetricName:e})},n.prototype.getMetric=function(e){return this.counters[e]||0},n.prototype.putAttribute=function(e,t){var r=kXe(e),i=RXe(t);if(r&&i){this.customAttributes[e]=t;return}if(!r)throw uo.create("invalid attribute name",{attributeName:e});if(!i)throw uo.create("invalid attribute value",{attributeValue:t})},n.prototype.getAttribute=function(e){return this.customAttributes[e]},n.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},n.prototype.getAttributes=function(){return gt({},this.customAttributes)},n.prototype.setStartTime=function(e){this.startTimeUs=e},n.prototype.setDuration=function(e){this.durationUs=e},n.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(t.duration*1e3),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))},n.createOobTrace=function(e,t,r){var i=mo.getInstance().getUrl();if(i){var o=new n(nle+i,!0),s=Math.floor(mo.getInstance().getTimeOrigin()*1e3);o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var a="first-paint",u="first-contentful-paint";if(t){var l=t.find(function(d){return d.name===a});l&&l.startTime&&o.putMetric(rle,Math.floor(l.startTime*1e3));var c=t.find(function(d){return d.name===u});c&&c.startTime&&o.putMetric(ile,Math.floor(c.startTime*1e3)),r&&o.putMetric(ole,Math.floor(r*1e3))}oS(o)}},n.createUserTimingTrace=function(e){var t=new n(e,!1,e);oS(t)},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(n){var e=n;if(!(!e||e.responseStart===void 0)){var t=mo.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+t)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),s=e.name&&e.name.split("?")[0],a={url:s,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};tQe(a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cQe=5e3;function NK(){a9()&&(setTimeout(function(){return hQe()},0),setTimeout(function(){return fQe()},0),setTimeout(function(){return dQe()},0))}function fQe(){for(var n=mo.getInstance(),e=n.getEntriesByType("resource"),t=0,r=e;t<r.length;t++){var i=r[t];LK(i)}n.setupObserver("resource",LK)}function hQe(){var n=mo.getInstance(),e=n.getEntriesByType("navigation"),t=n.getEntriesByType("paint");if(n.onFirstInputDelay){var r=setTimeout(function(){cb.createOobTrace(e,t),r=void 0},cQe);n.onFirstInputDelay(function(i){r&&(clearTimeout(r),cb.createOobTrace(e,t,i))})}else cb.createOobTrace(e,t)}function dQe(){for(var n=mo.getInstance(),e=n.getEntriesByType("measure"),t=0,r=e;t<r.length;t++){var i=r[t];OK(i)}n.setupObserver("measure",OK)}function OK(n){var e=n.name;e.substring(0,eF.length)!==eF&&cb.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pQe=function(){function n(e){this.app=e,mo.getInstance().requiredApisAvailable()&&ZF().then(function(t){t&&(YXe(),hle().then(NK,NK))}).catch(function(t){Mc.info("Environment doesn't support IndexedDB: "+t)})}return n.prototype.trace=function(e){return new cb(e)},Object.defineProperty(n.prototype,"instrumentationEnabled",{get:function(){return ai.getInstance().instrumentationEnabled},set:function(e){ai.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataCollectionEnabled",{get:function(){return ai.getInstance().dataCollectionEnabled},set:function(e){ai.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gQe="[DEFAULT]";function vQe(n){var e=function(t,r){if(t.name!==gQe)throw uo.create("FB not default");if(typeof window>"u")throw uo.create("no window");return SXe(window),ai.getInstance().firebaseAppInstance=t,ai.getInstance().installationsService=r,new pQe(t)};n.INTERNAL.registerComponent(new yo("performance",function(t){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),n.registerVersion(yXe,ele)}vQe(tt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mQe="firebase_id",_Qe="origin",yQe=60*1e3,bQe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vle="https://www.googletagmanager.com/gtag/js",_o;(function(n){n.EVENT="event",n.SET="set",n.CONFIG="config"})(_o||(_o={}));var tF;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(tF||(tF={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQe(n,e,t,r,i){return X(this,void 0,void 0,function(){var o,s;return Y(this,function(a){switch(a.label){case 0:return i&&i.global?(n(_o.EVENT,t,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=gt(gt({},r),{send_to:o}),n(_o.EVENT,t,s),a.label=3;case 3:return[2]}})})}function wQe(n,e,t,r){return X(this,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:return r&&r.global?(n(_o.SET,{screen_name:t}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),n(_o.CONFIG,i,{update:!0,screen_name:t}),o.label=3;case 3:return[2]}})})}function EQe(n,e,t,r){return X(this,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:return r&&r.global?(n(_o.SET,{user_id:t}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),n(_o.CONFIG,i,{update:!0,user_id:t}),o.label=3;case 3:return[2]}})})}function SQe(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,s=Object.keys(t);o<s.length;o++)a=s[o],i["user_properties."+a]=t[a];return n(_o.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=l.sent(),n(_o.CONFIG,u,{update:!0,user_properties:t}),l.label=3;case 3:return[2]}})})}function TQe(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,n];case 1:return t=r.sent(),window["ga-disable-"+t]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi=new Qp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQe(n,e){var t=document.createElement("script");t.src=vle+"?l="+n+"&id="+e,t.async=!0,document.head.appendChild(t)}function AQe(n){var e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function IQe(n,e,t,r,i,o){return X(this,void 0,void 0,function(){var s,a,u,l;return Y(this,function(c){switch(c.label){case 0:s=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(t)];case 4:return a=c.sent(),u=a.find(function(d){return d.measurementId===i}),u?[4,e[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),Vi.error(l),[3,8];case 8:return n(_o.CONFIG,i,o),[2]}})})}function xQe(n,e,t,r,i){return X(this,void 0,void 0,function(){var o,s,a,u,l,c,d,h,p;return Y(this,function(v){switch(v.label){case 0:return v.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(t)]):[3,2];case 1:for(a=v.sent(),u=function(m){var _=a.find(function(C){return C.measurementId===m}),b=_&&e[_.appId];if(b)o.push(b);else return o=[],"break"},l=0,c=s;l<c.length&&(d=c[l],h=u(d),h!=="break");l++);v.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return v.sent(),n(_o.EVENT,r,i||{}),[3,5];case 4:return p=v.sent(),Vi.error(p),[3,5];case 5:return[2]}})})}function LQe(n,e,t,r){function i(o,s,a){return X(this,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),o!==_o.EVENT?[3,2]:[4,xQe(n,e,t,s,a)];case 1:return l.sent(),[3,5];case 2:return o!==_o.CONFIG?[3,4]:[4,IQe(n,e,t,r,s,a)];case 3:return l.sent(),[3,5];case 4:n(_o.SET,s),l.label=5;case 5:return[3,7];case 6:return u=l.sent(),Vi.error(u),[3,7];case 7:return[2]}})})}return i}function NQe(n,e,t,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=LQe(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function OQe(){for(var n=window.document.getElementsByTagName("script"),e=0,t=Object.values(n);e<t.length;e++){var r=t[e];if(r.src&&r.src.includes(vle))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ya,kQe=(Ya={},Ya["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ya["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ya["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ya["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ya["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ya["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ya["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ya["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ya["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ya),Na=new Hc("analytics","Analytics",kQe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RQe=30,PQe=1e3,MQe=function(){function n(e,t){e===void 0&&(e={}),t===void 0&&(t=PQe),this.throttleMetadata=e,this.intervalMillis=t}return n.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},n.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},n.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},n}(),mle=new MQe;function FQe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function BQe(n){var e;return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return t=n.appId,r=n.apiKey,i={method:"GET",headers:FQe(r)},o=bQe.replace("{app-id}",t),[4,fetch(o,i)];case 1:if(s=l.sent(),!(s.status!==200&&s.status!==304))return[3,6];a="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.json()];case 3:return u=l.sent(),!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw Na.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}})})}function HQe(n,e,t){return e===void 0&&(e=mle),X(this,void 0,void 0,function(){var r,i,o,s,a,u,l=this;return Y(this,function(c){if(r=n.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Na.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Na.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new UQe,setTimeout(function(){return X(l,void 0,void 0,function(){return Y(this,function(d){return u.abort(),[2]})})},yQe),[2,_le({appId:i,apiKey:o,measurementId:s},a,u,e)]})})}function _le(n,e,t,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=mle),X(this,void 0,void 0,function(){var s,a,u,l,c,d,h;return Y(this,function(p){switch(p.label){case 0:s=n.appId,a=n.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,VQe(t,i)];case 2:return p.sent(),[3,4];case 3:if(u=p.sent(),a)return Vi.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]")),[2,{appId:s,measurementId:a}];throw u;case 4:return p.trys.push([4,6,,7]),[4,BQe(n)];case 5:return l=p.sent(),r.deleteThrottleMetadata(s),[2,l];case 6:if(c=p.sent(),!WQe(c)){if(r.deleteThrottleMetadata(s),a)return Vi.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:s,measurementId:a}];throw c}return d=Number(c.customData.httpStatus)===503?zR(o,r.intervalMillis,RQe):zR(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},r.setThrottleMetadata(s,h),Vi.debug("Calling attemptFetch again in "+d+" millis"),[2,_le(n,h,t,r)];case 7:return[2]}})})}function VQe(n,e){return new Promise(function(t,r){var i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(function(){clearTimeout(o),r(Na.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WQe(n){if(!(n instanceof v_)||!n.customData)return!1;var e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var UQe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(e){this.listeners.push(e)},n.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQe(){return X(this,void 0,void 0,function(){var n;return Y(this,function(e){switch(e.label){case 0:return j1()?[3,1]:(Vi.warn(Na.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,ZF()];case 2:return e.sent(),[3,4];case 3:return n=e.sent(),Vi.warn(Na.create("indexeddb-unavailable",{errorInfo:n}).message),[2,!1];case 4:return[2,!0]}})})}function qQe(n,e,t,r,i,o){return X(this,void 0,void 0,function(){var s,a,u,l,c,d,h;return Y(this,function(p){switch(p.label){case 0:return s=HQe(n),s.then(function(v){t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Vi.warn("The measurement ID in the local Firebase config ("+n.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+v.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(v){return Vi.error(v)}),e.push(s),a=jQe().then(function(v){if(v)return r.getId()}),[4,Promise.all([s,a])];case 1:return u=p.sent(),l=u[0],c=u[1],OQe()||DQe(o,l.measurementId),i("js",new Date),d=(h={},h[_Qe]="firebase",h.update=!0,h),c!=null&&(d[mQe]=c),i(_o.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl={},kK=[],RK={},US="dataLayer",yle="gtag",PK,py,nF=!1;function zQe(n){if(nF)throw Na.create("already-initialized");n.dataLayerName&&(US=n.dataLayerName),n.gtagName&&(yle=n.gtagName)}function GQe(){var n=[];if(QF()&&n.push("This is a browser extension environment."),TQ()||n.push("Cookies are not available."),n.length>0){var e=n.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),t=Na.create("invalid-analytics-context",{errorInfo:e});Vi.warn(t.message)}}function $Qe(n,e){GQe();var t=n.options.appId;if(!t)throw Na.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Vi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+n.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Na.create("no-api-key");if(Xl[t]!=null)throw Na.create("already-exists",{id:t});if(!nF){AQe(US);var r=NQe(Xl,kK,RK,US,yle),i=r.wrappedGtag,o=r.gtagCore;py=i,PK=o,nF=!0}Xl[t]=qQe(n,kK,RK,e,PK,US);var s={app:n,logEvent:function(a,u,l){CQe(py,Xl[t],a,u,l).catch(function(c){return Vi.error(c)})},setCurrentScreen:function(a,u){wQe(py,Xl[t],a,u).catch(function(l){return Vi.error(l)})},setUserId:function(a,u){EQe(py,Xl[t],a,u).catch(function(l){return Vi.error(l)})},setUserProperties:function(a,u){SQe(py,Xl[t],a,u).catch(function(l){return Vi.error(l)})},setAnalyticsCollectionEnabled:function(a){TQe(Xl[t],a).catch(function(u){return Vi.error(u)})},INTERNAL:{delete:function(){return delete Xl[t],Promise.resolve()}}};return s}var KQe="@firebase/analytics",YQe="0.6.18",MK="analytics";function XQe(n){n.INTERNAL.registerComponent(new yo(MK,function(t){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();return $Qe(r,i)},"PUBLIC").setServiceProps({settings:zQe,EventName:tF,isSupported:QQe})),n.INTERNAL.registerComponent(new yo("analytics-internal",e,"PRIVATE")),n.registerVersion(KQe,YQe);function e(t){try{var r=t.getProvider(MK).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Na.create("interop-component-reg-failed",{reason:i})}}}XQe(tt);function QQe(){return X(this,void 0,void 0,function(){var n;return Y(this,function(e){switch(e.label){case 0:if(QF())return[2,!1];if(!TQ())return[2,!1];if(!j1())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ZF()];case 2:return n=e.sent(),[2,n];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZQe=function(){function n(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}return n.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},n.prototype.fetch=function(e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),r=t[0],i=t[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=a.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(s)];case 3:return a.sent(),[2,o]}})})},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro,JQe=(Ro={},Ro["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ro["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ro["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ro["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ro["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ro["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ro["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ro["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ro["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ro["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ro["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ro["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ro["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ro),xa=new Hc("remoteconfig","Remote Config",JQe);function eZe(n,e){return n instanceof v_&&n.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZe(n){return n===void 0&&(n=navigator),n.languages&&n.languages[0]||n.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nZe=function(){function n(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}return n.prototype.fetch=function(e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u,l,c,d,h,p,v,m,_,b,C,E,T;return Y(this,function(A){switch(A.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=A.sent(),r=t[0],i=t[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:tZe()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(s,l),d=new Promise(function(S,N){e.signal.addEventListener(function(){var k=new Error("The operation was aborted.");k.name="AbortError",N(k)})}),A.label=2;case 2:return A.trys.push([2,5,,6]),[4,Promise.race([c,d])];case 3:return A.sent(),[4,c];case 4:return h=A.sent(),[3,6];case 5:throw p=A.sent(),v="fetch-client-network",p.name==="AbortError"&&(v="fetch-timeout"),xa.create(v,{originalErrorMessage:p.message});case 6:if(m=h.status,_=h.headers.get("ETag")||void 0,h.status!==200)return[3,11];E=void 0,A.label=7;case 7:return A.trys.push([7,9,,10]),[4,h.json()];case 8:return E=A.sent(),[3,10];case 9:throw T=A.sent(),xa.create("fetch-client-parse",{originalErrorMessage:T.message});case 10:b=E.entries,C=E.state,A.label=11;case 11:if(C==="INSTANCE_STATE_UNSPECIFIED"?m=500:C==="NO_CHANGE"?m=304:(C==="NO_TEMPLATE"||C==="EMPTY_CONFIG")&&(b={}),m!==304&&m!==200)throw xa.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:_,config:b}]}})})},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rZe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(e){this.listeners.push(e)},n.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZe=!1,oZe="",FK=0,sZe=["1","true","t","yes","y","on"],aR=function(){function n(e,t){t===void 0&&(t=oZe),this._source=e,this._value=t}return n.prototype.asString=function(){return this._value},n.prototype.asBoolean=function(){return this._source==="static"?iZe:sZe.indexOf(this._value.toLowerCase())>=0},n.prototype.asNumber=function(){if(this._source==="static")return FK;var e=Number(this._value);return isNaN(e)&&(e=FK),e},n.prototype.getSource=function(){return this._source},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZe=60*1e3,uZe=12*60*60*1e3,lZe=function(){function n(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:aZe,minimumFetchIntervalMillis:uZe},this.defaultConfig={}}return n.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=zt.DEBUG;break;case"silent":this._logger.logLevel=zt.SILENT;break;default:this._logger.logLevel=zt.ERROR}},Object.defineProperty(n.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),n.prototype.activate=function(){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),t=e[0],r=e[1],!t||!t.config||!t.eTag||t.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])];case 2:return i.sent(),[2,!0]}})})},n.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},n.prototype.fetch=function(){return X(this,void 0,void 0,function(){var e,t,r,i=this;return Y(this,function(o){switch(o.label){case 0:e=new rZe,setTimeout(function(){return X(i,void 0,void 0,function(){return Y(this,function(s){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return t=o.sent(),r=eZe(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),t;case 6:return[2]}})})},n.prototype.fetchAndActivate=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},n.prototype.getAll=function(){var e=this;return cZe(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(t,r){return t[r]=e.getValue(r),t},{})},n.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},n.prototype.getNumber=function(e){return this.getValue(e).asNumber()},n.prototype.getString=function(e){return this.getValue(e).asString()},n.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&t[e]!==void 0?new aR("remote",t[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new aR("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new aR("static"))},n}();function cZe(n,e){return n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(gt(gt({},n),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n,e){var t=n.target.error||void 0;return xa.create(e,{originalErrorMessage:t&&t.message})}var Fd="app_namespace_store",fZe="firebase_remote_config",hZe=1;function dZe(){return new Promise(function(n,e){var t=indexedDB.open(fZe,hZe);t.onerror=function(r){e(jS(r,"storage-open"))},t.onsuccess=function(r){n(r.target.result)},t.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Fd,{keyPath:"compositeKey"})}}})}var pZe=function(){function n(e,t,r,i){i===void 0&&(i=dZe()),this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}return n.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},n.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},n.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},n.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},n.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},n.prototype.getActiveConfig=function(){return this.get("active_config")},n.prototype.setActiveConfig=function(e){return this.set("active_config",e)},n.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},n.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},n.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},n.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},n.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},n.prototype.get=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise(function(o,s){var a=t.transaction([Fd],"readonly"),u=a.objectStore(Fd),l=r.createCompositeKey(e);try{var c=u.get(l);c.onerror=function(d){s(jS(d,"storage-get"))},c.onsuccess=function(d){var h=d.target.result;o(h?h.value:void 0)}}catch(d){s(xa.create("storage-get",{originalErrorMessage:d&&d.message}))}})]}})})},n.prototype.set=function(e,t){return X(this,void 0,void 0,function(){var r,i=this;return Y(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(s,a){var u=r.transaction([Fd],"readwrite"),l=u.objectStore(Fd),c=i.createCompositeKey(e);try{var d=l.put({compositeKey:c,value:t});d.onerror=function(h){a(jS(h,"storage-set"))},d.onsuccess=function(){s()}}catch(h){a(xa.create("storage-set",{originalErrorMessage:h&&h.message}))}})]}})})},n.prototype.delete=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise(function(o,s){var a=t.transaction([Fd],"readwrite"),u=a.objectStore(Fd),l=r.createCompositeKey(e);try{var c=u.delete(l);c.onerror=function(d){s(jS(d,"storage-delete"))},c.onsuccess=function(){o()}}catch(d){s(xa.create("storage-delete",{originalErrorMessage:d&&d.message}))}})]}})})},n.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gZe=function(){function n(e){this.storage=e}return n.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},n.prototype.getActiveConfig=function(){return this.activeConfig},n.prototype.loadFromStorage=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=a.sent(),i&&(this.lastFetchStatus=i),[4,t];case 2:return o=a.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return s=a.sent(),s&&(this.activeConfig=s),[2]}})})},n.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},n.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},n.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZe(n,e){return new Promise(function(t,r){var i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(function(){clearTimeout(o),r(xa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mZe(n){if(!(n instanceof v_)||!n.customData)return!1;var e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var _Ze=function(){function n(e,t){this.client=e,this.storage=t}return n.prototype.fetch=function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},n.prototype.attemptFetch=function(e,t){var r=t.throttleEndTimeMillis,i=t.backoffCount;return X(this,void 0,void 0,function(){var o,s,a;return Y(this,function(u){switch(u.label){case 0:return[4,vZe(e.signal,r)];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=u.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return u.sent(),[2,o];case 5:if(s=u.sent(),!mZe(s))throw s;return a={throttleEndTimeMillis:Date.now()+zR(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(a)];case 6:return u.sent(),[2,this.attemptFetch(e,a)];case 7:return[2]}})})},n}(),BK="@firebase/remote-config",yZe="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZe(n){n.INTERNAL.registerComponent(new yo("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),n.registerVersion(BK,yZe);function e(t,r){var i=r.instanceIdentifier,o=t.getProvider("app").getImmediate(),s=t.getProvider("installations").getImmediate();if(typeof window>"u")throw xa.create("registration-window");var a=o.options,u=a.projectId,l=a.apiKey,c=a.appId;if(!u)throw xa.create("registration-project-id");if(!l)throw xa.create("registration-api-key");if(!c)throw xa.create("registration-app-id");i=i||"firebase";var d=new pZe(c,o.name,i),h=new gZe(d),p=new Qp(BK);p.logLevel=zt.ERROR;var v=new nZe(s,n.SDK_VERSION,i,u,l,c),m=new _Ze(v,d),_=new ZQe(m,d,h,p),b=new lZe(o,_,h,d,p);return b.ensureInitialized(),b}}bZe(tt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa,CZe=(Xa={},Xa["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Xa["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Xa["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Xa["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Xa["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Xa["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Xa["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Xa["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Xa["recaptcha-error"]="ReCAPTCHA error.",Xa),na=new Hc("appCheck","AppCheck",CZe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ble=new Map,wZe={activated:!1,tokenObservers:[]},EZe={enabled:!1};function rs(n){return ble.get(n)||wZe}function vl(n,e){ble.set(n,e)}function c9(){return EZe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cle="https://content-firebaseappcheck.googleapis.com/v1beta",SZe="exchangeRecaptchaToken",TZe="exchangeDebugToken",HK={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DZe=function(){function n(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return n.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},n.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},n.prototype.isRunning=function(){return!!this.pending},n.prototype.process=function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Ii,[4,AZe(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Ii,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return t=r.sent(),this.retryPolicy(t)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},n.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},n}();function AZe(n){return new Promise(function(e){setTimeout(e,n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(){return self.grecaptcha}function wle(n){if(!rs(n).activated)throw na.create("use-before-activation",{appName:n.name})}function IZe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=Math.random()*16|0,t=n==="x"?e:e&3|8;return t.toString(16)})}function xZe(n){return yA.encodeString(JSON.stringify(n),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ele(n,e){var t=n.url,r=n.body;return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,d,h,p;return Y(this,function(v){switch(v.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:i},v.label=1;case 1:return v.trys.push([1,3,,4]),[4,fetch(t,s)];case 2:return a=v.sent(),[3,4];case 3:throw u=v.sent(),na.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(a.status!==200)throw na.create("fetch-status-error",{httpStatus:a.status});v.label=5;case 5:return v.trys.push([5,7,,8]),[4,a.json()];case 6:return l=v.sent(),[3,8];case 7:throw c=v.sent(),na.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(d=l.ttl.match(/^([\d.]+)(s)$/),!d||!d[2]||isNaN(Number(d[1])))throw na.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+l.ttl)});return h=Number(d[1])*1e3,p=Date.now(),[2,{token:l.attestationToken,expireTimeMillis:p+h,issuedAtTimeMillis:p}]}})})}function LZe(n,e){var t=n.options,r=t.projectId,i=t.appId,o=t.apiKey;return{url:Cle+"/projects/"+r+"/apps/"+i+":"+SZe+"?key="+o,body:{recaptcha_token:e}}}function NZe(n,e){var t=n.options,r=t.projectId,i=t.appId,o=t.apiKey;return{url:Cle+"/projects/"+r+"/apps/"+i+":"+TZe+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OZe="firebase-app-check-database",kZe=1,L1="firebase-app-check-store",Sle="debug-token",sS=null;function Tle(){return sS||(sS=new Promise(function(n,e){try{var t=indexedDB.open(OZe,kZe);t.onsuccess=function(r){n(r.target.result)},t.onerror=function(r){var i;e(na.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(L1,{keyPath:"compositeKey"})}}}catch(r){e(na.create("storage-open",{originalErrorMessage:r.message}))}}),sS)}function RZe(n){return Ale(Ile(n))}function PZe(n,e){return Dle(Ile(n),e)}function MZe(n){return Dle(Sle,n)}function FZe(){return Ale(Sle)}function Dle(n,e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return[4,Tle()];case 1:return t=s.sent(),r=t.transaction(L1,"readwrite"),i=r.objectStore(L1),o=i.put({compositeKey:n,value:e}),[2,new Promise(function(a,u){o.onsuccess=function(l){a()},r.onerror=function(l){var c;u(na.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})]}})})}function Ale(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,Tle()];case 1:return e=o.sent(),t=e.transaction(L1,"readonly"),r=t.objectStore(L1),i=r.get(n),[2,new Promise(function(s,a){i.onsuccess=function(u){var l=u.target.result;s(l?l.value:void 0)},t.onerror=function(u){var l;a(na.create("storage-get",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})]}})})}function Ile(n){return n.options.appId+"-"+n.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xI=new Qp("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZe(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:if(!j1())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,RZe(n)];case 2:return e=r.sent(),[3,4];case 3:return t=r.sent(),xI.warn("Failed to read token from indexeddb. Error: "+t),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function WK(n,e){return j1()?PZe(n,e).catch(function(t){xI.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function HZe(){return X(this,void 0,void 0,function(){var n,e;return Y(this,function(t){switch(t.label){case 0:n=void 0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,FZe()];case 2:return n=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return n?[2,n]:(e=IZe(),MZe(e).catch(function(r){return xI.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZe(){var n=c9();return n.enabled}function WZe(){return X(this,void 0,void 0,function(){var n;return Y(this,function(e){if(n=c9(),n.enabled&&n.token)return[2,n.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function UZe(){var n=_be();if(!(typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&n.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=c9();e.enabled=!0;var t=new Ii;e.token=t,typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?t.resolve(n.FIREBASE_APPCHECK_DEBUG_TOKEN):t.resolve(HZe())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jZe={error:"UNKNOWN_ERROR"};function UD(n,e,t){return t===void 0&&(t=!1),X(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,d,h;return Y(this,function(p){switch(p.label){case 0:return wle(n),r=rs(n),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:s=p.sent(),s&&N1(s)&&(i=s,vl(n,gt(gt({},r),{token:i})),UK(n,{token:i.token})),p.label=2;case 2:return!t&&i&&N1(i)?[2,{token:i.token}]:VZe()?(u=Ele,l=NZe,c=[n],[4,WZe()]):[3,6];case 3:return[4,u.apply(void 0,[l.apply(void 0,c.concat([p.sent()])),e])];case 4:return a=p.sent(),[4,WK(n,a)];case 5:return p.sent(),vl(n,gt(gt({},r),{token:a})),[2,{token:a.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return d=p.sent(),xI.error(d),o=d,[3,9];case 9:return i?[3,10]:(h=zZe(o),[3,12]);case 10:return h={token:i.token},vl(n,gt(gt({},r),{token:i})),[4,WK(n,i)];case 11:p.sent(),p.label=12;case 12:return UK(n,h),[2,h]}})})}function xle(n,e,t,r,i){var o=rs(n),s={next:r,error:i,type:t},a=gt(gt({},o),{tokenObservers:Vt(Vt([],o.tokenObservers),[s])});if(!a.tokenRefresher){var u=qZe(n,e);a.tokenRefresher=u}if(!a.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),o.token&&N1(o.token)){var l=o.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(c){c&&N1(c)&&r({token:c.token})}).catch(function(){});vl(n,a)}function f9(n,e){var t=rs(n),r=t.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vl(n,gt(gt({},t),{tokenObservers:r}))}function qZe(n,e){var t=this;return new DZe(function(){return X(t,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return r=rs(n),r.token?[3,2]:[4,UD(n,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,UD(n,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=rs(n);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},HK.RETRIAL_MIN_WAIT,HK.RETRIAL_MAX_WAIT)}function UK(n,e){for(var t=rs(n).tokenObservers,r=0,i=t;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function N1(n){return n.expireTimeMillis-Date.now()>0}function zZe(n){return{token:xZe(jZe),error:n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GZe="https://www.google.com/recaptcha/api.js";function $Ze(n,e){var t=rs(n),r=new Ii;vl(n,gt(gt({},t),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+n.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var s=VK();return s?s.ready(function(){jK(n,e,s,i),r.resolve(s)}):YZe(function(){var a=VK();if(!a)throw new Error("no recaptcha");a.ready(function(){jK(n,e,a,i),r.resolve(a)})}),r.promise}function KZe(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return wle(n),e=rs(n).reCAPTCHAState,[4,e.initialized.promise];case 1:return t=r.sent(),[2,new Promise(function(i,o){var s=rs(n).reCAPTCHAState;t.ready(function(){i(t.execute(s.widgetId,{action:"fire_app_check"}))})})]}})})}function jK(n,e,t,r){var i=t.render(r,{sitekey:e,size:"invisible"}),o=rs(n);vl(n,gt(gt({},o),{reCAPTCHAState:gt(gt({},o.reCAPTCHAState),{widgetId:i})}))}function YZe(n){var e=document.createElement("script");e.src=""+GZe,e.onload=n,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rF=function(){function n(e){this._siteKey=e}return n.prototype.getToken=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw na.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,KZe(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),na.create("recaptcha-error");case 4:return[2,Ele(LZe(this._app,e),this._platformLoggerProvider)]}})})},n.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,$Ze(e,this._siteKey).catch(function(){})},n}(),iF=function(){function n(e){this._customProviderOptions=e}return n.prototype.getToken=function(){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:if(!this._app)throw na.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),t=wbe(e.token),r=t!==null&&t<Date.now()&&t>0?t*1e3:Date.now(),[2,gt(gt({},e),{issuedAtTimeMillis:r})]}})})},n.prototype.initialize=function(e){this._app=e},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZe(n,e,t,r){var i=rs(n);if(i.activated)throw na.create("already-activated",{appName:n.name});var o=gt(gt({},i),{activated:!0});o.cachedTokenPromise=BZe(n).then(function(s){return s&&N1(s)&&vl(n,gt(gt({},rs(n)),{token:s})),s}),typeof e=="string"?o.provider=new rF(e):e instanceof rF||e instanceof iF?o.provider=e:o.provider=new iF({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?n.automaticDataCollectionEnabled:r,vl(n,o),o.provider.initialize(n,t)}function QZe(n,e){var t=rs(n);t.tokenRefresher&&(e===!0?t.tokenRefresher.start():t.tokenRefresher.stop()),vl(n,gt(gt({},t),{isTokenAutoRefreshEnabled:e}))}function ZZe(n,e,t){return X(this,void 0,void 0,function(){var r;return Y(this,function(i){switch(i.label){case 0:return[4,UD(n,e,t)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function JZe(n,e,t,r,i){var o=function(){},s=function(){};return t.next!=null?o=t.next.bind(t):o=t,t.error!=null?s=t.error.bind(t):r&&(s=r),xle(n,e,"EXTERNAL",o,s),function(){return f9(n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJe(n,e){return{app:n,activate:function(t,r){return XZe(n,t,e,r)},setTokenAutoRefreshEnabled:function(t){return QZe(n,t)},getToken:function(t){return ZZe(n,e,t)},onTokenChanged:function(t,r,i){return JZe(n,e,t,r)},INTERNAL:{delete:function(){for(var t=rs(n).tokenObservers,r=0,i=t;r<i.length;r++){var o=i[r];f9(n,o.next)}return Promise.resolve()}}}}function tJe(n,e){return{getToken:function(t){return UD(n,e,t)},addTokenListener:function(t){return xle(n,e,"INTERNAL",t)},removeTokenListener:function(t){return f9(n,t)}}}var nJe="@firebase/app-check",rJe="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iJe="appCheck",qK="app-check-internal";function oJe(n){n.INTERNAL.registerComponent(new yo(iJe,function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return eJe(t,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:rF,CustomProvider:iF}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,r){var i=e.getProvider(qK);i.initialize()})),n.INTERNAL.registerComponent(new yo(qK,function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return tJe(t,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),n.registerVersion(nJe,rJe)}oJe(tt);UZe();var sJe="firebase",Lle="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.registerVersion(sJe,Lle,"app");tt.SDK_VERSION=Lle;var aJe="firebase",uJe="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);tt.registerVersion(aJe,uJe);const zK="/boletin",lJe=tt.initializeApp({apiKey:"AIzaSyAyX5rW5aNUHRuc7GNlxF3oOTeZk1YRof0",databaseURL:"https://editor-de-boletines-41cae-default-rtdb.firebaseio.com/"}),qo=eX({app:lJe,auth:null,get isAuthed(){return!!this.auth},async login(n,e){this.auth=await this.app.auth().signInWithEmailAndPassword(n,e)},logout(){this.app.auth().signOut(),this.auth=null},get loggedInUsers(){return new Promise((n,e)=>{this.app.database().ref(zK).child("users").once("value",t=>{n(t.numChildren())}).catch(e)})},get dbRef(){return this.app.database().ref(zK)},async clearHistory(){const n="Whoops, hubo un error al resetear el historial de edicin, pero esto no deberia afectar la generacin del HTML.";await Promise.all([this.dbRef.child("history").set(null),this.dbRef.child("checkpoint").once("value",e=>e.exists()&&this.dbRef.child("checkpoint").set(null))]).catch(e=>{console.error("Error clearing firepad history",e),alert(n)})}});function jD(n){window.location.hash="#"+n}const h9=Symbol("A function to reset the firepad component and its history"),cJe=Fc({__name:"FirePadComponent",props:{onChange:{type:Function}},setup(n){const e=n,t=gu(),r=gu("gray"),i=["#817","#ed0","#0bc","#c66","#4d8","#36b","#e94","#2cb","#639"],{setFirepadReset:o}=Gf(h9);let s,a;async function u(){const d=await qo.loggedInUsers;r.value=i[(d-1)%i.length]}function l(d){var h,p,v;s=nm.create(t.value,{language:"markdown",minimap:{enabled:!1},wordWrap:"on",smoothScrolling:!0,automaticLayout:!0,theme:"#f00"}),s.onDidChangeModelContent(()=>e.onChange(s.getValue())),a=J7e(qo.dbRef,s,{userName:(p=(h=qo.auth.user)==null?void 0:h.email)==null?void 0:p.split("@")[0],userColor:r.value,userId:(v=qo.auth.user)==null?void 0:v.uid,defaultText:d})}async function c(){if(await qo.loggedInUsers!==1)return;const h=s.getValue();await qo.clearHistory(),s.dispose(),a.dispose(),l(h)}return o(c),lA(async()=>{if(!qo.isAuthed)return jD("/login");try{await u(),l()}catch(d){alert("No se pudo cargar el editor de texto. Prob recargando la pgina."),console.error("Error initializing pad",d)}}),fA(()=>{a.dispose(),s.dispose()}),(d,h)=>(Ki(),sa("div",{id:"monaco",ref_key:"monacoWrapperRef",ref:t},null,512))}}),d9=Symbol("Reference to the email wrapper, where the table#u_body element will be"),fJe=["onInput","value","placeholder"],GK=Fc({__name:"FireInput",props:{inputHandler:{type:Function},content:{},dbKey:{},placeholder:{}},setup(n){const e=n;function t(r){let i;return function(o){clearTimeout(i),i=setTimeout(r,1750,o)}}return lA(()=>{try{qo.dbRef.child(e.dbKey).on("value",t(r=>{var i;r&&"val"in r&&e.inputHandler((i=r.val)==null?void 0:i.call(r))}))}catch(r){console.error("Error attaching Firebase listener:",r)}}),cA(()=>{try{e.content!=="-"&&qo.dbRef.child(e.dbKey).set(e.content)}catch(r){console.error("Error updating Firebase database:",r)}}),fA(()=>{try{qo.dbRef.child(e.dbKey).off("value")}catch(r){console.error("Error detaching Firebase listener:",r)}}),(r,i)=>(Ki(),sa("input",{type:"text",onInput:o=>r.inputHandler(o.target.value),value:r.content,placeholder:r.placeholder},null,40,fJe))}}),hJe={class:"wrapper"},dJe={class:"input"},pJe={id:"u_body"},gJe=Ie("caption",null,[Ie("a",{name:"top",id:"top"})],-1),vJe={class:"container"},mJe=Ie("tr",null,[Ie("td",null,[Ie("hr")])],-1),_Je=Ie("tr",null,[Ie("td",null,[Ie("br"),Ie("br"),Ie("a",{href:"#top"},"Volver al tope de la pgina")])],-1),yJe=Fc({__name:"NewsLetter",setup(n){const e=Oa({linkify:!0,breaks:!0}).use(Vye),t=gu(""),r=Gf(d9),i=gu("-"),o=new Date,s=new Intl.DateTimeFormat("es-AR",{month:"long"}).format(o),a=o.getFullYear(),u=gu(`${s} ${a}`);async function l(c){try{t.value=e.render(c)}catch(d){console.error("Error rendering markdown",d)}}return(c,d)=>(Ki(),sa("div",hJe,[Ie("div",dJe,[ni(GK,{"input-handler":h=>i.value=h,content:i.value,"db-key":"header-img",placeholder:"cabezal","aria-label":"enlace a imagen de encabezado"},null,8,["input-handler","content"]),ni(GK,{"input-handler":h=>u.value=h,content:u.value,"db-key":"date",placeholder:"fecha","aria-label":"fecha"},null,8,["input-handler","content"]),ni(cJe,{onChange:l})]),Ie("div",{class:"newsletter_wrapper",ref_key:"emailRef",ref:r},[Ie("table",pJe,[gJe,Ie("tbody",null,[Ie("tr",null,[Ie("td",vJe,[Ie("table",null,[Ie("thead",null,[ni($ye,{"img-url":i.value,date:u.value},null,8,["img-url","date"])]),Ie("tbody",null,[ni(rbe,{html:t.value},null,8,["html"]),mJe,ni(cbe),ni(Yye,{html:t.value},null,8,["html"]),_Je])])])])]),Ie("tbody",null,[ni(ebe)])])],512)]))}}),bJe={class:""},CJe=Ie("input",{type:"text",name:"email","aria-label":"Email"},null,-1),wJe=Ie("input",{type:"password",name:"password","aria-label":"password"},null,-1),EJe=Ie("input",{type:"submit",value:"login"},null,-1),SJe=[CJe,wJe,EJe],Nle=Fc({__name:"LoginComponent",setup(n){qo.isAuthed&&jD("/");const e=gu();async function t(r){r.preventDefault();const i=e.value;if(i)try{await qo.login(i.email.value,i.password.value),i.reset(),jD("/")}catch(o){"code"in o&&o.code.includes("auth")?alert("Credenciales invlidas"):alert("Error al iniciar sesin"),console.error(o)}}return(r,i)=>(Ki(),sa("article",bJe,[Ie("form",{ref_key:"formRef",ref:e,onSubmit:t},SJe,544)]))}});function TJe(n){return qo.isAuthed?n:Nle}const DJe={},AJe=n=>(hX("data-v-037313c5"),n=n(),dX(),n),IJe={class:"grid"},xJe=AJe(()=>Ie("article",null,"404 | Not Found",-1)),LJe=[xJe];function NJe(n,e){return Ki(),sa("section",IJe,LJe)}const OJe=U1(DJe,[["render",NJe],["__scopeId","data-v-037313c5"]]),kJe={};function RJe(n,e){return Ki(),sa(ms,null,[Ie("header",null,[PN(n.$slots,"header",{},void 0)]),Ie("main",null,[PN(n.$slots,"main",{},void 0)]),Ie("footer",null,[PN(n.$slots,"footer",{},void 0)])],64)}const PJe=U1(kJe,[["render",RJe],["__scopeId","data-v-555f9631"]]),MJe=`#u_body {
  margin-inline: auto;
  line-height: 1.55em;
  --container-max-width: 600px;
  --container-margin: 20px max(20px, calc((100% - 600px) / 2));
}
/* html {
  color-scheme: light dark;
} */
.container {
  display: block !important;
  max-width: var(--container-max-width) !important;
  margin: var(--container-margin);
  padding: 20px;
  clear: both !important;
  /* background-color: #fff; */
  border: 1px solid #aaa;
  border-radius: 3px;
}

.content-block {
  padding: 0 0 20px;
}

td,
p {
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 14px;
}

html {
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
}

a {
  background-color: transparent;
  color: #348eda;
  text-decoration: underline;
}

b,
strong {
  font-weight: bolder;
}

img {
  border-style: none;
  max-width: 100%;
}

button,
input {
  overflow: visible;
}

button,
select {
  text-transform: none;
}

table td {
  vertical-align: top;
}

.palabras {
  border-top: 1px solid rgb(238, 199, 39);
  border-bottom: 1px solid rgb(238, 199, 39);
  padding: 20px 50px;
  background-color: #fefdeb;
}

.header {
  width: 100%;
  margin-bottom: 20px;
}

.footer {
  max-width: var(--container-max-width);
  margin: var(--container-margin);
  clear: both;
  color: #999;
  padding: 20px;
}

.footer p,
.footer a,
.footer td {
  color: #999;
  font-size: 0.75rem;
}

h1,
h2,
h3 {
  font-family: Arial, 'Helvetica Neue', Helvetica, 'Lucida Grande', sans-serif;
  /* color: #000; */
  margin: 40px 0 1rem 0;
  line-height: 1.2em;
}

h1 {
  font-size: 32px;
  font-weight: 600;
}

h2 {
  font-weight: 600;
  font-size: 24px;
  color: #666600;
  margin-top: 65px;
}

h3 {
  font-size: 18px;
  margin: 40px 0 20px 0;
}

h4 {
  font-size: 17px;
  margin: 40px 0 0 0;
}

h5 {
  font-size: 14px;
  margin: 30px 0 0 0;
}

hr {
  height: 1px;
  border: none;
  color: rgb(238, 199, 39);
  background-color: rgb(238, 199, 39);
  margin-top: 1rem;
}

p,
ul,
ol {
  margin-bottom: 10px;
  font-weight: normal;
}

p li,
ul li,
ol li {
  margin-left: 5px;
  list-style-position: inside;
}

p:has(.btn-primary, .boton) {
  text-align: center;
}

.btn-primary,
.boton {
  text-decoration: none;
  color: #fff;
  background-color: #348eda;
  border: solid #348eda;
  border-width: 10px 20px;
  line-height: 2em;
  font-weight: bold;
  text-align: center;
  cursor: pointer;
  display: inline-block;
  border-radius: 5px;
  text-transform: capitalize;
}

.last {
  margin-bottom: 0;
}

.first {
  margin-top: 0;
}

.text-center {
  text-align: center;
}

.alignright {
  text-align: right;
}

.text-left {
  text-align: left;
}

.clear {
  clear: both;
}

.alert {
  font-size: 16px;
  color: #fff;
  font-weight: 500;
  padding: 20px;
  text-align: center;
  border-radius: 3px 3px 0 0;
}

.alert a {
  color: #fff;
  text-decoration: none;
  font-weight: 500;
  font-size: 16px;
}

.alert.alert-warning {
  background-color: #ff9f00;
}

.alert.alert-bad {
  background-color: #d0021b;
}

.alert.alert-good {
  background-color: #68b90f;
}

.dhamma-blue {
  color: #348eda;
}

.highlight,
.resaltado {
  background-color: #ee1;
  padding: 0.25rem;
  border-radius: 6px;
  border: 1px solid #dd0;
}

.invoice {
  margin: 20px auto;
  text-align: left;
  width: 80%;
}

.invoice td {
  padding: 5px 0;
}

.invoice .invoice-items {
  width: 100%;
}

.invoice .invoice-items td {
  border-top: #eee 1px solid;
}

.invoice .invoice-items .total td {
  border-top: 2px solid #333;
  border-bottom: 2px solid #333;
  font-weight: 700;
}

small {
  font-size: 0.75em;
}

.centre-card {
  /* background: color-mix(in oklab, #c18f2c, transparent 85%); */
  background: #f6eedf;
  padding: 0;
}

.centre-card img {
  width: 50%;
  float: left;
  margin-right: 1rem;
}

/* @media (prefers-color-scheme: dark) {
  .centre-card {
    background-color: #352c23 !important;
  }
  .highlight,
  .resaltado {
    background-color: #dd1 !important;
    border-color: #cc0 !important;
    color: black !important;
  }
} */

@media only screen and (max-width: 640px) {
  body {
    padding: 0 !important;
  }

  h1,
  h2,
  h3,
  h4 {
    font-weight: 700 !important;
    margin: 20px 0 5px 0 !important;
  }

  h1 {
    font-size: 22px !important;
  }

  h2 {
    font-size: 19px !important;
  }

  h3 {
    font-size: 16px !important;
  }

  h4 {
    font-size: 16px !important;
  }

  .container {
    padding: 0 !important;
    width: 100% !important;
  }

  .content {
    padding: 0 !important;
  }

  .content-wrap {
    padding: 10px !important;
  }

  .palabras {
    border-top: 1px solid rgb(238, 199, 39) !important;
    border-bottom: 1px solid rgb(238, 199, 39) !important;
    padding: 10px 20px !important;
    background: rgb(254, 253, 235) none repeat scroll 0% 50% !important;
    color: rgb(0, 32, 96) !important;
    background-color: #fefdeb !important;
  }

  .invoice {
    width: 100% !important;
  }
}

.d-none {
  display: none;
}

@media screen and (min-width: 576px) {
  .d-md-none {
    display: none;
  }
  .d-md-block {
    display: block;
  }
}
`;function FJe(n){return`<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
        <head>
            <meta name="viewport" content="width=device-width" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <title>Vipassana Anuncios</title>
            <style type="text/css">${MJe}</style>
        </head>
        <body>
            ${n}
        </body>
    </html>
  `}var qD={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */qD.exports;(function(n,e){(function(t){var r=e,i=n&&n.exports==r&&n,o=typeof ae=="object"&&ae;(o.global===o||o.window===o)&&(t=o);var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,c={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","	":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr",:"ordf",:"aacute",:"Aacute",:"agrave",:"Agrave",:"abreve",:"Abreve",:"acirc",:"Acirc",:"aring",:"angst",:"auml",:"Auml",:"atilde",:"Atilde",:"aogon",:"Aogon",:"amacr",:"Amacr",:"aelig",:"AElig","":"bscr","":"bopf","":"bfr","":"Bopf",:"Bscr","":"Bfr","":"cfr","":"cscr","":"copf",:"Cfr","":"Cscr",:"Copf",:"cacute",:"Cacute",:"ccirc",:"Ccirc",:"ccaron",:"Ccaron",:"cdot",:"Cdot",:"ccedil",:"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf",:"dcaron",:"Dcaron",:"dstrok",:"Dstrok",:"eth",:"ETH","":"ee",:"escr","":"efr","":"eopf",:"Escr","":"Efr","":"Eopf",:"eacute",:"Eacute",:"egrave",:"Egrave",:"ecirc",:"Ecirc",:"ecaron",:"Ecaron",:"euml",:"Euml",:"edot",:"Edot",:"eogon",:"Eogon",:"emacr",:"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf",:"Fscr",:"fflig",:"ffilig",:"ffllig",:"filig",fj:"fjlig",:"fllig",:"fnof",:"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr",:"gacute",:"gbreve",:"Gbreve",:"gcirc",:"Gcirc",:"gdot",:"Gdot",:"Gcedil","":"hfr",:"planckh","":"hscr","":"hopf",:"Hscr",:"Hfr",:"Hopf",:"hcirc",:"Hcirc",:"hbar",:"hstrok",:"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf",:"Iscr",:"Im",:"iacute",:"Iacute",:"igrave",:"Igrave",:"icirc",:"Icirc",:"iuml",:"Iuml",:"itilde",:"Itilde",:"Idot",:"iogon",:"Iogon",:"imacr",:"Imacr",:"ijlig",:"IJlig",:"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf",:"jcirc",:"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr",:"kcedil",:"Kcedil","":"lfr","":"lscr",:"ell","":"lopf",:"Lscr","":"Lfr","":"Lopf",:"lacute",:"Lacute",:"lcaron",:"Lcaron",:"lcedil",:"Lcedil",:"lstrok",:"Lstrok",:"lmidot",:"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf",:"Mscr","":"nfr","":"nopf","":"nscr",:"Nopf","":"Nscr","":"Nfr",:"nacute",:"Nacute",:"ncaron",:"Ncaron",:"ntilde",:"Ntilde",:"ncedil",:"Ncedil","":"numero",:"eng",:"ENG","":"oopf","":"ofr",:"oscr","":"Oscr","":"Ofr","":"Oopf",:"ordm",:"oacute",:"Oacute",:"ograve",:"Ograve",:"ocirc",:"Ocirc",:"ouml",:"Ouml",:"odblac",:"Odblac",:"otilde",:"Otilde",:"oslash",:"Oslash",:"omacr",:"Omacr",:"oelig",:"OElig","":"pfr","":"pscr","":"popf",:"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr",:"Qopf",:"kgreen","":"rfr","":"ropf","":"rscr",:"Rscr",:"Re",:"Ropf",:"racute",:"Racute",:"rcaron",:"Rcaron",:"rcedil",:"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS",:"sacute",:"Sacute",:"scirc",:"Scirc",:"scaron",:"Scaron",:"scedil",:"Scedil",:"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf",:"tcaron",:"Tcaron",:"tcedil",:"Tcedil","":"trade",:"tstrok",:"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr",:"uacute",:"Uacute",:"ugrave",:"Ugrave",:"ubreve",:"Ubreve",:"ucirc",:"Ucirc",:"uring",:"Uring",:"uuml",:"Uuml",:"udblac",:"Udblac",:"utilde",:"Utilde",:"uogon",:"Uogon",:"umacr",:"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr",:"wcirc",:"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf",:"yacute",:"Yacute",:"ycirc",:"Ycirc",:"yuml",:"Yuml","":"zscr","":"zfr","":"zopf",:"Zfr",:"Zopf","":"Zscr",:"zacute",:"Zacute",:"zcaron",:"Zcaron",:"zdot",:"Zdot",:"imped",:"thorn",:"THORN",:"napos",:"alpha",:"Alpha",:"beta",:"Beta",:"gamma",:"Gamma",:"delta",:"Delta",:"epsi","":"epsiv",:"Epsilon",:"gammad",:"Gammad",:"zeta",:"Zeta",:"eta",:"Eta",:"theta",:"thetav",:"Theta",:"iota",:"Iota",:"kappa",:"kappav",:"Kappa",:"lambda",:"Lambda",:"mu",:"micro",:"Mu",:"nu",:"Nu",:"xi",:"Xi",:"omicron",:"Omicron",:"pi",:"piv",:"Pi",:"rho",:"rhov",:"Rho",:"sigma",:"Sigma",:"sigmaf",:"tau",:"Tau",:"upsi",:"Upsilon",:"Upsi",:"phi",:"phiv",:"Phi",:"chi",:"Chi",:"psi",:"Psi",:"omega",:"ohm",:"acy",:"Acy",:"bcy",:"Bcy",:"vcy",:"Vcy",:"gcy",:"Gcy",:"gjcy",:"GJcy",:"dcy",:"Dcy",:"djcy",:"DJcy",:"iecy",:"IEcy",:"iocy",:"IOcy",:"jukcy",:"Jukcy",:"zhcy",:"ZHcy",:"zcy",:"Zcy",:"dscy",:"DScy",:"icy",:"Icy",:"iukcy",:"Iukcy",:"yicy",:"YIcy",:"jcy",:"Jcy",:"jsercy",:"Jsercy",:"kcy",:"Kcy",:"kjcy",:"KJcy",:"lcy",:"Lcy",:"ljcy",:"LJcy",:"mcy",:"Mcy",:"ncy",:"Ncy",:"njcy",:"NJcy",:"ocy",:"Ocy",:"pcy",:"Pcy",:"rcy",:"Rcy",:"scy",:"Scy",:"tcy",:"Tcy",:"tshcy",:"TSHcy",:"ucy",:"Ucy",:"ubrcy",:"Ubrcy",:"fcy",:"Fcy",:"khcy",:"KHcy",:"tscy",:"TScy",:"chcy",:"CHcy",:"dzcy",:"DZcy",:"shcy",:"SHcy",:"shchcy",:"SHCHcy",:"hardcy",:"HARDcy",:"ycy",:"Ycy",:"softcy",:"SOFTcy",:"ecy",:"Ecy",:"yucy",:"YUcy",:"yacy",:"YAcy",:"aleph",:"beth",:"gimel",:"daleth"},d=/["&'<>`]/g,h={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,v=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,_={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},b={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},C={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},E=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],T=String.fromCharCode,A={},S=A.hasOwnProperty,N=function(de,ke){return S.call(de,ke)},k=function(de,ke){for(var qe=-1,ft=de.length;++qe<ft;)if(de[qe]==ke)return!0;return!1},F=function(de,ke){if(!de)return ke;var qe={},ft;for(ft in ke)qe[ft]=N(de,ft)?de[ft]:ke[ft];return qe},L=function(de,ke){var qe="";return de>=55296&&de<=57343||de>1114111?(ke&&B("character reference outside the permissible Unicode range"),""):N(C,de)?(ke&&B("disallowed character reference"),C[de]):(ke&&k(E,de)&&B("disallowed character reference"),de>65535&&(de-=65536,qe+=T(de>>>10&1023|55296),de=56320|de&1023),qe+=T(de),qe)},O=function(de){return"&#x"+de.toString(16).toUpperCase()+";"},P=function(de){return"&#"+de+";"},B=function(de){throw Error("Parse error: "+de)},U=function(de,ke){ke=F(ke,U.options);var qe=ke.strict;qe&&v.test(de)&&B("forbidden code point");var ft=ke.encodeEverything,ze=ke.useNamedReferences,dt=ke.allowUnsafeSymbols,vi=ke.decimal?P:O,q=function(me){return vi(me.charCodeAt(0))};return ft?(de=de.replace(a,function(me){return ze&&N(c,me)?"&"+c[me]+";":q(me)}),ze&&(de=de.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),ze&&(de=de.replace(l,function(me){return"&"+c[me]+";"}))):ze?(dt||(de=de.replace(d,function(me){return"&"+c[me]+";"})),de=de.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),de=de.replace(l,function(me){return"&"+c[me]+";"})):dt||(de=de.replace(d,q)),de.replace(s,function(me){var Ht=me.charCodeAt(0),as=me.charCodeAt(1),xo=(Ht-55296)*1024+as-56320+65536;return vi(xo)}).replace(u,q)};U.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var $=function(de,ke){ke=F(ke,$.options);var qe=ke.strict;return qe&&p.test(de)&&B("malformed character reference"),de.replace(m,function(ft,ze,dt,vi,q,me,Ht,as,xo){var qn,eo,G,Z,ie,ue;return ze?(ie=ze,_[ie]):dt?(ie=dt,ue=vi,ue&&ke.isAttributeValue?(qe&&ue=="="&&B("`&` did not start a character reference"),ft):(qe&&B("named character reference was not terminated by a semicolon"),b[ie]+(ue||""))):q?(G=q,eo=me,qe&&!eo&&B("character reference was not terminated by a semicolon"),qn=parseInt(G,10),L(qn,qe)):Ht?(Z=Ht,eo=as,qe&&!eo&&B("character reference was not terminated by a semicolon"),qn=parseInt(Z,16),L(qn,qe)):(qe&&B("named character reference was not terminated by a semicolon"),ft)})};$.options={isAttributeValue:!1,strict:!1};var ee=function(de){return de.replace(d,function(ke){return h[ke]})},te={version:"1.2.0",encode:U,decode:$,escape:ee,unescape:$};if(r&&!r.nodeType)if(i)i.exports=te;else for(var ne in te)N(te,ne)&&(r[ne]=te[ne]);else t.he=te})(ae)})(qD,qD.exports);var BJe=qD.exports;const HJe=_A(BJe);var Ole={exports:{}},kle={},Rle={};Object.defineProperty(Rle,"__esModule",{value:!0});var LI={},Y_={},zD=ae&&ae.__assign||function(){return zD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zD.apply(this,arguments)};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.flatten=void 0;var VJe={xml:!1,decodeEntities:!0};Y_.default=VJe;var $K={_useHtmlParser2:!0,xmlMode:!0};function WJe(n){return n!=null&&n.xml?typeof n.xml=="boolean"?$K:zD(zD({},$K),n.xml):n??void 0}Y_.flatten=WJe;var Nr={},Cu={},Zs={},wo={},X_={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function t(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}n.isTag=t,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype})(X_);var Kt={},qh=ae&&ae.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fb=ae&&ae.__assign||function(){return fb=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fb.apply(this,arguments)};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.cloneNode=Kt.hasChildren=Kt.isDocument=Kt.isDirective=Kt.isComment=Kt.isText=Kt.isCDATA=Kt.isTag=Kt.Element=Kt.Document=Kt.CDATA=Kt.NodeWithChildren=Kt.ProcessingInstruction=Kt.Comment=Kt.Text=Kt.DataNode=Kt.Node=void 0;var As=X_,p9=function(){function n(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),n.prototype.cloneNode=function(e){return e===void 0&&(e=!1),g9(this,e)},n}();Kt.Node=p9;var NI=function(n){qh(e,n);function e(t){var r=n.call(this)||this;return r.data=t,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(p9);Kt.DataNode=NI;var Ple=function(n){qh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=As.ElementType.Text,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(NI);Kt.Text=Ple;var Mle=function(n){qh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=As.ElementType.Comment,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(NI);Kt.Comment=Mle;var Fle=function(n){qh(e,n);function e(t,r){var i=n.call(this,r)||this;return i.name=t,i.type=As.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(NI);Kt.ProcessingInstruction=Fle;var OI=function(n){qh(e,n);function e(t){var r=n.call(this)||this;return r.children=t,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(p9);Kt.NodeWithChildren=OI;var Ble=function(n){qh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=As.ElementType.CDATA,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(OI);Kt.CDATA=Ble;var Hle=function(n){qh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=As.ElementType.Root,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(OI);Kt.Document=Hle;var Vle=function(n){qh(e,n);function e(t,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=t==="script"?As.ElementType.Script:t==="style"?As.ElementType.Style:As.ElementType.Tag);var s=n.call(this,i)||this;return s.name=t,s.attribs=r,s.type=o,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:t.attribs[r],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=t["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(OI);Kt.Element=Vle;function Wle(n){return(0,As.isTag)(n)}Kt.isTag=Wle;function Ule(n){return n.type===As.ElementType.CDATA}Kt.isCDATA=Ule;function jle(n){return n.type===As.ElementType.Text}Kt.isText=jle;function qle(n){return n.type===As.ElementType.Comment}Kt.isComment=qle;function zle(n){return n.type===As.ElementType.Directive}Kt.isDirective=zle;function Gle(n){return n.type===As.ElementType.Root}Kt.isDocument=Gle;function UJe(n){return Object.prototype.hasOwnProperty.call(n,"children")}Kt.hasChildren=UJe;function g9(n,e){e===void 0&&(e=!1);var t;if(jle(n))t=new Ple(n.data);else if(qle(n))t=new Mle(n.data);else if(Wle(n)){var r=e?uR(n.children):[],i=new Vle(n.name,fb({},n.attribs),r);r.forEach(function(u){return u.parent=i}),n.namespace!=null&&(i.namespace=n.namespace),n["x-attribsNamespace"]&&(i["x-attribsNamespace"]=fb({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(i["x-attribsPrefix"]=fb({},n["x-attribsPrefix"])),t=i}else if(Ule(n)){var r=e?uR(n.children):[],o=new Ble(r);r.forEach(function(l){return l.parent=o}),t=o}else if(Gle(n)){var r=e?uR(n.children):[],s=new Hle(r);r.forEach(function(l){return l.parent=s}),n["x-mode"]&&(s["x-mode"]=n["x-mode"]),t=s}else if(zle(n)){var a=new Fle(n.name,n.data);n["x-name"]!=null&&(a["x-name"]=n["x-name"],a["x-publicId"]=n["x-publicId"],a["x-systemId"]=n["x-systemId"]),t=a}else throw new Error("Not implemented yet: ".concat(n.type));return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}Kt.cloneNode=g9;function uR(n){for(var e=n.map(function(r){return g9(r,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}(function(n){var e=ae&&ae.__createBinding||(Object.create?function(a,u,l,c){c===void 0&&(c=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(a,c,d)}:function(a,u,l,c){c===void 0&&(c=l),a[c]=u[l]}),t=ae&&ae.__exportStar||function(a,u){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&e(u,a,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var r=X_,i=Kt;t(Kt,n);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function a(u,l,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(c=l,l=o),typeof u=="object"&&(l=u,u=void 0),this.callback=u??null,this.options=l??o,this.elementCB=c??null}return a.prototype.onparserinit=function(u){this.parser=u},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(u){this.handleCallback(u)},a.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},a.prototype.onopentag=function(u,l){var c=this.options.xmlMode?r.ElementType.Tag:void 0,d=new i.Element(u,l,void 0,c);this.addNode(d),this.tagStack.push(d)},a.prototype.ontext=function(u){var l=this.lastNode;if(l&&l.type===r.ElementType.Text)l.data+=u,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var c=new i.Text(u);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=u;return}var l=new i.Comment(u);this.addNode(l),this.lastNode=l},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var u=new i.Text(""),l=new i.CDATA([u]);this.addNode(l),u.parent=l,this.lastNode=u},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(u,l){var c=new i.ProcessingInstruction(u,l);this.addNode(c)},a.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},a.prototype.addNode=function(u){var l=this.tagStack[this.tagStack.length-1],c=l.children[l.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),l.children.push(u),c&&(u.prev=c,c.next=u),u.parent=l,this.lastNode=null},a}();n.DomHandler=s,n.default=s})(wo);var Q_={};const jJe=mQ(d_e);var r_={};Object.defineProperty(r_,"__esModule",{value:!0});r_.attributeNames=r_.elementNames=void 0;r_.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]}));r_.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}));var Uv=ae&&ae.__assign||function(){return Uv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Uv.apply(this,arguments)},qJe=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),zJe=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),GJe=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&qJe(e,n,t);return zJe(e,n),e};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.render=void 0;var Ql=GJe(X_),GD=jJe,$le=r_,$Je=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function KJe(n){return n.replace(/"/g,"&quot;")}function YJe(n,e){var t;if(n){var r=((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)===!1?KJe:e.xmlMode||e.encodeEntities!=="utf8"?GD.encodeXML:GD.escapeAttribute;return Object.keys(n).map(function(i){var o,s,a=(o=n[i])!==null&&o!==void 0?o:"";return e.xmlMode==="foreign"&&(i=(s=$le.attributeNames.get(i))!==null&&s!==void 0?s:i),!e.emptyAttrs&&!e.xmlMode&&a===""?i:"".concat(i,'="').concat(r(a),'"')}).join(" ")}}var KK=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function kI(n,e){e===void 0&&(e={});for(var t=("length"in n)?n:[n],r="",i=0;i<t.length;i++)r+=XJe(t[i],e);return r}Q_.render=kI;Q_.default=kI;function XJe(n,e){switch(n.type){case Ql.Root:return kI(n.children,e);case Ql.Doctype:case Ql.Directive:return eet(n);case Ql.Comment:return ret(n);case Ql.CDATA:return net(n);case Ql.Script:case Ql.Style:case Ql.Tag:return JJe(n,e);case Ql.Text:return tet(n,e)}}var QJe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),ZJe=new Set(["svg","math"]);function JJe(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=$le.elementNames.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&QJe.has(n.parent.name)&&(e=Uv(Uv({},e),{xmlMode:!1}))),!e.xmlMode&&ZJe.has(n.name)&&(e=Uv(Uv({},e),{xmlMode:"foreign"}));var r="<".concat(n.name),i=YJe(n.attribs,e);return i&&(r+=" ".concat(i)),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&KK.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=kI(n.children,e)),(e.xmlMode||!KK.has(n.name))&&(r+="</".concat(n.name,">"))),r}function eet(n){return"<".concat(n.data,">")}function tet(n,e){var t,r=n.data||"";return((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)!==!1&&!(!e.xmlMode&&n.parent&&$Je.has(n.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?(0,GD.encodeXML)(r):(0,GD.escapeText)(r)),r}function net(n){return"<![CDATA[".concat(n.children[0].data,"]]>")}function ret(n){return"<!--".concat(n.data,"-->")}var iet=ae&&ae.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.innerText=Zs.textContent=Zs.getText=Zs.getInnerHTML=Zs.getOuterHTML=void 0;var ml=wo,oet=iet(Q_),set=X_;function Kle(n,e){return(0,oet.default)(n,e)}Zs.getOuterHTML=Kle;function aet(n,e){return(0,ml.hasChildren)(n)?n.children.map(function(t){return Kle(t,e)}).join(""):""}Zs.getInnerHTML=aet;function qS(n){return Array.isArray(n)?n.map(qS).join(""):(0,ml.isTag)(n)?n.name==="br"?`
`:qS(n.children):(0,ml.isCDATA)(n)?qS(n.children):(0,ml.isText)(n)?n.data:""}Zs.getText=qS;function oF(n){return Array.isArray(n)?n.map(oF).join(""):(0,ml.hasChildren)(n)&&!(0,ml.isComment)(n)?oF(n.children):(0,ml.isText)(n)?n.data:""}Zs.textContent=oF;function sF(n){return Array.isArray(n)?n.map(sF).join(""):(0,ml.hasChildren)(n)&&(n.type===set.ElementType.Tag||(0,ml.isCDATA)(n))?sF(n.children):(0,ml.isText)(n)?n.data:""}Zs.innerText=sF;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.prevElementSibling=Ei.nextElementSibling=Ei.getName=Ei.hasAttrib=Ei.getAttributeValue=Ei.getSiblings=Ei.getParent=Ei.getChildren=void 0;var v9=wo;function Yle(n){return(0,v9.hasChildren)(n)?n.children:[]}Ei.getChildren=Yle;function Xle(n){return n.parent||null}Ei.getParent=Xle;function uet(n){var e,t,r=Xle(n);if(r!=null)return Yle(r);for(var i=[n],o=n.prev,s=n.next;o!=null;)i.unshift(o),e=o,o=e.prev;for(;s!=null;)i.push(s),t=s,s=t.next;return i}Ei.getSiblings=uet;function cet(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}Ei.getAttributeValue=cet;function fet(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}Ei.hasAttrib=fet;function het(n){return n.name}Ei.getName=het;function det(n){for(var e,t=n.next;t!==null&&!(0,v9.isTag)(t);)e=t,t=e.next;return t}Ei.nextElementSibling=det;function pet(n){for(var e,t=n.prev;t!==null&&!(0,v9.isTag)(t);)e=t,t=e.prev;return t}Ei.prevElementSibling=pet;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.prepend=_s.prependChild=_s.append=_s.appendChild=_s.replaceElement=_s.removeElement=void 0;function qC(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){var e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}_s.removeElement=qC;function get(n,e){var t=e.prev=n.prev;t&&(t.next=e);var r=e.next=n.next;r&&(r.prev=e);var i=e.parent=n.parent;if(i){var o=i.children;o[o.lastIndexOf(n)]=e,n.parent=null}}_s.replaceElement=get;function vet(n,e){if(qC(e),e.next=null,e.parent=n,n.children.push(e)>1){var t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}_s.appendChild=vet;function met(n,e){qC(e);var t=n.parent,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){var i=t.children;i.splice(i.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}_s.append=met;function _et(n,e){if(qC(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){var t=n.children[1];t.prev=e,e.next=t}else e.next=null}_s.prependChild=_et;function yet(n,e){qC(e);var t=n.parent;if(t){var r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}_s.prepend=yet;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.findAll=Ko.existsOne=Ko.findOne=Ko.findOneChild=Ko.find=Ko.filter=void 0;var RI=wo;function bet(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),Qle(n,Array.isArray(e)?e:[e],t,r)}Ko.filter=bet;function Qle(n,e,t,r){for(var i=[],o=[e],s=[0];;){if(s[0]>=o[0].length){if(s.length===1)return i;o.shift(),s.shift();continue}var a=o[0][s[0]++];if(n(a)&&(i.push(a),--r<=0))return i;t&&(0,RI.hasChildren)(a)&&a.children.length>0&&(s.unshift(0),o.unshift(a.children))}}Ko.find=Qle;function Cet(n,e){return e.find(n)}Ko.findOneChild=Cet;function Zle(n,e,t){t===void 0&&(t=!0);for(var r=null,i=0;i<e.length&&!r;i++){var o=e[i];if((0,RI.isTag)(o))n(o)?r=o:t&&o.children.length>0&&(r=Zle(n,o.children,!0));else continue}return r}Ko.findOne=Zle;function Jle(n,e){return e.some(function(t){return(0,RI.isTag)(t)&&(n(t)||Jle(n,t.children))})}Ko.existsOne=Jle;function wet(n,e){for(var t=[],r=[e],i=[0];;){if(i[0]>=r[0].length){if(r.length===1)return t;r.shift(),i.shift();continue}var o=r[0][i[0]++];(0,RI.isTag)(o)&&(n(o)&&t.push(o),o.children.length>0&&(i.unshift(0),r.unshift(o.children)))}}Ko.findAll=wet;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.getElementsByTagType=Js.getElementsByTagName=Js.getElementById=Js.getElements=Js.testElement=void 0;var $d=wo,PI=Ko,$D={tag_name:function(n){return typeof n=="function"?function(e){return(0,$d.isTag)(e)&&n(e.name)}:n==="*"?$d.isTag:function(e){return(0,$d.isTag)(e)&&e.name===n}},tag_type:function(n){return typeof n=="function"?function(e){return n(e.type)}:function(e){return e.type===n}},tag_contains:function(n){return typeof n=="function"?function(e){return(0,$d.isText)(e)&&n(e.data)}:function(e){return(0,$d.isText)(e)&&e.data===n}}};function ece(n,e){return typeof e=="function"?function(t){return(0,$d.isTag)(t)&&e(t.attribs[n])}:function(t){return(0,$d.isTag)(t)&&t.attribs[n]===e}}function Eet(n,e){return function(t){return n(t)||e(t)}}function tce(n){var e=Object.keys(n).map(function(t){var r=n[t];return Object.prototype.hasOwnProperty.call($D,t)?$D[t](r):ece(t,r)});return e.length===0?null:e.reduce(Eet)}function Tet(n,e){var t=tce(n);return t?t(e):!0}Js.testElement=Tet;function Det(n,e,t,r){r===void 0&&(r=1/0);var i=tce(n);return i?(0,PI.filter)(i,e,t,r):[]}Js.getElements=Det;function Aet(n,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,PI.findOne)(ece("id",n),e,t)}Js.getElementById=Aet;function Iet(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,PI.filter)($D.tag_name(n),e,t,r)}Js.getElementsByTagName=Iet;function xet(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,PI.filter)($D.tag_type(n),e,t,r)}Js.getElementsByTagType=xet;var nce={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.uniqueSort=n.compareDocumentPosition=n.DocumentPosition=n.removeSubsets=void 0;var e=wo;function t(s){for(var a=s.length;--a>=0;){var u=s[a];if(a>0&&s.lastIndexOf(u,a-1)>=0){s.splice(a,1);continue}for(var l=u.parent;l;l=l.parent)if(s.includes(l)){s.splice(a,1);break}}return s}n.removeSubsets=t;var r;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(r=n.DocumentPosition||(n.DocumentPosition={}));function i(s,a){var u=[],l=[];if(s===a)return 0;for(var c=(0,e.hasChildren)(s)?s:s.parent;c;)u.unshift(c),c=c.parent;for(c=(0,e.hasChildren)(a)?a:a.parent;c;)l.unshift(c),c=c.parent;for(var d=Math.min(u.length,l.length),h=0;h<d&&u[h]===l[h];)h++;if(h===0)return r.DISCONNECTED;var p=u[h-1],v=p.children,m=u[h],_=l[h];return v.indexOf(m)>v.indexOf(_)?p===a?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:p===s?r.PRECEDING|r.CONTAINS:r.PRECEDING}n.compareDocumentPosition=i;function o(s){return s=s.filter(function(a,u,l){return!l.includes(a,u+1)}),s.sort(function(a,u){var l=i(a,u);return l&r.PRECEDING?-1:l&r.FOLLOWING?1:0}),s}n.uniqueSort=o})(nce);var MI={};Object.defineProperty(MI,"__esModule",{value:!0});MI.getFeed=void 0;var Let=Zs,zC=Js;function Net(n){var e=KD(Met,n);return e?e.name==="feed"?Oet(e):ket(e):null}MI.getFeed=Net;function Oet(n){var e,t=n.children,r={type:"atom",items:(0,zC.getElementsByTagName)("entry",t).map(function(s){var a,u=s.children,l={media:rce(u)};vs(l,"id","id",u),vs(l,"title","title",u);var c=(a=KD("link",u))===null||a===void 0?void 0:a.attribs.href;c&&(l.link=c);var d=Uf("summary",u)||Uf("content",u);d&&(l.description=d);var h=Uf("updated",u);return h&&(l.pubDate=new Date(h)),l})};vs(r,"id","id",t),vs(r,"title","title",t);var i=(e=KD("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),vs(r,"description","subtitle",t);var o=Uf("updated",t);return o&&(r.updated=new Date(o)),vs(r,"author","email",t,!0),r}function ket(n){var e,t,r=(t=(e=KD("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:n.name.substr(0,3),id:"",items:(0,zC.getElementsByTagName)("item",n.children).map(function(s){var a=s.children,u={media:rce(a)};vs(u,"id","guid",a),vs(u,"title","title",a),vs(u,"link","link",a),vs(u,"description","description",a);var l=Uf("pubDate",a)||Uf("dc:date",a);return l&&(u.pubDate=new Date(l)),u})};vs(i,"title","title",r),vs(i,"link","link",r),vs(i,"description","description",r);var o=Uf("lastBuildDate",r);return o&&(i.updated=new Date(o)),vs(i,"author","managingEditor",r,!0),i}var Ret=["url","type","lang"],Pet=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function rce(n){return(0,zC.getElementsByTagName)("media:content",n).map(function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},i=0,o=Ret;i<o.length;i++){var s=o[i];t[s]&&(r[s]=t[s])}for(var a=0,u=Pet;a<u.length;a++){var s=u[a];t[s]&&(r[s]=parseInt(t[s],10))}return t.expression&&(r.expression=t.expression),r})}function KD(n,e){return(0,zC.getElementsByTagName)(n,e,!0,1)[0]}function Uf(n,e,t){return t===void 0&&(t=!1),(0,Let.textContent)((0,zC.getElementsByTagName)(n,e,t,1)).trim()}function vs(n,e,t,r,i){i===void 0&&(i=!1);var o=Uf(t,r,i);o&&(n[e]=o)}function Met(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}(function(n){var e=ae&&ae.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,a,u)}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),t=ae&&ae.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,t(Zs,n),t(Ei,n),t(_s,n),t(Ko,n),t(Js,n),t(nce,n),t(MI,n);var r=wo;Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(Cu);var Dp=ae&&ae.__assign||function(){return Dp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Dp.apply(this,arguments)},Fet=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Bet=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Het=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Fet(e,n,t);return Bet(e,n),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.merge=Nr.contains=Nr.root=Nr.parseHTML=Nr.text=Nr.xml=Nr.html=void 0;var Vet=Cu,aF=Het(Y_);function ice(n,e,t){return n?n(e??n._root.children,null,void 0,t).toString():""}function Wet(n,e){return typeof n=="object"&&n!=null&&!("length"in n)&&!("type"in n)}function Uet(n,e){var t=Wet(n)?(e=n,void 0):n,r=Dp(Dp(Dp({},aF.default),this===null||this===void 0?void 0:this._options),(0,aF.flatten)(e??{}));return ice(this,t,r)}Nr.html=Uet;function jet(n){var e=Dp(Dp({},this._options),{xmlMode:!0});return ice(this,n,e)}Nr.xml=jet;function qet(n){for(var e=n||(this?this.root():[]),t="",r=0;r<e.length;r++)t+=(0,Vet.textContent)(e[r]);return t}Nr.text=qet;function zet(n,e,t){if(t===void 0&&(t=typeof e=="boolean"?e:!1),!n||typeof n!="string")return null;typeof e=="boolean"&&(t=e);var r=this.load(n,aF.default,!1);return t||r("script").remove(),r.root()[0].children.slice()}Nr.parseHTML=zet;function Get(){return this(this._root)}Nr.root=Get;function $et(n,e){if(e===n)return!1;for(var t=e;t&&t!==t.parent;)if(t=t.parent,t===n)return!0;return!1}Nr.contains=$et;function Ket(n,e){if(!(!YK(n)||!YK(e))){for(var t=n.length,r=+e.length,i=0;i<r;i++)n[t++]=e[i];return n.length=t,n}}Nr.merge=Ket;function YK(n){if(Array.isArray(n))return!0;if(typeof n!="object"||!Object.prototype.hasOwnProperty.call(n,"length")||typeof n.length!="number"||n.length<0)return!1;for(var e=0;e<n.length;e++)if(!(e in n))return!1;return!0}var FI={},Vr={},Eg={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHtml=n.cloneDom=n.domEach=n.cssCase=n.camelCase=n.isCheerio=n.isTag=void 0;var e=wo,t=wo;Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return t.isTag}});function r(c){return c.cheerio!=null}n.isCheerio=r;function i(c){return c.replace(/[_.-](\w|$)/g,function(d,h){return h.toUpperCase()})}n.camelCase=i;function o(c){return c.replace(/[A-Z]/g,"-$&").toLowerCase()}n.cssCase=o;function s(c,d){for(var h=c.length,p=0;p<h;p++)d(c[p],p);return c}n.domEach=s;function a(c){var d="length"in c?Array.prototype.map.call(c,function(p){return(0,e.cloneNode)(p,!0)}):[(0,e.cloneNode)(c,!0)],h=new e.Document(d);return d.forEach(function(p){p.parent=h}),d}n.cloneDom=a;var u;(function(c){c[c.LowerA=97]="LowerA",c[c.LowerZ=122]="LowerZ",c[c.UpperA=65]="UpperA",c[c.UpperZ=90]="UpperZ",c[c.Exclamation=33]="Exclamation"})(u||(u={}));function l(c){var d=c.indexOf("<");if(d<0||d>c.length-3)return!1;var h=c.charCodeAt(d+1);return(h>=u.LowerA&&h<=u.LowerZ||h>=u.UpperA&&h<=u.UpperZ||h===u.Exclamation)&&c.includes(">",d+2)}n.isHtml=l})(Eg);Object.defineProperty(Vr,"__esModule",{value:!0});Vr.toggleClass=Vr.removeClass=Vr.addClass=Vr.hasClass=Vr.removeAttr=Vr.val=Vr.data=Vr.prop=Vr.attr=void 0;var oce=Nr,On=Eg,XK=Cu,um=Object.prototype.hasOwnProperty,O1=/\s+/,lR="data-",QK={null:null,true:!0,false:!1},m9=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Yet=/^{[^]*}$|^\[[^]*]$/;function YD(n,e,t){var r;if(!(!n||!(0,On.isTag)(n))){if((r=n.attribs)!==null&&r!==void 0||(n.attribs={}),!e)return n.attribs;if(um.call(n.attribs,e))return!t&&m9.test(e)?e:n.attribs[e];if(n.name==="option"&&e==="value")return(0,oce.text)(n.children);if(n.name==="input"&&(n.attribs.type==="radio"||n.attribs.type==="checkbox")&&e==="value")return"on"}}function lm(n,e,t){t===null?sce(n,e):n.attribs[e]="".concat(t)}function Xet(n,e){if(typeof n=="object"||e!==void 0){if(typeof e=="function"){if(typeof n!="string")throw new Error("Bad combination of arguments.");return(0,On.domEach)(this,function(t,r){(0,On.isTag)(t)&&lm(t,n,e.call(t,r,t.attribs[n]))})}return(0,On.domEach)(this,function(t){(0,On.isTag)(t)&&(typeof n=="object"?Object.keys(n).forEach(function(r){var i=n[r];lm(t,r,i)}):lm(t,n,e))})}return arguments.length>1?this:YD(this[0],n,this.options.xmlMode)}Vr.attr=Xet;function ZK(n,e,t){return e in n?n[e]:!t&&m9.test(e)?YD(n,e,!1)!==void 0:YD(n,e,t)}function cR(n,e,t,r){e in n?n[e]=t:lm(n,e,!r&&m9.test(e)?t?"":null:"".concat(t))}function Qet(n,e){var t=this,r;if(typeof n=="string"&&e===void 0){var i=this[0];if(!i||!(0,On.isTag)(i))return;switch(n){case"style":{var o=this.css(),s=Object.keys(o);return s.forEach(function(u,l){o[l]=u}),o.length=s.length,o}case"tagName":case"nodeName":return i.name.toUpperCase();case"href":case"src":{var a=(r=i.attribs)===null||r===void 0?void 0:r[n];return typeof URL<"u"&&(n==="href"&&(i.tagName==="a"||i.name==="link")||n==="src"&&(i.tagName==="img"||i.tagName==="iframe"||i.tagName==="audio"||i.tagName==="video"||i.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return(0,XK.innerText)(i);case"textContent":return(0,XK.textContent)(i);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return ZK(i,n,this.options.xmlMode)}}if(typeof n=="object"||e!==void 0){if(typeof e=="function"){if(typeof n=="object")throw new Error("Bad combination of arguments.");return(0,On.domEach)(this,function(u,l){(0,On.isTag)(u)&&cR(u,n,e.call(u,l,ZK(u,n,t.options.xmlMode)),t.options.xmlMode)})}return(0,On.domEach)(this,function(u){(0,On.isTag)(u)&&(typeof n=="object"?Object.keys(n).forEach(function(l){var c=n[l];cR(u,l,c,t.options.xmlMode)}):cR(u,n,e,t.options.xmlMode))})}}Vr.prop=Qet;function JK(n,e,t){var r,i=n;(r=i.data)!==null&&r!==void 0||(i.data={}),typeof e=="object"?Object.assign(i.data,e):typeof e=="string"&&t!==void 0&&(i.data[e]=t)}function eY(n,e){var t,r,i;e==null?(t=Object.keys(n.attribs).filter(function(u){return u.startsWith(lR)}),r=t.map(function(u){return(0,On.camelCase)(u.slice(lR.length))})):(t=[lR+(0,On.cssCase)(e)],r=[e]);for(var o=0;o<t.length;++o){var s=t[o],a=r[o];if(um.call(n.attribs,s)&&!um.call(n.data,a)){if(i=n.attribs[s],um.call(QK,i))i=QK[i];else if(i===String(Number(i)))i=Number(i);else if(Yet.test(i))try{i=JSON.parse(i)}catch{}n.data[a]=i}}return e==null?n.data:i}function Zet(n,e){var t,r=this[0];if(!(!r||!(0,On.isTag)(r))){var i=r;return(t=i.data)!==null&&t!==void 0||(i.data={}),n?typeof n=="object"||e!==void 0?((0,On.domEach)(this,function(o){(0,On.isTag)(o)&&(typeof n=="object"?JK(o,n):JK(o,n,e))}),this):um.call(i.data,n)?i.data[n]:eY(i,n):eY(i)}}Vr.data=Zet;function Jet(n){var e=arguments.length===0,t=this[0];if(!t||!(0,On.isTag)(t))return e?void 0:this;switch(t.name){case"textarea":return this.text(n);case"select":{var r=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof n=="object")return this;this.find("option").removeAttr("selected");for(var i=typeof n!="object"?[n]:n,o=0;o<i.length;o++)this.find('option[value="'.concat(i[o],'"]')).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(function(s){return(0,oce.text)(s.children)}):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",n)}}Vr.val=Jet;function sce(n,e){!n.attribs||!um.call(n.attribs,e)||delete n.attribs[e]}function XD(n){return n?n.trim().split(O1):[]}function ett(n){for(var e=XD(n),t=function(o){(0,On.domEach)(r,function(s){(0,On.isTag)(s)&&sce(s,e[o])})},r=this,i=0;i<e.length;i++)t(i);return this}Vr.removeAttr=ett;function ttt(n){return this.toArray().some(function(e){var t=(0,On.isTag)(e)&&e.attribs.class,r=-1;if(t&&n.length)for(;(r=t.indexOf(n,r+1))>-1;){var i=r+n.length;if((r===0||O1.test(t[r-1]))&&(i===t.length||O1.test(t[i])))return!0}return!1})}Vr.hasClass=ttt;function ace(n){if(typeof n=="function")return(0,On.domEach)(this,function(l,c){if((0,On.isTag)(l)){var d=l.attribs.class||"";ace.call([l],n.call(l,c,d))}});if(!n||typeof n!="string")return this;for(var e=n.split(O1),t=this.length,r=0;r<t;r++){var i=this[r];if((0,On.isTag)(i)){var o=YD(i,"class",!1);if(!o)lm(i,"class",e.join(" ").trim());else{for(var s=" ".concat(o," "),a=0;a<e.length;a++){var u="".concat(e[a]," ");s.includes(" ".concat(u))||(s+=u)}lm(i,"class",s.trim())}}}return this}Vr.addClass=ace;function uce(n){if(typeof n=="function")return(0,On.domEach)(this,function(i,o){(0,On.isTag)(i)&&uce.call([i],n.call(i,o,i.attribs.class||""))});var e=XD(n),t=e.length,r=arguments.length===0;return(0,On.domEach)(this,function(i){if((0,On.isTag)(i))if(r)i.attribs.class="";else{for(var o=XD(i.attribs.class),s=!1,a=0;a<t;a++){var u=o.indexOf(e[a]);u>=0&&(o.splice(u,1),s=!0,a--)}s&&(i.attribs.class=o.join(" "))}})}Vr.removeClass=uce;function lce(n,e){if(typeof n=="function")return(0,On.domEach)(this,function(d,h){(0,On.isTag)(d)&&lce.call([d],n.call(d,h,d.attribs.class||"",e),e)});if(!n||typeof n!="string")return this;for(var t=n.split(O1),r=t.length,i=typeof e=="boolean"?e?1:-1:0,o=this.length,s=0;s<o;s++){var a=this[s];if((0,On.isTag)(a)){for(var u=XD(a.attribs.class),l=0;l<r;l++){var c=u.indexOf(t[l]);i>=0&&c<0?u.push(t[l]):i<=0&&c>=0&&u.splice(c,1)}a.attribs.class=u.join(" ")}}return this}Vr.toggleClass=lce;var $e={},cce={},en;(function(n){n.Attribute="attribute",n.Pseudo="pseudo",n.PseudoElement="pseudo-element",n.Tag="tag",n.Universal="universal",n.Adjacent="adjacent",n.Child="child",n.Descendant="descendant",n.Parent="parent",n.Sibling="sibling",n.ColumnCombinator="column-combinator"})(en||(en={}));const ntt={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var or;(function(n){n.Any="any",n.Element="element",n.End="end",n.Equals="equals",n.Exists="exists",n.Hyphen="hyphen",n.Not="not",n.Start="start"})(or||(or={}));const tY=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,rtt=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,itt=new Map([[126,or.Element],[94,or.Start],[36,or.End],[42,or.Any],[33,or.Not],[124,or.Hyphen]]),ott=new Set(["has","not","matches","is","where","host","host-context"]);function fce(n){switch(n.type){case en.Adjacent:case en.Child:case en.Descendant:case en.Parent:case en.Sibling:case en.ColumnCombinator:return!0;default:return!1}}const stt=new Set(["contains","icontains"]);function att(n,e,t){const r=parseInt(e,16)-65536;return r!==r||t?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function gy(n){return n.replace(rtt,att)}function fR(n){return n===39||n===34}function nY(n){return n===32||n===9||n===10||n===12||n===13}function utt(n){const e=[],t=hce(e,`${n}`,0);if(t<n.length)throw new Error(`Unmatched selector: ${n.slice(t)}`);return e}function hce(n,e,t){let r=[];function i(h){const p=e.slice(t+h).match(tY);if(!p)throw new Error(`Expected name, found ${e.slice(t)}`);const[v]=p;return t+=h+v.length,gy(v)}function o(h){for(t+=h;t<e.length&&nY(e.charCodeAt(t));)t++}function s(){t+=1;const h=t;let p=1;for(;p>0&&t<e.length;t++)e.charCodeAt(t)===40&&!a(t)?p++:e.charCodeAt(t)===41&&!a(t)&&p--;if(p)throw new Error("Parenthesis not matched");return gy(e.slice(h,t-1))}function a(h){let p=0;for(;e.charCodeAt(--h)===92;)p++;return(p&1)===1}function u(){if(r.length>0&&fce(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function l(h){if(r.length>0&&r[r.length-1].type===en.Descendant){r[r.length-1].type=h;return}u(),r.push({type:h})}function c(h,p){r.push({type:en.Attribute,name:h,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===en.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");n.push(r)}if(o(0),e.length===t)return t;e:for(;t<e.length;){const h=e.charCodeAt(t);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==en.Descendant)&&(u(),r.push({type:en.Descendant})),o(1);break}case 62:{l(en.Child),o(1);break}case 60:{l(en.Parent),o(1);break}case 126:{l(en.Sibling),o(1);break}case 43:{l(en.Adjacent),o(1);break}case 46:{c("class",or.Element);break}case 35:{c("id",or.Equals);break}case 91:{o(1);let p,v=null;e.charCodeAt(t)===124?p=i(1):e.startsWith("*|",t)?(v="*",p=i(2)):(p=i(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(v=p,p=i(1))),o(0);let m=or.Exists;const _=itt.get(e.charCodeAt(t));if(_){if(m=_,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");o(2)}else e.charCodeAt(t)===61&&(m=or.Equals,o(1));let b="",C=null;if(m!=="exists"){if(fR(e.charCodeAt(t))){const A=e.charCodeAt(t);let S=t+1;for(;S<e.length&&(e.charCodeAt(S)!==A||a(S));)S+=1;if(e.charCodeAt(S)!==A)throw new Error("Attribute value didn't end");b=gy(e.slice(t+1,S)),t=S+1}else{const A=t;for(;t<e.length&&(!nY(e.charCodeAt(t))&&e.charCodeAt(t)!==93||a(t));)t+=1;b=gy(e.slice(A,t))}o(0);const T=e.charCodeAt(t)|32;T===115?(C=!1,o(1)):T===105&&(C=!0,o(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;const E={type:en.Attribute,name:p,action:m,value:b,namespace:v,ignoreCase:C};r.push(E);break}case 58:{if(e.charCodeAt(t+1)===58){r.push({type:en.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(t)===40?s():null});continue}const p=i(1).toLowerCase();let v=null;if(e.charCodeAt(t)===40)if(ott.has(p)){if(fR(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(v=[],t=hce(v,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);t+=1}else{if(v=s(),stt.has(p)){const m=v.charCodeAt(0);m===v.charCodeAt(v.length-1)&&fR(m)&&(v=v.slice(1,-1))}v=gy(v)}r.push({type:en.Pseudo,name:p,data:v});break}case 44:{d(),r=[],o(1);break}default:{if(e.startsWith("/*",t)){const m=e.indexOf("*/",t+2);if(m<0)throw new Error("Comment was not terminated");t=m+2,r.length===0&&o(0);break}let p=null,v;if(h===42)t+=1,v="*";else if(h===124){if(v="",e.charCodeAt(t+1)===124){l(en.ColumnCombinator),o(2);break}}else if(tY.test(e.slice(t)))v=i(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(p=v,e.charCodeAt(t+1)===42?(v="*",t+=2):v=i(1)),r.push(v==="*"?{type:en.Universal,namespace:p}:{type:en.Tag,name:v,namespace:p})}}}return d(),t}const dce=["\\",'"'],pce=[...dce,"(",")"],ltt=new Set(dce.map(n=>n.charCodeAt(0))),rY=new Set(pce.map(n=>n.charCodeAt(0))),jv=new Set([...pce,"~","^","$","*","+","!","|",":","[","]"," ","."].map(n=>n.charCodeAt(0)));function gce(n){return n.map(e=>e.map(ctt).join("")).join(", ")}function ctt(n,e,t){switch(n.type){case en.Child:return e===0?"> ":" > ";case en.Parent:return e===0?"< ":" < ";case en.Sibling:return e===0?"~ ":" ~ ";case en.Adjacent:return e===0?"+ ":" + ";case en.Descendant:return" ";case en.ColumnCombinator:return e===0?"|| ":" || ";case en.Universal:return n.namespace==="*"&&e+1<t.length&&"name"in t[e+1]?"":`${vce(n.namespace)}*`;case en.Tag:return iY(n);case en.PseudoElement:return`::${ic(n.name,jv)}${n.data===null?"":`(${ic(n.data,rY)})`}`;case en.Pseudo:return`:${ic(n.name,jv)}${n.data===null?"":`(${typeof n.data=="string"?ic(n.data,rY):gce(n.data)})`}`;case en.Attribute:{if(n.name==="id"&&n.action===or.Equals&&n.ignoreCase==="quirks"&&!n.namespace)return`#${ic(n.value,jv)}`;if(n.name==="class"&&n.action===or.Element&&n.ignoreCase==="quirks"&&!n.namespace)return`.${ic(n.value,jv)}`;const r=iY(n);return n.action===or.Exists?`[${r}]`:`[${r}${ftt(n.action)}="${ic(n.value,ltt)}"${n.ignoreCase===null?"":n.ignoreCase?" i":" s"}]`}}}function ftt(n){switch(n){case or.Equals:return"";case or.Element:return"~";case or.Start:return"^";case or.End:return"$";case or.Any:return"*";case or.Not:return"!";case or.Hyphen:return"|";case or.Exists:throw new Error("Shouldn't be here")}}function iY(n){return`${vce(n.namespace)}${ic(n.name,jv)}`}function vce(n){return n!==null?`${n==="*"?"*":ic(n,jv)}|`:""}function ic(n,e){let t=0,r="";for(let i=0;i<n.length;i++)e.has(n.charCodeAt(i))&&(r+=`${n.slice(t,i)}\\${n.charAt(i)}`,t=i+1);return r.length>0?r+n.slice(t):n}const htt=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return or},IgnoreCaseMode:ntt,get SelectorType(){return en},isTraversal:fce,parse:utt,stringify:gce},Symbol.toStringTag,{value:"Module"})),GC=mQ(htt);var uF={},Sg={trueFunc:function(){return!0},falseFunc:function(){return!1}},uh={},Z_={};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.isTraversal=void 0;var Ks=GC,mce=new Map([[Ks.SelectorType.Universal,50],[Ks.SelectorType.Tag,30],[Ks.SelectorType.Attribute,1],[Ks.SelectorType.Pseudo,0]]);function dtt(n){return!mce.has(n.type)}Z_.isTraversal=dtt;var ptt=new Map([[Ks.AttributeAction.Exists,10],[Ks.AttributeAction.Equals,8],[Ks.AttributeAction.Not,7],[Ks.AttributeAction.Start,6],[Ks.AttributeAction.End,6],[Ks.AttributeAction.Any,5]]);function gtt(n){for(var e=n.map(_ce),t=1;t<n.length;t++){var r=e[t];if(!(r<0))for(var i=t-1;i>=0&&r<e[i];i--){var o=n[i+1];n[i+1]=n[i],n[i]=o,e[i+1]=e[i],e[i]=r}}}Z_.default=gtt;function _ce(n){var e,t,r=(e=mce.get(n.type))!==null&&e!==void 0?e:-1;return n.type===Ks.SelectorType.Attribute?(r=(t=ptt.get(n.action))!==null&&t!==void 0?t:4,n.action===Ks.AttributeAction.Equals&&n.name==="id"&&(r=9),n.ignoreCase&&(r>>=1)):n.type===Ks.SelectorType.Pseudo&&(n.data?n.name==="has"||n.name==="contains"?r=0:Array.isArray(n.data)?(r=Math.min.apply(Math,n.data.map(function(i){return Math.min.apply(Math,i.map(_ce))})),r<0&&(r=0)):r=2:r=3),r}var BI={},HI={},vtt=ae&&ae.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(HI,"__esModule",{value:!0});HI.attributeRules=void 0;var aS=vtt(Sg),mtt=/[-[\]{}()*+?.,\\^$|#\s]/g;function oY(n){return n.replace(mtt,"\\$&")}var _tt=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Ad(n,e){return typeof n.ignoreCase=="boolean"?n.ignoreCase:n.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&_tt.has(n.name)}HI.attributeRules={equals:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;return Ad(e,t)?(o=o.toLowerCase(),function(s){var a=r.getAttributeValue(s,i);return a!=null&&a.length===o.length&&a.toLowerCase()===o&&n(s)}):function(s){return r.getAttributeValue(s,i)===o&&n(s)}},hyphen:function(n,e,t){var r=t.adapter,i=e.name,o=e.value,s=o.length;return Ad(e,t)?(o=o.toLowerCase(),function(u){var l=r.getAttributeValue(u,i);return l!=null&&(l.length===s||l.charAt(s)==="-")&&l.substr(0,s).toLowerCase()===o&&n(u)}):function(u){var l=r.getAttributeValue(u,i);return l!=null&&(l.length===s||l.charAt(s)==="-")&&l.substr(0,s)===o&&n(u)}},element:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;if(/\s/.test(o))return aS.default.falseFunc;var s=new RegExp("(?:^|\\s)".concat(oY(o),"(?:$|\\s)"),Ad(e,t)?"i":"");return function(u){var l=r.getAttributeValue(u,i);return l!=null&&l.length>=o.length&&s.test(l)&&n(u)}},exists:function(n,e,t){var r=e.name,i=t.adapter;return function(o){return i.hasAttrib(o,r)&&n(o)}},start:function(n,e,t){var r=t.adapter,i=e.name,o=e.value,s=o.length;return s===0?aS.default.falseFunc:Ad(e,t)?(o=o.toLowerCase(),function(a){var u=r.getAttributeValue(a,i);return u!=null&&u.length>=s&&u.substr(0,s).toLowerCase()===o&&n(a)}):function(a){var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.startsWith(o))&&n(a)}},end:function(n,e,t){var r=t.adapter,i=e.name,o=e.value,s=-o.length;return s===0?aS.default.falseFunc:Ad(e,t)?(o=o.toLowerCase(),function(a){var u;return((u=r.getAttributeValue(a,i))===null||u===void 0?void 0:u.substr(s).toLowerCase())===o&&n(a)}):function(a){var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.endsWith(o))&&n(a)}},any:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;if(o==="")return aS.default.falseFunc;if(Ad(e,t)){var s=new RegExp(oY(o),"i");return function(u){var l=r.getAttributeValue(u,i);return l!=null&&l.length>=o.length&&s.test(l)&&n(u)}}return function(a){var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.includes(o))&&n(a)}},not:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;return o===""?function(s){return!!r.getAttributeValue(s,i)&&n(s)}:Ad(e,t)?(o=o.toLowerCase(),function(s){var a=r.getAttributeValue(s,i);return(a==null||a.length!==o.length||a.toLowerCase()!==o)&&n(s)}):function(s){return r.getAttributeValue(s,i)!==o&&n(s)}}};var _9={},yce={},bce={},VI={};Object.defineProperty(VI,"__esModule",{value:!0});VI.parse=void 0;var ytt=new Set([9,10,12,13,32]),sY=48,btt=57;function Ctt(n){if(n=n.trim().toLowerCase(),n==="even")return[2,0];if(n==="odd")return[2,1];var e=0,t=0,r=o(),i=s();if(e<n.length&&n.charAt(e)==="n"&&(e++,t=r*(i??1),a(),e<n.length?(r=o(),a(),i=s()):r=i=0),i===null||e<n.length)throw new Error("n-th rule couldn't be parsed ('".concat(n,"')"));return[t,r*i];function o(){return n.charAt(e)==="-"?(e++,-1):(n.charAt(e)==="+"&&e++,1)}function s(){for(var u=e,l=0;e<n.length&&n.charCodeAt(e)>=sY&&n.charCodeAt(e)<=btt;)l=l*10+(n.charCodeAt(e)-sY),e++;return e===u?null:l}function a(){for(;e<n.length&&ytt.has(n.charCodeAt(e));)e++}}VI.parse=Ctt;var i_={},wtt=ae&&ae.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i_,"__esModule",{value:!0});i_.generate=i_.compile=void 0;var aY=wtt(Sg);function Ett(n){var e=n[0],t=n[1]-1;if(t<0&&e<=0)return aY.default.falseFunc;if(e===-1)return function(o){return o<=t};if(e===0)return function(o){return o===t};if(e===1)return t<0?aY.default.trueFunc:function(o){return o>=t};var r=Math.abs(e),i=(t%r+r)%r;return e>1?function(o){return o>=t&&o%r===i}:function(o){return o<=t&&o%r===i}}i_.compile=Ett;function Stt(n){var e=n[0],t=n[1]-1,r=0;if(e<0){var i=-e,o=(t%i+i)%i;return function(){var s=o+i*r++;return s>t?null:s}}return e===0?t<0?function(){return null}:function(){return r++===0?t:null}:(t<0&&(t+=e*Math.ceil(-t/e)),function(){return e*r+++t})}i_.generate=Stt;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.sequence=n.generate=n.compile=n.parse=void 0;var e=VI;Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return e.parse}});var t=i_;Object.defineProperty(n,"compile",{enumerable:!0,get:function(){return t.compile}}),Object.defineProperty(n,"generate",{enumerable:!0,get:function(){return t.generate}});function r(o){return(0,t.compile)((0,e.parse)(o))}n.default=r;function i(o){return(0,t.generate)((0,e.parse)(o))}n.sequence=i})(bce);(function(n){var e=ae&&ae.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.filters=void 0;var t=e(bce),r=e(Sg);function i(s,a){return function(u){var l=a.getParent(u);return l!=null&&a.isTag(l)&&s(u)}}n.filters={contains:function(s,a,u){var l=u.adapter;return function(d){return s(d)&&l.getText(d).includes(a)}},icontains:function(s,a,u){var l=u.adapter,c=a.toLowerCase();return function(h){return s(h)&&l.getText(h).toLowerCase().includes(c)}},"nth-child":function(s,a,u){var l=u.adapter,c=u.equals,d=(0,t.default)(a);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=0;_<v.length&&!c(p,v[_]);_++)l.isTag(v[_])&&m++;return d(m)&&s(p)}},"nth-last-child":function(s,a,u){var l=u.adapter,c=u.equals,d=(0,t.default)(a);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=v.length-1;_>=0&&!c(p,v[_]);_--)l.isTag(v[_])&&m++;return d(m)&&s(p)}},"nth-of-type":function(s,a,u){var l=u.adapter,c=u.equals,d=(0,t.default)(a);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=0;_<v.length;_++){var b=v[_];if(c(p,b))break;l.isTag(b)&&l.getName(b)===l.getName(p)&&m++}return d(m)&&s(p)}},"nth-last-of-type":function(s,a,u){var l=u.adapter,c=u.equals,d=(0,t.default)(a);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=v.length-1;_>=0;_--){var b=v[_];if(c(p,b))break;l.isTag(b)&&l.getName(b)===l.getName(p)&&m++}return d(m)&&s(p)}},root:function(s,a,u){var l=u.adapter;return function(c){var d=l.getParent(c);return(d==null||!l.isTag(d))&&s(c)}},scope:function(s,a,u,l){var c=u.equals;return!l||l.length===0?n.filters.root(s,a,u):l.length===1?function(d){return c(l[0],d)&&s(d)}:function(d){return l.includes(d)&&s(d)}},hover:o("isHovered"),visited:o("isVisited"),active:o("isActive")};function o(s){return function(u,l,c){var d=c.adapter,h=d[s];return typeof h!="function"?r.default.falseFunc:function(v){return h(v)&&u(v)}}}})(yce);var o_={};Object.defineProperty(o_,"__esModule",{value:!0});o_.verifyPseudoArgs=o_.pseudos=void 0;o_.pseudos={empty:function(n,e){var t=e.adapter;return!t.getChildren(n).some(function(r){return t.isTag(r)||t.getText(r)!==""})},"first-child":function(n,e){var t=e.adapter,r=e.equals;if(t.prevElementSibling)return t.prevElementSibling(n)==null;var i=t.getSiblings(n).find(function(o){return t.isTag(o)});return i!=null&&r(n,i)},"last-child":function(n,e){for(var t=e.adapter,r=e.equals,i=t.getSiblings(n),o=i.length-1;o>=0;o--){if(r(n,i[o]))return!0;if(t.isTag(i[o]))break}return!1},"first-of-type":function(n,e){for(var t=e.adapter,r=e.equals,i=t.getSiblings(n),o=t.getName(n),s=0;s<i.length;s++){var a=i[s];if(r(n,a))return!0;if(t.isTag(a)&&t.getName(a)===o)break}return!1},"last-of-type":function(n,e){for(var t=e.adapter,r=e.equals,i=t.getSiblings(n),o=t.getName(n),s=i.length-1;s>=0;s--){var a=i[s];if(r(n,a))return!0;if(t.isTag(a)&&t.getName(a)===o)break}return!1},"only-of-type":function(n,e){var t=e.adapter,r=e.equals,i=t.getName(n);return t.getSiblings(n).every(function(o){return r(n,o)||!t.isTag(o)||t.getName(o)!==i})},"only-child":function(n,e){var t=e.adapter,r=e.equals;return t.getSiblings(n).every(function(i){return r(n,i)||!t.isTag(i)})}};function Ttt(n,e,t,r){if(t===null){if(n.length>r)throw new Error("Pseudo-class :".concat(e," requires an argument"))}else if(n.length===r)throw new Error("Pseudo-class :".concat(e," doesn't have any arguments"))}o_.verifyPseudoArgs=Ttt;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.aliases=void 0;WI.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var UI={};(function(n){var e=ae&&ae.__spreadArray||function(l,c,d){if(d||arguments.length===2)for(var h=0,p=c.length,v;h<p;h++)(v||!(h in c))&&(v||(v=Array.prototype.slice.call(c,0,h)),v[h]=c[h]);return l.concat(v||Array.prototype.slice.call(c))},t=ae&&ae.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.subselects=n.getNextSiblings=n.ensureIsTag=n.PLACEHOLDER_ELEMENT=void 0;var r=t(Sg),i=Z_;n.PLACEHOLDER_ELEMENT={};function o(l,c){return l===r.default.falseFunc?r.default.falseFunc:function(d){return c.isTag(d)&&l(d)}}n.ensureIsTag=o;function s(l,c){var d=c.getSiblings(l);if(d.length<=1)return[];var h=d.indexOf(l);return h<0||h===d.length-1?[]:d.slice(h+1).filter(c.isTag)}n.getNextSiblings=s;function a(l){return{xmlMode:!!l.xmlMode,lowerCaseAttributeNames:!!l.lowerCaseAttributeNames,lowerCaseTags:!!l.lowerCaseTags,quirksMode:!!l.quirksMode,cacheResults:!!l.cacheResults,pseudos:l.pseudos,adapter:l.adapter,equals:l.equals}}var u=function(l,c,d,h,p){var v=p(c,a(d),h);return v===r.default.trueFunc?l:v===r.default.falseFunc?r.default.falseFunc:function(m){return v(m)&&l(m)}};n.subselects={is:u,matches:u,where:u,not:function(l,c,d,h,p){var v=p(c,a(d),h);return v===r.default.falseFunc?l:v===r.default.trueFunc?r.default.falseFunc:function(m){return!v(m)&&l(m)}},has:function(l,c,d,h,p){var v=d.adapter,m=a(d);m.relativeSelector=!0;var _=c.some(function(A){return A.some(i.isTraversal)})?[n.PLACEHOLDER_ELEMENT]:void 0,b=p(c,m,_);if(b===r.default.falseFunc)return r.default.falseFunc;var C=o(b,v);if(_&&b!==r.default.trueFunc){var E=b.shouldTestNextSiblings,T=E===void 0?!1:E;return function(A){if(!l(A))return!1;_[0]=A;var S=v.getChildren(A),N=T?e(e([],S,!0),s(A,v),!0):S;return v.existsOne(C,N)}}return function(A){return l(A)&&v.existsOne(C,v.getChildren(A))}}}})(UI);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.compilePseudoSelector=n.aliases=n.pseudos=n.filters=void 0;var e=GC,t=yce;Object.defineProperty(n,"filters",{enumerable:!0,get:function(){return t.filters}});var r=o_;Object.defineProperty(n,"pseudos",{enumerable:!0,get:function(){return r.pseudos}});var i=WI;Object.defineProperty(n,"aliases",{enumerable:!0,get:function(){return i.aliases}});var o=UI;function s(a,u,l,c,d){var h,p=u.name,v=u.data;if(Array.isArray(v)){if(!(p in o.subselects))throw new Error("Unknown pseudo-class :".concat(p,"(").concat(v,")"));return o.subselects[p](a,v,l,c,d)}var m=(h=l.pseudos)===null||h===void 0?void 0:h[p],_=typeof m=="string"?m:i.aliases[p];if(typeof _=="string"){if(v!=null)throw new Error("Pseudo ".concat(p," doesn't have any arguments"));var b=(0,e.parse)(_);return o.subselects.is(a,b,l,c,d)}if(typeof m=="function")return(0,r.verifyPseudoArgs)(m,p,v,1),function(E){return m(E,v)&&a(E)};if(p in t.filters)return t.filters[p](a,v,l,c);if(p in r.pseudos){var C=r.pseudos[p];return(0,r.verifyPseudoArgs)(C,p,v,2),function(E){return C(E,l,v)&&a(E)}}throw new Error("Unknown pseudo-class :".concat(p))}n.compilePseudoSelector=s})(_9);Object.defineProperty(BI,"__esModule",{value:!0});BI.compileGeneralSelector=void 0;var Dtt=HI,Att=_9,Qa=GC;function hR(n,e){var t=e.getParent(n);return t&&e.isTag(t)?t:null}function Itt(n,e,t,r,i){var o=t.adapter,s=t.equals;switch(e.type){case Qa.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Qa.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Qa.SelectorType.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!t.xmlMode||t.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),Dtt.attributeRules[e.action](n,e,t)}case Qa.SelectorType.Pseudo:return(0,Att.compilePseudoSelector)(n,e,t,r,i);case Qa.SelectorType.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var a=e.name;return(!t.xmlMode||t.lowerCaseTags)&&(a=a.toLowerCase()),function(c){return o.getName(c)===a&&n(c)}}case Qa.SelectorType.Descendant:{if(t.cacheResults===!1||typeof WeakSet>"u")return function(c){for(var d=c;d=hR(d,o);)if(n(d))return!0;return!1};var u=new WeakSet;return function(c){for(var d=c;d=hR(d,o);)if(!u.has(d)){if(o.isTag(d)&&n(d))return!0;u.add(d)}return!1}}case"_flexibleDescendant":return function(c){var d=c;do if(n(d))return!0;while(d=hR(d,o));return!1};case Qa.SelectorType.Parent:return function(c){return o.getChildren(c).some(function(d){return o.isTag(d)&&n(d)})};case Qa.SelectorType.Child:return function(c){var d=o.getParent(c);return d!=null&&o.isTag(d)&&n(d)};case Qa.SelectorType.Sibling:return function(c){for(var d=o.getSiblings(c),h=0;h<d.length;h++){var p=d[h];if(s(c,p))break;if(o.isTag(p)&&n(p))return!0}return!1};case Qa.SelectorType.Adjacent:return o.prevElementSibling?function(c){var d=o.prevElementSibling(c);return d!=null&&n(d)}:function(c){for(var d=o.getSiblings(c),h,p=0;p<d.length;p++){var v=d[p];if(s(c,v))break;o.isTag(v)&&(h=v)}return!!h&&n(h)};case Qa.SelectorType.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return n}}}BI.compileGeneralSelector=Itt;var xtt=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ltt=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Ntt=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&xtt(e,n,t);return Ltt(e,n),e},Ott=ae&&ae.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(uh,"__esModule",{value:!0});uh.compileToken=uh.compileUnsafe=uh.compile=void 0;var vc=GC,jf=Ott(Sg),lF=Ntt(Z_),ktt=BI,Cce=UI;function Rtt(n,e,t){var r=wce(n,e,t);return(0,Cce.ensureIsTag)(r,e.adapter)}uh.compile=Rtt;function wce(n,e,t){var r=typeof n=="string"?(0,vc.parse)(n):n;return y9(r,e,t)}uh.compileUnsafe=wce;function Ece(n){return n.type===vc.SelectorType.Pseudo&&(n.name==="scope"||Array.isArray(n.data)&&n.data.some(function(e){return e.some(Ece)}))}var Ptt={type:vc.SelectorType.Descendant},Mtt={type:"_flexibleDescendant"},Ftt={type:vc.SelectorType.Pseudo,name:"scope",data:null};function Btt(n,e,t){for(var r=e.adapter,i=!!(t!=null&&t.every(function(u){var l=r.isTag(u)&&r.getParent(u);return u===Cce.PLACEHOLDER_ELEMENT||l&&r.isTag(l)})),o=0,s=n;o<s.length;o++){var a=s[o];if(!(a.length>0&&(0,lF.isTraversal)(a[0])&&a[0].type!==vc.SelectorType.Descendant))if(i&&!a.some(Ece))a.unshift(Ptt);else continue;a.unshift(Ftt)}}function y9(n,e,t){var r;n.forEach(lF.default),t=(r=e.context)!==null&&r!==void 0?r:t;var i=Array.isArray(t),o=t&&(Array.isArray(t)?t:[t]);if(e.relativeSelector!==!1)Btt(n,e,o);else if(n.some(function(u){return u.length>0&&(0,lF.isTraversal)(u[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var s=!1,a=n.map(function(u){if(u.length>=2){var l=u[0],c=u[1];l.type!==vc.SelectorType.Pseudo||l.name!=="scope"||(i&&c.type===vc.SelectorType.Descendant?u[1]=Mtt:(c.type===vc.SelectorType.Adjacent||c.type===vc.SelectorType.Sibling)&&(s=!0))}return Htt(u,e,o)}).reduce(Vtt,jf.default.falseFunc);return a.shouldTestNextSiblings=s,a}uh.compileToken=y9;function Htt(n,e,t){var r;return n.reduce(function(i,o){return i===jf.default.falseFunc?jf.default.falseFunc:(0,ktt.compileGeneralSelector)(i,o,e,t,y9)},(r=e.rootFunc)!==null&&r!==void 0?r:jf.default.trueFunc)}function Vtt(n,e){return e===jf.default.falseFunc||n===jf.default.trueFunc?n:n===jf.default.falseFunc||e===jf.default.trueFunc?e:function(r){return n(r)||e(r)}}(function(n){var e=ae&&ae.__createBinding||(Object.create?function(C,E,T,A){A===void 0&&(A=T);var S=Object.getOwnPropertyDescriptor(E,T);(!S||("get"in S?!E.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return E[T]}}),Object.defineProperty(C,A,S)}:function(C,E,T,A){A===void 0&&(A=T),C[A]=E[T]}),t=ae&&ae.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=ae&&ae.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var T in C)T!=="default"&&Object.prototype.hasOwnProperty.call(C,T)&&e(E,C,T);return t(E,C),E},i=ae&&ae.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(n,"__esModule",{value:!0}),n.aliases=n.pseudos=n.filters=n.is=n.selectOne=n.selectAll=n.prepareContext=n._compileToken=n._compileUnsafe=n.compile=void 0;var o=r(Cu),s=i(Sg),a=uh,u=UI,l=function(C,E){return C===E},c={adapter:o,equals:l};function d(C){var E,T,A,S,N=C??c;return(E=N.adapter)!==null&&E!==void 0||(N.adapter=o),(T=N.equals)!==null&&T!==void 0||(N.equals=(S=(A=N.adapter)===null||A===void 0?void 0:A.equals)!==null&&S!==void 0?S:l),N}function h(C){return function(T,A,S){var N=d(A);return C(T,N,S)}}n.compile=h(a.compile),n._compileUnsafe=h(a.compileUnsafe),n._compileToken=h(a.compileToken);function p(C){return function(T,A,S){var N=d(S);typeof T!="function"&&(T=(0,a.compileUnsafe)(T,N,A));var k=v(A,N.adapter,T.shouldTestNextSiblings);return C(T,k,N)}}function v(C,E,T){return T===void 0&&(T=!1),T&&(C=m(C,E)),Array.isArray(C)?E.removeSubsets(C):E.getChildren(C)}n.prepareContext=v;function m(C,E){for(var T=Array.isArray(C)?C.slice(0):[C],A=T.length,S=0;S<A;S++){var N=(0,u.getNextSiblings)(T[S],E);T.push.apply(T,N)}return T}n.selectAll=p(function(C,E,T){return C===s.default.falseFunc||!E||E.length===0?[]:T.adapter.findAll(C,E)}),n.selectOne=p(function(C,E,T){return C===s.default.falseFunc||!E||E.length===0?null:T.adapter.findOne(C,E)});function _(C,E,T){var A=d(T);return(typeof E=="function"?E:(0,a.compile)(E,A))(C)}n.is=_,n.default=n.selectAll;var b=_9;Object.defineProperty(n,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(n,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(n,"aliases",{enumerable:!0,get:function(){return b.aliases}})})(uF);var s_={},b9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLimit=n.isFilter=n.filterNames=void 0,n.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function e(r){return r.type!=="pseudo"?!1:n.filterNames.has(r.name)?!0:r.name==="not"&&Array.isArray(r.data)?r.data.some(function(i){return i.some(e)}):!1}n.isFilter=e;function t(r,i,o){var s=i!=null?parseInt(i,10):NaN;switch(r){case"first":return 1;case"nth":case"eq":return isFinite(s)?s>=0?s+1:1/0:0;case"lt":return isFinite(s)?s>=0?Math.min(s,o):1/0:0;case"gt":return isFinite(s)?1/0:0;case"odd":return 2*o;case"even":return 2*o-1;case"last":case"not":return 1/0}}n.getLimit=t})(b9);Object.defineProperty(s_,"__esModule",{value:!0});s_.groupSelectors=s_.getDocumentRoot=void 0;var Wtt=b9;function Utt(n){for(;n.parent;)n=n.parent;return n}s_.getDocumentRoot=Utt;function jtt(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var o=i[r];o.some(Wtt.isFilter)?e.push(o):t.push(o)}return[t,e]}s_.groupSelectors=jtt;(function(n){var e=ae&&ae.__assign||function(){return e=Object.assign||function(L){for(var O,P=1,B=arguments.length;P<B;P++){O=arguments[P];for(var U in O)Object.prototype.hasOwnProperty.call(O,U)&&(L[U]=O[U])}return L},e.apply(this,arguments)},t=ae&&ae.__createBinding||(Object.create?function(L,O,P,B){B===void 0&&(B=P);var U=Object.getOwnPropertyDescriptor(O,P);(!U||("get"in U?!O.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(L,B,U)}:function(L,O,P,B){B===void 0&&(B=P),L[B]=O[P]}),r=ae&&ae.__setModuleDefault||(Object.create?function(L,O){Object.defineProperty(L,"default",{enumerable:!0,value:O})}:function(L,O){L.default=O}),i=ae&&ae.__importStar||function(L){if(L&&L.__esModule)return L;var O={};if(L!=null)for(var P in L)P!=="default"&&Object.prototype.hasOwnProperty.call(L,P)&&t(O,L,P);return r(O,L),O},o=ae&&ae.__spreadArray||function(L,O,P){if(P||arguments.length===2)for(var B=0,U=O.length,$;B<U;B++)($||!(B in O))&&($||($=Array.prototype.slice.call(O,0,B)),$[B]=O[B]);return L.concat($||Array.prototype.slice.call(O))};Object.defineProperty(n,"__esModule",{value:!0}),n.select=n.filter=n.some=n.is=n.aliases=n.pseudos=n.filters=void 0;var s=GC,a=uF,u=i(Cu),l=i(Sg),c=s_,d=b9,h=uF;Object.defineProperty(n,"filters",{enumerable:!0,get:function(){return h.filters}}),Object.defineProperty(n,"pseudos",{enumerable:!0,get:function(){return h.pseudos}}),Object.defineProperty(n,"aliases",{enumerable:!0,get:function(){return h.aliases}});var p={type:s.SelectorType.Universal,namespace:null},v={type:s.SelectorType.Pseudo,name:"scope",data:null};function m(L,O,P){return P===void 0&&(P={}),_([L],O,P)}n.is=m;function _(L,O,P){if(P===void 0&&(P={}),typeof O=="function")return L.some(O);var B=(0,c.groupSelectors)((0,s.parse)(O)),U=B[0],$=B[1];return U.length>0&&L.some((0,a._compileToken)(U,P))||$.some(function(ee){return T(ee,L,P).length>0})}n.some=_;function b(L,O,P,B){var U=typeof P=="string"?parseInt(P,10):NaN;switch(L){case"first":case"lt":return O;case"last":return O.length>0?[O[O.length-1]]:O;case"nth":case"eq":return isFinite(U)&&Math.abs(U)<O.length?[U<0?O[O.length+U]:O[U]]:[];case"gt":return isFinite(U)?O.slice(U+1):[];case"even":return O.filter(function(ee,te){return te%2===0});case"odd":return O.filter(function(ee,te){return te%2===1});case"not":{var $=new Set(E(P,O,B));return O.filter(function(ee){return!$.has(ee)})}}}function C(L,O,P){return P===void 0&&(P={}),E((0,s.parse)(L),O,P)}n.filter=C;function E(L,O,P){if(O.length===0)return[];var B=(0,c.groupSelectors)(L),U=B[0],$=B[1],ee;if(U.length){var te=F(O,U,P);if($.length===0)return te;te.length&&(ee=new Set(te))}for(var ne=0;ne<$.length&&(ee==null?void 0:ee.size)!==O.length;ne++){var de=$[ne],ke=ee?O.filter(function(ft){return u.isTag(ft)&&!ee.has(ft)}):O;if(ke.length===0)break;var te=T(de,O,P);if(te.length)if(ee)te.forEach(function(ft){return ee.add(ft)});else{if(ne===$.length-1)return te;ee=new Set(te)}}return typeof ee<"u"?ee.size===O.length?O:O.filter(function(qe){return ee.has(qe)}):[]}function T(L,O,P){var B;if(L.some(s.isTraversal)){var U=(B=P.root)!==null&&B!==void 0?B:(0,c.getDocumentRoot)(O[0]),$=e(e({},P),{context:O,relativeSelector:!1});return L.push(v),S(U,L,$,!0,O.length)}return S(O,L,P,!1,O.length)}function A(L,O,P,B){if(P===void 0&&(P={}),B===void 0&&(B=1/0),typeof L=="function")return k(O,L);var U=(0,c.groupSelectors)((0,s.parse)(L)),$=U[0],ee=U[1],te=ee.map(function(ne){return S(O,ne,P,!0,B)});return $.length&&te.push(N(O,$,P,B)),te.length===0?[]:te.length===1?te[0]:u.uniqueSort(te.reduce(function(ne,de){return o(o([],ne,!0),de,!0)}))}n.select=A;function S(L,O,P,B,U){var $=O.findIndex(d.isFilter),ee=O.slice(0,$),te=O[$],ne=O.length-1===$?U:1/0,de=(0,d.getLimit)(te.name,te.data,ne);if(de===0)return[];var ke=ee.length===0&&!Array.isArray(L)?u.getChildren(L).filter(u.isTag):ee.length===0?(Array.isArray(L)?L:[L]).filter(u.isTag):B||ee.some(s.isTraversal)?N(L,[ee],P,de):F(L,[ee],P),qe=ke.slice(0,de),ft=b(te.name,qe,te.data,P);if(ft.length===0||O.length===$+1)return ft;var ze=O.slice($+1),dt=ze.some(s.isTraversal);if(dt){if((0,s.isTraversal)(ze[0])){var vi=ze[0].type;(vi===s.SelectorType.Sibling||vi===s.SelectorType.Adjacent)&&(ft=(0,a.prepareContext)(ft,u,!0)),ze.unshift(p)}P=e(e({},P),{relativeSelector:!1,rootFunc:function(q){return ft.includes(q)}})}else P.rootFunc&&P.rootFunc!==l.trueFunc&&(P=e(e({},P),{rootFunc:l.trueFunc}));return ze.some(d.isFilter)?S(ft,ze,P,!1,U):dt?N(ft,[ze],P,U):F(ft,[ze],P)}function N(L,O,P,B){var U=(0,a._compileToken)(O,P,L);return k(L,U,B)}function k(L,O,P){P===void 0&&(P=1/0);var B=(0,a.prepareContext)(L,u,O.shouldTestNextSiblings);return u.find(function(U){return u.isTag(U)&&O(U)},B,!0,P)}function F(L,O,P){var B=(Array.isArray(L)?L:[L]).filter(u.isTag);if(B.length===0)return B;var U=(0,a._compileToken)(O,P);return U===l.trueFunc?B:B.filter(U)}})(cce);var qtt=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ztt=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Gtt=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&qtt(e,n,t);return ztt(e,n),e},cF=ae&&ae.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty($e,"__esModule",{value:!0});$e.addBack=$e.add=$e.end=$e.slice=$e.index=$e.toArray=$e.get=$e.eq=$e.last=$e.first=$e.has=$e.not=$e.is=$e.filterArray=$e.filter=$e.map=$e.each=$e.contents=$e.children=$e.siblings=$e.prevUntil=$e.prevAll=$e.prev=$e.nextUntil=$e.nextAll=$e.next=$e.closest=$e.parentsUntil=$e.parents=$e.parent=$e.find=void 0;var jI=wo,J_=Gtt(cce),Au=Eg,$tt=Nr,xl=Cu,Ktt=/^\s*[~+]/;function Ytt(n){var e;if(!n)return this._make([]);var t=this.toArray();if(typeof n!="string"){var r=(0,Au.isCheerio)(n)?n.toArray():[n];return this._make(r.filter(function(s){return t.some(function(a){return(0,$tt.contains)(a,s)})}))}var i=Ktt.test(n)?t:this.children().toArray(),o={context:t,root:(e=this._root)===null||e===void 0?void 0:e[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(J_.select(n,i,o))}$e.find=Ytt;function C9(n){return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(i){var o,s=n(e,this);return i&&(s=S9(s,i,this.options.xmlMode,(o=this._root)===null||o===void 0?void 0:o[0])),this._make(this.length>1&&s.length>1?t.reduce(function(a,u){return u(a)},s):s)}}}var $C=C9(function(n,e){for(var t,r=[],i=0;i<e.length;i++){var o=n(e[i]);r.push(o)}return(t=new Array).concat.apply(t,r)}),w9=C9(function(n,e){for(var t=[],r=0;r<e.length;r++){var i=n(e[r]);i!==null&&t.push(i)}return t});function E9(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=null,i=C9(function(o,s){var a=[];return(0,Au.domEach)(s,function(u){for(var l;(l=o(u))&&!(r!=null&&r(l,a.length));u=l)a.push(l)}),a}).apply(void 0,cF([n],e,!1));return function(o,s){var a=this;r=typeof o=="string"?function(l){return J_.is(l,o,a.options)}:o?KC(o):null;var u=i.call(this,s);return r=null,u}}function e0(n){return Array.from(new Set(n))}$e.parent=w9(function(n){var e=n.parent;return e&&!(0,jI.isDocument)(e)?e:null},e0);$e.parents=$C(function(n){for(var e=[];n.parent&&!(0,jI.isDocument)(n.parent);)e.push(n.parent),n=n.parent;return e},xl.uniqueSort,function(n){return n.reverse()});$e.parentsUntil=E9(function(n){var e=n.parent;return e&&!(0,jI.isDocument)(e)?e:null},xl.uniqueSort,function(n){return n.reverse()});function Xtt(n){var e,t=[];if(!n)return this._make(t);var r={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},i=typeof n=="string"?function(o){return J_.is(o,n,r)}:KC(n);return(0,Au.domEach)(this,function(o){for(;o&&(0,Au.isTag)(o);){if(i(o,0)){t.includes(o)||t.push(o);break}o=o.parent}}),this._make(t)}$e.closest=Xtt;$e.next=w9(function(n){return(0,xl.nextElementSibling)(n)});$e.nextAll=$C(function(n){for(var e=[];n.next;)n=n.next,(0,Au.isTag)(n)&&e.push(n);return e},e0);$e.nextUntil=E9(function(n){return(0,xl.nextElementSibling)(n)},e0);$e.prev=w9(function(n){return(0,xl.prevElementSibling)(n)});$e.prevAll=$C(function(n){for(var e=[];n.prev;)n=n.prev,(0,Au.isTag)(n)&&e.push(n);return e},e0);$e.prevUntil=E9(function(n){return(0,xl.prevElementSibling)(n)},e0);$e.siblings=$C(function(n){return(0,xl.getSiblings)(n).filter(function(e){return(0,Au.isTag)(e)&&e!==n})},xl.uniqueSort);$e.children=$C(function(n){return(0,xl.getChildren)(n).filter(Au.isTag)},e0);function Qtt(){var n=this.toArray().reduce(function(e,t){return(0,jI.hasChildren)(t)?e.concat(t.children):e},[]);return this._make(n)}$e.contents=Qtt;function Ztt(n){for(var e=0,t=this.length;e<t&&n.call(this[e],e,this[e])!==!1;)++e;return this}$e.each=Ztt;function Jtt(n){for(var e=[],t=0;t<this.length;t++){var r=this[t],i=n.call(r,t,r);i!=null&&(e=e.concat(i))}return this._make(e)}$e.map=Jtt;function KC(n){return typeof n=="function"?function(e,t){return n.call(e,t,e)}:(0,Au.isCheerio)(n)?function(e){return Array.prototype.includes.call(n,e)}:function(e){return n===e}}function ent(n){var e;return this._make(S9(this.toArray(),n,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}$e.filter=ent;function S9(n,e,t,r){return typeof e=="string"?J_.filter(e,n,{xmlMode:t,root:r}):n.filter(KC(e))}$e.filterArray=S9;function tnt(n){var e=this.toArray();return typeof n=="string"?J_.some(e.filter(Au.isTag),n,this.options):n?e.some(KC(n)):!1}$e.is=tnt;function nnt(n){var e=this.toArray();if(typeof n=="string"){var t=new Set(J_.filter(n,e,this.options));e=e.filter(function(i){return!t.has(i)})}else{var r=KC(n);e=e.filter(function(i,o){return!r(i,o)})}return this._make(e)}$e.not=nnt;function rnt(n){var e=this;return this.filter(typeof n=="string"?":has(".concat(n,")"):function(t,r){return e._make(r).find(n).length>0})}$e.has=rnt;function int(){return this.length>1?this._make(this[0]):this}$e.first=int;function ont(){return this.length>0?this._make(this[this.length-1]):this}$e.last=ont;function snt(n){var e;return n=+n,n===0&&this.length<=1?this:(n<0&&(n=this.length+n),this._make((e=this[n])!==null&&e!==void 0?e:[]))}$e.eq=snt;function ant(n){return n==null?this.toArray():this[n<0?this.length+n:n]}$e.get=ant;function unt(){return Array.prototype.slice.call(this)}$e.toArray=unt;function lnt(n){var e,t;return n==null?(e=this.parent().children(),t=this[0]):typeof n=="string"?(e=this._make(n),t=this[0]):(e=this,t=(0,Au.isCheerio)(n)?n[0]:n),Array.prototype.indexOf.call(e,t)}$e.index=lnt;function cnt(n,e){return this._make(Array.prototype.slice.call(this,n,e))}$e.slice=cnt;function fnt(){var n;return(n=this.prevObject)!==null&&n!==void 0?n:this._make([])}$e.end=fnt;function hnt(n,e){var t=this._make(n,e),r=(0,xl.uniqueSort)(cF(cF([],this.get(),!0),t.get(),!0));return this._make(r)}$e.add=hnt;function dnt(n){return this.prevObject?this.add(n?this.prevObject.filter(n):this.prevObject):this}$e.addBack=dnt;var Lt={},Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.update=Kp.getParse=void 0;var pnt=Cu,uY=wo;function gnt(n){return function(t,r,i,o){if(typeof Buffer<"u"&&Buffer.isBuffer(t)&&(t=t.toString()),typeof t=="string")return n(t,r,i,o);var s=t;if(!Array.isArray(s)&&(0,uY.isDocument)(s))return s;var a=new uY.Document([]);return Sce(s,a),a}}Kp.getParse=gnt;function Sce(n,e){var t=Array.isArray(n)?n:[n];e?e.children=t:e=null;for(var r=0;r<t.length;r++){var i=t[r];i.parent&&i.parent.children!==t&&(0,pnt.removeElement)(i),e?(i.prev=t[r-1]||null,i.next=t[r+1]||null):i.prev=i.next=null,i.parent=e}return e}Kp.update=Sce;var vnt=ae&&ae.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.clone=Lt.text=Lt.toString=Lt.html=Lt.empty=Lt.replaceWith=Lt.remove=Lt.insertBefore=Lt.before=Lt.insertAfter=Lt.after=Lt.wrapAll=Lt.unwrap=Lt.wrapInner=Lt.wrap=Lt.prepend=Lt.append=Lt.prependTo=Lt.appendTo=Lt._makeDomArray=void 0;var Ll=wo,a_=Kp,lY=Nr,li=Eg,mnt=Cu;function _nt(n,e){var t=this;return n==null?[]:(0,li.isCheerio)(n)?e?(0,li.cloneDom)(n.get()):n.get():Array.isArray(n)?n.reduce(function(r,i){return r.concat(t._makeDomArray(i,e))},[]):typeof n=="string"?this._parse(n,this.options,!1,null).children:e?(0,li.cloneDom)([n]):[n]}Lt._makeDomArray=_nt;function Tce(n){return function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.length-1;return(0,li.domEach)(this,function(o,s){if((0,Ll.hasChildren)(o)){var a=typeof t[0]=="function"?t[0].call(o,s,e._render(o.children)):t,u=e._makeDomArray(a,s<i);n(u,o.children,o)}})}}function zh(n,e,t,r,i){for(var o,s,a=vnt([e,t],r,!0),u=e===0?null:n[e-1],l=e+t>=n.length?null:n[e+t],c=0;c<r.length;++c){var d=r[c],h=d.parent;if(h){var p=h.children,v=p.indexOf(d);v>-1&&(h.children.splice(v,1),i===h&&e>v&&a[0]--)}d.parent=i,d.prev&&(d.prev.next=(o=d.next)!==null&&o!==void 0?o:null),d.next&&(d.next.prev=(s=d.prev)!==null&&s!==void 0?s:null),d.prev=c===0?u:r[c-1],d.next=c===r.length-1?l:r[c+1]}return u&&(u.next=r[0]),l&&(l.prev=r[r.length-1]),n.splice.apply(n,a)}function ynt(n){var e=(0,li.isCheerio)(n)?n:this._make(n);return e.append(this),this}Lt.appendTo=ynt;function bnt(n){var e=(0,li.isCheerio)(n)?n:this._make(n);return e.prepend(this),this}Lt.prependTo=bnt;Lt.append=Tce(function(n,e,t){zh(e,e.length,0,n,t)});Lt.prepend=Tce(function(n,e,t){zh(e,0,0,n,t)});function Dce(n){return function(e){for(var t=this.length-1,r=this.parents().last(),i=0;i<this.length;i++){var o=this[i],s=typeof e=="function"?e.call(o,i,o):typeof e=="string"&&!(0,li.isHtml)(e)?r.find(e).clone():e,a=this._makeDomArray(s,i<t)[0];if(!(!a||!(0,Ll.hasChildren)(a))){for(var u=a,l=0;l<u.children.length;){var c=u.children[l];(0,li.isTag)(c)?(u=c,l=0):l++}n(o,u,[a])}}return this}}Lt.wrap=Dce(function(n,e,t){var r=n.parent;if(r){var i=r.children,o=i.indexOf(n);(0,a_.update)([n],e),zh(i,o,0,t,r)}});Lt.wrapInner=Dce(function(n,e,t){(0,Ll.hasChildren)(n)&&((0,a_.update)(n.children,e),(0,a_.update)(t,n))});function Cnt(n){var e=this;return this.parent(n).not("body").each(function(t,r){e._make(r).replaceWith(r.children)}),this}Lt.unwrap=Cnt;function wnt(n){var e=this[0];if(e){for(var t=this._make(typeof n=="function"?n.call(e,0,e):n).insertBefore(e),r=void 0,i=0;i<t.length;i++)t[i].type==="tag"&&(r=t[i]);for(var o=0;r&&o<r.children.length;){var s=r.children[o];s.type==="tag"?(r=s,o=0):o++}r&&this._make(r).append(this)}return this}Lt.wrapAll=wnt;function Ent(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.length-1;return(0,li.domEach)(this,function(i,o){var s=i.parent;if(!(!(0,Ll.hasChildren)(i)||!s)){var a=s.children,u=a.indexOf(i);if(!(u<0)){var l=typeof e[0]=="function"?e[0].call(i,o,n._render(i.children)):e,c=n._makeDomArray(l,o<r);zh(a,u+1,0,c,s)}}})}Lt.after=Ent;function Snt(n){var e=this;typeof n=="string"&&(n=this._make(n)),this.remove();var t=[];return this._makeDomArray(n).forEach(function(r){var i=e.clone().toArray(),o=r.parent;if(o){var s=o.children,a=s.indexOf(r);a<0||(zh(s,a+1,0,i,o),t.push.apply(t,i))}}),this._make(t)}Lt.insertAfter=Snt;function Tnt(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.length-1;return(0,li.domEach)(this,function(i,o){var s=i.parent;if(!(!(0,Ll.hasChildren)(i)||!s)){var a=s.children,u=a.indexOf(i);if(!(u<0)){var l=typeof e[0]=="function"?e[0].call(i,o,n._render(i.children)):e,c=n._makeDomArray(l,o<r);zh(a,u,0,c,s)}}})}Lt.before=Tnt;function Dnt(n){var e=this,t=this._make(n);this.remove();var r=[];return(0,li.domEach)(t,function(i){var o=e.clone().toArray(),s=i.parent;if(s){var a=s.children,u=a.indexOf(i);u<0||(zh(a,u,0,o,s),r.push.apply(r,o))}}),this._make(r)}Lt.insertBefore=Dnt;function Ant(n){var e=n?this.filter(n):this;return(0,li.domEach)(e,function(t){(0,mnt.removeElement)(t),t.prev=t.next=t.parent=null}),this}Lt.remove=Ant;function Int(n){var e=this;return(0,li.domEach)(this,function(t,r){var i=t.parent;if(i){var o=i.children,s=typeof n=="function"?n.call(t,r,t):n,a=e._makeDomArray(s);(0,a_.update)(a,null);var u=o.indexOf(t);zh(o,u,1,a,i),a.includes(t)||(t.parent=t.prev=t.next=null)}})}Lt.replaceWith=Int;function xnt(){return(0,li.domEach)(this,function(n){(0,Ll.hasChildren)(n)&&(n.children.forEach(function(e){e.next=e.prev=e.parent=null}),n.children.length=0)})}Lt.empty=xnt;function Lnt(n){var e=this;if(n===void 0){var t=this[0];return!t||!(0,Ll.hasChildren)(t)?null:this._render(t.children)}return(0,li.domEach)(this,function(r){if((0,Ll.hasChildren)(r)){r.children.forEach(function(o){o.next=o.prev=o.parent=null});var i=(0,li.isCheerio)(n)?n.toArray():e._parse("".concat(n),e.options,!1,r).children;(0,a_.update)(i,r)}})}Lt.html=Lnt;function Nnt(){return this._render(this)}Lt.toString=Nnt;function Ont(n){var e=this;return n===void 0?(0,lY.text)(this):typeof n=="function"?(0,li.domEach)(this,function(t,r){return e._make(t).text(n.call(t,r,(0,lY.text)([t])))}):(0,li.domEach)(this,function(t){if((0,Ll.hasChildren)(t)){t.children.forEach(function(i){i.next=i.prev=i.parent=null});var r=new Ll.Text("".concat(n));(0,a_.update)(r,t)}})}Lt.text=Ont;function knt(){return this._make((0,li.cloneDom)(this.get()))}Lt.clone=knt;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.css=void 0;var fF=Eg;function Rnt(n,e){if(n!=null&&e!=null||typeof n=="object"&&!Array.isArray(n))return(0,fF.domEach)(this,function(t,r){(0,fF.isTag)(t)&&Ace(t,n,e,r)});if(this.length!==0)return Ice(this[0],n)}qI.css=Rnt;function Ace(n,e,t,r){if(typeof e=="string"){var i=Ice(n),o=typeof t=="function"?t.call(n,r,i[e]):t;o===""?delete i[e]:o!=null&&(i[e]=o),n.attribs.style=Pnt(i)}else typeof e=="object"&&Object.keys(e).forEach(function(s,a){Ace(n,s,e[s],a)})}function Ice(n,e){if(!(!n||!(0,fF.isTag)(n))){var t=Mnt(n.attribs.style);if(typeof e=="string")return t[e];if(Array.isArray(e)){var r={};return e.forEach(function(i){t[i]!=null&&(r[i]=t[i])}),r}return t}}function Pnt(n){return Object.keys(n).reduce(function(e,t){return"".concat(e).concat(e?" ":"").concat(t,": ").concat(n[t],";")},"")}function Mnt(n){if(n=(n||"").trim(),!n)return{};for(var e={},t,r=0,i=n.split(";");r<i.length;r++){var o=i[r],s=o.indexOf(":");if(s<1||s===o.length-1){var a=o.trimEnd();a.length>0&&t!==void 0&&(e[t]+=";".concat(a))}else t=o.slice(0,s).trim(),e[t]=o.slice(s+1).trim()}return e}var u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.serializeArray=u_.serialize=void 0;var Fnt=Eg,cY="input,select,textarea,keygen",Bnt=/%20/g,fY=/\r?\n/g;function Hnt(){var n=this.serializeArray(),e=n.map(function(t){return"".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(t.value))});return e.join("&").replace(Bnt,"+")}u_.serialize=Hnt;function Vnt(){var n=this;return this.map(function(e,t){var r=n._make(t);return(0,Fnt.isTag)(t)&&t.name==="form"?r.find(cY).toArray():r.filter(cY).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(e,t){var r,i=n._make(t),o=i.attr("name"),s=(r=i.val())!==null&&r!==void 0?r:"";return Array.isArray(s)?s.map(function(a){return{name:o,value:a.replace(fY,`\r
`)}}):{name:o,value:s.replace(fY,`\r
`)}}).toArray()}u_.serializeArray=Vnt;var Wnt=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Unt=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),YC=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Wnt(e,n,t);return Unt(e,n),e};Object.defineProperty(FI,"__esModule",{value:!0});FI.Cheerio=void 0;var jnt=YC(Vr),qnt=YC($e),znt=YC(Lt),Gnt=YC(qI),$nt=YC(u_),XC=function(){function n(e,t,r){if(this.length=0,this.options=r,this._root=t,e){for(var i=0;i<e.length;i++)this[i]=e[i];this.length=e.length}}return n}();FI.Cheerio=XC;XC.prototype.cheerio="[cheerio object]";XC.prototype.splice=Array.prototype.splice;XC.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(XC.prototype,jnt,qnt,znt,Gnt,$nt);var Knt=ae&&ae.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qv=ae&&ae.__assign||function(){return qv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qv.apply(this,arguments)},Ynt=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Xnt=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),xce=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Ynt(e,n,t);return Xnt(e,n),e};Object.defineProperty(LI,"__esModule",{value:!0});LI.getLoad=void 0;var dR=xce(Y_),Qnt=xce(Nr),Znt=FI,vy=Eg;function Jnt(n,e){return function t(r,i,o){if(o===void 0&&(o=!0),r==null)throw new Error("cheerio.load() expects a string");var s=qv(qv({},dR.default),(0,dR.flatten)(i)),a=n(r,s,o,null),u=function(c){Knt(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.prototype._make=function(h,p){var v=l(h,p);return v.prevObject=this,v},d.prototype._parse=function(h,p,v,m){return n(h,p,v,m)},d.prototype._render=function(h){return e(h,this.options)},d}(Znt.Cheerio);function l(c,d,h,p){if(h===void 0&&(h=a),c&&(0,vy.isCheerio)(c))return c;var v=qv(qv({},s),(0,dR.flatten)(p)),m=typeof h=="string"?[n(h,v,!1,null)]:"length"in h?h:[h],_=(0,vy.isCheerio)(m)?m:new u(m,null,v);if(_._root=_,!c)return new u(void 0,_,v);var b=typeof c=="string"&&(0,vy.isHtml)(c)?n(c,v,!1,null).children:ert(c)?[c]:Array.isArray(c)?c:void 0,C=new u(b,_,v);if(b)return C;if(typeof c!="string")throw new Error("Unexpected type of selector");var E=c,T=d?typeof d=="string"?(0,vy.isHtml)(d)?new u([n(d,v,!1,null)],_,v):(E="".concat(d," ").concat(E),_):(0,vy.isCheerio)(d)?d:new u(Array.isArray(d)?d:[d],_,v):_;return T?T.find(E):C}return Object.assign(l,Qnt,{load:t,_root:a,_options:s,fn:u.prototype,prototype:u.prototype}),l}}LI.getLoad=Jnt;function ert(n){return!!n.name||n.type==="root"||n.type==="text"||n.type==="comment"}var l_={},T9={},k1={},Yp={},zI={},GI={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isUndefinedCodePoint=n.isControlCodePoint=n.getSurrogatePairCodePoint=n.isSurrogatePair=n.isSurrogate=n.SEQUENCES=n.CODE_POINTS=n.REPLACEMENT_CHARACTER=void 0;const e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);n.REPLACEMENT_CHARACTER="",function(a){a[a.EOF=-1]="EOF",a[a.NULL=0]="NULL",a[a.TABULATION=9]="TABULATION",a[a.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",a[a.LINE_FEED=10]="LINE_FEED",a[a.FORM_FEED=12]="FORM_FEED",a[a.SPACE=32]="SPACE",a[a.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",a[a.QUOTATION_MARK=34]="QUOTATION_MARK",a[a.NUMBER_SIGN=35]="NUMBER_SIGN",a[a.AMPERSAND=38]="AMPERSAND",a[a.APOSTROPHE=39]="APOSTROPHE",a[a.HYPHEN_MINUS=45]="HYPHEN_MINUS",a[a.SOLIDUS=47]="SOLIDUS",a[a.DIGIT_0=48]="DIGIT_0",a[a.DIGIT_9=57]="DIGIT_9",a[a.SEMICOLON=59]="SEMICOLON",a[a.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",a[a.EQUALS_SIGN=61]="EQUALS_SIGN",a[a.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",a[a.QUESTION_MARK=63]="QUESTION_MARK",a[a.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",a[a.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",a[a.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",a[a.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",a[a.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",a[a.GRAVE_ACCENT=96]="GRAVE_ACCENT",a[a.LATIN_SMALL_A=97]="LATIN_SMALL_A",a[a.LATIN_SMALL_F=102]="LATIN_SMALL_F",a[a.LATIN_SMALL_X=120]="LATIN_SMALL_X",a[a.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",a[a.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(n.CODE_POINTS||(n.CODE_POINTS={})),n.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function t(a){return a>=55296&&a<=57343}n.isSurrogate=t;function r(a){return a>=56320&&a<=57343}n.isSurrogatePair=r;function i(a,u){return(a-55296)*1024+9216+u}n.getSurrogatePairCodePoint=i;function o(a){return a!==32&&a!==10&&a!==13&&a!==9&&a!==12&&a>=1&&a<=31||a>=127&&a<=159}n.isControlCodePoint=o;function s(a){return a>=64976&&a<=65007||e.has(a)}n.isUndefinedCodePoint=s})(GI);var QC={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERR=void 0,function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(n.ERR||(n.ERR={}))})(QC);Object.defineProperty(zI,"__esModule",{value:!0});zI.Preprocessor=void 0;const Po=GI,pR=QC,trt=65536;class nrt{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=trt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:r,offset:i}=this;return{code:e,startLine:t,endLine:t,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if((0,Po.isSurrogatePair)(t))return this.pos++,this._addGap(),(0,Po.getSurrogatePairCodePoint)(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Po.CODE_POINTS.EOF;return this._err(pR.ERR.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Po.CODE_POINTS.EOF;const r=this.html.charCodeAt(t);return r===Po.CODE_POINTS.CARRIAGE_RETURN?Po.CODE_POINTS.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Po.CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===Po.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Po.CODE_POINTS.LINE_FEED):e===Po.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,Po.isSurrogate)(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===Po.CODE_POINTS.LINE_FEED||e===Po.CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){(0,Po.isControlCodePoint)(e)?this._err(pR.ERR.controlCharacterInInputStream):(0,Po.isUndefinedCodePoint)(e)&&this._err(pR.ERR.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}zI.Preprocessor=nrt;var $I={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenAttr=n.TokenType=void 0,function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"}(n.TokenType||(n.TokenType={}));function e(t,r){for(let i=t.attrs.length-1;i>=0;i--)if(t.attrs[i].name===r)return t.attrs[i].value;return null}n.getTokenAttr=e})($I);var KI={},D9={};Object.defineProperty(D9,"__esModule",{value:!0});D9.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(n){return n.charCodeAt(0)}));var A9={};Object.defineProperty(A9,"__esModule",{value:!0});A9.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(n){return n.charCodeAt(0)}));var hF={};(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var t=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(o){var s="";return o>65535&&(o-=65536,s+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),s+=String.fromCharCode(o),s};function r(o){var s;return o>=55296&&o<=57343||o>1114111?65533:(s=t.get(o))!==null&&s!==void 0?s:o}n.replaceCodePoint=r;function i(o){return(0,n.fromCodePoint)(r(o))}n.default=i})(hF);(function(n){var e=ae&&ae.__createBinding||(Object.create?function(O,P,B,U){U===void 0&&(U=B);var $=Object.getOwnPropertyDescriptor(P,B);(!$||("get"in $?!P.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return P[B]}}),Object.defineProperty(O,U,$)}:function(O,P,B,U){U===void 0&&(U=B),O[U]=P[B]}),t=ae&&ae.__setModuleDefault||(Object.create?function(O,P){Object.defineProperty(O,"default",{enumerable:!0,value:P})}:function(O,P){O.default=P}),r=ae&&ae.__importStar||function(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var B in O)B!=="default"&&Object.prototype.hasOwnProperty.call(O,B)&&e(P,O,B);return t(P,O),P},i=ae&&ae.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var o=i(D9);n.htmlDecodeTree=o.default;var s=i(A9);n.xmlDecodeTree=s.default;var a=r(hF);n.decodeCodePoint=a.default;var u=hF;Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return u.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return u.fromCodePoint}});var l;(function(O){O[O.NUM=35]="NUM",O[O.SEMI=59]="SEMI",O[O.EQUALS=61]="EQUALS",O[O.ZERO=48]="ZERO",O[O.NINE=57]="NINE",O[O.LOWER_A=97]="LOWER_A",O[O.LOWER_F=102]="LOWER_F",O[O.LOWER_X=120]="LOWER_X",O[O.LOWER_Z=122]="LOWER_Z",O[O.UPPER_A=65]="UPPER_A",O[O.UPPER_F=70]="UPPER_F",O[O.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var c=32,d;(function(O){O[O.VALUE_LENGTH=49152]="VALUE_LENGTH",O[O.BRANCH_LENGTH=16256]="BRANCH_LENGTH",O[O.JUMP_TABLE=127]="JUMP_TABLE"})(d=n.BinTrieFlags||(n.BinTrieFlags={}));function h(O){return O>=l.ZERO&&O<=l.NINE}function p(O){return O>=l.UPPER_A&&O<=l.UPPER_F||O>=l.LOWER_A&&O<=l.LOWER_F}function v(O){return O>=l.UPPER_A&&O<=l.UPPER_Z||O>=l.LOWER_A&&O<=l.LOWER_Z||h(O)}function m(O){return O===l.EQUALS||v(O)}var _;(function(O){O[O.EntityStart=0]="EntityStart",O[O.NumericStart=1]="NumericStart",O[O.NumericDecimal=2]="NumericDecimal",O[O.NumericHex=3]="NumericHex",O[O.NamedEntity=4]="NamedEntity"})(_||(_={}));var b;(function(O){O[O.Legacy=0]="Legacy",O[O.Strict=1]="Strict",O[O.Attribute=2]="Attribute"})(b=n.DecodingMode||(n.DecodingMode={}));var C=function(){function O(P,B,U){this.decodeTree=P,this.emitCodePoint=B,this.errors=U,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=b.Strict}return O.prototype.startEntity=function(P){this.decodeMode=P,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},O.prototype.write=function(P,B){switch(this.state){case _.EntityStart:return P.charCodeAt(B)===l.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(P,B+1)):(this.state=_.NamedEntity,this.stateNamedEntity(P,B));case _.NumericStart:return this.stateNumericStart(P,B);case _.NumericDecimal:return this.stateNumericDecimal(P,B);case _.NumericHex:return this.stateNumericHex(P,B);case _.NamedEntity:return this.stateNamedEntity(P,B)}},O.prototype.stateNumericStart=function(P,B){return B>=P.length?-1:(P.charCodeAt(B)|c)===l.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(P,B+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(P,B))},O.prototype.addToNumericResult=function(P,B,U,$){if(B!==U){var ee=U-B;this.result=this.result*Math.pow($,ee)+parseInt(P.substr(B,ee),$),this.consumed+=ee}},O.prototype.stateNumericHex=function(P,B){for(var U=B;B<P.length;){var $=P.charCodeAt(B);if(h($)||p($))B+=1;else return this.addToNumericResult(P,U,B,16),this.emitNumericEntity($,3)}return this.addToNumericResult(P,U,B,16),-1},O.prototype.stateNumericDecimal=function(P,B){for(var U=B;B<P.length;){var $=P.charCodeAt(B);if(h($))B+=1;else return this.addToNumericResult(P,U,B,10),this.emitNumericEntity($,2)}return this.addToNumericResult(P,U,B,10),-1},O.prototype.emitNumericEntity=function(P,B){var U;if(this.consumed<=B)return(U=this.errors)===null||U===void 0||U.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(P===l.SEMI)this.consumed+=1;else if(this.decodeMode===b.Strict)return 0;return this.emitCodePoint((0,a.replaceCodePoint)(this.result),this.consumed),this.errors&&(P!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},O.prototype.stateNamedEntity=function(P,B){for(var U=this.decodeTree,$=U[this.treeIndex],ee=($&d.VALUE_LENGTH)>>14;B<P.length;B++,this.excess++){var te=P.charCodeAt(B);if(this.treeIndex=T(U,$,this.treeIndex+Math.max(1,ee),te),this.treeIndex<0)return this.result===0||this.decodeMode===b.Attribute&&(ee===0||m(te))?0:this.emitNotTerminatedNamedEntity();if($=U[this.treeIndex],ee=($&d.VALUE_LENGTH)>>14,ee!==0){if(te===l.SEMI)return this.emitNamedEntityData(this.treeIndex,ee,this.consumed+this.excess);this.decodeMode!==b.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},O.prototype.emitNotTerminatedNamedEntity=function(){var P,B=this,U=B.result,$=B.decodeTree,ee=($[U]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(U,ee,this.consumed),(P=this.errors)===null||P===void 0||P.missingSemicolonAfterCharacterReference(),this.consumed},O.prototype.emitNamedEntityData=function(P,B,U){var $=this.decodeTree;return this.emitCodePoint(B===1?$[P]&~d.VALUE_LENGTH:$[P+1],U),B===3&&this.emitCodePoint($[P+2],U),U},O.prototype.end=function(){var P;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==b.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},O}();n.EntityDecoder=C;function E(O){var P="",B=new C(O,function(U){return P+=(0,a.fromCodePoint)(U)});return function($,ee){for(var te=0,ne=0;(ne=$.indexOf("&",ne))>=0;){P+=$.slice(te,ne),B.startEntity(ee);var de=B.write($,ne+1);if(de<0){te=ne+B.end();break}te=ne+de,ne=de===0?te+1:te}var ke=P+$.slice(te);return P="",ke}}function T(O,P,B,U){var $=(P&d.BRANCH_LENGTH)>>7,ee=P&d.JUMP_TABLE;if($===0)return ee!==0&&U===ee?B:-1;if(ee){var te=U-ee;return te<0||te>=$?-1:O[B+te]-1}for(var ne=B,de=ne+$-1;ne<=de;){var ke=ne+de>>>1,qe=O[ke];if(qe<U)ne=ke+1;else if(qe>U)de=ke-1;else return O[ke+$]}return-1}n.determineBranch=T;var A=E(o.default),S=E(s.default);function N(O,P){return P===void 0&&(P=b.Legacy),A(O,P)}n.decodeHTML=N;function k(O){return A(O,b.Attribute)}n.decodeHTMLAttribute=k;function F(O){return A(O,b.Strict)}n.decodeHTMLStrict=F;function L(O){return S(O,b.Strict)}n.decodeXML=L})(KI);var $c={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasUnescapedText=n.isNumberedHeader=n.SPECIAL_ELEMENTS=n.getTagID=n.TAG_ID=n.TAG_NAMES=n.DOCUMENT_MODE=n.ATTRS=n.NS=void 0;var e;(function(c){c.HTML="http://www.w3.org/1999/xhtml",c.MATHML="http://www.w3.org/1998/Math/MathML",c.SVG="http://www.w3.org/2000/svg",c.XLINK="http://www.w3.org/1999/xlink",c.XML="http://www.w3.org/XML/1998/namespace",c.XMLNS="http://www.w3.org/2000/xmlns/"})(e=n.NS||(n.NS={})),function(c){c.TYPE="type",c.ACTION="action",c.ENCODING="encoding",c.PROMPT="prompt",c.NAME="name",c.COLOR="color",c.FACE="face",c.SIZE="size"}(n.ATTRS||(n.ATTRS={})),function(c){c.NO_QUIRKS="no-quirks",c.QUIRKS="quirks",c.LIMITED_QUIRKS="limited-quirks"}(n.DOCUMENT_MODE||(n.DOCUMENT_MODE={}));var t;(function(c){c.A="a",c.ADDRESS="address",c.ANNOTATION_XML="annotation-xml",c.APPLET="applet",c.AREA="area",c.ARTICLE="article",c.ASIDE="aside",c.B="b",c.BASE="base",c.BASEFONT="basefont",c.BGSOUND="bgsound",c.BIG="big",c.BLOCKQUOTE="blockquote",c.BODY="body",c.BR="br",c.BUTTON="button",c.CAPTION="caption",c.CENTER="center",c.CODE="code",c.COL="col",c.COLGROUP="colgroup",c.DD="dd",c.DESC="desc",c.DETAILS="details",c.DIALOG="dialog",c.DIR="dir",c.DIV="div",c.DL="dl",c.DT="dt",c.EM="em",c.EMBED="embed",c.FIELDSET="fieldset",c.FIGCAPTION="figcaption",c.FIGURE="figure",c.FONT="font",c.FOOTER="footer",c.FOREIGN_OBJECT="foreignObject",c.FORM="form",c.FRAME="frame",c.FRAMESET="frameset",c.H1="h1",c.H2="h2",c.H3="h3",c.H4="h4",c.H5="h5",c.H6="h6",c.HEAD="head",c.HEADER="header",c.HGROUP="hgroup",c.HR="hr",c.HTML="html",c.I="i",c.IMG="img",c.IMAGE="image",c.INPUT="input",c.IFRAME="iframe",c.KEYGEN="keygen",c.LABEL="label",c.LI="li",c.LINK="link",c.LISTING="listing",c.MAIN="main",c.MALIGNMARK="malignmark",c.MARQUEE="marquee",c.MATH="math",c.MENU="menu",c.META="meta",c.MGLYPH="mglyph",c.MI="mi",c.MO="mo",c.MN="mn",c.MS="ms",c.MTEXT="mtext",c.NAV="nav",c.NOBR="nobr",c.NOFRAMES="noframes",c.NOEMBED="noembed",c.NOSCRIPT="noscript",c.OBJECT="object",c.OL="ol",c.OPTGROUP="optgroup",c.OPTION="option",c.P="p",c.PARAM="param",c.PLAINTEXT="plaintext",c.PRE="pre",c.RB="rb",c.RP="rp",c.RT="rt",c.RTC="rtc",c.RUBY="ruby",c.S="s",c.SCRIPT="script",c.SECTION="section",c.SELECT="select",c.SOURCE="source",c.SMALL="small",c.SPAN="span",c.STRIKE="strike",c.STRONG="strong",c.STYLE="style",c.SUB="sub",c.SUMMARY="summary",c.SUP="sup",c.TABLE="table",c.TBODY="tbody",c.TEMPLATE="template",c.TEXTAREA="textarea",c.TFOOT="tfoot",c.TD="td",c.TH="th",c.THEAD="thead",c.TITLE="title",c.TR="tr",c.TRACK="track",c.TT="tt",c.U="u",c.UL="ul",c.SVG="svg",c.VAR="var",c.WBR="wbr",c.XMP="xmp"})(t=n.TAG_NAMES||(n.TAG_NAMES={}));var r;(function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.A=1]="A",c[c.ADDRESS=2]="ADDRESS",c[c.ANNOTATION_XML=3]="ANNOTATION_XML",c[c.APPLET=4]="APPLET",c[c.AREA=5]="AREA",c[c.ARTICLE=6]="ARTICLE",c[c.ASIDE=7]="ASIDE",c[c.B=8]="B",c[c.BASE=9]="BASE",c[c.BASEFONT=10]="BASEFONT",c[c.BGSOUND=11]="BGSOUND",c[c.BIG=12]="BIG",c[c.BLOCKQUOTE=13]="BLOCKQUOTE",c[c.BODY=14]="BODY",c[c.BR=15]="BR",c[c.BUTTON=16]="BUTTON",c[c.CAPTION=17]="CAPTION",c[c.CENTER=18]="CENTER",c[c.CODE=19]="CODE",c[c.COL=20]="COL",c[c.COLGROUP=21]="COLGROUP",c[c.DD=22]="DD",c[c.DESC=23]="DESC",c[c.DETAILS=24]="DETAILS",c[c.DIALOG=25]="DIALOG",c[c.DIR=26]="DIR",c[c.DIV=27]="DIV",c[c.DL=28]="DL",c[c.DT=29]="DT",c[c.EM=30]="EM",c[c.EMBED=31]="EMBED",c[c.FIELDSET=32]="FIELDSET",c[c.FIGCAPTION=33]="FIGCAPTION",c[c.FIGURE=34]="FIGURE",c[c.FONT=35]="FONT",c[c.FOOTER=36]="FOOTER",c[c.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",c[c.FORM=38]="FORM",c[c.FRAME=39]="FRAME",c[c.FRAMESET=40]="FRAMESET",c[c.H1=41]="H1",c[c.H2=42]="H2",c[c.H3=43]="H3",c[c.H4=44]="H4",c[c.H5=45]="H5",c[c.H6=46]="H6",c[c.HEAD=47]="HEAD",c[c.HEADER=48]="HEADER",c[c.HGROUP=49]="HGROUP",c[c.HR=50]="HR",c[c.HTML=51]="HTML",c[c.I=52]="I",c[c.IMG=53]="IMG",c[c.IMAGE=54]="IMAGE",c[c.INPUT=55]="INPUT",c[c.IFRAME=56]="IFRAME",c[c.KEYGEN=57]="KEYGEN",c[c.LABEL=58]="LABEL",c[c.LI=59]="LI",c[c.LINK=60]="LINK",c[c.LISTING=61]="LISTING",c[c.MAIN=62]="MAIN",c[c.MALIGNMARK=63]="MALIGNMARK",c[c.MARQUEE=64]="MARQUEE",c[c.MATH=65]="MATH",c[c.MENU=66]="MENU",c[c.META=67]="META",c[c.MGLYPH=68]="MGLYPH",c[c.MI=69]="MI",c[c.MO=70]="MO",c[c.MN=71]="MN",c[c.MS=72]="MS",c[c.MTEXT=73]="MTEXT",c[c.NAV=74]="NAV",c[c.NOBR=75]="NOBR",c[c.NOFRAMES=76]="NOFRAMES",c[c.NOEMBED=77]="NOEMBED",c[c.NOSCRIPT=78]="NOSCRIPT",c[c.OBJECT=79]="OBJECT",c[c.OL=80]="OL",c[c.OPTGROUP=81]="OPTGROUP",c[c.OPTION=82]="OPTION",c[c.P=83]="P",c[c.PARAM=84]="PARAM",c[c.PLAINTEXT=85]="PLAINTEXT",c[c.PRE=86]="PRE",c[c.RB=87]="RB",c[c.RP=88]="RP",c[c.RT=89]="RT",c[c.RTC=90]="RTC",c[c.RUBY=91]="RUBY",c[c.S=92]="S",c[c.SCRIPT=93]="SCRIPT",c[c.SECTION=94]="SECTION",c[c.SELECT=95]="SELECT",c[c.SOURCE=96]="SOURCE",c[c.SMALL=97]="SMALL",c[c.SPAN=98]="SPAN",c[c.STRIKE=99]="STRIKE",c[c.STRONG=100]="STRONG",c[c.STYLE=101]="STYLE",c[c.SUB=102]="SUB",c[c.SUMMARY=103]="SUMMARY",c[c.SUP=104]="SUP",c[c.TABLE=105]="TABLE",c[c.TBODY=106]="TBODY",c[c.TEMPLATE=107]="TEMPLATE",c[c.TEXTAREA=108]="TEXTAREA",c[c.TFOOT=109]="TFOOT",c[c.TD=110]="TD",c[c.TH=111]="TH",c[c.THEAD=112]="THEAD",c[c.TITLE=113]="TITLE",c[c.TR=114]="TR",c[c.TRACK=115]="TRACK",c[c.TT=116]="TT",c[c.U=117]="U",c[c.UL=118]="UL",c[c.SVG=119]="SVG",c[c.VAR=120]="VAR",c[c.WBR=121]="WBR",c[c.XMP=122]="XMP"})(r=n.TAG_ID||(n.TAG_ID={}));const i=new Map([[t.A,r.A],[t.ADDRESS,r.ADDRESS],[t.ANNOTATION_XML,r.ANNOTATION_XML],[t.APPLET,r.APPLET],[t.AREA,r.AREA],[t.ARTICLE,r.ARTICLE],[t.ASIDE,r.ASIDE],[t.B,r.B],[t.BASE,r.BASE],[t.BASEFONT,r.BASEFONT],[t.BGSOUND,r.BGSOUND],[t.BIG,r.BIG],[t.BLOCKQUOTE,r.BLOCKQUOTE],[t.BODY,r.BODY],[t.BR,r.BR],[t.BUTTON,r.BUTTON],[t.CAPTION,r.CAPTION],[t.CENTER,r.CENTER],[t.CODE,r.CODE],[t.COL,r.COL],[t.COLGROUP,r.COLGROUP],[t.DD,r.DD],[t.DESC,r.DESC],[t.DETAILS,r.DETAILS],[t.DIALOG,r.DIALOG],[t.DIR,r.DIR],[t.DIV,r.DIV],[t.DL,r.DL],[t.DT,r.DT],[t.EM,r.EM],[t.EMBED,r.EMBED],[t.FIELDSET,r.FIELDSET],[t.FIGCAPTION,r.FIGCAPTION],[t.FIGURE,r.FIGURE],[t.FONT,r.FONT],[t.FOOTER,r.FOOTER],[t.FOREIGN_OBJECT,r.FOREIGN_OBJECT],[t.FORM,r.FORM],[t.FRAME,r.FRAME],[t.FRAMESET,r.FRAMESET],[t.H1,r.H1],[t.H2,r.H2],[t.H3,r.H3],[t.H4,r.H4],[t.H5,r.H5],[t.H6,r.H6],[t.HEAD,r.HEAD],[t.HEADER,r.HEADER],[t.HGROUP,r.HGROUP],[t.HR,r.HR],[t.HTML,r.HTML],[t.I,r.I],[t.IMG,r.IMG],[t.IMAGE,r.IMAGE],[t.INPUT,r.INPUT],[t.IFRAME,r.IFRAME],[t.KEYGEN,r.KEYGEN],[t.LABEL,r.LABEL],[t.LI,r.LI],[t.LINK,r.LINK],[t.LISTING,r.LISTING],[t.MAIN,r.MAIN],[t.MALIGNMARK,r.MALIGNMARK],[t.MARQUEE,r.MARQUEE],[t.MATH,r.MATH],[t.MENU,r.MENU],[t.META,r.META],[t.MGLYPH,r.MGLYPH],[t.MI,r.MI],[t.MO,r.MO],[t.MN,r.MN],[t.MS,r.MS],[t.MTEXT,r.MTEXT],[t.NAV,r.NAV],[t.NOBR,r.NOBR],[t.NOFRAMES,r.NOFRAMES],[t.NOEMBED,r.NOEMBED],[t.NOSCRIPT,r.NOSCRIPT],[t.OBJECT,r.OBJECT],[t.OL,r.OL],[t.OPTGROUP,r.OPTGROUP],[t.OPTION,r.OPTION],[t.P,r.P],[t.PARAM,r.PARAM],[t.PLAINTEXT,r.PLAINTEXT],[t.PRE,r.PRE],[t.RB,r.RB],[t.RP,r.RP],[t.RT,r.RT],[t.RTC,r.RTC],[t.RUBY,r.RUBY],[t.S,r.S],[t.SCRIPT,r.SCRIPT],[t.SECTION,r.SECTION],[t.SELECT,r.SELECT],[t.SOURCE,r.SOURCE],[t.SMALL,r.SMALL],[t.SPAN,r.SPAN],[t.STRIKE,r.STRIKE],[t.STRONG,r.STRONG],[t.STYLE,r.STYLE],[t.SUB,r.SUB],[t.SUMMARY,r.SUMMARY],[t.SUP,r.SUP],[t.TABLE,r.TABLE],[t.TBODY,r.TBODY],[t.TEMPLATE,r.TEMPLATE],[t.TEXTAREA,r.TEXTAREA],[t.TFOOT,r.TFOOT],[t.TD,r.TD],[t.TH,r.TH],[t.THEAD,r.THEAD],[t.TITLE,r.TITLE],[t.TR,r.TR],[t.TRACK,r.TRACK],[t.TT,r.TT],[t.U,r.U],[t.UL,r.UL],[t.SVG,r.SVG],[t.VAR,r.VAR],[t.WBR,r.WBR],[t.XMP,r.XMP]]);function o(c){var d;return(d=i.get(c))!==null&&d!==void 0?d:r.UNKNOWN}n.getTagID=o;const s=r;n.SPECIAL_ELEMENTS={[e.HTML]:new Set([s.ADDRESS,s.APPLET,s.AREA,s.ARTICLE,s.ASIDE,s.BASE,s.BASEFONT,s.BGSOUND,s.BLOCKQUOTE,s.BODY,s.BR,s.BUTTON,s.CAPTION,s.CENTER,s.COL,s.COLGROUP,s.DD,s.DETAILS,s.DIR,s.DIV,s.DL,s.DT,s.EMBED,s.FIELDSET,s.FIGCAPTION,s.FIGURE,s.FOOTER,s.FORM,s.FRAME,s.FRAMESET,s.H1,s.H2,s.H3,s.H4,s.H5,s.H6,s.HEAD,s.HEADER,s.HGROUP,s.HR,s.HTML,s.IFRAME,s.IMG,s.INPUT,s.LI,s.LINK,s.LISTING,s.MAIN,s.MARQUEE,s.MENU,s.META,s.NAV,s.NOEMBED,s.NOFRAMES,s.NOSCRIPT,s.OBJECT,s.OL,s.P,s.PARAM,s.PLAINTEXT,s.PRE,s.SCRIPT,s.SECTION,s.SELECT,s.SOURCE,s.STYLE,s.SUMMARY,s.TABLE,s.TBODY,s.TD,s.TEMPLATE,s.TEXTAREA,s.TFOOT,s.TH,s.THEAD,s.TITLE,s.TR,s.TRACK,s.UL,s.WBR,s.XMP]),[e.MATHML]:new Set([s.MI,s.MO,s.MN,s.MS,s.MTEXT,s.ANNOTATION_XML]),[e.SVG]:new Set([s.TITLE,s.FOREIGN_OBJECT,s.DESC]),[e.XLINK]:new Set,[e.XML]:new Set,[e.XMLNS]:new Set};function a(c){return c===s.H1||c===s.H2||c===s.H3||c===s.H4||c===s.H5||c===s.H6}n.isNumberedHeader=a;const u=new Set([t.STYLE,t.SCRIPT,t.XMP,t.IFRAME,t.NOEMBED,t.NOFRAMES,t.PLAINTEXT]);function l(c,d){return u.has(c)||d&&c===t.NOSCRIPT}n.hasUnescapedText=l})($c);Object.defineProperty(Yp,"__esModule",{value:!0});Yp.Tokenizer=Yp.TokenizerMode=void 0;const rrt=zI,V=GI,ps=$I,zu=KI,he=QC,gR=$c,irt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var j;(function(n){n[n.DATA=0]="DATA",n[n.RCDATA=1]="RCDATA",n[n.RAWTEXT=2]="RAWTEXT",n[n.SCRIPT_DATA=3]="SCRIPT_DATA",n[n.PLAINTEXT=4]="PLAINTEXT",n[n.TAG_OPEN=5]="TAG_OPEN",n[n.END_TAG_OPEN=6]="END_TAG_OPEN",n[n.TAG_NAME=7]="TAG_NAME",n[n.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",n[n.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",n[n.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",n[n.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",n[n.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",n[n.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",n[n.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",n[n.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",n[n.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",n[n.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",n[n.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",n[n.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",n[n.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",n[n.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",n[n.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",n[n.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",n[n.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",n[n.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",n[n.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",n[n.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",n[n.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",n[n.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",n[n.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",n[n.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",n[n.BOGUS_COMMENT=40]="BOGUS_COMMENT",n[n.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",n[n.COMMENT_START=42]="COMMENT_START",n[n.COMMENT_START_DASH=43]="COMMENT_START_DASH",n[n.COMMENT=44]="COMMENT",n[n.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",n[n.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",n[n.COMMENT_END_DASH=49]="COMMENT_END_DASH",n[n.COMMENT_END=50]="COMMENT_END",n[n.COMMENT_END_BANG=51]="COMMENT_END_BANG",n[n.DOCTYPE=52]="DOCTYPE",n[n.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",n[n.DOCTYPE_NAME=54]="DOCTYPE_NAME",n[n.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",n[n.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",n[n.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",n[n.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",n[n.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",n[n.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",n[n.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",n[n.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",n[n.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",n[n.CDATA_SECTION=68]="CDATA_SECTION",n[n.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",n[n.CDATA_SECTION_END=70]="CDATA_SECTION_END",n[n.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",n[n.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",n[n.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",n[n.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",n[n.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",n[n.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",n[n.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",n[n.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(j||(j={}));Yp.TokenizerMode={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function hb(n){return n>=V.CODE_POINTS.DIGIT_0&&n<=V.CODE_POINTS.DIGIT_9}function xy(n){return n>=V.CODE_POINTS.LATIN_CAPITAL_A&&n<=V.CODE_POINTS.LATIN_CAPITAL_Z}function ort(n){return n>=V.CODE_POINTS.LATIN_SMALL_A&&n<=V.CODE_POINTS.LATIN_SMALL_Z}function yf(n){return ort(n)||xy(n)}function dF(n){return yf(n)||hb(n)}function Lce(n){return n>=V.CODE_POINTS.LATIN_CAPITAL_A&&n<=V.CODE_POINTS.LATIN_CAPITAL_F}function Nce(n){return n>=V.CODE_POINTS.LATIN_SMALL_A&&n<=V.CODE_POINTS.LATIN_SMALL_F}function srt(n){return hb(n)||Lce(n)||Nce(n)}function uS(n){return n+32}function Oce(n){return n===V.CODE_POINTS.SPACE||n===V.CODE_POINTS.LINE_FEED||n===V.CODE_POINTS.TABULATION||n===V.CODE_POINTS.FORM_FEED}function art(n){return n===V.CODE_POINTS.EQUALS_SIGN||dF(n)}function hY(n){return Oce(n)||n===V.CODE_POINTS.SOLIDUS||n===V.CODE_POINTS.GREATER_THAN_SIGN}let urt=class{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new rrt.Preprocessor(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,r;(r=(t=this.handler).onParseError)===null||r===void 0||r.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,t,r){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return this.preprocessor.startsWith(e,t)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ps.TokenType.START_TAG,tagName:"",tagID:gR.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ps.TokenType.END_TAG,tagName:"",tagID:gR.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:ps.TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:ps.TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const r=this.currentToken;if((0,ps.getTokenAttr)(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(t=r.location).attrs)!==null&&e!==void 0?e:t.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(he.ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=(0,gR.getTagID)(e.tagName),e.type===ps.TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(he.ERR.endTagWithAttributes),e.selfClosing&&this._err(he.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case ps.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ps.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ps.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:ps.TokenType.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=t;return}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=Oce(e)?ps.TokenType.WHITESPACE_CHARACTER:e===V.CODE_POINTS.NULL?ps.TokenType.NULL_CHARACTER:ps.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(ps.TokenType.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,r=0,i=!1;for(let o=0,s=zu.htmlDecodeTree[0];o>=0&&(o=(0,zu.determineBranch)(zu.htmlDecodeTree,s,o+1,e),!(o<0));e=this._consume()){r+=1,s=zu.htmlDecodeTree[o];const a=s&zu.BinTrieFlags.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(e!==V.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&art(this.preprocessor.peek(1))?(t=[V.CODE_POINTS.AMPERSAND],o+=u):(t=u===0?[zu.htmlDecodeTree[o]&~zu.BinTrieFlags.VALUE_LENGTH]:u===1?[zu.htmlDecodeTree[++o]]:[zu.htmlDecodeTree[++o],zu.htmlDecodeTree[++o]],r=0,i=e!==V.CODE_POINTS.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(he.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case j.DATA:{this._stateData(e);break}case j.RCDATA:{this._stateRcdata(e);break}case j.RAWTEXT:{this._stateRawtext(e);break}case j.SCRIPT_DATA:{this._stateScriptData(e);break}case j.PLAINTEXT:{this._statePlaintext(e);break}case j.TAG_OPEN:{this._stateTagOpen(e);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case j.TAG_NAME:{this._stateTagName(e);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case j.BOGUS_COMMENT:{this._stateBogusComment(e);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case j.COMMENT_START:{this._stateCommentStart(e);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case j.COMMENT:{this._stateComment(e);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case j.COMMENT_END:{this._stateCommentEnd(e);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case j.DOCTYPE:{this._stateDoctype(e);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case j.CDATA_SECTION:{this._stateCdataSection(e);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case j.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case j.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case j.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case j.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case j.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case j.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.DATA,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitCodePoint(e);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case V.CODE_POINTS.AMPERSAND:{this.returnState=j.RCDATA,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(yf(e))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case V.CODE_POINTS.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case V.CODE_POINTS.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case V.CODE_POINTS.QUESTION_MARK:{this._err(he.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(he.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(yf(e))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingEndTagName),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(he.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case V.CODE_POINTS.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.tagName+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:t.tagName+=String.fromCodePoint(xy(e)?uS(e):e)}}_stateRcdataLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){yf(e)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const t=this.currentToken;switch(t.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case V.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case V.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){yf(e)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case V.CODE_POINTS.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case V.CODE_POINTS.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){yf(e)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===V.CODE_POINTS.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===V.CODE_POINTS.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:yf(e)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){yf(e)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(V.SEQUENCES.SCRIPT,!1)&&hY(this.preprocessor.peek(V.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let t=0;t<V.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(V.SEQUENCES.SCRIPT,!1)&&hY(this.preprocessor.peek(V.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let t=0;t<V.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.SOLIDUS:case V.CODE_POINTS.GREATER_THAN_SIGN:case V.CODE_POINTS.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case V.CODE_POINTS.EQUALS_SIGN:{this._err(he.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:case V.CODE_POINTS.SOLIDUS:case V.CODE_POINTS.GREATER_THAN_SIGN:case V.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case V.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case V.CODE_POINTS.QUOTATION_MARK:case V.CODE_POINTS.APOSTROPHE:case V.CODE_POINTS.LESS_THAN_SIGN:{this._err(he.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.currentAttr.name+=V.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(xy(e)?uS(e):e)}}_stateAfterAttributeName(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case V.CODE_POINTS.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.currentAttr.value+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case V.CODE_POINTS.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.currentAttr.value+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_UNQUOTED,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this.currentAttr.value+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.QUOTATION_MARK:case V.CODE_POINTS.APOSTROPHE:case V.CODE_POINTS.LESS_THAN_SIGN:case V.CODE_POINTS.EQUALS_SIGN:case V.CODE_POINTS.GRAVE_ACCENT:{this._err(he.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case V.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:this._err(he.ERR.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{const t=this.currentToken;t.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInTag),this._emitEOFToken();break}default:this._err(he.ERR.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EOF:{this.emitCurrentComment(t),this._emitEOFToken();break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.data+=V.REPLACEMENT_CHARACTER;break}default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(V.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(V.SEQUENCES.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(V.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(V.SEQUENCES.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(V.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(he.ERR.cdataInHtmlContent),this._createCommentToken(V.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(he.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.abruptClosingOfEmptyComment),this.state=j.DATA;const t=this.currentToken;this.emitCurrentComment(t);break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case V.CODE_POINTS.LESS_THAN_SIGN:{t.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.data+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.EXCLAMATION_MARK:{t.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case V.CODE_POINTS.LESS_THAN_SIGN:{t.data+="<";break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===V.CODE_POINTS.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===V.CODE_POINTS.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==V.CODE_POINTS.GREATER_THAN_SIGN&&e!==V.CODE_POINTS.EOF&&this._err(he.ERR.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case V.CODE_POINTS.HYPHEN_MINUS:{t.data+="-";break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="--",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{t.data+="--!",this.state=j.COMMENT_END_DASH;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="--!",this.state=j.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(xy(e))this._createDoctypeToken(String.fromCharCode(uS(e))),this.state=j.DOCTYPE_NAME;else switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),this._createDoctypeToken(V.REPLACEMENT_CHARACTER),this.state=j.DOCTYPE_NAME;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingDoctypeName),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.name+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.name+=String.fromCodePoint(xy(e)?uS(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(V.SEQUENCES.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(V.SEQUENCES.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(he.ERR.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.CODE_POINTS.QUOTATION_MARK:{this._err(he.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this._err(he.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.QUOTATION_MARK:{t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.publicId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.publicId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.QUOTATION_MARK:{this._err(he.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this._err(he.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.QUOTATION_MARK:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.CODE_POINTS.QUOTATION_MARK:{this._err(he.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this._err(he.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.QUOTATION_MARK:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.systemId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter),t.systemId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(he.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(he.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.NULL:{this._err(he.ERR.unexpectedNullCharacter);break}case V.CODE_POINTS.EOF:{this.emitCurrentDoctype(t),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case V.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case V.CODE_POINTS.EOF:{this._err(he.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===V.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA;break}case V.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===V.CODE_POINTS.NUMBER_SIGN?this.state=j.NUMERIC_CHARACTER_REFERENCE:dF(e)?(this.state=j.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(t){for(let r=0;r<t.length;r++)this._flushCodePointConsumedAsCharacterReference(t[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this.state=j.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){dF(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===V.CODE_POINTS.SEMICOLON&&this._err(he.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===V.CODE_POINTS.LATIN_SMALL_X||e===V.CODE_POINTS.LATIN_CAPITAL_X?this.state=j.HEXADEMICAL_CHARACTER_REFERENCE_START:hb(e)?(this.state=j.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(he.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){srt(e)?(this.state=j.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(he.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){Lce(e)?this.charRefCode=this.charRefCode*16+e-55:Nce(e)?this.charRefCode=this.charRefCode*16+e-87:hb(e)?this.charRefCode=this.charRefCode*16+e-48:e===V.CODE_POINTS.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(he.ERR.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){hb(e)?this.charRefCode=this.charRefCode*10+e-48:e===V.CODE_POINTS.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(he.ERR.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===V.CODE_POINTS.NULL)this._err(he.ERR.nullCharacterReference),this.charRefCode=V.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(he.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=V.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,V.isSurrogate)(this.charRefCode))this._err(he.ERR.surrogateCharacterReference),this.charRefCode=V.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,V.isUndefinedCodePoint)(this.charRefCode))this._err(he.ERR.noncharacterCharacterReference);else if((0,V.isControlCodePoint)(this.charRefCode)||this.charRefCode===V.CODE_POINTS.CARRIAGE_RETURN){this._err(he.ERR.controlCharacterReference);const t=irt.get(this.charRefCode);t!==void 0&&(this.charRefCode=t)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}};Yp.Tokenizer=urt;var YI={};Object.defineProperty(YI,"__esModule",{value:!0});YI.OpenElementStack=void 0;const ve=$c,kce=new Set([ve.TAG_ID.DD,ve.TAG_ID.DT,ve.TAG_ID.LI,ve.TAG_ID.OPTGROUP,ve.TAG_ID.OPTION,ve.TAG_ID.P,ve.TAG_ID.RB,ve.TAG_ID.RP,ve.TAG_ID.RT,ve.TAG_ID.RTC]),dY=new Set([...kce,ve.TAG_ID.CAPTION,ve.TAG_ID.COLGROUP,ve.TAG_ID.TBODY,ve.TAG_ID.TD,ve.TAG_ID.TFOOT,ve.TAG_ID.TH,ve.TAG_ID.THEAD,ve.TAG_ID.TR]),lS=new Map([[ve.TAG_ID.APPLET,ve.NS.HTML],[ve.TAG_ID.CAPTION,ve.NS.HTML],[ve.TAG_ID.HTML,ve.NS.HTML],[ve.TAG_ID.MARQUEE,ve.NS.HTML],[ve.TAG_ID.OBJECT,ve.NS.HTML],[ve.TAG_ID.TABLE,ve.NS.HTML],[ve.TAG_ID.TD,ve.NS.HTML],[ve.TAG_ID.TEMPLATE,ve.NS.HTML],[ve.TAG_ID.TH,ve.NS.HTML],[ve.TAG_ID.ANNOTATION_XML,ve.NS.MATHML],[ve.TAG_ID.MI,ve.NS.MATHML],[ve.TAG_ID.MN,ve.NS.MATHML],[ve.TAG_ID.MO,ve.NS.MATHML],[ve.TAG_ID.MS,ve.NS.MATHML],[ve.TAG_ID.MTEXT,ve.NS.MATHML],[ve.TAG_ID.DESC,ve.NS.SVG],[ve.TAG_ID.FOREIGN_OBJECT,ve.NS.SVG],[ve.TAG_ID.TITLE,ve.NS.SVG]]),lrt=[ve.TAG_ID.H1,ve.TAG_ID.H2,ve.TAG_ID.H3,ve.TAG_ID.H4,ve.TAG_ID.H5,ve.TAG_ID.H6],crt=[ve.TAG_ID.TR,ve.TAG_ID.TEMPLATE,ve.TAG_ID.HTML],frt=[ve.TAG_ID.TBODY,ve.TAG_ID.TFOOT,ve.TAG_ID.THEAD,ve.TAG_ID.TEMPLATE,ve.TAG_ID.HTML],hrt=[ve.TAG_ID.TABLE,ve.TAG_ID.TEMPLATE,ve.TAG_ID.HTML],drt=[ve.TAG_ID.TD,ve.TAG_ID.TH];class prt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,r){this.treeAdapter=t,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ve.TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===ve.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ve.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const r=this._indexOf(e);this.items[r]=t,r===this.stackTop&&(this.current=t)}insertAfter(e,t,r){const i=this._indexOf(e)+1;this.items.splice(i,0,t),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do t=this.tagIDs.lastIndexOf(e,t-1);while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==ve.NS.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const r=this._indexOfTagNames(e,t);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(lrt,ve.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(drt,ve.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let r=this.stackTop;r>=0;r--)if(e.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===t)return r;return-1}clearBackTo(e,t){const r=this._indexOfTagNames(e,t);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(hrt,ve.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(frt,ve.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(crt,ve.NS.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ve.TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===ve.TAG_ID.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===ve.NS.HTML)return!0;if(lS.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],r=this.treeAdapter.getNamespaceURI(this.items[e]);if((0,ve.isNumberedHeader)(t)&&r===ve.NS.HTML)return!0;if(lS.get(t)===r)return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===ve.NS.HTML)return!0;if((r===ve.TAG_ID.UL||r===ve.TAG_ID.OL)&&i===ve.NS.HTML||lS.get(r)===i)return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===ve.NS.HTML)return!0;if(r===ve.TAG_ID.BUTTON&&i===ve.NS.HTML||lS.get(r)===i)return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===ve.NS.HTML){if(r===e)return!0;if(r===ve.TAG_ID.TABLE||r===ve.TAG_ID.TEMPLATE||r===ve.TAG_ID.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===ve.NS.HTML){if(t===ve.TAG_ID.TBODY||t===ve.TAG_ID.THEAD||t===ve.TAG_ID.TFOOT)return!0;if(t===ve.TAG_ID.TABLE||t===ve.TAG_ID.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===ve.NS.HTML){if(r===e)return!0;if(r!==ve.TAG_ID.OPTION&&r!==ve.TAG_ID.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;kce.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;dY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&dY.has(this.currentTagId);)this.pop()}}YI.OpenElementStack=prt;var Rce={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormattingElementList=n.EntryType=void 0;const e=3;var t;(function(o){o[o.Marker=0]="Marker",o[o.Element=1]="Element"})(t=n.EntryType||(n.EntryType={}));const r={type:t.Marker};class i{constructor(s){this.treeAdapter=s,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(s,a){const u=[],l=a.length,c=this.treeAdapter.getTagName(s),d=this.treeAdapter.getNamespaceURI(s);for(let h=0;h<this.entries.length;h++){const p=this.entries[h];if(p.type===t.Marker)break;const{element:v}=p;if(this.treeAdapter.getTagName(v)===c&&this.treeAdapter.getNamespaceURI(v)===d){const m=this.treeAdapter.getAttrList(v);m.length===l&&u.push({idx:h,attrs:m})}}return u}_ensureNoahArkCondition(s){if(this.entries.length<e)return;const a=this.treeAdapter.getAttrList(s),u=this._getNoahArkConditionCandidates(s,a);if(u.length<e)return;const l=new Map(a.map(d=>[d.name,d.value]));let c=0;for(let d=0;d<u.length;d++){const h=u[d];h.attrs.every(p=>l.get(p.name)===p.value)&&(c+=1,c>=e&&this.entries.splice(h.idx,1))}}insertMarker(){this.entries.unshift(r)}pushElement(s,a){this._ensureNoahArkCondition(s),this.entries.unshift({type:t.Element,element:s,token:a})}insertElementAfterBookmark(s,a){const u=this.entries.indexOf(this.bookmark);this.entries.splice(u,0,{type:t.Element,element:s,token:a})}removeEntry(s){const a=this.entries.indexOf(s);a>=0&&this.entries.splice(a,1)}clearToLastMarker(){const s=this.entries.indexOf(r);s>=0?this.entries.splice(0,s+1):this.entries.length=0}getElementEntryInScopeWithTagName(s){const a=this.entries.find(u=>u.type===t.Marker||this.treeAdapter.getTagName(u.element)===s);return a&&a.type===t.Element?a:null}getElementEntry(s){return this.entries.find(a=>a.type===t.Element&&a.element===s)}}n.FormattingElementList=i})(Rce);var XI={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultTreeAdapter=void 0;const e=$c;function t(r){return{nodeName:"#text",value:r,parentNode:null}}n.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:e.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(r,i,o){return{nodeName:r,tagName:r,attrs:o,namespaceURI:i,childNodes:[],parentNode:null}},createCommentNode(r){return{nodeName:"#comment",data:r,parentNode:null}},appendChild(r,i){r.childNodes.push(i),i.parentNode=r},insertBefore(r,i,o){const s=r.childNodes.indexOf(o);r.childNodes.splice(s,0,i),i.parentNode=r},setTemplateContent(r,i){r.content=i},getTemplateContent(r){return r.content},setDocumentType(r,i,o,s){const a=r.childNodes.find(u=>u.nodeName==="#documentType");if(a)a.name=i,a.publicId=o,a.systemId=s;else{const u={nodeName:"#documentType",name:i,publicId:o,systemId:s,parentNode:null};n.defaultTreeAdapter.appendChild(r,u)}},setDocumentMode(r,i){r.mode=i},getDocumentMode(r){return r.mode},detachNode(r){if(r.parentNode){const i=r.parentNode.childNodes.indexOf(r);r.parentNode.childNodes.splice(i,1),r.parentNode=null}},insertText(r,i){if(r.childNodes.length>0){const o=r.childNodes[r.childNodes.length-1];if(n.defaultTreeAdapter.isTextNode(o)){o.value+=i;return}}n.defaultTreeAdapter.appendChild(r,t(i))},insertTextBefore(r,i,o){const s=r.childNodes[r.childNodes.indexOf(o)-1];s&&n.defaultTreeAdapter.isTextNode(s)?s.value+=i:n.defaultTreeAdapter.insertBefore(r,t(i),o)},adoptAttributes(r,i){const o=new Set(r.attrs.map(s=>s.name));for(let s=0;s<i.length;s++)o.has(i[s].name)||r.attrs.push(i[s])},getFirstChild(r){return r.childNodes[0]},getChildNodes(r){return r.childNodes},getParentNode(r){return r.parentNode},getAttrList(r){return r.attrs},getTagName(r){return r.tagName},getNamespaceURI(r){return r.namespaceURI},getTextNodeContent(r){return r.value},getCommentNodeContent(r){return r.data},getDocumentTypeNodeName(r){return r.name},getDocumentTypeNodePublicId(r){return r.publicId},getDocumentTypeNodeSystemId(r){return r.systemId},isTextNode(r){return r.nodeName==="#text"},isCommentNode(r){return r.nodeName==="#comment"},isDocumentTypeNode(r){return r.nodeName==="#documentType"},isElementNode(r){return Object.prototype.hasOwnProperty.call(r,"tagName")},setNodeSourceCodeLocation(r,i){r.sourceCodeLocation=i},getNodeSourceCodeLocation(r){return r.sourceCodeLocation},updateNodeSourceCodeLocation(r,i){r.sourceCodeLocation=Object.assign(Object.assign({},r.sourceCodeLocation),i)}}})(XI);var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.getDocumentMode=c_.isConforming=void 0;const vv=$c,Pce="html",grt="about:legacy-compat",vrt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Mce=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],mrt=[...Mce,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],_rt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Fce=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],yrt=[...Fce,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function pY(n,e){return e.some(t=>n.startsWith(t))}function brt(n){return n.name===Pce&&n.publicId===null&&(n.systemId===null||n.systemId===grt)}c_.isConforming=brt;function Crt(n){if(n.name!==Pce)return vv.DOCUMENT_MODE.QUIRKS;const{systemId:e}=n;if(e&&e.toLowerCase()===vrt)return vv.DOCUMENT_MODE.QUIRKS;let{publicId:t}=n;if(t!==null){if(t=t.toLowerCase(),_rt.has(t))return vv.DOCUMENT_MODE.QUIRKS;let r=e===null?mrt:Mce;if(pY(t,r))return vv.DOCUMENT_MODE.QUIRKS;if(r=e===null?Fce:yrt,pY(t,r))return vv.DOCUMENT_MODE.LIMITED_QUIRKS}return vv.DOCUMENT_MODE.NO_QUIRKS}c_.getDocumentMode=Crt;var I9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isIntegrationPoint=n.adjustTokenSVGTagName=n.adjustTokenXMLAttrs=n.adjustTokenSVGAttrs=n.adjustTokenMathMLAttrs=n.causesExit=n.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const e=$c,t={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r="definitionurl",i="definitionURL",o=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(_=>[_.toLowerCase(),_])),s=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:e.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:e.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:e.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:e.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:e.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:e.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:e.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:e.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:e.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:e.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:e.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:e.NS.XMLNS}]]);n.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(_=>[_.toLowerCase(),_]));const a=new Set([e.TAG_ID.B,e.TAG_ID.BIG,e.TAG_ID.BLOCKQUOTE,e.TAG_ID.BODY,e.TAG_ID.BR,e.TAG_ID.CENTER,e.TAG_ID.CODE,e.TAG_ID.DD,e.TAG_ID.DIV,e.TAG_ID.DL,e.TAG_ID.DT,e.TAG_ID.EM,e.TAG_ID.EMBED,e.TAG_ID.H1,e.TAG_ID.H2,e.TAG_ID.H3,e.TAG_ID.H4,e.TAG_ID.H5,e.TAG_ID.H6,e.TAG_ID.HEAD,e.TAG_ID.HR,e.TAG_ID.I,e.TAG_ID.IMG,e.TAG_ID.LI,e.TAG_ID.LISTING,e.TAG_ID.MENU,e.TAG_ID.META,e.TAG_ID.NOBR,e.TAG_ID.OL,e.TAG_ID.P,e.TAG_ID.PRE,e.TAG_ID.RUBY,e.TAG_ID.S,e.TAG_ID.SMALL,e.TAG_ID.SPAN,e.TAG_ID.STRONG,e.TAG_ID.STRIKE,e.TAG_ID.SUB,e.TAG_ID.SUP,e.TAG_ID.TABLE,e.TAG_ID.TT,e.TAG_ID.U,e.TAG_ID.UL,e.TAG_ID.VAR]);function u(_){const b=_.tagID;return b===e.TAG_ID.FONT&&_.attrs.some(({name:E})=>E===e.ATTRS.COLOR||E===e.ATTRS.SIZE||E===e.ATTRS.FACE)||a.has(b)}n.causesExit=u;function l(_){for(let b=0;b<_.attrs.length;b++)if(_.attrs[b].name===r){_.attrs[b].name=i;break}}n.adjustTokenMathMLAttrs=l;function c(_){for(let b=0;b<_.attrs.length;b++){const C=o.get(_.attrs[b].name);C!=null&&(_.attrs[b].name=C)}}n.adjustTokenSVGAttrs=c;function d(_){for(let b=0;b<_.attrs.length;b++){const C=s.get(_.attrs[b].name);C&&(_.attrs[b].prefix=C.prefix,_.attrs[b].name=C.name,_.attrs[b].namespace=C.namespace)}}n.adjustTokenXMLAttrs=d;function h(_){const b=n.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(_.tagName);b!=null&&(_.tagName=b,_.tagID=(0,e.getTagID)(_.tagName))}n.adjustTokenSVGTagName=h;function p(_,b){return b===e.NS.MATHML&&(_===e.TAG_ID.MI||_===e.TAG_ID.MO||_===e.TAG_ID.MN||_===e.TAG_ID.MS||_===e.TAG_ID.MTEXT)}function v(_,b,C){if(b===e.NS.MATHML&&_===e.TAG_ID.ANNOTATION_XML){for(let E=0;E<C.length;E++)if(C[E].name===e.ATTRS.ENCODING){const T=C[E].value.toLowerCase();return T===t.TEXT_HTML||T===t.APPLICATION_XML}}return b===e.NS.SVG&&(_===e.TAG_ID.FOREIGN_OBJECT||_===e.TAG_ID.DESC||_===e.TAG_ID.TITLE)}function m(_,b,C,E){return(!E||E===e.NS.HTML)&&v(_,b,C)||(!E||E===e.NS.MATHML)&&p(_,b)}n.isIntegrationPoint=m})(I9);Object.defineProperty(k1,"__esModule",{value:!0});k1.Parser=void 0;const Yo=Yp,wrt=YI,gY=Rce,Ert=XI,vY=c_,Ju=I9,Xi=QC,Bce=GI,x=$c,ti=$I,Srt="hidden",Trt=8,Drt=3;var K;(function(n){n[n.INITIAL=0]="INITIAL",n[n.BEFORE_HTML=1]="BEFORE_HTML",n[n.BEFORE_HEAD=2]="BEFORE_HEAD",n[n.IN_HEAD=3]="IN_HEAD",n[n.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",n[n.AFTER_HEAD=5]="AFTER_HEAD",n[n.IN_BODY=6]="IN_BODY",n[n.TEXT=7]="TEXT",n[n.IN_TABLE=8]="IN_TABLE",n[n.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",n[n.IN_CAPTION=10]="IN_CAPTION",n[n.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",n[n.IN_TABLE_BODY=12]="IN_TABLE_BODY",n[n.IN_ROW=13]="IN_ROW",n[n.IN_CELL=14]="IN_CELL",n[n.IN_SELECT=15]="IN_SELECT",n[n.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",n[n.IN_TEMPLATE=17]="IN_TEMPLATE",n[n.AFTER_BODY=18]="AFTER_BODY",n[n.IN_FRAMESET=19]="IN_FRAMESET",n[n.AFTER_FRAMESET=20]="AFTER_FRAMESET",n[n.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",n[n.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(K||(K={}));const Art={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Hce=new Set([x.TAG_ID.TABLE,x.TAG_ID.TBODY,x.TAG_ID.TFOOT,x.TAG_ID.THEAD,x.TAG_ID.TR]),mY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ert.defaultTreeAdapter,onParseError:null};let Irt=class{constructor(e,t,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=K.INITIAL,this.originalInsertionMode=K.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},mY),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=t??this.treeAdapter.createDocument(),this.tokenizer=new Yo.Tokenizer(this.options,this),this.activeFormattingElements=new gY.FormattingElementList(this.treeAdapter),this.fragmentContextID=r?(0,x.getTagID)(this.treeAdapter.getTagName(r)):x.TAG_ID.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new wrt.OpenElementStack(this.document,this.treeAdapter,this)}static parse(e,t){const r=new this(t);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,t){const r=Object.assign(Object.assign({},mY),t);e??(e=r.treeAdapter.createElement(x.TAG_NAMES.TEMPLATE,x.NS.HTML,[]));const i=r.treeAdapter.createElement("documentmock",x.NS.HTML,[]),o=new this(r,i,e);return o.fragmentContextID===x.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(K.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,r){var i;if(!this.onParseError)return;const o=(i=e.location)!==null&&i!==void 0?i:Art,s={code:t,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(e,t,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),t){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(e,t){const r=e===this.document||this.treeAdapter.getNamespaceURI(e)===x.NS.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,x.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=K.TEXT}switchToPlaintextParsing(){this.insertionMode=K.TEXT,this.originalInsertionMode=K.IN_BODY,this.tokenizer.state=Yo.TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===x.TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==x.NS.HTML))switch(this.fragmentContextID){case x.TAG_ID.TITLE:case x.TAG_ID.TEXTAREA:{this.tokenizer.state=Yo.TokenizerMode.RCDATA;break}case x.TAG_ID.STYLE:case x.TAG_ID.XMP:case x.TAG_ID.IFRAME:case x.TAG_ID.NOEMBED:case x.TAG_ID.NOFRAMES:case x.TAG_ID.NOSCRIPT:{this.tokenizer.state=Yo.TokenizerMode.RAWTEXT;break}case x.TAG_ID.SCRIPT:{this.tokenizer.state=Yo.TokenizerMode.SCRIPT_DATA;break}case x.TAG_ID.PLAINTEXT:{this.tokenizer.state=Yo.TokenizerMode.PLAINTEXT;break}}}_setDocumentType(e){const t=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,r,i),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const r=t&&Object.assign(Object.assign({},t),{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,t){const r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,t){const r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,t){const r=this.treeAdapter.createElement(e,x.NS.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,x.NS.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,r),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(x.TAG_NAMES.HTML,x.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,x.TAG_ID.HTML)}_appendCommentNode(e,t){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let t,r;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(t,e.chars,r):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(t),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:u,endCol:l,endOffset:c}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,t){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(t,r)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const r=t.location,i=this.treeAdapter.getTagName(e),o=t.type===ti.TokenType.END_TAG&&i===t.tagName?{endTag:Object.assign({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,r;return this.openElements.stackTop===0&&this.fragmentContext?(t=this.fragmentContext,r=this.fragmentContextID):{current:t,currentTagId:r}=this.openElements,e.tagID===x.TAG_ID.SVG&&this.treeAdapter.getTagName(t)===x.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(t)===x.NS.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===x.TAG_ID.MGLYPH||e.tagID===x.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(r,t,x.NS.HTML)}_processToken(e){switch(e.type){case ti.TokenType.CHARACTER:{this.onCharacter(e);break}case ti.TokenType.NULL_CHARACTER:{this.onNullCharacter(e);break}case ti.TokenType.COMMENT:{this.onComment(e);break}case ti.TokenType.DOCTYPE:{this.onDoctype(e);break}case ti.TokenType.START_TAG:{this._processStartTag(e);break}case ti.TokenType.END_TAG:{this.onEndTag(e);break}case ti.TokenType.EOF:{this.onEof(e);break}case ti.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,t,r){const i=this.treeAdapter.getNamespaceURI(t),o=this.treeAdapter.getAttrList(t);return Ju.isIntegrationPoint(e,i,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(i=>i.type===gY.EntryType.Marker||this.openElements.contains(i.element)),r=t<0?e-1:t-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=K.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(x.TAG_ID.P),this.openElements.popUntilTagNamePopped(x.TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case x.TAG_ID.TR:{this.insertionMode=K.IN_ROW;return}case x.TAG_ID.TBODY:case x.TAG_ID.THEAD:case x.TAG_ID.TFOOT:{this.insertionMode=K.IN_TABLE_BODY;return}case x.TAG_ID.CAPTION:{this.insertionMode=K.IN_CAPTION;return}case x.TAG_ID.COLGROUP:{this.insertionMode=K.IN_COLUMN_GROUP;return}case x.TAG_ID.TABLE:{this.insertionMode=K.IN_TABLE;return}case x.TAG_ID.BODY:{this.insertionMode=K.IN_BODY;return}case x.TAG_ID.FRAMESET:{this.insertionMode=K.IN_FRAMESET;return}case x.TAG_ID.SELECT:{this._resetInsertionModeForSelect(e);return}case x.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case x.TAG_ID.HTML:{this.insertionMode=this.headElement?K.AFTER_HEAD:K.BEFORE_HEAD;return}case x.TAG_ID.TD:case x.TAG_ID.TH:{if(e>0){this.insertionMode=K.IN_CELL;return}break}case x.TAG_ID.HEAD:{if(e>0){this.insertionMode=K.IN_HEAD;return}break}}this.insertionMode=K.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const r=this.openElements.tagIDs[t];if(r===x.TAG_ID.TEMPLATE)break;if(r===x.TAG_ID.TABLE){this.insertionMode=K.IN_SELECT_IN_TABLE;return}}this.insertionMode=K.IN_SELECT}_isElementCausesFosterParenting(e){return Hce.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case x.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(t)===x.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break}case x.TAG_ID.TABLE:{const r=this.treeAdapter.getParentNode(t);return r?{parent:r,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const r=this.treeAdapter.getNamespaceURI(e);return x.SPECIAL_ELEMENTS[r].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){iot(this,e);return}switch(this.insertionMode){case K.INITIAL:{my(this,e);break}case K.BEFORE_HTML:{db(this,e);break}case K.BEFORE_HEAD:{pb(this,e);break}case K.IN_HEAD:{gb(this,e);break}case K.IN_HEAD_NO_SCRIPT:{vb(this,e);break}case K.AFTER_HEAD:{mb(this,e);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:{Wce(this,e);break}case K.TEXT:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{vR(this,e);break}case K.IN_TABLE_TEXT:{$ce(this,e);break}case K.IN_COLUMN_GROUP:{QD(this,e);break}case K.AFTER_BODY:{ZD(this,e);break}case K.AFTER_AFTER_BODY:{zS(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rot(this,e);return}switch(this.insertionMode){case K.INITIAL:{my(this,e);break}case K.BEFORE_HTML:{db(this,e);break}case K.BEFORE_HEAD:{pb(this,e);break}case K.IN_HEAD:{gb(this,e);break}case K.IN_HEAD_NO_SCRIPT:{vb(this,e);break}case K.AFTER_HEAD:{mb(this,e);break}case K.TEXT:{this._insertCharacters(e);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{vR(this,e);break}case K.IN_COLUMN_GROUP:{QD(this,e);break}case K.AFTER_BODY:{ZD(this,e);break}case K.AFTER_AFTER_BODY:{zS(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){pF(this,e);return}switch(this.insertionMode){case K.INITIAL:case K.BEFORE_HTML:case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_TEMPLATE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{pF(this,e);break}case K.IN_TABLE_TEXT:{_y(this,e);break}case K.AFTER_BODY:{Prt(this,e);break}case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{Mrt(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case K.INITIAL:{Frt(this,e);break}case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:{this._err(e,Xi.ERR.misplacedDoctype);break}case K.IN_TABLE_TEXT:{_y(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Xi.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?oot(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case K.INITIAL:{my(this,e);break}case K.BEFORE_HTML:{Brt(this,e);break}case K.BEFORE_HEAD:{Vrt(this,e);break}case K.IN_HEAD:{Ou(this,e);break}case K.IN_HEAD_NO_SCRIPT:{jrt(this,e);break}case K.AFTER_HEAD:{zrt(this,e);break}case K.IN_BODY:{Io(this,e);break}case K.IN_TABLE:{f_(this,e);break}case K.IN_TABLE_TEXT:{_y(this,e);break}case K.IN_CAPTION:{Wit(this,e);break}case K.IN_COLUMN_GROUP:{N9(this,e);break}case K.IN_TABLE_BODY:{JI(this,e);break}case K.IN_ROW:{ex(this,e);break}case K.IN_CELL:{qit(this,e);break}case K.IN_SELECT:{Xce(this,e);break}case K.IN_SELECT_IN_TABLE:{Git(this,e);break}case K.IN_TEMPLATE:{Kit(this,e);break}case K.AFTER_BODY:{Xit(this,e);break}case K.IN_FRAMESET:{Qit(this,e);break}case K.AFTER_FRAMESET:{Jit(this,e);break}case K.AFTER_AFTER_BODY:{tot(this,e);break}case K.AFTER_AFTER_FRAMESET:{not(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?sot(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case K.INITIAL:{my(this,e);break}case K.BEFORE_HTML:{Hrt(this,e);break}case K.BEFORE_HEAD:{Wrt(this,e);break}case K.IN_HEAD:{Urt(this,e);break}case K.IN_HEAD_NO_SCRIPT:{qrt(this,e);break}case K.AFTER_HEAD:{Grt(this,e);break}case K.IN_BODY:{ZI(this,e);break}case K.TEXT:{Nit(this,e);break}case K.IN_TABLE:{R1(this,e);break}case K.IN_TABLE_TEXT:{_y(this,e);break}case K.IN_CAPTION:{Uit(this,e);break}case K.IN_COLUMN_GROUP:{jit(this,e);break}case K.IN_TABLE_BODY:{gF(this,e);break}case K.IN_ROW:{Yce(this,e);break}case K.IN_CELL:{zit(this,e);break}case K.IN_SELECT:{Qce(this,e);break}case K.IN_SELECT_IN_TABLE:{$it(this,e);break}case K.IN_TEMPLATE:{Yit(this,e);break}case K.AFTER_BODY:{Jce(this,e);break}case K.IN_FRAMESET:{Zit(this,e);break}case K.AFTER_FRAMESET:{eot(this,e);break}case K.AFTER_AFTER_BODY:{zS(this,e);break}}}onEof(e){switch(this.insertionMode){case K.INITIAL:{my(this,e);break}case K.BEFORE_HTML:{db(this,e);break}case K.BEFORE_HEAD:{pb(this,e);break}case K.IN_HEAD:{gb(this,e);break}case K.IN_HEAD_NO_SCRIPT:{vb(this,e);break}case K.AFTER_HEAD:{mb(this,e);break}case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{zce(this,e);break}case K.TEXT:{Oit(this,e);break}case K.IN_TABLE_TEXT:{_y(this,e);break}case K.IN_TEMPLATE:{Zce(this,e);break}case K.AFTER_BODY:case K.IN_FRAMESET:case K.AFTER_FRAMESET:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{L9(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Bce.CODE_POINTS.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.TEXT:case K.IN_COLUMN_GROUP:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{this._insertCharacters(e);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:case K.AFTER_BODY:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{Vce(this,e);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{vR(this,e);break}case K.IN_TABLE_TEXT:{Gce(this,e);break}}}};k1.Parser=Irt;function xrt(n,e){let t=n.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return t?n.openElements.contains(t.element)?n.openElements.hasInScope(e.tagID)||(t=null):(n.activeFormattingElements.removeEntry(t),t=null):qce(n,e),t}function Lrt(n,e){let t=null,r=n.openElements.stackTop;for(;r>=0;r--){const i=n.openElements.items[r];if(i===e.element)break;n._isSpecialElement(i,n.openElements.tagIDs[r])&&(t=i)}return t||(n.openElements.shortenToLength(r<0?0:r),n.activeFormattingElements.removeEntry(e)),t}function Nrt(n,e,t){let r=e,i=n.openElements.getCommonAncestor(e);for(let o=0,s=i;s!==t;o++,s=i){i=n.openElements.getCommonAncestor(s);const a=n.activeFormattingElements.getElementEntry(s),u=a&&o>=Drt;!a||u?(u&&n.activeFormattingElements.removeEntry(a),n.openElements.remove(s)):(s=Ort(n,a),r===e&&(n.activeFormattingElements.bookmark=a),n.treeAdapter.detachNode(r),n.treeAdapter.appendChild(s,r),r=s)}return r}function Ort(n,e){const t=n.treeAdapter.getNamespaceURI(e.element),r=n.treeAdapter.createElement(e.token.tagName,t,e.token.attrs);return n.openElements.replace(e.element,r),e.element=r,r}function krt(n,e,t){const r=n.treeAdapter.getTagName(e),i=(0,x.getTagID)(r);if(n._isElementCausesFosterParenting(i))n._fosterParentElement(t);else{const o=n.treeAdapter.getNamespaceURI(e);i===x.TAG_ID.TEMPLATE&&o===x.NS.HTML&&(e=n.treeAdapter.getTemplateContent(e)),n.treeAdapter.appendChild(e,t)}}function Rrt(n,e,t){const r=n.treeAdapter.getNamespaceURI(t.element),{token:i}=t,o=n.treeAdapter.createElement(i.tagName,r,i.attrs);n._adoptNodes(e,o),n.treeAdapter.appendChild(e,o),n.activeFormattingElements.insertElementAfterBookmark(o,i),n.activeFormattingElements.removeEntry(t),n.openElements.remove(t.element),n.openElements.insertAfter(e,o,i.tagID)}function x9(n,e){for(let t=0;t<Trt;t++){const r=xrt(n,e);if(!r)break;const i=Lrt(n,r);if(!i)break;n.activeFormattingElements.bookmark=r;const o=Nrt(n,i,r.element),s=n.openElements.getCommonAncestor(r.element);n.treeAdapter.detachNode(o),s&&krt(n,s,o),Rrt(n,i,r)}}function pF(n,e){n._appendCommentNode(e,n.openElements.currentTmplContentOrNode)}function Prt(n,e){n._appendCommentNode(e,n.openElements.items[0])}function Mrt(n,e){n._appendCommentNode(e,n.document)}function L9(n,e){if(n.stopped=!0,e.location){const t=n.fragmentContext?0:2;for(let r=n.openElements.stackTop;r>=t;r--)n._setEndLocation(n.openElements.items[r],e);if(!n.fragmentContext&&n.openElements.stackTop>=0){const r=n.openElements.items[0],i=n.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(n._setEndLocation(r,e),n.openElements.stackTop>=1)){const o=n.openElements.items[1],s=n.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&n._setEndLocation(o,e)}}}}function Frt(n,e){n._setDocumentType(e);const t=e.forceQuirks?x.DOCUMENT_MODE.QUIRKS:vY.getDocumentMode(e);vY.isConforming(e)||n._err(e,Xi.ERR.nonConformingDoctype),n.treeAdapter.setDocumentMode(n.document,t),n.insertionMode=K.BEFORE_HTML}function my(n,e){n._err(e,Xi.ERR.missingDoctype,!0),n.treeAdapter.setDocumentMode(n.document,x.DOCUMENT_MODE.QUIRKS),n.insertionMode=K.BEFORE_HTML,n._processToken(e)}function Brt(n,e){e.tagID===x.TAG_ID.HTML?(n._insertElement(e,x.NS.HTML),n.insertionMode=K.BEFORE_HEAD):db(n,e)}function Hrt(n,e){const t=e.tagID;(t===x.TAG_ID.HTML||t===x.TAG_ID.HEAD||t===x.TAG_ID.BODY||t===x.TAG_ID.BR)&&db(n,e)}function db(n,e){n._insertFakeRootElement(),n.insertionMode=K.BEFORE_HEAD,n._processToken(e)}function Vrt(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.HEAD:{n._insertElement(e,x.NS.HTML),n.headElement=n.openElements.current,n.insertionMode=K.IN_HEAD;break}default:pb(n,e)}}function Wrt(n,e){const t=e.tagID;t===x.TAG_ID.HEAD||t===x.TAG_ID.BODY||t===x.TAG_ID.HTML||t===x.TAG_ID.BR?pb(n,e):n._err(e,Xi.ERR.endTagWithoutMatchingOpenElement)}function pb(n,e){n._insertFakeElement(x.TAG_NAMES.HEAD,x.TAG_ID.HEAD),n.headElement=n.openElements.current,n.insertionMode=K.IN_HEAD,n._processToken(e)}function Ou(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.BASE:case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.LINK:case x.TAG_ID.META:{n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0;break}case x.TAG_ID.TITLE:{n._switchToTextParsing(e,Yo.TokenizerMode.RCDATA);break}case x.TAG_ID.NOSCRIPT:{n.options.scriptingEnabled?n._switchToTextParsing(e,Yo.TokenizerMode.RAWTEXT):(n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_HEAD_NO_SCRIPT);break}case x.TAG_ID.NOFRAMES:case x.TAG_ID.STYLE:{n._switchToTextParsing(e,Yo.TokenizerMode.RAWTEXT);break}case x.TAG_ID.SCRIPT:{n._switchToTextParsing(e,Yo.TokenizerMode.SCRIPT_DATA);break}case x.TAG_ID.TEMPLATE:{n._insertTemplate(e),n.activeFormattingElements.insertMarker(),n.framesetOk=!1,n.insertionMode=K.IN_TEMPLATE,n.tmplInsertionModeStack.unshift(K.IN_TEMPLATE);break}case x.TAG_ID.HEAD:{n._err(e,Xi.ERR.misplacedStartTagForHeadElement);break}default:gb(n,e)}}function Urt(n,e){switch(e.tagID){case x.TAG_ID.HEAD:{n.openElements.pop(),n.insertionMode=K.AFTER_HEAD;break}case x.TAG_ID.BODY:case x.TAG_ID.BR:case x.TAG_ID.HTML:{gb(n,e);break}case x.TAG_ID.TEMPLATE:{Tg(n,e);break}default:n._err(e,Xi.ERR.endTagWithoutMatchingOpenElement)}}function Tg(n,e){n.openElements.tmplCount>0?(n.openElements.generateImpliedEndTagsThoroughly(),n.openElements.currentTagId!==x.TAG_ID.TEMPLATE&&n._err(e,Xi.ERR.closingOfElementWithOpenChildElements),n.openElements.popUntilTagNamePopped(x.TAG_ID.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode()):n._err(e,Xi.ERR.endTagWithoutMatchingOpenElement)}function gb(n,e){n.openElements.pop(),n.insertionMode=K.AFTER_HEAD,n._processToken(e)}function jrt(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.HEAD:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.NOFRAMES:case x.TAG_ID.STYLE:{Ou(n,e);break}case x.TAG_ID.NOSCRIPT:{n._err(e,Xi.ERR.nestedNoscriptInHead);break}default:vb(n,e)}}function qrt(n,e){switch(e.tagID){case x.TAG_ID.NOSCRIPT:{n.openElements.pop(),n.insertionMode=K.IN_HEAD;break}case x.TAG_ID.BR:{vb(n,e);break}default:n._err(e,Xi.ERR.endTagWithoutMatchingOpenElement)}}function vb(n,e){const t=e.type===ti.TokenType.EOF?Xi.ERR.openElementsLeftAfterEof:Xi.ERR.disallowedContentInNoscriptInHead;n._err(e,t),n.openElements.pop(),n.insertionMode=K.IN_HEAD,n._processToken(e)}function zrt(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.BODY:{n._insertElement(e,x.NS.HTML),n.framesetOk=!1,n.insertionMode=K.IN_BODY;break}case x.TAG_ID.FRAMESET:{n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_FRAMESET;break}case x.TAG_ID.BASE:case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.NOFRAMES:case x.TAG_ID.SCRIPT:case x.TAG_ID.STYLE:case x.TAG_ID.TEMPLATE:case x.TAG_ID.TITLE:{n._err(e,Xi.ERR.abandonedHeadElementChild),n.openElements.push(n.headElement,x.TAG_ID.HEAD),Ou(n,e),n.openElements.remove(n.headElement);break}case x.TAG_ID.HEAD:{n._err(e,Xi.ERR.misplacedStartTagForHeadElement);break}default:mb(n,e)}}function Grt(n,e){switch(e.tagID){case x.TAG_ID.BODY:case x.TAG_ID.HTML:case x.TAG_ID.BR:{mb(n,e);break}case x.TAG_ID.TEMPLATE:{Tg(n,e);break}default:n._err(e,Xi.ERR.endTagWithoutMatchingOpenElement)}}function mb(n,e){n._insertFakeElement(x.TAG_NAMES.BODY,x.TAG_ID.BODY),n.insertionMode=K.IN_BODY,QI(n,e)}function QI(n,e){switch(e.type){case ti.TokenType.CHARACTER:{Wce(n,e);break}case ti.TokenType.WHITESPACE_CHARACTER:{Vce(n,e);break}case ti.TokenType.COMMENT:{pF(n,e);break}case ti.TokenType.START_TAG:{Io(n,e);break}case ti.TokenType.END_TAG:{ZI(n,e);break}case ti.TokenType.EOF:{zce(n,e);break}}}function Vce(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e)}function Wce(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e),n.framesetOk=!1}function $rt(n,e){n.openElements.tmplCount===0&&n.treeAdapter.adoptAttributes(n.openElements.items[0],e.attrs)}function Krt(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n.openElements.tmplCount===0&&(n.framesetOk=!1,n.treeAdapter.adoptAttributes(t,e.attrs))}function Yrt(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();n.framesetOk&&t&&(n.treeAdapter.detachNode(t),n.openElements.popAllUpToHtmlElement(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_FRAMESET)}function Xrt(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML)}function Qrt(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),(0,x.isNumberedHeader)(n.openElements.currentTagId)&&n.openElements.pop(),n._insertElement(e,x.NS.HTML)}function Zrt(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),n.skipNextNewLine=!0,n.framesetOk=!1}function Jrt(n,e){const t=n.openElements.tmplCount>0;(!n.formElement||t)&&(n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),t||(n.formElement=n.openElements.current))}function eit(n,e){n.framesetOk=!1;const t=e.tagID;for(let r=n.openElements.stackTop;r>=0;r--){const i=n.openElements.tagIDs[r];if(t===x.TAG_ID.LI&&i===x.TAG_ID.LI||(t===x.TAG_ID.DD||t===x.TAG_ID.DT)&&(i===x.TAG_ID.DD||i===x.TAG_ID.DT)){n.openElements.generateImpliedEndTagsWithExclusion(i),n.openElements.popUntilTagNamePopped(i);break}if(i!==x.TAG_ID.ADDRESS&&i!==x.TAG_ID.DIV&&i!==x.TAG_ID.P&&n._isSpecialElement(n.openElements.items[r],i))break}n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML)}function tit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),n.tokenizer.state=Yo.TokenizerMode.PLAINTEXT}function nit(n,e){n.openElements.hasInScope(x.TAG_ID.BUTTON)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.TAG_ID.BUTTON)),n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.framesetOk=!1}function rit(n,e){const t=n.activeFormattingElements.getElementEntryInScopeWithTagName(x.TAG_NAMES.A);t&&(x9(n,e),n.openElements.remove(t.element),n.activeFormattingElements.removeEntry(t)),n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function iit(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function oit(n,e){n._reconstructActiveFormattingElements(),n.openElements.hasInScope(x.TAG_ID.NOBR)&&(x9(n,e),n._reconstructActiveFormattingElements()),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function sit(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1}function ait(n,e){n.treeAdapter.getDocumentMode(n.document)!==x.DOCUMENT_MODE.QUIRKS&&n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),n.framesetOk=!1,n.insertionMode=K.IN_TABLE}function Uce(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,x.NS.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function jce(n){const e=(0,ti.getTokenAttr)(n,x.ATTRS.TYPE);return e!=null&&e.toLowerCase()===Srt}function uit(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,x.NS.HTML),jce(e)||(n.framesetOk=!1),e.ackSelfClosing=!0}function lit(n,e){n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0}function cit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._appendElement(e,x.NS.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function fit(n,e){e.tagName=x.TAG_NAMES.IMG,e.tagID=x.TAG_ID.IMG,Uce(n,e)}function hit(n,e){n._insertElement(e,x.NS.HTML),n.skipNextNewLine=!0,n.tokenizer.state=Yo.TokenizerMode.RCDATA,n.originalInsertionMode=n.insertionMode,n.framesetOk=!1,n.insertionMode=K.TEXT}function dit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._reconstructActiveFormattingElements(),n.framesetOk=!1,n._switchToTextParsing(e,Yo.TokenizerMode.RAWTEXT)}function pit(n,e){n.framesetOk=!1,n._switchToTextParsing(e,Yo.TokenizerMode.RAWTEXT)}function _Y(n,e){n._switchToTextParsing(e,Yo.TokenizerMode.RAWTEXT)}function git(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.framesetOk=!1,n.insertionMode=n.insertionMode===K.IN_TABLE||n.insertionMode===K.IN_CAPTION||n.insertionMode===K.IN_TABLE_BODY||n.insertionMode===K.IN_ROW||n.insertionMode===K.IN_CELL?K.IN_SELECT_IN_TABLE:K.IN_SELECT}function vit(n,e){n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop(),n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML)}function mit(n,e){n.openElements.hasInScope(x.TAG_ID.RUBY)&&n.openElements.generateImpliedEndTags(),n._insertElement(e,x.NS.HTML)}function _it(n,e){n.openElements.hasInScope(x.TAG_ID.RUBY)&&n.openElements.generateImpliedEndTagsWithExclusion(x.TAG_ID.RTC),n._insertElement(e,x.NS.HTML)}function yit(n,e){n._reconstructActiveFormattingElements(),Ju.adjustTokenMathMLAttrs(e),Ju.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,x.NS.MATHML):n._insertElement(e,x.NS.MATHML),e.ackSelfClosing=!0}function bit(n,e){n._reconstructActiveFormattingElements(),Ju.adjustTokenSVGAttrs(e),Ju.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,x.NS.SVG):n._insertElement(e,x.NS.SVG),e.ackSelfClosing=!0}function yY(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML)}function Io(n,e){switch(e.tagID){case x.TAG_ID.I:case x.TAG_ID.S:case x.TAG_ID.B:case x.TAG_ID.U:case x.TAG_ID.EM:case x.TAG_ID.TT:case x.TAG_ID.BIG:case x.TAG_ID.CODE:case x.TAG_ID.FONT:case x.TAG_ID.SMALL:case x.TAG_ID.STRIKE:case x.TAG_ID.STRONG:{iit(n,e);break}case x.TAG_ID.A:{rit(n,e);break}case x.TAG_ID.H1:case x.TAG_ID.H2:case x.TAG_ID.H3:case x.TAG_ID.H4:case x.TAG_ID.H5:case x.TAG_ID.H6:{Qrt(n,e);break}case x.TAG_ID.P:case x.TAG_ID.DL:case x.TAG_ID.OL:case x.TAG_ID.UL:case x.TAG_ID.DIV:case x.TAG_ID.DIR:case x.TAG_ID.NAV:case x.TAG_ID.MAIN:case x.TAG_ID.MENU:case x.TAG_ID.ASIDE:case x.TAG_ID.CENTER:case x.TAG_ID.FIGURE:case x.TAG_ID.FOOTER:case x.TAG_ID.HEADER:case x.TAG_ID.HGROUP:case x.TAG_ID.DIALOG:case x.TAG_ID.DETAILS:case x.TAG_ID.ADDRESS:case x.TAG_ID.ARTICLE:case x.TAG_ID.SECTION:case x.TAG_ID.SUMMARY:case x.TAG_ID.FIELDSET:case x.TAG_ID.BLOCKQUOTE:case x.TAG_ID.FIGCAPTION:{Xrt(n,e);break}case x.TAG_ID.LI:case x.TAG_ID.DD:case x.TAG_ID.DT:{eit(n,e);break}case x.TAG_ID.BR:case x.TAG_ID.IMG:case x.TAG_ID.WBR:case x.TAG_ID.AREA:case x.TAG_ID.EMBED:case x.TAG_ID.KEYGEN:{Uce(n,e);break}case x.TAG_ID.HR:{cit(n,e);break}case x.TAG_ID.RB:case x.TAG_ID.RTC:{mit(n,e);break}case x.TAG_ID.RT:case x.TAG_ID.RP:{_it(n,e);break}case x.TAG_ID.PRE:case x.TAG_ID.LISTING:{Zrt(n,e);break}case x.TAG_ID.XMP:{dit(n,e);break}case x.TAG_ID.SVG:{bit(n,e);break}case x.TAG_ID.HTML:{$rt(n,e);break}case x.TAG_ID.BASE:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.STYLE:case x.TAG_ID.TITLE:case x.TAG_ID.SCRIPT:case x.TAG_ID.BGSOUND:case x.TAG_ID.BASEFONT:case x.TAG_ID.TEMPLATE:{Ou(n,e);break}case x.TAG_ID.BODY:{Krt(n,e);break}case x.TAG_ID.FORM:{Jrt(n,e);break}case x.TAG_ID.NOBR:{oit(n,e);break}case x.TAG_ID.MATH:{yit(n,e);break}case x.TAG_ID.TABLE:{ait(n,e);break}case x.TAG_ID.INPUT:{uit(n,e);break}case x.TAG_ID.PARAM:case x.TAG_ID.TRACK:case x.TAG_ID.SOURCE:{lit(n,e);break}case x.TAG_ID.IMAGE:{fit(n,e);break}case x.TAG_ID.BUTTON:{nit(n,e);break}case x.TAG_ID.APPLET:case x.TAG_ID.OBJECT:case x.TAG_ID.MARQUEE:{sit(n,e);break}case x.TAG_ID.IFRAME:{pit(n,e);break}case x.TAG_ID.SELECT:{git(n,e);break}case x.TAG_ID.OPTION:case x.TAG_ID.OPTGROUP:{vit(n,e);break}case x.TAG_ID.NOEMBED:{_Y(n,e);break}case x.TAG_ID.FRAMESET:{Yrt(n,e);break}case x.TAG_ID.TEXTAREA:{hit(n,e);break}case x.TAG_ID.NOSCRIPT:{n.options.scriptingEnabled?_Y(n,e):yY(n,e);break}case x.TAG_ID.PLAINTEXT:{tit(n,e);break}case x.TAG_ID.COL:case x.TAG_ID.TH:case x.TAG_ID.TD:case x.TAG_ID.TR:case x.TAG_ID.HEAD:case x.TAG_ID.FRAME:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:case x.TAG_ID.CAPTION:case x.TAG_ID.COLGROUP:break;default:yY(n,e)}}function Cit(n,e){if(n.openElements.hasInScope(x.TAG_ID.BODY)&&(n.insertionMode=K.AFTER_BODY,n.options.sourceCodeLocationInfo)){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n._setEndLocation(t,e)}}function wit(n,e){n.openElements.hasInScope(x.TAG_ID.BODY)&&(n.insertionMode=K.AFTER_BODY,Jce(n,e))}function Eit(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t))}function Sit(n){const e=n.openElements.tmplCount>0,{formElement:t}=n;e||(n.formElement=null),(t||e)&&n.openElements.hasInScope(x.TAG_ID.FORM)&&(n.openElements.generateImpliedEndTags(),e?n.openElements.popUntilTagNamePopped(x.TAG_ID.FORM):t&&n.openElements.remove(t))}function Tit(n){n.openElements.hasInButtonScope(x.TAG_ID.P)||n._insertFakeElement(x.TAG_NAMES.P,x.TAG_ID.P),n._closePElement()}function Dit(n){n.openElements.hasInListItemScope(x.TAG_ID.LI)&&(n.openElements.generateImpliedEndTagsWithExclusion(x.TAG_ID.LI),n.openElements.popUntilTagNamePopped(x.TAG_ID.LI))}function Ait(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilTagNamePopped(t))}function Iit(n){n.openElements.hasNumberedHeaderInScope()&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilNumberedHeaderPopped())}function xit(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker())}function Lit(n){n._reconstructActiveFormattingElements(),n._insertFakeElement(x.TAG_NAMES.BR,x.TAG_ID.BR),n.openElements.pop(),n.framesetOk=!1}function qce(n,e){const t=e.tagName,r=e.tagID;for(let i=n.openElements.stackTop;i>0;i--){const o=n.openElements.items[i],s=n.openElements.tagIDs[i];if(r===s&&(r!==x.TAG_ID.UNKNOWN||n.treeAdapter.getTagName(o)===t)){n.openElements.generateImpliedEndTagsWithExclusion(r),n.openElements.stackTop>=i&&n.openElements.shortenToLength(i);break}if(n._isSpecialElement(o,s))break}}function ZI(n,e){switch(e.tagID){case x.TAG_ID.A:case x.TAG_ID.B:case x.TAG_ID.I:case x.TAG_ID.S:case x.TAG_ID.U:case x.TAG_ID.EM:case x.TAG_ID.TT:case x.TAG_ID.BIG:case x.TAG_ID.CODE:case x.TAG_ID.FONT:case x.TAG_ID.NOBR:case x.TAG_ID.SMALL:case x.TAG_ID.STRIKE:case x.TAG_ID.STRONG:{x9(n,e);break}case x.TAG_ID.P:{Tit(n);break}case x.TAG_ID.DL:case x.TAG_ID.UL:case x.TAG_ID.OL:case x.TAG_ID.DIR:case x.TAG_ID.DIV:case x.TAG_ID.NAV:case x.TAG_ID.PRE:case x.TAG_ID.MAIN:case x.TAG_ID.MENU:case x.TAG_ID.ASIDE:case x.TAG_ID.BUTTON:case x.TAG_ID.CENTER:case x.TAG_ID.FIGURE:case x.TAG_ID.FOOTER:case x.TAG_ID.HEADER:case x.TAG_ID.HGROUP:case x.TAG_ID.DIALOG:case x.TAG_ID.ADDRESS:case x.TAG_ID.ARTICLE:case x.TAG_ID.DETAILS:case x.TAG_ID.SECTION:case x.TAG_ID.SUMMARY:case x.TAG_ID.LISTING:case x.TAG_ID.FIELDSET:case x.TAG_ID.BLOCKQUOTE:case x.TAG_ID.FIGCAPTION:{Eit(n,e);break}case x.TAG_ID.LI:{Dit(n);break}case x.TAG_ID.DD:case x.TAG_ID.DT:{Ait(n,e);break}case x.TAG_ID.H1:case x.TAG_ID.H2:case x.TAG_ID.H3:case x.TAG_ID.H4:case x.TAG_ID.H5:case x.TAG_ID.H6:{Iit(n);break}case x.TAG_ID.BR:{Lit(n);break}case x.TAG_ID.BODY:{Cit(n,e);break}case x.TAG_ID.HTML:{wit(n,e);break}case x.TAG_ID.FORM:{Sit(n);break}case x.TAG_ID.APPLET:case x.TAG_ID.OBJECT:case x.TAG_ID.MARQUEE:{xit(n,e);break}case x.TAG_ID.TEMPLATE:{Tg(n,e);break}default:qce(n,e)}}function zce(n,e){n.tmplInsertionModeStack.length>0?Zce(n,e):L9(n,e)}function Nit(n,e){var t;e.tagID===x.TAG_ID.SCRIPT&&((t=n.scriptHandler)===null||t===void 0||t.call(n,n.openElements.current)),n.openElements.pop(),n.insertionMode=n.originalInsertionMode}function Oit(n,e){n._err(e,Xi.ERR.eofInElementThatCanContainOnlyText),n.openElements.pop(),n.insertionMode=n.originalInsertionMode,n.onEof(e)}function vR(n,e){if(Hce.has(n.openElements.currentTagId))switch(n.pendingCharacterTokens.length=0,n.hasNonWhitespacePendingCharacterToken=!1,n.originalInsertionMode=n.insertionMode,n.insertionMode=K.IN_TABLE_TEXT,e.type){case ti.TokenType.CHARACTER:{$ce(n,e);break}case ti.TokenType.WHITESPACE_CHARACTER:{Gce(n,e);break}}else ZC(n,e)}function kit(n,e){n.openElements.clearBackToTableContext(),n.activeFormattingElements.insertMarker(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_CAPTION}function Rit(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_COLUMN_GROUP}function Pit(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(x.TAG_NAMES.COLGROUP,x.TAG_ID.COLGROUP),n.insertionMode=K.IN_COLUMN_GROUP,N9(n,e)}function Mit(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_TABLE_BODY}function Fit(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(x.TAG_NAMES.TBODY,x.TAG_ID.TBODY),n.insertionMode=K.IN_TABLE_BODY,JI(n,e)}function Bit(n,e){n.openElements.hasInTableScope(x.TAG_ID.TABLE)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.TABLE),n._resetInsertionMode(),n._processStartTag(e))}function Hit(n,e){jce(e)?n._appendElement(e,x.NS.HTML):ZC(n,e),e.ackSelfClosing=!0}function Vit(n,e){!n.formElement&&n.openElements.tmplCount===0&&(n._insertElement(e,x.NS.HTML),n.formElement=n.openElements.current,n.openElements.pop())}function f_(n,e){switch(e.tagID){case x.TAG_ID.TD:case x.TAG_ID.TH:case x.TAG_ID.TR:{Fit(n,e);break}case x.TAG_ID.STYLE:case x.TAG_ID.SCRIPT:case x.TAG_ID.TEMPLATE:{Ou(n,e);break}case x.TAG_ID.COL:{Pit(n,e);break}case x.TAG_ID.FORM:{Vit(n,e);break}case x.TAG_ID.TABLE:{Bit(n,e);break}case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{Mit(n,e);break}case x.TAG_ID.INPUT:{Hit(n,e);break}case x.TAG_ID.CAPTION:{kit(n,e);break}case x.TAG_ID.COLGROUP:{Rit(n,e);break}default:ZC(n,e)}}function R1(n,e){switch(e.tagID){case x.TAG_ID.TABLE:{n.openElements.hasInTableScope(x.TAG_ID.TABLE)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.TABLE),n._resetInsertionMode());break}case x.TAG_ID.TEMPLATE:{Tg(n,e);break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TBODY:case x.TAG_ID.TD:case x.TAG_ID.TFOOT:case x.TAG_ID.TH:case x.TAG_ID.THEAD:case x.TAG_ID.TR:break;default:ZC(n,e)}}function ZC(n,e){const t=n.fosterParentingEnabled;n.fosterParentingEnabled=!0,QI(n,e),n.fosterParentingEnabled=t}function Gce(n,e){n.pendingCharacterTokens.push(e)}function $ce(n,e){n.pendingCharacterTokens.push(e),n.hasNonWhitespacePendingCharacterToken=!0}function _y(n,e){let t=0;if(n.hasNonWhitespacePendingCharacterToken)for(;t<n.pendingCharacterTokens.length;t++)ZC(n,n.pendingCharacterTokens[t]);else for(;t<n.pendingCharacterTokens.length;t++)n._insertCharacters(n.pendingCharacterTokens[t]);n.insertionMode=n.originalInsertionMode,n._processToken(e)}const Kce=new Set([x.TAG_ID.CAPTION,x.TAG_ID.COL,x.TAG_ID.COLGROUP,x.TAG_ID.TBODY,x.TAG_ID.TD,x.TAG_ID.TFOOT,x.TAG_ID.TH,x.TAG_ID.THEAD,x.TAG_ID.TR]);function Wit(n,e){const t=e.tagID;Kce.has(t)?n.openElements.hasInTableScope(x.TAG_ID.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.TAG_ID.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=K.IN_TABLE,f_(n,e)):Io(n,e)}function Uit(n,e){const t=e.tagID;switch(t){case x.TAG_ID.CAPTION:case x.TAG_ID.TABLE:{n.openElements.hasInTableScope(x.TAG_ID.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.TAG_ID.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=K.IN_TABLE,t===x.TAG_ID.TABLE&&R1(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TBODY:case x.TAG_ID.TD:case x.TAG_ID.TFOOT:case x.TAG_ID.TH:case x.TAG_ID.THEAD:case x.TAG_ID.TR:break;default:ZI(n,e)}}function N9(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.COL:{n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0;break}case x.TAG_ID.TEMPLATE:{Ou(n,e);break}default:QD(n,e)}}function jit(n,e){switch(e.tagID){case x.TAG_ID.COLGROUP:{n.openElements.currentTagId===x.TAG_ID.COLGROUP&&(n.openElements.pop(),n.insertionMode=K.IN_TABLE);break}case x.TAG_ID.TEMPLATE:{Tg(n,e);break}case x.TAG_ID.COL:break;default:QD(n,e)}}function QD(n,e){n.openElements.currentTagId===x.TAG_ID.COLGROUP&&(n.openElements.pop(),n.insertionMode=K.IN_TABLE,n._processToken(e))}function JI(n,e){switch(e.tagID){case x.TAG_ID.TR:{n.openElements.clearBackToTableBodyContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_ROW;break}case x.TAG_ID.TH:case x.TAG_ID.TD:{n.openElements.clearBackToTableBodyContext(),n._insertFakeElement(x.TAG_NAMES.TR,x.TAG_ID.TR),n.insertionMode=K.IN_ROW,ex(n,e);break}case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE,f_(n,e));break}default:f_(n,e)}}function gF(n,e){const t=e.tagID;switch(e.tagID){case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{n.openElements.hasInTableScope(t)&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE);break}case x.TAG_ID.TABLE:{n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE,R1(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TD:case x.TAG_ID.TH:case x.TAG_ID.TR:break;default:R1(n,e)}}function ex(n,e){switch(e.tagID){case x.TAG_ID.TH:case x.TAG_ID.TD:{n.openElements.clearBackToTableRowContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_CELL,n.activeFormattingElements.insertMarker();break}case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:case x.TAG_ID.TR:{n.openElements.hasInTableScope(x.TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY,JI(n,e));break}default:f_(n,e)}}function Yce(n,e){switch(e.tagID){case x.TAG_ID.TR:{n.openElements.hasInTableScope(x.TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY);break}case x.TAG_ID.TABLE:{n.openElements.hasInTableScope(x.TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY,gF(n,e));break}case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{(n.openElements.hasInTableScope(e.tagID)||n.openElements.hasInTableScope(x.TAG_ID.TR))&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY,gF(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TD:case x.TAG_ID.TH:break;default:R1(n,e)}}function qit(n,e){const t=e.tagID;Kce.has(t)?(n.openElements.hasInTableScope(x.TAG_ID.TD)||n.openElements.hasInTableScope(x.TAG_ID.TH))&&(n._closeTableCell(),ex(n,e)):Io(n,e)}function zit(n,e){const t=e.tagID;switch(t){case x.TAG_ID.TD:case x.TAG_ID.TH:{n.openElements.hasInTableScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=K.IN_ROW);break}case x.TAG_ID.TABLE:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:case x.TAG_ID.TR:{n.openElements.hasInTableScope(t)&&(n._closeTableCell(),Yce(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:break;default:ZI(n,e)}}function Xce(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.OPTION:{n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop(),n._insertElement(e,x.NS.HTML);break}case x.TAG_ID.OPTGROUP:{n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop(),n.openElements.currentTagId===x.TAG_ID.OPTGROUP&&n.openElements.pop(),n._insertElement(e,x.NS.HTML);break}case x.TAG_ID.INPUT:case x.TAG_ID.KEYGEN:case x.TAG_ID.TEXTAREA:case x.TAG_ID.SELECT:{n.openElements.hasInSelectScope(x.TAG_ID.SELECT)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode(),e.tagID!==x.TAG_ID.SELECT&&n._processStartTag(e));break}case x.TAG_ID.SCRIPT:case x.TAG_ID.TEMPLATE:{Ou(n,e);break}}}function Qce(n,e){switch(e.tagID){case x.TAG_ID.OPTGROUP:{n.openElements.stackTop>0&&n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.tagIDs[n.openElements.stackTop-1]===x.TAG_ID.OPTGROUP&&n.openElements.pop(),n.openElements.currentTagId===x.TAG_ID.OPTGROUP&&n.openElements.pop();break}case x.TAG_ID.OPTION:{n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop();break}case x.TAG_ID.SELECT:{n.openElements.hasInSelectScope(x.TAG_ID.SELECT)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode());break}case x.TAG_ID.TEMPLATE:{Tg(n,e);break}}}function Git(n,e){const t=e.tagID;t===x.TAG_ID.CAPTION||t===x.TAG_ID.TABLE||t===x.TAG_ID.TBODY||t===x.TAG_ID.TFOOT||t===x.TAG_ID.THEAD||t===x.TAG_ID.TR||t===x.TAG_ID.TD||t===x.TAG_ID.TH?(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode(),n._processStartTag(e)):Xce(n,e)}function $it(n,e){const t=e.tagID;t===x.TAG_ID.CAPTION||t===x.TAG_ID.TABLE||t===x.TAG_ID.TBODY||t===x.TAG_ID.TFOOT||t===x.TAG_ID.THEAD||t===x.TAG_ID.TR||t===x.TAG_ID.TD||t===x.TAG_ID.TH?n.openElements.hasInTableScope(t)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode(),n.onEndTag(e)):Qce(n,e)}function Kit(n,e){switch(e.tagID){case x.TAG_ID.BASE:case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.NOFRAMES:case x.TAG_ID.SCRIPT:case x.TAG_ID.STYLE:case x.TAG_ID.TEMPLATE:case x.TAG_ID.TITLE:{Ou(n,e);break}case x.TAG_ID.CAPTION:case x.TAG_ID.COLGROUP:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{n.tmplInsertionModeStack[0]=K.IN_TABLE,n.insertionMode=K.IN_TABLE,f_(n,e);break}case x.TAG_ID.COL:{n.tmplInsertionModeStack[0]=K.IN_COLUMN_GROUP,n.insertionMode=K.IN_COLUMN_GROUP,N9(n,e);break}case x.TAG_ID.TR:{n.tmplInsertionModeStack[0]=K.IN_TABLE_BODY,n.insertionMode=K.IN_TABLE_BODY,JI(n,e);break}case x.TAG_ID.TD:case x.TAG_ID.TH:{n.tmplInsertionModeStack[0]=K.IN_ROW,n.insertionMode=K.IN_ROW,ex(n,e);break}default:n.tmplInsertionModeStack[0]=K.IN_BODY,n.insertionMode=K.IN_BODY,Io(n,e)}}function Yit(n,e){e.tagID===x.TAG_ID.TEMPLATE&&Tg(n,e)}function Zce(n,e){n.openElements.tmplCount>0?(n.openElements.popUntilTagNamePopped(x.TAG_ID.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode(),n.onEof(e)):L9(n,e)}function Xit(n,e){e.tagID===x.TAG_ID.HTML?Io(n,e):ZD(n,e)}function Jce(n,e){var t;if(e.tagID===x.TAG_ID.HTML){if(n.fragmentContext||(n.insertionMode=K.AFTER_AFTER_BODY),n.options.sourceCodeLocationInfo&&n.openElements.tagIDs[0]===x.TAG_ID.HTML){n._setEndLocation(n.openElements.items[0],e);const r=n.openElements.items[1];r&&!(!((t=n.treeAdapter.getNodeSourceCodeLocation(r))===null||t===void 0)&&t.endTag)&&n._setEndLocation(r,e)}}else ZD(n,e)}function ZD(n,e){n.insertionMode=K.IN_BODY,QI(n,e)}function Qit(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.FRAMESET:{n._insertElement(e,x.NS.HTML);break}case x.TAG_ID.FRAME:{n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0;break}case x.TAG_ID.NOFRAMES:{Ou(n,e);break}}}function Zit(n,e){e.tagID===x.TAG_ID.FRAMESET&&!n.openElements.isRootHtmlElementCurrent()&&(n.openElements.pop(),!n.fragmentContext&&n.openElements.currentTagId!==x.TAG_ID.FRAMESET&&(n.insertionMode=K.AFTER_FRAMESET))}function Jit(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.NOFRAMES:{Ou(n,e);break}}}function eot(n,e){e.tagID===x.TAG_ID.HTML&&(n.insertionMode=K.AFTER_AFTER_FRAMESET)}function tot(n,e){e.tagID===x.TAG_ID.HTML?Io(n,e):zS(n,e)}function zS(n,e){n.insertionMode=K.IN_BODY,QI(n,e)}function not(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Io(n,e);break}case x.TAG_ID.NOFRAMES:{Ou(n,e);break}}}function rot(n,e){e.chars=Bce.REPLACEMENT_CHARACTER,n._insertCharacters(e)}function iot(n,e){n._insertCharacters(e),n.framesetOk=!1}function efe(n){for(;n.treeAdapter.getNamespaceURI(n.openElements.current)!==x.NS.HTML&&!n._isIntegrationPoint(n.openElements.currentTagId,n.openElements.current);)n.openElements.pop()}function oot(n,e){if(Ju.causesExit(e))efe(n),n._startTagOutsideForeignContent(e);else{const t=n._getAdjustedCurrentElement(),r=n.treeAdapter.getNamespaceURI(t);r===x.NS.MATHML?Ju.adjustTokenMathMLAttrs(e):r===x.NS.SVG&&(Ju.adjustTokenSVGTagName(e),Ju.adjustTokenSVGAttrs(e)),Ju.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,r):n._insertElement(e,r),e.ackSelfClosing=!0}}function sot(n,e){if(e.tagID===x.TAG_ID.P||e.tagID===x.TAG_ID.BR){efe(n),n._endTagOutsideForeignContent(e);return}for(let t=n.openElements.stackTop;t>0;t--){const r=n.openElements.items[t];if(n.treeAdapter.getNamespaceURI(r)===x.NS.HTML){n._endTagOutsideForeignContent(e);break}const i=n.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,n.openElements.shortenToLength(t);break}}}var h_={},tfe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.getCodePoint=n.xmlReplacer=void 0,n.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);n.getCodePoint=String.prototype.codePointAt!=null?function(i,o){return i.codePointAt(o)}:function(i,o){return(i.charCodeAt(o)&64512)===55296?(i.charCodeAt(o)-55296)*1024+i.charCodeAt(o+1)-56320+65536:i.charCodeAt(o)};function t(i){for(var o="",s=0,a;(a=n.xmlReplacer.exec(i))!==null;){var u=a.index,l=i.charCodeAt(u),c=e.get(l);c!==void 0?(o+=i.substring(s,u)+c,s=u+1):(o+="".concat(i.substring(s,u),"&#x").concat((0,n.getCodePoint)(i,u).toString(16),";"),s=n.xmlReplacer.lastIndex+=+((l&64512)===55296))}return o+i.substr(s)}n.encodeXML=t,n.escape=t;function r(i,o){return function(a){for(var u,l=0,c="";u=i.exec(a);)l!==u.index&&(c+=a.substring(l,u.index)),c+=o.get(u[0].charCodeAt(0)),l=u.index+1;return c+a.substring(l)}}n.escapeUTF8=r(/[&<>'"]/g,e),n.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),n.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(tfe);Object.defineProperty(h_,"__esModule",{value:!0});h_.serializeOuter=h_.serialize=void 0;const Gn=$c,nfe=tfe,aot=XI,uot=new Set([Gn.TAG_NAMES.AREA,Gn.TAG_NAMES.BASE,Gn.TAG_NAMES.BASEFONT,Gn.TAG_NAMES.BGSOUND,Gn.TAG_NAMES.BR,Gn.TAG_NAMES.COL,Gn.TAG_NAMES.EMBED,Gn.TAG_NAMES.FRAME,Gn.TAG_NAMES.HR,Gn.TAG_NAMES.IMG,Gn.TAG_NAMES.INPUT,Gn.TAG_NAMES.KEYGEN,Gn.TAG_NAMES.LINK,Gn.TAG_NAMES.META,Gn.TAG_NAMES.PARAM,Gn.TAG_NAMES.SOURCE,Gn.TAG_NAMES.TRACK,Gn.TAG_NAMES.WBR]);function rfe(n,e){return e.treeAdapter.isElementNode(n)&&e.treeAdapter.getNamespaceURI(n)===Gn.NS.HTML&&uot.has(e.treeAdapter.getTagName(n))}const ife={treeAdapter:aot.defaultTreeAdapter,scriptingEnabled:!0};function lot(n,e){const t=Object.assign(Object.assign({},ife),e);return rfe(n,t)?"":ofe(n,t)}h_.serialize=lot;function cot(n,e){const t=Object.assign(Object.assign({},ife),e);return sfe(n,t)}h_.serializeOuter=cot;function ofe(n,e){let t="";const r=e.treeAdapter.isElementNode(n)&&e.treeAdapter.getTagName(n)===Gn.TAG_NAMES.TEMPLATE&&e.treeAdapter.getNamespaceURI(n)===Gn.NS.HTML?e.treeAdapter.getTemplateContent(n):n,i=e.treeAdapter.getChildNodes(r);if(i)for(const o of i)t+=sfe(o,e);return t}function sfe(n,e){return e.treeAdapter.isElementNode(n)?fot(n,e):e.treeAdapter.isTextNode(n)?dot(n,e):e.treeAdapter.isCommentNode(n)?pot(n,e):e.treeAdapter.isDocumentTypeNode(n)?got(n,e):""}function fot(n,e){const t=e.treeAdapter.getTagName(n);return`<${t}${hot(n,e)}>${rfe(n,e)?"":`${ofe(n,e)}</${t}>`}`}function hot(n,{treeAdapter:e}){let t="";for(const r of e.getAttrList(n)){if(t+=" ",!r.namespace)t+=r.name;else switch(r.namespace){case Gn.NS.XML:{t+=`xml:${r.name}`;break}case Gn.NS.XMLNS:{r.name!=="xmlns"&&(t+="xmlns:"),t+=r.name;break}case Gn.NS.XLINK:{t+=`xlink:${r.name}`;break}default:t+=`${r.prefix}:${r.name}`}t+=`="${(0,nfe.escapeAttribute)(r.value)}"`}return t}function dot(n,e){const{treeAdapter:t}=e,r=t.getTextNodeContent(n),i=t.getParentNode(n),o=i&&t.isElementNode(i)&&t.getTagName(i);return o&&t.getNamespaceURI(i)===Gn.NS.HTML&&(0,Gn.hasUnescapedText)(o,e.scriptingEnabled)?r:(0,nfe.escapeText)(r)}function pot(n,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(n)}-->`}function got(n,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(n)}>`}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseFragment=n.parse=n.TokenizerMode=n.Tokenizer=n.Token=n.html=n.foreignContent=n.ErrorCodes=n.serializeOuter=n.serialize=n.Parser=n.defaultTreeAdapter=void 0;const e=k1;var t=XI;Object.defineProperty(n,"defaultTreeAdapter",{enumerable:!0,get:function(){return t.defaultTreeAdapter}});var r=k1;Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=h_;Object.defineProperty(n,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(n,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var o=QC;Object.defineProperty(n,"ErrorCodes",{enumerable:!0,get:function(){return o.ERR}}),n.foreignContent=I9,n.html=$c,n.Token=$I;var s=Yp;Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return s.Tokenizer}}),Object.defineProperty(n,"TokenizerMode",{enumerable:!0,get:function(){return s.TokenizerMode}});function a(l,c){return e.Parser.parse(l,c)}n.parse=a;function u(l,c,d){typeof l=="string"&&(d=c,c=l,l=null);const h=e.Parser.getFragmentParser(l,d);return h.tokenizer.write(c,!0),h.getFragment()}n.parseFragment=u})(T9);var afe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.adapter=n.serializeDoctypeContent=void 0;const e=T9,t=wo;function r(s){return new t.Text(s)}function i(s){const a=s.includes('"')?"'":'"';return a+s+a}function o(s,a,u){let l="!DOCTYPE ";return s&&(l+=s),a?l+=` PUBLIC ${i(a)}`:u&&(l+=" SYSTEM"),u&&(l+=` ${i(u)}`),l}n.serializeDoctypeContent=o,n.adapter={isCommentNode:t.isComment,isElementNode:t.isTag,isTextNode:t.isText,createDocument(){const s=new t.Document([]);return s["x-mode"]=e.html.DOCUMENT_MODE.NO_QUIRKS,s},createDocumentFragment(){return new t.Document([])},createElement(s,a,u){const l=Object.create(null),c=Object.create(null),d=Object.create(null);for(let p=0;p<u.length;p++){const v=u[p].name;l[v]=u[p].value,c[v]=u[p].namespace,d[v]=u[p].prefix}const h=new t.Element(s,l,[]);return h.namespace=a,h["x-attribsNamespace"]=c,h["x-attribsPrefix"]=d,h},createCommentNode(s){return new t.Comment(s)},appendChild(s,a){const u=s.children[s.children.length-1];u&&(u.next=a,a.prev=u),s.children.push(a),a.parent=s},insertBefore(s,a,u){const l=s.children.indexOf(u),{prev:c}=u;c&&(c.next=a,a.prev=c),u.prev=a,a.next=u,s.children.splice(l,0,a),a.parent=s},setTemplateContent(s,a){n.adapter.appendChild(s,a)},getTemplateContent(s){return s.children[0]},setDocumentType(s,a,u,l){const c=o(a,u,l);let d=s.children.find(h=>(0,t.isDirective)(h)&&h.name==="!doctype");d?d.data=c??null:(d=new t.ProcessingInstruction("!doctype",c),n.adapter.appendChild(s,d)),d["x-name"]=a??void 0,d["x-publicId"]=u??void 0,d["x-systemId"]=l??void 0},setDocumentMode(s,a){s["x-mode"]=a},getDocumentMode(s){return s["x-mode"]},detachNode(s){if(s.parent){const a=s.parent.children.indexOf(s),{prev:u,next:l}=s;s.prev=null,s.next=null,u&&(u.next=l),l&&(l.prev=u),s.parent.children.splice(a,1),s.parent=null}},insertText(s,a){const u=s.children[s.children.length-1];u&&(0,t.isText)(u)?u.data+=a:n.adapter.appendChild(s,r(a))},insertTextBefore(s,a,u){const l=s.children[s.children.indexOf(u)-1];l&&(0,t.isText)(l)?l.data+=a:n.adapter.insertBefore(s,r(a),u)},adoptAttributes(s,a){for(let u=0;u<a.length;u++){const l=a[u].name;typeof s.attribs[l]>"u"&&(s.attribs[l]=a[u].value,s["x-attribsNamespace"][l]=a[u].namespace,s["x-attribsPrefix"][l]=a[u].prefix)}},getFirstChild(s){return s.children[0]},getChildNodes(s){return s.children},getParentNode(s){return s.parent},getAttrList(s){return s.attributes},getTagName(s){return s.name},getNamespaceURI(s){return s.namespace},getTextNodeContent(s){return s.data},getCommentNodeContent(s){return s.data},getDocumentTypeNodeName(s){var a;return(a=s["x-name"])!==null&&a!==void 0?a:""},getDocumentTypeNodePublicId(s){var a;return(a=s["x-publicId"])!==null&&a!==void 0?a:""},getDocumentTypeNodeSystemId(s){var a;return(a=s["x-systemId"])!==null&&a!==void 0?a:""},isDocumentTypeNode(s){return(0,t.isDirective)(s)&&s.name==="!doctype"},setNodeSourceCodeLocation(s,a){a&&(s.startIndex=a.startOffset,s.endIndex=a.endOffset),s.sourceCodeLocation=a},getNodeSourceCodeLocation(s){return s.sourceCodeLocation},updateNodeSourceCodeLocation(s,a){a.endOffset!=null&&(s.endIndex=a.endOffset),s.sourceCodeLocation=Object.assign(Object.assign({},s.sourceCodeLocation),a)}}})(afe);var vot=ae&&ae.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(l_,"__esModule",{value:!0});l_.renderWithParse5=l_.parseWithParse5=void 0;var mot=wo,vF=T9,ufe=afe;function _ot(n,e,t,r){var i={scriptingEnabled:typeof e.scriptingEnabled=="boolean"?e.scriptingEnabled:!0,treeAdapter:ufe.adapter,sourceCodeLocationInfo:e.sourceCodeLocationInfo};return t?(0,vF.parse)(n,i):(0,vF.parseFragment)(r,n,i)}l_.parseWithParse5=_ot;var yot={treeAdapter:ufe.adapter};function bot(n){for(var e,t=("length"in n)?n:[n],r=0;r<t.length;r+=1){var i=t[r];(0,mot.isDocument)(i)&&(e=Array.prototype.splice).call.apply(e,vot([t,r,1],i.children,!1))}for(var o="",r=0;r<t.length;r+=1){var i=t[r];o+=(0,vF.serializeOuter)(i,yot)}return o}l_.renderWithParse5=bot;var lfe={},P1={},O9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteType=void 0;var e=KI,t;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(h){return h===t.Space||h===t.NewLine||h===t.Tab||h===t.FormFeed||h===t.CarriageReturn}function o(h){return h===t.Slash||h===t.Gt||i(h)}function s(h){return h>=t.Zero&&h<=t.Nine}function a(h){return h>=t.LowerA&&h<=t.LowerZ||h>=t.UpperA&&h<=t.UpperZ}function u(h){return h>=t.UpperA&&h<=t.UpperF||h>=t.LowerA&&h<=t.LowerF}var l;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(l=n.QuoteType||(n.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function h(p,v){var m=p.xmlMode,_=m===void 0?!1:m,b=p.decodeEntities,C=b===void 0?!0:b;this.cbs=v,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=C,this.entityTrie=_?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===t.Amp&&(this.state=r.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var v=this.sequenceIndex===this.currentSequence.length,m=v?o(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!m)this.isSpecial=!1;else if(!v){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===t.Gt||i(p)){var v=this.index-this.currentSequence.length;if(this.sectionStart<v){var m=this.index;this.index=v,this.cbs.ontext(this.sectionStart,v),this.index=m}this.isSpecial=!1,this.sectionStart=v+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&p===t.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===t.Lt)},h.prototype.stateCDATASequence=function(p){p===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!o(p):a(p)},h.prototype.startSpecial=function(p,v){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=v,this.state=r.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var v=p|32;this.sectionStart=this.index,!this.xmlMode&&v===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&v===c.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else p===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){o(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(p)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===t.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===t.Slash?this.state=r.InSelfClosingTag:i(p)||(this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===t.Eq||o(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===t.Eq?this.state=r.BeforeAttributeValue:p===t.Slash||p===t.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):p===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,v){p===v||!this.decodeEntities&&this.fastForwardTo(v)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(v===t.DoubleQuote?l.Double:l.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&p===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,t.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,t.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=p===t.Dash?r.BeforeComment:r.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===t.Dash?(this.state=r.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var v=p|32;v===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):v===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===t.Number?this.state=r.BeforeNumericEntity:p===t.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var v=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(v){var m=(v>>14)-1;if(!this.allowLegacyEntity()&&p!==t.Semi)this.trieIndex+=m;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=m,this.entityExcess=0,this.sectionStart=this.index+1,m===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===t.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var v=this.index-this.entityExcess-1,m=v+2+ +(this.state===r.InHexEntity);m!==this.index&&(v>this.sectionStart&&this.emitPartial(this.sectionStart,v),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===t.Semi?this.emitNumericEntity(!0):s(p)?(this.entityResult=this.entityResult*10+(p-t.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===t.Semi?this.emitNumericEntity(!0):s(p)?(this.entityResult=this.entityResult*16+(p-t.Zero),this.entityExcess++):u(p)?(this.entityResult=this.entityResult*16+((p|32)-t.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(p);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case r.InSpecialTag:{this.stateInSpecialTag(p);break}case r.CDATASequence:{this.stateCDATASequence(p);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case r.InAttributeName:{this.stateInAttributeName(p);break}case r.InCommentLike:{this.stateInCommentLike(p);break}case r.InSpecialComment:{this.stateInSpecialComment(p);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case r.InTagName:{this.stateInTagName(p);break}case r.InClosingTagName:{this.stateInClosingTagName(p);break}case r.BeforeTagName:{this.stateBeforeTagName(p);break}case r.AfterAttributeName:{this.stateAfterAttributeName(p);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case r.InDeclaration:{this.stateInDeclaration(p);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case r.BeforeComment:{this.stateBeforeComment(p);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case r.InNamedEntity:{this.stateInNamedEntity(p);break}case r.BeforeEntity:{this.stateBeforeEntity(p);break}case r.InHexEntity:{this.stateInHexEntity(p);break}case r.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,v){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(p,v):this.cbs.ontext(p,v)},h.prototype.emitCodePoint=function(p){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();n.default=d})(O9);var Cot=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),wot=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Eot=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Cot(e,n,t);return wot(e,n),e};Object.defineProperty(P1,"__esModule",{value:!0});P1.Parser=void 0;var cS=Eot(O9),bY=KI,mv=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Pn=new Set(["p"]),CY=new Set(["thead","tbody"]),wY=new Set(["dd","dt"]),EY=new Set(["rt","rp"]),Sot=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Pn],["h1",Pn],["h2",Pn],["h3",Pn],["h4",Pn],["h5",Pn],["h6",Pn],["select",mv],["input",mv],["output",mv],["button",mv],["datalist",mv],["textarea",mv],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",wY],["dt",wY],["address",Pn],["article",Pn],["aside",Pn],["blockquote",Pn],["details",Pn],["div",Pn],["dl",Pn],["fieldset",Pn],["figcaption",Pn],["figure",Pn],["footer",Pn],["form",Pn],["header",Pn],["hr",Pn],["main",Pn],["nav",Pn],["ol",Pn],["pre",Pn],["section",Pn],["table",Pn],["ul",Pn],["rt",EY],["rp",EY],["tbody",CY],["tfoot",CY]]),Tot=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),SY=new Set(["math","svg"]),TY=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Dot=/\s|\//,Aot=function(){function n(e,t){t===void 0&&(t={});var r,i,o,s,a;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:!t.xmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:!t.xmlMode,this.tokenizer=new((o=t.Tokenizer)!==null&&o!==void 0?o:cS.default)(this.options,this),(a=(s=this.cbs).onparserinit)===null||a===void 0||a.call(s,this)}return n.prototype.ontext=function(e,t){var r,i,o=this.getSlice(e,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,o),this.startIndex=t},n.prototype.ontextentity=function(e){var t,r,i=this.tokenizer.getSectionStart();this.endIndex=i-1,(r=(t=this.cbs).ontext)===null||r===void 0||r.call(t,(0,bY.fromCodePoint)(e)),this.startIndex=i},n.prototype.isVoidElement=function(e){return!this.options.xmlMode&&Tot.has(e)},n.prototype.onopentagname=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},n.prototype.emitOpenTag=function(e){var t,r,i,o;this.openTagStart=this.startIndex,this.tagname=e;var s=!this.options.xmlMode&&Sot.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var a=this.stack.pop();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,a,!0)}this.isVoidElement(e)||(this.stack.push(e),SY.has(e)?this.foreignContext.push(!0):TY.has(e)&&this.foreignContext.push(!1)),(o=(i=this.cbs).onopentagname)===null||o===void 0||o.call(i,e),this.cbs.onopentag&&(this.attribs={})},n.prototype.endOpenTag=function(e){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},n.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},n.prototype.onclosetag=function(e,t){var r,i,o,s,a,u;this.endIndex=t;var l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(SY.has(l)||TY.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((i=(r=this.cbs).onopentagname)===null||i===void 0||i.call(r,"br"),(s=(o=this.cbs).onopentag)===null||s===void 0||s.call(o,"br",{},!0),(u=(a=this.cbs).onclosetag)===null||u===void 0||u.call(a,"br",!1));else{var c=this.stack.lastIndexOf(l);if(c!==-1)if(this.cbs.onclosetag)for(var d=this.stack.length-c;d--;)this.cbs.onclosetag(this.stack.pop(),d!==0);else this.stack.length=c;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},n.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},n.prototype.closeCurrentTag=function(e){var t,r,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!e),this.stack.pop())},n.prototype.onattribname=function(e,t){this.startIndex=e;var r=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},n.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},n.prototype.onattribentity=function(e){this.attribvalue+=(0,bY.fromCodePoint)(e)},n.prototype.onattribend=function(e,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===cS.QuoteType.Double?'"':e===cS.QuoteType.Single?"'":e===cS.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},n.prototype.getInstructionName=function(e){var t=e.search(Dot),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},n.prototype.ondeclaration=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(r))}this.startIndex=t+1},n.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(r))}this.startIndex=t+1},n.prototype.oncomment=function(e,t,r){var i,o,s,a;this.endIndex=t,(o=(i=this.cbs).oncomment)===null||o===void 0||o.call(i,this.getSlice(e,t-r)),(a=(s=this.cbs).oncommentend)===null||a===void 0||a.call(s),this.startIndex=t+1},n.prototype.oncdata=function(e,t,r){var i,o,s,a,u,l,c,d,h,p;this.endIndex=t;var v=this.getSlice(e,t-r);this.options.xmlMode||this.options.recognizeCDATA?((o=(i=this.cbs).oncdatastart)===null||o===void 0||o.call(i),(a=(s=this.cbs).ontext)===null||a===void 0||a.call(s,v),(l=(u=this.cbs).oncdataend)===null||l===void 0||l.call(u)):((d=(c=this.cbs).oncomment)===null||d===void 0||d.call(c,"[CDATA[".concat(v,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=t+1},n.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},n.prototype.reset=function(){var e,t,r,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r},n.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},n.prototype.write=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},n.prototype.end=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},n.prototype.pause=function(){this.tokenizer.pause()},n.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},n.prototype.parseChunk=function(e){this.write(e)},n.prototype.done=function(e){this.end(e)},n}();P1.Parser=Aot;(function(n){var e=ae&&ae.__createBinding||(Object.create?function(b,C,E,T){T===void 0&&(T=E);var A=Object.getOwnPropertyDescriptor(C,E);(!A||("get"in A?!C.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(b,T,A)}:function(b,C,E,T){T===void 0&&(T=E),b[T]=C[E]}),t=ae&&ae.__setModuleDefault||(Object.create?function(b,C){Object.defineProperty(b,"default",{enumerable:!0,value:C})}:function(b,C){b.default=C}),r=ae&&ae.__importStar||function(b){if(b&&b.__esModule)return b;var C={};if(b!=null)for(var E in b)E!=="default"&&Object.prototype.hasOwnProperty.call(b,E)&&e(C,b,E);return t(C,b),C},i=ae&&ae.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.parseFeed=n.getFeed=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DefaultHandler=n.DomHandler=n.Parser=void 0;var o=P1,s=P1;Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=wo,u=wo;Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function l(b,C){var E=new a.DomHandler(void 0,C);return new o.Parser(E,C).end(b),E.root}n.parseDocument=l;function c(b,C){return l(b,C).children}n.parseDOM=c;function d(b,C,E){var T=new a.DomHandler(b,C,E);return new o.Parser(T,C)}n.createDomStream=d;var h=O9;Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return i(h).default}}),n.ElementType=r(X_);var p=Cu,v=Cu;Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return v.getFeed}});var m={xmlMode:!0};function _(b,C){return C===void 0&&(C=m),(0,p.getFeed)(c(b,C))}n.parseFeed=_,n.DomUtils=r(Cu)})(lfe);(function(n){var e=ae&&ae.__createBinding||(Object.create?function(v,m,_,b){b===void 0&&(b=_);var C=Object.getOwnPropertyDescriptor(m,_);(!C||("get"in C?!m.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(v,b,C)}:function(v,m,_,b){b===void 0&&(b=_),v[b]=m[_]}),t=ae&&ae.__setModuleDefault||(Object.create?function(v,m){Object.defineProperty(v,"default",{enumerable:!0,value:m})}:function(v,m){v.default=m}),r=ae&&ae.__exportStar||function(v,m){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(m,_)&&e(m,v,_)},i=ae&&ae.__importStar||function(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var _ in v)_!=="default"&&Object.prototype.hasOwnProperty.call(v,_)&&e(m,v,_);return t(m,v),m},o=ae&&ae.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(n,"__esModule",{value:!0}),n.root=n.parseHTML=n.merge=n.contains=n.text=n.xml=n.html=n.load=void 0,r(Rle,n);var s=LI,a=Kp,u=l_,l=o(Q_),c=lfe,d=(0,a.getParse)(function(v,m,_,b){return m.xmlMode||m._useHtmlParser2?(0,c.parseDocument)(v,m):(0,u.parseWithParse5)(v,m,_,b)});n.load=(0,s.getLoad)(d,function(v,m){return m.xmlMode||m._useHtmlParser2?(0,l.default)(v,m):(0,u.renderWithParse5)(v)}),n.default=(0,n.load)([]);var h=Nr;Object.defineProperty(n,"html",{enumerable:!0,get:function(){return h.html}}),Object.defineProperty(n,"xml",{enumerable:!0,get:function(){return h.xml}}),Object.defineProperty(n,"text",{enumerable:!0,get:function(){return h.text}});var p=i(Nr);n.contains=p.contains,n.merge=p.merge,n.parseHTML=p.parseHTML,n.root=p.root})(kle);var mR={},cfe={exports:{}},ffe={exports:{}};(function(n,e){n.exports=t;function t(i){return r.bind(null,i)}function r(i){var o=[].slice.call(arguments,1);o.unshift("["+i+"]"),process.stderr.write(o.join(" ")+`
`)}})(ffe);var k9=ffe.exports;(function(n,e){k9("lex"),n.exports=t;function t(r){var i="",o,s=0,a=-1,u=0,l=1,c="before-selector",d=[c],h={},p=[],v=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function m(){return k(),r[a]}function _(te){return te?d[d.length-1-te]:c}function b(te){var ne=a+1;return te===r.slice(ne,ne+te.length)}function C(te){var ne=r.slice(a).indexOf(te);return ne>0?ne:!1}function E(te){return te===T(1)}function T(te){return r[a+(te||1)]}function A(){var te=d.pop();return c=d[d.length-1],te}function S(te){return c=te,d.push(c),d.length}function N(te){var ne=c;return d[d.length-1]=c=te,ne}function k(te){if((te||1)==1)r[a]==`
`?(l++,s=1):s++,a++;else{var ne=r.slice(a,a+te).split(`
`);ne.length>1&&(l+=ne.length-1,s=1),s+=ne[ne.length-1].length,a=a+te}}function F(){h.end={line:l,col:s},p.push(h),i="",h={}}function L(te){h={type:te,start:{line:l,col:s}}}for(;o=m();)switch(o){case" ":switch(_()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":i+=o;break}break;case`
`:case"	":case"\r":case"\f":switch(_()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":i+=o;break;case"at-value":o===`
`&&(h.value=i.trim(),F(),A());break}break;case":":switch(_()){case"name":h.name=i.trim(),i="",N("before-value");break;case"before-selector":i+=o,L("selector"),S("selector");break;case"before-value":N("value"),i+=o;break;default:i+=o;break}break;case";":switch(_()){case"name":case"before-value":case"value":i.trim().length>0&&(h.value=i.trim(),F()),N("before-name");break;case"value-paren":i+=o;break;case"at-value":h.value=i.trim(),F(),A();break;case"before-name":break;default:i+=o;break}break;case"{":switch(_()){case"selector":if(T(-1)==="\\"){i+=o;break}h.text=i.trim(),F(),N("before-name"),u=u+1;break;case"at-group":switch(h.name=i.trim(),h.type){case"font-face":case"viewport":case"page":S("before-name");break;default:S("before-selector")}F(),u=u+1;break;case"name":case"at-rule":h.name=i.trim(),F(),S("before-name"),u=u+1;break;case"comment":case"double-string":case"single-string":i+=o;break;case"before-value":N("value"),i+=o;break}break;case"}":switch(_()){case"before-name":case"name":case"before-value":case"value":i&&(h.value=i.trim()),h.name&&h.value&&F(),L("end"),F(),A(),_()==="at-group"&&(L("at-group-end"),F(),A()),u>0&&(u=u-1);break;case"at-group":case"before-selector":case"selector":if(T(-1)==="\\"){i+=o;break}u>0&&_(1)==="at-group"&&(L("at-group-end"),F()),u>1&&A(),u>0&&(u=u-1);break;case"double-string":case"single-string":case"comment":i+=o;break}break;case'"':case"'":switch(_()){case"double-string":o==='"'&&T(-1)!=="\\"&&A();break;case"single-string":o==="'"&&T(-1)!=="\\"&&A();break;case"before-at-value":N("at-value"),S(o==='"'?"double-string":"single-string");break;case"before-value":N("value"),S(o==='"'?"double-string":"single-string");break;case"comment":break;default:T(-1)!=="\\"&&S(o==='"'?"double-string":"single-string")}i+=o;break;case"/":switch(_()){case"comment":case"double-string":case"single-string":i+=o;break;case"before-value":case"selector":case"name":case"value":if(E("*")){var O=C("*/");O&&k(O+1)}else _()=="before-value"&&N("value"),i+=o;break;default:E("*")?(L("comment"),S("comment"),k()):i+=o;break}break;case"*":switch(_()){case"comment":E("/")?(h.text=i,k(),F(),A()):i+=o;break;case"before-selector":i+=o,L("selector"),S("selector");break;case"before-value":N("value"),i+=o;break;default:i+=o}break;case"@":switch(_()){case"comment":case"double-string":case"single-string":i+=o;break;case"before-value":N("value"),i+=o;break;default:for(var P=!1,B,U,$=0,ee=v.length;!P&&$<ee;++$)U=v[$],B=U.name||U,b(B)&&(P=!0,L(B),S(U.state||"at-group"),k(B.length),U.prefix&&(h.prefix=U.prefix),U.type&&(h.type=U.type));P||(i+=o);break}break;case"(":switch(_()){case"value":S("value-paren");break;case"before-value":N("value");break}i+=o;break;case")":switch(_()){case"value-paren":A();break;case"before-value":N("value");break}i+=o;break;default:switch(_()){case"before-selector":L("selector"),S("selector");break;case"before-name":L("property"),N("name");break;case"before-value":N("value");break;case"before-at-value":N("at-value");break}i+=o;break}return p}})(cfe);var hfe=cfe.exports,dfe={exports:{}};(function(n,e){k9("parse");var t=hfe;n.exports=a;var r,i,o,s;function a(A,S){S||(S={}),r=!!S.comments,o=!!S.position,i=0,s=Array.isArray(A)?A.slice():t(A);for(var N,k=[],F;F=l();)N=b(F),N&&k.push(N);return{type:"stylesheet",stylesheet:{rules:k}}}function u(A,S){S||(S={});for(var N,k=["type","name","value"],F={},L=0;L<k.length;++L)N=k[L],A[N]&&(F[N]=S[N]||A[N]);for(k=Object.keys(S),L=0;L<k.length;++L)N=k[L],F[N]||(F[N]=S[N]);return o&&(F.position={start:A.start,end:A.end}),F}function l(){var A=s.shift();return A}function c(A){i=i+1;var S={};switch(A.type){case"font-face":case"viewport":S.declarations=E();break;case"page":S.prefix=A.prefix,S.declarations=E();break;default:S.prefix=A.prefix,S.rules=T()}return u(A,S)}function d(A){return u(A)}function h(A){return u(A)}function p(A){return u(A,{text:A.text})}function v(A){return u(A)}function m(A){return u(A)}function _(A){function S(N){return N.trim()}return u(A,{type:"rule",selectors:A.text.split(",").map(S),declarations:E()})}function b(A){switch(A.type){case"property":return m(A);case"selector":return _(A);case"at-group-end":i=i-1;return;case"media":case"keyframes":return c(A);case"comment":if(r)return p(A);break;case"charset":return h(A);case"import":return d(A);case"namespace":return v(A);case"font-face":case"supports":case"viewport":case"document":case"page":return c(A)}}function C(A){for(var S,N=[],k;(k=l())&&A&&A(k);)S=b(k),S&&N.push(S);return k&&k.type!=="end"&&s.unshift(k),N}function E(){return C(function(A){return A.type==="property"||A.type==="comment"})}function T(){return C(function(){return i})}})(dfe);var Iot=dfe.exports,pfe={exports:{}};(function(n,e){k9("stringify");var t,r,i,o,s,a;n.exports=u;function u(T,A){A||(A={}),i=A.indentation||"",r=!!A.compress,t=!!A.comments,o=1,r?s=a="":(s=`
`,a=" ");var S=v(T.stylesheet.rules,C).join(`
`).trim();return S}function l(T){if(T){o+=T;return}return r?"":Array(o).join(i||"")}function c(T){return"@"+T.type+" "+T.value+";"+s}function d(T){var A="",S=T.prefix||"";T.name&&(A=" "+T.name);var N=T.type!=="page";return"@"+S+T.type+A+a+m(T,N)+s}function h(T){return t?"/*"+(T.text||"")+"*/"+s:""}function p(T){var A;return T.selectors?A=T.selectors.join(","+s):(A="@"+T.type,A+=T.name?" "+T.name:""),l()+A+a+m(T)+s}function v(T,A){return T.reduce(function(S,N){var k=N.type==="comment"?h(N):A(N);return k&&S.push(k),S},[])}function m(T,A){var S=T.declarations,N=b;return T.rules&&(S=T.rules,N=p),S=_(S,N),S&&(S=s+S+(A?"":s)),"{"+S+l()+"}"}function _(T,A){if(!T)return"";l(1);var S=v(T,A);return l(-1),S.length?S.join(s):""}function b(T){if(T.type==="property")return E(T)}function C(T){switch(T.type){case"rule":return p(T);case"media":case"keyframes":return d(T);case"comment":return h(T);case"import":case"charset":case"namespace":return c(T);case"font-face":case"supports":case"viewport":case"document":case"page":return d(T)}}function E(T){var A=T.name?T.name+":"+a:"";return l()+A+T.value+";"}})(pfe);var xot=pfe.exports,Lot={lex:hfe,parse:Iot,stringify:xot},gfe={exports:{}},Not=/([-.*+?^${}()|[\]\/\\])/g,Oot=/\\/g,Bd=function(n){return(n+"").replace(Not,"\\$1")},Id=function(n){return(n+"").replace(Oot,"")},kot=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+Bd(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),vfe=function(e){this.combinator=e||" ",this.tag="*"};vfe.prototype.toString=function(){if(!this.raw){var n="",e,t;if(n+=this.tag||"*",this.id&&(n+="#"+this.id),this.classes&&(n+="."+this.classList.join(".")),this.attributes)for(e=0;t=this.attributes[e++];)n+="["+t.name+(t.operator?t.operator+'"'+t.value+'"':"")+"]";if(this.pseudos)for(e=0;t=this.pseudos[e++];)n+=":"+t.name,t.value&&(n+="("+t.value+")");this.raw=n}return this.raw};var mfe=function(){this.length=0};mfe.prototype.toString=function(){if(!this.raw){for(var n="",e=0,t;t=this[e++];)e!==1&&(n+=" "),t.combinator!==" "&&(n+=t.combinator+" "),n+=t;this.raw=n}return this.raw};var Rot=function(n,e,t,r,i,o,s,a,u,l,c,d,h,p,v,m){var _,b;if((e||!this.length)&&(_=this[this.length++]=new mfe,e))return"";if(_||(_=this[this.length-1]),(t||r||!_.length)&&(b=_[_.length++]=new vfe(t)),b||(b=_[_.length-1]),i)b.tag=Id(i);else if(o)b.id=Id(o);else if(s){var C=Id(s),E=b.classes||(b.classes={});if(!E[C]){E[C]=Bd(s);var T=b.classList||(b.classList=[]);T.push(C),T.sort()}}else h?(m=m||v,(b.pseudos||(b.pseudos=[])).push({type:d.length==1?"class":"element",name:Id(h),escapedName:Bd(h),value:m?Id(m):null,escapedValue:m?Bd(m):null})):a&&(c=c?Bd(c):null,(b.attributes||(b.attributes=[])).push({operator:u,name:Id(a),escapedName:Bd(a),value:c?Id(c):null,escapedValue:c?Bd(c):null}));return""},_fe=function(e){this.length=0;for(var t=this,r=e,i;e;){if(i=e.replace(kot,function(){return Rot.apply(t,arguments)}),i===e)throw new Error(r+" is an invalid expression");e=i}};_fe.prototype.toString=function(){if(!this.raw){for(var n=[],e=0,t;t=this[e++];)n.push(t);this.raw=n.join(", ")}return this.raw};var DY={},Pot=function(n){return n==null?null:(n=(""+n).replace(/^\s+|\s+$/g,""),DY[n]||(DY[n]=new _fe(n)))},Mot=Pot;(function(n,e){var t=Mot;n.exports=r;function r(o,s){this.text=o,this.spec=void 0,this.styleAttribute=s||!1}r.prototype.parsed=function(){return this.tokens||(this.tokens=i(this.text)),this.tokens},r.prototype.specificity=function(){var o=this.styleAttribute;return this.spec||(this.spec=s(this.text,this.parsed())),this.spec;function s(a,u){for(var l=u||i(a),c=[o?1:0,0,0,0],d=[],h=0;h<l.length;h++){var p=l[h],v=p.pseudos;if(p.id&&c[1]++,p.attributes&&(c[2]+=p.attributes.length),p.classList&&(c[2]+=p.classList.length),p.tag&&p.tag!=="*"&&c[3]++,v){c[3]+=v.length;for(var m=0;m<v.length;m++)v[m].name==="not"&&(d.push(v[m].value),c[3]--)}}for(var _=d.length;_--;)for(var b=s(d[_]),C=4;C--;)c[C]+=b[C];return c}};function i(o){try{return t(o)[0]}catch{return[]}}})(gfe);var Fot=gfe.exports,_R={exports:{}},AY;function Bot(){return AY||(AY=1,function(n,e){n.exports=r;var t=R9();function r(i,o,s,a,u){this.prop=i,this.value=o,this.selector=s,this.priority=a||0,this.additionalPriority=u||[]}r.prototype.compareFunc=function(i){var o=[];o.push.apply(o,this.selector.specificity()),o.push.apply(o,this.additionalPriority),o[0]+=this.priority;var s=[];return s.push.apply(s,i.selector.specificity()),s.push.apply(s,i.additionalPriority),s[0]+=i.priority,t.compareFunc(o,s)},r.prototype.compare=function(i){var o=this.compareFunc(i);return o===1?this:i},r.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}}(_R)),_R.exports}var IY;function R9(){return IY||(IY=1,function(n){var e=Lot,t=Fot,r=Bot();n.Selector=t,n.Property=r;/**
 * Returns an array of the selectors.
 *
 * @license Sizzle CSS Selector Engine - MIT
 * @param {String} selectorText from mensch
 * @api public
 */n.extract=function(o){for(var s=0,a=[],u="",l=0,c=o.length;l<c;l++){var d=o.charAt(l);s?((d==="]"||d===")")&&s--,u+=d):d===","?(a.push(u),u=""):((d==="["||d==="(")&&s++,(u.length||d!==","&&d!==`
`&&d!==" ")&&(u+=d))}return u.length&&a.push(u),a},n.parseCSS=function(i){for(var o=e.parse(i,{position:!0,comments:!0}),s=typeof o.stylesheet<"u"&&o.stylesheet.rules?o.stylesheet.rules:[],a=[],u=0,l=s.length;u<l;u++)if(s[u].type=="rule")for(var c=s[u],d=c.selectors,h=0,p=d.length;h<p;h++)a.push([d[h],c.declarations]);return a},n.getPreservedText=function(i,o,s){for(var a=e.parse(i,{position:!0,comments:!0}),u=typeof a.stylesheet<"u"&&a.stylesheet.rules?a.stylesheet.rules:[],l=[],c=u.length-1;c>=0;c--)(o.fontFaces&&u[c].type==="font-face"||o.mediaQueries&&u[c].type==="media"||o.keyFrames&&u[c].type==="keyframes"||o.pseudos&&u[c].selectors&&this.matchesPseudo(u[c].selectors[0],s))&&l.unshift(e.stringify({stylesheet:{rules:[u[c]]}},{comments:!1,indentation:"  "})),u[c].position.start;return l.length===0?!1:`
`+l.join(`
`)+`
`},n.normalizeLineEndings=function(i){return i.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},n.matchesPseudo=function(i,o){return o.find(function(s){return i.indexOf(s)>-1})},n.compareFunc=function(i,o){for(var s=Math.min(i.length,o.length),a=0;a<s;a++)if(i[a]!==o[a])return i[a]>o[a]?1:-1;return i.length-o.length},n.compare=function(i,o){return n.compareFunc(i,o)==1?i:o},n.getDefaultOptions=function(i){var o=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,resolveCSSVariables:!0,url:""},i);return o.webResources=o.webResources||{},o}}(mR)),mR}(function(n){var e=kle;R9();var t=function(i,o,s){return o=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},o),i=s(i),e.load(i,o)},r=function(){var i=[],o=function(a){var u=n.exports.codeBlocks;return Object.keys(u).forEach(function(l){var c=new RegExp(u[l].start+"([\\S\\s]*?)"+u[l].end,"g");a=a.replace(c,function(d,h){return i.push(d),"JUICE_CODE_BLOCK_"+(i.length-1)+"_"})}),a},s=function(a){for(var u=0;u<i.length;u++){var l=new RegExp("JUICE_CODE_BLOCK_"+u+'_(="")?',"gi");a=a.replace(l,function(){return i[u]})}return a};return{encodeEntities:o,decodeEntities:s}};n.exports=function(i,o,s,a){var u=r(),l=t(i,o,u.encodeEntities),c=[l];c.push.apply(c,a);var d=s.apply(void 0,c)||l;return o&&o.xmlMode?u.decodeEntities(d.xml()):u.decodeEntities(d.html())},n.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}})(Ole);var Hot=Ole.exports,P9={};P9.romanize=function(n){if(isNaN(n))return NaN;for(var e=String(+n).split(""),t=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],r="",i=3;i--;)r=(t[+e.pop()+i*10]||"")+r;return Array(+e.join("")+1).join("M")+r};P9.alphanumeric=function(n){for(var e="",t;n>0;)t=(n-1)%26,e=String.fromCharCode(65+t)+e,n=(n-t)/26|0;return e||void 0};const Vot=n=>{let e="";do e=(Math.random()+1).toString(36).substring(2);while(n.indexOf(e)!==-1);return e},Wot=(n,e)=>{let t=/([a-z\-]+)\s*\(\s*([^\(\)]*?)\s*(?:,\s*([^\(\)]*?)\s*)?\s*\)/i,r=[],i,o=Vot(e);for(;(i=t.exec(e))!==null;){let a=`${r.length}`;if(i[1].toLowerCase()=="var"){const l=yfe(n,i[2]);if(l){e=e.replace(i[0],l);continue}if(i[3]){e=e.replace(i[0],i[3]);continue}}let u=`${o}${a.padStart(5,"-")}`;e=e.replace(i[0],u),r.push({placeholder:u,replace:i[0]})}for(var s=r.length-1;s>=0;s--){const a=r[s];e=e.replace(a.placeholder,a.replace)}return e},yfe=(n,e)=>{for(;n;){if(n.styleProps&&e in n.styleProps)return n.styleProps[e].value;var n=n.pseudoElementParent||n.parent}};var Uot={replaceVariables:Wot,findVariableValue:yfe},gf=R9(),fS=P9,xY=Uot,jot=function(e){e.ignoredPseudos=["hover","active","focus","visited","link"],e.widthElements=["TABLE","TD","TH","IMG"],e.heightElements=["TABLE","TD","TH","IMG"],e.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],e.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],e.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},e.excludedProperties=[],e.juiceDocument=l,e.inlineDocument=t;function t(h,p,v){v=v||{};var m=gf.parseCSS(p),_=[],b="style",C={};if(v.styleAttributeName&&(b=v.styleAttributeName),m.forEach(A),_.forEach(S),v.inlinePseudoElements&&_.forEach(N),v.applyWidthAttributes&&_.forEach(function(O){k(O,"width")}),v.applyHeightAttributes&&_.forEach(function(O){k(O,"height")}),v.applyAttributesTableElements&&_.forEach(L),v.insertPreservedExtraCss&&v.extraCss){var E=gf.getPreservedText(v.extraCss,{mediaQueries:v.preserveMediaQueries,fontFaces:v.preserveFontFaces,keyFrames:v.preserveKeyFrames});if(E){var T=null;v.insertPreservedExtraCss!==!0?T=h(v.insertPreservedExtraCss):(T=h("head"),T.length||(T=h("body")),T.length||(T=h.root())),T.first().append("<style>"+E+"</style>")}}function A(O){var P=O[0],B=O[1],U=new gf.Selector(P),$=U.parsed();if($){for(var ee=s($),te=0;te<$.length;++te){var ne=$[te];if(ne.pseudos)for(var de=0;de<ne.pseudos.length;++de){var ke=ne.pseudos[de];if(e.ignoredPseudos.indexOf(ke.name)>=0)return}}if(ee){var qe=$[$.length-1],ft=qe.pseudos;qe.pseudos=u(qe.pseudos),P=$.toString(),qe.pseudos=ft}var ze;try{ze=h(P)}catch{return}ze.each(function(){var dt=this;if(dt.name&&e.nonVisualElements.indexOf(dt.name.toUpperCase())>=0)return;if(dt.counterProps||(dt.counterProps=dt.parent&&dt.parent.counterProps?Object.create(dt.parent.counterProps):{}),ee){var vi="pseudo"+ee,q=dt[vi];q||(q=dt[vi]=h("<span />").get(0),q.pseudoElementType=ee,q.pseudoElementParent=dt,q.counterProps=dt.counterProps,dt[vi]=q),dt=q}if(!dt.styleProps){if(dt.styleProps={},h(dt).attr(b)){var me="* { "+h(dt).attr(b)+" } ";xo(gf.parseCSS(me)[0][1],new gf.Selector("<style>",!0))}_.push(dt)}function Ht(qn,eo){for(var G=eo.split(/\s+/),Z=0;Z<G.length;Z++){var ie=G[Z],ue=parseInt(G[Z+1],10);isNaN(ue)?qn.counterProps[ie]=C[ie]=0:qn.counterProps[ie]=C[G[Z++]]=ue}}function as(qn,eo){for(var G=eo.split(/\s+/),Z=0;Z<G.length;Z++){var ie=G[Z];if(qn.counterProps[ie]!==void 0){var ue=parseInt(G[Z+1],10);isNaN(ue)?qn.counterProps[ie]=C[ie]+=1:qn.counterProps[ie]=C[G[Z++]]+=ue}}}function xo(qn,eo){for(var G=0,Z=qn.length;G<Z;G++)if(qn[G].type=="property"){var ie=qn[G].name,ue=qn[G].value;ie==="counter-reset"&&Ht(dt,ue),ie==="counter-increment"&&as(dt,ue);var ge=ue.match(/!important$/)!==null;ge&&!v.preserveImportant&&(ue=r(ue));var Se=[qn[G].position.start.line,qn[G].position.start.col],Ne=new gf.Property(ie,ue,eo,ge?2:0,Se),Ee=dt.styleProps[ie];e.excludedProperties.indexOf(ie)<0&&(Ee&&Ee.compare(Ne)===Ne||!Ee)&&(Ee&&Ee.selector!==eo?delete dt.styleProps[ie]:Ee&&(Ne.nextProp=Ee),dt.styleProps[ie]=Ne)}}xo(B,U)})}}function S(O){Object.keys(O.styleProps).length;var P=[];Object.keys(O.styleProps).forEach(function(U){for(var $=O.styleProps[U];typeof $<"u";)P.push($),$=$.nextProp}),P.sort(function(U,$){return U.compareFunc($)});var B=P.filter(function(U){return v.resolveCSSVariables&&U.prop.indexOf("--")===0?!1:U.prop!=="content"}).map(function(U){return v.resolveCSSVariables&&(U.value=xY.replaceVariables(O,U.value)),U.prop+": "+U.value.replace(/["]/g,"'")+";"}).join(" ");B&&h(O).attr(b,B)}function N(O){if(O.pseudoElementType&&O.styleProps.content){var P=o(O);P.img?(O.name="img",h(O).attr("src",P.img)):h(O).text(P);var B=O.pseudoElementParent;O.pseudoElementType==="before"?h(B).prepend(O):h(B).append(O)}}function k(O,P){if(O.name){var B=O.name.toUpperCase();if(e[P+"Elements"].indexOf(B)>-1){for(var U in O.styleProps)if(O.styleProps[U].prop===P){var $=O.styleProps[U].value;if(v.preserveImportant&&($=r($)),$.match(/(px|auto)/)){var ee=$.replace("px","");h(O).attr(P,ee);return}if(e.tableElements.indexOf(B)>-1&&$.match(/\%/)){h(O).attr(P,$);return}}}}}function F(O){return O.indexOf("url(")!==0?O:O.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}function L(O){if(O.name){var P=O.name.toUpperCase(),B=Object.keys(e.styleToAttribute);if(e.tableElements.indexOf(P)>-1){for(var U in O.styleProps)if(B.indexOf(O.styleProps[U].prop)>-1){var $=e.styleToAttribute[O.styleProps[U].prop],ee=O.styleProps[U].value;if(v.preserveImportant&&(ee=r(ee)),$==="background"&&(ee=F(ee)),/(linear|radial)-gradient\(/i.test(ee))continue;h(O).attr($,ee)}}}}}function r(h){return h.replace(/\s*!important$/,"")}function i(h,p){switch(p){case"lower-roman":return fS.romanize(h).toLowerCase();case"upper-roman":return fS.romanize(h);case"lower-latin":case"lower-alpha":return fS.alphanumeric(h).toLowerCase();case"upper-latin":case"upper-alpha":return fS.alphanumeric(h);default:return h.toString()}}function o(h){var p=h.styleProps.content.value;if(p==="none"||p==="normal")return"";var v=p.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(v){var m=v[1].replace(/^['"]|['"]$/g,"");return{img:m}}for(var _=[],b=p.split(/['"]/),C=0;C<b.length;C++)if(b[C]!==""){var E=b[C].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(E){var T=xY.findVariableValue(h,E[1])||E[2];_.push(T.replace(/^['"]|['"]$/g,""));continue}var A=b[C].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(A&&A[1]in h.counterProps){var S=h.counterProps[A[1]];_.push(i(S,A[3]));continue}var N=b[C].match(/attr\s*\(\s*(.*?)\s*\)/i);if(N){var k=N[1];_.push(h.pseudoElementParent?h.pseudoElementParent.attribs[k]:h.attribs[k]);continue}_.push(b[C])}return p=_.join(""),p=p.replace(/\\/g,""),p}function s(h){if(h.length!==0){var p=h[h.length-1].pseudos;if(p){for(var v=0;v<p.length;v++)if(a(p[v]))return p[v].name}}}function a(h){return h.name==="before"||h.name==="after"}function u(h){return h.filter(function(p){return!a(p)})}function l(h,p){p=gf.getDefaultOptions(p);var v=d(h,p);return v+=`
`+p.extraCss,t(h,v,p),h}function c(h,p){var v=[],m=h("style"),_,b,C;return m.each(function(){C=this;var E=!!C.childNodes;if(_=E?C.childNodes:C.children,_.length!==1){p.removeStyleTags&&h(C).remove();return}if(b=_[0].data,p.applyStyleTags&&h(C).attr("data-embed")===void 0&&v.push(b),p.removeStyleTags&&h(C).attr("data-embed")===void 0){var T=E?C.childNodes[0].nodeValue:C.children[0].data,A=gf.getPreservedText(T,{mediaQueries:p.preserveMediaQueries,fontFaces:p.preserveFontFaces,keyFrames:p.preserveKeyFrames,pseudos:p.preservePseudos},e.ignoredPseudos);A?E?C.childNodes[0].nodeValue=A:C.children[0].data=A:h(C).remove()}h(C).removeAttr("data-embed")}),v}function d(h,p){var v=c(h,p),m=v.join(`
`);return m}return e},M9=Hot,qot=jot,M1=qot(function(n,e){return M9(n,{xmlMode:e&&e.xmlMode},zot,[e])}),zot=function(n,e){return M1.juiceDocument(n,e)};M1.inlineContent=function(n,e,t){return M9(n,{xmlMode:t&&t.xmlMode},M1.inlineDocument,[e,t])};M1.codeBlocks=M9.codeBlocks;var Got=M1;const $ot=_A(Got);/**
 * @name ranges-sort
 * @fileoverview Sort string index ranges
 * @version 6.0.11
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-sort/}
 */var Kot={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function JD(n,e){if(!Array.isArray(n)||!n.length)return n;let t={...Kot,...e},r,i;if(t.strictlyTwoElementsInRangeArrays&&!n.every((a,u)=>!Array.isArray(a)||a.length!==2?(r=u,i=a.length,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${r}th range (${JSON.stringify(n[r],null,4)}) has not two but ${i} elements!`);if(!n.every((a,u)=>!Array.isArray(a)||!Number.isInteger(a[0])||a[0]<0||!Number.isInteger(a[1])||a[1]<0?(r=u,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${r}th range (${JSON.stringify(n[r],null,4)}) does not consist of only natural numbers!`);let o=n.length**2,s=0;return Array.from(n).sort((a,u)=>(t.progressFn&&(s+=1,t.progressFn(Math.floor(s*100/o))),a[0]===u[0]?a[1]<u[1]?-1:a[1]>u[1]?1:0:a[0]<u[0]?-1:1))}/**
 * @name ranges-merge
 * @fileoverview Merge and sort string index ranges
 * @version 9.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-merge/}
 */var LY={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function Yot(n,e){function t(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}if(!Array.isArray(n)||!n.length)return null;let r;if(e)if(t(e)){if(r={...LY,...e},r.progressFn&&t(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&typeof r.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "${typeof r.progressFn}", equal to ${JSON.stringify(r.progressFn,null,4)}`);if(![1,2,"1","2"].includes(r.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof r.mergeType}", equal to ${JSON.stringify(r.mergeType,null,4)}`);if(typeof r.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof r.joinRangesThatTouchEdges}", equal to ${JSON.stringify(r.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(e,null,4)} (type ${typeof e})`);else r={...LY};let i=n.filter(l=>Array.isArray(l)).map(l=>[...l]).filter(l=>l[2]!==void 0||l[0]!==l[1]),o,s,a;r.progressFn?o=JD(i,{progressFn:l=>{a=Math.floor(l/5),a!==s&&(s=a,r.progressFn(a))}}):o=JD(i);let u=o.length-1;for(let l=u;l>0;l--)r.progressFn&&(a=Math.floor((1-l/u)*78)+21,a!==s&&a>s&&(s=a,r.progressFn(a))),(o[l][0]<=o[l-1][0]||!r.joinRangesThatTouchEdges&&o[l][0]<o[l-1][1]||r.joinRangesThatTouchEdges&&o[l][0]<=o[l-1][1])&&(o[l-1][0]=Math.min(o[l][0],o[l-1][0]),o[l-1][1]=Math.max(o[l][1],o[l-1][1]),o[l][2]!==void 0&&(o[l-1][0]>=o[l][0]||o[l-1][1]<=o[l][1])&&o[l-1][2]!==null&&(o[l][2]===null&&o[l-1][2]!==null?o[l-1][2]=null:o[l-1][2]!=null?+r.mergeType==2&&o[l-1][0]===o[l][0]?o[l-1][2]=o[l][2]:o[l-1][2]+=o[l][2]:o[l-1][2]=o[l][2]),o.splice(l,1),l=o.length);return o.length?o:null}var Xot="Invariant failed";function Qot(n,e){if(!n)throw new Error(Xot)}/**
 * @name ranges-apply
 * @fileoverview Take an array of string index ranges, delete/replace the string according to them
 * @version 7.0.16
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-apply/}
 */function Zot(n,e,t){let r=0,i=0;if(arguments.length===0)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(typeof n!="string")throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(e&&!Array.isArray(e))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof e}, equal to: ${JSON.stringify(e,null,4)}`);if(t&&typeof t!="function")throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof t}, equal to: ${JSON.stringify(t,null,4)}`);if(!(e!=null&&e.filter(c=>c).length))return n;let o;Array.isArray(e)&&Number.isInteger(e[0])&&Number.isInteger(e[1])?o=[Array.from(e)]:o=Array.from(e);let s=o.length,a=0;o.filter(c=>c).forEach((c,d)=>{if(t&&(r=Math.floor(a/s*10),r!==i&&(i=r,t(r))),!Array.isArray(c))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${d}th element not an array: ${JSON.stringify(c,null,4)}, which is ${typeof c}`);if(!Number.isInteger(c[0])){if(!Number.isInteger(+c[0])||+c[0]<0)throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${d}th element, array ${JSON.stringify(c,null,0)}. Its first element is not an integer, string index, but ${typeof c[0]}, equal to: ${JSON.stringify(c[0],null,4)}.`);o[d][0]=+o[d][0]}if(!Number.isInteger(c[1])){if(!Number.isInteger(+c[1])||+c[1]<0)throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${d}th element, array ${JSON.stringify(c,null,0)}. Its second element is not an integer, string index, but ${typeof c[1]}, equal to: ${JSON.stringify(c[1],null,4)}.`);o[d][1]=+o[d][1]}a+=1});let u=Yot(o,{progressFn:c=>{t&&(r=10+Math.floor(c/10),r!==i&&(i=r,t(r)))}});Qot(u);let l=u.length;if(l>0){let c=n.slice(u[l-1][1]);n=u.reduce((d,h,p,v)=>{t&&(r=20+Math.floor(p/l*80),r!==i&&(i=r,t(r)));let m=p===0?0:v[p-1][1],_=v[p][0];return`${d}${n.slice(m,_)}${v[p][2]||""}`},""),n+=c}return n}/**
 * @name string-collapse-leading-whitespace
 * @fileoverview Collapse the leading and trailing whitespace of a string
 * @version 7.0.7
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-collapse-leading-whitespace/}
 */function yR(n,e=1){let t="";function r(o){return Array.from(o).reverse().join("")}function i(o,s,a){let u=a?`
`:"\r",l=a?"\r":`
`;if(!o)return o;let c=0,d="";for(let h=0,p=o.length;h<p;h++)(o[h]===u||o[h]===l&&o[h-1]!==u)&&c++,`\r
`.includes(o[h])||o[h]===t?o[h]===t?d+=o[h]:o[h]===u?c<=s&&(d+=o[h],o[h+1]===l&&(d+=o[h+1],h++)):o[h]===l&&(o==null?void 0:o[h-1])!==u&&c<=s&&(d+=o[h]):!o[h+1]&&!c&&(d+=" ");return d}if(typeof n=="string"&&n.length){let o=1;typeof+e=="number"&&Number.isInteger(+e)&&+e>=0&&(o=+e);let s="",a="";if(!n.trim())s=n;else if(!n[0].trim()){for(let u=0,l=n.length;u<l;u++)if(n[u].trim()){s=n.slice(0,u);break}}if(n.trim()&&(n.slice(-1).trim()===""||n.slice(-1)===t)){for(let u=n.length;u--;)if(n[u].trim()){a=n.slice(u+1);break}}return`${i(s,o,!1)}${n.trim()}${r(i(r(a),o,!0))}`}return n}var Jot=est;function cm(n){return n instanceof Buffer?Buffer.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function est(n){if(n=n||{},n.circles)return tst(n);return n.proto?r:t;function e(i,o){for(var s=Object.keys(i),a=new Array(s.length),u=0;u<s.length;u++){var l=s[u],c=i[l];typeof c!="object"||c===null?a[l]=c:c instanceof Date?a[l]=new Date(c):ArrayBuffer.isView(c)?a[l]=cm(c):a[l]=o(c)}return a}function t(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,t);if(i instanceof Map)return new Map(e(Array.from(i),t));if(i instanceof Set)return new Set(e(Array.from(i),t));var o={};for(var s in i)if(Object.hasOwnProperty.call(i,s)!==!1){var a=i[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),t)):a instanceof Set?o[s]=new Set(e(Array.from(a),t)):ArrayBuffer.isView(a)?o[s]=cm(a):o[s]=t(a)}return o}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,r);if(i instanceof Map)return new Map(e(Array.from(i),r));if(i instanceof Set)return new Set(e(Array.from(i),r));var o={};for(var s in i){var a=i[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),r)):a instanceof Set?o[s]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?o[s]=cm(a):o[s]=r(a)}return o}}function tst(n){var e=[],t=[];return n.proto?o:i;function r(s,a){for(var u=Object.keys(s),l=new Array(u.length),c=0;c<u.length;c++){var d=u[c],h=s[d];if(typeof h!="object"||h===null)l[d]=h;else if(h instanceof Date)l[d]=new Date(h);else if(ArrayBuffer.isView(h))l[d]=cm(h);else{var p=e.indexOf(h);p!==-1?l[d]=t[p]:l[d]=a(h)}}return l}function i(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return r(s,i);if(s instanceof Map)return new Map(r(Array.from(s),i));if(s instanceof Set)return new Set(r(Array.from(s),i));var a={};e.push(s),t.push(a);for(var u in s)if(Object.hasOwnProperty.call(s,u)!==!1){var l=s[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(r(Array.from(l),i));else if(l instanceof Set)a[u]=new Set(r(Array.from(l),i));else if(ArrayBuffer.isView(l))a[u]=cm(l);else{var c=e.indexOf(l);c!==-1?a[u]=t[c]:a[u]=i(l)}}return e.pop(),t.pop(),a}function o(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return r(s,o);if(s instanceof Map)return new Map(r(Array.from(s),o));if(s instanceof Set)return new Set(r(Array.from(s),o));var a={};e.push(s),t.push(a);for(var u in s){var l=s[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(r(Array.from(l),o));else if(l instanceof Set)a[u]=new Set(r(Array.from(l),o));else if(ArrayBuffer.isView(l))a[u]=cm(l);else{var c=e.indexOf(l);c!==-1?a[u]=t[c]:a[u]=o(l)}}return e.pop(),t.pop(),a}}const bfe=_A(Jot);/**
 * @name codsen-utils
 * @fileoverview Various utility functions
 * @version 1.6.4
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/codsen-utils/}
 */bfe();function _v(n){return Kn(n)&&n.length===1&&n.toUpperCase()!==n.toLowerCase()}function F1(n){if(n==null||typeof n!="object")return!1;let e=Object.getPrototypeOf(n);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null?!1:!(Symbol.iterator in n)&&!(Symbol.toStringTag in n)}function Kn(n){return typeof n=="string"}function $u(n){return Number.isSafeInteger(n)&&n>=0}function vf(n){return n!=null}function nst(n,e){return F1(n)&&Kn(e)&&e in n}/**
 * @name ranges-push
 * @fileoverview Gather string index ranges
 * @version 7.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-push/}
 */var NY={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function rst(n,e){function t(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}if(!Array.isArray(n)||!n.length)return null;let r;if(e)if(t(e)){if(r={...NY,...e},r.progressFn&&t(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&typeof r.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] resolvedOpts.progressFn must be a function! It was given of a type: "${typeof r.progressFn}", equal to ${JSON.stringify(r.progressFn,null,4)}`);if(![1,2,"1","2"].includes(r.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] resolvedOpts.mergeType was customised to a wrong thing! It was given of a type: "${typeof r.mergeType}", equal to ${JSON.stringify(r.mergeType,null,4)}`);if(typeof r.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] resolvedOpts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof r.joinRangesThatTouchEdges}", equal to ${JSON.stringify(r.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(e,null,4)} (type ${typeof e})`);else r={...NY};let i=n.filter(l=>Array.isArray(l)).map(l=>[...l]).filter(l=>l[2]!==void 0||l[0]!==l[1]),o,s,a;r.progressFn?o=JD(i,{progressFn:l=>{a=Math.floor(l/5),a!==s&&(s=a,r.progressFn(a))}}):o=JD(i);let u=o.length-1;for(let l=u;l>0;l--)r.progressFn&&(a=Math.floor((1-l/u)*78)+21,a!==s&&a>s&&(s=a,r.progressFn(a))),(o[l][0]<=o[l-1][0]||!r.joinRangesThatTouchEdges&&o[l][0]<o[l-1][1]||r.joinRangesThatTouchEdges&&o[l][0]<=o[l-1][1])&&(o[l-1][0]=Math.min(o[l][0],o[l-1][0]),o[l-1][1]=Math.max(o[l][1],o[l-1][1]),o[l][2]!==void 0&&(o[l-1][0]>=o[l][0]||o[l-1][1]<=o[l][1])&&o[l-1][2]!==null&&(o[l][2]===null&&o[l-1][2]!==null?o[l-1][2]=null:o[l-1][2]!=null?+r.mergeType==2&&o[l-1][0]===o[l][0]?o[l-1][2]=o[l][2]:o[l-1][2]+=o[l][2]:o[l-1][2]=o[l][2]),o.splice(l,1),l=o.length);return o.length?o:null}var ist={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},ost=class{constructor(e){xN(this,"ranges");xN(this,"opts");let t={...ist,...e};if(t.mergeType&&t.mergeType!==1&&t.mergeType!==2)if(Kn(t.mergeType)&&t.mergeType.trim()==="1")t.mergeType=1;else if(Kn(t.mergeType)&&t.mergeType.trim()==="2")t.mergeType=2;else throw new Error(`ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof t.mergeType}", equal to ${JSON.stringify(t.mergeType,null,4)}`);this.opts=t,this.ranges=[]}add(e,t,r){var s;if(e==null&&t==null)return;if(vf(e)&&!vf(t)){if(Array.isArray(e)){if(e.length){if(e.some(a=>Array.isArray(a))){e.forEach(a=>{Array.isArray(a)&&this.add(...a)});return}e.length&&$u(+e[0])&&$u(+e[1])&&this.add(...e)}return}throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set (${JSON.stringify(e,null,0)}) but second-one, "to" is not (${JSON.stringify(t,null,0)})`)}else if(!vf(e)&&vf(t))throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set (${JSON.stringify(t,null,0)}) but first-one, "from" is not (${JSON.stringify(e,null,0)})`);let i=+e,o=+t;if($u(r)&&(r=String(r)),$u(i)&&$u(o)){if(vf(r)&&!Kn(r)&&!$u(r))throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof r}, equal to:
${JSON.stringify(r,null,4)}`);if(vf(this.ranges)&&Array.isArray(this.last())&&i===this.last()[1]){if(this.last()[1]=o,this.last()[2],this.last()[2]!==null&&vf(r)){let a=this.last()[2]&&this.last()[2].length&&(!((s=this.opts)!=null&&s.mergeType)||this.opts.mergeType===1)?`${this.last()[2]}${r}`:r;this.opts.limitToBeAddedWhitespace&&(a=yR(a,this.opts.limitLinebreaksCount)),Kn(a)&&!a.length||(this.last()[2]=a)}}else{this.ranges||(this.ranges=[]);let a=r!==void 0&&!(Kn(r)&&!r.length)?[i,o,r&&this.opts.limitToBeAddedWhitespace?yR(r,this.opts.limitLinebreaksCount):r]:[i,o];this.ranges.push(a)}}else throw $u(i)&&i>=0?new TypeError(`ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof o}" equal to: ${JSON.stringify(o,null,4)}`):new TypeError(`ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof i}" equal to: ${JSON.stringify(i,null,4)}`)}push(e,t,r){this.add(e,t,r)}current(){return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=rst(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map(e=>vf(e[2])?[e[0],e[1],yR(e[2],this.opts.limitLinebreaksCount)]:e):this.ranges):null}wipe(){this.ranges=[]}replace(e){if(Array.isArray(e)&&e.length)if(Array.isArray(e[0])&&$u(e[0][0]))this.ranges=Array.from(e);else throw new Error(`ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ${JSON.stringify(e[0],null,4)} should be an array and its first element should be an integer, a string index.`);else this.ranges=[]}last(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null}};/**
 * @name arrayiffy-if-string
 * @fileoverview Put non-empty strings into arrays, turn empty-ones into empty arrays. Bypass everything else.
 * @version 5.0.8
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/arrayiffy-if-string/}
 */function sst(n){return typeof n!="string"?n:n.length?[n]:[]}/**
 * @name string-match-left-right
 * @fileoverview Match substrings on the left or right of a given index, ignoring whitespace
 * @version 9.0.19
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-match-left-right/}
 */var Cfe={cb:void 0,i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1,hungry:!1},ast=n=>n+1;function ust(n,e,t,r,i=!1,o=ast){var E;let s=typeof t=="function"?t():t;if(+e<0&&i&&s==="EOL")return s;let a={...Cfe,...r};if(e>=n.length&&!i)return!1;let u=i?1:t.length,l=0,c=!1,d=!1,h=!1,p=a.maxMismatches,v=e,m=!1,_=!1,b=!1;function C(){return l===1&&p<a.maxMismatches-1}for(;n[v];){let T=o(v);if(a.trimBeforeMatching&&n[v].trim()===""){if(!n[T]&&i&&t==="EOL")return!0;v=o(v);continue}if(a&&!a.i&&((E=a==null?void 0:a.trimCharsBeforeMatching)!=null&&E.includes(n[v]))||a!=null&&a.i&&a.trimCharsBeforeMatching&&a.trimCharsBeforeMatching.map(S=>S.toLowerCase()).includes(n[v].toLowerCase())){if(i&&t==="EOL"&&!n[T])return!0;v=o(v);continue}let A=T>v?t[t.length-u]:t[u-1];if(!a.i&&n[v]===A||a.i&&n[v].toLowerCase()===A.toLowerCase()){if(m||(m=!0),h||(h=!0),u===t.length){if(_=!0,p!==a.maxMismatches)return!1}else u===1&&(b=!0);if(u-=1,l++,C())return!1;if(!u)return l!==t.length||p===a.maxMismatches||!c?v:!1}else if(!c&&!l&&(c=!0),a.maxMismatches&&p&&v){p-=1;for(let S=0;S<=p;S++){let N=T>v?t[t.length-u+1+S]:t[u-2-S],k=n[o(v)];if(N&&(!a.i&&n[v]===N||a.i&&n[v].toLowerCase()===N.toLowerCase())&&(!a.firstMustMatch||u!==t.length)){if(l++,C())return!1;u-=2,m=!0;break}else if(k&&N&&(!a.i&&k===N||a.i&&k.toLowerCase()===N.toLowerCase())&&(!a.firstMustMatch||u!==t.length)){if(!l&&!a.hungry)return!1;u-=1,m=!0;break}else if(N===void 0&&p>=0&&m&&(!a.firstMustMatch||_)&&(!a.lastMustMatch||b))return v}m||(d=v)}else return v===0&&u===1&&!a.lastMustMatch&&h?0:!1;if(d!==!1&&d!==v&&(d=!1),u<1)return v;v=o(v)}if(u>0)return i&&s==="EOL"?!0:a&&a.maxMismatches>=u&&h?d||0:!1}function F9(n,e,t,r,i){var c,d,h;if(F1(i)&&nst(i,"trimBeforeMatching")&&i&&typeof i.trimBeforeMatching!="boolean")throw new Error(`string-match-left-right/${n}(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!${Array.isArray(i.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""}`);let o={...Cfe,...i};if(typeof o.trimCharsBeforeMatching=="string"&&(o.trimCharsBeforeMatching=sst(o.trimCharsBeforeMatching)),o.trimCharsBeforeMatching=o.trimCharsBeforeMatching.map(p=>Kn(p)?p:String(p)),!Kn(e)||!e.length)return!1;if(!Number.isInteger(t)||t<0)throw new Error(`string-match-left-right/${n}(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ${typeof t}, equal to:
${JSON.stringify(t,null,4)}`);let s,a;if(Kn(r))s=[r];else if(Array.isArray(r))s=r;else if(!r)s=r;else if(typeof r=="function")s=[],s.push(r);else throw new Error(`string-match-left-right/${n}(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ${typeof r}, equal to:
${JSON.stringify(r,null,4)}`);if(i&&!F1(i))throw new Error(`string-match-left-right/${n}(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type "${typeof i}", and equal to:
${JSON.stringify(i,null,4)}`);let u=0,l="";if((c=o==null?void 0:o.trimCharsBeforeMatching)!=null&&c.some((p,v)=>p.length>1?(u=v,l=p,!0):!1))throw new Error(`string-match-left-right/${n}(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ${u} is longer than 1 character, ${l.length} (equals to ${l}). Please split it into separate characters and put into array as separate elements.`);if(!s||!Array.isArray(s)||Array.isArray(s)&&!s.length||Array.isArray(s)&&s.length===1&&Kn(s[0])&&!s[0].trim()){if(typeof o.cb=="function"){let v,m=t;if((n==="matchLeftIncl"||n==="matchRight")&&(m+=1),n[5]==="L")for(let E=m;E--;){let T=e[E];if((!o.trimBeforeMatching||o.trimBeforeMatching&&(T!=null&&T.trim()))&&(!((d=o.trimCharsBeforeMatching)!=null&&d.length)||T!==void 0&&!o.trimCharsBeforeMatching.includes(T))){v=E;break}}else if(n.startsWith("matchRight"))for(let E=m;E<e.length;E++){let T=e[E];if((!o.trimBeforeMatching||o.trimBeforeMatching&&T.trim())&&(!((h=o.trimCharsBeforeMatching)!=null&&h.length)||!o.trimCharsBeforeMatching.includes(T))){v=E;break}}if(v===void 0)return!1;let _=e[v],b=v+1,C="";return b&&b>0&&(C=e.slice(0,b)),n[5]==="L"||v&&v>0&&(C=e.slice(v)),o.cb(_,C,v)}let p="";throw i||(p=" More so, the whole options object, the fourth input argument, is missing!"),new Error(`string-match-left-right/${n}(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!${p}`)}for(let p=0,v=s.length;p<v;p++){a=typeof s[p]=="function";let m=s[p],_,b,C="",E=t;n==="matchRight"?E+=1:n==="matchLeft"&&(E-=1);let T=ust(e,E,m,o,a,A=>n[5]==="L"?A-1:A+1);if(T&&a&&typeof m=="function"&&m()==="EOL")return m()&&(!o.cb||o.cb(_,C,b))?m():!1;if(Number.isInteger(T)&&(b=n.startsWith("matchLeft")?T-1:T+1,n[5]==="L"?C=e.slice(0,T):C=e.slice(b)),b<0&&(b=void 0),e[b]&&(_=e[b]),Number.isInteger(T)&&(!o.cb||o.cb(_,C,b)))return m}return!1}function lst(n,e,t,r){return F9("matchLeft",n,e,t,r)}function OY(n,e,t,r){return F9("matchRightIncl",n,e,t,r)}function yy(n,e,t,r){return F9("matchRight",n,e,t,r)}/**
 * @name string-range-expander
 * @fileoverview Expands string index ranges within whitespace boundaries until letters are met
 * @version 4.0.14
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-range-expander/}
 */var cst={str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1};function bR(n){var a,u;let e=/^[0-9a-zA-Z]+$/;function t(l){return Kn(l)&&!l.trim()}if(F1(n)){if(!Object.keys(n).length)throw new Error(`string-range-expander: [THROW_ID_02] Input must be a plain object but it's been given as a plain object without any keys. However, "from" and "to" settings are obligatory!`)}else{let l;throw n===void 0?l="but it is missing completely.":n===null?l="but it was given as null.":l=`but it was given as ${typeof n}, equal to:
${JSON.stringify(n,null,4)}.`,new Error(`string-range-expander: [THROW_ID_01] Input must be a plain object ${l}`)}if(!$u(n.from))throw new Error(`string-range-expander: [THROW_ID_03] The input's "from" value resolvedOpts.from, is not a number! It's been given as ${typeof n.from}, equal to ${JSON.stringify(n.from,null,0)}`);if(!$u(n.to))throw new Error(`string-range-expander: [THROW_ID_04] The input's "to" value resolvedOpts.to, is not a number! It's been given as ${typeof n.to}, equal to ${JSON.stringify(n.to,null,0)}`);if(n!=null&&n.str&&!n.str[n.from]&&n.from!==n.to)throw new Error(`string-range-expander: [THROW_ID_05] The given input string resolvedOpts.str ("${n.str}") must contain the character at index "from" ("${n.from}")`);if(n!=null&&n.str&&!n.str[n.to-1])throw new Error(`string-range-expander: [THROW_ID_06] The given input string, resolvedOpts.str ("${n.str}") must contain the character at index before "to" ("${n.to-1}")`);if(n.from>n.to)throw new Error(`string-range-expander: [THROW_ID_07] The given "from" index, "${n.from}" is greater than "to" index, "${n.to}". That's wrong!`);if(n.extendToOneSide===null||Kn(n.extendToOneSide)&&n.extendToOneSide!=="left"&&n.extendToOneSide!=="right"||!Kn(n.extendToOneSide)&&n.extendToOneSide!==void 0&&n.extendToOneSide)throw new Error(`string-range-expander: [THROW_ID_08] The options value "extendToOneSide" is not recognisable! It's set to: "${n.extendToOneSide}" (${typeof n.extendToOneSide}). It has to be either Boolean "false" or one of strings: "left" or "right"`);if(n!=null&&n.ifLeftSideIncludesThisThenCropTightly&&!Kn(n.ifLeftSideIncludesThisThenCropTightly))throw new Error(`string-range-expander: [THROW_ID_09] The option "ifLeftSideIncludesThisThenCropTightly", is not a string! It's been given as ${typeof n.ifLeftSideIncludesThisThenCropTightly}, equal to ${JSON.stringify(n.ifLeftSideIncludesThisThenCropTightly,null,0)}`);if(n!=null&&n.ifLeftSideIncludesThisCropItToo&&!Kn(n.ifLeftSideIncludesThisCropItToo))throw new Error(`string-range-expander: [THROW_ID_10] The option "ifLeftSideIncludesThisCropItToo", is not a string! It's been given as ${typeof n.ifLeftSideIncludesThisCropItToo}, equal to ${JSON.stringify(n.ifLeftSideIncludesThisCropItToo,null,0)}`);if(n!=null&&n.ifRightSideIncludesThisThenCropTightly&&!Kn(n.ifRightSideIncludesThisThenCropTightly))throw new Error(`string-range-expander: [THROW_ID_11] The option "ifRightSideIncludesThisThenCropTightly", is not a string! It's been given as ${typeof n.ifRightSideIncludesThisThenCropTightly}, equal to ${JSON.stringify(n.ifRightSideIncludesThisThenCropTightly,null,0)}`);if(n!=null&&n.ifRightSideIncludesThisCropItToo&&!Kn(n.ifRightSideIncludesThisCropItToo))throw new Error(`string-range-expander: [THROW_ID_12] The option "ifRightSideIncludesThisCropItToo", is not a string! It's been given as ${typeof n.ifRightSideIncludesThisCropItToo}, equal to ${JSON.stringify(n.ifRightSideIncludesThisCropItToo,null,0)}`);let r={...cst,...n},i=r.str,o=r.from,s=r.to;if(r.extendToOneSide!=="right"&&(t(i[o-1])&&(t(i[o-2])||r.ifLeftSideIncludesThisCropItToo.includes(i[o-2]))||i[o-1]&&r.ifLeftSideIncludesThisCropItToo.includes(i[o-1])||r.wipeAllWhitespaceOnLeft&&t(i[o-1]))){for(let l=o;l--;)if(!r.ifLeftSideIncludesThisCropItToo.includes(i[l])){if(i[l].trim()){r.wipeAllWhitespaceOnLeft||r.ifLeftSideIncludesThisCropItToo.includes(i[l+1])?o=l+1:o=l+2;break}else if(l===0){r.wipeAllWhitespaceOnLeft?o=0:o=1;break}}}if(r.extendToOneSide!=="left"&&(t(i[s])&&(r.wipeAllWhitespaceOnRight||t(i[s+1]))||r.ifRightSideIncludesThisCropItToo.includes(i[s]))){for(let l=s,c=i.length;l<c;l++)if(!r.ifRightSideIncludesThisCropItToo.includes(i[l])){if(i[l].trim()){r.wipeAllWhitespaceOnRight||r.ifRightSideIncludesThisCropItToo.includes(i[l-1])?s=l:s=l-1;break}else if(l===i.length-1){r.wipeAllWhitespaceOnRight?s=i.length:s=i.length-1;break}}}return(r.extendToOneSide!=="right"&&Kn(r.ifLeftSideIncludesThisThenCropTightly)&&r.ifLeftSideIncludesThisThenCropTightly&&(i[o-2]&&r.ifLeftSideIncludesThisThenCropTightly.includes(i[o-2])||i[o-1]&&r.ifLeftSideIncludesThisThenCropTightly.includes(i[o-1]))||r.extendToOneSide!=="left"&&Kn(r.ifRightSideIncludesThisThenCropTightly)&&r.ifRightSideIncludesThisThenCropTightly&&(i[s+1]&&r.ifRightSideIncludesThisThenCropTightly.includes(i[s+1])||i[s]&&r.ifRightSideIncludesThisThenCropTightly.includes(i[s])))&&(r.extendToOneSide!=="right"&&t(i[o-1])&&!r.wipeAllWhitespaceOnLeft&&(o-=1),r.extendToOneSide!=="left"&&t(i[s])&&!r.wipeAllWhitespaceOnRight&&(s+=1)),r.addSingleSpaceToPreventAccidentalConcatenation&&((a=i[o-1])!=null&&a.trim())&&((u=i[s])!=null&&u.trim())&&(!r.ifLeftSideIncludesThisThenCropTightly&&!r.ifRightSideIncludesThisThenCropTightly||!((!r.ifLeftSideIncludesThisThenCropTightly||r.ifLeftSideIncludesThisThenCropTightly.includes(i[o-1]))&&(!r.ifRightSideIncludesThisThenCropTightly||i[s]&&r.ifRightSideIncludesThisThenCropTightly.includes(i[s]))))&&(e.test(i[o-1])||e.test(i[s]))?[o,s," "]:[o,s]}/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 6.0.17
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */bfe();var fm="";function fst({str:n,idx:e=0,stopAtNewlines:t=!1,stopAtRawNbsp:r=!1}){if(typeof n!="string"||!n.length||((!e||typeof e!="number")&&(e=0),!n[e+1]))return null;if(n[e+1]&&(n[e+1].trim()||t&&`
\r`.includes(n[e+1])||r&&n[e+1]===fm))return e+1;if(n[e+2]&&(n[e+2].trim()||t&&`
\r`.includes(n[e+2])||r&&n[e+2]===fm))return e+2;for(let i=e+1,o=n.length;i<o;i++)if(n[i].trim()||t&&`
\r`.includes(n[i])||r&&n[i]===fm)return i;return null}function Br(n,e=0){return fst({str:n,idx:e,stopAtNewlines:!1,stopAtRawNbsp:!1})}function hst({str:n,idx:e,stopAtNewlines:t,stopAtRawNbsp:r}){if(typeof n!="string"||!n.length||((!e||typeof e!="number")&&(e=0),e<1))return null;if(n[~-e]&&(n[~-e].trim()||t&&`
\r`.includes(n[~-e])||r&&n[~-e]===fm))return~-e;if(n[e-2]&&(n[e-2].trim()||t&&`
\r`.includes(n[e-2])||r&&n[e-2]===fm))return e-2;for(let i=e;i--;)if(n[i]&&(n[i].trim()||t&&`
\r`.includes(n[i])||r&&n[i]===fm))return i;return null}function CR(n,e=0){return hst({str:n,idx:e,stopAtNewlines:!1,stopAtRawNbsp:!1})}/**
 * @name html-crush
 * @fileoverview Minify email templates
 * @version 6.0.19
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/html-crush/}
 */var Jt=new ost({limitToBeAddedWhitespace:!0}),dst={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","<\/script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","<!--[if","<!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]};function pst(n,e){var dt,vi;let t=Date.now();if(!Kn(n))throw n===void 0?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error(`html-crush: [THROW_ID_02] the first input argument must be string! It was given as "${typeof n}", equal to:
${JSON.stringify(n,null,4)}`);if(e&&!F1(e))throw new Error(`html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type ${typeof e}, equal to ${JSON.stringify(e,null,4)}`);if(e&&Array.isArray(e.breakToTheLeftOf)&&e.breakToTheLeftOf.length){for(let q=0,me=e.breakToTheLeftOf.length;q<me;q++)if(!Kn(e.breakToTheLeftOf[q]))throw new TypeError(`html-crush: [THROW_ID_05] the resolvedOpts.breakToTheLeftOf array contains non-string elements! For example, element at index ${q} is of a type "${typeof e.breakToTheLeftOf[q]}" and is equal to:
${JSON.stringify(e.breakToTheLeftOf[q],null,4)}`)}let r={...dst,...e};typeof r.removeHTMLComments=="boolean"&&(r.removeHTMLComments=r.removeHTMLComments?1:0);let i="";Array.isArray(r.breakToTheLeftOf)&&r.breakToTheLeftOf.length&&(i=[...new Set(r.breakToTheLeftOf.map(q=>q[0]))].join(""));let o={removeHTMLComments:!1,removeCSSComments:!1},s=null,a=null,u=!1,l=0,c=0,d=!1,h=!1,p=null,v=null,m=null,_=null,b,C=null,E=null,T=null,A=null,S=null,N=null,k=">};",F="<",L="!",O=">",P="<",B="{},:;<>~+",U=B,$=B,ee=!0,te=n.length,ne=Math.floor(te/2),de=.01,ke;r.reportProgressFunc&&(ke=Math.floor(r.reportProgressFuncTo-(r.reportProgressFuncTo-r.reportProgressFuncFrom)*de-r.reportProgressFuncFrom));let qe,ft=0,ze=`
`;if(n.includes(`\r
`)?ze=`\r
`:n.includes("\r")&&(ze="\r"),te){for(let q=0;q<te;q++){if(r.reportProgressFunc&&(te>1e3&&te<2e3?q===ne&&r.reportProgressFunc(Math.floor((r.reportProgressFuncTo-r.reportProgressFuncFrom)/2)):te>=2e3&&(qe=r.reportProgressFuncFrom+Math.floor(q/te*(ke||1)),qe!==ft&&(ft=qe,r.reportProgressFunc(qe)))),c++,!b&&d&&n[q]==="}"&&n[q-1]==="}"&&(l+1>=r.lineLengthLimit?(Jt.push(q,q,ze),l=0):(C=q,E=q,T=" ")),b&&typeof b=="number"&&q>=b&&(b=void 0),_!==null&&n.startsWith("<\/script",q)&&!_v(n[q+8])){if((r.removeIndentations||r.removeLineBreaks)&&q>0&&n[~-q]&&!n[~-q].trim()){for(let me=q;me--;)if(n[me]===`
`||n[me]==="\r"||n[me].trim()){me+1<q&&Jt.push(me+1,q);break}}_=null,b=!1,q+=8;continue}if(!b&&!d&&n.startsWith("<script",q)&&!_v(n[q+7])){_=q,b=!0;let me="";(r.removeLineBreaks||r.removeIndentations)&&a!==null&&(a>0&&(me=ze),Jt.push(a,q,me)),a=null,s=null}if(S!==null&&A===null&&!/\w/.test(n[q])){A=n.slice(S,q);let me=Br(n,~-q);typeof me=="number"&&n[me]===">"&&!n[q].trim()&&Br(n,q)?Jt.push(q,Br(n,q)):me&&n[me]==="/"&&n[Br(n,me)]===">"&&(!n[q].trim()&&Br(n,q)&&Jt.push(q,Br(n,q)),n[me+1]!==">"&&Br(n,me+1)&&Jt.push(me+1,Br(n,me+1)))}if(!b&&!d&&!p&&n[~-q]==="<"&&S===null&&(/\w/.test(n[q])?S=q:n[Br(n,~-q)]==="/"&&/\w/.test(n[Br(n,Br(n,~-q))]||"")&&(S=Br(n,Br(n,~-q)))),!b&&(d||p)&&v!==null&&n[q]==="*"&&n[q+1]==="/"&&([C,E]=bR({str:n,from:v,to:q+2,ifLeftSideIncludesThisThenCropTightly:U,ifRightSideIncludesThisThenCropTightly:$}),v=null,C!=null?Jt.push(C,E):(l+=1,q+=1),b=q+2),!b&&(d||p)&&v===null&&n[q]==="/"&&n[q+1]==="*"&&(o.removeCSSComments||(o.removeCSSComments=!0),r.removeCSSComments&&(v=q)),h&&n.startsWith("![endif",q+1)&&(h=!1),!b&&!d&&!p&&m!==null){let me;n.startsWith("-->",q)?me=3:n[q]===">"&&n[q-1]==="]"&&(me=1),me&&([C,E]=bR({str:n,from:m,to:q+me}),m=null,C!=null?r.lineLengthLimit&&c-(E-C)>=r.lineLengthLimit?(Jt.push(C,E,ze),c=-me):(Jt.push(C,E),c-=E-C):(l+=me-1,q+=me-1),b=q+me)}if(!b&&!d&&!p&&(n.startsWith("<!--",q)||r.removeHTMLComments===2&&n.startsWith("<![endif",q))&&m===null&&(n.startsWith("[if",q+4)?(h||(h=!0),r.removeHTMLComments===2&&(m=q)):r.removeHTMLComments&&(!h||r.removeHTMLComments===2)&&(m=q),o.removeHTMLComments||(o.removeHTMLComments=!0)),!b&&d&&v===null&&n.startsWith("</style",q)&&!_v(n[q+7])?d=!1:!b&&!d&&v===null&&n.startsWith("<style",q)&&!_v(n[q+6])&&(d=!0,(r.removeLineBreaks||r.removeIndentations)&&r.breakToTheLeftOf.includes("<style")&&n.startsWith(' type="text/css">',q+6)&&n[q+24]&&Jt.push(q+23,q+23,ze)),!b&&!p&&`"'`.includes(n[q])&&n.endsWith("style=",q)&&(p=q),!b&&!n[q].trim())a===null&&(a=q);else if(!b&&!((d||p)&&v!==null)){if(a!==null){if(r.removeLineBreaks&&(l+=1),ee)ee=!1,(r.removeIndentations||r.removeLineBreaks)&&Jt.push(0,q);else if(r.removeIndentations&&!r.removeLineBreaks&&(!u&&s!==null&&q>s?Jt.push(s+1,q):a+1<q&&(n.endsWith("]>",a)||n.endsWith("-->",a)||n.startsWith("<![",q)||n.startsWith("<!--<![",q)?Jt.push(a,q):n[a]===" "?Jt.push(a+1,q):n[~-q]===" "?Jt.push(a,~-q):Jt.push(a,q," "))),r.removeLineBreaks||p){if(i.includes(n[q])&&OY(n,q,r.breakToTheLeftOf)){!(`\r
`.includes(n[~-q])&&a===~-q)&&!(n[~-q]===`
`&&n[q-2]==="\r"&&a===q-2)&&Jt.push(a,q,ze),C=null,E=null,T=null,a=null,l=1;continue}let me=" ";n[q]==="<"&&yy(n,q,r.mindTheInlineTags,{cb:Ht=>!Ht||!/\w/.test(Ht)})||(n[~-a]&&O.includes(n[~-a])&&P.includes(n[q])||(d||p)&&v===null&&(U.includes(n[~-a])||$.includes(n[q]))||n.startsWith("!important",q)&&!h||p&&(n[~-a]==="'"||n[~-a]==='"')||n[~-a]==="}"&&n.startsWith("</style",q)||n[q]===">"&&(`'"`.includes(n[CR(n,q)])||n[Br(n,q)]==="<")||n[q]==="/"&&n[Br(n,q)]===">")&&(me="",n[q]==="/"&&n[q+1]===">"&&Br(n,q)&&Br(n,q)>q+1&&(Jt.push(q+1,Br(n,q)),l-=Br(n,q)-q+1)),d&&n[q]==="}"&&a&&n[a-1]==="}"&&(me=" "),me!=null&&me.length&&(l+=1),r.lineLengthLimit?l>=r.lineLengthLimit||!n[q+1]||n[q]===">"||n[q]==="/"&&n[q+1]===">"?((l>r.lineLengthLimit||l===r.lineLengthLimit&&((dt=n[q+1])!=null&&dt.trim())&&!k.includes(n[q])&&!F.includes(n[q+1]))&&(me=ze,l=1),(l>r.lineLengthLimit||!(me===" "&&q===a+1))&&(Jt.push(a,q,me),s=null),C=null,E=null,T=null):(C===null||a<C)&&(C=a,E=q,T=me):q===a+1&&me===" "||Jt.push(a,q,me)}a=null,u||(u=!0)}else ee&&(ee=!1),r.removeLineBreaks&&(l+=1);u||(u=!0)}if(!b&&!ee&&q!==0&&r.removeLineBreaks&&(r.lineLengthLimit||i)&&!n.startsWith("</a",q)){if(i&&OY(n,q,r.breakToTheLeftOf)&&n.slice(0,q).trim()&&(!n.startsWith("<![endif]",q)||!lst(n,q,"<!--"))){Jt.push(q,q,ze),C=null,E=null,T=null,l=1;continue}else if(r.lineLengthLimit&&l<=r.lineLengthLimit){if(!n[q+1]||F.includes(n[q])&&!L.includes(n[q])||k.includes(n[q])||!n[q].trim()){if(C!==null&&E!==null&&(C!==E||T!=null&&T.length)){let me=T;n[q].trim()&&((vi=n[q+1])!=null&&vi.trim())&&l+(T?T.length:0)>r.lineLengthLimit&&(me=ze),(l+(me?me.length:0)>r.lineLengthLimit||!(me===" "&&E===C+1&&n[C]===" "))&&(n[~-C]==="}"&&n[E]==="{"||(Jt.push(C,E,me),s=null))}n[q].trim()&&(F.includes(n[q])||n[~-q]&&k.includes(n[~-q]))&&Kn(N)&&(!A||!r.mindTheInlineTags.includes(A))&&!(n[q]==="<"&&yy(n,q,r.mindTheInlineTags,{cb:me=>!me||!/\w/.test(me)}))&&!(n[q]==="<"&&yy(n,q,r.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:me=>!me||!/\w/.test(me)}))?(C=q,E=q,T=null):v===null&&C!==null&&(p||!r.mindTheInlineTags||!Array.isArray(r.mindTheInlineTags)||Array.isArray(r.mindTheInlineTags.length)&&!r.mindTheInlineTags.length||!Kn(A)||Array.isArray(r.mindTheInlineTags)&&r.mindTheInlineTags.length&&Kn(A)&&!r.mindTheInlineTags.includes(A))&&!(n[q]==="<"&&yy(n,q,r.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:me=>!me||!/\w/.test(me)}))&&(C=null,E=null,T=null)}}else if(r.lineLengthLimit)if(F.includes(n[q])&&!(n[q]==="<"&&yy(n,q,r.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:me=>!me||!/\w/.test(me)})))if(C!==null&&E!==null&&(C!==E||T!=null&&T.length)){let me=T!=null&&T.length?T.length:0;l-(E-C-me)-1>r.lineLengthLimit||(Jt.push(C,E,T),l-(E-C-me)-1===r.lineLengthLimit&&(Jt.push(q,q,ze),l=0),C=null,E=null,T=null)}else Jt.push(q,q,ze),l=0;else n[q+1]&&k.includes(n[q])&&Kn(A)&&Array.isArray(r.mindTheInlineTags)&&r.mindTheInlineTags.length&&!r.mindTheInlineTags.includes(A)?C!==null&&E!==null&&(C!==E||T!=null&&T.length)||(Jt.push(q+1,q+1,ze),l=0):n[q].trim()&&(n[q+1]||C!==null&&E!==null&&(C!==E||T!=null&&T.length)&&Jt.push(C,E,ze))}if(!b&&!ee&&r.removeLineBreaks&&r.lineLengthLimit&&l>=r.lineLengthLimit&&C!==null&&E!==null&&!k.includes(n[q])&&!F.includes(n[q])&&!"/".includes(n[q])&&!(l===r.lineLengthLimit&&n[q+1]&&!n[q+1].trim())){let me=ze;n[q+1]&&!n[q+1].trim()&&l===r.lineLengthLimit&&(me=T),me===ze&&!n[~-C].trim()&&CR(n,C)&&(C=CR(n,C)+1),Jt.push(C,E,me),l=q-E,n[q].length&&(l+=1),C=null,E=null,T=null}if((!b&&n[q]===`
`||n[q]==="\r"&&(!n[q+1]||n[q+1]&&n[q+1]!==`
`))&&(s=q,u&&(u=!1),!r.removeLineBreaks&&a!==null&&a<q&&n[q+1]&&n[q+1]!=="\r"&&n[q+1]!==`
`&&Jt.push(a,q)),n[q+1]||(d&&v!==null?Jt.push([...bR({str:n,from:v,to:q,ifLeftSideIncludesThisThenCropTightly:U,ifRightSideIncludesThisThenCropTightly:$})]):a&&n[q]!==`
`&&n[q]!=="\r"?Jt.push(a,q+1):a&&(n[q]==="\r"&&n[q+1]===`
`||n[q]===`
`&&n[q-1]!=="\r")&&Jt.push(a,q)),!b&&p&&p<q&&n[p]===n[q]&&(p=null),!b&&!d&&n.startsWith("<pre",q)&&!_v(n[q+4])){let me=n.indexOf("</pre",q+5);me>0&&(b=me)}if(!b&&!d&&n.startsWith("<code",q)&&!_v(n[q+5])){let me=n.indexOf("</code",q+5);me>0&&(b=me)}if(!b&&n.startsWith("<![CDATA[",q)){let me=n.indexOf("]]>",q+9);me>0&&(b=me)}!b&&!d&&!p&&S!==null&&n[q]===">"&&(n[Br(n,q)]==="<"&&(N=A),S=null,A=null),n[q]==="<"&&N!==null&&(N=null),d&&n[q]==="{"&&n[q+1]==="{"&&n.indexOf("}}")!==-1&&(b=n.indexOf("}}")+2)}if(Jt.current()){let q=Jt.current();Jt.wipe();let me=r.reportProgressFuncTo-(r.reportProgressFuncTo-r.reportProgressFuncFrom)*de,Ht=Zot(n,q,xo=>{r.reportProgressFunc&&te>=2e3&&(qe=Math.floor(me+(r.reportProgressFuncTo-me)*(xo/100)),qe!==ft&&(ft=qe,r.reportProgressFunc(qe)))}),as=Ht.length;return{log:{timeTakenInMilliseconds:Date.now()-t,originalLength:te,cleanedLength:as,bytesSaved:Math.max(te-as,0),percentageReducedOfOriginal:te?Math.round(Math.max(te-as,0)*100/te):0},ranges:q,applicableOpts:o,result:Ht}}}return{log:{timeTakenInMilliseconds:Date.now()-t,originalLength:te,cleanedLength:te,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:o,ranges:null,result:n}}async function gst(n){let e=FJe(n);const t=/<html.*?>/,r=e.match(t)[0];e=vst(e),e=mst(e),e=_st(e),e=yst(e),e=e.replace(t,r);const i=bst(e),o=await kY(e),s=await kY(i),a=new Date,u=`ARG_${a.getUTCFullYear()}_${a.getUTCMonth()}`;try{RY(o,u+".email.html"),RY(s,u+".web.html")}catch(l){console.error("Failed to download files:",l)}}function vst(n){const e=n.split("<body>");return e[0]+="<body>",e[1]=e[1].replaceAll(/(http:\/\/|https:\/\/www\.)/g,"https://"),e.join("")}function mst(n){return HJe.encode(n,{allowUnsafeSymbols:!0})}function _st(n){return $ot(n,{removeStyleTags:!1})}function yst(n){const e=["br","img","meta","hr"];for(const t of e){const r=new RegExp(`(<${t}.*?)(/?>)`,"g");n=n.replaceAll(r,"$1/>")}return n}async function kY(n){return pst(n,{removeLineBreaks:!0,removeHTMLComments:!0,breakToTheLeftOf:[],mindTheInlineTags:[]}).result}function bst(n){const e=document.createElement("div");return e.innerHTML=n,e.querySelector("#u_body").outerHTML}function RY(n,e){const t=document.createElement("a"),r=new Blob([n],{type:"html/plain"});t.href=URL.createObjectURL(r),t.download=e,document.body.appendChild(t),t.click()}const wfe=n=>(hX("data-v-6e619810"),n=n(),dX(),n),Cst=wfe(()=>Ie("ul",null,[Ie("li",null,"Logo")],-1)),wst={key:0},Est=wfe(()=>Ie("li",null,[Ie("button",null,"Subir imagen")],-1)),Sst=Fc({__name:"TopNav",setup(n){const e=Gf(d9),{firepadReset:t}=Gf(h9);function r(){var o;(o=e.value)!=null&&o.innerHTML&&gst(e.value.innerHTML),t.value()}function i(){qo.logout(),jD("/login")}return(o,s)=>(Ki(),sa("nav",null,[Cst,oX(qo).isAuthed?(Ki(),sa("ul",wst,[Est,Ie("li",null,[Ie("button",{onClick:r},"Generar HTML")]),Ie("li",null,[Ie("button",{class:"secondary",onClick:i},"Salir")])])):Zve("",!0)]))}}),Tst=U1(Sst,[["__scopeId","data-v-6e619810"]]),Dst=Fc({__name:"App",setup(n){const e=PR(()=>({"/":TJe(yJe),"/login":Nle})),t=gu(window.location.hash),r=PR(()=>e.value[t.value.slice(1)||"/"]||OJe),i=gu(null),o=gu(()=>{}),s=u=>{o.value=u};function a(){window.location.hash[1]==="/"&&(t.value=window.location.hash)}return window.addEventListener("hashchange",a),NR(d9,i),NR(h9,{firepadReset:o,setFirepadReset:s}),yX(()=>{window.removeEventListener("hashchange",a)}),(u,l)=>(Ki(),YS(PJe,null,{header:AR(()=>[ni(Tst)]),main:AR(()=>[(Ki(),YS(gve(r.value)))]),_:1}))}});Rme(Dst).mount("#app");
