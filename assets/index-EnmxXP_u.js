const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/javascript-B50b1xvf.js","assets/typescript-3a6SNL6q.js"])))=>i.map(i=>d[i]);
var $ge=Object.defineProperty;var Kge=(n,e,t)=>e in n?$ge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var UN=(n,e,t)=>Kge(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kF(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const qn={},em=[],dl=()=>{},Yge=()=>!1,fA=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),RF=n=>n.startsWith("onUpdate:"),Ji=Object.assign,PF=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Xge=Object.prototype.hasOwnProperty,En=(n,e)=>Xge.call(n,e),It=Array.isArray,tm=n=>hA(n)==="[object Map]",oX=n=>hA(n)==="[object Set]",kt=n=>typeof n=="function",Vr=n=>typeof n=="string",Lh=n=>typeof n=="symbol",yr=n=>n!==null&&typeof n=="object",sX=n=>(yr(n)||kt(n))&&kt(n.then)&&kt(n.catch),aX=Object.prototype.toString,hA=n=>aX.call(n),Qge=n=>hA(n).slice(8,-1),uX=n=>hA(n)==="[object Object]",MF=n=>Vr(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Wy=kF(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dA=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Zge=/-(\w)/g,Au=dA(n=>n.replace(Zge,(e,t)=>t?t.toUpperCase():"")),Jge=/\B([A-Z])/g,ig=dA(n=>n.replace(Jge,"-$1").toLowerCase()),pA=dA(n=>n.charAt(0).toUpperCase()+n.slice(1)),jN=dA(n=>n?`on${pA(n)}`:""),vh=(n,e)=>!Object.is(n,e),qN=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},lX=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},eve=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let WU;const cX=()=>WU||(WU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function FF(n){if(It(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=Vr(r)?ive(r):FF(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Vr(n)||yr(n))return n}const tve=/;(?![^(]*\))/g,nve=/:([^]+)/,rve=/\/\*[^]*?\*\//g;function ive(n){const e={};return n.replace(rve,"").split(tve).forEach(t=>{if(t){const r=t.split(nve);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function BF(n){let e="";if(Vr(n))e=n;else if(It(n))for(let t=0;t<n.length;t++){const r=BF(n[t]);r&&(e+=r+" ")}else if(yr(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const ove="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sve=kF(ove);function fX(n){return!!n||n===""}const hX=n=>!!(n&&n.__v_isRef===!0),gA=n=>Vr(n)?n:n==null?"":It(n)||yr(n)&&(n.toString===aX||!kt(n.toString))?hX(n)?gA(n.value):JSON.stringify(n,dX,2):String(n),dX=(n,e)=>hX(e)?dX(n,e.value):tm(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,i],o)=>(t[zN(r,o)+" =>"]=i,t),{})}:oX(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>zN(t))}:Lh(e)?zN(e):yr(e)&&!It(e)&&!uX(e)?String(e):e,zN=(n,e="")=>{var t;return Lh(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xs;class ave{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xs,!e&&Xs&&(this.index=(Xs.scopes||(Xs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Xs;try{return Xs=this,e()}finally{Xs=t}}}on(){Xs=this}off(){Xs=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function uve(){return Xs}let jn;const GN=new WeakSet;class pX{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Xs&&Xs.active&&Xs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,GN.has(this)&&(GN.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=Uy,Uy=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,UU(this),vX(this);const e=jn,t=Cu;jn=this,Cu=!0;try{return this.fn()}finally{mX(this),jn=e,Cu=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)WF(e);this.deps=this.depsTail=void 0,UU(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?GN.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){FR(this)&&this.run()}get dirty(){return FR(this)}}let gX=0,Uy;function HF(){gX++}function VF(){if(--gX>0)return;let n;for(;Uy;){let e=Uy;for(Uy=void 0;e;){const t=e.nextEffect;if(e.nextEffect=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function vX(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mX(n){let e,t=n.depsTail,r=t;for(;r;){const i=r.prevDep;r.version===-1?(r===t&&(t=i),WF(r),lve(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}n.deps=e,n.depsTail=t}function FR(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&_X(e.dep.computed)||e.dep.version!==e.version)return!0;return!!n._dirty}function _X(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Ab))return;n.globalVersion=Ab;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&!FR(n)){n.flags&=-3;return}const t=jn,r=Cu;jn=n,Cu=!0;try{vX(n);const i=n.fn(n._value);(e.version===0||vh(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{jn=t,Cu=r,mX(n),n.flags&=-3}}function WF(n){const{dep:e,prevSub:t,nextSub:r}=n;if(t&&(t.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=t,n.nextSub=void 0),e.subs===n&&(e.subs=t),!e.subs&&e.computed){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)WF(i)}}function lve(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Cu=!0;const yX=[];function Nh(){yX.push(Cu),Cu=!1}function Oh(){const n=yX.pop();Cu=n===void 0?!0:n}function UU(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=jn;jn=void 0;try{e()}finally{jn=t}}}let Ab=0,cve=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class UF{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!jn||!Cu||jn===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==jn)t=this.activeLink=new cve(jn,this),jn.deps?(t.prevDep=jn.depsTail,jn.depsTail.nextDep=t,jn.depsTail=t):jn.deps=jn.depsTail=t,jn.flags&4&&bX(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=jn.depsTail,t.nextDep=void 0,jn.depsTail.nextDep=t,jn.depsTail=t,jn.deps===t&&(jn.deps=r)}return t}trigger(e){this.version++,Ab++,this.notify(e)}notify(e){HF();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()}finally{VF()}}}function bX(n){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)bX(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}const BR=new WeakMap,pp=Symbol(""),HR=Symbol(""),Ib=Symbol("");function Ao(n,e,t){if(Cu&&jn){let r=BR.get(n);r||BR.set(n,r=new Map);let i=r.get(t);i||r.set(t,i=new UF),i.track()}}function Ac(n,e,t,r,i,o){const s=BR.get(n);if(!s){Ab++;return}const a=u=>{u&&u.trigger()};if(HF(),e==="clear")s.forEach(a);else{const u=It(n),l=u&&MF(t);if(u&&t==="length"){const c=Number(r);s.forEach((h,d)=>{(d==="length"||d===Ib||!Lh(d)&&d>=c)&&a(h)})}else switch(t!==void 0&&a(s.get(t)),l&&a(s.get(Ib)),e){case"add":u?l&&a(s.get("length")):(a(s.get(pp)),tm(n)&&a(s.get(HR)));break;case"delete":u||(a(s.get(pp)),tm(n)&&a(s.get(HR)));break;case"set":tm(n)&&a(s.get(pp));break}}VF()}function rv(n){const e=Dn(n);return e===n?e:(Ao(e,"iterate",Ib),Fa(n)?e:e.map(mo))}function vA(n){return Ao(n=Dn(n),"iterate",Ib),n}const fve={__proto__:null,[Symbol.iterator](){return $N(this,Symbol.iterator,mo)},concat(...n){return rv(this).concat(...n.map(e=>It(e)?rv(e):e))},entries(){return $N(this,"entries",n=>(n[1]=mo(n[1]),n))},every(n,e){return tc(this,"every",n,e,void 0,arguments)},filter(n,e){return tc(this,"filter",n,e,t=>t.map(mo),arguments)},find(n,e){return tc(this,"find",n,e,mo,arguments)},findIndex(n,e){return tc(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return tc(this,"findLast",n,e,mo,arguments)},findLastIndex(n,e){return tc(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return tc(this,"forEach",n,e,void 0,arguments)},includes(...n){return KN(this,"includes",n)},indexOf(...n){return KN(this,"indexOf",n)},join(n){return rv(this).join(n)},lastIndexOf(...n){return KN(this,"lastIndexOf",n)},map(n,e){return tc(this,"map",n,e,void 0,arguments)},pop(){return Y0(this,"pop")},push(...n){return Y0(this,"push",n)},reduce(n,...e){return jU(this,"reduce",n,e)},reduceRight(n,...e){return jU(this,"reduceRight",n,e)},shift(){return Y0(this,"shift")},some(n,e){return tc(this,"some",n,e,void 0,arguments)},splice(...n){return Y0(this,"splice",n)},toReversed(){return rv(this).toReversed()},toSorted(n){return rv(this).toSorted(n)},toSpliced(...n){return rv(this).toSpliced(...n)},unshift(...n){return Y0(this,"unshift",n)},values(){return $N(this,"values",mo)}};function $N(n,e,t){const r=vA(n),i=r[e]();return r!==n&&!Fa(n)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=t(o.value)),o}),i}const hve=Array.prototype;function tc(n,e,t,r,i,o){const s=vA(n),a=s!==n&&!Fa(n),u=s[e];if(u!==hve[e]){const h=u.apply(n,o);return a?mo(h):h}let l=t;s!==n&&(a?l=function(h,d){return t.call(this,mo(h),d,n)}:t.length>2&&(l=function(h,d){return t.call(this,h,d,n)}));const c=u.call(s,l,r);return a&&i?i(c):c}function jU(n,e,t,r){const i=vA(n);let o=t;return i!==n&&(Fa(n)?t.length>3&&(o=function(s,a,u){return t.call(this,s,a,u,n)}):o=function(s,a,u){return t.call(this,s,mo(a),u,n)}),i[e](o,...r)}function KN(n,e,t){const r=Dn(n);Ao(r,"iterate",Ib);const i=r[e](...t);return(i===-1||i===!1)&&$F(t[0])?(t[0]=Dn(t[0]),r[e](...t)):i}function Y0(n,e,t=[]){Nh(),HF();const r=Dn(n)[e].apply(n,t);return VF(),Oh(),r}const dve=kF("__proto__,__v_isRef,__isVue"),CX=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Lh));function pve(n){Lh(n)||(n=String(n));const e=Dn(this);return Ao(e,"has",n),e.hasOwnProperty(n)}class wX{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const i=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return o;if(t==="__v_raw")return r===(i?o?Ave:DX:o?TX:SX).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=It(e);if(!i){let u;if(s&&(u=fve[t]))return u;if(t==="hasOwnProperty")return pve}const a=Reflect.get(e,t,Eo(e)?e:r);return(Lh(t)?CX.has(t):dve(t))||(i||Ao(e,"get",t),o)?a:Eo(a)?s&&MF(t)?a:a.value:yr(a)?i?IX(a):zF(a):a}}class EX extends wX{constructor(e=!1){super(!1,e)}set(e,t,r,i){let o=e[t];if(!this._isShallow){const u=Rp(o);if(!Fa(r)&&!Rp(r)&&(o=Dn(o),r=Dn(r)),!It(e)&&Eo(o)&&!Eo(r))return u?!1:(o.value=r,!0)}const s=It(e)&&MF(t)?Number(t)<e.length:En(e,t),a=Reflect.set(e,t,r,Eo(e)?e:i);return e===Dn(i)&&(s?vh(r,o)&&Ac(e,"set",t,r):Ac(e,"add",t,r)),a}deleteProperty(e,t){const r=En(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&Ac(e,"delete",t,void 0),i}has(e,t){const r=Reflect.has(e,t);return(!Lh(t)||!CX.has(t))&&Ao(e,"has",t),r}ownKeys(e){return Ao(e,"iterate",It(e)?"length":pp),Reflect.ownKeys(e)}}class gve extends wX{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const vve=new EX,mve=new gve,_ve=new EX(!0);const jF=n=>n,mA=n=>Reflect.getPrototypeOf(n);function cE(n,e,t=!1,r=!1){n=n.__v_raw;const i=Dn(n),o=Dn(e);t||(vh(e,o)&&Ao(i,"get",e),Ao(i,"get",o));const{has:s}=mA(i),a=r?jF:t?KF:mo;if(s.call(i,e))return a(n.get(e));if(s.call(i,o))return a(n.get(o));n!==i&&n.get(e)}function fE(n,e=!1){const t=this.__v_raw,r=Dn(t),i=Dn(n);return e||(vh(n,i)&&Ao(r,"has",n),Ao(r,"has",i)),n===i?t.has(n):t.has(n)||t.has(i)}function hE(n,e=!1){return n=n.__v_raw,!e&&Ao(Dn(n),"iterate",pp),Reflect.get(n,"size",n)}function qU(n,e=!1){!e&&!Fa(n)&&!Rp(n)&&(n=Dn(n));const t=Dn(this);return mA(t).has.call(t,n)||(t.add(n),Ac(t,"add",n,n)),this}function zU(n,e,t=!1){!t&&!Fa(e)&&!Rp(e)&&(e=Dn(e));const r=Dn(this),{has:i,get:o}=mA(r);let s=i.call(r,n);s||(n=Dn(n),s=i.call(r,n));const a=o.call(r,n);return r.set(n,e),s?vh(e,a)&&Ac(r,"set",n,e):Ac(r,"add",n,e),this}function GU(n){const e=Dn(this),{has:t,get:r}=mA(e);let i=t.call(e,n);i||(n=Dn(n),i=t.call(e,n)),r&&r.call(e,n);const o=e.delete(n);return i&&Ac(e,"delete",n,void 0),o}function $U(){const n=Dn(this),e=n.size!==0,t=n.clear();return e&&Ac(n,"clear",void 0,void 0),t}function dE(n,e){return function(r,i){const o=this,s=o.__v_raw,a=Dn(s),u=e?jF:n?KF:mo;return!n&&Ao(a,"iterate",pp),s.forEach((l,c)=>r.call(i,u(l),u(c),o))}}function pE(n,e,t){return function(...r){const i=this.__v_raw,o=Dn(i),s=tm(o),a=n==="entries"||n===Symbol.iterator&&s,u=n==="keys"&&s,l=i[n](...r),c=t?jF:e?KF:mo;return!e&&Ao(o,"iterate",u?HR:pp),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function ff(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function yve(){const n={get(o){return cE(this,o)},get size(){return hE(this)},has:fE,add:qU,set:zU,delete:GU,clear:$U,forEach:dE(!1,!1)},e={get(o){return cE(this,o,!1,!0)},get size(){return hE(this)},has:fE,add(o){return qU.call(this,o,!0)},set(o,s){return zU.call(this,o,s,!0)},delete:GU,clear:$U,forEach:dE(!1,!0)},t={get(o){return cE(this,o,!0)},get size(){return hE(this,!0)},has(o){return fE.call(this,o,!0)},add:ff("add"),set:ff("set"),delete:ff("delete"),clear:ff("clear"),forEach:dE(!0,!1)},r={get(o){return cE(this,o,!0,!0)},get size(){return hE(this,!0)},has(o){return fE.call(this,o,!0)},add:ff("add"),set:ff("set"),delete:ff("delete"),clear:ff("clear"),forEach:dE(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=pE(o,!1,!1),t[o]=pE(o,!0,!1),e[o]=pE(o,!1,!0),r[o]=pE(o,!0,!0)}),[n,t,e,r]}const[bve,Cve,wve,Eve]=yve();function qF(n,e){const t=e?n?Eve:wve:n?Cve:bve;return(r,i,o)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(En(t,i)&&i in r?t:r,i,o)}const Sve={get:qF(!1,!1)},Tve={get:qF(!1,!0)},Dve={get:qF(!0,!1)};const SX=new WeakMap,TX=new WeakMap,DX=new WeakMap,Ave=new WeakMap;function Ive(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xve(n){return n.__v_skip||!Object.isExtensible(n)?0:Ive(Qge(n))}function zF(n){return Rp(n)?n:GF(n,!1,vve,Sve,SX)}function AX(n){return GF(n,!1,_ve,Tve,TX)}function IX(n){return GF(n,!0,mve,Dve,DX)}function GF(n,e,t,r,i){if(!yr(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const o=i.get(n);if(o)return o;const s=xve(n);if(s===0)return n;const a=new Proxy(n,s===2?r:t);return i.set(n,a),a}function nm(n){return Rp(n)?nm(n.__v_raw):!!(n&&n.__v_isReactive)}function Rp(n){return!!(n&&n.__v_isReadonly)}function Fa(n){return!!(n&&n.__v_isShallow)}function $F(n){return n?!!n.__v_raw:!1}function Dn(n){const e=n&&n.__v_raw;return e?Dn(e):n}function Lve(n){return!En(n,"__v_skip")&&Object.isExtensible(n)&&lX(n,"__v_skip",!0),n}const mo=n=>yr(n)?zF(n):n,KF=n=>yr(n)?IX(n):n;function Eo(n){return n?n.__v_isRef===!0:!1}function Fr(n){return xX(n,!1)}function Nve(n){return xX(n,!0)}function xX(n,e){return Eo(n)?n:new Ove(n,e)}class Ove{constructor(e,t){this.dep=new UF,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Dn(e),this._value=t?e:mo(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||Fa(e)||Rp(e);e=r?e:Dn(e),vh(e,t)&&(this._rawValue=e,this._value=r?e:mo(e),this.dep.trigger())}}function YF(n){return Eo(n)?n.value:n}const kve={get:(n,e,t)=>e==="__v_raw"?n:YF(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return Eo(i)&&!Eo(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function LX(n){return nm(n)?n:new Proxy(n,kve)}class Rve{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new UF(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ab-1,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){this.flags|=16,jn!==this&&this.dep.notify()}get value(){const e=this.dep.track();return _X(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Pve(n,e,t=!1){let r,i;return kt(n)?r=n:(r=n.get,i=n.set),new Rve(r,i,t)}const gE={},iT=new WeakMap;let Fd;function Mve(n,e=!1,t=Fd){if(t){let r=iT.get(t);r||iT.set(t,r=[]),r.push(n)}}function Fve(n,e,t=qn){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:u}=t,l=S=>i?S:Fa(S)||i===!1||i===0?Pf(S,1):Pf(S);let c,h,d,p,v=!1,m=!1;if(Eo(n)?(h=()=>n.value,v=Fa(n)):nm(n)?(h=()=>l(n),v=!0):It(n)?(m=!0,v=n.some(S=>nm(S)||Fa(S)),h=()=>n.map(S=>{if(Eo(S))return S.value;if(nm(S))return l(S);if(kt(S))return u?u(S,2):S()})):kt(n)?e?h=u?()=>u(n,2):n:h=()=>{if(d){Nh();try{d()}finally{Oh()}}const S=Fd;Fd=c;try{return u?u(n,3,[p]):n(p)}finally{Fd=S}}:h=dl,e&&i){const S=h,A=i===!0?1/0:i;h=()=>Pf(S(),A)}const _=uve(),b=()=>{c.stop(),_&&PF(_.effects,c)};if(o)if(e){const S=e;e=(...A)=>{S(...A),b()}}else{const S=h;h=()=>{S(),b()}}let C=m?new Array(n.length).fill(gE):gE;const E=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const A=c.run();if(i||v||(m?A.some((T,N)=>vh(T,C[N])):vh(A,C))){d&&d();const T=Fd;Fd=c;try{const N=[A,C===gE?void 0:m&&C[0]===gE?[]:C,p];u?u(e,3,N):e(...N),C=A}finally{Fd=T}}}else c.run()};return a&&a(E),c=new pX(h),c.scheduler=s?()=>s(E,!1):E,p=S=>Mve(S,!1,c),d=c.onStop=()=>{const S=iT.get(c);if(S){if(u)u(S,4);else for(const A of S)A();iT.delete(c)}},e?r?E(!0):C=c.run():s?s(E.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function Pf(n,e=1/0,t){if(e<=0||!yr(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Eo(n))Pf(n.value,e,t);else if(It(n))for(let r=0;r<n.length;r++)Pf(n[r],e,t);else if(oX(n)||tm(n))n.forEach(r=>{Pf(r,e,t)});else if(uX(n)){for(const r in n)Pf(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Pf(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function K1(n,e,t,r){try{return r?n(...r):n()}catch(i){_A(i,e,t)}}function Dl(n,e,t,r){if(kt(n)){const i=K1(n,e,t,r);return i&&sX(i)&&i.catch(o=>{_A(o,e,t)}),i}if(It(n)){const i=[];for(let o=0;o<n.length;o++)i.push(Dl(n[o],e,t,r));return i}}function _A(n,e,t,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||qn;if(e){let a=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](n,u,l)===!1)return}a=a.parent}if(o){Nh(),K1(o,null,10,[n,u,l]),Oh();return}}Bve(n,t,i,r,s)}function Bve(n,e,t,r=!0,i=!1){if(i)throw n;console.error(n)}let xb=!1,VR=!1;const es=[];let Zu=0;const rm=[];let If=null,Iv=0;const NX=Promise.resolve();let XF=null;function Hve(n){const e=XF||NX;return n?e.then(this?n.bind(this):n):e}function Vve(n){let e=xb?Zu+1:0,t=es.length;for(;e<t;){const r=e+t>>>1,i=es[r],o=Lb(i);o<n||o===n&&i.flags&2?e=r+1:t=r}return e}function QF(n){if(!(n.flags&1)){const e=Lb(n),t=es[es.length-1];!t||!(n.flags&2)&&e>=Lb(t)?es.push(n):es.splice(Vve(e),0,n),n.flags|=1,OX()}}function OX(){!xb&&!VR&&(VR=!0,XF=NX.then(RX))}function Wve(n){It(n)?rm.push(...n):If&&n.id===-1?If.splice(Iv+1,0,n):n.flags&1||(rm.push(n),n.flags|=1),OX()}function KU(n,e,t=xb?Zu+1:0){for(;t<es.length;t++){const r=es[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;es.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function kX(n){if(rm.length){const e=[...new Set(rm)].sort((t,r)=>Lb(t)-Lb(r));if(rm.length=0,If){If.push(...e);return}for(If=e,Iv=0;Iv<If.length;Iv++){const t=If[Iv];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}If=null,Iv=0}}const Lb=n=>n.id==null?n.flags&2?-1:1/0:n.id;function RX(n){VR=!1,xb=!0;try{for(Zu=0;Zu<es.length;Zu++){const e=es[Zu];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),K1(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;Zu<es.length;Zu++){const e=es[Zu];e&&(e.flags&=-2)}Zu=0,es.length=0,kX(),xb=!1,XF=null,(es.length||rm.length)&&RX()}}let bo=null,PX=null;function oT(n){const e=bo;return bo=n,PX=n&&n.type.__scopeId||null,e}function wS(n,e=bo,t){if(!e||n._n)return n;const r=(...i)=>{r._d&&r7(-1);const o=oT(e);let s;try{s=n(...i)}finally{oT(o),r._d&&r7(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function yd(n,e,t,r){const i=n.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(Nh(),Dl(u,t,8,[n.el,a,n,e]),Oh())}}const Uve=Symbol("_vte"),jve=n=>n.__isTeleport;function ZF(n,e){n.shapeFlag&6&&n.component?(n.transition=e,ZF(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ms(n,e){return kt(n)?Ji({name:n.name},e,{setup:n}):n}function MX(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function qve(n){const e=Hme(),t=Nve(null);if(e){const i=e.refs===qn?e.refs={}:e.refs;Object.defineProperty(i,n,{enumerable:!0,get:()=>t.value,set:o=>t.value=o})}return t}function WR(n,e,t,r,i=!1){if(It(n)){n.forEach((v,m)=>WR(v,e&&(It(e)?e[m]:e),t,r,i));return}if(im(r)&&!i)return;const o=r.shapeFlag&4?i4(r.component):r.el,s=i?null:o,{i:a,r:u}=n,l=e&&e.r,c=a.refs===qn?a.refs={}:a.refs,h=a.setupState,d=Dn(h),p=h===qn?()=>!1:v=>En(d,v);if(l!=null&&l!==u&&(Vr(l)?(c[l]=null,p(l)&&(h[l]=null)):Eo(l)&&(l.value=null)),kt(u))K1(u,a,12,[s,c]);else{const v=Vr(u),m=Eo(u);if(v||m){const _=()=>{if(n.f){const b=v?p(u)?h[u]:c[u]:u.value;i?It(b)&&PF(b,o):It(b)?b.includes(o)||b.push(o):v?(c[u]=[o],p(u)&&(h[u]=c[u])):(u.value=[o],n.k&&(c[n.k]=u.value))}else v?(c[u]=s,p(u)&&(h[u]=s)):m&&(u.value=s,n.k&&(c[n.k]=s))};s?(_.id=-1,$s(_,t)):_()}}}const im=n=>!!n.type.__asyncLoader,FX=n=>n.type.__isKeepAlive;function zve(n,e){BX(n,"a",e)}function Gve(n,e){BX(n,"da",e)}function BX(n,e,t=zi){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(yA(e,r,t),t){let i=t.parent;for(;i&&i.parent;)FX(i.parent.vnode)&&$ve(r,e,t,i),i=i.parent}}function $ve(n,e,t,r){const i=yA(e,n,r,!0);wA(()=>{PF(r[e],i)},t)}function yA(n,e,t=zi,r=!1){if(t){const i=t[n]||(t[n]=[]),o=e.__weh||(e.__weh=(...s)=>{Nh();const a=Y1(t),u=Dl(e,t,n,s);return a(),Oh(),u});return r?i.unshift(o):i.push(o),o}}const Gc=n=>(e,t=zi)=>{(!TA||n==="sp")&&yA(n,(...r)=>e(...r),t)},Kve=Gc("bm"),bA=Gc("m"),Yve=Gc("bu"),CA=Gc("u"),JF=Gc("bum"),wA=Gc("um"),Xve=Gc("sp"),Qve=Gc("rtg"),Zve=Gc("rtc");function Jve(n,e=zi){yA("ec",n,e)}const eme="components",HX=Symbol.for("v-ndc");function tme(n){return Vr(n)?nme(eme,n,!1)||n:n||HX}function nme(n,e,t=!0,r=!1){const i=bo||zi;if(i){const o=i.type;{const a=qme(o,!1);if(a&&(a===e||a===Au(e)||a===pA(Au(e))))return o}const s=YU(i[n]||o[n],e)||YU(i.appContext[n],e);return!s&&r?o:s}}function YU(n,e){return n&&(n[e]||n[Au(e)]||n[pA(Au(e))])}function rme(n,e,t,r){let i;const o=t,s=It(n);if(s||Vr(n)){const a=s&&nm(n);let u=!1;a&&(u=!Fa(n),n=vA(n)),i=new Array(n.length);for(let l=0,c=n.length;l<c;l++)i[l]=e(u?mo(n[l]):n[l],l,void 0,o)}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=e(a+1,a,void 0,o)}else if(yr(n))if(n[Symbol.iterator])i=Array.from(n,(a,u)=>e(a,u,void 0,o));else{const a=Object.keys(n);i=new Array(a.length);for(let u=0,l=a.length;u<l;u++){const c=a[u];i[u]=e(n[c],c,u,o)}}else i=[];return i}function YN(n,e,t={},r,i){if(bo.ce||bo.parent&&im(bo.parent)&&bo.parent.ce)return e!=="default"&&(t.name=e),cn(),Jf(li,null,[Zn("slot",t,r)],64);let o=n[e];o&&o._c&&(o._d=!1),cn();const s=o&&VX(o(t)),a=Jf(li,{key:(t.key||s&&s.key||`_${e}`)+(!s&&r?"_fb":"")},s||[],s&&n._===1?64:-2);return o&&o._c&&(o._d=!0),a}function VX(n){return n.some(e=>oQ(e)?!(e.type===mh||e.type===li&&!VX(e.children)):!0)?n:null}const UR=n=>n?uQ(n)?i4(n):UR(n.parent):null,jy=Ji(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>UR(n.parent),$root:n=>UR(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>e4(n),$forceUpdate:n=>n.f||(n.f=()=>{QF(n.update)}),$nextTick:n=>n.n||(n.n=Hve.bind(n.proxy)),$watch:n=>Sme.bind(n)}),XN=(n,e)=>n!==qn&&!n.__isScriptSetup&&En(n,e),ime={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=n;let l;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(XN(r,e))return s[e]=1,r[e];if(i!==qn&&En(i,e))return s[e]=2,i[e];if((l=n.propsOptions[0])&&En(l,e))return s[e]=3,o[e];if(t!==qn&&En(t,e))return s[e]=4,t[e];jR&&(s[e]=0)}}const c=jy[e];let h,d;if(c)return e==="$attrs"&&Ao(n.attrs,"get",""),c(n);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==qn&&En(t,e))return s[e]=4,t[e];if(d=u.config.globalProperties,En(d,e))return d[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:o}=n;return XN(i,e)?(i[e]=t,!0):r!==qn&&En(r,e)?(r[e]=t,!0):En(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(o[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!t[s]||n!==qn&&En(n,s)||XN(e,s)||(a=o[0])&&En(a,s)||En(r,s)||En(jy,s)||En(i.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:En(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function XU(n){return It(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let jR=!0;function ome(n){const e=e4(n),t=n.proxy,r=n.ctx;jR=!1,e.beforeCreate&&QU(e.beforeCreate,n,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:l,created:c,beforeMount:h,mounted:d,beforeUpdate:p,updated:v,activated:m,deactivated:_,beforeDestroy:b,beforeUnmount:C,destroyed:E,unmounted:S,render:A,renderTracked:T,renderTriggered:N,errorCaptured:k,serverPrefetch:F,expose:L,inheritAttrs:O,components:P,directives:B,filters:U}=e;if(l&&sme(l,r,null),s)for(const ne in s){const ie=s[ne];kt(ie)&&(r[ne]=ie.bind(t))}if(i){const ne=i.call(t,t);yr(ne)&&(n.data=zF(ne))}if(jR=!0,o)for(const ne in o){const ie=o[ne],pe=kt(ie)?ie.bind(t,t):kt(ie.get)?ie.get.bind(t,t):dl,ke=!kt(ie)&&kt(ie.set)?ie.set.bind(t):dl,qe=KR({get:pe,set:ke});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>qe.value,set:ft=>qe.value=ft})}if(a)for(const ne in a)WX(a[ne],r,t,ne);if(u){const ne=kt(u)?u.call(t):u;Reflect.ownKeys(ne).forEach(ie=>{zR(ie,ne[ie])})}c&&QU(c,n,"c");function te(ne,ie){It(ie)?ie.forEach(pe=>ne(pe.bind(t))):ie&&ne(ie.bind(t))}if(te(Kve,h),te(bA,d),te(Yve,p),te(CA,v),te(zve,m),te(Gve,_),te(Jve,k),te(Zve,T),te(Qve,N),te(JF,C),te(wA,S),te(Xve,F),It(L))if(L.length){const ne=n.exposed||(n.exposed={});L.forEach(ie=>{Object.defineProperty(ne,ie,{get:()=>t[ie],set:pe=>t[ie]=pe})})}else n.exposed||(n.exposed={});A&&n.render===dl&&(n.render=A),O!=null&&(n.inheritAttrs=O),P&&(n.components=P),B&&(n.directives=B),F&&MX(n)}function sme(n,e,t=dl){It(n)&&(n=qR(n));for(const r in n){const i=n[r];let o;yr(i)?"default"in i?o=Zf(i.from||r,i.default,!0):o=Zf(i.from||r):o=Zf(i),Eo(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function QU(n,e,t){Dl(It(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function WX(n,e,t,r){let i=r.includes(".")?tQ(t,r):()=>t[r];if(Vr(n)){const o=e[n];kt(o)&&ZN(i,o)}else if(kt(n))ZN(i,n.bind(t));else if(yr(n))if(It(n))n.forEach(o=>WX(o,e,t,r));else{const o=kt(n.handler)?n.handler.bind(t):e[n.handler];kt(o)&&ZN(i,o,n)}}function e4(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=n.appContext,a=o.get(e);let u;return a?u=a:!i.length&&!t&&!r?u=e:(u={},i.length&&i.forEach(l=>sT(u,l,s,!0)),sT(u,e,s)),yr(e)&&o.set(e,u),u}function sT(n,e,t,r=!1){const{mixins:i,extends:o}=e;o&&sT(n,o,t,!0),i&&i.forEach(s=>sT(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const a=ame[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const ame={data:ZU,props:JU,emits:JU,methods:Ny,computed:Ny,beforeCreate:zo,created:zo,beforeMount:zo,mounted:zo,beforeUpdate:zo,updated:zo,beforeDestroy:zo,beforeUnmount:zo,destroyed:zo,unmounted:zo,activated:zo,deactivated:zo,errorCaptured:zo,serverPrefetch:zo,components:Ny,directives:Ny,watch:lme,provide:ZU,inject:ume};function ZU(n,e){return e?n?function(){return Ji(kt(n)?n.call(this,this):n,kt(e)?e.call(this,this):e)}:e:n}function ume(n,e){return Ny(qR(n),qR(e))}function qR(n){if(It(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function zo(n,e){return n?[...new Set([].concat(n,e))]:e}function Ny(n,e){return n?Ji(Object.create(null),n,e):e}function JU(n,e){return n?It(n)&&It(e)?[...new Set([...n,...e])]:Ji(Object.create(null),XU(n),XU(e??{})):e}function lme(n,e){if(!n)return e;if(!e)return n;const t=Ji(Object.create(null),n);for(const r in e)t[r]=zo(n[r],e[r]);return t}function UX(){return{app:null,config:{isNativeTag:Yge,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cme=0;function fme(n,e){return function(r,i=null){kt(r)||(r=Ji({},r)),i!=null&&!yr(i)&&(i=null);const o=UX(),s=new WeakSet,a=[];let u=!1;const l=o.app={_uid:cme++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Gme,get config(){return o.config},set config(c){},use(c,...h){return s.has(c)||(c&&kt(c.install)?(s.add(c),c.install(l,...h)):kt(c)&&(s.add(c),c(l,...h))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,h){return h?(o.components[c]=h,l):o.components[c]},directive(c,h){return h?(o.directives[c]=h,l):o.directives[c]},mount(c,h,d){if(!u){const p=l._ceVNode||Zn(r,i);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(p,c):n(p,c,d),u=!0,l._container=c,c.__vue_app__=l,i4(p.component)}},onUnmount(c){a.push(c)},unmount(){u&&(Dl(a,l._instance,16),n(null,l._container),delete l._container.__vue_app__)},provide(c,h){return o.provides[c]=h,l},runWithContext(c){const h=om;om=l;try{return c()}finally{om=h}}};return l}}let om=null;function zR(n,e){if(zi){let t=zi.provides;const r=zi.parent&&zi.parent.provides;r===t&&(t=zi.provides=Object.create(r)),t[n]=e}}function Zf(n,e,t=!1){const r=zi||bo;if(r||om){const i=om?om._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&kt(e)?e.call(r&&r.proxy):e}}const jX={},qX=()=>Object.create(jX),zX=n=>Object.getPrototypeOf(n)===jX;function hme(n,e,t,r=!1){const i={},o=qX();n.propsDefaults=Object.create(null),GX(n,e,i,o);for(const s in n.propsOptions[0])s in i||(i[s]=void 0);t?n.props=r?i:AX(i):n.type.props?n.props=i:n.props=o,n.attrs=o}function dme(n,e,t,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=n,a=Dn(i),[u]=n.propsOptions;let l=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=n.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(EA(n.emitsOptions,d))continue;const p=e[d];if(u)if(En(o,d))p!==o[d]&&(o[d]=p,l=!0);else{const v=Au(d);i[v]=GR(u,a,v,p,n,!1)}else p!==o[d]&&(o[d]=p,l=!0)}}}else{GX(n,e,i,o)&&(l=!0);let c;for(const h in a)(!e||!En(e,h)&&((c=ig(h))===h||!En(e,c)))&&(u?t&&(t[h]!==void 0||t[c]!==void 0)&&(i[h]=GR(u,a,h,void 0,n,!0)):delete i[h]);if(o!==a)for(const h in o)(!e||!En(e,h))&&(delete o[h],l=!0)}l&&Ac(n.attrs,"set","")}function GX(n,e,t,r){const[i,o]=n.propsOptions;let s=!1,a;if(e)for(let u in e){if(Wy(u))continue;const l=e[u];let c;i&&En(i,c=Au(u))?!o||!o.includes(c)?t[c]=l:(a||(a={}))[c]=l:EA(n.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,s=!0)}if(o){const u=Dn(t),l=a||qn;for(let c=0;c<o.length;c++){const h=o[c];t[h]=GR(i,u,h,l[h],n,!En(l,h))}}return s}function GR(n,e,t,r,i,o){const s=n[t];if(s!=null){const a=En(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&kt(u)){const{propsDefaults:l}=i;if(t in l)r=l[t];else{const c=Y1(i);r=l[t]=u.call(null,e),c()}}else r=u;i.ce&&i.ce._setProp(t,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===ig(t))&&(r=!0))}return r}const pme=new WeakMap;function $X(n,e,t=!1){const r=t?pme:e.propsCache,i=r.get(n);if(i)return i;const o=n.props,s={},a=[];let u=!1;if(!kt(n)){const c=h=>{u=!0;const[d,p]=$X(h,e,!0);Ji(s,d),p&&a.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!u)return yr(n)&&r.set(n,em),em;if(It(o))for(let c=0;c<o.length;c++){const h=Au(o[c]);e7(h)&&(s[h]=qn)}else if(o)for(const c in o){const h=Au(c);if(e7(h)){const d=o[c],p=s[h]=It(d)||kt(d)?{type:d}:Ji({},d),v=p.type;let m=!1,_=!0;if(It(v))for(let b=0;b<v.length;++b){const C=v[b],E=kt(C)&&C.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(_=!1)}else m=kt(v)&&v.name==="Boolean";p[0]=m,p[1]=_,(m||En(p,"default"))&&a.push(h)}}const l=[s,a];return yr(n)&&r.set(n,l),l}function e7(n){return n[0]!=="$"&&!Wy(n)}const KX=n=>n[0]==="_"||n==="$stable",t4=n=>It(n)?n.map(rl):[rl(n)],gme=(n,e,t)=>{if(e._n)return e;const r=wS((...i)=>t4(e(...i)),t);return r._c=!1,r},YX=(n,e,t)=>{const r=n._ctx;for(const i in n){if(KX(i))continue;const o=n[i];if(kt(o))e[i]=gme(i,o,r);else if(o!=null){const s=t4(o);e[i]=()=>s}}},XX=(n,e)=>{const t=t4(e);n.slots.default=()=>t},QX=(n,e,t)=>{for(const r in e)(t||r!=="_")&&(n[r]=e[r])},vme=(n,e,t)=>{const r=n.slots=qX();if(n.vnode.shapeFlag&32){const i=e._;i?(QX(r,e,t),t&&lX(r,"_",i,!0)):YX(e,r)}else e&&XX(n,e)},mme=(n,e,t)=>{const{vnode:r,slots:i}=n;let o=!0,s=qn;if(r.shapeFlag&32){const a=e._;a?t&&a===1?o=!1:QX(i,e,t):(o=!e.$stable,YX(e,i)),s=e}else e&&(XX(n,e),s={default:1});if(o)for(const a in i)!KX(a)&&s[a]==null&&delete i[a]},$s=Nme;function _me(n){return yme(n)}function yme(n,e){const t=cX();t.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:u,setText:l,setElementText:c,parentNode:h,nextSibling:d,setScopeId:p=dl,insertStaticContent:v}=n,m=(G,Z,re,fe=null,ve=null,Ce=null,Ne=void 0,Ie=null,Le=!!Z.dynamicChildren)=>{if(G===Z)return;G&&!X0(G,Z)&&(fe=_e(G),ft(G,ve,Ce,!0),G=null),Z.patchFlag===-2&&(Le=!1,Z.dynamicChildren=null);const{type:Se,ref:pt,shapeFlag:Ve}=Z;switch(Se){case SA:_(G,Z,re,fe);break;case mh:b(G,Z,re,fe);break;case ES:G==null&&C(Z,re,fe,Ne);break;case li:P(G,Z,re,fe,ve,Ce,Ne,Ie,Le);break;default:Ve&1?A(G,Z,re,fe,ve,Ce,Ne,Ie,Le):Ve&6?B(G,Z,re,fe,ve,Ce,Ne,Ie,Le):(Ve&64||Ve&128)&&Se.process(G,Z,re,fe,ve,Ce,Ne,Ie,Le,Bo)}pt!=null&&ve&&WR(pt,G&&G.ref,Ce,Z||G,!Z)},_=(G,Z,re,fe)=>{if(G==null)r(Z.el=a(Z.children),re,fe);else{const ve=Z.el=G.el;Z.children!==G.children&&l(ve,Z.children)}},b=(G,Z,re,fe)=>{G==null?r(Z.el=u(Z.children||""),re,fe):Z.el=G.el},C=(G,Z,re,fe)=>{[G.el,G.anchor]=v(G.children,Z,re,fe,G.el,G.anchor)},E=({el:G,anchor:Z},re,fe)=>{let ve;for(;G&&G!==Z;)ve=d(G),r(G,re,fe),G=ve;r(Z,re,fe)},S=({el:G,anchor:Z})=>{let re;for(;G&&G!==Z;)re=d(G),i(G),G=re;i(Z)},A=(G,Z,re,fe,ve,Ce,Ne,Ie,Le)=>{Z.type==="svg"?Ne="svg":Z.type==="math"&&(Ne="mathml"),G==null?T(Z,re,fe,ve,Ce,Ne,Ie,Le):F(G,Z,ve,Ce,Ne,Ie,Le)},T=(G,Z,re,fe,ve,Ce,Ne,Ie)=>{let Le,Se;const{props:pt,shapeFlag:Ve,transition:ot,dirs:bt}=G;if(Le=G.el=s(G.type,Ce,pt&&pt.is,pt),Ve&8?c(Le,G.children):Ve&16&&k(G.children,Le,null,fe,ve,QN(G,Ce),Ne,Ie),bt&&yd(G,null,fe,"created"),N(Le,G,G.scopeId,Ne,fe),pt){for(const wn in pt)wn!=="value"&&!Wy(wn)&&o(Le,wn,null,pt[wn],Ce,fe);"value"in pt&&o(Le,"value",null,pt.value,Ce),(Se=pt.onVnodeBeforeMount)&&$u(Se,fe,G)}bt&&yd(G,null,fe,"beforeMount");const et=bme(ve,ot);et&&ot.beforeEnter(Le),r(Le,Z,re),((Se=pt&&pt.onVnodeMounted)||et||bt)&&$s(()=>{Se&&$u(Se,fe,G),et&&ot.enter(Le),bt&&yd(G,null,fe,"mounted")},ve)},N=(G,Z,re,fe,ve)=>{if(re&&p(G,re),fe)for(let Ce=0;Ce<fe.length;Ce++)p(G,fe[Ce]);if(ve){let Ce=ve.subTree;if(Z===Ce||rQ(Ce.type)&&(Ce.ssContent===Z||Ce.ssFallback===Z)){const Ne=ve.vnode;N(G,Ne,Ne.scopeId,Ne.slotScopeIds,ve.parent)}}},k=(G,Z,re,fe,ve,Ce,Ne,Ie,Le=0)=>{for(let Se=Le;Se<G.length;Se++){const pt=G[Se]=Ie?xf(G[Se]):rl(G[Se]);m(null,pt,Z,re,fe,ve,Ce,Ne,Ie)}},F=(G,Z,re,fe,ve,Ce,Ne)=>{const Ie=Z.el=G.el;let{patchFlag:Le,dynamicChildren:Se,dirs:pt}=Z;Le|=G.patchFlag&16;const Ve=G.props||qn,ot=Z.props||qn;let bt;if(re&&bd(re,!1),(bt=ot.onVnodeBeforeUpdate)&&$u(bt,re,Z,G),pt&&yd(Z,G,re,"beforeUpdate"),re&&bd(re,!0),(Ve.innerHTML&&ot.innerHTML==null||Ve.textContent&&ot.textContent==null)&&c(Ie,""),Se?L(G.dynamicChildren,Se,Ie,re,fe,QN(Z,ve),Ce):Ne||ie(G,Z,Ie,null,re,fe,QN(Z,ve),Ce,!1),Le>0){if(Le&16)O(Ie,Ve,ot,re,ve);else if(Le&2&&Ve.class!==ot.class&&o(Ie,"class",null,ot.class,ve),Le&4&&o(Ie,"style",Ve.style,ot.style,ve),Le&8){const et=Z.dynamicProps;for(let wn=0;wn<et.length;wn++){const Xt=et[wn],so=Ve[Xt],ni=ot[Xt];(ni!==so||Xt==="value")&&o(Ie,Xt,so,ni,ve,re)}}Le&1&&G.children!==Z.children&&c(Ie,Z.children)}else!Ne&&Se==null&&O(Ie,Ve,ot,re,ve);((bt=ot.onVnodeUpdated)||pt)&&$s(()=>{bt&&$u(bt,re,Z,G),pt&&yd(Z,G,re,"updated")},fe)},L=(G,Z,re,fe,ve,Ce,Ne)=>{for(let Ie=0;Ie<Z.length;Ie++){const Le=G[Ie],Se=Z[Ie],pt=Le.el&&(Le.type===li||!X0(Le,Se)||Le.shapeFlag&70)?h(Le.el):re;m(Le,Se,pt,null,fe,ve,Ce,Ne,!0)}},O=(G,Z,re,fe,ve)=>{if(Z!==re){if(Z!==qn)for(const Ce in Z)!Wy(Ce)&&!(Ce in re)&&o(G,Ce,Z[Ce],null,ve,fe);for(const Ce in re){if(Wy(Ce))continue;const Ne=re[Ce],Ie=Z[Ce];Ne!==Ie&&Ce!=="value"&&o(G,Ce,Ie,Ne,ve,fe)}"value"in re&&o(G,"value",Z.value,re.value,ve)}},P=(G,Z,re,fe,ve,Ce,Ne,Ie,Le)=>{const Se=Z.el=G?G.el:a(""),pt=Z.anchor=G?G.anchor:a("");let{patchFlag:Ve,dynamicChildren:ot,slotScopeIds:bt}=Z;bt&&(Ie=Ie?Ie.concat(bt):bt),G==null?(r(Se,re,fe),r(pt,re,fe),k(Z.children||[],re,pt,ve,Ce,Ne,Ie,Le)):Ve>0&&Ve&64&&ot&&G.dynamicChildren?(L(G.dynamicChildren,ot,re,ve,Ce,Ne,Ie),(Z.key!=null||ve&&Z===ve.subTree)&&ZX(G,Z,!0)):ie(G,Z,re,pt,ve,Ce,Ne,Ie,Le)},B=(G,Z,re,fe,ve,Ce,Ne,Ie,Le)=>{Z.slotScopeIds=Ie,G==null?Z.shapeFlag&512?ve.ctx.activate(Z,re,fe,Ne,Le):U(Z,re,fe,ve,Ce,Ne,Le):$(G,Z,Le)},U=(G,Z,re,fe,ve,Ce,Ne)=>{const Ie=G.component=Bme(G,fe,ve);if(FX(G)&&(Ie.ctx.renderer=Bo),Vme(Ie,!1,Ne),Ie.asyncDep){if(ve&&ve.registerDep(Ie,te,Ne),!G.el){const Le=Ie.subTree=Zn(mh);b(null,Le,Z,re)}}else te(Ie,G,Z,re,ve,Ce,Ne)},$=(G,Z,re)=>{const fe=Z.component=G.component;if(xme(G,Z,re))if(fe.asyncDep&&!fe.asyncResolved){ne(fe,Z,re);return}else fe.next=Z,fe.update();else Z.el=G.el,fe.vnode=Z},te=(G,Z,re,fe,ve,Ce,Ne)=>{const Ie=()=>{if(G.isMounted){let{next:Ve,bu:ot,u:bt,parent:et,vnode:wn}=G;{const ao=JX(G);if(ao){Ve&&(Ve.el=wn.el,ne(G,Ve,Ne)),ao.asyncDep.then(()=>{G.isUnmounted||Ie()});return}}let Xt=Ve,so;bd(G,!1),Ve?(Ve.el=wn.el,ne(G,Ve,Ne)):Ve=wn,ot&&qN(ot),(so=Ve.props&&Ve.props.onVnodeBeforeUpdate)&&$u(so,et,Ve,wn),bd(G,!0);const ni=JN(G),_n=G.subTree;G.subTree=ni,m(_n,ni,h(_n.el),_e(_n),G,ve,Ce),Ve.el=ni.el,Xt===null&&Lme(G,ni.el),bt&&$s(bt,ve),(so=Ve.props&&Ve.props.onVnodeUpdated)&&$s(()=>$u(so,et,Ve,wn),ve)}else{let Ve;const{el:ot,props:bt}=Z,{bm:et,m:wn,parent:Xt,root:so,type:ni}=G,_n=im(Z);if(bd(G,!1),et&&qN(et),!_n&&(Ve=bt&&bt.onVnodeBeforeMount)&&$u(Ve,Xt,Z),bd(G,!0),ot&&oo){const ao=()=>{G.subTree=JN(G),oo(ot,G.subTree,G,ve,null)};_n&&ni.__asyncHydrate?ni.__asyncHydrate(ot,G,ao):ao()}else{so.ce&&so.ce._injectChildStyle(ni);const ao=G.subTree=JN(G);m(null,ao,re,fe,G,ve,Ce),Z.el=ao.el}if(wn&&$s(wn,ve),!_n&&(Ve=bt&&bt.onVnodeMounted)){const ao=Z;$s(()=>$u(Ve,Xt,ao),ve)}(Z.shapeFlag&256||Xt&&im(Xt.vnode)&&Xt.vnode.shapeFlag&256)&&G.a&&$s(G.a,ve),G.isMounted=!0,Z=re=fe=null}};G.scope.on();const Le=G.effect=new pX(Ie);G.scope.off();const Se=G.update=Le.run.bind(Le),pt=G.job=Le.runIfDirty.bind(Le);pt.i=G,pt.id=G.uid,Le.scheduler=()=>QF(pt),bd(G,!0),Se()},ne=(G,Z,re)=>{Z.component=G;const fe=G.vnode.props;G.vnode=Z,G.next=null,dme(G,Z.props,fe,re),mme(G,Z.children,re),Nh(),KU(G),Oh()},ie=(G,Z,re,fe,ve,Ce,Ne,Ie,Le=!1)=>{const Se=G&&G.children,pt=G?G.shapeFlag:0,Ve=Z.children,{patchFlag:ot,shapeFlag:bt}=Z;if(ot>0){if(ot&128){ke(Se,Ve,re,fe,ve,Ce,Ne,Ie,Le);return}else if(ot&256){pe(Se,Ve,re,fe,ve,Ce,Ne,Ie,Le);return}}bt&8?(pt&16&&q(Se,ve,Ce),Ve!==Se&&c(re,Ve)):pt&16?bt&16?ke(Se,Ve,re,fe,ve,Ce,Ne,Ie,Le):q(Se,ve,Ce,!0):(pt&8&&c(re,""),bt&16&&k(Ve,re,fe,ve,Ce,Ne,Ie,Le))},pe=(G,Z,re,fe,ve,Ce,Ne,Ie,Le)=>{G=G||em,Z=Z||em;const Se=G.length,pt=Z.length,Ve=Math.min(Se,pt);let ot;for(ot=0;ot<Ve;ot++){const bt=Z[ot]=Le?xf(Z[ot]):rl(Z[ot]);m(G[ot],bt,re,null,ve,Ce,Ne,Ie,Le)}Se>pt?q(G,ve,Ce,!0,!1,Ve):k(Z,re,fe,ve,Ce,Ne,Ie,Le,Ve)},ke=(G,Z,re,fe,ve,Ce,Ne,Ie,Le)=>{let Se=0;const pt=Z.length;let Ve=G.length-1,ot=pt-1;for(;Se<=Ve&&Se<=ot;){const bt=G[Se],et=Z[Se]=Le?xf(Z[Se]):rl(Z[Se]);if(X0(bt,et))m(bt,et,re,null,ve,Ce,Ne,Ie,Le);else break;Se++}for(;Se<=Ve&&Se<=ot;){const bt=G[Ve],et=Z[ot]=Le?xf(Z[ot]):rl(Z[ot]);if(X0(bt,et))m(bt,et,re,null,ve,Ce,Ne,Ie,Le);else break;Ve--,ot--}if(Se>Ve){if(Se<=ot){const bt=ot+1,et=bt<pt?Z[bt].el:fe;for(;Se<=ot;)m(null,Z[Se]=Le?xf(Z[Se]):rl(Z[Se]),re,et,ve,Ce,Ne,Ie,Le),Se++}}else if(Se>ot)for(;Se<=Ve;)ft(G[Se],ve,Ce,!0),Se++;else{const bt=Se,et=Se,wn=new Map;for(Se=et;Se<=ot;Se++){const uo=Z[Se]=Le?xf(Z[Se]):rl(Z[Se]);uo.key!=null&&wn.set(uo.key,Se)}let Xt,so=0;const ni=ot-et+1;let _n=!1,ao=0;const Vs=new Array(ni);for(Se=0;Se<ni;Se++)Vs[Se]=0;for(Se=bt;Se<=Ve;Se++){const uo=G[Se];if(so>=ni){ft(uo,ve,Ce,!0);continue}let tr;if(uo.key!=null)tr=wn.get(uo.key);else for(Xt=et;Xt<=ot;Xt++)if(Vs[Xt-et]===0&&X0(uo,Z[Xt])){tr=Xt;break}tr===void 0?ft(uo,ve,Ce,!0):(Vs[tr-et]=Se+1,tr>=ao?ao=tr:_n=!0,m(uo,Z[tr],re,null,ve,Ce,Ne,Ie,Le),so++)}const Ka=_n?Cme(Vs):em;for(Xt=Ka.length-1,Se=ni-1;Se>=0;Se--){const uo=et+Se,tr=Z[uo],h0=uo+1<pt?Z[uo+1].el:fe;Vs[Se]===0?m(null,tr,re,h0,ve,Ce,Ne,Ie,Le):_n&&(Xt<0||Se!==Ka[Xt]?qe(tr,re,h0,2):Xt--)}}},qe=(G,Z,re,fe,ve=null)=>{const{el:Ce,type:Ne,transition:Ie,children:Le,shapeFlag:Se}=G;if(Se&6){qe(G.component.subTree,Z,re,fe);return}if(Se&128){G.suspense.move(Z,re,fe);return}if(Se&64){Ne.move(G,Z,re,Bo);return}if(Ne===li){r(Ce,Z,re);for(let Ve=0;Ve<Le.length;Ve++)qe(Le[Ve],Z,re,fe);r(G.anchor,Z,re);return}if(Ne===ES){E(G,Z,re);return}if(fe!==2&&Se&1&&Ie)if(fe===0)Ie.beforeEnter(Ce),r(Ce,Z,re),$s(()=>Ie.enter(Ce),ve);else{const{leave:Ve,delayLeave:ot,afterLeave:bt}=Ie,et=()=>r(Ce,Z,re),wn=()=>{Ve(Ce,()=>{et(),bt&&bt()})};ot?ot(Ce,et,wn):wn()}else r(Ce,Z,re)},ft=(G,Z,re,fe=!1,ve=!1)=>{const{type:Ce,props:Ne,ref:Ie,children:Le,dynamicChildren:Se,shapeFlag:pt,patchFlag:Ve,dirs:ot,cacheIndex:bt}=G;if(Ve===-2&&(ve=!1),Ie!=null&&WR(Ie,null,re,G,!0),bt!=null&&(Z.renderCache[bt]=void 0),pt&256){Z.ctx.deactivate(G);return}const et=pt&1&&ot,wn=!im(G);let Xt;if(wn&&(Xt=Ne&&Ne.onVnodeBeforeUnmount)&&$u(Xt,Z,G),pt&6)Ci(G.component,re,fe);else{if(pt&128){G.suspense.unmount(re,fe);return}et&&yd(G,null,Z,"beforeUnmount"),pt&64?G.type.remove(G,Z,re,Bo,fe):Se&&!Se.hasOnce&&(Ce!==li||Ve>0&&Ve&64)?q(Se,Z,re,!1,!0):(Ce===li&&Ve&384||!ve&&pt&16)&&q(Le,Z,re),fe&&ze(G)}(wn&&(Xt=Ne&&Ne.onVnodeUnmounted)||et)&&$s(()=>{Xt&&$u(Xt,Z,G),et&&yd(G,null,Z,"unmounted")},re)},ze=G=>{const{type:Z,el:re,anchor:fe,transition:ve}=G;if(Z===li){dt(re,fe);return}if(Z===ES){S(G);return}const Ce=()=>{i(re),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(G.shapeFlag&1&&ve&&!ve.persisted){const{leave:Ne,delayLeave:Ie}=ve,Le=()=>Ne(re,Ce);Ie?Ie(G.el,Ce,Le):Le()}else Ce()},dt=(G,Z)=>{let re;for(;G!==Z;)re=d(G),i(G),G=re;i(Z)},Ci=(G,Z,re)=>{const{bum:fe,scope:ve,job:Ce,subTree:Ne,um:Ie,m:Le,a:Se}=G;t7(Le),t7(Se),fe&&qN(fe),ve.stop(),Ce&&(Ce.flags|=8,ft(Ne,G,Z,re)),Ie&&$s(Ie,Z),$s(()=>{G.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},q=(G,Z,re,fe=!1,ve=!1,Ce=0)=>{for(let Ne=Ce;Ne<G.length;Ne++)ft(G[Ne],Z,re,fe,ve)},_e=G=>{if(G.shapeFlag&6)return _e(G.component.subTree);if(G.shapeFlag&128)return G.suspense.next();const Z=d(G.anchor||G.el),re=Z&&Z[Uve];return re?d(re):Z};let Ht=!1;const ms=(G,Z,re)=>{G==null?Z._vnode&&ft(Z._vnode,null,null,!0):m(Z._vnode||null,G,Z,null,null,null,re),Z._vnode=G,Ht||(Ht=!0,KU(),kX(),Ht=!1)},Bo={p:m,um:ft,m:qe,r:ze,mt:U,mc:k,pc:ie,pbc:L,n:_e,o:n};let Kn,oo;return{render:ms,hydrate:Kn,createApp:fme(ms,Kn)}}function QN({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function bd({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function bme(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function ZX(n,e,t=!1){const r=n.children,i=e.children;if(It(r)&&It(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=xf(i[o]),a.el=s.el),!t&&a.patchFlag!==-2&&ZX(s,a)),a.type===SA&&(a.el=s.el)}}function Cme(n){const e=n.slice(),t=[0];let r,i,o,s,a;const u=n.length;for(r=0;r<u;r++){const l=n[r];if(l!==0){if(i=t[t.length-1],n[i]<l){e[r]=i,t.push(r);continue}for(o=0,s=t.length-1;o<s;)a=o+s>>1,n[t[a]]<l?o=a+1:s=a;l<n[t[o]]&&(o>0&&(e[r]=t[o-1]),t[o]=r)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=e[s];return t}function JX(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:JX(e)}function t7(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const wme=Symbol.for("v-scx"),Eme=()=>Zf(wme);function ZN(n,e,t){return eQ(n,e,t)}function eQ(n,e,t=qn){const{immediate:r,deep:i,flush:o,once:s}=t,a=Ji({},t);let u;if(TA)if(o==="sync"){const d=Eme();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!e||r)a.once=!0;else return{stop:dl,resume:dl,pause:dl};const l=zi;a.call=(d,p,v)=>Dl(d,l,p,v);let c=!1;o==="post"?a.scheduler=d=>{$s(d,l&&l.suspense)}:o!=="sync"&&(c=!0,a.scheduler=(d,p)=>{p?d():QF(d)}),a.augmentJob=d=>{e&&(d.flags|=4),c&&(d.flags|=2,l&&(d.id=l.uid,d.i=l))};const h=Fve(n,e,a);return u&&u.push(h),h}function Sme(n,e,t){const r=this.proxy,i=Vr(n)?n.includes(".")?tQ(r,n):()=>r[n]:n.bind(r,r);let o;kt(e)?o=e:(o=e.handler,t=e);const s=Y1(this),a=eQ(i,o.bind(r),t);return s(),a}function tQ(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}const Tme=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Au(e)}Modifiers`]||n[`${ig(e)}Modifiers`];function Dme(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||qn;let i=t;const o=e.startsWith("update:"),s=o&&Tme(r,e.slice(7));s&&(s.trim&&(i=t.map(c=>Vr(c)?c.trim():c)),s.number&&(i=t.map(eve)));let a,u=r[a=jN(e)]||r[a=jN(Au(e))];!u&&o&&(u=r[a=jN(ig(e))]),u&&Dl(u,n,6,i);const l=r[a+"Once"];if(l){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Dl(l,n,6,i)}}function nQ(n,e,t=!1){const r=e.emitsCache,i=r.get(n);if(i!==void 0)return i;const o=n.emits;let s={},a=!1;if(!kt(n)){const u=l=>{const c=nQ(l,e,!0);c&&(a=!0,Ji(s,c))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!o&&!a?(yr(n)&&r.set(n,null),null):(It(o)?o.forEach(u=>s[u]=null):Ji(s,o),yr(n)&&r.set(n,s),s)}function EA(n,e){return!n||!fA(e)?!1:(e=e.slice(2).replace(/Once$/,""),En(n,e[0].toLowerCase()+e.slice(1))||En(n,ig(e))||En(n,e))}function JN(n){const{type:e,vnode:t,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:u,render:l,renderCache:c,props:h,data:d,setupState:p,ctx:v,inheritAttrs:m}=n,_=oT(n);let b,C;try{if(t.shapeFlag&4){const S=i||r,A=S;b=rl(l.call(A,S,c,h,p,d,v)),C=a}else{const S=e;b=rl(S.length>1?S(h,{attrs:a,slots:s,emit:u}):S(h,null)),C=e.props?a:Ame(a)}}catch(S){qy.length=0,_A(S,n,1),b=Zn(mh)}let E=b;if(C&&m!==!1){const S=Object.keys(C),{shapeFlag:A}=E;S.length&&A&7&&(o&&S.some(RF)&&(C=Ime(C,o)),E=Sm(E,C,!1,!0))}return t.dirs&&(E=Sm(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(t.dirs):t.dirs),t.transition&&ZF(E,t.transition),b=E,oT(_),b}const Ame=n=>{let e;for(const t in n)(t==="class"||t==="style"||fA(t))&&((e||(e={}))[t]=n[t]);return e},Ime=(n,e)=>{const t={};for(const r in n)(!RF(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function xme(n,e,t){const{props:r,children:i,component:o}=n,{props:s,children:a,patchFlag:u}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?n7(r,s,l):!!s;if(u&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(s[d]!==r[d]&&!EA(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?n7(r,s,l):!0:!!s;return!1}function n7(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==n[o]&&!EA(t,o))return!0}return!1}function Lme({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const rQ=n=>n.__isSuspense;function Nme(n,e){e&&e.pendingBranch?It(n)?e.effects.push(...n):e.effects.push(n):Wve(n)}const li=Symbol.for("v-fgt"),SA=Symbol.for("v-txt"),mh=Symbol.for("v-cmt"),ES=Symbol.for("v-stc"),qy=[];let ua=null;function cn(n=!1){qy.push(ua=n?null:[])}function Ome(){qy.pop(),ua=qy[qy.length-1]||null}let Nb=1;function r7(n){Nb+=n,n<0&&ua&&(ua.hasOnce=!0)}function iQ(n){return n.dynamicChildren=Nb>0?ua||em:null,Ome(),Nb>0&&ua&&ua.push(n),n}function sr(n,e,t,r,i,o){return iQ(J(n,e,t,r,i,o,!0))}function Jf(n,e,t,r,i){return iQ(Zn(n,e,t,r,i,!0))}function oQ(n){return n?n.__v_isVNode===!0:!1}function X0(n,e){return n.type===e.type&&n.key===e.key}const sQ=({key:n})=>n??null,SS=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Vr(n)||Eo(n)||kt(n)?{i:bo,r:n,k:e,f:!!t}:n:null);function J(n,e=null,t=null,r=0,i=null,o=n===li?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&sQ(e),ref:e&&SS(e),scopeId:PX,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:bo};return a?(r4(u,t),o&128&&n.normalize(u)):t&&(u.shapeFlag|=Vr(t)?8:16),Nb>0&&!s&&ua&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&ua.push(u),u}const Zn=kme;function kme(n,e=null,t=null,r=0,i=null,o=!1){if((!n||n===HX)&&(n=mh),oQ(n)){const a=Sm(n,e,!0);return t&&r4(a,t),Nb>0&&!o&&ua&&(a.shapeFlag&6?ua[ua.indexOf(n)]=a:ua.push(a)),a.patchFlag=-2,a}if(zme(n)&&(n=n.__vccOpts),e){e=Rme(e);let{class:a,style:u}=e;a&&!Vr(a)&&(e.class=BF(a)),yr(u)&&($F(u)&&!It(u)&&(u=Ji({},u)),e.style=FF(u))}const s=Vr(n)?1:rQ(n)?128:jve(n)?64:yr(n)?4:kt(n)?2:0;return J(n,e,t,r,i,s,o,!0)}function Rme(n){return n?$F(n)||zX(n)?Ji({},n):n:null}function Sm(n,e,t=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:u}=n,l=e?Pme(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&sQ(l),ref:e&&e.ref?t&&o?It(o)?o.concat(SS(e)):[o,SS(e)]:SS(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==li?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Sm(n.ssContent),ssFallback:n.ssFallback&&Sm(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&r&&ZF(c,u.clone(c)),c}function nl(n=" ",e=0){return Zn(SA,null,n,e)}function aQ(n,e){const t=Zn(ES,null,n);return t.staticCount=e,t}function n4(n="",e=!1){return e?(cn(),Jf(mh,null,n)):Zn(mh,null,n)}function rl(n){return n==null||typeof n=="boolean"?Zn(mh):It(n)?Zn(li,null,n.slice()):typeof n=="object"?xf(n):Zn(SA,null,String(n))}function xf(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Sm(n)}function r4(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(It(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),r4(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!zX(e)?e._ctx=bo:i===3&&bo&&(bo.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else kt(e)?(e={default:e,_ctx:bo},t=32):(e=String(e),r&64?(t=16,e=[nl(e)]):t=8);n.children=e,n.shapeFlag|=t}function Pme(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=BF([e.class,r.class]));else if(i==="style")e.style=FF([e.style,r.style]);else if(fA(i)){const o=e[i],s=r[i];s&&o!==s&&!(It(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function $u(n,e,t,r=null){Dl(n,e,7,[t,r])}const Mme=UX();let Fme=0;function Bme(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||Mme,o={uid:Fme++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ave(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$X(r,i),emitsOptions:nQ(r,i),emit:null,emitted:null,propsDefaults:qn,inheritAttrs:r.inheritAttrs,ctx:qn,data:qn,props:qn,attrs:qn,slots:qn,refs:qn,setupState:qn,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Dme.bind(null,o),n.ce&&n.ce(o),o}let zi=null;const Hme=()=>zi||bo;let aT,$R;{const n=cX(),e=(t,r)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};aT=e("__VUE_INSTANCE_SETTERS__",t=>zi=t),$R=e("__VUE_SSR_SETTERS__",t=>TA=t)}const Y1=n=>{const e=zi;return aT(n),n.scope.on(),()=>{n.scope.off(),aT(e)}},i7=()=>{zi&&zi.scope.off(),aT(null)};function uQ(n){return n.vnode.shapeFlag&4}let TA=!1;function Vme(n,e=!1,t=!1){e&&$R(e);const{props:r,children:i}=n.vnode,o=uQ(n);hme(n,r,o,e),vme(n,i,t);const s=o?Wme(n,e):void 0;return e&&$R(!1),s}function Wme(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,ime);const{setup:r}=t;if(r){const i=n.setupContext=r.length>1?jme(n):null,o=Y1(n);Nh();const s=K1(r,n,0,[n.props,i]);if(Oh(),o(),sX(s)){if(im(n)||MX(n),s.then(i7,i7),e)return s.then(a=>{o7(n,a,e)}).catch(a=>{_A(a,n,0)});n.asyncDep=s}else o7(n,s,e)}else lQ(n,e)}function o7(n,e,t){kt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:yr(e)&&(n.setupState=LX(e)),lQ(n,t)}let s7;function lQ(n,e,t){const r=n.type;if(!n.render){if(!e&&s7&&!r.render){const i=r.template||e4(n).template;if(i){const{isCustomElement:o,compilerOptions:s}=n.appContext.config,{delimiters:a,compilerOptions:u}=r,l=Ji(Ji({isCustomElement:o,delimiters:a},s),u);r.render=s7(i,l)}}n.render=r.render||dl}{const i=Y1(n);Nh();try{ome(n)}finally{Oh(),i()}}}const Ume={get(n,e){return Ao(n,"get",""),n[e]}};function jme(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,Ume),slots:n.slots,emit:n.emit,expose:e}}function i4(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(LX(Lve(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in jy)return jy[t](n)},has(e,t){return t in e||t in jy}})):n.proxy}function qme(n,e=!0){return kt(n)?n.displayName||n.name:n.name||e&&n.__name}function zme(n){return kt(n)&&"__vccOpts"in n}const KR=(n,e)=>Pve(n,e,TA),Gme="3.5.5";/**
* @vue/runtime-dom v3.5.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let YR;const a7=typeof window<"u"&&window.trustedTypes;if(a7)try{YR=a7.createPolicy("vue",{createHTML:n=>n})}catch{}const cQ=YR?n=>YR.createHTML(n):n=>n,$me="http://www.w3.org/2000/svg",Kme="http://www.w3.org/1998/Math/MathML",uc=typeof document<"u"?document:null,u7=uc&&uc.createElement("template"),Yme={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e==="svg"?uc.createElementNS($me,n):e==="mathml"?uc.createElementNS(Kme,n):t?uc.createElement(n,{is:t}):uc.createElement(n);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>uc.createTextNode(n),createComment:n=>uc.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>uc.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,o){const s=t?t.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===o||!(i=i.nextSibling)););else{u7.innerHTML=cQ(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=u7.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Xme=Symbol("_vtc");function Qme(n,e,t){const r=n[Xme];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const l7=Symbol("_vod"),Zme=Symbol("_vsh"),Jme=Symbol(""),e_e=/(^|;)\s*display\s*:/;function t_e(n,e,t){const r=n.style,i=Vr(t);let o=!1;if(t&&!i){if(e)if(Vr(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();t[a]==null&&TS(r,a,"")}else for(const s in e)t[s]==null&&TS(r,s,"");for(const s in t)s==="display"&&(o=!0),TS(r,s,t[s])}else if(i){if(e!==t){const s=r[Jme];s&&(t+=";"+s),r.cssText=t,o=e_e.test(t)}}else e&&n.removeAttribute("style");l7 in n&&(n[l7]=o?r.display:"",n[Zme]&&(r.display="none"))}const c7=/\s*!important$/;function TS(n,e,t){if(It(t))t.forEach(r=>TS(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=n_e(n,e);c7.test(t)?n.setProperty(ig(r),t.replace(c7,""),"important"):n[r]=t}}const f7=["Webkit","Moz","ms"],eO={};function n_e(n,e){const t=eO[e];if(t)return t;let r=Au(e);if(r!=="filter"&&r in n)return eO[e]=r;r=pA(r);for(let i=0;i<f7.length;i++){const o=f7[i]+r;if(o in n)return eO[e]=o}return e}const h7="http://www.w3.org/1999/xlink";function d7(n,e,t,r,i,o=sve(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(h7,e.slice(6,e.length)):n.setAttributeNS(h7,e,t):t==null||o&&!fX(t)?n.removeAttribute(e):n.setAttribute(e,o?"":Lh(t)?String(t):t)}function r_e(n,e,t,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?cQ(t):t);return}const i=n.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?n.getAttribute("value")||"":n.value,a=t==null?n.type==="checkbox"?"on":"":String(t);(s!==a||!("_value"in n))&&(n.value=a),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const s=typeof n[e];s==="boolean"?t=fX(t):t==null&&s==="string"?(t="",o=!0):s==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(e)}function i_e(n,e,t,r){n.addEventListener(e,t,r)}function o_e(n,e,t,r){n.removeEventListener(e,t,r)}const p7=Symbol("_vei");function s_e(n,e,t,r,i=null){const o=n[p7]||(n[p7]={}),s=o[e];if(r&&s)s.value=r;else{const[a,u]=a_e(e);if(r){const l=o[e]=c_e(r,i);i_e(n,a,l,u)}else s&&(o_e(n,a,s,u),o[e]=void 0)}}const g7=/(?:Once|Passive|Capture)$/;function a_e(n){let e;if(g7.test(n)){e={};let r;for(;r=n.match(g7);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ig(n.slice(2)),e]}let tO=0;const u_e=Promise.resolve(),l_e=()=>tO||(u_e.then(()=>tO=0),tO=Date.now());function c_e(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;Dl(f_e(r,t.value),e,5,[r])};return t.value=n,t.attached=l_e(),t}function f_e(n,e){if(It(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const v7=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,h_e=(n,e,t,r,i,o)=>{const s=i==="svg";e==="class"?Qme(n,r,s):e==="style"?t_e(n,t,r):fA(e)?RF(e)||s_e(n,e,t,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):d_e(n,e,r,s))?(r_e(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&d7(n,e,r,s,o,e!=="value")):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),d7(n,e,r,s))};function d_e(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&v7(e)&&kt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return v7(e)&&Vr(t)?!1:!!(e in n||n._isVueCE&&(/[A-Z]/.test(e)||!Vr(t)))}const p_e=Ji({patchProp:h_e},Yme);let m7;function g_e(){return m7||(m7=_me(p_e))}const v_e=(...n)=>{const e=g_e().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=__e(r);if(!i)return;const o=e._component;!kt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=t(i,!1,m_e(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function m_e(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function __e(n){return Vr(n)?document.querySelector(n):n}const _7={};function y_e(n){let e=_7[n];if(e)return e;e=_7[n]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);e.push(r)}for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function Tm(n,e){typeof e!="string"&&(e=Tm.defaultChars);const t=y_e(e);return n.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let o=0,s=r.length;o<s;o+=3){const a=parseInt(r.slice(o+1,o+3),16);if(a<128){i+=t[a];continue}if((a&224)===192&&o+3<s){const u=parseInt(r.slice(o+4,o+6),16);if((u&192)===128){const l=a<<6&1984|u&63;l<128?i+="":i+=String.fromCharCode(l),o+=3;continue}}if((a&240)===224&&o+6<s){const u=parseInt(r.slice(o+4,o+6),16),l=parseInt(r.slice(o+7,o+9),16);if((u&192)===128&&(l&192)===128){const c=a<<12&61440|u<<6&4032|l&63;c<2048||c>=55296&&c<=57343?i+="":i+=String.fromCharCode(c),o+=6;continue}}if((a&248)===240&&o+9<s){const u=parseInt(r.slice(o+4,o+6),16),l=parseInt(r.slice(o+7,o+9),16),c=parseInt(r.slice(o+10,o+12),16);if((u&192)===128&&(l&192)===128&&(c&192)===128){let h=a<<18&1835008|u<<12&258048|l<<6&4032|c&63;h<65536||h>1114111?i+="":(h-=65536,i+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),o+=9;continue}}i+=""}return i})}Tm.defaultChars=";/?:@&=+$,#";Tm.componentChars="";const y7={};function b_e(n){let e=y7[n];if(e)return e;e=y7[n]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<n.length;t++)e[n.charCodeAt(t)]=n[t];return e}function X1(n,e,t){typeof e!="string"&&(t=e,e=X1.defaultChars),typeof t>"u"&&(t=!0);const r=b_e(e);let i="";for(let o=0,s=n.length;o<s;o++){const a=n.charCodeAt(o);if(t&&a===37&&o+2<s&&/^[0-9a-f]{2}$/i.test(n.slice(o+1,o+3))){i+=n.slice(o,o+3),o+=2;continue}if(a<128){i+=r[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s){const u=n.charCodeAt(o+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(n[o]+n[o+1]),o++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(n[o])}return i}X1.defaultChars=";/?:@&=+$,-_.!~*'()#";X1.componentChars="-_.!~*'()";function o4(n){let e="";return e+=n.protocol||"",e+=n.slashes?"//":"",e+=n.auth?n.auth+"@":"",n.hostname&&n.hostname.indexOf(":")!==-1?e+="["+n.hostname+"]":e+=n.hostname||"",e+=n.port?":"+n.port:"",e+=n.pathname||"",e+=n.search||"",e+=n.hash||"",e}function uT(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const C_e=/^([a-z0-9.+-]+:)/i,w_e=/:[0-9]*$/,E_e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,S_e=["<",">",'"',"`"," ","\r",`
`,"	"],T_e=["{","}","|","\\","^","`"].concat(S_e),D_e=["'"].concat(T_e),b7=["%","/","?",";","#"].concat(D_e),C7=["/","?","#"],A_e=255,w7=/^[+a-z0-9A-Z_-]{0,63}$/,I_e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E7={javascript:!0,"javascript:":!0},S7={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function s4(n,e){if(n&&n instanceof uT)return n;const t=new uT;return t.parse(n,e),t}uT.prototype.parse=function(n,e){let t,r,i,o=n;if(o=o.trim(),!e&&n.split("#").length===1){const l=E_e.exec(o);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let s=C_e.exec(o);if(s&&(s=s[0],t=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(e||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=o.substr(0,2)==="//",i&&!(s&&E7[s])&&(o=o.substr(2),this.slashes=!0)),!E7[s]&&(i||s&&!S7[s])){let l=-1;for(let v=0;v<C7.length;v++)r=o.indexOf(C7[v]),r!==-1&&(l===-1||r<l)&&(l=r);let c,h;l===-1?h=o.lastIndexOf("@"):h=o.lastIndexOf("@",l),h!==-1&&(c=o.slice(0,h),o=o.slice(h+1),this.auth=c),l=-1;for(let v=0;v<b7.length;v++)r=o.indexOf(b7[v]),r!==-1&&(l===-1||r<l)&&(l=r);l===-1&&(l=o.length),o[l-1]===":"&&l--;const d=o.slice(0,l);o=o.slice(l),this.parseHost(d),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const v=this.hostname.split(/\./);for(let m=0,_=v.length;m<_;m++){const b=v[m];if(b&&!b.match(w7)){let C="";for(let E=0,S=b.length;E<S;E++)b.charCodeAt(E)>127?C+="x":C+=b[E];if(!C.match(w7)){const E=v.slice(0,m),S=v.slice(m+1),A=b.match(I_e);A&&(E.push(A[1]),S.unshift(A[2])),S.length&&(o=S.join(".")+o),this.hostname=E.join(".");break}}}}this.hostname.length>A_e&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");a!==-1&&(this.hash=o.substr(a),o=o.slice(0,a));const u=o.indexOf("?");return u!==-1&&(this.search=o.substr(u),o=o.slice(0,u)),o&&(this.pathname=o),S7[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};uT.prototype.parseHost=function(n){let e=w_e.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};const x_e=Object.freeze(Object.defineProperty({__proto__:null,decode:Tm,encode:X1,format:o4,parse:s4},Symbol.toStringTag,{value:"Module"})),fQ=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,hQ=/[\0-\x1F\x7F-\x9F]/,L_e=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,a4=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,dQ=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,pQ=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,N_e=Object.freeze(Object.defineProperty({__proto__:null,Any:fQ,Cc:hQ,Cf:L_e,P:a4,S:dQ,Z:pQ},Symbol.toStringTag,{value:"Module"})),O_e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0))),k_e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)));var nO;const R_e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),P_e=(nO=String.fromCodePoint)!==null&&nO!==void 0?nO:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function M_e(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=R_e.get(n))!==null&&e!==void 0?e:n}var Oi;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(Oi||(Oi={}));const F_e=32;var Wf;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(Wf||(Wf={}));function XR(n){return n>=Oi.ZERO&&n<=Oi.NINE}function B_e(n){return n>=Oi.UPPER_A&&n<=Oi.UPPER_F||n>=Oi.LOWER_A&&n<=Oi.LOWER_F}function H_e(n){return n>=Oi.UPPER_A&&n<=Oi.UPPER_Z||n>=Oi.LOWER_A&&n<=Oi.LOWER_Z||XR(n)}function V_e(n){return n===Oi.EQUALS||H_e(n)}var Ei;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(Ei||(Ei={}));var ra;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(ra||(ra={}));class gQ{constructor(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=Ei.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ra.Strict}startEntity(e){this.decodeMode=e,this.state=Ei.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Ei.EntityStart:return e.charCodeAt(t)===Oi.NUM?(this.state=Ei.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Ei.NamedEntity,this.stateNamedEntity(e,t));case Ei.NumericStart:return this.stateNumericStart(e,t);case Ei.NumericDecimal:return this.stateNumericDecimal(e,t);case Ei.NumericHex:return this.stateNumericHex(e,t);case Ei.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|F_e)===Oi.LOWER_X?(this.state=Ei.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Ei.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,r,i){if(t!==r){const o=r-t;this.result=this.result*Math.pow(i,o)+parseInt(e.substr(t,o),i),this.consumed+=o}}stateNumericHex(e,t){const r=t;for(;t<e.length;){const i=e.charCodeAt(t);if(XR(i)||B_e(i))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,t,16),-1}stateNumericDecimal(e,t){const r=t;for(;t<e.length;){const i=e.charCodeAt(t);if(XR(i))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,t,10),-1}emitNumericEntity(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Oi.SEMI)this.consumed+=1;else if(this.decodeMode===ra.Strict)return 0;return this.emitCodePoint(M_e(this.result),this.consumed),this.errors&&(e!==Oi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Wf.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const s=e.charCodeAt(t);if(this.treeIndex=W_e(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===ra.Attribute&&(o===0||V_e(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Wf.VALUE_LENGTH)>>14,o!==0){if(s===Oi.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==ra.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:r}=this,i=(r[t]&Wf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[e]&~Wf.VALUE_LENGTH:i[e+1],r),t===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Ei.NamedEntity:return this.result!==0&&(this.decodeMode!==ra.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ei.NumericDecimal:return this.emitNumericEntity(0,2);case Ei.NumericHex:return this.emitNumericEntity(0,3);case Ei.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ei.EntityStart:return 0}}}function vQ(n){let e="";const t=new gQ(n,r=>e+=P_e(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(s,a),t.startEntity(o);const l=t.write(i,a+1);if(l<0){s=a+t.end();break}s=a+l,a=l===0?s+1:s}const u=e+i.slice(s);return e="",u}}function W_e(n,e,t,r){const i=(e&Wf.BRANCH_LENGTH)>>7,o=e&Wf.JUMP_TABLE;if(i===0)return o!==0&&r===o?t:-1;if(o){const u=r-o;return u<0||u>=i?-1:n[t+u]-1}let s=t,a=s+i-1;for(;s<=a;){const u=s+a>>>1,l=n[u];if(l<r)s=u+1;else if(l>r)a=u-1;else return n[u+i]}return-1}const u4=vQ(O_e),U_e=vQ(k_e);function sm(n,e=ra.Legacy){return u4(n,e)}function j_e(n){return u4(n,ra.Attribute)}function rO(n){return u4(n,ra.Strict)}function QR(n){return U_e(n,ra.Strict)}function vE(n){for(let e=1;e<n.length;e++)n[e][0]+=n[e-1][0]+1;return n}const q_e=new Map(vE([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(vE([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(vE([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(vE([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),ZR=/["&'<>$\x80-\uFFFF]/g,mQ=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),_Q=String.prototype.codePointAt!=null?(n,e)=>n.codePointAt(e):(n,e)=>(n.charCodeAt(e)&64512)===55296?(n.charCodeAt(e)-55296)*1024+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e);function l4(n){let e="",t=0,r;for(;(r=ZR.exec(n))!==null;){const i=r.index,o=n.charCodeAt(i),s=mQ.get(o);s!==void 0?(e+=n.substring(t,i)+s,t=i+1):(e+=`${n.substring(t,i)}&#x${_Q(n,i).toString(16)};`,t=ZR.lastIndex+=+((o&64512)===55296))}return e+n.substr(t)}const z_e=l4;function c4(n,e){return function(r){let i,o=0,s="";for(;i=n.exec(r);)o!==i.index&&(s+=r.substring(o,i.index)),s+=e.get(i[0].charCodeAt(0)),o=i.index+1;return s+r.substring(o)}}const yQ=c4(/[&<>'"]/g,mQ),bQ=c4(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),CQ=c4(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),G_e=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function DS(n){return EQ(G_e,n)}function wQ(n){return EQ(ZR,n)}function EQ(n,e){let t="",r=0,i;for(;(i=n.exec(e))!==null;){const o=i.index;t+=e.substring(r,o);const s=e.charCodeAt(o);let a=q_e.get(s);if(typeof a=="object"){if(o+1<e.length){const u=e.charCodeAt(o+1),l=typeof a.n=="number"?a.n===u?a.o:void 0:a.n.get(u);if(l!==void 0){t+=l,r=n.lastIndex+=1;continue}}a=a.v}if(a!==void 0)t+=a,r=o+1;else{const u=_Q(e,o);t+=`&#x${u.toString(16)};`,r=n.lastIndex+=+(u!==s)}}return t+e.substr(r)}var _h;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(_h||(_h={}));var np;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(np||(np={}));function SQ(n,e=_h.XML){if((typeof e=="number"?e:e.level)===_h.HTML){const r=typeof e=="object"?e.mode:void 0;return sm(n,r)}return QR(n)}function $_e(n,e=_h.XML){var t;const r=typeof e=="number"?{level:e}:e;return(t=r.mode)!==null&&t!==void 0||(r.mode=ra.Strict),SQ(n,r)}function K_e(n,e=_h.XML){const t=typeof e=="number"?{level:e}:e;return t.mode===np.UTF8?yQ(n):t.mode===np.Attribute?bQ(n):t.mode===np.Text?CQ(n):t.level===_h.HTML?t.mode===np.ASCII?wQ(n):DS(n):l4(n)}const Y_e=Object.freeze(Object.defineProperty({__proto__:null,get DecodingMode(){return ra},get EncodingMode(){return np},EntityDecoder:gQ,get EntityLevel(){return _h},decode:SQ,decodeHTML:sm,decodeHTML4:sm,decodeHTML4Strict:rO,decodeHTML5:sm,decodeHTML5Strict:rO,decodeHTMLAttribute:j_e,decodeHTMLStrict:rO,decodeStrict:$_e,decodeXML:QR,decodeXMLStrict:QR,encode:K_e,encodeHTML:DS,encodeHTML4:DS,encodeHTML5:DS,encodeNonAsciiHTML:wQ,encodeXML:l4,escape:z_e,escapeAttribute:bQ,escapeText:CQ,escapeUTF8:yQ},Symbol.toStringTag,{value:"Module"}));function X_e(n){return Object.prototype.toString.call(n)}function f4(n){return X_e(n)==="[object String]"}const Q_e=Object.prototype.hasOwnProperty;function Z_e(n,e){return Q_e.call(n,e)}function DA(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(r){n[r]=t[r]})}}),n}function TQ(n,e,t){return[].concat(n.slice(0,e),t,n.slice(e+1))}function h4(n){return!(n>=55296&&n<=57343||n>=64976&&n<=65007||(n&65535)===65535||(n&65535)===65534||n>=0&&n<=8||n===11||n>=14&&n<=31||n>=127&&n<=159||n>1114111)}function lT(n){if(n>65535){n-=65536;const e=55296+(n>>10),t=56320+(n&1023);return String.fromCharCode(e,t)}return String.fromCharCode(n)}const DQ=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,J_e=/&([a-z#][a-z0-9]{1,31});/gi,e0e=new RegExp(DQ.source+"|"+J_e.source,"gi"),t0e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function n0e(n,e){if(e.charCodeAt(0)===35&&t0e.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return h4(r)?lT(r):n}const t=sm(n);return t!==n?t:n}function r0e(n){return n.indexOf("\\")<0?n:n.replace(DQ,"$1")}function Dm(n){return n.indexOf("\\")<0&&n.indexOf("&")<0?n:n.replace(e0e,function(e,t,r){return t||n0e(e,r)})}const i0e=/[&<>"]/,o0e=/[&<>"]/g,s0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function a0e(n){return s0e[n]}function yh(n){return i0e.test(n)?n.replace(o0e,a0e):n}const u0e=/[.?*+^$[\]\\(){}|-]/g;function l0e(n){return n.replace(u0e,"\\$&")}function Jn(n){switch(n){case 9:case 32:return!0}return!1}function Ob(n){if(n>=8192&&n<=8202)return!0;switch(n){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function kb(n){return a4.test(n)||dQ.test(n)}function Rb(n){switch(n){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function AA(n){return n=n.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(n=n.replace(//g,"")),n.toLowerCase().toUpperCase()}const c0e={mdurl:x_e,ucmicro:N_e},f0e=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:TQ,assign:DA,escapeHtml:yh,escapeRE:l0e,fromCodePoint:lT,has:Z_e,isMdAsciiPunct:Rb,isPunctChar:kb,isSpace:Jn,isString:f4,isValidEntityCode:h4,isWhiteSpace:Ob,lib:c0e,normalizeReference:AA,unescapeAll:Dm,unescapeMd:r0e},Symbol.toStringTag,{value:"Module"}));function h0e(n,e,t){let r,i,o,s;const a=n.posMax,u=n.pos;for(n.pos=e+1,r=1;n.pos<a;){if(o=n.src.charCodeAt(n.pos),o===93&&(r--,r===0)){i=!0;break}if(s=n.pos,n.md.inline.skipToken(n),o===91){if(s===n.pos-1)r++;else if(t)return n.pos=u,-1}}let l=-1;return i&&(l=n.pos),n.pos=u,l}function d0e(n,e,t){let r,i=e;const o={ok:!1,pos:0,str:""};if(n.charCodeAt(i)===60){for(i++;i<t;){if(r=n.charCodeAt(i),r===10||r===60)return o;if(r===62)return o.pos=i+1,o.str=Dm(n.slice(e+1,i)),o.ok=!0,o;if(r===92&&i+1<t){i+=2;continue}i++}return o}let s=0;for(;i<t&&(r=n.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<t){if(n.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(s++,s>32))return o;if(r===41){if(s===0)break;s--}i++}return e===i||s!==0||(o.str=Dm(n.slice(e,i)),o.pos=i,o.ok=!0),o}function p0e(n,e,t,r){let i,o=e;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(o>=t)return s;let a=n.charCodeAt(o);if(a!==34&&a!==39&&a!==40)return s;e++,o++,a===40&&(a=41),s.marker=a}for(;o<t;){if(i=n.charCodeAt(o),i===s.marker)return s.pos=o+1,s.str+=Dm(n.slice(e,o)),s.ok=!0,s;if(i===40&&s.marker===41)return s;i===92&&o+1<t&&o++,o++}return s.can_continue=!0,s.str+=Dm(n.slice(e,o)),s}const g0e=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:d0e,parseLinkLabel:h0e,parseLinkTitle:p0e},Symbol.toStringTag,{value:"Module"})),Hl={};Hl.code_inline=function(n,e,t,r,i){const o=n[e];return"<code"+i.renderAttrs(o)+">"+yh(o.content)+"</code>"};Hl.code_block=function(n,e,t,r,i){const o=n[e];return"<pre"+i.renderAttrs(o)+"><code>"+yh(n[e].content)+`</code></pre>
`};Hl.fence=function(n,e,t,r,i){const o=n[e],s=o.info?Dm(o.info).trim():"";let a="",u="";if(s){const c=s.split(/(\s+)/g);a=c[0],u=c.slice(2).join("")}let l;if(t.highlight?l=t.highlight(o.content,a,u)||yh(o.content):l=yh(o.content),l.indexOf("<pre")===0)return l+`
`;if(s){const c=o.attrIndex("class"),h=o.attrs?o.attrs.slice():[];c<0?h.push(["class",t.langPrefix+a]):(h[c]=h[c].slice(),h[c][1]+=" "+t.langPrefix+a);const d={attrs:h};return`<pre><code${i.renderAttrs(d)}>${l}</code></pre>
`}return`<pre><code${i.renderAttrs(o)}>${l}</code></pre>
`};Hl.image=function(n,e,t,r,i){const o=n[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,t,r),i.renderToken(n,e,t)};Hl.hardbreak=function(n,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Hl.softbreak=function(n,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Hl.text=function(n,e){return yh(n[e].content)};Hl.html_block=function(n,e){return n[e].content};Hl.html_inline=function(n,e){return n[e].content};function T_(){this.rules=DA({},Hl)}T_.prototype.renderAttrs=function(e){let t,r,i;if(!e.attrs)return"";for(i="",t=0,r=e.attrs.length;t<r;t++)i+=" "+yh(e.attrs[t][0])+'="'+yh(e.attrs[t][1])+'"';return i};T_.prototype.renderToken=function(e,t,r){const i=e[t];let o="";if(i.hidden)return"";i.block&&i.nesting!==-1&&t&&e[t-1].hidden&&(o+=`
`),o+=(i.nesting===-1?"</":"<")+i.tag,o+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(o+=" /");let s=!1;if(i.block&&(s=!0,i.nesting===1&&t+1<e.length)){const a=e[t+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===i.tag)&&(s=!1)}return o+=s?`>
`:">",o};T_.prototype.renderInline=function(n,e,t){let r="";const i=this.rules;for(let o=0,s=n.length;o<s;o++){const a=n[o].type;typeof i[a]<"u"?r+=i[a](n,o,e,t,this):r+=this.renderToken(n,o,e)}return r};T_.prototype.renderInlineAsText=function(n,e,t){let r="";for(let i=0,o=n.length;i<o;i++)switch(n[i].type){case"text":r+=n[i].content;break;case"image":r+=this.renderInlineAsText(n[i].children,e,t);break;case"html_inline":case"html_block":r+=n[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};T_.prototype.render=function(n,e,t){let r="";const i=this.rules;for(let o=0,s=n.length;o<s;o++){const a=n[o].type;a==="inline"?r+=this.renderInline(n[o].children,e,t):typeof i[a]<"u"?r+=i[a](n,o,e,t,this):r+=this.renderToken(n,o,e,t)}return r};function Ps(){this.__rules__=[],this.__cache__=null}Ps.prototype.__find__=function(n){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===n)return e;return-1};Ps.prototype.__compile__=function(){const n=this,e=[""];n.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),n.__cache__={},e.forEach(function(t){n.__cache__[t]=[],n.__rules__.forEach(function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||n.__cache__[t].push(r.fn))})})};Ps.prototype.at=function(n,e,t){const r=this.__find__(n),i=t||{};if(r===-1)throw new Error("Parser rule not found: "+n);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Ps.prototype.before=function(n,e,t,r){const i=this.__find__(n),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Ps.prototype.after=function(n,e,t,r){const i=this.__find__(n),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Ps.prototype.push=function(n,e,t){const r=t||{};this.__rules__.push({name:n,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Ps.prototype.enable=function(n,e){Array.isArray(n)||(n=[n]);const t=[];return n.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,t.push(r)},this),this.__cache__=null,t};Ps.prototype.enableOnly=function(n,e){Array.isArray(n)||(n=[n]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(n,e)};Ps.prototype.disable=function(n,e){Array.isArray(n)||(n=[n]);const t=[];return n.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,t.push(r)},this),this.__cache__=null,t};Ps.prototype.getRules=function(n){return this.__cache__===null&&this.__compile__(),this.__cache__[n]||[]};function Ru(n,e,t){this.type=n,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ru.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let r=0,i=t.length;r<i;r++)if(t[r][0]===e)return r;return-1};Ru.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ru.prototype.attrSet=function(e,t){const r=this.attrIndex(e),i=[e,t];r<0?this.attrPush(i):this.attrs[r]=i};Ru.prototype.attrGet=function(e){const t=this.attrIndex(e);let r=null;return t>=0&&(r=this.attrs[t][1]),r};Ru.prototype.attrJoin=function(e,t){const r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t};function AQ(n,e,t){this.src=n,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}AQ.prototype.Token=Ru;const v0e=/\r\n?|\n/g,m0e=/\0/g;function _0e(n){let e;e=n.src.replace(v0e,`
`),e=e.replace(m0e,""),n.src=e}function y0e(n){let e;n.inlineMode?(e=new n.Token("inline","",0),e.content=n.src,e.map=[0,1],e.children=[],n.tokens.push(e)):n.md.block.parse(n.src,n.md,n.env,n.tokens)}function b0e(n){const e=n.tokens;for(let t=0,r=e.length;t<r;t++){const i=e[t];i.type==="inline"&&n.md.inline.parse(i.content,n.md,n.env,i.children)}}function C0e(n){return/^<a[>\s]/i.test(n)}function w0e(n){return/^<\/a\s*>/i.test(n)}function E0e(n){const e=n.tokens;if(n.md.options.linkify)for(let t=0,r=e.length;t<r;t++){if(e[t].type!=="inline"||!n.md.linkify.pretest(e[t].content))continue;let i=e[t].children,o=0;for(let s=i.length-1;s>=0;s--){const a=i[s];if(a.type==="link_close"){for(s--;i[s].level!==a.level&&i[s].type!=="link_open";)s--;continue}if(a.type==="html_inline"&&(C0e(a.content)&&o>0&&o--,w0e(a.content)&&o++),!(o>0)&&a.type==="text"&&n.md.linkify.test(a.content)){const u=a.content;let l=n.md.linkify.match(u);const c=[];let h=a.level,d=0;l.length>0&&l[0].index===0&&s>0&&i[s-1].type==="text_special"&&(l=l.slice(1));for(let p=0;p<l.length;p++){const v=l[p].url,m=n.md.normalizeLink(v);if(!n.md.validateLink(m))continue;let _=l[p].text;l[p].schema?l[p].schema==="mailto:"&&!/^mailto:/i.test(_)?_=n.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=n.md.normalizeLinkText(_):_=n.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const b=l[p].index;if(b>d){const A=new n.Token("text","",0);A.content=u.slice(d,b),A.level=h,c.push(A)}const C=new n.Token("link_open","a",1);C.attrs=[["href",m]],C.level=h++,C.markup="linkify",C.info="auto",c.push(C);const E=new n.Token("text","",0);E.content=_,E.level=h,c.push(E);const S=new n.Token("link_close","a",-1);S.level=--h,S.markup="linkify",S.info="auto",c.push(S),d=l[p].lastIndex}if(d<u.length){const p=new n.Token("text","",0);p.content=u.slice(d),p.level=h,c.push(p)}e[t].children=i=TQ(i,s,c)}}}}const IQ=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,S0e=/\((c|tm|r)\)/i,T0e=/\((c|tm|r)\)/ig,D0e={c:"",r:"",tm:""};function A0e(n,e){return D0e[e.toLowerCase()]}function I0e(n){let e=0;for(let t=n.length-1;t>=0;t--){const r=n[t];r.type==="text"&&!e&&(r.content=r.content.replace(T0e,A0e)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function x0e(n){let e=0;for(let t=n.length-1;t>=0;t--){const r=n[t];r.type==="text"&&!e&&IQ.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function L0e(n){let e;if(n.md.options.typographer)for(e=n.tokens.length-1;e>=0;e--)n.tokens[e].type==="inline"&&(S0e.test(n.tokens[e].content)&&I0e(n.tokens[e].children),IQ.test(n.tokens[e].content)&&x0e(n.tokens[e].children))}const N0e=/['"]/,T7=/['"]/g,D7="";function mE(n,e,t){return n.slice(0,e)+t+n.slice(e+1)}function O0e(n,e){let t;const r=[];for(let i=0;i<n.length;i++){const o=n[i],s=n[i].level;for(t=r.length-1;t>=0&&!(r[t].level<=s);t--);if(r.length=t+1,o.type!=="text")continue;let a=o.content,u=0,l=a.length;e:for(;u<l;){T7.lastIndex=u;const c=T7.exec(a);if(!c)break;let h=!0,d=!0;u=c.index+1;const p=c[0]==="'";let v=32;if(c.index-1>=0)v=a.charCodeAt(c.index-1);else for(t=i-1;t>=0&&!(n[t].type==="softbreak"||n[t].type==="hardbreak");t--)if(n[t].content){v=n[t].content.charCodeAt(n[t].content.length-1);break}let m=32;if(u<l)m=a.charCodeAt(u);else for(t=i+1;t<n.length&&!(n[t].type==="softbreak"||n[t].type==="hardbreak");t++)if(n[t].content){m=n[t].content.charCodeAt(0);break}const _=Rb(v)||kb(String.fromCharCode(v)),b=Rb(m)||kb(String.fromCharCode(m)),C=Ob(v),E=Ob(m);if(E?h=!1:b&&(C||_||(h=!1)),C?d=!1:_&&(E||b||(d=!1)),m===34&&c[0]==='"'&&v>=48&&v<=57&&(d=h=!1),h&&d&&(h=_,d=b),!h&&!d){p&&(o.content=mE(o.content,c.index,D7));continue}if(d)for(t=r.length-1;t>=0;t--){let S=r[t];if(r[t].level<s)break;if(S.single===p&&r[t].level===s){S=r[t];let A,T;p?(A=e.md.options.quotes[2],T=e.md.options.quotes[3]):(A=e.md.options.quotes[0],T=e.md.options.quotes[1]),o.content=mE(o.content,c.index,T),n[S.token].content=mE(n[S.token].content,S.pos,A),u+=T.length-1,S.token===i&&(u+=A.length-1),a=o.content,l=a.length,r.length=t;continue e}}h?r.push({token:i,pos:c.index,single:p,level:s}):d&&p&&(o.content=mE(o.content,c.index,D7))}}}function k0e(n){if(n.md.options.typographer)for(let e=n.tokens.length-1;e>=0;e--)n.tokens[e].type!=="inline"||!N0e.test(n.tokens[e].content)||O0e(n.tokens[e].children,n)}function R0e(n){let e,t;const r=n.tokens,i=r.length;for(let o=0;o<i;o++){if(r[o].type!=="inline")continue;const s=r[o].children,a=s.length;for(e=0;e<a;e++)s[e].type==="text_special"&&(s[e].type="text");for(e=t=0;e<a;e++)s[e].type==="text"&&e+1<a&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==t&&(s[t]=s[e]),t++);e!==t&&(s.length=t)}}const iO=[["normalize",_0e],["block",y0e],["inline",b0e],["linkify",E0e],["replacements",L0e],["smartquotes",k0e],["text_join",R0e]];function d4(){this.ruler=new Ps;for(let n=0;n<iO.length;n++)this.ruler.push(iO[n][0],iO[n][1])}d4.prototype.process=function(n){const e=this.ruler.getRules("");for(let t=0,r=e.length;t<r;t++)e[t](n)};d4.prototype.State=AQ;function Vl(n,e,t,r){this.src=n,this.md=e,this.env=t,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,s=0,a=0,u=0,l=i.length,c=!1;s<l;s++){const h=i.charCodeAt(s);if(!c)if(Jn(h)){a++,h===9?u+=4-u%4:u++;continue}else c=!0;(h===10||s===l-1)&&(h!==10&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(u),this.bsCount.push(0),c=!1,a=0,u=0,o=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Vl.prototype.push=function(n,e,t){const r=new Ru(n,e,t);return r.block=!0,t<0&&this.level--,r.level=this.level,t>0&&this.level++,this.tokens.push(r),r};Vl.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Vl.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Vl.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){const r=this.src.charCodeAt(e);if(!Jn(r))break}return e};Vl.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Jn(this.src.charCodeAt(--e)))return e+1;return e};Vl.prototype.skipChars=function(e,t){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e};Vl.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e};Vl.prototype.getLines=function(e,t,r,i){if(e>=t)return"";const o=new Array(t-e);for(let s=0,a=e;a<t;a++,s++){let u=0;const l=this.bMarks[a];let c=l,h;for(a+1<t||i?h=this.eMarks[a]+1:h=this.eMarks[a];c<h&&u<r;){const d=this.src.charCodeAt(c);if(Jn(d))d===9?u+=4-(u+this.bsCount[a])%4:u++;else if(c-l<this.tShift[a])u++;else break;c++}u>r?o[s]=new Array(u-r+1).join(" ")+this.src.slice(c,h):o[s]=this.src.slice(c,h)}return o.join("")};Vl.prototype.Token=Ru;const P0e=65536;function oO(n,e){const t=n.bMarks[e]+n.tShift[e],r=n.eMarks[e];return n.src.slice(t,r)}function A7(n){const e=[],t=n.length;let r=0,i=n.charCodeAt(r),o=!1,s=0,a="";for(;r<t;)i===124&&(o?(a+=n.substring(s,r-1),s=r):(e.push(a+n.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=n.charCodeAt(r);return e.push(a+n.substring(s)),e}function M0e(n,e,t,r){if(e+2>t)return!1;let i=e+1;if(n.sCount[i]<n.blkIndent||n.sCount[i]-n.blkIndent>=4)return!1;let o=n.bMarks[i]+n.tShift[i];if(o>=n.eMarks[i])return!1;const s=n.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58||o>=n.eMarks[i])return!1;const a=n.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58&&!Jn(a)||s===45&&Jn(a))return!1;for(;o<n.eMarks[i];){const S=n.src.charCodeAt(o);if(S!==124&&S!==45&&S!==58&&!Jn(S))return!1;o++}let u=oO(n,e+1),l=u.split("|");const c=[];for(let S=0;S<l.length;S++){const A=l[S].trim();if(!A){if(S===0||S===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(A))return!1;A.charCodeAt(A.length-1)===58?c.push(A.charCodeAt(0)===58?"center":"right"):A.charCodeAt(0)===58?c.push("left"):c.push("")}if(u=oO(n,e).trim(),u.indexOf("|")===-1||n.sCount[e]-n.blkIndent>=4)return!1;l=A7(u),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const h=l.length;if(h===0||h!==c.length)return!1;if(r)return!0;const d=n.parentType;n.parentType="table";const p=n.md.block.ruler.getRules("blockquote"),v=n.push("table_open","table",1),m=[e,0];v.map=m;const _=n.push("thead_open","thead",1);_.map=[e,e+1];const b=n.push("tr_open","tr",1);b.map=[e,e+1];for(let S=0;S<l.length;S++){const A=n.push("th_open","th",1);c[S]&&(A.attrs=[["style","text-align:"+c[S]]]);const T=n.push("inline","",0);T.content=l[S].trim(),T.children=[],n.push("th_close","th",-1)}n.push("tr_close","tr",-1),n.push("thead_close","thead",-1);let C,E=0;for(i=e+2;i<t&&!(n.sCount[i]<n.blkIndent);i++){let S=!1;for(let T=0,N=p.length;T<N;T++)if(p[T](n,i,t,!0)){S=!0;break}if(S||(u=oO(n,i).trim(),!u)||n.sCount[i]-n.blkIndent>=4||(l=A7(u),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),E+=h-l.length,E>P0e))break;if(i===e+2){const T=n.push("tbody_open","tbody",1);T.map=C=[e+2,0]}const A=n.push("tr_open","tr",1);A.map=[i,i+1];for(let T=0;T<h;T++){const N=n.push("td_open","td",1);c[T]&&(N.attrs=[["style","text-align:"+c[T]]]);const k=n.push("inline","",0);k.content=l[T]?l[T].trim():"",k.children=[],n.push("td_close","td",-1)}n.push("tr_close","tr",-1)}return C&&(n.push("tbody_close","tbody",-1),C[1]=i),n.push("table_close","table",-1),m[1]=i,n.parentType=d,n.line=i,!0}function F0e(n,e,t){if(n.sCount[e]-n.blkIndent<4)return!1;let r=e+1,i=r;for(;r<t;){if(n.isEmpty(r)){r++;continue}if(n.sCount[r]-n.blkIndent>=4){r++,i=r;continue}break}n.line=i;const o=n.push("code_block","code",0);return o.content=n.getLines(e,i,4+n.blkIndent,!1)+`
`,o.map=[e,n.line],!0}function B0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||i+3>o)return!1;const s=n.src.charCodeAt(i);if(s!==126&&s!==96)return!1;let a=i;i=n.skipChars(i,s);let u=i-a;if(u<3)return!1;const l=n.src.slice(a,i),c=n.src.slice(i,o);if(s===96&&c.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;h++,!(h>=t||(i=a=n.bMarks[h]+n.tShift[h],o=n.eMarks[h],i<o&&n.sCount[h]<n.blkIndent));)if(n.src.charCodeAt(i)===s&&!(n.sCount[h]-n.blkIndent>=4)&&(i=n.skipChars(i,s),!(i-a<u)&&(i=n.skipSpaces(i),!(i<o)))){d=!0;break}u=n.sCount[e],n.line=h+(d?1:0);const p=n.push("fence","code",0);return p.info=c,p.content=n.getLines(e+1,h,u,!0),p.markup=l,p.map=[e,n.line],!0}function H0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];const s=n.lineMax;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(i)!==62)return!1;if(r)return!0;const a=[],u=[],l=[],c=[],h=n.md.block.ruler.getRules("blockquote"),d=n.parentType;n.parentType="blockquote";let p=!1,v;for(v=e;v<t;v++){const E=n.sCount[v]<n.blkIndent;if(i=n.bMarks[v]+n.tShift[v],o=n.eMarks[v],i>=o)break;if(n.src.charCodeAt(i++)===62&&!E){let A=n.sCount[v]+1,T,N;n.src.charCodeAt(i)===32?(i++,A++,N=!1,T=!0):n.src.charCodeAt(i)===9?(T=!0,(n.bsCount[v]+A)%4===3?(i++,A++,N=!1):N=!0):T=!1;let k=A;for(a.push(n.bMarks[v]),n.bMarks[v]=i;i<o;){const F=n.src.charCodeAt(i);if(Jn(F))F===9?k+=4-(k+n.bsCount[v]+(N?1:0))%4:k++;else break;i++}p=i>=o,u.push(n.bsCount[v]),n.bsCount[v]=n.sCount[v]+1+(T?1:0),l.push(n.sCount[v]),n.sCount[v]=k-A,c.push(n.tShift[v]),n.tShift[v]=i-n.bMarks[v];continue}if(p)break;let S=!1;for(let A=0,T=h.length;A<T;A++)if(h[A](n,v,t,!0)){S=!0;break}if(S){n.lineMax=v,n.blkIndent!==0&&(a.push(n.bMarks[v]),u.push(n.bsCount[v]),c.push(n.tShift[v]),l.push(n.sCount[v]),n.sCount[v]-=n.blkIndent);break}a.push(n.bMarks[v]),u.push(n.bsCount[v]),c.push(n.tShift[v]),l.push(n.sCount[v]),n.sCount[v]=-1}const m=n.blkIndent;n.blkIndent=0;const _=n.push("blockquote_open","blockquote",1);_.markup=">";const b=[e,0];_.map=b,n.md.block.tokenize(n,e,v);const C=n.push("blockquote_close","blockquote",-1);C.markup=">",n.lineMax=s,n.parentType=d,b[1]=n.line;for(let E=0;E<c.length;E++)n.bMarks[E+e]=a[E],n.tShift[E+e]=c[E],n.sCount[E+e]=l[E],n.bsCount[E+e]=u[E];return n.blkIndent=m,!0}function V0e(n,e,t,r){const i=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let o=n.bMarks[e]+n.tShift[e];const s=n.src.charCodeAt(o++);if(s!==42&&s!==45&&s!==95)return!1;let a=1;for(;o<i;){const l=n.src.charCodeAt(o++);if(l!==s&&!Jn(l))return!1;l===s&&a++}if(a<3)return!1;if(r)return!0;n.line=e+1;const u=n.push("hr","hr",0);return u.map=[e,n.line],u.markup=Array(a+1).join(String.fromCharCode(s)),!0}function I7(n,e){const t=n.eMarks[e];let r=n.bMarks[e]+n.tShift[e];const i=n.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<t){const o=n.src.charCodeAt(r);if(!Jn(o))return-1}return r}function x7(n,e){const t=n.bMarks[e]+n.tShift[e],r=n.eMarks[e];let i=t;if(i+1>=r)return-1;let o=n.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=n.src.charCodeAt(i++),o>=48&&o<=57){if(i-t>=10)return-1;continue}if(o===41||o===46)break;return-1}return i<r&&(o=n.src.charCodeAt(i),!Jn(o))?-1:i}function W0e(n,e){const t=n.level+2;for(let r=e+2,i=n.tokens.length-2;r<i;r++)n.tokens[r].level===t&&n.tokens[r].type==="paragraph_open"&&(n.tokens[r+2].hidden=!0,n.tokens[r].hidden=!0,r+=2)}function U0e(n,e,t,r){let i,o,s,a,u=e,l=!0;if(n.sCount[u]-n.blkIndent>=4||n.listIndent>=0&&n.sCount[u]-n.listIndent>=4&&n.sCount[u]<n.blkIndent)return!1;let c=!1;r&&n.parentType==="paragraph"&&n.sCount[u]>=n.blkIndent&&(c=!0);let h,d,p;if((p=x7(n,u))>=0){if(h=!0,s=n.bMarks[u]+n.tShift[u],d=Number(n.src.slice(s,p-1)),c&&d!==1)return!1}else if((p=I7(n,u))>=0)h=!1;else return!1;if(c&&n.skipSpaces(p)>=n.eMarks[u])return!1;if(r)return!0;const v=n.src.charCodeAt(p-1),m=n.tokens.length;h?(a=n.push("ordered_list_open","ol",1),d!==1&&(a.attrs=[["start",d]])):a=n.push("bullet_list_open","ul",1);const _=[u,0];a.map=_,a.markup=String.fromCharCode(v);let b=!1;const C=n.md.block.ruler.getRules("list"),E=n.parentType;for(n.parentType="list";u<t;){o=p,i=n.eMarks[u];const S=n.sCount[u]+p-(n.bMarks[u]+n.tShift[u]);let A=S;for(;o<i;){const $=n.src.charCodeAt(o);if($===9)A+=4-(A+n.bsCount[u])%4;else if($===32)A++;else break;o++}const T=o;let N;T>=i?N=1:N=A-S,N>4&&(N=1);const k=S+N;a=n.push("list_item_open","li",1),a.markup=String.fromCharCode(v);const F=[u,0];a.map=F,h&&(a.info=n.src.slice(s,p-1));const L=n.tight,O=n.tShift[u],P=n.sCount[u],B=n.listIndent;if(n.listIndent=n.blkIndent,n.blkIndent=k,n.tight=!0,n.tShift[u]=T-n.bMarks[u],n.sCount[u]=A,T>=i&&n.isEmpty(u+1)?n.line=Math.min(n.line+2,t):n.md.block.tokenize(n,u,t,!0),(!n.tight||b)&&(l=!1),b=n.line-u>1&&n.isEmpty(n.line-1),n.blkIndent=n.listIndent,n.listIndent=B,n.tShift[u]=O,n.sCount[u]=P,n.tight=L,a=n.push("list_item_close","li",-1),a.markup=String.fromCharCode(v),u=n.line,F[1]=u,u>=t||n.sCount[u]<n.blkIndent||n.sCount[u]-n.blkIndent>=4)break;let U=!1;for(let $=0,te=C.length;$<te;$++)if(C[$](n,u,t,!0)){U=!0;break}if(U)break;if(h){if(p=x7(n,u),p<0)break;s=n.bMarks[u]+n.tShift[u]}else if(p=I7(n,u),p<0)break;if(v!==n.src.charCodeAt(p-1))break}return h?a=n.push("ordered_list_close","ol",-1):a=n.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(v),_[1]=u,n.line=u,n.parentType=E,l&&W0e(n,m),!0}function j0e(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e],s=e+1;if(n.sCount[e]-n.blkIndent>=4||n.src.charCodeAt(i)!==91)return!1;function a(C){const E=n.lineMax;if(C>=E||n.isEmpty(C))return null;let S=!1;if(n.sCount[C]-n.blkIndent>3&&(S=!0),n.sCount[C]<0&&(S=!0),!S){const N=n.md.block.ruler.getRules("reference"),k=n.parentType;n.parentType="reference";let F=!1;for(let L=0,O=N.length;L<O;L++)if(N[L](n,C,E,!0)){F=!0;break}if(n.parentType=k,F)return null}const A=n.bMarks[C]+n.tShift[C],T=n.eMarks[C];return n.src.slice(A,T+1)}let u=n.src.slice(i,o+1);o=u.length;let l=-1;for(i=1;i<o;i++){const C=u.charCodeAt(i);if(C===91)return!1;if(C===93){l=i;break}else if(C===10){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}else if(C===92&&(i++,i<o&&u.charCodeAt(i)===10)){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}}if(l<0||u.charCodeAt(l+1)!==58)return!1;for(i=l+2;i<o;i++){const C=u.charCodeAt(i);if(C===10){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}else if(!Jn(C))break}const c=n.md.helpers.parseLinkDestination(u,i,o);if(!c.ok)return!1;const h=n.md.normalizeLink(c.str);if(!n.md.validateLink(h))return!1;i=c.pos;const d=i,p=s,v=i;for(;i<o;i++){const C=u.charCodeAt(i);if(C===10){const E=a(s);E!==null&&(u+=E,o=u.length,s++)}else if(!Jn(C))break}let m=n.md.helpers.parseLinkTitle(u,i,o);for(;m.can_continue;){const C=a(s);if(C===null)break;u+=C,i=o,o=u.length,s++,m=n.md.helpers.parseLinkTitle(u,i,o,m)}let _;for(i<o&&v!==i&&m.ok?(_=m.str,i=m.pos):(_="",i=d,s=p);i<o;){const C=u.charCodeAt(i);if(!Jn(C))break;i++}if(i<o&&u.charCodeAt(i)!==10&&_)for(_="",i=d,s=p;i<o;){const C=u.charCodeAt(i);if(!Jn(C))break;i++}if(i<o&&u.charCodeAt(i)!==10)return!1;const b=AA(u.slice(1,l));return b?(r||(typeof n.env.references>"u"&&(n.env.references={}),typeof n.env.references[b]>"u"&&(n.env.references[b]={title:_,href:h}),n.line=s),!0):!1}const q0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],z0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",G0e="[^\"'=<>`\\x00-\\x20]+",$0e="'[^']*'",K0e='"[^"]*"',Y0e="(?:"+G0e+"|"+$0e+"|"+K0e+")",X0e="(?:\\s+"+z0e+"(?:\\s*=\\s*"+Y0e+")?)",xQ="<[A-Za-z][A-Za-z0-9\\-]*"+X0e+"*\\s*\\/?>",LQ="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Q0e="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Z0e="<[?][\\s\\S]*?[?]>",J0e="<![A-Za-z][^>]*>",eye="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",tye=new RegExp("^(?:"+xQ+"|"+LQ+"|"+Q0e+"|"+Z0e+"|"+J0e+"|"+eye+")"),nye=new RegExp("^(?:"+xQ+"|"+LQ+")"),iv=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+q0e.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(nye.source+"\\s*$"),/^$/,!1]];function rye(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4||!n.md.options.html||n.src.charCodeAt(i)!==60)return!1;let s=n.src.slice(i,o),a=0;for(;a<iv.length&&!iv[a][0].test(s);a++);if(a===iv.length)return!1;if(r)return iv[a][2];let u=e+1;if(!iv[a][1].test(s)){for(;u<t&&!(n.sCount[u]<n.blkIndent);u++)if(i=n.bMarks[u]+n.tShift[u],o=n.eMarks[u],s=n.src.slice(i,o),iv[a][1].test(s)){s.length!==0&&u++;break}}n.line=u;const l=n.push("html_block","",0);return l.map=[e,u],l.content=n.getLines(e,u,n.blkIndent,!0),!0}function iye(n,e,t,r){let i=n.bMarks[e]+n.tShift[e],o=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;let s=n.src.charCodeAt(i);if(s!==35||i>=o)return!1;let a=1;for(s=n.src.charCodeAt(++i);s===35&&i<o&&a<=6;)a++,s=n.src.charCodeAt(++i);if(a>6||i<o&&!Jn(s))return!1;if(r)return!0;o=n.skipSpacesBack(o,i);const u=n.skipCharsBack(o,35,i);u>i&&Jn(n.src.charCodeAt(u-1))&&(o=u),n.line=e+1;const l=n.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[e,n.line];const c=n.push("inline","",0);c.content=n.src.slice(i,o).trim(),c.map=[e,n.line],c.children=[];const h=n.push("heading_close","h"+String(a),-1);return h.markup="########".slice(0,a),!0}function oye(n,e,t){const r=n.md.block.ruler.getRules("paragraph");if(n.sCount[e]-n.blkIndent>=4)return!1;const i=n.parentType;n.parentType="paragraph";let o=0,s,a=e+1;for(;a<t&&!n.isEmpty(a);a++){if(n.sCount[a]-n.blkIndent>3)continue;if(n.sCount[a]>=n.blkIndent){let p=n.bMarks[a]+n.tShift[a];const v=n.eMarks[a];if(p<v&&(s=n.src.charCodeAt(p),(s===45||s===61)&&(p=n.skipChars(p,s),p=n.skipSpaces(p),p>=v))){o=s===61?1:2;break}}if(n.sCount[a]<0)continue;let d=!1;for(let p=0,v=r.length;p<v;p++)if(r[p](n,a,t,!0)){d=!0;break}if(d)break}if(!o)return!1;const u=n.getLines(e,a,n.blkIndent,!1).trim();n.line=a+1;const l=n.push("heading_open","h"+String(o),1);l.markup=String.fromCharCode(s),l.map=[e,n.line];const c=n.push("inline","",0);c.content=u,c.map=[e,n.line-1],c.children=[];const h=n.push("heading_close","h"+String(o),-1);return h.markup=String.fromCharCode(s),n.parentType=i,!0}function sye(n,e,t){const r=n.md.block.ruler.getRules("paragraph"),i=n.parentType;let o=e+1;for(n.parentType="paragraph";o<t&&!n.isEmpty(o);o++){if(n.sCount[o]-n.blkIndent>3||n.sCount[o]<0)continue;let l=!1;for(let c=0,h=r.length;c<h;c++)if(r[c](n,o,t,!0)){l=!0;break}if(l)break}const s=n.getLines(e,o,n.blkIndent,!1).trim();n.line=o;const a=n.push("paragraph_open","p",1);a.map=[e,n.line];const u=n.push("inline","",0);return u.content=s,u.map=[e,n.line],u.children=[],n.push("paragraph_close","p",-1),n.parentType=i,!0}const _E=[["table",M0e,["paragraph","reference"]],["code",F0e],["fence",B0e,["paragraph","reference","blockquote","list"]],["blockquote",H0e,["paragraph","reference","blockquote","list"]],["hr",V0e,["paragraph","reference","blockquote","list"]],["list",U0e,["paragraph","reference","blockquote"]],["reference",j0e],["html_block",rye,["paragraph","reference","blockquote"]],["heading",iye,["paragraph","reference","blockquote"]],["lheading",oye],["paragraph",sye]];function IA(){this.ruler=new Ps;for(let n=0;n<_E.length;n++)this.ruler.push(_E[n][0],_E[n][1],{alt:(_E[n][2]||[]).slice()})}IA.prototype.tokenize=function(n,e,t){const r=this.ruler.getRules(""),i=r.length,o=n.md.options.maxNesting;let s=e,a=!1;for(;s<t&&(n.line=s=n.skipEmptyLines(s),!(s>=t||n.sCount[s]<n.blkIndent));){if(n.level>=o){n.line=t;break}const u=n.line;let l=!1;for(let c=0;c<i;c++)if(l=r[c](n,s,t,!1),l){if(u>=n.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");n.tight=!a,n.isEmpty(n.line-1)&&(a=!0),s=n.line,s<t&&n.isEmpty(s)&&(a=!0,s++,n.line=s)}};IA.prototype.parse=function(n,e,t,r){if(!n)return;const i=new this.State(n,e,t,r);this.tokenize(i,i.line,i.lineMax)};IA.prototype.State=Vl;function Q1(n,e,t,r){this.src=n,this.env=t,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Q1.prototype.pushPending=function(){const n=new Ru("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n};Q1.prototype.push=function(n,e,t){this.pending&&this.pushPending();const r=new Ru(n,e,t);let i=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};Q1.prototype.scanDelims=function(n,e){const t=this.posMax,r=this.src.charCodeAt(n),i=n>0?this.src.charCodeAt(n-1):32;let o=n;for(;o<t&&this.src.charCodeAt(o)===r;)o++;const s=o-n,a=o<t?this.src.charCodeAt(o):32,u=Rb(i)||kb(String.fromCharCode(i)),l=Rb(a)||kb(String.fromCharCode(a)),c=Ob(i),h=Ob(a),d=!h&&(!l||c||u),p=!c&&(!u||h||l);return{can_open:d&&(e||!p||u),can_close:p&&(e||!d||l),length:s}};Q1.prototype.Token=Ru;function aye(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function uye(n,e){let t=n.pos;for(;t<n.posMax&&!aye(n.src.charCodeAt(t));)t++;return t===n.pos?!1:(e||(n.pending+=n.src.slice(n.pos,t)),n.pos=t,!0)}const lye=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function cye(n,e){if(!n.md.options.linkify||n.linkLevel>0)return!1;const t=n.pos,r=n.posMax;if(t+3>r||n.src.charCodeAt(t)!==58||n.src.charCodeAt(t+1)!==47||n.src.charCodeAt(t+2)!==47)return!1;const i=n.pending.match(lye);if(!i)return!1;const o=i[1],s=n.md.linkify.matchAtStart(n.src.slice(t-o.length));if(!s)return!1;let a=s.url;if(a.length<=o.length)return!1;a=a.replace(/\*+$/,"");const u=n.md.normalizeLink(a);if(!n.md.validateLink(u))return!1;if(!e){n.pending=n.pending.slice(0,-o.length);const l=n.push("link_open","a",1);l.attrs=[["href",u]],l.markup="linkify",l.info="auto";const c=n.push("text","",0);c.content=n.md.normalizeLinkText(a);const h=n.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return n.pos+=a.length-o.length,!0}function fye(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==10)return!1;const r=n.pending.length-1,i=n.posMax;if(!e)if(r>=0&&n.pending.charCodeAt(r)===32)if(r>=1&&n.pending.charCodeAt(r-1)===32){let o=r-1;for(;o>=1&&n.pending.charCodeAt(o-1)===32;)o--;n.pending=n.pending.slice(0,o),n.push("hardbreak","br",0)}else n.pending=n.pending.slice(0,-1),n.push("softbreak","br",0);else n.push("softbreak","br",0);for(t++;t<i&&Jn(n.src.charCodeAt(t));)t++;return n.pos=t,!0}const p4=[];for(let n=0;n<256;n++)p4.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){p4[n.charCodeAt(0)]=1});function hye(n,e){let t=n.pos;const r=n.posMax;if(n.src.charCodeAt(t)!==92||(t++,t>=r))return!1;let i=n.src.charCodeAt(t);if(i===10){for(e||n.push("hardbreak","br",0),t++;t<r&&(i=n.src.charCodeAt(t),!!Jn(i));)t++;return n.pos=t,!0}let o=n.src[t];if(i>=55296&&i<=56319&&t+1<r){const a=n.src.charCodeAt(t+1);a>=56320&&a<=57343&&(o+=n.src[t+1],t++)}const s="\\"+o;if(!e){const a=n.push("text_special","",0);i<256&&p4[i]!==0?a.content=o:a.content=s,a.markup=s,a.info="escape"}return n.pos=t+1,!0}function dye(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==96)return!1;const i=t;t++;const o=n.posMax;for(;t<o&&n.src.charCodeAt(t)===96;)t++;const s=n.src.slice(i,t),a=s.length;if(n.backticksScanned&&(n.backticks[a]||0)<=i)return e||(n.pending+=s),n.pos+=a,!0;let u=t,l;for(;(l=n.src.indexOf("`",u))!==-1;){for(u=l+1;u<o&&n.src.charCodeAt(u)===96;)u++;const c=u-l;if(c===a){if(!e){const h=n.push("code_inline","code",0);h.markup=s,h.content=n.src.slice(t,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return n.pos=u,!0}n.backticks[c]=l}return n.backticksScanned=!0,e||(n.pending+=s),n.pos+=a,!0}function pye(n,e){const t=n.pos,r=n.src.charCodeAt(t);if(e||r!==126)return!1;const i=n.scanDelims(n.pos,!0);let o=i.length;const s=String.fromCharCode(r);if(o<2)return!1;let a;o%2&&(a=n.push("text","",0),a.content=s,o--);for(let u=0;u<o;u+=2)a=n.push("text","",0),a.content=s+s,n.delimiters.push({marker:r,length:0,token:n.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return n.pos+=i.length,!0}function L7(n,e){let t;const r=[],i=e.length;for(let o=0;o<i;o++){const s=e[o];if(s.marker!==126||s.end===-1)continue;const a=e[s.end];t=n.tokens[s.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=n.tokens[a.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",n.tokens[a.token-1].type==="text"&&n.tokens[a.token-1].content==="~"&&r.push(a.token-1)}for(;r.length;){const o=r.pop();let s=o+1;for(;s<n.tokens.length&&n.tokens[s].type==="s_close";)s++;s--,o!==s&&(t=n.tokens[s],n.tokens[s]=n.tokens[o],n.tokens[o]=t)}}function gye(n){const e=n.tokens_meta,t=n.tokens_meta.length;L7(n,n.delimiters);for(let r=0;r<t;r++)e[r]&&e[r].delimiters&&L7(n,e[r].delimiters)}const NQ={tokenize:pye,postProcess:gye};function vye(n,e){const t=n.pos,r=n.src.charCodeAt(t);if(e||r!==95&&r!==42)return!1;const i=n.scanDelims(n.pos,r===42);for(let o=0;o<i.length;o++){const s=n.push("text","",0);s.content=String.fromCharCode(r),n.delimiters.push({marker:r,length:i.length,token:n.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return n.pos+=i.length,!0}function N7(n,e){const t=e.length;for(let r=t-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const o=e[i.end],s=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===o.token+1,a=String.fromCharCode(i.marker),u=n.tokens[i.token];u.type=s?"strong_open":"em_open",u.tag=s?"strong":"em",u.nesting=1,u.markup=s?a+a:a,u.content="";const l=n.tokens[o.token];l.type=s?"strong_close":"em_close",l.tag=s?"strong":"em",l.nesting=-1,l.markup=s?a+a:a,l.content="",s&&(n.tokens[e[r-1].token].content="",n.tokens[e[i.end+1].token].content="",r--)}}function mye(n){const e=n.tokens_meta,t=n.tokens_meta.length;N7(n,n.delimiters);for(let r=0;r<t;r++)e[r]&&e[r].delimiters&&N7(n,e[r].delimiters)}const OQ={tokenize:vye,postProcess:mye};function _ye(n,e){let t,r,i,o,s="",a="",u=n.pos,l=!0;if(n.src.charCodeAt(n.pos)!==91)return!1;const c=n.pos,h=n.posMax,d=n.pos+1,p=n.md.helpers.parseLinkLabel(n,n.pos,!0);if(p<0)return!1;let v=p+1;if(v<h&&n.src.charCodeAt(v)===40){for(l=!1,v++;v<h&&(t=n.src.charCodeAt(v),!(!Jn(t)&&t!==10));v++);if(v>=h)return!1;if(u=v,i=n.md.helpers.parseLinkDestination(n.src,v,n.posMax),i.ok){for(s=n.md.normalizeLink(i.str),n.md.validateLink(s)?v=i.pos:s="",u=v;v<h&&(t=n.src.charCodeAt(v),!(!Jn(t)&&t!==10));v++);if(i=n.md.helpers.parseLinkTitle(n.src,v,n.posMax),v<h&&u!==v&&i.ok)for(a=i.str,v=i.pos;v<h&&(t=n.src.charCodeAt(v),!(!Jn(t)&&t!==10));v++);}(v>=h||n.src.charCodeAt(v)!==41)&&(l=!0),v++}if(l){if(typeof n.env.references>"u")return!1;if(v<h&&n.src.charCodeAt(v)===91?(u=v+1,v=n.md.helpers.parseLinkLabel(n,v),v>=0?r=n.src.slice(u,v++):v=p+1):v=p+1,r||(r=n.src.slice(d,p)),o=n.env.references[AA(r)],!o)return n.pos=c,!1;s=o.href,a=o.title}if(!e){n.pos=d,n.posMax=p;const m=n.push("link_open","a",1),_=[["href",s]];m.attrs=_,a&&_.push(["title",a]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,n.push("link_close","a",-1)}return n.pos=v,n.posMax=h,!0}function yye(n,e){let t,r,i,o,s,a,u,l,c="";const h=n.pos,d=n.posMax;if(n.src.charCodeAt(n.pos)!==33||n.src.charCodeAt(n.pos+1)!==91)return!1;const p=n.pos+2,v=n.md.helpers.parseLinkLabel(n,n.pos+1,!1);if(v<0)return!1;if(o=v+1,o<d&&n.src.charCodeAt(o)===40){for(o++;o<d&&(t=n.src.charCodeAt(o),!(!Jn(t)&&t!==10));o++);if(o>=d)return!1;for(l=o,a=n.md.helpers.parseLinkDestination(n.src,o,n.posMax),a.ok&&(c=n.md.normalizeLink(a.str),n.md.validateLink(c)?o=a.pos:c=""),l=o;o<d&&(t=n.src.charCodeAt(o),!(!Jn(t)&&t!==10));o++);if(a=n.md.helpers.parseLinkTitle(n.src,o,n.posMax),o<d&&l!==o&&a.ok)for(u=a.str,o=a.pos;o<d&&(t=n.src.charCodeAt(o),!(!Jn(t)&&t!==10));o++);else u="";if(o>=d||n.src.charCodeAt(o)!==41)return n.pos=h,!1;o++}else{if(typeof n.env.references>"u")return!1;if(o<d&&n.src.charCodeAt(o)===91?(l=o+1,o=n.md.helpers.parseLinkLabel(n,o),o>=0?i=n.src.slice(l,o++):o=v+1):o=v+1,i||(i=n.src.slice(p,v)),s=n.env.references[AA(i)],!s)return n.pos=h,!1;c=s.href,u=s.title}if(!e){r=n.src.slice(p,v);const m=[];n.md.inline.parse(r,n.md,n.env,m);const _=n.push("image","img",0),b=[["src",c],["alt",""]];_.attrs=b,_.children=m,_.content=r,u&&b.push(["title",u])}return n.pos=o,n.posMax=d,!0}const bye=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Cye=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function wye(n,e){let t=n.pos;if(n.src.charCodeAt(t)!==60)return!1;const r=n.pos,i=n.posMax;for(;;){if(++t>=i)return!1;const s=n.src.charCodeAt(t);if(s===60)return!1;if(s===62)break}const o=n.src.slice(r+1,t);if(Cye.test(o)){const s=n.md.normalizeLink(o);if(!n.md.validateLink(s))return!1;if(!e){const a=n.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const u=n.push("text","",0);u.content=n.md.normalizeLinkText(o);const l=n.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return n.pos+=o.length+2,!0}if(bye.test(o)){const s=n.md.normalizeLink("mailto:"+o);if(!n.md.validateLink(s))return!1;if(!e){const a=n.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const u=n.push("text","",0);u.content=n.md.normalizeLinkText(o);const l=n.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return n.pos+=o.length+2,!0}return!1}function Eye(n){return/^<a[>\s]/i.test(n)}function Sye(n){return/^<\/a\s*>/i.test(n)}function Tye(n){const e=n|32;return e>=97&&e<=122}function Dye(n,e){if(!n.md.options.html)return!1;const t=n.posMax,r=n.pos;if(n.src.charCodeAt(r)!==60||r+2>=t)return!1;const i=n.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!Tye(i))return!1;const o=n.src.slice(r).match(tye);if(!o)return!1;if(!e){const s=n.push("html_inline","",0);s.content=o[0],Eye(s.content)&&n.linkLevel++,Sye(s.content)&&n.linkLevel--}return n.pos+=o[0].length,!0}const Aye=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Iye=/^&([a-z][a-z0-9]{1,31});/i;function xye(n,e){const t=n.pos,r=n.posMax;if(n.src.charCodeAt(t)!==38||t+1>=r)return!1;if(n.src.charCodeAt(t+1)===35){const o=n.src.slice(t).match(Aye);if(o){if(!e){const s=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),a=n.push("text_special","",0);a.content=h4(s)?lT(s):lT(65533),a.markup=o[0],a.info="entity"}return n.pos+=o[0].length,!0}}else{const o=n.src.slice(t).match(Iye);if(o){const s=sm(o[0]);if(s!==o[0]){if(!e){const a=n.push("text_special","",0);a.content=s,a.markup=o[0],a.info="entity"}return n.pos+=o[0].length,!0}}}return!1}function O7(n){const e={},t=n.length;if(!t)return;let r=0,i=-2;const o=[];for(let s=0;s<t;s++){const a=n[s];if(o.push(0),(n[r].marker!==a.marker||i!==a.token-1)&&(r=s),i=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[a.marker][(a.open?3:0)+a.length%3];let l=r-o[r]-1,c=l;for(;l>u;l-=o[l]+1){const h=n[l];if(h.marker===a.marker&&h.open&&h.end<0){let d=!1;if((h.close||a.open)&&(h.length+a.length)%3===0&&(h.length%3!==0||a.length%3!==0)&&(d=!0),!d){const p=l>0&&!n[l-1].open?o[l-1]+1:0;o[s]=s-l+p,o[l]=p,a.open=!1,h.end=s,h.close=!1,c=-1,i=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function Lye(n){const e=n.tokens_meta,t=n.tokens_meta.length;O7(n.delimiters);for(let r=0;r<t;r++)e[r]&&e[r].delimiters&&O7(e[r].delimiters)}function Nye(n){let e,t,r=0;const i=n.tokens,o=n.tokens.length;for(e=t=0;e<o;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<o&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==t&&(i[t]=i[e]),t++);e!==t&&(i.length=t)}const sO=[["text",uye],["linkify",cye],["newline",fye],["escape",hye],["backticks",dye],["strikethrough",NQ.tokenize],["emphasis",OQ.tokenize],["link",_ye],["image",yye],["autolink",wye],["html_inline",Dye],["entity",xye]],aO=[["balance_pairs",Lye],["strikethrough",NQ.postProcess],["emphasis",OQ.postProcess],["fragments_join",Nye]];function Z1(){this.ruler=new Ps;for(let n=0;n<sO.length;n++)this.ruler.push(sO[n][0],sO[n][1]);this.ruler2=new Ps;for(let n=0;n<aO.length;n++)this.ruler2.push(aO[n][0],aO[n][1])}Z1.prototype.skipToken=function(n){const e=n.pos,t=this.ruler.getRules(""),r=t.length,i=n.md.options.maxNesting,o=n.cache;if(typeof o[e]<"u"){n.pos=o[e];return}let s=!1;if(n.level<i){for(let a=0;a<r;a++)if(n.level++,s=t[a](n,!0),n.level--,s){if(e>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}else n.pos=n.posMax;s||n.pos++,o[e]=n.pos};Z1.prototype.tokenize=function(n){const e=this.ruler.getRules(""),t=e.length,r=n.posMax,i=n.md.options.maxNesting;for(;n.pos<r;){const o=n.pos;let s=!1;if(n.level<i){for(let a=0;a<t;a++)if(s=e[a](n,!1),s){if(o>=n.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(n.pos>=r)break;continue}n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};Z1.prototype.parse=function(n,e,t,r){const i=new this.State(n,e,t,r);this.tokenize(i);const o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](i)};Z1.prototype.State=Q1;function Oye(n){const e={};n=n||{},e.src_Any=fQ.source,e.src_Cc=hQ.source,e.src_Z=pQ.source,e.src_P=a4.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const t="[><]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(n["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function JR(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(r){n[r]=t[r]})}),n}function xA(n){return Object.prototype.toString.call(n)}function kye(n){return xA(n)==="[object String]"}function Rye(n){return xA(n)==="[object Object]"}function Pye(n){return xA(n)==="[object RegExp]"}function k7(n){return xA(n)==="[object Function]"}function Mye(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const kQ={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Fye(n){return Object.keys(n||{}).reduce(function(e,t){return e||kQ.hasOwnProperty(t)},!1)}const Bye={"http:":{validate:function(n,e,t){const r=n.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(r)?r.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,e,t){const r=n.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(r)?e>=3&&n[e-3]===":"||e>=3&&n[e-3]==="/"?0:r.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(n,e,t){const r=n.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(r)?r.match(t.re.mailto)[0].length:0}}},Hye="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Vye="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Wye(n){n.__index__=-1,n.__text_cache__=""}function Uye(n){return function(e,t){const r=e.slice(t);return n.test(r)?r.match(n)[0].length:0}}function R7(){return function(n,e){e.normalize(n)}}function cT(n){const e=n.re=Oye(n.__opts__),t=n.__tlds__.slice();n.onCompile(),n.__tlds_replaced__||t.push(Hye),t.push(e.src_xn),e.src_tlds=t.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];n.__compiled__={};function o(a,u){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+u)}Object.keys(n.__schemas__).forEach(function(a){const u=n.__schemas__[a];if(u===null)return;const l={validate:null,link:null};if(n.__compiled__[a]=l,Rye(u)){Pye(u.validate)?l.validate=Uye(u.validate):k7(u.validate)?l.validate=u.validate:o(a,u),k7(u.normalize)?l.normalize=u.normalize:u.normalize?o(a,u):l.normalize=R7();return}if(kye(u)){i.push(a);return}o(a,u)}),i.forEach(function(a){n.__compiled__[n.__schemas__[a]]&&(n.__compiled__[a].validate=n.__compiled__[n.__schemas__[a]].validate,n.__compiled__[a].normalize=n.__compiled__[n.__schemas__[a]].normalize)}),n.__compiled__[""]={validate:null,normalize:R7()};const s=Object.keys(n.__compiled__).filter(function(a){return a.length>0&&n.__compiled__[a]}).map(Mye).join("|");n.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","i"),n.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","ig"),n.re.schema_at_start=RegExp("^"+n.re.schema_search.source,"i"),n.re.pretest=RegExp("("+n.re.schema_test.source+")|("+n.re.host_fuzzy_test.source+")|@","i"),Wye(n)}function jye(n,e){const t=n.__index__,r=n.__last_index__,i=n.__text_cache__.slice(t,r);this.schema=n.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function eP(n,e){const t=new jye(n,e);return n.__compiled__[t.schema].normalize(t,n),t}function ga(n,e){if(!(this instanceof ga))return new ga(n,e);e||Fye(n)&&(e=n,n={}),this.__opts__=JR({},kQ,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=JR({},Bye,n),this.__compiled__={},this.__tlds__=Vye,this.__tlds_replaced__=!1,this.re={},cT(this)}ga.prototype.add=function(e,t){return this.__schemas__[e]=t,cT(this),this};ga.prototype.set=function(e){return this.__opts__=JR(this.__opts__,e),this};ga.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,r,i,o,s,a,u,l,c;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(t=u.exec(e))!==null;)if(o=this.testSchemaAt(e,t[2],u.lastIndex),o){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=r.index+r[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};ga.prototype.pretest=function(e){return this.re.pretest.test(e)};ga.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0};ga.prototype.match=function(e){const t=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(eP(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)t.push(eP(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null};ga.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const r=this.testSchemaAt(e,t[2],t[0].length);return r?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r,eP(this,0)):null};ga.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,o){return r!==o[i-1]}).reverse(),cT(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,cT(this),this)};ga.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};ga.prototype.onCompile=function(){};const am=2147483647,al=36,g4=1,Pb=26,qye=38,zye=700,RQ=72,PQ=128,MQ="-",Gye=/^xn--/,$ye=/[^\0-\x7F]/,Kye=/[\x2E\u3002\uFF0E\uFF61]/g,Yye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},uO=al-g4,ul=Math.floor,lO=String.fromCharCode;function Lf(n){throw new RangeError(Yye[n])}function Xye(n,e){const t=[];let r=n.length;for(;r--;)t[r]=e(n[r]);return t}function FQ(n,e){const t=n.split("@");let r="";t.length>1&&(r=t[0]+"@",n=t[1]),n=n.replace(Kye,".");const i=n.split("."),o=Xye(i,e).join(".");return r+o}function BQ(n){const e=[];let t=0;const r=n.length;for(;t<r;){const i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){const o=n.charCodeAt(t++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e}const Qye=n=>String.fromCodePoint(...n),Zye=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:al},P7=function(n,e){return n+22+75*(n<26)-((e!=0)<<5)},HQ=function(n,e,t){let r=0;for(n=t?ul(n/zye):n>>1,n+=ul(n/e);n>uO*Pb>>1;r+=al)n=ul(n/uO);return ul(r+(uO+1)*n/(n+qye))},VQ=function(n){const e=[],t=n.length;let r=0,i=PQ,o=RQ,s=n.lastIndexOf(MQ);s<0&&(s=0);for(let a=0;a<s;++a)n.charCodeAt(a)>=128&&Lf("not-basic"),e.push(n.charCodeAt(a));for(let a=s>0?s+1:0;a<t;){const u=r;for(let c=1,h=al;;h+=al){a>=t&&Lf("invalid-input");const d=Zye(n.charCodeAt(a++));d>=al&&Lf("invalid-input"),d>ul((am-r)/c)&&Lf("overflow"),r+=d*c;const p=h<=o?g4:h>=o+Pb?Pb:h-o;if(d<p)break;const v=al-p;c>ul(am/v)&&Lf("overflow"),c*=v}const l=e.length+1;o=HQ(r-u,l,u==0),ul(r/l)>am-i&&Lf("overflow"),i+=ul(r/l),r%=l,e.splice(r++,0,i)}return String.fromCodePoint(...e)},WQ=function(n){const e=[];n=BQ(n);const t=n.length;let r=PQ,i=0,o=RQ;for(const u of n)u<128&&e.push(lO(u));const s=e.length;let a=s;for(s&&e.push(MQ);a<t;){let u=am;for(const c of n)c>=r&&c<u&&(u=c);const l=a+1;u-r>ul((am-i)/l)&&Lf("overflow"),i+=(u-r)*l,r=u;for(const c of n)if(c<r&&++i>am&&Lf("overflow"),c===r){let h=i;for(let d=al;;d+=al){const p=d<=o?g4:d>=o+Pb?Pb:d-o;if(h<p)break;const v=h-p,m=al-p;e.push(lO(P7(p+v%m,0))),h=ul(v/m)}e.push(lO(P7(h,0))),o=HQ(i,l,a===s),i=0,++a}++i,++r}return e.join("")},Jye=function(n){return FQ(n,function(e){return Gye.test(e)?VQ(e.slice(4).toLowerCase()):e})},ebe=function(n){return FQ(n,function(e){return $ye.test(e)?"xn--"+WQ(e):e})},UQ={version:"2.3.1",ucs2:{decode:BQ,encode:Qye},decode:VQ,encode:WQ,toASCII:ebe,toUnicode:Jye},tbe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},nbe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},rbe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},ibe={default:tbe,zero:nbe,commonmark:rbe},obe=/^(vbscript|javascript|file|data):/,sbe=/^data:image\/(gif|png|jpeg|webp);/;function abe(n){const e=n.trim().toLowerCase();return obe.test(e)?sbe.test(e):!0}const jQ=["http:","https:","mailto:"];function ube(n){const e=s4(n,!0);if(e.hostname&&(!e.protocol||jQ.indexOf(e.protocol)>=0))try{e.hostname=UQ.toASCII(e.hostname)}catch{}return X1(o4(e))}function lbe(n){const e=s4(n,!0);if(e.hostname&&(!e.protocol||jQ.indexOf(e.protocol)>=0))try{e.hostname=UQ.toUnicode(e.hostname)}catch{}return Tm(o4(e),Tm.defaultChars+"%")}function Va(n,e){if(!(this instanceof Va))return new Va(n,e);e||f4(n)||(e=n||{},n="default"),this.inline=new Z1,this.block=new IA,this.core=new d4,this.renderer=new T_,this.linkify=new ga,this.validateLink=abe,this.normalizeLink=ube,this.normalizeLinkText=lbe,this.utils=f0e,this.helpers=DA({},g0e),this.options={},this.configure(n),e&&this.set(e)}Va.prototype.set=function(n){return DA(this.options,n),this};Va.prototype.configure=function(n){const e=this;if(f4(n)){const t=n;if(n=ibe[t],!n)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&e.set(n.options),n.components&&Object.keys(n.components).forEach(function(t){n.components[t].rules&&e[t].ruler.enableOnly(n.components[t].rules),n.components[t].rules2&&e[t].ruler2.enableOnly(n.components[t].rules2)}),this};Va.prototype.enable=function(n,e){let t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(i){t=t.concat(this[i].ruler.enable(n,!0))},this),t=t.concat(this.inline.ruler2.enable(n,!0));const r=n.filter(function(i){return t.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Va.prototype.disable=function(n,e){let t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(i){t=t.concat(this[i].ruler.disable(n,!0))},this),t=t.concat(this.inline.ruler2.disable(n,!0));const r=n.filter(function(i){return t.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Va.prototype.use=function(n){const e=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,e),this};Va.prototype.parse=function(n,e){if(typeof n!="string")throw new Error("Input data should be a String");const t=new this.core.State(n,this,e);return this.core.process(t),t.tokens};Va.prototype.render=function(n,e){return e=e||{},this.renderer.render(this.parse(n,e),this.options,e)};Va.prototype.parseInline=function(n,e){const t=new this.core.State(n,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens};Va.prototype.renderInline=function(n,e){return e=e||{},this.renderer.render(this.parseInline(n,e),this.options,e)};var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qQ(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var kh={};kh.getAttrs=function(n,e,t){const r=/[^\t\n\f />"'=]/,i=" ",o="=",s=".",a="#",u=[];let l="",c="",h=!0,d=!1;for(let p=e+t.leftDelimiter.length;p<n.length;p++){if(n.slice(p,p+t.rightDelimiter.length)===t.rightDelimiter){l!==""&&u.push([l,c]);break}const v=n.charAt(p);if(v===o&&h){h=!1;continue}if(v===s&&l===""){n.charAt(p+1)===s?(l="css-module",p+=1):l="class",h=!1;continue}if(v===a&&l===""){l="id",h=!1;continue}if(v==='"'&&c===""&&!d){d=!0;continue}if(v==='"'&&d){d=!1;continue}if(v===i&&!d){if(l==="")continue;u.push([l,c]),l="",c="",h=!0;continue}if(!(h&&v.search(r)===-1)){if(h){l+=v;continue}c+=v}}if(t.allowedAttributes&&t.allowedAttributes.length){const p=t.allowedAttributes;return u.filter(function(v){const m=v[0];function _(b){return m===b||b instanceof RegExp&&b.test(m)}return p.some(_)})}return u};kh.addAttrs=function(n,e){for(let t=0,r=n.length;t<r;++t){const i=n[t][0];i==="class"?e.attrJoin("class",n[t][1]):i==="css-module"?e.attrJoin("css-module",n[t][1]):e.attrPush(n[t])}return e};kh.hasDelimiters=function(n,e){if(!n)throw new Error('Parameter `where` not passed. Should be "start", "end" or "only".');return function(t){const r=e.leftDelimiter.length+1+e.rightDelimiter.length;if(!t||typeof t!="string"||t.length<r)return!1;function i(c){const h=c.charAt(e.leftDelimiter.length)===".",d=c.charAt(e.leftDelimiter.length)==="#";return h||d?c.length>=r+1:c.length>=r}let o,s,a,u;const l=r-e.rightDelimiter.length;switch(n){case"start":a=t.slice(0,e.leftDelimiter.length),o=a===e.leftDelimiter?0:-1,s=o===-1?-1:t.indexOf(e.rightDelimiter,l),u=t.charAt(s+e.rightDelimiter.length),u&&e.rightDelimiter.indexOf(u)!==-1&&(s=-1);break;case"end":o=t.lastIndexOf(e.leftDelimiter),s=o===-1?-1:t.indexOf(e.rightDelimiter,o+l),s=s===t.length-e.rightDelimiter.length?s:-1;break;case"only":a=t.slice(0,e.leftDelimiter.length),o=a===e.leftDelimiter?0:-1,a=t.slice(t.length-e.rightDelimiter.length),s=a===e.rightDelimiter?t.length-e.rightDelimiter.length:-1;break;default:throw new Error(`Unexpected case ${n}, expected 'start', 'end' or 'only'`)}return o!==-1&&s!==-1&&i(t.substring(o,s+e.rightDelimiter.length))}};kh.removeDelimiter=function(n,e){const t=tP(e.leftDelimiter),r=tP(e.rightDelimiter),i=new RegExp("[ \\n]?"+t+"[^"+t+r+"]+"+r+"$"),o=n.search(i);return o!==-1?n.slice(0,o):n};function tP(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}kh.escapeRegExp=tP;kh.getMatchingOpeningToken=function(n,e){if(n[e].type==="softbreak")return!1;if(n[e].nesting===0)return n[e];const t=n[e].level,r=n[e].type.replace("_close","_open");for(;e>=0;--e)if(n[e].type===r&&n[e].level===t)return n[e];return!1};const cbe=/[&<>"]/,fbe=/[&<>"]/g,hbe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function dbe(n){return hbe[n]}kh.escapeHtml=function(n){return cbe.test(n)?n.replace(fbe,dbe):n};const $t=kh;var pbe=n=>{const e=new RegExp("^ {0,3}[-*_]{3,} ?"+$t.escapeRegExp(n.leftDelimiter)+"[^"+$t.escapeRegExp(n.rightDelimiter)+"]");return[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:$t.hasDelimiters("end",n)}],transform:(t,r)=>{const i=t[r],o=i.info.lastIndexOf(n.leftDelimiter),s=$t.getAttrs(i.info,o,n);$t.addAttrs(s,i),i.info=$t.removeDelimiter(i.info,n)}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:t=>t==="image"||t==="code_inline"},{shift:0,type:"text",content:$t.hasDelimiters("start",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content.indexOf(n.rightDelimiter),a=t[r].children[i-1],u=$t.getAttrs(o.content,0,n);$t.addAttrs(u,a),o.content.length===s+n.rightDelimiter.length?t[r].children.splice(i,1):o.content=o.content.slice(s+n.rightDelimiter.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:$t.hasDelimiters("only",n)}],transform:(t,r)=>{const i=t[r+2],o=$t.getMatchingOpeningToken(t,r),s=$t.getAttrs(i.content,0,n);$t.addAttrs(s,o),t.splice(r+1,3)}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:$t.hasDelimiters("start",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content,a=$t.getAttrs(s,0,n),u=$t.getMatchingOpeningToken(t[r].children,i-1);$t.addAttrs(a,u),o.content=s.slice(s.indexOf(n.rightDelimiter)+n.rightDelimiter.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:$t.hasDelimiters("only",n)}]}],transform:(t,r,i)=>{const s=t[r].children[i].content,a=$t.getAttrs(s,0,n);let u=r-2;for(;t[u-1]&&t[u-1].type!=="ordered_list_open"&&t[u-1].type!=="bullet_list_open";)u--;$t.addAttrs(a,t[u-1]),t[r].children=t[r].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:t=>t==="bullet_list_close"||t==="ordered_list_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:$t.hasDelimiters("only",n),children:t=>t.length===1},{shift:3,type:"paragraph_close"}],transform:(t,r)=>{const o=t[r+2].content,s=$t.getAttrs(o,0,n),a=$t.getMatchingOpeningToken(t,r);$t.addAttrs(s,a),t.splice(r+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:$t.hasDelimiters("end",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content,a=$t.getAttrs(s,s.lastIndexOf(n.leftDelimiter),n);$t.addAttrs(a,t[r-2]);const u=s.slice(0,s.lastIndexOf(n.leftDelimiter));o.content=M7(u)!==" "?u:u.slice(0,-1)}},{name:`
{.a} softbreak then curly in start`,tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:$t.hasDelimiters("only",n)}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=$t.getAttrs(o.content,0,n);let a=r+1;for(;t[a+1]&&t[a+1].nesting===-1;)a++;const u=$t.getMatchingOpeningToken(t,a);$t.addAttrs(s,u),t[r].children=t[r].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:t=>t.length===1,content:t=>t.match(e)!==null},{shift:2,type:"paragraph_close"}],transform:(t,r)=>{const i=t[r];i.type="hr",i.tag="hr",i.nesting=0;const o=t[r+1].content,s=o.lastIndexOf(n.leftDelimiter),a=$t.getAttrs(o,s,n);$t.addAttrs(a,i),i.markup=o,t.splice(r+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:$t.hasDelimiters("end",n),type:t=>t!=="code_inline"&&t!=="math_inline"}]}],transform:(t,r,i)=>{const o=t[r].children[i],s=o.content,a=$t.getAttrs(s,s.lastIndexOf(n.leftDelimiter),n);let u=r+1;do if(t[u]&&t[u].nesting===-1)break;while(u++<t.length);const l=$t.getMatchingOpeningToken(t,u);$t.addAttrs(a,l);const c=s.slice(0,s.lastIndexOf(n.leftDelimiter));o.content=M7(c)!==" "?c:c.slice(0,-1)}}]};function M7(n){return n.slice(-1)[0]}const gbe=pbe,vbe={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]};var mbe=function(e,t){let r=Object.assign({},vbe);r=Object.assign(r,t);const i=gbe(r);function o(s){const a=s.tokens;for(let u=0;u<a.length;u++)for(let l=0;l<i.length;l++){const c=i[l];let h=null;c.tests.every(p=>{const v=nP(a,u,p);return v.j!==null&&(h=v.j),v.match})&&(c.transform(a,u,h),(c.name==="inline attributes"||c.name==="inline nesting 0")&&l--)}}e.core.ruler.before("linkify","curly_attributes",o)};function nP(n,e,t){const r={match:!1,j:null},i=t.shift!==void 0?e+t.shift:t.position;if(t.shift!==void 0&&i<0)return r;const o=bbe(n,i);if(o===void 0)return r;for(const s of Object.keys(t))if(!(s==="shift"||s==="position")){if(o[s]===void 0)return r;if(s==="children"&&_be(t.children)){if(o.children.length===0)return r;let a;const u=t.children,l=o.children;if(u.every(c=>c.position!==void 0)){if(a=u.every(c=>nP(l,c.position,c).match),a){const c=Cbe(u).position;r.j=c>=0?c:l.length+c}}else for(let c=0;c<l.length;c++)if(a=u.every(h=>nP(l,c,h).match),a){r.j=c;break}if(a===!1)return r;continue}switch(typeof t[s]){case"boolean":case"number":case"string":if(o[s]!==t[s])return r;break;case"function":if(!t[s](o[s]))return r;break;case"object":if(ybe(t[s])){if(t[s].every(u=>u(o[s]))===!1)return r;break}default:throw new Error(`Unknown type of pattern test (key: ${s}). Test should be of type boolean, number, string, function or array of functions.`)}}return r.match=!0,r}function _be(n){return Array.isArray(n)&&n.length&&n.every(e=>typeof e=="object")}function ybe(n){return Array.isArray(n)&&n.length&&n.every(e=>typeof e=="function")}function bbe(n,e){return e>=0?n[e]:n[n.length+e]}function Cbe(n){return n.slice(-1)[0]||{}}const wbe=LA(mbe),Ebe={width:"100%",cellpadding:"0",cellspacing:"0"},Sbe={colspan:"2"},Tbe=["src"],Dbe=["textContent"],Abe=Ms({__name:"NewsLetterHeader",props:{imgUrl:{},date:{}},setup(n){return(e,t)=>(cn(),sr("tr",null,[J("td",null,[J("table",Ebe,[J("tbody",null,[t[1]||(t[1]=J("tr",null,[J("td",{class:"content-block",width:"50%"},"VIPASSANA ARGENTINA"),J("td",{class:"alignright"},[J("span",null,[J("a",{href:"http://www.sukhada.dhamma.org/"},"DS"),nl(" | "),J("a",{href:"https://viriya.dhamma.org/"},"DV")])])],-1)),J("tr",null,[J("td",Sbe,[J("img",{src:e.imgUrl,alt:"Vipassana Argentina, tal y como la ensea S.N. Goenka en la tradicin de Sayagi U Ba Kin"},null,8,Tbe)])]),J("tr",null,[t[0]||(t[0]=J("td",{class:"content-block",width:"50%"},"BOLETIN INFORMATIVO",-1)),J("td",{class:"alignright",textContent:gA(e.date)},null,8,Dbe)])])])])]))}}),Ibe=["innerHTML"],xbe=Ms({__name:"NewsLetterBody",props:{html:{type:String,required:!0}},setup(n){const e=n,t=Fr("");function r(o){const s=document.createElement("div");s.innerHTML=o;const a=s.querySelectorAll("h2"),u=document.createElement("br");let l=0;for(const c of Array.from(a)){const h=document.createElement("hr"),d=document.createElement("a");d.innerText="Volver al tope de la pgina",d.href="#top",s.insertBefore(h,c),s.insertBefore(d,h),s.insertBefore(u.cloneNode(),d),s.insertBefore(u.cloneNode(),d);const p="a"+l;c.setAttribute("id",p),l++}return s.innerHTML}function i(o){return o=r(o),o}return CA(()=>t.value=i((e==null?void 0:e.html)??"")),bA(()=>t.value=i((e==null?void 0:e.html)??"")),(o,s)=>(cn(),sr("tr",null,[J("td",{innerHTML:t.value},null,8,Ibe)]))}}),ds=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},Lbe={};function Nbe(n,e){return cn(),sr("tr",null,e[0]||(e[0]=[J("td",{class:"footer"},[J("b",null,"* NOTA IMPORTANTE"),J("br"),nl(" Usted est recibiendo este correo porque realiz algn curso de Vipassana tal y como la ensea S. N. Goenka en la tradicin de Sayagyi U Ba Khin. Si ya no desea ser contactado o si quiere actualizar sus preferencias, favor de hacer click "),J("a",{href:"https://goo.gl/forms/YvZ7XLbZ0i07qd863",target:"_blank",rel:"noopener noreferrer"},"aqu")],-1)]))}const Obe=ds(Lbe,[["render",Nbe]]),kbe=["innerHTML"],Rbe=Ms({__name:"NewsLetterTOC",props:{html:{}},setup(n){const e=n,t=Fr("");function r(o){const s=document.createElement("div");s.innerHTML=o;const a=document.createElement("ol"),u=s.querySelectorAll("h2");let l=0;for(const c of Array.from(u)){if(!c.textContent)continue;const h="a"+l,d=c.innerHTML;a.appendChild(i(h,d)),c.setAttribute("id",h),l++}return a.outerHTML}function i(o,s){let a=document.createElement("a"),u=document.createElement("strong"),l=document.createElement("li");return l.appendChild(u),u.appendChild(a),a.href=`#${o}`,a.innerHTML=s,a.className="toc",l}return CA(()=>t.value=r(e.html)),(o,s)=>(cn(),sr(li,null,[s[0]||(s[0]=J("tr",null,[J("td",null,[J("h2",null,"Tabla de contenidos")])],-1)),J("tr",null,[J("td",{innerHTML:t.value},null,8,kbe)])],64))}}),Pbe={};function Mbe(n,e){return cn(),sr(li,null,[e[0]||(e[0]=J("tr",null,[J("td",{class:"content-block text-left",colspan:"2"},[J("h2",{class:"text-left ignore"},[J("i",null,"Dhamma Sukhad")]),nl(" Centro "),J("i",null,"Vipassana"),nl(" Buenos Aires (Brandsen) ")])],-1)),e[1]||(e[1]=J("tr",null,[J("td",{class:"centre-card",width:"50%",colspan:"2"},[J("img",{src:"https://os.ar.dhamma.org/wp-content/uploads/img-ds-2017-1-300x200.jpg",alt:"Dhamma Sukhada"}),J("a",{href:"https://dhamma.org/es/schedules/schsukhada",target:"_blank",rel:"noopener noreferrer"}," Calendario de Cursos "),nl(" | "),J("a",{href:"mailto:info@sukhada.dhamma.org"},"Info"),J("br"),J("a",{href:"https://facebook.com/sukhada.dhamma.org",target:"_blank",rel:"noopener noreferrer"},"Facebook"),J("br"),J("p",null,"(011) 15-5135-2153 (solo mensajes de Whatsapp)")])],-1)),e[2]||(e[2]=J("tr",null,[J("td",{class:"content-block text-left",colspan:"2"},[J("h2",{class:"text-left ignore"},[J("i",null,"Dhamma Viriya")]),nl(" Centro "),J("i",null,"Vipassana"),nl(" Crdoba (Capilla del Monte) ")])],-1)),e[3]||(e[3]=J("tr",null,[J("td",{class:"centre-card",width:"50%",colspan:"2"},[J("img",{src:"https://os.ar.dhamma.org/wp-content/uploads/casa-principal-DV-1-300x169.jpg",alt:"Dhamma Viriya"}),J("a",{href:"https://dhamma.org/es/schedules/schviriya",target:"_blank",rel:"noopener noreferrer"}," Calendario de cursos "),nl(" | "),J("a",{href:"mailto:info@viriya.dhamma.org"},"Info"),J("br"),J("p",null,"+54 9 351 684-8844 (solo Whatsapp)")])],-1))],64)}const Fbe=ds(Pbe,[["render",Mbe]]);let v4=class AS{constructor(e,t){this._position=e,this._selectionEnd=t}static fromJSON({position:e,selectionEnd:t}){return new AS(e,t)}equals(e){return e==null?!1:this._position===e._position&&this._selectionEnd===e._selectionEnd}compose(e){return e}_transformIndex(e,t){let r=t;for(const i of e)if(i.isRetain()?t-=i.chars:i.isInsert()?r+=i.text.length:(r-=Math.min(t,i.chars),t-=i.chars),t<0)break;return r}transform(e){const t=e.getOps(),r=this._transformIndex(t,this._position);return this._position===this._selectionEnd?new AS(r,r):new AS(r,this._transformIndex(t,this._selectionEnd))}toJSON(){return{position:this._position,selectionEnd:this._selectionEnd}}};var nr;(function(n){n.Ready="ready",n.CursorChange="cursor",n.Operation="operation",n.Acknowledge="ack",n.Retry="retry",n.Error="error",n.InitialRevision="initialRevision"})(nr||(nr={}));var fo;(function(n){n.Error="error",n.Blur="blur",n.Focus="focus",n.Undo="undo",n.Redo="redo",n.Change="change",n.CursorActivity="cursorActivity"})(fo||(fo={}));var rP=function(n,e){return rP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},rP(n,e)};function Fe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rP(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gt=function(){return gt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gt.apply(this,arguments)};function X(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(h){s(h)}}function u(c){try{l(r.throw(c))}catch(h){s(h)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Y(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(t=0)),t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Pi(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gi(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function Vt(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zQ={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(n,e){if(!n)throw D_(e)},D_=function(n){return new Error("Firebase Database ("+zQ.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GQ=function(n){for(var e=[],t=0,r=0;r<n.length;r++){var i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Bbe=function(n){for(var e=[],t=0,r=0;t<n.length;){var i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{var o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},NA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<n.length;i+=3){var o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4,d=(a&15)<<2|l>>6,p=l&63;u||(p=64,s||(d=64)),r.push(t[c],t[h],t[d],t[p])}return r.join("")},encodeString:function(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GQ(n),e)},decodeString:function(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Bbe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray:function(n,e){this.init_();for(var t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<n.length;){var o=t[n.charAt(i++)],s=i<n.length,a=s?t[n.charAt(i)]:0;++i;var u=i<n.length,l=u?t[n.charAt(i)]:64;++i;var c=i<n.length,h=c?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw Error();var d=o<<2|a>>4;if(r.push(d),l!==64){var p=a<<4&240|l>>2;if(r.push(p),h!==64){var v=l<<6&192|h;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},$Q=function(n){var e=GQ(n);return NA.encodeByteArray(e,!0)},F7=function(n){return $Q(n).replace(/\./g,"")},B7=function(n){try{return NA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(n){return Mb(void 0,n)}function Mb(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!Hbe(r)||(n[r]=Mb(n[r],e[r]));return n}function Hbe(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki=function(){function n(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})}return n.prototype.wrapCallback=function(e){var t=this;return function(r,i){r?t.reject(r):t.resolve(i),typeof e=="function"&&(t.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},n}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=gt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[F7(JSON.stringify(t)),F7(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pp())}function YQ(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vbe(){return typeof self=="object"&&self.self===self}function y4(){var n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wbe(){return Pp().indexOf("Electron/")>=0}function Ube(){var n=Pp();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jbe(){return Pp().indexOf("MSAppHost/")>=0}function QQ(){return zQ.NODE_ADMIN===!0}function qbe(){return!YQ()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){return"indexedDB"in self&&indexedDB!=null}function b4(){return new Promise(function(n,e){try{var t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=function(){t=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function ZQ(){return!(!navigator||!navigator.cookieEnabled)}function zbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gbe="FirebaseError",A_=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this,r)||this;return o.code=t,o.customData=i,o.name=Gbe,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,$c.prototype.create),o}return e}(Error),$c=function(){function n(e,t,r){this.service=e,this.serviceName=t,this.errors=r}return n.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=t[0]||{},o=this.service+"/"+e,s=this.errors[e],a=s?$be(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",l=new A_(o,u,i);return l},n}();function $be(n,e){return n.replace(Kbe,function(t,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var Kbe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n){return JSON.parse(n)}function fi(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C4=function(n){var e={},t={},r={},i="";try{var o=n.split(".");e=Fb(B7(o[0])||""),t=Fb(B7(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},Ybe=function(n){var e=C4(n).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},Xbe=function(n){var e=C4(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Qbe=function(n){var e=C4(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Mp(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function iP(n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fT(n,e,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zbe(n){for(var e=[],t=function(u,l){Array.isArray(l)?l.forEach(function(c){e.push(encodeURIComponent(u)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(u)+"="+encodeURIComponent(l))},r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jbe=function(){function n(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return n.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},n.prototype.compress_=function(e,t){t||(t=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)r[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,d,i=0;i<80;i++){i<40?i<20?(h=l^a&(u^l),d=1518500249):(h=a^u^l,d=1859775393):i<60?(h=a&u|l&(a|u),d=2400959708):(h=a^u^l,d=3395469782);var o=(s<<5|s>>>27)+h+c+d+r[i]&4294967295;c=l,l=u,u=(a<<30|a>>>2)&4294967295,a=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},n.prototype.update=function(e,t){if(e!=null){t===void 0&&(t=e.length);for(var r=t-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;i<t;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<t;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}},n.prototype.digest=function(){var e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},n}();function e1e(n,e){var t=new t1e(n,e);return t.subscribe.bind(t)}var t1e=function(){function n(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return n.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},n.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},n.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},n.prototype.subscribe=function(e,t,r){var i=this,o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");n1e(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=cO),o.error===void 0&&(o.error=cO),o.complete===void 0&&(o.complete=cO);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},n.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},n.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},n.prototype.sendOne=function(e,t){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{t(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},n.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},n}();function n1e(n,e){if(typeof n!="object"||n===null)return!1;for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i in n&&typeof n[i]=="function")return!0}return!1}function cO(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt=function(n,e,t,r){var i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){var o=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function xs(n,e){return n+" failed: "+e+" argument "}function Ai(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(xs(n,e)+"must be a valid function.")}function H7(n,e,t,r){if(t&&(typeof t!="object"||t===null))throw new Error(xs(n,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r1e=function(n){for(var e=[],t=0,r=0;r<n.length;r++){var i=n.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Ae(r<n.length,"Surrogate pair missing trail surrogate.");var s=n.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OA=function(n){for(var e=0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i1e=1e3,o1e=2,s1e=4*60*60*1e3,a1e=.5;function oP(n,e,t){e===void 0&&(e=i1e),t===void 0&&(t=o1e);var r=e*Math.pow(t,n),i=Math.round(a1e*r*(Math.random()-.5)*2);return Math.min(s1e,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n){return n&&n._delegate?n._delegate:n}var Io=function(){function n(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return n.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},n.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},n.prototype.setServiceProps=function(e){return this.serviceProps=e,this},n.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JQ=function(){function n(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return n.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new ki;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise},n.prototype.getImmediate=function(e){var t,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(l1e(e))try{this.getOrInitializeService({instanceIdentifier:Bd})}catch{}try{for(var i=Pi(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Gi(o.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch{}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},n.prototype.clearInstance=function(e){e===void 0&&(e=Bd),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},n.prototype.delete=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Vt(Vt([],Gi(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Gi(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return t.sent(),[2]}})})},n.prototype.isComponentSet=function(){return this.component!=null},n.prototype.isInitialized=function(e){return e===void 0&&(e=Bd),this.instances.has(e)},n.prototype.getOptions=function(e){return e===void 0&&(e=Bd),this.instancesOptions.get(e)||{}},n.prototype.initialize=function(e){var t,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Pi(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Gi(l.value,2),h=c[0],d=c[1],p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(a)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return a},n.prototype.onInit=function(e,t){var r,i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&e(s,i),function(){o.delete(e)}},n.prototype.invokeOnInitCallbacks=function(e,t){var r,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=Pi(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch{}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},n.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:u1e(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null},n.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Bd),this.component?this.component.multipleInstances?e:Bd:e},n.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},n}();function u1e(n){return n===Bd?void 0:n}function l1e(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eZ=function(){function n(e){this.name=e,this.providers=new Map}return n.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},n.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},n.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new JQ(e,this);return this.providers.set(e,t),t},n.prototype.getProviders=function(){return Array.from(this.providers.values())},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function su(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd,w4=[],zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));var tZ={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},c1e=zt.INFO,f1e=(Cd={},Cd[zt.DEBUG]="log",Cd[zt.VERBOSE]="log",Cd[zt.INFO]="info",Cd[zt.WARN]="warn",Cd[zt.ERROR]="error",Cd),h1e=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(!(e<n.logLevel)){var i=new Date().toISOString(),o=f1e[e];if(o)console[o].apply(console,su(["["+i+"]  "+n.name+":"],t));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},og=function(){function n(e){this.name=e,this._logLevel=c1e,this._logHandler=h1e,this._userLogHandler=null,w4.push(this)}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in zt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),n.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?tZ[e]:e},Object.defineProperty(n.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,su([this,zt.DEBUG],e)),this._logHandler.apply(this,su([this,zt.DEBUG],e))},n.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,su([this,zt.VERBOSE],e)),this._logHandler.apply(this,su([this,zt.VERBOSE],e))},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,su([this,zt.INFO],e)),this._logHandler.apply(this,su([this,zt.INFO],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,su([this,zt.WARN],e)),this._logHandler.apply(this,su([this,zt.WARN],e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,su([this,zt.ERROR],e)),this._logHandler.apply(this,su([this,zt.ERROR],e))},n}();function d1e(n){w4.forEach(function(e){e.setLogLevel(n)})}function p1e(n,e){for(var t=function(s){var a=null;e&&e.level&&(a=tZ[e.level]),n===null?s.userLogHandler=null:s.userLogHandler=function(u,l){for(var c=[],h=2;h<arguments.length;h++)c[h-2]=arguments[h];var d=c.map(function(p){if(p==null)return null;if(typeof p=="string")return p;if(typeof p=="number"||typeof p=="boolean")return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch{return null}}).filter(function(p){return p}).join(" ");l>=(a??u.logLevel)&&n({level:zt[l].toLowerCase(),message:d,args:c,type:u.name})}},r=0,i=w4;r<i.length;r++){var o=i[r];t(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf,g1e=(hf={},hf["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",hf["bad-app-name"]="Illegal App name: '{$appName}",hf["duplicate-app"]="Firebase App named '{$appName}' already exists",hf["app-deleted"]="Firebase App named '{$appName}' already deleted",hf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",hf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",hf),xv=new $c("app","Firebase",g1e),nZ="@firebase/app",v1e="0.6.30",m1e="@firebase/analytics",_1e="@firebase/app-check",y1e="@firebase/auth",b1e="@firebase/database",C1e="@firebase/functions",w1e="@firebase/installations",E1e="@firebase/messaging",S1e="@firebase/performance",T1e="@firebase/remote-config",D1e="@firebase/storage",A1e="@firebase/firestore",I1e="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo,hT="[DEFAULT]",x1e=(lo={},lo[nZ]="fire-core",lo[m1e]="fire-analytics",lo[_1e]="fire-app-check",lo[y1e]="fire-auth",lo[b1e]="fire-rtdb",lo[C1e]="fire-fn",lo[w1e]="fire-iid",lo[E1e]="fire-fcm",lo[S1e]="fire-perf",lo[T1e]="fire-rc",lo[D1e]="fire-gcs",lo[A1e]="fire-fst",lo["fire-js"]="fire-js",lo[I1e]="fire-js-all",lo);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Am=new og("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IS=function(){function n(e,t,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=KQ(e),this.container=new eZ(t.name),this._addComponent(new Io("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(n.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),n.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(t){return t.delete()}))}).then(function(){e.isDeleted_=!0})},n.prototype._getService=function(e,t){var r;t===void 0&&(t=hT),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})},n.prototype._removeServiceInstance=function(e,t){t===void 0&&(t=hT),this.container.getProvider(e).clearInstance(t)},n.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){Am.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},n.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},n.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},n.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw xv.create("app-deleted",{appName:this.name_})},n}();IS.prototype.name&&IS.prototype.options||IS.prototype.delete||console.log("dc");var L1e="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1e(n){var e={},t=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:d1e,onLog:c,apps:null,SDK_VERSION:L1e,INTERNAL:{registerComponent:u,removeApp:i,components:t,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(d){delete e[d]}function o(d){if(d=d||hT,!va(e,d))throw xv.create("no-app",{appName:d});return e[d]}o.App=n;function s(d,p){if(p===void 0&&(p={}),typeof p!="object"||p===null){var v=p;p={name:v}}var m=p;m.name===void 0&&(m.name=hT);var _=m.name;if(typeof _!="string"||!_)throw xv.create("bad-app-name",{appName:String(_)});if(va(e,_))throw xv.create("duplicate-app",{appName:_});var b=new n(d,m,r);return e[_]=b,b}function a(){return Object.keys(e).map(function(d){return e[d]})}function u(d){var p=d.name;if(t.has(p))return Am.debug("There were multiple attempts to register component "+p+"."),d.type==="PUBLIC"?r[p]:null;if(t.set(p,d),d.type==="PUBLIC"){var v=function(C){if(C===void 0&&(C=o()),typeof C[p]!="function")throw xv.create("invalid-app-argument",{appName:p});return C[p]()};d.serviceProps!==void 0&&Mb(v,d.serviceProps),r[p]=v,n.prototype[p]=function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];var S=this._getService.bind(this,p);return S.apply(this,d.multipleInstances?C:[])}}for(var m=0,_=Object.keys(e);m<_.length;m++){var b=_[m];e[b]._addComponent(d)}return d.type==="PUBLIC"?r[p]:null}function l(d,p,v){var m,_=(m=x1e[d])!==null&&m!==void 0?m:d;v&&(_+="-"+v);var b=_.match(/\s|\//),C=p.match(/\s|\//);if(b||C){var E=['Unable to register library "'+_+'" with version "'+p+'":'];b&&E.push('library name "'+_+'" contains illegal characters (whitespace or "/")'),b&&C&&E.push("and"),C&&E.push('version name "'+p+'" contains illegal characters (whitespace or "/")'),Am.warn(E.join(" "));return}u(new Io(_+"-version",function(){return{library:_,version:p}},"VERSION"))}function c(d,p){if(d!==null&&typeof d!="function")throw xv.create("invalid-log-argument");p1e(d,p)}function h(d,p){if(p==="serverAuth")return null;var v=p;return v}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(){var n=N1e(IS);n.INTERNAL=gt(gt({},n.INTERNAL),{createFirebaseNamespace:rZ,extendNamespace:e,createSubscribe:e1e,ErrorFactory:$c,deepExtend:Mb});function e(t){Mb(n,t)}return n}var E4=rZ();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O1e=function(){function n(e){this.container=e}return n.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(t){if(k1e(t)){var r=t.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(t){return t}).join(" ")},n}();function k1e(n){var e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1e(n,e){n.INTERNAL.registerComponent(new Io("platform-logger",function(t){return new O1e(t)},"PRIVATE")),n.registerVersion(nZ,v1e,e),n.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Vbe()&&self.firebase!==void 0){Am.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var V7=self.firebase.SDK_VERSION;V7&&V7.indexOf("LITE")>=0&&Am.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var P1e=E4.initializeApp;E4.initializeApp=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return YQ()&&Am.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),P1e.apply(void 0,n)};var tt=E4;R1e(tt);var M1e={},F1e="@firebase/database",B1e="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ="";function oZ(n){iZ=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H1e=function(){function n(e){this.domStorage_=e,this.prefix_="firebase:"}return n.prototype.set=function(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fi(t))},n.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Fb(t)},n.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},n.prototype.prefixedName_=function(e){return this.prefix_+e},n.prototype.toString=function(){return this.domStorage_.toString()},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V1e=function(){function n(){this.cache_={},this.isInMemoryStorage=!0}return n.prototype.set=function(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t},n.prototype.get=function(e){return va(this.cache_,e)?this.cache_[e]:null},n.prototype.remove=function(e){delete this.cache_[e]},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sZ=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){var e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new H1e(e)}}catch{}return new V1e},rp=sZ("localStorage"),sP=sZ("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=new og("@firebase/database"),aZ=function(){var n=1;return function(){return n++}}(),uZ=function(n){var e=r1e(n),t=new Jbe;t.update(e);var r=t.digest();return NA.encodeByteArray(r)},eC=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t="",r=0;r<n.length;r++){var i=n[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=eC.apply(null,i):typeof i=="object"?t+=fi(i):t+=i,t+=" "}return t},gp=null,W7=!0,lZ=function(n,e){Ae(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(um.logLevel=zt.VERBOSE,gp=um.log.bind(um),e&&sP.set("logging_enabled",!0)):typeof n=="function"?gp=n:(gp=null,sP.remove("logging_enabled"))},xi=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(W7===!0&&(W7=!1,gp===null&&sP.get("logging_enabled")===!0&&lZ(!0)),gp){var t=eC.apply(null,n);gp(t)}},tC=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];xi.apply(void 0,Vt([n],Gi(e)))}},aP=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t="FIREBASE INTERNAL ERROR: "+eC.apply(void 0,Vt([],Gi(n)));um.error(t)},Al=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t="FIREBASE FATAL ERROR: "+eC.apply(void 0,Vt([],Gi(n)));throw um.error(t),new Error(t)},Xi=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t="FIREBASE WARNING: "+eC.apply(void 0,Vt([],Gi(n)));um.warn(t)},W1e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kA=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},U1e=function(n){if(document.readyState==="complete")n();else{var e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Rc="[MIN_NAME]",Il="[MAX_NAME]",sg=function(n,e){if(n===e)return 0;if(n===Rc||e===Il)return-1;if(e===Rc||n===Il)return 1;var t=dT(n),r=dT(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1},j1e=function(n,e){return n===e?0:n<e?-1:1},Q0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+fi(e))},S4=function(n){if(typeof n!="object"||n===null)return fi(n);var e=[];for(var t in n)e.push(t);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=fi(e[i]),r+=":",r+=S4(n[e[i]]);return r+="}",r},cZ=function(n,e){var t=n.length;if(t<=e)return[n];for(var r=[],i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function vi(n,e){for(var t in n)n.hasOwnProperty(t)&&e(t,n[t])}var fZ=function(n){Ae(!kA(n),"Invalid JSON number");var e=11,t=52,r=(1<<e-1)-1,i,o,s,a,u;n===0?(o=0,s=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=a+r,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-r-t))));var l=[];for(u=t;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(u=e;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();var c=l.join(""),h="";for(u=0;u<64;u+=8){var d=parseInt(c.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},q1e=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},z1e=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function G1e(n,e){var t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");var r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}var $1e=new RegExp("^-?(0*)\\d{1,10}$"),hZ=-2147483648,T4=2147483647,dT=function(n){if($1e.test(n)){var e=Number(n);if(e>=hZ&&e<=T4)return e}return null},I_=function(n){try{n()}catch(e){setTimeout(function(){var t=e.stack||"";throw Xi("Exception was thrown by user callback.",t),e},Math.floor(0))}},K1e=function(){var n=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return n.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zy=function(n,e){var t=setTimeout(n,e);return typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1e=function(){function n(e,t){var r=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(function(i){return r.appCheck=i})}return n.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){t.appCheck?t.getToken(e).then(r,i):r(null)},0)})},n.prototype.addTokenChangeListener=function(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(function(r){return r.addTokenListener(e)})},n.prototype.notifyForInvalidToken=function(){Xi('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X1e=function(){function n(e,t,r){var i=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return n.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(xi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){t.auth_?t.getToken(e).then(r,i):r(null)},0)})},n.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},n.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},n.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xi(e)},n}(),Gy=function(){function n(e){this.accessToken=e}return n.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},n.prototype.addTokenChangeListener=function(e){e(this.accessToken)},n.prototype.removeTokenChangeListener=function(e){},n.prototype.notifyForInvalidToken=function(){},n.OWNER="owner",n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D4="5",dZ="v",pZ="s",gZ="r",vZ="f",mZ=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_Z="ls",Q1e="p",uP="ac",yZ="websocket",bZ="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A4=function(){function n(e,t,r,i,o,s,a){o===void 0&&(o=!1),s===void 0&&(s=""),a===void 0&&(a=!1),this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rp.get("host:"+e)||this._host}return n.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},n.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(n.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rp.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),n.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},n.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},n}();function Z1e(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function CZ(n,e,t){Ae(typeof e=="string","typeof type must == string"),Ae(typeof t=="object","typeof params must == object");var r;if(e===yZ)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===bZ)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Z1e(n)&&(t.ns=n.namespace);var i=[];return vi(t,function(o,s){i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J1e=function(){function n(){this.counters_={}}return n.prototype.incrementCounter=function(e,t){t===void 0&&(t=1),va(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},n.prototype.get=function(){return KQ(this.counters_)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fO={},hO={};function I4(n){var e=n.toString();return fO[e]||(fO[e]=new J1e),fO[e]}function eCe(n,e){var t=n.toString();return hO[t]||(hO[t]=e()),hO[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tCe=function(){function n(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return n.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},n.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;for(var i=function(){var a=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var u=function(c){a[c]&&I_(function(){r.onMessage_(a[c])})},l=0;l<a.length;++l)u(l);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var s=i();if(s==="break")break}},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U7="start",nCe="close",rCe="pLPCommand",iCe="pRTLPCB",wZ="id",EZ="pw",SZ="ser",oCe="cb",sCe="seg",aCe="ts",uCe="d",lCe="dframe",TZ=1870,DZ=30,cCe=TZ-DZ,fCe=25e3,hCe=3e4,x4=function(){function n(e,t,r,i,o,s,a){var u=this;this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tC(e),this.stats_=I4(t),this.urlFn=function(l){return u.appCheckToken&&(l[uP]=u.appCheckToken),CZ(t,bZ,l)}}return n.prototype.open=function(e,t){var r=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new tCe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(hCe)),U1e(function(){if(!r.isClosed_){r.scriptTagHolder=new dCe(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=Gi(s,5),l=u[0],c=u[1],h=u[2];if(u[3],u[4],r.incrementIncomingBytes_(s),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,l===U7)r.id=c,r.password=h;else if(l===nCe)c?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(c,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+l)},function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=Gi(s,2),l=u[0],c=u[1];r.incrementIncomingBytes_(s),r.myPacketOrderer.handleResponse(l,c)},function(){r.onClosed_()},r.urlFn);var i={};i[U7]="t",i[SZ]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[oCe]=r.scriptTagHolder.uniqueCallbackIdentifier),i[dZ]=D4,r.transportSessionId&&(i[pZ]=r.transportSessionId),r.lastSessionId&&(i[_Z]=r.lastSessionId),r.applicationId&&(i[Q1e]=r.applicationId),r.appCheckToken&&(i[uP]=r.appCheckToken),typeof location<"u"&&location.hostname&&mZ.test(location.hostname)&&(i[gZ]=vZ);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},n.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},n.forceAllow=function(){n.forceAllow_=!0},n.forceDisallow=function(){n.forceDisallow_=!0},n.isAvailable=function(){return n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q1e()&&!z1e()},n.prototype.markConnectionHealthy=function(){},n.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},n.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},n.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},n.prototype.send=function(e){var t=fi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var r=$Q(t),i=cZ(r,cCe),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},n.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var r={};r[lCe]="t",r[wZ]=e,r[EZ]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},n.prototype.incrementIncomingBytes_=function(e){var t=fi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},n}(),dCe=function(){function n(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aZ(),window[rCe+this.uniqueCallbackIdentifier]=e,window[iCe+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){xi("frame writing exception"),u.stack&&xi(u.stack),xi(u)}}}return n.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var t=e.contentWindow.document;t||xi("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},n.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},n.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},n.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[wZ]=this.myID,e[EZ]=this.myPW,e[SZ]=this.currentSerial;for(var t=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+DZ+r.length<=TZ){var s=this.pendingSegs.shift();r=r+"&"+sCe+i+"="+s.seg+"&"+aCe+i+"="+s.ts+"&"+uCe+i+"="+s.d,i++}else break}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1},n.prototype.enqueueSegment=function(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()},n.prototype.addLongPollTag_=function(e,t){var r=this;this.outstandingRequests.add(t);var i=function(){r.outstandingRequests.delete(t),r.newRequest_()},o=setTimeout(i,Math.floor(fCe)),s=function(){clearTimeout(o),i()};this.addTag(e,s)},n.prototype.addTag=function(e,t){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){xi("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pCe=16384,gCe=45e3,pT=null;typeof MozWebSocket<"u"?pT=MozWebSocket:typeof WebSocket<"u"&&(pT=WebSocket);var Kd=function(){function n(e,t,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tC(this.connId),this.stats_=I4(t),this.connURL=n.connectionURL_(t,s,a,i),this.nodeAdmin=t.nodeAdmin}return n.connectionURL_=function(e,t,r,i){var o={};return o[dZ]=D4,typeof location<"u"&&location.hostname&&mZ.test(location.hostname)&&(o[gZ]=vZ),t&&(o[pZ]=t),r&&(o[_Z]=r),i&&(o[uP]=i),CZ(e,yZ,o)},n.prototype.open=function(e,t){var r=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rp.set("previous_websocket_failure",!0);try{var i,o,s,a;if(!QQ()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pT(this.connURL,[],o)}}catch(l){this.log_("Error instantiating WebSocket.");var u=l.message||l.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(l){r.handleIncomingFrame(l)},this.mySock.onerror=function(l){r.log_("WebSocket error.  Closing connection.");var c=l.message||l.data;c&&r.log_(c),r.onClosed_()}},n.prototype.start=function(){},n.forceDisallow=function(){n.forceDisallow_=!0},n.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pT!==null&&!n.forceDisallow_},n.previouslyFailed=function(){return rp.isInMemoryStorage||rp.get("previous_websocket_failure")===!0},n.prototype.markConnectionHealthy=function(){rp.remove("previous_websocket_failure")},n.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var r=Fb(t);this.onMessage(r)}},n.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},n.prototype.extractFrameCount_=function(e){if(Ae(this.frames===null,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},n.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{var r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}},n.prototype.send=function(e){this.resetKeepAlive();var t=fi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var r=cZ(t,pCe);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},n.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},n.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},n.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},n.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(gCe))},n.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vCe=function(){function n(e){this.initTransports_(e)}return Object.defineProperty(n,"ALL_TRANSPORTS",{get:function(){return[x4,Kd]},enumerable:!1,configurable:!0}),n.prototype.initTransports_=function(e){var t,r,i=Kd&&Kd.isAvailable(),o=i&&!Kd.previouslyFailed();if(e.webSocketOnly&&(i||Xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kd];else{var s=this.transports_=[];try{for(var a=Pi(n.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}},n.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},n.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mCe=6e4,_Ce=5e3,yCe=10*1024,bCe=100*1024,dO="t",j7="d",CCe="s",q7="r",wCe="e",z7="o",G7="a",$7="n",K7="p",ECe="h",AZ=function(){function n(e,t,r,i,o,s,a,u,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tC("c:"+this.id+":"),this.transportManager_=new vCe(t),this.log_("Connection created"),this.start_()}return n.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=zy(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>bCe?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>yCe?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},n.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},n.prototype.disconnReceiver_=function(e){var t=this;return function(r){e===t.conn_?t.onConnectionLost_(r):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},n.prototype.connReceiver_=function(e){var t=this;return function(r){t.state_!==2&&(e===t.rx_?t.onPrimaryMessageReceived_(r):e===t.secondaryConn_?t.onSecondaryMessageReceived_(r):t.log_("message on old connection"))}},n.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},n.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},n.prototype.onSecondaryControl_=function(e){if(dO in e){var t=e[dO];t===G7?this.upgradeIfSecondaryHealthy_():t===q7?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===z7&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},n.prototype.onSecondaryMessageReceived_=function(e){var t=Q0("t",e),r=Q0("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)},n.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:K7,d:{}}}))},n.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:G7,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$7,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},n.prototype.onPrimaryMessageReceived_=function(e){var t=Q0("t",e),r=Q0("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)},n.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},n.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},n.prototype.onControl_=function(e){var t=Q0(dO,e);if(j7 in e){var r=e[j7];if(t===ECe)this.onHandshake_(r);else if(t===$7){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===CCe?this.onConnectionShutdown_(r):t===q7?this.onReset_(r):t===wCe?aP("Server Error: "+r):t===z7?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aP("Unknown control packet command: "+t)}},n.prototype.onHandshake_=function(e){var t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),D4!==r&&Xi("Protocol version mismatch detected"),this.tryStartUpgrade_())},n.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},n.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),zy(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(mCe))},n.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},n.prototype.onConnectionEstablished_=function(e,t){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zy(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(_Ce))},n.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:K7,d:{}}}))},n.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},n.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},n.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},n.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},n.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},n.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IZ=function(){function n(){}return n.prototype.put=function(e,t,r,i){},n.prototype.merge=function(e,t,r,i){},n.prototype.refreshAuthToken=function(e){},n.prototype.refreshAppCheckToken=function(e){},n.prototype.onDisconnectPut=function(e,t,r){},n.prototype.onDisconnectMerge=function(e,t,r){},n.prototype.onDisconnectCancel=function(e,t){},n.prototype.reportStats=function(e){},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ=function(){function n(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Vt([],Gi(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,t)},n.prototype.on=function(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});var i=this.getInitialEvent(e);i&&t.apply(r,i)},n.prototype.off=function(e,t,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}},n.prototype.validateEventType_=function(e){Ae(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y7=function(n){Fe(e,n);function e(){var t=n.call(this,["online"])||this;return t.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_4()&&(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Ae(t==="online","Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(xZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X7=32,Q7=768,An=function(){function n(e,t){if(t===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return n.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"},n}();function pn(){return new An("")}function Wt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function bh(n){return n.pieces_.length-n.pieceNum_}function zn(n){var e=n.pieceNum_;return e<n.pieces_.length&&e++,new An(n.pieces_,e)}function L4(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function SCe(n){for(var e="",t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Bb(n,e){return e===void 0&&(e=0),n.pieces_.slice(n.pieceNum_+e)}function LZ(n){if(n.pieceNum_>=n.pieces_.length)return null;for(var e=[],t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new An(e,0)}function hr(n,e){for(var t=[],r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof An)for(var r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&t.push(i[r]);return new An(t,0)}function Ut(n){return n.pieceNum_>=n.pieces_.length}function as(n,e){var t=Wt(n),r=Wt(e);if(t===null)return e;if(t===r)return as(zn(n),zn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function TCe(n,e){for(var t=Bb(n,0),r=Bb(e,0),i=0;i<t.length&&i<r.length;i++){var o=sg(t[i],r[i]);if(o!==0)return o}return t.length===r.length?0:t.length<r.length?-1:1}function N4(n,e){if(bh(n)!==bh(e))return!1;for(var t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Oa(n,e){var t=n.pieceNum_,r=e.pieceNum_;if(bh(n)>bh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var DCe=function(){function n(e,t){this.errorPrefix_=t,this.parts_=Bb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=OA(this.parts_[r]);NZ(this)}return n}();function ACe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=OA(e),NZ(n)}function ICe(n){var e=n.parts_.pop();n.byteLength_-=OA(e),n.parts_.length>0&&(n.byteLength_-=1)}function NZ(n){if(n.byteLength_>Q7)throw new Error(n.errorPrefix_+"has a key path longer than "+Q7+" bytes ("+n.byteLength_+").");if(n.parts_.length>X7)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+X7+") or object contains a cycle "+Hd(n))}function Hd(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xCe=function(n){Fe(e,n);function e(){var t=n.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),t.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==t.visible_&&(t.visible_=o,t.trigger("visible",o))},!1),t}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Ae(t==="visible","Unknown event type: "+t),[this.visible_]},e}(xZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z0=1e3,LCe=60*5*1e3,NCe=3*1e3,Z7=30*1e3,OCe=1.3,kCe=3e4,RCe="server_kill",J7=3,vp=function(n){Fe(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this)||this;if(c.repoInfo_=t,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=tC("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Z0,c.maxReconnectDelay_=LCe,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!QQ())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return xCe.getInstance().on("visible",c.onVisible_,c),t.host.indexOf("fblocal")===-1&&Y7.getInstance().on("online",c.onOnline_,c),c}return e.prototype.sendRequest=function(t,r,i){var o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(fi(s)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(t){var r=this;this.initConnection_();var i=new ki,o={p:t._path.toString(),q:t._queryObject},s={action:"g",request:o,onComplete:function(u){var l=u.d;u.s==="ok"?(r.onDataUpdate_(o.p,l,!1,null),i.resolve(l)):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var u=r.outstandingGets_[a];u===void 0||s!==u||(delete r.outstandingGets_[a],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},NCe),this.connected_&&this.sendGet_(a),i.promise},e.prototype.listen=function(t,r,i,o){this.initConnection_();var s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");var u={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,u),this.connected_&&this.sendListen_(u)},e.prototype.sendGet_=function(t){var r=this,i=this.outstandingGets_[t];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[t],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(t){var r=this,i=t.query,o=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+o+" for "+s);var a={p:o},u="q";t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(u,a,function(l){var c=l.d,h=l.s;e.warnOnListenWarnings_(c,i);var d=r.listens.get(o)&&r.listens.get(o).get(s);d===t&&(r.log_("listen response",l),h!=="ok"&&r.removeListen_(o,s),t.onComplete&&t.onComplete(h,c))})},e.warnOnListenWarnings_=function(t,r){if(t&&typeof t=="object"&&va(t,"w")){var i=Mp(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Xi("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(s+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var r=t&&t.length===40;(r||Qbe(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Z7)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=Xbe(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(s){var a=s.s,u=s.d||"error";t.authToken_===r&&(a==="ok"?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(a,u))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(t,r){var i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var s=this.removeListen_(i,o);s&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)},e.prototype.sendUnlisten_=function(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);var s={p:t},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)},e.prototype.onDisconnectPut=function(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(t,r,i,o){var s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,function(a){o&&setTimeout(function(){o(a.s,a.d)},Math.floor(0))})},e.prototype.put=function(t,r,i,o){this.putInternal("p",t,r,i,o)},e.prototype.merge=function(t,r,i,o){this.putInternal("m",t,r,i,o)},e.prototype.putInternal=function(t,r,i,o,s){this.initConnection_();var a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;var u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(t){var r=this,i=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,o,function(a){r.log_(i+" response",a),delete r.outstandingPuts_[t],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),s&&s(a.s,a.d)})},e.prototype.reportStats=function(t){var r=this;if(this.connected_){var i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var s=o.s;if(s!=="ok"){var a=o.d;r.log_("reportStats","Error sending stats: "+a)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+fi(t));var r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):aP("Unrecognized action received from server: "+fi(t)+`
Are you using the latest client?`)},e.prototype.onReady_=function(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var r=this;Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Z0,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Z0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var t=new Date().getTime()-this.lastConnectionEstablishedTime_;t>kCe&&(this.reconnectDelay_=Z0),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*OCe)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u,l,c,h,d,p,v,m,_=this;return Y(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,u=null,l=function(){u?u.close():(a=!0,i())},c=function(C){Ae(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(C)},this.realtime_={close:l,sendRequest:c},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=Gi.apply(void 0,[b.sent(),2]),p=d[0],v=d[1],a?xi("getToken() completed but was canceled"):(xi("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new AZ(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,function(C){Xi(C+" ("+_.repoInfo_.toString()+")"),_.interrupt(RCe)},s)),[3,4];case 3:return m=b.sent(),this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Xi(m),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){xi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){xi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],iP(this.interruptReasons_)&&(this.reconnectDelay_=Z0,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,r){var i;r?i=r.map(function(s){return S4(s)}).join("$"):i="default";var o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(t,r){var i=new An(t).toString(),o;if(this.listens.has(i)){var s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(t,r){xi("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=J7&&(this.reconnectDelay_=Z7,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,r){xi("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=J7&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var t,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var s=Pi(this.listens.values()),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var l=(i=void 0,Pi(u.values())),c=l.next();!c.done;c=l.next()){var h=c.value;this.sendListen_(h)}}catch(v){i={error:v}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}for(var d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}for(var d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)},e.prototype.sendConnectStats_=function(){var t={},r="js";t["sdk."+r+"."+iZ.replace(/\./g,"-")]=1,_4()?t["framework.cordova"]=1:XQ()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Y7.getInstance().currentlyOnline();return iP(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(IZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt=function(){function n(e,t){this.name=e,this.node=t}return n.Wrap=function(e,t){return new n(e,t)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA=function(){function n(){}return n.prototype.getCompare=function(){return this.compare.bind(this)},n.prototype.indexedValueChanged=function(e,t){var r=new Jt(Rc,e),i=new Jt(Rc,t);return this.compare(r,i)!==0},n.prototype.minPost=function(){return Jt.MIN},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yE,OZ=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return yE},set:function(t){yE=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,r){return sg(t.name,r.name)},e.prototype.isDefinedOn=function(t){throw D_("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,r){return!1},e.prototype.minPost=function(){return Jt.MIN},e.prototype.maxPost=function(){return new Jt(Il,yE)},e.prototype.makePost=function(t,r){return Ae(typeof t=="string","KeyIndex indexValue must always be a string."),new Jt(t,yE)},e.prototype.toString=function(){return".key"},e}(RA),pl=new OZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bE=function(){function n(e,t,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var s=1;!e.isEmpty();)if(e=e,s=t?r(e.key,t):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return n.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},n.prototype.hasNext=function(){return this.nodeStack_.length>0},n.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},n}(),au=function(){function n(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??bc.EMPTY_NODE,this.right=o??bc.EMPTY_NODE}return n.prototype.copy=function(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)},n.prototype.count=function(){return this.left.count()+1+this.right.count()},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},n.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},n.prototype.minKey=function(){return this.min_().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(e,t,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()},n.prototype.removeMin_=function(){if(this.left.isEmpty())return bc.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},n.prototype.remove=function(e,t){var r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return bc.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},n.prototype.isRed_=function(){return this.color},n.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},n.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},n.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},n.prototype.rotateLeft_=function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},n.prototype.rotateRight_=function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},n.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},n.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},n.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},n.RED=!0,n.BLACK=!1,n}(),PCe=function(){function n(){}return n.prototype.copy=function(e,t,r,i,o){return this},n.prototype.insert=function(e,t,r){return new au(e,t,null)},n.prototype.remove=function(e,t){return this},n.prototype.count=function(){return 0},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(e){return!1},n.prototype.reverseTraversal=function(e){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.check_=function(){return 0},n.prototype.isRed_=function(){return!1},n}(),bc=function(){function n(e,t){t===void 0&&(t=n.EMPTY_NODE),this.comparator_=e,this.root_=t}return n.prototype.insert=function(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,au.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,au.BLACK,null,null))},n.prototype.get=function(e){for(var t,r=this.root_;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null},n.prototype.getPredecessorKey=function(e){for(var t,r=this.root_,i=null;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},n.prototype.isEmpty=function(){return this.root_.isEmpty()},n.prototype.count=function(){return this.root_.count()},n.prototype.minKey=function(){return this.root_.minKey()},n.prototype.maxKey=function(){return this.root_.maxKey()},n.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},n.prototype.getIterator=function(e){return new bE(this.root_,null,this.comparator_,!1,e)},n.prototype.getIteratorFrom=function(e,t){return new bE(this.root_,e,this.comparator_,!1,t)},n.prototype.getReverseIteratorFrom=function(e,t){return new bE(this.root_,e,this.comparator_,!0,t)},n.prototype.getReverseIterator=function(e){return new bE(this.root_,null,this.comparator_,!0,e)},n.EMPTY_NODE=new PCe,n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MCe(n,e){return sg(n.name,e.name)}function O4(n,e){return sg(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lP;function FCe(n){lP=n}var kZ=function(n){return typeof n=="number"?"number:"+fZ(n):"string:"+n},RZ=function(n){if(n.isLeafNode()){var e=n.val();Ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&va(e,".sv"),"Priority must be a string or number.")}else Ae(n===lP||n.isEmpty(),"priority of unexpected type.");Ae(n===lP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ej,Im=function(){function n(e,t){t===void 0&&(t=n.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RZ(this.priorityNode_)}return Object.defineProperty(n,"__childrenNodeConstructor",{get:function(){return ej},set:function(e){ej=e},enumerable:!1,configurable:!0}),n.prototype.isLeafNode=function(){return!0},n.prototype.getPriority=function(){return this.priorityNode_},n.prototype.updatePriority=function(e){return new n(this.value_,e)},n.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE},n.prototype.getChild=function(e){return Ut(e)?this:Wt(e)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE},n.prototype.hasChild=function(){return!1},n.prototype.getPredecessorChildName=function(e,t){return null},n.prototype.updateImmediateChild=function(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},n.prototype.updateChild=function(e,t){var r=Wt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(Ae(r!==".priority"||bh(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(zn(e),t)))},n.prototype.isEmpty=function(){return!1},n.prototype.numChildren=function(){return 0},n.prototype.forEachChild=function(e,t){return!1},n.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},n.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+kZ(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",t==="number"?e+=fZ(this.value_):e+=this.value_,this.lazyHash_=uZ(e)}return this.lazyHash_},n.prototype.getValue=function(){return this.value_},n.prototype.compareTo=function(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(Ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},n.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,r=typeof this.value_,i=n.VALUE_TYPE_ORDER.indexOf(t),o=n.VALUE_TYPE_ORDER.indexOf(r);return Ae(i>=0,"Unknown leaf type: "+t),Ae(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},n.prototype.withIndex=function(){return this},n.prototype.isIndexed=function(){return!0},n.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1},n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PZ,MZ;function BCe(n){PZ=n}function HCe(n){MZ=n}var VCe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.compare=function(t,r){var i=t.node.getPriority(),o=r.node.getPriority(),s=i.compareTo(o);return s===0?sg(t.name,r.name):s},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,r){return!t.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Jt.MIN},e.prototype.maxPost=function(){return new Jt(Il,new Im("[PRIORITY-POST]",MZ))},e.prototype.makePost=function(t,r){var i=PZ(t);return new Jt(r,new Im("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(RA),er=new VCe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WCe=Math.log(2),UCe=function(){function n(e){var t=function(o){return parseInt(Math.log(o)/WCe,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return n.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},n}(),gT=function(n,e,t,r){n.sort(e);var i=function(u,l){var c=l-u,h,d;if(c===0)return null;if(c===1)return h=n[u],d=t?t(h):h,new au(d,h.node,au.BLACK,null,null);var p=parseInt(c/2,10)+u,v=i(u,p),m=i(p+1,l);return h=n[p],d=t?t(h):h,new au(d,h.node,au.BLACK,v,m)},o=function(u){for(var l=null,c=null,h=n.length,d=function(b,C){var E=h-b,S=h;h-=b;var A=i(E+1,S),T=n[E],N=t?t(T):T;p(new au(N,T.node,C,null,A))},p=function(b){l?(l.left=b,l=b):(c=b,l=b)},v=0;v<u.count;++v){var m=u.nextBitIsOne(),_=Math.pow(2,u.count-(v+1));m?d(_,au.BLACK):(d(_,au.BLACK),d(_,au.RED))}return c},s=new UCe(n.length),a=o(s);return new bc(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pO,ov={},vT=function(){function n(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(n,"Default",{get:function(){return Ae(ov&&er,"ChildrenNode.ts has not been loaded"),pO=pO||new n({".priority":ov},{".priority":er}),pO},enumerable:!1,configurable:!0}),n.prototype.get=function(e){var t=Mp(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bc?t:null},n.prototype.hasIndex=function(e){return va(this.indexSet_,e.toString())},n.prototype.addIndex=function(e,t){Ae(e!==pl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=t.getIterator(Jt.Wrap),s=o.getNext();s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();var a;i?a=gT(r,e.getCompare()):a=ov;var u=e.toString(),l=gt({},this.indexSet_);l[u]=e;var c=gt({},this.indexes_);return c[u]=a,new n(c,l)},n.prototype.addToIndexes=function(e,t){var r=this,i=fT(this.indexes_,function(o,s){var a=Mp(r.indexSet_,s);if(Ae(a,"Missing index implementation for "+s),o===ov)if(a.isDefinedOn(e.node)){for(var u=[],l=t.getIterator(Jt.Wrap),c=l.getNext();c;)c.name!==e.name&&u.push(c),c=l.getNext();return u.push(e),gT(u,a.getCompare())}else return ov;else{var h=t.get(e.name),d=o;return h&&(d=d.remove(new Jt(e.name,h))),d.insert(e,e.node)}});return new n(i,this.indexSet_)},n.prototype.removeFromIndexes=function(e,t){var r=fT(this.indexes_,function(i){if(i===ov)return i;var o=t.get(e.name);return o?i.remove(new Jt(e.name,o)):i});return new n(r,this.indexSet_)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J0,At=function(){function n(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RZ(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(n,"EMPTY_NODE",{get:function(){return J0||(J0=new n(new bc(O4),null,vT.Default))},enumerable:!1,configurable:!0}),n.prototype.isLeafNode=function(){return!1},n.prototype.getPriority=function(){return this.priorityNode_||J0},n.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)},n.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var t=this.children_.get(e);return t===null?J0:t},n.prototype.getChild=function(e){var t=Wt(e);return t===null?this:this.getImmediateChild(t).getChild(zn(e))},n.prototype.hasChild=function(e){return this.children_.get(e)!==null},n.prototype.updateImmediateChild=function(e,t){if(Ae(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);var r=new Jt(e,t),i=void 0,o=void 0;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?J0:this.priorityNode_;return new n(i,s,o)},n.prototype.updateChild=function(e,t){var r=Wt(e);if(r===null)return t;Ae(Wt(e)!==".priority"||bh(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(zn(e),t);return this.updateImmediateChild(r,i)},n.prototype.isEmpty=function(){return this.children_.isEmpty()},n.prototype.numChildren=function(){return this.children_.count()},n.prototype.val=function(e){if(this.isEmpty())return null;var t={},r=0,i=0,o=!0;if(this.forEachChild(er,function(u,l){t[u]=l.val(e),r++,o&&n.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in t)s[a]=t[a];return s}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},n.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+kZ(this.getPriority().val())+":"),this.forEachChild(er,function(t,r){var i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":uZ(e)}return this.lazyHash_},n.prototype.getPredecessorChildName=function(e,t,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Jt(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)},n.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.minKey();return r&&r.name}else return this.children_.minKey()},n.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Jt(t,this.children_.get(t)):null},n.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.maxKey();return r&&r.name}else return this.children_.maxKey()},n.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Jt(t,this.children_.get(t)):null},n.prototype.forEachChild=function(e,t){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return t(i.name,i.node)}):this.children_.inorderTraversal(t)},n.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},n.prototype.getIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,function(s){return s});for(var i=this.children_.getIteratorFrom(e.name,Jt.Wrap),o=i.peek();o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i},n.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},n.prototype.getReverseIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,function(s){return s});for(var i=this.children_.getReverseIteratorFrom(e.name,Jt.Wrap),o=i.peek();o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i},n.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nC?-1:0},n.prototype.withIndex=function(e){if(e===pl||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,t)},n.prototype.isIndexed=function(e){return e===pl||this.indexMap_.hasIndex(e)},n.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){for(var r=this.getIterator(er),i=t.getIterator(er),o=r.getNext(),s=i.getNext();o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1},n.prototype.resolveIndex_=function(e){return e===pl?null:this.indexMap_.get(e.toString())},n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n}(),jCe=function(n){Fe(e,n);function e(){return n.call(this,new bc(O4),At.EMPTY_NODE,vT.Default)||this}return e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return At.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(At),nC=new jCe;Object.defineProperties(Jt,{MIN:{value:new Jt(Rc,At.EMPTY_NODE)},MAX:{value:new Jt(Il,nC)}});OZ.__EMPTY_NODE=At.EMPTY_NODE;Im.__childrenNodeConstructor=At;FCe(nC);HCe(nC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qCe=!0;function mr(n,e){if(e===void 0&&(e=null),n===null)return At.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){var t=n;return new Im(t,mr(e))}if(!(n instanceof Array)&&qCe){var r=[],i=!1,o=n;if(vi(o,function(l,c){if(l.substring(0,1)!=="."){var h=mr(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),r.push(new Jt(l,h)))}}),r.length===0)return At.EMPTY_NODE;var s=gT(r,MCe,function(l){return l.name},O4);if(i){var a=gT(r,er.getCompare());return new At(s,mr(e),new vT({".priority":a},{".priority":er}))}else return new At(s,mr(e),vT.Default)}else{var u=At.EMPTY_NODE;return vi(n,function(l,c){if(va(n,l)&&l.substring(0,1)!=="."){var h=mr(c);(h.isLeafNode()||!h.isEmpty())&&(u=u.updateImmediateChild(l,h))}}),u.updatePriority(mr(e))}}BCe(mr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k4=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r.indexPath_=t,Ae(!Ut(t)&&Wt(t)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,r){var i=this.extractChild(t.node),o=this.extractChild(r.node),s=i.compareTo(o);return s===0?sg(t.name,r.name):s},e.prototype.makePost=function(t,r){var i=mr(t),o=At.EMPTY_NODE.updateChild(this.indexPath_,i);return new Jt(r,o)},e.prototype.maxPost=function(){var t=At.EMPTY_NODE.updateChild(this.indexPath_,nC);return new Jt(Il,t)},e.prototype.toString=function(){return Bb(this.indexPath_,0).join("/")},e}(RA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zCe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.compare=function(t,r){var i=t.node.compareTo(r.node);return i===0?sg(t.name,r.name):i},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,r){return!t.equals(r)},e.prototype.minPost=function(){return Jt.MIN},e.prototype.maxPost=function(){return Jt.MAX},e.prototype.makePost=function(t,r){var i=mr(t);return new Jt(r,i)},e.prototype.toString=function(){return".value"},e}(RA),R4=new zCe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cP="-",FZ="z",BZ=786,GCe=function(){var n=0,e=[];return function(t){var r=t===n;n=t;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=xm.charAt(t%64),t=Math.floor(t/64);Ae(t===0,"Cannot push at time == 0");var s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=xm.charAt(e[i]);return Ae(s.length===20,"nextPushId: Length should be 20."),s}}(),tj=function(n){if(n===""+T4)return cP;var e=dT(n);if(e!=null)return""+(e+1);for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n.charAt(r);if(t.length<BZ)return t.push(cP),t.join("");for(var i=t.length-1;i>=0&&t[i]===FZ;)i--;if(i===-1)return Il;var o=t[i],s=xm.charAt(xm.indexOf(o)+1);return t[i]=s,t.slice(0,i+1).join("")},nj=function(n){if(n===""+hZ)return Rc;var e=dT(n);if(e!=null)return""+(e-1);for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n.charAt(r);return t[t.length-1]===cP?t.length===1?""+T4:(delete t[t.length-1],t.join("")):(t[t.length-1]=xm.charAt(xm.indexOf(t[t.length-1])-1),t.join("")+FZ.repeat(BZ-t.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(n){return{type:"value",snapshotNode:n}}function Lm(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Hb(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Vb(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function $Ce(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P4=function(){function n(e){this.index_=e}return n.prototype.updateChild=function(e,t,r,i,o,s){Ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(t)?s.trackChildChange(Hb(t,a)):Ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Lm(t,r)):s.trackChildChange(Vb(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)},n.prototype.updateFullNode=function(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(er,function(i,o){t.hasChild(i)||r.trackChildChange(Hb(i,o))}),t.isLeafNode()||t.forEachChild(er,function(i,o){if(e.hasChild(i)){var s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Vb(i,o,s))}else r.trackChildChange(Lm(i,o))})),t.withIndex(this.index_)},n.prototype.updatePriority=function(e,t){return e.isEmpty()?At.EMPTY_NODE:e.updatePriority(t)},n.prototype.filtersNodes=function(){return!1},n.prototype.getIndexedFilter=function(){return this},n.prototype.getIndex=function(){return this.index_},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VZ=function(){function n(e){this.indexedFilter_=new P4(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e)}return n.prototype.getStartPost=function(){return this.startPost_},n.prototype.getEndPost=function(){return this.endPost_},n.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},n.prototype.updateChild=function(e,t,r,i,o,s){return this.matches(new Jt(t,r))||(r=At.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,o,s)},n.prototype.updateFullNode=function(e,t,r){t.isLeafNode()&&(t=At.EMPTY_NODE);var i=t.withIndex(this.index_);i=i.updatePriority(At.EMPTY_NODE);var o=this;return t.forEachChild(er,function(s,a){o.matches(new Jt(s,a))||(i=i.updateImmediateChild(s,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},n.prototype.updatePriority=function(e,t){return e},n.prototype.filtersNodes=function(){return!0},n.prototype.getIndexedFilter=function(){return this.indexedFilter_},n.prototype.getIndex=function(){return this.index_},n.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()},n.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KCe=function(){function n(e){this.rangedFilter_=new VZ(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return n.prototype.updateChild=function(e,t,r,i,o,s){return this.rangedFilter_.matches(new Jt(t,r))||(r=At.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,o,s):this.fullLimitUpdateChild_(e,t,r,o,s)},n.prototype.updateFullNode=function(e,t,r){var i;if(t.isLeafNode()||t.isEmpty())i=At.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=At.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;o.hasNext()&&s<this.limit_;){var a=o.getNext(),u=void 0;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:u=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(a.name,a.node),s++;else break}}else{i=t.withIndex(this.index_),i=i.updatePriority(At.EMPTY_NODE);var l=void 0,c=void 0,h=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();h=function(_,b){return d(b,_)}}else o=i.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var s=0,p=!1;o.hasNext();){var a=o.getNext();!p&&h(l,a)<=0&&(p=!0);var u=p&&s<this.limit_&&h(a,c)<=0;u?s++:i=i.updateImmediateChild(a.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},n.prototype.updatePriority=function(e,t){return e},n.prototype.filtersNodes=function(){return!0},n.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},n.prototype.getIndex=function(){return this.index_},n.prototype.fullLimitUpdateChild_=function(e,t,r,i,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(C,E){return a(E,C)}}else s=this.index_.getCompare();var u=e;Ae(u.numChildren()===this.limit_,"");var l=new Jt(t,r),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),p=i.getChildAfterChild(this.index_,c,this.reverse_);p!=null&&(p.name===t||u.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var v=p==null?1:s(p,l),m=h&&!r.isEmpty()&&v>=0;if(m)return o!=null&&o.trackChildChange(Vb(t,r,d)),u.updateImmediateChild(t,r);o!=null&&o.trackChildChange(Hb(t,d));var _=u.updateImmediateChild(t,At.EMPTY_NODE),b=p!=null&&this.rangedFilter_.matches(p);return b?(o!=null&&o.trackChildChange(Lm(p.name,p.node)),_.updateImmediateChild(p.name,p.node)):_}else return r.isEmpty()?e:h&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Hb(c.name,c.node)),o.trackChildChange(Lm(t,r))),u.updateImmediateChild(t,r).updateImmediateChild(c.name,At.EMPTY_NODE)):e},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WZ=function(){function n(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=er}return n.prototype.hasStart=function(){return this.startSet_},n.prototype.hasStartAfter=function(){return this.startAfterSet_},n.prototype.hasEndBefore=function(){return this.endBeforeSet_},n.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},n.prototype.getIndexStartValue=function(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},n.prototype.getIndexStartName=function(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rc},n.prototype.hasEnd=function(){return this.endSet_},n.prototype.getIndexEndValue=function(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},n.prototype.getIndexEndName=function(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Il},n.prototype.hasLimit=function(){return this.limitSet_},n.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},n.prototype.getLimit=function(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_},n.prototype.getIndex=function(){return this.index_},n.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},n.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===er},n.prototype.copy=function(){var e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},n}();function YCe(n){return n.loadsAllData()?new P4(n.getIndex()):n.hasLimit()?new KCe(n):new VZ(n)}function XCe(n,e){var t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function QCe(n,e){var t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function fP(n,e,t){var r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function ZCe(n,e,t){var r;if(n.index_===pl)typeof e=="string"&&(e=tj(e)),r=fP(n,e,t);else{var i=void 0;t==null?i=Il:i=tj(t),r=fP(n,e,i)}return r.startAfterSet_=!0,r}function hP(n,e,t){var r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function JCe(n,e,t){var r,i;return n.index_===pl?(typeof e=="string"&&(e=nj(e)),i=hP(n,e,t)):(t==null?r=Rc:r=nj(t),i=hP(n,e,r)),i.endBeforeSet_=!0,i}function PA(n,e){var t=n.copy();return t.index_=e,t}function rj(n){var e={};if(n.isDefault())return e;var t;return n.index_===er?t="$priority":n.index_===R4?t="$value":n.index_===pl?t="$key":(Ae(n.index_ instanceof k4,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=fi(t),n.startSet_&&(e.startAt=fi(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+fi(n.indexStartName_))),n.endSet_&&(e.endAt=fi(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+fi(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function ij(n){var e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;var t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==er&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ewe=function(n){Fe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.repoInfo_=t,s.onDataUpdate_=r,s.authTokenProvider_=i,s.appCheckTokenProvider_=o,s.log_=tC("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,r){return r!==void 0?"tag$"+r:(Ae(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,r,i,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,i),l={};this.listens_[u]=l;var c=rj(t._queryParams);this.restRequest_(a+".json",c,function(h,d){var p=d;if(h===404&&(p=null,h=null),h===null&&s.onDataUpdate_(a,p,!1,i),Mp(s.listens_,u)===l){var v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",o(v,null)}})},e.prototype.unlisten=function(t,r){var i=e.getListenId_(t,r);delete this.listens_[i]},e.prototype.get=function(t){var r=this,i=rj(t._queryParams),o=t._path.toString(),s=new ki;return this.restRequest_(o+".json",i,function(a,u){var l=u;a===404&&(l=null,a=null),a===null?(r.onDataUpdate_(o,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=Gi(s,2),u=a[0],l=a[1];u&&u.accessToken&&(r.auth=u.accessToken),l&&l.token&&(r.ac=l.token);var c=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+t+"?ns="+o.repoInfo_.namespace+Zbe(r);o.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){o.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=Fb(h.responseText)}catch{Xi("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&Xi("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})},e}(IZ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var twe=function(){function n(){this.rootNode_=At.EMPTY_NODE}return n.prototype.getNode=function(e){return this.rootNode_.getChild(e)},n.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return{value:null,children:new Map}}function x_(n,e,t){if(Ut(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{var r=Wt(e);n.children.has(r)||n.children.set(r,mT());var i=n.children.get(r);e=zn(e),x_(i,e,t)}}function dP(n,e){if(Ut(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;var t=n.value;return n.value=null,t.forEachChild(er,function(o,s){x_(n,new An(o),s)}),dP(n,e)}else if(n.children.size>0){var r=Wt(e);if(e=zn(e),n.children.has(r)){var i=dP(n.children.get(r),e);i&&n.children.delete(r)}return n.children.size===0}else return!0}function pP(n,e,t){n.value!==null?t(e,n.value):nwe(n,function(r,i){var o=new An(e.toString()+"/"+r);pP(i,o,t)})}function nwe(n,e){n.children.forEach(function(t,r){e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UZ=function(){function n(e){this.collection_=e,this.last_=null}return n.prototype.get=function(){var e=this.collection_.get(),t=gt({},e);return this.last_&&vi(this.last_,function(r,i){t[r]=t[r]-i}),this.last_=e,t},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=10*1e3,rwe=30*1e3,iwe=5*60*1e3,owe=function(){function n(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new UZ(e);var r=oj+(rwe-oj)*Math.random();zy(this.reportStats_.bind(this),Math.floor(r))}return n.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),r={},i=!1;vi(t,function(o,s){s>0&&va(e.statsToReport_,o)&&(r[o]=s,i=!0)}),i&&this.server_.reportStats(r),zy(this.reportStats_.bind(this),Math.floor(Math.random()*2*iwe))},n}();function swe(n,e){n.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_u||(_u={}));function M4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function F4(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function B4(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var awe=function(){function n(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=_u.ACK_USER_WRITE,this.source=M4()}return n.prototype.operationForChild=function(e){if(Ut(this.path)){if(this.affectedTree.value!=null)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new An(e));return new n(pn(),t,this.revert)}else return Ae(Wt(this.path)===e,"operationForChild called for unrelated child."),new n(zn(this.path),this.affectedTree,this.revert)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jZ=function(){function n(e,t){this.source=e,this.path=t,this.type=_u.LISTEN_COMPLETE}return n.prototype.operationForChild=function(e){return Ut(this.path)?new n(this.source,pn()):new n(this.source,zn(this.path))},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MA=function(){function n(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=_u.OVERWRITE}return n.prototype.operationForChild=function(e){return Ut(this.path)?new n(this.source,pn(),this.snap.getImmediateChild(e)):new n(this.source,zn(this.path),this.snap)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H4=function(){function n(e,t,r){this.source=e,this.path=t,this.children=r,this.type=_u.MERGE}return n.prototype.operationForChild=function(e){if(Ut(this.path)){var t=this.children.subtree(new An(e));return t.isEmpty()?null:t.value?new MA(this.source,pn(),t.value):new n(this.source,pn(),t)}else return Ae(Wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,zn(this.path),this.children)},n.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ch=function(){function n(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}return n.prototype.isFullyInitialized=function(){return this.fullyInitialized_},n.prototype.isFiltered=function(){return this.filtered_},n.prototype.isCompleteForPath=function(e){if(Ut(e))return this.isFullyInitialized()&&!this.filtered_;var t=Wt(e);return this.isCompleteForChild(t)},n.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},n.prototype.getNode=function(){return this.node_},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uwe=function(){function n(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return n}();function lwe(n,e,t,r){var i=[],o=[];return e.forEach(function(s){s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push($Ce(s.childName,s.snapshotNode))}),ey(n,i,"child_removed",e,r,t),ey(n,i,"child_added",e,r,t),ey(n,i,"child_moved",o,r,t),ey(n,i,"child_changed",e,r,t),ey(n,i,"value",e,r,t),i}function ey(n,e,t,r,i,o){var s=r.filter(function(a){return a.type===t});s.sort(function(a,u){return fwe(n,a,u)}),s.forEach(function(a){var u=cwe(n,a,o);i.forEach(function(l){l.respondsTo(a.type)&&e.push(l.createEvent(u,n.query_))})})}function cwe(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function fwe(n,e,t){if(e.childName==null||t.childName==null)throw D_("Should only compare child_ events.");var r=new Jt(e.childName,e.snapshotNode),i=new Jt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n,e){return{eventCache:n,serverCache:e}}function $y(n,e,t,r){return FA(new Ch(e,t,r),n.serverCache)}function qZ(n,e,t,r){return FA(n.eventCache,new Ch(e,t,r))}function _T(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gO,hwe=function(){return gO||(gO=new bc(j1e)),gO},ma=function(){function n(e,t){t===void 0&&(t=hwe()),this.value=e,this.children=t}return n.fromObject=function(e){var t=new n(null);return vi(e,function(r,i){t=t.set(new An(r),i)}),t},n.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},n.prototype.findRootMostMatchingPathAndValue=function(e,t){if(this.value!=null&&t(this.value))return{path:pn(),value:this.value};if(Ut(e))return null;var r=Wt(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(zn(e),t);if(o!=null){var s=hr(new An(r),o.path);return{path:s,value:o.value}}else return null}else return null},n.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},n.prototype.subtree=function(e){if(Ut(e))return this;var t=Wt(e),r=this.children.get(t);return r!==null?r.subtree(zn(e)):new n(null)},n.prototype.set=function(e,t){if(Ut(e))return new n(t,this.children);var r=Wt(e),i=this.children.get(r)||new n(null),o=i.set(zn(e),t),s=this.children.insert(r,o);return new n(this.value,s)},n.prototype.remove=function(e){if(Ut(e))return this.children.isEmpty()?new n(null):new n(null,this.children);var t=Wt(e),r=this.children.get(t);if(r){var i=r.remove(zn(e)),o=void 0;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this},n.prototype.get=function(e){if(Ut(e))return this.value;var t=Wt(e),r=this.children.get(t);return r?r.get(zn(e)):null},n.prototype.setTree=function(e,t){if(Ut(e))return t;var r=Wt(e),i=this.children.get(r)||new n(null),o=i.setTree(zn(e),t),s=void 0;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new n(this.value,s)},n.prototype.fold=function(e){return this.fold_(pn(),e)},n.prototype.fold_=function(e,t){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(hr(e,i),t)}),t(e,this.value,r)},n.prototype.findOnPath=function(e,t){return this.findOnPath_(e,pn(),t)},n.prototype.findOnPath_=function(e,t,r){var i=this.value?r(t,this.value):!1;if(i)return i;if(Ut(e))return null;var o=Wt(e),s=this.children.get(o);return s?s.findOnPath_(zn(e),hr(t,o),r):null},n.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,pn(),t)},n.prototype.foreachOnPath_=function(e,t,r){if(Ut(e))return this;this.value&&r(t,this.value);var i=Wt(e),o=this.children.get(i);return o?o.foreachOnPath_(zn(e),hr(t,i),r):new n(null)},n.prototype.foreach=function(e){this.foreach_(pn(),e)},n.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(r,i){i.foreach_(hr(e,r),t)}),this.value&&t(e,this.value)},n.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,r){r.value&&e(t,r.value)})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ic=function(){function n(e){this.writeTree_=e}return n.empty=function(){return new n(new ma(null))},n}();function Ky(n,e,t){if(Ut(e))return new Ic(new ma(t));var r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,s=as(i,e);return o=o.updateChild(s,t),new Ic(n.writeTree_.set(i,o))}else{var a=new ma(t),u=n.writeTree_.setTree(e,a);return new Ic(u)}}function gP(n,e,t){var r=n;return vi(t,function(i,o){r=Ky(r,hr(e,i),o)}),r}function sj(n,e){if(Ut(e))return Ic.empty();var t=n.writeTree_.setTree(e,new ma(null));return new Ic(t)}function vP(n,e){return ag(n,e)!=null}function ag(n,e){var t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(as(t.path,e)):null}function aj(n){var e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(er,function(r,i){e.push(new Jt(r,i))}):n.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Jt(r,i.value))}),e}function eh(n,e){if(Ut(e))return n;var t=ag(n,e);return t!=null?new Ic(new ma(t)):new Ic(n.writeTree_.subtree(e))}function mP(n){return n.writeTree_.isEmpty()}function Nm(n,e){return zZ(pn(),n.writeTree_,e)}function zZ(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(Ae(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=zZ(hr(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(hr(n,".priority"),r)),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e){return YZ(e,n)}function dwe(n,e,t,r,i){Ae(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Ky(n.visibleWrites,e,t)),n.lastWriteId=r}function pwe(n,e,t,r){Ae(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=gP(n.visibleWrites,e,t),n.lastWriteId=r}function gwe(n,e){for(var t=0;t<n.allWrites.length;t++){var r=n.allWrites[t];if(r.writeId===e)return r}return null}function vwe(n,e){var t=n.allWrites.findIndex(function(l){return l.writeId===e});Ae(t>=0,"removeWrite called with nonexistent writeId.");var r=n.allWrites[t];n.allWrites.splice(t,1);for(var i=r.visible,o=!1,s=n.allWrites.length-1;i&&s>=0;){var a=n.allWrites[s];a.visible&&(s>=t&&mwe(a,r.path)?i=!1:Oa(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return _we(n),!0;if(r.snap)n.visibleWrites=sj(n.visibleWrites,r.path);else{var u=r.children;vi(u,function(l){n.visibleWrites=sj(n.visibleWrites,hr(r.path,l))})}return!0}else return!1}function mwe(n,e){if(n.snap)return Oa(n.path,e);for(var t in n.children)if(n.children.hasOwnProperty(t)&&Oa(hr(n.path,t),e))return!0;return!1}function _we(n){n.visibleWrites=GZ(n.allWrites,ywe,pn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function ywe(n){return n.visible}function GZ(n,e,t){for(var r=Ic.empty(),i=0;i<n.length;++i){var o=n[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)Oa(t,s)?(a=as(t,s),r=Ky(r,a,o.snap)):Oa(s,t)&&(a=as(s,t),r=Ky(r,pn(),o.snap.getChild(a)));else if(o.children){if(Oa(t,s))a=as(t,s),r=gP(r,a,o.children);else if(Oa(s,t))if(a=as(s,t),Ut(a))r=gP(r,pn(),o.children);else{var u=Mp(o.children,Wt(a));if(u){var l=u.getChild(zn(a));r=Ky(r,pn(),l)}}}else throw D_("WriteRecord should have .snap or .children")}}return r}function $Z(n,e,t,r,i){if(!r&&!i){var o=ag(n.visibleWrites,e);if(o!=null)return o;var s=eh(n.visibleWrites,e);if(mP(s))return t;if(t==null&&!vP(s,pn()))return null;var a=t||At.EMPTY_NODE;return Nm(s,a)}else{var u=eh(n.visibleWrites,e);if(!i&&mP(u))return t;if(!i&&t==null&&!vP(u,pn()))return null;var l=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Oa(d.path,e)||Oa(e,d.path))},c=GZ(n.allWrites,l,e),a=t||At.EMPTY_NODE;return Nm(c,a)}}function bwe(n,e,t){var r=At.EMPTY_NODE,i=ag(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(er,function(a,u){r=r.updateImmediateChild(a,u)}),r;if(t){var o=eh(n.visibleWrites,e);return t.forEachChild(er,function(a,u){var l=Nm(eh(o,new An(a)),u);r=r.updateImmediateChild(a,l)}),aj(o).forEach(function(a){r=r.updateImmediateChild(a.name,a.node)}),r}else{var s=eh(n.visibleWrites,e);return aj(s).forEach(function(a){r=r.updateImmediateChild(a.name,a.node)}),r}}function Cwe(n,e,t,r,i){Ae(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=hr(e,t);if(vP(n.visibleWrites,o))return null;var s=eh(n.visibleWrites,o);return mP(s)?i.getChild(t):Nm(s,i.getChild(t))}function wwe(n,e,t,r){var i=hr(e,t),o=ag(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){var s=eh(n.visibleWrites,i);return Nm(s,r.getNode().getImmediateChild(t))}else return null}function Ewe(n,e){return ag(n.visibleWrites,e)}function Swe(n,e,t,r,i,o,s){var a,u=eh(n.visibleWrites,e),l=ag(u,pn());if(l!=null)a=l;else if(t!=null)a=Nm(u,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){for(var c=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=d.getNext();p&&c.length<i;)h(p,r)!==0&&c.push(p),p=d.getNext();return c}else return[]}function Twe(){return{visibleWrites:Ic.empty(),allWrites:[],lastWriteId:-1}}function yT(n,e,t,r){return $Z(n.writeTree,n.treePath,e,t,r)}function V4(n,e){return bwe(n.writeTree,n.treePath,e)}function uj(n,e,t,r){return Cwe(n.writeTree,n.treePath,e,t,r)}function bT(n,e){return Ewe(n.writeTree,hr(n.treePath,e))}function Dwe(n,e,t,r,i,o){return Swe(n.writeTree,n.treePath,e,t,r,i,o)}function W4(n,e,t){return wwe(n.writeTree,n.treePath,e,t)}function KZ(n,e){return YZ(hr(n.treePath,e),n.writeTree)}function YZ(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Awe=function(){function n(){this.changeMap=new Map}return n.prototype.trackChildChange=function(e){var t=e.type,r=e.childName;Ae(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Ae(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,Vb(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,Hb(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,Lm(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,Vb(r,e.snapshotNode,i.oldSnap));else throw D_("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},n.prototype.getChanges=function(){return Array.from(this.changeMap.values())},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iwe=function(){function n(){}return n.prototype.getCompleteChild=function(e){return null},n.prototype.getChildAfterChild=function(e,t,r){return null},n}(),XZ=new Iwe,U4=function(){function n(e,t,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}return n.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new Ch(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W4(this.writes_,e,r)},n.prototype.getChildAfterChild=function(e,t,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fp(this.viewCache_),o=Dwe(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xwe(n){return{filter:n}}function Lwe(n,e){Ae(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ae(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Nwe(n,e,t,r,i){var o=new Awe,s,a;if(t.type===_u.OVERWRITE){var u=t;u.source.fromUser?s=_P(n,e,u.path,u.snap,r,i,o):(Ae(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ut(u.path),s=CT(n,e,u.path,u.snap,r,i,a,o))}else if(t.type===_u.MERGE){var l=t;l.source.fromUser?s=kwe(n,e,l.path,l.children,r,i,o):(Ae(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=yP(n,e,l.path,l.children,r,i,a,o))}else if(t.type===_u.ACK_USER_WRITE){var c=t;c.revert?s=Mwe(n,e,c.path,r,i,o):s=Rwe(n,e,c.path,c.affectedTree,r,i,o)}else if(t.type===_u.LISTEN_COMPLETE)s=Pwe(n,e,t.path,r,o);else throw D_("Unknown operation type: "+t.type);var h=o.getChanges();return Owe(e,s,h),{viewCache:s,changes:h}}function Owe(n,e,t){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=_T(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(HZ(_T(e)))}}function QZ(n,e,t,r,i,o){var s=e.eventCache;if(bT(r,t)!=null)return e;var a=void 0,u=void 0;if(Ut(t))if(Ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Fp(e),c=l instanceof At?l:At.EMPTY_NODE,h=V4(r,c);a=n.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var d=yT(r,Fp(e));a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{var p=Wt(t);if(p===".priority"){Ae(bh(t)===1,"Can't have a priority with additional path components");var v=s.getNode();u=e.serverCache.getNode();var m=uj(r,t,v,u);m!=null?a=n.filter.updatePriority(v,m):a=s.getNode()}else{var _=zn(t),b=void 0;if(s.isCompleteForChild(p)){u=e.serverCache.getNode();var C=uj(r,t,s.getNode(),u);C!=null?b=s.getNode().getImmediateChild(p).updateChild(_,C):b=s.getNode().getImmediateChild(p)}else b=W4(r,p,e.serverCache);b!=null?a=n.filter.updateChild(s.getNode(),p,b,_,i,o):a=s.getNode()}}return $y(e,a,s.isFullyInitialized()||Ut(t),n.filter.filtersNodes())}function CT(n,e,t,r,i,o,s,a){var u=e.serverCache,l,c=s?n.filter:n.filter.getIndexedFilter();if(Ut(t))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(t,r);l=c.updateFullNode(u.getNode(),h,null)}else{var d=Wt(t);if(!u.isCompleteForPath(t)&&bh(t)>1)return e;var p=zn(t),v=u.getNode().getImmediateChild(d),m=v.updateChild(p,r);d===".priority"?l=c.updatePriority(u.getNode(),m):l=c.updateChild(u.getNode(),d,m,p,XZ,null)}var _=qZ(e,l,u.isFullyInitialized()||Ut(t),c.filtersNodes()),b=new U4(i,_,o);return QZ(n,_,t,i,b,a)}function _P(n,e,t,r,i,o,s){var a=e.eventCache,u,l,c=new U4(i,e,o);if(Ut(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,s),u=$y(e,l,!0,n.filter.filtersNodes());else{var h=Wt(t);if(h===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),r),u=$y(e,l,a.isFullyInitialized(),a.isFiltered());else{var d=zn(t),p=a.getNode().getImmediateChild(h),v=void 0;if(Ut(d))v=r;else{var m=c.getCompleteChild(h);m!=null?L4(d)===".priority"&&m.getChild(LZ(d)).isEmpty()?v=m:v=m.updateChild(d,r):v=At.EMPTY_NODE}if(p.equals(v))u=e;else{var _=n.filter.updateChild(a.getNode(),h,v,d,c,s);u=$y(e,_,a.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function lj(n,e){return n.eventCache.isCompleteForChild(e)}function kwe(n,e,t,r,i,o,s){var a=e;return r.foreach(function(u,l){var c=hr(t,u);lj(e,Wt(c))&&(a=_P(n,a,c,l,i,o,s))}),r.foreach(function(u,l){var c=hr(t,u);lj(e,Wt(c))||(a=_P(n,a,c,l,i,o,s))}),a}function cj(n,e,t){return t.foreach(function(r,i){e=e.updateChild(r,i)}),e}function yP(n,e,t,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u=e,l;Ut(t)?l=r:l=new ma(null).setTree(t,r);var c=e.serverCache.getNode();return l.children.inorderTraversal(function(h,d){if(c.hasChild(h)){var p=e.serverCache.getNode().getImmediateChild(h),v=cj(n,p,d);u=CT(n,u,new An(h),v,i,o,s,a)}}),l.children.inorderTraversal(function(h,d){var p=!e.serverCache.isCompleteForChild(h)&&d.value===void 0;if(!c.hasChild(h)&&!p){var v=e.serverCache.getNode().getImmediateChild(h),m=cj(n,v,d);u=CT(n,u,new An(h),m,i,o,s,a)}}),u}function Rwe(n,e,t,r,i,o,s){if(bT(i,t)!=null)return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Ut(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return CT(n,e,t,u.getNode().getChild(t),i,o,a,s);if(Ut(t)){var l=new ma(null);return u.getNode().forEachChild(pl,function(h,d){l=l.set(new An(h),d)}),yP(n,e,t,l,i,o,a,s)}else return e}else{var c=new ma(null);return r.foreach(function(h,d){var p=hr(t,h);u.isCompleteForPath(p)&&(c=c.set(h,u.getNode().getChild(p)))}),yP(n,e,t,c,i,o,a,s)}}function Pwe(n,e,t,r,i){var o=e.serverCache,s=qZ(e,o.getNode(),o.isFullyInitialized()||Ut(t),o.isFiltered());return QZ(n,s,t,r,XZ,i)}function Mwe(n,e,t,r,i,o){var s;if(bT(r,t)!=null)return e;var a=new U4(r,e,i),u=e.eventCache.getNode(),l=void 0;if(Ut(t)||Wt(t)===".priority"){var c=void 0;if(e.serverCache.isFullyInitialized())c=yT(r,Fp(e));else{var h=e.serverCache.getNode();Ae(h instanceof At,"serverChildren would be complete if leaf node"),c=V4(r,h)}c=c,l=n.filter.updateFullNode(u,c,o)}else{var d=Wt(t),p=W4(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=u.getImmediateChild(d)),p!=null?l=n.filter.updateChild(u,d,p,zn(t),a,o):e.eventCache.getNode().hasChild(d)?l=n.filter.updateChild(u,d,At.EMPTY_NODE,zn(t),a,o):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=yT(r,Fp(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||bT(r,pn())!=null,$y(e,l,s,n.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fwe=function(){function n(e,t){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new P4(r.getIndex()),o=YCe(r);this.processor_=xwe(o);var s=t.serverCache,a=t.eventCache,u=i.updateFullNode(At.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(At.EMPTY_NODE,a.getNode(),null),c=new Ch(u,s.isFullyInitialized(),i.filtersNodes()),h=new Ch(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=FA(h,c),this.eventGenerator_=new uwe(this.query_)}return Object.defineProperty(n.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),n}();function Bwe(n){return n.viewCache_.serverCache.getNode()}function Hwe(n){return _T(n.viewCache_)}function Vwe(n,e){var t=Fp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ut(e)&&!t.getImmediateChild(Wt(e)).isEmpty())?t.getChild(e):null}function fj(n){return n.eventRegistrations_.length===0}function Wwe(n,e){n.eventRegistrations_.push(e)}function hj(n,e,t){var r=[];if(t){Ae(e==null,"A cancel should cancel all event registrations.");var i=n.query._path;n.eventRegistrations_.forEach(function(u){var l=u.createCancelEvent(t,i);l&&r.push(l)})}if(e){for(var o=[],s=0;s<n.eventRegistrations_.length;++s){var a=n.eventRegistrations_[s];if(!a.matches(e))o.push(a);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function dj(n,e,t,r){e.type===_u.MERGE&&e.source.queryId!==null&&(Ae(Fp(n.viewCache_),"We should always have a full cache before handling merges"),Ae(_T(n.viewCache_),"Missing event cache, even though we have a server cache"));var i=n.viewCache_,o=Nwe(n.processor_,i,e,t,r);return Lwe(n.processor_,o.viewCache),Ae(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,ZZ(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Uwe(n,e){var t=n.viewCache_.eventCache,r=[];if(!t.getNode().isLeafNode()){var i=t.getNode();i.forEachChild(er,function(o,s){r.push(Lm(o,s))})}return t.isFullyInitialized()&&r.push(HZ(t.getNode())),ZZ(n,r,t.getNode(),e)}function ZZ(n,e,t,r){var i=r?[r]:n.eventRegistrations_;return lwe(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wT,JZ=function(){function n(){this.views=new Map}return n}();function jwe(n){Ae(!wT,"__referenceConstructor has already been defined"),wT=n}function qwe(){return Ae(wT,"Reference.ts has not been loaded"),wT}function zwe(n){return n.views.size===0}function j4(n,e,t,r){var i,o,s=e.source.queryId;if(s!==null){var a=n.views.get(s);return Ae(a!=null,"SyncTree gave us an op for an invalid query."),dj(a,e,t,r)}else{var u=[];try{for(var l=Pi(n.views.values()),c=l.next();!c.done;c=l.next()){var a=c.value;u=u.concat(dj(a,e,t,r))}}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}}function eJ(n,e,t,r,i){var o=e._queryIdentifier,s=n.views.get(o);if(!s){var a=yT(t,i?r:null),u=!1;a?u=!0:r instanceof At?(a=V4(t,r),u=!1):(a=At.EMPTY_NODE,u=!1);var l=FA(new Ch(a,u,!1),new Ch(r,i,!1));return new Fwe(e,l)}return s}function Gwe(n,e,t,r,i,o){var s=eJ(n,e,r,i,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),Wwe(s,t),Uwe(s,t)}function $we(n,e,t,r){var i,o,s=e._queryIdentifier,a=[],u=[],l=wh(n);if(s==="default")try{for(var c=Pi(n.views.entries()),h=c.next();!h.done;h=c.next()){var d=Gi(h.value,2),p=d[0],v=d[1];u=u.concat(hj(v,t,r)),fj(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||a.push(v.query))}}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else{var v=n.views.get(s);v&&(u=u.concat(hj(v,t,r)),fj(v)&&(n.views.delete(s),v.query._queryParams.loadsAllData()||a.push(v.query)))}return l&&!wh(n)&&a.push(new(qwe())(e._repo,e._path)),{removed:a,events:u}}function tJ(n){var e,t,r=[];try{for(var i=Pi(n.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}function th(n,e){var t,r,i=null;try{for(var o=Pi(n.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||Vwe(a,e)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function nJ(n,e){var t=e._queryParams;if(t.loadsAllData())return HA(n);var r=e._queryIdentifier;return n.views.get(r)}function rJ(n,e){return nJ(n,e)!=null}function wh(n){return HA(n)!=null}function HA(n){var e,t;try{for(var r=Pi(n.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ET;function Kwe(n){Ae(!ET,"__referenceConstructor has already been defined"),ET=n}function Ywe(){return Ae(ET,"Reference.ts has not been loaded"),ET}var Xwe=1,pj=function(){function n(e){this.listenProvider_=e,this.syncPointTree_=new ma(null),this.pendingWriteTree_=Twe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return n}();function q4(n,e,t,r,i){return dwe(n.pendingWriteTree_,e,t,r,i),i?L_(n,new MA(M4(),e,t)):[]}function Qwe(n,e,t,r){pwe(n.pendingWriteTree_,e,t,r);var i=ma.fromObject(t);return L_(n,new H4(M4(),e,i))}function Uf(n,e,t){t===void 0&&(t=!1);var r=gwe(n.pendingWriteTree_,e),i=vwe(n.pendingWriteTree_,e);if(i){var o=new ma(null);return r.snap!=null?o=o.set(pn(),!0):vi(r.children,function(s){o=o.set(new An(s),!0)}),L_(n,new awe(r.path,o,t))}else return[]}function rC(n,e,t){return L_(n,new MA(F4(),e,t))}function Zwe(n,e,t){var r=ma.fromObject(t);return L_(n,new H4(F4(),e,r))}function Jwe(n,e){return L_(n,new jZ(F4(),e))}function eEe(n,e,t){var r=z4(n,t);if(r){var i=G4(r),o=i.path,s=i.queryId,a=as(o,e),u=new jZ(B4(s),a);return $4(n,o,u)}else return[]}function bP(n,e,t,r){var i=e._path,o=n.syncPointTree_.get(i),s=[];if(o&&(e._queryIdentifier==="default"||rJ(o,e))){var a=$we(o,e,t,r);zwe(o)&&(n.syncPointTree_=n.syncPointTree_.remove(i));var u=a.removed;s=a.events;var l=u.findIndex(function(C){return C._queryParams.loadsAllData()})!==-1,c=n.syncPointTree_.findOnPath(i,function(C,E){return wh(E)});if(l&&!c){var h=n.syncPointTree_.subtree(i);if(!h.isEmpty())for(var d=iEe(h),p=0;p<d.length;++p){var v=d[p],m=v.query,_=sJ(n,v);n.listenProvider_.startListening(Yy(m),ST(n,m),_.hashFn,_.onComplete)}}if(!c&&u.length>0&&!r)if(l){var b=null;n.listenProvider_.stopListening(Yy(e),b)}else u.forEach(function(C){var E=n.queryToTagMap.get(WA(C));n.listenProvider_.stopListening(Yy(C),E)});oEe(n,u)}return s}function tEe(n,e,t,r){var i=z4(n,r);if(i!=null){var o=G4(i),s=o.path,a=o.queryId,u=as(s,e),l=new MA(B4(a),u,t);return $4(n,s,l)}else return[]}function nEe(n,e,t,r){var i=z4(n,r);if(i){var o=G4(i),s=o.path,a=o.queryId,u=as(s,e),l=ma.fromObject(t),c=new H4(B4(a),u,l);return $4(n,s,c)}else return[]}function gj(n,e,t){var r=e._path,i=null,o=!1;n.syncPointTree_.foreachOnPath(r,function(m,_){var b=as(m,r);i=i||th(_,b),o=o||wh(_)});var s=n.syncPointTree_.get(r);s?(o=o||wh(s),i=i||th(s,pn())):(s=new JZ,n.syncPointTree_=n.syncPointTree_.set(r,s));var a;if(i!=null)a=!0;else{a=!1,i=At.EMPTY_NODE;var u=n.syncPointTree_.subtree(r);u.foreachChild(function(m,_){var b=th(_,pn());b&&(i=i.updateImmediateChild(m,b))})}var l=rJ(s,e);if(!l&&!e._queryParams.loadsAllData()){var c=WA(e);Ae(!n.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=sEe();n.queryToTagMap.set(c,h),n.tagToQueryMap.set(h,c)}var d=BA(n.pendingWriteTree_,r),p=Gwe(s,e,t,d,i,a);if(!l&&!o){var v=nJ(s,e);p=p.concat(aEe(n,e,v))}return p}function VA(n,e,t){var r=!0,i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,function(s,a){var u=as(s,e),l=th(a,u);if(l)return l});return $Z(i,e,o,t,r)}function rEe(n,e){var t=e._path,r=null;n.syncPointTree_.foreachOnPath(t,function(l,c){var h=as(l,t);r=r||th(c,h)});var i=n.syncPointTree_.get(t);i?r=r||th(i,pn()):(i=new JZ,n.syncPointTree_=n.syncPointTree_.set(t,i));var o=r!=null,s=o?new Ch(r,!0,!1):null,a=BA(n.pendingWriteTree_,e._path),u=eJ(i,e,a,o?s.getNode():At.EMPTY_NODE,o);return Hwe(u)}function L_(n,e){return iJ(e,n.syncPointTree_,null,BA(n.pendingWriteTree_,pn()))}function iJ(n,e,t,r){if(Ut(n.path))return oJ(n,e,t,r);var i=e.get(pn());t==null&&i!=null&&(t=th(i,pn()));var o=[],s=Wt(n.path),a=n.operationForChild(s),u=e.children.get(s);if(u&&a){var l=t?t.getImmediateChild(s):null,c=KZ(r,s);o=o.concat(iJ(a,u,l,c))}return i&&(o=o.concat(j4(i,n,r,t))),o}function oJ(n,e,t,r){var i=e.get(pn());t==null&&i!=null&&(t=th(i,pn()));var o=[];return e.children.inorderTraversal(function(s,a){var u=t?t.getImmediateChild(s):null,l=KZ(r,s),c=n.operationForChild(s);c&&(o=o.concat(oJ(c,a,u,l)))}),i&&(o=o.concat(j4(i,n,r,t))),o}function sJ(n,e){var t=e.query,r=ST(n,t);return{hashFn:function(){var i=Bwe(e)||At.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?eEe(n,t._path,r):Jwe(n,t._path);var o=G1e(i,t);return bP(n,t,null,o)}}}function ST(n,e){var t=WA(e);return n.queryToTagMap.get(t)}function WA(n){return n._path.toString()+"$"+n._queryIdentifier}function z4(n,e){return n.tagToQueryMap.get(e)}function G4(n){var e=n.indexOf("$");return Ae(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new An(n.substr(0,e))}}function $4(n,e,t){var r=n.syncPointTree_.get(e);Ae(r,"Missing sync point for query tag that we're tracking");var i=BA(n.pendingWriteTree_,e);return j4(r,t,i,null)}function iEe(n){return n.fold(function(e,t,r){if(t&&wh(t)){var i=HA(t);return[i]}else{var o=[];return t&&(o=tJ(t)),vi(r,function(s,a){o=o.concat(a)}),o}})}function Yy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Ywe())(n._repo,n._path):n}function oEe(n,e){for(var t=0;t<e.length;++t){var r=e[t];if(!r._queryParams.loadsAllData()){var i=WA(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}function sEe(){return Xwe++}function aEe(n,e,t){var r=e._path,i=ST(n,e),o=sJ(n,t),s=n.listenProvider_.startListening(Yy(e),i,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(r);if(i)Ae(!wh(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold(function(h,d,p){if(!Ut(h)&&d&&wh(d))return[HA(d).query];var v=[];return d&&(v=v.concat(tJ(d).map(function(m){return m.query}))),vi(p,function(m,_){v=v.concat(_)}),v}),l=0;l<u.length;++l){var c=u[l];n.listenProvider_.stopListening(Yy(c),ST(n,c))}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uEe=function(){function n(e){this.node_=e}return n.prototype.getImmediateChild=function(e){var t=this.node_.getImmediateChild(e);return new n(t)},n.prototype.node=function(){return this.node_},n}(),lEe=function(){function n(e,t){this.syncTree_=e,this.path_=t}return n.prototype.getImmediateChild=function(e){var t=hr(this.path_,e);return new n(this.syncTree_,t)},n.prototype.node=function(){return VA(this.syncTree_,this.path_)},n}(),cEe=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},vj=function(n,e,t){if(!n||typeof n!="object")return n;if(Ae(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return fEe(n[".sv"],e,t);if(typeof n[".sv"]=="object")return hEe(n[".sv"],e);Ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},fEe=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Ae(!1,"Unexpected server value: "+n)}},hEe=function(n,e,t){n.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2));var r=n.increment;typeof r!="number"&&Ae(!1,"Unexpected increment value: "+r);var i=e.node();if(Ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,s=o.getValue();return typeof s!="number"?r:s+r},aJ=function(n,e,t,r){return Y4(e,new lEe(t,n),r)},K4=function(n,e,t){return Y4(n,new uEe(e),t)};function Y4(n,e,t){var r=n.getPriority().val(),i=vj(r,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){var s=n,a=vj(s.getValue(),e,t);return a!==s.getValue()||i!==s.getPriority().val()?new Im(a,mr(i)):n}else{var u=n;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new Im(i))),u.forEachChild(er,function(l,c){var h=Y4(c,e.getImmediateChild(l),t);h!==c&&(o=o.updateImmediateChild(l,h))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X4=function(){function n(e,t,r){e===void 0&&(e=""),t===void 0&&(t=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=t,this.node=r}return n}();function UA(n,e){for(var t=e instanceof An?e:new An(e),r=n,i=Wt(t);i!==null;){var o=Mp(r.node.children,i)||{children:{},childCount:0};r=new X4(i,r,o),t=zn(t),i=Wt(t)}return r}function ug(n){return n.node.value}function Q4(n,e){n.node.value=e,CP(n)}function uJ(n){return n.node.childCount>0}function dEe(n){return ug(n)===void 0&&!uJ(n)}function jA(n,e){vi(n.node.children,function(t,r){e(new X4(t,n,r))})}function lJ(n,e,t,r){t&&!r&&e(n),jA(n,function(i){lJ(i,e,!0,r)}),t&&r&&e(n)}function pEe(n,e,t){for(var r=n.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function iC(n){return new An(n.parent===null?n.name:iC(n.parent)+"/"+n.name)}function CP(n){n.parent!==null&&gEe(n.parent,n.name,n)}function gEe(n,e,t){var r=dEe(t),i=va(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,CP(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,CP(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vEe=/[\[\].#$\/\u0000-\u001F\u007F]/,mEe=/[\[\].#$\u0000-\u001F\u007F]/,vO=10*1024*1024,qA=function(n){return typeof n=="string"&&n.length!==0&&!vEe.test(n)},cJ=function(n){return typeof n=="string"&&n.length!==0&&!mEe.test(n)},_Ee=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cJ(n)},Wb=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!kA(n)||n&&typeof n=="object"&&va(n,".sv")},xl=function(n,e,t,r){r&&e===void 0||oC(xs(n,"value"),e,t)},oC=function(n,e,t){var r=t instanceof An?new DCe(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Hd(r));if(typeof e=="function")throw new Error(n+"contains a function "+Hd(r)+" with contents = "+e.toString());if(kA(e))throw new Error(n+"contains "+e.toString()+" "+Hd(r));if(typeof e=="string"&&e.length>vO/3&&OA(e)>vO)throw new Error(n+"contains a string greater than "+vO+" utf8 bytes "+Hd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(vi(e,function(s,a){if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!qA(s)))throw new Error(n+" contains an invalid key ("+s+") "+Hd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ACe(r,s),oC(n,a,r),ICe(r)}),i&&o)throw new Error(n+' contains ".value" child '+Hd(r)+" in addition to actual children.")}},yEe=function(n,e){var t,r;for(t=0;t<e.length;t++){r=e[t];for(var i=Bb(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!qA(i[o]))throw new Error(n+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TCe);var s=null;for(t=0;t<e.length;t++){if(r=e[t],s!==null&&Oa(s,r))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},fJ=function(n,e,t,r){var i=xs(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];vi(e,function(s,a){var u=new An(s);if(oC(i,a,hr(t,u)),L4(u)===".priority"&&!Wb(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),yEe(i,o)},Z4=function(n,e,t){if(kA(e))throw new Error(xs(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wb(e))throw new Error(xs(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},bEe=function(n,e,t){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(xs(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},sC=function(n,e,t,r){if(t!==void 0&&!qA(t))throw new Error(xs(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ub=function(n,e,t,r){if(!cJ(t))throw new Error(xs(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CEe=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ub(n,e,t)},ka=function(n,e){if(Wt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},hJ=function(n,e){var t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!_Ee(t))throw new Error(xs(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},wEe=function(n,e,t,r){if(t!==void 0&&typeof t!="boolean")throw new Error(xs(n,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EEe=function(){function n(){this.eventLists_=[],this.recursionDepth_=0}return n}();function zA(n,e){for(var t=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();t!==null&&!N4(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function J4(n,e,t){zA(n,t),dJ(n,function(r){return N4(r,e)})}function Wa(n,e,t){zA(n,t),dJ(n,function(r){return Oa(r,e)||Oa(e,r)})}function dJ(n,e){n.recursionDepth_++;for(var t=!0,r=0;r<n.eventLists_.length;r++){var i=n.eventLists_[r];if(i){var o=i.path;e(o)?(SEe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function SEe(n){for(var e=0;e<n.events.length;e++){var t=n.events[e];if(t!==null){n.events[e]=null;var r=t.getEventRunner();gp&&xi("event: "+t.toString()),I_(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pJ="repo_interrupt",TEe=25,DEe=function(){function n(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EEe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mT(),this.transactionQueueTree_=new X4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return n.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},n}();function AEe(n,e,t){if(n.stats_=I4(n.repoInfo_),n.forceRestClient_||K1e())n.server_=new ewe(n.repoInfo_,function(r,i,o,s){mj(n,r,i,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(function(){return _j(n,!0)},0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fi(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new vp(n.repoInfo_,e,function(r,i,o,s){mj(n,r,i,o,s)},function(r){_j(n,r)},function(r){xEe(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(function(r){n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(function(r){n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=eCe(n.repoInfo_,function(){return new owe(n.stats_,n.server_)}),n.infoData_=new twe,n.infoSyncTree_=new pj({startListening:function(r,i,o,s){var a=[],u=n.infoData_.getNode(r._path);return u.isEmpty()||(a=rC(n.infoSyncTree_,r._path,u),setTimeout(function(){s("ok")},0)),a},stopListening:function(){}}),e6(n,"connected",!1),n.serverSyncTree_=new pj({startListening:function(r,i,o,s){return n.server_.listen(r,o,i,function(a,u){var l=s(a,u);Wa(n.eventQueue_,r._path,l)}),[]},stopListening:function(r,i){n.server_.unlisten(r,i)}})}function gJ(n){var e=n.infoData_.getNode(new An(".info/serverTimeOffset")),t=e.val()||0;return new Date().getTime()+t}function aC(n){return cEe({timestamp:gJ(n)})}function mj(n,e,t,r,i){n.dataUpdateCount++;var o=new An(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;var s=[];if(i)if(r){var a=fT(t,function(d){return mr(d)});s=nEe(n.serverSyncTree_,o,a,i)}else{var u=mr(t);s=tEe(n.serverSyncTree_,o,u,i)}else if(r){var l=fT(t,function(d){return mr(d)});s=Zwe(n.serverSyncTree_,o,l)}else{var c=mr(t);s=rC(n.serverSyncTree_,o,c)}var h=o;s.length>0&&(h=Om(n,o)),Wa(n.eventQueue_,h,s)}function IEe(n,e){n.interceptServerDataCallback_=e}function _j(n,e){e6(n,"connected",e),e===!1&&OEe(n)}function xEe(n,e){vi(e,function(t,r){e6(n,t,r)})}function e6(n,e,t){var r=new An("/.info/"+e),i=mr(t);n.infoData_.updateSnapshot(r,i);var o=rC(n.infoSyncTree_,r,i);Wa(n.eventQueue_,r,o)}function GA(n){return n.nextWriteId_++}function LEe(n,e){var t=rEe(n.serverSyncTree_,e);return t!=null?Promise.resolve(t):n.server_.get(e).then(function(r){var i=mr(r).withIndex(e._queryParams.getIndex()),o=rC(n.serverSyncTree_,e._path,i);return J4(n.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return N_(n,"get for query "+fi(e)+" failed: "+r),Promise.reject(new Error(r))})}function t6(n,e,t,r,i){N_(n,"set",{path:e.toString(),value:t,priority:r});var o=aC(n),s=mr(t,r),a=VA(n.serverSyncTree_,e),u=K4(s,a,o),l=GA(n),c=q4(n.serverSyncTree_,e,u,l,!0);zA(n.eventQueue_,c),n.server_.put(e.toString(),s.val(!0),function(d,p){var v=d==="ok";v||Xi("set at "+e+" failed: "+d);var m=Uf(n.serverSyncTree_,l,!v);Wa(n.eventQueue_,e,m),Eh(n,i,d,p)});var h=r6(n,e);Om(n,h),Wa(n.eventQueue_,h,[])}function NEe(n,e,t,r){N_(n,"update",{path:e.toString(),value:t});var i=!0,o=aC(n),s={};if(vi(t,function(l,c){i=!1,s[l]=aJ(hr(e,l),mr(c),n.serverSyncTree_,o)}),i)xi("update() called with empty data.  Don't do anything."),Eh(n,r,"ok",void 0);else{var a=GA(n),u=Qwe(n.serverSyncTree_,e,s,a);zA(n.eventQueue_,u),n.server_.merge(e.toString(),t,function(l,c){var h=l==="ok";h||Xi("update at "+e+" failed: "+l);var d=Uf(n.serverSyncTree_,a,!h),p=d.length>0?Om(n,e):e;Wa(n.eventQueue_,p,d),Eh(n,r,l,c)}),vi(t,function(l){var c=r6(n,hr(e,l));Om(n,c)}),Wa(n.eventQueue_,e,[])}}function OEe(n){N_(n,"onDisconnectEvents");var e=aC(n),t=mT();pP(n.onDisconnect_,pn(),function(i,o){var s=aJ(i,o,n.serverSyncTree_,e);x_(t,i,s)});var r=[];pP(t,pn(),function(i,o){r=r.concat(rC(n.serverSyncTree_,i,o));var s=r6(n,i);Om(n,s)}),n.onDisconnect_=mT(),Wa(n.eventQueue_,pn(),r)}function kEe(n,e,t){n.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&dP(n.onDisconnect_,e),Eh(n,t,r,i)})}function yj(n,e,t,r){var i=mr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,s){o==="ok"&&x_(n.onDisconnect_,e,i),Eh(n,r,o,s)})}function REe(n,e,t,r,i){var o=mr(t,r);n.server_.onDisconnectPut(e.toString(),o.val(!0),function(s,a){s==="ok"&&x_(n.onDisconnect_,e,o),Eh(n,i,s,a)})}function PEe(n,e,t,r){if(iP(t)){xi("onDisconnect().update() called with empty data.  Don't do anything."),Eh(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,function(i,o){i==="ok"&&vi(t,function(s,a){var u=mr(a);x_(n.onDisconnect_,hr(e,s),u)}),Eh(n,r,i,o)})}function MEe(n,e,t){var r;Wt(e._path)===".info"?r=gj(n.infoSyncTree_,e,t):r=gj(n.serverSyncTree_,e,t),J4(n.eventQueue_,e._path,r)}function wP(n,e,t){var r;Wt(e._path)===".info"?r=bP(n.infoSyncTree_,e,t):r=bP(n.serverSyncTree_,e,t),J4(n.eventQueue_,e._path,r)}function vJ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pJ)}function FEe(n){n.persistentConnection_&&n.persistentConnection_.resume(pJ)}function BEe(n,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var t;e?(n.statsListener_||(n.statsListener_=new UZ(n.stats_)),t=n.statsListener_.get()):t=n.stats_.get();var r=Object.keys(t).reduce(function(i,o){return Math.max(o.length,i)},0);vi(t,function(i,o){for(var s=i,a=i.length;a<r+2;a++)s+=" ";console.log(s+o)})}}function HEe(n,e){n.stats_.incrementCounter(e),swe(n.statsReporter_,e)}function N_(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),xi.apply(void 0,Vt([r],Gi(e)))}function Eh(n,e,t,r){e&&I_(function(){if(t==="ok")e(null);else{var i=(t||"error").toUpperCase(),o=i;r&&(o+=": "+r);var s=new Error(o);s.code=i,e(s)}})}function VEe(n,e,t,r,i,o){N_(n,"transaction on "+e);var s={path:e,update:t,onComplete:r,status:null,order:aZ(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=n6(n,e,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(u===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{oC("transaction failed: Data returned ",u,s.path),s.status=0;var l=UA(n.transactionQueueTree_,e),c=ug(l)||[];c.push(s),Q4(l,c);var h=void 0;if(typeof u=="object"&&u!==null&&va(u,".priority"))h=Mp(u,".priority"),Ae(Wb(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var d=VA(n.serverSyncTree_,e)||At.EMPTY_NODE;h=d.getPriority().val()}var p=aC(n),v=mr(u,h),m=K4(v,a,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=m,s.currentWriteId=GA(n);var _=q4(n.serverSyncTree_,e,m,s.currentWriteId,s.applyLocally);Wa(n.eventQueue_,e,_),$A(n,n.transactionQueueTree_)}}function n6(n,e,t){return VA(n.serverSyncTree_,e,t)||At.EMPTY_NODE}function $A(n,e){if(e===void 0&&(e=n.transactionQueueTree_),e||KA(n,e),ug(e)){var t=_J(n,e);Ae(t.length>0,"Sending zero length transaction queue");var r=t.every(function(i){return i.status===0});r&&WEe(n,iC(e),t)}else uJ(e)&&jA(e,function(i){$A(n,i)})}function WEe(n,e,t){for(var r=t.map(function(d){return d.currentWriteId}),i=n6(n,e,r),o=i,s=i.hash(),a=0;a<t.length;a++){var u=t[a];Ae(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=as(e,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=e;n.server_.put(h.toString(),c,function(d){N_(n,"transaction put response",{path:h.toString(),status:d});var p=[];if(d==="ok"){for(var v=[],m=function(b){t[b].status=2,p=p.concat(Uf(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&v.push(function(){return t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)}),t[b].unwatcher()},_=0;_<t.length;_++)m(_);KA(n,UA(n.transactionQueueTree_,e)),$A(n,n.transactionQueueTree_),Wa(n.eventQueue_,e,p);for(var _=0;_<v.length;_++)I_(v[_])}else{if(d==="datastale")for(var _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Xi("transaction at "+h.toString()+" failed: "+d);for(var _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=d}Om(n,e)}},s)}function Om(n,e){var t=mJ(n,e),r=iC(t),i=_J(n,t);return UEe(n,i,r),r}function UEe(n,e,t){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(l){return l.status===0}),s=o.map(function(l){return l.currentWriteId}),a=function(l){var c=e[l],h=as(t,c.path),d=!1,p;if(Ae(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,p=c.abortReason,i=i.concat(Uf(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=TEe)d=!0,p="maxretry",i=i.concat(Uf(n.serverSyncTree_,c.currentWriteId,!0));else{var v=n6(n,c.path,s);c.currentInputSnapshot=v;var m=e[l].update(v.val());if(m!==void 0){oC("transaction failed: Data returned ",m,c.path);var _=mr(m),b=typeof m=="object"&&m!=null&&va(m,".priority");b||(_=_.updatePriority(v.getPriority()));var C=c.currentWriteId,E=aC(n),S=K4(_,v,E);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=S,c.currentWriteId=GA(n),s.splice(s.indexOf(C),1),i=i.concat(q4(n.serverSyncTree_,c.path,S,c.currentWriteId,c.applyLocally)),i=i.concat(Uf(n.serverSyncTree_,C,!0))}else d=!0,p="nodata",i=i.concat(Uf(n.serverSyncTree_,c.currentWriteId,!0))}Wa(n.eventQueue_,t,i),i=[],d&&(e[l].status=2,function(A){setTimeout(A,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(function(){return e[l].onComplete(null,!1,e[l].currentInputSnapshot)}):r.push(function(){return e[l].onComplete(new Error(p),!1,null)})))},u=0;u<e.length;u++)a(u);KA(n,n.transactionQueueTree_);for(var u=0;u<r.length;u++)I_(r[u]);$A(n,n.transactionQueueTree_)}}function mJ(n,e){var t,r=n.transactionQueueTree_;for(t=Wt(e);t!==null&&ug(r)===void 0;)r=UA(r,t),e=zn(e),t=Wt(e);return r}function _J(n,e){var t=[];return yJ(n,e,t),t.sort(function(r,i){return r.order-i.order}),t}function yJ(n,e,t){var r=ug(e);if(r)for(var i=0;i<r.length;i++)t.push(r[i]);jA(e,function(o){yJ(n,o,t)})}function KA(n,e){var t=ug(e);if(t){for(var r=0,i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,Q4(e,t.length>0?t:void 0)}jA(e,function(o){KA(n,o)})}function r6(n,e){var t=iC(mJ(n,e)),r=UA(n.transactionQueueTree_,e);return pEe(r,function(i){mO(n,i)}),mO(n,r),lJ(r,function(i){mO(n,i)}),t}function mO(n,e){var t=ug(e);if(t){for(var r=[],i=[],o=-1,s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(Ae(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(Ae(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(Uf(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Q4(e,void 0):t.length=o+1,Wa(n.eventQueue_,iC(e),i);for(var s=0;s<r.length;s++)I_(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jEe(n){for(var e="",t=n.split("/"),r=0;r<t.length;r++)if(t[r].length>0){var i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function qEe(n){var e,t,r={};n.charAt(0)==="?"&&(n=n.substring(1));try{for(var i=Pi(n.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.length!==0){var a=s.split("=");a.length===2?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Xi("Invalid query segment '"+s+"' in query '"+n+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}var EP=function(n,e){var t=zEe(n),r=t.namespace;t.domain==="firebase.com"&&Al(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Al("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||W1e();var i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new A4(t.host,t.secure,r,e,i,"",r!==t.subdomain),path:new An(t.pathString)}},zEe=function(n){var e="",t="",r="",i="",o="",s=!0,a="https",u=443;if(typeof n=="string"){var l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));var c=n.indexOf("/");c===-1&&(c=n.length);var h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(c,h)),c<h&&(i=jEe(n.substring(c,h)));var d=qEe(n.substring(Math.min(n.length,h)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bJ=function(){function n(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}return n.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},n.prototype.getEventType=function(){return this.eventType},n.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},n.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+fi(this.snapshot.exportVal())},n}(),CJ=function(){function n(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}return n.prototype.getPath=function(){return this.path},n.prototype.getEventType=function(){return"cancel"},n.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},n.prototype.toString=function(){return this.path.toString()+":cancel"},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wJ=function(){function n(e,t){this.snapshotCallback=e,this.cancelCallback=t}return n.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},n.prototype.onCancel=function(e){return Ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(n.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),n.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},n}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GEe=function(){function n(e,t){this._repo=e,this._path=t}return n.prototype.cancel=function(){var e=new ki;return kEe(this._repo,this._path,e.wrapCallback(function(){})),e.promise},n.prototype.remove=function(){ka("OnDisconnect.remove",this._path);var e=new ki;return yj(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},n.prototype.set=function(e){ka("OnDisconnect.set",this._path),xl("OnDisconnect.set",e,this._path,!1);var t=new ki;return yj(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},n.prototype.setWithPriority=function(e,t){ka("OnDisconnect.setWithPriority",this._path),xl("OnDisconnect.setWithPriority",e,this._path,!1),Z4("OnDisconnect.setWithPriority",t);var r=new ki;return REe(this._repo,this._path,e,t,r.wrapCallback(function(){})),r.promise},n.prototype.update=function(e){ka("OnDisconnect.update",this._path),fJ("OnDisconnect.update",e,this._path);var t=new ki;return PEe(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qa=function(){function n(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(n.prototype,"key",{get:function(){return Ut(this._path)?null:L4(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new Wl(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_queryIdentifier",{get:function(){var e=ij(this._queryParams),t=S4(e);return t==="{}"?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_queryObject",{get:function(){return ij(this._queryParams)},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){if(e=Bt(e),!(e instanceof n))return!1;var t=this._repo===e._repo,r=N4(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(){return this._repo.toString()+SCe(this._path)},n}();function YA(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Rh(n){var e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===pl){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){var o=n.getIndexStartName();if(o!==Rc)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){var s=n.getIndexEndName();if(s!==Il)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===er){if(e!=null&&!Wb(e)||t!=null&&!Wb(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ae(n.getIndex()instanceof k4||n.getIndex()===R4,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function XA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Wl=function(n){Fe(e,n);function e(t,r){return n.call(this,t,r,new WZ,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var t=LZ(this._path);return t===null?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(qa),QA=function(){function n(e,t,r){this._node=e,this.ref=t,this._index=r}return Object.defineProperty(n.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),n.prototype.child=function(e){var t=new An(e),r=Bp(this.ref,e);return new n(this._node.getChild(t),r,er)},n.prototype.exists=function(){return!this._node.isEmpty()},n.prototype.exportVal=function(){return this._node.val(!0)},n.prototype.forEach=function(e){var t=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new n(o,Bp(t.ref,i),er))})},n.prototype.hasChild=function(e){var t=new An(e);return!this._node.getChild(t).isEmpty()},n.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},n.prototype.toJSON=function(){return this.exportVal()},n.prototype.val=function(){return this._node.val()},n}();function EJ(n,e){return n=Bt(n),n._checkNotDeleted("ref"),e!==void 0?Bp(n._root,e):n._root}function bj(n,e){n=Bt(n),n._checkNotDeleted("refFromURL");var t=EP(e,n._repo.repoInfo_.nodeAdmin);hJ("refFromURL",t);var r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Al("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),EJ(n,t.path.toString())}function Bp(n,e){return n=Bt(n),Wt(n._path)===null?CEe("child","path",e):Ub("child","path",e),new Wl(n._repo,hr(n._path,e))}function $Ee(n,e){n=Bt(n),ka("push",n._path),xl("push",e,n._path,!0);var t=gJ(n._repo),r=GCe(t),i=Bp(n,r),o=Bp(n,r),s;return e!=null?s=i6(o,e).then(function(){return o}):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function KEe(n){return ka("remove",n._path),i6(n,null)}function i6(n,e){n=Bt(n),ka("set",n._path),xl("set",e,n._path,!1);var t=new ki;return t6(n._repo,n._path,e,null,t.wrapCallback(function(){})),t.promise}function YEe(n,e){n=Bt(n),ka("setPriority",n._path),Z4("setPriority",e);var t=new ki;return t6(n._repo,hr(n._path,".priority"),e,null,t.wrapCallback(function(){})),t.promise}function XEe(n,e,t){if(ka("setWithPriority",n._path),xl("setWithPriority",e,n._path,!1),Z4("setWithPriority",t),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";var r=new ki;return t6(n._repo,n._path,e,t,r.wrapCallback(function(){})),r.promise}function QEe(n,e){fJ("update",e,n._path);var t=new ki;return NEe(n._repo,n._path,e,t.wrapCallback(function(){})),t.promise}function ZEe(n){return n=Bt(n),LEe(n._repo,n).then(function(e){return new QA(e,new Wl(n._repo,n._path),n._queryParams.getIndex())})}var SJ=function(){function n(e){this.callbackContext=e}return n.prototype.respondsTo=function(e){return e==="value"},n.prototype.createEvent=function(e,t){var r=t._queryParams.getIndex();return new bJ("value",this,new QA(e.snapshotNode,new Wl(t._repo,t._path),r))},n.prototype.getEventRunner=function(e){var t=this;return e.getEventType()==="cancel"?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},n.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new CJ(this,e,t):null},n.prototype.matches=function(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},n.prototype.hasAnyCallback=function(){return this.callbackContext!==null},n}(),TJ=function(){function n(e,t){this.eventType=e,this.callbackContext=t}return n.prototype.respondsTo=function(e){var t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t},n.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new CJ(this,e,t):null},n.prototype.createEvent=function(e,t){Ae(e.childName!=null,"Child events should have a childName.");var r=Bp(new Wl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new bJ(e.type,this,new QA(e.snapshotNode,r,i),e.prevName)},n.prototype.getEventRunner=function(e){var t=this;return e.getEventType()==="cancel"?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},n.prototype.matches=function(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},n.prototype.hasAnyCallback=function(){return!!this.callbackContext},n}();function uC(n,e,t,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var s=t,a=function(c,h){wP(n._repo,n,l),s(c,h)};a.userCallback=t.userCallback,a.context=t.context,t=a}var u=new wJ(t,o||void 0),l=e==="value"?new SJ(u):new TJ(e,u);return MEe(n._repo,n,l),function(){return wP(n._repo,n,l)}}function SP(n,e,t,r){return uC(n,"value",e,t,r)}function Cj(n,e,t,r){return uC(n,"child_added",e,t,r)}function wj(n,e,t,r){return uC(n,"child_changed",e,t,r)}function Ej(n,e,t,r){return uC(n,"child_moved",e,t,r)}function Sj(n,e,t,r){return uC(n,"child_removed",e,t,r)}function Tj(n,e,t){var r=null,i=t?new wJ(t):null;e==="value"?r=new SJ(i):e&&(r=new TJ(e,i)),wP(n._repo,n,r)}var Pu=function(){function n(){}return n}(),DJ=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){xl("endAt",this._value,t._path,!0);var r=hP(t._queryParams,this._value,this._key);if(XA(r),Rh(r),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qa(t._repo,t._path,r,t._orderByCalled)},e}(Pu);function JEe(n,e){return sC("endAt","key",e),new DJ(n,e)}var eSe=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){xl("endBefore",this._value,t._path,!1);var r=JCe(t._queryParams,this._value,this._key);if(XA(r),Rh(r),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qa(t._repo,t._path,r,t._orderByCalled)},e}(Pu);function tSe(n,e){return sC("endBefore","key",e),new eSe(n,e)}var AJ=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){xl("startAt",this._value,t._path,!0);var r=fP(t._queryParams,this._value,this._key);if(XA(r),Rh(r),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qa(t._repo,t._path,r,t._orderByCalled)},e}(Pu);function nSe(n,e){return n===void 0&&(n=null),sC("startAt","key",e),new AJ(n,e)}var rSe=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){xl("startAfter",this._value,t._path,!1);var r=ZCe(t._queryParams,this._value,this._key);if(XA(r),Rh(r),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qa(t._repo,t._path,r,t._orderByCalled)},e}(Pu);function iSe(n,e){return sC("startAfter","key",e),new rSe(n,e)}var oSe=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r._limit=t,r}return e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qa(t._repo,t._path,XCe(t._queryParams,this._limit),t._orderByCalled)},e}(Pu);function sSe(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oSe(n)}var aSe=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r._limit=t,r}return e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qa(t._repo,t._path,QCe(t._queryParams,this._limit),t._orderByCalled)},e}(Pu);function uSe(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new aSe(n)}var lSe=function(n){Fe(e,n);function e(t){var r=n.call(this)||this;return r._path=t,r}return e.prototype._apply=function(t){YA(t,"orderByChild");var r=new An(this._path);if(Ut(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new k4(r),o=PA(t._queryParams,i);return Rh(o),new qa(t._repo,t._path,o,!0)},e}(Pu);function cSe(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ub("orderByChild","path",n),new lSe(n)}var fSe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._apply=function(t){YA(t,"orderByKey");var r=PA(t._queryParams,pl);return Rh(r),new qa(t._repo,t._path,r,!0)},e}(Pu);function hSe(){return new fSe}var dSe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._apply=function(t){YA(t,"orderByPriority");var r=PA(t._queryParams,er);return Rh(r),new qa(t._repo,t._path,r,!0)},e}(Pu);function pSe(){return new dSe}var gSe=function(n){Fe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._apply=function(t){YA(t,"orderByValue");var r=PA(t._queryParams,R4);return Rh(r),new qa(t._repo,t._path,r,!0)},e}(Pu);function vSe(){return new gSe}var mSe=function(n){Fe(e,n);function e(t,r){var i=n.call(this)||this;return i._value=t,i._key=r,i}return e.prototype._apply=function(t){if(xl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new DJ(this._value,this._key)._apply(new AJ(this._value,this._key)._apply(t))},e}(Pu);function _Se(n,e){return sC("equalTo","key",e),new mSe(n,e)}function tu(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Bt(n);try{for(var s=Pi(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o}jwe(Wl);Kwe(Wl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ySe="FIREBASE_DATABASE_EMULATOR_HOST",TP={},IJ=!1;function bSe(n,e,t,r){n.repoInfo_=new A4(e+":"+t,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}function xJ(n,e,t,r,i){var o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||Al("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xi("Using default host for project ",n.options.projectId),o=n.options.projectId+"-default-rtdb.firebaseio.com");var s=EP(o,i),a=s.repoInfo,u,l=void 0;typeof process<"u"&&(l=M1e[ySe]),l?(u=!0,o="http://"+l+"?ns="+a.namespace,s=EP(o,i),a=s.repoInfo):u=!s.repoInfo.secure;var c=i&&u?new Gy(Gy.OWNER):new X1e(n.name,n.options,e);hJ("Invalid Firebase Database URL",s),Ut(s.path)||Al("Database URL must point to the root of a Firebase Database (not including a child path).");var h=wSe(a,n,c,new Y1e(n.name,t));return new SSe(h,n)}function CSe(n,e){var t=TP[e];(!t||t[n.key]!==n)&&Al("Database "+e+"("+n.repoInfo_+") has already been deleted."),vJ(n),delete t[n.key]}function wSe(n,e,t,r){var i=TP[e.name];i||(i={},TP[e.name]=i);var o=i[n.toURLString()];return o&&Al("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new DEe(n,IJ,t,r),i[n.toURLString()]=o,o}function ESe(n){IJ=n}var SSe=function(){function n(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(n.prototype,"_repo",{get:function(){return this._instanceStarted||(AEe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Wl(this._repo,pn())),this._rootInternal},enumerable:!1,configurable:!0}),n.prototype._delete=function(){return this._rootInternal!==null&&(CSe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},n.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Al("Cannot call "+e+" on a deleted database.")},n}();function TSe(n,e,t,r){r===void 0&&(r={}),n=Bt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Al("Cannot call useEmulator() after instance has already been initialized.");var i=n._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Al('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Gy(Gy.OWNER);else if(r.mockUserToken){var s=typeof r.mockUserToken=="string"?r.mockUserToken:m4(r.mockUserToken,n.app.options.projectId);o=new Gy(s)}bSe(i,e,t,o)}function DSe(n){n=Bt(n),n._checkNotDeleted("goOffline"),vJ(n._repo)}function ASe(n){n=Bt(n),n._checkNotDeleted("goOnline"),FEe(n._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ISe={".sv":"timestamp"};function xSe(){return ISe}function LSe(n){return{".sv":{increment:n}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NSe=function(){function n(e,t){this.committed=e,this.snapshot=t}return n.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},n}();function OSe(n,e,t){var r;if(n=Bt(n),ka("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";var i=(r=t==null?void 0:t.applyLocally)!==null&&r!==void 0?r:!0,o=new ki,s=function(u,l,c){var h=null;u?o.reject(u):(h=new QA(c,new Wl(n._repo,n._path),er),o.resolve(new NSe(l,h)))},a=SP(n,function(){});return VEe(n._repo,n._path,e,s,a,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kSe=function(){function n(e){this._delegate=e}return n.prototype.cancel=function(e){vt("OnDisconnect.cancel",0,1,arguments.length),Ai("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(r){return e(r)}),t},n.prototype.remove=function(e){vt("OnDisconnect.remove",0,1,arguments.length),Ai("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(r){return e(r)}),t},n.prototype.set=function(e,t){vt("OnDisconnect.set",1,2,arguments.length),Ai("OnDisconnect.set","onComplete",t,!0);var r=this._delegate.set(e);return t&&r.then(function(){return t(null)},function(i){return t(i)}),r},n.prototype.setWithPriority=function(e,t,r){vt("OnDisconnect.setWithPriority",2,3,arguments.length),Ai("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,t);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},n.prototype.update=function(e,t){if(vt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Xi("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ai("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then(function(){return t(null)},function(s){return t(s)}),o},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RSe=function(){function n(e,t){this.committed=e,this.snapshot=t}return n.prototype.toJSON=function(){return vt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xy=function(){function n(e,t){this._database=e,this._delegate=t}return n.prototype.val=function(){return vt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},n.prototype.exportVal=function(){return vt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},n.prototype.toJSON=function(){return vt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},n.prototype.exists=function(){return vt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},n.prototype.child=function(e){return vt("DataSnapshot.child",0,1,arguments.length),e=String(e),Ub("DataSnapshot.child","path",e),new n(this._database,this._delegate.child(e))},n.prototype.hasChild=function(e){return vt("DataSnapshot.hasChild",1,1,arguments.length),Ub("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)},n.prototype.getPriority=function(){return vt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},n.prototype.forEach=function(e){var t=this;return vt("DataSnapshot.forEach",1,1,arguments.length),Ai("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new n(t._database,r))})},n.prototype.hasChildren=function(){return vt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(n.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),n.prototype.numChildren=function(){return vt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},n.prototype.getRef=function(){return vt("DataSnapshot.ref",0,0,arguments.length),new ip(this._database,this._delegate.ref)},Object.defineProperty(n.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),n}(),LJ=function(){function n(e,t){this.database=e,this._delegate=t}return n.prototype.on=function(e,t,r,i){var o=this,s;vt("Query.on",2,4,arguments.length),Ai("Query.on","callback",t,!1);var a=n.getCancelAndContextArgs_("Query.on",r,i),u=function(c,h){t.call(a.context,new Xy(o.database,c),h)};u.userCallback=t,u.context=a.context;var l=(s=a.cancel)===null||s===void 0?void 0:s.bind(a.context);switch(e){case"value":return SP(this._delegate,u,l),t;case"child_added":return Cj(this._delegate,u,l),t;case"child_removed":return Sj(this._delegate,u,l),t;case"child_changed":return wj(this._delegate,u,l),t;case"child_moved":return Ej(this._delegate,u,l),t;default:throw new Error(xs("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},n.prototype.off=function(e,t,r){if(vt("Query.off",0,3,arguments.length),bEe("Query.off",e),Ai("Query.off","callback",t,!0),H7("Query.off","context",r),t){var i=function(){};i.userCallback=t,i.context=r,Tj(this._delegate,e,i)}else Tj(this._delegate,e)},n.prototype.get=function(){var e=this;return ZEe(this._delegate).then(function(t){return new Xy(e.database,t)})},n.prototype.once=function(e,t,r,i){var o=this;vt("Query.once",1,4,arguments.length),Ai("Query.once","callback",t,!0);var s=n.getCancelAndContextArgs_("Query.once",r,i),a=new ki,u=function(c,h){var d=new Xy(o.database,c);t&&t.call(s.context,d,h),a.resolve(d)};u.userCallback=t,u.context=s.context;var l=function(c){s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":SP(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Cj(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Sj(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":wj(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Ej(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(xs("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},n.prototype.limitToFirst=function(e){return vt("Query.limitToFirst",1,1,arguments.length),new n(this.database,tu(this._delegate,sSe(e)))},n.prototype.limitToLast=function(e){return vt("Query.limitToLast",1,1,arguments.length),new n(this.database,tu(this._delegate,uSe(e)))},n.prototype.orderByChild=function(e){return vt("Query.orderByChild",1,1,arguments.length),new n(this.database,tu(this._delegate,cSe(e)))},n.prototype.orderByKey=function(){return vt("Query.orderByKey",0,0,arguments.length),new n(this.database,tu(this._delegate,hSe()))},n.prototype.orderByPriority=function(){return vt("Query.orderByPriority",0,0,arguments.length),new n(this.database,tu(this._delegate,pSe()))},n.prototype.orderByValue=function(){return vt("Query.orderByValue",0,0,arguments.length),new n(this.database,tu(this._delegate,vSe()))},n.prototype.startAt=function(e,t){return e===void 0&&(e=null),vt("Query.startAt",0,2,arguments.length),new n(this.database,tu(this._delegate,nSe(e,t)))},n.prototype.startAfter=function(e,t){return e===void 0&&(e=null),vt("Query.startAfter",0,2,arguments.length),new n(this.database,tu(this._delegate,iSe(e,t)))},n.prototype.endAt=function(e,t){return e===void 0&&(e=null),vt("Query.endAt",0,2,arguments.length),new n(this.database,tu(this._delegate,JEe(e,t)))},n.prototype.endBefore=function(e,t){return e===void 0&&(e=null),vt("Query.endBefore",0,2,arguments.length),new n(this.database,tu(this._delegate,tSe(e,t)))},n.prototype.equalTo=function(e,t){return vt("Query.equalTo",1,2,arguments.length),new n(this.database,tu(this._delegate,_Se(e,t)))},n.prototype.toString=function(){return vt("Query.toString",0,0,arguments.length),this._delegate.toString()},n.prototype.toJSON=function(){return vt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},n.prototype.isEqual=function(e){if(vt("Query.isEqual",1,1,arguments.length),!(e instanceof n)){var t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)},n.getCancelAndContextArgs_=function(e,t,r){var i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,Ai(e,"cancel",i.cancel,!0),i.context=r,H7(e,"context",i.context);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(xs(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(n.prototype,"ref",{get:function(){return new ip(this.database,new Wl(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),n}(),ip=function(n){Fe(e,n);function e(t,r){var i=n.call(this,t,new qa(r._repo,r._path,new WZ,!1))||this;return i.database=t,i._delegate=r,i}return e.prototype.getKey=function(){return vt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return vt("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,Bp(this._delegate,t))},e.prototype.getParent=function(){vt("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return vt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,r){vt("Reference.set",1,2,arguments.length),Ai("Reference.set","onComplete",r,!0);var i=i6(this._delegate,t);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(t,r){if(vt("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var i={},o=0;o<t.length;++o)i[""+o]=t[o];t=i,Xi("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ka("Reference.update",this._delegate._path),Ai("Reference.update","onComplete",r,!0);var s=QEe(this._delegate,t);return r&&s.then(function(){return r(null)},function(a){return r(a)}),s},e.prototype.setWithPriority=function(t,r,i){vt("Reference.setWithPriority",2,3,arguments.length),Ai("Reference.setWithPriority","onComplete",i,!0);var o=XEe(this._delegate,t,r);return i&&o.then(function(){return i(null)},function(s){return i(s)}),o},e.prototype.remove=function(t){vt("Reference.remove",0,1,arguments.length),Ai("Reference.remove","onComplete",t,!0);var r=KEe(this._delegate);return t&&r.then(function(){return t(null)},function(i){return t(i)}),r},e.prototype.transaction=function(t,r,i){var o=this;vt("Reference.transaction",1,3,arguments.length),Ai("Reference.transaction","transactionUpdate",t,!1),Ai("Reference.transaction","onComplete",r,!0),wEe("Reference.transaction","applyLocally",i);var s=OSe(this._delegate,t,{applyLocally:i}).then(function(a){return new RSe(a.committed,new Xy(o.database,a.snapshot))});return r&&s.then(function(a){return r(null,a.committed,a.snapshot)},function(a){return r(a,!1,null)}),s},e.prototype.setPriority=function(t,r){vt("Reference.setPriority",1,2,arguments.length),Ai("Reference.setPriority","onComplete",r,!0);var i=YEe(this._delegate,t);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(t,r){var i=this;vt("Reference.push",0,2,arguments.length),Ai("Reference.push","onComplete",r,!0);var o=$Ee(this._delegate,t),s=o.then(function(u){return new e(i.database,u)});r&&s.then(function(){return r(null)},function(u){return r(u)});var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return ka("Reference.onDisconnect",this._delegate._path),new kSe(new GEe(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(LJ);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TT=function(){function n(e,t){var r=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return n.prototype.useEmulator=function(e,t,r){r===void 0&&(r={}),TSe(this._delegate,e,t,r)},n.prototype.ref=function(e){if(vt("database.ref",0,1,arguments.length),e instanceof ip){var t=bj(this._delegate,e.toString());return new ip(this,t)}else{var t=EJ(this._delegate,e);return new ip(this,t)}},n.prototype.refFromURL=function(e){var t="database.refFromURL";vt(t,1,1,arguments.length);var r=bj(this._delegate,e);return new ip(this,r)},n.prototype.goOffline=function(){return vt("database.goOffline",0,0,arguments.length),DSe(this._delegate)},n.prototype.goOnline=function(){return vt("database.goOnline",0,0,arguments.length),ASe(this._delegate)},n.ServerValue={TIMESTAMP:xSe(),increment:function(e){return LSe(e)}},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PSe=function(){Kd.forceDisallow(),x4.forceAllow()},MSe=function(){x4.forceDisallow()},FSe=function(){return Kd.isAvailable()},BSe=function(n,e){var t=n._delegate._repo.persistentConnection_;t.securityDebugCallback_=e},HSe=function(n,e){BEe(n._delegate._repo,e)},VSe=function(n,e){HEe(n._delegate._repo,e)},WSe=function(n){return n._delegate._repo.dataUpdateCount},USe=function(n,e){return IEe(n._delegate._repo,e)};function jSe(n){var e=n.app,t=n.url,r=n.version,i=n.customAuthImpl,o=n.namespace,s=n.nodeAdmin,a=s===void 0?!1:s;oZ(r);var u=new JQ("auth-internal",new eZ("database-standalone"));return u.setComponent(new Io("auth-internal",function(){return i},"PRIVATE")),{instance:new TT(xJ(e,u,void 0,t,a),e),namespace:o}}var qSe=Object.freeze({__proto__:null,forceLongPolling:PSe,forceWebSockets:MSe,isWebSocketsAvailable:FSe,setSecurityDebugCallback:BSe,stats:HSe,statsIncrementCounter:VSe,dataUpdateCount:WSe,interceptServerData:USe,initStandalone:jSe});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zSe=vp;vp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};vp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};var GSe=AZ,$Se=function(n){var e=vp.prototype.put;return vp.prototype.put=function(t,r,i,o){o!==void 0&&(o=n()),e.call(this,t,r,i,o)},function(){vp.prototype.put=e}},KSe=A4,YSe=function(n){return n._delegate._queryIdentifier},XSe=function(n){ESe(n)},QSe=Object.freeze({__proto__:null,DataConnection:zSe,RealTimeConnection:GSe,hijackHash:$Se,ConnectionTarget:KSe,queryIdentifier:YSe,forceRestClient:XSe});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZSe=TT.ServerValue;function JSe(n){oZ(n.SDK_VERSION),n.INTERNAL.registerComponent(new Io("database",function(e,t){var r=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new TT(xJ(i,o,s,r),i)},"PUBLIC").setServiceProps({Reference:ip,Query:LJ,Database:TT,DataSnapshot:Xy,enableLogging:lZ,INTERNAL:qSe,ServerValue:ZSe,TEST_ACCESS:QSe}).setMultipleInstances(!0)),n.registerVersion(F1e,B1e)}JSe(tt);var eTe="firebase",NJ="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.registerVersion(eTe,NJ,"app");tt.SDK_VERSION=NJ;function DP(){}var AP;(function(n){n.LF=`
`,n.CRLF=`\r
`})(AP||(AP={}));class Kc extends Error{constructor(){super(...arguments),this.name="Validation Failed"}}class tTe extends Error{constructor(){super(...arguments),this.name="No-op Encountered"}}class nTe extends Error{constructor(){super(...arguments),this.name="Invalid Operation Encountered"}}class rTe extends Error{constructor(){super(...arguments),this.name="Invalid Order of Operations Encountered"}}class iTe extends Error{constructor(){super(...arguments),this.name="Invalid Event Encountered"}}class oTe extends Error{constructor(){super(...arguments),this.name="Transaction Failed"}}function OJ(n,e){if(!Number.isInteger(n))throw new Kc(e||"Expected an integer value")}function Dj(n,e){if(OJ(n,e),n<0)throw new Kc(e||"Expected a non-negative integer value")}function sTe(n,e){if(typeof n!="string")throw new Kc(e)}function Oy(n,e,t){if(n!==e)throw new Kc(t||`Expected ${n.toString()} to be equal to ${e.toString()}.`)}function Qy(n,e,t){if(n===e)throw new Kc(t||`Expected ${n.toString()} to not be equal to ${e.toString()}.`)}function aTe(n,e,t){if(n>e)throw new Kc(t)}function uTe(n,e,t){if(n<=e)throw new Kc(`Expected ${n} to be greater than ${e}.`)}function du(n,e){if(n==null||n===!1)throw new Kc(e||"Expected a Truth value")}function op(n,e){if(n===!0)throw new Kc(e||"Expected a False value")}function Aj(n){throw new tTe(n)}function lTe(n,e){throw new iTe(`Unknown event ${n} to add/remove listener for given object`)}function Ij(n){throw new rTe(n||"Invalid order of operation recieved that cannot be composed or applied")}function cTe(n){throw new oTe(n||"Transaction Failure!")}function fTe(n){throw new nTe(n)}function hTe(n,e,t){return["#",...[n,e,t].map(i=>Math.round(255*i).toString(16).padStart(2,"0"))].join("")}function dTe(n){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]}function _O(n,e,t){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+(t-e)*6*n:2*n<1?t:3*n<2?e+(t-e)*6*(2/3-n):e}function pTe(n,e,t){const r=t+e-e*t,i=2*t-r;return hTe(_O(n+1/3,i,r),_O(n,i,r),_O(n-1/3,i,r))}function gTe(n){let e=1;for(let r=0;r<n.length;r++)e=17*(e+n.charCodeAt(r))%360;const t=e/360;return pTe(t,1,.75)}function vTe(n){return n.charAt(0).toUpperCase()+n.slice(1)}class lC{constructor(e){this._allowedEvents=e,this._eventListeners={}}on(e,t,r){var i;this._validateEvent(e),(i=this._eventListeners)[e]||(i[e]=[]),this._eventListeners[e].push({callback:t,context:r||null})}off(e,t){this._validateEvent(e);const r=this._eventListeners[e];!r||r.length===0||(this._eventListeners[e]=r.filter(i=>i.callback!==t))}trigger(e,t,...r){const i=this._eventListeners[e]||[];for(const o of i){const{context:s,callback:a}=o;a.call(s,t,...r)}}dispose(){for(const e in this._eventListeners)this._eventListeners[e]=[]}_validateEvent(e){!this._allowedEvents||this._allowedEvents.includes(e)||lTe(e)}}var Yo;(function(n){n.Insert="insert",n.Delete="delete",n.Retain="retain"})(Yo||(Yo={}));class CE{constructor(e,t,r){switch(this._type=e,this.chars=null,this.text=null,this.attributes=null,e){case Yo.Insert:{this.text=t,this.attributes=r||{};break}case Yo.Delete:{this.chars=t;break}case Yo.Retain:{this.chars=t,this.attributes=r||{};break}}}isInsert(){return this._type===Yo.Insert}isDelete(){return this._type===Yo.Delete}isRetain(){return this._type===Yo.Retain}equals(e){return this._type===e._type&&this.text===e.text&&this.chars===e.chars&&this.attributesEqual(e.attributes)}attributesEqual(e){if(e==null||this.attributes==null)return this.attributes==e;for(const t in this.attributes)if(this.attributes[t]!==e[t])return!1;for(const t in e)if(this.attributes[t]!==e[t])return!1;return!0}hasEmptyAttributes(){return this.attributes==null?!0:Object.keys(this.attributes).length===0}toString(){const e=this.text?`"${this.text}"`:this.chars;return`${vTe(this._type)} ${e}`}valueOf(){switch(this._type){case Yo.Insert:return this.text;case Yo.Delete:return-this.chars;case Yo.Retain:return this.chars}return null}}class ut{constructor(){this._ops=[],this._baseLength=0,this._targetLength=0}isWrappedOperation(){return!1}getOps(){return Array.from(this._ops)}equals(e){return this._baseLength!==e._baseLength||this._targetLength!==e._targetLength||this._ops.length!==e._ops.length?!1:this._ops.every((t,r)=>t.equals(e._ops[r]))}_last(e=0){return this._ops.length>e?this._ops[this._ops.length-e-1]:null}retain(e,t){if(Dj(e,"retain expects a positive integer."),e===0)return this;this._baseLength+=e,this._targetLength+=e,t||(t={});const r=this._last();return r&&r.isRetain()&&r.attributesEqual(t)?r.chars+=e:this._ops.push(new CE(Yo.Retain,e,t)),this}insert(e,t){if(sTe(e,"insert expects a string."),e==="")return this;this._targetLength+=e.length,t||(t={});const r=this._last(),i=this._last(1);return r&&r.isInsert()&&r.attributesEqual(t)?r.text+=e:r&&r.isDelete()?i&&i.isInsert()&&i.attributesEqual(t)?i.text+=e:(this._ops[this._ops.length-1]=new CE(Yo.Insert,e,t),this._ops.push(r)):this._ops.push(new CE(Yo.Insert,e,t)),this}delete(e){let t=e;if(typeof e=="string"&&(t=e.length),Dj(t,"delete expects a positive integer or string."),t===0)return this;this._baseLength+=t;const r=this._last();return r&&r.isDelete()?r.chars+=t:this._ops.push(new CE(Yo.Delete,t,null)),this}isNoop(){return this._ops.length===0?!0:this._ops.every(e=>e.isRetain()&&e.hasEmptyAttributes())}clone(){const e=this._ops,t=new ut;for(const r of e)r.isRetain()?t.retain(r.chars,r.attributes):r.isInsert()?t.insert(r.text,r.attributes):t.delete(r.chars);return t}apply(e,t=[],r=[]){Oy(e.length,this._baseLength,"The operation's base length must be equal to the string's length.");const i=[];let o=0;for(const a of this._ops)if(a.isRetain()){const u=o+a.chars;aTe(u,e.length,"Operation can't retain more characters than are left in the string."),i.push(e.slice(o,u));for(let l=0;l<a.chars;l++){const c=t[o+l]||{},h={};for(const d in c)h[d]=c[d],Qy(h[d],!1);for(const d in a.attributes)a.attributes[d]===!1?delete h[d]:h[d]=a.attributes[d],Qy(h[d],!1);r.push(h)}o=u}else if(a.isInsert()){i.push(a.text);for(let u=0;u<a.text.length;u++){const l={};for(const c in a.attributes)l[c]=a.attributes[c],Qy(l[c],!1);r.push(l)}}else o+=a.chars;Oy(o,e.length,"The operation didn't operate on the whole string.");const s=i.join("");return Oy(s.length,r.length),s}invert(e){const t=new ut;let r=0;for(const i of this._ops)i.isRetain()?(t.retain(i.chars,i.attributes),r+=i.chars):i.isInsert()?t.delete(i.text.length):(t.insert(e.slice(r,r+i.chars),i.attributes),r+=i.chars);return t}canMergeWith(e){return this._targetLength===e._baseLength}static _nextTextOp(e){const t=e.next().value;return t?t[1]:null}compose(e){du(this.canMergeWith(e),"The base length of the second operation has to be the target length of the first operation");const t=new ut,r=this.clone().getOps().entries(),i=e.clone().getOps().entries();let o=ut._nextTextOp(r),s=ut._nextTextOp(i);for(;!(o==null&&s==null);){if(o&&o.isDelete()){t.delete(o.chars),o=ut._nextTextOp(r);continue}if(s&&s.isInsert()){t.insert(s.text,s.attributes),s=ut._nextTextOp(i);continue}if(op(o==null,"Cannot compose operations: first operation is too short."),op(s==null,"Cannot compose operations: first operation is too long."),o==null||s==null)break;if(o.isRetain()&&s.isRetain()){const a=this._composeAttributes(o.attributes,s.attributes,!1);o.chars>s.chars?(t.retain(s.chars,a),o.chars-=s.chars,s=ut._nextTextOp(i)):o.chars===s.chars?(t.retain(o.chars,a),o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(t.retain(o.chars,a),s.chars-=o.chars,o=ut._nextTextOp(r));continue}if(o.isInsert()&&s.isDelete()){o.text.length>s.chars?(o.text=o.text.slice(s.chars),s=ut._nextTextOp(i)):o.text.length===s.chars?(o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(s.chars-=o.text.length,o=ut._nextTextOp(r));continue}if(o.isInsert()&&s.isRetain()){const a=this._composeAttributes(o.attributes,s.attributes,!0);o.text.length>s.chars?(t.insert(o.text.slice(0,s.chars),a),o.text=o.text.slice(s.chars),s=ut._nextTextOp(i)):o.text.length===s.chars?(t.insert(o.text,a),o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(t.insert(o.text,a),s.chars-=o.text.length,o=ut._nextTextOp(r));continue}if(o.isRetain()&&s.isDelete()){o.chars>s.chars?(t.delete(s.chars),o.chars-=s.chars,s=ut._nextTextOp(i)):o.chars===s.chars?(t.delete(s.chars),o=ut._nextTextOp(r),s=ut._nextTextOp(i)):(t.delete(o.chars),s.chars-=o.chars,o=ut._nextTextOp(r));continue}Ij(`This should not happen:
op1: ${o}
op2: ${s}`)}return t}_composeAttributes(e,t,r){const i={};for(const o in e)i[o]=e[o];for(const o in t)r&&t[o]===!1?delete i[o]:i[o]=t[o];return i}_getSimpleOp(e){const t=e.getOps();switch(t.length){case 1:return t[0];case 2:{if(t[0].isRetain())return t[1];if(t[1].isRetain())return t[0];break}case 3:{if(t[0].isRetain()&&t[2].isRetain())return t[1];break}}return null}_getStartIndex(e){const t=e.getOps();if(!t)return 0;const r=t[0];return r&&r.isRetain()?r.chars:0}shouldBeComposedWith(e){if(this.isNoop()||e.isNoop())return!0;const t=this._getStartIndex(this),r=this._getStartIndex(e),i=this._getSimpleOp(this),o=this._getSimpleOp(e);return i==null||o==null?!1:i.isInsert()&&o.isInsert()?t+i.text.length===r:i.isDelete()&&o.isDelete()?r+o.chars===t||t===r:!1}shouldBeComposedWithInverted(e){if(this.isNoop()||e.isNoop())return!0;const t=this._getStartIndex(this),r=this._getStartIndex(e),i=this._getSimpleOp(this),o=this._getSimpleOp(e);return i==null||o==null?!1:i.isInsert()&&o.isInsert()?t+i.text.length===r||t===r:i.isDelete()&&o.isDelete()?r+o.chars===t:!1}static _transformAttributes(e,t){const r={},i={},o={};for(const s in e)o[s]=!0;for(const s in t)o[s]=!0;for(const s in o){const a=e[s],u=t[s];du(a!=null||u!=null),a==null?i[s]=u:u==null?r[s]=a:a===u||(r[s]=a)}return[r,i]}static transform(e,t){Oy(e._baseLength,t._baseLength,"Both operations have to have the same base length");const r=new ut,i=new ut,o=e.clone().getOps().entries(),s=t.clone().getOps().entries();let a=ut._nextTextOp(o),u=ut._nextTextOp(s);for(;!(a==null&&u==null);){if(a&&a.isInsert()){r.insert(a.text,a.attributes),i.retain(a.text.length,a.attributes),a=ut._nextTextOp(o);continue}if(u&&u.isInsert()){r.retain(u.text.length,u.attributes),i.insert(u.text,u.attributes),u=ut._nextTextOp(s);continue}if(op(a==null,"Cannot transform operations: first operation is too short."),op(u==null,"Cannot transform operations: first operation is too long."),a==null||u==null)break;if(a.isRetain()&&u.isRetain()){let l=0;const c=ut._transformAttributes(a.attributes,u.attributes);a.chars>u.chars?(l=u.chars,a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(l=u.chars,a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(l=a.chars,u.chars-=a.chars,a=ut._nextTextOp(o)),r.retain(l,c[0]),i.retain(l,c[1]);continue}if(a.isDelete()&&u.isDelete()){a.chars>u.chars?(a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(u.chars-=a.chars,a=ut._nextTextOp(o));continue}if(a.isDelete()&&u.isRetain()){let l=0;a.chars>u.chars?(l=u.chars,a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(l=u.chars,a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(l=a.chars,u.chars-=a.chars,a=ut._nextTextOp(o)),r.delete(l);continue}if(a.isRetain()&&u.isDelete()){let l=0;a.chars>u.chars?(l=u.chars,a.chars-=u.chars,u=ut._nextTextOp(s)):a.chars===u.chars?(l=a.chars,a=ut._nextTextOp(o),u=ut._nextTextOp(s)):(l=a.chars,u.chars-=a.chars,a=ut._nextTextOp(o)),i.delete(l);continue}Ij(`The two operations aren't compatible:
op1: ${a}
op2: ${u}`)}return[r,i]}transform(e){return ut.transform(this,e)}toString(){return this._ops.map(e=>e.toString()).join(", ")}toJSON(){const e=[];for(const t of this._ops)t.hasEmptyAttributes()||e.push(t.attributes),e.push(t.valueOf());return e.length===0&&e.push(0),e}static fromJSON(e){const t=new ut;let r={};for(const i of e){if(typeof i=="object"){r=i;continue}if(typeof i=="string"){t.insert(i,r),r={};continue}if(OJ(i),i<0){t.delete(-i),r={};continue}t.retain(i,r),r={}}return t}}const wd="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";class ZA{constructor(e,t,r,i){typeof e!="object"&&(e=tt.database().ref(e)),this._databaseRef=e,this._ready=!1,this._firebaseCallbacks=[],this._zombie=!1,this._initialRevisions=!1,this.setUserId(t),this.setUserColor(r),this.setUserName(i),this._document=new ut,this._revision=0,this._pendingReceivedRevisions={},this._emitter=new lC([nr.Acknowledge,nr.CursorChange,nr.Error,nr.Operation,nr.Ready,nr.Retry,nr.InitialRevision]),this._init()}_init(){const e=this._databaseRef.root.child(".info/connected");this._firebaseOn(e,"value",t=>{t.val()===!0&&this._initializeUserData()}),this.on(nr.Ready,()=>{this._monitorCursors()}),setTimeout(()=>{this._monitorHistory()},1)}dispose(){if(this._zombie=!0,!this._ready){this.on(nr.Ready,()=>{this.dispose()});return}this._emitter&&(this._emitter.dispose(),this._emitter=null),this._removeFirebaseCallbacks(),this._databaseRef=null,this._userRef=null,this._document=null}getDocument(){return this._document}isCurrentUser(e){return this._userId==e}on(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.on(e,t)}off(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.off(e,t)}registerCallbacks(e){Object.entries(e).forEach(([t,r])=>{this.on(t,r)})}_trigger(e,t,...r){var i;return(i=this._emitter)===null||i===void 0?void 0:i.trigger(e,t||{},...r)}_initializeUserData(){this._userRef.child("cursor").onDisconnect().remove(),this._userRef.child("color").onDisconnect().remove(),this._userRef.child("name").onDisconnect().remove(),this.sendCursor(this._userCursor||null)}_monitorHistory(){this._databaseRef.child("checkpoint").once("value",e=>{if(this._zombie)return;const t=e.child("id").val(),r=e.child("o").val(),i=e.child("a").val();r!=null&&t!=null&&i!==null?(this._pendingReceivedRevisions[t]={o:r,a:i},this._checkpointRevision=this._revisionFromId(t),this._monitorHistoryStartingAt(this._checkpointRevision+1)):(this._checkpointRevision=0,this._monitorHistoryStartingAt(this._checkpointRevision))}).catch(e=>{console.error("[firebase] Error getting checkpoint",e)})}_historyChildAdded(e){const t=e.key;this._pendingReceivedRevisions[t]=e.val(),this._ready&&this._handlePendingReceivedRevisions()}_monitorHistoryStartingAt(e){const t=this._databaseRef.child("history").startAt(null,this._revisionToId(e));this._firebaseOn(t,"child_added",this._historyChildAdded,this),t.once("value",()=>{this._handleInitialRevisions()}).catch(r=>{console.error("[firebase] Error getting initial revisions",r)})}_handleInitialRevisions(){if(this._zombie)return;op(this._ready,"Should not be called multiple times."),this._initialRevisions||(this._initialRevisions=!0,this._trigger(nr.InitialRevision)),this._revision=this._checkpointRevision;let e=this._revisionToId(this._revision);const t=this._pendingReceivedRevisions;for(;t[e]!=null;){const r=this._parseRevision(t[e]);r?this._document=this._document.compose(r.operation):console.log("Invalid operation.",this._userRef.toString(),e,t[e]),delete t[e],this._revision++,e=this._revisionToId(this._revision)}this._trigger(nr.Operation,this._document),this._ready=!0,setTimeout(()=>{this._trigger(nr.Ready,!0)})}_handlePendingReceivedRevisions(){const e=this._pendingReceivedRevisions;let t=this._revisionToId(this._revision),r=!1;for(;e[t]!=null;){this._revision++;const i=this._parseRevision(e[t]);i?(this._document=this._document.compose(i.operation),this._sent&&t===this._sent.id?this._sent.op.equals(i.operation)&&(i.author==this._userId||t==="A0")?(this._revision%ZA.CHECKPOINT_FREQUENCY===0&&this._saveCheckpoint(),this._sent=null,this._trigger(nr.Acknowledge)):(r=!0,this._trigger(nr.Operation,i.operation)):this._trigger(nr.Operation,i.operation)):console.log("Invalid operation.",this._databaseRef.toString(),t,e[t]),delete e[t],t=this._revisionToId(this._revision)}r&&(this._sent=null,this._trigger(nr.Retry))}sendOperation(e,t=DP){if(!this._ready){this.on(nr.Ready,()=>{this._trigger(nr.Retry)});return}if(!this._document.canMergeWith(e)){const o="sendOperation() called with invalid operation.";this._trigger(nr.Error,o,e.toString(),{operation:e.toString(),document:this._document.toString()}),fTe(o)}const r=this._revisionToId(this._revision);this._sent={id:r,op:e};const i={a:this._userId,o:e.toJSON(),t:tt.database.ServerValue.TIMESTAMP};this._doTransaction(r,i,t)}_doTransaction(e,t,r){try{this._databaseRef.child("history").child(e).transaction(i=>{if(i===null)return t},(i,o)=>{if(i){if(console.error("[firebase] Transaction error - onComplete",i),i.message==="disconnect")return this._sent&&this._sent.id===e&&setTimeout(()=>{this._doTransaction(e,t,r)}),r(i,!1);this._trigger(nr.Error,i,t.o.toString(),{operation:t.o.toString(),document:this._document.toString()}),cTe(i.message)}return r(null,o)},!1).catch(i=>{console.error("[firebase] Transaction error - catch()",i)})}catch(i){console.error("[firebase] Transaction error - trycatch",i)}}_parseRevision(e){if(typeof e!="object"||typeof e.o!="object")return null;let t=null;try{t=ut.fromJSON(e.o)}catch{return null}return this._document.canMergeWith(t)?{author:e.a,operation:t}:null}_saveCheckpoint(){this._databaseRef.child("checkpoint").set({a:this._userId,o:this._document.toJSON(),id:this._revisionToId(this._revision-1)}).catch(e=>{console.error("[firebase] Error saving checkpoint",e)})}isHistoryEmpty(){return du(this._ready,"Not ready yet."),this._revision===0}setUserId(e){du(typeof e=="string"||typeof e=="number","User ID must be either String or Integer."),this._userRef&&(this._userRef.child("cursor").remove(),this._userRef.child("cursor").onDisconnect().cancel(),this._userRef.child("color").remove(),this._userRef.child("color").onDisconnect().cancel(),this._userRef=null),this._userId=e,this._userRef=this._databaseRef.child("users").child(e.toString()),this._initializeUserData()}setUserColor(e){du(typeof e=="string","User Color must be String."),this._userRef&&(this._userRef.child("color").set(e),this._userColor=e)}setUserName(e){du(typeof e=="string","User Name must be String."),this._userRef&&(this._userRef.child("name").set(e),this._userName=e)}sendCursor(e,t=DP){if(!this._userRef)return;const r=e!=null?e.toJSON():null;this._userRef.child("cursor").set(r,function(i){typeof t=="function"&&t(i,e)}),this._userCursor=e}_childChanged(e){if(this._zombie)return;const t=e.key,r=e.val();this._trigger(nr.CursorChange,t,r.cursor,r.color,r.name)}_childRemoved(e){const t=e.key;this._trigger(nr.CursorChange,t,null)}_monitorCursors(){const e=this._databaseRef.child("users");this._firebaseOn(e,"child_added",this._childChanged,this),this._firebaseOn(e,"child_changed",this._childChanged,this),this._firebaseOn(e,"child_removed",this._childRemoved,this)}_firebaseOn(e,t,r,i){this._firebaseCallbacks.push({ref:e,eventType:t,callback:r,context:i}),e.on(t,r,i)}_removeFirebaseCallbacks(){for(const e of this._firebaseCallbacks){const{ref:t,eventType:r,callback:i,context:o}=e;t.off(r,i,o)}this._firebaseCallbacks=[]}_revisionToId(e){if(e===0)return"A0";let t="";for(;e>0;){const i=e%wd.length;t=wd[i]+t,e-=i,e/=wd.length}return`${wd[t.length+9]}${t}`}_revisionFromId(e){du(e.length>0&&e[0]===wd[e.length+8]);let t=0;for(let r=1;r<e.length;r++)t*=wd.length,t+=wd.indexOf(e[r]);return t}}ZA.CHECKPOINT_FREQUENCY=100;var jf;(function(n){n.ApplyOperation="apply",n.SendOperation="send"})(jf||(jf={}));class mTe{constructor(){}isSynchronized(){return!0}isAwaitingConfirm(){return!1}isAwaitingWithBuffer(){return!1}applyClient(e,t){return e.sendOperation(t),new jb(t)}applyServer(e,t){return e.applyOperation(t),this}serverAck(e){return Aj("There is no pending operation."),this}serverRetry(e){return Aj("There is no pending operation."),this}}const kJ=new mTe;class jb{constructor(e){this._outstanding=e}isSynchronized(){return!1}isAwaitingConfirm(){return!0}isAwaitingWithBuffer(){return!1}applyClient(e,t){return new DT(this._outstanding,t)}applyServer(e,t){const r=this._outstanding.transform(t);return e.applyOperation(r[1]),new jb(r[0])}serverAck(e){return kJ}serverRetry(e){return e.sendOperation(this._outstanding),this}}class DT{constructor(e,t){this._outstanding=e,this._buffer=t}isSynchronized(){return!1}isAwaitingConfirm(){return!1}isAwaitingWithBuffer(){return!0}applyClient(e,t){const r=this._buffer.compose(t);return new DT(this._outstanding,r)}applyServer(e,t){const r=this._outstanding.transform(t),i=this._buffer.transform(r[1]);return e.applyOperation(i[1]),new DT(r[0],i[0])}serverAck(e){return e.sendOperation(this._buffer),new jb(this._buffer)}serverRetry(e){const t=this._outstanding.compose(this._buffer);return e.sendOperation(t),new jb(t)}}class _Te{constructor(){this._state=kJ,this._emitter=new lC([jf.ApplyOperation,jf.SendOperation])}dispose(){this._emitter.dispose()}isSynchronized(){return this._state.isSynchronized()}isAwaitingConfirm(){return this._state.isAwaitingConfirm()}isAwaitingWithBuffer(){return this._state.isAwaitingWithBuffer()}on(e,t){return this._emitter.on(e,t)}off(e,t){return this._emitter.off(e,t)}_trigger(e,t){return this._emitter.trigger(e,t)}_setState(e){this._state=e}applyClient(e){this._setState(this._state.applyClient(this,e))}applyServer(e){this._setState(this._state.applyServer(this,e))}serverAck(){this._setState(this._state.serverAck(this))}serverRetry(){this._setState(this._state.serverRetry(this))}sendOperation(e){this._trigger(jf.SendOperation,e)}applyOperation(e){this._trigger(jf.ApplyOperation,e)}}class Hv{constructor(e,t){this._cursorBefore=e,this._cursorAfter=t}clone(){return new Hv(this._cursorBefore,this._cursorAfter)}invert(){return new Hv(this._cursorAfter,this._cursorBefore)}compose(e){return new Hv(this._cursorBefore,e._cursorAfter)}transform(e){return new Hv(this._cursorBefore?this._cursorBefore.transform(e):null,this._cursorAfter?this._cursorAfter.transform(e):null)}getCursor(){return this._cursorAfter}}class yTe{constructor(e,t){this._clientId=e,this._editorAdapter=t}setColor(e){this._userColor=e}setUserName(e){this._userName=e}updateCursor(e){this.removeCursor(),this._userCursor=e,this._mark=this._editorAdapter.setOtherCursor(this._clientId,e,this._userColor,this._userName)}removeCursor(){this._mark&&this._mark.dispose()}}var Ks;(function(n){n.Normal="normal",n.Undoing="undoing",n.Redoing="redoing"})(Ks||(Ks={}));class JA{constructor(e=JA.MAX_ITEM_IN_STACK){uTe(e,0),this._maxItems=e,this._undoStack=[],this._redoStack=[],this._compose=!0,this._state=Ks.Normal}dispose(){Oy(this._state,Ks.Normal,"Cannot dispose UndoManager while an undo/redo is in-progress"),this._undoStack=[],this._redoStack=[]}_addOnNormalState(e,t){let r=e;this._compose&&t&&this._undoStack.length>0&&(r=e.compose(this._undoStack.pop())),this._undoStack.push(r),this._undoStack.length>this._maxItems&&this._undoStack.shift(),this._compose=!0,this._redoStack=[]}_addOnUndoingState(e){this._redoStack.push(e),this._compose=!1}_addOnRedoingState(e){this._undoStack.push(e),this._compose=!0}add(e,t=!1){switch(this._state){case Ks.Undoing:return this._addOnUndoingState(e);case Ks.Redoing:return this._addOnRedoingState(e);case Ks.Normal:return this._addOnNormalState(e,t)}}last(){return this._undoStack.length===0?null:this._undoStack[this._undoStack.length-1].clone()}_transformStack(e,t){const r=[],i=[...e].reverse();for(const o of i){const s=o.transform(t);s[0].isNoop()||r.push(s[0]),t=s[1]}return r.reverse()}transform(e){this._undoStack=this._transformStack(this._undoStack,e),this._redoStack=this._transformStack(this._redoStack,e)}performUndo(e){this._state=Ks.Undoing,Qy(this._undoStack.length,0,"undo not possible"),e(this._undoStack.pop()),this._state=Ks.Normal}performRedo(e){this._state=Ks.Redoing,Qy(this._redoStack.length,0,"redo not possible"),e(this._redoStack.pop()),this._state=Ks.Normal}canUndo(){return this._undoStack.length!==0}canRedo(){return this._redoStack.length!==0}isUndoing(){return this._state===Ks.Undoing}isRedoing(){return this._state===Ks.Redoing}}JA.MAX_ITEM_IN_STACK=50;class gc{constructor(e,t=null){this._operation=e,this._metadata=t}isWrappedOperation(){return!0}getOps(){return this._operation.getOps()}getCursor(){return this._metadata?this._metadata.getCursor():null}getOperation(){return this._operation.clone()}retain(e,t){return this._operation.retain(e,t),this}insert(e,t){return this._operation.insert(e,t),this}delete(e){return this._operation.delete(e),this}isNoop(){return this._operation.isNoop()}clone(){var e;return new gc(this._operation.clone(),(e=this._metadata)===null||e===void 0?void 0:e.clone())}apply(e,t,r){return this._operation.apply(e,t,r)}invert(e){var t;return new gc(this._operation.invert(e),(t=this._metadata)===null||t===void 0?void 0:t.invert())}_getWrappedOperation(e){return e.isWrappedOperation()?e:new gc(e)}equals(e){const t=this._getWrappedOperation(e);return this._operation.equals(t._operation)}transform(e){var t,r;const i=this._getWrappedOperation(e),[o,s]=this._operation.transform(i._operation),a=new gc(o,(t=this._metadata)===null||t===void 0?void 0:t.transform(i._operation)),u=new gc(s,(r=i._metadata)===null||r===void 0?void 0:r.transform(this._operation));return[a,u]}canMergeWith(e){const t=this._getWrappedOperation(e);return this._operation.canMergeWith(t._operation)}_composeMeta(e){return this._metadata?e?this._metadata.compose(e):this._metadata:e}compose(e){const t=this._getWrappedOperation(e);return new gc(this._operation.compose(t._operation),this._composeMeta(t._metadata))}shouldBeComposedWith(e){const t=this._getWrappedOperation(e);return this._operation.shouldBeComposedWith(t._operation)}shouldBeComposedWithInverted(e){const t=this._getWrappedOperation(e);return this._operation.shouldBeComposedWithInverted(t._operation)}toString(){return this._operation.toString()}toJSON(){return this._operation.toJSON()}}var Xo;(function(n){n.Undo="undo",n.Redo="redo",n.Error="error",n.Synced="synced"})(Xo||(Xo={}));class bTe{constructor(e,t){this._focused=!1,this._cursor=null,this._sendCursorTimeout=null,this._client=new _Te,this._databaseAdapter=e,this._editorAdapter=t,this._undoManager=new JA,this._remoteClients=new Map,this._emitter=new lC([Xo.Error,Xo.Undo,Xo.Redo,Xo.Synced]),this._init()}_init(){this._editorAdapter.registerCallbacks({change:(e,t)=>{this._onChange(e,t)},cursorActivity:()=>{this._onCursorActivity()},blur:()=>{this._onBlur()},focus:()=>{this._onFocus()},error:(e,t,r)=>{this._trigger(Xo.Error,e,t,r)}}),this._editorAdapter.registerUndo(()=>{this._undo()}),this._editorAdapter.registerRedo(()=>{this._redo()}),this._databaseAdapter.registerCallbacks({ack:()=>{this._client.serverAck(),this._updateCursor(),this._sendCursor(this._cursor),this._emitSynced()},retry:()=>{this._client.serverRetry()},operation:e=>{this._client.applyServer(e)},initialRevision:()=>{this._editorAdapter.setInitiated(!0)},cursor:(e,t,r,i)=>{if(this._databaseAdapter.isCurrentUser(e)||!this._client.isSynchronized())return;const o=this._getClientObject(e);if(!t){o.removeCursor();return}r&&o.setColor(r),i&&o.setUserName(i),o.updateCursor(v4.fromJSON(t))},error:(e,t,r)=>{this._trigger(Xo.Error,e,t,r)}}),this._client.on(jf.ApplyOperation,e=>{this._applyOperation(e)}),this._client.on(jf.SendOperation,e=>{this._sendOperation(e)})}dispose(){this._sendCursorTimeout&&(clearTimeout(this._sendCursorTimeout),this._sendCursorTimeout=null),this._emitter.dispose(),this._client.dispose(),this._undoManager.dispose(),this._remoteClients.clear()}on(e,t){return this._emitter.on(e,t)}off(e,t){return this._emitter.off(e,t)}_trigger(e,t,...r){return this._emitter.trigger(e,t,...r)}_emitSynced(){this._trigger(Xo.Synced,this._client.isSynchronized())}_getClientObject(e){let t=this._remoteClients.get(e);return t||(t=new yTe(e,this._editorAdapter),this._remoteClients.set(e,t),t)}_onChange(e,t){const r=this._cursor;this._updateCursor();const i=this._undoManager.canUndo()&&t.shouldBeComposedWithInverted(this._undoManager.last()),o=new Hv(this._cursor,r);this._undoManager.add(new gc(t,o),i),this._client.applyClient(e)}clearUndoRedoStack(){this._undoManager.dispose()}_applyUnredo(e){this._undoManager.add(this._editorAdapter.invertOperation(e));const t=e.getOperation();this._editorAdapter.applyOperation(t),this._cursor=e.getCursor(),this._cursor&&this._editorAdapter.setCursor(this._cursor),this._client.applyClient(t)}_undo(){this._undoManager.canUndo()&&this._undoManager.performUndo(e=>{this._applyUnredo(e),this._trigger(Xo.Undo,e.toString())})}_redo(){this._undoManager.canRedo()&&this._undoManager.performRedo(e=>{this._applyUnredo(e),this._trigger(Xo.Redo,e.toString())})}_sendOperation(e){this._databaseAdapter.sendOperation(e)}_applyOperation(e){this._editorAdapter.applyOperation(e),this._updateCursor(),this._undoManager.transform(new gc(e)),this._emitSynced()}_sendCursor(e){if(this._sendCursorTimeout&&(clearTimeout(this._sendCursorTimeout),this._sendCursorTimeout=null),this._client.isAwaitingWithBuffer()){this._sendCursorTimeout=setTimeout(()=>{this._sendCursor(e)},3);return}this._databaseAdapter.sendCursor(e)}_updateCursor(){this._cursor=this._editorAdapter.getCursor()}_onCursorActivity(){const e=this._cursor;this._updateCursor(),!(e==null&&e==this._cursor)&&this._sendCursor(this._cursor)}_onBlur(){this._cursor=null,this._sendCursor(null),this._focused=!1}_onFocus(){this._focused=!0,this._onCursorActivity()}}var Ys;(function(n){n.Ready="ready",n.Synced="synced",n.Undo="undo",n.Redo="redo",n.Error="error"})(Ys||(Ys={}));class o6{constructor(e,t,r){if(!new.target)return new o6(e,t,r);this._ready=!1,this._zombie=!1,this._options=r,this._databaseAdapter=e,this._editorAdapter=t,this._editorClient=new bTe(e,t),this._emitter=new lC([Ys.Ready,Ys.Synced,Ys.Undo,Ys.Redo,Ys.Error]),this._init()}_init(){this._databaseAdapter.on(nr.Ready,()=>{this._ready=!0;const{defaultText:e}=this._options;e&&this.isHistoryEmpty()&&(this.setText(e),this.clearUndoRedoStack()),this._trigger(Ys.Ready,!0)}),this._editorClient.on(Xo.Synced,e=>{setTimeout(()=>{this._trigger(Ys.Synced,e)})}),this._editorClient.on(Xo.Undo,e=>{setTimeout(()=>{this._trigger(Ys.Undo,e)})}),this._editorClient.on(Xo.Redo,e=>{setTimeout(()=>{this._trigger(Ys.Redo,e)})}),this._editorClient.on(Xo.Error,(e,t,r)=>{setTimeout(()=>{this._trigger(Ys.Error,e,t,r)})})}getConfiguration(e){return e in this._options?this._options[e]:null}on(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.on(e,t)}off(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.off(e,t)}_trigger(e,t,...r){var i;return(i=this._emitter)===null||i===void 0?void 0:i.trigger(e,t,...r)}isHistoryEmpty(){return this._assertReady("isHistoryEmpty"),this._databaseAdapter.isHistoryEmpty()}setUserId(e){this._databaseAdapter.setUserId(e),this._options.userId=e}setUserColor(e){this._databaseAdapter.setUserColor(e),this._options.userColor=e}setUserName(e){this._databaseAdapter.setUserName(e),this._options.userName=e}getText(){return this._assertReady("getText"),this._editorAdapter.getText()}setText(e=""){this._assertReady("setText"),this._editorAdapter.setText(e),this._editorAdapter.setCursor(new v4(0,0))}clearUndoRedoStack(){this._assertReady("clearUndoRedoStack"),this._editorClient.clearUndoRedoStack()}dispose(){this._zombie=!0,this._databaseAdapter.dispose(),this._editorAdapter.dispose(),this._editorClient.dispose(),this._emitter&&(this._trigger(Ys.Ready,!1),this._emitter.dispose(),this._emitter=null)}_assertReady(e){du(this._ready,`You must wait for the "ready" event before calling ${e}.`),op(this._zombie,`You can't use a Firepad after calling dispose()!  [called ${e}]`)}}var wE,CTe=new Uint8Array(16);function wTe(){if(!wE&&(wE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wE(CTe)}const ETe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function STe(n){return typeof n=="string"&&ETe.test(n)}var Wi=[];for(var yO=0;yO<256;++yO)Wi.push((yO+256).toString(16).substr(1));function TTe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Wi[n[e+0]]+Wi[n[e+1]]+Wi[n[e+2]]+Wi[n[e+3]]+"-"+Wi[n[e+4]]+Wi[n[e+5]]+"-"+Wi[n[e+6]]+Wi[n[e+7]]+"-"+Wi[n[e+8]]+Wi[n[e+9]]+"-"+Wi[n[e+10]]+Wi[n[e+11]]+Wi[n[e+12]]+Wi[n[e+13]]+Wi[n[e+14]]+Wi[n[e+15]]).toLowerCase();if(!STe(t))throw TypeError("Stringified UUID is invalid");return t}function DTe(n,e,t){n=n||{};var r=n.random||(n.rng||wTe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,TTe(r)}const ATe="modulepreload",ITe=function(n){return"/boletin/"+n},xj={},Je=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=ITe(u),u in xj)return;xj[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":ATe,l||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function xTe(n,e){var t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,function(r,i){var o=i[0];return typeof e[o]<"u"?e[o]:r}),t}function D(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return xTe(e,t)}function qs(n,e){return e===void 0&&(e=0),n[n.length-(1+e)]}function LTe(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function Ph(n,e,t){if(t===void 0&&(t=function(o,s){return o===s}),n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(var r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function e2(n,e,t){for(var r=0,i=n.length-1;r<=i;){var o=(r+i)/2|0,s=t(n[o],e);if(s<0)r=o+1;else if(s>0)i=o-1;else return o}return-(r+1)}function NTe(n,e){var t=0,r=n.length;if(r===0)return 0;for(;t<r;){var i=Math.floor((t+r)/2);e(n[i])?r=i:t=i+1}return t}function t2(n,e){return IP(n,e,0,n.length-1,[]),n}function OTe(n,e,t,r,i,o){for(var s=t,a=r+1,u=t;u<=i;u++)o[u]=n[u];for(var u=t;u<=i;u++)s>r?n[u]=o[a++]:a>i?n[u]=o[s++]:e(o[a],o[s])<0?n[u]=o[a++]:n[u]=o[s++]}function IP(n,e,t,r,i){if(!(r<=t)){var o=t+(r-t)/2|0;IP(n,e,t,o,i),IP(n,e,o+1,r,i),!(e(n[o],n[o+1])<=0)&&OTe(n,e,t,o,r,i)}}function Lj(n,e){for(var t=[],r=void 0,i=0,o=t2(n.slice(0),e);i<o.length;i++){var s=o[i];!r||e(r[0],s)!==0?(r=[s],t.push(r)):r.push(s)}return t}function Yc(n){return n.filter(function(e){return!!e})}function s6(n){return!Array.isArray(n)||n.length===0}function cs(n){return Array.isArray(n)&&n.length>0}function RJ(n,e){return n.filter(function(t,r){return n.indexOf(t)===r})}function Nj(n){var e=new Set;return n.filter(function(t){return e.has(t)?!1:(e.add(t),!0)})}function nh(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(e(r))return t}return-1}function xP(n,e,t){t===void 0&&(t=void 0);var r=nh(n,e);return r<0?t:n[r]}function qb(n){var e;return(e=[]).concat.apply(e,n)}function Go(n,e){var t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);var r=[];if(t<=e)for(var i=t;i<e;i++)r.push(i);else for(var i=t;i>e;i--)r.push(i);return r}function LP(n,e,t){var r=n.slice(0,e),i=n.slice(e);return r.concat(t,i)}function bO(n,e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function EE(n,e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function PJ(n){return Array.isArray(n)?n:[n]}var O_={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function MJ(n){return Array.isArray?Array.isArray(n):!!(n&&typeof n.length===O_.number&&n.constructor===Array)}function Ll(n){return typeof n===O_.string||n instanceof String}function $i(n){return typeof n===O_.object&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function Pc(n){return(typeof n===O_.number||n instanceof Number)&&!isNaN(n)}function FJ(n){return n===!0||n===!1}function Co(n){return typeof n===O_.undefined}function rh(n){return Co(n)||n===null}var kTe=Object.prototype.hasOwnProperty;function BJ(n){if(!$i(n))return!1;for(var e in n)if(kTe.call(n,e))return!1;return!0}function Zy(n){return typeof n===O_.function}function RTe(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++)PTe(n[r],e[r])}function PTe(n,e){if(Ll(e)){if(typeof n!==e)throw new Error("argument does not match constraint: typeof "+e)}else if(Zy(e)){try{if(n instanceof e)return}catch{}if(!rh(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function MTe(n){for(var e=[],t=Object.getPrototypeOf(n);Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function a6(n){for(var e=[],t=0,r=MTe(n);t<r.length;t++){var i=r[t];typeof n[i]=="function"&&e.push(i)}return e}function HJ(n,e){for(var t=function(a){return function(){var u=Array.prototype.slice.call(arguments,0);return e(a,u)}},r={},i=0,o=n;i<o.length;i++){var s=o[i];r[s]=t(s)}return r}function n2(n){return n===null?void 0:n}function km(n){return typeof n>"u"?null:n}function mc(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;var e=Array.isArray(n)?[]:{};return Object.keys(n).forEach(function(t){n[t]&&typeof n[t]=="object"?e[t]=mc(n[t]):e[t]=n[t]}),e}function FTe(n){if(!n||typeof n!="object")return n;for(var e=[n];e.length>0;){var t=e.shift();Object.freeze(t);for(var r in t)if(VJ.call(t,r)){var i=t[r];typeof i=="object"&&!Object.isFrozen(i)&&e.push(i)}}return n}var VJ=Object.prototype.hasOwnProperty;function BTe(n,e){return NP(n,e,new Set)}function NP(n,e,t){if(rh(n))return n;var r=e(n);if(typeof r<"u")return r;if(MJ(n)){for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];i.push(NP(a,e,t))}return i}if($i(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);var u={};for(var l in n)VJ.call(n,l)&&(u[l]=NP(n[l],e,t));return t.delete(n),u}return n}function $r(n,e,t){return t===void 0&&(t=!0),$i(n)?($i(e)&&Object.keys(e).forEach(function(r){r in n?t&&($i(n[r])&&$i(e[r])?$r(n[r],e[r],t):n[r]=e[r]):n[r]=e[r]}),n):e}function HTe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(r){return Object.keys(r).forEach(function(i){return n[i]=r[i]})}),n}function ih(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;var t,r;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!ih(n[t],e[t]))return!1}else{var i=[];for(r in n)i.push(r);i.sort();var o=[];for(r in e)o.push(r);if(o.sort(),!ih(i,o))return!1;for(t=0;t<i.length;t++)if(!ih(n[i[t]],e[i[t]]))return!1}return!0}function sv(n,e,t){var r=e(n);return typeof r>"u"?t:r}var VTe={},xS="en",AT=!1,IT=!1,OP=!1,WJ=!1,UJ=!1,SE=void 0,CO=xS,WTe=void 0,TE=void 0,UTe=typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="renderer";if(typeof navigator=="object"&&!UTe)TE=navigator.userAgent,AT=TE.indexOf("Windows")>=0,IT=TE.indexOf("Macintosh")>=0,OP=TE.indexOf("Linux")>=0,UJ=!0,SE=navigator.language,CO=SE;else if(typeof process=="object"){AT=process.platform==="win32",IT=process.platform==="darwin",OP=process.platform==="linux",SE=xS,CO=xS;var Oj=VTe.VSCODE_NLS_CONFIG;if(Oj)try{var wO=JSON.parse(Oj),kj=wO.availableLanguages["*"];SE=wO.locale,CO=kj||xS,WTe=wO._translationsConfigFile}catch{}WJ=!0}var xo=AT,Tt=IT,Xc=OP,Iu=WJ,u6=UJ,jTe=typeof self=="object"?self:typeof global=="object"?global:{},Ds=jTe,ty=null;function jJ(n){return ty===null&&(Ds.setImmediate?ty=Ds.setImmediate.bind(Ds):typeof process<"u"&&typeof process.nextTick=="function"?ty=process.nextTick.bind(process):ty=Ds.setTimeout.bind(Ds)),ty(n)}var il=IT?2:AT?1:3,qJ="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function qTe(n){n===void 0&&(n="");for(var e="(-?\\d*\\.\\d\\w*)|([^",t=0,r=qJ;t<r.length;t++){var i=r[t];n.indexOf(i)>=0||(e+="\\"+i)}return e+="\\s]+)",new RegExp(e,"g")}var zJ=qTe();function kP(n){var e=zJ;if(n&&n instanceof RegExp)if(n.global)e=n;else{var t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}function zTe(n,e,t,r){var i=n-1-r,o=t.lastIndexOf(" ",i-1)+1;e.lastIndex=o;for(var s;s=e.exec(t);){var a=s.index||0;if(a<=i&&e.lastIndex>=i)return{word:s[0],startColumn:r+1+a,endColumn:r+1+e.lastIndex}}return null}function GTe(n,e,t,r){var i=n-1-r;e.lastIndex=0;for(var o;o=e.exec(t);){var s=o.index||0;if(s>i)return null;if(e.lastIndex>=i)return{word:o[0],startColumn:r+1+s,endColumn:r+1+e.lastIndex}}return null}function RP(n,e,t,r){e.lastIndex=0;var i=e.exec(t);if(!i)return null;var o=i[0].indexOf(" ")>=0?GTe(n,e,t,r):zTe(n,e,t,r);return e.lastIndex=0,o}var PP=function(){return PP=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},PP.apply(this,arguments)};function $Te(n){return"blink"}var Hn;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Hn||(Hn={}));function KTe(n){if(n===Hn.Line)return"line";if(n===Hn.Block)return"block";if(n===Hn.Underline)return"underline";if(n===Hn.LineThin)return"line-thin";if(n===Hn.BlockOutline)return"block-outline";if(n===Hn.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")}function YTe(n,e){return typeof n!="string"?e:n==="line"?Hn.Line:n==="block"?Hn.Block:n==="underline"?Hn.Underline:n==="line-thin"?Hn.LineThin:n==="block-outline"?Hn.BlockOutline:n==="underline-thin"?Hn.UnderlineThin:Hn.Line}var GJ=function(){function n(e){this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=e.lineHeight|0,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.multiCursorModifier=e.multiCursorModifier,this.multiCursorMergeOverlapping=e.multiCursorMergeOverlapping,this.wordSeparators=e.wordSeparators,this.autoClosingBrackets=e.autoClosingBrackets,this.autoClosingQuotes=e.autoClosingQuotes,this.autoClosingOvertype=e.autoClosingOvertype,this.autoSurround=e.autoSurround,this.autoIndent=e.autoIndent,this.useTabStops=e.useTabStops,this.tabFocusMode=e.tabFocusMode,this.dragAndDrop=e.dragAndDrop,this.emptySelectionClipboard=e.emptySelectionClipboard,this.copyWithSyntaxHighlighting=e.copyWithSyntaxHighlighting,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo,this.contribInfo=e.contribInfo,this.showUnused=e.showUnused}return n.prototype.equals=function(e){return this.canUseLayerHinting===e.canUseLayerHinting&&this.pixelRatio===e.pixelRatio&&this.editorClassName===e.editorClassName&&this.lineHeight===e.lineHeight&&this.readOnly===e.readOnly&&this.accessibilitySupport===e.accessibilitySupport&&this.multiCursorModifier===e.multiCursorModifier&&this.multiCursorMergeOverlapping===e.multiCursorMergeOverlapping&&this.wordSeparators===e.wordSeparators&&this.autoClosingBrackets===e.autoClosingBrackets&&this.autoClosingQuotes===e.autoClosingQuotes&&this.autoClosingOvertype===e.autoClosingOvertype&&this.autoSurround===e.autoSurround&&this.autoIndent===e.autoIndent&&this.useTabStops===e.useTabStops&&this.tabFocusMode===e.tabFocusMode&&this.dragAndDrop===e.dragAndDrop&&this.showUnused===e.showUnused&&this.emptySelectionClipboard===e.emptySelectionClipboard&&this.copyWithSyntaxHighlighting===e.copyWithSyntaxHighlighting&&n._equalsLayoutInfo(this.layoutInfo,e.layoutInfo)&&this.fontInfo.equals(e.fontInfo)&&n._equalsViewOptions(this.viewInfo,e.viewInfo)&&n._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo)&&n._equalsContribOptions(this.contribInfo,e.contribInfo)},n.prototype.createChangeEvent=function(e){return{canUseLayerHinting:this.canUseLayerHinting!==e.canUseLayerHinting,pixelRatio:this.pixelRatio!==e.pixelRatio,editorClassName:this.editorClassName!==e.editorClassName,lineHeight:this.lineHeight!==e.lineHeight,readOnly:this.readOnly!==e.readOnly,accessibilitySupport:this.accessibilitySupport!==e.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==e.multiCursorModifier,multiCursorMergeOverlapping:this.multiCursorMergeOverlapping!==e.multiCursorMergeOverlapping,wordSeparators:this.wordSeparators!==e.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==e.autoClosingBrackets,autoClosingQuotes:this.autoClosingQuotes!==e.autoClosingQuotes,autoClosingOvertype:this.autoClosingOvertype!==e.autoClosingOvertype,autoSurround:this.autoSurround!==e.autoSurround,autoIndent:this.autoIndent!==e.autoIndent,useTabStops:this.useTabStops!==e.useTabStops,tabFocusMode:this.tabFocusMode!==e.tabFocusMode,dragAndDrop:this.dragAndDrop!==e.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==e.emptySelectionClipboard,copyWithSyntaxHighlighting:this.copyWithSyntaxHighlighting!==e.copyWithSyntaxHighlighting,layoutInfo:!n._equalsLayoutInfo(this.layoutInfo,e.layoutInfo),fontInfo:!this.fontInfo.equals(e.fontInfo),viewInfo:!n._equalsViewOptions(this.viewInfo,e.viewInfo),wrappingInfo:!n._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo),contribInfo:!n._equalsContribOptions(this.contribInfo,e.contribInfo)}},n._equalsLayoutInfo=function(e,t){return e.width===t.width&&e.height===t.height&&e.glyphMarginLeft===t.glyphMarginLeft&&e.glyphMarginWidth===t.glyphMarginWidth&&e.glyphMarginHeight===t.glyphMarginHeight&&e.lineNumbersLeft===t.lineNumbersLeft&&e.lineNumbersWidth===t.lineNumbersWidth&&e.lineNumbersHeight===t.lineNumbersHeight&&e.decorationsLeft===t.decorationsLeft&&e.decorationsWidth===t.decorationsWidth&&e.decorationsHeight===t.decorationsHeight&&e.contentLeft===t.contentLeft&&e.contentWidth===t.contentWidth&&e.contentHeight===t.contentHeight&&e.renderMinimap===t.renderMinimap&&e.minimapLeft===t.minimapLeft&&e.minimapWidth===t.minimapWidth&&e.viewportColumn===t.viewportColumn&&e.verticalScrollbarWidth===t.verticalScrollbarWidth&&e.horizontalScrollbarHeight===t.horizontalScrollbarHeight&&this._equalsOverviewRuler(e.overviewRuler,t.overviewRuler)},n._equalsOverviewRuler=function(e,t){return e.width===t.width&&e.height===t.height&&e.top===t.top&&e.right===t.right},n._equalsViewOptions=function(e,t){return e.extraEditorClassName===t.extraEditorClassName&&e.disableMonospaceOptimizations===t.disableMonospaceOptimizations&&Ph(e.rulers,t.rulers)&&e.ariaLabel===t.ariaLabel&&e.renderLineNumbers===t.renderLineNumbers&&e.renderCustomLineNumbers===t.renderCustomLineNumbers&&e.cursorSurroundingLines===t.cursorSurroundingLines&&e.renderFinalNewline===t.renderFinalNewline&&e.selectOnLineNumbers===t.selectOnLineNumbers&&e.glyphMargin===t.glyphMargin&&e.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&e.roundedSelection===t.roundedSelection&&e.overviewRulerLanes===t.overviewRulerLanes&&e.overviewRulerBorder===t.overviewRulerBorder&&e.cursorBlinking===t.cursorBlinking&&e.mouseWheelZoom===t.mouseWheelZoom&&e.cursorSmoothCaretAnimation===t.cursorSmoothCaretAnimation&&e.cursorStyle===t.cursorStyle&&e.cursorWidth===t.cursorWidth&&e.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&e.scrollBeyondLastLine===t.scrollBeyondLastLine&&e.scrollBeyondLastColumn===t.scrollBeyondLastColumn&&e.smoothScrolling===t.smoothScrolling&&e.stopRenderingLineAfter===t.stopRenderingLineAfter&&e.renderWhitespace===t.renderWhitespace&&e.renderControlCharacters===t.renderControlCharacters&&e.fontLigatures===t.fontLigatures&&e.renderIndentGuides===t.renderIndentGuides&&e.highlightActiveIndentGuide===t.highlightActiveIndentGuide&&e.renderLineHighlight===t.renderLineHighlight&&this._equalsScrollbarOptions(e.scrollbar,t.scrollbar)&&this._equalsMinimapOptions(e.minimap,t.minimap)&&e.fixedOverflowWidgets===t.fixedOverflowWidgets},n._equalsScrollbarOptions=function(e,t){return e.arrowSize===t.arrowSize&&e.vertical===t.vertical&&e.horizontal===t.horizontal&&e.useShadows===t.useShadows&&e.verticalHasArrows===t.verticalHasArrows&&e.horizontalHasArrows===t.horizontalHasArrows&&e.handleMouseWheel===t.handleMouseWheel&&e.horizontalScrollbarSize===t.horizontalScrollbarSize&&e.horizontalSliderSize===t.horizontalSliderSize&&e.verticalScrollbarSize===t.verticalScrollbarSize&&e.verticalSliderSize===t.verticalSliderSize&&e.mouseWheelScrollSensitivity===t.mouseWheelScrollSensitivity&&e.fastScrollSensitivity===t.fastScrollSensitivity},n._equalsMinimapOptions=function(e,t){return e.enabled===t.enabled&&e.side===t.side&&e.showSlider===t.showSlider&&e.renderCharacters===t.renderCharacters&&e.maxColumn===t.maxColumn},n._equalFindOptions=function(e,t){return e.seedSearchStringFromSelection===t.seedSearchStringFromSelection&&e.autoFindInSelection===t.autoFindInSelection&&e.globalFindClipboard===t.globalFindClipboard&&e.addExtraSpaceOnTop===t.addExtraSpaceOnTop},n._equalsParameterHintOptions=function(e,t){return e.enabled===t.enabled&&e.cycle===t.cycle},n._equalsHoverOptions=function(e,t){return e.enabled===t.enabled&&e.delay===t.delay&&e.sticky===t.sticky},n._equalsSuggestOptions=function(e,t){return e===t?!0:!e||!t?!1:e.filterGraceful===t.filterGraceful&&e.snippets===t.snippets&&e.snippetsPreventQuickSuggestions===t.snippetsPreventQuickSuggestions&&e.localityBonus===t.localityBonus&&e.shareSuggestSelections===t.shareSuggestSelections&&e.showIcons===t.showIcons&&e.maxVisibleSuggestions===t.maxVisibleSuggestions&&ih(e.filteredTypes,t.filteredTypes)},n._equalsGotoLocationOptions=function(e,t){return e===t?!0:!e||!t?!1:e.multiple===t.multiple},n._equalsWrappingInfo=function(e,t){return e.inDiffEditor===t.inDiffEditor&&e.isDominatedByLongLines===t.isDominatedByLongLines&&e.isWordWrapMinified===t.isWordWrapMinified&&e.isViewportWrapping===t.isViewportWrapping&&e.wrappingColumn===t.wrappingColumn&&e.wrappingIndent===t.wrappingIndent&&e.wordWrapBreakBeforeCharacters===t.wordWrapBreakBeforeCharacters&&e.wordWrapBreakAfterCharacters===t.wordWrapBreakAfterCharacters&&e.wordWrapBreakObtrusiveCharacters===t.wordWrapBreakObtrusiveCharacters},n._equalsContribOptions=function(e,t){return e.selectionClipboard===t.selectionClipboard&&this._equalsHoverOptions(e.hover,t.hover)&&e.links===t.links&&e.contextmenu===t.contextmenu&&n._equalsQuickSuggestions(e.quickSuggestions,t.quickSuggestions)&&e.quickSuggestionsDelay===t.quickSuggestionsDelay&&this._equalsParameterHintOptions(e.parameterHints,t.parameterHints)&&e.formatOnType===t.formatOnType&&e.formatOnPaste===t.formatOnPaste&&e.suggestOnTriggerCharacters===t.suggestOnTriggerCharacters&&e.acceptSuggestionOnEnter===t.acceptSuggestionOnEnter&&e.acceptSuggestionOnCommitCharacter===t.acceptSuggestionOnCommitCharacter&&e.wordBasedSuggestions===t.wordBasedSuggestions&&e.suggestSelection===t.suggestSelection&&e.suggestFontSize===t.suggestFontSize&&e.suggestLineHeight===t.suggestLineHeight&&e.tabCompletion===t.tabCompletion&&this._equalsSuggestOptions(e.suggest,t.suggest)&&n._equalsGotoLocationOptions(e.gotoLocation,t.gotoLocation)&&e.selectionHighlight===t.selectionHighlight&&e.occurrencesHighlight===t.occurrencesHighlight&&e.codeLens===t.codeLens&&e.folding===t.folding&&e.foldingStrategy===t.foldingStrategy&&e.showFoldingControls===t.showFoldingControls&&e.matchBrackets===t.matchBrackets&&this._equalFindOptions(e.find,t.find)&&e.colorDecorators===t.colorDecorators&&ih(e.codeActionsOnSave,t.codeActionsOnSave)&&e.codeActionsOnSaveTimeout===t.codeActionsOnSaveTimeout&&e.lightbulbEnabled===t.lightbulbEnabled},n._equalsQuickSuggestions=function(e,t){return typeof e=="boolean"?typeof t!="boolean"?!1:e===t:typeof t=="boolean"?!1:e.comments===t.comments&&e.other===t.other&&e.strings===t.strings},n}();function Xe(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}function XTe(n,e){if(!n)return e;for(var t=Object.create(null),r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],s=n[o];typeof s=="boolean"&&(t[o]=s)}return t}function av(n,e){return typeof n!="string"?e:n}function ii(n,e,t){return typeof n!="string"||t.indexOf(n)===-1?e:n}function Cr(n,e,t,r){var i;return typeof n>"u"?i=e:(i=parseInt(n,10),isNaN(i)&&(i=e)),i=Math.max(t,i),i=Math.min(r,i),i|0}function Rj(n,e){var t=parseFloat(n);return isNaN(t)&&(t=e),t}function QTe(n,e){return typeof n!="string"?e:n==="same"?1:n==="indent"?2:n==="deepIndent"?3:0}function ZTe(n,e){if(typeof n!="string")return e;switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"visible":case"solid":return 5}return 1}function Pj(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}var Mj=function(){function n(){}return n.validate=function(e,t){var r=e.wordWrap;r===!0?r="on":r===!1&&(r="off"),r=ii(r,t.wordWrap,["off","on","wordWrapColumn","bounded"]);var i=this._sanitizeViewInfo(e,t.viewInfo),o=this._sanitizeContribInfo(e,t.contribInfo),s=void 0;typeof e.multiCursorModifier=="string"&&(e.multiCursorModifier==="ctrlCmd"?s=Tt?"metaKey":"ctrlKey":s="altKey");var a=ii(s,t.multiCursorModifier,["altKey","metaKey","ctrlKey"]),u,l,c;return typeof e.autoClosingBrackets=="boolean"&&e.autoClosingBrackets===!1?(u="never",l="never",c="never"):(u=ii(e.autoClosingBrackets,t.autoClosingBrackets,["always","languageDefined","beforeWhitespace","never"]),l=ii(e.autoClosingQuotes,t.autoClosingQuotes,["always","languageDefined","beforeWhitespace","never"]),c=ii(e.autoSurround,t.autoSurround,["languageDefined","brackets","quotes","never"])),{inDiffEditor:Xe(e.inDiffEditor,t.inDiffEditor),wordSeparators:av(e.wordSeparators,t.wordSeparators),lineNumbersMinChars:Cr(e.lineNumbersMinChars,t.lineNumbersMinChars,1,10),lineDecorationsWidth:typeof e.lineDecorationsWidth>"u"?t.lineDecorationsWidth:e.lineDecorationsWidth,readOnly:Xe(e.readOnly,t.readOnly),mouseStyle:ii(e.mouseStyle,t.mouseStyle,["text","default","copy"]),disableLayerHinting:Xe(e.disableLayerHinting,t.disableLayerHinting),automaticLayout:Xe(e.automaticLayout,t.automaticLayout),wordWrap:r,wordWrapColumn:Cr(e.wordWrapColumn,t.wordWrapColumn,1,1073741824),wordWrapMinified:Xe(e.wordWrapMinified,t.wordWrapMinified),wrappingIndent:QTe(e.wrappingIndent,t.wrappingIndent),wordWrapBreakBeforeCharacters:av(e.wordWrapBreakBeforeCharacters,t.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:av(e.wordWrapBreakAfterCharacters,t.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:av(e.wordWrapBreakObtrusiveCharacters,t.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:u,autoClosingQuotes:l,autoClosingOvertype:ii(e.autoClosingOvertype,t.autoClosingOvertype,["always","auto","never"]),autoSurround:c,autoIndent:Xe(e.autoIndent,t.autoIndent),dragAndDrop:Xe(e.dragAndDrop,t.dragAndDrop),emptySelectionClipboard:Xe(e.emptySelectionClipboard,t.emptySelectionClipboard),copyWithSyntaxHighlighting:Xe(e.copyWithSyntaxHighlighting,t.copyWithSyntaxHighlighting),useTabStops:Xe(e.useTabStops,t.useTabStops),multiCursorModifier:a,multiCursorMergeOverlapping:Xe(e.multiCursorMergeOverlapping,t.multiCursorMergeOverlapping),accessibilitySupport:ii(e.accessibilitySupport,t.accessibilitySupport,["auto","on","off"]),showUnused:Xe(e.showUnused,t.showUnused),viewInfo:i,contribInfo:o}},n._sanitizeScrollbarOpts=function(e,t,r,i){if(typeof e!="object")return t;var o=Cr(e.horizontalScrollbarSize,t.horizontalScrollbarSize,0,1e3),s=Cr(e.verticalScrollbarSize,t.verticalScrollbarSize,0,1e3);return{vertical:Pj(e.vertical,t.vertical),horizontal:Pj(e.horizontal,t.horizontal),arrowSize:Cr(e.arrowSize,t.arrowSize,0,1e3),useShadows:Xe(e.useShadows,t.useShadows),verticalHasArrows:Xe(e.verticalHasArrows,t.verticalHasArrows),horizontalHasArrows:Xe(e.horizontalHasArrows,t.horizontalHasArrows),horizontalScrollbarSize:o,horizontalSliderSize:Cr(e.horizontalSliderSize,o,0,1e3),verticalScrollbarSize:s,verticalSliderSize:Cr(e.verticalSliderSize,s,0,1e3),handleMouseWheel:Xe(e.handleMouseWheel,t.handleMouseWheel),mouseWheelScrollSensitivity:r,fastScrollSensitivity:i}},n._sanitizeMinimapOpts=function(e,t){return typeof e!="object"?t:{enabled:Xe(e.enabled,t.enabled),side:ii(e.side,t.side,["right","left"]),showSlider:ii(e.showSlider,t.showSlider,["always","mouseover"]),renderCharacters:Xe(e.renderCharacters,t.renderCharacters),maxColumn:Cr(e.maxColumn,t.maxColumn,1,1e4)}},n._sanitizeFindOpts=function(e,t){return typeof e!="object"?t:{seedSearchStringFromSelection:Xe(e.seedSearchStringFromSelection,t.seedSearchStringFromSelection),autoFindInSelection:Xe(e.autoFindInSelection,t.autoFindInSelection),globalFindClipboard:Xe(e.globalFindClipboard,t.globalFindClipboard),addExtraSpaceOnTop:Xe(e.addExtraSpaceOnTop,t.addExtraSpaceOnTop)}},n._sanitizeParameterHintOpts=function(e,t){return typeof e!="object"?t:{enabled:Xe(e.enabled,t.enabled),cycle:Xe(e.cycle,t.cycle)}},n._sanitizeHoverOpts=function(e,t){var r;if(typeof e=="boolean")r={enabled:e};else if(typeof e=="object")r=e;else return t;return{enabled:Xe(r.enabled,t.enabled),delay:Cr(r.delay,t.delay,0,1e4),sticky:Xe(r.sticky,t.sticky)}},n._sanitizeSuggestOpts=function(e,t){var r=e.suggest||{};return{filterGraceful:Xe(r.filterGraceful,t.filterGraceful),snippets:ii(e.snippetSuggestions,t.snippets,["top","bottom","inline","none"]),snippetsPreventQuickSuggestions:Xe(r.snippetsPreventQuickSuggestions,t.filterGraceful),localityBonus:Xe(r.localityBonus,t.localityBonus),shareSuggestSelections:Xe(r.shareSuggestSelections,t.shareSuggestSelections),showIcons:Xe(r.showIcons,t.showIcons),maxVisibleSuggestions:Cr(r.maxVisibleSuggestions,t.maxVisibleSuggestions,1,15),filteredTypes:$i(r.filteredTypes)?r.filteredTypes:Object.create(null)}},n._sanitizeGotoLocationOpts=function(e,t){var r=e.gotoLocation||{};return{multiple:ii(r.multiple,t.multiple,["peek","gotoAndPeek","goto"])}},n._sanitizeTabCompletionOpts=function(e,t){return e===!1?"off":e===!0?"onlySnippets":ii(e,t,["on","off","onlySnippets"])},n._sanitizeViewInfo=function(e,t){var r=[];if(Array.isArray(e.rulers)){for(var i=0,o=e.rulers.length;i<o;i++)r.push(Cr(e.rulers[i],0,0,1e4));r.sort()}var s=t.renderLineNumbers,a=t.renderCustomLineNumbers;if(typeof e.lineNumbers<"u"){var u=e.lineNumbers;u===!0?u="on":u===!1&&(u="off"),typeof u=="function"?(s=4,a=u):u==="interval"?s=3:u==="relative"?s=2:u==="on"?s=1:s=0}var l=Xe(e.fontLigatures,t.fontLigatures),c=Xe(e.disableMonospaceOptimizations,t.disableMonospaceOptimizations)||l,h=e.renderWhitespace;h===!0?h="boundary":h===!1&&(h="none"),h=ii(h,t.renderWhitespace,["none","boundary","selection","all"]);var d=e.renderLineHighlight;d===!0?d="line":d===!1&&(d="none"),d=ii(d,t.renderLineHighlight,["none","gutter","line","all"]);var p=Rj(e.mouseWheelScrollSensitivity,t.scrollbar.mouseWheelScrollSensitivity);p===0&&(p=1);var v=Rj(e.fastScrollSensitivity,t.scrollbar.fastScrollSensitivity);v<=0&&(v=t.scrollbar.fastScrollSensitivity);var m=this._sanitizeScrollbarOpts(e.scrollbar,t.scrollbar,p,v),_=this._sanitizeMinimapOpts(e.minimap,t.minimap);return{extraEditorClassName:av(e.extraEditorClassName,t.extraEditorClassName),disableMonospaceOptimizations:c,rulers:r,ariaLabel:av(e.ariaLabel,t.ariaLabel),cursorSurroundingLines:Cr(e.cursorSurroundingLines,t.cursorWidth,0,Number.MAX_VALUE),renderLineNumbers:s,renderCustomLineNumbers:a,renderFinalNewline:Xe(e.renderFinalNewline,t.renderFinalNewline),selectOnLineNumbers:Xe(e.selectOnLineNumbers,t.selectOnLineNumbers),glyphMargin:Xe(e.glyphMargin,t.glyphMargin),revealHorizontalRightPadding:Cr(e.revealHorizontalRightPadding,t.revealHorizontalRightPadding,0,1e3),roundedSelection:Xe(e.roundedSelection,t.roundedSelection),overviewRulerLanes:Cr(e.overviewRulerLanes,t.overviewRulerLanes,0,3),overviewRulerBorder:Xe(e.overviewRulerBorder,t.overviewRulerBorder),cursorBlinking:ZTe(e.cursorBlinking,t.cursorBlinking),mouseWheelZoom:Xe(e.mouseWheelZoom,t.mouseWheelZoom),cursorSmoothCaretAnimation:Xe(e.cursorSmoothCaretAnimation,t.cursorSmoothCaretAnimation),cursorStyle:YTe(e.cursorStyle,t.cursorStyle),cursorWidth:Cr(e.cursorWidth,t.cursorWidth,0,Number.MAX_VALUE),hideCursorInOverviewRuler:Xe(e.hideCursorInOverviewRuler,t.hideCursorInOverviewRuler),scrollBeyondLastLine:Xe(e.scrollBeyondLastLine,t.scrollBeyondLastLine),scrollBeyondLastColumn:Cr(e.scrollBeyondLastColumn,t.scrollBeyondLastColumn,0,1073741824),smoothScrolling:Xe(e.smoothScrolling,t.smoothScrolling),stopRenderingLineAfter:Cr(e.stopRenderingLineAfter,t.stopRenderingLineAfter,-1,1073741824),renderWhitespace:h,renderControlCharacters:Xe(e.renderControlCharacters,t.renderControlCharacters),fontLigatures:l,renderIndentGuides:Xe(e.renderIndentGuides,t.renderIndentGuides),highlightActiveIndentGuide:Xe(e.highlightActiveIndentGuide,t.highlightActiveIndentGuide),renderLineHighlight:d,scrollbar:m,minimap:_,fixedOverflowWidgets:Xe(e.fixedOverflowWidgets,t.fixedOverflowWidgets)}},n._sanitizeContribInfo=function(e,t){var r;typeof e.quickSuggestions=="object"?r=PP({other:!0},e.quickSuggestions):r=Xe(e.quickSuggestions,t.quickSuggestions),typeof e.acceptSuggestionOnEnter=="boolean"&&(e.acceptSuggestionOnEnter=e.acceptSuggestionOnEnter?"on":"off");var i=this._sanitizeFindOpts(e.find,t.find);return{selectionClipboard:Xe(e.selectionClipboard,t.selectionClipboard),hover:this._sanitizeHoverOpts(e.hover,t.hover),links:Xe(e.links,t.links),contextmenu:Xe(e.contextmenu,t.contextmenu),quickSuggestions:r,quickSuggestionsDelay:Cr(e.quickSuggestionsDelay,t.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:this._sanitizeParameterHintOpts(e.parameterHints,t.parameterHints),formatOnType:Xe(e.formatOnType,t.formatOnType),formatOnPaste:Xe(e.formatOnPaste,t.formatOnPaste),suggestOnTriggerCharacters:Xe(e.suggestOnTriggerCharacters,t.suggestOnTriggerCharacters),acceptSuggestionOnEnter:ii(e.acceptSuggestionOnEnter,t.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:Xe(e.acceptSuggestionOnCommitCharacter,t.acceptSuggestionOnCommitCharacter),wordBasedSuggestions:Xe(e.wordBasedSuggestions,t.wordBasedSuggestions),suggestSelection:ii(e.suggestSelection,t.suggestSelection,["first","recentlyUsed","recentlyUsedByPrefix"]),suggestFontSize:Cr(e.suggestFontSize,t.suggestFontSize,0,1e3),suggestLineHeight:Cr(e.suggestLineHeight,t.suggestLineHeight,0,1e3),tabCompletion:this._sanitizeTabCompletionOpts(e.tabCompletion,t.tabCompletion),suggest:this._sanitizeSuggestOpts(e,t.suggest),gotoLocation:this._sanitizeGotoLocationOpts(e,t.gotoLocation),selectionHighlight:Xe(e.selectionHighlight,t.selectionHighlight),occurrencesHighlight:Xe(e.occurrencesHighlight,t.occurrencesHighlight),codeLens:Xe(e.codeLens,t.codeLens),folding:Xe(e.folding,t.folding),foldingStrategy:ii(e.foldingStrategy,t.foldingStrategy,["auto","indentation"]),showFoldingControls:ii(e.showFoldingControls,t.showFoldingControls,["always","mouseover"]),matchBrackets:Xe(e.matchBrackets,t.matchBrackets),find:i,colorDecorators:Xe(e.colorDecorators,t.colorDecorators),lightbulbEnabled:Xe(e.lightbulb?e.lightbulb.enabled:!1,t.lightbulbEnabled),codeActionsOnSave:XTe(e.codeActionsOnSave,{}),codeActionsOnSaveTimeout:Cr(e.codeActionsOnSaveTimeout,t.codeActionsOnSaveTimeout,1,1e4)}},n}(),JTe=function(){function n(){}return n._tweakValidatedOptions=function(e,t){var r=t===1;return{inDiffEditor:e.inDiffEditor,wordSeparators:e.wordSeparators,lineNumbersMinChars:e.lineNumbersMinChars,lineDecorationsWidth:e.lineDecorationsWidth,readOnly:e.readOnly,mouseStyle:e.mouseStyle,disableLayerHinting:e.disableLayerHinting,automaticLayout:e.automaticLayout,wordWrap:e.wordWrap,wordWrapColumn:e.wordWrapColumn,wordWrapMinified:e.wordWrapMinified,wrappingIndent:e.wrappingIndent,wordWrapBreakBeforeCharacters:e.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:e.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:e.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:e.autoClosingBrackets,autoClosingQuotes:e.autoClosingQuotes,autoClosingOvertype:e.autoClosingOvertype,autoSurround:e.autoSurround,autoIndent:e.autoIndent,dragAndDrop:e.dragAndDrop,emptySelectionClipboard:e.emptySelectionClipboard,copyWithSyntaxHighlighting:e.copyWithSyntaxHighlighting,useTabStops:e.useTabStops,multiCursorModifier:e.multiCursorModifier,multiCursorMergeOverlapping:e.multiCursorMergeOverlapping,accessibilitySupport:e.accessibilitySupport,showUnused:e.showUnused,viewInfo:{extraEditorClassName:e.viewInfo.extraEditorClassName,disableMonospaceOptimizations:e.viewInfo.disableMonospaceOptimizations,rulers:e.viewInfo.rulers,ariaLabel:r?D("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.viewInfo.ariaLabel,renderLineNumbers:e.viewInfo.renderLineNumbers,renderCustomLineNumbers:e.viewInfo.renderCustomLineNumbers,cursorSurroundingLines:e.viewInfo.cursorSurroundingLines,renderFinalNewline:e.viewInfo.renderFinalNewline,selectOnLineNumbers:e.viewInfo.selectOnLineNumbers,glyphMargin:e.viewInfo.glyphMargin,revealHorizontalRightPadding:e.viewInfo.revealHorizontalRightPadding,roundedSelection:e.viewInfo.roundedSelection,overviewRulerLanes:e.viewInfo.overviewRulerLanes,overviewRulerBorder:e.viewInfo.overviewRulerBorder,cursorBlinking:e.viewInfo.cursorBlinking,mouseWheelZoom:e.viewInfo.mouseWheelZoom,cursorSmoothCaretAnimation:e.viewInfo.cursorSmoothCaretAnimation,cursorStyle:e.viewInfo.cursorStyle,cursorWidth:e.viewInfo.cursorWidth,hideCursorInOverviewRuler:e.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:e.viewInfo.scrollBeyondLastLine,scrollBeyondLastColumn:e.viewInfo.scrollBeyondLastColumn,smoothScrolling:e.viewInfo.smoothScrolling,stopRenderingLineAfter:e.viewInfo.stopRenderingLineAfter,renderWhitespace:e.viewInfo.renderWhitespace,renderControlCharacters:e.viewInfo.renderControlCharacters,fontLigatures:e.viewInfo.fontLigatures,renderIndentGuides:e.viewInfo.renderIndentGuides,highlightActiveIndentGuide:e.viewInfo.highlightActiveIndentGuide,renderLineHighlight:e.viewInfo.renderLineHighlight,scrollbar:e.viewInfo.scrollbar,minimap:{enabled:e.viewInfo.minimap.enabled,side:e.viewInfo.minimap.side,renderCharacters:e.viewInfo.minimap.renderCharacters,showSlider:e.viewInfo.minimap.showSlider,maxColumn:e.viewInfo.minimap.maxColumn},fixedOverflowWidgets:e.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:e.contribInfo.selectionClipboard,hover:e.contribInfo.hover,links:e.contribInfo.links,contextmenu:e.contribInfo.contextmenu,quickSuggestions:e.contribInfo.quickSuggestions,quickSuggestionsDelay:e.contribInfo.quickSuggestionsDelay,parameterHints:e.contribInfo.parameterHints,formatOnType:e.contribInfo.formatOnType,formatOnPaste:e.contribInfo.formatOnPaste,suggestOnTriggerCharacters:e.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:e.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:e.contribInfo.acceptSuggestionOnCommitCharacter,wordBasedSuggestions:e.contribInfo.wordBasedSuggestions,suggestSelection:e.contribInfo.suggestSelection,suggestFontSize:e.contribInfo.suggestFontSize,suggestLineHeight:e.contribInfo.suggestLineHeight,tabCompletion:e.contribInfo.tabCompletion,suggest:e.contribInfo.suggest,gotoLocation:e.contribInfo.gotoLocation,selectionHighlight:e.contribInfo.selectionHighlight,occurrencesHighlight:e.contribInfo.occurrencesHighlight,codeLens:e.contribInfo.codeLens,folding:e.contribInfo.folding,foldingStrategy:e.contribInfo.foldingStrategy,showFoldingControls:e.contribInfo.showFoldingControls,matchBrackets:e.contribInfo.matchBrackets,find:e.contribInfo.find,colorDecorators:e.contribInfo.colorDecorators,lightbulbEnabled:e.contribInfo.lightbulbEnabled,codeActionsOnSave:e.contribInfo.codeActionsOnSave,codeActionsOnSaveTimeout:e.contribInfo.codeActionsOnSaveTimeout}}},n.createInternalEditorOptions=function(e,t){var r;t.accessibilitySupport==="auto"?r=e.accessibilitySupport:t.accessibilitySupport==="on"?r=2:r=1;var i=this._tweakValidatedOptions(t,r),o;if(typeof i.lineDecorationsWidth=="string"&&/^\d+(\.\d+)?ch$/.test(i.lineDecorationsWidth)){var s=parseFloat(i.lineDecorationsWidth.substr(0,i.lineDecorationsWidth.length-2));o=s*e.fontInfo.typicalHalfwidthCharacterWidth}else o=Cr(i.lineDecorationsWidth,0,0,1e3);i.contribInfo.folding&&(o+=16);var a=eDe.compute({outerWidth:e.outerWidth,outerHeight:e.outerHeight,showGlyphMargin:i.viewInfo.glyphMargin,lineHeight:e.fontInfo.lineHeight,showLineNumbers:i.viewInfo.renderLineNumbers!==0,lineNumbersMinChars:i.lineNumbersMinChars,lineNumbersDigitCount:e.lineNumbersDigitCount,lineDecorationsWidth:o,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,verticalScrollbarWidth:i.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:i.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:i.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:i.viewInfo.scrollbar.verticalHasArrows,minimap:i.viewInfo.minimap.enabled,minimapSide:i.viewInfo.minimap.side,minimapRenderCharacters:i.viewInfo.minimap.renderCharacters,minimapMaxColumn:i.viewInfo.minimap.maxColumn,pixelRatio:e.pixelRatio}),u=null;{var l=i.wordWrap,c=i.wordWrapColumn,h=i.wordWrapMinified;r===2?u={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:h&&e.isDominatedByLongLines?u={isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,a.viewportColumn)}:l==="on"?u={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,a.viewportColumn)}:l==="bounded"?u={isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,a.viewportColumn),c)}:l==="wordWrapColumn"?u={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:c}:u={isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}}var d={inDiffEditor:i.inDiffEditor,isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:u.isWordWrapMinified,isViewportWrapping:u.isViewportWrapping,wrappingColumn:u.wrappingColumn,wrappingIndent:i.wrappingIndent,wordWrapBreakBeforeCharacters:i.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:i.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:i.wordWrapBreakObtrusiveCharacters},p="monaco-editor";return i.viewInfo.extraEditorClassName&&(p+=" "+i.viewInfo.extraEditorClassName),e.extraEditorClassName&&(p+=" "+e.extraEditorClassName),i.viewInfo.fontLigatures&&(p+=" enable-ligatures"),i.mouseStyle==="default"?p+=" mouse-default":i.mouseStyle==="copy"&&(p+=" mouse-copy"),new GJ({canUseLayerHinting:!i.disableLayerHinting,pixelRatio:e.pixelRatio,editorClassName:p,lineHeight:e.fontInfo.lineHeight,readOnly:i.readOnly,accessibilitySupport:r,multiCursorModifier:i.multiCursorModifier,multiCursorMergeOverlapping:i.multiCursorMergeOverlapping,wordSeparators:i.wordSeparators,autoClosingBrackets:i.autoClosingBrackets,autoClosingQuotes:i.autoClosingQuotes,autoClosingOvertype:i.autoClosingOvertype,autoSurround:i.autoSurround,autoIndent:i.autoIndent,useTabStops:i.useTabStops,tabFocusMode:i.readOnly?!0:e.tabFocusMode,dragAndDrop:i.dragAndDrop,emptySelectionClipboard:i.emptySelectionClipboard&&e.emptySelectionClipboard,copyWithSyntaxHighlighting:i.copyWithSyntaxHighlighting,layoutInfo:a,fontInfo:e.fontInfo,viewInfo:i.viewInfo,wrappingInfo:d,contribInfo:i.contribInfo,showUnused:i.showUnused})},n}(),eDe=function(){function n(){}return n.compute=function(e){var t=e.outerWidth|0,r=e.outerHeight|0,i=e.showGlyphMargin,o=e.lineHeight|0,s=e.showLineNumbers,a=e.lineNumbersMinChars|0,u=e.lineNumbersDigitCount|0,l=e.lineDecorationsWidth|0,c=e.typicalHalfwidthCharacterWidth,h=e.maxDigitWidth,d=e.verticalScrollbarWidth|0,p=e.verticalScrollbarHasArrows,v=e.scrollbarArrowSize|0,m=e.horizontalScrollbarHeight|0,_=e.minimap,b=e.minimapSide,C=e.minimapRenderCharacters,E=e.minimapMaxColumn|0,S=e.pixelRatio,A=0;if(s){var T=Math.max(u,a);A=Math.round(T*h)}var N=0;i&&(N=o);var k=0,F=k+N,L=F+A,O=L+l,P=t-N-A-l,B,U,$,te;if(!_)U=0,$=0,B=0,te=P;else{var ne=void 0;S>=2?(B=C?2:4,ne=2/S):(B=C?1:3,ne=1/S),$=Math.max(0,Math.floor((P-d-2)*ne/(c+ne)));var ie=$/ne;ie>E&&($=Math.floor(E*ne)),te=P-$,b==="left"?(U=0,k+=$,F+=$,L+=$,O+=$):U=t-$-d}var pe=Math.max(1,Math.floor((te-d-2)/c)),ke=p?v:0;return{width:t,height:r,glyphMarginLeft:k,glyphMarginWidth:N,glyphMarginHeight:r,lineNumbersLeft:F,lineNumbersWidth:A,lineNumbersHeight:r,decorationsLeft:L,decorationsWidth:l,decorationsHeight:r,contentLeft:O,contentWidth:te,contentHeight:r,renderMinimap:B,minimapLeft:U,minimapWidth:$,viewportColumn:pe,verticalScrollbarWidth:d,horizontalScrollbarHeight:m,overviewRuler:{top:ke,width:d,height:r-2*ke,right:0}}},n}(),tDe="Consolas, 'Courier New', monospace",nDe="Menlo, Monaco, 'Courier New', monospace",rDe="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",sp={fontFamily:Tt?nDe:Xc?rDe:tDe,fontWeight:"normal",fontSize:Tt?12:14,lineHeight:0,letterSpacing:0},pu={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},Ul={inDiffEditor:!1,wordSeparators:qJ,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:1,wordWrapBreakBeforeCharacters:"([{+",wordWrapBreakAfterCharacters:" 	})]?|/&,;",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",autoClosingOvertype:"auto",autoSurround:"languageDefined",autoIndent:!0,dragAndDrop:!0,emptySelectionClipboard:!0,copyWithSyntaxHighlighting:!0,useTabStops:!0,multiCursorModifier:"altKey",multiCursorMergeOverlapping:!0,accessibilitySupport:"auto",showUnused:!0,viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:D("editorViewAccessibleLabel","Editor content"),renderLineNumbers:1,renderCustomLineNumbers:null,cursorSurroundingLines:0,renderFinalNewline:!0,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:1,mouseWheelZoom:!1,cursorSmoothCaretAnimation:!1,cursorStyle:Hn.Line,cursorWidth:0,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,scrollBeyondLastColumn:5,smoothScrolling:!1,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,highlightActiveIndentGuide:!0,renderLineHighlight:"line",scrollbar:{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1,fastScrollSensitivity:5},minimap:{enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:{enabled:!0,delay:300,sticky:!0},links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:{enabled:!0,cycle:!1},formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,wordBasedSuggestions:!0,suggestSelection:"recentlyUsed",suggestFontSize:0,suggestLineHeight:0,tabCompletion:"off",suggest:{filterGraceful:!0,snippets:"inline",snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,filteredTypes:Object.create(null)},gotoLocation:{multiple:"peek"},selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,foldingStrategy:"auto",showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1,globalFindClipboard:!1,addExtraSpaceOnTop:!0},colorDecorators:!0,lightbulbEnabled:!0,codeActionsOnSave:{},codeActionsOnSaveTimeout:750}};/*!
Copyright (c) 2014 Taylor Hakes
Copyright (c) 2014 Forbes Lindesay
 */(function(n,e){(function(t,r){r()})(ue,function(){function t(v){var m=this.constructor;return this.then(function(_){return m.resolve(v()).then(function(){return _})},function(_){return m.resolve(v()).then(function(){return m.reject(_)})})}var r=setTimeout;function i(){}function o(v,m){return function(){v.apply(m,arguments)}}function s(v){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if(typeof v!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(v,this)}function a(v,m){for(;v._state===3;)v=v._value;if(v._state===0){v._deferreds.push(m);return}v._handled=!0,s._immediateFn(function(){var _=v._state===1?m.onFulfilled:m.onRejected;if(_===null){(v._state===1?u:l)(m.promise,v._value);return}var b;try{b=_(v._value)}catch(C){l(m.promise,C);return}u(m.promise,b)})}function u(v,m){try{if(m===v)throw new TypeError("A promise cannot be resolved with itself.");if(m&&(typeof m=="object"||typeof m=="function")){var _=m.then;if(m instanceof s){v._state=3,v._value=m,c(v);return}else if(typeof _=="function"){d(o(_,m),v);return}}v._state=1,v._value=m,c(v)}catch(b){l(v,b)}}function l(v,m){v._state=2,v._value=m,c(v)}function c(v){v._state===2&&v._deferreds.length===0&&s._immediateFn(function(){v._handled||s._unhandledRejectionFn(v._value)});for(var m=0,_=v._deferreds.length;m<_;m++)a(v,v._deferreds[m]);v._deferreds=null}function h(v,m,_){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof m=="function"?m:null,this.promise=_}function d(v,m){var _=!1;try{v(function(b){_||(_=!0,u(m,b))},function(b){_||(_=!0,l(m,b))})}catch(b){if(_)return;_=!0,l(m,b)}}s.prototype.catch=function(v){return this.then(null,v)},s.prototype.then=function(v,m){var _=new this.constructor(i);return a(this,new h(v,m,_)),_},s.prototype.finally=t,s.all=function(v){return new s(function(m,_){if(!v||typeof v.length>"u")throw new TypeError("Promise.all accepts an array");var b=Array.prototype.slice.call(v);if(b.length===0)return m([]);var C=b.length;function E(A,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var N=T.then;if(typeof N=="function"){N.call(T,function(k){E(A,k)},_);return}}b[A]=T,--C===0&&m(b)}catch(k){_(k)}}for(var S=0;S<b.length;S++)E(S,b[S])})},s.resolve=function(v){return v&&typeof v=="object"&&v.constructor===s?v:new s(function(m){m(v)})},s.reject=function(v){return new s(function(m,_){_(v)})},s.race=function(v){return new s(function(m,_){for(var b=0,C=v.length;b<C;b++)v[b].then(m,_)})},s._immediateFn=typeof setImmediate=="function"&&function(v){setImmediate(v)}||function(v){r(v,0)},s._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)};var p=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ue<"u")return ue;throw new Error("unable to locate global object")}();"Promise"in p?p.Promise.prototype.finally||(p.Promise.prototype.finally=t):p.Promise=s})})();var iDe=function(){function n(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}return n.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},n.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},n.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},n}(),$J=new iDe;function He(n){cC(n)||$J.onUnexpectedError(n)}function Oo(n){cC(n)||$J.onUnexpectedExternalError(n)}function Fj(n){if(n instanceof Error){var e=n.name,t=n.message,r=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:r}}return n}var MP="Canceled";function cC(n){return n instanceof Error&&n.name===MP&&n.message===MP}function fC(){var n=new Error(MP);return n.name=n.message,n}function Br(n){return n?new Error("Illegal argument: "+n):new Error("Illegal argument")}function oDe(n){return new Error("Illegal state: "+n)}function KJ(n){var e=this,t=!1,r;return function(){return t||(t=!0,r=n.apply(e,arguments)),r}}function sDe(n){}function r2(n){return typeof n.dispose=="function"&&n.dispose.length===0}function nt(n){return Array.isArray(n)?(n.forEach(function(e){e&&e.dispose()}),[]):n?(n.dispose(),n):void 0}function gl(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.forEach(sDe),{dispose:function(){return nt(n)}}}function bn(n){var e={dispose:function(){n()}};return e}var Be=function(){function n(){this._toDispose=new Set,this._isDisposed=!1}return n.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.clear())},n.prototype.clear=function(){this._toDispose.forEach(function(e){return e.dispose()}),this._toDispose.clear()},n.prototype.add=function(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e},n}(),he=function(){function n(){this._store=new Be}return n.prototype.dispose=function(){this._store.dispose()},n.prototype._register=function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)},n.None=Object.freeze({dispose:function(){}}),n}(),Mh=function(){function n(){this._isDisposed=!1}return Object.defineProperty(n.prototype,"value",{get:function(){return this._isDisposed?void 0:this._value},set:function(e){this._isDisposed||e===this._value||(this._value&&this._value.dispose(),this._value=e)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.value=void 0},n.prototype.dispose=function(){this._isDisposed=!0,this._value&&this._value.dispose(),this._value=void 0},n}(),aDe=function(){function n(e){this.object=e}return n.prototype.dispose=function(){},n}(),uDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nf={done:!0,value:void 0},ui;(function(n){var e={next:function(){return Nf}};function t(){return e}n.empty=t;function r(h){var d=!1;return{next:function(){return d?Nf:(d=!0,{done:!1,value:h})}}}n.single=r;function i(h,d,p){return d===void 0&&(d=0),p===void 0&&(p=h.length),{next:function(){return d>=p?Nf:{done:!1,value:h[d++]}}}}n.fromArray=i;function o(h){return h?Array.isArray(h)?n.fromArray(h):h:n.empty()}n.from=o;function s(h,d){return{next:function(){var p=h.next();return p.done?Nf:{done:!1,value:d(p.value)}}}}n.map=s;function a(h,d){return{next:function(){for(;;){var p=h.next();if(p.done)return Nf;if(d(p.value))return{done:!1,value:p.value}}}}}n.filter=a;function u(h,d){for(var p=h.next();!p.done;p=h.next())d(p.value)}n.forEach=u;function l(h,d){d===void 0&&(d=Number.POSITIVE_INFINITY);var p=[];if(d===0)return p;for(var v=0,m=h.next();!m.done&&(p.push(m.value),!(++v>=d));m=h.next());return p}n.collect=l;function c(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var p=0;return{next:function(){if(p>=h.length)return Nf;var v=h[p],m=v.next();return m.done?(p++,this.next()):m}}}n.concat=c})(ui||(ui={}));function lDe(n){return Array.isArray(n)?ui.fromArray(n):n}var Vv=function(){function n(e,t,r,i){t===void 0&&(t=0),r===void 0&&(r=e.length),i===void 0&&(i=t-1),this.items=e,this.start=t,this.end=r,this.index=i}return n.prototype.first=function(){return this.index=this.start,this.current()},n.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},n.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},n}(),cDe=function(n){uDe(e,n);function e(t,r,i,o){return r===void 0&&(r=0),i===void 0&&(i=t.length),o===void 0&&(o=r-1),n.call(this,t,r,i,o)||this}return e.prototype.current=function(){return n.prototype.current.call(this)},e.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},e.prototype.first=function(){return this.index=this.start,this.current()},e.prototype.last=function(){return this.index=this.end-1,this.current()},e.prototype.parent=function(){return null},e}(Vv),Bj=function(){function n(e,t){this.iterator=e,this.fn=t}return n.prototype.next=function(){return this.fn(this.iterator.next())},n}(),Lr=function(){function n(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}return n.Undefined=new n(void 0),n}(),Mc=function(){function n(){this._first=Lr.Undefined,this._last=Lr.Undefined,this._size=0}return Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.isEmpty=function(){return this._first===Lr.Undefined},n.prototype.clear=function(){this._first=Lr.Undefined,this._last=Lr.Undefined,this._size=0},n.prototype.unshift=function(e){return this._insert(e,!1)},n.prototype.push=function(e){return this._insert(e,!0)},n.prototype._insert=function(e,t){var r=this,i=new Lr(e);if(this._first===Lr.Undefined)this._first=i,this._last=i;else if(t){var o=this._last;this._last=i,i.prev=o,o.next=i}else{var s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;var a=!1;return function(){a||(a=!0,r._remove(i))}},n.prototype.shift=function(){if(this._first!==Lr.Undefined){var e=this._first.element;return this._remove(this._first),e}},n.prototype.pop=function(){if(this._last!==Lr.Undefined){var e=this._last.element;return this._remove(this._last),e}},n.prototype._remove=function(e){if(e.prev!==Lr.Undefined&&e.next!==Lr.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Lr.Undefined&&e.next===Lr.Undefined?(this._first=Lr.Undefined,this._last=Lr.Undefined):e.next===Lr.Undefined?(this._last=this._last.prev,this._last.next=Lr.Undefined):e.prev===Lr.Undefined&&(this._first=this._first.next,this._first.prev=Lr.Undefined);this._size-=1},n.prototype.iterator=function(){var e,t=this._first;return{next:function(){return t===Lr.Undefined?Nf:(e?e.value=t.element:e={done:!1,value:t.element},t=t.next,e)}}},n.prototype.toArray=function(){for(var e=[],t=this._first;t!==Lr.Undefined;t=t.next)e.push(t.element);return e},n}(),fDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ze;(function(n){n.None=function(){return he.None};function e(E){return function(S,A,T){A===void 0&&(A=null);var N=!1,k;return k=E(function(F){if(!N)return k?k.dispose():N=!0,S.call(A,F)},null,T),N&&k.dispose(),k}}n.once=e;function t(E,S){return u(function(A,T,N){return T===void 0&&(T=null),E(function(k){return A.call(T,S(k))},null,N)})}n.map=t;function r(E,S){return u(function(A,T,N){return T===void 0&&(T=null),E(function(k){S(k),A.call(T,k)},null,N)})}n.forEach=r;function i(E,S){return u(function(A,T,N){return T===void 0&&(T=null),E(function(k){return S(k)&&A.call(T,k)},null,N)})}n.filter=i;function o(E){return E}n.signal=o;function s(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];return function(A,T,N){return T===void 0&&(T=null),gl.apply(void 0,E.map(function(k){return k(function(F){return A.call(T,F)},null,N)}))}}n.any=s;function a(E,S,A){var T=A;return t(E,function(N){return T=S(T,N),T})}n.reduce=a;function u(E){var S,A=new Q({onFirstListenerAdd:function(){S=E(A.fire,A)},onLastListenerRemove:function(){S.dispose()}});return A.event}n.snapshot=u;function l(E,S,A,T,N){A===void 0&&(A=100),T===void 0&&(T=!1);var k,F=void 0,L=void 0,O=0,P=new Q({leakWarningThreshold:N,onFirstListenerAdd:function(){k=E(function(B){O++,F=S(F,B),T&&!L&&P.fire(F),clearTimeout(L),L=setTimeout(function(){var U=F;F=void 0,L=void 0,(!T||O>1)&&P.fire(U),O=0},A)})},onLastListenerRemove:function(){k.dispose()}});return P.event}n.debounce=l;function c(E){var S=new Date().getTime();return t(e(E),function(A){return new Date().getTime()-S})}n.stopwatch=c;function h(E){var S=!0,A;return i(E,function(T){var N=S||T!==A;return S=!1,A=T,N})}n.latch=h;function d(E,S,A){S===void 0&&(S=!1),A===void 0&&(A=[]);var T=A.slice(),N=E(function(L){T?T.push(L):F.fire(L)}),k=function(){T&&T.forEach(function(L){return F.fire(L)}),T=null},F=new Q({onFirstListenerAdd:function(){N||(N=E(function(L){return F.fire(L)}))},onFirstListenerDidAdd:function(){T&&(S?setTimeout(k):k())},onLastListenerRemove:function(){N&&N.dispose(),N=null}});return F.event}n.buffer=d;var p=function(){function E(S){this.event=S}return E.prototype.map=function(S){return new E(t(this.event,S))},E.prototype.forEach=function(S){return new E(r(this.event,S))},E.prototype.filter=function(S){return new E(i(this.event,S))},E.prototype.reduce=function(S,A){return new E(a(this.event,S,A))},E.prototype.latch=function(){return new E(h(this.event))},E.prototype.on=function(S,A,T){return this.event(S,A,T)},E.prototype.once=function(S,A,T){return e(this.event)(S,A,T)},E}();function v(E){return new p(E)}n.chain=v;function m(E,S,A){A===void 0&&(A=function(L){return L});var T=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];return F.fire(A.apply(void 0,L))},N=function(){return E.on(S,T)},k=function(){return E.removeListener(S,T)},F=new Q({onFirstListenerAdd:N,onLastListenerRemove:k});return F.event}n.fromNodeEventEmitter=m;function _(E,S,A){A===void 0&&(A=function(L){return L});var T=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];return F.fire(A.apply(void 0,L))},N=function(){return E.addEventListener(S,T)},k=function(){return E.removeEventListener(S,T)},F=new Q({onFirstListenerAdd:N,onLastListenerRemove:k});return F.event}n.fromDOMEventEmitter=_;function b(E){var S=new Q,A=!1;return E.then(void 0,function(){return null}).then(function(){A?S.fire(void 0):setTimeout(function(){return S.fire(void 0)},0)}),A=!0,S.event}n.fromPromise=b;function C(E){return new Promise(function(S){return e(E)(S)})}n.toPromise=C})(Ze||(Ze={}));var Q=function(){function n(e){this._disposed=!1,this._options=e,this._leakageMon=void 0}return Object.defineProperty(n.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t,r,i){e._listeners||(e._listeners=new Mc);var o=e._listeners.isEmpty();o&&e._options&&e._options.onFirstListenerAdd&&e._options.onFirstListenerAdd(e);var s=e._listeners.push(r?[t,r]:t);o&&e._options&&e._options.onFirstListenerDidAdd&&e._options.onFirstListenerDidAdd(e),e._options&&e._options.onListenerDidAdd&&e._options.onListenerDidAdd(e,t,r);var a;e._leakageMon&&(a=e._leakageMon.check(e._listeners.size));var u;return u={dispose:function(){if(a&&a(),u.dispose=n._noop,!e._disposed&&(s(),e._options&&e._options.onLastListenerRemove)){var l=e._listeners&&!e._listeners.isEmpty();l||e._options.onLastListenerRemove(e)}}},i instanceof Be?i.add(u):Array.isArray(i)&&i.push(u),u}),this._event},enumerable:!0,configurable:!0}),n.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Mc);for(var t=this._listeners.iterator(),r=t.next();!r.done;r=t.next())this._deliveryQueue.push([r.value,e]);for(;this._deliveryQueue.size>0;){var i=this._deliveryQueue.shift(),o=i[0],s=i[1];try{typeof o=="function"?o.call(void 0,s):o[0].call(o[1],s)}catch(a){He(a)}}}},n.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0},n._noop=function(){},n}(),hDe=function(n){fDe(e,n);function e(t){var r=n.call(this,t)||this;return r._isPaused=0,r._eventQueue=new Mc,r._mergeFn=t&&t.merge,r}return e.prototype.pause=function(){this._isPaused++},e.prototype.resume=function(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){var t=this._eventQueue.toArray();this._eventQueue.clear(),n.prototype.fire.call(this,this._mergeFn(t))}else for(;!this._isPaused&&this._eventQueue.size!==0;)n.prototype.fire.call(this,this._eventQueue.shift())},e.prototype.fire=function(t){this._listeners&&(this._isPaused!==0?this._eventQueue.push(t):n.prototype.fire.call(this,t))},e}(Q),nu=function(){function n(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new Q({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}return Object.defineProperty(n.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),n.prototype.add=function(e){var t=this,r={event:e,listener:null};this.events.push(r),this.hasListeners&&this.hook(r);var i=function(){t.hasListeners&&t.unhook(r);var o=t.events.indexOf(r);t.events.splice(o,1)};return bn(KJ(i))},n.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},n.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},n.prototype.hook=function(e){var t=this;e.listener=e.event(function(r){return t.emitter.fire(r)})},n.prototype.unhook=function(e){e.listener&&e.listener.dispose(),e.listener=null},n.prototype.dispose=function(){this.emitter.dispose()},n}(),l6=function(){function n(){this.buffers=[]}return n.prototype.wrapEvent=function(e){var t=this;return function(r,i,o){return e(function(s){var a=t.buffers[t.buffers.length-1];a?a.push(function(){return r.call(i,s)}):r.call(i,s)},void 0,o)}},n.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t);var r=e();return this.buffers.pop(),t.forEach(function(i){return i()}),r},n}(),Ti=function(){function n(){var e=this;this.listening=!1,this.inputEvent=Ze.None,this.inputEventListener=he.None,this.emitter=new Q({onFirstListenerDidAdd:function(){e.listening=!0,e.inputEventListener=e.inputEvent(e.emitter.fire,e.emitter)},onLastListenerRemove:function(){e.listening=!1,e.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object.defineProperty(n.prototype,"input",{set:function(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},n}(),YJ=Object.freeze(function(n,e){var t=setTimeout(n.bind(e),0);return{dispose:function(){clearTimeout(t)}}}),rn;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof LS?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ze.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:YJ})})(rn||(rn={}));var LS=function(){function n(){this._isCancelled=!1,this._emitter=null}return n.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(n.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?YJ:(this._emitter||(this._emitter=new Q),this._emitter.event)},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},n}(),Hp=function(){function n(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}return Object.defineProperty(n.prototype,"token",{get:function(){return this._token||(this._token=new LS),this._token},enumerable:!0,configurable:!0}),n.prototype.cancel=function(){this._token?this._token instanceof LS&&this._token.cancel():this._token=rn.Cancelled},n.prototype.dispose=function(){this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof LS&&this._token.dispose():this._token=rn.None},n}(),c6=function(){function n(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return n.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},n.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},n.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},n}(),FP=new c6,BP=new c6,HP=new c6;(function(){function n(e,t,r,i){r===void 0&&(r=t),i===void 0&&(i=r),FP.define(e,t),BP.define(e,r),HP.define(e,i)}n(0,"unknown"),n(1,"Backspace"),n(2,"Tab"),n(3,"Enter"),n(4,"Shift"),n(5,"Ctrl"),n(6,"Alt"),n(7,"PauseBreak"),n(8,"CapsLock"),n(9,"Escape"),n(10,"Space"),n(11,"PageUp"),n(12,"PageDown"),n(13,"End"),n(14,"Home"),n(15,"LeftArrow","Left"),n(16,"UpArrow","Up"),n(17,"RightArrow","Right"),n(18,"DownArrow","Down"),n(19,"Insert"),n(20,"Delete"),n(21,"0"),n(22,"1"),n(23,"2"),n(24,"3"),n(25,"4"),n(26,"5"),n(27,"6"),n(28,"7"),n(29,"8"),n(30,"9"),n(31,"A"),n(32,"B"),n(33,"C"),n(34,"D"),n(35,"E"),n(36,"F"),n(37,"G"),n(38,"H"),n(39,"I"),n(40,"J"),n(41,"K"),n(42,"L"),n(43,"M"),n(44,"N"),n(45,"O"),n(46,"P"),n(47,"Q"),n(48,"R"),n(49,"S"),n(50,"T"),n(51,"U"),n(52,"V"),n(53,"W"),n(54,"X"),n(55,"Y"),n(56,"Z"),n(57,"Meta"),n(58,"ContextMenu"),n(59,"F1"),n(60,"F2"),n(61,"F3"),n(62,"F4"),n(63,"F5"),n(64,"F6"),n(65,"F7"),n(66,"F8"),n(67,"F9"),n(68,"F10"),n(69,"F11"),n(70,"F12"),n(71,"F13"),n(72,"F14"),n(73,"F15"),n(74,"F16"),n(75,"F17"),n(76,"F18"),n(77,"F19"),n(78,"NumLock"),n(79,"ScrollLock"),n(80,";",";","OEM_1"),n(81,"=","=","OEM_PLUS"),n(82,",",",","OEM_COMMA"),n(83,"-","-","OEM_MINUS"),n(84,".",".","OEM_PERIOD"),n(85,"/","/","OEM_2"),n(86,"`","`","OEM_3"),n(110,"ABNT_C1"),n(111,"ABNT_C2"),n(87,"[","[","OEM_4"),n(88,"\\","\\","OEM_5"),n(89,"]","]","OEM_6"),n(90,"'","'","OEM_7"),n(91,"OEM_8"),n(92,"OEM_102"),n(93,"NumPad0"),n(94,"NumPad1"),n(95,"NumPad2"),n(96,"NumPad3"),n(97,"NumPad4"),n(98,"NumPad5"),n(99,"NumPad6"),n(100,"NumPad7"),n(101,"NumPad8"),n(102,"NumPad9"),n(103,"NumPad_Multiply"),n(104,"NumPad_Add"),n(105,"NumPad_Separator"),n(106,"NumPad_Subtract"),n(107,"NumPad_Decimal"),n(108,"NumPad_Divide")})();var lm;(function(n){function e(s){return FP.keyCodeToStr(s)}n.toString=e;function t(s){return FP.strToKeyCode(s)}n.fromString=t;function r(s){return BP.keyCodeToStr(s)}n.toUserSettingsUS=r;function i(s){return HP.keyCodeToStr(s)}n.toUserSettingsGeneral=i;function o(s){return BP.strToKeyCode(s)||HP.strToKeyCode(s)}n.fromUserSettings=o})(lm||(lm={}));function ko(n,e){var t=(e&65535)<<16>>>0;return(n|t)>>>0}function xT(n,e){if(n===0)return null;var t=(n&65535)>>>0,r=(n&4294901760)>>>16;return r!==0?new VP([EO(t,e),EO(r,e)]):new VP([EO(t,e)])}function EO(n,e){var t=!!(n&2048),r=!!(n&256),i=e===2?r:t,o=!!(n&1024),s=!!(n&512),a=e===2?t:r,u=n&255;return new f6(i,o,s,a,u)}var f6=function(){function n(e,t,r,i,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=i,this.keyCode=o}return n.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode},n.prototype.isModifierKey=function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4},n.prototype.toChord=function(){return new VP([this])},n.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57},n}(),VP=function(){function n(e){if(e.length===0)throw Br("parts");this.parts=e}return n.prototype.equals=function(e){if(e===null||this.parts.length!==e.parts.length)return!1;for(var t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0},n}(),dDe=function(){function n(e,t,r,i,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=i,this.keyLabel=o,this.keyAriaLabel=s}return n}(),pDe=function(){function n(){}return n}(),gDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nr,vDe=/^\w[\w\d+.-]*$/,mDe=/^\//,_De=/^\/\//,XJ=!0;function yDe(n,e){if(!n.scheme){if(e||XJ)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+n.authority+'", path: "'+n.path+'", query: "'+n.query+'", fragment: "'+n.fragment+'"}');console.warn('[UriError]: Scheme is missing: {scheme: "", authority: "'+n.authority+'", path: "'+n.path+'", query: "'+n.query+'", fragment: "'+n.fragment+'"}')}if(n.scheme&&!vDe.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!mDe.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_De.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function bDe(n,e){return e||XJ?n||Bn:(n||(console.trace("BAD uri lacks scheme, falling back to file-scheme."),n="file"),n)}function CDe(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==fu&&(e=fu+e):e=fu;break}return e}var Bn="",fu="/",wDe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ft=function(){function n(e,t,r,i,o,s){s===void 0&&(s=!1),typeof e=="object"?(this.scheme=e.scheme||Bn,this.authority=e.authority||Bn,this.path=e.path||Bn,this.query=e.query||Bn,this.fragment=e.fragment||Bn):(this.scheme=bDe(e,s),this.authority=t||Bn,this.path=CDe(this.scheme,r||Bn),this.query=i||Bn,this.fragment=o||Bn,yDe(this,s))}return n.isUri=function(e){return e instanceof n?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="function"&&typeof e.with=="function"&&typeof e.toString=="function":!1},Object.defineProperty(n.prototype,"fsPath",{get:function(){return JJ(this)},enumerable:!0,configurable:!0}),n.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,i=e.path,o=e.query,s=e.fragment;return t===void 0?t=this.scheme:t===null&&(t=Bn),r===void 0?r=this.authority:r===null&&(r=Bn),i===void 0?i=this.path:i===null&&(i=Bn),o===void 0?o=this.query:o===null&&(o=Bn),s===void 0?s=this.fragment:s===null&&(s=Bn),t===this.scheme&&r===this.authority&&i===this.path&&o===this.query&&s===this.fragment?this:new uv(t,r,i,o,s)},n.parse=function(e,t){t===void 0&&(t=!1);var r=wDe.exec(e);return r?new uv(r[2]||Bn,decodeURIComponent(r[4]||Bn),decodeURIComponent(r[5]||Bn),decodeURIComponent(r[7]||Bn),decodeURIComponent(r[9]||Bn),t):new uv(Bn,Bn,Bn,Bn,Bn)},n.file=function(e){var t=Bn;if(xo&&(e=e.replace(/\\/g,fu)),e[0]===fu&&e[1]===fu){var r=e.indexOf(fu,2);r===-1?(t=e.substring(2),e=fu):(t=e.substring(2,r),e=e.substring(r)||fu)}return new uv("file",t,e,Bn,Bn)},n.from=function(e){return new uv(e.scheme,e.authority,e.path,e.query,e.fragment)},n.prototype.toString=function(e){return e===void 0&&(e=!1),WP(this,e)},n.prototype.toJSON=function(){return this},n.revive=function(e){if(e){if(e instanceof n)return e;var t=new uv(e);return t._formatted=e.external,t._fsPath=e._sep===QJ?e.fsPath:null,t}else return e},n}(),QJ=xo?1:void 0,uv=function(n){gDe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return Object.defineProperty(e.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=JJ(this)),this._fsPath},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!1),t?WP(this,!0):(this._formatted||(this._formatted=WP(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=QJ),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(Ft),ZJ=(Nr={},Nr[58]="%3A",Nr[47]="%2F",Nr[63]="%3F",Nr[35]="%23",Nr[91]="%5B",Nr[93]="%5D",Nr[64]="%40",Nr[33]="%21",Nr[36]="%24",Nr[38]="%26",Nr[39]="%27",Nr[40]="%28",Nr[41]="%29",Nr[42]="%2A",Nr[43]="%2B",Nr[44]="%2C",Nr[59]="%3B",Nr[61]="%3D",Nr[32]="%20",Nr);function Hj(n,e){for(var t=void 0,r=-1,i=0;i<n.length;i++){var o=n.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47)r!==-1&&(t+=encodeURIComponent(n.substring(r,i)),r=-1),t!==void 0&&(t+=n.charAt(i));else{t===void 0&&(t=n.substr(0,i));var s=ZJ[o];s!==void 0?(r!==-1&&(t+=encodeURIComponent(n.substring(r,i)),r=-1),t+=s):r===-1&&(r=i)}}return r!==-1&&(t+=encodeURIComponent(n.substring(r))),t!==void 0?t:n}function EDe(n){for(var e=void 0,t=0;t<n.length;t++){var r=n.charCodeAt(t);r===35||r===63?(e===void 0&&(e=n.substr(0,t)),e+=ZJ[r]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function JJ(n){var e;return n.authority&&n.path.length>1&&n.scheme==="file"?e="//"+n.authority+n.path:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e=n.path[1].toLowerCase()+n.path.substr(2):e=n.path,xo&&(e=e.replace(/\//g,"\\")),e}function WP(n,e){var t=e?EDe:Hj,r="",i=n.scheme,o=n.authority,s=n.path,a=n.query,u=n.fragment;if(i&&(r+=i,r+=":"),(o||i==="file")&&(r+=fu,r+=fu),o){var l=o.indexOf("@");if(l!==-1){var c=o.substr(0,l);o=o.substr(l+1),l=c.indexOf(":"),l===-1?r+=t(c,!1):(r+=t(c.substr(0,l),!1),r+=":",r+=t(c.substr(l+1),!1)),r+="@"}o=o.toLowerCase(),l=o.indexOf(":"),l===-1?r+=t(o,!1):(r+=t(o.substr(0,l),!1),r+=o.substr(l))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){var h=s.charCodeAt(1);h>=65&&h<=90&&(s="/"+String.fromCharCode(h+32)+":"+s.substr(3))}else if(s.length>=2&&s.charCodeAt(1)===58){var h=s.charCodeAt(0);h>=65&&h<=90&&(s=String.fromCharCode(h+32)+":"+s.substr(2))}r+=t(s,!0)}return a&&(r+="?",r+=t(a,!1)),u&&(r+="#",r+=e?u:Hj(u,!1)),r}var ee=function(){function n(e,t){this.lineNumber=e,this.column=t}return n.prototype.with=function(e,t){return e===void 0&&(e=this.lineNumber),t===void 0&&(t=this.column),e===this.lineNumber&&t===this.column?this:new n(e,t)},n.prototype.delta=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.with(this.lineNumber+e,this.column+t)},n.prototype.equals=function(e){return n.equals(this,e)},n.equals=function(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},n.prototype.isBefore=function(e){return n.isBefore(this,e)},n.isBefore=function(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column},n.prototype.isBeforeOrEqual=function(e){return n.isBeforeOrEqual(this,e)},n.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column},n.compare=function(e,t){var r=e.lineNumber|0,i=t.lineNumber|0;if(r===i){var o=e.column|0,s=t.column|0;return o-s}return r-i},n.prototype.clone=function(){return new n(this.lineNumber,this.column)},n.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},n.lift=function(e){return new n(e.lineNumber,e.column)},n.isIPosition=function(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"},n}(),H=function(){function n(e,t,r,i){e>r||e===r&&t>i?(this.startLineNumber=r,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=r,this.endColumn=i)}return n.prototype.isEmpty=function(){return n.isEmpty(this)},n.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},n.prototype.containsPosition=function(e){return n.containsPosition(this,e)},n.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)},n.prototype.containsRange=function(e){return n.containsRange(this,e)},n.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)},n.prototype.strictContainsRange=function(e){return n.strictContainsRange(this,e)},n.strictContainsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)},n.prototype.plusRange=function(e){return n.plusRange(this,e)},n.plusRange=function(e,t){var r,i,o,s;return t.startLineNumber<e.startLineNumber?(r=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(r=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(r=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new n(r,i,o,s)},n.prototype.intersectRanges=function(e){return n.intersectRanges(this,e)},n.intersectRanges=function(e,t){var r=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,u=t.startColumn,l=t.endLineNumber,c=t.endColumn;return r<a?(r=a,i=u):r===a&&(i=Math.max(i,u)),o>l?(o=l,s=c):o===l&&(s=Math.min(s,c)),r>o||r===o&&i>s?null:new n(r,i,o,s)},n.prototype.equalsRange=function(e){return n.equalsRange(this,e)},n.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},n.prototype.getEndPosition=function(){return new ee(this.endLineNumber,this.endColumn)},n.prototype.getStartPosition=function(){return new ee(this.startLineNumber,this.startColumn)},n.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},n.prototype.setEndPosition=function(e,t){return new n(this.startLineNumber,this.startColumn,e,t)},n.prototype.setStartPosition=function(e,t){return new n(e,t,this.endLineNumber,this.endColumn)},n.prototype.collapseToStart=function(){return n.collapseToStart(this)},n.collapseToStart=function(e){return new n(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)},n.fromPositions=function(e,t){return t===void 0&&(t=e),new n(e.lineNumber,e.column,t.lineNumber,t.column)},n.lift=function(e){return e?new n(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null},n.isIRange=function(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"},n.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},n.areIntersecting=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)},n.compareRangesUsingStarts=function(e,t){if(e&&t){var r=e.startLineNumber|0,i=t.startLineNumber|0;if(r===i){var o=e.startColumn|0,s=t.startColumn|0;if(o===s){var a=e.endLineNumber|0,u=t.endLineNumber|0;if(a===u){var l=e.endColumn|0,c=t.endColumn|0;return l-c}return a-u}return o-s}return r-i}var h=e?1:0,d=t?1:0;return h-d},n.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},n.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},n}(),SDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Re=function(n){SDe(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i,o)||this;return s.selectionStartLineNumber=t,s.selectionStartColumn=r,s.positionLineNumber=i,s.positionColumn=o,s}return e.prototype.clone=function(){return new e(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},e.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},e.prototype.equalsSelection=function(t){return e.selectionsEqual(this,t)},e.selectionsEqual=function(t,r){return t.selectionStartLineNumber===r.selectionStartLineNumber&&t.selectionStartColumn===r.selectionStartColumn&&t.positionLineNumber===r.positionLineNumber&&t.positionColumn===r.positionColumn},e.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},e.prototype.setEndPosition=function(t,r){return this.getDirection()===0?new e(this.startLineNumber,this.startColumn,t,r):new e(t,r,this.startLineNumber,this.startColumn)},e.prototype.getPosition=function(){return new ee(this.positionLineNumber,this.positionColumn)},e.prototype.setStartPosition=function(t,r){return this.getDirection()===0?new e(t,r,this.endLineNumber,this.endColumn):new e(this.endLineNumber,this.endColumn,t,r)},e.fromPositions=function(t,r){return r===void 0&&(r=t),new e(t.lineNumber,t.column,r.lineNumber,r.column)},e.liftSelection=function(t){return new e(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)},e.selectionsArrEqual=function(t,r){if(t&&!r||!t&&r)return!1;if(!t&&!r)return!0;if(t.length!==r.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!this.selectionsEqual(t[i],r[i]))return!1;return!0},e.isISelection=function(t){return t&&typeof t.selectionStartLineNumber=="number"&&typeof t.selectionStartColumn=="number"&&typeof t.positionLineNumber=="number"&&typeof t.positionColumn=="number"},e.createWithDirection=function(t,r,i,o,s){return s===0?new e(t,r,i,o):new e(i,o,t,r)},e}(H),i2=function(){function n(e,t,r){this.offset=e|0,this.type=t,this.language=r}return n.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},n}(),h6=function(){function n(e,t){this.tokens=e,this.endState=t}return n}(),o2=function(){function n(e,t){this.tokens=e,this.endState=t}return n}(),UP;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(UP||(UP={}));var jP;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(jP||(jP={}));var qP;(function(n){n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.KEY_0=21]="KEY_0",n[n.KEY_1=22]="KEY_1",n[n.KEY_2=23]="KEY_2",n[n.KEY_3=24]="KEY_3",n[n.KEY_4=25]="KEY_4",n[n.KEY_5=26]="KEY_5",n[n.KEY_6=27]="KEY_6",n[n.KEY_7=28]="KEY_7",n[n.KEY_8=29]="KEY_8",n[n.KEY_9=30]="KEY_9",n[n.KEY_A=31]="KEY_A",n[n.KEY_B=32]="KEY_B",n[n.KEY_C=33]="KEY_C",n[n.KEY_D=34]="KEY_D",n[n.KEY_E=35]="KEY_E",n[n.KEY_F=36]="KEY_F",n[n.KEY_G=37]="KEY_G",n[n.KEY_H=38]="KEY_H",n[n.KEY_I=39]="KEY_I",n[n.KEY_J=40]="KEY_J",n[n.KEY_K=41]="KEY_K",n[n.KEY_L=42]="KEY_L",n[n.KEY_M=43]="KEY_M",n[n.KEY_N=44]="KEY_N",n[n.KEY_O=45]="KEY_O",n[n.KEY_P=46]="KEY_P",n[n.KEY_Q=47]="KEY_Q",n[n.KEY_R=48]="KEY_R",n[n.KEY_S=49]="KEY_S",n[n.KEY_T=50]="KEY_T",n[n.KEY_U=51]="KEY_U",n[n.KEY_V=52]="KEY_V",n[n.KEY_W=53]="KEY_W",n[n.KEY_X=54]="KEY_X",n[n.KEY_Y=55]="KEY_Y",n[n.KEY_Z=56]="KEY_Z",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.NumLock=78]="NumLock",n[n.ScrollLock=79]="ScrollLock",n[n.US_SEMICOLON=80]="US_SEMICOLON",n[n.US_EQUAL=81]="US_EQUAL",n[n.US_COMMA=82]="US_COMMA",n[n.US_MINUS=83]="US_MINUS",n[n.US_DOT=84]="US_DOT",n[n.US_SLASH=85]="US_SLASH",n[n.US_BACKTICK=86]="US_BACKTICK",n[n.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",n[n.US_BACKSLASH=88]="US_BACKSLASH",n[n.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",n[n.US_QUOTE=90]="US_QUOTE",n[n.OEM_8=91]="OEM_8",n[n.OEM_102=92]="OEM_102",n[n.NUMPAD_0=93]="NUMPAD_0",n[n.NUMPAD_1=94]="NUMPAD_1",n[n.NUMPAD_2=95]="NUMPAD_2",n[n.NUMPAD_3=96]="NUMPAD_3",n[n.NUMPAD_4=97]="NUMPAD_4",n[n.NUMPAD_5=98]="NUMPAD_5",n[n.NUMPAD_6=99]="NUMPAD_6",n[n.NUMPAD_7=100]="NUMPAD_7",n[n.NUMPAD_8=101]="NUMPAD_8",n[n.NUMPAD_9=102]="NUMPAD_9",n[n.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",n[n.NUMPAD_ADD=104]="NUMPAD_ADD",n[n.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",n[n.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",n[n.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",n[n.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",n[n.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",n[n.ABNT_C1=110]="ABNT_C1",n[n.ABNT_C2=111]="ABNT_C2",n[n.MAX_VALUE=112]="MAX_VALUE"})(qP||(qP={}));var zP;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(zP||(zP={}));var GP;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(GP||(GP={}));var $P;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})($P||($P={}));var KP;(function(n){n[n.Inline=1]="Inline"})(KP||(KP={}));var YP;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(YP||(YP={}));var XP;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(XP||(XP={}));var QP;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(QP||(QP={}));var ZP;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(ZP||(ZP={}));var JP;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(JP||(JP={}));var eM;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(eM||(eM={}));var tM;(function(n){n[n.None=0]="None",n[n.Small=1]="Small",n[n.Large=2]="Large",n[n.SmallBlocks=3]="SmallBlocks",n[n.LargeBlocks=4]="LargeBlocks"})(tM||(tM={}));var nM;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(nM||(nM={}));var rM;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(rM||(rM={}));var iM;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(iM||(iM={}));var oM;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(oM||(oM={}));var sM;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(sM||(sM={}));var aM;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(aM||(aM={}));var uM;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(uM||(uM={}));var lM;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(lM||(lM={}));var cM;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.Snippet=25]="Snippet"})(cM||(cM={}));var fM;(function(n){n[n.Deprecated=1]="Deprecated"})(fM||(fM={}));var hM;(function(n){n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(hM||(hM={}));var dM;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(dM||(dM={}));var pM;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(pM||(pM={}));var gM;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(gM||(gM={}));var vM;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(vM||(vM={}));var mM;(function(n){n[n.Deprecated=1]="Deprecated"})(mM||(mM={}));var TDe=function(){function n(){}return n.chord=function(e,t){return ko(e,t)},n.CtrlCmd=2048,n.Shift=1024,n.Alt=512,n.WinCtrl=256,n}();function eee(){return{editor:void 0,languages:void 0,CancellationTokenSource:Hp,Emitter:Q,KeyCode:qP,KeyMod:TDe,Position:ee,Range:H,Selection:Re,SelectionDirection:zP,MarkerSeverity:jP,MarkerTag:UP,Uri:Ft,Token:i2}}var yu;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(yu||(yu={}));var pr=qt("instantiationService");function tee(n,e,t,r){e[yu.DI_TARGET]===e?e[yu.DI_DEPENDENCIES].push({id:n,index:t,optional:r}):(e[yu.DI_DEPENDENCIES]=[{id:n,index:t,optional:r}],e[yu.DI_TARGET]=e)}function qt(n){if(yu.serviceIds.has(n))return yu.serviceIds.get(n);var e=function(t,r,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");tee(e,t,i,!1)};return e.toString=function(){return n},yu.serviceIds.set(n,e),e}function mp(n){return function(e,t,r){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");tee(n,e,r,!0)}}var In=qt("codeEditorService"),s2=function(){function n(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new Q,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return n.prototype.getZoomLevel=function(){return this._zoomLevel},n.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},n.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r},n.INSTANCE=new n,n}();function LT(){return s2.INSTANCE.getZoomLevel()}function DDe(){return s2.INSTANCE.getTimeSinceLastZoomLevelChanged()}function nee(n){return s2.INSTANCE.onDidChangeZoomLevel(n)}function ADe(){return s2.INSTANCE.getPixelRatio()}var wu=navigator.userAgent,Ls=wu.indexOf("Trident")>=0,hC=wu.indexOf("Edge/")>=0,vl=Ls||hC,Fc=wu.indexOf("Firefox")>=0,_p=wu.indexOf("AppleWebKit")>=0,zb=wu.indexOf("Chrome")>=0,a2=!zb&&wu.indexOf("Safari")>=0,IDe=!zb&&!a2&&_p,NT=wu.indexOf("iPad")>=0,xDe=hC&&wu.indexOf("WebView/")>=0;function LDe(){if(Ls)return!1;if(hC){var n=wu.indexOf("Edge/"),e=parseInt(wu.substring(n+5,wu.indexOf(".",n)),10);if(!e||e>=12&&e<=16)return!1}return!0}var Nt=function(n,e,t){var r=function(o){return i.fire(o)},i=new Q({onFirstListenerAdd:function(){n.addEventListener(e,r,t)},onLastListenerRemove:function(){n.removeEventListener(e,r,t)}});return i.event};function Vj(n){return Ze.map(n,function(e){return e.preventDefault(),e.stopPropagation(),e})}var ree=new Array(230),SO=new Array(112);(function(){for(var n=0;n<SO.length;n++)SO[n]=-1;function e(t,r){ree[t]=r,SO[r]=t}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),Ls?e(91,57):Fc?(e(59,80),e(107,81),e(109,83),Tt&&e(224,57)):_p&&(e(91,57),e(Tt?93:92,57))})();function NDe(n){if(n.charCode){var e=String.fromCharCode(n.charCode).toUpperCase();return lm.fromString(e)}return ree[n.keyCode]||0}var ODe=Tt?256:2048,kDe=512,RDe=1024,PDe=Tt?2048:256,Gn=function(){function n(e){this._standardKeyboardEventBrand=!0;var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=NDe(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return n.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},n.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},n.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},n.prototype.equals=function(e){return this._asKeybinding===e},n.prototype._computeKeybinding=function(){var e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=ODe),this.altKey&&(t|=kDe),this.shiftKey&&(t|=RDe),this.metaKey&&(t|=PDe),t|=e,t},n.prototype._computeRuntimeKeybinding=function(){var e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new f6(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)},n}(),_M=!1,lv=null;function MDe(n){if(!n.parent||n.parent===n)return null;try{var e=n.location,t=n.parent.location;if(e.protocol!==t.protocol||e.hostname!==t.hostname||e.port!==t.port)return _M=!0,null}catch{return _M=!0,null}return n.parent}function FDe(n,e){for(var t=n.document.getElementsByTagName("iframe"),r,i=0,o=t.length;i<o;i++)if(r=t[i],r.contentWindow===e)return r;return null}var yM=function(){function n(){}return n.getSameOriginWindowChain=function(){if(!lv){lv=[];var e=window,t;do t=MDe(e),t?lv.push({window:e,iframeElement:FDe(t,e)}):lv.push({window:e,iframeElement:null}),e=t;while(e)}return lv.slice(0)},n.hasDifferentOriginAncestor=function(){return lv||this.getSameOriginWindowChain(),_M},n.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var r=0,i=0,o=this.getSameOriginWindowChain(),s=0,a=o;s<a.length;s++){var u=a[s];if(u.window===t||!u.iframeElement)break;var l=u.iframeElement.getBoundingClientRect();r+=l.top,i+=l.left}return{top:r,left:i}},n}(),BDe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hi=function(){function n(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=yM.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return n.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},n.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},n}(),TO=function(n){BDe(e,n);function e(t){var r=n.call(this,t)||this;return r.dataTransfer=t.dataTransfer,r}return e}(hi),Rm=function(){function n(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t,e)if(e.type==="wheel"){var i=e;i.deltaMode===i.DOM_DELTA_LINE?(this.deltaY=-e.deltaY,this.deltaX=-e.deltaX):(this.deltaY=-e.deltaY/40,this.deltaX=-e.deltaX/40)}else{var o=e,s=e;typeof o.wheelDeltaY<"u"?this.deltaY=o.wheelDeltaY/120:typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),typeof o.wheelDeltaX<"u"?a2&&xo?this.deltaX=-(o.wheelDeltaX/120):this.deltaX=o.wheelDeltaX/120:typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return n.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},n.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},n}();function HDe(n){return n&&typeof n.then=="function"}function Qr(n){var e=new Hp,t=n(e.token),r=new Promise(function(i,o){e.token.onCancellationRequested(function(){o(fC())}),Promise.resolve(t).then(function(s){e.dispose(),i(s)},function(s){e.dispose(),o(s)})});return new(function(){function i(){}return i.prototype.cancel=function(){e.cancel()},i.prototype.then=function(o,s){return r.then(o,s)},i.prototype.catch=function(o){return this.then(void 0,o)},i.prototype.finally=function(o){return r.finally(o)},i}())}function VDe(n,e,t){return Promise.race([n,new Promise(function(r){return e.onCancellationRequested(function(){return r(t)})})])}var k_=function(){function n(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.task=null}return n.prototype.trigger=function(e,t){var r=this;return t===void 0&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(i,o){r.doResolve=i,r.doReject=o}).then(function(){r.completionPromise=null,r.doResolve=null;var i=r.task;return r.task=null,i()})),this.timeout=setTimeout(function(){r.timeout=null,r.doResolve(null)},t),this.completionPromise},n.prototype.isTriggered=function(){return this.timeout!==null},n.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject(fC()),this.completionPromise=null)},n.prototype.cancelTimeout=function(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)},n.prototype.dispose=function(){this.cancelTimeout()},n}();function dC(n,e){return e?new Promise(function(t,r){var i=setTimeout(t,n);e.onCancellationRequested(function(){clearTimeout(i),r(fC())})}):Qr(function(t){return dC(n,t)})}function Pm(n,e){e===void 0&&(e=0);var t=setTimeout(n,e);return bn(function(){return clearTimeout(t)})}function d6(n,e,t){e===void 0&&(e=function(s){return!!s}),t===void 0&&(t=null);var r=0,i=n.length,o=function(){if(r>=i)return Promise.resolve(t);var s=n[r++],a=Promise.resolve(s());return a.then(function(u){return e(u)?Promise.resolve(u):o()})};return o()}var Fs=function(){function n(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}return n.prototype.dispose=function(){this.cancel()},n.prototype.cancel=function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)},n.prototype.cancelAndSet=function(e,t){var r=this;this.cancel(),this._token=setTimeout(function(){r._token=-1,e()},t)},n.prototype.setIfNotSet=function(e,t){var r=this;this._token===-1&&(this._token=setTimeout(function(){r._token=-1,e()},t))},n}(),R_=function(){function n(){this._token=-1}return n.prototype.dispose=function(){this.cancel()},n.prototype.cancel=function(){this._token!==-1&&(clearInterval(this._token),this._token=-1)},n.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval(function(){e()},t)},n}(),Hr=function(){function n(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return n.prototype.dispose=function(){this.cancel(),this.runner=null},n.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},n.prototype.schedule=function(e){e===void 0&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},n.prototype.isScheduled=function(){return this.timeoutToken!==-1},n.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},n.prototype.doRun=function(){this.runner&&this.runner()},n}(),OT;(function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){var n=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});OT=function(e){var t=setTimeout(function(){return e(n)}),r=!1;return{dispose:function(){r||(r=!0,clearTimeout(t))}}}}else OT=function(e,t){var r=requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0),i=!1;return{dispose:function(){i||(i=!0,cancelIdleCallback(r))}}}})();var bM=function(){function n(e){var t=this;this._didRun=!1,this._executor=function(){try{t._value=e()}catch(r){t._error=r}finally{t._didRun=!0}},this._handle=OT(function(){return t._executor()})}return n.prototype.dispose=function(){this._handle.dispose()},n.prototype.getValue=function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},n}(),Tn;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.userData="vscode-userdata"})(Tn||(Tn={}));var WDe=function(){function n(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http"}return n.prototype.setPreferredWebSchema=function(e){this._preferredWebSchema=e},n.prototype.rewrite=function(e,t){var r=this._hosts[e],i=this._ports[e],o=this._connectionTokens[e];return Ft.from({scheme:u6?this._preferredWebSchema:Tn.vscodeRemoteResource,authority:r+":"+i,path:"/vscode-remote-resource",query:"path="+encodeURIComponent(t)+"&tkn="+encodeURIComponent(o)})},n}(),iee=new WDe,oee=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CM=function(){return CM=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},CM.apply(this,arguments)};function _a(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function p6(n){n.parentNode&&n.parentNode.removeChild(n)}function UDe(n){for(;n;){if(n===document.body)return!0;n=n.parentNode||n.host}return!1}var jDe=new(function(){function n(){this._lastStart=-1,this._lastEnd=-1}return n.prototype._findClassName=function(e,t){var r=e.className;if(!r){this._lastStart=-1;return}t=t.trim();var i=r.length,o=t.length;if(o===0){this._lastStart=-1;return}if(i<o){this._lastStart=-1;return}if(r===t){this._lastStart=0,this._lastEnd=i;return}for(var s=-1,a;(s=r.indexOf(t,s+1))>=0;){if(a=s+o,(s===0||r.charCodeAt(s-1)===32)&&r.charCodeAt(a)===32){this._lastStart=s,this._lastEnd=a+1;return}if(s>0&&r.charCodeAt(s-1)===32&&a===i){this._lastStart=s-1,this._lastEnd=a;return}if(s===0&&a===i){this._lastStart=0,this._lastEnd=a;return}}this._lastStart=-1},n.prototype.hasClass=function(e,t){return this._findClassName(e,t),this._lastStart!==-1},n.prototype.addClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.addClass(e,s)})})},n.prototype.addClass=function(e,t){e.className?(this._findClassName(e,t),this._lastStart===-1&&(e.className=e.className+" "+t)):e.className=t},n.prototype.removeClass=function(e,t){this._findClassName(e,t),this._lastStart!==-1&&(e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd))},n.prototype.removeClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.removeClass(e,s)})})},n.prototype.toggleClass=function(e,t,r){this._findClassName(e,t),this._lastStart!==-1&&(r===void 0||!r)&&this.removeClass(e,t),this._lastStart===-1&&(r===void 0||r)&&this.addClass(e,t)},n}()),qDe=new(function(){function n(){}return n.prototype.hasClass=function(e,t){return!!t&&e.classList&&e.classList.contains(t)},n.prototype.addClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.addClass(e,s)})})},n.prototype.addClass=function(e,t){t&&e.classList&&e.classList.add(t)},n.prototype.removeClass=function(e,t){t&&e.classList&&e.classList.remove(t)},n.prototype.removeClasses=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.forEach(function(o){return o.split(" ").forEach(function(s){return t.removeClass(e,s)})})},n.prototype.toggleClass=function(e,t,r){e.classList&&e.classList.toggle(t,r)},n}()),Ua=Ls?jDe:qDe,xu=Ua.hasClass.bind(Ua),De=Ua.addClass.bind(Ua),g6=Ua.addClasses.bind(Ua),st=Ua.removeClass.bind(Ua),u2=Ua.removeClasses.bind(Ua),Rt=Ua.toggleClass.bind(Ua),zDe=function(){function n(e,t,r,i){this._node=e,this._type=t,this._handler=r,this._useCapture=i||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}return n.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},n}();function ye(n,e,t,r){return new zDe(n,e,t,r)}function GDe(n){return function(e){return n(new hi(e))}}function $De(n){return function(e){return n(new Gn(e))}}var mi=function(e,t,r,i){var o=r;return t==="click"||t==="mousedown"?o=GDe(r):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=$De(r)),ye(e,t,o,i)};function v6(n,e){return ye(n,"mouseout",function(t){for(var r=t.relatedTarget||t.target;r&&r!==n;)r=r.parentNode;r!==n&&e(t)})}var DO=null;function KDe(n){if(!DO){var e=function(t){return setTimeout(function(){return t(new Date().getTime())},0)};DO=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return DO.call(self,n)}var see,Sh,AO=function(){function n(e,t){t===void 0&&(t=0),this._runner=e,this.priority=t,this._canceled=!1}return n.prototype.dispose=function(){this._canceled=!0},n.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){He(e)}},n.sort=function(e,t){return t.priority-e.priority},n}();(function(){var n=[],e=null,t=!1,r=!1,i=function(){for(t=!1,e=n,n=[],r=!0;e.length>0;){e.sort(AO.sort);var o=e.shift();o.execute()}r=!1};Sh=function(o,s){s===void 0&&(s=0);var a=new AO(o,s);return n.push(a),t||(t=!0,KDe(i)),a},see=function(o,s){if(r){var a=new AO(o,s);return e.push(a),a}else return Sh(o,s)}})();var YDe=16,XDe=function(n,e){return e},QDe=function(n){oee(e,n);function e(t,r,i,o,s){o===void 0&&(o=XDe),s===void 0&&(s=YDe);var a=n.call(this)||this,u=null,l=0,c=a._register(new Fs),h=function(){l=new Date().getTime(),i(u),u=null};return a._register(ye(t,r,function(d){u=o(u,d);var p=new Date().getTime()-l;p>=s?(c.cancel(),h()):c.setIfNotSet(h,s-p)})),a}return e}(he);function pC(n,e,t,r,i){return new QDe(n,e,t,r,i)}function m6(n){return document.defaultView.getComputedStyle(n,null)}var As=function(){function n(){}return n.convertToPixels=function(e,t){return parseFloat(t)||0},n.getDimension=function(e,t,r){var i=m6(e),o="0";return i&&(i.getPropertyValue?o=i.getPropertyValue(t):o=i.getAttribute(r)),n.convertToPixels(e,o)},n.getBorderLeftWidth=function(e){return n.getDimension(e,"border-left-width","borderLeftWidth")},n.getBorderRightWidth=function(e){return n.getDimension(e,"border-right-width","borderRightWidth")},n.getBorderTopWidth=function(e){return n.getDimension(e,"border-top-width","borderTopWidth")},n.getBorderBottomWidth=function(e){return n.getDimension(e,"border-bottom-width","borderBottomWidth")},n.getPaddingLeft=function(e){return n.getDimension(e,"padding-left","paddingLeft")},n.getPaddingRight=function(e){return n.getDimension(e,"padding-right","paddingRight")},n.getPaddingTop=function(e){return n.getDimension(e,"padding-top","paddingTop")},n.getPaddingBottom=function(e){return n.getDimension(e,"padding-bottom","paddingBottom")},n.getMarginLeft=function(e){return n.getDimension(e,"margin-left","marginLeft")},n.getMarginTop=function(e){return n.getDimension(e,"margin-top","marginTop")},n.getMarginRight=function(e){return n.getDimension(e,"margin-right","marginRight")},n.getMarginBottom=function(e){return n.getDimension(e,"margin-bottom","marginBottom")},n}(),ZDe=function(){function n(e,t){this.width=e,this.height=t}return n}();function _6(n){for(var e=n.offsetParent,t=n.offsetTop,r=n.offsetLeft;(n=n.parentNode)!==null&&n!==document.body&&n!==document.documentElement;){t-=n.scrollTop;var i=m6(n);i&&(r-=i.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(r+=As.getBorderLeftWidth(n),t+=As.getBorderTopWidth(n),t+=n.offsetTop,r+=n.offsetLeft,e=n.offsetParent)}return{left:r,top:t}}function _i(n){var e=n.getBoundingClientRect();return{left:e.left+ll.scrollX,top:e.top+ll.scrollY,width:e.width,height:e.height}}var ll=new(function(){function n(){}return Object.defineProperty(n.prototype,"scrollX",{get:function(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollY",{get:function(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),n}());function uu(n){var e=As.getMarginLeft(n)+As.getMarginRight(n);return n.offsetWidth+e}function kT(n){var e=As.getBorderLeftWidth(n)+As.getBorderRightWidth(n),t=As.getPaddingLeft(n)+As.getPaddingRight(n);return n.offsetWidth-e-t}function aee(n){var e=As.getBorderTopWidth(n)+As.getBorderBottomWidth(n),t=As.getPaddingTop(n)+As.getPaddingBottom(n);return n.offsetHeight-e-t}function wM(n){var e=As.getMarginTop(n)+As.getMarginBottom(n);return n.offsetHeight+e}function Nl(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function EM(n,e,t){for(;n;){if(xu(n,e))return n;if(t){if(typeof t=="string"){if(xu(n,t))return null}else if(n===t)return null}n=n.parentNode}return null}function Fh(n){n===void 0&&(n=document.getElementsByTagName("head")[0]);var e=document.createElement("style");return e.type="text/css",e.media="screen",n.appendChild(e),e}var IO=null;function uee(){return IO||(IO=Fh()),IO}function JDe(n){return n&&n.sheet&&n.sheet.rules?n.sheet.rules:n&&n.sheet&&n.sheet.cssRules?n.sheet.cssRules:[]}function eAe(n,e,t){t===void 0&&(t=uee()),!(!t||!e)&&t.sheet.insertRule(n+"{"+e+"}",0)}function SM(n,e){if(e===void 0&&(e=uee()),!!e){for(var t=JDe(e),r=[],i=0;i<t.length;i++){var o=t[i];o.selectorText.indexOf(n)!==-1&&r.push(i)}for(var i=r.length-1;i>=0;i--)e.sheet.deleteRule(r[i])}}function tAe(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}var lt={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:_p?"webkitAnimationStart":"animationstart",ANIMATION_END:_p?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:_p?"webkitAnimationIteration":"animationiteration"},Sn={stop:function(n,e){n.preventDefault?n.preventDefault():n.returnValue=!1,e&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0)}};function nAe(n){for(var e=[],t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function rAe(n,e){for(var t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}var iAe=function(n){oee(e,n);function e(t){var r=n.call(this)||this;r._onDidFocus=r._register(new Q),r.onDidFocus=r._onDidFocus.event,r._onDidBlur=r._register(new Q),r.onDidBlur=r._onDidBlur.event;var i=Nl(document.activeElement,t),o=!1,s=function(){o=!1,i||(i=!0,r._onDidFocus.fire())},a=function(){i&&(o=!0,window.setTimeout(function(){o&&(o=!1,i=!1,r._onDidBlur.fire())},0))};return r._register(Nt(t,lt.FOCUS,!0)(s)),r._register(Nt(t,lt.BLUR,!0)(a)),r}return e}(he);function Gb(n){return new iAe(n)}function Ee(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(r){return n.appendChild(r)}),e[e.length-1]}var oAe=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/,$b;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})($b||($b={}));function lee(n,e,t){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=oAe.exec(e);if(!o)throw new Error("Bad use of emmet");t=CM({},t||{});var s=o[1]||"div",a;return n!==$b.HTML?a=document.createElementNS(n,s):a=document.createElement(s),o[3]&&(a.id=o[3]),o[4]&&(a.className=o[4].replace(/\./g," ").trim()),Object.keys(t).forEach(function(u){var l=t[u];/^on\w+$/.test(u)?a[u]=l:u==="selected"?l&&a.setAttribute(u,"true"):a.setAttribute(u,l)}),Yc(r).forEach(function(u){u instanceof Node?a.appendChild(u):a.appendChild(document.createTextNode(u))}),a}function We(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return lee.apply(void 0,[$b.HTML,n,e].concat(t))}We.SVG=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return lee.apply(void 0,[$b.SVG,n,e].concat(t))};function Li(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n;t<r.length;t++){var i=r[t];i.style.display="",i.removeAttribute("aria-hidden")}}function Kr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n;t<r.length;t++){var i=r[t];i.style.display="none",i.setAttribute("aria-hidden","true")}}function sAe(n,e){for(;n;){if(n instanceof HTMLElement&&n.hasAttribute(e))return n;n=n.parentNode}return null}function y6(n){if(!(!n||!n.hasAttribute("tabIndex"))){if(document.activeElement===n){var e=sAe(n.parentElement,"tabIndex");e&&e.focus()}n.removeAttribute("tabindex")}}function Wj(n){return Array.prototype.slice.call(document.getElementsByTagName(n),0)}function Uj(n){var e=window.devicePixelRatio*n;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function cee(n){if(Iu||xDe)window.open(n);else{var e=window.open();e&&(e.opener=null,e.location.href=n)}}function aAe(n){var e=function(){n(),t=Sh(e)},t=Sh(e);return bn(function(){return t.dispose()})}iee.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function fee(n){return n&&(Tn.vscodeRemote===n.scheme?iee.rewrite(n.authority,n.path):n)}function jj(n){return n?"url('"+fee(n).toString(!0).replace(/'/g,"%27")+"')":"url('')"}function hee(n){var e=JSON.parse(n);return e=dee(e,0),e}function dee(n,e){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Ft.revive(n);case 2:return new RegExp(n.source,n.flags)}for(var t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=dee(n[t],e+1))}return n}var Kb="";function pee(n){return!n||typeof n!="string"?!0:n.trim().length===0}function ny(n,e,t){t===void 0&&(t="0");for(var r=""+n,i=[r],o=r.length;o<e;o++)i.push(t);return i.reverse().join("")}var uAe=/{(\d+)}/g;function Yt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.length===0?n:n.replace(uAe,function(r,i){var o=parseInt(i,10);return isNaN(o)||o<0||o>=e.length?r:e[o]})}function ha(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Ol(n){return n.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function lAe(n,e){e===void 0&&(e=" ");var t=TM(n,e);return gee(t,e)}function TM(n,e){if(!n||!e)return n;var t=e.length;if(t===0||n.length===0)return n;for(var r=0;n.indexOf(e,r)===r;)r=r+t;return n.substring(r)}function gee(n,e){if(!n||!e)return n;var t=e.length,r=n.length;if(t===0||r===0)return n;for(var i=r,o=-1;o=n.lastIndexOf(e,i-1),!(o===-1||o+t!==i);){if(o===0)return"";i=o}return n.substring(0,i)}function cAe(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Yb(n,e){if(n.length<e.length)return!1;if(n===e)return!0;for(var t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function Bc(n,e){var t=n.length-e.length;return t>0?n.indexOf(e,t)===t:t===0?n===e:!1}function b6(n,e,t){if(t===void 0&&(t={}),!n)throw new Error("Cannot create regex from empty string");e||(n=Ol(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));var r="";return t.global&&(r+="g"),t.matchCase||(r+="i"),t.multiline&&(r+="m"),t.unicode&&(r+="u"),new RegExp(n,r)}function fAe(n){if(n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$")return!1;var e=n.exec("");return!!(e&&n.lastIndex===0)}function xO(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")}function Ns(n){for(var e=0,t=n.length;e<t;e++){var r=n.charCodeAt(e);if(r!==32&&r!==9)return e}return-1}function Ln(n,e,t){e===void 0&&(e=0),t===void 0&&(t=n.length);for(var r=e;r<t;r++){var i=n.charCodeAt(r);if(i!==32&&i!==9)return n.substring(e,r)}return n.substring(e,t)}function Bh(n,e){e===void 0&&(e=n.length-1);for(var t=e;t>=0;t--){var r=n.charCodeAt(t);if(r!==32&&r!==9)return t}return-1}function vee(n,e){return n<e?-1:n>e?1:0}function hAe(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++){var i=n.charCodeAt(r),o=e.charCodeAt(r);if(i!==o){hu(i)&&(i+=32),hu(o)&&(o+=32);var s=i-o;if(s!==0)return Cc(i)&&Cc(o)?s:vee(n.toLowerCase(),e.toLowerCase())}}return n.length<e.length?-1:n.length>e.length?1:0}function Cc(n){return n>=97&&n<=122}function hu(n){return n>=65&&n<=90}function qj(n){return Cc(n)||hu(n)}function qf(n,e){var t=n?n.length:0,r=e?e.length:0;return t!==r?!1:mee(n,e)}function mee(n,e,t){if(t===void 0&&(t=n.length),typeof n!="string"||typeof e!="string")return!1;for(var r=0;r<t;r++){var i=n.charCodeAt(r),o=e.charCodeAt(r);if(i!==o){if(qj(i)&&qj(o)){var s=Math.abs(i-o);if(s!==0&&s!==32)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}}return!0}function _ee(n,e){var t=e.length;return e.length>n.length?!1:mee(n,e,t)}function C6(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t++)if(n.charCodeAt(t)!==e.charCodeAt(t))return t;return r}function dAe(n,e){var t,r=Math.min(n.length,e.length),i=n.length-1,o=e.length-1;for(t=0;t<r;t++)if(n.charCodeAt(i-t)!==e.charCodeAt(o-t))return t;return r}function ts(n){return 55296<=n&&n<=56319}function w6(n){return 56320<=n&&n<=57343}var pAe=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function E6(n){return pAe.test(n)}var gAe=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function vAe(n){return gAe.test(n)}var mAe=/^[\t\n\r\x20-\x7E]*$/;function yee(n){return mAe.test(n)}function _Ae(n){for(var e=0,t=n.length;e<t;e++)if(Hc(n.charCodeAt(e)))return!0;return!1}function Hc(n){return n=+n,n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}var yAe="\uFEFF";function S6(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function bee(n){return btoa(encodeURIComponent(n))}function bAe(n,e){for(var t="",r=0;r<e;r++)t+=n;return t}function CAe(n,e){return e===void 0&&(e=!1),n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function Cee(n){var e=26;return n=n%(2*e),n<e?String.fromCharCode(97+n):String.fromCharCode(65+n-e)}var T6=typeof process>"u"?{cwd:function(){return"/"},env:Object.create(null),get platform(){return xo?"win32":Tt?"darwin":"linux"},nextTick:function(n){return jJ(n)}}:process,DM=T6.cwd,wAe=T6.env,lg=T6.platform,EAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SAe=65,TAe=97,DAe=90,AAe=122,oh=46,Or=47,Gs=92,df=58,IAe=63,D6=function(n){EAe(e,n);function e(t,r,i){var o=this,s;typeof r=="string"&&r.indexOf("not ")===0?(s="must not be",r=r.replace(/^not /,"")):s="must be";var a=t.indexOf(".")!==-1?"property":"argument",u='The "'+t+'" '+a+" "+s+" of type "+r;return u+=". Received type "+typeof i,o=n.call(this,u)||this,o.code="ERR_INVALID_ARG_TYPE",o}return e}(Error);function Er(n,e){if(typeof n!="string")throw new D6(e,"string",n)}function xt(n){return n===Or||n===Gs}function zj(n){return n===Or}function pf(n){return n>=SAe&&n<=DAe||n>=TAe&&n<=AAe}function RT(n,e,t,r){for(var i="",o=0,s=-1,a=0,u,l=0;l<=n.length;++l){if(l<n.length)u=n.charCodeAt(l);else{if(r(u))break;u=Or}if(r(u)){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==oh||i.charCodeAt(i.length-2)!==oh){if(i.length>2){var c=i.lastIndexOf(t);c===-1?(i="",o=0):(i=i.slice(0,c),o=i.length-1-i.lastIndexOf(t)),s=l,a=0;continue}else if(i.length===2||i.length===1){i="",o=0,s=l,a=0;continue}}e&&(i.length>0?i+=t+"..":i="..",o=2)}else i.length>0?i+=t+n.slice(s+1,l):i=n.slice(s+1,l),o=l-s-1;s=l,a=0}else u===oh&&a!==-1?++a:a=-1}return i}function wee(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var us={resolve:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t="",r="",i=!1,o=n.length-1;o>=-1;o--){var s=void 0;if(o>=0?s=n[o]:t?(s=wAe["="+t]||DM(),(s===void 0||s.slice(0,3).toLowerCase()!==t.toLowerCase()+"\\")&&(s=t+"\\")):s=DM(),Er(s,"path"),s.length!==0){var a=s.length,u=0,l="",c=!1,h=s.charCodeAt(0);if(a>1)if(xt(h))if(c=!0,xt(s.charCodeAt(1))){for(var d=2,p=d;d<a&&!xt(s.charCodeAt(d));++d);if(d<a&&d!==p){var v=s.slice(p,d);for(p=d;d<a&&xt(s.charCodeAt(d));++d);if(d<a&&d!==p){for(p=d;d<a&&!xt(s.charCodeAt(d));++d);d===a?(l="\\\\"+v+"\\"+s.slice(p),u=d):d!==p&&(l="\\\\"+v+"\\"+s.slice(p,d),u=d)}}}else u=1;else pf(h)&&s.charCodeAt(1)===df&&(l=s.slice(0,2),u=2,a>2&&xt(s.charCodeAt(2))&&(c=!0,u=3));else xt(h)&&(u=1,c=!0);if(!(l.length>0&&t.length>0&&l.toLowerCase()!==t.toLowerCase())&&(t.length===0&&l.length>0&&(t=l),i||(r=s.slice(u)+"\\"+r,i=c),t.length>0&&i))break}}return r=RT(r,!i,"\\",xt),t+(i?"\\":"")+r||"."},normalize:function(n){Er(n,"path");var e=n.length;if(e===0)return".";var t=0,r,i=!1,o=n.charCodeAt(0);if(e>1)if(xt(o))if(i=!0,xt(n.charCodeAt(1))){for(var s=2,a=s;s<e&&!xt(n.charCodeAt(s));++s);if(s<e&&s!==a){var u=n.slice(a,s);for(a=s;s<e&&xt(n.charCodeAt(s));++s);if(s<e&&s!==a){for(a=s;s<e&&!xt(n.charCodeAt(s));++s);if(s===e)return"\\\\"+u+"\\"+n.slice(a)+"\\";s!==a&&(r="\\\\"+u+"\\"+n.slice(a,s),t=s)}}}else t=1;else pf(o)&&n.charCodeAt(1)===df&&(r=n.slice(0,2),t=2,e>2&&xt(n.charCodeAt(2))&&(i=!0,t=3));else if(xt(o))return"\\";var l;return t<e?l=RT(n.slice(t),!i,"\\",xt):l="",l.length===0&&!i&&(l="."),l.length>0&&xt(n.charCodeAt(e-1))&&(l+="\\"),r===void 0?i?l.length>0?"\\"+l:"\\":l.length>0?l:"":i?l.length>0?r+"\\"+l:r+"\\":l.length>0?r+l:r},isAbsolute:function(n){Er(n,"path");var e=n.length;if(e===0)return!1;var t=n.charCodeAt(0);return xt(t)?!0:!!(pf(t)&&e>2&&n.charCodeAt(1)===df&&xt(n.charCodeAt(2)))},join:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===0)return".";for(var t,r,i=0;i<n.length;++i){var o=n[i];Er(o,"path"),o.length>0&&(t===void 0?t=r=o:t+="\\"+o)}if(t===void 0)return".";var s=!0,a=0;if(typeof r=="string"&&xt(r.charCodeAt(0))){++a;var u=r.length;u>1&&xt(r.charCodeAt(1))&&(++a,u>2&&(xt(r.charCodeAt(2))?++a:s=!1))}if(s){for(;a<t.length&&xt(t.charCodeAt(a));++a);a>=2&&(t="\\"+t.slice(a))}return us.normalize(t)},relative:function(n,e){if(Er(n,"from"),Er(e,"to"),n===e)return"";var t=us.resolve(n),r=us.resolve(e);if(t===r||(n=t.toLowerCase(),e=r.toLowerCase(),n===e))return"";for(var i=0;i<n.length&&n.charCodeAt(i)===Gs;++i);for(var o=n.length;o-1>i&&n.charCodeAt(o-1)===Gs;--o);for(var s=o-i,a=0;a<e.length&&e.charCodeAt(a)===Gs;++a);for(var u=e.length;u-1>a&&e.charCodeAt(u-1)===Gs;--u);for(var l=u-a,c=s<l?s:l,h=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(e.charCodeAt(a+d)===Gs)return r.slice(a+d+1);if(d===2)return r.slice(a+d)}s>c&&(n.charCodeAt(i+d)===Gs?h=d:d===2&&(h=3));break}var p=n.charCodeAt(i+d),v=e.charCodeAt(a+d);if(p!==v)break;p===Gs&&(h=d)}if(d!==c&&h===-1)return r;var m="";for(h===-1&&(h=0),d=i+h+1;d<=o;++d)(d===o||n.charCodeAt(d)===Gs)&&(m.length===0?m+="..":m+="\\..");return m.length>0?m+r.slice(a+h,u):(a+=h,r.charCodeAt(a)===Gs&&++a,r.slice(a,u))},toNamespacedPath:function(n){if(typeof n!="string")return n;if(n.length===0)return"";var e=us.resolve(n);if(e.length>=3){if(e.charCodeAt(0)===Gs){if(e.charCodeAt(1)===Gs){var t=e.charCodeAt(2);if(t!==IAe&&t!==oh)return"\\\\?\\UNC\\"+e.slice(2)}}else if(pf(e.charCodeAt(0))&&e.charCodeAt(1)===df&&e.charCodeAt(2)===Gs)return"\\\\?\\"+e}return n},dirname:function(n){Er(n,"path");var e=n.length;if(e===0)return".";var t=-1,r=-1,i=!0,o=0,s=n.charCodeAt(0);if(e>1)if(xt(s)){if(t=o=1,xt(n.charCodeAt(1))){for(var a=2,u=a;a<e&&!xt(n.charCodeAt(a));++a);if(a<e&&a!==u){for(u=a;a<e&&xt(n.charCodeAt(a));++a);if(a<e&&a!==u){for(u=a;a<e&&!xt(n.charCodeAt(a));++a);if(a===e)return n;a!==u&&(t=o=a+1)}}}}else pf(s)&&n.charCodeAt(1)===df&&(t=o=2,e>2&&xt(n.charCodeAt(2))&&(t=o=3));else if(xt(s))return n;for(var l=e-1;l>=o;--l)if(xt(n.charCodeAt(l))){if(!i){r=l;break}}else i=!1;if(r===-1){if(t===-1)return".";r=t}return n.slice(0,r)},basename:function(n,e){e!==void 0&&Er(e,"ext"),Er(n,"path");var t=0,r=-1,i=!0,o;if(n.length>=2){var s=n.charCodeAt(0);pf(s)&&n.charCodeAt(1)===df&&(t=2)}if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";var a=e.length-1,u=-1;for(o=n.length-1;o>=t;--o){var l=n.charCodeAt(o);if(xt(l)){if(!i){t=o+1;break}}else u===-1&&(i=!1,u=o+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(r=o):(a=-1,r=u))}return t===r?r=u:r===-1&&(r=n.length),n.slice(t,r)}else{for(o=n.length-1;o>=t;--o)if(xt(n.charCodeAt(o))){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)}},extname:function(n){Er(n,"path");var e=0,t=-1,r=0,i=-1,o=!0,s=0;n.length>=2&&n.charCodeAt(1)===df&&pf(n.charCodeAt(0))&&(e=r=2);for(var a=n.length-1;a>=e;--a){var u=n.charCodeAt(a);if(xt(u)){if(!o){r=a+1;break}continue}i===-1&&(o=!1,i=a+1),u===oh?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===r+1?"":n.slice(t,i)},format:function(n){if(n===null||typeof n!="object")throw new D6("pathObject","Object",n);return wee("\\",n)},parse:function(n){Er(n,"path");var e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;var t=n.length,r=0,i=n.charCodeAt(0);if(t>1){if(xt(i)){if(r=1,xt(n.charCodeAt(1))){for(var o=2,s=o;o<t&&!xt(n.charCodeAt(o));++o);if(o<t&&o!==s){for(s=o;o<t&&xt(n.charCodeAt(o));++o);if(o<t&&o!==s){for(s=o;o<t&&!xt(n.charCodeAt(o));++o);o===t?r=o:o!==s&&(r=o+1)}}}}else if(pf(i)&&n.charCodeAt(1)===df)if(r=2,t>2){if(xt(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;r=3}}else return e.root=e.dir=n,e}else if(xt(i))return e.root=e.dir=n,e;r>0&&(e.root=n.slice(0,r));for(var a=-1,u=r,l=-1,c=!0,h=n.length-1,d=0;h>=r;--h){if(i=n.charCodeAt(h),xt(i)){if(!c){u=h+1;break}continue}l===-1&&(c=!1,l=h+1),i===oh?a===-1?a=h:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||l===-1||d===0||d===1&&a===l-1&&a===u+1?l!==-1&&(e.base=e.name=n.slice(u,l)):(e.name=n.slice(u,a),e.base=n.slice(u,l),e.ext=n.slice(a,l)),u>0&&u!==r?e.dir=n.slice(0,u-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Tr={resolve:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t="",r=!1,i=n.length-1;i>=-1&&!r;i--){var o=void 0;i>=0?o=n[i]:o=DM(),Er(o,"path"),o.length!==0&&(t=o+"/"+t,r=o.charCodeAt(0)===Or)}return t=RT(t,!r,"/",zj),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(n){if(Er(n,"path"),n.length===0)return".";var e=n.charCodeAt(0)===Or,t=n.charCodeAt(n.length-1)===Or;return n=RT(n,!e,"/",zj),n.length===0&&!e&&(n="."),n.length>0&&t&&(n+="/"),e?"/"+n:n},isAbsolute:function(n){return Er(n,"path"),n.length>0&&n.charCodeAt(0)===Or},join:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n.length===0)return".";for(var t,r=0;r<n.length;++r){var i=arguments[r];Er(i,"path"),i.length>0&&(t===void 0?t=i:t+="/"+i)}return t===void 0?".":Tr.normalize(t)},relative:function(n,e){if(Er(n,"from"),Er(e,"to"),n===e||(n=Tr.resolve(n),e=Tr.resolve(e),n===e))return"";for(var t=1;t<n.length&&n.charCodeAt(t)===Or;++t);for(var r=n.length,i=r-t,o=1;o<e.length&&e.charCodeAt(o)===Or;++o);for(var s=e.length,a=s-o,u=i<a?i:a,l=-1,c=0;c<=u;++c){if(c===u){if(a>u){if(e.charCodeAt(o+c)===Or)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else i>u&&(n.charCodeAt(t+c)===Or?l=c:c===0&&(l=0));break}var h=n.charCodeAt(t+c),d=e.charCodeAt(o+c);if(h!==d)break;h===Or&&(l=c)}var p="";for(c=t+l+1;c<=r;++c)(c===r||n.charCodeAt(c)===Or)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+e.slice(o+l):(o+=l,e.charCodeAt(o)===Or&&++o,e.slice(o))},toNamespacedPath:function(n){return n},dirname:function(n){if(Er(n,"path"),n.length===0)return".";for(var e=n.charCodeAt(0)===Or,t=-1,r=!0,i=n.length-1;i>=1;--i)if(n.charCodeAt(i)===Or){if(!r){t=i;break}}else r=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename:function(n,e){e!==void 0&&Er(e,"ext"),Er(n,"path");var t=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";var s=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){var u=n.charCodeAt(o);if(u===Or){if(!i){t=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(u===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=a))}return t===r?r=a:r===-1&&(r=n.length),n.slice(t,r)}else{for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===Or){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)}},extname:function(n){Er(n,"path");for(var e=-1,t=0,r=-1,i=!0,o=0,s=n.length-1;s>=0;--s){var a=n.charCodeAt(s);if(a===Or){if(!i){t=s+1;break}continue}r===-1&&(i=!1,r=s+1),a===oh?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},format:function(n){if(n===null||typeof n!="object")throw new D6("pathObject","Object",n);return wee("/",n)},parse:function(n){Er(n,"path");var e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;var t=n.charCodeAt(0)===Or,r;t?(e.root="/",r=1):r=0;for(var i=-1,o=0,s=-1,a=!0,u=n.length-1,l=0;u>=r;--u){var c=n.charCodeAt(u);if(c===Or){if(!a){o=u+1;break}continue}s===-1&&(a=!1,s=u+1),c===oh?i===-1?i=u:l!==1&&(l=1):i!==-1&&(l=-1)}return i===-1||s===-1||l===0||l===1&&i===s-1&&i===o+1?s!==-1&&(o===0&&t?e.base=e.name=n.slice(1,s):e.base=e.name=n.slice(o,s)):(o===0&&t?(e.name=n.slice(1,i),e.base=n.slice(1,s)):(e.name=n.slice(o,i),e.base=n.slice(o,s)),e.ext=n.slice(i,s)),o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Tr.win32=us.win32=us;Tr.posix=us.posix=Tr;var PT=lg==="win32"?us.normalize:Tr.normalize,Eee=lg==="win32"?us.join:Tr.join,See=lg==="win32"?us.relative:Tr.relative,A6=lg==="win32"?us.dirname:Tr.dirname,Vp=lg==="win32"?us.basename:Tr.basename,Tee=lg==="win32"?us.extname:Tr.extname,Jy=lg==="win32"?us.sep:Tr.sep;const xAe=Object.freeze(Object.defineProperty({__proto__:null,basename:Vp,dirname:A6,extname:Tee,join:Eee,normalize:PT,posix:Tr,relative:See,sep:Jy,win32:us},Symbol.toStringTag,{value:"Module"}));function LAe(n,e,t,r){return r===void 0&&(r=Jy),n===e?!0:!n||!e||e.length>n.length?!1:(e.charAt(e.length-1)!==r&&(e+=r),n.indexOf(e)===0)}function NAe(n){return n>=65&&n<=90||n>=97&&n<=122}function Dee(n){return Vc(n)||n.authority}function Vc(n){return Tr.basename(n.path)}function I6(n){if(n.path.length===0)return n;if(n.scheme===Tn.file)return Ft.file(A6(x6(n)));var e=Tr.dirname(n.path);return n.authority&&e.length&&e.charCodeAt(0)!==47&&(console.error('dirname("'+n.toString+")) resulted in a relative path"),e="/"),n.with({path:e})}function OAe(n){for(var e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i;return n.scheme===Tn.file?i=Ft.file(Eee.apply(xAe,[x6(n)].concat(t))).path:i=(e=Tr).join.apply(e,[n.path||"/"].concat(t)),n.with({path:i})}function kAe(n){if(!n.path.length)return n;var e;return n.scheme===Tn.file?e=Ft.file(PT(x6(n))).path:e=Tr.normalize(n.path),n.with({path:e})}function x6(n){var e,t=n.path;return n.authority&&t.length>1&&n.scheme===Tn.file?e="//"+n.authority+t:xo&&t.charCodeAt(0)===47&&NAe(t.charCodeAt(1))&&t.charCodeAt(2)===58?e=t.substr(1):e=t,xo&&(e=e.replace(/\//g,"\\")),e}var Th;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){var r=new Map,i=t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";"));i.split(";").forEach(function(s){var a=s.split(":"),u=a[0],l=a[1];u&&l&&r.set(u,l)});var o=t.path.substring(0,t.path.indexOf(";"));return o&&r.set(n.META_DATA_MIME,o),r}n.parseMetaData=e})(Th||(Th={}));var RAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function L6(n){var e=[];return n.forEach(function(t){return e.push(t)}),e}function Xb(n){var e=[];return n.forEach(function(t,r){return e.push(r)}),e}var PAe=function(){function n(){this._value="",this._pos=0}return n.prototype.reset=function(e){return this._value=e,this._pos=0,this},n.prototype.next=function(){return this._pos+=1,this},n.prototype.hasNext=function(){return this._pos<this._value.length-1},n.prototype.cmp=function(e){var t=e.charCodeAt(0),r=this._value.charCodeAt(this._pos);return t-r},n.prototype.value=function(){return this._value[this._pos]},n}(),MAe=function(){function n(){}return n.prototype.reset=function(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},n.prototype.hasNext=function(){return this._to<this._value.length},n.prototype.next=function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(t===47||t===92)if(e)this._from++;else break;else e=!1}return this},n.prototype.cmp=function(e){for(var t=0,r=e.length,i=this._from;t<r&&i<this._to;){var o=e.charCodeAt(t)-this._value.charCodeAt(i);if(o!==0)return o;t+=1,i+=1}return r===this._to-this._from?0:t<r?-1:1},n.prototype.value=function(){return this._value.substring(this._from,this._to)},n}(),DE=function(){function n(){}return n}(),AM=function(){function n(e){this._iter=e}return n.forPaths=function(){return new n(new MAe)},n.forStrings=function(){return new n(new PAe)},n.prototype.clear=function(){this._root=void 0},n.prototype.set=function(e,t){var r=this._iter.reset(e),i;for(this._root||(this._root=new DE,this._root.segment=r.value()),i=this._root;;){var o=r.cmp(i.segment);if(o>0)i.left||(i.left=new DE,i.left.segment=r.value()),i=i.left;else if(o<0)i.right||(i.right=new DE,i.right.segment=r.value()),i=i.right;else if(r.hasNext())r.next(),i.mid||(i.mid=new DE,i.mid.segment=r.value()),i=i.mid;else break}var s=i.value;return i.value=t,i.key=e,s},n.prototype.get=function(e){for(var t=this._iter.reset(e),r=this._root;r;){var i=t.cmp(r.segment);if(i>0)r=r.left;else if(i<0)r=r.right;else if(t.hasNext())t.next(),r=r.mid;else break}return r?r.value:void 0},n.prototype.findSubstr=function(e){for(var t=this._iter.reset(e),r=this._root,i=void 0;r;){var o=t.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else if(t.hasNext())t.next(),i=r.value||i,r=r.mid;else break}return r&&r.value||i},n.prototype.forEach=function(e){this._forEach(this._root,e)},n.prototype._forEach=function(e,t){e&&(this._forEach(e.left,t),e.value&&t(e.value,e.key),this._forEach(e.mid,t),this._forEach(e.right,t))},n}(),LO=function(){function n(){this.map=new Map,this.ignoreCase=!1}return n.prototype.set=function(e,t){this.map.set(this.toKey(e),t)},n.prototype.get=function(e){return this.map.get(this.toKey(e))},n.prototype.toKey=function(e){var t=e.toString();return this.ignoreCase&&(t=t.toLowerCase()),t},n}(),FAe=function(){function n(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return n.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.get=function(e,t){t===void 0&&(t=0);var r=this._map.get(e);if(r)return t!==0&&this.touch(r,t),r.value},n.prototype.set=function(e,t,r){r===void 0&&(r=0);var i=this._map.get(e);if(i)i.value=t,r!==0&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}},n.prototype.delete=function(e){return!!this.remove(e)},n.prototype.remove=function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value},n.prototype.forEach=function(e,t){for(var r=this._head;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next},n.prototype.trimOld=function(e){if(!(e>=this.size)){if(e===0){this.clear();return}for(var t=this._head,r=this.size;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0)}},n.prototype.addItemFirst=function(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e},n.prototype.addItemLast=function(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e},n.prototype.removeItem=function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{var t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0},n.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;var r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===2){if(e===this._tail)return;var r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}},n.prototype.toJSON=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),e},n}(),Mm=function(n){RAe(e,n);function e(t,r){r===void 0&&(r=1);var i=n.call(this)||this;return i._limit=t,i._ratio=Math.min(Math.max(0,r),1),i}return e.prototype.get=function(t){return n.prototype.get.call(this,t,2)},e.prototype.peek=function(t){return n.prototype.get.call(this,t,0)},e.prototype.set=function(t,r){n.prototype.set.call(this,t,r,2),this.checkTrim()},e.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},e}(FAe),no=qt("commandService"),Bi=new(function(){function n(){this._commands=new Map,this._onDidRegisterCommand=new Q,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return n.prototype.registerCommand=function(e,t){var r=this;if(!e)throw new Error("invalid command");if(typeof e=="string"){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){for(var i=[],o=0,s=e.description.args;o<s.length;o++){var a=s[o];i.push(a.constraint)}var u=e.handler;e.handler=function(p){for(var v=[],m=1;m<arguments.length;m++)v[m-1]=arguments[m];return RTe(v,i),u.apply(void 0,[p].concat(v))}}var l=e.id,c=this._commands.get(l);c||(c=new Mc,this._commands.set(l,c));var h=c.unshift(e),d=bn(function(){h();var p=r._commands.get(l);p&&p.isEmpty()&&r._commands.delete(l)});return this._onDidRegisterCommand.fire(l),d},n.prototype.registerCommandAlias=function(e,t){return Bi.registerCommand(e,function(r){for(var i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return(i=r.get(no)).executeCommand.apply(i,[t].concat(o))})},n.prototype.getCommand=function(e){var t=this._commands.get(e);if(!(!t||t.isEmpty()))return t.iterator().next().value},n.prototype.getCommands=function(){for(var e=new Map,t=0,r=Xb(this._commands);t<r.length;t++){var i=r[t],o=this.getCommand(i);o&&e.set(i,o)}return e},n}()),BAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HAe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gj=function(n,e){return function(t,r){e(t,r,n)}},VAe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},WAe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},UAe=function(n){BAe(e,n);function e(t,r){var i=n.call(this)||this;return i._editorService=t,i._commandService=r,i._openers=new Mc,i._validators=new Mc,i}return e.prototype.open=function(t,r){return VAe(this,void 0,void 0,function(){var i,o,s,a,u,l,c;return WAe(this,function(h){switch(h.label){case 0:if(!t.scheme)return[2,Promise.resolve(!1)];i=0,o=this._validators.toArray(),h.label=1;case 1:return i<o.length?(s=o[i],[4,s.shouldOpen(t)]):[3,4];case 2:if(!h.sent())return[2,!1];h.label=3;case 3:return i++,[3,1];case 4:a=0,u=this._openers.toArray(),h.label=5;case 5:return a<u.length?(l=u[a],[4,l.open(t,r)]):[3,8];case 6:if(c=h.sent(),c)return[2,!0];h.label=7;case 7:return a++,[3,5];case 8:return[2,this._doOpen(t,r)]}})})},e.prototype._doOpen=function(t,r){var i,o=t.scheme,s=t.path,a=t.query,u=t.fragment;if(qf(o,Tn.mailto)||r&&r.openExternal)return this._doOpenExternal(t);if(qf(o,Tn.http)||qf(o,Tn.https))return this._doOpenExternal(t);if(qf(o,Tn.command)){if(!Bi.getCommand(s))return Promise.reject("command '"+s+"' NOT known");var l=[];try{l=hee(a),Array.isArray(l)||(l=[l])}catch{}return(i=this._commandService).executeCommand.apply(i,[s].concat(l)).then(function(){return!0})}else{var c=void 0,h=/^L?(\d+)(?:,(\d+))?/.exec(u);return h&&(c={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},t=t.with({fragment:""})),t.scheme===Tn.file&&(t=kAe(t)),this._editorService.openCodeEditor({resource:t,options:{selection:c}},this._editorService.getFocusedCodeEditor(),r&&r.openToSide).then(function(){return!0})}},e.prototype._doOpenExternal=function(t){return cee(encodeURI(t.toString(!0))),Promise.resolve(!0)},e.prototype.dispose=function(){this._validators.clear()},e=HAe([Gj(0,In),Gj(1,no)],e),e}(he);function cm(n,e){if(!n)throw new Error(e?"Assertion failed ("+e+")":"Assertion Failed")}var jAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qAe={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},zAe=function(n){jAe(e,n);function e(t,r){r===void 0&&(r={});var i=n.call(this)||this;return i._onDidUpdate=i._register(new Q),i._editor=t,i._options=$r(r,qAe,!1),i.disposed=!1,i.nextIdx=-1,i.ranges=[],i.ignoreSelectionChange=!1,i.revealFirst=!!i._options.alwaysRevealFirst,i._register(i._editor.onDidDispose(function(){return i.dispose()})),i._register(i._editor.onDidUpdateDiff(function(){return i._onDiffUpdated()})),i._options.followsCaret&&i._register(i._editor.getModifiedEditor().onDidChangeCursorPosition(function(o){i.ignoreSelectionChange||(i.nextIdx=-1)})),i._options.alwaysRevealFirst&&i._register(i._editor.getModifiedEditor().onDidChangeModel(function(o){i.revealFirst=!0})),i._init(),i}return e.prototype._init=function(){var t=this._editor.getLineChanges()},e.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},e.prototype._compute=function(t){var r=this;this.ranges=[],t&&t.forEach(function(i){!r._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(function(o){r.ranges.push({rhs:!0,range:new H(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):r.ranges.push({rhs:!0,range:new H(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber,1)})}),this.ranges.sort(function(i,o){return i.range.getStartPosition().isBeforeOrEqual(o.range.getStartPosition())?-1:o.range.getStartPosition().isBeforeOrEqual(i.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},e.prototype._initIdx=function(t){var r=!1,i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(var o=0,s=this.ranges.length;o<s&&!r;o++){var a=this.ranges[o].range;i.isBeforeOrEqual(a.getStartPosition())&&(this.nextIdx=o+(t?0:-1),r=!0)}r||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},e.prototype._move=function(t,r){if(cm(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var o=i.range.getStartPosition();this._editor.setPosition(o),this._editor.revealPositionInCenter(o,r)}finally{this.ignoreSelectionChange=!1}}},e.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},e.prototype.next=function(t){t===void 0&&(t=0),this._move(!0,t)},e.prototype.previous=function(t){t===void 0&&(t=0),this._move(!1,t)},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},e}(he),Wc=new(function(){function n(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Q,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return n.prototype.getZoomLevel=function(){return this._zoomLevel},n.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},n}()),GAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$Ae=Tt?1.5:1.35,$j=8,KAe=100,Kj=8,YAe=150,XAe=-5,QAe=20;function Yj(n,e){if(typeof n=="number")return n;if(typeof n>"u")return e;var t=parseFloat(n);return isNaN(t)?e:t}function ZAe(n,e){if(typeof n=="number")return Math.round(n);if(typeof n>"u")return e;var t=parseInt(n);return isNaN(t)?e:t}function NO(n,e,t){return n<e?e:n>t?t:n}function Xj(n,e){return typeof n!="string"?e:n}var N6=function(){function n(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}return n.createFromRawSettings=function(e,t,r){r===void 0&&(r=!1);var i=Xj(e.fontFamily,sp.fontFamily),o=Xj(e.fontWeight,sp.fontWeight),s=Yj(e.fontSize,sp.fontSize);s=NO(s,0,KAe),s===0?s=sp.fontSize:s<$j&&(s=$j);var a=ZAe(e.lineHeight,0);a=NO(a,0,YAe),a===0?a=Math.round($Ae*s):a<Kj&&(a=Kj);var u=Yj(e.letterSpacing,0);u=NO(u,XAe,QAe);var l=1+(r?0:Wc.getZoomLevel()*.1);return s*=l,a*=l,new n({zoomLevel:t,fontFamily:i,fontWeight:o,fontSize:s,lineHeight:a,letterSpacing:u})},n.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},n.prototype.getMassagedFontFamily=function(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?'"'+this.fontFamily+'"':this.fontFamily},n}(),IM=function(n){GAe(e,n);function e(t,r){var i=n.call(this,t)||this;return i.isTrusted=r,i.isMonospace=t.isMonospace,i.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,i.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,i.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,i.spaceWidth=t.spaceWidth,i.maxDigitWidth=t.maxDigitWidth,i}return e.prototype.equals=function(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.spaceWidth===t.spaceWidth&&this.maxDigitWidth===t.maxDigitWidth},e}(N6);function JAe(n){return n&&typeof n.id=="string"}var l2={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},un={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"},da;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(da||(da={}));var MT;(function(n){n[n.Inline=1]="Inline"})(MT||(MT={}));var NS=function(){function n(e){this.tabSize=e.tabSize|0,this.indentSize=e.tabSize|0,this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace}return n.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},n.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},n}(),Qb=function(){function n(e,t){this.range=e,this.matches=t}return n}(),e2e=function(){function n(e,t,r){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=r}return n}(),OO="**",Qj="/",OS="[/\\\\]",kS="[^/\\\\]",t2e=/\//g;function Zj(n){switch(n){case 0:return"";case 1:return kS+"*?";default:return"(?:"+OS+"|"+kS+"+"+OS+"|"+OS+kS+"+)*?"}}function Jj(n,e){if(!n)return[];for(var t=[],r=!1,i=!1,o="",s=0,a=n;s<a.length;s++){var u=a[s];switch(u){case e:if(!r&&!i){t.push(o),o="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=u}return o&&t.push(o),t}function Aee(n){if(!n)return"";var e="",t=Jj(n,Qj);if(t.every(function(i){return i===OO}))e=".*";else{var r=!1;t.forEach(function(i,o){if(i===OO){r||(e+=Zj(2),r=!0);return}for(var s=!1,a="",u=!1,l="",c=0,h=i;c<h.length;c++){var d=h[c];if(d!=="}"&&s){a+=d;continue}if(u&&(d!=="]"||!l)){var p=void 0;d==="-"?p=d:(d==="^"||d==="!")&&!l?p="^":d===Qj?p="":p=Ol(d),l+=p;continue}switch(d){case"{":s=!0;continue;case"[":u=!0;continue;case"}":var v=Jj(a,","),m="(?:"+v.map(function(_){return Aee(_)}).join("|")+")";e+=m,s=!1,a="";break;case"]":e+="["+l+"]",u=!1,l="";break;case"?":e+=kS;continue;case"*":e+=Zj(1);continue;default:e+=Ol(d)}}o<t.length-1&&(t[o+1]!==OO||o+2<t.length)&&(e+=OS),r=!1})}return e}var n2e=/^\*\*\/\*\.[\w\.-]+$/,r2e=/^\*\*\/([\w\.-]+)\/?$/,i2e=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,o2e=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,s2e=/^\*\*((\/[\w\.-]+)+)\/?$/,a2e=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,eq=new Mm(1e4),tq=function(){return!1},ml=function(){return null};function O6(n,e){if(!n)return ml;var t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();var r=t+"_"+!!e.trimForExclusions,i=eq.get(r);if(i)return nq(i,n);var o;if(n2e.test(t)){var s=t.substr(4);i=function(a,u){return typeof a=="string"&&Bc(a,s)?t:null}}else(o=r2e.exec(kO(t,e)))?i=u2e(o[1],t):(e.trimForExclusions?o2e:i2e).test(t)?i=l2e(t,e):(o=s2e.exec(kO(t,e)))?i=rq(o[1].substr(1),t,!0):(o=a2e.exec(kO(t,e)))?i=rq(o[1],t,!1):i=c2e(t);return eq.set(r,i),nq(i,n)}function nq(n,e){return typeof e=="string"?n:function(t,r){return LAe(t,e.base)?n(See(e.base,t),r):null}}function kO(n,e){return e.trimForExclusions&&Bc(n,"/**")?n.substr(0,n.length-2):n}function u2e(n,e){var t="/"+n,r="\\"+n,i=function(s,a){return typeof s!="string"?null:a?a===n?e:null:s===n||Bc(s,t)||Bc(s,r)?e:null},o=[n];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}function l2e(n,e){var t=xee(n.slice(1,-1).split(",").map(function(a){return O6(a,e)}).filter(function(a){return a!==ml}),n),r=t.length;if(!r)return ml;if(r===1)return t[0];var i=function(a,u){for(var l=0,c=t.length;l<c;l++)if(t[l](a,u))return n;return null},o=xP(t,function(a){return!!a.allBasenames});o&&(i.allBasenames=o.allBasenames);var s=t.reduce(function(a,u){return u.allPaths?a.concat(u.allPaths):a},[]);return s.length&&(i.allPaths=s),i}function rq(n,e,t){var r=Jy!==Tr.sep?n.replace(t2e,Jy):n,i=Jy+r,o=t?function(s,a){return typeof s=="string"&&(s===r||Bc(s,i))?e:null}:function(s,a){return typeof s=="string"&&s===r?e:null};return o.allPaths=[(t?"*/":"./")+n],o}function c2e(n){try{var e=new RegExp("^"+Aee(n)+"$");return function(t,r){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return ml}}function Iee(n,e,t){return!n||typeof e!="string"?!1:f2e(n)(e,void 0,t)}function f2e(n,e){if(e===void 0&&(e={}),!n)return tq;if(typeof n=="string"||h2e(n)){var t=O6(n,e);if(t===ml)return tq;var r=function(i,o){return!!t(i,o)};return t.allBasenames&&(r.allBasenames=t.allBasenames),t.allPaths&&(r.allPaths=t.allPaths),r}return d2e(n,e)}function h2e(n){var e=n;return e&&typeof e.base=="string"&&typeof e.pattern=="string"}function d2e(n,e){var t=xee(Object.getOwnPropertyNames(n).map(function(c){return p2e(c,n[c],e)}).filter(function(c){return c!==ml})),r=t.length;if(!r)return ml;if(!t.some(function(c){return!!c.requiresSiblings})){if(r===1)return t[0];var i=function(c,h){for(var d=0,p=t.length;d<p;d++){var v=t[d](c,h);if(v)return v}return null},o=xP(t,function(c){return!!c.allBasenames});o&&(i.allBasenames=o.allBasenames);var s=t.reduce(function(c,h){return h.allPaths?c.concat(h.allPaths):c},[]);return s.length&&(i.allPaths=s),i}var a=function(c,h,d){for(var p=void 0,v=0,m=t.length;v<m;v++){var _=t[v];_.requiresSiblings&&d&&(h||(h=Vp(c)),p||(p=h.substr(0,h.length-Tee(c).length)));var b=_(c,h,p,d);if(b)return b}return null},u=xP(t,function(c){return!!c.allBasenames});u&&(a.allBasenames=u.allBasenames);var l=t.reduce(function(c,h){return h.allPaths?c.concat(h.allPaths):c},[]);return l.length&&(a.allPaths=l),a}function p2e(n,e,t){if(e===!1)return ml;var r=O6(n,t);if(r===ml)return ml;if(typeof e=="boolean")return r;if(e){var i=e.when;if(typeof i=="string"){var o=function(s,a,u,l){if(!l||!r(s,a))return null;var c=i.replace("$(basename)",u),h=l(c);return HDe(h)?h.then(function(d){return d?n:null}):h?n:null};return o.requiresSiblings=!0,o}}return r}function xee(n,e){var t=n.filter(function(l){return!!l.basenames});if(t.length<2)return n;var r=t.reduce(function(l,c){var h=c.basenames;return h?l.concat(h):l},[]),i;if(e){i=[];for(var o=0,s=r.length;o<s;o++)i.push(e)}else i=t.reduce(function(l,c){var h=c.patterns;return h?l.concat(h):l},[]);var a=function(l,c){if(typeof l!="string")return null;if(!c){var h=void 0;for(h=l.length;h>0;h--){var d=l.charCodeAt(h-1);if(d===47||d===92)break}c=l.substr(h)}var p=r.indexOf(c);return p!==-1?i[p]:null};a.basenames=r,a.patterns=i,a.allBasenames=r;var u=n.filter(function(l){return!l.basenames});return u.push(a),u}function Lee(n,e,t,r){if(Array.isArray(n)){for(var i=0,o=0,s=n;o<s.length;o++){var a=s[o],u=Lee(a,e,t,r);if(u===10)return u;u>i&&(i=u)}return i}else{if(typeof n=="string")return r?n==="*"?5:n===t?10:0:0;if(n){var l=n.language,c=n.pattern,h=n.scheme,d=n.hasAccessToAllModels;if(!r&&!d)return 0;var i=0;if(h)if(h===e.scheme)i=10;else if(h==="*")i=5;else return 0;if(l)if(l===t)i=10;else if(l==="*")i=Math.max(i,5);else return 0;if(c)if(c===e.fsPath||Iee(c,e.fsPath))i=10;else return 0;return i}else return 0}}var ps=qt("modelService");function g2e(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}function Nee(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(Nee):!!n.exclusive}var Jr=function(){function n(){this._clock=0,this._entries=[],this._onDidChange=new Q}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),n.prototype.register=function(e,t){var r=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),bn(function(){if(i){var o=r._entries.indexOf(i);o>=0&&(r._entries.splice(o,1),r._lastCandidate=void 0,r._onDidChange.fire(r._entries.length),i=void 0)}})},n.prototype.has=function(e){return this.all(e).length>0},n.prototype.all=function(e){if(!e)return[];this._updateScores(e);for(var t=[],r=0,i=this._entries;r<i.length;r++){var o=i[r];o._score>0&&t.push(o.provider)}return t},n.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,function(r){return t.push(r.provider)}),t},n.prototype.orderedGroups=function(e){var t=[],r,i;return this._orderedForEach(e,function(o){r&&i===o._score?r.push(o.provider):(i=o._score,r=[o.provider],t.push(r))}),t},n.prototype._orderedForEach=function(e,t){if(e){this._updateScores(e);for(var r=0,i=this._entries;r<i.length;r++){var o=i[r];o._score>0&&t(o)}}},n.prototype._updateScores=function(e){var t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri)){this._lastCandidate=t;for(var r=0,i=this._entries;r<i.length;r++){var o=i[r];if(o._score=Lee(o.selector,e.uri,e.getLanguageIdentifier().language,g2e(e)),Nee(o.selector)&&o._score>0){for(var s=0,a=this._entries;s<a.length;s++){var u=a[s];u._score=0}o._score=1e3;break}}this._entries.sort(n._compareByScoreAndTime)}},n._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},n}(),v2e=function(){function n(){this._map=new Map,this._promises=new Map,this._onDidChange=new Q,this.onDidChange=this._onDidChange.event,this._colorMap=null}return n.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})},n.prototype.register=function(e,t){var r=this;return this._map.set(e,t),this.fire([e]),bn(function(){r._map.get(e)===t&&(r._map.delete(e),r.fire([e]))})},n.prototype.registerPromise=function(e,t){var r=this,i=null,o=!1;return this._promises.set(e,t.then(function(s){r._promises.delete(e),!(o||!s)&&(i=r.register(e,s))})),bn(function(){o=!0,i&&i.dispose()})},n.prototype.getPromise=function(e){var t=this,r=this.get(e);if(r)return Promise.resolve(r);var i=this._promises.get(e);return i?i.then(function(o){return t.get(e)}):null},n.prototype.get=function(e){return km(this._map.get(e))},n.prototype.setColorMap=function(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Xb(this._map),changedColorMap:!0})},n.prototype.getColorMap=function(){return this._colorMap},n.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null},n}(),k6=function(){function n(e,t){this.language=e,this.id=t}return n}(),gu=function(){function n(){}return n.getLanguageId=function(e){return(e&255)>>>0},n.getTokenType=function(e){return(e&1792)>>>8},n.getFontStyle=function(e){return(e&14336)>>>11},n.getForeground=function(e){return(e&8372224)>>>14},n.getBackground=function(e){return(e&4286578688)>>>23},n.getClassNameFromMetadata=function(e){var t=this.getForeground(e),r="mtk"+t,i=this.getFontStyle(e);return i&1&&(r+=" mtki"),i&2&&(r+=" mtkb"),i&4&&(r+=" mtku"),r},n.getInlineStyleFromMetadata=function(e,t){var r=this.getForeground(e),i=this.getFontStyle(e),o="color: "+t[r]+";";return i&1&&(o+="font-style: italic;"),i&2&&(o+="font-weight: bold;"),i&4&&(o+="text-decoration: underline;"),o},n}(),iq=function(){var n=Object.create(null);return n[0]="method",n[1]="function",n[2]="constructor",n[3]="field",n[4]="variable",n[5]="class",n[6]="struct",n[7]="interface",n[8]="module",n[9]="property",n[10]="event",n[11]="operator",n[12]="unit",n[13]="value",n[14]="constant",n[15]="enum",n[16]="enum-member",n[17]="keyword",n[25]="snippet",n[18]="text",n[19]="color",n[20]="file",n[21]="reference",n[22]="customcolor",n[23]="folder",n[24]="type-parameter",function(e){return n[e]||"property"}}(),R6=function(){var n=Object.create(null);return n.method=0,n.function=1,n.constructor=2,n.field=3,n.variable=4,n.class=5,n.struct=6,n.interface=7,n.module=8,n.property=9,n.event=10,n.operator=11,n.unit=12,n.value=13,n.constant=14,n.enum=15,n["enum-member"]=16,n.enumMember=16,n.keyword=17,n.snippet=25,n.text=18,n.color=19,n.file=20,n.reference=21,n.customcolor=22,n.folder=23,n["type-parameter"]=24,n.typeParameter=24,function(e,t){var r=n[e];return typeof r>"u"&&!t&&(r=9),r}}(),yp;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(yp||(yp={}));var Zb;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(Zb||(Zb={}));function m2e(n){return n&&Ft.isUri(n.uri)&&H.isIRange(n.range)&&(H.isIRange(n.originSelectionRange)||H.isIRange(n.targetSelectionRange))}var _2e=function(){var n=Object.create(null);return n[0]="file",n[1]="module",n[2]="namespace",n[3]="package",n[4]="class",n[5]="method",n[6]="property",n[7]="field",n[8]="constructor",n[9]="enum",n[10]="interface",n[11]="function",n[12]="variable",n[13]="constant",n[14]="string",n[15]="number",n[16]="boolean",n[17]="array",n[18]="object",n[19]="key",n[20]="null",n[21]="enum-member",n[22]="struct",n[23]="event",n[24]="operator",n[25]="type-parameter",function(t,r){return"symbol-icon "+(r?"inline":"block")+" "+(n[t]||"property")}}(),c2=function(){function n(e){this.value=e}return n.Comment=new n("comment"),n.Imports=new n("imports"),n.Region=new n("region"),n}();function y2e(n){return $i(n)&&n.resource&&Array.isArray(n.edits)}var FT=new Jr,BT=new Jr,cl=new Jr,bp=new Jr,Jb=new Jr,zf=new Jr,Fm=new Jr,e1=new Jr,HT=new Jr,VT=new Jr,WT=new Jr,Cp=new Jr,xc=new Jr,eb=new Jr,vu=new Jr,UT=new Jr,t1=new Jr,Bm=new Jr,f2=new Jr,xM=new Jr,Vn=new v2e,b2e=function(){function n(){}return n.prototype.clone=function(){return this},n.prototype.equals=function(e){return this===e},n}(),gC=new b2e,P6="vs.editor.nullMode",jT=new k6(P6,0);function Oee(n,e,t,r){return new h6([new i2(r,"",n)],t)}function M6(n,e,t,r){var i=new Uint32Array(2);return i[0]=r,i[1]=(n<<0|0|0|16384|2<<23)>>>0,new o2(i,t===null?gC:t)}var C2e="editorWorkerService",za=qt(C2e),Wp=qt("textModelService"),w2e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E2e="$initialize",oq=!1;function LM(n){u6&&(oq||(oq=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(n.message))}var S2e=function(){function n(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return n.prototype.setWorkerId=function(e){this._workerId=e},n.prototype.sendMessage=function(e,t){var r=this,i=String(++this._lastSentReq);return new Promise(function(o,s){r._pendingReplies[i]={resolve:o,reject:s},r._send({vsWorker:r._workerId,req:i,method:e,args:t})})},n.prototype.handleMessage=function(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)},n.prototype._handleMessage=function(e){var t=this;if(e.seq){var r=e;if(!this._pendingReplies[r.seq]){console.warn("Got reply to unknown seq");return}var i=this._pendingReplies[r.seq];if(delete this._pendingReplies[r.seq],r.err){var o=r.err;r.err.$isError&&(o=new Error,o.name=r.err.name,o.message=r.err.message,o.stack=r.err.stack),i.reject(o);return}i.resolve(r.res);return}var s=e,a=s.req,u=this._handler.handleMessage(s.method,s.args);u.then(function(l){t._send({vsWorker:t._workerId,seq:a,res:l,err:void 0})},function(l){l.detail instanceof Error&&(l.detail=Fj(l.detail)),t._send({vsWorker:t._workerId,seq:a,res:void 0,err:Fj(l)})})},n.prototype._send=function(e){var t=[];if(e.req)for(var r=e,i=0;i<r.args.length;i++)r.args[i]instanceof ArrayBuffer&&t.push(r.args[i]);else{var r=e;r.res instanceof ArrayBuffer&&t.push(r.res)}this._handler.sendMessage(e,t)},n}(),T2e=function(n){w2e(e,n);function e(t,r,i){var o=n.call(this)||this,s=null;o._worker=o._register(t.create("vs/base/common/worker/simpleWorker",function(c){o._protocol.handleMessage(c)},function(c){s&&s(c)})),o._protocol=new S2e({sendMessage:function(c,h){o._worker.postMessage(c,h)},handleMessage:function(c,h){if(typeof i[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(i[c].apply(i,h))}catch(d){return Promise.reject(d)}}}),o._protocol.setWorkerId(o._worker.getId());var a=null;typeof self.require<"u"&&typeof self.require.getConfig=="function"?a=self.require.getConfig():typeof self.requirejs<"u"&&(a=self.requirejs.s.contexts._.config);var u=a6(i);o._onModuleLoaded=o._protocol.sendMessage(E2e,[o._worker.getId(),JSON.parse(JSON.stringify(a)),r,u]);var l=function(c,h){return o._request(c,h)};return o._lazyProxy=new Promise(function(c,h){s=h,o._onModuleLoaded.then(function(d){c(HJ(d,l))},function(d){h(d),o._onError("Worker failed to load "+r,d)})}),o}return e.prototype.getProxyObject=function(){return this._lazyProxy},e.prototype._request=function(t,r){var i=this;return new Promise(function(o,s){i._onModuleLoaded.then(function(){i._protocol.sendMessage(t,r).then(o,s)},s)})},e.prototype._onError=function(t,r){console.error(t),console.info(r)},e}(he);function D2e(n,e){if(Ds.MonacoEnvironment){if(typeof Ds.MonacoEnvironment.getWorker=="function")return Ds.MonacoEnvironment.getWorker(n,e);if(typeof Ds.MonacoEnvironment.getWorkerUrl=="function")return new Worker(Ds.MonacoEnvironment.getWorkerUrl(n,e))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function A2e(n){return typeof n.then=="function"}var I2e=function(){function n(e,t,r,i,o){this.id=t;var s=D2e("workerMain.js",r);A2e(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(function(a){a.onmessage=function(u){i(u.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}return n.prototype.getId=function(){return this.id},n.prototype.postMessage=function(e,t){this.worker&&this.worker.then(function(r){return r.postMessage(e,t)})},n.prototype.dispose=function(){this.worker&&this.worker.then(function(e){return e.terminate()}),this.worker=null},n}(),x2e=function(){function n(e){this._label=e,this._webWorkerFailedBeforeError=!1}return n.prototype.create=function(e,t,r){var i=this,o=++n.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new I2e(e,o,this._label||"anonymous"+o,t,function(s){LM(s),i._webWorkerFailedBeforeError=s,r(s)})},n.LAST_WORKER_ID=0,n}(),Xn;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Xn||(Xn={}));var RO=function(){function n(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(var t=0,r=e.notIn.length;t<r;t++){var i=e.notIn[t];switch(i){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}return n.prototype.isOK=function(e){return(this._standardTokenMask&e)===0},n}();function AE(n,e){for(var t=n.getCount(),r=n.findTokenIndexAtOffset(e),i=n.getLanguageId(r),o=r;o+1<t&&n.getLanguageId(o+1)===i;)o++;for(var s=r;s>0&&n.getLanguageId(s-1)===i;)s--;return new L2e(n,i,s,o+1,n.getStartOffset(s),n.getEndOffset(o))}var L2e=function(){function n(e,t,r,i,o,s){this._actual=e,this.languageId=t,this._firstTokenIndex=r,this._lastTokenIndex=i,this.firstCharOffset=o,this._lastCharOffset=s}return n.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)},n.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},n.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},n.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},n}();function Vd(n){return(n&7)!==0}var NM=function(){function n(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(function(r){return new RO(r)}):e.brackets?this._autoClosingPairs=e.brackets.map(function(r){return new RO({open:r[0],close:r[1]})}):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){var t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new RO({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:n.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}return n.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},n.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},n.shouldAutoClosePair=function(e,t,r){if(t.getTokenCount()===0)return!0;var i=t.findTokenIndexAtOffset(r-2),o=t.getStandardTokenType(i);return e.isOK(o)},n.prototype.getSurroundingPairs=function(){return this._surroundingPairs},n.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`,n}(),N2e=function(){function n(e,t,r,i,o){this.languageIdentifier=e,this.open=t,this.close=r,this.forwardRegex=i,this.reversedRegex=o}return n}(),O2e=function(){function n(e,t){var r=this;this.brackets=t.map(function(o){return new N2e(e,o[0],o[1],k2e({open:o[0],close:o[1]}),R2e({open:o[0],close:o[1]}))}),this.forwardRegex=P2e(this.brackets),this.reversedRegex=M2e(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var i=0;this.brackets.forEach(function(o){r.textIsBracket[o.open.toLowerCase()]=o,r.textIsBracket[o.close.toLowerCase()]=o,r.textIsOpenBracket[o.open.toLowerCase()]=!0,r.textIsOpenBracket[o.close.toLowerCase()]=!1,i=Math.max(i,o.open.length),i=Math.max(i,o.close.length)}),this.maxBracketLength=i}return n}();function h2(n,e){var t={};return function(r){var i=n(r);return t.hasOwnProperty(i)||(t[i]=e(r)),t[i]}}var k2e=h2(function(n){return n.open+";"+n.close},function(n){return d2([n.open,n.close])}),R2e=h2(function(n){return n.open+";"+n.close},function(n){return d2([n1(n.open),n1(n.close)])}),P2e=h2(function(n){return n.map(function(e){return e.open+";"+e.close}).join(";")},function(n){var e=[];return n.forEach(function(t){e.push(t.open),e.push(t.close)}),d2(e)}),M2e=h2(function(n){return n.map(function(e){return e.open+";"+e.close}).join(";")},function(n){var e=[];return n.forEach(function(t){e.push(n1(t.open)),e.push(n1(t.close))}),d2(e)});function F2e(n){var e=/^[\w]+$/.test(n);return n=Ol(n),e?"\\b"+n+"\\b":n}function d2(n){var e="("+n.map(F2e).join(")|(")+")";return b6(e,!0)}var n1=function(){function n(r){for(var i="",o=r.length-1;o>=0;o--)i+=r.charAt(o);return i}var e=null,t=null;return function(i){return e!==i&&(e=i,t=n(e)),t}}(),Wd=function(){function n(){}return n._findPrevBracketInText=function(e,t,r,i){var o=r.match(e);if(!o)return null;var s=r.length-(o.index||0),a=o[0].length,u=i+s;return new H(t,u-a+1,t,u+1)},n.findPrevBracketInToken=function(e,t,r,i,o){var s=n1(r),a=s.substring(r.length-o,r.length-i);return this._findPrevBracketInText(e,t,a,i)},n.findNextBracketInText=function(e,t,r,i){var o=r.match(e);if(!o)return null;var s=o.index||0,a=o[0].length;if(a===0)return null;var u=i+s;return new H(t,u+1,t,u+1+a)},n.findNextBracketInToken=function(e,t,r,i,o){var s=r.substring(i,o);return this.findNextBracketInText(e,t,s,i)},n}(),B2e=function(){function n(e){this._richEditBrackets=e}return n.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,r=this._richEditBrackets.brackets.length;t<r;t++){var i=this._richEditBrackets.brackets[t],o=i.close.charAt(i.close.length-1);e.push(o)}return e=e.filter(function(s,a,u){return u.indexOf(s)===a}),e},n.prototype.onElectricCharacter=function(e,t,r){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var i=t.findTokenIndexAtOffset(r-1);if(Vd(t.getStandardTokenType(i)))return null;var o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,r-1)+e,a=Wd.findPrevBracketInToken(o,1,s,0,s.length);if(!a)return null;var u=s.substring(a.startColumn-1,a.endColumn-1);u=u.toLowerCase();var l=this._richEditBrackets.textIsOpenBracket[u];if(l)return null;var c=s.substring(0,a.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:u}:null},n}(),H2e=function(){function n(e){this._indentationRules=e}return n.prototype.shouldIncrease=function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))},n.prototype.shouldDecrease=function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))},n.prototype.shouldIndentNextLine=function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))},n.prototype.shouldIgnore=function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))},n.prototype.getIndentMetadata=function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t},n}(),V2e=function(){function n(e){var t=this;e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(function(r){var i=n._createOpenBracketRegExp(r[0]),o=n._createCloseBracketRegExp(r[1]);i&&o&&t._brackets.push({open:r[0],openRegExp:i,close:r[1],closeRegExp:o})}),this._regExpRules=e.regExpRules||[]}return n.prototype.onEnter=function(e,t,r){for(var i=0,o=this._regExpRules.length;i<o;i++){var s=this._regExpRules[i],a=[{reg:s.beforeText,text:t},{reg:s.afterText,text:r},{reg:s.oneLineAboveText,text:e}].every(function(l){return l.reg?l.reg.test(l.text):!0});if(a)return s.action}if(t.length>0&&r.length>0)for(var i=0,o=this._brackets.length;i<o;i++){var u=this._brackets[i];if(u.openRegExp.test(t)&&u.closeRegExp.test(r))return{indentAction:Xn.IndentOutdent}}if(t.length>0)for(var i=0,o=this._brackets.length;i<o;i++){var u=this._brackets[i];if(u.openRegExp.test(t))return{indentAction:Xn.Indent}}return null},n._createOpenBracketRegExp=function(e){var t=Ol(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",n._safeRegExp(t)},n._createCloseBracketRegExp=function(e){var t=Ol(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,n._safeRegExp(t)},n._safeRegExp=function(e){try{return new RegExp(e)}catch(t){return He(t),null}},n}(),W2e=function(){function n(e,t,r){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null;var i=null;t&&(i=t._conf),this._conf=n._mergeConf(i,r),this.onEnter=n._handleOnEnter(this._conf),this.comments=n._handleComments(this._conf),this.characterPair=new NM(this._conf),this.wordDefinition=this._conf.wordPattern||zJ,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new H2e(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}return Object.defineProperty(n.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new O2e(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"electricCharacter",{get:function(){return this._electricCharacter||(this._electricCharacter=new B2e(this.brackets)),this._electricCharacter},enumerable:!0,configurable:!0}),n._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,autoCloseBefore:e?t.autoCloseBefore||e.autoCloseBefore:t.autoCloseBefore,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},n._handleOnEnter=function(e){var t={},r=!0;return e.brackets&&(r=!1,t.brackets=e.brackets),e.indentationRules&&(r=!1),e.onEnterRules&&(r=!1,t.regExpRules=e.onEnterRules),r?null:new V2e(t)},n._handleComments=function(e){var t=e.comments;if(!t)return null;var r={};if(t.lineComment&&(r.lineCommentToken=t.lineComment),t.blockComment){var i=t.blockComment,o=i[0],s=i[1];r.blockCommentStartToken=o,r.blockCommentEndToken=s}return r},n}(),sq=function(){function n(e){this.languageIdentifier=e}return n}(),U2e=function(){function n(){this._entries=new Map,this._onDidChange=new Q,this.onDidChange=this._onDidChange.event}return n.prototype.register=function(e,t){var r=this,i=this._getRichEditSupport(e.id),o=new W2e(e,i,t);return this._entries.set(e.id,o),this._onDidChange.fire(new sq(e)),bn(function(){r._entries.get(e.id)===o&&(r._entries.set(e.id,i),r._onDidChange.fire(new sq(e)))})},n.prototype._getRichEditSupport=function(e){return this._entries.get(e)},n.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.electricCharacter||null},n.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]},n.prototype.onElectricCharacter=function(e,t,r){var i=AE(t,r-1),o=this._getElectricCharacterSupport(i.languageId);return o?o.onElectricCharacter(e,i,r-i.firstCharOffset):null},n.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t&&t.comments||null},n.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.characterPair||null},n.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]},n.prototype.getAutoCloseBeforeSet=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():NM.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},n.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]},n.prototype.shouldAutoClosePair=function(e,t,r){var i=AE(t,r-1);return NM.shouldAutoClosePair(e,i,r-i.firstCharOffset)},n.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return kP(t&&t.wordDefinition||null)},n.prototype.getFoldingRules=function(e){var t=this._getRichEditSupport(e);return t?t.foldingRules:{}},n.prototype.getIndentRulesSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null},n.prototype.getPrecedingValidLine=function(e,t,r){var i=e.getLanguageIdAtPosition(t,0);if(t>1){var o=void 0,s=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==i)return s;var a=e.getLineContent(o);if(r.shouldIgnore(a)||/^\s+$/.test(a)||a===""){s=o;continue}return o}}return-1},n.prototype.getInheritIndentForLine=function(e,t,r){r===void 0&&(r=!0);var i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);if(!i)return null;if(t<=1)return{indentation:"",action:null};var o=this.getPrecedingValidLine(e,t,i);if(o<0)return null;if(o<1)return{indentation:"",action:null};var s=e.getLineContent(o);if(i.shouldIncrease(s)||i.shouldIndentNextLine(s))return{indentation:Ln(s),action:Xn.Indent,line:o};if(i.shouldDecrease(s))return{indentation:Ln(s),action:null,line:o};if(o===1)return{indentation:Ln(e.getLineContent(o)),action:null,line:o};var a=o-1,u=i.getIndentMetadata(e.getLineContent(a));if(!(u&3)&&u&4){for(var l=0,c=a-1;c>0;c--)if(!i.shouldIndentNextLine(e.getLineContent(c))){l=c;break}return{indentation:Ln(e.getLineContent(l+1)),action:null,line:l+1}}if(r)return{indentation:Ln(e.getLineContent(o)),action:null,line:o};for(var c=o;c>0;c--){var h=e.getLineContent(c);if(i.shouldIncrease(h))return{indentation:Ln(h),action:Xn.Indent,line:c};if(i.shouldIndentNextLine(h)){for(var l=0,d=c-1;d>0;d--)if(!i.shouldIndentNextLine(e.getLineContent(c))){l=d;break}return{indentation:Ln(e.getLineContent(l+1)),action:null,line:l+1}}else if(i.shouldDecrease(h))return{indentation:Ln(h),action:null,line:c}}return{indentation:Ln(e.getLineContent(1)),action:null,line:1}},n.prototype.getGoodIndentForLine=function(e,t,r,i){var o=this.getIndentRulesSupport(t);if(!o)return null;var s=this.getInheritIndentForLine(e,r),a=e.getLineContent(r);if(s){var u=s.line;if(u!==void 0){var l=this._getOnEnterSupport(t),c=null;try{l&&(c=l.onEnter("",e.getLineContent(u),""))}catch(d){He(d)}if(c){var h=Ln(e.getLineContent(u));return c.removeText&&(h=h.substring(0,h.length-c.removeText)),c.indentAction===Xn.Indent||c.indentAction===Xn.IndentOutdent?h=i.shiftIndent(h):c.indentAction===Xn.Outdent&&(h=i.unshiftIndent(h)),o.shouldDecrease(a)&&(h=i.unshiftIndent(h)),c.appendText&&(h+=c.appendText),Ln(h)}}return o.shouldDecrease(a)?s.action===Xn.Indent?s.indentation:i.unshiftIndent(s.indentation):s.action===Xn.Indent?i.shiftIndent(s.indentation):s.indentation}return null},n.prototype.getIndentForEnter=function(e,t,r,i){e.forceTokenization(t.startLineNumber);var o=e.getLineTokens(t.startLineNumber),s,a,u=AE(o,t.startColumn-1),l=u.getLineContent(),c=!1;if(u.firstCharOffset>0&&o.getLanguageId(0)!==u.languageId?(c=!0,s=l.substr(0,t.startColumn-1-u.firstCharOffset)):s=o.getLineContent().substring(0,t.startColumn-1),t.isEmpty())a=l.substr(t.startColumn-1-u.firstCharOffset);else{var h=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);a=h.getLineContent().substr(t.endColumn-1-u.firstCharOffset)}var d=this.getIndentRulesSupport(u.languageId);if(!d)return null;var p=s,v=Ln(s);if(!i&&!c){var m=this.getInheritIndentForLine(e,t.startLineNumber);d.shouldDecrease(s)&&m&&(v=m.indentation,m.action!==Xn.Indent&&(v=r.unshiftIndent(v))),p=v+TM(TM(s," "),"	")}var _={getLineTokens:function(A){return e.getLineTokens(A)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(A,T){return e.getLanguageIdAtPosition(A,T)},getLineContent:function(A){return A===t.startLineNumber?p:e.getLineContent(A)}},b=Ln(o.getLineContent()),C=this.getInheritIndentForLine(_,t.startLineNumber+1);if(!C){var E=c?b:v;return{beforeEnter:E,afterEnter:E}}var S=c?b:C.indentation;return C.action===Xn.Indent&&(S=r.shiftIndent(S)),d.shouldDecrease(a)&&(S=r.unshiftIndent(S)),{beforeEnter:c?b:v,afterEnter:S}},n.prototype.getIndentActionForType=function(e,t,r,i){var o=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),s=this.getIndentRulesSupport(o.languageId);if(!s)return null;var a=o.getLineContent(),u=a.substr(0,t.startColumn-1-o.firstCharOffset),l;if(t.isEmpty())l=a.substr(t.startColumn-1-o.firstCharOffset);else{var c=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);l=c.getLineContent().substr(t.endColumn-1-o.firstCharOffset)}if(!s.shouldDecrease(u+l)&&s.shouldDecrease(u+r+l)){var h=this.getInheritIndentForLine(e,t.startLineNumber,!1);if(!h)return null;var d=h.indentation;return h.action!==Xn.Indent&&(d=i.unshiftIndent(d)),d}return null},n.prototype.getIndentMetadata=function(e,t){var r=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return!r||t<1||t>e.getLineCount()?null:r.getIndentMetadata(e.getLineContent(t))},n.prototype._getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.onEnter||null},n.prototype.getRawEnterActionAtPosition=function(e,t,r){var i=this.getEnterAction(e,new H(t,r,t,r));return i?i.enterAction:null},n.prototype.getEnterAction=function(e,t){var r=this.getIndentationAtPosition(e,t.startLineNumber,t.startColumn),i=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),o=this._getOnEnterSupport(i.languageId);if(!o)return null;var s=i.getLineContent(),a=s.substr(0,t.startColumn-1-i.firstCharOffset),u;if(t.isEmpty())u=s.substr(t.startColumn-1-i.firstCharOffset);else{var l=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);u=l.getLineContent().substr(t.endColumn-1-i.firstCharOffset)}var c=t.startLineNumber,h="";if(c>1&&i.firstCharOffset===0){var d=this.getScopedLineTokens(e,c-1);d.languageId===i.languageId&&(h=d.getLineContent())}var p=null;try{p=o.onEnter(h,a,u)}catch(v){He(v)}if(p)p.appendText||(p.indentAction===Xn.Indent||p.indentAction===Xn.IndentOutdent?p.appendText="	":p.appendText="");else return null;return p.removeText&&(r=r.substring(0,r.length-p.removeText)),{enterAction:p,indentation:r}},n.prototype.getIndentationAtPosition=function(e,t,r){var i=e.getLineContent(t),o=Ln(i);return o.length>r-1&&(o=o.substring(0,r-1)),o},n.prototype.getScopedLineTokens=function(e,t,r){e.forceTokenization(t);var i=e.getLineTokens(t),o=typeof r>"u"?e.getLineMaxColumn(t)-1:r-1,s=AE(i,o);return s},n.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.brackets||null},n}(),Ot=new U2e,Tf=function(){function n(e,t,r,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=r,this.modifiedLength=i}return n.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},n.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},n}();function aq(n){return{getLength:function(){return n.length},getElementAtIndex:function(e){return n.charCodeAt(e)}}}function j2e(n,e,t){return new F6(aq(n),aq(e)).ComputeDiff(t)}var cv=function(){function n(){}return n.Assert=function(e,t){if(!e)throw new Error(t)},n}(),fv=function(){function n(){}return n.Copy=function(e,t,r,i,o){for(var s=0;s<o;s++)r[i+s]=e[t+s]},n}(),Ed=1447,uq=function(){function n(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return n.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Tf(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},n.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},n.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},n.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},n.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},n}(),F6=function(){function n(e,t,r){r===void 0&&(r=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=r,this.m_forwardHistory=[],this.m_reverseHistory=[]}return n.prototype.ElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},n.prototype.OriginalElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.OriginalSequence.getElementAtIndex(t)},n.prototype.ModifiedElementsAreEqual=function(e,t){return this.ModifiedSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},n.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)},n.prototype._ComputeDiff=function(e,t,r,i,o){var s=[!1],a=this.ComputeDiffRecursive(e,t,r,i,s);return o?this.PrettifyChanges(a):a},n.prototype.ComputeDiffRecursive=function(e,t,r,i,o){for(o[0]=!1;e<=t&&r<=i&&this.ElementsAreEqual(e,r);)e++,r++;for(;t>=e&&i>=r&&this.ElementsAreEqual(t,i);)t--,i--;if(e>t||r>i){var s=void 0;return r<=i?(cv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),s=[new Tf(e,0,r,i-r+1)]):e<=t?(cv.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),s=[new Tf(e,t-e+1,r,0)]):(cv.Assert(e===t+1,"originalStart should only be one more than originalEnd"),cv.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),s=[]),s}var a=[0],u=[0],l=this.ComputeRecursionPoint(e,t,r,i,a,u,o),c=a[0],h=u[0];if(l!==null)return l;if(!o[0]){var d=this.ComputeDiffRecursive(e,c,r,h,o),p=[];return o[0]?p=[new Tf(c+1,t-(c+1)+1,h+1,i-(h+1)+1)]:p=this.ComputeDiffRecursive(c+1,t,h+1,i,o),this.ConcatenateChanges(d,p)}return[new Tf(e,t-e+1,r,i-r+1)]},n.prototype.WALKTRACE=function(e,t,r,i,o,s,a,u,l,c,h,d,p,v,m,_,b,C){var E=null,S=null,A=new uq,T=t,N=r,k=p[0]-_[0]-i,F=Number.MIN_VALUE,L=this.m_forwardHistory.length-1,O;do O=k+e,O===T||O<N&&l[O-1]<l[O+1]?(h=l[O+1],v=h-k-i,h<F&&A.MarkNextChange(),F=h,A.AddModifiedElement(h+1,v),k=O+1-e):(h=l[O-1]+1,v=h-k-i,h<F&&A.MarkNextChange(),F=h-1,A.AddOriginalElement(h,v+1),k=O-1-e),L>=0&&(l=this.m_forwardHistory[L],e=l[0],T=1,N=l.length-1);while(--L>=-1);if(E=A.getReverseChanges(),C[0]){var P=p[0]+1,B=_[0]+1;if(E!==null&&E.length>0){var U=E[E.length-1];P=Math.max(P,U.getOriginalEnd()),B=Math.max(B,U.getModifiedEnd())}S=[new Tf(P,d-P+1,B,m-B+1)]}else{A=new uq,T=s,N=a,k=p[0]-_[0]-u,F=Number.MAX_VALUE,L=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do O=k+o,O===T||O<N&&c[O-1]>=c[O+1]?(h=c[O+1]-1,v=h-k-u,h>F&&A.MarkNextChange(),F=h+1,A.AddOriginalElement(h+1,v+1),k=O+1-o):(h=c[O-1],v=h-k-u,h>F&&A.MarkNextChange(),F=h,A.AddModifiedElement(h+1,v+1),k=O-1-o),L>=0&&(c=this.m_reverseHistory[L],o=c[0],T=1,N=c.length-1);while(--L>=-1);S=A.getChanges()}return this.ConcatenateChanges(E,S)},n.prototype.ComputeRecursionPoint=function(e,t,r,i,o,s,a){var u=0,l=0,c=0,h=0,d=0,p=0,v;e--,r--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var m=t-e+(i-r),_=m+1,b=new Array(_),C=new Array(_),E=i-r,S=t-e,A=e-r,T=t-i,N=S-E,k=N%2===0;b[E]=e,C[S]=t,a[0]=!1;var F,L;for(v=1;v<=m/2+1;v++){var O=0,P=0;for(c=this.ClipDiagonalBound(E-v,v,E,_),h=this.ClipDiagonalBound(E+v,v,E,_),F=c;F<=h;F+=2){for(F===c||F<h&&b[F-1]<b[F+1]?u=b[F+1]:u=b[F-1]+1,l=u-(F-E)-A,L=u;u<t&&l<i&&this.ElementsAreEqual(u+1,l+1);)u++,l++;if(b[F]=u,u+l>O+P&&(O=u,P=l),!k&&Math.abs(F-S)<=v-1&&u>=C[F])return o[0]=u,s[0]=l,L<=C[F]&&Ed>0&&v<=Ed+1?this.WALKTRACE(E,c,h,A,S,d,p,T,b,C,u,t,o,l,i,s,k,a):null}var B=(O-e+(P-r)-v)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(O,this.OriginalSequence,B))return a[0]=!0,o[0]=O,s[0]=P,B>0&&Ed>0&&v<=Ed+1?this.WALKTRACE(E,c,h,A,S,d,p,T,b,C,u,t,o,l,i,s,k,a):(e++,r++,[new Tf(e,t-e+1,r,i-r+1)]);for(d=this.ClipDiagonalBound(S-v,v,S,_),p=this.ClipDiagonalBound(S+v,v,S,_),F=d;F<=p;F+=2){for(F===d||F<p&&C[F-1]>=C[F+1]?u=C[F+1]-1:u=C[F-1],l=u-(F-S)-T,L=u;u>e&&l>r&&this.ElementsAreEqual(u,l);)u--,l--;if(C[F]=u,k&&Math.abs(F-E)<=v&&u<=b[F])return o[0]=u,s[0]=l,L>=b[F]&&Ed>0&&v<=Ed+1?this.WALKTRACE(E,c,h,A,S,d,p,T,b,C,u,t,o,l,i,s,k,a):null}if(v<=Ed){var U=new Array(h-c+2);U[0]=E-c+1,fv.Copy(b,c,U,1,h-c+1),this.m_forwardHistory.push(U),U=new Array(p-d+2),U[0]=S-d+1,fv.Copy(C,d,U,1,p-d+1),this.m_reverseHistory.push(U)}}return this.WALKTRACE(E,c,h,A,S,d,p,T,b,C,u,t,o,l,i,s,k,a)},n.prototype.PrettifyChanges=function(e){for(var t=0;t<e.length;t++){for(var r=e[t],i=t<e.length-1?e[t+1].originalStart:this.OriginalSequence.getLength(),o=t<e.length-1?e[t+1].modifiedStart:this.ModifiedSequence.getLength(),s=r.originalLength>0,a=r.modifiedLength>0;r.originalStart+r.originalLength<i&&r.modifiedStart+r.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!a||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));)r.originalStart++,r.modifiedStart++;var u=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],u)){e[t]=u[0],e.splice(t+1,1),t--;continue}}for(var t=e.length-1;t>=0;t--){var r=e[t],i=0,o=0;if(t>0){var l=e[t-1];l.originalLength>0&&(i=l.originalStart+l.originalLength),l.modifiedLength>0&&(o=l.modifiedStart+l.modifiedLength)}for(var s=r.originalLength>0,a=r.modifiedLength>0,c=0,h=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength),d=1;;d++){var p=r.originalStart-d,v=r.modifiedStart-d;if(p<i||v<o||s&&!this.OriginalElementsAreEqual(p,p+r.originalLength)||a&&!this.ModifiedElementsAreEqual(v,v+r.modifiedLength))break;var m=this._boundaryScore(p,r.originalLength,v,r.modifiedLength);m>h&&(h=m,c=d)}r.originalStart-=c,r.modifiedStart-=c}return e},n.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1)return!0;var t=this.OriginalSequence.getElementAtIndex(e);return typeof t=="string"&&/^\s*$/.test(t)},n.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var r=e+t;if(this._OriginalIsBoundary(r-1)||this._OriginalIsBoundary(r))return!0}return!1},n.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1)return!0;var t=this.ModifiedSequence.getElementAtIndex(e);return typeof t=="string"&&/^\s*$/.test(t)},n.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var r=e+t;if(this._ModifiedIsBoundary(r-1)||this._ModifiedIsBoundary(r))return!0}return!1},n.prototype._boundaryScore=function(e,t,r,i){var o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(r,i)?1:0;return o+s},n.prototype.ConcatenateChanges=function(e,t){var r=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],r)){var i=new Array(e.length+t.length-1);return fv.Copy(e,0,i,0,e.length-1),i[e.length-1]=r[0],fv.Copy(t,1,i,e.length,t.length-1),i}else{var i=new Array(e.length+t.length);return fv.Copy(e,0,i,0,e.length),fv.Copy(t,0,i,e.length,t.length),i}},n.prototype.ChangesOverlap=function(e,t,r){if(cv.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),cv.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var i=e.originalStart,o=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),r[0]=new Tf(i,o,s,a),!0}else return r[0]=null,!1},n.prototype.ClipDiagonalBound=function(e,t,r,i){if(e>=0&&e<i)return e;var o=r,s=i-r-1,a=t%2===0;if(e<0){var u=o%2===0;return a===u?0:1}else{var l=s%2===0;return a===l?i-1:i-2}},n}(),q2e=5e3,z2e=3;function kee(n,e,t,r){var i=new F6(n,e,t);return i.ComputeDiff(r)}var hv=function(){function n(e){for(var t=[],r=[],i=0,o=e.length;i<o;i++)t[i]=n._getFirstNonBlankColumn(e[i],1),r[i]=n._getLastNonBlankColumn(e[i],1);this._lines=e,this._startColumns=t,this._endColumns=r}return n.prototype.getLength=function(){return this._lines.length},n.prototype.getElementAtIndex=function(e){return this._lines[e].substring(this._startColumns[e]-1,this._endColumns[e]-1)},n.prototype.getStartLineNumber=function(e){return e+1},n.prototype.getEndLineNumber=function(e){return e+1},n._getFirstNonBlankColumn=function(e,t){var r=Ns(e);return r===-1?t:r+1},n._getLastNonBlankColumn=function(e,t){var r=Bh(e);return r===-1?t:r+2},n.prototype.getCharSequence=function(e,t,r){for(var i=[],o=[],s=[],a=0,u=t;u<=r;u++)for(var l=this._lines[u],c=e?this._startColumns[u]:1,h=e?this._endColumns[u]:l.length+1,d=c;d<h;d++)i[a]=l.charCodeAt(d-1),o[a]=u+1,s[a]=d,a++;return new G2e(i,o,s)},n}(),G2e=function(){function n(e,t,r){this._charCodes=e,this._lineNumbers=t,this._columns=r}return n.prototype.getLength=function(){return this._charCodes.length},n.prototype.getElementAtIndex=function(e){return this._charCodes[e]},n.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]},n.prototype.getStartColumn=function(e){return this._columns[e]},n.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]},n.prototype.getEndColumn=function(e){return this._columns[e]+1},n}(),OM=function(){function n(e,t,r,i,o,s,a,u){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=r,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=u}return n.createFromDiffChange=function(e,t,r){var i,o,s,a,u,l,c,h;return e.originalLength===0?(i=0,o=0,s=0,a=0):(i=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(u=0,l=0,c=0,h=0):(u=r.getStartLineNumber(e.modifiedStart),l=r.getStartColumn(e.modifiedStart),c=r.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),h=r.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new n(i,o,s,a,u,l,c,h)},n}();function $2e(n){if(n.length<=1)return n;for(var e=[n[0]],t=e[0],r=1,i=n.length;r<i;r++){var o=n[r],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength),u=Math.min(s,a);u<z2e?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}var PO=function(){function n(e,t,r,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=r,this.modifiedEndLineNumber=i,this.charChanges=o}return n.createFromDiffResult=function(e,t,r,i,o,s,a){var u,l,c,h,d=void 0;if(t.originalLength===0?(u=r.getStartLineNumber(t.originalStart)-1,l=0):(u=r.getStartLineNumber(t.originalStart),l=r.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(c=i.getStartLineNumber(t.modifiedStart)-1,h=0):(c=i.getStartLineNumber(t.modifiedStart),h=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength!==0&&t.modifiedLength!==0&&o()){var p=r.getCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),v=i.getCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1),m=kee(p,v,o,!0);a&&(m=$2e(m)),d=[];for(var _=0,b=m.length;_<b;_++)d.push(OM.createFromDiffChange(m[_],p,v))}return new n(u,l,c,h,d)},n}(),K2e=function(){function n(e,t,r){this.shouldComputeCharChanges=r.shouldComputeCharChanges,this.shouldPostProcessCharChanges=r.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=r.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=r.shouldMakePrettyDiff,this.maximumRunTimeMs=q2e,this.originalLines=e,this.modifiedLines=t,this.original=new hv(e),this.modified=new hv(t),this.computationStartTime=new Date().getTime()}return n.prototype.computeDiff=function(){if(this.original.getLength()===1&&this.original.getElementAtIndex(0).length===0)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(this.modified.getLength()===1&&this.modified.getElementAtIndex(0).length===0)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=new Date().getTime();var e=kee(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var t=[],r=0,i=e.length;r<i;r++)t.push(PO.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[r],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return t}for(var o=[],s=0,a=0,r=-1,u=e.length;r<u;r++){for(var l=r+1<u?e[r+1]:null,c=l?l.originalStart:this.originalLines.length,h=l?l.modifiedStart:this.modifiedLines.length;s<c&&a<h;){var d=this.originalLines[s],p=this.modifiedLines[a];if(d!==p){{for(var v=hv._getFirstNonBlankColumn(d,1),m=hv._getFirstNonBlankColumn(p,1);v>1&&m>1;){var _=d.charCodeAt(v-2),b=p.charCodeAt(m-2);if(_!==b)break;v--,m--}(v>1||m>1)&&this._pushTrimWhitespaceCharChange(o,s+1,1,v,a+1,1,m)}{for(var C=hv._getLastNonBlankColumn(d,1),E=hv._getLastNonBlankColumn(p,1),S=d.length+1,A=p.length+1;C<S&&E<A;){var _=d.charCodeAt(C-1),b=d.charCodeAt(E-1);if(_!==b)break;C++,E++}(C<S||E<A)&&this._pushTrimWhitespaceCharChange(o,s+1,C,S,a+1,E,A)}}s++,a++}l&&(o.push(PO.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=l.originalLength,a+=l.modifiedLength)}return o},n.prototype._pushTrimWhitespaceCharChange=function(e,t,r,i,o,s,a){if(!this._mergeTrimWhitespaceCharChange(e,t,r,i,o,s,a)){var u=void 0;this.shouldComputeCharChanges&&(u=[new OM(t,r,t,i,o,s,o,a)]),e.push(new PO(t,t,o,o,u))}},n.prototype._mergeTrimWhitespaceCharChange=function(e,t,r,i,o,s,a){var u=e.length;if(u===0)return!1;var l=e[u-1];return l.originalEndLineNumber===0||l.modifiedEndLineNumber===0?!1:l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o?(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges.push(new OM(t,r,t,i,o,s,o,a)),!0):!1},n.prototype._continueProcessingPredicate=function(){if(this.maximumRunTimeMs===0)return!0;var e=new Date().getTime();return e-this.computationStartTime<this.maximumRunTimeMs},n}(),Y2e=function(){function n(e,t,r){for(var i=new Uint8Array(e*t),o=0,s=e*t;o<s;o++)i[o]=r;this._data=i,this.rows=e,this.cols=t}return n.prototype.get=function(e,t){return this._data[e*this.cols+t]},n.prototype.set=function(e,t,r){this._data[e*this.cols+t]=r},n}();function lq(n){return n<0?0:n>255?255:n|0}function Ud(n){return n<0?0:n>4294967295?4294967295:n|0}function X2e(n){for(var e=n.length,t=new Uint32Array(e),r=0;r<e;r++)t[r]=Ud(n[r]);return t}var Q2e=function(){function n(e,t){this.index=e,this.remainder=t}return n}(),B6=function(){function n(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return n.prototype.getCount=function(){return this.values.length},n.prototype.insertValues=function(e,t){e=Ud(e);var r=this.values,i=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(r.length+o),this.values.set(r.subarray(0,e),0),this.values.set(r.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},n.prototype.changeValue=function(e,t){return e=Ud(e),t=Ud(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},n.prototype.removeValues=function(e,t){e=Ud(e),t=Ud(t);var r=this.values,i=this.prefixSum;if(e>=r.length)return!1;var o=r.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(r.length-t),this.values.set(r.subarray(0,e),0),this.values.set(r.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},n.prototype.getTotalValue=function(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)},n.prototype.getAccumulatedValue=function(e){return e<0?0:(e=Ud(e),this._getAccumulatedValue(e))},n.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var r=t;r<=e;r++)this.prefixSum[r]=this.prefixSum[r-1]+this.values[r];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},n.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t=0,r=this.values.length-1,i=0,o=0,s=0;t<=r;)if(i=t+(r-t)/2|0,o=this.prefixSum[i],s=o-this.values[i],e<s)r=i-1;else if(e>=o)t=i+1;else break;return new Q2e(i,e-s)},n}(),Z2e=function(){function n(e){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new B6(e),this._bustCache()}return n.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},n.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()},n.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()},n.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()},n.prototype.getTotalValue=function(){return this._actual.getTotalValue()},n.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)},n.prototype.getIndexOf=function(e){if(e=Math.floor(e),this._cache!==null){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)},n.prototype.warmUpCache=function(e,t){for(var r=[],i=e;i<=t;i++)r[i-e]=this.getIndexOf(i);this._cache=r,this._cacheAccumulatedValueStart=e},n}(),J2e=function(){function n(e,t,r,i){this._uri=e,this._lines=t,this._eol=r,this._versionId=i,this._lineStarts=null}return n.prototype.dispose=function(){this._lines.length=0},n.prototype.getText=function(){return this._lines.join(this._eol)},n.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,r=0,i=t;r<i.length;r++){var o=i[r];this._acceptDeleteRange(o.range),this._acceptInsertText(new ee(o.range.startLineNumber,o.range.startColumn),o.text)}this._versionId=e.versionId},n.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,r=new Uint32Array(t),i=0;i<t;i++)r[i]=this._lines[i].length+e;this._lineStarts=new B6(r)}},n.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},n.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)},n.prototype._acceptInsertText=function(e,t){if(t.length!==0){var r=t.split(/\r\n|\r|\n/);if(r.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}r[r.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]);for(var i=new Uint32Array(r.length-1),o=1;o<r.length;o++)this._lines.splice(e.lineNumber+o-1,0,r[o]),i[o-1]=r[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}},n}(),p2=function(){function n(e){var t=lq(e);this._defaultValue=t,this._asciiMap=n._createAsciiMap(t),this._map=new Map}return n._createAsciiMap=function(e){for(var t=new Uint8Array(256),r=0;r<256;r++)t[r]=e;return t},n.prototype.set=function(e,t){var r=lq(t);e>=0&&e<256?this._asciiMap[e]=r:this._map.set(e,r)},n.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},n}(),Wv=function(){function n(){this._actual=new p2(0)}return n.prototype.add=function(e){this._actual.set(e,1)},n.prototype.has=function(e){return this._actual.get(e)===1},n}(),eIe=function(){function n(e){for(var t=0,r=0,i=0,o=e.length;i<o;i++){var s=e[i],a=s[0],u=s[1],l=s[2];u>t&&(t=u),a>r&&(r=a),l>r&&(r=l)}t++,r++;for(var c=new Y2e(r,t,0),i=0,o=e.length;i<o;i++){var h=e[i],a=h[0],u=h[1],l=h[2];c.set(a,u,l)}this._states=c,this._maxCharCode=t}return n.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},n}(),MO=null;function tIe(){return MO===null&&(MO=new eIe([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),MO}var ry=null;function nIe(){if(ry===null){ry=new p2(0);for(var n=` 	<>'"`,e=0;e<n.length;e++)ry.set(n.charCodeAt(e),1);for(var t=".,;",e=0;e<t.length;e++)ry.set(t.charCodeAt(e),2)}return ry}var rIe=function(){function n(){}return n._createLink=function(e,t,r,i,o){var s=o-1;do{var a=t.charCodeAt(s),u=e.get(a);if(u!==2)break;s--}while(s>i);if(i>0){var l=t.charCodeAt(i-1),c=t.charCodeAt(s);(l===40&&c===41||l===91&&c===93||l===123&&c===125)&&s--}return{range:{startLineNumber:r,startColumn:i+1,endLineNumber:r,endColumn:s+2},url:t.substring(i,s+1)}},n.computeLinks=function(e,t){t===void 0&&(t=tIe());for(var r=nIe(),i=[],o=1,s=e.getLineCount();o<=s;o++){for(var a=e.getLineContent(o),u=a.length,l=0,c=0,h=0,d=1,p=!1,v=!1,m=!1;l<u;){var _=!1,b=a.charCodeAt(l);if(d===13){var C=void 0;switch(b){case 40:p=!0,C=0;break;case 41:C=p?0:1;break;case 91:v=!0,C=0;break;case 93:C=v?0:1;break;case 123:m=!0,C=0;break;case 125:C=m?0:1;break;case 39:C=h===34||h===96?0:1;break;case 34:C=h===39||h===96?0:1;break;case 96:C=h===39||h===34?0:1;break;default:C=r.get(b)}C===1&&(i.push(n._createLink(r,a,o,c,l)),_=!0)}else if(d===12){var C=void 0;b===91?(v=!0,C=0):C=r.get(b),C===1?_=!0:d=13}else d=t.nextState(d,b),d===0&&(_=!0);_&&(d=1,p=!1,v=!1,m=!1,c=l+1,h=b),l++}d===13&&i.push(n._createLink(r,a,o,c,u))}return i},n}();function iIe(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:rIe.computeLinks(n)}var oIe=function(){function n(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return n.prototype.navigateValueSet=function(e,t,r,i,o){if(e&&t){var s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(r&&i){var s=this.doNavigateValueSet(i,o);if(s)return{range:r,value:s}}return null},n.prototype.doNavigateValueSet=function(e,t){var r=this.numberReplace(e,t);return r!==null?r:this.textReplace(e,t)},n.prototype.numberReplace=function(e,t){var r=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return!isNaN(i)&&!isNaN(o)&&i===o?i===0&&!t?null:(i=Math.floor(i*r),i+=t?r:-r,String(i/r)):null},n.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},n.prototype.valueSetsReplace=function(e,t,r){for(var i=null,o=0,s=e.length;i===null&&o<s;o++)i=this.valueSetReplace(e[o],t,r);return i},n.prototype.valueSetReplace=function(e,t,r){var i=e.indexOf(t);return i>=0?(i+=r?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null},n.INSTANCE=new n,n}(),sIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aIe=function(n){sIe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),e.prototype.getValue=function(){return this.getText()},e.prototype.getLinesContent=function(){return this._lines.slice(0)},e.prototype.getLineCount=function(){return this._lines.length},e.prototype.getLineContent=function(t){return this._lines[t-1]},e.prototype.getWordAtPosition=function(t,r){var i=RP(t.column,kP(r),this._lines[t.lineNumber-1],0);return i?new H(t.lineNumber,i.startColumn,t.lineNumber,i.endColumn):null},e.prototype.getWordUntilPosition=function(t,r){var i=this.getWordAtPosition(t,r);return i?{word:this._lines[t.lineNumber-1].substring(i.startColumn-1,t.column-1),startColumn:i.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}},e.prototype.createWordIterator=function(t){var r=this,i,o=0,s,a=0,u=[],l=function(){if(a<u.length){var c=s.substring(u[a].start,u[a].end);return a+=1,i?i.value=c:i={done:!1,value:c},i}else return o>=r._lines.length?Nf:(s=r._lines[o],u=r._wordenize(s,t),a=0,o+=1,l())};return{next:l}},e.prototype.getLineWords=function(t,r){for(var i=this._lines[t-1],o=this._wordenize(i,r),s=[],a=0,u=o;a<u.length;a++){var l=u[a];s.push({word:i.substring(l.start,l.end),startColumn:l.start+1,endColumn:l.end+1})}return s},e.prototype._wordenize=function(t,r){var i=[],o;for(r.lastIndex=0;(o=r.exec(t))&&o[0].length!==0;)i.push({start:o.index,end:o.index+o[0].length});return i},e.prototype.getValueInRange=function(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);var r=this._eol,i=t.startLineNumber-1,o=t.endLineNumber-1,s=[];s.push(this._lines[i].substring(t.startColumn-1));for(var a=i+1;a<o;a++)s.push(this._lines[a]);return s.push(this._lines[o].substring(0,t.endColumn-1)),s.join(r)},e.prototype.offsetAt=function(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)},e.prototype.positionAt=function(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();var r=this._lineStarts.getIndexOf(t),i=this._lines[r.index].length;return{lineNumber:1+r.index,column:1+Math.min(r.remainder,i)}},e.prototype._validateRange=function(t){var r=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),i=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return r.lineNumber!==t.startLineNumber||r.column!==t.startColumn||i.lineNumber!==t.endLineNumber||i.column!==t.endColumn?{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:i.lineNumber,endColumn:i.column}:t},e.prototype._validatePosition=function(t){if(!ee.isIPosition(t))throw new Error("bad position");var r=t.lineNumber,i=t.column,o=!1;if(r<1)r=1,i=1,o=!0;else if(r>this._lines.length)r=this._lines.length,i=this._lines[r-1].length+1,o=!0;else{var s=this._lines[r-1].length+1;i<1?(i=1,o=!0):i>s&&(i=s,o=!0)}return o?{lineNumber:r,column:i}:t},e}(J2e),cq=function(){function n(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}return n.prototype.dispose=function(){this._models=Object.create(null)},n.prototype._getModel=function(e){return this._models[e]},n.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(r){return t.push(e._models[r])}),t},n.prototype.acceptNewModel=function(e){this._models[e.url]=new aIe(Ft.parse(e.url),e.lines,e.EOL,e.versionId)},n.prototype.acceptModelChanged=function(e,t){if(this._models[e]){var r=this._models[e];r.onEvents(t)}},n.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},n.prototype.computeDiff=function(e,t,r){var i=this._getModel(e),o=this._getModel(t);if(!i||!o)return Promise.resolve(null);var s=i.getLinesContent(),a=o.getLinesContent(),u=new K2e(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:r,shouldMakePrettyDiff:!0}),l=u.computeDiff(),c=l.length>0?!1:this._modelsAreIdentical(i,o);return Promise.resolve({identical:c,changes:l})},n.prototype._modelsAreIdentical=function(e,t){var r=e.getLineCount(),i=t.getLineCount();if(r!==i)return!1;for(var o=1;o<=r;o++){var s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0},n.prototype.computeMoreMinimalEdits=function(e,t){var r=this._getModel(e);if(!r)return Promise.resolve(t);var i=[],o=void 0;t=t2(t,function(A,T){if(A.range&&T.range)return H.compareRangesUsingStarts(A.range,T.range);var N=A.range?0:1,k=T.range?0:1;return N-k});for(var s=0,a=t;s<a.length;s++){var u=a[s],l=u.range,c=u.text,h=u.eol;if(typeof h=="number"&&(o=h),!(H.isEmpty(l)&&!c)){var d=r.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,r.eol),d!==c){if(Math.max(c.length,d.length)>n._diffLimit){i.push({range:l,text:c});continue}for(var p=j2e(d,c,!1),v=r.offsetAt(H.lift(l).getStartPosition()),m=0,_=p;m<_.length;m++){var b=_[m],C=r.positionAt(v+b.originalStart),E=r.positionAt(v+b.originalStart+b.originalLength),S={text:c.substr(b.modifiedStart,b.modifiedLength),range:{startLineNumber:C.lineNumber,startColumn:C.column,endLineNumber:E.lineNumber,endColumn:E.column}};r.getValueInRange(S.range)!==S.text&&i.push(S)}}}}return typeof o=="number"&&i.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Promise.resolve(i)},n.prototype.computeLinks=function(e){var t=this._getModel(e);return t?Promise.resolve(iIe(t)):Promise.resolve(null)},n.prototype.textualSuggest=function(e,t,r,i){var o=this._getModel(e);if(!o)return Promise.resolve(null);var s=Object.create(null),a=[],u=new RegExp(r,i),l=o.getWordUntilPosition(t,u),c=o.getWordAtPosition(t,u);c&&(s[o.getValueInRange(c)]=!0);for(var h=o.createWordIterator(u),d=h.next();!d.done&&a.length<=n._suggestionsLimit;d=h.next()){var p=d.value;s[p]||(s[p]=!0,isNaN(Number(p))&&a.push({kind:18,label:p,insertText:p,range:{startLineNumber:t.lineNumber,startColumn:l.startColumn,endLineNumber:t.lineNumber,endColumn:l.endColumn}}))}return Promise.resolve({suggestions:a})},n.prototype.computeWordRanges=function(e,t,r,i){var o=this._getModel(e);if(!o)return Promise.resolve(Object.create(null));for(var s=new RegExp(r,i),a=Object.create(null),u=t.startLineNumber;u<t.endLineNumber;u++)for(var l=o.getLineWords(u,s),c=0,h=l;c<h.length;c++){var d=h[c];if(isNaN(Number(d.word))){var p=a[d.word];p||(p=[],a[d.word]=p),p.push({startLineNumber:u,startColumn:d.startColumn,endLineNumber:u,endColumn:d.endColumn})}}return Promise.resolve(a)},n.prototype.navigateValueSet=function(e,t,r,i,o){var s=this._getModel(e);if(!s)return Promise.resolve(null);var a=new RegExp(i,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var u=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!l)return Promise.resolve(null);var c=s.getValueInRange(l),h=oIe.INSTANCE.navigateValueSet(t,u,l,c,r);return Promise.resolve(h)},n.prototype.loadForeignModule=function(e,t,r){var i=this,o=function(u,l){return i._host.fhr(u,l)},s=HJ(r,o),a={host:s,getMirrorModels:function(){return i._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(a,t),Promise.resolve(a6(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))},n.prototype.fmr=function(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(r){return Promise.reject(r)}},n._diffLimit=1e5,n._suggestionsLimit=1e4,n}();typeof importScripts=="function"&&(Ds.monaco=eee());var Ree=qt("textResourceConfigurationService"),Pee=qt("textResourcePropertiesService"),H6=qt("logService"),uIe=function(){function n(){}return n.prototype.trace=function(e){},n.prototype.error=function(e){},n.prototype.dispose=function(){},n}(),lIe=Ds.performance&&typeof Ds.performance.now=="function",V6=function(){function n(e){this._highResolution=lIe&&e,this._startTime=this._now(),this._stopTime=-1}return n.create=function(e){return e===void 0&&(e=!0),new n(e)},n.prototype.stop=function(){this._stopTime=this._now()},n.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime},n.prototype._now=function(){return this._highResolution?Ds.performance.now():new Date().getTime()},n}(),g2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cIe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},FO=function(n,e){return function(t,r){e(t,r,n)}},fq=60*1e3,hq=5*60*1e3;function jd(n,e){var t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}var fIe=function(n){g2(e,n);function e(t,r,i){var o=n.call(this)||this;return o._modelService=t,o._workerManager=o._register(new dIe(o._modelService)),o._logService=i,o._register(t1.register("*",{provideLinks:function(s,a){return jd(o._modelService,s.uri)?o._workerManager.withWorker().then(function(u){return u.computeLinks(s.uri)}).then(function(u){return u&&{links:u}}):Promise.resolve({links:[]})}})),o._register(cl.register("*",new hIe(o._workerManager,r,o._modelService))),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.canComputeDiff=function(t,r){return jd(this._modelService,t)&&jd(this._modelService,r)},e.prototype.computeDiff=function(t,r,i){return this._workerManager.withWorker().then(function(o){return o.computeDiff(t,r,i)})},e.prototype.computeMoreMinimalEdits=function(t,r){var i=this;if(cs(r)){if(!jd(this._modelService,t))return Promise.resolve(r);var o=V6.create(!0),s=this._workerManager.withWorker().then(function(a){return a.computeMoreMinimalEdits(t,r)});return s.finally(function(){return i._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),o.elapsed())}),s}else return Promise.resolve(void 0)},e.prototype.canNavigateValueSet=function(t){return jd(this._modelService,t)},e.prototype.navigateValueSet=function(t,r,i){return this._workerManager.withWorker().then(function(o){return o.navigateValueSet(t,r,i)})},e.prototype.canComputeWordRanges=function(t){return jd(this._modelService,t)},e.prototype.computeWordRanges=function(t,r){return this._workerManager.withWorker().then(function(i){return i.computeWordRanges(t,r)})},e=cIe([FO(0,ps),FO(1,Ree),FO(2,H6)],e),e}(he),hIe=function(){function n(e,t,r){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=r}return n.prototype.provideCompletionItems=function(e,t){var r=this._configurationService.getValue(e.uri,t,"editor").wordBasedSuggestions;if(r&&jd(this._modelService,e.uri))return this._workerManager.withWorker().then(function(i){return i.textualSuggest(e.uri,t)})},n}(),dIe=function(n){g2(e,n);function e(t){var r=n.call(this)||this;r._modelService=t,r._editorWorkerClient=null,r._lastWorkerUsedTime=new Date().getTime();var i=r._register(new R_);return i.cancelAndSet(function(){return r._checkStopIdleWorker()},Math.round(hq/2)),r._register(r._modelService.onModelRemoved(function(o){return r._checkStopEmptyWorker()})),r}return e.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),n.prototype.dispose.call(this)},e.prototype._checkStopEmptyWorker=function(){if(this._editorWorkerClient){var t=this._modelService.getModels();t.length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},e.prototype._checkStopIdleWorker=function(){if(this._editorWorkerClient){var t=new Date().getTime()-this._lastWorkerUsedTime;t>hq&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},e.prototype.withWorker=function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Mee(this._modelService,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},e}(he),pIe=function(n){g2(e,n);function e(t,r,i){var o=n.call(this)||this;if(o._syncedModels=Object.create(null),o._syncedModelsLastUsedTime=Object.create(null),o._proxy=t,o._modelService=r,!i){var s=new R_;s.cancelAndSet(function(){return o._checkStopModelSync()},Math.round(fq/2)),o._register(s)}return o}return e.prototype.dispose=function(){for(var t in this._syncedModels)nt(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),n.prototype.dispose.call(this)},e.prototype.ensureSyncedResources=function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r],s=o.toString();this._syncedModels[s]||this._beginModelSync(o),this._syncedModels[s]&&(this._syncedModelsLastUsedTime[s]=new Date().getTime())}},e.prototype._checkStopModelSync=function(){var t=new Date().getTime(),r=[];for(var i in this._syncedModelsLastUsedTime){var o=t-this._syncedModelsLastUsedTime[i];o>fq&&r.push(i)}for(var s=0,a=r;s<a.length;s++){var u=a[s];this._stopModelSync(u)}},e.prototype._beginModelSync=function(t){var r=this,i=this._modelService.getModel(t);if(i&&!i.isTooLargeForSyncing()){var o=t.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});var s=new Be;s.add(i.onDidChangeContent(function(a){r._proxy.acceptModelChanged(o.toString(),a)})),s.add(i.onWillDispose(function(){r._stopModelSync(o)})),s.add(bn(function(){r._proxy.acceptRemovedModel(o)})),this._syncedModels[o]=s}},e.prototype._stopModelSync=function(t){var r=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],nt(r)},e}(he),dq=function(){function n(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}return n.prototype.dispose=function(){this._instance.dispose()},n.prototype.getProxyObject=function(){return this._proxyObj},n}(),BO=function(){function n(e){this._workerClient=e}return n.prototype.fhr=function(e,t){return this._workerClient.fhr(e,t)},n}(),Mee=function(n){g2(e,n);function e(t,r){var i=n.call(this)||this;return i._modelService=t,i._workerFactory=new x2e(r),i._worker=null,i._modelManager=null,i}return e.prototype.fhr=function(t,r){throw new Error("Not implemented!")},e.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new T2e(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new BO(this)))}catch(t){LM(t),this._worker=new dq(new cq(new BO(this),null))}return this._worker},e.prototype._getProxy=function(){var t=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(r){return LM(r),t._worker=new dq(new cq(new BO(t),null)),t._getOrCreateWorker().getProxyObject()})},e.prototype._getOrCreateModelManager=function(t){return this._modelManager||(this._modelManager=this._register(new pIe(t,this._modelService,!1))),this._modelManager},e.prototype._withSyncedResources=function(t){var r=this;return this._getProxy().then(function(i){return r._getOrCreateModelManager(i).ensureSyncedResources(t),i})},e.prototype.computeDiff=function(t,r,i){return this._withSyncedResources([t,r]).then(function(o){return o.computeDiff(t.toString(),r.toString(),i)})},e.prototype.computeMoreMinimalEdits=function(t,r){return this._withSyncedResources([t]).then(function(i){return i.computeMoreMinimalEdits(t.toString(),r)})},e.prototype.computeLinks=function(t){return this._withSyncedResources([t]).then(function(r){return r.computeLinks(t.toString())})},e.prototype.textualSuggest=function(t,r){var i=this;return this._withSyncedResources([t]).then(function(o){var s=i._modelService.getModel(t);if(!s)return null;var a=Ot.getWordDefinition(s.getLanguageIdentifier().id),u=a.source,l=xO(a);return o.textualSuggest(t.toString(),r,u,l)})},e.prototype.computeWordRanges=function(t,r){var i=this;return this._withSyncedResources([t]).then(function(o){var s=i._modelService.getModel(t);if(!s)return Promise.resolve(null);var a=Ot.getWordDefinition(s.getLanguageIdentifier().id),u=a.source,l=xO(a);return o.computeWordRanges(t.toString(),r,u,l)})},e.prototype.navigateValueSet=function(t,r,i){var o=this;return this._withSyncedResources([t]).then(function(s){var a=o._modelService.getModel(t);if(!a)return null;var u=Ot.getWordDefinition(a.getLanguageIdentifier().id),l=u.source,c=xO(u);return s.navigateValueSet(t.toString(),r,i,l,c)})},e}(he),gIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function vIe(n,e){return new mIe(n,e)}var mIe=function(n){gIe(e,n);function e(t,r){var i=n.call(this,t,r.label)||this;return i._foreignModuleId=r.moduleId,i._foreignModuleCreateData=r.createData||null,i._foreignModuleHost=r.host||null,i._foreignProxy=null,i}return e.prototype.fhr=function(t,r){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,r))}catch(i){return Promise.reject(i)}},e.prototype._getForeignProxy=function(){var t=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(r){var i=t._foreignModuleHost?a6(t._foreignModuleHost):[];return r.loadForeignModule(t._foreignModuleId,t._foreignModuleCreateData,i).then(function(o){t._foreignModuleCreateData=null;for(var s=function(d,p){return r.fmr(d,p)},a=function(d,p){return function(){var v=Array.prototype.slice.call(arguments,0);return p(d,v)}},u={},l=0,c=o;l<c.length;l++){var h=c[l];u[h]=a(h,s)}return u})})),this._foreignProxy},e.prototype.getProxy=function(){return this._getForeignProxy()},e.prototype.withSyncedResources=function(t){var r=this;return this._withSyncedResources(t).then(function(i){return r.getProxy()})},e}(Mee),bu=function(){function n(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}return n.prototype.equals=function(e){return e instanceof n?this.slicedEquals(e,0,this._tokensCount):!1},n.prototype.slicedEquals=function(e,t,r){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;for(var i=t<<1,o=i+(r<<1),s=i;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0},n.prototype.getLineContent=function(){return this._text},n.prototype.getCount=function(){return this._tokensCount},n.prototype.getStartOffset=function(e){return e>0?this._tokens[e-1<<1]:0},n.prototype.getLanguageId=function(e){var t=this._tokens[(e<<1)+1];return gu.getLanguageId(t)},n.prototype.getStandardTokenType=function(e){var t=this._tokens[(e<<1)+1];return gu.getTokenType(t)},n.prototype.getForeground=function(e){var t=this._tokens[(e<<1)+1];return gu.getForeground(t)},n.prototype.getClassName=function(e){var t=this._tokens[(e<<1)+1];return gu.getClassNameFromMetadata(t)},n.prototype.getInlineStyle=function(e,t){var r=this._tokens[(e<<1)+1];return gu.getInlineStyleFromMetadata(r,t)},n.prototype.getEndOffset=function(e){return this._tokens[e<<1]},n.prototype.findTokenIndexAtOffset=function(e){return n.findIndexInTokensArray(this._tokens,e)},n.prototype.inflate=function(){return this},n.prototype.sliceAndInflate=function(e,t,r){return new _Ie(this,e,t,r)},n.convertToEndOffset=function(e,t){for(var r=e.length>>>1,i=r-1,o=0;o<i;o++)e[o<<1]=e[o+1<<1];e[i<<1]=t},n.findIndexInTokensArray=function(e,t){if(e.length<=2)return 0;for(var r=0,i=(e.length>>>1)-1;r<i;){var o=r+Math.floor((i-r)/2),s=e[o<<1];if(s===t)return o+1;s<t?r=o+1:s>t&&(i=o)}return r},n}(),_Ie=function(){function n(e,t,r,i){this._source=e,this._startOffset=t,this._endOffset=r,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(var o=this._firstTokenIndex,s=e.getCount();o<s;o++){var a=e.getStartOffset(o);if(a>=r)break;this._tokensCount++}}return n.prototype.equals=function(e){return e instanceof n?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1},n.prototype.getCount=function(){return this._tokensCount},n.prototype.getForeground=function(e){return this._source.getForeground(this._firstTokenIndex+e)},n.prototype.getEndOffset=function(e){var t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset},n.prototype.getClassName=function(e){return this._source.getClassName(this._firstTokenIndex+e)},n.prototype.getInlineStyle=function(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)},n.prototype.findTokenIndexAtOffset=function(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex},n}(),r1;typeof TextDecoder<"u"?r1=function(n){return new yIe(n)}:r1=function(n){return new bIe};var yIe=function(){function n(e){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return n.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},n.prototype.build=function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},n.prototype._buildBuffer=function(){if(this._bufferLength===0)return"";var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(e)},n.prototype._flushBuffer=function(){var e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e},n.prototype.write1=function(e){var t=this._capacity-this._bufferLength;t<=1&&(t===0||ts(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},n.prototype.appendASCII=function(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},n.prototype.appendASCIIString=function(e){var t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(var r=0;r<t;r++)this._buffer[this._bufferLength++]=e.charCodeAt(r)},n}(),bIe=function(){function n(){this._pieces=[],this._piecesLen=0}return n.prototype.reset=function(){this._pieces=[],this._piecesLen=0},n.prototype.build=function(){return this._pieces.join("")},n.prototype.write1=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},n.prototype.appendASCII=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},n.prototype.appendASCIIString=function(e){this._pieces[this._piecesLen++]=e},n}(),i1=function(){function n(e,t,r,i){this.startColumn=e,this.endColumn=t,this.className=r,this.type=i}return n._equals=function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type},n.equalsArr=function(e,t){var r=e.length,i=t.length;if(r!==i)return!1;for(var o=0;o<r;o++)if(!n._equals(e[o],t[o]))return!1;return!0},n.filter=function(e,t,r,i){if(e.length===0)return[];for(var o=[],s=0,a=0,u=e.length;a<u;a++){var l=e[a],c=l.range;if(!(c.endLineNumber<t||c.startLineNumber>t)&&!(c.isEmpty()&&(l.type===0||l.type===3))){var h=c.startLineNumber===t?c.startColumn:r,d=c.endLineNumber===t?c.endColumn:i;o[s++]=new n(h,d,l.inlineClassName,l.type)}}return o},n.compare=function(e,t){return e.startColumn===t.startColumn?e.endColumn===t.endColumn?e.className<t.className?-1:e.className>t.className?1:0:e.endColumn-t.endColumn:e.startColumn-t.startColumn},n}(),pq=function(){function n(e,t,r){this.startOffset=e,this.endOffset=t,this.className=r}return n}(),CIe=function(){function n(){this.stopOffsets=[],this.classNames=[],this.count=0}return n.prototype.consumeLowerThan=function(e,t,r){for(;this.count>0&&this.stopOffsets[0]<e;){for(var i=0;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;r.push(new pq(t,this.stopOffsets[i],this.classNames.join(" "))),t=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&t<e&&(r.push(new pq(t,e-1,this.classNames.join(" "))),t=e),t},n.prototype.insert=function(e,t){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t);break}this.count++},n}(),wIe=function(){function n(){}return n.normalize=function(e,t){if(t.length===0)return[];for(var r=[],i=new CIe,o=0,s=0,a=t.length;s<a;s++){var u=t[s],l=u.startColumn,c=u.endColumn,h=u.className;if(l>1){var d=e.charCodeAt(l-2);ts(d)&&l--}if(c>1){var d=e.charCodeAt(c-2);ts(d)&&c--}var p=l-1,v=c-2;o=i.consumeLowerThan(p,o,r),i.count===0&&(o=p),i.insert(v,h)}return i.consumeLowerThan(1073741824,o,r),r},n}(),ss=function(){function n(e,t){this.endIndex=e,this.type=t}return n}(),EIe=function(){function n(e,t){this.startOffset=e,this.endOffset=t}return n.prototype.equals=function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset},n}(),P_=function(){function n(e,t,r,i,o,s,a,u,l,c,h,d,p,v,m,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=r,this.continuesWithWrappedLine=i,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=u,this.lineDecorations=l,this.tabSize=c,this.spaceWidth=h,this.stopRenderingLineAfter=d,this.renderWhitespace=p==="all"?3:p==="boundary"?1:p==="selection"?2:0,this.renderControlCharacters=v,this.fontLigatures=m,this.selectionsOnLine=_&&_.sort(function(b,C){return b.startOffset<C.startOffset?-1:1})}return n.prototype.sameSelection=function(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(var t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0},n.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&i1.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)},n}(),Of=function(){function n(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return n.getPartIndex=function(e){return(e&4294901760)>>>16},n.getCharIndex=function(e){return(e&65535)>>>0},n.prototype.setPartData=function(e,t,r,i){var o=(t<<16|r<<0)>>>0;this._data[e]=o,this._absoluteOffsets[e]=i+r},n.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},n.prototype.charOffsetToPartData=function(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]},n.prototype.partDataToCharOffset=function(e,t,r){if(this.length===0)return 0;for(var i=(e<<16|r<<0)>>>0,o=0,s=this.length-1;o+1<s;){var a=o+s>>>1,u=this._data[a];if(u===i)return a;u>i?s=a:o=a}if(o===s)return o;var l=this._data[o],c=this._data[s];if(l===i)return o;if(c===i)return s;var h=n.getPartIndex(l),d=n.getCharIndex(l),p=n.getPartIndex(c),v;h!==p?v=t:v=n.getCharIndex(c);var m=r-d,_=v-r;return m<=_?o:s},n}(),Fee=function(){function n(e,t,r){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=r}return n}();function W6(n,e){if(n.lineContent.length===0){var t=0,r="<span><span></span></span>";if(n.lineDecorations.length>0){for(var i=[],o=0,s=n.lineDecorations.length;o<s;o++){var a=n.lineDecorations[o];a.type===1&&(i.push(n.lineDecorations[o].className),t|=1),a.type===2&&(i.push(n.lineDecorations[o].className),t|=2)}t!==0&&(r='<span><span class="'+i.join(" ")+'"></span></span>')}return e.appendASCIIString(r),new Fee(new Of(0,0),!1,t)}return NIe(DIe(n),e)}var SIe=function(){function n(e,t,r,i){this.characterMapping=e,this.html=t,this.containsRTL=r,this.containsForeignElements=i}return n}();function v2(n){var e=r1(1e4),t=W6(n,e);return new SIe(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}var TIe=function(){function n(e,t,r,i,o,s,a,u,l,c,h,d){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=r,this.len=i,this.isOverflowing=o,this.parts=s,this.containsForeignElements=a,this.tabSize=u,this.containsRTL=l,this.spaceWidth=c,this.renderWhitespace=h,this.renderControlCharacters=d}return n}();function DIe(n){var e=n.useMonospaceOptimizations,t=n.lineContent,r,i;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<t.length?(r=!0,i=n.stopRenderingLineAfter):(r=!1,i=t.length);var o=AIe(n.lineTokens,n.fauxIndentLength,i);(n.renderWhitespace===3||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine)&&(o=xIe(t,i,n.continuesWithWrappedLine,o,n.fauxIndentLength,n.tabSize,e,n.selectionsOnLine,n.renderWhitespace===1));var s=0;if(n.lineDecorations.length>0){for(var a=0,u=n.lineDecorations.length;a<u;a++){var l=n.lineDecorations[a];l.type===3||l.type===1?s|=1:l.type===2&&(s|=2)}o=LIe(t,i,o,n.lineDecorations)}return n.containsRTL||(o=IIe(t,o,!n.isBasicASCII||n.fontLigatures)),new TIe(e,n.canUseHalfwidthRightwardsArrow,t,i,r,o,s,n.tabSize,n.containsRTL,n.spaceWidth,n.renderWhitespace,n.renderControlCharacters)}function AIe(n,e,t){var r=[],i=0;e>0&&(r[i++]=new ss(e,""));for(var o=0,s=n.getCount();o<s;o++){var a=n.getEndOffset(o);if(!(a<=e)){var u=n.getClassName(o);if(a>=t){r[i++]=new ss(t,u);break}r[i++]=new ss(a,u)}}return r}function IIe(n,e,t){var r=0,i=[],o=0;if(t)for(var s=0,a=e.length;s<a;s++){var u=e[s],l=u.endIndex;if(r+50<l){for(var c=u.type,h=-1,d=r,p=r;p<l;p++)n.charCodeAt(p)===32&&(h=p),h!==-1&&p-d>=50&&(i[o++]=new ss(h+1,c),d=h+1,h=-1);d!==l&&(i[o++]=new ss(l,c))}else i[o++]=u;r=l}else for(var s=0,a=e.length;s<a;s++){var u=e[s],l=u.endIndex,v=l-r;if(v>50){for(var c=u.type,m=Math.ceil(v/50),p=1;p<m;p++){var _=r+p*50;i[o++]=new ss(_,c)}i[o++]=new ss(l,c)}else i[o++]=u;r=l}return i}function xIe(n,e,t,r,i,o,s,a,u){var l=[],c=0,h=0,d=r[h].type,p=r[h].endIndex,v=r.length,m=Ns(n),_;m===-1?(m=e,_=e):_=Bh(n);for(var b=0,C=0;C<i;C++){var E=n.charCodeAt(C);E===9?b=o:Hc(E)?b+=2:b++}b=b%o;for(var S=!1,A=0,T=a&&a[A],C=i;C<e;C++){var E=n.charCodeAt(C);T&&C>=T.endOffset&&(A++,T=a&&a[A]);var N=void 0;if(C<m||C>_)N=!0;else if(E===9)N=!0;else if(E===32)if(u)if(S)N=!0;else{var k=C+1<e?n.charCodeAt(C+1):0;N=k===32||k===9}else N=!0;else N=!1;N&&a&&(N=!!T&&T.startOffset<=C&&T.endOffset>C),S?(!N||!s&&b>=o)&&(l[c++]=new ss(C,"vs-whitespace"),b=b%o):(C===p||N&&C>i)&&(l[c++]=new ss(C,d),b=b%o),E===9?b=o:Hc(E)?b+=2:b++,S=N,C===p&&(h++,h<v&&(d=r[h].type,p=r[h].endIndex))}var F=!1;if(S)if(t&&u){var L=e>0?n.charCodeAt(e-1):0,O=e>1?n.charCodeAt(e-2):0,P=L===32&&O!==32&&O!==9;P||(F=!0)}else F=!0;return l[c++]=new ss(e,F?"vs-whitespace":d),l}function LIe(n,e,t,r){r.sort(i1.compare);for(var i=wIe.normalize(n,r),o=i.length,s=0,a=[],u=0,l=0,c=0,h=t.length;c<h;c++){for(var d=t[c],p=d.endIndex,v=d.type;s<o&&i[s].startOffset<p;){var m=i[s];if(m.startOffset>l&&(l=m.startOffset,a[u++]=new ss(l,v)),m.endOffset+1<=p)l=m.endOffset+1,a[u++]=new ss(l,v+" "+m.className),s++;else{l=p,a[u++]=new ss(l,v+" "+m.className);break}}p>l&&(l=p,a[u++]=new ss(l,v))}var _=t[t.length-1].endIndex;if(s<o&&i[s].startOffset===_){for(var b=[];s<o&&i[s].startOffset===_;)b.push(i[s].className),s++;a[u++]=new ss(l,b.join(" "))}return a}function NIe(n,e){var t=n.fontIsMonospace,r=n.canUseHalfwidthRightwardsArrow,i=n.containsForeignElements,o=n.lineContent,s=n.len,a=n.isOverflowing,u=n.parts,l=n.tabSize,c=n.containsRTL,h=n.spaceWidth,d=n.renderWhitespace,p=n.renderControlCharacters,v=new Of(s+1,u.length),m=0,_=0,b=0,C=0,E=0;e.appendASCIIString("<span>");for(var S=0,A=u.length;S<A;S++){E+=C;var T=u[S],N=T.endIndex,k=T.type,F=d!==0&&k.indexOf("vs-whitespace")>=0;if(b=0,e.appendASCIIString('<span class="'),e.appendASCIIString(k),e.appendASCII(34),F){for(var L=0,O=m,P=_;O<N;O++){var B=o.charCodeAt(O);if(B===9){var U=l-(O+P)%l;P+=U-1,L+=U}else L++}if(!t){var $=k==="vs-whitespace";($||!i)&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(h*L)),e.appendASCIIString('px"'))}for(e.appendASCII(62);m<N;m++){v.setPartData(m,S,b,E);var B=o.charCodeAt(m);if(B===9){var U=l-(m+_)%l;for(_+=U-1,b+=U-1,U>0&&(!r||U>1?e.write1(8594):e.write1(65515),U--);U>0;)e.write1(160),U--}else e.write1(183);b++}C=L}else{var L=0;for(c&&e.appendASCIIString(' dir="ltr"'),e.appendASCII(62);m<N;m++){v.setPartData(m,S,b,E);var B=o.charCodeAt(m);switch(B){case 9:var U=l-(m+_)%l;for(_+=U-1,b+=U-1;U>0;)e.write1(160),L++,U--;break;case 32:e.write1(160),L++;break;case 60:e.appendASCIIString("&lt;"),L++;break;case 62:e.appendASCIIString("&gt;"),L++;break;case 38:e.appendASCIIString("&amp;"),L++;break;case 0:e.appendASCIIString("&#00;"),L++;break;case 65279:case 8232:e.write1(65533),L++;break;default:Hc(B)&&_++,p&&B<32?(e.write1(9216+B),L++):(e.write1(B),L++)}b++}C=L}e.appendASCIIString("</span>")}return v.setPartData(s,u.length-1,b,E),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new Fee(v,c,i)}var gq=function(){function n(e,t,r,i){this.top=e|0,this.left=t|0,this.width=r|0,this.height=i|0}return n}(),OIe=function(){function n(e,t){this.tabSize=e,this.data=t}return n}(),U6=function(){function n(e,t,r,i,o){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=r,this.maxColumn=i,this.tokens=o}return n}(),Lu=function(){function n(e,t,r,i,o,s,a,u,l){this.minColumn=e,this.maxColumn=t,this.content=r,this.continuesWithWrappedLine=i,this.isBasicASCII=n.isBasicASCII(r,s),this.containsRTL=n.containsRTL(r,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=u,this.tabSize=l}return n.isBasicASCII=function(e,t){return t?yee(e):!0},n.containsRTL=function(e,t,r){return!t&&r?E6(e):!1},n}(),RS=function(){function n(e,t,r){this.range=e,this.inlineClassName=t,this.type=r}return n}(),kIe=function(){function n(e,t){this.range=e,this.options=t}return n}();function RIe(n){return Array.isArray(n)}function PIe(n){return!RIe(n)}function Bee(n){return typeof n=="string"}function vq(n){return!Bee(n)}function Lv(n){return!n}function sh(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function mq(n){return n.replace(/[&<>'"_]/g,"-")}function MIe(n,e){console.log(n.languageId+": "+e)}function an(n,e){return new Error(n.languageId+": "+e)}function Mf(n,e,t,r,i){var o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return e.replace(o,function(a,u,l,c,h,d,p,v,m){return Lv(l)?Lv(c)?!Lv(h)&&h<r.length?sh(n,r[h]):!Lv(p)&&n&&typeof n[p]=="string"?n[p]:(s===null&&(s=i.split("."),s.unshift(i)),!Lv(d)&&d<s.length?sh(n,s[d]):""):sh(n,t):"$"})}function IE(n,e){for(var t=e;t&&t.length>0;){var r=n.tokenizer[t];if(r)return r;var i=t.lastIndexOf(".");i<0?t=null:t=t.substr(0,i)}return null}function FIe(n,e){for(var t=e;t&&t.length>0;){var r=n.stateNames[t];if(r)return!0;var i=t.lastIndexOf(".");i<0?t=null:t=t.substr(0,i)}return!1}var Hee=5,kM=function(){function n(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return n.create=function(e,t){return this._INSTANCE.create(e,t)},n.prototype.create=function(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new PS(e,t);var r=PS.getStackElementId(e);r.length>0&&(r+="|"),r+=t;var i=this._entries[r];return i||(i=new PS(e,t),this._entries[r]=i,i)},n._INSTANCE=new n(Hee),n}(),PS=function(){function n(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}return n.getStackElementId=function(e){for(var t="";e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t},n._equals=function(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null},n.prototype.equals=function(e){return n._equals(this,e)},n.prototype.push=function(e){return kM.create(this,e)},n.prototype.pop=function(){return this.parent},n.prototype.popall=function(){for(var e=this;e.parent;)e=e.parent;return e},n.prototype.switchTo=function(e){return kM.create(this.parent,e)},n}(),HO=function(){function n(e,t){this.modeId=e,this.state=t}return n.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)},n.prototype.clone=function(){var e=this.state.clone();return e===this.state?this:new n(this.modeId,this.state)},n}(),Nv=function(){function n(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return n.create=function(e,t){return this._INSTANCE.create(e,t)},n.prototype.create=function(e,t){if(t!==null)return new VO(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new VO(e,t);var r=PS.getStackElementId(e),i=this._entries[r];return i||(i=new VO(e,null),this._entries[r]=i,i)},n._INSTANCE=new n(Hee),n}(),VO=function(){function n(e,t){this.stack=e,this.embeddedModeData=t}return n.prototype.clone=function(){var e=this.embeddedModeData?this.embeddedModeData.clone():null;return e===this.embeddedModeData?this:Nv.create(this.stack,this.embeddedModeData)},n.prototype.equals=function(e){return!(e instanceof n)||!this.stack.equals(e.stack)?!1:this.embeddedModeData===null&&e.embeddedModeData===null?!0:this.embeddedModeData===null||e.embeddedModeData===null?!1:this.embeddedModeData.equals(e.embeddedModeData)},n}(),BIe=function(){function n(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return n.prototype.enterMode=function(e,t){this._language=t},n.prototype.emit=function(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new i2(e,t,this._language)))},n.prototype.nestedModeTokenize=function(e,t,r){var i=t.modeId,o=t.state,s=Vn.get(i);if(!s)return this.enterMode(r,i),this.emit(r,""),o;var a=s.tokenize(e,o,r);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState},n.prototype.finalize=function(e){return new h6(this._tokens,e)},n}(),HIe=function(){function n(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return n.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id},n.prototype.emit=function(e,t){var r=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==r&&(this._lastTokenMetadata=r,this._tokens.push(e),this._tokens.push(r))},n._merge=function(e,t,r){var i=e!==null?e.length:0,o=t.length,s=r!==null?r.length:0;if(i===0&&o===0&&s===0)return new Uint32Array(0);if(i===0&&o===0)return r;if(o===0&&s===0)return e;var a=new Uint32Array(i+o+s);e!==null&&a.set(e);for(var u=0;u<o;u++)a[i+u]=t[u];return r!==null&&a.set(r,i+o),a},n.prototype.nestedModeTokenize=function(e,t,r){var i=t.modeId,o=t.state,s=Vn.get(i);if(!s)return this.enterMode(r,i),this.emit(r,""),o;var a=s.tokenize2(e,o,r);return this._prependTokens=n._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState},n.prototype.finalize=function(e){return new o2(n._merge(this._prependTokens,this._tokens,null),e)},n}(),Vee=function(){function n(e,t,r,i){var o=this;this._modeService=e,this._standaloneThemeService=t,this._modeId=r,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var s=!1;this._tokenizationRegistryListener=Vn.onDidChange(function(a){if(!s){for(var u=!1,l=0,c=a.changedLanguages.length;l<c;l++){var h=a.changedLanguages[l];if(o._embeddedModes[h]){u=!0;break}}u&&(s=!0,Vn.fire([o._modeId]),s=!1)}})}return n.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},n.prototype.getLoadStatus=function(){var e=[];for(var t in this._embeddedModes)if(this._embeddedModes.hasOwnProperty(t)){var r=Vn.get(t);if(r){if(r instanceof n){var i=r.getLoadStatus();i.loaded===!1&&e.push(i.promise)}continue}var o=Vn.getPromise(t);o&&e.push(o)}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(function(s){})}},n.prototype.getInitialState=function(){var e=kM.create(null,this._lexer.start);return Nv.create(e,null)},n.prototype.tokenize=function(e,t,r){var i=new BIe,o=this._tokenize(e,t,r,i);return i.finalize(o)},n.prototype.tokenize2=function(e,t,r){var i=new HIe(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),o=this._tokenize(e,t,r,i);return i.finalize(o)},n.prototype._tokenize=function(e,t,r,i){return t.embeddedModeData?this._nestedTokenize(e,t,r,i):this._myTokenize(e,t,r,i)},n.prototype._findLeavingNestedModeOffset=function(e,t){var r=this._lexer.tokenizer[t.stack.state];if(!r&&(r=IE(this._lexer,t.stack.state),!r))throw an(this._lexer,"tokenizer state is not defined: "+t.stack.state);for(var i=-1,o=!1,s=0,a=r;s<a.length;s++){var u=a[s];if(!(!vq(u.action)||u.action.nextEmbedded!=="@pop")){o=!0;var l=u.regex,c=u.regex.source;c.substr(0,4)==="^(?:"&&c.substr(c.length-1,1)===")"&&(l=new RegExp(c.substr(4,c.length-5),l.ignoreCase?"i":""));var h=e.search(l);h!==-1&&(i===-1||h<i)&&(i=h)}}if(!o)throw an(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i},n.prototype._nestedTokenize=function(e,t,r,i){var o=this._findLeavingNestedModeOffset(e,t);if(o===-1){var s=i.nestedModeTokenize(e,t.embeddedModeData,r);return Nv.create(t.stack,new HO(t.embeddedModeData.modeId,s))}var a=e.substring(0,o);a.length>0&&i.nestedModeTokenize(a,t.embeddedModeData,r);var u=e.substring(o);return this._myTokenize(u,t,r+o,i)},n.prototype._safeRuleName=function(e){return e?e.name:"(unknown)"},n.prototype._myTokenize=function(e,t,r,i){i.enterMode(r,this._modeId);for(var o=e.length,s=t.embeddedModeData,a=t.stack,u=0,l=null,c=!0;c||u<o;){var h=u,d=a.depth,p=l?l.groups.length:0,v=a.state,m=null,_=null,b=null,C=null,E=null;if(l){m=l.matches;var S=l.groups.shift();_=S.matched,b=S.action,C=l.rule,l.groups.length===0&&(l=null)}else{if(!c&&u>=o)break;c=!1;var A=this._lexer.tokenizer[v];if(!A&&(A=IE(this._lexer,v),!A))throw an(this._lexer,"tokenizer state is not defined: "+v);for(var T=e.substr(u),N=0,k=A;N<k.length;N++){var F=k[N];if((u===0||!F.matchOnlyAtLineStart)&&(m=T.match(F.regex),m)){_=m[0],b=F.action;break}}}if(m||(m=[""],_=""),b||(u<o&&(m=[e.charAt(u)],_=m[0]),b=this._lexer.defaultToken),_===null)break;for(u+=_.length;PIe(b)&&vq(b)&&b.test;)b=b.test(_,m,v,u===o);var L=null;if(typeof b=="string"||Array.isArray(b))L=b;else if(b.group)L=b.group;else if(b.token!==null&&b.token!==void 0){if(b.tokenSubst?L=Mf(this._lexer,b.token,_,m,v):L=b.token,b.nextEmbedded)if(b.nextEmbedded==="@pop"){if(!s)throw an(this._lexer,"cannot pop embedded mode if not inside one");s=null}else{if(s)throw an(this._lexer,"cannot enter embedded mode from within an embedded mode");E=Mf(this._lexer,b.nextEmbedded,_,m,v)}if(b.goBack&&(u=Math.max(0,u-b.goBack)),b.switchTo&&typeof b.switchTo=="string"){var O=Mf(this._lexer,b.switchTo,_,m,v);if(O[0]==="@"&&(O=O.substr(1)),IE(this._lexer,O))a=a.switchTo(O);else throw an(this._lexer,"trying to switch to a state '"+O+"' that is undefined in rule: "+this._safeRuleName(C))}else{if(b.transform&&typeof b.transform=="function")throw an(this._lexer,"action.transform not supported");if(b.next)if(b.next==="@push"){if(a.depth>=this._lexer.maxStack)throw an(this._lexer,"maximum tokenizer stack size reached: ["+a.state+","+a.parent.state+",...]");a=a.push(v)}else if(b.next==="@pop"){if(a.depth<=1)throw an(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(C));a=a.pop()}else if(b.next==="@popall")a=a.popall();else{var O=Mf(this._lexer,b.next,_,m,v);if(O[0]==="@"&&(O=O.substr(1)),IE(this._lexer,O))a=a.push(O);else throw an(this._lexer,"trying to set a next state '"+O+"' that is undefined in rule: "+this._safeRuleName(C))}}b.log&&typeof b.log=="string"&&MIe(this._lexer,this._lexer.languageId+": "+Mf(this._lexer,b.log,_,m,v))}if(L===null)throw an(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(C));if(Array.isArray(L)){if(l&&l.groups.length>0)throw an(this._lexer,"groups cannot be nested: "+this._safeRuleName(C));if(m.length!==L.length+1)throw an(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(C));for(var P=0,B=1;B<m.length;B++)P+=m[B].length;if(P!==_.length)throw an(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(C));l={rule:C,matches:m,groups:[]};for(var B=0;B<L.length;B++)l.groups[B]={action:L[B],matched:m[B+1]};u-=_.length;continue}else{if(L==="@rematch"&&(u-=_.length,_="",m=null,L=""),_.length===0){if(o===0||d!==a.depth||v!==a.state||(l?l.groups.length:0)!==p)continue;throw an(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(C))}var U=null;if(Bee(L)&&L.indexOf("@brackets")===0){var $=L.substr(9),te=VIe(this._lexer,_);if(!te)throw an(this._lexer,"@brackets token returned but no bracket defined as: "+_);U=mq(te.token+$)}else{var ne=L===""?"":L+this._lexer.tokenPostfix;U=mq(ne)}i.emit(h+r,U)}if(E!==null){var ie=this._modeService.getModeIdForLanguageName(E);ie&&(E=ie);var pe=this._getNestedEmbeddedModeData(E);if(u<o){var T=e.substr(u);return this._nestedTokenize(T,Nv.create(a,pe),r+u,i)}else return Nv.create(a,pe)}}return Nv.create(a,s)},n.prototype._getNestedEmbeddedModeData=function(e){var t=this._locateMode(e);if(t){var r=Vn.get(t);if(r)return new HO(t,r.getInitialState())}return new HO(t||P6,gC)},n.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;var t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t},n}();function VIe(n,e){if(!e)return null;e=sh(n,e);for(var t=n.brackets,r=0,i=t;r<i.length;r++){var o=i[r];if(o.open===e)return{token:o.token,bracketType:1};if(o.close===e)return{token:o.token,bracketType:-1}}return null}function WIe(n,e,t,r){return new Vee(n,e,t,r)}var j6=function(){function n(){}return n.colorizeElement=function(e,t,r,i){i=i||{};var o=i.theme||"vs",s=i.mimeType||r.getAttribute("lang")||r.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);var a=r.firstChild?r.firstChild.nodeValue:"";r.className+=" "+o;var u=function(l){r.innerHTML=l};return this.colorize(t,a||"",s,i).then(u,function(l){return console.error(l)})},n.colorize=function(e,t,r,i){var o=4;i&&typeof i.tabSize=="number"&&(o=i.tabSize),S6(t)&&(t=t.substr(1));var s=t.split(/\r\n|\r|\n/),a=e.getModeId(r);if(!a)return Promise.resolve(_q(s,o));e.triggerMode(a);var u=Vn.get(a);if(u)return WO(s,o,u);var l=Vn.getPromise(a);return l?new Promise(function(c,h){l.then(function(d){WO(s,o,d).then(c,h)},h)}):new Promise(function(c,h){var d=null,p=null,v=function(){d&&(d.dispose(),d=null),p&&(p.dispose(),p=null);var m=Vn.get(a);if(m){WO(s,o,m).then(c,h);return}c(_q(s,o))};p=new Fs,p.cancelAndSet(v,500),d=Vn.onDidChange(function(m){m.changedLanguages.indexOf(a)>=0&&v()})})},n.colorizeLine=function(e,t,r,i,o){o===void 0&&(o=4);var s=Lu.isBasicASCII(e,t),a=Lu.containsRTL(e,s,r),u=v2(new P_(!1,!0,e,!1,s,a,0,i,[],o,0,-1,"none",!1,!1,null));return u.html},n.colorizeModelLine=function(e,t,r){r===void 0&&(r=4);var i=e.getLineContent(t);e.forceTokenization(t);var o=e.getLineTokens(t),s=o.inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,r)},n}();function WO(n,e,t){return new Promise(function(r,i){var o=function(){var s=UIe(n,e,t);if(t instanceof Vee){var a=t.getLoadStatus();if(a.loaded===!1){a.promise.then(o,i);return}}r(s)};o()})}function _q(n,e){var t=[],r=16793600,i=new Uint32Array(2);i[0]=0,i[1]=r;for(var o=0,s=n.length;o<s;o++){var a=n[o];i[0]=a.length;var u=new bu(i,a),l=Lu.isBasicASCII(a,!0),c=Lu.containsRTL(a,l,!0),h=v2(new P_(!1,!0,a,!1,l,c,0,u,[],e,0,-1,"none",!1,!1,null));t=t.concat(h.html),t.push("<br/>")}return t.join("")}function UIe(n,e,t){for(var r=[],i=t.getInitialState(),o=0,s=n.length;o<s;o++){var a=n[o],u=t.tokenize2(a,i,0);bu.convertToEndOffset(u.tokens,a.length);var l=new bu(u.tokens,a),c=Lu.isBasicASCII(a,!0),h=Lu.containsRTL(a,c,!0),d=v2(new P_(!1,!0,a,!1,c,h,0,l.inflate(),[],e,0,-1,"none",!1,!1,null));r=r.concat(d.html),r.push("<br/>"),i=u.endState}return r.join("")}var o1;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(o1||(o1={}));(function(n){var e="error",t="warning",r="warn",i="info",o=Object.create(null);o[n.Error]=D("sev.error","Error"),o[n.Warning]=D("sev.warning","Warning"),o[n.Info]=D("sev.info","Info");function s(a){return a?qf(e,a)?n.Error:qf(t,a)||qf(r,a)?n.Warning:qf(i,a)?n.Info:n.Ignore:n.Ignore}n.fromValue=s})(o1||(o1={}));const or=o1;function kl(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===l2.ICodeEditor:!1}var jIe=function(){function n(){this.data=new Map}return n.prototype.add=function(e,t){cm(Ll(e)),cm($i(t)),cm(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)},n.prototype.as=function(e){return this.data.get(e)||null},n}(),Ro=new jIe,q6={JSONContribution:"base.contributions.json"};function qIe(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}var zIe=function(){function n(){this._onDidChangeSchema=new Q,this.schemasById={}}return n.prototype.registerSchema=function(e,t){this.schemasById[qIe(e)]=t,this._onDidChangeSchema.fire(e)},n.prototype.notifySchemaChanged=function(e){this._onDidChangeSchema.fire(e)},n}(),GIe=new zIe;Ro.add(q6.JSONContribution,GIe);var M_={Configuration:"base.contributions.configuration"},xE={properties:{},patternProperties:{}},UO={properties:{},patternProperties:{}},jO={properties:{},patternProperties:{}},qO={properties:{},patternProperties:{}},zO={properties:{},patternProperties:{}},GO={properties:{},patternProperties:{}},$O="vscode://schemas/settings/editor",yq=Ro.as(q6.JSONContribution),$Ie=function(){function n(){this.overrideIdentifiers=[],this._onDidSchemaChange=new Q,this._onDidUpdateConfiguration=new Q,this.defaultOverridesConfigurationNode={id:"defaultOverrides",title:D("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultOverridesConfigurationNode],this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowsTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},this.computeOverridePropertyPattern(),yq.registerSchema($O,this.editorConfigurationSchema)}return n.prototype.registerConfiguration=function(e,t){t===void 0&&(t=!0),this.registerConfigurations([e],t)},n.prototype.registerConfigurations=function(e,t){var r=this;t===void 0&&(t=!0);var i=[];e.forEach(function(o){i.push.apply(i,r.validateAndRegisterProperties(o,t)),r.configurationContributors.push(o),r.registerJSONConfiguration(o),r.updateSchemaForOverrideSettingsConfiguration(o)}),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)},n.prototype.registerOverrideIdentifiers=function(e){var t;(t=this.overrideIdentifiers).push.apply(t,e),this.updateOverridePropertyPatternKey()},n.prototype.validateAndRegisterProperties=function(e,t,r,i){t===void 0&&(t=!0),r===void 0&&(r=3),i===void 0&&(i=!1),r=rh(e.scope)?r:e.scope,i=e.overridable||i;var o=[],s=e.properties;if(s)for(var a in s){var u=void 0;if(t&&(u=QIe(a))){console.warn(u),delete s[a];continue}var l=s[a],c=l.default;if(Co(c)&&(l.default=XIe(l.type)),i&&(l.overridable=!0),z6.test(a)?l.scope=void 0:l.scope=rh(l.scope)?r:l.scope,s[a].hasOwnProperty("included")&&!s[a].included){this.excludedConfigurationProperties[a]=s[a],delete s[a];continue}else this.configurationProperties[a]=s[a];o.push(a)}var h=e.allOf;if(h)for(var d=0,p=h;d<p.length;d++){var v=p[d];o.push.apply(o,this.validateAndRegisterProperties(v,t,r,i))}return o},n.prototype.getConfigurationProperties=function(){return this.configurationProperties},n.prototype.registerJSONConfiguration=function(e){function t(r){var i=r.properties;if(i)for(var o in i)switch(xE.properties[o]=i[o],i[o].scope){case 1:UO.properties[o]=i[o];break;case 2:jO.properties[o]=i[o];break;case 5:qO.properties[o]=i[o];break;case 3:zO.properties[o]=i[o];break;case 4:GO.properties[o]=i[o];break}var s=r.allOf;s&&s.forEach(t)}t(e)},n.prototype.updateSchemaForOverrideSettingsConfiguration=function(e){e.id!==KIe&&(this.update(e),yq.registerSchema($O,this.editorConfigurationSchema))},n.prototype.updateOverridePropertyPatternKey=function(){var e=xE.patternProperties[this.overridePropertyPattern];e||(e={type:"object",description:D("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:"Unknown Identifier. Use language identifiers",$ref:$O}),delete xE.patternProperties[this.overridePropertyPattern],delete UO.patternProperties[this.overridePropertyPattern],delete jO.patternProperties[this.overridePropertyPattern],delete qO.patternProperties[this.overridePropertyPattern],delete zO.patternProperties[this.overridePropertyPattern],delete GO.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),xE.patternProperties[this.overridePropertyPattern]=e,UO.patternProperties[this.overridePropertyPattern]=e,jO.patternProperties[this.overridePropertyPattern]=e,qO.patternProperties[this.overridePropertyPattern]=e,zO.patternProperties[this.overridePropertyPattern]=e,GO.patternProperties[this.overridePropertyPattern]=e,this._onDidSchemaChange.fire()},n.prototype.update=function(e){var t=this,r=e.properties;if(r)for(var i in r)r[i].overridable&&(this.editorConfigurationSchema.properties[i]=this.getConfigurationProperties()[i]);var o=e.allOf;o&&o.forEach(function(s){return t.update(s)})},n.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?YIe.replace("${0}",this.overrideIdentifiers.map(function(e){return b6(e,!1).source}).join("|")):Wee},n}(),KIe="override",Wee="\\[.*\\]$",YIe="\\[(${0})\\]$",z6=new RegExp(Wee);function XIe(n){var e=Array.isArray(n)?n[0]:n;switch(e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Uee=new $Ie;Ro.add(M_.Configuration,Uee);function QIe(n){return z6.test(n)?D("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):Uee.getConfigurationProperties()[n]!==void 0?D("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):null}var ZIe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pe=Ul,iy=sp,oy=pu,qT=new(function(){function n(){this._tabFocus=!1,this._onDidChangeTabFocus=new Q,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return n.prototype.getTabFocusMode=function(){return this._tabFocus},n.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},n}()),JIe=Object.hasOwnProperty,exe=function(n){ZIe(e,n);function e(t,r){var i=n.call(this)||this;return i._onDidChange=i._register(new Q),i.onDidChange=i._onDidChange.event,i.isSimpleWidget=t,i._rawOptions=$r({},r||{}),i._rawOptions.scrollbar=$r({},i._rawOptions.scrollbar||{}),i._rawOptions.minimap=$r({},i._rawOptions.minimap||{}),i._rawOptions.find=$r({},i._rawOptions.find||{}),i._rawOptions.hover=$r({},i._rawOptions.hover||{}),i._rawOptions.parameterHints=$r({},i._rawOptions.parameterHints||{}),i._validatedOptions=Mj.validate(i._rawOptions,Pe),i._isDominatedByLongLines=!1,i._lineNumbersDigitCount=1,i._register(Wc.onDidChangeZoomLevel(function(o){return i._recomputeOptions()})),i._register(qT.onDidChangeTabFocus(function(o){return i._recomputeOptions()})),i}return e.prototype.observeReferenceElement=function(t){},e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._recomputeOptions=function(){var t=this.editor,r=this._computeInternalOptions();t&&t.equals(r)||(this.editor=r,t&&this._onDidChange.fire(t.createChangeEvent(r)))},e.prototype.getRawOptions=function(){return this._rawOptions},e.prototype._computeInternalOptions=function(){var t=this._validatedOptions,r=this._getEnvConfiguration(),i=N6.createFromRawSettings(this._rawOptions,r.zoomLevel,this.isSimpleWidget),o={outerWidth:r.outerWidth,outerHeight:r.outerHeight,fontInfo:this.readConfiguration(i),extraEditorClassName:r.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:r.emptySelectionClipboard,pixelRatio:r.pixelRatio,tabFocusMode:qT.getTabFocusMode(),accessibilitySupport:r.accessibilitySupport};return JTe.createInternalEditorOptions(o,t)},e._primitiveArrayEquals=function(t,r){if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==r[i])return!1;return!0},e._subsetEquals=function(t,r){for(var i in r)if(JIe.call(r,i)){var o=r[i],s=t[i];if(s===o)continue;if(Array.isArray(s)&&Array.isArray(o)){if(!this._primitiveArrayEquals(s,o))return!1;continue}if(typeof s=="object"&&typeof o=="object"){if(!this._subsetEquals(s,o))return!1;continue}return!1}return!0},e.prototype.updateOptions=function(t){typeof t>"u"||e._subsetEquals(this._rawOptions,t)||(this._rawOptions=$r(this._rawOptions,t||{}),this._validatedOptions=Mj.validate(this._rawOptions,Pe),this._recomputeOptions())},e.prototype.setIsDominatedByLongLines=function(t){this._isDominatedByLongLines=t,this._recomputeOptions()},e.prototype.setMaxLineNumber=function(t){var r=e._digitCount(t);this._lineNumbersDigitCount!==r&&(this._lineNumbersDigitCount=r,this._recomputeOptions())},e._digitCount=function(t){for(var r=0;t;)t=Math.floor(t/10),r++;return r||1},e}(he),txe=Ro.as(M_.Configuration),jee={id:"editor",order:5,type:"object",title:D("editorConfigurationTitle","Editor"),overridable:!0,scope:4,properties:{"editor.fontFamily":{type:"string",default:iy.fontFamily,description:D("fontFamily","Controls the font family.")},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:iy.fontWeight,description:D("fontWeight","Controls the font weight.")},"editor.fontSize":{type:"number",default:iy.fontSize,description:D("fontSize","Controls the font size in pixels.")},"editor.lineHeight":{type:"number",default:iy.lineHeight,description:D("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")},"editor.letterSpacing":{type:"number",default:iy.letterSpacing,description:D("letterSpacing","Controls the letter spacing in pixels.")},"editor.lineNumbers":{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[D("lineNumbers.off","Line numbers are not rendered."),D("lineNumbers.on","Line numbers are rendered as absolute number."),D("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),D("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:D("lineNumbers","Controls the display of line numbers.")},"editor.cursorSurroundingLines":{type:"number",default:Pe.viewInfo.cursorSurroundingLines,description:D("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")},"editor.renderFinalNewline":{type:"boolean",default:Pe.viewInfo.renderFinalNewline,description:D("renderFinalNewline","Render last line number when the file ends with a newline.")},"editor.rulers":{type:"array",items:{type:"number"},default:Pe.viewInfo.rulers,description:D("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")},"editor.wordSeparators":{type:"string",default:Pe.wordSeparators,description:D("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")},"editor.tabSize":{type:"number",default:oy.tabSize,minimum:1,markdownDescription:D("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:oy.insertSpaces,markdownDescription:D("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:oy.detectIndentation,markdownDescription:D("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.roundedSelection":{type:"boolean",default:Pe.viewInfo.roundedSelection,description:D("roundedSelection","Controls whether selections should have rounded corners.")},"editor.scrollBeyondLastLine":{type:"boolean",default:Pe.viewInfo.scrollBeyondLastLine,description:D("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")},"editor.scrollBeyondLastColumn":{type:"number",default:Pe.viewInfo.scrollBeyondLastColumn,description:D("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")},"editor.smoothScrolling":{type:"boolean",default:Pe.viewInfo.smoothScrolling,description:D("smoothScrolling","Controls whether the editor will scroll using an animation.")},"editor.minimap.enabled":{type:"boolean",default:Pe.viewInfo.minimap.enabled,description:D("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Pe.viewInfo.minimap.side,description:D("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Pe.viewInfo.minimap.showSlider,description:D("minimap.showSlider","Controls whether the minimap slider is automatically hidden.")},"editor.minimap.renderCharacters":{type:"boolean",default:Pe.viewInfo.minimap.renderCharacters,description:D("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Pe.viewInfo.minimap.maxColumn,description:D("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.hover.enabled":{type:"boolean",default:Pe.contribInfo.hover.enabled,description:D("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Pe.contribInfo.hover.delay,description:D("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Pe.contribInfo.hover.sticky,description:D("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:Pe.contribInfo.find.seedSearchStringFromSelection,description:D("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"boolean",default:Pe.contribInfo.find.autoFindInSelection,description:D("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:Pe.contribInfo.find.globalFindClipboard,description:D("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Tt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:!0,description:D("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],markdownEnumDescriptions:[D("wordWrap.off","Lines will never wrap."),D("wordWrap.on","Lines will wrap at the viewport width."),D({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),D({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],default:Pe.wordWrap,description:D({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")},"editor.wordWrapColumn":{type:"integer",default:Pe.wordWrapColumn,minimum:1,markdownDescription:D({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")},"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[D("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),D("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),D("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),D("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],default:"same",description:D("wrappingIndent","Controls the indentation of wrapped lines.")},"editor.mouseWheelScrollSensitivity":{type:"number",default:Pe.viewInfo.scrollbar.mouseWheelScrollSensitivity,markdownDescription:D("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},"editor.fastScrollSensitivity":{type:"number",default:Pe.viewInfo.scrollbar.fastScrollSensitivity,markdownDescription:D("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[D("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),D("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"alt",markdownDescription:D({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")},"editor.multiCursorMergeOverlapping":{type:"boolean",default:Pe.multiCursorMergeOverlapping,description:D("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:D("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:!1,description:D("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:!0,description:D("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:Pe.contribInfo.quickSuggestions,description:D("quickSuggestions","Controls whether suggestions should automatically show up while typing.")},"editor.quickSuggestionsDelay":{type:"integer",default:Pe.contribInfo.quickSuggestionsDelay,minimum:0,description:D("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")},"editor.parameterHints.enabled":{type:"boolean",default:Pe.contribInfo.parameterHints.enabled,description:D("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Pe.contribInfo.parameterHints.cycle,description:D("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")},"editor.autoClosingBrackets":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",D("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),D("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],default:Pe.autoClosingBrackets,description:D("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")},"editor.autoClosingQuotes":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",D("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),D("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],default:Pe.autoClosingQuotes,description:D("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")},"editor.autoClosingOvertype":{type:"string",enum:["always","auto","never"],enumDescriptions:[D("editor.autoClosingOvertype.always","Always type over closing quotes or brackets."),D("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),D("editor.autoClosingOvertype.never","Never type over closing quotes or brackets.")],default:Pe.autoClosingOvertype,description:D("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")},"editor.autoSurround":{type:"string",enum:["languageDefined","brackets","quotes","never"],enumDescriptions:[D("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),D("editor.autoSurround.brackets","Surround with brackets but not quotes."),D("editor.autoSurround.quotes","Surround with quotes but not brackets."),""],default:Pe.autoSurround,description:D("autoSurround","Controls whether the editor should automatically surround selections.")},"editor.formatOnType":{type:"boolean",default:Pe.contribInfo.formatOnType,description:D("formatOnType","Controls whether the editor should automatically format the line after typing.")},"editor.formatOnPaste":{type:"boolean",default:Pe.contribInfo.formatOnPaste,description:D("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")},"editor.autoIndent":{type:"boolean",default:Pe.autoIndent,description:D("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste or move lines. Extensions with indentation rules of the language must be available.")},"editor.suggestOnTriggerCharacters":{type:"boolean",default:Pe.contribInfo.suggestOnTriggerCharacters,description:D("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:Pe.contribInfo.acceptSuggestionOnEnter,markdownEnumDescriptions:["",D("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:D("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:Pe.contribInfo.acceptSuggestionOnCommitCharacter,markdownDescription:D("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[D("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),D("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),D("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),D("snippetSuggestions.none","Do not show snippet suggestions.")],default:Pe.contribInfo.suggest.snippets,description:D("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")},"editor.emptySelectionClipboard":{type:"boolean",default:Pe.emptySelectionClipboard,description:D("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")},"editor.copyWithSyntaxHighlighting":{type:"boolean",default:Pe.copyWithSyntaxHighlighting,description:D("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")},"editor.wordBasedSuggestions":{type:"boolean",default:Pe.contribInfo.wordBasedSuggestions,description:D("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.suggestSelection":{type:"string",enum:["first","recentlyUsed","recentlyUsedByPrefix"],markdownEnumDescriptions:[D("suggestSelection.first","Always select the first suggestion."),D("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),D("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],default:"recentlyUsed",description:D("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,markdownDescription:D("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,markdownDescription:D("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")},"editor.tabCompletion":{type:"string",default:"off",enum:["on","off","onlySnippets"],enumDescriptions:[D("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),D("tabCompletion.off","Disable tab completions."),D("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:D("tabCompletion","Enables tab completions.")},"editor.suggest.filterGraceful":{type:"boolean",default:!0,description:D("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:!1,description:D("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:!1,markdownDescription:D("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:!0,description:D("suggest.snippetsPreventQuickSuggestions","Control whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Pe.contribInfo.suggest.showIcons,description:D("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:Pe.contribInfo.suggest.maxVisibleSuggestions,minimum:1,maximum:15,description:D("suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",default:{keyword:!0,snippet:!0},markdownDescription:D("suggest.filtered","Controls whether some suggestion types should be filtered from IntelliSense. A list of suggestion types can be found here: https://code.visualstudio.com/docs/editor/intellisense#_types-of-completions."),properties:{method:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.method","When set to `false` IntelliSense never shows `method` suggestions.")},function:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.function","When set to `false` IntelliSense never shows `function` suggestions.")},constructor:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.constructor","When set to `false` IntelliSense never shows `constructor` suggestions.")},field:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.field","When set to `false` IntelliSense never shows `field` suggestions.")},variable:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.variable","When set to `false` IntelliSense never shows `variable` suggestions.")},class:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.class","When set to `false` IntelliSense never shows `class` suggestions.")},struct:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.struct","When set to `false` IntelliSense never shows `struct` suggestions.")},interface:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.interface","When set to `false` IntelliSense never shows `interface` suggestions.")},module:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.module","When set to `false` IntelliSense never shows `module` suggestions.")},property:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.property","When set to `false` IntelliSense never shows `property` suggestions.")},event:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.event","When set to `false` IntelliSense never shows `event` suggestions.")},operator:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.operator","When set to `false` IntelliSense never shows `operator` suggestions.")},unit:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.unit","When set to `false` IntelliSense never shows `unit` suggestions.")},value:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.value","When set to `false` IntelliSense never shows `value` suggestions.")},constant:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.constant","When set to `false` IntelliSense never shows `constant` suggestions.")},enum:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.enum","When set to `false` IntelliSense never shows `enum` suggestions.")},enumMember:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.enumMember","When set to `false` IntelliSense never shows `enumMember` suggestions.")},keyword:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.keyword","When set to `false` IntelliSense never shows `keyword` suggestions.")},text:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.text","When set to `false` IntelliSense never shows `text` suggestions.")},color:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.color","When set to `false` IntelliSense never shows `color` suggestions.")},file:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.file","When set to `false` IntelliSense never shows `file` suggestions.")},reference:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.reference","When set to `false` IntelliSense never shows `reference` suggestions.")},customcolor:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.customcolor","When set to `false` IntelliSense never shows `customcolor` suggestions.")},folder:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.folder","When set to `false` IntelliSense never shows `folder` suggestions.")},typeParameter:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.typeParameter","When set to `false` IntelliSense never shows `typeParameter` suggestions.")},snippet:{type:"boolean",default:!0,markdownDescription:D("suggest.filtered.snippet","When set to `false` IntelliSense never shows `snippet` suggestions.")}}},"editor.gotoLocation.multiple":{description:D("editor.gotoLocation.multiple","Controls the behavior of 'Go To' commands, like Go To Definition, when multiple target locations exist."),type:"string",enum:["peek","gotoAndPeek","goto"],default:Pe.contribInfo.gotoLocation.multiple,enumDescriptions:[D("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),D("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),D("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},"editor.selectionHighlight":{type:"boolean",default:Pe.contribInfo.selectionHighlight,description:D("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")},"editor.occurrencesHighlight":{type:"boolean",default:Pe.contribInfo.occurrencesHighlight,description:D("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")},"editor.overviewRulerLanes":{type:"integer",default:3,description:D("overviewRulerLanes","Controls the number of decorations that can show up at the same position in the overview ruler.")},"editor.overviewRulerBorder":{type:"boolean",default:Pe.viewInfo.overviewRulerBorder,description:D("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:$Te(),description:D("cursorBlinking","Control the cursor animation style.")},"editor.mouseWheelZoom":{type:"boolean",default:Pe.viewInfo.mouseWheelZoom,markdownDescription:D("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")},"editor.cursorSmoothCaretAnimation":{type:"boolean",default:Pe.viewInfo.cursorSmoothCaretAnimation,description:D("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:KTe(Pe.viewInfo.cursorStyle),description:D("cursorStyle","Controls the cursor style.")},"editor.cursorWidth":{type:"integer",default:Pe.viewInfo.cursorWidth,markdownDescription:D("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")},"editor.fontLigatures":{type:"boolean",default:Pe.viewInfo.fontLigatures,description:D("fontLigatures","Enables/Disables font ligatures.")},"editor.hideCursorInOverviewRuler":{type:"boolean",default:Pe.viewInfo.hideCursorInOverviewRuler,description:D("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")},"editor.renderWhitespace":{type:"string",enum:["none","boundary","selection","all"],enumDescriptions:["",D("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),D("renderWhitespace.selection","Render whitespace characters only on selected text."),""],default:Pe.viewInfo.renderWhitespace,description:D("renderWhitespace","Controls how the editor should render whitespace characters.")},"editor.renderControlCharacters":{type:"boolean",default:Pe.viewInfo.renderControlCharacters,description:D("renderControlCharacters","Controls whether the editor should render control characters.")},"editor.renderIndentGuides":{type:"boolean",default:Pe.viewInfo.renderIndentGuides,description:D("renderIndentGuides","Controls whether the editor should render indent guides.")},"editor.highlightActiveIndentGuide":{type:"boolean",default:Pe.viewInfo.highlightActiveIndentGuide,description:D("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],enumDescriptions:["","","",D("renderLineHighlight.all","Highlights both the gutter and the current line.")],default:Pe.viewInfo.renderLineHighlight,description:D("renderLineHighlight","Controls how the editor should render the current line highlight.")},"editor.codeLens":{type:"boolean",default:Pe.contribInfo.codeLens,description:D("codeLens","Controls whether the editor shows CodeLens.")},"editor.folding":{type:"boolean",default:Pe.contribInfo.folding,description:D("folding","Controls whether the editor has code folding enabled.")},"editor.foldingStrategy":{type:"string",enum:["auto","indentation"],default:Pe.contribInfo.foldingStrategy,markdownDescription:D("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:Pe.contribInfo.showFoldingControls,description:D("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")},"editor.matchBrackets":{type:"boolean",default:Pe.contribInfo.matchBrackets,description:D("matchBrackets","Highlight matching brackets when one of them is selected.")},"editor.glyphMargin":{type:"boolean",default:Pe.viewInfo.glyphMargin,description:D("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")},"editor.useTabStops":{type:"boolean",default:Pe.useTabStops,description:D("useTabStops","Inserting and deleting whitespace follows tab stops.")},"editor.trimAutoWhitespace":{type:"boolean",default:oy.trimAutoWhitespace,description:D("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.dragAndDrop":{type:"boolean",default:Pe.dragAndDrop,description:D("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[D("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),D("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),D("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:Pe.accessibilitySupport,description:D("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")},"editor.showUnused":{type:"boolean",default:Pe.showUnused,description:D("showUnused","Controls fading out of unused code.")},"editor.links":{type:"boolean",default:Pe.contribInfo.links,description:D("links","Controls whether the editor should detect links and make them clickable.")},"editor.colorDecorators":{type:"boolean",default:Pe.contribInfo.colorDecorators,description:D("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")},"editor.lightbulb.enabled":{type:"boolean",default:Pe.contribInfo.lightbulbEnabled,description:D("codeActions","Enables the code action lightbulb in the editor.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.codeActionsOnSave":{type:"object",properties:{"source.organizeImports":{type:"boolean",description:D("codeActionsOnSave.organizeImports","Controls whether organize imports action should be run on file save.")},"source.fixAll":{type:"boolean",description:D("codeActionsOnSave.fixAll","Controls whether auto fix action should be run on file save.")}},additionalProperties:{type:"boolean"},default:Pe.contribInfo.codeActionsOnSave,description:D("codeActionsOnSave","Code action kinds to be run on save.")},"editor.codeActionsOnSaveTimeout":{type:"number",default:Pe.contribInfo.codeActionsOnSaveTimeout,description:D("codeActionsOnSaveTimeout","Timeout in milliseconds after which the code actions that are run on save are cancelled.")},"editor.selectionClipboard":{type:"boolean",default:Pe.contribInfo.selectionClipboard,description:D("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Xc},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:D("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:D("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"editor.largeFileOptimizations":{type:"boolean",default:oy.largeFileOptimizations,description:D("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:D("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}},LE=null;function qee(){return LE===null&&(LE=Object.create(null),Object.keys(jee.properties).forEach(function(n){LE[n]=!0})),LE}function nxe(n){var e=qee();return e["editor."+n]||!1}function rxe(n){var e=qee();return e["diffEditor."+n]||!1}txe.registerConfiguration(jee);var Pr=function(){function n(){}return n.insert=function(e,t){return{range:new H(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},n.delete=function(e){return{range:e,text:null}},n.replace=function(e,t){return{range:e,text:t}},n.replaceMove=function(e,t){return{range:e,text:t,forceMoveMarkers:!0}},n}(),yi=qt("configurationService");function ixe(n,e){var t=Object.create(null);for(var r in n)G6(t,r,n[r],e);return t}function G6(n,e,t,r){for(var i=e.split("."),o=i.pop(),s=n,a=0;a<i.length;a++){var u=i[a],l=s[u];switch(typeof l){case"undefined":l=s[u]=Object.create(null);break;case"object":break;default:r("Ignoring "+e+" as "+i.slice(0,a+1).join(".")+" is "+JSON.stringify(l));return}s=l}typeof s=="object"?s[o]=t:r("Ignoring "+e+" as "+i.join(".")+" is "+JSON.stringify(s))}function oxe(n,e){var t=e.split(".");zee(n,t)}function zee(n,e){var t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){var r=n[t];typeof r=="object"&&!Array.isArray(r)&&(zee(r,e),Object.keys(r).length===0&&delete n[t])}}function sxe(n,e,t){function r(s,a){for(var u=s,l=0,c=a;l<c.length;l++){var h=c[l];if(typeof u!="object"||u===null)return;u=u[h]}return u}var i=e.split("."),o=r(n,i);return typeof o>"u"?t:o}function axe(){var n=Ro.as(M_.Configuration).getConfigurationProperties();return Object.keys(n)}function uxe(){var n=Object.create(null),e=Ro.as(M_.Configuration).getConfigurationProperties();for(var t in e){var r=e[t].default;G6(n,t,r,function(i){return console.error("Conflict in default settings: "+i)})}return n}function lxe(n){return n.substring(1,n.length-1)}function cxe(n,e,t){var r=n.inspect(e),i=n.inspect(t);return typeof r.user<"u"||typeof r.workspace<"u"||typeof r.workspaceFolder<"u"?r.value:typeof i.user<"u"||typeof i.workspace<"u"||typeof i.workspaceFolder<"u"?i.value:r.default}var fxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uv=function(){function n(e,t,r){e===void 0&&(e={}),t===void 0&&(t=[]),r===void 0&&(r=[]),this._contents=e,this._keys=t,this._overrides=r,this.isFrozen=!1}return Object.defineProperty(n.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),n.prototype.isEmpty=function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0},n.prototype.getValue=function(e){return e?sxe(this.contents,e):this.contents},n.prototype.override=function(e){var t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;for(var r={},i=0,o=RJ(Object.keys(this.contents).concat(Object.keys(t)));i<o.length;i++){var s=o[i],a=this.contents[s],u=t[s];u&&(typeof a=="object"&&typeof u=="object"?(a=mc(a),this.mergeContents(a,u)):a=u),r[s]=a}return new n(r)},n.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=mc(this.contents),i=mc(this.overrides),o=this.keys.slice(),s=0,a=e;s<a.length;s++){var u=a[s];this.mergeContents(r,u.contents);for(var l=function(b){var C=i.filter(function(E){return Ph(E.identifiers,b.identifiers)})[0];C?c.mergeContents(C.contents,b.contents):i.push(mc(b))},c=this,h=0,d=u.overrides;h<d.length;h++){var p=d[h];l(p)}for(var v=0,m=u.keys;v<m.length;v++){var _=m[v];o.indexOf(_)===-1&&o.push(_)}}return new n(r,o,i)},n.prototype.freeze=function(){return this.isFrozen=!0,this},n.prototype.mergeContents=function(e,t){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(o in e&&$i(e[o])&&$i(t[o])){this.mergeContents(e[o],t[o]);continue}e[o]=mc(t[o])}},n.prototype.checkAndFreeze=function(e){return this.isFrozen&&!Object.isFrozen(e)?FTe(e):e},n.prototype.getContentsForOverrideIdentifer=function(e){for(var t=0,r=this.overrides;t<r.length;t++){var i=r[t];if(i.identifiers.indexOf(e)!==-1)return i.contents}return null},n.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},n.prototype.setValue=function(e,t){this.addKey(e),G6(this.contents,e,t,function(r){throw new Error(r)})},n.prototype.removeValue=function(e){this.removeKey(e)&&oxe(this.contents,e)},n.prototype.addKey=function(e){for(var t=this.keys.length,r=0;r<t;r++)e.indexOf(this.keys[r])===0&&(t=r);this.keys.splice(t,1,e)},n.prototype.removeKey=function(e){var t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1},n}(),hxe=function(n){fxe(e,n);function e(){for(var t=this,r=uxe(),i=axe(),o=[],s=0,a=Object.keys(r);s<a.length;s++){var u=a[s];z6.test(u)&&o.push({identifiers:[lxe(u).trim()],contents:ixe(r[u],function(l){return console.error("Conflict in default settings file: "+l)})})}return t=n.call(this,r,i,o)||this,t}return e}(Uv),dxe=function(){function n(e,t,r,i,o,s,a,u){r===void 0&&(r=new Uv),i===void 0&&(i=new Uv),o===void 0&&(o=new LO),s===void 0&&(s=new Uv),a===void 0&&(a=new LO),u===void 0&&(u=!0),this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=r,this._workspaceConfiguration=i,this._folderConfigurations=o,this._memoryConfiguration=s,this._memoryConfigurationByResource=a,this._freeze=u,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new LO}return n.prototype.getValue=function(e,t,r){var i=this.getConsolidateConfigurationModel(t,r);return i.getValue(e)},n.prototype.updateValue=function(e,t,r){r===void 0&&(r={});var i;r.resource?(i=this._memoryConfigurationByResource.get(r.resource),i||(i=new Uv,this._memoryConfigurationByResource.set(r.resource,i))):i=this._memoryConfiguration,t===void 0?i.removeValue(e):i.setValue(e,t),r.resource||(this._workspaceConsolidatedConfiguration=null)},n.prototype.inspect=function(e,t,r){var i=this.getConsolidateConfigurationModel(t,r),o=this.getFolderConfigurationModelForResource(t.resource,r),s=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration;return{default:t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),user:t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),userLocal:t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),userRemote:t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),workspace:r?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,workspaceFolder:o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,memory:t.overrideIdentifier?s.override(t.overrideIdentifier).getValue(e):s.getValue(e),value:i.getValue(e)}},Object.defineProperty(n.prototype,"userConfiguration",{get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"localUserConfiguration",{get:function(){return this._localUserConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"remoteUserConfiguration",{get:function(){return this._remoteUserConfiguration},enumerable:!0,configurable:!0}),n.prototype.getConsolidateConfigurationModel=function(e,t){var r=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?r.override(e.overrideIdentifier):r},n.prototype.getConsolidatedConfigurationModelForResource=function(e,t){var r=e.resource,i=this.getWorkspaceConsolidatedConfiguration();if(t&&r){var o=t.getFolder(r);o&&(i=this.getFolderConsolidatedConfiguration(o.uri)||i);var s=this._memoryConfigurationByResource.get(r);s&&(i=i.merge(s))}return i},n.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},n.prototype.getFolderConsolidatedConfiguration=function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var r=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=r.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=r}return t},n.prototype.getFolderConfigurationModelForResource=function(e,t){if(t&&e){var r=t.getFolder(e);if(r)return km(this._folderConfigurations.get(r.uri))}return null},n}(),pxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gxe=function(n){pxe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._contextKeyService=t,s._commandService=r,s._telemetryService=i,s._notificationService=o,s._onDidUpdateKeybindings=s._register(new Q),s._currentChord=null,s._currentChordChecker=new R_,s._currentChordStatusMessage=null,s}return Object.defineProperty(e.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Ze.None},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.lookupKeybinding=function(t){var r=this._getResolver().lookupPrimaryKeybinding(t);if(r)return r.resolvedKeybinding},e.prototype.softDispatch=function(t,r){var i=this.resolveKeyboardEvent(t);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var o=i.getDispatchParts()[0];if(o===null)return null;var s=this._contextKeyService.getContext(r),a=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,a,o)},e.prototype._enterChordMode=function(t,r){var i=this;this._currentChord={keypress:t,label:r},this._currentChordStatusMessage=this._notificationService.status(D("first.chord","({0}) was pressed. Waiting for second key of chord...",r));var o=Date.now();this._currentChordChecker.cancelAndSet(function(){if(!i._documentHasFocus()){i._leaveChordMode();return}Date.now()-o>5e3&&i._leaveChordMode()},500)},e.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},e.prototype._dispatch=function(t,r){return this._doDispatch(this.resolveKeyboardEvent(t),r)},e.prototype._doDispatch=function(t,r){var i=this,o=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var s=t.getDispatchParts()[0];if(s===null)return o;var a=this._contextKeyService.getContext(r),u=this._currentChord?this._currentChord.keypress:null,l=t.getLabel(),c=this._getResolver().resolve(a,u,s);return c&&c.enterChord?(o=!0,this._enterChordMode(s,l),o):(this._currentChord&&(!c||!c.commandId)&&(this._notificationService.status(D("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),o=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(o=!0),typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,function(h){return i._notificationService.warn(h)}):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,function(h){return i._notificationService.warn(h)}),this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),o)},e.prototype.mightProducePrintableCharacter=function(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30},e}(he),vxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oe=function(){function n(){}return n.has=function(e){return Hm.create(e)},n.equals=function(e,t){return PM.create(e,t)},n.regex=function(e,t){return bq.create(e,t)},n.not=function(e){return s1.create(e)},n.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Cq.create(e)},n.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a1.create(e)},n.deserialize=function(e,t){if(t===void 0&&(t=!1),!!e)return this._deserializeOrExpression(e,t)},n._deserializeOrExpression=function(e,t){var r=this,i=e.split("||");return a1.create(i.map(function(o){return r._deserializeAndExpression(o,t)}))},n._deserializeAndExpression=function(e,t){var r=this,i=e.split("&&");return Cq.create(i.map(function(o){return r._deserializeOne(o,t)}))},n._deserializeOne=function(e,t){if(e=e.trim(),e.indexOf("!=")>=0){var r=e.split("!=");return Gee.create(r[0].trim(),this._deserializeValue(r[1],t))}if(e.indexOf("==")>=0){var r=e.split("==");return PM.create(r[0].trim(),this._deserializeValue(r[1],t))}if(e.indexOf("=~")>=0){var r=e.split("=~");return bq.create(r[0].trim(),this._deserializeRegexValue(r[1],t))}return/^\!\s*/.test(e)?s1.create(e.substr(1).trim()):Hm.create(e)},n._deserializeValue=function(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;var r=/^'([^']*)'$/.exec(e);return r?r[1].trim():e},n._deserializeRegexValue=function(e,t){if(pee(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var r=e.indexOf("/"),i=e.lastIndexOf("/");if(r===i||r<0){if(t)throw new Error("bad regexp-value '"+e+"', missing /-enclosure");return console.warn("bad regexp-value '"+e+"', missing /-enclosure"),null}var o=e.slice(r+1,i),s=e[i+1]==="i"?"i":"";try{return new RegExp(o,s)}catch(a){if(t)throw new Error("bad regexp-value '"+e+"', parse error: "+a);return console.warn("bad regexp-value '"+e+"', parse error: "+a),null}},n}();function RM(n,e){var t=n.getType(),r=e.getType();if(t!==r)return t-r;switch(t){case 1:return n.cmp(e);case 2:return n.cmp(e);case 3:return n.cmp(e);case 4:return n.cmp(e);case 6:return n.cmp(e);case 7:return n.cmp(e);case 5:return n.cmp(e);default:throw new Error("Unknown ContextKeyExpr!")}}var Hm=function(){function n(e){this.key=e}return n.create=function(e){return new n(e)},n.prototype.getType=function(){return 1},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key:!1},n.prototype.evaluate=function(e){return!!e.getValue(this.key)},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return s1.create(this.key)},n}(),PM=function(){function n(e,t){this.key=e,this.value=t}return n.create=function(e,t){return typeof t=="boolean"?t?Hm.create(e):s1.create(e):new n(e,t)},n.prototype.getType=function(){return 3},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key&&this.value===e.value:!1},n.prototype.evaluate=function(e){return e.getValue(this.key)==this.value},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return Gee.create(this.key,this.value)},n}(),Gee=function(){function n(e,t){this.key=e,this.value=t}return n.create=function(e,t){return typeof t=="boolean"?t?s1.create(e):Hm.create(e):new n(e,t)},n.prototype.getType=function(){return 4},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key&&this.value===e.value:!1},n.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return PM.create(this.key,this.value)},n}(),s1=function(){function n(e){this.key=e}return n.create=function(e){return new n(e)},n.prototype.getType=function(){return 2},n.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},n.prototype.equals=function(e){return e instanceof n?this.key===e.key:!1},n.prototype.evaluate=function(e){return!e.getValue(this.key)},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return Hm.create(this.key)},n}(),bq=function(){function n(e,t){this.key=e,this.regexp=t}return n.create=function(e,t){return new n(e,t)},n.prototype.getType=function(){return 6},n.prototype.cmp=function(e){if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0},n.prototype.equals=function(e){if(e instanceof n){var t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1},n.prototype.evaluate=function(e){var t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1},n.prototype.keys=function(){return[this.key]},n.prototype.negate=function(){return mxe.create(this)},n}(),mxe=function(){function n(e){this._actual=e}return n.create=function(e){return new n(e)},n.prototype.getType=function(){return 7},n.prototype.cmp=function(e){return this._actual.cmp(e._actual)},n.prototype.equals=function(e){return e instanceof n?this._actual.equals(e._actual):!1},n.prototype.evaluate=function(e){return!this._actual.evaluate(e)},n.prototype.keys=function(){return this._actual.keys()},n.prototype.negate=function(){return this._actual},n}(),Cq=function(){function n(e){this.expr=e}return n.create=function(e){var t=n._normalizeArr(e);if(t.length!==0)return t.length===1?t[0]:new n(t)},n.prototype.getType=function(){return 5},n.prototype.cmp=function(e){if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(var t=0,r=this.expr.length;t<r;t++){var i=RM(this.expr[t],e.expr[t]);if(i!==0)return i}return 0},n.prototype.equals=function(e){if(e instanceof n){if(this.expr.length!==e.expr.length)return!1;for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1},n.prototype.evaluate=function(e){for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0},n._normalizeArr=function(e){var t=[];if(e){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(o){if(o instanceof n){t=t.concat(o.expr);continue}if(o instanceof a1)throw new Error("It is not allowed to have an or expression here due to lack of parens!");t.push(o)}}t.sort(RM)}return t},n.prototype.keys=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push.apply(e,i.keys())}return e},n.prototype.negate=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push(i.negate())}return a1.create(e)},n}(),a1=function(){function n(e){this.expr=e}return n.create=function(e){var t=n._normalizeArr(e);if(t.length!==0)return t.length===1?t[0]:new n(t)},n.prototype.getType=function(){return 8},n.prototype.equals=function(e){if(e instanceof n){if(this.expr.length!==e.expr.length)return!1;for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1},n.prototype.evaluate=function(e){for(var t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1},n._normalizeArr=function(e){var t=[];if(e){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(o){if(o instanceof n){t=t.concat(o.expr);continue}t.push(o)}}t.sort(RM)}return t},n.prototype.keys=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push.apply(e,i.keys())}return e},n.prototype.negate=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var i=r[t];e.push(i.negate())}for(var o=function(m){return m instanceof n?m.expr:[m]};e.length>1;){for(var s=e.shift(),a=e.shift(),u=[],l=0,c=o(s);l<c.length;l++)for(var h=c[l],d=0,p=o(a);d<p.length;d++){var v=p[d];u.push(Oe.and(h,v))}e.unshift(Oe.or.apply(Oe,u))}return e[0]},n}(),Ke=function(n){vxe(e,n);function e(t,r){var i=n.call(this,t)||this;return i._defaultValue=r,i}return e.prototype.bindTo=function(t){return t.createKey(this.key,this._defaultValue)},e.prototype.getValue=function(t){return t.getContextKeyValue(this.key)},e.prototype.toNegated=function(){return Oe.not(this.key)},e}(Hm),yt=qt("contextKeyService"),_xe="setContext",$ee=function(){function n(e,t){this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(var r=0,i=e.length;r<i;r++){var o=e[r].command;o&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=n.combine(e,t);for(var r=0,i=this._keybindings.length;r<i;r++){var s=this._keybindings[r];s.keypressParts.length!==0&&this._addKeyPress(s.keypressParts[0],s)}}return n._isTargetedForRemoval=function(e,t,r,i,o){return!(e.command!==i||t&&e.keypressParts[0]!==t||r&&e.keypressParts[1]!==r||o&&(!e.when||!o.equals(e.when)))},n.combine=function(e,t){e=e.slice(0);for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(!s.command||s.command.length===0||s.command.charAt(0)!=="-"){r.push(s);continue}for(var a=s.command.substr(1),u=s.keypressParts[0],l=s.keypressParts[1],c=s.when,h=e.length-1;h>=0;h--)this._isTargetedForRemoval(e[h],u,l,a,c)&&e.splice(h,1)}return e.concat(r)},n.prototype._addKeyPress=function(e,t){var r=this._map.get(e);if(typeof r>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(var i=r.length-1;i>=0;i--){var o=r[i];if(o.command!==t.command){var s=o.keypressParts.length>1,a=t.keypressParts.length>1;s&&a&&o.keypressParts[1]!==t.keypressParts[1]||n.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}}r.push(t),this._addToLookupMap(t)},n.prototype._addToLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}},n.prototype._removeFromLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(var r=0,i=t.length;r<i;r++)if(t[r]===e){t.splice(r,1);return}}}},n.whenIsEntirelyIncluded=function(e,t){return t?e?this._implies(e,t):!1:!0},n._implies=function(e,t){for(var r=e.negate(),i=function(h){return h instanceof a1?h.expr:[h]},o=i(r).concat(i(t)),s=0;s<o.length;s++)for(var a=o[s],u=a.negate(),l=s+1;l<o.length;l++){var c=o[l];if(u.equals(c))return!0}return!1},n.prototype.lookupPrimaryKeybinding=function(e){var t=this._lookupMap.get(e);return typeof t>"u"||t.length===0?null:t[t.length-1]},n.prototype.resolve=function(e,t,r){var i=null;if(t!==null){var o=this._map.get(t);if(typeof o>"u")return null;i=[];for(var s=0,a=o.length;s<a;s++){var u=o[s];u.keypressParts[1]===r&&i.push(u)}}else{var o=this._map.get(r);if(typeof o>"u")return null;i=o}var l=this._findCommand(e,i);return l?t===null&&l.keypressParts.length>1&&l.keypressParts[1]!==null?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:l.command,commandArgs:l.commandArgs,bubble:l.bubble}:null},n.prototype._findCommand=function(e,t){for(var r=t.length-1;r>=0;r--){var i=t[r];if(n.contextMatchesRules(e,i.when))return i}return null},n.contextMatchesRules=function(e,t){return t?t.evaluate(e):!0},n}(),yxe=function(){function n(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return n.bindToCurrentPlatform=function(e){if(il===1){if(e&&e.win)return e.win}else if(il===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},n.prototype.registerKeybindingRule=function(e){var t=n.bindToCurrentPlatform(e);if(t&&t.primary){var r=xT(t.primary,il);r&&this._registerDefaultKeybinding(r,e.id,void 0,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(var i=0,o=t.secondary.length;i<o;i++){var s=t.secondary[i],r=xT(s,il);r&&this._registerDefaultKeybinding(r,e.id,void 0,e.weight,-i-1,e.when)}},n.prototype.registerCommandAndKeybindingRule=function(e){this.registerKeybindingRule(e),Bi.registerCommand(e)},n._mightProduceChar=function(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92},n.prototype._assertNoCtrlAlt=function(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&n._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)},n.prototype._registerDefaultKeybinding=function(e,t,r,i,o,s){il===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:r,when:s,weight1:i,weight2:o}),this._cachedMergedKeybindings=null},n.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Cxe)),this._cachedMergedKeybindings.slice(0)},n}(),wa=new yxe,bxe={EditorModes:"platform.keybindingsRegistry"};Ro.add(bxe.EditorModes,wa);function Cxe(n,e){return n.weight1!==e.weight1?n.weight1-e.weight1:n.command<e.command?-1:n.command>e.command?1:n.weight2-e.weight2}var wq=function(){function n(e,t,r,i,o){this.resolvedKeybinding=e,this.keypressParts=e?wxe(e.getDispatchParts()):[],this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=r,this.when=i,this.isDefault=o}return n}();function wxe(n){for(var e=[],t=0,r=n.length;t<r;t++){var i=n[t];if(!i)return e;e.push(i)}return e}var Kee=function(){function n(e,t,r){r===void 0&&(r=t),this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=r}return n.prototype.toLabel=function(e,t,r){if(t.length===0)return null;for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=r(a);if(u===null)return null;i[o]=Sxe(a,u,this.modifierLabels[e])}return i.join(" ")},n}(),Yee=new Kee({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:D({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Exe=new Kee({ctrlKey:D({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:D({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function Sxe(n,e,t){if(e===null)return"";var r=[];return n.ctrlKey&&r.push(t.ctrlKey),n.shiftKey&&r.push(t.shiftKey),n.altKey&&r.push(t.altKey),n.metaKey&&r.push(t.metaKey),r.push(e),r.join(t.separator)}var Txe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dxe=function(n){Txe(e,n);function e(t,r){var i=n.call(this)||this;if(r.length===0)throw Br("parts");return i._os=t,i._parts=r,i}return e.prototype.getLabel=function(){var t=this;return Yee.toLabel(this._os,this._parts,function(r){return t._getLabel(r)})},e.prototype.getAriaLabel=function(){var t=this;return Exe.toLabel(this._os,this._parts,function(r){return t._getAriaLabel(r)})},e.prototype.isChord=function(){return this._parts.length>1},e.prototype.getParts=function(){var t=this;return this._parts.map(function(r){return t._getPart(r)})},e.prototype._getPart=function(t){return new dDe(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))},e.prototype.getDispatchParts=function(){var t=this;return this._parts.map(function(r){return t._getDispatchPart(r)})},e}(pDe),Axe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eq=function(n){Axe(e,n);function e(t,r){return n.call(this,r,t.parts)||this}return e.prototype._keyCodeToUILabel=function(t){if(this._os===2)switch(t){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return lm.toString(t)},e.prototype._getLabel=function(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)},e.prototype._getAriaLabel=function(t){return t.isDuplicateModifierCase()?"":lm.toString(t.keyCode)},e.prototype._getDispatchPart=function(t){return e.getDispatchStr(t)},e.getDispatchStr=function(t){if(t.isModifierKey())return null;var r="";return t.ctrlKey&&(r+="ctrl+"),t.shiftKey&&(r+="shift+"),t.altKey&&(r+="alt+"),t.metaKey&&(r+="meta+"),r+=lm.toString(t.keyCode),r},e}(Dxe),bi=qt("notificationService"),Ixe=function(){function n(){}return n}(),Xee=qt("contextService"),Sq;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"&&Array.isArray(t.folders)}n.isIWorkspace=e})(Sq||(Sq={}));var Tq;(function(n){function e(t){return t&&typeof t=="object"&&Ft.isUri(t.uri)&&typeof t.name=="string"&&typeof t.toResource=="function"}n.isIWorkspaceFolder=e})(Tq||(Tq={}));(function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=null),this._id=e,this._configuration=r,this._foldersMap=AM.forPaths(),this.folders=t}return Object.defineProperty(n.prototype,"folders",{get:function(){return this._folders},set:function(e){this._folders=e,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"configuration",{get:function(){return this._configuration},set:function(e){this._configuration=e},enumerable:!0,configurable:!0}),n.prototype.getFolder=function(e){return e&&this._foldersMap.findSubstr(e.with({scheme:e.scheme,authority:e.authority,path:e.path}).toString())||null},n.prototype.updateFoldersMap=function(){this._foldersMap=AM.forPaths();for(var e=0,t=this.folders;e<t.length;e++){var r=t[e];this._foldersMap.set(r.uri.toString(),r)}},n.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}},n})();var xxe=function(){function n(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}return n.prototype.toResource=function(e){return OAe(this.uri,e)},n.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},n}(),rr;(function(n){n.noSelection=D("noSelection","No selection"),n.singleSelectionRange=D("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),n.singleSelection=D("singleSelection","Line {0}, Column {1}"),n.multiSelectionRange=D("multiSelectionRange","{0} selections ({1} characters selected)"),n.multiSelection=D("multiSelection","{0} selections"),n.emergencyConfOn=D("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),n.openingDocs=D("openingDocs","Now opening the Editor Accessibility documentation page."),n.readonlyDiffEditor=D("readonlyDiffEditor"," in a read-only pane of a diff editor."),n.editableDiffEditor=D("editableDiffEditor"," in a pane of a diff editor."),n.readonlyEditor=D("readonlyEditor"," in a read-only code editor"),n.editableEditor=D("editableEditor"," in a code editor"),n.changeConfigToOnMac=D("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),n.changeConfigToOnWinLinux=D("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),n.auto_on=D("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),n.auto_off=D("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),n.tabFocusModeOnMsg=D("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),n.tabFocusModeOnMsgNoKb=D("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),n.tabFocusModeOffMsg=D("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),n.tabFocusModeOffMsgNoKb=D("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),n.openDocMac=D("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),n.openDocWinLinux=D("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),n.outroMsg=D("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),n.showAccessibilityHelpAction=D("showAccessibilityHelpAction","Show Accessibility Help")})(rr||(rr={}));var MM;(function(n){n.inspectTokensAction=D("inspectTokens","Developer: Inspect Tokens")})(MM||(MM={}));var _c;(function(n){n.gotoLineLabelValidLineAndColumn=D("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}"),n.gotoLineLabelValidLine=D("gotoLineLabelValidLine","Go to line {0}"),n.gotoLineLabelEmptyWithLineLimit=D("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to"),n.gotoLineLabelEmptyWithLineAndColumnLimit=D("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to"),n.gotoLineAriaLabel=D("gotoLineAriaLabel","Current Line: {0}. Go to line {1}."),n.gotoLineActionInput=D("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),n.gotoLineActionLabel=D("gotoLineActionLabel","Go to Line...")})(_c||(_c={}));var Vm;(function(n){n.ariaLabelEntryWithKey=D("ariaLabelEntryWithKey","{0}, {1}, commands"),n.ariaLabelEntry=D("ariaLabelEntry","{0}, commands"),n.quickCommandActionInput=D("quickCommandActionInput","Type the name of an action you want to execute"),n.quickCommandActionLabel=D("quickCommandActionLabel","Command Palette")})(Vm||(Vm={}));var ho;(function(n){n.entryAriaLabel=D("entryAriaLabel","{0}, symbols"),n.quickOutlineActionInput=D("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),n.quickOutlineActionLabel=D("quickOutlineActionLabel","Go to Symbol..."),n._symbols_=D("symbols","symbols ({0})"),n._modules_=D("modules","modules ({0})"),n._class_=D("class","classes ({0})"),n._interface_=D("interface","interfaces ({0})"),n._method_=D("method","methods ({0})"),n._function_=D("function","functions ({0})"),n._property_=D("property","properties ({0})"),n._variable_=D("variable","variables ({0})"),n._variable2_=D("variable2","variables ({0})"),n._constructor_=D("_constructor","constructors ({0})"),n._call_=D("call","calls ({0})")})(ho||(ho={}));var tb;(function(n){n.editorViewAccessibleLabel=D("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessageIE=D("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."),n.accessibilityHelpMessage=D("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(tb||(tb={}));var FM;(function(n){n.toggleHighContrast=D("toggleHighContrast","Toggle High Contrast Theme")})(FM||(FM={}));var BM;(function(n){n.bulkEditServiceSummary=D("bulkEditServiceSummary","Made {0} edits in {1} files")})(BM||(BM={}));var Lxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nxe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Oxe=function(n,e){return function(t,r){e(t,r,n)}},kxe=function(){function n(e){this.model=e,this._onDispose=new Q}return Object.defineProperty(n.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._onDispose.fire()},n}();function Rxe(n,e,t){return kl(n)?e(n):t(n)}var Pxe=function(){function n(){}return n.prototype.setEditor=function(e){this.editor=e},n.prototype.createModelReference=function(e){var t=this,r=null;return this.editor&&(r=Rxe(this.editor,function(i){return t.findModel(i,e)},function(i){return t.findModel(i.getOriginalEditor(),e)||t.findModel(i.getModifiedEditor(),e)})),r?Promise.resolve(new aDe(new kxe(r))):Promise.reject(new Error("Model not found"))},n.prototype.findModel=function(e,t){var r=e.getModel();return r&&r.uri.toString()!==t.toString()?null:r},n}(),Mxe=function(){function n(){}return n.prototype.showWhile=function(e,t){return Promise.resolve(void 0)},n}(),Fxe=function(){function n(){}return n}(),Bxe=function(){function n(){}return n.prototype.info=function(e){return this.notify({severity:or.Info,message:e})},n.prototype.warn=function(e){return this.notify({severity:or.Warning,message:e})},n.prototype.error=function(e){return this.notify({severity:or.Error,message:e})},n.prototype.notify=function(e){switch(e.severity){case or.Error:console.error(e.message);break;case or.Warning:console.warn(e.message);break;default:console.log(e.message);break}return n.NO_OP},n.prototype.status=function(e,t){return he.None},n.NO_OP=new Ixe,n}(),Qee=function(){function n(e){this._onWillExecuteCommand=new Q,this._onDidExecuteCommand=new Q,this._instantiationService=e,this._dynamicCommands=Object.create(null)}return n.prototype.addCommand=function(e){var t=this,r=e.id;return this._dynamicCommands[r]=e,bn(function(){delete t._dynamicCommands[r]})},n.prototype.executeCommand=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Bi.getCommand(e)||this._dynamicCommands[e];if(!i)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e,args:t});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler].concat(t));return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(o)}catch(s){return Promise.reject(s)}},n}(),Zee=function(n){Lxe(e,n);function e(t,r,i,o,s){var a=n.call(this,t,r,i,o)||this;return a._cachedResolver=null,a._dynamicKeybindings=[],a._register(ye(s,lt.KEY_DOWN,function(u){var l=new Gn(u),c=a._dispatch(l,l.target);c&&l.preventDefault()})),a}return e.prototype.addDynamicKeybinding=function(t,r,i,o){var s=this,a=xT(r,il);if(!a)throw new Error("Invalid keybinding");var u=new Be;this._dynamicKeybindings.push({keybinding:a,command:t,when:o,weight1:1e3,weight2:0}),u.add(bn(function(){for(var c=0;c<s._dynamicKeybindings.length;c++){var h=s._dynamicKeybindings[c];if(h.command===t){s._dynamicKeybindings.splice(c,1),s.updateResolver({source:1});return}}}));var l=this._commandService;if(l instanceof Qee)u.add(l.addCommand({id:t,handler:i}));else throw new Error("Unknown command service!");return this.updateResolver({source:1}),u},e.prototype.updateResolver=function(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)},e.prototype._getResolver=function(){if(!this._cachedResolver){var t=this._toNormalizedKeybindingItems(wa.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new $ee(t,r)}return this._cachedResolver},e.prototype._documentHasFocus=function(){return document.hasFocus()},e.prototype._toNormalizedKeybindingItems=function(t,r){for(var i=[],o=0,s=0,a=t;s<a.length;s++){var u=a[s],l=u.when||void 0,c=u.keybinding;if(!c)i[o++]=new wq(void 0,u.command,u.commandArgs,l,r);else for(var h=this.resolveKeybinding(c),d=0,p=h;d<p.length;d++){var v=p[d];i[o++]=new wq(v,u.command,u.commandArgs,l,r)}}return i},e.prototype.resolveKeybinding=function(t){return[new Eq(t,il)]},e.prototype.resolveKeyboardEvent=function(t){var r=new f6(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new Eq(r,il)},e}(gxe);function Dq(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof Ft)}var Jee=function(){function n(){this._onDidChangeConfiguration=new Q,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new dxe(new hxe,new Uv)}return n.prototype.configuration=function(){return this._configuration},n.prototype.getValue=function(e,t){var r=typeof e=="string"?e:void 0,i=Dq(e)?e:Dq(t)?t:{};return this.configuration().getValue(r,i,void 0)},n.prototype.updateValue=function(e,t,r,i){return this.configuration().updateValue(e,t),Promise.resolve()},n.prototype.inspect=function(e,t){return t===void 0&&(t={}),this.configuration().inspect(e,t,void 0)},n}(),Hxe=function(){function n(e){var t=this;this.configurationService=e,this._onDidChangeConfiguration=new Q,this.configurationService.onDidChangeConfiguration(function(r){t._onDidChangeConfiguration.fire(r)})}return n.prototype.getValue=function(e,t,r){var i=ee.isIPosition(t)?t:null,o=i?typeof r=="string"?r:void 0:typeof t=="string"?t:void 0;return typeof o>"u"?this.configurationService.getValue():this.configurationService.getValue(o)},n}(),Vxe=function(){function n(e){this.configurationService=e}return n.prototype.getEOL=function(e){var t=this.configurationService.getValue("files");return t&&t.eol&&t.eol!=="auto"?t.eol:Xc||Tt?`
`:`\r
`},n=Nxe([Oxe(0,yi)],n),n}(),Wxe=function(){function n(){this._serviceBrand=void 0}return n.prototype.publicLog=function(e,t){return Promise.resolve(void 0)},n.prototype.publicLog2=function(e,t){return this.publicLog(e,t)},n}(),Uxe=function(){function n(){var e=Ft.from({scheme:n.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new xxe({uri:e,name:"",index:0})]}}return n.prototype.getWorkspace=function(){return this.workspace},n.prototype.getWorkspaceFolder=function(e){return e&&e.scheme===n.SCHEME?this.workspace.folders[0]:null},n.SCHEME="inmemory",n}();function zT(n,e,t){e&&n instanceof Jee&&Object.keys(e).forEach(function(r){nxe(r)&&n.updateValue("editor."+r,e[r]),t&&rxe(r)&&n.updateValue("diffEditor."+r,e[r])})}var jxe=function(){function n(e){this._modelService=e}return n.prototype.apply=function(e,t){var r=new Map;if(e.edits)for(var i=0,o=e.edits;i<o.length;i++){var s=o[i];if(!y2e(s))return Promise.reject(new Error("bad edit - only text edits are supported"));var a=this._modelService.getModel(s.resource);if(!a)return Promise.reject(new Error("bad edit - model not found"));var u=r.get(a);u||(u=[]),r.set(a,u.concat(s.edits))}var l=0,c=0;return r.forEach(function(h,d){d.applyEdits(h.map(function(p){return Pr.replaceMove(H.lift(p.range),p.text)})),c+=1,l+=h.length}),Promise.resolve({selection:void 0,ariaSummary:Yt(BM.bulkEditServiceSummary,l,c)})},n}(),qxe=function(){function n(){}return n.prototype.getUriLabel=function(e,t){return e.scheme==="file"?e.fsPath:e.path},n}(),zxe=function(){function n(e){this._container=e,this.onLayout=Ze.None}return Object.defineProperty(n.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),n}(),Ov,kv,Rv;function Gxe(n){Ov=document.createElement("div"),Ov.className="monaco-aria-container",kv=document.createElement("div"),kv.className="monaco-alert",kv.setAttribute("role","alert"),kv.setAttribute("aria-atomic","true"),Ov.appendChild(kv),Rv=document.createElement("div"),Rv.className="monaco-status",Rv.setAttribute("role","status"),Rv.setAttribute("aria-atomic","true"),Ov.appendChild(Rv),n.appendChild(Ov)}function Ki(n,e){ete(kv,n,e)}function Aq(n,e){Tt?Ki(n,e):ete(Rv,n,e)}var NE=0,Iq=void 0;function ete(n,e,t){if(Ov){if(!t)switch(Iq===e?NE++:(Iq=e,NE=0),NE){case 0:break;case 1:e=D("repeated","{0} (occurred again)",e);break;default:e=D("repeatedNtimes","{0} (occurred {1} times)",e,NE);break}_a(n),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}}var $xe=function(){function n(e,t){this.chr=e,this.type=t,this.width=0}return n.prototype.fulfill=function(e){this.width=e},n}(),Kxe=function(){function n(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return n.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},n.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);var r=document.createElement("div");r.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),r.style.fontWeight="bold",r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(r);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",e.appendChild(i);for(var o=[],s=0,a=this._requests.length;s<a;s++){var u=this._requests[s],l=void 0;u.type===0&&(l=t),u.type===2&&(l=r),u.type===1&&(l=i),l.appendChild(document.createElement("br"));var c=document.createElement("span");n._render(c,u),l.appendChild(c),o[s]=c}this._container=e,this._testElements=o},n._render=function(e,t){if(t.chr===" "){for(var r="&nbsp;",i=0;i<8;i++)r+=r;e.innerHTML=r}else{for(var o=t.chr,i=0;i<8;i++)o+=o;e.textContent=o}},n.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var r=this._requests[e],i=this._testElements[e];r.fulfill(i.offsetWidth/256)}},n}();function Yxe(n,e){var t=new Kxe(n,e);t.read()}var Xxe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qxe=function(n){Xxe(e,n);function e(t,r){var i=n.call(this)||this;return i.referenceDomElement=t,i.changeCallback=r,i.measureReferenceDomElementToken=-1,i.width=-1,i.height=-1,i.measureReferenceDomElement(!1),i}return e.prototype.dispose=function(){this.stopObserving(),n.prototype.dispose.call(this)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.startObserving=function(){var t=this;this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(function(){return t.measureReferenceDomElement(!0)},100))},e.prototype.stopObserving=function(){this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},e.prototype.observe=function(t){this.measureReferenceDomElement(!0,t)},e.prototype.measureReferenceDomElement=function(t,r){var i=0,o=0;r?(i=r.width,o=r.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,o=this.referenceDomElement.clientHeight),i=Math.max(5,i),o=Math.max(5,o),(this.width!==i||this.height!==o)&&(this.width=i,this.height=o,t&&this.changeCallback())},e}(he),tte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xq=function(){function n(){this._keys=Object.create(null),this._values=Object.create(null)}return n.prototype.has=function(e){var t=e.getId();return!!this._values[t]},n.prototype.get=function(e){var t=e.getId();return this._values[t]},n.prototype.put=function(e,t){var r=e.getId();this._keys[r]=e,this._values[r]=t},n.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},n.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._values[t]})},n}();function Zxe(){HM.INSTANCE.clearCache()}var HM=function(n){tte(e,n);function e(){var t=n.call(this)||this;return t._onDidChange=t._register(new Q),t.onDidChange=t._onDidChange.event,t._cache=new xq,t._evictUntrustedReadingsTimeout=-1,t}return e.prototype.dispose=function(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),n.prototype.dispose.call(this)},e.prototype.clearCache=function(){this._cache=new xq,this._onDidChange.fire()},e.prototype._writeToCache=function(t,r){var i=this;this._cache.put(t,r),!r.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(function(){i._evictUntrustedReadingsTimeout=-1,i._evictUntrustedReadings()},5e3))},e.prototype._evictUntrustedReadings=function(){for(var t=this._cache.getValues(),r=!1,i=0,o=t.length;i<o;i++){var s=t[i];s.isTrusted||(r=!0,this._cache.remove(s))}r&&this._onDidChange.fire()},e.prototype.readConfiguration=function(t){if(!this._cache.has(t)){var r=e._actualReadConfiguration(t);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new IM({zoomLevel:LT(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(t,r)}return this._cache.get(t)},e.createRequest=function(t,r,i,o){var s=new $xe(t,r);return i.push(s),o&&o.push(s),s},e._actualReadConfiguration=function(t){var r=[],i=[],o=this.createRequest("n",0,r,i),s=this.createRequest("",0,r,null),a=this.createRequest(" ",0,r,i),u=this.createRequest("0",0,r,i),l=this.createRequest("1",0,r,i),c=this.createRequest("2",0,r,i),h=this.createRequest("3",0,r,i),d=this.createRequest("4",0,r,i),p=this.createRequest("5",0,r,i),v=this.createRequest("6",0,r,i),m=this.createRequest("7",0,r,i),_=this.createRequest("8",0,r,i),b=this.createRequest("9",0,r,i),C=this.createRequest("",0,r,i),E=this.createRequest("",0,r,null);this.createRequest("",0,r,i),this.createRequest("|",0,r,i),this.createRequest("/",0,r,i),this.createRequest("-",0,r,i),this.createRequest("_",0,r,i),this.createRequest("i",0,r,i),this.createRequest("l",0,r,i),this.createRequest("m",0,r,i),this.createRequest("|",1,r,i),this.createRequest("_",1,r,i),this.createRequest("i",1,r,i),this.createRequest("l",1,r,i),this.createRequest("m",1,r,i),this.createRequest("n",1,r,i),this.createRequest("|",2,r,i),this.createRequest("_",2,r,i),this.createRequest("i",2,r,i),this.createRequest("l",2,r,i),this.createRequest("m",2,r,i),this.createRequest("n",2,r,i),Yxe(t,r);for(var S=Math.max(u.width,l.width,c.width,h.width,d.width,p.width,v.width,m.width,_.width,b.width),A=!0,T=i[0].width,N=1,k=i.length;N<k;N++){var F=T-i[N].width;if(F<-.001||F>.001){A=!1;break}}var L=!0;A&&E.width!==T&&(L=!1),E.width>C.width&&(L=!1);var O=DDe()>2e3;return new IM({zoomLevel:LT(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:A,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:L,spaceWidth:a.width,maxDigitWidth:S},O)},e.INSTANCE=new e,e}(he),ya=function(n){tte(e,n);function e(t,r,i,o){i===void 0&&(i=null);var s=n.call(this,t,r)||this;return s.accessibilityService=o,s._elementSizeObserver=s._register(new Qxe(i,function(){return s._onReferenceDomElementSizeChanged()})),s._register(HM.INSTANCE.onDidChange(function(){return s._onCSSBasedConfigurationChanged()})),s._validatedOptions.automaticLayout&&s._elementSizeObserver.startObserving(),s._register(nee(function(a){return s._recomputeOptions()})),s._register(s.accessibilityService.onDidChangeAccessibilitySupport(function(){return s._recomputeOptions()})),s._recomputeOptions(),s}return e.applyFontInfoSlow=function(t,r){t.style.fontFamily=r.getMassagedFontFamily(),t.style.fontWeight=r.fontWeight,t.style.fontSize=r.fontSize+"px",t.style.lineHeight=r.lineHeight+"px",t.style.letterSpacing=r.letterSpacing+"px"},e.applyFontInfo=function(t,r){t.setFontFamily(r.getMassagedFontFamily()),t.setFontWeight(r.fontWeight),t.setFontSize(r.fontSize),t.setLineHeight(r.lineHeight),t.setLetterSpacing(r.letterSpacing)},e.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},e.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},e.prototype.observeReferenceElement=function(t){this._elementSizeObserver.observe(t)},e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._getExtraEditorClassName=function(){var t="";return!a2&&!IDe&&(t+="no-user-select "),Tt&&(t+="mac "),t},e.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:_p||Fc,pixelRatio:ADe(),zoomLevel:LT(),accessibilitySupport:this.accessibilityService.getAccessibilitySupport()}},e.prototype.readConfiguration=function(t){return HM.INSTANCE.readConfiguration(t)},e}(exe),nte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jxe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},eLe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},pa=function(n){nte(e,n);function e(t,r,i,o,s){r===void 0&&(r=""),i===void 0&&(i=""),o===void 0&&(o=!0);var a=n.call(this)||this;return a._onDidChange=a._register(new Q),a.onDidChange=a._onDidChange.event,a._enabled=!0,a._checked=!1,a._radio=!1,a._id=t,a._label=r,a._cssClass=i,a._enabled=o,a._actionCallback=s,a}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){this._setLabel(t)},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))},Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip||""},set:function(t){this._setTooltip(t)},enumerable:!0,configurable:!0}),e.prototype._setTooltip=function(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))},Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(t){this._setClass(t)},enumerable:!0,configurable:!0}),e.prototype._setClass=function(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._setEnabled(t)},enumerable:!0,configurable:!0}),e.prototype._setEnabled=function(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._setChecked(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(t){this._setRadio(t)},enumerable:!0,configurable:!0}),e.prototype._setChecked=function(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))},e.prototype._setRadio=function(t){this._radio!==t&&(this._radio=t,this._onDidChange.fire({radio:t}))},e.prototype.run=function(t,r){return this._actionCallback?this._actionCallback(t):Promise.resolve(!0)},e}(he),rte=function(n){nte(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._onDidBeforeRun=t._register(new Q),t.onDidBeforeRun=t._onDidBeforeRun.event,t._onDidRun=t._register(new Q),t.onDidRun=t._onDidRun.event,t}return e.prototype.run=function(t,r){return Jxe(this,void 0,void 0,function(){var i,o;return eLe(this,function(s){switch(s.label){case 0:if(!t.enabled)return[2,Promise.resolve(null)];this._onDidBeforeRun.fire({action:t}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.runAction(t,r)];case 2:return i=s.sent(),this._onDidRun.fire({action:t,result:i}),[3,4];case 3:return o=s.sent(),this._onDidRun.fire({action:t,error:o}),[3,4];case 4:return[2]}})})},e.prototype.runAction=function(t,r){var i=r?t.run(r):t.run();return Promise.resolve(i)},e}(he),$6=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ite=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},VM=function(n,e){return function(t,r){e(t,r,n)}};function MS(n){return n.command!==void 0}var ote=qt("menuService"),Nu=new(function(){function n(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q,this.onDidChangeMenu=this._onDidChangeMenu.event}return n.prototype.addCommand=function(e){var t=this;return this._commands.set(e.id,e),this._onDidChangeMenu.fire(0),{dispose:function(){t._commands.delete(e.id)&&t._onDidChangeMenu.fire(0)}}},n.prototype.getCommand=function(e){return this._commands.get(e)},n.prototype.getCommands=function(){var e=new Map;return this._commands.forEach(function(t,r){return e.set(r,t)}),e},n.prototype.appendMenuItem=function(e,t){var r=this,i=this._menuItems.get(e);return i?i.push(t):(i=[t],this._menuItems.set(e,i)),this._onDidChangeMenu.fire(e),{dispose:function(){var o=i.indexOf(t);o>=0&&(i.splice(o,1),r._onDidChangeMenu.fire(e))}}},n.prototype.getMenuItems=function(e){var t=(this._menuItems.get(e)||[]).slice(0);return e===0&&this._appendImplicitItems(t),t},n.prototype._appendImplicitItems=function(e){for(var t=new Set,r=e.filter(function(l){return MS(l)}),i=0,o=r;i<o.length;i++){var s=o[i],a=s.command,u=s.alt;t.add(a.id),u&&t.add(u.id)}this._commands.forEach(function(l,c){t.has(c)||e.push({command:l})})},n}()),tLe=function(n){$6(e,n);function e(t,r,i){var o=n.call(this,t,r)||this;return o._commandService=i,o}return e.prototype.run=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return(t=this._commandService).executeCommand.apply(t,[this.id].concat(r))},e=ite([VM(2,no)],e),e}(pa),nLe=function(n){$6(e,n);function e(t){var r=this;return typeof t.title=="string"?r=n.call(this,"",t.title,"submenu")||this:r=n.call(this,"",t.title.value,"submenu")||this,r.item=t,r}return e}(pa),rLe=function(n){$6(e,n);function e(t,r,i,o,s){var a=this;return typeof t.title=="string"?a=n.call(this,t.id,t.title,s)||this:a=n.call(this,t.id,t.title.value,s)||this,a._cssClass=void 0,a._enabled=!t.precondition||o.contextMatchesRules(t.precondition),a._checked=!!(t.toggled&&o.contextMatchesRules(t.toggled)),a._options=i||{},a.item=t,a.alt=r?new e(r,void 0,a._options,o,s):void 0,a}return e.prototype.dispose=function(){this.alt&&this.alt.dispose(),n.prototype.dispose.call(this)},e.prototype.run=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=[];return this._options.arg&&(i=i.concat([this._options.arg])),this._options.shouldForwardArgs&&(i=i.concat(t)),n.prototype.run.apply(this,i)},e=ite([VM(3,yt),VM(4,no)],e),e}(tLe),vC=qt("telemetryService"),WM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),K6=function(){function n(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menubarOpts=e.menubarOpts,this._description=e.description}return n.prototype.register=function(){var e=this;if(this._menubarOpts&&Nu.appendMenuItem(this._menubarOpts.menuId,{group:this._menubarOpts.group,command:{id:this.id,title:this._menubarOpts.title},when:this._menubarOpts.when,order:this._menubarOpts.order}),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t?t=Oe.and(t,this.precondition):t=this.precondition),wa.registerCommandAndKeybindingRule({id:this.id,handler:function(r,i){return e.runCommand(r,i)},weight:this._kbOpts.weight,when:t,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else Bi.registerCommand({id:this.id,handler:function(r,i){return e.runCommand(r,i)},description:this._description})},n}(),Po=function(n){WM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.bindToContribution=function(t){return function(r){WM(i,r);function i(o){var s=r.call(this,o)||this;return s._callback=o.handler,s}return i.prototype.runEditorCommand=function(o,s,a){var u=t(s);u&&this._callback(t(s),a)},i}(e)},e.prototype.runCommand=function(t,r){var i=this,o=t.get(In),s=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(s)return s.invokeWithinContext(function(a){var u=a.get(yt);if(u.contextMatchesRules(n2(i.precondition)))return i.runEditorCommand(a,s,r)})},e}(K6),Ue=function(n){WM(e,n);function e(t){var r=n.call(this,t)||this;return r.label=t.label,r.alias=t.alias,r.menuOpts=t.menuOpts,r}return e.prototype.register=function(){this.menuOpts&&Nu.appendMenuItem(7,{command:{id:this.id,title:this.label},when:Oe.and(this.precondition,this.menuOpts.when),group:this.menuOpts.group,order:this.menuOpts.order}),n.prototype.register.call(this)},e.prototype.runEditorCommand=function(t,r,i){return this.reportTelemetry(t,r),this.run(t,r,i||{})},e.prototype.reportTelemetry=function(t,r){t.get(vC).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},e}(Po);function Qc(n,e){Bi.registerCommand(n,function(t,r){return e(t,r||{})})}function Mu(n,e){Qc(n,function(t,r){var i=r.resource,o=r.position;if(!(i instanceof Ft))throw Br("resource");if(!ee.isIPosition(o))throw Br("position");var s=t.get(ps).getModel(i);if(s){var a=ee.lift(o);return e(s,a,r)}return t.get(Wp).createModelReference(i).then(function(u){return new Promise(function(l,c){try{var h=e(u.object.textEditorModel,ee.lift(o),r);l(h)}catch(d){c(d)}}).finally(function(){u.dispose()})})})}function ce(n){return ah.INSTANCE.registerEditorCommand(n),n}function ge(n){ah.INSTANCE.registerEditorAction(new n)}function iLe(n){ah.INSTANCE.registerEditorAction(n)}function Cn(n){ah.INSTANCE.registerEditorContribution(n)}var nb;(function(n){function e(i){return ah.INSTANCE.getEditorCommand(i)}n.getEditorCommand=e;function t(){return ah.INSTANCE.getEditorActions()}n.getEditorActions=t;function r(){return ah.INSTANCE.getEditorContributions()}n.getEditorContributions=r})(nb||(nb={}));var oLe={EditorCommonContributions:"editor.contributions"},ah=function(){function n(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return n.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)},n.prototype.registerEditorAction=function(e){e.register(),this.editorActions.push(e)},n.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},n.prototype.getEditorActions=function(){return this.editorActions.slice(0)},n.prototype.registerEditorCommand=function(e){e.register(),this.editorCommands[e.id]=e},n.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},n.INSTANCE=new n,n}();Ro.add(oLe.EditorCommonContributions,ah.INSTANCE);var ste=function(){function n(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}return n.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")},n.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")},n.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")},n.prototype.setTop=function(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")},n.prototype.unsetTop=function(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")},n.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")},n.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")},n.prototype.setRight=function(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")},n.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)},n.prototype.setFontWeight=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)},n.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")},n.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")},n.prototype.setLetterSpacing=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")},n.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)},n.prototype.toggleClassName=function(e,t){Rt(this.domNode,e,t),this._className=this.domNode.className},n.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)},n.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)},n.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)},n.prototype.setLayerHinting=function(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.willChange=this._layerHint?"transform":"auto")},n.prototype.setAttribute=function(e,t){this.domNode.setAttribute(e,t)},n.prototype.removeAttribute=function(e){this.domNode.removeAttribute(e)},n.prototype.appendChild=function(e){this.domNode.appendChild(e.domNode)},n.prototype.removeChild=function(e){this.domNode.removeChild(e.domNode)},n}();function wt(n){return new ste(n)}function Na(n,e,t){var r=null,i=null;if(typeof t.value=="function"?(r="value",i=t.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(r="get",i=t.get),!i)throw new Error("not supported");var o="$memoize$"+e;t[r]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,s)}),this[o]}}var sLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aLe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ci;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(ci||(ci={}));var F_=function(n){sLe(e,n);function e(){var t=n.call(this)||this;return t.dispatched=!1,t.activeTouches={},t.handle=null,t.targets=[],t._register(ye(document,"touchstart",function(r){return t.onTouchStart(r)})),t._register(ye(document,"touchend",function(r){return t.onTouchEnd(r)})),t._register(ye(document,"touchmove",function(r){return t.onTouchMove(r)})),t}return e.addTarget=function(t){e.isTouchDevice()&&(e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE.targets.push(t))},e.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},e.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),n.prototype.dispose.call(this)},e.prototype.onTouchStart=function(t){var r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var i=0,o=t.targetTouches.length;i<o;i++){var s=t.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:r,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[r],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=this.newGestureEvent(ci.Start,s.target);a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.prototype.onTouchEnd=function(t){for(var r=Date.now(),i=Object.keys(this.activeTouches).length,o=function(l,c){var h=t.changedTouches.item(l);if(!s.activeTouches.hasOwnProperty(String(h.identifier)))return console.warn("move of an UNKNOWN touch",h),"continue";var d=s.activeTouches[h.identifier],p=Date.now()-d.initialTimeStamp;if(p<e.HOLD_DELAY&&Math.abs(d.initialPageX-qs(d.rollingPageX))<30&&Math.abs(d.initialPageY-qs(d.rollingPageY))<30){var v=s.newGestureEvent(ci.Tap,d.initialTarget);v.pageX=qs(d.rollingPageX),v.pageY=qs(d.rollingPageY),s.dispatchEvent(v)}else if(p>=e.HOLD_DELAY&&Math.abs(d.initialPageX-qs(d.rollingPageX))<30&&Math.abs(d.initialPageY-qs(d.rollingPageY))<30){var v=s.newGestureEvent(ci.Contextmenu,d.initialTarget);v.pageX=qs(d.rollingPageX),v.pageY=qs(d.rollingPageY),s.dispatchEvent(v)}else if(i===1){var m=qs(d.rollingPageX),_=qs(d.rollingPageY),b=qs(d.rollingTimestamps)-d.rollingTimestamps[0],C=m-d.rollingPageX[0],E=_-d.rollingPageY[0],S=s.targets.filter(function(A){return d.initialTarget instanceof Node&&A.contains(d.initialTarget)});s.inertia(S,r,Math.abs(C)/b,C>0?1:-1,m,Math.abs(E)/b,E>0?1:-1,_)}s.dispatchEvent(s.newGestureEvent(ci.End,d.initialTarget)),delete s.activeTouches[h.identifier]},s=this,a=0,u=t.changedTouches.length;a<u;a++)o(a);this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.prototype.newGestureEvent=function(t,r){var i=document.createEvent("CustomEvent");return i.initEvent(t,!1,!0),i.initialTarget=r,i},e.prototype.dispatchEvent=function(t){var r=this;this.targets.forEach(function(i){t.initialTarget instanceof Node&&i.contains(t.initialTarget)&&(i.dispatchEvent(t),r.dispatched=!0)})},e.prototype.inertia=function(t,r,i,o,s,a,u,l){var c=this;this.handle=Sh(function(){var h=Date.now(),d=h-r,p=0,v=0,m=!0;i+=e.SCROLL_FRICTION*d,a+=e.SCROLL_FRICTION*d,i>0&&(m=!1,p=o*i*d),a>0&&(m=!1,v=u*a*d);var _=c.newGestureEvent(ci.Change);_.translationX=p,_.translationY=v,t.forEach(function(b){return b.dispatchEvent(_)}),m||c.inertia(t,h,i,o,s+p,a,u,l+v)})},e.prototype.onTouchMove=function(t){for(var r=Date.now(),i=0,o=t.changedTouches.length;i<o;i++){var s=t.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}var a=this.activeTouches[s.identifier],u=this.newGestureEvent(ci.Change,a.initialTarget);u.translationX=s.pageX-qs(a.rollingPageX),u.translationY=s.pageY-qs(a.rollingPageY),u.pageX=s.pageX,u.pageY=s.pageY,this.dispatchEvent(u),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(s.pageX),a.rollingPageY.push(s.pageY),a.rollingTimestamps.push(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},e.SCROLL_FRICTION=-.005,e.HOLD_DELAY=700,aLe([Na],e,"isTouchDevice",null),e}(he);function B_(n,e){var t=new hi(e);return t.preventDefault(),{leftButton:t.leftButton,posx:t.posx,posy:t.posy}}var cg=function(){function n(){this.hooks=new Be,this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return n.prototype.dispose=function(){this.stopMonitoring(!1),this.hooks.dispose()},n.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks.clear(),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t&&t()}},n.prototype.isMonitoring=function(){return!!this.mouseMoveEventMerger},n.prototype.startMonitoring=function(e,t,r){var i=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=r;for(var o=yM.getSameOriginWindowChain(),s=0,a=o;s<a.length;s++){var u=a[s];this.hooks.add(pC(u.window.document,"mousemove",function(c){return i.mouseMoveCallback(c)},function(c,h){return i.mouseMoveEventMerger(c,h)})),this.hooks.add(ye(u.window.document,"mouseup",function(c){return i.stopMonitoring(!0)}))}if(yM.hasDifferentOriginAncestor()){var l=o[o.length-1];this.hooks.add(ye(l.window.document,"mouseout",function(c){var h=new hi(c);h.target.tagName.toLowerCase()==="html"&&i.stopMonitoring(!0)})),this.hooks.add(ye(l.window.document,"mouseover",function(c){var h=new hi(c);h.target.tagName.toLowerCase()==="html"&&i.stopMonitoring(!0)})),this.hooks.add(ye(l.window.document.body,"mouseleave",function(c){i.stopMonitoring(!0)}))}}},n}(),ate=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y6=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toClientCoordinates=function(){return new ute(this.x-ll.scrollX,this.y-ll.scrollY)},n}(),ute=function(){function n(e,t){this.clientX=e,this.clientY=t}return n.prototype.toPageCoordinates=function(){return new Y6(this.clientX+ll.scrollX,this.clientY+ll.scrollY)},n}(),uLe=function(){function n(e,t,r,i){this.x=e,this.y=t,this.width=r,this.height=i}return n}();function lte(n){var e=_i(n);return new uLe(e.left,e.top,e.width,e.height)}var Wm=function(n){ate(e,n);function e(t,r){var i=n.call(this,t)||this;return i.pos=new Y6(i.posx,i.posy),i.editorPos=lte(r),i}return e}(hi),lLe=function(){function n(e){this._editorViewDomNode=e}return n.prototype._create=function(e){return new Wm(e,this._editorViewDomNode)},n.prototype.onContextMenu=function(e,t){var r=this;return ye(e,"contextmenu",function(i){t(r._create(i))})},n.prototype.onMouseUp=function(e,t){var r=this;return ye(e,"mouseup",function(i){t(r._create(i))})},n.prototype.onMouseDown=function(e,t){var r=this;return ye(e,"mousedown",function(i){t(r._create(i))})},n.prototype.onMouseLeave=function(e,t){var r=this;return v6(e,function(i){t(r._create(i))})},n.prototype.onMouseMoveThrottled=function(e,t,r,i){var o=this,s=function(a,u){return r(a,o._create(u))};return pC(e,"mousemove",t,s,i)},n}(),cLe=function(n){ate(e,n);function e(t){var r=n.call(this)||this;return r._editorViewDomNode=t,r._globalMouseMoveMonitor=r._register(new cg),r._keydownListener=null,r}return e.prototype.startMonitoring=function(t,r,i){var o=this;this._keydownListener=mi(document,"keydown",function(a){var u=a.toKeybinding();u.isModifierKey()||o._globalMouseMoveMonitor.stopMonitoring(!0)},!0);var s=function(a,u){return t(a,new Wm(u,o._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(s,r,function(){o._keydownListener.dispose(),i()})},e}(he),fLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mC=function(n){fLe(e,n);function e(){var t=n.call(this)||this;return t._shouldRender=!0,t}return e.prototype.shouldRender=function(){return this._shouldRender},e.prototype.forceShouldRender=function(){this._shouldRender=!0},e.prototype.setShouldRender=function(){this._shouldRender=!0},e.prototype.onDidRender=function(){this._shouldRender=!1},e.prototype.onConfigurationChanged=function(t){return!1},e.prototype.onCursorStateChanged=function(t){return!1},e.prototype.onDecorationsChanged=function(t){return!1},e.prototype.onFlushed=function(t){return!1},e.prototype.onFocusChanged=function(t){return!1},e.prototype.onLanguageConfigurationChanged=function(t){return!1},e.prototype.onLineMappingChanged=function(t){return!1},e.prototype.onLinesChanged=function(t){return!1},e.prototype.onLinesDeleted=function(t){return!1},e.prototype.onLinesInserted=function(t){return!1},e.prototype.onRevealRangeRequest=function(t){return!1},e.prototype.onScrollChanged=function(t){return!1},e.prototype.onTokensChanged=function(t){return!1},e.prototype.onTokensColorsChanged=function(t){return!1},e.prototype.onZonesChanged=function(t){return!1},e.prototype.onThemeChanged=function(t){return!1},e.prototype.handleEvents=function(t){for(var r=!1,i=0,o=t.length;i<o;i++){var s=t[i];switch(s.type){case 1:this.onConfigurationChanged(s)&&(r=!0);break;case 2:this.onCursorStateChanged(s)&&(r=!0);break;case 3:this.onDecorationsChanged(s)&&(r=!0);break;case 4:this.onFlushed(s)&&(r=!0);break;case 5:this.onFocusChanged(s)&&(r=!0);break;case 16:this.onLanguageConfigurationChanged(s)&&(r=!0);break;case 6:this.onLineMappingChanged(s)&&(r=!0);break;case 7:this.onLinesChanged(s)&&(r=!0);break;case 8:this.onLinesDeleted(s)&&(r=!0);break;case 9:this.onLinesInserted(s)&&(r=!0);break;case 10:this.onRevealRangeRequest(s)&&(r=!0);break;case 11:this.onScrollChanged(s)&&(r=!0);break;case 12:this.onTokensChanged(s)&&(r=!0);break;case 13:this.onTokensColorsChanged(s)&&(r=!0);break;case 14:this.onZonesChanged(s)&&(r=!0);break;case 15:this.onThemeChanged(s)&&(r=!0);break;default:console.info("View received unknown event: "),console.info(s)}}r&&(this._shouldRender=!0)},e}(he),hLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ea=function(n){hLe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e}(mC),Rl=function(){function n(){}return n.write=function(e,t){e instanceof ste,e.setAttribute("data-mprt",String(t))},n.read=function(e){var t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)},n.collect=function(e,t){for(var r=[],i=0;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(r[i++]=this.read(e)),e=e.parentElement;for(var o=new Uint8Array(i),s=0;s<i;s++)o[s]=r[i-s-1];return o},n}(),dLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pLe=function(){function n(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var r=this._viewLayout.getCurrentViewport();this.scrollTop=r.top,this.scrollLeft=r.left,this.viewportWidth=r.width,this.viewportHeight=r.height}return n.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollTop},n.prototype.getVerticalOffsetForLineNumber=function(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)},n.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},n}(),gLe=function(n){dLe(e,n);function e(t,r,i){var o=n.call(this,t,r)||this;return o._viewLines=i,o}return e.prototype.linesVisibleRangesForRange=function(t,r){return this._viewLines.linesVisibleRangesForRange(t,r)},e.prototype.visibleRangeForPosition=function(t){return this._viewLines.visibleRangeForPosition(t)},e}(pLe),vLe=function(){function n(e,t){this.lineNumber=e,this.ranges=t}return n}(),uh=function(){function n(e,t){this.left=Math.round(e),this.width=Math.round(t)}return n.prototype.toString=function(){return"["+this.left+","+this.width+"]"},n}(),Lq=function(){function n(e,t){this.left=e,this.width=t}return n.prototype.toString=function(){return"["+this.left+","+this.width+"]"},n.compare=function(e,t){return e.left-t.left},n}(),KO=function(){function n(){}return n._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},n._detachRange=function(e,t){e.selectNodeContents(t)},n._readClientRects=function(e,t,r,i,o){var s=this._createRange();try{return s.setStart(e,t),s.setEnd(r,i),s.getClientRects()}catch{return null}finally{this._detachRange(s,o)}},n._mergeAdjacentRanges=function(e){if(e.length===1)return[new uh(e[0].left,e[0].width)];e.sort(Lq.compare);for(var t=[],r=0,i=e[0].left,o=e[0].width,s=1,a=e.length;s<a;s++){var u=e[s],l=u.left,c=u.width;i+o+.9>=l?o=Math.max(o,l+c-i):(t[r++]=new uh(i,o),i=l,o=c)}return t[r++]=new uh(i,o),t},n._createHorizontalRangesFromClientRects=function(e,t){if(!e||e.length===0)return null;for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];r[i]=new Lq(Math.max(0,s.left-t),s.width)}return this._mergeAdjacentRanges(r)},n.readHorizontalRanges=function(e,t,r,i,o,s,a){var u=0,l=e.children.length-1;if(u>l)return null;t=Math.min(l,Math.max(u,t)),i=Math.min(l,Math.max(u,i)),t!==i&&i>0&&o===0&&(i--,o=1073741824);var c=e.children[t].firstChild,h=e.children[i].firstChild;if((!c||!h)&&(!c&&r===0&&t>0&&(c=e.children[t-1].firstChild,r=1073741824),!h&&o===0&&i>0&&(h=e.children[i-1].firstChild,o=1073741824)),!c||!h)return null;r=Math.min(c.textContent.length,Math.max(0,r)),o=Math.min(h.textContent.length,Math.max(0,o));var d=this._readClientRects(c,r,h,o,a);return this._createHorizontalRangesFromClientRects(d,s)},n}(),ei=qt("themeService");function ia(n){return{id:n}}var mLe="dark",gf="light",Um="hc";function GT(n){switch(n){case mLe:return"vs-dark";case Um:return"hc-black";default:return"vs"}}var cte={ThemingContribution:"base.contributions.theming"},_Le=function(){function n(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Q}return n.prototype.onThemeChange=function(e){var t=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),bn(function(){var r=t.themingParticipants.indexOf(e);t.themingParticipants.splice(r,1)})},n.prototype.getThemingParticipants=function(){return this.themingParticipants},n}(),fte=new _Le;Ro.add(cte.ThemingContribution,fte);function mn(n){return fte.onThemeChange(n)}var yLe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bLe=function(){return Iu?!0:!(Xc||Fc||a2)}(),Nq=vl,Oq=function(){function n(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(n.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),n}(),kq=function(){function n(e,t){this.themeType=t,this.renderWhitespace=e.editor.viewInfo.renderWhitespace,this.renderControlCharacters=e.editor.viewInfo.renderControlCharacters,this.spaceWidth=e.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=e.editor.fontInfo.isMonospace&&!e.editor.viewInfo.disableMonospaceOptimizations,this.canUseHalfwidthRightwardsArrow=e.editor.fontInfo.canUseHalfwidthRightwardsArrow,this.lineHeight=e.editor.lineHeight,this.stopRenderingLineAfter=e.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=e.editor.viewInfo.fontLigatures}return n.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},n}(),jv=function(){function n(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return n.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},n.prototype.setDomNode=function(e){if(this._renderedViewLine)this._renderedViewLine.domNode=wt(e);else throw new Error("I have no rendered view line to set the dom node to...")},n.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},n.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},n.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},n.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},n.prototype.onSelectionChanged=function(){return Nq||this._options.themeType===Um||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1},n.prototype.renderLine=function(e,t,r,i){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var o=r.getViewLineRenderingData(e),s=this._options,a=i1.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn),u=null;if(Nq||s.themeType===Um||this._options.renderWhitespace==="selection")for(var l=r.selections,c=0,h=l;c<h.length;c++){var d=h[c];if(!(d.endLineNumber<e||d.startLineNumber>e)){var p=d.startLineNumber===e?d.startColumn:o.minColumn,v=d.endLineNumber===e?d.endColumn:o.maxColumn;p<v&&(this._options.renderWhitespace!=="selection"?a.push(new i1(p,v,"inline-selected-text",0)):(u||(u=[]),u.push(new EIe(p-1,v-1))))}}var m=new P_(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,s.spaceWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures,u);if(this._renderedViewLine&&this._renderedViewLine.input.equals(m))return!1;i.appendASCIIString('<div style="top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;height:"),i.appendASCIIString(String(this._options.lineHeight)),i.appendASCIIString('px;" class="'),i.appendASCIIString(n.CLASS_NAME),i.appendASCIIString('">');var _=W6(m,i);i.appendASCIIString("</div>");var b=null;return bLe&&o.isBasicASCII&&s.useMonospaceOptimizations&&_.containsForeignElements===0&&o.content.length<300&&m.lineTokens.getCount()<100&&(b=new CLe(this._renderedViewLine?this._renderedViewLine.domNode:null,m,_.characterMapping)),b||(b=ELe(this._renderedViewLine?this._renderedViewLine.domNode:null,m,_.characterMapping,_.containsRTL,_.containsForeignElements)),this._renderedViewLine=b,!0},n.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},n.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},n.prototype.getWidthIsFast=function(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0},n.prototype.getVisibleRangesForRange=function(e,t,r){if(!this._renderedViewLine)return null;e=e|0,t=t|0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var i=this._renderedViewLine.input.stopRenderingLineAfter|0;return i!==-1&&e>i&&t>i?null:(i!==-1&&e>i&&(e=i),i!==-1&&t>i&&(t=i),this._renderedViewLine.getVisibleRangesForRange(e,t,r))},n.prototype.getColumnOfNodeOffset=function(e,t,r){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,r):1},n.CLASS_NAME="view-line",n}(),CLe=function(){function n(e,t,r){this.domNode=e,this.input=t,this._characterMapping=r,this._charWidth=t.spaceWidth}return n.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},n.prototype.getWidthIsFast=function(){return!0},n.prototype.getVisibleRangesForRange=function(e,t,r){var i=this._getCharPosition(e),o=this._getCharPosition(t);return[new uh(i,o-i)]},n.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return t.length===0?0:Math.round(this._charWidth*t[e-1])},n.prototype.getColumnOfNodeOffset=function(e,t,r){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;var s=this._characterMapping.partDataToCharOffset(o,i,r);return s+1},n}(),hte=function(){function n(e,t,r,i,o){if(this.domNode=e,this.input=t,this._characterMapping=r,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}return n.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},n.prototype.getWidth=function(){return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},n.prototype.getWidthIsFast=function(){return this._cachedWidth!==-1},n.prototype.getVisibleRangesForRange=function(e,t,r){if(this._pixelOffsetCache!==null){var i=this._readPixelOffset(e,r);if(i===-1)return null;var o=this._readPixelOffset(t,r);return o===-1?null:[new uh(i,o-i)]}return this._readVisibleRangesForRange(e,t,r)},n.prototype._readVisibleRangesForRange=function(e,t,r){if(e===t){var i=this._readPixelOffset(e,r);return i===-1?null:[new uh(i,0)]}else return this._readRawVisibleRangesForRange(e,t,r)},n.prototype._readPixelOffset=function(e,t){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth()}if(this._pixelOffsetCache!==null){var r=this._pixelOffsetCache[e];if(r!==-1)return r;var i=this._actualReadPixelOffset(e,t);return this._pixelOffsetCache[e]=i,i}return this._actualReadPixelOffset(e,t)},n.prototype._actualReadPixelOffset=function(e,t){if(this._characterMapping.length===0){var r=KO.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,t.clientRectDeltaLeft,t.endNode);return!r||r.length===0?-1:r[0].left}if(e===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();var i=this._characterMapping.charOffsetToPartData(e-1),o=Of.getPartIndex(i),s=Of.getCharIndex(i),a=KO.readHorizontalRanges(this._getReadingTarget(),o,s,o,s,t.clientRectDeltaLeft,t.endNode);return!a||a.length===0?-1:a[0].left},n.prototype._readRawVisibleRangesForRange=function(e,t,r){if(e===1&&t===this._characterMapping.length)return[new uh(0,this.getWidth())];var i=this._characterMapping.charOffsetToPartData(e-1),o=Of.getPartIndex(i),s=Of.getCharIndex(i),a=this._characterMapping.charOffsetToPartData(t-1),u=Of.getPartIndex(a),l=Of.getCharIndex(a);return KO.readHorizontalRanges(this._getReadingTarget(),o,s,u,l,r.clientRectDeltaLeft,r.endNode)},n.prototype.getColumnOfNodeOffset=function(e,t,r){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;var s=this._characterMapping.partDataToCharOffset(o,i,r);return s+1},n}(),wLe=function(n){yLe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._readVisibleRangesForRange=function(t,r,i){var o=n.prototype._readVisibleRangesForRange.call(this,t,r,i);if(!o||o.length===0||t===r||t===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){var s=this._readPixelOffset(r,i);if(s!==-1){var a=o[o.length-1];a.left<s&&(a.width=s-a.left)}}return o},e}(hte),ELe=function(){return _p?SLe:TLe}();function SLe(n,e,t,r,i){return new wLe(n,e,t,r,i)}function TLe(n,e,t,r,i){return new hte(n,e,t,r,i)}var Rq=function(){function n(e,t){this.beforeVersionId=e,this.beforeCursorState=t,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return n.prototype.undo=function(e){for(var t=this.editOperations.length-1;t>=0;t--)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},n.prototype.redo=function(e){for(var t=0;t<this.editOperations.length;t++)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},n}();function UM(n){var e=n.getEOL();return e===`
`?0:1}var DLe=function(){function n(e,t){this.beforeVersionId=e,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=t}return n.prototype.undo=function(e){var t=UM(e);e.setEOL(this.eol),this.eol=t},n.prototype.redo=function(e){var t=UM(e);e.setEOL(this.eol),this.eol=t},n}(),Pq=function(){function n(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return n.prototype.pushStackElement=function(){this.currentOpenStackElement!==null&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},n.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},n.prototype.pushEOL=function(e){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var t=UM(this.model),r=new DLe(this.model.getAlternativeVersionId(),t);this.model.setEOL(e),r.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=r,this.pushStackElement()},n.prototype.pushEditOperation=function(e,t,r){this.future=[];var i=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof Rq?i=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(i=new Rq(this.model.getAlternativeVersionId(),e),this.currentOpenStackElement=i);var o={operations:this.model.applyEdits(t)};return i.editOperations.push(o),i.afterCursorState=n._computeCursorState(r,o.operations),i.afterVersionId=this.model.getVersionId(),i.afterCursorState},n._computeCursorState=function(e,t){try{return e?e(t):null}catch(r){return He(r),null}},n.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{e.undo(this.model)}catch(t){return He(t),this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},n.prototype.canUndo=function(){return this.past.length>0||this.currentOpenStackElement!==null},n.prototype.redo=function(){if(this.future.length>0){var e=this.future.pop();try{e.redo(this.model)}catch(t){return He(t),this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},n.prototype.canRedo=function(){return this.future.length>0},n}(),ALe=function(){function n(){this.spacesDiff=0,this.looksLikeAlignment=!1}return n}();function ILe(n,e,t,r,i){i.spacesDiff=0,i.looksLikeAlignment=!1;var o;for(o=0;o<e&&o<r;o++){var s=n.charCodeAt(o),a=t.charCodeAt(o);if(s!==a)break}for(var u=0,l=0,c=o;c<e;c++){var s=n.charCodeAt(c);s===32?u++:l++}for(var h=0,d=0,c=o;c<r;c++){var a=t.charCodeAt(c);a===32?h++:d++}if(!(u>0&&l>0)&&!(h>0&&d>0)){var p=Math.abs(l-d),v=Math.abs(u-h);if(p===0){i.spacesDiff=v,v>0&&0<=h-1&&h-1<n.length&&h<t.length&&t.charCodeAt(h)!==32&&n.charCodeAt(h-1)===32&&(i.looksLikeAlignment=!0);return}if(v%p===0){i.spacesDiff=v/p;return}}}function Mq(n,e,t){for(var r=Math.min(n.getLineCount(),1e4),i=0,o=0,s="",a=0,u=[2,4,6,8,3,5,7],l=8,c=[0,0,0,0,0,0,0,0,0],h=new ALe,d=1;d<=r;d++){for(var p=n.getLineLength(d),v=n.getLineContent(d),m=p<=65536,_=!1,b=0,C=0,E=0,S=0,A=p;S<A;S++){var T=m?v.charCodeAt(S):n.getLineCharCode(d,S);if(T===9)E++;else if(T===32)C++;else{_=!0,b=S;break}}if(_&&(E>0?i++:C>1&&o++,ILe(s,a,v,b,h),!(h.looksLikeAlignment&&!(t&&e===h.spacesDiff)))){var N=h.spacesDiff;N<=l&&c[N]++,s=v,a=b}}var k=t;i!==o&&(k=i<o);var F=e;if(k){var L=k?0:.1*r;u.forEach(function(O){var P=c[O];P>L&&(L=P,F=O)}),F===4&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(F=2)}return{insertSpaces:k,tabSize:F}}function po(n){return(n.metadata&1)>>>0}function sn(n,e){n.metadata=n.metadata&254|e<<0}function Xr(n){return(n.metadata&2)>>>1===1}function nn(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function dte(n){return(n.metadata&4)>>>2===1}function Fq(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function YO(n){return(n.metadata&8)>>>3===1}function Bq(n,e){n.metadata=n.metadata&247|(e?1:0)<<3}function xLe(n){return(n.metadata&48)>>>4}function Hq(n,e){n.metadata=n.metadata&207|e<<4}function LLe(n){return(n.metadata&64)>>>6===1}function Vq(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}var pte=function(){function n(e,t,r){this.metadata=0,this.parent=this,this.left=this,this.right=this,sn(this,1),this.start=t,this.end=r,this.delta=0,this.maxEnd=r,this.id=e,this.ownerId=0,this.options=null,Fq(this,!1),Hq(this,1),Bq(this,!1),Vq(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=r,this.range=null,nn(this,!1)}return n.prototype.reset=function(e,t,r,i){this.start=t,this.end=r,this.maxEnd=r,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=r,this.range=i},n.prototype.setOptions=function(e){this.options=e;var t=this.options.className;Fq(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),Hq(this,this.options.stickiness),Bq(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),Vq(this,this.options.collapseOnReplaceEdit)},n.prototype.setCachedOffsets=function(e,t,r){this.cachedVersionId!==r&&(this.range=null),this.cachedVersionId=r,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t},n.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},n}(),at=new pte(null,0,0);at.parent=at;at.left=at;at.right=at;sn(at,0);var Wq=function(){function n(){this.root=at,this.requestNormalizeDelta=!1}return n.prototype.intervalSearch=function(e,t,r,i,o){return this.root===at?[]:BLe(this,e,t,r,i,o)},n.prototype.search=function(e,t,r){return this.root===at?[]:FLe(this,e,t,r)},n.prototype.collectNodesFromOwner=function(e){return PLe(this,e)},n.prototype.collectNodesPostOrder=function(){return MLe(this)},n.prototype.insert=function(e){Uq(this,e),this._normalizeDeltaIfNecessary()},n.prototype.delete=function(e){jq(this,e),this._normalizeDeltaIfNecessary()},n.prototype.resolveNode=function(e,t){for(var r=e,i=0;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var o=r.start+i,s=r.end+i;r.setCachedOffsets(o,s,t)},n.prototype.acceptReplace=function(e,t,r,i){for(var o=kLe(this,e,e+t),s=0,a=o.length;s<a;s++){var u=o[s];jq(this,u)}this._normalizeDeltaIfNecessary(),RLe(this,e,e+t,r),this._normalizeDeltaIfNecessary();for(var s=0,a=o.length;s<a;s++){var u=o[s];u.start=u.cachedAbsoluteStart,u.end=u.cachedAbsoluteEnd,OLe(u,e,e+t,r,i),u.maxEnd=u.end,Uq(this,u)}this._normalizeDeltaIfNecessary()},n.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,NLe(this))},n}();function NLe(n){for(var e=n.root,t=0;e!==at;){if(e.left!==at&&!Xr(e.left)){e=e.left;continue}if(e.right!==at&&!Xr(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Dh(e),nn(e,!0),nn(e.left,!1),nn(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}nn(n.root,!1)}function dv(n,e,t,r){return n<t?!0:n>t||r===1?!1:r===2?!0:e}function OLe(n,e,t,r,i){var o=xLe(n),s=o===0||o===2,a=o===1||o===2,u=t-e,l=r,c=Math.min(u,l),h=n.start,d=!1,p=n.end,v=!1;e<=h&&p<=t&&LLe(n)&&(n.start=e,d=!0,n.end=e,v=!0);{var m=i?1:u>0?2:0;!d&&dv(h,s,e,m)&&(d=!0),!v&&dv(p,a,e,m)&&(v=!0)}if(c>0&&!i){var m=u>l?2:0;!d&&dv(h,s,e+c,m)&&(d=!0),!v&&dv(p,a,e+c,m)&&(v=!0)}{var m=i?1:0;!d&&dv(h,s,t,m)&&(n.start=e+l,d=!0),!v&&dv(p,a,t,m)&&(n.end=e+l,v=!0)}var _=l-u;d||(n.start=Math.max(0,h+_)),v||(n.end=Math.max(0,p+_)),n.start>n.end&&(n.end=n.start)}function kLe(n,e,t){for(var r=n.root,i=0,o=0,s=0,a=0,u=[],l=0;r!==at;){if(Xr(r)){nn(r.left,!1),nn(r.right,!1),r===r.parent.right&&(i-=r.parent.delta),r=r.parent;continue}if(!Xr(r.left)){if(o=i+r.maxEnd,o<e){nn(r,!0);continue}if(r.left!==at){r=r.left;continue}}if(s=i+r.start,s>t){nn(r,!0);continue}if(a=i+r.end,a>=e&&(r.setCachedOffsets(s,a,0),u[l++]=r),nn(r,!0),r.right!==at&&!Xr(r.right)){i+=r.delta,r=r.right;continue}}return nn(n.root,!1),u}function RLe(n,e,t,r){for(var i=n.root,o=0,s=0,a=0,u=r-(t-e);i!==at;){if(Xr(i)){nn(i.left,!1),nn(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),Dh(i),i=i.parent;continue}if(!Xr(i.left)){if(s=o+i.maxEnd,s<e){nn(i,!0);continue}if(i.left!==at){i=i.left;continue}}if(a=o+i.start,a>t){i.start+=u,i.end+=u,i.delta+=u,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0),nn(i,!0);continue}if(nn(i,!0),i.right!==at&&!Xr(i.right)){o+=i.delta,i=i.right;continue}}nn(n.root,!1)}function PLe(n,e){for(var t=n.root,r=[],i=0;t!==at;){if(Xr(t)){nn(t.left,!1),nn(t.right,!1),t=t.parent;continue}if(t.left!==at&&!Xr(t.left)){t=t.left;continue}if(t.ownerId===e&&(r[i++]=t),nn(t,!0),t.right!==at&&!Xr(t.right)){t=t.right;continue}}return nn(n.root,!1),r}function MLe(n){for(var e=n.root,t=[],r=0;e!==at;){if(Xr(e)){nn(e.left,!1),nn(e.right,!1),e=e.parent;continue}if(e.left!==at&&!Xr(e.left)){e=e.left;continue}if(e.right!==at&&!Xr(e.right)){e=e.right;continue}t[r++]=e,nn(e,!0)}return nn(n.root,!1),t}function FLe(n,e,t,r){for(var i=n.root,o=0,s=0,a=0,u=[],l=0;i!==at;){if(Xr(i)){nn(i.left,!1),nn(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),i=i.parent;continue}if(i.left!==at&&!Xr(i.left)){i=i.left;continue}s=o+i.start,a=o+i.end,i.setCachedOffsets(s,a,r);var c=!0;if(e&&i.ownerId&&i.ownerId!==e&&(c=!1),t&&dte(i)&&(c=!1),c&&(u[l++]=i),nn(i,!0),i.right!==at&&!Xr(i.right)){o+=i.delta,i=i.right;continue}}return nn(n.root,!1),u}function BLe(n,e,t,r,i,o){for(var s=n.root,a=0,u=0,l=0,c=0,h=[],d=0;s!==at;){if(Xr(s)){nn(s.left,!1),nn(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;continue}if(!Xr(s.left)){if(u=a+s.maxEnd,u<e){nn(s,!0);continue}if(s.left!==at){s=s.left;continue}}if(l=a+s.start,l>t){nn(s,!0);continue}if(c=a+s.end,c>=e){s.setCachedOffsets(l,c,o);var p=!0;r&&s.ownerId&&s.ownerId!==r&&(p=!1),i&&dte(s)&&(p=!1),p&&(h[d++]=s)}if(nn(s,!0),s.right!==at&&!Xr(s.right)){a+=s.delta,s=s.right;continue}}return nn(n.root,!1),h}function Uq(n,e){if(n.root===at)return e.parent=at,e.left=at,e.right=at,sn(e,0),n.root=e,n.root;HLe(n,e),Df(e.parent);for(var t=e;t!==n.root&&po(t.parent)===1;)if(t.parent===t.parent.parent.left){var r=t.parent.parent.right;po(r)===1?(sn(t.parent,0),sn(r,0),sn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,rb(n,t)),sn(t.parent,0),sn(t.parent.parent,1),ib(n,t.parent.parent))}else{var r=t.parent.parent.left;po(r)===1?(sn(t.parent,0),sn(r,0),sn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,ib(n,t)),sn(t.parent,0),sn(t.parent.parent,1),rb(n,t.parent.parent))}return sn(n.root,0),e}function HLe(n,e){for(var t=0,r=n.root,i=e.start,o=e.end;;){var s=WLe(i,o,r.start+t,r.end+t);if(s<0)if(r.left===at){e.start-=t,e.end-=t,e.maxEnd-=t,r.left=e;break}else r=r.left;else if(r.right===at){e.start-=t+r.delta,e.end-=t+r.delta,e.maxEnd-=t+r.delta,r.right=e;break}else t+=r.delta,r=r.right}e.parent=r,e.left=at,e.right=at,sn(e,1)}function jq(n,e){var t,r;if(e.left===at?(t=e.right,r=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===at?(t=e.left,r=e):(r=VLe(e.right),t=r.right,t.start+=r.delta,t.end+=r.delta,t.delta+=r.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),r.start+=e.delta,r.end+=e.delta,r.delta=e.delta,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0)),r===n.root){n.root=t,sn(t,0),e.detach(),XO(),Dh(t),n.root.parent=at;return}var i=po(r)===1;if(r===r.parent.left?r.parent.left=t:r.parent.right=t,r===e?t.parent=r.parent:(r.parent===e?t.parent=r:t.parent=r.parent,r.left=e.left,r.right=e.right,r.parent=e.parent,sn(r,po(e)),e===n.root?n.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.left!==at&&(r.left.parent=r),r.right!==at&&(r.right.parent=r)),e.detach(),i){Df(t.parent),r!==e&&(Df(r),Df(r.parent)),XO();return}Df(t),Df(t.parent),r!==e&&(Df(r),Df(r.parent));for(var o;t!==n.root&&po(t)===0;)t===t.parent.left?(o=t.parent.right,po(o)===1&&(sn(o,0),sn(t.parent,1),rb(n,t.parent),o=t.parent.right),po(o.left)===0&&po(o.right)===0?(sn(o,1),t=t.parent):(po(o.right)===0&&(sn(o.left,0),sn(o,1),ib(n,o),o=t.parent.right),sn(o,po(t.parent)),sn(t.parent,0),sn(o.right,0),rb(n,t.parent),t=n.root)):(o=t.parent.left,po(o)===1&&(sn(o,0),sn(t.parent,1),ib(n,t.parent),o=t.parent.left),po(o.left)===0&&po(o.right)===0?(sn(o,1),t=t.parent):(po(o.left)===0&&(sn(o.right,0),sn(o,1),rb(n,o),o=t.parent.left),sn(o,po(t.parent)),sn(t.parent,0),sn(o.left,0),ib(n,t.parent),t=n.root));sn(t,0),XO()}function VLe(n){for(;n.left!==at;)n=n.left;return n}function XO(){at.parent=at,at.delta=0,at.start=0,at.end=0}function rb(n,e){var t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==at&&(t.left.parent=e),t.parent=e.parent,e.parent===at?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Dh(e),Dh(t)}function ib(n,e){var t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==at&&(t.right.parent=e),t.parent=e.parent,e.parent===at?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Dh(e),Dh(t)}function gte(n){var e=n.end;if(n.left!==at){var t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==at){var r=n.right.maxEnd+n.delta;r>e&&(e=r)}return e}function Dh(n){n.maxEnd=gte(n)}function Df(n){for(;n!==at;){var e=gte(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function WLe(n,e,t,r){return n===t?e-r:n-t}var jM=function(){function n(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return n.prototype.next=function(){if(this.right!==Qe)return X6(this.right);for(var e=this;e.parent!==Qe&&e.parent.left!==e;)e=e.parent;return e.parent===Qe?Qe:e.parent},n.prototype.prev=function(){if(this.left!==Qe)return vte(this.left);for(var e=this;e.parent!==Qe&&e.parent.right!==e;)e=e.parent;return e.parent===Qe?Qe:e.parent},n.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},n}(),Qe=new jM(null,0);Qe.parent=Qe;Qe.left=Qe;Qe.right=Qe;Qe.color=0;function X6(n){for(;n.left!==Qe;)n=n.left;return n}function vte(n){for(;n.right!==Qe;)n=n.right;return n}function Q6(n){return n===Qe?0:n.size_left+n.piece.length+Q6(n.right)}function Z6(n){return n===Qe?0:n.lf_left+n.piece.lineFeedCnt+Z6(n.right)}function QO(){Qe.parent=Qe}function ob(n,e){var t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Qe&&(t.left.parent=e),t.parent=e.parent,e.parent===Qe?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function sb(n,e){var t=e.left;e.left=t.right,t.right!==Qe&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Qe?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function OE(n,e){var t,r;if(e.left===Qe?(r=e,t=r.right):e.right===Qe?(r=e,t=r.left):(r=X6(e.right),t=r.right),r===n.root){n.root=t,t.color=0,e.detach(),QO(),n.root.parent=Qe;return}var i=r.color===1;if(r===r.parent.left?r.parent.left=t:r.parent.right=t,r===e?(t.parent=r.parent,ky(n,t)):(r.parent===e?t.parent=r:t.parent=r.parent,ky(n,t),r.left=e.left,r.right=e.right,r.parent=e.parent,r.color=e.color,e===n.root?n.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.left!==Qe&&(r.left.parent=r),r.right!==Qe&&(r.right.parent=r),r.size_left=e.size_left,r.lf_left=e.lf_left,ky(n,r)),e.detach(),t.parent.left===t){var o=Q6(t),s=Z6(t);if(o!==t.parent.size_left||s!==t.parent.lf_left){var a=o-t.parent.size_left,u=s-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=s,ac(n,t.parent,a,u)}}if(ky(n,t.parent),i){QO();return}for(var l;t!==n.root&&t.color===0;)t===t.parent.left?(l=t.parent.right,l.color===1&&(l.color=0,t.parent.color=1,ob(n,t.parent),l=t.parent.right),l.left.color===0&&l.right.color===0?(l.color=1,t=t.parent):(l.right.color===0&&(l.left.color=0,l.color=1,sb(n,l),l=t.parent.right),l.color=t.parent.color,t.parent.color=0,l.right.color=0,ob(n,t.parent),t=n.root)):(l=t.parent.left,l.color===1&&(l.color=0,t.parent.color=1,sb(n,t.parent),l=t.parent.left),l.left.color===0&&l.right.color===0?(l.color=1,t=t.parent):(l.left.color===0&&(l.right.color=0,l.color=1,ob(n,l),l=t.parent.left),l.color=t.parent.color,t.parent.color=0,l.left.color=0,sb(n,t.parent),t=n.root));t.color=0,QO()}function qq(n,e){for(ky(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){var t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,ob(n,e)),e.parent.color=0,e.parent.parent.color=1,sb(n,e.parent.parent))}else{var t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,sb(n,e)),e.parent.color=0,e.parent.parent.color=1,ob(n,e.parent.parent))}n.root.color=0}function ac(n,e,t,r){for(;e!==n.root&&e!==Qe;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=r),e=e.parent}function ky(n,e){var t=0,r=0;if(e!==n.root){if(t===0){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e===n.root)return;e=e.parent,t=Q6(e.left)-e.size_left,r=Z6(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=r}for(;e!==n.root&&(t!==0||r!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=r),e=e.parent}}var ULe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jLe=function(n){ULe(e,n);function e(t){for(var r=n.call(this,0)||this,i=0,o=t.length;i<o;i++)r.set(t.charCodeAt(i),2);return r.set(32,1),r.set(9,1),r}return e}(p2);function qLe(n){var e={};return function(t){return e.hasOwnProperty(t)||(e[t]=n(t)),e[t]}}var jl=qLe(function(n){return new jLe(n)}),zLe=999,qd=function(){function n(e,t,r,i){this.searchString=e,this.isRegex=t,this.matchCase=r,this.wordSeparators=i}return n.prototype.parseSearchRequest=function(){if(this.searchString==="")return null;var e;this.isRegex?e=GLe(this.searchString):e=this.searchString.indexOf(`
`)>=0;var t=null;try{t=b6(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0})}catch{return null}if(!t)return null;var r=!this.isRegex&&!e;return r&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(r=this.matchCase),new $Le(t,this.wordSeparators?jl(this.wordSeparators):null,r?this.searchString:null)},n}();function GLe(n){if(!n||n.length===0)return!1;for(var e=0,t=n.length;e<t;e++){var r=n.charCodeAt(e);if(r===92){if(e++,e>=t)break;var i=n.charCodeAt(e);if(i===110||i===114||i===87)return!0}}return!1}var $Le=function(){function n(e,t,r){this.regex=e,this.wordSeparators=t,this.simpleSearch=r}return n}();function Yd(n,e,t){if(!t)return new Qb(n,null);for(var r=[],i=0,o=e.length;i<o;i++)r[i]=e[i];return new Qb(n,r)}var zq=function(){function n(e){for(var t=[],r=0,i=0,o=e.length;i<o;i++)e.charCodeAt(i)===10&&(t[r++]=i);this._lineFeedsOffsets=t}return n.prototype.findLineFeedCountBeforeOffset=function(e){var t=this._lineFeedsOffsets,r=0,i=t.length-1;if(i===-1||e<=t[0])return 0;for(;r<i;){var o=r+((i-r)/2>>0);t[o]>=e?i=o-1:t[o+1]>=e?(r=o,i=o):r=o+1}return r+1},n}(),kE=function(){function n(){}return n.findMatches=function(e,t,r,i,o){var s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,r,new Ry(s.wordSeparators,s.regex),i,o):this._doFindMatchesLineByLine(e,r,s,i,o):[]},n._getMultilineMatchRange=function(e,t,r,i,o,s){var a,u=0;i?(u=i.findLineFeedCountBeforeOffset(o),a=t+o+u):a=t+o;var l;if(i){var c=i.findLineFeedCountBeforeOffset(o+s.length),h=c-u;l=a+s.length+h}else l=a+s.length;var d=e.getPositionAt(a),p=e.getPositionAt(l);return new H(d.lineNumber,d.column,p.lineNumber,p.column)},n._doFindMatchesMultiline=function(e,t,r,i,o){var s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),u=e.getEOL()===`\r
`?new zq(a):null,l=[],c=0,h;for(r.reset(0);h=r.next(a);)if(l[c++]=Yd(this._getMultilineMatchRange(e,s,a,u,h.index,h[0]),h,i),c>=o)return l;return l},n._doFindMatchesLineByLine=function(e,t,r,i,o){var s=[],a=0;if(t.startLineNumber===t.endLineNumber){var u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(r,u,t.startLineNumber,t.startColumn-1,a,s,i,o),s}var l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(r,l,t.startLineNumber,t.startColumn-1,a,s,i,o);for(var c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(r,e.getLineContent(c),c,0,a,s,i,o);if(a<o){var h=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(r,h,t.endLineNumber,0,a,s,i,o)}return s},n._findMatchesInLine=function(e,t,r,i,o,s,a,u){var l=e.wordSeparators;if(!a&&e.simpleSearch){for(var c=e.simpleSearch,h=c.length,d=t.length,p=-h;(p=t.indexOf(c,p+h))!==-1;)if((!l||J6(l,t,d,p,h))&&(s[o++]=new Qb(new H(r,p+1+i,r,p+1+h+i),null),o>=u))return o;return o}var v=new Ry(e.wordSeparators,e.regex),m;v.reset(0);do if(m=v.next(t),m&&(s[o++]=Yd(new H(r,m.index+1+i,r,m.index+1+m[0].length+i),m,a),o>=u))return o;while(m);return o},n.findNextMatch=function(e,t,r,i){var o=t.parseSearchRequest();if(!o)return null;var s=new Ry(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,r,s,i):this._doFindNextMatchLineByLine(e,r,s,i)},n._doFindNextMatchMultiline=function(e,t,r,i){var o=new ee(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),u=e.getValueInRange(new H(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),l=e.getEOL()===`\r
`?new zq(u):null;r.reset(t.column-1);var c=r.next(u);return c?Yd(this._getMultilineMatchRange(e,s,u,l,c.index,c[0]),c,i):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new ee(1,1),r,i):null},n._doFindNextMatchLineByLine=function(e,t,r,i){var o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),u=this._findFirstMatchInLine(r,a,s,t.column,i);if(u)return u;for(var l=1;l<=o;l++){var c=(s+l-1)%o,h=e.getLineContent(c+1),d=this._findFirstMatchInLine(r,h,c+1,1,i);if(d)return d}return null},n._findFirstMatchInLine=function(e,t,r,i,o){e.reset(i-1);var s=e.next(t);return s?Yd(new H(r,s.index+1,r,s.index+1+s[0].length),s,o):null},n.findPreviousMatch=function(e,t,r,i){var o=t.parseSearchRequest();if(!o)return null;var s=new Ry(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,r,s,i):this._doFindPreviousMatchLineByLine(e,r,s,i)},n._doFindPreviousMatchMultiline=function(e,t,r,i){var o=this._doFindMatchesMultiline(e,new H(1,1,t.lineNumber,t.column),r,i,10*zLe);if(o.length>0)return o[o.length-1];var s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new ee(s,e.getLineMaxColumn(s)),r,i):null},n._doFindPreviousMatchLineByLine=function(e,t,r,i){var o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),u=this._findLastMatchInLine(r,a,s,i);if(u)return u;for(var l=1;l<=o;l++){var c=(o+s-l-1)%o,h=e.getLineContent(c+1),d=this._findLastMatchInLine(r,h,c+1,i);if(d)return d}return null},n._findLastMatchInLine=function(e,t,r,i){var o=null,s;for(e.reset(0);s=e.next(t);)o=Yd(new H(r,s.index+1,r,s.index+1+s[0].length),s,i);return o},n}();function KLe(n,e,t,r,i){if(r===0)return!0;var o=e.charCodeAt(r-1);if(n.get(o)!==0||o===13||o===10)return!0;if(i>0){var s=e.charCodeAt(r);if(n.get(s)!==0)return!0}return!1}function YLe(n,e,t,r,i){if(r+i===t)return!0;var o=e.charCodeAt(r+i);if(n.get(o)!==0||o===13||o===10)return!0;if(i>0){var s=e.charCodeAt(r+i-1);if(n.get(s)!==0)return!0}return!1}function J6(n,e,t,r,i){return KLe(n,e,t,r,i)&&YLe(n,e,t,r,i)}var Ry=function(){function n(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return n.prototype.reset=function(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0},n.prototype.next=function(e){var t=e.length,r;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(r=this._searchRegex.exec(e),!r))return null;var i=r.index,o=r[0].length;if(i===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=o,!this._wordSeparators||J6(this._wordSeparators,e,t,i,o))return r}while(r);return null},n}(),nc=65535;function mte(n){var e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}var XLe=function(){function n(e,t,r,i,o){this.lineStarts=e,this.cr=t,this.lf=r,this.crlf=i,this.isBasicASCII=o}return n}();function lc(n,e){e===void 0&&(e=!0);for(var t=[0],r=1,i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);s===13?i+1<o&&n.charCodeAt(i+1)===10?(t[r++]=i+2,i++):t[r++]=i+1:s===10&&(t[r++]=i+1)}return e?mte(t):t}function QLe(n,e){n.length=0,n[0]=0;for(var t=1,r=0,i=0,o=0,s=!0,a=0,u=e.length;a<u;a++){var l=e.charCodeAt(a);l===13?a+1<u&&e.charCodeAt(a+1)===10?(o++,n[t++]=a+2,a++):(r++,n[t++]=a+1):l===10?(i++,n[t++]=a+1):s&&l!==9&&(l<32||l>126)&&(s=!1)}var c=new XLe(mte(n),r,i,o,s);return n.length=0,c}var Wo=function(){function n(e,t,r,i,o){this.bufferIndex=e,this.start=t,this.end=r,this.lineFeedCnt=i,this.length=o}return n}(),Xd=function(){function n(e,t){this.buffer=e,this.lineStarts=t}return n}(),ZLe=function(){function n(e){this._limit=e,this._cache=[]}return n.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var r=this._cache[t];if(r.nodeStartOffset<=e&&r.nodeStartOffset+r.node.piece.length>=e)return r}return null},n.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var r=this._cache[t];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<e&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=e)return r}return null},n.prototype.set=function(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)},n.prototype.valdiate=function(e){for(var t=!1,r=this._cache,i=0;i<r.length;i++){var o=r[i];if(o.node.parent===null||o.nodeStartOffset>=e){r[i]=null,t=!0;continue}}if(t){for(var s=[],a=0,u=r;a<u.length;a++){var l=u[a];l!==null&&s.push(l)}this._cache=s}},n}(),JLe=function(){function n(e,t,r){this.create(e,t,r)}return n.prototype.create=function(e,t,r){this._buffers=[new Xd("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Qe,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=r;for(var i=null,o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=lc(e[o].buffer));var a=new Wo(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),i=this.rbInsertRight(i,a)}this._searchCache=new ZLe(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},n.prototype.normalizeEOL=function(e){var t=this,r=nc,i=r-Math.floor(r/3),o=i*2,s="",a=0,u=[];if(this.iterate(this.root,function(c){var h=t.getNodeContent(c),d=h.length;if(a<=i||a+d<o)return s+=h,a+=d,!0;var p=s.replace(/\r\n|\r|\n/g,e);return u.push(new Xd(p,lc(p))),s=h,a=d,!0}),a>0){var l=s.replace(/\r\n|\r|\n/g,e);u.push(new Xd(l,lc(l)))}this.create(u,e,!0)},n.prototype.getEOL=function(){return this._EOL},n.prototype.setEOL=function(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)},n.prototype.getOffsetAt=function(e,t){for(var r=0,i=this.root;i!==Qe;)if(i.left!==Qe&&i.lf_left+1>=e)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt+1>=e){r+=i.size_left;var o=this.getAccumulatedValue(i,e-i.lf_left-2);return r+=o+t-1}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;return r},n.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e);for(var t=this.root,r=0,i=e;t!==Qe;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){var o=this.getIndexOf(t,e-t.size_left);if(r+=t.lf_left+o.index,o.index===0){var s=this.getOffsetAt(r+1,1),a=i-s;return new ee(r+1,a+1)}return new ee(r+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,r+=t.lf_left+t.piece.lineFeedCnt,t.right===Qe){var s=this.getOffsetAt(r+1,1),a=i-e-s;return new ee(r+1,a+1)}else t=t.right;return new ee(1,1)},n.prototype.getValueInRange=function(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var r=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(r,i);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o},n.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var r=e.node,i=this._buffers[r.piece.bufferIndex].buffer,o=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i.substring(o+e.remainder,o+t.remainder)}var s=e.node,a=this._buffers[s.piece.bufferIndex].buffer,u=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),l=a.substring(u+e.remainder,u+s.piece.length);for(s=s.next();s!==Qe;){var c=this._buffers[s.piece.bufferIndex].buffer,h=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===t.node){l+=c.substring(h,h+t.remainder);break}else l+=c.substr(h,s.piece.length);s=s.next()}return l},n.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)},n.prototype.getLength=function(){return this._length},n.prototype.getLineCount=function(){return this._lineCnt},n.prototype.getLineContent=function(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)},n.prototype.getLineCharCode=function(e,t){var r=this.nodeAt2(e,t+1);if(r.remainder===r.node.piece.length){var i=r.node.next();if(!i)return 0;var o=this._buffers[i.piece.bufferIndex],s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o.buffer.charCodeAt(s)}else{var o=this._buffers[r.node.piece.bufferIndex],s=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start),a=s+r.remainder;return o.buffer.charCodeAt(a)}},n.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength},n.prototype.findMatchesInNode=function(e,t,r,i,o,s,a,u,l,c,h){var d=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),v=this.offsetInBuffer(e.piece.bufferIndex,o),m=this.offsetInBuffer(e.piece.bufferIndex,s),_;t.reset(v);var b={line:0,column:0};do if(_=t.next(d.buffer),_){if(_.index>=m)return c;this.positionInBuffer(e,_.index-p,b);var C=this.getLineFeedCnt(e.piece.bufferIndex,o,b),E=b.line===o.line?b.column-o.column+i:b.column+1,S=E+_[0].length;if(h[c++]=Yd(new H(r+C,E,r+C,S),_,u),_.index+_[0].length>=m||c>=l)return c}while(_);return c},n.prototype.findMatchesLineByLine=function(e,t,r,i){var o=[],s=0,a=new Ry(t.wordSeparators,t.regex),u=this.nodeAt2(e.startLineNumber,e.startColumn);if(u===null)return[];var l=this.nodeAt2(e.endLineNumber,e.endColumn);if(l===null)return[];var c=this.positionInBuffer(u.node,u.remainder),h=this.positionInBuffer(l.node,l.remainder);if(u.node===l.node)return this.findMatchesInNode(u.node,a,e.startLineNumber,e.startColumn,c,h,t,r,i,s,o),o;for(var d=e.startLineNumber,p=u.node;p!==l.node;){var v=this.getLineFeedCnt(p.piece.bufferIndex,c,p.piece.end);if(v>=1){var m=this._buffers[p.piece.bufferIndex].lineStarts,_=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start),b=m[c.line+v],C=d===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(p,a,d,C,c,this.positionInBuffer(p,b-_),t,r,i,s,o),s>=i)return o;d+=v}var E=d===e.startLineNumber?e.startColumn-1:0;if(d===e.endLineNumber){var S=this.getLineContent(d).substring(E,e.endColumn-1);return s=this._findMatchesInLine(t,a,S,e.endLineNumber,E,s,o,r,i),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(d).substr(E),d,E,s,o,r,i),s>=i)return o;d++,u=this.nodeAt2(d,1),p=u.node,c=this.positionInBuffer(u.node,u.remainder)}if(d===e.endLineNumber){var A=d===e.startLineNumber?e.startColumn-1:0,S=this.getLineContent(d).substring(A,e.endColumn-1);return s=this._findMatchesInLine(t,a,S,e.endLineNumber,A,s,o,r,i),o}var T=d===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(l.node,a,d,T,c,h,t,r,i,s,o),o},n.prototype._findMatchesInLine=function(e,t,r,i,o,s,a,u,l){var c=e.wordSeparators;if(!u&&e.simpleSearch){for(var h=e.simpleSearch,d=h.length,p=r.length,v=-d;(v=r.indexOf(h,v+d))!==-1;)if((!c||J6(c,r,p,v,d))&&(a[s++]=new Qb(new H(i,v+1+o,i,v+1+d+o),null),s>=l))return s;return s}var m;t.reset(0);do if(m=t.next(r),m&&(a[s++]=Yd(new H(i,m.index+1+o,i,m.index+1+m[0].length+o),m,u),s>=l))return s;while(m);return s},n.prototype.insert=function(e,t,r){if(r===void 0&&(r=!1),this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Qe){var i=this.nodeAt(e),o=i.node,s=i.remainder,a=i.nodeStartOffset,u=o.piece,l=u.bufferIndex,c=this.positionInBuffer(o,s);if(o.piece.bufferIndex===0&&u.end.line===this._lastChangeBufferPos.line&&u.end.column===this._lastChangeBufferPos.column&&a+u.length===e&&t.length<nc){this.appendToNode(o,t),this.computeBufferMetadata();return}if(a===e)this.insertContentToNodeLeft(t,o),this._searchCache.valdiate(e);else if(a+o.piece.length>e){var h=[],d=new Wo(u.bufferIndex,c,u.end,this.getLineFeedCnt(u.bufferIndex,c,u.end),this.offsetInBuffer(l,u.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)){var p=this.nodeCharCodeAt(o,s);if(p===10){var v={line:d.start.line+1,column:0};d=new Wo(d.bufferIndex,v,d.end,this.getLineFeedCnt(d.bufferIndex,v,d.end),d.length-1),t+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){var m=this.nodeCharCodeAt(o,s-1);if(m===13){var _=this.positionInBuffer(o,s-1);this.deleteNodeTail(o,_),t="\r"+t,o.piece.length===0&&h.push(o)}else this.deleteNodeTail(o,c)}else this.deleteNodeTail(o,c);var b=this.createNewPieces(t);d.length>0&&this.rbInsertRight(o,d);for(var C=o,E=0;E<b.length;E++)C=this.rbInsertRight(C,b[E]);this.deleteNodes(h)}else this.insertContentToNodeRight(t,o)}else for(var S=this.createNewPieces(t),o=this.rbInsertLeft(null,S[0]),E=1;E<S.length;E++)o=this.rbInsertRight(o,S[E]);this.computeBufferMetadata()},n.prototype.delete=function(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(t<=0||this.root===Qe)){var r=this.nodeAt(e),i=this.nodeAt(e+t),o=r.node,s=i.node;if(o===s){var a=this.positionInBuffer(o,r.remainder),u=this.positionInBuffer(o,i.remainder);if(r.nodeStartOffset===e){if(t===o.piece.length){var l=o.next();OE(this,o),this.validateCRLFWithPrevNode(l),this.computeBufferMetadata();return}this.deleteNodeHead(o,u),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(r.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,a),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,a,u),this.computeBufferMetadata();return}var c=[],h=this.positionInBuffer(o,r.remainder);this.deleteNodeTail(o,h),this._searchCache.valdiate(e),o.piece.length===0&&c.push(o);var d=this.positionInBuffer(s,i.remainder);this.deleteNodeHead(s,d),s.piece.length===0&&c.push(s);for(var p=o.next(),v=p;v!==Qe&&v!==s;v=v.next())c.push(v);var m=o.piece.length===0?o.prev():o;this.deleteNodes(c),this.validateCRLFWithNextNode(m),this.computeBufferMetadata()}},n.prototype.insertContentToNodeLeft=function(e,t){var r=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var i=t.piece,o={line:i.start.line+1,column:0},s=new Wo(i.bufferIndex,o,i.end,this.getLineFeedCnt(i.bufferIndex,o,i.end),i.length-1);t.piece=s,e+=`
`,ac(this,t,-1,-1),t.piece.length===0&&r.push(t)}for(var a=this.createNewPieces(e),u=this.rbInsertLeft(t,a[a.length-1]),l=a.length-2;l>=0;l--)u=this.rbInsertLeft(u,a[l]);this.validateCRLFWithPrevNode(u),this.deleteNodes(r)},n.prototype.insertContentToNodeRight=function(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);for(var r=this.createNewPieces(e),i=this.rbInsertRight(t,r[0]),o=i,s=1;s<r.length;s++)o=this.rbInsertRight(o,r[s]);this.validateCRLFWithPrevNode(i)},n.prototype.positionInBuffer=function(e,t,r){for(var i=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,a=s[i.start.line]+i.start.column,u=a+t,l=i.start.line,c=i.end.line,h=0,d=0,p=0;l<=c&&(h=l+(c-l)/2|0,p=s[h],h!==c);)if(d=s[h+1],u<p)c=h-1;else if(u>=d)l=h+1;else break;return r?(r.line=h,r.column=u-p,null):{line:h,column:u-p}},n.prototype.getLineFeedCnt=function(e,t,r){if(r.column===0)return r.line-t.line;var i=this._buffers[e].lineStarts;if(r.line===i.length-1)return r.line-t.line;var o=i[r.line+1],s=i[r.line]+r.column;if(o>s+1)return r.line-t.line;var a=s-1,u=this._buffers[e].buffer;return u.charCodeAt(a)===13?r.line-t.line+1:r.line-t.line},n.prototype.offsetInBuffer=function(e,t){var r=this._buffers[e].lineStarts;return r[t.line]+t.column},n.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++)OE(this,e[t])},n.prototype.createNewPieces=function(e){if(e.length>nc){for(var t=[];e.length>nc;){var r=e.charCodeAt(nc-1),i=void 0;r===13||r>=55296&&r<=56319?(i=e.substring(0,nc-1),e=e.substring(nc-1)):(i=e.substring(0,nc),e=e.substring(nc));var o=lc(i);t.push(new Wo(this._buffers.length,{line:0,column:0},{line:o.length-1,column:i.length-o[o.length-1]},o.length-1,i.length)),this._buffers.push(new Xd(i,o))}var s=lc(e);return t.push(new Wo(this._buffers.length,{line:0,column:0},{line:s.length-1,column:e.length-s[s.length-1]},s.length-1,e.length)),this._buffers.push(new Xd(e,s)),t}var a=this._buffers[0].buffer.length,u=lc(e,!1),l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&a!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(var c=0;c<u.length;c++)u[c]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+="_"+e,a+=1}else{if(a!==0)for(var c=0;c<u.length;c++)u[c]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+=e}var h=this._buffers[0].buffer.length,d=this._buffers[0].lineStarts.length-1,p=h-this._buffers[0].lineStarts[d],v={line:d,column:p},m=new Wo(0,l,v,this.getLineFeedCnt(0,l,v),h-a);return this._lastChangeBufferPos=v,[m]},n.prototype.getLineRawContent=function(e,t){t===void 0&&(t=0);var r=this.root,i="",o=this._searchCache.get2(e);if(o){r=o.node;var s=this.getAccumulatedValue(r,e-o.nodeStartLineNumber-1),a=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(o.nodeStartLineNumber+r.piece.lineFeedCnt===e)i=a.substring(u+s,u+r.piece.length);else{var l=this.getAccumulatedValue(r,e-o.nodeStartLineNumber);return a.substring(u+s,u+l-t)}}else for(var c=0,h=e;r!==Qe;)if(r.left!==Qe&&r.lf_left>=e-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>e-1){var s=this.getAccumulatedValue(r,e-r.lf_left-2),l=this.getAccumulatedValue(r,e-r.lf_left-1),a=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return c+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:c,nodeStartLineNumber:h-(e-1-r.lf_left)}),a.substring(u+s,u+l-t)}else if(r.lf_left+r.piece.lineFeedCnt===e-1){var s=this.getAccumulatedValue(r,e-r.lf_left-2),a=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);i=a.substring(u+s,u+r.piece.length);break}else e-=r.lf_left+r.piece.lineFeedCnt,c+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==Qe;){var a=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){var l=this.getAccumulatedValue(r,0),u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i+=a.substring(u,u+l-t),i}else{var u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);i+=a.substr(u,r.piece.length)}r=r.next()}return i},n.prototype.computeBufferMetadata=function(){for(var e=this.root,t=1,r=0;e!==Qe;)t+=e.lf_left+e.piece.lineFeedCnt,r+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=r,this._searchCache.valdiate(this._length)},n.prototype.getIndexOf=function(e,t){var r=e.piece,i=this.positionInBuffer(e,t),o=i.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===t){var s=this.getLineFeedCnt(e.piece.bufferIndex,r.start,i);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:i.column}},n.prototype.getAccumulatedValue=function(e,t){if(t<0)return 0;var r=e.piece,i=this._buffers[r.bufferIndex].lineStarts,o=r.start.line+t+1;return o>r.end.line?i[r.end.line]+r.end.column-i[r.start.line]-r.start.column:i[o]-i[r.start.line]-r.start.column},n.prototype.deleteNodeTail=function(e,t){var r=e.piece,i=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.end),s=t,a=this.offsetInBuffer(r.bufferIndex,s),u=this.getLineFeedCnt(r.bufferIndex,r.start,s),l=u-i,c=a-o,h=r.length+c;e.piece=new Wo(r.bufferIndex,r.start,s,u,h),ac(this,e,c,l)},n.prototype.deleteNodeHead=function(e,t){var r=e.piece,i=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.start),s=t,a=this.getLineFeedCnt(r.bufferIndex,s,r.end),u=this.offsetInBuffer(r.bufferIndex,s),l=a-i,c=o-u,h=r.length+c;e.piece=new Wo(r.bufferIndex,s,r.end,a,h),ac(this,e,c,l)},n.prototype.shrinkNode=function(e,t,r){var i=e.piece,o=i.start,s=i.end,a=i.length,u=i.lineFeedCnt,l=t,c=this.getLineFeedCnt(i.bufferIndex,i.start,l),h=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,o);e.piece=new Wo(i.bufferIndex,i.start,l,c,h),ac(this,e,h-a,c-u);var d=new Wo(i.bufferIndex,r,s,this.getLineFeedCnt(i.bufferIndex,r,s),this.offsetInBuffer(i.bufferIndex,s)-this.offsetInBuffer(i.bufferIndex,r)),p=this.rbInsertRight(e,d);this.validateCRLFWithPrevNode(p)},n.prototype.appendToNode=function(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);var r=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;for(var o=lc(t,!1),s=0;s<o.length;s++)o[s]+=i;if(r){var a=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-a}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));var u=this._buffers[0].lineStarts.length-1,l=this._buffers[0].buffer.length-this._buffers[0].lineStarts[u],c={line:u,column:l},h=e.piece.length+t.length,d=e.piece.lineFeedCnt,p=this.getLineFeedCnt(0,e.piece.start,c),v=p-d;e.piece=new Wo(e.piece.bufferIndex,e.piece.start,c,p,h),this._lastChangeBufferPos=c,ac(this,e,t.length,v)},n.prototype.nodeAt=function(e){var t=this.root,r=this._searchCache.get(e);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:e-r.nodeStartOffset};for(var i=0;t!==Qe;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){i+=t.size_left;var o={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right;return null},n.prototype.nodeAt2=function(e,t){for(var r=this.root,i=0;r!==Qe;)if(r.left!==Qe&&r.lf_left>=e-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>e-1){var o=this.getAccumulatedValue(r,e-r.lf_left-2),s=this.getAccumulatedValue(r,e-r.lf_left-1);return i+=r.size_left,{node:r,remainder:Math.min(o+t-1,s),nodeStartOffset:i}}else if(r.lf_left+r.piece.lineFeedCnt===e-1){var o=this.getAccumulatedValue(r,e-r.lf_left-2);if(o+t-1<=r.piece.length)return{node:r,remainder:o+t-1,nodeStartOffset:i};t-=r.piece.length-o;break}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==Qe;){if(r.piece.lineFeedCnt>0){var s=this.getAccumulatedValue(r,0),a=this.offsetOfNode(r);return{node:r,remainder:Math.min(t-1,s),nodeStartOffset:a}}else if(r.piece.length>=t-1){var u=this.offsetOfNode(r);return{node:r,remainder:t-1,nodeStartOffset:u}}else t-=r.piece.length;r=r.next()}return null},n.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1)return-1;var r=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return r.buffer.charCodeAt(i)},n.prototype.offsetOfNode=function(e){if(!e)return 0;for(var t=e.size_left;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t},n.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&this._EOL===`
`)},n.prototype.startWithLF=function(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Qe||e.piece.lineFeedCnt===0)return!1;var t=e.piece,r=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,o=r[i]+t.start.column;if(i===r.length-1)return!1;var s=r[i+1];return s>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10},n.prototype.endWithCR=function(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Qe||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13},n.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}},n.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}},n.prototype.fixCRLF=function(e,t){var r=[],i=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:i[e.piece.end.line]-i[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};var s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Wo(e.piece.bufferIndex,e.piece.start,o,a,s),ac(this,e,-1,-1),e.piece.length===0&&r.push(e);var u={line:t.piece.start.line+1,column:0},l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,u,t.piece.end);t.piece=new Wo(t.piece.bufferIndex,u,t.piece.end,c,l),ac(this,t,-1,-1),t.piece.length===0&&r.push(t);var h=this.createNewPieces(`\r
`);this.rbInsertRight(e,h[0]);for(var d=0;d<r.length;d++)OE(this,r[d])},n.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var r=t.next();if(this.startWithLF(r)){if(e+=`
`,r.piece.length===1)OE(this,r);else{var i=r.piece,o={line:i.start.line+1,column:0},s=i.length-1,a=this.getLineFeedCnt(i.bufferIndex,o,i.end);r.piece=new Wo(i.bufferIndex,o,i.end,a,s),ac(this,r,-1,-1)}return!0}}return!1},n.prototype.iterate=function(e,t){if(e===Qe)return t(Qe);var r=this.iterate(e.left,t);return r&&t(e)&&this.iterate(e.right,t)},n.prototype.getNodeContent=function(e){if(e===Qe)return"";var t=this._buffers[e.piece.bufferIndex],r,i=e.piece,o=this.offsetInBuffer(i.bufferIndex,i.start),s=this.offsetInBuffer(i.bufferIndex,i.end);return r=t.buffer.substring(o,s),r},n.prototype.rbInsertRight=function(e,t){var r=new jM(t,1);r.left=Qe,r.right=Qe,r.parent=Qe,r.size_left=0,r.lf_left=0;var i=this.root;if(i===Qe)this.root=r,r.color=0;else if(e.right===Qe)e.right=r,r.parent=e;else{var o=X6(e.right);o.left=r,r.parent=o}return qq(this,r),r},n.prototype.rbInsertLeft=function(e,t){var r=new jM(t,1);if(r.left=Qe,r.right=Qe,r.parent=Qe,r.size_left=0,r.lf_left=0,this.root===Qe)this.root=r,r.color=0;else if(e.left===Qe)e.left=r,r.parent=e;else{var i=vte(e.left);i.right=r,r.parent=i}return qq(this,r),r},n.prototype.getContentOfSubTree=function(e){var t=this,r="";return this.iterate(e,function(i){return r+=t.getNodeContent(i),!0}),r},n}(),eNe=function(){function n(e,t,r,i,o,s){this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=i,this._pieceTree=new JLe(e,r,s)}return n.prototype.mightContainRTL=function(){return this._mightContainRTL},n.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},n.prototype.getBOM=function(){return this._BOM},n.prototype.getEOL=function(){return this._pieceTree.getEOL()},n.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},n.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},n.prototype.getRangeAt=function(e,t){var r=e+t,i=this.getPositionAt(e),o=this.getPositionAt(r);return new H(i.lineNumber,i.column,o.lineNumber,o.column)},n.prototype.getValueInRange=function(e,t){if(t===void 0&&(t=0),e.isEmpty())return"";var r=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,r)},n.prototype.getValueLengthInRange=function(e,t){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var r=this.getOffsetAt(e.startLineNumber,e.startColumn),i=this.getOffsetAt(e.endLineNumber,e.endColumn);return i-r},n.prototype.getLength=function(){return this._pieceTree.getLength()},n.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},n.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},n.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},n.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},n.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},n.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=Ns(this.getLineContent(e));return t===-1?0:t+1},n.prototype.getLineLastNonWhitespaceColumn=function(e){var t=Bh(this.getLineContent(e));return t===-1?0:t+2},n.prototype._getEndOfLine=function(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},n.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},n.prototype.applyEdits=function(e,t){for(var r=this._mightContainRTL,i=this._mightContainNonBasicASCII,o=!0,s=[],a=0;a<e.length;a++){var u=e[a];o&&u._isTracked&&(o=!1);var l=u.range;!r&&u.text&&(r=E6(u.text)),!i&&u.text&&(i=!yee(u.text)),s[a]={sortIndex:a,identifier:u.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),lines:u.text?u.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:!!u.forceMoveMarkers,isAutoWhitespaceEdit:u.isAutoWhitespaceEdit||!1}}s.sort(n._sortOpsAscending);for(var c=!1,a=0,h=s.length-1;a<h;a++){var d=s[a].range.getEndPosition(),p=s[a+1].range.getStartPosition();if(p.isBeforeOrEqual(d)){if(p.isBefore(d))throw new Error("Overlapping ranges are not allowed!");c=!0}}o&&(s=this._reduceOperations(s));for(var v=n._getInverseEditRanges(s),m=[],a=0;a<s.length;a++){var u=s[a],_=v[a];if(t&&u.isAutoWhitespaceEdit&&u.range.isEmpty())for(var b=_.startLineNumber;b<=_.endLineNumber;b++){var C="";b===_.startLineNumber&&(C=this.getLineContent(u.range.startLineNumber),Ns(C)!==-1)||m.push({lineNumber:b,oldContent:C})}}for(var E=[],a=0;a<s.length;a++){var u=s[a],_=v[a];E[a]={sortIndex:u.sortIndex,identifier:u.identifier,range:_,text:this.getValueInRange(u.range),forceMoveMarkers:u.forceMoveMarkers}}c||E.sort(function(F,L){return F.sortIndex-L.sortIndex}),this._mightContainRTL=r,this._mightContainNonBasicASCII=i;var S=this._doApplyEdits(s),A=null;if(t&&m.length>0){m.sort(function(F,L){return L.lineNumber-F.lineNumber}),A=[];for(var a=0,T=m.length;a<T;a++){var b=m[a].lineNumber;if(!(a>0&&m[a-1].lineNumber===b)){var N=m[a].oldContent,k=this.getLineContent(b);k.length===0||k===N||Ns(k)!==-1||A.push(b)}}}return new e2e(E,S,A)},n.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},n.prototype._toSingleEditOperation=function(e){for(var t=!1,r=e[0].range,i=e[e.length-1].range,o=new H(r.startLineNumber,r.startColumn,i.endLineNumber,i.endColumn),s=r.startLineNumber,a=r.startColumn,u=[],l=0,c=e.length;l<c;l++){var h=e[l],d=h.range;t=t||h.forceMoveMarkers;for(var p=s;p<d.startLineNumber;p++)p===s?u.push(this.getLineContent(p).substring(a-1)):(u.push(`
`),u.push(this.getLineContent(p)));if(d.startLineNumber===s?u.push(this.getLineContent(d.startLineNumber).substring(a-1,d.startColumn-1)):(u.push(`
`),u.push(this.getLineContent(d.startLineNumber).substring(0,d.startColumn-1))),h.lines)for(var v=0,m=h.lines.length;v<m;v++)v!==0&&u.push(`
`),u.push(h.lines[v]);s=h.range.endLineNumber,a=h.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),lines:u.join("").split(`
`),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},n.prototype._doApplyEdits=function(e){e.sort(n._sortOpsDescending);for(var t=[],r=0;r<e.length;r++){var i=e[r],o=i.range.startLineNumber,s=i.range.startColumn,a=i.range.endLineNumber,u=i.range.endColumn;if(!(o===a&&s===u&&(!i.lines||i.lines.length===0))){var l=a-o,c=i.lines?i.lines.length-1:0,h=Math.min(l,c),d=i.lines?i.lines.join(this.getEOL()):"";if(d?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,d,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength),h<c){for(var p=[],v=h+1;v<=c;v++)p.push(i.lines[v]);p[p.length-1]=this.getLineContent(o+c-1)}var m=new H(o,s,a,u);t.push({range:m,rangeLength:i.rangeLength,text:d,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}}return t},n.prototype.findMatchesLineByLine=function(e,t,r,i){return this._pieceTree.findMatchesLineByLine(e,t,r,i)},n._getInverseEditRanges=function(e){for(var t=[],r=0,i=0,o=null,s=0,a=e.length;s<a;s++){var u=e[s],l=void 0,c=void 0;o?o.range.endLineNumber===u.range.startLineNumber?(l=r,c=i+(u.range.startColumn-o.range.endColumn)):(l=r+(u.range.startLineNumber-o.range.endLineNumber),c=u.range.startColumn):(l=u.range.startLineNumber,c=u.range.startColumn);var h=void 0;if(u.lines&&u.lines.length>0){var d=u.lines.length,p=u.lines[0],v=u.lines[d-1];d===1?h=new H(l,c,l,c+p.length):h=new H(l,c,l+d-1,v.length+1)}else h=new H(l,c,l,c);r=h.endLineNumber,i=h.endColumn,t.push(h),o=u}return t},n._sortOpsAscending=function(e,t){var r=H.compareRangesUsingEnds(e.range,t.range);return r===0?e.sortIndex-t.sortIndex:r},n._sortOpsDescending=function(e,t){var r=H.compareRangesUsingEnds(e.range,t.range);return r===0?t.sortIndex-e.sortIndex:-r},n}(),tNe=function(){function n(e,t,r,i,o,s,a,u){this._chunks=e,this._bom=t,this._cr=r,this._lf=i,this._crlf=o,this._containsRTL=s,this._isBasicASCII=a,this._normalizeEOL=u}return n.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf,r=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:r>t/2?`\r
`:`
`},n.prototype.create=function(e){var t=this._getEOL(e),r=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(var i=0,o=r.length;i<o;i++){var s=r[i].buffer.replace(/\r\n|\r|\n/g,t),a=lc(s);r[i]=new Xd(s,a)}return new eNe(r,this._bom,t,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},n}(),nNe=function(){function n(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return n.prototype.acceptChunk=function(e){if(e.length!==0){this.chunks.length===0&&S6(e)&&(this.BOM=yAe,e=e.substr(1));var t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}},n.prototype._acceptChunk1=function(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))},n.prototype._acceptChunk2=function(e){var t=QLe(this._tmpLineStarts,e);this.chunks.push(new Xd(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=E6(e))},n.prototype.finish=function(e){return e===void 0&&(e=!0),this._finish(),new tNe(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,e)},n.prototype._finish=function(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);var t=lc(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}},n}(),rNe=function(){function n(){this.changeType=1}return n}(),iNe=function(){function n(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}return n}(),oNe=function(){function n(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}return n}(),sNe=function(){function n(e,t,r){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=r}return n}(),aNe=function(){function n(){this.changeType=5}return n}(),FS=function(){function n(e,t,r,i){this.changes=e,this.versionId=t,this.isUndoing=r,this.isRedoing=i}return n.prototype.containsEvent=function(e){for(var t=0,r=this.changes.length;t<r;t++){var i=this.changes[t];if(i.changeType===e)return!0}return!1},n.merge=function(e,t){var r=[].concat(e.changes).concat(t.changes),i=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new n(r,i,o,s)},n}(),uNe=function(){function n(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}return n.prototype.merge=function(e){var t=FS.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),r=n._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new n(t,r)},n._mergeChangeEvents=function(e,t){var r=[].concat(e.changes).concat(t.changes),i=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,u=e.isFlush||t.isFlush;return{changes:r,eol:i,versionId:o,isUndoing:s,isRedoing:a,isFlush:u}},n}();function _te(n){for(var e=0,t=0,r=0,i=n.length;r<i;r++){var o=n.charCodeAt(r);o===13?(e===0&&(t=r),e++,r+1<i&&n.charCodeAt(r+1)===10&&r++):o===10&&(e===0&&(t=r),e++)}return e===0&&(t=n.length),[e,t]}function Gq(n){return(n<<0|0|0|16384|2<<23)>>>0}var rc=new Uint32Array(0).buffer,ZO=function(){function n(){this.tokens=[]}return n.prototype.add=function(e,t){if(this.tokens.length>0){var r=this.tokens[this.tokens.length-1],i=r.startLineNumber+r.tokens.length-1;if(i+1===e){r.tokens.push(t);return}}this.tokens.push(new lNe(e,[t]))},n}(),lNe=function(){function n(e,t){this.startLineNumber=e,this.tokens=t}return n}();function Sd(n){return n instanceof Uint32Array?n:new Uint32Array(n)}var cNe=function(){function n(){this._lineTokens=[],this._len=0}return n.prototype.flush=function(){this._lineTokens=[],this._len=0},n.prototype.getTokens=function(e,t,r){var i=null;if(t<this._len&&(i=this._lineTokens[t]),i!==null&&i!==rc)return new bu(Sd(i),r);var o=new Uint32Array(2);return o[0]=r.length,o[1]=Gq(e),new bu(o,r)},n._massageTokens=function(e,t,r){var i=r?Sd(r):null;if(t===0){var o=!1;if(i&&i.length>1&&(o=gu.getLanguageId(i[1])!==e),!o)return rc}if(!i||i.length===0){var s=new Uint32Array(2);return s[0]=t,s[1]=Gq(e),s.buffer}return i[i.length-2]=t,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i},n.prototype._ensureLine=function(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++},n.prototype._deleteLines=function(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)},n.prototype._insertLines=function(e,t){if(t!==0){for(var r=[],i=0;i<t;i++)r[i]=null;this._lineTokens=LP(this._lineTokens,e,r),this._len+=t}},n.prototype.setTokens=function(e,t,r,i){var o=n._massageTokens(e,r,i);this._ensureLine(t),this._lineTokens[t]=o},n.prototype.acceptEdit=function(e,t,r){this._acceptDeleteRange(e),this._acceptInsertText(new ee(e.startLineNumber,e.startColumn),t,r)},n.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;if(!(t>=this._len)){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=n._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=n._deleteEnding(this._lineTokens[t],e.startColumn-1);var r=e.endLineNumber-1,i=null;r<this._len&&(i=n._deleteBeginning(this._lineTokens[r],e.endColumn-1)),this._lineTokens[t]=n._append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}},n.prototype._acceptInsertText=function(e,t,r){if(!(t===0&&r===0)){var i=e.lineNumber-1;if(!(i>=this._len)){if(t===0){this._lineTokens[i]=n._insert(this._lineTokens[i],e.column-1,r);return}this._lineTokens[i]=n._deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=n._insert(this._lineTokens[i],e.column-1,r),this._insertLines(e.lineNumber,t)}}},n._deleteBeginning=function(e,t){return e===null||e===rc?e:n._delete(e,0,t)},n._deleteEnding=function(e,t){if(e===null||e===rc)return e;var r=Sd(e),i=r[r.length-2];return n._delete(e,t,i)},n._delete=function(e,t,r){if(e===null||e===rc||t===r)return e;var i=Sd(e),o=i.length>>>1;if(t===0&&i[i.length-2]===r)return rc;var s=bu.findIndexInTokensArray(i,t),a=s>0?i[s-1<<1]:0,u=i[s<<1];if(r<u){for(var l=r-t,c=s;c<o;c++)i[c<<1]-=l;return e}var h,d;a!==t?(i[s<<1]=t,h=s+1<<1,d=t):(h=s<<1,d=a);for(var p=r-t,v=s+1;v<o;v++){var m=i[v<<1]-p;m>d&&(i[h++]=m,i[h++]=i[(v<<1)+1],d=m)}if(h===i.length)return e;var _=new Uint32Array(h);return _.set(i.subarray(0,h),0),_.buffer},n._append=function(e,t){if(t===rc)return e;if(e===rc)return t;if(e===null)return e;if(t===null)return null;var r=Sd(e),i=Sd(t),o=i.length>>>1,s=new Uint32Array(r.length+i.length);s.set(r,0);for(var a=r.length,u=r[r.length-2],l=0;l<o;l++)s[a++]=i[l<<1]+u,s[a++]=i[(l<<1)+1];return s.buffer},n._insert=function(e,t,r){if(e===null||e===rc)return e;var i=Sd(e),o=i.length>>>1,s=bu.findIndexInTokensArray(i,t);if(s>0){var a=i[s-1<<1];a===t&&s--}for(var u=s;u<o;u++)i[u<<1]+=r;return e},n}(),fNe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hNe=function(){function n(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}return n.prototype._reset=function(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)},n.prototype.flush=function(e){this._reset(e)},Object.defineProperty(n.prototype,"invalidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),n.prototype._invalidateLine=function(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)},n.prototype._isValid=function(e){return e<this._len?this._valid[e]:!1},n.prototype.getBeginState=function(e){return e<this._len?this._beginState[e]:null},n.prototype._ensureLine=function(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++},n.prototype._deleteLines=function(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)},n.prototype._insertLines=function(e,t){if(t!==0){for(var r=[],i=[],o=0;o<t;o++)r[o]=null,i[o]=!1;this._beginState=LP(this._beginState,e,r),this._valid=LP(this._valid,e,i),this._len+=t}},n.prototype._setValid=function(e,t){this._ensureLine(e),this._valid[e]=t},n.prototype._setBeginState=function(e,t){this._ensureLine(e),this._beginState[e]=t},n.prototype.setEndState=function(e,t,r){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t!==e-1){var i=this.getBeginState(t+1);if(i===null||!r.equals(i)){this._setBeginState(t+1,r),this._invalidateLine(t+1);return}for(var o=t+1;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}},n.prototype.setFakeTokens=function(e){this._setValid(e,!1)},n.prototype.applyEdits=function(e,t){for(var r=e.endLineNumber-e.startLineNumber,i=t,o=Math.min(r,i),s=o;s>=0;s--)this._invalidateLine(e.startLineNumber+s-1);this._acceptDeleteRange(e),this._acceptInsertText(new ee(e.startLineNumber,e.startColumn),t)},n.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;t>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)},n.prototype._acceptInsertText=function(e,t){var r=e.lineNumber-1;r>=this._len||this._insertLines(e.lineNumber,t)},n}(),dNe=function(n){fNe(e,n);function e(t){var r=n.call(this)||this;return r._textModel=t,r._tokenizationStateStore=new hNe,r._revalidateTokensTimeout=-1,r._tokenizationSupport=null,r._register(Vn.onDidChange(function(i){var o=r._textModel.getLanguageIdentifier();i.changedLanguages.indexOf(o.language)!==-1&&(r._resetTokenizationState(),r._textModel.clearTokens())})),r._register(r._textModel.onDidChangeRawContentFast(function(i){if(i.containsEvent(1)){r._resetTokenizationState();return}})),r._register(r._textModel.onDidChangeContentFast(function(i){for(var o=0,s=i.changes.length;o<s;o++){var a=i.changes[o],u=_te(a.text)[0];r._tokenizationStateStore.applyEdits(a.range,u)}r._beginBackgroundTokenization()})),r._register(r._textModel.onDidChangeAttached(function(){r._beginBackgroundTokenization()})),r._register(r._textModel.onDidChangeLanguage(function(){r._resetTokenizationState(),r._textModel.clearTokens()})),r._resetTokenizationState(),r}return e.prototype.dispose=function(){this._clearTimers(),n.prototype.dispose.call(this)},e.prototype._clearTimers=function(){this._revalidateTokensTimeout!==-1&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},e.prototype._resetTokenizationState=function(){this._clearTimers();var t=pNe(this._textModel),r=t[0],i=t[1];this._tokenizationSupport=r,this._tokenizationStateStore.flush(i),this._beginBackgroundTokenization()},e.prototype._beginBackgroundTokenization=function(){var t=this;this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&this._revalidateTokensTimeout===-1&&(this._revalidateTokensTimeout=setTimeout(function(){t._revalidateTokensTimeout=-1,t._revalidateTokensNow()},0))},e.prototype._revalidateTokensNow=function(t){t===void 0&&(t=this._textModel.getLineCount());for(var r=20,i=new ZO,o=V6.create(!1);this._hasLinesToTokenize()&&!(o.elapsed()>r);){var s=this._tokenizeOneInvalidLine(i);if(s>=t)break}this._beginBackgroundTokenization(),this._textModel.setTokens(i.tokens)},e.prototype.tokenizeViewport=function(t,r){var i=new ZO;this._tokenizeViewport(i,t,r),this._textModel.setTokens(i.tokens)},e.prototype.reset=function(){this._resetTokenizationState(),this._textModel.clearTokens()},e.prototype.forceTokenization=function(t){var r=new ZO;this._updateTokensUntilLine(r,t),this._textModel.setTokens(r.tokens)},e.prototype.isCheapToTokenize=function(t){if(!this._tokenizationSupport)return!0;var r=this._tokenizationStateStore.invalidLineStartIndex+1;return t>r?!1:t<r||this._textModel.getLineLength(t)<2048},e.prototype._hasLinesToTokenize=function(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1},e.prototype._tokenizeOneInvalidLine=function(t){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;var r=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(t,r),r},e.prototype._updateTokensUntilLine=function(t,r){if(this._tokenizationSupport)for(var i=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),s=r-1,a=this._tokenizationStateStore.invalidLineStartIndex;a<=s;a++){var u=this._textModel.getLineContent(a+1),l=this._tokenizationStateStore.getBeginState(a),c=JO(i,this._tokenizationSupport,u,l);t.add(a+1,c.tokens),this._tokenizationStateStore.setEndState(o,a,c.endState),a=this._tokenizationStateStore.invalidLineStartIndex-1}},e.prototype._tokenizeViewport=function(t,r,i){if(this._tokenizationSupport&&!(i<=this._tokenizationStateStore.invalidLineStartIndex)){if(r<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(t,i);return}for(var o=this._textModel.getLineFirstNonWhitespaceColumn(r),s=[],a=null,u=r-1;o>0&&u>=1;u--){var l=this._textModel.getLineFirstNonWhitespaceColumn(u);if(l!==0&&l<o){if(a=this._tokenizationStateStore.getBeginState(u-1),a)break;s.push(this._textModel.getLineContent(u)),o=l}}a||(a=this._tokenizationSupport.getInitialState());for(var c=this._textModel.getLanguageIdentifier(),h=a,u=s.length-1;u>=0;u--){var d=JO(c,this._tokenizationSupport,s[u],h);h=d.endState}for(var p=r;p<=i;p++){var v=this._textModel.getLineContent(p),d=JO(c,this._tokenizationSupport,v,h);t.add(p,d.tokens),this._tokenizationStateStore.setFakeTokens(p-1),h=d.endState}}},e}(he);function pNe(n){var e=n.getLanguageIdentifier(),t=n.isTooLargeForTokenization()?null:Vn.get(e.language),r=null;if(t)try{r=t.getInitialState()}catch(i){He(i),t=null}return[t,r]}function JO(n,e,t,r){var i=null;if(e)try{i=e.tokenize2(t,r.clone(),0)}catch(o){He(o)}return i||(i=M6(n.id,t,r,0)),bu.convertToEndOffset(i.tokens,t.length),i}function lh(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}var yn=function(){function n(e,t,r,i){i===void 0&&(i=1),this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,r))|0,this.a=lh(Math.max(Math.min(1,i),0),3)}return n.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},n}(),pv=function(){function n(e,t,r,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=lh(Math.max(Math.min(1,t),0),3),this.l=lh(Math.max(Math.min(1,r),0),3),this.a=lh(Math.max(Math.min(1,i),0),3)}return n.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a},n.fromRGBA=function(e){var t=e.r/255,r=e.g/255,i=e.b/255,o=e.a,s=Math.max(t,r,i),a=Math.min(t,r,i),u=0,l=0,c=(a+s)/2,h=s-a;if(h>0){switch(l=Math.min(c<=.5?h/(2*c):h/(2-2*c),1),s){case t:u=(r-i)/h+(r<i?6:0);break;case r:u=(i-t)/h+2;break;case i:u=(t-r)/h+4;break}u*=60,u=Math.round(u)}return new n(u,l,c,o)},n._hue2rgb=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e},n.toRGBA=function(e){var t=e.h/360,r=e.s,i=e.l,o=e.a,s,a,u;if(r===0)s=a=u=i;else{var l=i<.5?i*(1+r):i+r-i*r,c=2*i-l;s=n._hue2rgb(c,l,t+1/3),a=n._hue2rgb(c,l,t),u=n._hue2rgb(c,l,t-1/3)}return new yn(Math.round(s*255),Math.round(a*255),Math.round(u*255),o)},n}(),Gf=function(){function n(e,t,r,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=lh(Math.max(Math.min(1,t),0),3),this.v=lh(Math.max(Math.min(1,r),0),3),this.a=lh(Math.max(Math.min(1,i),0),3)}return n.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a},n.fromRGBA=function(e){var t=e.r/255,r=e.g/255,i=e.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=o-s,u=o===0?0:a/o,l;return a===0?l=0:o===t?l=((r-i)/a%6+6)%6:o===r?l=(i-t)/a+2:l=(t-r)/a+4,new n(Math.round(l*60),u,o,e.a)},n.toRGBA=function(e){var t=e.h,r=e.s,i=e.v,o=e.a,s=i*r,a=s*(1-Math.abs(t/60%2-1)),u=i-s,l=[0,0,0],c=l[0],h=l[1],d=l[2];return t<60?(c=s,h=a):t<120?(c=a,h=s):t<180?(h=s,d=a):t<240?(h=a,d=s):t<300?(c=a,d=s):t<360&&(c=s,d=a),c=Math.round((c+u)*255),h=Math.round((h+u)*255),d=Math.round((d+u)*255),new yn(c,h,d,o)},n}(),ae=function(){function n(e){if(e)if(e instanceof yn)this.rgba=e;else if(e instanceof pv)this._hsla=e,this.rgba=pv.toRGBA(e);else if(e instanceof Gf)this._hsva=e,this.rgba=Gf.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}return n.fromHex=function(e){return n.Format.CSS.parseHex(e)||n.red},Object.defineProperty(n.prototype,"hsla",{get:function(){return this._hsla?this._hsla:pv.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hsva",{get:function(){return this._hsva?this._hsva:Gf.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),n.prototype.equals=function(e){return!!e&&yn.equals(this.rgba,e.rgba)&&pv.equals(this.hsla,e.hsla)&&Gf.equals(this.hsva,e.hsva)},n.prototype.getRelativeLuminance=function(){var e=n._relativeLuminanceForComponent(this.rgba.r),t=n._relativeLuminanceForComponent(this.rgba.g),r=n._relativeLuminanceForComponent(this.rgba.b),i=.2126*e+.7152*t+.0722*r;return lh(i,4)},n._relativeLuminanceForComponent=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},n.prototype.isLighter=function(){var e=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return e>=128},n.prototype.isLighterThan=function(e){var t=this.getRelativeLuminance(),r=e.getRelativeLuminance();return t>r},n.prototype.isDarkerThan=function(e){var t=this.getRelativeLuminance(),r=e.getRelativeLuminance();return t<r},n.prototype.lighten=function(e){return new n(new pv(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))},n.prototype.darken=function(e){return new n(new pv(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))},n.prototype.transparent=function(e){var t=this.rgba,r=t.r,i=t.g,o=t.b,s=t.a;return new n(new yn(r,i,o,s*e))},n.prototype.isTransparent=function(){return this.rgba.a===0},n.prototype.isOpaque=function(){return this.rgba.a===1},n.prototype.opposite=function(){return new n(new yn(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},n.prototype.toString=function(){return""+n.Format.CSS.format(this)},n.getLighterColor=function(e,t,r){if(e.isLighterThan(t))return e;r=r||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return r=r*(o-i)/o,e.lighten(r)},n.getDarkerColor=function(e,t,r){if(e.isDarkerThan(t))return e;r=r||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return r=r*(i-o)/i,e.darken(r)},n.white=new n(new yn(255,255,255,1)),n.black=new n(new yn(0,0,0,1)),n.red=new n(new yn(255,0,0,1)),n.blue=new n(new yn(0,0,255,1)),n.cyan=new n(new yn(0,255,255,1)),n.lightgrey=new n(new yn(211,211,211,1)),n.transparent=new n(new yn(0,0,0,0)),n}();(function(n){(function(e){(function(t){function r(p){return p.rgba.a===1?"rgb("+p.rgba.r+", "+p.rgba.g+", "+p.rgba.b+")":n.Format.CSS.formatRGBA(p)}t.formatRGB=r;function i(p){return"rgba("+p.rgba.r+", "+p.rgba.g+", "+p.rgba.b+", "+ +p.rgba.a.toFixed(2)+")"}t.formatRGBA=i;function o(p){return p.hsla.a===1?"hsl("+p.hsla.h+", "+(p.hsla.s*100).toFixed(2)+"%, "+(p.hsla.l*100).toFixed(2)+"%)":n.Format.CSS.formatHSLA(p)}t.formatHSL=o;function s(p){return"hsla("+p.hsla.h+", "+(p.hsla.s*100).toFixed(2)+"%, "+(p.hsla.l*100).toFixed(2)+"%, "+p.hsla.a.toFixed(2)+")"}t.formatHSLA=s;function a(p){var v=p.toString(16);return v.length!==2?"0"+v:v}function u(p){return"#"+a(p.rgba.r)+a(p.rgba.g)+a(p.rgba.b)}t.formatHex=u;function l(p,v){return v===void 0&&(v=!1),v&&p.rgba.a===1?n.Format.CSS.formatHex(p):"#"+a(p.rgba.r)+a(p.rgba.g)+a(p.rgba.b)+a(Math.round(p.rgba.a*255))}t.formatHexA=l;function c(p){return p?p.isOpaque()?n.Format.CSS.formatHex(p):n.Format.CSS.formatRGBA(p):null}t.format=c;function h(p){if(!p)return null;var v=p.length;if(v===0||p.charCodeAt(0)!==35)return null;if(v===7){var m=16*d(p.charCodeAt(1))+d(p.charCodeAt(2)),_=16*d(p.charCodeAt(3))+d(p.charCodeAt(4)),b=16*d(p.charCodeAt(5))+d(p.charCodeAt(6));return new n(new yn(m,_,b,1))}if(v===9){var m=16*d(p.charCodeAt(1))+d(p.charCodeAt(2)),_=16*d(p.charCodeAt(3))+d(p.charCodeAt(4)),b=16*d(p.charCodeAt(5))+d(p.charCodeAt(6)),C=16*d(p.charCodeAt(7))+d(p.charCodeAt(8));return new n(new yn(m,_,b,C/255))}if(v===4){var m=d(p.charCodeAt(1)),_=d(p.charCodeAt(2)),b=d(p.charCodeAt(3));return new n(new yn(16*m+m,16*_+_,16*b+b))}if(v===5){var m=d(p.charCodeAt(1)),_=d(p.charCodeAt(2)),b=d(p.charCodeAt(3)),C=d(p.charCodeAt(4));return new n(new yn(16*m+m,16*_+_,16*b+b,(16*C+C)/255))}return null}t.parseHex=h;function d(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(ae||(ae={}));var _C=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function gNe(){return new nNe}function vNe(n){var e=gNe();return e.acceptChunk(n),e.finish()}function $q(n,e){var t=typeof n=="string"?vNe(n):n;return t.create(e)}var RE=0,mNe=999,_Ne=1e4,sy=function(){throw new Error("Invalid change accessor")},H_=function(n){_C(e,n);function e(t,r,i,o){o===void 0&&(o=null);var s=n.call(this)||this;s._onWillDispose=s._register(new Q),s.onWillDispose=s._onWillDispose.event,s._onDidChangeDecorations=s._register(new CNe),s.onDidChangeDecorations=s._onDidChangeDecorations.event,s._onDidChangeLanguage=s._register(new Q),s.onDidChangeLanguage=s._onDidChangeLanguage.event,s._onDidChangeLanguageConfiguration=s._register(new Q),s.onDidChangeLanguageConfiguration=s._onDidChangeLanguageConfiguration.event,s._onDidChangeTokens=s._register(new Q),s.onDidChangeTokens=s._onDidChangeTokens.event,s._onDidChangeOptions=s._register(new Q),s.onDidChangeOptions=s._onDidChangeOptions.event,s._onDidChangeAttached=s._register(new Q),s.onDidChangeAttached=s._onDidChangeAttached.event,s._eventEmitter=s._register(new wNe),RE++,s.id="$model"+RE,s.isForSimpleWidget=r.isForSimpleWidget,typeof o>"u"||o===null?s._associatedResource=Ft.parse("inmemory://model/"+RE):s._associatedResource=o,s._attachedEditorCount=0,s._buffer=$q(t,r.defaultEOL),s._options=e.resolveOptions(s._buffer,r);var a=s._buffer.getLineCount(),u=s._buffer.getValueLengthInRange(new H(1,1,a,s._buffer.getLineLength(a)+1),0);return r.largeFileOptimizations?s._isTooLargeForTokenization=u>e.LARGE_FILE_SIZE_THRESHOLD||a>e.LARGE_FILE_LINE_COUNT_THRESHOLD:s._isTooLargeForTokenization=!1,s._isTooLargeForSyncing=u>e.MODEL_SYNC_LIMIT,s._versionId=1,s._alternativeVersionId=1,s._isDisposed=!1,s._isDisposing=!1,s._languageIdentifier=i||jT,s._languageRegistryListener=Ot.onDidChange(function(l){l.languageIdentifier.id===s._languageIdentifier.id&&s._onDidChangeLanguageConfiguration.fire({})}),s._instanceId=Cee(RE),s._lastDecorationId=0,s._decorations=Object.create(null),s._decorationsTree=new Kq,s._commandManager=new Pq(s),s._isUndoing=!1,s._isRedoing=!1,s._trimAutoWhitespaceLines=null,s._tokens=new cNe,s._tokenization=new dNe(s),s}return e.createFromString=function(t,r,i,o){return r===void 0&&(r=e.DEFAULT_CREATION_OPTIONS),i===void 0&&(i=null),o===void 0&&(o=null),new e(t,r,i,o)},e.resolveOptions=function(t,r){if(r.detectIndentation){var i=Mq(t,r.tabSize,r.insertSpaces);return new NS({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:r.trimAutoWhitespace,defaultEOL:r.defaultEOL})}return new NS({tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,trimAutoWhitespace:r.trimAutoWhitespace,defaultEOL:r.defaultEOL})},e.prototype.onDidChangeRawContentFast=function(t){return this._eventEmitter.fastEvent(function(r){return t(r.rawContentChangedEvent)})},e.prototype.onDidChangeRawContent=function(t){return this._eventEmitter.slowEvent(function(r){return t(r.rawContentChangedEvent)})},e.prototype.onDidChangeContentFast=function(t){return this._eventEmitter.fastEvent(function(r){return t(r.contentChangedEvent)})},e.prototype.onDidChangeContent=function(t){return this._eventEmitter.slowEvent(function(r){return t(r.contentChangedEvent)})},e.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,n.prototype.dispose.call(this),this._isDisposing=!1},e.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},e.prototype._emitContentChangedEvent=function(t,r){this._isDisposing||this._eventEmitter.fire(new uNe(t,r))},e.prototype.setValue=function(t){if(this._assertNotDisposed(),t!==null){var r=$q(t,this._options.defaultEOL);this.setValueFromTextBuffer(r)}},e.prototype._createContentChanged2=function(t,r,i,o,s,a,u){return{changes:[{range:t,rangeOffset:r,rangeLength:i,text:o}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:s,isRedoing:a,isFlush:u}},e.prototype.setValueFromTextBuffer=function(t){if(this._assertNotDisposed(),t!==null){var r=this.getFullModelRange(),i=this.getValueLengthInRange(r),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=t,this._increaseVersionId(),this._tokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new Kq,this._commandManager=new Pq(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new FS([new rNe],this._versionId,!1,!1),this._createContentChanged2(new H(1,1,o,s),0,i,this.getValue(),!1,!1,!0))}},e.prototype.setEOL=function(t){this._assertNotDisposed();var r=t===1?`\r
`:`
`;if(this._buffer.getEOL()!==r){var i=this.getFullModelRange(),o=this.getValueLengthInRange(i),s=this.getLineCount(),a=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(r),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new FS([new aNe],this._versionId,!1,!1),this._createContentChanged2(new H(1,1,s,a),0,o,this.getValue(),!1,!1,!1))}},e.prototype._onBeforeEOLChange=function(){var t=this.getVersionId(),r=this._decorationsTree.search(0,!1,!1,t);this._ensureNodesHaveRanges(r)},e.prototype._onAfterEOLChange=function(){for(var t=this.getVersionId(),r=this._decorationsTree.collectNodesPostOrder(),i=0,o=r.length;i<o;i++){var s=r[i],a=s.cachedAbsoluteStart-s.start,u=this._buffer.getOffsetAt(s.range.startLineNumber,s.range.startColumn),l=this._buffer.getOffsetAt(s.range.endLineNumber,s.range.endColumn);s.cachedAbsoluteStart=u,s.cachedAbsoluteEnd=l,s.cachedVersionId=t,s.start=u-a,s.end=l-a,Dh(s)}},e.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)},e.prototype.onBeforeDetached=function(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)},e.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},e.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},e.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},e.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var t=0,r=0,i=this._buffer.getLineCount(),o=1;o<=i;o++){var s=this._buffer.getLineLength(o);s>=_Ne?r+=s:t+=s}return r>t},Object.defineProperty(e.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),e.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},e.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}},e.prototype.updateOptions=function(t){this._assertNotDisposed();var r=typeof t.tabSize<"u"?t.tabSize:this._options.tabSize,i=typeof t.indentSize<"u"?t.indentSize:this._options.indentSize,o=typeof t.insertSpaces<"u"?t.insertSpaces:this._options.insertSpaces,s=typeof t.trimAutoWhitespace<"u"?t.trimAutoWhitespace:this._options.trimAutoWhitespace,a=new NS({tabSize:r,indentSize:i,insertSpaces:o,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s});if(!this._options.equals(a)){var u=this._options.createChangeEvent(a);this._options=a,this._onDidChangeOptions.fire(u)}},e.prototype.detectIndentation=function(t,r){this._assertNotDisposed();var i=Mq(this._buffer,r,t);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})},e._normalizeIndentationFromWhitespace=function(t,r,i){for(var o=0,s=0;s<t.length;s++)t.charAt(s)==="	"?o+=r:o++;var a="";if(!i){var u=Math.floor(o/r);o=o%r;for(var s=0;s<u;s++)a+="	"}for(var s=0;s<o;s++)a+=" ";return a},e.normalizeIndentation=function(t,r,i){var o=Ns(t);return o===-1&&(o=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,o),r,i)+t.substring(o)},e.prototype.normalizeIndentation=function(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.indentSize,this._options.insertSpaces)},e.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},e.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},e.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},e.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},e.prototype.getOffsetAt=function(t){this._assertNotDisposed();var r=this._validatePosition(t.lineNumber,t.column,!1);return this._buffer.getOffsetAt(r.lineNumber,r.column)},e.prototype.getPositionAt=function(t){this._assertNotDisposed();var r=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(r)},e.prototype._increaseVersionId=function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId},e.prototype._overwriteAlternativeVersionId=function(t){this._alternativeVersionId=t},e.prototype.getValue=function(t,r){r===void 0&&(r=!1),this._assertNotDisposed();var i=this.getFullModelRange(),o=this.getValueInRange(i,t);return r?this._buffer.getBOM()+o:o},e.prototype.getValueLength=function(t,r){r===void 0&&(r=!1),this._assertNotDisposed();var i=this.getFullModelRange(),o=this.getValueLengthInRange(i,t);return r?this._buffer.getBOM().length+o:o},e.prototype.getValueInRange=function(t,r){return r===void 0&&(r=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),r)},e.prototype.getValueLengthInRange=function(t,r){return r===void 0&&(r=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),r)},e.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},e.prototype.getLineContent=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(t)},e.prototype.getLineLength=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)},e.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},e.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},e.prototype.getLineMinColumn=function(t){return this._assertNotDisposed(),1},e.prototype.getLineMaxColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1},e.prototype.getLineFirstNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)},e.prototype.getLineLastNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)},e.prototype._validateRangeRelaxedNoAllocations=function(t){var r=this._buffer.getLineCount(),i=t.startLineNumber,o=t.startColumn,s,a;if(i<1)s=1,a=1;else if(i>r)s=r,a=this.getLineMaxColumn(s);else if(s=i|0,o<=1)a=1;else{var u=this.getLineMaxColumn(s);o>=u?a=u:a=o|0}var l=t.endLineNumber,c=t.endColumn,h,d;if(l<1)h=1,d=1;else if(l>r)h=r,d=this.getLineMaxColumn(h);else if(h=l|0,c<=1)d=1;else{var u=this.getLineMaxColumn(h);c>=u?d=u:d=c|0}return i===s&&o===a&&l===h&&c===d&&t instanceof H&&!(t instanceof Re)?t:new H(s,a,h,d)},e.prototype._isValidPosition=function(t,r,i){if(typeof t!="number"||typeof r!="number"||isNaN(t)||isNaN(r)||t<1||r<1||(t|0)!==t||(r|0)!==r)return!1;var o=this._buffer.getLineCount();if(t>o)return!1;var s=this.getLineMaxColumn(t);if(r>s)return!1;if(i&&r>1){var a=this._buffer.getLineCharCode(t,r-2);if(ts(a))return!1}return!0},e.prototype._validatePosition=function(t,r,i){var o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=Math.floor(typeof r=="number"&&!isNaN(r)?r:1),a=this._buffer.getLineCount();if(o<1)return new ee(1,1);if(o>a)return new ee(a,this.getLineMaxColumn(a));if(s<=1)return new ee(o,1);var u=this.getLineMaxColumn(o);if(s>=u)return new ee(o,u);if(i){var l=this._buffer.getLineCharCode(o,s-2);if(ts(l))return new ee(o,s-1)}return new ee(o,s)},e.prototype.validatePosition=function(t){return this._assertNotDisposed(),t instanceof ee&&this._isValidPosition(t.lineNumber,t.column,!0)?t:this._validatePosition(t.lineNumber,t.column,!0)},e.prototype._isValidRange=function(t,r){var i=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn;if(!this._isValidPosition(i,o,!1)||!this._isValidPosition(s,a,!1))return!1;if(r){var u=o>1?this._buffer.getLineCharCode(i,o-2):0,l=a>1&&a<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,a-2):0,c=ts(u),h=ts(l);return!c&&!h}return!0},e.prototype.validateRange=function(t){if(this._assertNotDisposed(),t instanceof H&&!(t instanceof Re)&&this._isValidRange(t,!0))return t;var r=this._validatePosition(t.startLineNumber,t.startColumn,!1),i=this._validatePosition(t.endLineNumber,t.endColumn,!1),o=r.lineNumber,s=r.column,a=i.lineNumber,u=i.column,l=s>1?this._buffer.getLineCharCode(o,s-2):0,c=u>1&&u<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,u-2):0,h=ts(l),d=ts(c);return!h&&!d?new H(o,s,a,u):o===a&&s===u?new H(o,s-1,a,u-1):h&&d?new H(o,s-1,a,u+1):h?new H(o,s-1,a,u):new H(o,s,a,u+1)},e.prototype.modifyPosition=function(t,r){this._assertNotDisposed();var i=this.getOffsetAt(t)+r;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))},e.prototype.getFullModelRange=function(){this._assertNotDisposed();var t=this.getLineCount();return new H(1,1,t,this.getLineMaxColumn(t))},e.prototype.findMatchesLineByLine=function(t,r,i,o){return this._buffer.findMatchesLineByLine(t,r,i,o)},e.prototype.findMatches=function(t,r,i,o,s,a,u){u===void 0&&(u=mNe),this._assertNotDisposed();var l;if(H.isIRange(r)?l=this.validateRange(r):l=this.getFullModelRange(),!i&&t.indexOf(`
`)<0){var c=new qd(t,i,o,s),h=c.parseSearchRequest();return h?this.findMatchesLineByLine(l,h,a,u):[]}return kE.findMatches(this,new qd(t,i,o,s),l,a,u)},e.prototype.findNextMatch=function(t,r,i,o,s,a){this._assertNotDisposed();var u=this.validatePosition(r);if(!i&&t.indexOf(`
`)<0){var l=new qd(t,i,o,s),c=l.parseSearchRequest();if(!c)return null;var h=this.getLineCount(),d=new H(u.lineNumber,u.column,h,this.getLineMaxColumn(h)),p=this.findMatchesLineByLine(d,c,a,1);return kE.findNextMatch(this,new qd(t,i,o,s),u,a),p.length>0||(d=new H(1,1,u.lineNumber,this.getLineMaxColumn(u.lineNumber)),p=this.findMatchesLineByLine(d,c,a,1),p.length>0)?p[0]:null}return kE.findNextMatch(this,new qd(t,i,o,s),u,a)},e.prototype.findPreviousMatch=function(t,r,i,o,s,a){this._assertNotDisposed();var u=this.validatePosition(r);return kE.findPreviousMatch(this,new qd(t,i,o,s),u,a)},e.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},e.prototype.pushEOL=function(t){var r=this.getEOL()===`
`?0:1;if(r!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype.pushEditOperations=function(t,r,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,r,i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._pushEditOperations=function(t,r,i){var o=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var s=r.map(function(A){return{range:o.validateRange(A.range),text:A.text}}),a=!0,u=0,l=t.length;u<l;u++){for(var c=t[u],h=!1,d=0,p=s.length;d<p;d++){var v=s[d].range,m=v.startLineNumber>c.endLineNumber,_=c.startLineNumber>v.endLineNumber;if(!m&&!_){h=!0;break}}if(!h){a=!1;break}}if(a)for(var u=0,l=this._trimAutoWhitespaceLines.length;u<l;u++){for(var b=this._trimAutoWhitespaceLines[u],C=this.getLineMaxColumn(b),E=!0,d=0,p=s.length;d<p;d++){var v=s[d].range,S=s[d].text;if(!(b<v.startLineNumber||b>v.endLineNumber)&&!(b===v.startLineNumber&&v.startColumn===C&&v.isEmpty()&&S&&S.length>0&&S.charAt(0)===`
`)&&!(b===v.startLineNumber&&v.startColumn===1&&v.isEmpty()&&S&&S.length>0&&S.charAt(S.length-1)===`
`)){E=!1;break}}E&&r.push({range:new H(b,1,b,C),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(t,r,i)},e.prototype.applyEdits=function(t){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._applyEdits=function(t){for(var r=0,i=t.length;r<i;r++)t[r].range=this.validateRange(t[r].range);var o=this._buffer.getLineCount(),s=this._buffer.applyEdits(t,this._options.trimAutoWhitespace),a=this._buffer.getLineCount(),u=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,u.length!==0){for(var l=[],c=o,r=0,i=u.length;r<i;r++){var h=u[r],d=_te(h.text),p=d[0],v=d[1];this._tokens.acceptEdit(h.range,p,v),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(h.rangeOffset,h.rangeLength,h.text.length,h.forceMoveMarkers);for(var m=h.range.startLineNumber,_=h.range.endLineNumber,b=_-m,C=p,E=Math.min(b,C),S=C-b,A=E;A>=0;A--){var T=m+A,N=a-c-S+T;l.push(new iNe(T,this.getLineContent(N)))}if(E<b){var k=m+E;l.push(new oNe(k+1,_))}if(E<C){for(var F=m+E,L=C-E,O=a-c-L+F+1,P=[],B=0;B<L;B++){var U=O+B;P[U-O]=this.getLineContent(U)}l.push(new sNe(F+1,m+C,P))}c+=S}this._increaseVersionId(),this._emitContentChangedEvent(new FS(l,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:u,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return s.reverseEdits},e.prototype._undo=function(){this._isUndoing=!0;var t=this._commandManager.undo();return this._isUndoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},e.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype.canUndo=function(){return this._commandManager.canUndo()},e.prototype._redo=function(){this._isRedoing=!0;var t=this._commandManager.redo();return this._isRedoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},e.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},e.prototype.canRedo=function(){return this._commandManager.canRedo()},e.prototype.changeDecorations=function(t,r){r===void 0&&(r=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(r,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._changeDecorations=function(t,r){var i=this,o={addDecoration:function(a,u){return i._onDidChangeDecorations.fire(),i._deltaDecorationsImpl(t,[],[{range:a,options:u}])[0]},changeDecoration:function(a,u){i._onDidChangeDecorations.fire(),i._changeDecorationImpl(a,u)},changeDecorationOptions:function(a,u){i._onDidChangeDecorations.fire(),i._changeDecorationOptionsImpl(a,Xq(u))},removeDecoration:function(a){i._onDidChangeDecorations.fire(),i._deltaDecorationsImpl(t,[a],[])},deltaDecorations:function(a,u){return a.length===0&&u.length===0?[]:(i._onDidChangeDecorations.fire(),i._deltaDecorationsImpl(t,a,u))}},s=null;try{s=r(o)}catch(a){He(a)}return o.addDecoration=sy,o.changeDecoration=sy,o.changeDecorationOptions=sy,o.removeDecoration=sy,o.deltaDecorations=sy,s},e.prototype.deltaDecorations=function(t,r,i){if(i===void 0&&(i=0),this._assertNotDisposed(),t||(t=[]),t.length===0&&r.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(i,t,r)}finally{this._onDidChangeDecorations.endDeferredEmit()}},e.prototype._getTrackedRange=function(t){return this.getDecorationRange(t)},e.prototype._setTrackedRange=function(t,r,i){var o=t?this._decorations[t]:null;if(!o)return r?this._deltaDecorationsImpl(0,[],[{range:r,options:Yq[i]}])[0]:null;if(!r)return this._decorationsTree.delete(o),delete this._decorations[o.id],null;var s=this._validateRangeRelaxedNoAllocations(r),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),u=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(o),o.reset(this.getVersionId(),a,u,s),o.setOptions(Yq[i]),this._decorationsTree.insert(o),o.id},e.prototype.removeAllDecorationsWithOwnerId=function(t){if(!this._isDisposed)for(var r=this._decorationsTree.collectNodesFromOwner(t),i=0,o=r.length;i<o;i++){var s=r[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}},e.prototype.getDecorationOptions=function(t){var r=this._decorations[t];return r?r.options:null},e.prototype.getDecorationRange=function(t){var r=this._decorations[t];if(!r)return null;var i=this.getVersionId();return r.cachedVersionId!==i&&this._decorationsTree.resolveNode(r,i),r.range===null&&(r.range=this._getRangeAt(r.cachedAbsoluteStart,r.cachedAbsoluteEnd)),r.range},e.prototype.getLineDecorations=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=!1),t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,r,i)},e.prototype.getLinesDecorations=function(t,r,i,o){i===void 0&&(i=0),o===void 0&&(o=!1);var s=this.getLineCount(),a=Math.min(s,Math.max(1,t)),u=Math.min(s,Math.max(1,r)),l=this.getLineMaxColumn(u);return this._getDecorationsInRange(new H(a,1,u,l),i,o)},e.prototype.getDecorationsInRange=function(t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=this.validateRange(t);return this._getDecorationsInRange(o,r,i)},e.prototype.getOverviewRulerDecorations=function(t,r){t===void 0&&(t=0),r===void 0&&(r=!1);var i=this.getVersionId(),o=this._decorationsTree.search(t,r,!0,i);return this._ensureNodesHaveRanges(o)},e.prototype.getAllDecorations=function(t,r){t===void 0&&(t=0),r===void 0&&(r=!1);var i=this.getVersionId(),o=this._decorationsTree.search(t,r,!1,i);return this._ensureNodesHaveRanges(o)},e.prototype._getDecorationsInRange=function(t,r,i){var o=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),s=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn),a=this.getVersionId(),u=this._decorationsTree.intervalSearch(o,s,r,i,a);return this._ensureNodesHaveRanges(u)},e.prototype._ensureNodesHaveRanges=function(t){for(var r=0,i=t.length;r<i;r++){var o=t[r];o.range===null&&(o.range=this._getRangeAt(o.cachedAbsoluteStart,o.cachedAbsoluteEnd))}return t},e.prototype._getRangeAt=function(t,r){return this._buffer.getRangeAt(t,r-t)},e.prototype._changeDecorationImpl=function(t,r){var i=this._decorations[t];if(i){var o=this._validateRangeRelaxedNoAllocations(r),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,a,o),this._decorationsTree.insert(i)}},e.prototype._changeDecorationOptionsImpl=function(t,r){var i=this._decorations[t];if(i){var o=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(r.overviewRuler&&r.overviewRuler.color);o!==s?(this._decorationsTree.delete(i),i.setOptions(r),this._decorationsTree.insert(i)):i.setOptions(r)}},e.prototype._deltaDecorationsImpl=function(t,r,i){for(var o=this.getVersionId(),s=r.length,a=0,u=i.length,l=0,c=new Array(u);a<s||l<u;){var h=null;if(a<s){do h=this._decorations[r[a++]];while(!h&&a<s);h&&this._decorationsTree.delete(h)}if(l<u){if(!h){var d=++this._lastDecorationId,p=this._instanceId+";"+d;h=new pte(p,0,0),this._decorations[p]=h}var v=i[l],m=this._validateRangeRelaxedNoAllocations(v.range),_=Xq(v.options),b=this._buffer.getOffsetAt(m.startLineNumber,m.startColumn),C=this._buffer.getOffsetAt(m.endLineNumber,m.endColumn);h.ownerId=t,h.reset(o,b,C,m),h.setOptions(_),this._decorationsTree.insert(h),c[l]=h.id,l++}else h&&delete this._decorations[h.id]}return c},e.prototype.setLineTokens=function(t,r){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),r)},e.prototype.setTokens=function(t){if(t.length!==0){for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i];r.push({fromLineNumber:s.startLineNumber,toLineNumber:s.startLineNumber+s.tokens.length-1});for(var a=0,u=s.tokens.length;a<u;a++)this.setLineTokens(s.startLineNumber+a,s.tokens[a])}this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:r})}},e.prototype.tokenizeViewport=function(t,r){t=Math.max(1,t),r=Math.min(this._buffer.getLineCount(),r),this._tokenization.tokenizeViewport(t,r)},e.prototype.clearTokens=function(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})},e.prototype._emitModelTokensChangedEvent=function(t){this._isDisposing||this._onDidChangeTokens.fire(t)},e.prototype.resetTokenization=function(){this._tokenization.reset()},e.prototype.forceTokenization=function(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(t)},e.prototype.isCheapToTokenize=function(t){return this._tokenization.isCheapToTokenize(t)},e.prototype.tokenizeIfCheap=function(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)},e.prototype.getLineTokens=function(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(t)},e.prototype._getLineTokens=function(t){var r=this.getLineContent(t);return this._tokens.getTokens(this._languageIdentifier.id,t-1,r)},e.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},e.prototype.getModeId=function(){return this._languageIdentifier.language},e.prototype.setMode=function(t){if(this._languageIdentifier.id!==t.id){var r={oldLanguage:this._languageIdentifier.language,newLanguage:t.language};this._languageIdentifier=t,this._onDidChangeLanguage.fire(r),this._onDidChangeLanguageConfiguration.fire({})}},e.prototype.getLanguageIdAtPosition=function(t,r){var i=this.validatePosition(new ee(t,r)),o=this.getLineTokens(i.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(i.column-1))},e.prototype.getWordAtPosition=function(t){this._assertNotDisposed();var r=this.validatePosition(t),i=this.getLineContent(r.lineNumber),o=this._getLineTokens(r.lineNumber),s=o.findTokenIndexAtOffset(r.column-1),a=e._findLanguageBoundaries(o,s),u=a[0],l=a[1],c=RP(r.column,Ot.getWordDefinition(o.getLanguageId(s)),i.substring(u,l),u);if(c&&c.startColumn<=t.column&&t.column<=c.endColumn)return c;if(s>0&&u===r.column-1){var h=e._findLanguageBoundaries(o,s-1),d=h[0],p=h[1],v=RP(r.column,Ot.getWordDefinition(o.getLanguageId(s-1)),i.substring(d,p),d);if(v&&v.startColumn<=t.column&&t.column<=v.endColumn)return v}return null},e._findLanguageBoundaries=function(t,r){for(var i=t.getLanguageId(r),o=0,s=r;s>=0&&t.getLanguageId(s)===i;s--)o=t.getStartOffset(s);for(var a=t.getLineContent().length,s=r,u=t.getCount();s<u&&t.getLanguageId(s)===i;s++)a=t.getEndOffset(s);return[o,a]},e.prototype.getWordUntilPosition=function(t){var r=this.getWordAtPosition(t);return r?{word:r.word.substr(0,t.column-r.startColumn),startColumn:r.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}},e.prototype.findMatchingBracketUp=function(t,r){var i=t.toLowerCase(),o=this.validatePosition(r),s=this._getLineTokens(o.lineNumber),a=s.getLanguageId(s.findTokenIndexAtOffset(o.column-1)),u=Ot.getBracketsSupport(a);if(!u)return null;var l=u.textIsBracket[i];return l?this._findMatchingBracketUp(l,o):null},e.prototype.matchBracket=function(t){return this._matchBracket(this.validatePosition(t))},e.prototype._matchBracket=function(t){var r=t.lineNumber,i=this._getLineTokens(r),o=this._buffer.getLineContent(r),s=i.findTokenIndexAtOffset(t.column-1);if(s<0)return null;var a=Ot.getBracketsSupport(i.getLanguageId(s));if(a&&!Vd(i.getStandardTokenType(s))){for(var u=Math.max(i.getStartOffset(s),t.column-1-a.maxBracketLength),l=Math.min(i.getEndOffset(s),t.column-1+a.maxBracketLength),c=null;;){var h=Wd.findNextBracketInToken(a.forwardRegex,r,o,u,l);if(!h)break;if(h.startColumn<=t.column&&t.column<=h.endColumn){var d=o.substring(h.startColumn-1,h.endColumn-1);d=d.toLowerCase();var p=this._matchFoundBracket(h,a.textIsBracket[d],a.textIsOpenBracket[d]);p&&(c=p)}u=h.endColumn-1}if(c)return c}if(s>0&&i.getStartOffset(s)===t.column-1){var l=i.getStartOffset(s);s--;var v=Ot.getBracketsSupport(i.getLanguageId(s));if(v&&!Vd(i.getStandardTokenType(s))){var u=Math.max(i.getStartOffset(s),t.column-1-v.maxBracketLength),h=Wd.findPrevBracketInToken(v.reversedRegex,r,o,u,l);if(h&&h.startColumn<=t.column&&t.column<=h.endColumn){var d=o.substring(h.startColumn-1,h.endColumn-1);d=d.toLowerCase();var p=this._matchFoundBracket(h,v.textIsBracket[d],v.textIsOpenBracket[d]);if(p)return p}}}return null},e.prototype._matchFoundBracket=function(t,r,i){if(!r)return null;if(i){var o=this._findMatchingBracketDown(r,t.getEndPosition());if(o)return[t,o]}else{var o=this._findMatchingBracketUp(r,t.getStartPosition());if(o)return[t,o]}return null},e.prototype._findMatchingBracketUp=function(t,r){for(var i=t.languageIdentifier.id,o=t.reversedRegex,s=-1,a=r.lineNumber;a>=1;a--){var u=this._getLineTokens(a),l=u.getCount(),c=this._buffer.getLineContent(a),h=l-1,d=-1;for(a===r.lineNumber&&(h=u.findTokenIndexAtOffset(r.column-1),d=r.column-1);h>=0;h--){var p=u.getLanguageId(h),v=u.getStandardTokenType(h),m=u.getStartOffset(h),_=u.getEndOffset(h);if(d===-1&&(d=_),p===i&&!Vd(v))for(;;){var b=Wd.findPrevBracketInToken(o,a,c,m,d);if(!b)break;var C=c.substring(b.startColumn-1,b.endColumn-1);if(C=C.toLowerCase(),C===t.open?s++:C===t.close&&s--,s===0)return b;d=b.startColumn-1}d=-1}}return null},e.prototype._findMatchingBracketDown=function(t,r){for(var i=t.languageIdentifier.id,o=t.forwardRegex,s=1,a=r.lineNumber,u=this.getLineCount();a<=u;a++){var l=this._getLineTokens(a),c=l.getCount(),h=this._buffer.getLineContent(a),d=0,p=0;for(a===r.lineNumber&&(d=l.findTokenIndexAtOffset(r.column-1),p=r.column-1);d<c;d++){var v=l.getLanguageId(d),m=l.getStandardTokenType(d),_=l.getStartOffset(d),b=l.getEndOffset(d);if(p===0&&(p=_),v===i&&!Vd(m))for(;;){var C=Wd.findNextBracketInToken(o,a,h,p,b);if(!C)break;var E=h.substring(C.startColumn-1,C.endColumn-1);if(E=E.toLowerCase(),E===t.open?s++:E===t.close&&s--,s===0)return C;p=C.endColumn-1}p=0}}return null},e.prototype.findPrevBracket=function(t){for(var r=this.validatePosition(t),i=-1,o=null,s=r.lineNumber;s>=1;s--){var a=this._getLineTokens(s),u=a.getCount(),l=this._buffer.getLineContent(s),c=u-1,h=-1;for(s===r.lineNumber&&(c=a.findTokenIndexAtOffset(r.column-1),h=r.column-1);c>=0;c--){var d=a.getLanguageId(c),p=a.getStandardTokenType(c),v=a.getStartOffset(c),m=a.getEndOffset(c);if(h===-1&&(h=m),i!==d&&(i=d,o=Ot.getBracketsSupport(i)),o&&!Vd(p)){var _=Wd.findPrevBracketInToken(o.reversedRegex,s,l,v,h);if(_)return this._toFoundBracket(o,_)}h=-1}}return null},e.prototype.findNextBracket=function(t){for(var r=this.validatePosition(t),i=-1,o=null,s=r.lineNumber,a=this.getLineCount();s<=a;s++){var u=this._getLineTokens(s),l=u.getCount(),c=this._buffer.getLineContent(s),h=0,d=0;for(s===r.lineNumber&&(h=u.findTokenIndexAtOffset(r.column-1),d=r.column-1);h<l;h++){var p=u.getLanguageId(h),v=u.getStandardTokenType(h),m=u.getStartOffset(h),_=u.getEndOffset(h);if(d===0&&(d=m),i!==p&&(i=p,o=Ot.getBracketsSupport(i)),o&&!Vd(v)){var b=Wd.findNextBracketInToken(o.forwardRegex,s,c,d,_);if(b)return this._toFoundBracket(o,b)}d=0}}return null},e.prototype._toFoundBracket=function(t,r){if(!r)return null;var i=this.getValueInRange(r);i=i.toLowerCase();var o=t.textIsBracket[i];return o?{range:r,open:o.open,close:o.close,isOpen:t.textIsOpenBracket[i]}:null},e.computeIndentLevel=function(t,r){for(var i=0,o=0,s=t.length;o<s;){var a=t.charCodeAt(o);if(a===32)i++;else if(a===9)i=i-i%r+r;else break;o++}return o===s?-1:i},e.prototype._computeIndentLevel=function(t){return e.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)},e.prototype.getActiveIndentGuide=function(t,r,i){var o=this;this._assertNotDisposed();var s=this.getLineCount();if(t<1||t>s)throw new Error("Illegal value for lineNumber");for(var a=Ot.getFoldingRules(this._languageIdentifier.id),u=!!(a&&a.offSide),l=-2,c=-1,h=-2,d=-1,p=function(U){if(l!==-1&&(l===-2||l>U-1)){l=-1,c=-1;for(var $=U-2;$>=0;$--){var te=o._computeIndentLevel($);if(te>=0){l=$,c=te;break}}}if(h===-2){h=-1,d=-1;for(var $=U;$<s;$++){var ne=o._computeIndentLevel($);if(ne>=0){h=$,d=ne;break}}}},v=-2,m=-1,_=-2,b=-1,C=function(U){if(v===-2){v=-1,m=-1;for(var $=U-2;$>=0;$--){var te=o._computeIndentLevel($);if(te>=0){v=$,m=te;break}}}if(_!==-1&&(_===-2||_<U-1)){_=-1,b=-1;for(var $=U;$<s;$++){var ne=o._computeIndentLevel($);if(ne>=0){_=$,b=ne;break}}}},E=0,S=!0,A=0,T=!0,N=0,k=0;S||T;k++){var F=t-k,L=t+k;if(k!==0&&(F<1||F<r)&&(S=!1),k!==0&&(L>s||L>i)&&(T=!1),k>5e4&&(S=!1,T=!1),S){var O=void 0,P=this._computeIndentLevel(F-1);if(P>=0?(h=F-1,d=P,O=Math.ceil(P/this._options.indentSize)):(p(F),O=this._getIndentLevelForWhitespaceLine(u,c,d)),k===0){if(E=F,A=L,N=O,N===0)return{startLineNumber:E,endLineNumber:A,indent:N};continue}O>=N?E=F:S=!1}if(T){var B=void 0,P=this._computeIndentLevel(L-1);P>=0?(v=L-1,m=P,B=Math.ceil(P/this._options.indentSize)):(C(L),B=this._getIndentLevelForWhitespaceLine(u,m,b)),B>=N?A=L:T=!1}}return{startLineNumber:E,endLineNumber:A,indent:N}},e.prototype.getLinesIndentGuides=function(t,r){this._assertNotDisposed();var i=this.getLineCount();if(t<1||t>i)throw new Error("Illegal value for startLineNumber");if(r<1||r>i)throw new Error("Illegal value for endLineNumber");for(var o=Ot.getFoldingRules(this._languageIdentifier.id),s=!!(o&&o.offSide),a=new Array(r-t+1),u=-2,l=-1,c=-2,h=-1,d=t;d<=r;d++){var p=d-t,v=this._computeIndentLevel(d-1);if(v>=0){u=d-1,l=v,a[p]=Math.ceil(v/this._options.indentSize);continue}if(u===-2){u=-1,l=-1;for(var m=d-2;m>=0;m--){var _=this._computeIndentLevel(m);if(_>=0){u=m,l=_;break}}}if(c!==-1&&(c===-2||c<d-1)){c=-1,h=-1;for(var m=d;m<i;m++){var _=this._computeIndentLevel(m);if(_>=0){c=m,h=_;break}}}a[p]=this._getIndentLevelForWhitespaceLine(s,l,h)}return a},e.prototype._getIndentLevelForWhitespaceLine=function(t,r,i){return r===-1||i===-1?0:r<i?1+Math.floor(r/this._options.indentSize):r===i?Math.ceil(i/this._options.indentSize):t?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)},e.MODEL_SYNC_LIMIT=50*1024*1024,e.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,e.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,e.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:pu.tabSize,indentSize:pu.indentSize,insertSpaces:pu.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:pu.trimAutoWhitespace,largeFileOptimizations:pu.largeFileOptimizations},e}(he),Kq=function(){function n(){this._decorationsTree0=new Wq,this._decorationsTree1=new Wq}return n.prototype.intervalSearch=function(e,t,r,i,o){var s=this._decorationsTree0.intervalSearch(e,t,r,i,o),a=this._decorationsTree1.intervalSearch(e,t,r,i,o);return s.concat(a)},n.prototype.search=function(e,t,r,i){if(r)return this._decorationsTree1.search(e,t,i);var o=this._decorationsTree0.search(e,t,i),s=this._decorationsTree1.search(e,t,i);return o.concat(s)},n.prototype.collectNodesFromOwner=function(e){var t=this._decorationsTree0.collectNodesFromOwner(e),r=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(r)},n.prototype.collectNodesPostOrder=function(){var e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)},n.prototype.insert=function(e){YO(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)},n.prototype.delete=function(e){YO(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)},n.prototype.resolveNode=function(e,t){YO(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)},n.prototype.acceptReplace=function(e,t,r,i){this._decorationsTree0.acceptReplace(e,t,r,i),this._decorationsTree1.acceptReplace(e,t,r,i)},n}();function Td(n){return n.replace(/[^a-z0-9\-_]/gi," ")}var yte=function(){function n(e){this.color=e.color||Kb,this.darkColor=e.darkColor||Kb}return n}(),yNe=function(n){_C(e,n);function e(t){var r=n.call(this,t)||this;return r._resolvedColor=null,r.position=typeof t.position=="number"?t.position:da.Center,r}return e.prototype.getColor=function(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor},e.prototype.invalidateCachedColor=function(){this._resolvedColor=null},e.prototype._resolveColor=function(t,r){if(typeof t=="string")return t;var i=t?r.getColor(t.id):null;return i?i.toString():Kb},e}(yte),bNe=function(n){_C(e,n);function e(t){var r=n.call(this,t)||this;return r.position=t.position,r}return e.prototype.getColor=function(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor},e.prototype.invalidateCachedColor=function(){this._resolvedColor=void 0},e.prototype._resolveColor=function(t,r){return typeof t=="string"?ae.fromHex(t):r.getColor(t.id)},e}(yte),mt=function(){function n(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Td(e.className):null,this.hoverMessage=km(e.hoverMessage),this.glyphMarginHoverMessage=km(e.glyphMarginHoverMessage),this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new yNe(e.overviewRuler):null,this.minimap=e.minimap?new bNe(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Td(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Td(e.linesDecorationsClassName):null,this.marginClassName=e.marginClassName?Td(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Td(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Td(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Td(e.afterContentClassName):null}return n.register=function(e){return new n(e)},n.createDynamic=function(e){return new n(e)},n}();mt.EMPTY=mt.register({});var Yq=[mt.register({stickiness:0}),mt.register({stickiness:1}),mt.register({stickiness:2}),mt.register({stickiness:3})];function Xq(n){return n instanceof mt?n:mt.createDynamic(n)}var CNe=function(n){_C(e,n);function e(){var t=n.call(this)||this;return t._actual=t._register(new Q),t.event=t._actual.event,t._deferredCnt=0,t._shouldFire=!1,t}return e.prototype.beginDeferredEmit=function(){this._deferredCnt++},e.prototype.endDeferredEmit=function(){this._deferredCnt--,this._deferredCnt===0&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},e.prototype.fire=function(){this._shouldFire=!0},e}(he),wNe=function(n){_C(e,n);function e(){var t=n.call(this)||this;return t._fastEmitter=t._register(new Q),t.fastEvent=t._fastEmitter.event,t._slowEmitter=t._register(new Q),t.slowEvent=t._slowEmitter.event,t._deferredCnt=0,t._deferredEvent=null,t}return e.prototype.beginDeferredEmit=function(){this._deferredCnt++},e.prototype.endDeferredEmit=function(){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){var t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}},e.prototype.fire=function(t){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(t):this._deferredEvent=t;return}this._fastEmitter.fire(t),this._slowEmitter.fire(t)},e}(he),ENe=function(){return!0},Qq=function(){return!1},SNe=function(n){return n===" "||n==="	"};function Zq(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}var bte=function(){function n(e,t,r){this._languageIdentifier=e;var i=r.editor;this.readOnly=i.readOnly,this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.pageSize=Math.max(1,Math.floor(i.layoutInfo.height/i.fontInfo.lineHeight)-2),this.lineHeight=i.lineHeight,this.useTabStops=i.useTabStops,this.wordSeparators=i.wordSeparators,this.emptySelectionClipboard=i.emptySelectionClipboard,this.copyWithSyntaxHighlighting=i.copyWithSyntaxHighlighting,this.multiCursorMergeOverlapping=i.multiCursorMergeOverlapping,this.autoClosingBrackets=i.autoClosingBrackets,this.autoClosingQuotes=i.autoClosingQuotes,this.autoClosingOvertype=i.autoClosingOvertype,this.autoSurround=i.autoSurround,this.autoIndent=i.autoIndent,this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:n._getShouldAutoClose(e,this.autoClosingQuotes),bracket:n._getShouldAutoClose(e,this.autoClosingBrackets)};var o=n._getAutoClosingPairs(e);if(o)for(var s=0,a=o;s<a.length;s++){var u=a[s];Zq(this.autoClosingPairsOpen2,u.open.charAt(u.open.length-1),u),u.close.length===1&&Zq(this.autoClosingPairsClose2,u.close,u)}var l=n._getSurroundingPairs(e);if(l)for(var c=0,h=l;c<h.length;c++){var u=h[c];this.surroundingPairs[u.open]=u.close}}return n.shouldRecreate=function(e){return e.layoutInfo||e.wordSeparators||e.emptySelectionClipboard||e.multiCursorMergeOverlapping||e.autoClosingBrackets||e.autoClosingQuotes||e.autoClosingOvertype||e.autoSurround||e.useTabStops||e.lineHeight||e.readOnly},Object.defineProperty(n.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var e=n._getElectricCharacters(this._languageIdentifier);if(e)for(var t=0,r=e;t<r.length;t++){var i=r[t];this._electricChars[i]=!0}}return this._electricChars},enumerable:!0,configurable:!0}),n.prototype.normalizeIndentation=function(e){return H_.normalizeIndentation(e,this.indentSize,this.insertSpaces)},n._getElectricCharacters=function(e){try{return Ot.getElectricCharacters(e.id)}catch(t){return He(t),null}},n._getAutoClosingPairs=function(e){try{return Ot.getAutoClosingPairs(e.id)}catch(t){return He(t),null}},n._getShouldAutoClose=function(e,t){switch(t){case"beforeWhitespace":return SNe;case"languageDefined":return n._getLanguageDefinedShouldAutoClose(e);case"always":return ENe;case"never":return Qq}},n._getLanguageDefinedShouldAutoClose=function(e){try{var t=Ot.getAutoCloseBeforeSet(e.id);return function(r){return t.indexOf(r)!==-1}}catch(r){return He(r),Qq}},n._getSurroundingPairs=function(e){try{return Ot.getSurroundingPairs(e.id)}catch(t){return He(t),null}},n}(),_o=function(){function n(e,t,r,i){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=r,this.leftoverVisibleColumns=i,this.selection=n._computeSelection(this.selectionStart,this.position)}return n.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)},n.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},n.prototype.move=function(e,t,r,i){return e?new n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new ee(t,r),i):new n(new H(t,r,t,r),i,new ee(t,r),i)},n._computeSelection=function(e,t){var r,i,o,s;return e.isEmpty()?(r=e.startLineNumber,i=e.startColumn,o=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(r=e.endLineNumber,i=e.endColumn,o=t.lineNumber,s=t.column):(r=e.startLineNumber,i=e.startColumn,o=t.lineNumber,s=t.column),new Re(r,i,o,s)},n}(),Jq=function(){function n(e,t,r){this.model=t,this.viewModel=r,this.config=new bte(this.model.getLanguageIdentifier(),this.model.getOptions(),e)}return n.prototype.validateViewPosition=function(e,t){return this.viewModel.coordinatesConverter.validateViewPosition(e,t)},n.prototype.validateViewRange=function(e,t){return this.viewModel.coordinatesConverter.validateViewRange(e,t)},n.prototype.convertViewRangeToModelRange=function(e){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},n.prototype.convertViewPositionToModelPosition=function(e,t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ee(e,t))},n.prototype.convertModelPositionToViewPosition=function(e){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e)},n.prototype.convertModelRangeToViewRange=function(e){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(e)},n.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},n.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},n.prototype.getCompletelyVisibleModelRange=function(){var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},n.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e)},n.prototype.getVerticalOffsetForViewLine=function(e){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(e)},n}(),TNe=function(){function n(e){this.modelState=e,this.viewState=null}return n}(),DNe=function(){function n(e){this.modelState=null,this.viewState=e}return n}(),St=function(){function n(e,t){this.modelState=e,this.viewState=t}return n.fromModelState=function(e){return new TNe(e)},n.fromViewState=function(e){return new DNe(e)},n.fromModelSelection=function(e){var t=e.selectionStartLineNumber,r=e.selectionStartColumn,i=e.positionLineNumber,o=e.positionColumn,s=new _o(new H(t,r,t,r),0,new ee(i,o),0);return n.fromModelState(s)},n.fromModelSelections=function(e){for(var t=[],r=0,i=e.length;r<i;r++)t[r]=this.fromModelSelection(e[r]);return t},n.prototype.equals=function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)},n}(),$o=function(){function n(e,t,r){this.type=e,this.commands=t,this.shouldPushStackElementBefore=r.shouldPushStackElementBefore,this.shouldPushStackElementAfter=r.shouldPushStackElementAfter}return n}(),hn=function(){function n(){}return n.isLowSurrogate=function(e,t,r){var i=e.getLineContent(t);return r<0||r>=i.length?!1:w6(i.charCodeAt(r))},n.isHighSurrogate=function(e,t,r){var i=e.getLineContent(t);return r<0||r>=i.length?!1:ts(i.charCodeAt(r))},n.isInsideSurrogatePair=function(e,t,r){return this.isHighSurrogate(e,t,r-2)},n.visibleColumnFromColumn=function(e,t,r){var i=e.length;i>t-1&&(i=t-1);for(var o=0,s=0;s<i;s++){var a=e.charCodeAt(s);a===9?o=this.nextRenderTabStop(o,r):Hc(a)?o=o+2:o=o+1}return o},n.visibleColumnFromColumn2=function(e,t,r){return this.visibleColumnFromColumn(t.getLineContent(r.lineNumber),r.column,e.tabSize)},n.columnFromVisibleColumn=function(e,t,r){if(t<=0)return 1;for(var i=e.length,o=0,s=0;s<i;s++){var a=e.charCodeAt(s),u=void 0;if(a===9?u=this.nextRenderTabStop(o,r):Hc(a)?u=o+2:u=o+1,u>=t){var l=t-o,c=u-t;return c<l?s+2:s+1}o=u}return i+1},n.columnFromVisibleColumn2=function(e,t,r,i){var o=this.columnFromVisibleColumn(t.getLineContent(r),i,e.tabSize),s=t.getLineMinColumn(r);if(o<s)return s;var a=t.getLineMaxColumn(r);return o>a?a:o},n.nextRenderTabStop=function(e,t){return e+t-e%t},n.nextIndentTabStop=function(e,t){return e+t-e%t},n.prevRenderTabStop=function(e,t){return e-1-(e-1)%t},n.prevIndentTabStop=function(e,t){return e-1-(e-1)%t},n}();function Py(n){return n==="'"||n==='"'||n==="`"}var ANe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cc=function(){function n(e,t,r,i,o,s){r===void 0&&(r=0),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.element=e,this.type=t,this.mouseColumn=r,this.position=i,!o&&i&&(o=new H(i.lineNumber,i.column,i.lineNumber,i.column)),this.range=o,this.detail=s}return n._typeToString=function(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"},n.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},n.prototype.toString=function(){return n.toString(this)},n}(),La=function(){function n(){}return n.isTextArea=function(e){return e.length===2&&e[0]===3&&e[1]===6},n.isChildOfViewLines=function(e){return e.length>=4&&e[0]===3&&e[3]===7},n.isStrictChildOfViewLines=function(e){return e.length>4&&e[0]===3&&e[3]===7},n.isChildOfScrollableElement=function(e){return e.length>=2&&e[0]===3&&e[1]===5},n.isChildOfMinimap=function(e){return e.length>=2&&e[0]===3&&e[1]===8},n.isChildOfContentWidgets=function(e){return e.length>=4&&e[0]===3&&e[3]===1},n.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&e[0]===2},n.isChildOfOverlayWidgets=function(e){return e.length>=2&&e[0]===3&&e[1]===4},n}(),qM=function(){function n(e,t,r){this.model=e.model,this.layoutInfo=e.configuration.editor.layoutInfo,this.viewDomNode=t.viewDomNode,this.lineHeight=e.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=e.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=r,this._context=e,this._viewHelper=t}return n.prototype.getZoneAtCoord=function(e){return n.getZoneAtCoord(this._context,e)},n.getZoneAtCoord=function(e,t){var r=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(r){var i=r.verticalOffset+r.height/2,o=e.model.getLineCount(),s=null,a=void 0,u=null;return r.afterLineNumber!==o&&(u=new ee(r.afterLineNumber+1,1)),r.afterLineNumber>0&&(s=new ee(r.afterLineNumber,e.model.getLineMaxColumn(r.afterLineNumber))),u===null?a=s:s===null?a=u:t<i?a=s:a=u,{viewZoneId:r.id,afterLineNumber:r.afterLineNumber,positionBefore:s,positionAfter:u,position:a}}return null},n.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),r=this._context.model.getLineMaxColumn(t);return{range:new H(t,r,t,r),isAfterLines:!0}}var i=this._context.viewLayout.getLineNumberAtVerticalOffset(e),o=this._context.model.getLineMaxColumn(i);return{range:new H(i,1,i,o),isAfterLines:!1}},n.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},n.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},n.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},n.prototype.findAttribute=function(e,t){return n._findAttribute(e,t,this._viewHelper.viewDomNode)},n._findAttribute=function(e,t,r){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===r)return null;e=e.parentNode}return null},n.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},n.prototype.visibleRangeForPosition2=function(e,t){return this._viewHelper.visibleRangeForPosition2(e,t)},n.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},n.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},n.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},n}(),INe=function(){function n(e,t,r){this.editorPos=t,this.pos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+r.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+r.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=r.x-t.x<e.layoutInfo.contentLeft&&r.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Cte._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}return n}(),xNe=function(n){ANe(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i)||this;return s._ctx=t,o?(s.target=o,s.targetPath=Rl.collect(o,t.viewDomNode)):(s.target=null,s.targetPath=new Uint8Array(0)),s}return e.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+`
	target: `+(this.target?this.target.outerHTML:null)},e.prototype.fulfill=function(t,r,i,o){r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=null);var s=this.mouseColumn;return r&&r.column<this._ctx.model.getLineMaxColumn(r.lineNumber)&&(s=hn.visibleColumnFromColumn(this._ctx.model.getLineContent(r.lineNumber),r.column,this._ctx.model.getOptions().tabSize)+1),new cc(this.target,t,s,r,i,o)},e.prototype.withTarget=function(t){return new e(this._ctx,this.editorPos,this.pos,t)},e}(INe),LNe={isAfterLines:!0};function ek(n){return{isAfterLines:!1,horizontalDistanceToText:n}}var Cte=function(){function n(e,t){this._context=e,this._viewHelper=t}return n.prototype.mouseTargetIsWidget=function(e){var t=e.target,r=Rl.collect(t,this._viewHelper.viewDomNode);return!!(La.isChildOfContentWidgets(r)||La.isChildOfOverflowingContentWidgets(r)||La.isChildOfOverlayWidgets(r))},n.prototype.createMouseTarget=function(e,t,r,i){var o=new qM(this._context,this._viewHelper,e),s=new xNe(o,t,r,i);try{var a=n._createMouseTarget(o,s,!1);return a}catch{return s.fulfill(0)}},n._createMouseTarget=function(e,t,r){if(t.target===null){if(r)return t.fulfill(0);var i=n._doHitTest(e,t);return i.position?n.createMouseTargetFromHitTestPosition(e,t,i.position.lineNumber,i.position.column):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}var o=t,s=null;return s=s||n._hitTestContentWidget(e,o),s=s||n._hitTestOverlayWidget(e,o),s=s||n._hitTestMinimap(e,o),s=s||n._hitTestScrollbarSlider(e,o),s=s||n._hitTestViewZone(e,o),s=s||n._hitTestMargin(e,o),s=s||n._hitTestViewCursor(e,o),s=s||n._hitTestTextArea(e,o),s=s||n._hitTestViewLines(e,o,r),s=s||n._hitTestScrollbar(e,o),s||t.fulfill(0)},n._hitTestContentWidget=function(e,t){if(La.isChildOfContentWidgets(t.targetPath)||La.isChildOfOverflowingContentWidgets(t.targetPath)){var r=e.findAttribute(t.target,"widgetId");return r?t.fulfill(9,null,null,r):t.fulfill(0)}return null},n._hitTestOverlayWidget=function(e,t){if(La.isChildOfOverlayWidgets(t.targetPath)){var r=e.findAttribute(t.target,"widgetId");return r?t.fulfill(12,null,null,r):t.fulfill(0)}return null},n._hitTestViewCursor=function(e,t){if(t.target)for(var r=e.lastViewCursorsRenderData,i=0,o=r;i<o.length;i++){var s=o[i];if(t.target===s.domNode)return t.fulfill(6,s.position)}if(t.isInContentArea)for(var r=e.lastViewCursorsRenderData,a=t.mouseContentHorizontalOffset,u=t.mouseVerticalOffset,l=0,c=r;l<c.length;l++){var s=c[l];if(!(a<s.contentLeft)&&!(a>s.contentLeft+s.width)){var h=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(h<=u&&u<=h+s.height)return t.fulfill(6,s.position)}}return null},n._hitTestViewZone=function(e,t){var r=e.getZoneAtCoord(t.mouseVerticalOffset);if(r){var i=t.isInContentArea?8:5;return t.fulfill(i,r.position,null,r)}return null},n._hitTestTextArea=function(e,t){return La.isTextArea(t.targetPath)?t.fulfill(1):null},n._hitTestMargin=function(e,t){if(t.isInMarginArea){var r=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=r.range.getStartPosition(),o=Math.abs(t.pos.x-t.editorPos.x),s={isAfterLines:r.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,i,r.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,i,r.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,i,r.range,s)))}return null},n._hitTestViewLines=function(e,t,r){if(!La.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){var i=e.model.getLineCount(),o=e.model.getLineMaxColumn(i);return t.fulfill(7,new ee(i,o),void 0,LNe)}if(r){if(La.isStrictChildOfViewLines(t.targetPath)){var s=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.model.getLineLength(s)===0){var a=e.getLineWidth(s),u=ek(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new ee(s,1),void 0,u)}}return t.fulfill(0)}var l=n._doHitTest(e,t);return l.position?n.createMouseTargetFromHitTestPosition(e,t,l.position.lineNumber,l.position.column):this._createMouseTarget(e,t.withTarget(l.hitTarget),!0)},n._hitTestMinimap=function(e,t){if(La.isChildOfMinimap(t.targetPath)){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(r);return t.fulfill(11,new ee(r,i))}return null},n._hitTestScrollbarSlider=function(e,t){if(La.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){var r=t.target.className;if(r&&/\b(slider|scrollbar)\b/.test(r)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(11,new ee(i,o))}}return null},n._hitTestScrollbar=function(e,t){if(La.isChildOfScrollableElement(t.targetPath)){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(r);return t.fulfill(11,new ee(r,i))}return null},n.prototype.getMouseColumn=function(e,t){var r=this._context.configuration.editor.layoutInfo,i=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-r.contentLeft;return n._getMouseColumn(i,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},n._getMouseColumn=function(e,t){if(e<0)return 1;var r=Math.round(e/t);return r+1},n.createMouseTargetFromHitTestPosition=function(e,t,r,i){var o=new ee(r,i),s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>s){if(hC&&o.column===1){var a=ek(t.mouseContentHorizontalOffset-s);return t.fulfill(7,new ee(r,e.model.getLineMaxColumn(r)),void 0,a)}var u=ek(t.mouseContentHorizontalOffset-s);return t.fulfill(7,o,void 0,u)}var l=e.visibleRangeForPosition2(r,i);if(!l)return t.fulfill(0,o);var c=l.left;if(t.mouseContentHorizontalOffset===c)return t.fulfill(6,o);var h=[];if(h.push({offset:l.left,column:i}),i>1){var d=e.visibleRangeForPosition2(r,i-1);d&&h.push({offset:d.left,column:i-1})}var p=e.model.getLineMaxColumn(r);if(i<p){var v=e.visibleRangeForPosition2(r,i+1);v&&h.push({offset:v.left,column:i+1})}h.sort(function(E,S){return E.offset-S.offset});for(var m=1;m<h.length;m++){var _=h[m-1],b=h[m];if(_.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=b.offset){var C=new H(r,_.column,r,b.column);return t.fulfill(6,o,C)}}return t.fulfill(6,o)},n._doHitTestWithCaretRangeFromPoint=function(e,t){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(r),o=i+Math.floor(e.lineHeight/2),s=t.pos.y+(o-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+e.layoutInfo.height&&(s=t.editorPos.y+e.layoutInfo.height-1);var a=new Y6(t.pos.x,s),u=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return u.position?u:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},n._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var r=document.caretRangeFromPoint(t.clientX,t.clientY);if(!r||!r.startContainer)return{position:null,hitTarget:null};var i=r.startContainer,o=null;if(i.nodeType===i.TEXT_NODE){var s=i.parentNode,a=s?s.parentNode:null,u=a?a.parentNode:null,l=u&&u.nodeType===u.ELEMENT_NODE?u.className:null;if(l===jv.CLASS_NAME){var c=e.getPositionFromDOMInfo(s,r.startOffset);return{position:c,hitTarget:null}}else o=i.parentNode}else if(i.nodeType===i.ELEMENT_NODE){var s=i.parentNode,a=s?s.parentNode:null,h=a&&a.nodeType===a.ELEMENT_NODE?a.className:null;if(h===jv.CLASS_NAME){var c=e.getPositionFromDOMInfo(i,i.textContent.length);return{position:c,hitTarget:null}}else o=i}return{position:null,hitTarget:o}},n._doHitTestWithCaretPositionFromPoint=function(e,t){var r=document.caretPositionFromPoint(t.clientX,t.clientY);if(r.offsetNode.nodeType===r.offsetNode.TEXT_NODE){var i=r.offsetNode.parentNode,o=i?i.parentNode:null,s=o?o.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(a===jv.CLASS_NAME){var u=e.getPositionFromDOMInfo(r.offsetNode.parentNode,r.offset);return{position:u,hitTarget:null}}else return{position:null,hitTarget:r.offsetNode.parentNode}}return{position:null,hitTarget:r.offsetNode}},n._doHitTestWithMoveToPoint=function(e,t){var r=null,i=null,o=document.body.createTextRange();try{o.moveToPoint(t.clientX,t.clientY)}catch{return{position:null,hitTarget:null}}o.collapse(!0);var s=o?o.parentElement():null,a=s?s.parentNode:null,u=a?a.parentNode:null,l=u&&u.nodeType===u.ELEMENT_NODE?u.className:"";if(l===jv.CLASS_NAME){var c=o.duplicate();c.moveToElementText(s),c.setEndPoint("EndToStart",o),r=e.getPositionFromDOMInfo(s,c.text.length),c.moveToElementText(e.viewDomNode)}else i=s;return o.moveToElementText(e.viewDomNode),{position:r,hitTarget:i}},n._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},n}(),wte=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function zM(n){return function(e,t){var r=!1;return n&&(r=n.mouseTargetIsWidget(t)),r||t.preventDefault(),t}}var m2=function(n){wte(e,n);function e(t,r,i){var o=n.call(this)||this;o._isFocused=!1,o._context=t,o.viewController=r,o.viewHelper=i,o.mouseTargetFactory=new Cte(o._context,i),o._mouseDownOperation=o._register(new NNe(o._context,o.viewController,o.viewHelper,function(u,l){return o._createMouseTarget(u,l)},function(u){return o._getMouseColumn(u)})),o._asyncFocus=o._register(new Hr(function(){return o.viewHelper.focusTextArea()},0)),o.lastMouseLeaveTime=-1;var s=new lLe(o.viewHelper.viewDomNode);o._register(s.onContextMenu(o.viewHelper.viewDomNode,function(u){return o._onContextMenu(u,!0)})),o._register(s.onMouseMoveThrottled(o.viewHelper.viewDomNode,function(u){return o._onMouseMove(u)},zM(o.mouseTargetFactory),e.MOUSE_MOVE_MINIMUM_TIME)),o._register(s.onMouseUp(o.viewHelper.viewDomNode,function(u){return o._onMouseUp(u)})),o._register(s.onMouseLeave(o.viewHelper.viewDomNode,function(u){return o._onMouseLeave(u)})),o._register(s.onMouseDown(o.viewHelper.viewDomNode,function(u){return o._onMouseDown(u)}));var a=function(u){if(o.viewController.emitMouseWheel(u),!!o._context.configuration.editor.viewInfo.mouseWheelZoom){var l=new Rm(u);if(l.browserEvent.ctrlKey||l.browserEvent.metaKey){var c=Wc.getZoomLevel(),h=l.deltaY>0?1:-1;Wc.setZoomLevel(c+h),l.preventDefault(),l.stopPropagation()}}};return o._register(ye(o.viewHelper.viewDomNode,vl?"mousewheel":"wheel",a,!0)),o._context.addEventHandler(o),o}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onCursorStateChanged=function(t){return this._mouseDownOperation.onCursorStateChanged(t),!1},e.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!1},e.prototype.onScrollChanged=function(t){return this._mouseDownOperation.onScrollChanged(),!1},e.prototype.getTargetAtClientPoint=function(t,r){var i=new ute(t,r),o=i.toPageCoordinates(),s=lte(this.viewHelper.viewDomNode);if(o.y<s.y||o.y>s.y+s.height||o.x<s.x||o.x>s.x+s.width)return null;var a=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(a,s,o,null)},e.prototype._createMouseTarget=function(t,r){var i=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(i,t.editorPos,t.pos,r?t.target:null)},e.prototype._getMouseColumn=function(t){return this.mouseTargetFactory.getMouseColumn(t.editorPos,t.pos)},e.prototype._onContextMenu=function(t,r){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,r)})},e.prototype._onMouseMove=function(t){if(!this._mouseDownOperation.isActive()){var r=t.timestamp;r<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}},e.prototype._onMouseLeave=function(t){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})},e.prototype._onMouseUp=function(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})},e.prototype._onMouseDown=function(t){var r=this,i=this._createMouseTarget(t,!0),o=i.type===6||i.type===7,s=i.type===2||i.type===3||i.type===4,a=i.type===3,u=this._context.configuration.editor.viewInfo.selectOnLineNumbers,l=i.type===8||i.type===5,c=i.type===9,h=t.leftButton||t.middleButton;Tt&&t.leftButton&&t.ctrlKey&&(h=!1);var d=function(){Ls&&!r._isFocused?r._asyncFocus.schedule():(t.preventDefault(),r.viewHelper.focusTextArea())};if(h&&(o||a&&u))d(),this._mouseDownOperation.start(i.type,t);else if(s)t.preventDefault();else if(l){var p=i.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(p.viewZoneId)&&(d(),this._mouseDownOperation.start(i.type,t),t.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(d(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:i})},e.MOUSE_MOVE_MINIMUM_TIME=100,e}(mC),NNe=function(n){wte(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a._context=t,a._viewController=r,a._viewHelper=i,a._createMouseTarget=o,a._getMouseColumn=s,a._mouseMoveMonitor=a._register(new cLe(a._viewHelper.viewDomNode)),a._onScrollTimeout=a._register(new Fs),a._mouseState=new ONe,a._currentSelection=new Re(1,1,1,1),a._isActive=!1,a._lastMouseEvent=null,a}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.isActive=function(){return this._isActive},e.prototype._onMouseDownThenMove=function(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);var r=this._findMousePosition(t,!0);r&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:r}):this._dispatchMouse(r,!0))},e.prototype.start=function(t,r){var i=this;this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);var o=this._findMousePosition(r,!0);if(!(!o||!o.position)){if(this._mouseState.trySetCount(r.detail,o.position),r.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(zM(null),function(s){return i._onMouseDownThenMove(s)},function(){var s=i._findMousePosition(i._lastMouseEvent,!0);i._viewController.emitMouseDrop({event:i._lastMouseEvent,target:s?i._createMouseTarget(i._lastMouseEvent,!0):null}),i._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,r.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(zM(null),function(s){return i._onMouseDownThenMove(s)},function(){return i._stop()}))}},e.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},e.prototype.onScrollChanged=function(){var t=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){if(t._lastMouseEvent){var r=t._findMousePosition(t._lastMouseEvent,!1);r&&(t._mouseState.isDragAndDrop||t._dispatchMouse(r,!0))}},10)},e.prototype.onCursorStateChanged=function(t){this._currentSelection=t.selections[0]},e.prototype._getPositionOutsideEditor=function(t){var r=t.editorPos,i=this._context.model,o=this._context.viewLayout,s=this._getMouseColumn(t);if(t.posy<r.y){var a=Math.max(o.getCurrentScrollTop()-(r.y-t.posy),0),u=qM.getZoneAtCoord(this._context,a);if(u){var l=this._helpPositionJumpOverViewZone(u);if(l)return new cc(null,13,s,l)}var c=o.getLineNumberAtVerticalOffset(a);return new cc(null,13,s,new ee(c,1))}if(t.posy>r.y+r.height){var a=o.getCurrentScrollTop()+(t.posy-r.y),u=qM.getZoneAtCoord(this._context,a);if(u){var l=this._helpPositionJumpOverViewZone(u);if(l)return new cc(null,13,s,l)}var h=o.getLineNumberAtVerticalOffset(a);return new cc(null,13,s,new ee(h,i.getLineMaxColumn(h)))}var d=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+(t.posy-r.y));return t.posx<r.x?new cc(null,13,s,new ee(d,1)):t.posx>r.x+r.width?new cc(null,13,s,new ee(d,i.getLineMaxColumn(d))):null},e.prototype._findMousePosition=function(t,r){var i=this._getPositionOutsideEditor(t);if(i)return i;var o=this._createMouseTarget(t,r),s=o.position;if(!s)return null;if(o.type===8||o.type===5){var a=this._helpPositionJumpOverViewZone(o.detail);if(a)return new cc(o.element,o.type,o.mouseColumn,a,null,o.detail)}return o},e.prototype._helpPositionJumpOverViewZone=function(t){var r=new ee(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=t.positionBefore,o=t.positionAfter;return i&&o?i.isBefore(r)?i:o:null},e.prototype._dispatchMouse=function(t,r){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},e}(he),ONe=function(){function n(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(n.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),n.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},n.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},n.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},n.prototype.trySetCount=function(e,t){var r=new Date().getTime();r-this._lastSetMouseDownCountTime>n.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=r,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)},n.CLEAR_MOUSE_DOWN_COUNT_TIME=400,n}(),_2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Ete(n,e){var t={translationY:e.translationY,translationX:e.translationX};return n&&(t.translationY+=n.translationY,t.translationX+=n.translationX),t}var kNe=function(n){_2(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var s=new MSGesture,a=new MSGesture;s.target=o.viewHelper.linesContentDomNode,a.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(u){var l=u.pointerType;if(l===(u.MSPOINTER_TYPE_MOUSE||"mouse")){o._lastPointerType="mouse";return}else l===(u.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",s.addPointer(u.pointerId)):(o._lastPointerType="pen",a.addPointer(u.pointerId))}),o._register(pC(o.viewHelper.linesContentDomNode,"MSGestureChange",function(u){return o._onGestureChange(u)},Ete)),o._register(ye(o.viewHelper.linesContentDomNode,"MSGestureTap",function(u){return o._onCaptureGestureTap(u)},!0))}},100),o._lastPointerType="mouse",o}return e.prototype._onMouseDown=function(t){this._lastPointerType==="mouse"&&n.prototype._onMouseDown.call(this,t)},e.prototype._onCaptureGestureTap=function(t){var r=this,i=new Wm(t,this.viewHelper.viewDomNode),o=this._createMouseTarget(i,!1);o.position&&this.viewController.moveTo(o.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){r.viewHelper.focusTextArea()})},e.prototype._onGestureChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),n.prototype.dispose.call(this)},e}(m2),RNe=function(n){_2(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var s=new MSGesture,a=new MSGesture;s.target=o.viewHelper.linesContentDomNode,a.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(u){var l=u.pointerType;if(l==="mouse"){o._lastPointerType="mouse";return}else l==="touch"?(o._lastPointerType="touch",s.addPointer(u.pointerId)):(o._lastPointerType="pen",a.addPointer(u.pointerId))}),o._register(pC(o.viewHelper.linesContentDomNode,"MSGestureChange",function(u){return o._onGestureChange(u)},Ete)),o._register(ye(o.viewHelper.linesContentDomNode,"MSGestureTap",function(u){return o._onCaptureGestureTap(u)},!0))}},100),o._lastPointerType="mouse",o}return e.prototype._onMouseDown=function(t){this._lastPointerType==="mouse"&&n.prototype._onMouseDown.call(this,t)},e.prototype._onCaptureGestureTap=function(t){var r=this,i=new Wm(t,this.viewHelper.viewDomNode),o=this._createMouseTarget(i,!1);o.position&&this.viewController.moveTo(o.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){r.viewHelper.focusTextArea()})},e.prototype._onGestureChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),n.prototype.dispose.call(this)},e}(m2),PNe=function(n){_2(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return F_.addTarget(o.viewHelper.linesContentDomNode),o._register(ye(o.viewHelper.linesContentDomNode,ci.Tap,function(s){return o.onTap(s)})),o._register(ye(o.viewHelper.linesContentDomNode,ci.Change,function(s){return o.onChange(s)})),o._register(ye(o.viewHelper.linesContentDomNode,ci.Contextmenu,function(s){return o._onContextMenu(new Wm(s,o.viewHelper.viewDomNode),!1)})),o}return e.prototype.onTap=function(t){t.preventDefault(),this.viewHelper.focusTextArea();var r=this._createMouseTarget(new Wm(t,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.moveTo(r.position)},e.prototype.onChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},e}(m2),MNe=function(n){_2(e,n);function e(t,r,i){var o=n.call(this)||this;return window.navigator.msPointerEnabled?o.handler=o._register(new kNe(t,r,i)):window.TouchEvent?o.handler=o._register(new PNe(t,r,i)):window.navigator.pointerEnabled||window.PointerEvent?o.handler=o._register(new RNe(t,r,i)):o.handler=o._register(new m2(t,r,i)),o}return e.prototype.getTargetAtClientPoint=function(t,r){return this.handler.getTargetAtClientPoint(t,r)},e}(he),Qs=function(){function n(e,t,r,i,o){this.value=e,this.selectionStart=t,this.selectionEnd=r,this.selectionStartPosition=i,this.selectionEndPosition=o}return n.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},n.readFromTextArea=function(e){return new n(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)},n.prototype.collapseSelection=function(){return new n(this.value,this.value.length,this.value.length,null,null)},n.prototype.writeToTextArea=function(e,t,r){t.setValue(e,this.value),r&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},n.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){var t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var r=this.value.substring(this.selectionStart,e);if(r.indexOf("")===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,r,1);var i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)},n.prototype._finishDeduceEditorPosition=function(e,t,r){for(var i=0,o=-1;(o=t.indexOf(`
`,o+1))!==-1;)i++;return[e,r*t.length,i]},n.selectedText=function(e){return new n(e,0,e.length,null,null)},n.deduceInput=function(e,t,r,i){if(!e)return{text:"",replaceCharCnt:0};var o=e.value,s=e.selectionStart,a=e.selectionEnd,u=t.value,l=t.selectionStart,c=t.selectionEnd;i&&o.length>0&&s===a&&l===c&&!Yb(u,o)&&Bc(u,o)&&(s=0,a=0);var h=o.substring(a),d=u.substring(c),p=dAe(h,d);u=u.substring(0,u.length-p),o=o.substring(0,o.length-p);var v=o.substring(0,s),m=u.substring(0,l),_=C6(v,m);if(u=u.substring(_),o=o.substring(_),l-=_,s-=_,c-=_,a-=_,r&&l===c&&o.length>0){var b=null;if(l===u.length?Yb(u,o)&&(b=u.substring(o.length)):Bc(u,o)&&(b=u.substring(0,u.length-o.length)),b!==null&&b.length>0&&(/\uFE0F/.test(b)||vAe(b)))return{text:b,replaceCharCnt:0}}if(l===c){if(o===u&&s===0&&a===o.length&&l===u.length&&u.indexOf(`
`)===-1&&_Ae(u))return{text:"",replaceCharCnt:0};var C=v.length-_;return{text:u,replaceCharCnt:C}}var E=a-s;return{text:u,replaceCharCnt:E}},n.EMPTY=new n("",0,0,null,null),n}(),FNe=function(){function n(){}return n._getPageOfLine=function(e){return Math.floor((e-1)/n._LINES_PER_PAGE)},n._getRangeForPage=function(e){var t=e*n._LINES_PER_PAGE,r=t+1,i=t+n._LINES_PER_PAGE;return new H(r,1,i+1,1)},n.fromEditorSelection=function(e,t,r,i){var o=n._getPageOfLine(r.startLineNumber),s=n._getRangeForPage(o),a=n._getPageOfLine(r.endLineNumber),u=n._getRangeForPage(a),l=s.intersectRanges(new H(1,1,r.startLineNumber,r.startColumn)),c=t.getValueInRange(l,1),h=t.getLineCount(),d=t.getLineMaxColumn(h),p=u.intersectRanges(new H(r.endLineNumber,r.endColumn,h,d)),v=t.getValueInRange(p,1),m;if(o===a||o+1===a)m=t.getValueInRange(r,1);else{var _=s.intersectRanges(r),b=u.intersectRanges(r);m=t.getValueInRange(_,1)+""+t.getValueInRange(b,1)}if(i){var C=500;c.length>C&&(c=c.substring(c.length-C,c.length)),v.length>C&&(v=v.substring(0,C)),m.length>2*C&&(m=m.substring(0,C)+""+m.substring(m.length-C,m.length))}return new Qs(c+m+v,c.length,c.length+m.length,new ee(r.startLineNumber,r.startColumn),new ee(r.endLineNumber,r.endColumn))},n._LINES_PER_PAGE=10,n}(),Ste=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$T={forceCopyWithSyntaxHighlighting:!1},BNe=function(n){Ste(e,n);function e(t,r){var i=n.call(this)||this;i._onFocus=i._register(new Q),i.onFocus=i._onFocus.event,i._onBlur=i._register(new Q),i.onBlur=i._onBlur.event,i._onKeyDown=i._register(new Q),i.onKeyDown=i._onKeyDown.event,i._onKeyUp=i._register(new Q),i.onKeyUp=i._onKeyUp.event,i._onCut=i._register(new Q),i.onCut=i._onCut.event,i._onPaste=i._register(new Q),i.onPaste=i._onPaste.event,i._onType=i._register(new Q),i.onType=i._onType.event,i._onCompositionStart=i._register(new Q),i.onCompositionStart=i._onCompositionStart.event,i._onCompositionUpdate=i._register(new Q),i.onCompositionUpdate=i._onCompositionUpdate.event,i._onCompositionEnd=i._register(new Q),i.onCompositionEnd=i._onCompositionEnd.event,i._onSelectionChangeRequest=i._register(new Q),i.onSelectionChangeRequest=i._onSelectionChangeRequest.event,i._host=t,i._textArea=i._register(new HNe(r)),i._lastTextAreaEvent=0,i._asyncTriggerCut=i._register(new Hr(function(){return i._onCut.fire()},0)),i._textAreaState=Qs.EMPTY,i._selectionChangeListener=null,i.writeScreenReaderContent("ctor"),i._hasFocus=!1,i._isDoingComposition=!1,i._nextCommand=0,i._register(mi(r.domNode,"keydown",function(u){i._isDoingComposition&&(u.keyCode===109||u.keyCode===1)&&u.stopPropagation(),u.equals(9)&&u.preventDefault(),i._onKeyDown.fire(u)})),i._register(mi(r.domNode,"keyup",function(u){i._onKeyUp.fire(u)})),i._register(ye(r.domNode,"compositionstart",function(u){i._lastTextAreaEvent=1,!i._isDoingComposition&&(i._isDoingComposition=!0,vl||i._setAndWriteTextAreaState("compositionstart",Qs.EMPTY),i._onCompositionStart.fire())}));var o=function(u,l){var c=i._textAreaState,h=Qs.readFromTextArea(i._textArea);return[h,Qs.deduceInput(c,h,u,l)]},s=function(u){var l=i._textAreaState,c=Qs.selectedText(u),h={text:c.value,replaceCharCnt:l.selectionEnd-l.selectionStart};return[c,h]},a=function(u){return!!(vl&&u==="ja"||Ls&&u.indexOf("zh-Han")===0)};return i._register(ye(r.domNode,"compositionupdate",function(u){if(i._lastTextAreaEvent=2,a(u.locale)){var l=o(!1,!1),c=l[0],h=l[1];i._textAreaState=c,i._onType.fire(h),i._onCompositionUpdate.fire(u);return}var d=s(u.data),p=d[0],v=d[1];i._textAreaState=p,i._onType.fire(v),i._onCompositionUpdate.fire(u)})),i._register(ye(r.domNode,"compositionend",function(u){if(i._lastTextAreaEvent=3,a(u.locale)){var l=o(!1,!1),c=l[0],h=l[1];i._textAreaState=c,i._onType.fire(h)}else{var d=s(u.data),c=d[0],h=d[1];i._textAreaState=c,i._onType.fire(h)}(vl||zb)&&(i._textAreaState=Qs.readFromTextArea(i._textArea)),i._isDoingComposition&&(i._isDoingComposition=!1,i._onCompositionEnd.fire())})),i._register(ye(r.domNode,"input",function(){var u=i._lastTextAreaEvent===8;if(i._lastTextAreaEvent=4,i._textArea.setIgnoreSelectionChangeTime("received input event"),!i._isDoingComposition){var l=o(Tt,u&&Tt),c=l[0],h=l[1];h.replaceCharCnt===0&&h.text.length===1&&ts(h.text.charCodeAt(0))||(i._textAreaState=c,i._nextCommand===0?h.text!==""&&i._onType.fire(h):(h.text!==""&&i._onPaste.fire({text:h.text}),i._nextCommand=0))}})),i._register(ye(r.domNode,"cut",function(u){i._lastTextAreaEvent=5,i._textArea.setIgnoreSelectionChangeTime("received cut event"),i._ensureClipboardGetsEditorSelection(u),i._asyncTriggerCut.schedule()})),i._register(ye(r.domNode,"copy",function(u){i._lastTextAreaEvent=6,i._ensureClipboardGetsEditorSelection(u)})),i._register(ye(r.domNode,"paste",function(u){if(i._lastTextAreaEvent=7,i._textArea.setIgnoreSelectionChangeTime("received paste event"),PE.canUseTextData(u)){var l=PE.getTextData(u);l!==""&&i._onPaste.fire({text:l})}else i._textArea.getSelectionStart()!==i._textArea.getSelectionEnd()&&i._setAndWriteTextAreaState("paste",Qs.EMPTY),i._nextCommand=1})),i._register(ye(r.domNode,"focus",function(){i._lastTextAreaEvent=8,i._setHasFocus(!0)})),i._register(ye(r.domNode,"blur",function(){i._lastTextAreaEvent=9,i._setHasFocus(!1)})),i}return e.prototype._installSelectionChangeListener=function(){var t=this,r=0;return ye(document,"selectionchange",function(i){if(t._hasFocus&&!t._isDoingComposition&&!(!zb||!xo)){var o=Date.now(),s=o-r;if(r=o,!(s<5)){var a=o-t._textArea.getIgnoreSelectionChangeTime();if(t._textArea.resetSelectionChangeTime(),!(a<100)&&!(!t._textAreaState.selectionStartPosition||!t._textAreaState.selectionEndPosition)){var u=t._textArea.getValue();if(t._textAreaState.value===u){var l=t._textArea.getSelectionStart(),c=t._textArea.getSelectionEnd();if(!(t._textAreaState.selectionStart===l&&t._textAreaState.selectionEnd===c)){var h=t._textAreaState.deduceEditorPosition(l),d=t._host.deduceModelPosition(h[0],h[1],h[2]),p=t._textAreaState.deduceEditorPosition(c),v=t._host.deduceModelPosition(p[0],p[1],p[2]),m=new Re(d.lineNumber,d.column,v.lineNumber,v.column);t._onSelectionChangeRequest.fire(m)}}}}}})},e.prototype.dispose=function(){n.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},e.prototype.focusTextArea=function(){this._setHasFocus(!0)},e.prototype.isFocused=function(){return this._hasFocus},e.prototype._setHasFocus=function(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(hC?this._setAndWriteTextAreaState("focusgain",Qs.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},e.prototype._setAndWriteTextAreaState=function(t,r){this._hasFocus||(r=r.collapseSelection()),r.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=r},e.prototype.writeScreenReaderContent=function(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))},e.prototype._ensureClipboardGetsEditorSelection=function(t){var r=this._host.getPlainTextToCopy();if(!PE.canUseTextData(t)){this._setAndWriteTextAreaState("copy or cut",Qs.selectedText(r));return}var i=null;LDe()&&(r.length<65536||$T.forceCopyWithSyntaxHighlighting)&&(i=this._host.getHTMLToCopy()),PE.setTextData(t,r,i)},e}(he),PE=function(){function n(){}return n.canUseTextData=function(e){return!!(e.clipboardData||window.clipboardData)},n.getTextData=function(e){if(e.clipboardData)return e.preventDefault(),e.clipboardData.getData("text/plain");if(window.clipboardData)return e.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},n.setTextData=function(e,t,r){if(e.clipboardData){e.clipboardData.setData("text/plain",t),r!==null&&e.clipboardData.setData("text/html",r),e.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},n}(),HNe=function(n){Ste(e,n);function e(t){var r=n.call(this)||this;return r._actual=t,r._ignoreSelectionChangeTime=0,r}return e.prototype.setIgnoreSelectionChangeTime=function(t){this._ignoreSelectionChangeTime=Date.now()},e.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},e.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},e.prototype.getValue=function(){return this._actual.domNode.value},e.prototype.setValue=function(t,r){var i=this._actual.domNode;i.value!==r&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=r)},e.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},e.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},e.prototype.setSelectionRange=function(t,r,i){var o=this._actual.domNode,s=document.activeElement===o,a=o.selectionStart,u=o.selectionEnd;if(s&&a===r&&u===i){Fc&&window.parent!==window&&o.focus();return}if(s){this.setIgnoreSelectionChangeTime("setSelectionRange"),o.setSelectionRange(r,i),Fc&&window.parent!==window&&o.focus();return}try{var l=nAe(o);this.setIgnoreSelectionChangeTime("setSelectionRange"),o.focus(),o.setSelectionRange(r,i),rAe(o,l)}catch{}},e}(he),VNe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fg=function(n){VNe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(mC),Tte={ColorContribution:"base.contributions.colors"},WNe=function(){function n(){this._onDidChangeSchema=new Q,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return n.prototype.registerColor=function(e,t,r,i,o){i===void 0&&(i=!1);var s={id:e,description:r,defaults:t,needsTransparency:i,deprecationMessage:o};this.colorsById[e]=s;var a={type:"string",description:r,format:"color-hex",default:"#ff0000"};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(r),this._onDidChangeSchema.fire(),e},n.prototype.resolveDefaultColor=function(e,t){var r=this.colorsById[e];if(r&&r.defaults){var i=r.defaults[t.type];return jp(i,t)}},n.prototype.getColorSchema=function(){return this.colorSchema},n.prototype.toString=function(){var e=this,t=function(r,i){var o=r.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return o!==s?o-s:r.localeCompare(i)};return Object.keys(this.colorsById).sort(t).map(function(r){return"- `"+r+"`: "+e.colorsById[r].description}).join(`
`)},n}(),y2=new WNe;Ro.add(Tte.ColorContribution,y2);function oe(n,e,t,r,i){return y2.registerColor(n,e,t,r,i)}var Lc=oe("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},D("foreground","Overall foreground color. This color is only used if not overridden by a component.")),UNe=oe("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},D("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),jm=oe("focusBorder",{dark:ae.fromHex("#0E639C").transparent(.8),light:ae.fromHex("#007ACC").transparent(.4),hc:"#F38518"},D("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Wr=oe("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},D("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Mi=oe("contrastActiveBorder",{light:null,dark:null,hc:jm},D("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),b2=oe("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},D("textLinkForeground","Foreground color for links in text.")),e5=oe("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:ae.black},D("textCodeBlockBackground","Background color for code blocks in text.")),hg=oe("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},D("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),t5=oe("input.background",{dark:"#3C3C3C",light:ae.white,hc:ae.black},D("inputBoxBackground","Input box background.")),n5=oe("input.foreground",{dark:Lc,light:Lc,hc:Lc},D("inputBoxForeground","Input box foreground.")),r5=oe("input.border",{dark:null,light:null,hc:Wr},D("inputBoxBorder","Input box border.")),KT=oe("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Wr},D("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),YT=oe("inputOption.activeBackground",{dark:fh(jm,.5),light:fh(jm,.3),hc:null},D("inputOption.activeBackground","Background color of activated options in input fields.")),i5=oe("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:ae.black},D("inputValidationInfoBackground","Input validation background color for information severity.")),o5=oe("inputValidation.infoForeground",{dark:null,light:null,hc:null},D("inputValidationInfoForeground","Input validation foreground color for information severity.")),s5=oe("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Wr},D("inputValidationInfoBorder","Input validation border color for information severity.")),Dte=oe("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:ae.black},D("inputValidationWarningBackground","Input validation background color for warning severity.")),Ate=oe("inputValidation.warningForeground",{dark:null,light:null,hc:null},D("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ite=oe("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Wr},D("inputValidationWarningBorder","Input validation border color for warning severity.")),xte=oe("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:ae.black},D("inputValidationErrorBackground","Input validation background color for error severity.")),Lte=oe("inputValidation.errorForeground",{dark:null,light:null,hc:null},D("inputValidationErrorForeground","Input validation foreground color for error severity.")),Nte=oe("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Wr},D("inputValidationErrorBorder","Input validation border color for error severity.")),tk=oe("dropdown.background",{dark:"#3C3C3C",light:ae.white,hc:ae.black},D("dropdownBackground","Dropdown background.")),ez=oe("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:ae.white},D("dropdownForeground","Dropdown foreground.")),wp=oe("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},D("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ote=oe("list.focusForeground",{dark:null,light:null,hc:null},D("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ep=oe("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},D("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Sp=oe("list.activeSelectionForeground",{dark:ae.white,light:ae.white,hc:null},D("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),kte=oe("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},D("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Rte=oe("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},D("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Pte=oe("list.inactiveFocusBackground",{dark:null,light:null,hc:null},D("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Mte=oe("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},D("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Fte=oe("list.hoverForeground",{dark:null,light:null,hc:null},D("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Bte=oe("list.dropBackground",{dark:wp,light:wp,hc:null},D("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),nk=oe("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:jm},D("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),jNe=oe("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:ae.black},D("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),qNe=oe("listFilterWidget.outline",{dark:ae.transparent,light:ae.transparent,hc:"#f38518"},D("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),zNe=oe("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Wr},D("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),GNe=oe("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},D("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),$Ne=oe("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:ae.white},D("pickerGroupForeground","Quick picker color for grouping labels.")),KNe=oe("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:ae.white},D("pickerGroupBorder","Quick picker color for grouping borders.")),YNe=oe("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:ae.black},D("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),XNe=oe("badge.foreground",{dark:ae.white,light:"#333",hc:ae.white},D("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),C2=oe("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},D("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),QNe=oe("scrollbarSlider.background",{dark:ae.fromHex("#797979").transparent(.4),light:ae.fromHex("#646464").transparent(.4),hc:fh(Wr,.6)},D("scrollbarSliderBackground","Scrollbar slider background color.")),ZNe=oe("scrollbarSlider.hoverBackground",{dark:ae.fromHex("#646464").transparent(.7),light:ae.fromHex("#646464").transparent(.7),hc:fh(Wr,.8)},D("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),JNe=oe("scrollbarSlider.activeBackground",{dark:ae.fromHex("#BFBFBF").transparent(.4),light:ae.fromHex("#000000").transparent(.6),hc:Wr},D("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),eOe=oe("progressBar.background",{dark:ae.fromHex("#0E70C0"),light:ae.fromHex("#0E70C0"),hc:Wr},D("progressBarBackground","Background color of the progress bar that can show for long running operations.")),tOe=oe("menu.border",{dark:null,light:null,hc:Wr},D("menuBorder","Border color of menus.")),nOe=oe("menu.foreground",{dark:ez,light:Lc,hc:ez},D("menuForeground","Foreground color of menu items.")),rOe=oe("menu.background",{dark:tk,light:tk,hc:tk},D("menuBackground","Background color of menu items.")),iOe=oe("menu.selectionForeground",{dark:Sp,light:Sp,hc:Sp},D("menuSelectionForeground","Foreground color of the selected menu item in menus.")),oOe=oe("menu.selectionBackground",{dark:Ep,light:Ep,hc:Ep},D("menuSelectionBackground","Background color of the selected menu item in menus.")),sOe=oe("menu.selectionBorder",{dark:null,light:null,hc:Mi},D("menuSelectionBorder","Border color of the selected menu item in menus.")),aOe=oe("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Wr},D("menuSeparatorBackground","Color of a separator menu item in menus.")),Hte=oe("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},D("editorError.foreground","Foreground color of error squigglies in the editor.")),Vte=oe("editorError.border",{dark:null,light:null,hc:ae.fromHex("#E47777").transparent(.8)},D("errorBorder","Border color of error boxes in the editor.")),XT=oe("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},D("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),a5=oe("editorWarning.border",{dark:null,light:null,hc:ae.fromHex("#FFCC00").transparent(.8)},D("warningBorder","Border color of warning boxes in the editor.")),QT=oe("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},D("editorInfo.foreground","Foreground color of info squigglies in the editor.")),u5=oe("editorInfo.border",{dark:null,light:null,hc:ae.fromHex("#75BEFF").transparent(.8)},D("infoBorder","Border color of info boxes in the editor.")),uOe=oe("editorHint.foreground",{dark:ae.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},D("editorHint.foreground","Foreground color of hint squigglies in the editor.")),lOe=oe("editorHint.border",{dark:null,light:null,hc:ae.fromHex("#eeeeee").transparent(.8)},D("hintBorder","Border color of hint boxes in the editor.")),_l=oe("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:ae.black},D("editorBackground","Editor background color.")),ch=oe("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:ae.white},D("editorForeground","Editor default foreground color.")),yl=oe("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},D("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Wte=oe("editorWidget.foreground",{dark:Lc,light:Lc,hc:Lc},D("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Tp=oe("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Wr},D("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),cOe=oe("editorWidget.resizeBorder",{light:null,dark:null,hc:null},D("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),fm=oe("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},D("editorSelectionBackground","Color of the editor selection.")),fOe=oe("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},D("editorSelectionForeground","Color of the selected text for high contrast.")),l5=oe("editor.inactiveSelectionBackground",{light:fh(fm,.5),dark:fh(fm,.5),hc:fh(fm,.5)},D("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),c5=oe("editor.selectionHighlightBackground",{light:nz(fm,_l,.3,.6),dark:nz(fm,_l,.3,.6),hc:null},D("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),hOe=oe("editor.selectionHighlightBorder",{light:null,dark:null,hc:Mi},D("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),dOe=oe("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},D("editorFindMatch","Color of the current search match.")),pOe=oe("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},D("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),gOe=oe("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},D("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),vOe=oe("editor.findMatchBorder",{light:null,dark:null,hc:Mi},D("editorFindMatchBorder","Border color of the current search match.")),mOe=oe("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Mi},D("findMatchHighlightBorder","Border color of the other search matches.")),_Oe=oe("editor.findRangeHighlightBorder",{dark:null,light:null,hc:fh(Mi,.4)},D("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),yOe=oe("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},D("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Up=oe("editorHoverWidget.background",{light:yl,dark:yl,hc:yl},D("hoverBackground","Background color of the editor hover.")),f5=oe("editorHoverWidget.border",{light:Tp,dark:Tp,hc:Tp},D("hoverBorder","Border color of the editor hover.")),bOe=oe("editorHoverWidget.statusBarBackground",{dark:IOe(Up,.2),light:d5(Up,.05),hc:yl},D("statusBarBackground","Background color of the editor hover status bar.")),h5=oe("editorLink.activeForeground",{dark:"#4E94CE",light:ae.blue,hc:ae.cyan},D("activeLinkForeground","Color of active links.")),GM=new ae(new yn(155,185,85,.2)),$M=new ae(new yn(255,0,0,.2)),Ute=oe("diffEditor.insertedTextBackground",{dark:GM,light:GM,hc:null},D("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),jte=oe("diffEditor.removedTextBackground",{dark:$M,light:$M,hc:null},D("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),COe=oe("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},D("diffEditorInsertedOutline","Outline color for the text that got inserted.")),wOe=oe("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},D("diffEditorRemovedOutline","Outline color for text that got removed.")),EOe=oe("diffEditor.border",{dark:null,light:null,hc:Wr},D("diffEditorBorder","Border color between the two text editors.")),SOe=oe("editor.snippetTabstopHighlightBackground",{dark:new ae(new yn(124,124,124,.3)),light:new ae(new yn(10,50,100,.2)),hc:new ae(new yn(124,124,124,.3))},D("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),TOe=oe("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},D("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),DOe=oe("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},D("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),AOe=oe("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new ae(new yn(10,50,100,.5)),hc:"#525252"},D("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet.")),rk=oe("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},D("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),qte=oe("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},D("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),tz=oe("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},D("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);function d5(n,e){return function(t){var r=jp(n,t);if(r)return r.darken(e)}}function IOe(n,e){return function(t){var r=jp(n,t);if(r)return r.lighten(e)}}function fh(n,e){return function(t){var r=jp(n,t);if(r)return r.transparent(e)}}function p5(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=jp(o,t);if(s)return s}}}function nz(n,e,t,r){return function(i){var o=jp(n,i);if(o){var s=jp(e,i);return s?o.isDarkerThan(s)?ae.getLighterColor(o,s,t).transparent(r):ae.getDarkerColor(o,s,t).transparent(r):o.transparent(t*r)}}}function jp(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?ae.fromHex(n):e.getColor(n);if(n instanceof ae)return n;if(typeof n=="function")return n(e)}}var zte="vscode://schemas/workbench-colors",Gte=Ro.as(q6.JSONContribution);Gte.registerSchema(zte,y2.getColorSchema());var rz=new Hr(function(){return Gte.notifySchemaChanged(zte)},200);y2.onDidChangeSchema(function(){rz.isScheduled()||rz.schedule()});var $te=oe("editor.lineHighlightBackground",{dark:null,light:null,hc:null},D("lineHighlight","Background color for the highlight of line at the cursor position.")),KM=oe("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},D("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),xOe=oe("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},D("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),LOe=oe("editor.rangeHighlightBorder",{dark:null,light:null,hc:Mi},D("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),Kte=oe("editorCursor.foreground",{dark:"#AEAFAD",light:ae.black,hc:ae.white},D("caret","Color of the editor cursor.")),NOe=oe("editorCursor.background",null,D("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Dp=oe("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},D("editorWhitespaces","Color of whitespace characters in the editor.")),w2=oe("editorIndentGuide.background",{dark:Dp,light:Dp,hc:Dp},D("editorIndentGuides","Color of the editor indentation guides.")),E2=oe("editorIndentGuide.activeBackground",{dark:Dp,light:Dp,hc:Dp},D("editorActiveIndentGuide","Color of the active editor indentation guides.")),Yte=oe("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:ae.white},D("editorLineNumbers","Color of editor line numbers.")),ik=oe("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Mi},D("editorActiveLineNumber","Color of editor active line number"),!1,D("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),OOe=oe("editorLineNumber.activeForeground",{dark:ik,light:ik,hc:ik},D("editorActiveLineNumber","Color of editor active line number")),kOe=oe("editorRuler.foreground",{dark:"#5A5A5A",light:ae.lightgrey,hc:ae.white},D("editorRuler","Color of the editor rulers.")),ROe=oe("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},D("editorCodeLensForeground","Foreground color of editor code lenses")),POe=oe("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},D("editorBracketMatchBackground","Background color behind matching brackets")),Xte=oe("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Wr},D("editorBracketMatchBorder","Color for matching brackets boxes")),MOe=oe("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},D("editorOverviewRulerBorder","Color of the overview ruler border.")),FOe=oe("editorGutter.background",{dark:_l,light:_l,hc:_l},D("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),BOe=oe("editorUnnecessaryCode.border",{dark:null,light:null,hc:ae.fromHex("#fff").transparent(.8)},D("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),HOe=oe("editorUnnecessaryCode.opacity",{dark:ae.fromHex("#000a"),light:ae.fromHex("#0007"),hc:null},D("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),VOe=oe("editorOverviewRuler.errorForeground",{dark:new ae(new yn(255,18,18,.7)),light:new ae(new yn(255,18,18,.7)),hc:new ae(new yn(255,50,50,1))},D("overviewRuleError","Overview ruler marker color for errors.")),WOe=oe("editorOverviewRuler.warningForeground",{dark:XT,light:XT,hc:a5},D("overviewRuleWarning","Overview ruler marker color for warnings.")),UOe=oe("editorOverviewRuler.infoForeground",{dark:QT,light:QT,hc:u5},D("overviewRuleInfo","Overview ruler marker color for infos."));mn(function(n,e){var t=n.getColor(_l);t&&e.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+t+"; }");var r=n.getColor(ch);r&&e.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+r+"; }");var i=n.getColor(FOe);i&&e.addRule(".monaco-editor .margin { background-color: "+i+"; }");var o=n.getColor(xOe);o&&e.addRule(".monaco-editor .rangeHighlight { background-color: "+o+"; }");var s=n.getColor(LOe);s&&e.addRule(".monaco-editor .rangeHighlight { border: 1px "+(n.type==="hc"?"dotted":"solid")+" "+s+"; }");var a=n.getColor(Dp);a&&e.addRule(".vs-whitespace { color: "+a+" !important; }")});var jOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qte=function(n){jOe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._readConfig(),r._lastCursorModelPosition=new ee(1,1),r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype._readConfig=function(){var t=this._context.configuration.editor;this._lineHeight=t.lineHeight,this._renderLineNumbers=t.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=t.viewInfo.renderCustomLineNumbers,this._renderFinalNewline=t.viewInfo.renderFinalNewline,this._lineNumbersLeft=t.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=t.layoutInfo.lineNumbersWidth},e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return this._readConfig(),!0},e.prototype.onCursorStateChanged=function(t){var r=t.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(r),this._renderLineNumbers===2||this._renderLineNumbers===3},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getLineRenderLineNumber=function(t){var r=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new ee(t,1));if(r.column!==1)return"";var i=r.lineNumber;if(!this._renderFinalNewline){var o=this._context.model.getLineCount(),s=this._context.model.getLineContent(i);if(i===o&&s==="")return""}if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){var a=Math.abs(this._lastCursorModelPosition.lineNumber-i);return a===0?'<span class="relative-current-line-number">'+i+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)},e.prototype.prepareRender=function(t){if(this._renderLineNumbers===0){this._renderResult=null;return}for(var r=Xc?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=t.visibleRange.startLineNumber,o=t.visibleRange.endLineNumber,s='<div class="'+e.CLASS_NAME+r+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',a=[],u=i;u<=o;u++){var l=u-i,c=this._getLineRenderLineNumber(u);c?a[l]=s+c+"</div>":a[l]=""}this._renderResult=a},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e.CLASS_NAME="line-numbers",e}(fg);mn(function(n,e){var t=n.getColor(Yte);t&&e.addRule(".monaco-editor .line-numbers { color: "+t+"; }");var r=n.getColor(OOe);r&&e.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+r+"; }")});var qOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zte=function(n){qOe(e,n);function e(t){var r=n.call(this,t)||this;return r._canUseLayerHinting=r._context.configuration.editor.canUseLayerHinting,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r._glyphMarginLeft=r._context.configuration.editor.layoutInfo.glyphMarginLeft,r._glyphMarginWidth=r._context.configuration.editor.layoutInfo.glyphMarginWidth,r._domNode=wt(document.createElement("div")),r._domNode.setClassName(e.OUTER_CLASS_NAME),r._domNode.setPosition("absolute"),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._glyphMarginBackgroundDomNode=wt(document.createElement("div")),r._glyphMarginBackgroundDomNode.setClassName(e.CLASS_NAME),r._domNode.appendChild(r._glyphMarginBackgroundDomNode),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){return t.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onScrollChanged=function(t){return n.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setLayerHinting(this._canUseLayerHinting);var r=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-r);var i=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},e.CLASS_NAME="glyph-margin",e.OUTER_CLASS_NAME="margin",e}(Ea),zOe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GOe=function(){function n(e){this.type=1,this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.emptySelectionClipboard=e.emptySelectionClipboard,this.copyWithSyntaxHighlighting=e.copyWithSyntaxHighlighting,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo}return n}(),$Oe=function(){function n(e){this.type=2,this.selections=e}return n}(),gv=function(){function n(){this.type=3}return n}(),ME=function(){function n(){this.type=4}return n}(),iz=function(){function n(e){this.type=5,this.isFocused=e}return n}(),FE=function(){function n(){this.type=6}return n}(),Jte=function(){function n(e,t){this.type=7,this.fromLineNumber=e,this.toLineNumber=t}return n}(),YM=function(){function n(e,t){this.type=8,this.fromLineNumber=e,this.toLineNumber=t}return n}(),XM=function(){function n(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}return n}(),g5=function(){function n(e,t,r,i){this.type=10,this.range=e,this.verticalType=t,this.revealHorizontal=r,this.scrollType=i}return n}(),KOe=function(){function n(e){this.type=11,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}return n}(),YOe=function(){function n(e){this.type=12,this.ranges=e}return n}(),XOe=function(){function n(){this.type=15}return n}(),QOe=function(){function n(){this.type=13}return n}(),ZOe=function(){function n(){this.type=14}return n}(),JOe=function(){function n(){this.type=16}return n}(),ene=function(n){zOe(e,n);function e(){var t=n.call(this)||this;return t._listeners=[],t._collector=null,t._collectorCnt=0,t}return e.prototype.dispose=function(){this._listeners=[],n.prototype.dispose.call(this)},e.prototype._beginEmit=function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new eke),this._collector},e.prototype._endEmit=function(){if(this._collectorCnt--,this._collectorCnt===0){var t=this._collector.finalize();this._collector=null,t.length>0&&this._emit(t)}},e.prototype._emit=function(t){for(var r=this._listeners.slice(0),i=0,o=r.length;i<o;i++)tke(r[i],t)},e.prototype.addEventListener=function(t){var r=this;return this._listeners.push(t),bn(function(){for(var i=r._listeners,o=0,s=i.length;o<s;o++)if(i[o]===t){i.splice(o,1);break}})},e}(he),eke=function(){function n(){this._eventsLen=0,this._events=[],this._eventsLen=0}return n.prototype.emit=function(e){this._events[this._eventsLen++]=e},n.prototype.finalize=function(){var e=this._events;return this._events=[],e},n}();function tke(n,e){try{n(e)}catch(t){He(t)}}var nke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rke=function(){function n(e,t,r){this.top=e,this.left=t,this.width=r}return n.prototype.setWidth=function(e){return new n(this.top,this.left,e)},n}(),BE=vl||Fc,oz=function(){function n(){this._lastState=null}return n.prototype.set=function(e){this._lastState=e},n.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState:(this._lastState=null,null)},n.INSTANCE=new n,n}(),ike=function(n){nke(e,n);function e(t,r,i){var o=n.call(this,t)||this;o._primaryCursorVisibleRange=null,o._viewController=r,o._viewHelper=i;var s=o._context.configuration.editor;o._accessibilitySupport=s.accessibilitySupport,o._contentLeft=s.layoutInfo.contentLeft,o._contentWidth=s.layoutInfo.contentWidth,o._contentHeight=s.layoutInfo.contentHeight,o._scrollLeft=0,o._scrollTop=0,o._fontInfo=s.fontInfo,o._lineHeight=s.lineHeight,o._emptySelectionClipboard=s.emptySelectionClipboard,o._copyWithSyntaxHighlighting=s.copyWithSyntaxHighlighting,o._visibleTextArea=null,o._selections=[new Re(1,1,1,1)],o.textArea=wt(document.createElement("textarea")),Rl.write(o.textArea,6),o.textArea.setClassName("inputarea"),o.textArea.setAttribute("wrap","off"),o.textArea.setAttribute("autocorrect","off"),o.textArea.setAttribute("autocapitalize","off"),o.textArea.setAttribute("autocomplete","off"),o.textArea.setAttribute("spellcheck","false"),o.textArea.setAttribute("aria-label",s.viewInfo.ariaLabel),o.textArea.setAttribute("role","textbox"),o.textArea.setAttribute("aria-multiline","true"),o.textArea.setAttribute("aria-haspopup","false"),o.textArea.setAttribute("aria-autocomplete","both"),o.textAreaCover=wt(document.createElement("div")),o.textAreaCover.setPosition("absolute");var a={getLineCount:function(){return o._context.model.getLineCount()},getLineMaxColumn:function(l){return o._context.model.getLineMaxColumn(l)},getValueInRange:function(l,c){return o._context.model.getValueInRange(l,c)}},u={getPlainTextToCopy:function(){var l=o._context.model.getPlainTextToCopy(o._selections,o._emptySelectionClipboard,xo),c=o._context.model.getEOL(),h=o._emptySelectionClipboard&&o._selections.length===1&&o._selections[0].isEmpty(),d=Array.isArray(l)?l:null,p=Array.isArray(l)?l.join(c):l,v=null;if(h||d){var m=Fc?p.replace(/\r\n/g,`
`):p;v={lastCopiedValue:m,isFromEmptySelection:o._emptySelectionClipboard&&o._selections.length===1&&o._selections[0].isEmpty(),multicursorText:d}}return oz.INSTANCE.set(v),p},getHTMLToCopy:function(){return!o._copyWithSyntaxHighlighting&&!$T.forceCopyWithSyntaxHighlighting?null:o._context.model.getHTMLToCopy(o._selections,o._emptySelectionClipboard)},getScreenReaderContent:function(l){if(NT)return Qs.EMPTY;if(o._accessibilitySupport===1){if(Tt){var c=o._selections[0];if(c.isEmpty()){var h=c.getStartPosition(),d=o._getWordBeforePosition(h);if(d.length===0&&(d=o._getCharacterBeforePosition(h)),d.length>0)return new Qs(d,d.length,d.length,h,h)}}return Qs.EMPTY}return FNe.fromEditorSelection(l,a,o._selections[0],o._accessibilitySupport===0)},deduceModelPosition:function(l,c,h){return o._context.model.deduceModelPositionRelativeToViewPosition(l,c,h)}};return o._textAreaInput=o._register(new BNe(u,o.textArea)),o._register(o._textAreaInput.onKeyDown(function(l){o._viewController.emitKeyDown(l)})),o._register(o._textAreaInput.onKeyUp(function(l){o._viewController.emitKeyUp(l)})),o._register(o._textAreaInput.onPaste(function(l){var c=oz.INSTANCE.get(l.text),h=!1,d=null;c&&(h=o._emptySelectionClipboard&&c.isFromEmptySelection,d=c.multicursorText),o._viewController.paste("keyboard",l.text,h,d)})),o._register(o._textAreaInput.onCut(function(){o._viewController.cut("keyboard")})),o._register(o._textAreaInput.onType(function(l){l.replaceCharCnt?o._viewController.replacePreviousChar("keyboard",l.text,l.replaceCharCnt):o._viewController.type("keyboard",l.text)})),o._register(o._textAreaInput.onSelectionChangeRequest(function(l){o._viewController.setSelection("keyboard",l)})),o._register(o._textAreaInput.onCompositionStart(function(){var l=o._selections[0].startLineNumber,c=o._selections[0].startColumn;o._context.privateViewEventBus.emit(new g5(new H(l,c,l,c),0,!0,1));var h=o._viewHelper.visibleRangeForPositionRelativeToEditor(l,c);h&&(o._visibleTextArea=new rke(o._context.viewLayout.getVerticalOffsetForLineNumber(l),h.left,BE?0:1),o._render()),o.textArea.setClassName("inputarea ime-input"),o._viewController.compositionStart("keyboard")})),o._register(o._textAreaInput.onCompositionUpdate(function(l){vl?o._visibleTextArea=o._visibleTextArea.setWidth(0):o._visibleTextArea=o._visibleTextArea.setWidth(oke(l.data,o._fontInfo)),o._render()})),o._register(o._textAreaInput.onCompositionEnd(function(){o._visibleTextArea=null,o._render(),o.textArea.setClassName("inputarea"),o._viewController.compositionEnd("keyboard")})),o._register(o._textAreaInput.onFocus(function(){o._context.privateViewEventBus.emit(new iz(!0))})),o._register(o._textAreaInput.onBlur(function(){o._context.privateViewEventBus.emit(new iz(!1))})),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._getWordBeforePosition=function(t){for(var r=this._context.model.getLineContent(t.lineNumber),i=jl(this._context.configuration.editor.wordSeparators),o=t.column,s=0;o>1;){var a=r.charCodeAt(o-2),u=i.get(a);if(u!==0||s>50)return r.substring(o-1,t.column-1);s++,o--}return r.substring(0,t.column-1)},e.prototype._getCharacterBeforePosition=function(t){if(t.column>1){var r=this._context.model.getLineContent(t.lineNumber),i=r.charAt(t.column-2);if(!ts(i.charCodeAt(0)))return i}return""},e.prototype.onConfigurationChanged=function(t){var r=this._context.configuration.editor;return t.fontInfo&&(this._fontInfo=r.fontInfo),t.viewInfo&&this.textArea.setAttribute("aria-label",r.viewInfo.ariaLabel),t.layoutInfo&&(this._contentLeft=r.layoutInfo.contentLeft,this._contentWidth=r.layoutInfo.contentWidth,this._contentHeight=r.layoutInfo.contentHeight),t.lineHeight&&(this._lineHeight=r.lineHeight),t.accessibilitySupport&&(this._accessibilitySupport=r.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),t.emptySelectionClipboard&&(this._emptySelectionClipboard=r.emptySelectionClipboard),t.copyWithSyntaxHighlighting&&(this._copyWithSyntaxHighlighting=r.copyWithSyntaxHighlighting),!0},e.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.isFocused=function(){return this._textAreaInput.isFocused()},e.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},e.prototype.prepareRender=function(t){var r=new ee(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=t.visibleRangeForPosition(r)},e.prototype.render=function(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()},e.prototype._render=function(){if(this._visibleTextArea){this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var r=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(r<0||r>this._contentHeight){this._renderAtTopLeft();return}this._renderInsideEditor(r,t,BE?0:1,BE?0:1,!1)},e.prototype._renderInsideEditor=function(t,r,i,o,s){var a=this.textArea,u=this.textAreaCover;s?ya.applyFontInfo(a,this._fontInfo):(a.setFontSize(1),a.setLineHeight(this._fontInfo.lineHeight)),a.setTop(t),a.setLeft(r),a.setWidth(i),a.setHeight(o),u.setTop(0),u.setLeft(0),u.setWidth(0),u.setHeight(0)},e.prototype._renderAtTopLeft=function(){var t=this.textArea,r=this.textAreaCover;if(ya.applyFontInfo(t,this._fontInfo),t.setTop(0),t.setLeft(0),r.setTop(0),r.setLeft(0),BE){t.setWidth(0),t.setHeight(0),r.setWidth(0),r.setHeight(0);return}t.setWidth(1),t.setHeight(1),r.setWidth(1),r.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?r.setClassName("monaco-editor-background textAreaCover "+Zte.OUTER_CLASS_NAME):this._context.configuration.editor.viewInfo.renderLineNumbers!==0?r.setClassName("monaco-editor-background textAreaCover "+Qte.CLASS_NAME):r.setClassName("monaco-editor-background textAreaCover")},e}(Ea);function oke(n,e){var t=document.createElement("canvas"),r=t.getContext("2d");r.font=ske(e);var i=r.measureText(n);return Fc?i.width+2:i.width}function ske(n){return ake("normal",n.fontWeight,n.fontSize,n.lineHeight,n.fontFamily)}function ake(n,e,t,r,i){return n+" normal "+e+" "+t+"px / "+r+"px "+i}var ay=function(){function n(){}return n.columnSelect=function(e,t,r,i,o,s){for(var a=Math.abs(o-r)+1,u=r>o,l=i>s,c=i<s,h=[],d=0;d<a;d++){var p=r+(u?-d:d),v=hn.columnFromVisibleColumn2(e,t,p,i),m=hn.columnFromVisibleColumn2(e,t,p,s),_=hn.visibleColumnFromColumn2(e,t,new ee(p,v)),b=hn.visibleColumnFromColumn2(e,t,new ee(p,m));c&&(_>s||b<i)||l&&(b>i||_<s)||h.push(new _o(new H(p,v,p,v),0,new ee(p,m),0))}if(h.length===0)for(var d=0;d<a;d++){var p=r+(u?-d:d),C=t.getLineMaxColumn(p);h.push(new _o(new H(p,C,p,C),0,new ee(p,C),0))}return{viewStates:h,reversed:u,fromLineNumber:r,fromVisualColumn:i,toLineNumber:o,toVisualColumn:s}},n.columnSelectLeft=function(e,t,r){var i=r.toViewVisualColumn;return i>1&&i--,n.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,r.toViewLineNumber,i)},n.columnSelectRight=function(e,t,r){for(var i=0,o=Math.min(r.fromViewLineNumber,r.toViewLineNumber),s=Math.max(r.fromViewLineNumber,r.toViewLineNumber),a=o;a<=s;a++){var u=t.getLineMaxColumn(a),l=hn.visibleColumnFromColumn2(e,t,new ee(a,u));i=Math.max(i,l)}var c=r.toViewVisualColumn;return c<i&&c++,this.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,r.toViewLineNumber,c)},n.columnSelectUp=function(e,t,r,i){var o=i?e.pageSize:1,s=Math.max(1,r.toViewLineNumber-o);return this.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,s,r.toViewVisualColumn)},n.columnSelectDown=function(e,t,r,i){var o=i?e.pageSize:1,s=Math.min(t.getLineCount(),r.toViewLineNumber+o);return this.columnSelect(e,t,r.fromViewLineNumber,r.fromViewVisualColumn,s,r.toViewVisualColumn)},n}(),kr=function(){function n(e,t,r){r===void 0&&(r=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new Re(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},n}(),HE=function(){function n(e,t,r){r===void 0&&(r=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new Re(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)},n}(),QM=function(){function n(e,t,r,i,o){o===void 0&&(o=!1),this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=r,this.insertsAutoWhitespace=o}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return new Re(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)},n}(),ZT=function(){function n(e,t,r){this._range=e,this._text=t,this._initialSelection=r,this._selectionId=null}return n.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text),this._selectionId=t.trackSelection(this._initialSelection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},n}(),VE=function(){function n(e,t,r){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=r}return n}(),wr=function(){function n(){}return n.left=function(e,t,r,i){return i>t.getLineMinColumn(r)?hn.isLowSurrogate(t,r,i-2)?i=i-2:i=i-1:r>1&&(r=r-1,i=t.getLineMaxColumn(r)),new VE(r,i,0)},n.moveLeft=function(e,t,r,i,o){var s,a;if(r.hasSelection()&&!i)s=r.selection.startLineNumber,a=r.selection.startColumn;else{var u=n.left(e,t,r.position.lineNumber,r.position.column-(o-1));s=u.lineNumber,a=u.column}return r.move(i,s,a,0)},n.right=function(e,t,r,i){return i<t.getLineMaxColumn(r)?hn.isHighSurrogate(t,r,i-1)?i=i+2:i=i+1:r<t.getLineCount()&&(r=r+1,i=t.getLineMinColumn(r)),new VE(r,i,0)},n.moveRight=function(e,t,r,i,o){var s,a;if(r.hasSelection()&&!i)s=r.selection.endLineNumber,a=r.selection.endColumn;else{var u=n.right(e,t,r.position.lineNumber,r.position.column+(o-1));s=u.lineNumber,a=u.column}return r.move(i,s,a,0)},n.down=function(e,t,r,i,o,s,a){var u=hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize)+o;r=r+s;var l=t.getLineCount();return r>l?(r=l,a?i=t.getLineMaxColumn(r):(i=Math.min(t.getLineMaxColumn(r),i),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1))):(i=hn.columnFromVisibleColumn2(e,t,r,u),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1)),o=u-hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize),new VE(r,i,o)},n.moveDown=function(e,t,r,i,o){var s,a;r.hasSelection()&&!i?(s=r.selection.endLineNumber,a=r.selection.endColumn):(s=r.position.lineNumber,a=r.position.column);var u=n.down(e,t,s,a,r.leftoverVisibleColumns,o,!0);return r.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns)},n.translateDown=function(e,t,r){var i=r.selection,o=n.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=n.down(e,t,i.positionLineNumber,i.positionColumn,r.leftoverVisibleColumns,1,!1);return new _o(new H(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new ee(s.lineNumber,s.column),s.leftoverVisibleColumns)},n.up=function(e,t,r,i,o,s,a){var u=hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize)+o;return r=r-s,r<1?(r=1,a?i=t.getLineMinColumn(r):(i=Math.min(t.getLineMaxColumn(r),i),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1))):(i=hn.columnFromVisibleColumn2(e,t,r,u),hn.isInsideSurrogatePair(t,r,i)&&(i=i-1)),o=u-hn.visibleColumnFromColumn(t.getLineContent(r),i,e.tabSize),new VE(r,i,o)},n.moveUp=function(e,t,r,i,o){var s,a;r.hasSelection()&&!i?(s=r.selection.startLineNumber,a=r.selection.startColumn):(s=r.position.lineNumber,a=r.position.column);var u=n.up(e,t,s,a,r.leftoverVisibleColumns,o,!0);return r.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns)},n.translateUp=function(e,t,r){var i=r.selection,o=n.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=n.up(e,t,i.positionLineNumber,i.positionColumn,r.leftoverVisibleColumns,1,!1);return new _o(new H(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new ee(s.lineNumber,s.column),s.leftoverVisibleColumns)},n.moveToBeginningOfLine=function(e,t,r,i){var o=r.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s,u,l=r.position.column;return l===a?u=s:u=a,r.move(i,o,u,0)},n.moveToEndOfLine=function(e,t,r,i){var o=r.position.lineNumber,s=t.getLineMaxColumn(o);return r.move(i,o,s,0)},n.moveToBeginningOfBuffer=function(e,t,r,i){return r.move(i,1,1,0)},n.moveToEndOfBuffer=function(e,t,r,i){var o=t.getLineCount(),s=t.getLineMaxColumn(o);return r.move(i,o,s,0)},n}(),ZM=function(){function n(){}return n.deleteRight=function(e,t,r,i){for(var o=[],s=e!==3,a=0,u=i.length;a<u;a++){var l=i[a],c=l;if(c.isEmpty()){var h=l.getPosition(),d=wr.right(t,r,h.lineNumber,h.column);c=new H(d.lineNumber,d.column,h.lineNumber,h.column)}if(c.isEmpty()){o[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(s=!0),o[a]=new kr(c,"")}return[s,o]},n._isAutoClosingPairDelete=function(e,t,r){if(e.autoClosingBrackets==="never"&&e.autoClosingQuotes==="never")return!1;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=s.getPosition();if(!s.isEmpty())return!1;var u=t.getLineContent(a.lineNumber),l=u[a.column-2],c=e.autoClosingPairsOpen2.get(l);if(!c)return!1;if(Py(l)){if(e.autoClosingQuotes==="never")return!1}else if(e.autoClosingBrackets==="never")return!1;for(var h=u[a.column-1],d=!1,p=0,v=c;p<v.length;p++){var m=v[p];m.open===l&&m.close===h&&(d=!0)}if(!d)return!1}return!0},n._runAutoClosingPairDelete=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o].getPosition(),u=new H(a.lineNumber,a.column-1,a.lineNumber,a.column+1);i[o]=new kr(u,"")}return[!0,i]},n.deleteLeft=function(e,t,r,i){if(this._isAutoClosingPairDelete(t,r,i))return this._runAutoClosingPairDelete(t,r,i);for(var o=[],s=e!==2,a=0,u=i.length;a<u;a++){var l=i[a],c=l;if(c.isEmpty()){var h=l.getPosition();if(t.useTabStops&&h.column>1){var d=r.getLineContent(h.lineNumber),p=Ns(d),v=p===-1?d.length+1:p+1;if(h.column<=v){var m=hn.visibleColumnFromColumn2(t,r,h),_=hn.prevIndentTabStop(m,t.indentSize),b=hn.columnFromVisibleColumn2(t,r,h.lineNumber,_);c=new H(h.lineNumber,b,h.lineNumber,h.column)}else c=new H(h.lineNumber,h.column-1,h.lineNumber,h.column)}else{var C=wr.left(t,r,h.lineNumber,h.column);c=new H(C.lineNumber,C.column,h.lineNumber,h.column)}}if(c.isEmpty()){o[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(s=!0),o[a]=new kr(c,"")}return[s,o]},n.cut=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o];if(a.isEmpty())if(e.emptySelectionClipboard){var u=a.getPosition(),l=void 0,c=void 0,h=void 0,d=void 0;u.lineNumber<t.getLineCount()?(l=u.lineNumber,c=1,h=u.lineNumber+1,d=1):u.lineNumber>1?(l=u.lineNumber-1,c=t.getLineMaxColumn(u.lineNumber-1),h=u.lineNumber,d=t.getLineMaxColumn(u.lineNumber)):(l=u.lineNumber,c=1,h=u.lineNumber,d=t.getLineMaxColumn(u.lineNumber));var p=new H(l,c,h,d);p.isEmpty()?i[o]=null:i[o]=new kr(p,"")}else i[o]=null;else i[o]=new kr(a,"")}return new $o(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n}(),uke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Si=function(){function n(){}return n._createWord=function(e,t,r,i,o){return{start:i,end:o,wordType:t,nextCharClass:r}},n._findPreviousWordOnLine=function(e,t,r){var i=t.getLineContent(r.lineNumber);return this._doFindPreviousWordOnLine(i,e,r)},n._doFindPreviousWordOnLine=function(e,t,r){for(var i=0,o=r.column-2;o>=0;o--){var s=e.charCodeAt(o),a=t.get(s);if(a===0){if(i===2)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1));i=1}else if(a===2){if(i===1)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1));i=2}else if(a===1&&i!==0)return this._createWord(e,i,a,o+1,this._findEndOfWord(e,t,i,o+1))}return i!==0?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null},n._findEndOfWord=function(e,t,r,i){for(var o=e.length,s=i;s<o;s++){var a=e.charCodeAt(s),u=t.get(a);if(u===1||r===1&&u===2||r===2&&u===0)return s}return o},n._findNextWordOnLine=function(e,t,r){var i=t.getLineContent(r.lineNumber);return this._doFindNextWordOnLine(i,e,r)},n._doFindNextWordOnLine=function(e,t,r){for(var i=0,o=e.length,s=r.column-1;s<o;s++){var a=e.charCodeAt(s),u=t.get(a);if(u===0){if(i===2)return this._createWord(e,i,u,this._findStartOfWord(e,t,i,s-1),s);i=1}else if(u===2){if(i===1)return this._createWord(e,i,u,this._findStartOfWord(e,t,i,s-1),s);i=2}else if(u===1&&i!==0)return this._createWord(e,i,u,this._findStartOfWord(e,t,i,s-1),s)}return i!==0?this._createWord(e,i,1,this._findStartOfWord(e,t,i,o-1),o):null},n._findStartOfWord=function(e,t,r,i){for(var o=i;o>=0;o--){var s=e.charCodeAt(o),a=t.get(s);if(a===1||r===1&&a===2||r===2&&a===0)return o+1}return 0},n.moveWordLeft=function(e,t,r,i){var o=r.lineNumber,s=r.column,a=!1;s===1&&o>1&&(a=!0,o=o-1,s=t.getLineMaxColumn(o));var u=n._findPreviousWordOnLine(e,t,new ee(o,s));if(i===0){if(u&&!a){var l=t.getLineLastNonWhitespaceColumn(o);if(l<s)return new ee(o,u.end+1)}return new ee(o,u?u.start+1:1)}if(i===1)return u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=n._findPreviousWordOnLine(e,t,new ee(o,u.start+1))),new ee(o,u?u.start+1:1);if(i===3){for(;u&&u.wordType===2;)u=n._findPreviousWordOnLine(e,t,new ee(o,u.start+1));return new ee(o,u?u.start+1:1)}return u&&s<=u.end+1&&(u=n._findPreviousWordOnLine(e,t,new ee(o,u.start+1))),new ee(o,u?u.end+1:1)},n._moveWordPartLeft=function(e,t){var r=t.lineNumber,i=e.getLineMaxColumn(r);if(t.column===1)return r>1?new ee(r-1,e.getLineMaxColumn(r-1)):t;for(var o=e.getLineContent(r),s=t.column-1;s>1;s--){var a=o.charCodeAt(s-2),u=o.charCodeAt(s-1);if(a!==95&&u===95)return new ee(r,s);if(Cc(a)&&hu(u))return new ee(r,s);if(hu(a)&&hu(u)&&s+1<i){var l=o.charCodeAt(s);if(Cc(l))return new ee(r,s)}}return new ee(r,1)},n.moveWordRight=function(e,t,r,i){var o=r.lineNumber,s=r.column,a=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,s=1);var u=n._findNextWordOnLine(e,t,new ee(o,s));if(i===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=n._findNextWordOnLine(e,t,new ee(o,u.end+1))),u?s=u.end+1:s=t.getLineMaxColumn(o);else if(i===3){for(;u&&u.wordType===2;)u=n._findNextWordOnLine(e,t,new ee(o,u.end+1));u?s=u.end+1:s=t.getLineMaxColumn(o)}else u&&!a&&s>=u.start+1&&(u=n._findNextWordOnLine(e,t,new ee(o,u.end+1))),u?s=u.start+1:s=t.getLineMaxColumn(o);return new ee(o,s)},n._moveWordPartRight=function(e,t){var r=t.lineNumber,i=e.getLineMaxColumn(r);if(t.column===i)return r<e.getLineCount()?new ee(r+1,1):t;for(var o=e.getLineContent(r),s=t.column+1;s<i;s++){var a=o.charCodeAt(s-2),u=o.charCodeAt(s-1);if(a===95&&u!==95)return new ee(r,s);if(Cc(a)&&hu(u))return new ee(r,s);if(hu(a)&&hu(u)&&s+1<i){var l=o.charCodeAt(s);if(Cc(l))return new ee(r,s)}}return new ee(r,i)},n._deleteWordLeftWhitespace=function(e,t){var r=e.getLineContent(t.lineNumber),i=t.column-2,o=Bh(r,i);return o+1<i?new H(t.lineNumber,o+2,t.lineNumber,t.column):null},n.deleteWordLeft=function(e,t,r,i,o){if(!r.isEmpty())return r;var s=new ee(r.positionLineNumber,r.positionColumn),a=s.lineNumber,u=s.column;if(a===1&&u===1)return null;if(i){var l=this._deleteWordLeftWhitespace(t,s);if(l)return l}var c=n._findPreviousWordOnLine(e,t,s);return o===0?c?u=c.start+1:u>1?u=1:(a--,u=t.getLineMaxColumn(a)):(c&&u<=c.end+1&&(c=n._findPreviousWordOnLine(e,t,new ee(a,c.start+1))),c?u=c.end+1:u>1?u=1:(a--,u=t.getLineMaxColumn(a))),new H(a,u,s.lineNumber,s.column)},n._deleteWordPartLeft=function(e,t){if(!t.isEmpty())return t;var r=t.getPosition(),i=n._moveWordPartLeft(e,r);return new H(r.lineNumber,r.column,i.lineNumber,i.column)},n._findFirstNonWhitespaceChar=function(e,t){for(var r=e.length,i=t;i<r;i++){var o=e.charAt(i);if(o!==" "&&o!=="	")return i}return r},n._deleteWordRightWhitespace=function(e,t){var r=e.getLineContent(t.lineNumber),i=t.column-1,o=this._findFirstNonWhitespaceChar(r,i);return i+1<o?new H(t.lineNumber,t.column,t.lineNumber,o+1):null},n.deleteWordRight=function(e,t,r,i,o){if(!r.isEmpty())return r;var s=new ee(r.positionLineNumber,r.positionColumn),a=s.lineNumber,u=s.column,l=t.getLineCount(),c=t.getLineMaxColumn(a);if(a===l&&u===c)return null;if(i){var h=this._deleteWordRightWhitespace(t,s);if(h)return h}var d=n._findNextWordOnLine(e,t,s);return o===2?d?u=d.end+1:u<c||a===l?u=c:(a++,d=n._findNextWordOnLine(e,t,new ee(a,1)),d?u=d.start+1:u=t.getLineMaxColumn(a)):(d&&u>=d.start+1&&(d=n._findNextWordOnLine(e,t,new ee(a,d.end+1))),d?u=d.start+1:u<c||a===l?u=c:(a++,d=n._findNextWordOnLine(e,t,new ee(a,1)),d?u=d.start+1:u=t.getLineMaxColumn(a))),new H(a,u,s.lineNumber,s.column)},n._deleteWordPartRight=function(e,t){if(!t.isEmpty())return t;var r=t.getPosition(),i=n._moveWordPartRight(e,r);return new H(r.lineNumber,r.column,i.lineNumber,i.column)},n.word=function(e,t,r,i,o){var s=jl(e.wordSeparators),a=n._findPreviousWordOnLine(s,t,o),u=n._findNextWordOnLine(s,t,o);if(!i){var l,c;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(l=a.start+1,c=a.end+1):u&&u.wordType===1&&u.start<=o.column-1&&o.column-1<=u.end?(l=u.start+1,c=u.end+1):(a?l=a.end+1:l=1,u?c=u.start+1:c=t.getLineMaxColumn(o.lineNumber)),new _o(new H(o.lineNumber,l,o.lineNumber,c),0,new ee(o.lineNumber,c),0)}var h,d;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(h=a.start+1,d=a.end+1):u&&u.wordType===1&&u.start<o.column-1&&o.column-1<u.end?(h=u.start+1,d=u.end+1):(h=o.column,d=o.column);var p=o.lineNumber,v;if(r.selectionStart.containsPosition(o))v=r.selectionStart.endColumn;else if(o.isBeforeOrEqual(r.selectionStart.getStartPosition())){v=h;var m=new ee(p,v);r.selectionStart.containsPosition(m)&&(v=r.selectionStart.endColumn)}else{v=d;var m=new ee(p,v);r.selectionStart.containsPosition(m)&&(v=r.selectionStart.startColumn)}return r.move(!0,p,v,0)},n}(),S2=function(n){uke(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.deleteWordPartLeft=function(t,r,i,o){var s=WE([Si.deleteWordLeft(t,r,i,o,0),Si.deleteWordLeft(t,r,i,o,2),Si._deleteWordPartLeft(r,i)]);return s.sort(H.compareRangesUsingEnds),s[2]},e.deleteWordPartRight=function(t,r,i,o){var s=WE([Si.deleteWordRight(t,r,i,o,0),Si.deleteWordRight(t,r,i,o,2),Si._deleteWordPartRight(r,i)]);return s.sort(H.compareRangesUsingStarts),s[0]},e.moveWordPartLeft=function(t,r,i){var o=WE([Si.moveWordLeft(t,r,i,0),Si.moveWordLeft(t,r,i,2),Si._moveWordPartLeft(r,i)]);return o.sort(ee.compare),o[2]},e.moveWordPartRight=function(t,r,i){var o=WE([Si.moveWordRight(t,r,i,0),Si.moveWordRight(t,r,i,2),Si._moveWordPartRight(r,i)]);return o.sort(ee.compare),o[0]},e}(Si);function WE(n){return n.filter(function(e){return!!e})}var si=function(){function n(){}return n.addCursorDown=function(e,t,r){for(var i=[],o=0,s=0,a=t.length;s<a;s++){var u=t[s];i[o++]=new St(u.modelState,u.viewState),r?i[o++]=St.fromModelState(wr.translateDown(e.config,e.model,u.modelState)):i[o++]=St.fromViewState(wr.translateDown(e.config,e.viewModel,u.viewState))}return i},n.addCursorUp=function(e,t,r){for(var i=[],o=0,s=0,a=t.length;s<a;s++){var u=t[s];i[o++]=new St(u.modelState,u.viewState),r?i[o++]=St.fromModelState(wr.translateUp(e.config,e.model,u.modelState)):i[o++]=St.fromViewState(wr.translateUp(e.config,e.viewModel,u.viewState))}return i},n.moveToBeginningOfLine=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=this._moveToLineStart(e,a,r)}return i},n._moveToLineStart=function(e,t,r){var i=t.viewState.position.column,o=t.modelState.position.column,s=i===o,a=t.viewState.position.lineNumber,u=e.viewModel.getLineFirstNonWhitespaceColumn(a),l=i===u;return!s&&!l?this._moveToLineStartByView(e,t,r):this._moveToLineStartByModel(e,t,r)},n._moveToLineStartByView=function(e,t,r){return St.fromViewState(wr.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,r))},n._moveToLineStartByModel=function(e,t,r){return St.fromModelState(wr.moveToBeginningOfLine(e.config,e.model,t.modelState,r))},n.moveToEndOfLine=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=this._moveToLineEnd(e,a,r)}return i},n._moveToLineEnd=function(e,t,r){var i=t.viewState.position,o=e.viewModel.getLineMaxColumn(i.lineNumber),s=i.column===o,a=t.modelState.position,u=e.model.getLineMaxColumn(a.lineNumber),l=o-i.column===u-a.column;return s||l?this._moveToLineEndByModel(e,t,r):this._moveToLineEndByView(e,t,r)},n._moveToLineEndByView=function(e,t,r){return St.fromViewState(wr.moveToEndOfLine(e.config,e.viewModel,t.viewState,r))},n._moveToLineEndByModel=function(e,t,r){return St.fromModelState(wr.moveToEndOfLine(e.config,e.model,t.modelState,r))},n.expandLineSelection=function(e,t){for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i],a=s.viewState.selection,u=a.startLineNumber,l=e.viewModel.getLineCount(),c=a.endLineNumber,h=void 0;c===l?h=e.viewModel.getLineMaxColumn(l):(c++,h=1),r[i]=St.fromViewState(new _o(new H(u,1,u,1),0,new ee(c,h),0))}return r},n.moveToBeginningOfBuffer=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=St.fromModelState(wr.moveToBeginningOfBuffer(e.config,e.model,a.modelState,r))}return i},n.moveToEndOfBuffer=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o];i[o]=St.fromModelState(wr.moveToEndOfBuffer(e.config,e.model,a.modelState,r))}return i},n.selectAll=function(e,t){var r=e.model.getLineCount(),i=e.model.getLineMaxColumn(r);return St.fromModelState(new _o(new H(1,1,1,1),0,new ee(r,i),0))},n.line=function(e,t,r,i,o){var s=e.model.validatePosition(i),a=o?e.validateViewPosition(new ee(o.lineNumber,o.column),s):e.convertModelPositionToViewPosition(s);if(!r||!t.modelState.hasSelection()){var u=e.model.getLineCount(),l=s.lineNumber+1,c=1;return l>u&&(l=u,c=e.model.getLineMaxColumn(l)),St.fromModelState(new _o(new H(s.lineNumber,1,l,c),0,new ee(l,c),0))}var h=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<h)return St.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>h){var u=e.viewModel.getLineCount(),d=a.lineNumber+1,p=1;return d>u&&(d=u,p=e.viewModel.getLineMaxColumn(d)),St.fromViewState(t.viewState.move(t.modelState.hasSelection(),d,p,0))}else{var v=t.modelState.selectionStart.getEndPosition();return St.fromModelState(t.modelState.move(t.modelState.hasSelection(),v.lineNumber,v.column,0))}},n.word=function(e,t,r,i){var o=e.model.validatePosition(i);return St.fromModelState(Si.word(e.config,e.model,t.modelState,r,o))},n.cancelSelection=function(e,t){if(!t.modelState.hasSelection())return new St(t.modelState,t.viewState);var r=t.viewState.position.lineNumber,i=t.viewState.position.column;return St.fromViewState(new _o(new H(r,i,r,i),0,new ee(r,i),0))},n.moveTo=function(e,t,r,i,o){var s=e.model.validatePosition(i),a=o?e.validateViewPosition(new ee(o.lineNumber,o.column),s):e.convertModelPositionToViewPosition(s);return St.fromViewState(t.viewState.move(r,a.lineNumber,a.column,0))},n.move=function(e,t,r){var i=r.select,o=r.value;switch(r.direction){case 0:return r.unit===4?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,o);case 1:return r.unit===4?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,o);case 2:return r.unit===2?this._moveUpByViewLines(e,t,i,o):this._moveUpByModelLines(e,t,i,o);case 3:return r.unit===2?this._moveDownByViewLines(e,t,i,o):this._moveDownByModelLines(e,t,i,o);case 4:return this._moveToViewMinColumn(e,t,i);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 6:return this._moveToViewCenterColumn(e,t,i);case 7:return this._moveToViewMaxColumn(e,t,i);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,i);case 9:{var s=t[0],a=e.getCompletelyVisibleModelRange(),u=this._firstLineNumberInRange(e.model,a,o),l=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,s,i,u,l)]}case 11:{var s=t[0],a=e.getCompletelyVisibleModelRange(),u=this._lastLineNumberInRange(e.model,a,o),l=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,s,i,u,l)]}case 10:{var s=t[0],a=e.getCompletelyVisibleModelRange(),u=Math.round((a.startLineNumber+a.endLineNumber)/2),l=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,s,i,u,l)]}case 12:{for(var c=e.getCompletelyVisibleViewRange(),h=[],d=0,p=t.length;d<p;d++){var s=t[d];h[d]=this.findPositionInViewportIfOutside(e,s,c,i)}return h}}return null},n.findPositionInViewportIfOutside=function(e,t,r,i){var o=t.viewState.position.lineNumber;if(r.startLineNumber<=o&&o<=r.endLineNumber-1)return new St(t.modelState,t.viewState);o>r.endLineNumber-1&&(o=r.endLineNumber-1),o<r.startLineNumber&&(o=r.startLineNumber);var s=e.viewModel.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,i,o,s)},n._firstLineNumberInRange=function(e,t,r){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+r-1)},n._lastLineNumberInRange=function(e,t,r){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-r+1)},n._moveLeft=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s],l=wr.moveLeft(e.config,e.viewModel,u.viewState,r,i);if(i===1&&l.position.lineNumber!==u.viewState.position.lineNumber){var c=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position);c.lineNumber===u.modelState.position.lineNumber&&(l=wr.moveLeft(e.config,e.viewModel,l,r,1))}o[s]=St.fromViewState(l)}return o},n._moveHalfLineLeft=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=Math.round(e.viewModel.getLineContent(u).length/2);i[o]=St.fromViewState(wr.moveLeft(e.config,e.viewModel,a.viewState,r,l))}return i},n._moveRight=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s],l=wr.moveRight(e.config,e.viewModel,u.viewState,r,i);if(i===1&&l.position.lineNumber!==u.viewState.position.lineNumber){var c=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position);c.lineNumber===u.modelState.position.lineNumber&&(l=wr.moveRight(e.config,e.viewModel,l,r,1))}o[s]=St.fromViewState(l)}return o},n._moveHalfLineRight=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=Math.round(e.viewModel.getLineContent(u).length/2);i[o]=St.fromViewState(wr.moveRight(e.config,e.viewModel,a.viewState,r,l))}return i},n._moveDownByViewLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromViewState(wr.moveDown(e.config,e.viewModel,u.viewState,r,i))}return o},n._moveDownByModelLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromModelState(wr.moveDown(e.config,e.model,u.modelState,r,i))}return o},n._moveUpByViewLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromViewState(wr.moveUp(e.config,e.viewModel,u.viewState,r,i))}return o},n._moveUpByModelLines=function(e,t,r,i){for(var o=[],s=0,a=t.length;s<a;s++){var u=t[s];o[s]=St.fromModelState(wr.moveUp(e.config,e.model,u.modelState,r,i))}return o},n._moveToViewPosition=function(e,t,r,i,o){return St.fromViewState(t.viewState.move(r,i,o,0))},n._moveToModelPosition=function(e,t,r,i,o){return St.fromModelState(t.modelState.move(r,i,o,0))},n._moveToViewMinColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineMinColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewFirstNonWhitespaceColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineFirstNonWhitespaceColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewCenterColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=Math.round((e.viewModel.getLineMaxColumn(u)+e.viewModel.getLineMinColumn(u))/2);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewMaxColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineMaxColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n._moveToViewLastNonWhitespaceColumn=function(e,t,r){for(var i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=a.viewState.position.lineNumber,l=e.viewModel.getLineLastNonWhitespaceColumn(u);i[o]=this._moveToViewPosition(e,a,r,u,l)}return i},n}(),JT;(function(n){var e=function(r){if(!$i(r))return!1;var i=r;return!(!Ll(i.to)||!Co(i.select)&&!FJ(i.select)||!Co(i.by)&&!Ll(i.by)||!Co(i.value)&&!Pc(i.value))};n.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down'
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(r){if(!r.to)return null;var i;switch(r.to){case n.RawDirection.Left:i=0;break;case n.RawDirection.Right:i=1;break;case n.RawDirection.Up:i=2;break;case n.RawDirection.Down:i=3;break;case n.RawDirection.WrappedLineStart:i=4;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=5;break;case n.RawDirection.WrappedLineColumnCenter:i=6;break;case n.RawDirection.WrappedLineEnd:i=7;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=8;break;case n.RawDirection.ViewPortTop:i=9;break;case n.RawDirection.ViewPortBottom:i=11;break;case n.RawDirection.ViewPortCenter:i=10;break;case n.RawDirection.ViewPortIfOutside:i=12;break;default:return null}var o=0;switch(r.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Character:o=3;break;case n.RawUnit.HalfLine:o=4;break}return{direction:i,unit:o,select:!!r.select,value:r.value||1}}n.parse=t})(JT||(JT={}));var ok=Object.create(null);function Dd(n,e){ok[n]||(ok[n]=["",n]);for(var t=ok[n],r=t.length;r<=e;r++)t[r]=t[r-1]+n;return t[e]}var Qd=function(){function n(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return n.unshiftIndent=function(e,t,r,i,o){var s=hn.visibleColumnFromColumn(e,t,r);if(o){var a=Dd(" ",i),u=hn.prevIndentTabStop(s,i),l=u/i;return Dd(a,l)}else{var a="	",u=hn.prevRenderTabStop(s,r),l=u/r;return Dd(a,l)}},n.shiftIndent=function(e,t,r,i,o){var s=hn.visibleColumnFromColumn(e,t,r);if(o){var a=Dd(" ",i),u=hn.nextIndentTabStop(s,i),l=u/i;return Dd(a,l)}else{var a="	",u=hn.nextRenderTabStop(s,r),l=u/r;return Dd(a,l)}},n.prototype._addEditOperation=function(e,t,r){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,r):e.addEditOperation(t,r)},n.prototype.getEditOperations=function(e,t){var r=this._selection.startLineNumber,i=this._selection.endLineNumber;this._selection.endColumn===1&&r!==i&&(i=i-1);var o=this._opts,s=o.tabSize,a=o.indentSize,u=o.insertSpaces,l=r===i;if(this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var c=0,h=0,d=r;d<=i;d++,c=h){h=0;var p=e.getLineContent(d),v=Ns(p);if(!(this._opts.isUnshift&&(p.length===0||v===0))&&!(!l&&!this._opts.isUnshift&&p.length===0)){if(v===-1&&(v=p.length),d>1){var m=hn.visibleColumnFromColumn(p,v+1,s);if(m%a!==0&&e.isCheapToTokenize(d-1)){var _=Ot.getRawEnterActionAtPosition(e,d-1,e.getLineMaxColumn(d-1));if(_){if(h=c,_.appendText)for(var b=0,C=_.appendText.length;b<C&&h<a&&_.appendText.charCodeAt(b)===32;b++)h++;_.removeText&&(h=Math.max(0,h-_.removeText));for(var b=0;b<h&&!(v===0||p.charCodeAt(v-1)!==32);b++)v--}}}if(!(this._opts.isUnshift&&v===0)){var E=void 0;this._opts.isUnshift?E=n.unshiftIndent(p,v+1,s,a,u):E=n.shiftIndent(p,v+1,s,a,u),this._addEditOperation(t,new H(d,1,d,v+1),E),d===r&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=v+1)}}}else for(var S=u?Dd(" ",a):"	",d=r;d<=i;d++){var p=e.getLineContent(d),v=Ns(p);if(!(this._opts.isUnshift&&(p.length===0||v===0))&&!(!l&&!this._opts.isUnshift&&p.length===0)&&(v===-1&&(v=p.length),!(this._opts.isUnshift&&v===0)))if(this._opts.isUnshift){v=Math.min(v,a);for(var A=0;A<v;A++){var T=p.charCodeAt(A);if(T===9){v=A+1;break}}this._addEditOperation(t,new H(d,1,d,v+1),"")}else this._addEditOperation(t,new H(d,1,d,1),S),d===r&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}this._selectionId=t.trackSelection(this._selection)},n.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var r=t.getInverseEditOperations()[0];return new Re(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}var i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var o=this._selection.startColumn,s=i.startColumn;return s<=o?i:i.getDirection()===0?new Re(i.startLineNumber,o,i.endLineNumber,i.endColumn):new Re(i.endLineNumber,i.endColumn,i.startLineNumber,o)}return i},n}(),lke=function(){function n(e,t,r){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(new H(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new H(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range,o=r[1].range;return new Re(i.endLineNumber,i.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},n}(),cke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mu=function(){function n(){}return n.indent=function(e,t,r){if(t===null||r===null)return[];for(var i=[],o=0,s=r.length;o<s;o++)i[o]=new Qd(r[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops});return i},n.outdent=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++)i[o]=new Qd(r[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops});return i},n.shiftIndent=function(e,t,r){return r=r||1,Qd.shiftIndent(t,t.length+r,e.tabSize,e.indentSize,e.insertSpaces)},n.unshiftIndent=function(e,t,r){return r=r||1,Qd.unshiftIndent(t,t.length+r,e.tabSize,e.indentSize,e.insertSpaces)},n._distributedPaste=function(e,t,r,i){for(var o=[],s=0,a=r.length;s<a;s++)o[s]=new kr(r[s],i[s]);return new $o(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n._simplePaste=function(e,t,r,i,o){for(var s=[],a=0,u=r.length;a<u;a++){var l=r[a],c=l.getPosition();if(o&&i.indexOf(`
`)!==i.length-1&&(o=!1),o&&l.startLineNumber!==l.endLineNumber&&(o=!1),o&&l.startColumn===t.getLineMinColumn(l.startLineNumber)&&l.endColumn===t.getLineMaxColumn(l.startLineNumber)&&(o=!1),o){var h=new H(c.lineNumber,1,c.lineNumber,1);s[a]=new kr(h,i)}else s[a]=new kr(l,i)}return new $o(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n._distributePasteToCursors=function(e,t,r,i){if(r||e.length===1)return null;if(i&&i.length===e.length)return i;t.charCodeAt(t.length-1)===10&&(t=t.substr(0,t.length-1));var o=t.split(/\r\n|\r|\n/);return o.length===e.length?o:null},n.paste=function(e,t,r,i,o,s){var a=this._distributePasteToCursors(r,i,o,s);return a?(r=r.sort(H.compareRangesUsingStarts),this._distributedPaste(e,t,r,a)):this._simplePaste(e,t,r,i,o)},n._goodIndentForLine=function(e,t,r){var i=null,o="",s=e.autoIndent?Ot.getInheritIndentForLine(t,r,!1):null;if(s)i=s.action,o=s.indentation;else if(r>1){var a=void 0;for(a=r-1;a>=1;a--){var u=t.getLineContent(a),l=Bh(u);if(l>=0)break}if(a<1)return null;var c=t.getLineMaxColumn(a),h=Ot.getEnterAction(t,new H(a,c,a,c));h&&(o=h.indentation,i=h.enterAction,i&&(o+=i.appendText))}return i&&(i===Xn.Indent&&(o=n.shiftIndent(e,o)),i===Xn.Outdent&&(o=n.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null},n._replaceJumpToNextIndent=function(e,t,r,i){var o="",s=r.getStartPosition();if(e.insertSpaces)for(var a=hn.visibleColumnFromColumn2(e,t,s),u=e.indentSize,l=u-a%u,c=0;c<l;c++)o+=" ";else o="	";return new kr(r,o,i)},n.tab=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o];if(a.isEmpty()){var u=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(u)&&t.isCheapToTokenize(a.startLineNumber)){var l=this._goodIndentForLine(e,t,a.startLineNumber);l=l||"	";var c=e.normalizeIndentation(l);if(!Yb(u,c)){i[o]=new kr(new H(a.startLineNumber,1,a.startLineNumber,u.length+1),c,!0);continue}}i[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){var h=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==h){i[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}i[o]=new Qd(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops})}}return i},n.replacePreviousChar=function(e,t,r,i,o,s){for(var a=[],u=0,l=i.length;u<l;u++){var c=i[u];if(!c.isEmpty()){a[u]=null;continue}var h=c.getPosition(),d=Math.max(1,h.column-s),p=new H(h.lineNumber,d,h.lineNumber,h.column);a[u]=new kr(p,o)}return new $o(1,a,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:!1})},n._typeCommand=function(e,t,r){return r?new HE(e,t,!0):new kr(e,t,!0)},n._enter=function(e,t,r,i){if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)){var o=t.getLineContent(i.startLineNumber),s=Ln(o).substring(0,i.startColumn-1);return n._typeCommand(i,`
`+e.normalizeIndentation(s),r)}var a=Ot.getEnterAction(t,i);if(a){var u=a.enterAction,l=a.indentation;if(u.indentAction===Xn.None)return n._typeCommand(i,`
`+e.normalizeIndentation(l+u.appendText),r);if(u.indentAction===Xn.Indent)return n._typeCommand(i,`
`+e.normalizeIndentation(l+u.appendText),r);if(u.indentAction===Xn.IndentOutdent){var c=e.normalizeIndentation(l),h=e.normalizeIndentation(l+u.appendText),d=`
`+h+`
`+c;return r?new HE(i,d,!0):new QM(i,d,-1,h.length-c.length,!0)}else if(u.indentAction===Xn.Outdent){var p=n.unshiftIndent(e,l);return n._typeCommand(i,`
`+e.normalizeIndentation(p+u.appendText),r)}}if(!e.autoIndent){var v=t.getLineContent(i.startLineNumber),m=Ln(v).substring(0,i.startColumn-1);return n._typeCommand(i,`
`+e.normalizeIndentation(m),r)}var _=Ot.getIndentForEnter(t,i,{unshiftIndent:function(F){return n.unshiftIndent(e,F)},shiftIndent:function(F){return n.shiftIndent(e,F)},normalizeIndentation:function(F){return e.normalizeIndentation(F)}},e.autoIndent),b=t.getLineContent(i.startLineNumber),C=Ln(b).substring(0,i.startColumn-1);if(_){var E=hn.visibleColumnFromColumn2(e,t,i.getEndPosition()),S=i.endColumn,A=`
`;C!==e.normalizeIndentation(_.beforeEnter)&&(A=e.normalizeIndentation(_.beforeEnter)+b.substring(C.length,i.startColumn-1)+`
`,i=new H(i.startLineNumber,1,i.endLineNumber,i.endColumn));var T=t.getLineContent(i.endLineNumber),N=Ns(T);if(N>=0?i=i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,N+1)):i=i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),r)return new HE(i,A+e.normalizeIndentation(_.afterEnter),!0);var k=0;return S<=N+1&&(e.insertSpaces||(E=Math.ceil(E/e.indentSize)),k=Math.min(E+1-e.normalizeIndentation(_.afterEnter).length-1,0)),new QM(i,A+e.normalizeIndentation(_.afterEnter),0,k,!0)}else return n._typeCommand(i,`
`+e.normalizeIndentation(C),r)},n._isAutoIndentType=function(e,t,r){if(!e.autoIndent)return!1;for(var i=0,o=r.length;i<o;i++)if(!t.isCheapToTokenize(r[i].getEndPosition().lineNumber))return!1;return!0},n._runAutoIndentType=function(e,t,r,i){var o=Ot.getIndentationAtPosition(t,r.startLineNumber,r.startColumn),s=Ot.getIndentActionForType(t,r,i,{shiftIndent:function(u){return n.shiftIndent(e,u)},unshiftIndent:function(u){return n.unshiftIndent(e,u)}});if(s===null)return null;if(s!==e.normalizeIndentation(o)){var a=t.getLineFirstNonWhitespaceColumn(r.startLineNumber);return a===0?n._typeCommand(new H(r.startLineNumber,0,r.endLineNumber,r.endColumn),e.normalizeIndentation(s)+i,!1):n._typeCommand(new H(r.startLineNumber,0,r.endLineNumber,r.endColumn),e.normalizeIndentation(s)+t.getLineContent(r.startLineNumber).substring(a-1,r.startColumn-1)+i,!1)}return null},n._isAutoClosingOvertype=function(e,t,r,i,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairsClose2.has(o))return!1;for(var s=0,a=r.length;s<a;s++){var u=r[s];if(!u.isEmpty())return!1;var l=u.getPosition(),c=t.getLineContent(l.lineNumber),h=c.charAt(l.column-1);if(h!==o)return!1;if(e.autoClosingOvertype==="auto"){for(var d=!1,p=0,v=i.length;p<v;p++){var m=i[p];if(l.lineNumber===m.startLineNumber&&l.column===m.startColumn){d=!0;break}}if(!d)return!1}}return!0},n._runAutoClosingOvertype=function(e,t,r,i,o){for(var s=[],a=0,u=i.length;a<u;a++){var l=i[a],c=l.getPosition(),h=new H(c.lineNumber,c.column,c.lineNumber,c.column+1);s[a]=new kr(h,o)}return new $o(1,s,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:!1})},n._isBeforeClosingBrace=function(e,t,r){var i=e.autoClosingPairsClose2.get(r);if(!i)return!1;for(var o=t.open===t.close,s=0,a=i;s<a.length;s++){var u=a[s],l=u.open===u.close;if(!(!o&&l))return!0}return!1},n._findAutoClosingPairOpen=function(e,t,r,i){var o=e.autoClosingPairsOpen2.get(i);if(!o)return null;for(var s=null,a=0,u=o;a<u.length;a++){var l=u[a];if(s===null||l.open.length>s.open.length){for(var c=!0,h=0,d=r;h<d.length;h++){var p=d[h],v=t.getValueInRange(new H(p.lineNumber,p.column-l.open.length+1,p.lineNumber,p.column));if(v+i!==l.open){c=!1;break}}c&&(s=l)}}return s},n._isAutoClosingOpenCharType=function(e,t,r,i,o){var s=Py(i),a=s?e.autoClosingQuotes:e.autoClosingBrackets;if(a==="never")return null;var u=this._findAutoClosingPairOpen(e,t,r.map(function(S){return S.getPosition()}),i);if(!u)return null;for(var l=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket,c=0,h=r.length;c<h;c++){var d=r[c];if(!d.isEmpty())return null;var p=d.getPosition(),v=t.getLineContent(p.lineNumber);if(v.length>p.column-1){var m=v.charAt(p.column-1),_=n._isBeforeClosingBrace(e,u,m);if(!_&&!l(m))return null}if(!t.isCheapToTokenize(p.lineNumber))return null;if(u.open.length===1&&s&&a!=="always"){var b=jl(e.wordSeparators);if(o&&p.column>1&&b.get(v.charCodeAt(p.column-2))===0||!o&&p.column>2&&b.get(v.charCodeAt(p.column-3))===0)return null}t.forceTokenization(p.lineNumber);var C=t.getLineTokens(p.lineNumber),E=!1;try{E=Ot.shouldAutoClosePair(u,C,o?p.column:p.column-1)}catch(S){He(S)}if(!E)return null}return u},n._runAutoClosingOpenCharType=function(e,t,r,i,o,s,a){for(var u=[],l=0,c=i.length;l<c;l++){var h=i[l];u[l]=new tne(h,o,s,a.close)}return new $o(1,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},n._shouldSurroundChar=function(e,t){return Py(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"},n._isSurroundSelectionType=function(e,t,r,i){if(!n._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;for(var o=Py(i),s=0,a=r.length;s<a;s++){var u=r[s];if(u.isEmpty())return!1;for(var l=!0,c=u.startLineNumber;c<=u.endLineNumber;c++){var h=t.getLineContent(c),d=c===u.startLineNumber?u.startColumn-1:0,p=c===u.endLineNumber?u.endColumn-1:h.length,v=h.substring(d,p);if(/[^ \t]/.test(v)){l=!1;break}}if(l)return!1;if(o&&u.startLineNumber===u.endLineNumber&&u.startColumn+1===u.endColumn){var m=t.getValueInRange(u);if(Py(m))return!1}}return!0},n._runSurroundSelectionType=function(e,t,r,i,o){for(var s=[],a=0,u=i.length;a<u;a++){var l=i[a],c=t.surroundingPairs[o];s[a]=new lke(l,o,c)}return new $o(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},n._isTypeInterceptorElectricChar=function(e,t,r){return!!(r.length===1&&t.isCheapToTokenize(r[0].getEndPosition().lineNumber))},n._typeInterceptorElectricChar=function(e,t,r,i,o){if(!t.electricChars.hasOwnProperty(o)||!i.isEmpty())return null;var s=i.getPosition();r.forceTokenization(s.lineNumber);var a=r.getLineTokens(s.lineNumber),u;try{u=Ot.onElectricCharacter(o,a,s.column)}catch(S){return He(S),null}if(!u)return null;if(u.matchOpenBracket){var l=(a.getLineContent()+o).lastIndexOf(u.matchOpenBracket)+1,c=r.findMatchingBracketUp(u.matchOpenBracket,{lineNumber:s.lineNumber,column:l});if(c){if(c.startLineNumber===s.lineNumber)return null;var h=r.getLineContent(c.startLineNumber),d=Ln(h),p=t.normalizeIndentation(d),v=r.getLineContent(s.lineNumber),m=r.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,_=v.substring(m-1,s.column-1),b=p+_+o,C=new H(s.lineNumber,1,s.lineNumber,s.column),E=new kr(C,b);return new $o(1,[E],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},n.compositionEndWithInterceptors=function(e,t,r,i,o){for(var s=null,a=0,u=i;a<u.length;a++){var l=u[a];if(!l.isEmpty())return null;var c=l.getPosition(),h=r.getValueInRange(new H(c.lineNumber,c.column-1,c.lineNumber,c.column));if(s===null)s=h;else if(s!==h)return null}if(!s)return null;if(this._isAutoClosingOvertype(t,r,i,o,s)){var d=i.map(function(v){return new kr(new H(v.positionLineNumber,v.positionColumn,v.positionLineNumber,v.positionColumn+1),"",!1)});return new $o(1,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var p=this._isAutoClosingOpenCharType(t,r,i,s,!1);return p?this._runAutoClosingOpenCharType(e,t,r,i,s,!1,p):null},n.typeWithInterceptors=function(e,t,r,i,o,s){if(s===`
`){for(var a=[],u=0,l=i.length;u<l;u++)a[u]=n._enter(t,r,!1,i[u]);return new $o(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(t,r,i)){for(var c=[],h=!1,u=0,l=i.length;u<l;u++)if(c[u]=this._runAutoIndentType(t,r,i[u],s),!c[u]){h=!0;break}if(!h)return new $o(1,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,r,i,o,s))return this._runAutoClosingOvertype(e,t,r,i,s);var d=this._isAutoClosingOpenCharType(t,r,i,s,!0);if(d)return this._runAutoClosingOpenCharType(e,t,r,i,s,!0,d);if(this._isSurroundSelectionType(t,r,i,s))return this._runSurroundSelectionType(e,t,r,i,s);if(this._isTypeInterceptorElectricChar(t,r,i)){var p=this._typeInterceptorElectricChar(e,t,r,i[0],s);if(p)return p}for(var v=[],u=0,l=i.length;u<l;u++)v[u]=new kr(i[u],s);var m=e!==1;return s===" "&&(m=!0),new $o(1,v,{shouldPushStackElementBefore:m,shouldPushStackElementAfter:!1})},n.typeWithoutInterceptors=function(e,t,r,i,o){for(var s=[],a=0,u=i.length;a<u;a++)s[a]=new kr(i[a],o);return new $o(1,s,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:!1})},n.lineInsertBefore=function(e,t,r){if(t===null||r===null)return[];for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o].positionLineNumber;if(a===1)i[o]=new HE(new H(1,1,1,1),`
`);else{a--;var u=t.getLineMaxColumn(a);i[o]=this._enter(e,t,!1,new H(a,u,a,u))}}return i},n.lineInsertAfter=function(e,t,r){if(t===null||r===null)return[];for(var i=[],o=0,s=r.length;o<s;o++){var a=r[o].positionLineNumber,u=t.getLineMaxColumn(a);i[o]=this._enter(e,t,!1,new H(a,u,a,u))}return i},n.lineBreakInsert=function(e,t,r){for(var i=[],o=0,s=r.length;o<s;o++)i[o]=this._enter(e,t,!0,r[o]);return i},n}(),tne=function(n){cke(e,n);function e(t,r,i,o){var s=n.call(this,t,(i?r:"")+o,0,-o.length)||this;return s._openCharacter=r,s._closeCharacter=o,s.closeCharacterRange=null,s.enclosingRange=null,s}return e.prototype.computeCursorState=function(t,r){var i=r.getInverseEditOperations(),o=i[0].range;return this.closeCharacterRange=new H(o.startLineNumber,o.endColumn-this._closeCharacter.length,o.endLineNumber,o.endColumn),this.enclosingRange=new H(o.startLineNumber,o.endColumn-this._openCharacter.length-this._closeCharacter.length,o.endLineNumber,o.endColumn),n.prototype.computeCursorState.call(this,t,r)},e}(QM),W;(function(n){n.editorTextFocus=new Ke("editorTextFocus",!1),n.focus=new Ke("editorFocus",!1),n.textInputFocus=new Ke("textInputFocus",!1),n.readOnly=new Ke("editorReadonly",!1),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new Ke("editorHasSelection",!1),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new Ke("editorHasMultipleSelections",!1),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new Ke("editorTabMovesFocus",!1),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInEmbeddedEditor=new Ke("isInEmbeddedEditor",!1),n.canUndo=new Ke("canUndo",!1),n.canRedo=new Ke("canRedo",!1),n.languageId=new Ke("editorLangId",""),n.hasCompletionItemProvider=new Ke("editorHasCompletionItemProvider",!1),n.hasCodeActionsProvider=new Ke("editorHasCodeActionsProvider",!1),n.hasCodeLensProvider=new Ke("editorHasCodeLensProvider",!1),n.hasDefinitionProvider=new Ke("editorHasDefinitionProvider",!1),n.hasDeclarationProvider=new Ke("editorHasDeclarationProvider",!1),n.hasImplementationProvider=new Ke("editorHasImplementationProvider",!1),n.hasTypeDefinitionProvider=new Ke("editorHasTypeDefinitionProvider",!1),n.hasHoverProvider=new Ke("editorHasHoverProvider",!1),n.hasDocumentHighlightProvider=new Ke("editorHasDocumentHighlightProvider",!1),n.hasDocumentSymbolProvider=new Ke("editorHasDocumentSymbolProvider",!1),n.hasReferenceProvider=new Ke("editorHasReferenceProvider",!1),n.hasRenameProvider=new Ke("editorHasRenameProvider",!1),n.hasSignatureHelpProvider=new Ke("editorHasSignatureHelpProvider",!1),n.hasDocumentFormattingProvider=new Ke("editorHasDocumentFormattingProvider",!1),n.hasDocumentSelectionFormattingProvider=new Ke("editorHasDocumentSelectionFormattingProvider",!1),n.hasMultipleDocumentFormattingProvider=new Ke("editorHasMultipleDocumentFormattingProvider",!1),n.hasMultipleDocumentSelectionFormattingProvider=new Ke("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(W||(W={}));var Mt=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dt=0,Un=function(n){Mt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.runEditorCommand=function(t,r,i){var o=r._getCursors();o&&this.runCoreEditorCommand(o,i||{})},e}(Po),eD;(function(n){var e=function(r){if(!$i(r))return!1;var i=r;return!(!Ll(i.to)||!Co(i.by)&&!Ll(i.by)||!Co(i.value)&&!Pc(i.value)||!Co(i.revealCursor)&&!FJ(i.revealCursor))};n.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Down:"down"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(r){var i;switch(r.to){case n.RawDirection.Up:i=1;break;case n.RawDirection.Down:i=2;break;default:return null}var o;switch(r.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Page:o=3;break;case n.RawUnit.HalfPage:o=4;break;default:o=2}var s=Math.floor(r.value||1),a=!!r.revealCursor;return{direction:i,unit:o,value:s,revealCursor:a,select:!!r.select}}n.parse=t})(eD||(eD={}));var qv;(function(n){var e=function(t){if(!$i(t))return!1;var r=t;return!(!Pc(r.lineNumber)||!Co(r.at)&&!Ll(r.at))};n.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed .\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(qv||(qv={}));var Ui;(function(n){var e=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[si.moveTo(b.context,b.getPrimaryCursor(),this._inSelectionMode,C.position,C.viewPosition)]),b.reveal(!0,0,0)},_}(Un);n.MoveTo=ce(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=ce(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var t=function(m){Mt(_,m);function _(){return m!==null&&m.apply(this,arguments)||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement();var E=this._getColumnSelectResult(b.context,b.getPrimaryCursor(),b.getColumnSelectData(),C);b.setStates(C.source,3,E.viewStates.map(function(S){return St.fromViewState(S)})),b.setColumnSelectData({isReal:!0,fromViewLineNumber:E.fromLineNumber,fromViewVisualColumn:E.fromVisualColumn,toViewLineNumber:E.toLineNumber,toViewVisualColumn:E.toVisualColumn}),b.reveal(!0,E.reversed?1:2,0)},_}(Un);n.ColumnSelect=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"columnSelect",precondition:void 0})||this}return _.prototype._getColumnSelectResult=function(b,C,E,S){var A=b.model.validatePosition(S.position),T=b.validateViewPosition(new ee(S.viewPosition.lineNumber,S.viewPosition.column),A),N=E.fromViewLineNumber,k=E.fromViewVisualColumn;return!E.isReal&&S.setAnchorIfNotSet&&(N=T.lineNumber,k=S.mouseColumn-1),ay.columnSelect(b.config,b.viewModel,N,k,T.lineNumber,S.mouseColumn-1)},_}(t))),n.CursorColumnSelectLeft=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3599,linux:{primary:0}}})||this}return _.prototype._getColumnSelectResult=function(b,C,E,S){return ay.columnSelectLeft(b.config,b.viewModel,E)},_}(t))),n.CursorColumnSelectRight=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3601,linux:{primary:0}}})||this}return _.prototype._getColumnSelectResult=function(b,C,E,S){return ay.columnSelectRight(b.config,b.viewModel,E)},_}(t)));var r=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._isPaged=b.isPaged,C}return _.prototype._getColumnSelectResult=function(b,C,E,S){return ay.columnSelectUp(b.config,b.viewModel,E,this._isPaged)},_}(t);n.CursorColumnSelectUp=ce(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=ce(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3595,linux:{primary:0}}}));var i=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._isPaged=b.isPaged,C}return _.prototype._getColumnSelectResult=function(b,C,E,S){return ay.columnSelectDown(b.config,b.viewModel,E,this._isPaged)},_}(t);n.CursorColumnSelectDown=ce(new i({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=ce(new i({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3596,linux:{primary:0}}}));var o=function(m){Mt(_,m);function _(){return m.call(this,{id:"cursorMove",precondition:void 0,description:JT.description})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=JT.parse(C);E&&this._runCursorMove(b,C.source,E)},_.prototype._runCursorMove=function(b,C,E){b.context.model.pushStackElement(),b.setStates(C,3,si.move(b.context,b.getAll(),E)),b.reveal(!0,0,0)},_}(Un);n.CursorMoveImpl=o,n.CursorMove=ce(new o);var s=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._staticArgs=b.args,C}return _.prototype.runCoreEditorCommand=function(b,C){var E=this._staticArgs;this._staticArgs.value===-1&&(E={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:b.context.config.pageSize}),n.CursorMove._runCursorMove(b,C.source,E)},_}(Un);n.CursorLeft=ce(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=ce(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1039}})),n.CursorRight=ce(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=ce(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1041}})),n.CursorUp=ce(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=ce(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=ce(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:11}})),n.CursorPageUpSelect=ce(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1035}})),n.CursorDown=ce(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=ce(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=ce(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:12}})),n.CursorPageDownSelect=ce(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1036}})),n.CreateCursor=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"createCursor",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.context,S;C.wholeLine?S=si.line(E,b.getPrimaryCursor(),!1,C.position,C.viewPosition):S=si.moveTo(E,b.getPrimaryCursor(),!1,C.position,C.viewPosition);var A=b.getAll();if(A.length>1)for(var T=S.modelState?S.modelState.position:null,N=S.viewState?S.viewState.position:null,k=0,F=A.length;k<F;k++){var L=A[k];if(!(T&&!L.modelState.selection.containsPosition(T))&&!(N&&!L.viewState.selection.containsPosition(N))){A.splice(k,1),b.context.model.pushStackElement(),b.setStates(C.source,3,A);return}}A.push(S),b.context.model.pushStackElement(),b.setStates(C.source,3,A)},_}(Un))),n.LastCursorMoveToSelect=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.context,S=b.getLastAddedCursorIndex(),A=b.getAll(),T=A.slice(0);T[S]=si.moveTo(E,A[S],!0,C.position,C.viewPosition),b.context.model.pushStackElement(),b.setStates(C.source,3,T)},_}(Un)));var a=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,si.moveToBeginningOfLine(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Un);n.CursorHome=ce(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=ce(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),n.CursorLineStart=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:0,mac:{primary:287}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,this._exec(b.context,b.getAll())),b.reveal(!0,0,0)},_.prototype._exec=function(b,C){for(var E=[],S=0,A=C.length;S<A;S++){var T=C[S],N=T.modelState.position.lineNumber;E[S]=St.fromModelState(T.modelState.move(!1,N,1,0))}return E},_}(Un)));var u=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,si.moveToEndOfLine(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Un);n.CursorEnd=ce(new u({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),n.CursorEndSelect=ce(new u({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),n.CursorLineEnd=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:0,mac:{primary:291}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,this._exec(b.context,b.getAll())),b.reveal(!0,0,0)},_.prototype._exec=function(b,C){for(var E=[],S=0,A=C.length;S<A;S++){var T=C[S],N=T.modelState.position.lineNumber,k=b.model.getLineMaxColumn(N);E[S]=St.fromModelState(T.modelState.move(!1,N,k,0))}return E},_}(Un)));var l=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,si.moveToBeginningOfBuffer(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Un);n.CursorTop=ce(new l({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=ce(new l({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3086,mac:{primary:3088}}}));var c=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,si.moveToEndOfBuffer(b.context,b.getAll(),this._inSelectionMode)),b.reveal(!0,0,0)},_}(Un);n.CursorBottom=ce(new c({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=ce(new c({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:3085,mac:{primary:3090}}}));var h=function(m){Mt(_,m);function _(){return m.call(this,{id:"editorScroll",precondition:void 0,description:eD.description})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=eD.parse(C);E&&this._runEditorScroll(b,C.source,E)},_.prototype._runEditorScroll=function(b,C,E){var S=this._computeDesiredScrollTop(b.context,E);if(E.revealCursor){var A=b.context.getCompletelyVisibleViewRangeAtScrollTop(S);b.setStates(C,3,[si.findPositionInViewportIfOutside(b.context,b.getPrimaryCursor(),A,E.select)])}b.scrollTo(S)},_.prototype._computeDesiredScrollTop=function(b,C){if(C.unit===1){var E=b.getCompletelyVisibleModelRange(),S=void 0;C.direction===1?S=Math.max(1,E.startLineNumber-C.value):S=Math.min(b.model.getLineCount(),E.startLineNumber+C.value);var A=b.convertModelPositionToViewPosition(new ee(S,1));return b.getVerticalOffsetForViewLine(A.lineNumber)}var T;C.unit===3?T=b.config.pageSize*C.value:C.unit===4?T=Math.round(b.config.pageSize/2)*C.value:T=C.value;var N=(C.direction===1?-1:1)*T;return b.getCurrentScrollTop()+N*b.config.lineHeight},_}(Un);n.EditorScrollImpl=h,n.EditorScroll=ce(new h),n.ScrollLineUp=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2064,mac:{primary:267}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},_}(Un))),n.ScrollPageUp=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},_}(Un))),n.ScrollLineDown=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2066,mac:{primary:268}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},_}(Un))),n.ScrollPageDown=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return _.prototype.runCoreEditorCommand=function(b,C){n.EditorScroll._runEditorScroll(b,C.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},_}(Un)));var d=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[si.word(b.context,b.getPrimaryCursor(),this._inSelectionMode,C.position)]),b.reveal(!0,0,0)},_}(Un);n.WordSelect=ce(new d({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=ce(new d({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.context,S=b.getLastAddedCursorIndex(),A=b.getAll(),T=A.slice(0),N=A[S];T[S]=si.word(E,N,N.modelState.hasSelection(),C.position),E.model.pushStackElement(),b.setStates(C.source,3,T)},_}(Un)));var p=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[si.line(b.context,b.getPrimaryCursor(),this._inSelectionMode,C.position,C.viewPosition)]),b.reveal(!1,0,0)},_}(Un);n.LineSelect=ce(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=ce(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var v=function(m){Mt(_,m);function _(b){var C=m.call(this,b)||this;return C._inSelectionMode=b.inSelectionMode,C}return _.prototype.runCoreEditorCommand=function(b,C){var E=b.getLastAddedCursorIndex(),S=b.getAll(),A=S.slice(0);A[E]=si.line(b.context,S[E],this._inSelectionMode,C.position,C.viewPosition),b.context.model.pushStackElement(),b.setStates(C.source,3,A)},_}(Un);n.LastCursorLineSelect=ce(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=ce(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.ExpandLineSelection=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2090}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,si.expandLineSelection(b.context,b.getAll())),b.reveal(!0,0,0)},_}(Un))),n.CancelSelection=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"cancelSelection",precondition:W.hasNonEmptySelection,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:9,secondary:[1033]}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[si.cancelSelection(b.context,b.getPrimaryCursor())]),b.reveal(!0,0,0)},_}(Un))),n.RemoveSecondaryCursors=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"removeSecondaryCursors",precondition:W.hasMultipleSelections,kbOpts:{weight:Dt+1,kbExpr:W.textInputFocus,primary:9,secondary:[1033]}})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[b.getPrimaryCursor()]),b.reveal(!0,0,0)},_}(Un))),n.RevealLine=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"revealLine",precondition:void 0,description:qv.description})||this}return _.prototype.runCoreEditorCommand=function(b,C){var E=C,S=(E.lineNumber||0)+1;S<1&&(S=1);var A=b.context.model.getLineCount();S>A&&(S=A);var T=new H(S,1,S,b.context.model.getLineMaxColumn(S)),N=0;if(E.at)switch(E.at){case qv.RawAtArgument.Top:N=3;break;case qv.RawAtArgument.Center:N=1;break;case qv.RawAtArgument.Bottom:N=4;break}var k=b.context.convertModelRangeToViewRange(T);b.revealRange(!1,k,N,0)},_}(Un))),n.SelectAll=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"selectAll",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[si.selectAll(b.context,b.getPrimaryCursor())])},_}(Un))),n.SetSelection=ce(new(function(m){Mt(_,m);function _(){return m.call(this,{id:"setSelection",precondition:void 0})||this}return _.prototype.runCoreEditorCommand=function(b,C){b.context.model.pushStackElement(),b.setStates(C.source,3,[St.fromModelSelection(C.selection)])},_}(Un)))})(Ui||(Ui={}));var JM;(function(n){var e=function(t){Mt(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.runEditorCommand=function(i,o,s){var a=o._getCursors();a&&this.runCoreEditingCommand(o,a,s||{})},r}(Po);n.CoreEditingCommand=e,n.LineBreakInsert=ce(new(function(t){Mt(r,t);function r(){return t.call(this,{id:"lineBreakInsert",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:0,mac:{primary:301}}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){i.pushUndoStop(),i.executeCommands(this.id,mu.lineBreakInsert(o.context.config,o.context.model,o.getAll().map(function(a){return a.modelState.selection})))},r}(e))),n.Outdent=ce(new(function(t){Mt(r,t);function r(){return t.call(this,{id:"outdent",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:Oe.and(W.editorTextFocus,W.tabDoesNotMoveFocus),primary:1026}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){i.pushUndoStop(),i.executeCommands(this.id,mu.outdent(o.context.config,o.context.model,o.getAll().map(function(a){return a.modelState.selection}))),i.pushUndoStop()},r}(e))),n.Tab=ce(new(function(t){Mt(r,t);function r(){return t.call(this,{id:"tab",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:Oe.and(W.editorTextFocus,W.tabDoesNotMoveFocus),primary:2}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){i.pushUndoStop(),i.executeCommands(this.id,mu.tab(o.context.config,o.context.model,o.getAll().map(function(a){return a.modelState.selection}))),i.pushUndoStop()},r}(e))),n.DeleteLeft=ce(new(function(t){Mt(r,t);function r(){return t.call(this,{id:"deleteLeft",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){var a=ZM.deleteLeft(o.getPrevEditOperationType(),o.context.config,o.context.model,o.getAll().map(function(c){return c.modelState.selection})),u=a[0],l=a[1];u&&i.pushUndoStop(),i.executeCommands(this.id,l),o.setPrevEditOperationType(2)},r}(e))),n.DeleteRight=ce(new(function(t){Mt(r,t);function r(){return t.call(this,{id:"deleteRight",precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return r.prototype.runCoreEditingCommand=function(i,o,s){var a=ZM.deleteRight(o.getPrevEditOperationType(),o.context.config,o.context.model,o.getAll().map(function(c){return c.modelState.selection})),u=a[0],l=a[1];u&&i.pushUndoStop(),i.executeCommands(this.id,l),o.setPrevEditOperationType(3)},r}(e)))})(JM||(JM={}));function qp(n){n.register()}var v5=function(n){Mt(e,n);function e(t){var r=n.call(this,t)||this;return r._editorHandler=t.editorHandler,r._inputHandler=t.inputHandler,r}return e.prototype.runCommand=function(t,r){var i=t.get(In).getFocusedCodeEditor();if(i&&i.hasTextFocus())return this._runEditorHandler(t,i,r);var o=document.activeElement;if(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0){document.execCommand(this._inputHandler);return}var s=t.get(In).getActiveCodeEditor();if(s)return s.focus(),this._runEditorHandler(t,s,r)},e.prototype._runEditorHandler=function(t,r,i){var o=this._editorHandler;typeof o=="string"?r.trigger("keyboard",o,i):(i=i||{},i.source="keyboard",o.runEditorCommand(t,r,i))},e}(K6),tD=function(n){Mt(e,n);function e(t,r,i){var o=n.call(this,{id:t,precondition:void 0,description:i})||this;return o._handlerId=r,o}return e.prototype.runCommand=function(t,r){var i=t.get(In).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,r)},e}(K6);qp(new v5({editorHandler:Ui.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:W.textInputFocus,kbOpts:{weight:Dt,kbExpr:null,primary:2079},menubarOpts:{menuId:22,group:"1_basic",title:D({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}}));qp(new v5({editorHandler:un.Undo,inputHandler:"undo",id:un.Undo,precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2104},menubarOpts:{menuId:14,group:"1_do",title:D({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}}));qp(new tD("default:"+un.Undo,un.Undo));qp(new v5({editorHandler:un.Redo,inputHandler:"redo",id:un.Redo,precondition:W.writable,kbOpts:{weight:Dt,kbExpr:W.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menubarOpts:{menuId:14,group:"1_do",title:D({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}}));qp(new tD("default:"+un.Redo,un.Redo));function V_(n,e){qp(new tD("default:"+n,n)),qp(new tD(n,n,e))}V_(un.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});V_(un.ReplacePreviousChar);V_(un.CompositionStart);V_(un.CompositionEnd);V_(un.Paste);V_(un.Cut);var fke=function(){function n(e,t,r,i){this.configuration=e,this.viewModel=t,this.outgoingEvents=r,this.commandDelegate=i}return n.prototype._execMouseCommand=function(e,t){t.source="mouse",this.commandDelegate.executeEditorCommand(e,t)},n.prototype.paste=function(e,t,r,i){this.commandDelegate.paste(e,t,r,i)},n.prototype.type=function(e,t){this.commandDelegate.type(e,t)},n.prototype.replacePreviousChar=function(e,t,r){this.commandDelegate.replacePreviousChar(e,t,r)},n.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},n.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},n.prototype.cut=function(e){this.commandDelegate.cut(e)},n.prototype.setSelection=function(e,t){this.commandDelegate.executeEditorCommand(Ui.SetSelection,{source:e,selection:t})},n.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new ee(e.lineNumber,t):e},n.prototype._hasMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},n.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},n.prototype.dispatchMouse=function(e){e.middleButton?e.inSelectionMode?this._columnSelect(e.position,e.mouseColumn,!0):this.moveTo(e.position):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!1):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)},n.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this._convertViewToModelPosition(e),viewPosition:e}},n.prototype.moveTo=function(e){this._execMouseCommand(Ui.MoveTo,this._usualArgs(e))},n.prototype._moveToSelect=function(e){this._execMouseCommand(Ui.MoveToSelect,this._usualArgs(e))},n.prototype._columnSelect=function(e,t,r){e=this._validateViewColumn(e),this._execMouseCommand(Ui.ColumnSelect,{position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,setAnchorIfNotSet:r})},n.prototype._createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(Ui.CreateCursor,{position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},n.prototype._lastCursorMoveToSelect=function(e){this._execMouseCommand(Ui.LastCursorMoveToSelect,this._usualArgs(e))},n.prototype._wordSelect=function(e){this._execMouseCommand(Ui.WordSelect,this._usualArgs(e))},n.prototype._wordSelectDrag=function(e){this._execMouseCommand(Ui.WordSelectDrag,this._usualArgs(e))},n.prototype._lastCursorWordSelect=function(e){this._execMouseCommand(Ui.LastCursorWordSelect,this._usualArgs(e))},n.prototype._lineSelect=function(e){this._execMouseCommand(Ui.LineSelect,this._usualArgs(e))},n.prototype._lineSelectDrag=function(e){this._execMouseCommand(Ui.LineSelectDrag,this._usualArgs(e))},n.prototype._lastCursorLineSelect=function(e){this._execMouseCommand(Ui.LastCursorLineSelect,this._usualArgs(e))},n.prototype._lastCursorLineSelectDrag=function(e){this._execMouseCommand(Ui.LastCursorLineSelectDrag,this._usualArgs(e))},n.prototype._selectAll=function(){this._execMouseCommand(Ui.SelectAll,{})},n.prototype._convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},n.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},n.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},n.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},n.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},n.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},n.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},n.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},n.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},n.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},n.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},n}(),nne=function(){function n(e){this._createLine=e,this._set(1,[])}return n.prototype.flush=function(){this._set(1,[])},n.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},n.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},n.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},n.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},n.prototype.getCount=function(){return this._lines.length},n.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},n.prototype.onLinesDeleted=function(e,t){if(this.getCount()===0)return null;var r=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<r){var o=t-e+1;return this._rendLineNumberStart-=o,null}if(e>i)return null;for(var s=0,a=0,u=r;u<=i;u++){var l=u-this._rendLineNumberStart;e<=u&&u<=t&&(a===0?(s=l,a=1):a++)}if(e<r){var c=0;t<r?c=t-e+1:c=r-e,this._rendLineNumberStart-=c}var h=this._lines.splice(s,a);return h},n.prototype.onLinesChanged=function(e,t){if(this.getCount()===0)return!1;for(var r=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,s=e;s<=t;s++)s>=r&&s<=i&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o},n.prototype.onLinesInserted=function(e,t){if(this.getCount()===0)return null;var r=t-e+1,i=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=r,null;if(e>o)return null;if(r+e>o){var s=this._lines.splice(e-this._rendLineNumberStart,o-e+1);return s}for(var a=[],u=0;u<r;u++)a[u]=this._createLine();var l=e-this._rendLineNumberStart,c=this._lines.slice(0,l),h=this._lines.slice(l,this._lines.length-r),d=this._lines.slice(this._lines.length-r,this._lines.length);return this._lines=c.concat(a).concat(h),d},n.prototype.onTokensChanged=function(e){if(this.getCount()===0)return!1;for(var t=this.getStartLineNumber(),r=this.getEndLineNumber(),i=!1,o=0,s=e.length;o<s;o++){var a=e[o];if(!(a.toLineNumber<t||a.fromLineNumber>r))for(var u=Math.max(t,a.fromLineNumber),l=Math.min(r,a.toLineNumber),c=u;c<=l;c++){var h=c-this._rendLineNumberStart;this._lines[h].onTokensChanged(),i=!0}}return i},n}(),rne=function(){function n(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new nne(function(){return t._host.createVisibleLine()})}return n.prototype._createDomNode=function(){var e=wt(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},n.prototype.onConfigurationChanged=function(e){return e.layoutInfo},n.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},n.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},n.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var r=0,i=t.length;r<i;r++){var o=t[r].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},n.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var r=0,i=t.length;r<i;r++){var o=t[r].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},n.prototype.onScrollChanged=function(e){return e.scrollTopChanged},n.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},n.prototype.onZonesChanged=function(e){return!0},n.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},n.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},n.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},n.prototype.renderLines=function(e){var t=this._linesCollection._get(),r=new hke(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=r.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)},n}(),hke=function(){function n(e,t,r){this.domNode=e,this.host=t,this.viewportData=r}return n.prototype.render=function(e,t,r,i){var o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||r<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=r-t+1,o.lines=[];for(var s=t;s<=r;s++)o.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,i),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(r-o.rendLineNumberStart,o.linesLength-1),i,t),o.rendLineNumberStart>t){var a=t,u=Math.min(r,o.rendLineNumberStart-1);a<=u&&(this._insertLinesBefore(o,a,u,i,t),o.linesLength+=u-a+1)}else if(o.rendLineNumberStart<t){var l=Math.min(o.linesLength,t-o.rendLineNumberStart);l>0&&(this._removeLinesBefore(o,l),o.linesLength-=l)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<r){var a=o.rendLineNumberStart+o.linesLength,u=r;a<=u&&(this._insertLinesAfter(o,a,u,i,t),o.linesLength+=u-a+1)}else if(o.rendLineNumberStart+o.linesLength-1>r){var a=Math.max(0,r-o.rendLineNumberStart+1),u=o.linesLength-1,l=u-a+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,i),o},n.prototype._renderUntouchedLines=function(e,t,r,i,o){for(var s=e.rendLineNumberStart,a=e.lines,u=t;u<=r;u++){var l=s+u;a[u].layoutLine(l,i[l-o])}},n.prototype._insertLinesBefore=function(e,t,r,i,o){for(var s=[],a=0,u=t;u<=r;u++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)},n.prototype._removeLinesBefore=function(e,t){for(var r=0;r<t;r++){var i=e.lines[r].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)},n.prototype._insertLinesAfter=function(e,t,r,i,o){for(var s=[],a=0,u=t;u<=r;u++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)},n.prototype._removeLinesAfter=function(e,t){for(var r=e.linesLength-t,i=0;i<t;i++){var o=e.lines[r+i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(r,t)},n.prototype._finishRenderingNewLines=function(e,t,r,i){var o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=r:o.insertAdjacentHTML("afterend",r);for(var s=this.domNode.lastChild,a=e.linesLength-1;a>=0;a--){var u=e.lines[a];i[a]&&(u.setDomNode(s),s=s.previousSibling)}},n.prototype._finishRenderingInvalidLines=function(e,t,r){var i=document.createElement("div");i.innerHTML=t;for(var o=0;o<e.linesLength;o++){var s=e.lines[o];if(r[o]){var a=i.firstChild,u=s.getDomNode();u.parentNode.replaceChild(a,u),s.setDomNode(a)}}},n.prototype._finishRendering=function(e,t,r){var i=n._sb,o=e.linesLength,s=e.lines,a=e.rendLineNumberStart,u=[];{i.reset();for(var l=!1,c=0;c<o;c++){var h=s[c];u[c]=!1;var d=h.getDomNode();if(!d){var p=h.renderLine(c+a,r[c],this.viewportData,i);p&&(u[c]=!0,l=!0)}}l&&this._finishRenderingNewLines(e,t,i.build(),u)}{i.reset();for(var v=!1,m=[],c=0;c<o;c++){var h=s[c];if(m[c]=!1,!u[c]){var p=h.renderLine(c+a,r[c],this.viewportData,i);p&&(m[c]=!0,v=!0)}}v&&this._finishRenderingInvalidLines(e,i.build(),m)}},n._sb=r1(1e5),n}(),m5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ine=function(n){m5(e,n);function e(t){var r=n.call(this,t)||this;return r._visibleLines=new rne(r),r.domNode=r._visibleLines.domNode,r._dynamicOverlays=[],r._isFocused=!1,r.domNode.setClassName("view-overlays"),r}return e.prototype.shouldRender=function(){if(n.prototype.shouldRender.call(this))return!0;for(var t=0,r=this._dynamicOverlays.length;t<r;t++){var i=this._dynamicOverlays[t];if(i.shouldRender())return!0}return!1},e.prototype.dispose=function(){n.prototype.dispose.call(this);for(var t=0,r=this._dynamicOverlays.length;t<r;t++){var i=this._dynamicOverlays[t];i.dispose()}this._dynamicOverlays=[]},e.prototype.getDomNode=function(){return this.domNode},e.prototype.createVisibleLine=function(){return new dke(this._context.configuration,this._dynamicOverlays)},e.prototype.addDynamicOverlay=function(t){this._dynamicOverlays.push(t)},e.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t);for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=r;o<=i;o++){var s=this._visibleLines.getVisibleLine(o);s.onConfigurationChanged(t)}return!0},e.prototype.onFlushed=function(t){return this._visibleLines.onFlushed(t)},e.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!0},e.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},e.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},e.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},e.prototype.onScrollChanged=function(t){return this._visibleLines.onScrollChanged(t)||!0},e.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},e.prototype.onZonesChanged=function(t){return this._visibleLines.onZonesChanged(t)},e.prototype.prepareRender=function(t){for(var r=this._dynamicOverlays.filter(function(a){return a.shouldRender()}),i=0,o=r.length;i<o;i++){var s=r[i];s.prepareRender(t),s.onDidRender()}},e.prototype.render=function(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)},e.prototype._viewOverlaysRender=function(t){this._visibleLines.renderLines(t.viewportData)},e}(Ea),dke=function(){function n(e,t){this._configuration=e,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return n.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},n.prototype.setDomNode=function(e){this._domNode=wt(e)},n.prototype.onContentChanged=function(){},n.prototype.onTokensChanged=function(){},n.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},n.prototype.renderLine=function(e,t,r,i){for(var o="",s=0,a=this._dynamicOverlays.length;s<a;s++){var u=this._dynamicOverlays[s];o+=u.render(r.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,i.appendASCIIString('<div style="position:absolute;top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;width:100%;height:"),i.appendASCIIString(String(this._lineHeight)),i.appendASCIIString('px;">'),i.appendASCIIString(o),i.appendASCIIString("</div>"),!0)},n.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},n}(),pke=function(n){m5(e,n);function e(t){var r=n.call(this,t)||this;return r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r.domNode.setHeight(0),r}return e.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),n.prototype.onConfigurationChanged.call(this,t)},e.prototype.onScrollChanged=function(t){return n.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},e.prototype._viewOverlaysRender=function(t){n.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},e}(ine),gke=function(n){m5(e,n);function e(t){var r=n.call(this,t)||this;return r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r.domNode.setClassName("margin-view-overlays"),r.domNode.setWidth(1),ya.applyFontInfo(r.domNode,r._context.configuration.editor.fontInfo),r}return e.prototype.onConfigurationChanged=function(t){var r=!1;return t.fontInfo&&(ya.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),r=!0),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,r=!0),n.prototype.onConfigurationChanged.call(this,t)||r},e.prototype.onScrollChanged=function(t){return n.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},e.prototype._viewOverlaysRender=function(t){n.prototype._viewOverlaysRender.call(this,t);var r=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(r),this.domNode.setWidth(this._contentLeft)},e}(ine),vke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uy=function(){function n(e,t){this.top=e,this.left=t}return n}(),mke=function(n){vke(e,n);function e(t,r){var i=n.call(this,t)||this;return i._viewDomNode=r,i._widgets={},i.domNode=wt(document.createElement("div")),Rl.write(i.domNode,1),i.domNode.setClassName("contentWidgets"),i.domNode.setPosition("absolute"),i.domNode.setTop(0),i.overflowingContentWidgetsDomNode=wt(document.createElement("div")),Rl.write(i.overflowingContentWidgetsDomNode,2),i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._widgets={}},e.prototype.onConfigurationChanged=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].onConfigurationChanged(t)}return!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLineMappingChanged=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].onLineMappingChanged(t)}return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.addWidget=function(t){var r=new _ke(this._context,this._viewDomNode,t);this._widgets[r.id]=r,r.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(r.domNode):this.domNode.appendChild(r.domNode),this.setShouldRender()},e.prototype.setWidgetPosition=function(t,r,i,o){var s=this._widgets[t.getId()];s.setPosition(r,i,o),this.setShouldRender()},e.prototype.removeWidget=function(t){var r=t.getId();if(this._widgets.hasOwnProperty(r)){var i=this._widgets[r];delete this._widgets[r];var o=i.domNode.domNode;o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},e.prototype.shouldSuppressMouseDownOnWidget=function(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1},e.prototype.onBeforeRender=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].onBeforeRender(t)}},e.prototype.prepareRender=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].prepareRender(t)}},e.prototype.render=function(t){for(var r=Object.keys(this._widgets),i=0,o=r;i<o.length;i++){var s=o[i];this._widgets[s].render(t)}},e}(Ea),_ke=function(){function n(e,t,r){this._context=e,this._viewDomNode=t,this._actual=r,this.domNode=wt(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._position=null,this._range=null,this._viewPosition=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return n.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth())},n.prototype.onLineMappingChanged=function(e){this._setPosition(this._position,this._range)},n.prototype._setPosition=function(e,t){if(this._position=e,this._range=t,this._viewPosition=null,this._viewRange=null,this._position){var r=this._context.model.validateModelPosition(this._position);this._context.model.coordinatesConverter.modelPositionIsVisible(r)&&(this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(r))}if(this._range){var i=this._context.model.validateModelRange(this._range);this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(i)}},n.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},n.prototype.setPosition=function(e,t,r){this._setPosition(e,t),this._preference=r,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},n.prototype._layoutBoxInViewport=function(e,t,r,i,o){var s=e.top,a=s,u=t.top+this._lineHeight,l=o.viewportHeight-u,c=s-i,h=a>=i,d=u,p=l>=i,v=e.left,m=t.left;return v+r>o.scrollLeft+o.viewportWidth&&(v=o.scrollLeft+o.viewportWidth-r),m+r>o.scrollLeft+o.viewportWidth&&(m=o.scrollLeft+o.viewportWidth-r),v<o.scrollLeft&&(v=o.scrollLeft),m<o.scrollLeft&&(m=o.scrollLeft),{fitsAbove:h,aboveTop:c,aboveLeft:v,fitsBelow:p,belowTop:d,belowLeft:m}},n.prototype._layoutBoxInPage=function(e,t,r,i,o){var s=e.left-o.scrollLeft,a=t.left-o.scrollLeft,u=e.top-i,l=t.top+this._lineHeight,c=s+this._contentLeft,h=a+this._contentLeft,d=_i(this._viewDomNode.domNode),p=d.top+u-ll.scrollY,v=d.top+l-ll.scrollY,m=d.left+c-ll.scrollX,_=d.left+h-ll.scrollX,b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,E=22,S=22,A=p>=E,T=v+i<=C-S;if(m+r+20>b){var N=m-(b-r-20);m-=N,c-=N}if(_+r+20>b){var N=_-(b-r-20);_-=N,h-=N}if(m<0){var N=m;m-=N,c-=N}if(_<0){var N=_;_-=N,h-=N}return this._fixedOverflowWidgets&&(u=p,l=v,c=m,h=_),{fitsAbove:A,aboveTop:u,aboveLeft:c,fitsBelow:T,belowTop:l,belowLeft:h}},n.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new uy(e.top,e.left+this._contentLeft)},n.prototype._getTopAndBottomLeft=function(e){if(!this._viewPosition)return[null,null];var t=e.visibleRangeForPosition(this._viewPosition);if(!t)return[null,null];var r=e.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-e.scrollTop,i=new uy(r,t.left),o=this._viewPosition.lineNumber,s=t.left;if(this._viewRange){var a=e.linesVisibleRangesForRange(this._viewRange,!1);if(a&&a.length>0)for(var u=a.length-1;u>=0;u--){var l=a[u];if(l.lineNumber>=o){l.lineNumber>o&&(o=l.lineNumber,s=1073741824);for(var c=0,h=l.ranges.length;c<h;c++){var d=l.ranges[c];d.left<s&&(s=d.left)}}}}var p=e.getVerticalOffsetForLineNumber(o)-e.scrollTop,v=new uy(p,s);return[i,v]},n.prototype._prepareRenderWidget=function(e){var t=this._getTopAndBottomLeft(e),r=t[0],i=t[1];if(!r||!i)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){var o=this.domNode.domNode;this._cachedDomNodeClientWidth=o.clientWidth,this._cachedDomNodeClientHeight=o.clientHeight}var s;if(this.allowEditorOverflow?s=this._layoutBoxInPage(r,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):s=this._layoutBoxInViewport(r,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(var a=1;a<=2;a++)for(var u=0,l=this._preference;u<l.length;u++){var c=l[u];if(c===1){if(!s)return null;if(a===2||s.fitsAbove)return new uy(s.aboveTop,s.aboveLeft)}else if(c===2){if(!s)return null;if(a===2||s.fitsBelow)return new uy(s.belowTop,s.belowLeft)}else return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(r):r}return null},n.prototype.onBeforeRender=function(e){!this._viewPosition||!this._preference||this._viewPosition.lineNumber<e.startLineNumber||this._viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)},n.prototype.prepareRender=function(e){this._renderData=this._prepareRenderWidget(e)},n.prototype.render=function(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"));return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)},n}(),yke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bke=function(n){yke(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._renderLineHighlight=r._context.configuration.editor.viewInfo.renderLineHighlight,r._selectionIsEmpty=!0,r._primaryCursorLineNumber=1,r._scrollWidth=0,r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},e.prototype.onCursorStateChanged=function(t){var r=!1,i=t.selections[0].positionLineNumber;this._primaryCursorLineNumber!==i&&(this._primaryCursorLineNumber=i,r=!0);var o=t.selections[0].isEmpty();return this._selectionIsEmpty!==o?(this._selectionIsEmpty=o,!0):r},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollWidthChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.prepareRender=function(t){this._scrollWidth=t.scrollWidth},e.prototype.render=function(t,r){if(r===this._primaryCursorLineNumber)if(this._shouldShowCurrentLine()){var i=this._willRenderMarginCurrentLine(),o="current-line"+(i?" current-line-both":"");return'<div class="'+o+'" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>'}else return"";return""},e.prototype._shouldShowCurrentLine=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},e.prototype._willRenderMarginCurrentLine=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},e}(fg);mn(function(n,e){var t=n.getColor($te);if(t&&e.addRule(".monaco-editor .view-overlays .current-line { background-color: "+t+"; }"),!t||t.isTransparent()||n.defines(KM)){var r=n.getColor(KM);r&&(e.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+r+"; }"),n.type==="hc"&&e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}});var Cke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wke=function(n){Cke(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._renderLineHighlight=r._context.configuration.editor.viewInfo.renderLineHighlight,r._selectionIsEmpty=!0,r._primaryCursorLineNumber=1,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},e.prototype.onCursorStateChanged=function(t){var r=!1,i=t.selections[0].positionLineNumber;this._primaryCursorLineNumber!==i&&(this._primaryCursorLineNumber=i,r=!0);var o=t.selections[0].isEmpty();return this._selectionIsEmpty!==o?(this._selectionIsEmpty=o,!0):r},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.prepareRender=function(t){},e.prototype.render=function(t,r){if(r===this._primaryCursorLineNumber){var i="current-line";if(this._shouldShowCurrentLine()){var o=this._willRenderContentCurrentLine();i="current-line current-line-margin"+(o?" current-line-margin-both":"")}return'<div class="'+i+'" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>'}return""},e.prototype._shouldShowCurrentLine=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"},e.prototype._willRenderContentCurrentLine=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty},e}(fg);mn(function(n,e){var t=n.getColor($te);if(t)e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+t+"; border: none; }");else{var r=n.getColor(KM);r&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+r+"; }"),n.type==="hc"&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}});var Eke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ske=function(n){Eke(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.prepareRender=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s];u.options.className&&(i[o++]=u)}i=i.sort(function(v,m){if(v.options.zIndex<m.options.zIndex)return-1;if(v.options.zIndex>m.options.zIndex)return 1;var _=v.options.className,b=m.options.className;return _<b?-1:_>b?1:H.compareRangesUsingStarts(v.range,m.range)});for(var l=t.visibleRange.startLineNumber,c=t.visibleRange.endLineNumber,h=[],d=l;d<=c;d++){var p=d-l;h[p]=""}this._renderWholeLineDecorations(t,i,h),this._renderNormalDecorations(t,i,h),this._renderResult=h},e.prototype._renderWholeLineDecorations=function(t,r,i){for(var o=String(this._lineHeight),s=t.visibleRange.startLineNumber,a=t.visibleRange.endLineNumber,u=0,l=r.length;u<l;u++){var c=r[u];if(c.options.isWholeLine)for(var h='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+o+'px;"></div>',d=Math.max(c.range.startLineNumber,s),p=Math.min(c.range.endLineNumber,a),v=d;v<=p;v++){var m=v-s;i[m]+=h}}},e.prototype._renderNormalDecorations=function(t,r,i){for(var o=String(this._lineHeight),s=t.visibleRange.startLineNumber,a=null,u=!1,l=null,c=0,h=r.length;c<h;c++){var d=r[c];if(!d.options.isWholeLine){var p=d.options.className,v=!!d.options.showIfCollapsed,m=d.range;if(v&&m.endColumn===1&&m.endLineNumber!==m.startLineNumber&&(m=new H(m.startLineNumber,m.startColumn,m.endLineNumber-1,this._context.model.getLineMaxColumn(m.endLineNumber-1))),a===p&&u===v&&H.areIntersectingOrTouching(l,m)){l=H.plusRange(l,m);continue}a!==null&&this._renderNormalDecoration(t,l,a,u,o,s,i),a=p,u=v,l=m}}a!==null&&this._renderNormalDecoration(t,l,a,u,o,s,i)},e.prototype._renderNormalDecoration=function(t,r,i,o,s,a,u){var l=t.linesVisibleRangesForRange(r,i==="findMatch");if(l)for(var c=0,h=l.length;c<h;c++){var d=l[c],p=d.lineNumber-a;if(o&&d.ranges.length===1){var v=d.ranges[0];v.width===0&&(d.ranges[0]=new uh(v.left,this._typicalHalfwidthCharacterWidth))}for(var m=0,_=d.ranges.length;m<_;m++){var b=d.ranges[m],C='<div class="cdr '+i+'" style="left:'+String(b.left)+"px;width:"+String(b.width)+"px;height:"+s+'px;"></div>';u[p]+=C}}},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e}(fg),Tke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gs=function(n){Tke(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){this._register(ye(t,lt.CLICK,function(i){return r(new hi(i))}))},e.prototype.onmousedown=function(t,r){this._register(ye(t,lt.MOUSE_DOWN,function(i){return r(new hi(i))}))},e.prototype.onmouseover=function(t,r){this._register(ye(t,lt.MOUSE_OVER,function(i){return r(new hi(i))}))},e.prototype.onnonbubblingmouseout=function(t,r){this._register(v6(t,function(i){return r(new hi(i))}))},e.prototype.onkeydown=function(t,r){this._register(ye(t,lt.KEY_DOWN,function(i){return r(new Gn(i))}))},e.prototype.onkeyup=function(t,r){this._register(ye(t,lt.KEY_UP,function(i){return r(new Gn(i))}))},e.prototype.oninput=function(t,r){this._register(ye(t,lt.INPUT,r))},e.prototype.onblur=function(t,r){this._register(ye(t,lt.BLUR,r))},e.prototype.onfocus=function(t,r){this._register(ye(t,lt.FOCUS,r))},e.prototype.onchange=function(t,r){this._register(ye(t,lt.CHANGE,r))},e}(he),Dke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qm=11,Ake=function(n){Dke(e,n);function e(t){var r=n.call(this)||this;return r._onActivate=t.onActivate,r.bgDomNode=document.createElement("div"),r.bgDomNode.className="arrow-background",r.bgDomNode.style.position="absolute",r.bgDomNode.style.width=t.bgWidth+"px",r.bgDomNode.style.height=t.bgHeight+"px",typeof t.top<"u"&&(r.bgDomNode.style.top="0px"),typeof t.left<"u"&&(r.bgDomNode.style.left="0px"),typeof t.bottom<"u"&&(r.bgDomNode.style.bottom="0px"),typeof t.right<"u"&&(r.bgDomNode.style.right="0px"),r.domNode=document.createElement("div"),r.domNode.className=t.className,r.domNode.style.position="absolute",r.domNode.style.width=qm+"px",r.domNode.style.height=qm+"px",typeof t.top<"u"&&(r.domNode.style.top=t.top+"px"),typeof t.left<"u"&&(r.domNode.style.left=t.left+"px"),typeof t.bottom<"u"&&(r.domNode.style.bottom=t.bottom+"px"),typeof t.right<"u"&&(r.domNode.style.right=t.right+"px"),r._mouseMoveMonitor=r._register(new cg),r.onmousedown(r.bgDomNode,function(i){return r._arrowMouseDown(i)}),r.onmousedown(r.domNode,function(i){return r._arrowMouseDown(i)}),r._mousedownRepeatTimer=r._register(new R_),r._mousedownScheduleRepeatTimer=r._register(new Fs),r}return e.prototype._arrowMouseDown=function(t){var r=this,i=function(){r._mousedownRepeatTimer.cancelAndSet(function(){return r._onActivate()},1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(i,200),this._mouseMoveMonitor.startMonitoring(B_,function(o){},function(){r._mousedownRepeatTimer.cancel(),r._mousedownScheduleRepeatTimer.cancel()}),t.preventDefault()},e}(gs),Ike=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xke=function(n){Ike(e,n);function e(t,r,i){var o=n.call(this)||this;return o._visibility=t,o._visibleClassName=r,o._invisibleClassName=i,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new Fs),o}return e.prototype.applyVisibilitySetting=function(t){return this._visibility===2?!1:this._visibility===3?!0:t},e.prototype.setShouldBeVisible=function(t){var r=this.applyVisibilitySetting(t);this._shouldBeVisible!==r&&(this._shouldBeVisible=r,this.ensureVisibility())},e.prototype.setIsNeeded=function(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())},e.prototype.setDomNode=function(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)},e.prototype._reveal=function(){var t=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){t._domNode&&t._domNode.setClassName(t._visibleClassName)},0))},e.prototype._hide=function(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(t?" fade":"")))},e}(he),Lke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nke=140,one=function(n){Lke(e,n);function e(t){var r=n.call(this)||this;return r._lazyRender=t.lazyRender,r._host=t.host,r._scrollable=t.scrollable,r._scrollbarState=t.scrollbarState,r._visibilityController=r._register(new xke(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),r._mouseMoveMonitor=r._register(new cg),r._shouldRender=!0,r.domNode=wt(document.createElement("div")),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r._visibilityController.setDomNode(r.domNode),r.domNode.setPosition("absolute"),r.onmousedown(r.domNode.domNode,function(i){return r._domNodeMouseDown(i)}),r}return e.prototype._createArrow=function(t){var r=this._register(new Ake(t));this.domNode.domNode.appendChild(r.bgDomNode),this.domNode.domNode.appendChild(r.domNode)},e.prototype._createSlider=function(t,r,i,o){var s=this;this.slider=wt(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(r),typeof i=="number"&&this.slider.setWidth(i),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(a){a.leftButton&&(a.preventDefault(),s._sliderMouseDown(a,function(){}))}),this.onclick(this.slider.domNode,function(a){a.leftButton&&a.stopPropagation()})},e.prototype._onElementSize=function(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype._onElementScrollSize=function(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype._onElementScrollPosition=function(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},e.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},e.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},e.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},e.prototype._domNodeMouseDown=function(t){t.target===this.domNode.domNode&&this._onMouseDown(t)},e.prototype.delegateMouseDown=function(t){var r=this.domNode.domNode.getClientRects()[0].top,i=r+this._scrollbarState.getSliderPosition(),o=r+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(t);i<=s&&s<=o?t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,function(){})):this._onMouseDown(t)},e.prototype._onMouseDown=function(t){var r,i;if(t.target===this.domNode.domNode&&typeof t.browserEvent.offsetX=="number"&&typeof t.browserEvent.offsetY=="number")r=t.browserEvent.offsetX,i=t.browserEvent.offsetY;else{var o=_i(this.domNode.domNode);r=t.posx-o.left,i=t.posy-o.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(r,i))),t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,function(){}))},e.prototype._sliderMouseDown=function(t,r){var i=this,o=this._sliderMousePosition(t),s=this._sliderOrthogonalMousePosition(t),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(B_,function(u){var l=i._sliderOrthogonalMousePosition(u),c=Math.abs(l-s);if(xo&&c>Nke){i._setDesiredScrollPositionNow(a.getScrollPosition());return}var h=i._sliderMousePosition(u),d=h-o;i._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(d))},function(){i.slider.toggleClassName("active",!1),i._host.onDragEnd(),r()}),this._host.onDragStart()},e.prototype._setDesiredScrollPositionNow=function(t){var r={};this.writeScrollPosition(r,t),this._scrollable.setScrollPositionNow(r)},e}(gs),Oke=20,sne=function(){function n(e,t,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(r),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return n.prototype.clone=function(){var e=new n(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return e.setVisibleSize(this._visibleSize),e.setScrollSize(this._scrollSize),e.setScrollPosition(this._scrollPosition),e},n.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1},n.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1},n.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1},n._computeValues=function(e,t,r,i,o){var s=Math.max(0,r-e),a=Math.max(0,s-2*t),u=i>0&&i>r;if(!u)return{computedAvailableSize:Math.round(s),computedIsNeeded:u,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};var l=Math.round(Math.max(Oke,Math.floor(r*a/i))),c=(a-l)/(i-r),h=o*c;return{computedAvailableSize:Math.round(s),computedIsNeeded:u,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(h)}},n.prototype._refreshComputedValues=function(){var e=n._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition},n.prototype.getArrowSize=function(){return this._arrowSize},n.prototype.getScrollPosition=function(){return this._scrollPosition},n.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},n.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},n.prototype.isNeeded=function(){return this._computedIsNeeded},n.prototype.getSliderSize=function(){return this._computedSliderSize},n.prototype.getSliderPosition=function(){return this._computedSliderPosition},n.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)},n.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)},n}(),kke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rke=function(n){kke(e,n);function e(t,r,i){var o=n.call(this,{lazyRender:r.lazyRender,host:i,scrollbarState:new sne(r.horizontalHasArrows?r.arrowSize:0,r.horizontal===2?0:r.horizontalScrollbarSize,r.vertical===2?0:r.verticalScrollbarSize),visibility:r.horizontal,extraScrollbarClassName:"horizontal",scrollable:t})||this;if(r.horizontalHasArrows){var s=(r.arrowSize-qm)/2,a=(r.horizontalScrollbarSize-qm)/2;o._createArrow({className:"left-arrow",top:a,left:s,bottom:void 0,right:void 0,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new Rm(null,1,0))}}),o._createArrow({className:"right-arrow",top:a,left:void 0,bottom:void 0,right:s,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new Rm(null,-1,0))}})}return o._createSlider(Math.floor((r.horizontalScrollbarSize-r.horizontalSliderSize)/2),0,void 0,r.horizontalSliderSize),o}return e.prototype._updateSlider=function(t,r){this.slider.setWidth(t),this.slider.setLeft(r)},e.prototype._renderDomNode=function(t,r){this.domNode.setWidth(t),this.domNode.setHeight(r),this.domNode.setLeft(0),this.domNode.setBottom(0)},e.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(t,r){return t},e.prototype._sliderMousePosition=function(t){return t.posx},e.prototype._sliderOrthogonalMousePosition=function(t){return t.posy},e.prototype.writeScrollPosition=function(t,r){t.scrollLeft=r},e}(one),Pke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mke=function(n){Pke(e,n);function e(t,r,i){var o=n.call(this,{lazyRender:r.lazyRender,host:i,scrollbarState:new sne(r.verticalHasArrows?r.arrowSize:0,r.vertical===2?0:r.verticalScrollbarSize,0),visibility:r.vertical,extraScrollbarClassName:"vertical",scrollable:t})||this;if(r.verticalHasArrows){var s=(r.arrowSize-qm)/2,a=(r.verticalScrollbarSize-qm)/2;o._createArrow({className:"up-arrow",top:s,left:a,bottom:void 0,right:void 0,bgWidth:r.verticalScrollbarSize,bgHeight:r.arrowSize,onActivate:function(){return o._host.onMouseWheel(new Rm(null,0,1))}}),o._createArrow({className:"down-arrow",top:void 0,left:a,bottom:s,right:void 0,bgWidth:r.verticalScrollbarSize,bgHeight:r.arrowSize,onActivate:function(){return o._host.onMouseWheel(new Rm(null,0,-1))}})}return o._createSlider(0,Math.floor((r.verticalScrollbarSize-r.verticalSliderSize)/2),r.verticalSliderSize,void 0),o}return e.prototype._updateSlider=function(t,r){this.slider.setHeight(t),this.slider.setTop(r)},e.prototype._renderDomNode=function(t,r){this.domNode.setWidth(r),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)},e.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(t,r){return r},e.prototype._sliderMousePosition=function(t){return t.posy},e.prototype._sliderOrthogonalMousePosition=function(t){return t.posx},e.prototype.writeScrollPosition=function(t,r){t.scrollTop=r},e}(one),Fke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bke=function(){function n(e,t,r,i,o,s){e=e|0,t=t|0,r=r|0,i=i|0,o=o|0,s=s|0,e<0&&(e=0),r+e>t&&(r=t-e),r<0&&(r=0),i<0&&(i=0),s+i>o&&(s=o-i),s<0&&(s=0),this.width=e,this.scrollWidth=t,this.scrollLeft=r,this.height=i,this.scrollHeight=o,this.scrollTop=s}return n.prototype.equals=function(e){return this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop},n.prototype.withScrollDimensions=function(e){return new n(typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,this.scrollTop)},n.prototype.withScrollPosition=function(e){return new n(this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.scrollTop)},n.prototype.createScrollEvent=function(e){var t=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:r,scrollLeftChanged:i,heightChanged:o,scrollHeightChanged:s,scrollTopChanged:a}},n}(),ane=function(n){Fke(e,n);function e(t,r){var i=n.call(this)||this;return i._onScroll=i._register(new Q),i.onScroll=i._onScroll.event,i._smoothScrollDuration=t,i._scheduleAtNextAnimationFrame=r,i._state=new Bke(0,0,0,0,0,0),i._smoothScrolling=null,i}return e.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),n.prototype.dispose.call(this)},e.prototype.setSmoothScrollDuration=function(t){this._smoothScrollDuration=t},e.prototype.validateScrollPosition=function(t){return this._state.withScrollPosition(t)},e.prototype.getScrollDimensions=function(){return this._state},e.prototype.setScrollDimensions=function(t){var r=this._state.withScrollDimensions(t);this._setState(r),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},e.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},e.prototype.getCurrentScrollPosition=function(){return this._state},e.prototype.setScrollPositionNow=function(t){var r=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(r)},e.prototype.setScrollPositionSmooth=function(t){var r=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};var i=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;var o=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=o}else{var i=this._state.withScrollPosition(t);this._smoothScrolling=Vke.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){r._smoothScrolling&&(r._smoothScrolling.animationFrameDisposable=null,r._performSmoothScrolling())})},e.prototype._performSmoothScrolling=function(){var t=this;if(this._smoothScrolling){var r=this._smoothScrolling.tick(),i=this._state.withScrollPosition(r);if(this._setState(i),r.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())})}},e.prototype._setState=function(t){var r=this._state;r.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(r)))},e}(he),sz=function(){function n(e,t,r){this.scrollLeft=e,this.scrollTop=t,this.isDone=r}return n}();function sk(n,e){var t=e-n;return function(r){return n+t*Uke(r)}}function Hke(n,e,t){return function(r){return r<t?n(r/t):e((r-t)/(1-t))}}var Vke=function(){function n(e,t,r,i){this.from=e,this.to=t,this.duration=i,this._startTime=r,this.animationFrameDisposable=null,this._initAnimations()}return n.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},n.prototype._initAnimation=function(e,t,r){var i=Math.abs(e-t);if(i>2.5*r){var o=void 0,s=void 0;return e<t?(o=e+.75*r,s=t-.75*r):(o=e-.75*r,s=t+.75*r),Hke(sk(e,o),sk(s,t),.33)}return sk(e,t)},n.prototype.dispose=function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},n.prototype.acceptScrollDimensions=function(e){this.to=e.withScrollPosition(this.to),this._initAnimations()},n.prototype.tick=function(){return this._tick(Date.now())},n.prototype._tick=function(e){var t=(e-this._startTime)/this.duration;if(t<1){var r=this.scrollLeft(t),i=this.scrollTop(t);return new sz(r,i,!1)}return new sz(this.to.scrollLeft,this.to.scrollTop,!0)},n.prototype.combine=function(e,t,r){return n.start(e,t,r)},n.start=function(e,t,r){r=r+10;var i=Date.now()-10;return new n(e,t,i,r)},n}();function Wke(n){return Math.pow(n,3)}function Uke(n){return 1-Wke(1-n)}var T2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jke=500,az=50,qke=function(){function n(e,t,r){this.timestamp=e,this.deltaX=t,this.deltaY=r,this.score=0}return n}(),zke=function(){function n(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return n.prototype.isPhysicalMouseWheel=function(){if(this._front===-1&&this._rear===-1)return!1;var e=1,t=0,r=1,i=this._rear;do{var o=i===this._front?e:Math.pow(2,-r);if(e-=o,t+=this._memory[i].score*o,i===this._front)break;i=(this._capacity+i-1)%this._capacity,r++}while(!0);return t<=.5},n.prototype.accept=function(e,t,r){var i=new qke(e,t,r);i.score=this._computeScore(i),this._front===-1&&this._rear===-1?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)},n.prototype._computeScore=function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(Math.abs(e.deltaX-Math.round(e.deltaX))>0||Math.abs(e.deltaY-Math.round(e.deltaY))>0)&&(t+=.25),Math.min(Math.max(t,0),1)},n.INSTANCE=new n,n}(),une=function(n){T2(e,n);function e(t,r,i){var o=n.call(this)||this;o._onScroll=o._register(new Q),o.onScroll=o._onScroll.event,t.style.overflow="hidden",o._options=uz(r),o._scrollable=i,o._register(o._scrollable.onScroll(function(a){o._onDidScroll(a),o._onScroll.fire(a)}));var s={onMouseWheel:function(a){return o._onMouseWheel(a)},onDragStart:function(){return o._onDragStart()},onDragEnd:function(){return o._onDragEnd()}};return o._verticalScrollbar=o._register(new Mke(o._scrollable,o._options,s)),o._horizontalScrollbar=o._register(new Rke(o._scrollable,o._options,s)),o._domNode=document.createElement("div"),o._domNode.className="monaco-scrollable-element "+o._options.className,o._domNode.setAttribute("role","presentation"),o._domNode.style.position="relative",o._domNode.style.overflow="hidden",o._domNode.appendChild(t),o._domNode.appendChild(o._horizontalScrollbar.domNode.domNode),o._domNode.appendChild(o._verticalScrollbar.domNode.domNode),o._options.useShadows?(o._leftShadowDomNode=wt(document.createElement("div")),o._leftShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._leftShadowDomNode.domNode),o._topShadowDomNode=wt(document.createElement("div")),o._topShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._topShadowDomNode.domNode),o._topLeftShadowDomNode=wt(document.createElement("div")),o._topLeftShadowDomNode.setClassName("shadow top-left-corner"),o._domNode.appendChild(o._topLeftShadowDomNode.domNode)):(o._leftShadowDomNode=null,o._topShadowDomNode=null,o._topLeftShadowDomNode=null),o._listenOnDomNode=o._options.listenOnDomNode||o._domNode,o._mouseWheelToDispose=[],o._setListeningToMouseWheel(o._options.handleMouseWheel),o.onmouseover(o._listenOnDomNode,function(a){return o._onMouseOver(a)}),o.onnonbubblingmouseout(o._listenOnDomNode,function(a){return o._onMouseOut(a)}),o._hideTimeout=o._register(new Fs),o._isDragging=!1,o._mouseIsOver=!1,o._shouldRender=!0,o._revealOnScroll=!0,o}return e.prototype.dispose=function(){this._mouseWheelToDispose=nt(this._mouseWheelToDispose),n.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this._verticalScrollbar.delegateMouseDown(t)},e.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},e.prototype.setScrollDimensions=function(t){this._scrollable.setScrollDimensions(t)},e.prototype.updateClassName=function(t){this._options.className=t,Tt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},e.prototype.updateOptions=function(t){var r=uz(t);this._options.handleMouseWheel=r.handleMouseWheel,this._options.mouseWheelScrollSensitivity=r.mouseWheelScrollSensitivity,this._options.fastScrollSensitivity=r.fastScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},e.prototype._setListeningToMouseWheel=function(t){var r=this,i=this._mouseWheelToDispose.length>0;if(i!==t&&(this._mouseWheelToDispose=nt(this._mouseWheelToDispose),t)){var o=function(s){r._onMouseWheel(new Rm(s))};this._mouseWheelToDispose.push(ye(this._listenOnDomNode,vl?"mousewheel":"wheel",o))}},e.prototype._onMouseWheel=function(t){var r,i=zke.INSTANCE;if(i.accept(Date.now(),t.deltaX,t.deltaY),t.deltaY||t.deltaX){var o=t.deltaY*this._options.mouseWheelScrollSensitivity,s=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(r=[s,o],o=r[0],s=r[1]);var a=!Tt&&t.browserEvent&&t.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=o,o=0),t.browserEvent&&t.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);var u=this._scrollable.getFutureScrollPosition(),l={};if(o){var c=u.scrollTop-az*o;this._verticalScrollbar.writeScrollPosition(l,c)}if(s){var h=u.scrollLeft-az*s;this._horizontalScrollbar.writeScrollPosition(l,h)}if(l=this._scrollable.validateScrollPosition(l),u.scrollLeft!==l.scrollLeft||u.scrollTop!==l.scrollTop){var d=this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel();d?this._scrollable.setScrollPositionSmooth(l):this._scrollable.setScrollPositionNow(l),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(t.preventDefault(),t.stopPropagation())},e.prototype._onDidScroll=function(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},e.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},e.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var t=this._scrollable.getCurrentScrollPosition(),r=t.scrollTop>0,i=t.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(i?" left":"")),this._topShadowDomNode.setClassName("shadow"+(r?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(r?" top":"")+(i?" left":""))}},e.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},e.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},e.prototype._onMouseOut=function(t){this._mouseIsOver=!1,this._hide()},e.prototype._onMouseOver=function(t){this._mouseIsOver=!0,this._reveal()},e.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},e.prototype._hide=function(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},e.prototype._scheduleHide=function(){var t=this;!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(function(){return t._hide()},jke)},e}(gs),yC=function(n){T2(e,n);function e(t,r){var i=this;r=r||{},r.mouseWheelSmoothScroll=!1;var o=new ane(0,function(s){return Sh(s)});return i=n.call(this,t,r,o)||this,i._register(o),i}return e.prototype.setScrollPosition=function(t){this._scrollable.setScrollPositionNow(t)},e.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},e}(une),Gke=function(n){T2(e,n);function e(t,r,i){return n.call(this,t,r,i)||this}return e}(une),bC=function(n){T2(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._element=t,i.onScroll(function(o){o.scrollTopChanged&&(i._element.scrollTop=o.scrollTop),o.scrollLeftChanged&&(i._element.scrollLeft=o.scrollLeft)}),i.scanDomNode(),i}return e.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},e}(yC);function uz(n){var e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,Tt&&(e.className+=" mac"),e}var $ke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kke=function(n){$ke(e,n);function e(t,r,i,o){var s=n.call(this,t)||this,a=s._context.configuration.editor,u=a.viewInfo.scrollbar,l={listenOnDomNode:i.domNode,className:"editor-scrollable "+GT(t.theme.type),useShadows:!1,lazyRender:!0,vertical:u.vertical,horizontal:u.horizontal,verticalHasArrows:u.verticalHasArrows,horizontalHasArrows:u.horizontalHasArrows,verticalScrollbarSize:u.verticalScrollbarSize,verticalSliderSize:u.verticalSliderSize,horizontalScrollbarSize:u.horizontalScrollbarSize,horizontalSliderSize:u.horizontalSliderSize,handleMouseWheel:u.handleMouseWheel,arrowSize:u.arrowSize,mouseWheelScrollSensitivity:u.mouseWheelScrollSensitivity,fastScrollSensitivity:u.fastScrollSensitivity};s.scrollbar=s._register(new Gke(r.domNode,l,s._context.viewLayout.scrollable)),Rl.write(s.scrollbar.getDomNode(),5),s.scrollbarDomNode=wt(s.scrollbar.getDomNode()),s.scrollbarDomNode.setPosition("absolute"),s._setLayout();var c=function(h,d,p){var v={};{var m=h.scrollTop;m&&(v.scrollTop=s._context.viewLayout.getCurrentScrollTop()+m,h.scrollTop=0)}if(p){var _=h.scrollLeft;_&&(v.scrollLeft=s._context.viewLayout.getCurrentScrollLeft()+_,h.scrollLeft=0)}s._context.viewLayout.setScrollPositionNow(v)};return s._register(ye(i.domNode,"scroll",function(h){return c(i.domNode,!0,!0)})),s._register(ye(r.domNode,"scroll",function(h){return c(r.domNode,!0,!1)})),s._register(ye(o.domNode,"scroll",function(h){return c(o.domNode,!0,!1)})),s._register(ye(s.scrollbarDomNode.domNode,"scroll",function(h){return c(s.scrollbarDomNode.domNode,!0,!1)})),s}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(t.contentLeft);var r=this._context.configuration.editor.viewInfo.minimap.side;r==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.contentHeight)},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},e.prototype.getDomNode=function(){return this.scrollbarDomNode},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this.scrollbar.delegateVerticalScrollbarMouseDown(t)},e.prototype.onConfigurationChanged=function(t){if(t.viewInfo){var r=this._context.configuration.editor,i={handleMouseWheel:r.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:r.viewInfo.scrollbar.mouseWheelScrollSensitivity,fastScrollSensitivity:r.viewInfo.scrollbar.fastScrollSensitivity};this.scrollbar.updateOptions(i)}return t.layoutInfo&&this._setLayout(),!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onThemeChanged=function(t){return this.scrollbar.updateClassName("editor-scrollable "+GT(this._context.theme.type)),!0},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this.scrollbar.renderNow()},e}(Ea),lne=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_5=function(){function n(e,t,r){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(r)}return n}(),y5=function(n){lne(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._render=function(t,r,i){for(var o=[],s=t;s<=r;s++){var a=s-t;o[a]=[]}if(i.length===0)return o;i.sort(function(b,C){return b.className===C.className?b.startLineNumber===C.startLineNumber?b.endLineNumber-C.endLineNumber:b.startLineNumber-C.startLineNumber:b.className<C.className?-1:1});for(var u=null,l=0,c=0,h=i.length;c<h;c++){var d=i[c],p=d.className,v=Math.max(d.startLineNumber,t)-t,m=Math.min(d.endLineNumber,r)-t;u===p?(v=Math.max(l+1,v),l=Math.max(l,m)):(u=p,l=m);for(var _=v;_<=l;_++)o[_].push(u)}return o},e}(fg),Yke=function(n){lne(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._glyphMargin=r._context.configuration.editor.viewInfo.glyphMargin,r._glyphMarginLeft=r._context.configuration.editor.layoutInfo.glyphMarginLeft,r._glyphMarginWidth=r._context.configuration.editor.layoutInfo.glyphMarginWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),t.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s],l=u.options.glyphMarginClassName;l&&(i[o++]=new _5(u.range.startLineNumber,u.range.endLineNumber,l))}return i},e.prototype.prepareRender=function(t){if(!this._glyphMargin){this._renderResult=null;return}for(var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._render(r,i,this._getDecorations(t)),s=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),u=this._glyphMarginWidth.toString(),l='" style="left:'+a+"px;width:"+u+"px;height:"+s+'px;"></div>',c=[],h=r;h<=i;h++){var d=h-r,p=o[d];p.length===0?c[d]="":c[d]='<div class="cgmr '+p.join(" ")+l}this._renderResult=c},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e}(y5),Xke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qke=function(n){Xke(e,n);function e(t){var r=n.call(this)||this;r._context=t,r._primaryLineNumber=0,r._lineHeight=r._context.configuration.editor.lineHeight,r._spaceWidth=r._context.configuration.editor.fontInfo.spaceWidth,r._enabled=r._context.configuration.editor.viewInfo.renderIndentGuides,r._activeIndentEnabled=r._context.configuration.editor.viewInfo.highlightActiveIndentGuide;var i=r._context.configuration.editor.wrappingInfo.wrappingColumn;return r._maxIndentLeft=i===-1?-1:i*r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){if(t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),t.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._activeIndentEnabled=this._context.configuration.editor.viewInfo.highlightActiveIndentGuide),t.wrappingInfo||t.fontInfo){var r=this._context.configuration.editor.wrappingInfo.wrappingColumn;this._maxIndentLeft=r===-1?-1:r*this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth}return!0},e.prototype.onCursorStateChanged=function(t){var r=t.selections[0],i=r.isEmpty()?r.positionLineNumber:0;return this._primaryLineNumber!==i?(this._primaryLineNumber=i,!0):!1},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onLanguageConfigurationChanged=function(t){return!0},e.prototype.prepareRender=function(t){if(!this._enabled){this._renderResult=null;return}var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._context.model.getOptions().indentSize,s=o*this._spaceWidth,a=t.scrollWidth,u=this._lineHeight,l=this._context.model.getLinesIndentGuides(r,i),c=0,h=0,d=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var p=this._context.model.getActiveIndentGuide(this._primaryLineNumber,r,i);c=p.startLineNumber,h=p.endLineNumber,d=p.indent}for(var v=[],m=r;m<=i;m++){for(var _=c<=m&&m<=h,b=m-r,C=l[b],E="",S=t.visibleRangeForPosition(new ee(m,1)),A=S?S.left:0,T=1;T<=C;T++){var N=_&&T===d?"cigra":"cigr";if(E+='<div class="'+N+'" style="left:'+A+"px;height:"+u+"px;width:"+s+'px"></div>',A+=s,A>a||this._maxIndentLeft>0&&A>this._maxIndentLeft)break}v[b]=E}this._renderResult=v},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e}(fg);mn(function(n,e){var t=n.getColor(w2);t&&e.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+t+" inset; }");var r=n.getColor(E2)||t;r&&e.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+r+" inset; }")});var Zke=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jke=function(){function n(){this._currentVisibleRange=new H(1,1,1,1)}return n.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},n.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},n}(),eRe=function(){function n(e,t,r,i,o,s){this.lineNumber=e,this.startColumn=t,this.endColumn=r,this.startScrollTop=i,this.stopScrollTop=o,this.scrollType=s}return n}(),tRe=function(n){Zke(e,n);function e(t,r){var i=n.call(this,t)||this;i._linesContent=r,i._textRangeRestingSpot=document.createElement("div"),i._visibleLines=new rne(i),i.domNode=i._visibleLines.domNode;var o=i._context.configuration;return i._lineHeight=o.editor.lineHeight,i._typicalHalfwidthCharacterWidth=o.editor.fontInfo.typicalHalfwidthCharacterWidth,i._isViewportWrapping=o.editor.wrappingInfo.isViewportWrapping,i._revealHorizontalRightPadding=o.editor.viewInfo.revealHorizontalRightPadding,i._scrollOff=o.editor.viewInfo.cursorSurroundingLines,i._canUseLayerHinting=o.editor.canUseLayerHinting,i._viewLineOptions=new kq(o,i._context.theme.type),Rl.write(i.domNode,7),i.domNode.setClassName("view-lines"),ya.applyFontInfo(i.domNode,o.editor.fontInfo),i._maxLineWidth=0,i._asyncUpdateLineWidths=new Hr(function(){i._updateLineWidthsSlow()},200),i._lastRenderedData=new Jke,i._horizontalRevealRequest=null,i}return e.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),n.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this.domNode},e.prototype.createVisibleLine=function(){return new jv(this._viewLineOptions)},e.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t),t.wrappingInfo&&(this._maxLineWidth=0);var r=this._context.configuration;return t.lineHeight&&(this._lineHeight=r.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=r.editor.fontInfo.typicalHalfwidthCharacterWidth),t.wrappingInfo&&(this._isViewportWrapping=r.editor.wrappingInfo.isViewportWrapping),t.viewInfo&&(this._revealHorizontalRightPadding=r.editor.viewInfo.revealHorizontalRightPadding,this._scrollOff=r.editor.viewInfo.cursorSurroundingLines),t.canUseLayerHinting&&(this._canUseLayerHinting=r.editor.canUseLayerHinting),t.fontInfo&&ya.applyFontInfo(this.domNode,r.editor.fontInfo),this._onOptionsMaybeChanged(),t.layoutInfo&&(this._maxLineWidth=0),!0},e.prototype._onOptionsMaybeChanged=function(){var t=this._context.configuration,r=new kq(t,this._context.theme.type);if(!this._viewLineOptions.equals(r)){this._viewLineOptions=r;for(var i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),s=i;s<=o;s++){var a=this._visibleLines.getVisibleLine(s);a.onOptionsChanged(this._viewLineOptions)}return!0}return!1},e.prototype.onCursorStateChanged=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=!1,s=r;s<=i;s++)o=this._visibleLines.getVisibleLine(s).onSelectionChanged()||o;return o},e.prototype.onDecorationsChanged=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=r;o<=i;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged();return!0},e.prototype.onFlushed=function(t){var r=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,r},e.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},e.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},e.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},e.prototype.onRevealRangeRequest=function(t){var r=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.range,t.verticalType),i=this._context.viewLayout.validateScrollPosition({scrollTop:r});t.revealHorizontal?t.range.startLineNumber!==t.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new eRe(t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,t.scrollType):this._horizontalRevealRequest=null;var o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);return t.scrollType===0&&o>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(i):this._context.viewLayout.setScrollPositionNow(i),!0},e.prototype.onScrollChanged=function(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){var r=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<r||t.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0},e.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},e.prototype.onZonesChanged=function(t){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(t)},e.prototype.onThemeChanged=function(t){return this._onOptionsMaybeChanged()},e.prototype.getPositionFromDOMInfo=function(t,r){var i=this._getViewLineDomNode(t);if(i===null)return null;var o=this._getLineNumberFor(i);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new ee(o,1);var s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();if(o<s||o>a)return null;var u=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,t,r),l=this._context.model.getLineMinColumn(o);return u<l&&(u=l),new ee(o,u)},e.prototype._getViewLineDomNode=function(t){for(;t&&t.nodeType===1;){if(t.className===jv.CLASS_NAME)return t;t=t.parentElement}return null},e.prototype._getLineNumberFor=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=r;o<=i;o++){var s=this._visibleLines.getVisibleLine(o);if(t===s.getDomNode())return o}return-1},e.prototype.getLineWidth=function(t){var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return t<r||t>i?-1:this._visibleLines.getVisibleLine(t).getWidth()},e.prototype.linesVisibleRangesForRange=function(t,r){if(this.shouldRender())return null;var i=t.endLineNumber,o=H.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;var s=[],a=0,u=new Oq(this.domNode.domNode,this._textRangeRestingSpot),l=0;r&&(l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new ee(o.startLineNumber,1)).lineNumber);for(var c=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber(),d=o.startLineNumber;d<=o.endLineNumber;d++)if(!(d<c||d>h)){var p=d===o.startLineNumber?o.startColumn:1,v=d===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(d),m=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(p,v,u);if(!(!m||m.length===0)){if(r&&d<i){var _=l;l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new ee(d+1,1)).lineNumber,_!==l&&(m[m.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[a++]=new vLe(d,m)}}return a===0?null:s},e.prototype.visibleRangesForRange2=function(t){if(this.shouldRender())return null;var r=H.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;for(var i=[],o=new Oq(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber(),u=r.startLineNumber;u<=r.endLineNumber;u++)if(!(u<s||u>a)){var l=u===r.startLineNumber?r.startColumn:1,c=u===r.endLineNumber?r.endColumn:this._context.model.getLineMaxColumn(u),h=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(l,c,o);!h||h.length===0||(i=i.concat(h))}return i.length===0?null:i},e.prototype.visibleRangeForPosition=function(t){var r=this.visibleRangesForRange2(new H(t.lineNumber,t.column,t.lineNumber,t.column));return r?r[0]:null},e.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},e.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},e.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},e.prototype._updateLineWidths=function(t){for(var r=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=1,s=!0,a=r;a<=i;a++){var u=this._visibleLines.getVisibleLine(a);if(t&&!u.getWidthIsFast()){s=!1;continue}o=Math.max(o,u.getWidth())}return s&&r===1&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),s},e.prototype.prepareRender=function(){throw new Error("Not supported")},e.prototype.render=function(){throw new Error("Not supported")},e.prototype.renderText=function(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var r=this._horizontalRevealRequest.lineNumber,i=this._horizontalRevealRequest.startColumn,o=this._horizontalRevealRequest.endColumn,s=this._horizontalRevealRequest.scrollType;if(t.startLineNumber<=r&&r<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var a=this._computeScrollLeftToRevealRange(r,i,o),u=this._isViewportWrapping;u||this._ensureMaxLineWidth(a.maxHorizontalOffset),s===0?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:a.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:a.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting);var l=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},e.prototype._ensureMaxLineWidth=function(t){var r=Math.ceil(t);this._maxLineWidth<r&&(this._maxLineWidth=r,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},e.prototype._computeScrollTopToRevealRange=function(t,r,i){var o=t.top,s=t.height,a=o+s,u,l;u=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),l=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;var c=Math.min(s/this._lineHeight/2,this._scrollOff);u-=c*this._lineHeight,l+=Math.max(0,c-1)*this._lineHeight,(i===0||i===4)&&(l+=this._lineHeight);var h;if(i===1||i===2)if(i===2&&o<=u&&l<=a)h=o;else{var d=(u+l)/2;h=Math.max(0,d-s/2)}else h=this._computeMinimumScrolling(o,a,u,l,i===3,i===4);return h},e.prototype._computeScrollLeftToRevealRange=function(t,r,i){var o=0,s=this._context.viewLayout.getCurrentViewport(),a=s.left,u=a+s.width,l=this.visibleRangesForRange2(new H(t,r,t,i)),c=Number.MAX_VALUE,h=0;if(!l)return{scrollLeft:a,maxHorizontalOffset:o};for(var d=0,p=l;d<p.length;d++){var v=p[d];v.left<c&&(c=v.left),v.left+v.width>h&&(h=v.left+v.width)}o=h,c=Math.max(0,c-e.HORIZONTAL_EXTRA_PX),h+=this._revealHorizontalRightPadding;var m=this._computeMinimumScrolling(a,u,c,h);return{scrollLeft:m,maxHorizontalOffset:o}},e.prototype._computeMinimumScrolling=function(t,r,i,o,s,a){t=t|0,r=r|0,i=i|0,o=o|0,s=!!s,a=!!a;var u=r-t,l=o-i;if(l<u){if(s)return i;if(a)return Math.max(0,o-u);if(i<t)return i;if(o>r)return Math.max(0,o-u)}else return i;return t},e.HORIZONTAL_EXTRA_PX=30,e}(Ea),nRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rRe=function(n){nRe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._decorationsLeft=r._context.configuration.editor.layoutInfo.decorationsLeft,r._decorationsWidth=r._context.configuration.editor.layoutInfo.decorationsWidth,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s],l=u.options.linesDecorationsClassName;l&&(i[o++]=new _5(u.range.startLineNumber,u.range.endLineNumber,l))}return i},e.prototype.prepareRender=function(t){for(var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._render(r,i,this._getDecorations(t)),s=this._decorationsLeft.toString(),a=this._decorationsWidth.toString(),u='" style="left:'+s+"px;width:"+a+'px;"></div>',l=[],c=r;c<=i;c++){for(var h=c-r,d=o[h],p="",v=0,m=d.length;v<m;v++)p+='<div class="cldr '+d[v]+u;l[h]=p}this._renderResult=l},e.prototype.render=function(t,r){return this._renderResult?this._renderResult[r-t]:""},e}(y5),iRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oRe=function(n){iRe(e,n);function e(t){var r=n.call(this)||this;return r._context=t,r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var r=t.getDecorationsInViewport(),i=[],o=0,s=0,a=r.length;s<a;s++){var u=r[s],l=u.options.marginClassName;l&&(i[o++]=new _5(u.range.startLineNumber,u.range.endLineNumber,l))}return i},e.prototype.prepareRender=function(t){for(var r=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,o=this._render(r,i,this._getDecorations(t)),s=[],a=r;a<=i;a++){for(var u=a-r,l=o[u],c="",h=0,d=l.length;h<d;h++)c+='<div class="cmdr '+l[h]+'" style=""></div>';s[u]=c}this._renderResult=s},e.prototype.render=function(t,r){return this._renderResult?this._renderResult[r-t]:""},e}(y5),ak=function(){function n(e,t,r,i){this.r=n._clamp(e),this.g=n._clamp(t),this.b=n._clamp(r),this.a=n._clamp(i)}return n._clamp=function(e){return e<0?0:e>255?255:e|0},n.Empty=new n(0,0,0,0),n}(),cne=function(){function n(){var e=this;this._onDidChange=new Q,this.onDidChange=this._onDidChange.event,this._updateColorMap(),Vn.onDidChange(function(t){t.changedColorMap&&e._updateColorMap()})}return n.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new n),this._INSTANCE},n.prototype._updateColorMap=function(){var e=Vn.getColorMap();if(!e){this._colors=[ak.Empty],this._backgroundIsLight=!0;return}this._colors=[ak.Empty];for(var t=1;t<e.length;t++){var r=e[t].rgba;this._colors[t]=new ak(r.r,r.g,r.b,Math.round(r.a*255))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)},n.prototype.getColor=function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]},n.prototype.backgroundIsLight=function(){return this._backgroundIsLight},n._INSTANCE=null,n}(),sRe=function(){function n(e,t){var r=760;if(e.length!==r)throw new Error("Invalid x2CharData");var i=2*1*95;if(t.length!==i)throw new Error("Invalid x1CharData");this.x2charData=e,this.x1charData=t,this.x2charDataLight=n.soften(e,12/15),this.x1charDataLight=n.soften(t,50/60)}return n.soften=function(e,t){for(var r=new Uint8ClampedArray(e.length),i=0,o=e.length;i<o;i++)r[i]=e[i]*t;return r},n._getChIndex=function(e){return e-=32,e<0&&(e+=95),e%95},n.prototype.x2RenderChar=function(e,t,r,i,o,s,a){if(t+2>e.width||r+4>e.height){console.warn("bad render request outside image data");return}var u=a?this.x2charDataLight:this.x2charData,l=n._getChIndex(i),c=e.width*4,h=s.r,d=s.g,p=s.b,v=o.r-h,m=o.g-d,_=o.b-p,b=e.data,C=l*4*2,E=r*c+t*4;{var S=u[C]/255;b[E+0]=h+v*S,b[E+1]=d+m*S,b[E+2]=p+_*S}{var S=u[C+1]/255;b[E+4]=h+v*S,b[E+5]=d+m*S,b[E+6]=p+_*S}E+=c;{var S=u[C+2]/255;b[E+0]=h+v*S,b[E+1]=d+m*S,b[E+2]=p+_*S}{var S=u[C+3]/255;b[E+4]=h+v*S,b[E+5]=d+m*S,b[E+6]=p+_*S}E+=c;{var S=u[C+4]/255;b[E+0]=h+v*S,b[E+1]=d+m*S,b[E+2]=p+_*S}{var S=u[C+5]/255;b[E+4]=h+v*S,b[E+5]=d+m*S,b[E+6]=p+_*S}E+=c;{var S=u[C+6]/255;b[E+0]=h+v*S,b[E+1]=d+m*S,b[E+2]=p+_*S}{var S=u[C+7]/255;b[E+4]=h+v*S,b[E+5]=d+m*S,b[E+6]=p+_*S}},n.prototype.x1RenderChar=function(e,t,r,i,o,s,a){if(t+1>e.width||r+2>e.height){console.warn("bad render request outside image data");return}var u=a?this.x1charDataLight:this.x1charData,l=n._getChIndex(i),c=e.width*4,h=s.r,d=s.g,p=s.b,v=o.r-h,m=o.g-d,_=o.b-p,b=e.data,C=l*2*1,E=r*c+t*4;{var S=u[C]/255;b[E+0]=h+v*S,b[E+1]=d+m*S,b[E+2]=p+_*S}E+=c;{var S=u[C+1]/255;b[E+0]=h+v*S,b[E+1]=d+m*S,b[E+2]=p+_*S}},n.prototype.x2BlockRenderChar=function(e,t,r,i,o,s){if(t+2>e.width||r+4>e.height){console.warn("bad render request outside image data");return}var a=e.width*4,u=.5,l=o.r,c=o.g,h=o.b,d=i.r-l,p=i.g-c,v=i.b-h,m=l+d*u,_=c+p*u,b=h+v*u,C=e.data,E=r*a+t*4;C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b,C[E+4]=m,C[E+5]=_,C[E+6]=b},n.prototype.x1BlockRenderChar=function(e,t,r,i,o,s){if(t+1>e.width||r+2>e.height){console.warn("bad render request outside image data");return}var a=e.width*4,u=.5,l=o.r,c=o.g,h=o.b,d=i.r-l,p=i.g-c,v=i.b-h,m=l+d*u,_=c+p*u,b=h+v*u,C=e.data,E=r*a+t*4;C[E+0]=m,C[E+1]=_,C[E+2]=b,E+=a,C[E+0]=m,C[E+1]=_,C[E+2]=b},n}();function lz(n){for(var e=new Uint8ClampedArray(n.length),t=0,r=n.length;t<r;t++)e[t]=n[t];return e}var uk=null;function aRe(){if(!uk){var n=lz(fz);fz=null;var e=lz(cz);cz=null,uk=new sRe(e,n)}return uk}var cz=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],fz=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22],uRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function BS(n){return n===2?4:n===4?6:n===1?2:3}function lk(n){return n===2||n===4?2:1}var lRe=140,hz=function(){function n(e){var t=e.editor.pixelRatio,r=e.editor.layoutInfo,i=e.editor.viewInfo,o=e.editor.fontInfo;this.renderMinimap=r.renderMinimap|0,this.scrollBeyondLastLine=i.scrollBeyondLastLine,this.showSlider=i.minimap.showSlider,this.pixelRatio=t,this.typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this.lineHeight=e.editor.lineHeight,this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=Math.max(1,Math.floor(t*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(t*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/t,this.canvasOuterHeight=this.canvasInnerHeight/t}return n.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},n}(),cRe=function(){function n(e,t,r,i,o,s,a){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=r,this.sliderTop=i,this.sliderHeight=o,this.startLineNumber=s,this.endLineNumber=a}return n.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},n.create=function(e,t,r,i,o,s,a,u,l){var c=e.pixelRatio,h=BS(e.renderMinimap),d=Math.floor(e.canvasInnerHeight/h),p=e.lineHeight,v;if(o&&r!==s){var m=r-t+1;v=Math.floor(m*h/c)}else{var _=i/p;v=Math.floor(_*h/c)}var b;e.scrollBeyondLastLine?b=(s-1)*h/c:b=Math.max(0,s*h/c-v),b=Math.min(e.minimapHeight-v,b);var C=b/(u-i),E=a*C,S=0;if(e.scrollBeyondLastLine){var _=i/p;S=_}if(d>=s+S){var A=1,T=s;return new n(a,u,C,E,v,A,T)}else{var A=Math.max(1,Math.floor(t-E*c/h));l&&l.scrollHeight===u&&(l.scrollTop>a&&(A=Math.min(A,l.startLineNumber)),l.scrollTop<a&&(A=Math.max(A,l.startLineNumber)));var T=Math.min(s,A+d-1);return new n(a,u,C,E,v,A,T)}},n}(),fne=function(){function n(e){this.dy=e}return n.prototype.onContentChanged=function(){this.dy=-1},n.prototype.onTokensChanged=function(){this.dy=-1},n.INVALID=new n(-1),n}(),dz=function(){function n(e,t,r){this.renderedLayout=e,this._imageData=t,this._renderedLines=new nne(function(){return fne.INVALID}),this._renderedLines._set(e.startLineNumber,r)}return n.prototype.linesEquals=function(e){if(!this.scrollEquals(e))return!1;for(var t=this._renderedLines._get(),r=t.lines,i=0,o=r.length;i<o;i++)if(r[i].dy===-1)return!1;return!0},n.prototype.scrollEquals=function(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber},n.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},n.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},n.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},n.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},n.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},n}(),fRe=function(){function n(e,t,r,i){this._backgroundFillData=n._createBackgroundFillData(t,r,i),this._buffers=[e.createImageData(t,r),e.createImageData(t,r)],this._lastUsedBuffer=0}return n.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},n._createBackgroundFillData=function(e,t,r){for(var i=r.r,o=r.g,s=r.b,a=new Uint8ClampedArray(e*t*4),u=0,l=0;l<t;l++)for(var c=0;c<e;c++)a[u]=i,a[u+1]=o,a[u+2]=s,a[u+3]=255,u+=4;return a},n}(),hRe=function(n){uRe(e,n);function e(t){var r=n.call(this,t)||this;return r._renderDecorations=!1,r._options=new hz(r._context.configuration),r._lastRenderData=null,r._buffers=null,r._domNode=wt(document.createElement("div")),Rl.write(r._domNode,8),r._domNode.setClassName(r._getMinimapDomNodeClassName()),r._domNode.setPosition("absolute"),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._shadow=wt(document.createElement("div")),r._shadow.setClassName("minimap-shadow-hidden"),r._domNode.appendChild(r._shadow),r._canvas=wt(document.createElement("canvas")),r._canvas.setPosition("absolute"),r._canvas.setLeft(0),r._domNode.appendChild(r._canvas),r._decorationsCanvas=wt(document.createElement("canvas")),r._decorationsCanvas.setPosition("absolute"),r._decorationsCanvas.setClassName("minimap-decorations-layer"),r._decorationsCanvas.setLeft(0),r._domNode.appendChild(r._decorationsCanvas),r._slider=wt(document.createElement("div")),r._slider.setPosition("absolute"),r._slider.setClassName("minimap-slider"),r._slider.setLayerHinting(!0),r._domNode.appendChild(r._slider),r._sliderHorizontal=wt(document.createElement("div")),r._sliderHorizontal.setPosition("absolute"),r._sliderHorizontal.setClassName("minimap-slider-horizontal"),r._slider.appendChild(r._sliderHorizontal),r._tokensColorTracker=cne.getInstance(),r._applyLayout(),r._mouseDownListener=mi(r._domNode.domNode,"mousedown",function(i){i.preventDefault();var o=r._options.renderMinimap;if(o!==0&&r._lastRenderData){var s=BS(o),a=r._options.pixelRatio*i.browserEvent.offsetY,u=Math.floor(a/s),l=u+r._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,r._context.model.getLineCount()),r._context.privateViewEventBus.emit(new g5(new H(l,1,l,1),1,!1,0))}}),r._sliderMouseMoveMonitor=new cg,r._sliderMouseDownListener=mi(r._slider.domNode,"mousedown",function(i){if(i.preventDefault(),i.stopPropagation(),i.leftButton&&r._lastRenderData){var o=i.posy,s=i.posx,a=r._lastRenderData.renderedLayout;r._slider.toggleClassName("active",!0),r._sliderMouseMoveMonitor.startMonitoring(B_,function(u){var l=Math.abs(u.posx-s);if(xo&&l>lRe){r._context.viewLayout.setScrollPositionNow({scrollTop:a.scrollTop});return}var c=u.posy-o;r._context.viewLayout.setScrollPositionNow({scrollTop:a.getDesiredScrollTopFromDelta(c)})},function(){r._slider.toggleClassName("active",!1)})}}),r}return e.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),n.prototype.dispose.call(this)},e.prototype._getMinimapDomNodeClassName=function(){return this._options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"},e.prototype.getDomNode=function(){return this._domNode},e.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},e.prototype._getBuffer=function(){return this._buffers||(this._buffers=new fRe(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},e.prototype._onOptionsMaybeChanged=function(){var t=new hz(this._context.configuration);return this._options.equals(t)?!1:(this._options=t,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},e.prototype.onConfigurationChanged=function(t){return this._onOptionsMaybeChanged()},e.prototype.onFlushed=function(t){return this._lastRenderData=null,!0},e.prototype.onLinesChanged=function(t){return this._lastRenderData?this._lastRenderData.onLinesChanged(t):!1},e.prototype.onLinesDeleted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(t),!0},e.prototype.onLinesInserted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(t),!0},e.prototype.onScrollChanged=function(t){return this._renderDecorations=!0,!0},e.prototype.onTokensChanged=function(t){return this._lastRenderData?this._lastRenderData.onTokensChanged(t):!1},e.prototype.onTokensColorsChanged=function(t){return this._lastRenderData=null,this._buffers=null,!0},e.prototype.onZonesChanged=function(t){return this._lastRenderData=null,!0},e.prototype.onDecorationsChanged=function(t){return this._renderDecorations=!0,!0},e.prototype.onThemeChanged=function(t){return this._context.model.invalidateMinimapColorCache(),this._renderDecorations=!!this._lastDecorations,!!this._lastDecorations},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){var r=this._options.renderMinimap;if(r===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var i=cRe.create(this._options,t.visibleRange.startLineNumber,t.visibleRange.endLineNumber,t.viewportHeight,t.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight);var o=t.scrollLeft/this._options.typicalHalfwidthCharacterWidth,s=Math.min(this._options.minimapWidth,Math.round(o*lk(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(s),this._sliderHorizontal.setWidth(this._options.minimapWidth-s),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)},e.prototype.renderDecorations=function(t){if(this._renderDecorations){this._renderDecorations=!1;var r=this._context.model.getDecorationsInViewport(new H(t.startLineNumber,1,t.endLineNumber,this._context.model.getLineMaxColumn(t.endLineNumber))),i=this._options,o=i.renderMinimap,s=i.canvasInnerWidth,a=i.canvasInnerHeight,u=BS(o),l=lk(o),c=this._context.model.getOptions().tabSize,h=this._decorationsCanvas.domNode.getContext("2d");h.clearRect(0,0,s,a);for(var d=new Map,p=0;p<r.length;p++){var v=r[p];if(v.options.minimap)for(var m=v.range.startLineNumber;m<=v.range.endLineNumber;m++)this.renderDecorationOnLine(h,d,v,t,m,u,u,c,l)}this._lastDecorations=r}},e.prototype.renderDecorationOnLine=function(t,r,i,o,s,a,u,l,c){var h=(s-o.startLineNumber)*u,d=r.get(s),p=!d;if(!d){var v=this._context.model.getLineContent(s);d=[0];for(var m=1;m<v.length+1;m++){var _=v.charCodeAt(m-1),b=_===9?l*c:Hc(_)?2*c:c;d[m]=d[m-1]+b}r.set(s,d)}var C=i.range,E=C.startColumn,S=C.endColumn,A=C.startLineNumber,T=C.endLineNumber,N=A===s?d[E-1]:0,k=T>s?d.length-1:S-1;if(k>0){var F=d[k]-N||2;this.renderDecoration(t,i.options.minimap,N,h,F,a)}p&&this.renderLineHighlight(t,i.options.minimap,h,a)},e.prototype.renderLineHighlight=function(t,r,i,o){var s=r.getColor(this._context.theme);t.fillStyle=s&&s.transparent(.5).toString()||"",t.fillRect(0,i,t.canvas.width,o)},e.prototype.renderDecoration=function(t,r,i,o,s,a){var u=r.getColor(this._context.theme);t.fillStyle=u&&u.toString()||"",t.fillRect(i,o,s,a)},e.prototype.renderLines=function(t){var r=this._options.renderMinimap,i=t.startLineNumber,o=t.endLineNumber,s=BS(r);if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){var a=this._lastRenderData._get();return new dz(t,a.imageData,a.lines)}for(var u=this._getBuffer(),l=e._renderUntouchedLines(u,i,o,s,this._lastRenderData),c=l[0],h=l[1],d=l[2],p=this._context.model.getMinimapLinesRenderingData(i,o,d),v=p.tabSize,m=this._tokensColorTracker.getColor(2),_=this._tokensColorTracker.backgroundIsLight(),b=0,C=[],E=0,S=o-i+1;E<S;E++)d[E]&&e._renderLine(u,m,_,r,this._tokensColorTracker,aRe(),b,v,p.data[E]),C[E]=new fne(b),b+=s;var A=c===-1?0:c,T=h===-1?u.height:h,N=T-A,k=this._canvas.domNode.getContext("2d");return k.putImageData(u,0,0,0,A,u.width,N),new dz(t,u,C)},e._renderUntouchedLines=function(t,r,i,o,s){var a=[];if(!s){for(var u=0,l=i-r+1;u<l;u++)a[u]=!0;return[-1,-1,a]}for(var c=s._get(),h=c.imageData.data,d=c.rendLineNumberStart,p=c.lines,v=p.length,m=t.width,_=t.data,b=(i-r+1)*o*m*4,C=-1,E=-1,S=-1,A=-1,T=-1,N=-1,k=0,F=r;F<=i;F++){var L=F-r,O=F-d,P=O>=0&&O<v?p[O].dy:-1;if(P===-1){a[L]=!0,k+=o;continue}var B=P*m*4,U=(P+o)*m*4,$=k*m*4,te=(k+o)*m*4;A===B&&N===$?(A=U,N=te):(S!==-1&&(_.set(h.subarray(S,A),T),C===-1&&S===0&&S===T&&(C=A),E===-1&&A===b&&S===T&&(E=S)),S=B,A=U,T=$,N=te),a[L]=!1,k+=o}S!==-1&&(_.set(h.subarray(S,A),T),C===-1&&S===0&&S===T&&(C=A),E===-1&&A===b&&S===T&&(E=S));var ne=C===-1?-1:C/(m*4),ie=E===-1?-1:E/(m*4);return[ne,ie,a]},e._renderLine=function(t,r,i,o,s,a,u,l,c){for(var h=c.content,d=c.tokens,p=lk(o),v=t.width-p,m=0,_=0,b=0,C=0,E=d.getCount();C<E;C++)for(var S=d.getEndOffset(C),A=d.getForeground(C),T=s.getColor(A);_<S;_++){if(m>v)return;var N=h.charCodeAt(_);if(N===9){var k=l-(_+b)%l;b+=k-1,m+=k*p}else if(N===32)m+=p;else for(var F=Hc(N)?2:1,L=0;L<F;L++)if(o===2?a.x2RenderChar(t,m,u,N,T,r,i):o===1?a.x1RenderChar(t,m,u,N,T,r,i):o===4?a.x2BlockRenderChar(t,m,u,T,r,i):a.x1BlockRenderChar(t,m,u,T,r,i),m+=p,m>v)return}},e}(Ea);mn(function(n,e){var t=n.getColor(QNe);if(t){var r=t.transparent(.5);e.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+r+"; }")}var i=n.getColor(ZNe);if(i){var o=i.transparent(.5);e.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+o+"; }")}var s=n.getColor(JNe);if(s){var a=s.transparent(.5);e.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var u=n.getColor(C2);u&&e.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+u+" -6px 0 6px -6px inset; }")});var dRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pRe=function(n){dRe(e,n);function e(t){var r=n.call(this,t)||this;return r._widgets={},r._verticalScrollbarWidth=r._context.configuration.editor.layoutInfo.verticalScrollbarWidth,r._minimapWidth=r._context.configuration.editor.layoutInfo.minimapWidth,r._horizontalScrollbarHeight=r._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,r._editorHeight=r._context.configuration.editor.layoutInfo.height,r._editorWidth=r._context.configuration.editor.layoutInfo.width,r._domNode=wt(document.createElement("div")),Rl.write(r._domNode,4),r._domNode.setClassName("overlayWidgets"),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._widgets={}},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){return t.layoutInfo?(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0):!1},e.prototype.addWidget=function(t){var r=wt(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:r},r.setPosition("absolute"),r.setAttribute("widgetId",t.getId()),this._domNode.appendChild(r),this.setShouldRender()},e.prototype.setWidgetPosition=function(t,r){var i=this._widgets[t.getId()];return i.preference===r?!1:(i.preference=r,this.setShouldRender(),!0)},e.prototype.removeWidget=function(t){var r=t.getId();if(this._widgets.hasOwnProperty(r)){var i=this._widgets[r],o=i.domNode.domNode;delete this._widgets[r],o.parentNode.removeChild(o),this.setShouldRender()}},e.prototype._renderWidget=function(t){var r=t.domNode;if(t.preference===null){r.unsetTop();return}if(t.preference===0)r.setTop(0),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){var i=r.domNode.clientHeight;r.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else t.preference===2&&(r.setTop(0),r.domNode.style.right="50%")},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setWidth(this._editorWidth);for(var r=Object.keys(this._widgets),i=0,o=r.length;i<o;i++){var s=r[i];this._renderWidget(this._widgets[s])}},e}(Ea),gRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vRe=function(){function n(e,t){this.lineHeight=e.editor.lineHeight,this.pixelRatio=e.editor.pixelRatio,this.overviewRulerLanes=e.editor.viewInfo.overviewRulerLanes,this.renderBorder=e.editor.viewInfo.overviewRulerBorder;var r=t.getColor(MOe);this.borderColor=r?r.toString():null,this.hideCursor=e.editor.viewInfo.hideCursorInOverviewRuler;var i=t.getColor(Kte);this.cursorColor=i?i.transparent(.7).toString():null,this.themeType=t.type;var o=e.editor.viewInfo.minimap.enabled,s=e.editor.viewInfo.minimap.side,a=o?Vn.getDefaultBackground():null;a===null||s==="left"?this.backgroundColor=null:this.backgroundColor=ae.Format.CSS.formatHex(a);var u=e.editor.layoutInfo.overviewRuler;this.top=u.top,this.right=u.right,this.domWidth=u.width,this.domHeight=u.height,this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;var l=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),c=l[0],h=l[1];this.x=c,this.w=h}return n.prototype._initLanes=function(e,t,r){var i=t-e;if(r>=3){var o=Math.floor(i/3),s=Math.floor(i/3),a=i-o-s,u=e,l=u+o,c=u+o+a;return[[0,u,l,u,c,u,l,u],[0,o,a,o+a,s,o+a+s,a+s,o+a+s]]}else if(r===2){var o=Math.floor(i/2),s=i-o,u=e,c=u+o;return[[0,u,u,u,c,u,u,u],[0,o,o,o,s,o+s,o+s,o+s]]}else{var h=e,d=i;return[[0,h,h,h,h,h,h,h],[0,d,d,d,d,d,d,d]]}},n.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight},n}(),mRe=function(n){gRe(e,n);function e(t){var r=n.call(this,t)||this;return r._domNode=wt(document.createElement("canvas")),r._domNode.setClassName("decorationsOverviewRuler"),r._domNode.setPosition("absolute"),r._domNode.setLayerHinting(!0),r._domNode.setAttribute("aria-hidden","true"),r._updateSettings(!1),r._tokensColorTrackerListener=Vn.onDidChange(function(i){i.changedColorMap&&r._updateSettings(!0)}),r._cursorPositions=[],r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},e.prototype._updateSettings=function(t){var r=new vRe(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(r)?!1:(this._settings=r,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)},e.prototype.onConfigurationChanged=function(t){return this._updateSettings(!1)},e.prototype.onCursorStateChanged=function(t){this._cursorPositions=[];for(var r=0,i=t.selections.length;r<i;r++)this._cursorPositions[r]=t.selections[r].getPosition();return this._cursorPositions.sort(ee.compare),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onThemeChanged=function(t){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._render()},e.prototype._render=function(){var t=this._settings.canvasWidth,r=this._settings.canvasHeight,i=this._settings.lineHeight,o=this._context.viewLayout,s=this._context.viewLayout.getScrollHeight(),a=r/s,u=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,h=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?h.clearRect(0,0,t,r):(h.fillStyle=this._settings.backgroundColor,h.fillRect(0,0,t,r));var d=this._settings.x,p=this._settings.w,v=Object.keys(u);v.sort();for(var m=0,_=v.length;m<_;m++){var b=v[m],C=u[b];h.fillStyle=b;for(var E=0,S=0,A=0,T=0,N=C.length;T<N;T++){var k=C[3*T],F=C[3*T+1],L=C[3*T+2],O=o.getVerticalOffsetForLineNumber(F)*a|0,P=(o.getVerticalOffsetForLineNumber(L)+i)*a|0,B=P-O;if(B<l){var U=(O+P)/2|0;U<c?U=c:U+c>r&&(U=r-c),O=U-c,P=U+c}O>A+1||k!==E?(T!==0&&h.fillRect(d[E],S,p[E],A-S),E=k,S=O,A=P):P>A&&(A=P)}h.fillRect(d[E],S,p[E],A-S)}if(!this._settings.hideCursor&&this._settings.cursorColor){var $=2*this._settings.pixelRatio|0,te=$/2|0,ne=this._settings.x[7],ie=this._settings.w[7];h.fillStyle=this._settings.cursorColor;for(var S=-100,A=-100,T=0,N=this._cursorPositions.length;T<N;T++){var pe=this._cursorPositions[T],U=o.getVerticalOffsetForLineNumber(pe.lineNumber)*a|0;U<te?U=te:U+te>r&&(U=r-te);var O=U-te,P=O+$;O>A+1?(T!==0&&h.fillRect(ne,S,ie,A-S),S=O,A=P):P>A&&(A=P)}h.fillRect(ne,S,ie,A-S)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(h.beginPath(),h.lineWidth=1,h.strokeStyle=this._settings.borderColor,h.moveTo(0,0),h.lineTo(0,r),h.stroke(),h.moveTo(0,0),h.lineTo(t,0),h.stroke())},e}(Ea),pz=function(){function n(e,t,r){this.from=e|0,this.to=t|0,this.colorId=r|0}return n.compare=function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId},n}(),u1=function(){function n(e,t,r){this.startLineNumber=e,this.endLineNumber=t,this.color=r,this._colorZone=null}return n.compare=function(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1},n.prototype.setColorZone=function(e){this._colorZone=e},n.prototype.getColorZones=function(){return this._colorZone},n}(),_Re=function(){function n(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return n.prototype.getId2Color=function(){return this._id2Color},n.prototype.setZones=function(e){this._zones=e,this._zones.sort(u1.compare)},n.prototype.setLineHeight=function(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},n.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},n.prototype.getDOMWidth=function(){return this._domWidth},n.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},n.prototype.setDOMWidth=function(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)},n.prototype.getDOMHeight=function(){return this._domHeight},n.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},n.prototype.setDOMHeight=function(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)},n.prototype.getOuterHeight=function(){return this._outerHeight},n.prototype.setOuterHeight=function(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},n.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),r=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),o=r/i,s=Math.floor(4*this._pixelRatio/2),a=[],u=0,l=this._zones.length;u<l;u++){var c=this._zones[u];if(!e){var h=c.getColorZones();if(h){a.push(h);continue}}var d=Math.floor(o*this._getVerticalOffsetForLine(c.startLineNumber)),p=Math.floor(o*(this._getVerticalOffsetForLine(c.endLineNumber)+t)),v=Math.floor((d+p)/2),m=p-v;m<s&&(m=s),v-m<0&&(v=m),v+m>r&&(v=r-m);var _=c.color,b=this._color2Id[_];b||(b=++this._lastAssignedId,this._color2Id[_]=b,this._id2Color[b]=_);var C=new pz(v-m,v+m,b);c.setColorZone(C),a.push(C)}return this._colorZonesInvalid=!1,a.sort(pz.compare),a},n}(),yRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bRe=function(n){yRe(e,n);function e(t,r){var i=n.call(this)||this;return i._context=t,i._domNode=wt(document.createElement("canvas")),i._domNode.setClassName(r),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._zoneManager=new _Re(function(o){return i._context.viewLayout.getVerticalOffsetForLineNumber(o)}),i._zoneManager.setDOMWidth(0),i._zoneManager.setDOMHeight(0),i._zoneManager.setOuterHeight(i._context.viewLayout.getScrollHeight()),i._zoneManager.setLineHeight(i._context.configuration.editor.lineHeight),i._zoneManager.setPixelRatio(i._context.configuration.editor.pixelRatio),i._context.addEventHandler(i),i}return e.prototype.dispose=function(){this._context.removeEventHandler(this),n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._zoneManager.setLineHeight(this._context.configuration.editor.lineHeight),this._render()),t.pixelRatio&&(this._zoneManager.setPixelRatio(this._context.configuration.editor.pixelRatio),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},e.prototype.onFlushed=function(t){return this._render(),!0},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0},e.prototype.onZonesChanged=function(t){return this._render(),!0},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.setLayout=function(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);var r=!1;r=this._zoneManager.setDOMWidth(t.width)||r,r=this._zoneManager.setDOMHeight(t.height)||r,r&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},e.prototype.setZones=function(t){this._zoneManager.setZones(t),this._render()},e.prototype._render=function(){if(this._zoneManager.getOuterHeight()===0)return!1;var t=this._zoneManager.getCanvasWidth(),r=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),o=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,t,r),i.length>0&&this._renderOneLane(s,i,o,t),!0},e.prototype._renderOneLane=function(t,r,i,o){for(var s=0,a=0,u=0,l=0,c=r;l<c.length;l++){var h=c[l],d=h.colorId,p=h.from,v=h.to;d!==s?(t.fillRect(0,a,o,u-a),s=d,t.fillStyle=i[s],a=p,u=v):u>=p?u=Math.max(u,v):(t.fillRect(0,a,o,u-a),a=p,u=v)}t.fillRect(0,a,o,u-a)},e}(mC),CRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wRe=function(n){CRe(e,n);function e(t){var r=n.call(this,t)||this;return r.domNode=wt(document.createElement("div")),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r.domNode.setClassName("view-rulers"),r._renderedRulers=[],r._rulers=r._context.configuration.editor.viewInfo.rulers,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.viewInfo||t.layoutInfo||t.fontInfo?(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0):!1},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},e.prototype.prepareRender=function(t){},e.prototype._ensureRulersCount=function(){var t=this._renderedRulers.length,r=this._rulers.length;if(t!==r){if(t<r){for(var i=this._context.model.getOptions().tabSize,o=i,s=r-t;s>0;){var a=wt(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}for(var u=t-r;u>0;){var a=this._renderedRulers.pop();this.domNode.removeChild(a),u--}}},e.prototype.render=function(t){this._ensureRulersCount();for(var r=0,i=this._rulers.length;r<i;r++){var o=this._renderedRulers[r];o.setHeight(Math.min(t.scrollHeight,1e6)),o.setLeft(this._rulers[r]*this._typicalHalfwidthCharacterWidth)}},e}(Ea);mn(function(n,e){var t=n.getColor(kOe);t&&e.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+t+" inset; }")});var ERe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SRe=function(n){ERe(e,n);function e(t){var r=n.call(this,t)||this;return r._scrollTop=0,r._width=0,r._updateWidth(),r._shouldShow=!1,r._useShadows=r._context.configuration.editor.viewInfo.scrollbar.useShadows,r._domNode=wt(document.createElement("div")),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype._updateShouldShow=function(){var t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t?(this._shouldShow=t,!0):!1},e.prototype.getDomNode=function(){return this._domNode},e.prototype._updateWidth=function(){var t=this._context.configuration.editor.layoutInfo,r=0;return t.renderMinimap===0||t.minimapWidth>0&&t.minimapLeft===0?r=t.width:r=t.width-t.minimapWidth-t.verticalScrollbarWidth,this._width!==r?(this._width=r,!0):!1},e.prototype.onConfigurationChanged=function(t){var r=!1;return t.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),t.layoutInfo&&(r=this._updateWidth()),this._updateShouldShow()||r},e.prototype.onScrollChanged=function(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},e}(Ea);mn(function(n,e){var t=n.getColor(C2);t&&e.addRule(".monaco-editor .scroll-decoration { box-shadow: "+t+" 0 6px 6px -6px inset; }")});var TRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DRe=function(){function n(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}return n}(),ARe=function(){function n(e,t){this.lineNumber=e,this.ranges=t}return n}();function IRe(n){return new DRe(n)}function xRe(n){return new ARe(n.lineNumber,n.ranges.map(IRe))}var LRe=vl,NRe=function(n){TRe(e,n);function e(t){var r=n.call(this)||this;return r._previousFrameVisibleRangesWithStyle=[],r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._roundedSelection=r._context.configuration.editor.viewInfo.roundedSelection,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._selections=[],r._renderResult=null,r._context.addEventHandler(r),r}return e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,n.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._visibleRangesHaveGaps=function(t){for(var r=0,i=t.length;r<i;r++){var o=t[r];if(o.ranges.length>1)return!0}return!1},e.prototype._enrichVisibleRangesWithStyle=function(t,r,i){var o=this._typicalHalfwidthCharacterWidth/4,s=null,a=null;if(i&&i.length>0&&r.length>0){var u=r[0].lineNumber;if(u===t.startLineNumber)for(var l=0;!s&&l<i.length;l++)i[l].lineNumber===u&&(s=i[l].ranges[0]);var c=r[r.length-1].lineNumber;if(c===t.endLineNumber)for(var l=i.length-1;!a&&l>=0;l--)i[l].lineNumber===c&&(a=i[l].ranges[0]);s&&!s.startStyle&&(s=null),a&&!a.startStyle&&(a=null)}for(var l=0,h=r.length;l<h;l++){var d=r[l].ranges[0],p=d.left,v=d.left+d.width,m={top:0,bottom:0},_={top:0,bottom:0};if(l>0){var b=r[l-1].ranges[0].left,C=r[l-1].ranges[0].left+r[l-1].ranges[0].width;UE(p-b)<o?m.top=2:p>b&&(m.top=1),UE(v-C)<o?_.top=2:b<v&&v<C&&(_.top=1)}else s&&(m.top=s.startStyle.top,_.top=s.endStyle.top);if(l+1<h){var E=r[l+1].ranges[0].left,S=r[l+1].ranges[0].left+r[l+1].ranges[0].width;UE(p-E)<o?m.bottom=2:E<p&&p<S&&(m.bottom=1),UE(v-S)<o?_.bottom=2:v<S&&(_.bottom=1)}else a&&(m.bottom=a.startStyle.bottom,_.bottom=a.endStyle.bottom);d.startStyle=m,d.endStyle=_}},e.prototype._getVisibleRangesWithStyle=function(t,r,i){var o=r.linesVisibleRangesForRange(t,!0)||[],s=o.map(xRe),a=this._visibleRangesHaveGaps(s);return!LRe&&!a&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(r.visibleRange,s,i),s},e.prototype._createSelectionPiece=function(t,r,i,o,s){return'<div class="cslr '+i+'" style="top:'+t.toString()+"px;left:"+o.toString()+"px;width:"+s.toString()+"px;height:"+r+'px;"></div>'},e.prototype._actualRenderOneSelection=function(t,r,i,o){for(var s=o.length>0&&o[0].ranges[0].startStyle,a=this._lineHeight.toString(),u=(this._lineHeight-1).toString(),l=o.length>0?o[0].lineNumber:0,c=o.length>0?o[o.length-1].lineNumber:0,h=0,d=o.length;h<d;h++){for(var p=o[h],v=p.lineNumber,m=v-r,_=i&&(v===c||v===l)?u:a,b=i&&v===l?1:0,C="",E=0,S=p.ranges.length;E<S;E++){var A=p.ranges[E];if(s){var T=A.startStyle,N=A.endStyle;if(T.top===1||T.bottom===1){C+=this._createSelectionPiece(b,_,e.SELECTION_CLASS_NAME,A.left-e.ROUNDED_PIECE_WIDTH,e.ROUNDED_PIECE_WIDTH);var k=e.EDITOR_BACKGROUND_CLASS_NAME;T.top===1&&(k+=" "+e.SELECTION_TOP_RIGHT),T.bottom===1&&(k+=" "+e.SELECTION_BOTTOM_RIGHT),C+=this._createSelectionPiece(b,_,k,A.left-e.ROUNDED_PIECE_WIDTH,e.ROUNDED_PIECE_WIDTH)}if(N.top===1||N.bottom===1){C+=this._createSelectionPiece(b,_,e.SELECTION_CLASS_NAME,A.left+A.width,e.ROUNDED_PIECE_WIDTH);var F=e.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(F+=" "+e.SELECTION_TOP_LEFT),N.bottom===1&&(F+=" "+e.SELECTION_BOTTOM_LEFT),C+=this._createSelectionPiece(b,_,F,A.left+A.width,e.ROUNDED_PIECE_WIDTH)}}var L=e.SELECTION_CLASS_NAME;if(s){var T=A.startStyle,N=A.endStyle;T.top===0&&(L+=" "+e.SELECTION_TOP_LEFT),T.bottom===0&&(L+=" "+e.SELECTION_BOTTOM_LEFT),N.top===0&&(L+=" "+e.SELECTION_TOP_RIGHT),N.bottom===0&&(L+=" "+e.SELECTION_BOTTOM_RIGHT)}C+=this._createSelectionPiece(b,_,L,A.left,A.width)}t[m]+=C}},e.prototype.prepareRender=function(t){for(var r=[],i=t.visibleRange.startLineNumber,o=t.visibleRange.endLineNumber,s=i;s<=o;s++){var a=s-i;r[a]=""}for(var u=[],l=0,c=this._selections.length;l<c;l++){var h=this._selections[l];if(h.isEmpty()){u[l]=null;continue}var d=this._getVisibleRangesWithStyle(h,t,this._previousFrameVisibleRangesWithStyle[l]);u[l]=d,this._actualRenderOneSelection(r,i,this._selections.length>1,d)}this._previousFrameVisibleRangesWithStyle=u,this._renderResult=r},e.prototype.render=function(t,r){if(!this._renderResult)return"";var i=r-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},e.SELECTION_CLASS_NAME="selected-text",e.SELECTION_TOP_LEFT="top-left-radius",e.SELECTION_BOTTOM_LEFT="bottom-left-radius",e.SELECTION_TOP_RIGHT="top-right-radius",e.SELECTION_BOTTOM_RIGHT="bottom-right-radius",e.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",e.ROUNDED_PIECE_WIDTH=10,e}(fg);mn(function(n,e){var t=n.getColor(fm);t&&e.addRule(".monaco-editor .focused .selected-text { background-color: "+t+"; }");var r=n.getColor(l5);r&&e.addRule(".monaco-editor .selected-text { background-color: "+r+"; }");var i=n.getColor(fOe);i&&e.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+i+"; }")});function UE(n){return n<0?-n:n}var gz=function(){function n(e,t,r,i,o,s){this.top=e,this.left=t,this.width=r,this.height=i,this.textContent=o,this.textContentClassName=s}return n}(),vz=function(){function n(e){this._context=e,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=wt(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),ya.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this._position=new ee(1,1),this._lastRenderedContent="",this._renderData=null}return n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return this._position},n.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},n.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},n.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(ya.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),e.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth)),!0},n.prototype.onCursorPositionChanged=function(e){return this._position=e,!0},n.prototype._prepareRender=function(e){var t="",r="";if(this._cursorStyle===Hn.Line||this._cursorStyle===Hn.LineThin){var i=e.visibleRangeForPosition(this._position);if(!i)return null;var o;if(this._cursorStyle===Hn.Line){if(o=Uj(this._lineCursorWidth>0?this._lineCursorWidth:2),o>2){var s=this._context.model.getLineContent(this._position.lineNumber);t=s.charAt(this._position.column-1)}}else o=Uj(1);var a=i.left;o>=2&&a>=1&&(a-=1);var u=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new gz(u,a,o,this._lineHeight,t,r)}var l=e.linesVisibleRangesForRange(new H(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!l||l.length===0||l[0].ranges.length===0)return null;var c=l[0].ranges[0],h=c.width<1?this._typicalHalfwidthCharacterWidth:c.width;if(this._cursorStyle===Hn.Block){var d=this._context.model.getViewLineData(this._position.lineNumber);t=d.content.charAt(this._position.column-1),ts(d.content.charCodeAt(this._position.column-1))&&(t+=d.content.charAt(this._position.column));var p=d.tokens.findTokenIndexAtOffset(this._position.column-1);r=d.tokens.getClassName(p)}var v=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===Hn.Underline||this._cursorStyle===Hn.UnderlineThin)&&(v+=this._lineHeight-2,m=2),new gz(v,c.left,h,m,t,r)},n.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},n.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},n}(),ORe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kRe=function(n){ORe(e,n);function e(t){var r=n.call(this,t)||this;return r._readOnly=r._context.configuration.editor.readOnly,r._cursorBlinking=r._context.configuration.editor.viewInfo.cursorBlinking,r._cursorStyle=r._context.configuration.editor.viewInfo.cursorStyle,r._cursorSmoothCaretAnimation=r._context.configuration.editor.viewInfo.cursorSmoothCaretAnimation,r._selectionIsEmpty=!0,r._isVisible=!1,r._primaryCursor=new vz(r._context),r._secondaryCursors=[],r._renderData=[],r._domNode=wt(document.createElement("div")),r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true"),r._updateDomClassName(),r._domNode.appendChild(r._primaryCursor.getDomNode()),r._startCursorBlinkAnimation=new Fs,r._cursorFlatBlinkInterval=new R_,r._blinkingEnabled=!1,r._editorHasFocus=!1,r._updateBlinking(),r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){t.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),t.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._cursorSmoothCaretAnimation=this._context.configuration.editor.viewInfo.cursorSmoothCaretAnimation),this._primaryCursor.onConfigurationChanged(t),this._updateBlinking(),t.viewInfo&&this._updateDomClassName();for(var r=0,i=this._secondaryCursors.length;r<i;r++)this._secondaryCursors[r].onConfigurationChanged(t);return!0},e.prototype._onCursorPositionChanged=function(t,r){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<r.length)for(var i=r.length-this._secondaryCursors.length,o=0;o<i;o++){var s=new vz(this._context);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}else if(this._secondaryCursors.length>r.length)for(var a=this._secondaryCursors.length-r.length,o=0;o<a;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var o=0;o<r.length;o++)this._secondaryCursors[o].onCursorPositionChanged(r[o])},e.prototype.onCursorStateChanged=function(t){for(var r=[],i=0,o=t.selections.length;i<o;i++)r[i]=t.selections[i].getPosition();this._onCursorPositionChanged(r[0],r.slice(1));var s=t.selections[0].isEmpty();return this._selectionIsEmpty!==s&&(this._selectionIsEmpty=s,this._updateDomClassName()),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onFocusChanged=function(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onTokensChanged=function(t){var r=function(a){for(var u=0,l=t.ranges.length;u<l;u++)if(t.ranges[u].fromLineNumber<=a.lineNumber&&a.lineNumber<=t.ranges[u].toLineNumber)return!0;return!1};if(r(this._primaryCursor.getPosition()))return!0;for(var i=0,o=this._secondaryCursors;i<o.length;i++){var s=o[i];if(r(s.getPosition()))return!0}return!1},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},e.prototype._updateBlinking=function(){var t=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var r=this._getCursorBlinking(),i=r===0,o=r===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!o&&(r===1?this._cursorFlatBlinkInterval.cancelAndSet(function(){t._isVisible?t._hide():t._show()},e.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){t._blinkingEnabled=!0,t._updateDomClassName()},e.BLINK_INTERVAL))},e.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},e.prototype._getClassName=function(){var t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case Hn.Line:t+=" cursor-line-style";break;case Hn.Block:t+=" cursor-block-style";break;case Hn.Underline:t+=" cursor-underline-style";break;case Hn.LineThin:t+=" cursor-line-thin-style";break;case Hn.BlockOutline:t+=" cursor-block-outline-style";break;case Hn.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(t+=" cursor-smooth-caret-animation"),t},e.prototype._show=function(){this._primaryCursor.show();for(var t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].show();this._isVisible=!0},e.prototype._hide=function(){this._primaryCursor.hide();for(var t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].hide();this._isVisible=!1},e.prototype.prepareRender=function(t){this._primaryCursor.prepareRender(t);for(var r=0,i=this._secondaryCursors.length;r<i;r++)this._secondaryCursors[r].prepareRender(t)},e.prototype.render=function(t){var r=[],i=0,o=this._primaryCursor.render(t);o&&(r[i++]=o);for(var s=0,a=this._secondaryCursors.length;s<a;s++){var u=this._secondaryCursors[s].render(t);u&&(r[i++]=u)}this._renderData=r},e.prototype.getLastRenderData=function(){return this._renderData},e.BLINK_INTERVAL=500,e}(Ea);mn(function(n,e){var t=n.getColor(Kte);if(t){var r=n.getColor(NOe);r||(r=t.opposite()),e.addRule(".monaco-editor .cursor { background-color: "+t+"; border-color: "+t+"; color: "+r+"; }"),n.type==="hc"&&e.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+r+"; border-right: 1px solid "+r+"; }")}});var RRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PRe=function(n){RRe(e,n);function e(t){var r=n.call(this,t)||this;return r._lineHeight=r._context.configuration.editor.lineHeight,r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r.domNode=wt(document.createElement("div")),r.domNode.setClassName("view-zones"),r.domNode.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r.marginDomNode=wt(document.createElement("div")),r.marginDomNode.setClassName("margin-view-zones"),r.marginDomNode.setPosition("absolute"),r.marginDomNode.setAttribute("role","presentation"),r.marginDomNode.setAttribute("aria-hidden","true"),r._zones={},r}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._zones={}},e.prototype._recomputeWhitespacesProps=function(){for(var t=!1,r=Object.keys(this._zones),i=0,o=r.length;i<o;i++){var s=r[i],a=this._zones[s],u=this._computeWhitespaceProps(a.delegate);this._context.viewLayout.changeWhitespace(s,u.afterViewLineNumber,u.heightInPx)&&(this._safeCallOnComputedHeight(a.delegate,u.heightInPx),t=!0)}return t},e.prototype.onConfigurationChanged=function(t){return t.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},e.prototype.onLineMappingChanged=function(t){var r=this._recomputeWhitespacesProps();return r&&this._context.viewLayout.onHeightMaybeChanged(),r},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype._getZoneOrdinal=function(t){return typeof t.afterColumn<"u"?t.afterColumn:1e4},e.prototype._computeWhitespaceProps=function(t){if(t.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};var r;if(typeof t.afterColumn<"u")r=this._context.model.validateModelPosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{var i=this._context.model.validateModelPosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;r=new ee(i,this._context.model.getModelLineMaxColumn(i))}var o;r.column===this._context.model.getModelLineMaxColumn(r.lineNumber)?o=this._context.model.validateModelPosition({lineNumber:r.lineNumber+1,column:1}):o=this._context.model.validateModelPosition({lineNumber:r.lineNumber,column:r.column+1});var s=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(r),a=this._context.model.coordinatesConverter.modelPositionIsVisible(o);return{afterViewLineNumber:s.lineNumber,heightInPx:a?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}},e.prototype.addZone=function(t){var r=this._computeWhitespaceProps(t),i=this._context.viewLayout.addWhitespace(r.afterViewLineNumber,this._getZoneOrdinal(t),r.heightInPx,r.minWidthInPx),o={whitespaceId:i,delegate:t,isVisible:!1,domNode:wt(t.domNode),marginDomNode:t.marginDomNode?wt(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,r.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId},e.prototype.removeZone=function(t){if(this._zones.hasOwnProperty(t)){var r=this._zones[t];return delete this._zones[t],this._context.viewLayout.removeWhitespace(r.whitespaceId),r.domNode.removeAttribute("monaco-visible-view-zone"),r.domNode.removeAttribute("monaco-view-zone"),r.domNode.domNode.parentNode.removeChild(r.domNode.domNode),r.marginDomNode&&(r.marginDomNode.removeAttribute("monaco-visible-view-zone"),r.marginDomNode.removeAttribute("monaco-view-zone"),r.marginDomNode.domNode.parentNode.removeChild(r.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},e.prototype.layoutZone=function(t){var r=!1;if(this._zones.hasOwnProperty(t)){var i=this._zones[t],o=this._computeWhitespaceProps(i.delegate);r=this._context.viewLayout.changeWhitespace(i.whitespaceId,o.afterViewLineNumber,o.heightInPx)||r,r&&(this._safeCallOnComputedHeight(i.delegate,o.heightInPx),this.setShouldRender())}return r},e.prototype.shouldSuppressMouseDownOnViewZone=function(t){if(this._zones.hasOwnProperty(t)){var r=this._zones[t];return!!r.delegate.suppressMouseDown}return!1},e.prototype._heightInPixels=function(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight},e.prototype._minWidthInPixels=function(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0},e.prototype._safeCallOnComputedHeight=function(t,r){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(r)}catch(i){He(i)}},e.prototype._safeCallOnDomNodeTop=function(t,r){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(r)}catch(i){He(i)}},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){for(var r=t.viewportData.whitespaceViewportData,i={},o=!1,s=0,a=r.length;s<a;s++)i[r[s].id]=r[s],o=!0;for(var u=Object.keys(this._zones),s=0,a=u.length;s<a;s++){var l=u[s],c=this._zones[l],h=0,d=0,p="none";i.hasOwnProperty(l)?(h=i[l].verticalOffset-t.bigNumbersDelta,d=i[l].height,p="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,t.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(h),c.domNode.setHeight(d),c.domNode.setDisplay(p),c.marginDomNode&&(c.marginDomNode.setTop(h),c.marginDomNode.setHeight(d),c.marginDomNode.setDisplay(p))}o&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},e}(Ea),MRe=function(){function n(e,t,r,i){this.configuration=e,this.theme=t,this.model=r,this.viewLayout=r.viewLayout,this.privateViewEventBus=i}return n.prototype.addEventHandler=function(e){this.privateViewEventBus.addEventHandler(e)},n.prototype.removeEventHandler=function(e){this.privateViewEventBus.removeEventHandler(e)},n}(),FRe=function(){function n(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return n.prototype.addEventHandler=function(e){for(var t=0,r=this._eventHandlers.length;t<r;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},n.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},n.prototype.emit=function(e){this._eventQueue?this._eventQueue.push(e):this._eventQueue=[e],this._isConsumingQueue||this.consumeQueue()},n.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},n.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},n.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),r=0,i=t.length;r<i;r++)t[r].handleEvents(e)}},n}(),BRe=function(){function n(e,t,r,i){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=r,this._model=i,this.visibleRange=new H(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}return n.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)},n.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},n}(),HRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ck=function(){throw new Error("Invalid change accessor")},VRe=function(n){HRe(e,n);function e(t,r,i,o,s,a){var u=n.call(this)||this;u._cursor=s,u._renderAnimationFrame=null,u.outgoingEvents=a;var l=new fke(r,o,u.outgoingEvents,t);u.eventDispatcher=new FRe(function(C){return u._renderOnce(C)}),u.eventDispatcher.addEventHandler(u),u._context=new MRe(r,i.getTheme(),o,u.eventDispatcher),u._register(i.onThemeChange(function(C){u._context.theme=C,u.eventDispatcher.emit(new XOe),u.render(!0,!1)})),u.viewParts=[],u._textAreaHandler=new ike(u._context,l,u.createTextAreaHandlerHelper()),u.viewParts.push(u._textAreaHandler),u.linesContent=wt(document.createElement("div")),u.linesContent.setClassName("lines-content monaco-editor-background"),u.linesContent.setPosition("absolute"),u.domNode=wt(document.createElement("div")),u.domNode.setClassName(u.getEditorClassName()),u.overflowGuardContainer=wt(document.createElement("div")),Rl.write(u.overflowGuardContainer,3),u.overflowGuardContainer.setClassName("overflow-guard"),u._scrollbar=new Kke(u._context,u.linesContent,u.domNode,u.overflowGuardContainer),u.viewParts.push(u._scrollbar),u.viewLines=new tRe(u._context,u.linesContent),u.viewZones=new PRe(u._context),u.viewParts.push(u.viewZones);var c=new mRe(u._context);u.viewParts.push(c);var h=new SRe(u._context);u.viewParts.push(h);var d=new pke(u._context);u.viewParts.push(d),d.addDynamicOverlay(new bke(u._context)),d.addDynamicOverlay(new NRe(u._context)),d.addDynamicOverlay(new Qke(u._context)),d.addDynamicOverlay(new Ske(u._context));var p=new gke(u._context);u.viewParts.push(p),p.addDynamicOverlay(new wke(u._context)),p.addDynamicOverlay(new Yke(u._context)),p.addDynamicOverlay(new oRe(u._context)),p.addDynamicOverlay(new rRe(u._context)),p.addDynamicOverlay(new Qte(u._context));var v=new Zte(u._context);v.getDomNode().appendChild(u.viewZones.marginDomNode),v.getDomNode().appendChild(p.getDomNode()),u.viewParts.push(v),u.contentWidgets=new mke(u._context,u.domNode),u.viewParts.push(u.contentWidgets),u.viewCursors=new kRe(u._context),u.viewParts.push(u.viewCursors),u.overlayWidgets=new pRe(u._context),u.viewParts.push(u.overlayWidgets);var m=new wRe(u._context);u.viewParts.push(m);var _=new hRe(u._context);if(u.viewParts.push(_),c){var b=u._scrollbar.getOverviewRulerLayoutInfo();b.parent.insertBefore(c.getDomNode(),b.insertBefore)}return u.linesContent.appendChild(d.getDomNode()),u.linesContent.appendChild(m.domNode),u.linesContent.appendChild(u.viewZones.domNode),u.linesContent.appendChild(u.viewLines.getDomNode()),u.linesContent.appendChild(u.contentWidgets.domNode),u.linesContent.appendChild(u.viewCursors.getDomNode()),u.overflowGuardContainer.appendChild(v.getDomNode()),u.overflowGuardContainer.appendChild(u._scrollbar.getDomNode()),u.overflowGuardContainer.appendChild(h.getDomNode()),u.overflowGuardContainer.appendChild(u._textAreaHandler.textArea),u.overflowGuardContainer.appendChild(u._textAreaHandler.textAreaCover),u.overflowGuardContainer.appendChild(u.overlayWidgets.getDomNode()),u.overflowGuardContainer.appendChild(_.getDomNode()),u.domNode.appendChild(u.overflowGuardContainer),u.domNode.appendChild(u.contentWidgets.overflowingContentWidgetsDomNode),u._setLayout(),u.pointerHandler=u._register(new MNe(u._context,l,u.createPointerHandlerHelper())),u._register(o.addEventListener(function(C){u.eventDispatcher.emitMany(C)})),u._register(u._cursor.addEventListener(function(C){u.eventDispatcher.emitMany(C)})),u}return e.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},e.prototype.createPointerHandlerHelper=function(){var t=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){t.focus()},getLastViewCursorsRenderData:function(){return t.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(r){return t.viewZones.shouldSuppressMouseDownOnViewZone(r)},shouldSuppressMouseDownOnWidget:function(r){return t.contentWidgets.shouldSuppressMouseDownOnWidget(r)},getPositionFromDOMInfo:function(r,i){return t._flushAccumulatedAndRenderNow(),t.viewLines.getPositionFromDOMInfo(r,i)},visibleRangeForPosition2:function(r,i){return t._flushAccumulatedAndRenderNow(),t.viewLines.visibleRangeForPosition(new ee(r,i))},getLineWidth:function(r){return t._flushAccumulatedAndRenderNow(),t.viewLines.getLineWidth(r)}}},e.prototype.createTextAreaHandlerHelper=function(){var t=this;return{visibleRangeForPositionRelativeToEditor:function(r,i){return t._flushAccumulatedAndRenderNow(),t.viewLines.visibleRangeForPosition(new ee(r,i))}}},e.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this.overflowGuardContainer.setWidth(t.width),this.overflowGuardContainer.setHeight(t.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},e.prototype.getEditorClassName=function(){var t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.editor.editorClassName+" "+GT(this._context.theme.type)+t},e.prototype.onConfigurationChanged=function(t){return t.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),t.layoutInfo&&this._setLayout(),!1},e.prototype.onFocusChanged=function(t){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(t.isFocused),t.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},e.prototype.onScrollChanged=function(t){return this.outgoingEvents.emitScrollChanged(t),!1},e.prototype.onThemeChanged=function(t){return this.domNode.setClassName(this.getEditorClassName()),!1},e.prototype.dispose=function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var t=0,r=this.viewParts.length;t<r;t++)this.viewParts[t].dispose();this.viewParts=[],n.prototype.dispose.call(this)},e.prototype._renderOnce=function(t){var r=mz(t);return this._scheduleRender(),r},e.prototype._scheduleRender=function(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=see(this._onRenderScheduled.bind(this),100))},e.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},e.prototype._renderNow=function(){var t=this;mz(function(){return t._actualRender()})},e.prototype._getViewPartsToRender=function(){for(var t=[],r=0,i=0,o=this.viewParts.length;i<o;i++){var s=this.viewParts[i];s.shouldRender()&&(t[r++]=s)}return t},e.prototype._actualRender=function(){if(UDe(this.domNode.domNode)){var t=this._getViewPartsToRender();if(!(!this.viewLines.shouldRender()&&t.length===0)){var r=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(r.startLineNumber,r.endLineNumber,r.centeredLineNumber);var i=new BRe(this._cursor.getViewSelections(),r,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),t=this._getViewPartsToRender());for(var o=new gLe(this._context.viewLayout,i,this.viewLines),s=0,a=t.length;s<a;s++){var u=t[s];u.prepareRender(o)}for(var s=0,a=t.length;s<a;s++){var u=t[s];u.render(o),u.onDidRender()}}}},e.prototype.delegateVerticalScrollbarMouseDown=function(t){this._scrollbar.delegateVerticalScrollbarMouseDown(t)},e.prototype.restoreState=function(t){this._context.viewLayout.setScrollPositionNow({scrollTop:t.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:t.scrollLeft})},e.prototype.getOffsetForColumn=function(t,r){var i=this._context.model.validateModelPosition({lineNumber:t,column:r}),o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var s=this.viewLines.visibleRangeForPosition(new ee(o.lineNumber,o.column));return s?s.left:-1},e.prototype.getTargetAtClientPoint=function(t,r){return this.pointerHandler.getTargetAtClientPoint(t,r)},e.prototype.createOverviewRuler=function(t){return new bRe(this._context,t)},e.prototype.change=function(t){var r=this,i=!1;return this._renderOnce(function(){var o={addZone:function(s){return i=!0,r.viewZones.addZone(s)},removeZone:function(s){s&&(i=r.viewZones.removeZone(s)||i)},layoutZone:function(s){s&&(i=r.viewZones.layoutZone(s)||i)}};WRe(t,o),o.addZone=ck,o.removeZone=ck,o.layoutZone=ck,i&&(r._context.viewLayout.onHeightMaybeChanged(),r._context.privateViewEventBus.emit(new ZOe))}),i},e.prototype.render=function(t,r){if(r){this.viewLines.forceShouldRender();for(var i=0,o=this.viewParts.length;i<o;i++){var s=this.viewParts[i];s.forceShouldRender()}}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()},e.prototype.focus=function(){this._textAreaHandler.focusTextArea()},e.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},e.prototype.addContentWidget=function(t){this.contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()},e.prototype.layoutContentWidget=function(t){var r=t.position?t.position.position:null,i=t.position&&t.position.range||null,o=t.position?t.position.preference:null;this.contentWidgets.setWidgetPosition(t.widget,r,i,o),this._scheduleRender()},e.prototype.removeContentWidget=function(t){this.contentWidgets.removeWidget(t.widget),this._scheduleRender()},e.prototype.addOverlayWidget=function(t){this.overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()},e.prototype.layoutOverlayWidget=function(t){var r=t.position?t.position.preference:null,i=this.overlayWidgets.setWidgetPosition(t.widget,r);i&&this._scheduleRender()},e.prototype.removeOverlayWidget=function(t){this.overlayWidgets.removeWidget(t.widget),this._scheduleRender()},e}(mC);function mz(n){try{return n()}catch(e){He(e)}}function WRe(n,e){try{return n(e)}catch(t){He(t)}}var URe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jRe=function(n){URe(e,n);function e(t){var r=n.call(this)||this;return r.onDidScroll=null,r.onDidGainFocus=null,r.onDidLoseFocus=null,r.onKeyDown=null,r.onKeyUp=null,r.onContextMenu=null,r.onMouseMove=null,r.onMouseLeave=null,r.onMouseUp=null,r.onMouseDown=null,r.onMouseDrag=null,r.onMouseDrop=null,r.onMouseWheel=null,r._viewModel=t,r}return e.prototype.emitScrollChanged=function(t){this.onDidScroll&&this.onDidScroll(t)},e.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},e.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},e.prototype.emitKeyDown=function(t){this.onKeyDown&&this.onKeyDown(t)},e.prototype.emitKeyUp=function(t){this.onKeyUp&&this.onKeyUp(t)},e.prototype.emitContextMenu=function(t){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseMove=function(t){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseLeave=function(t){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseUp=function(t){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDown=function(t){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDrag=function(t){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseDrop=function(t){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(t))},e.prototype.emitMouseWheel=function(t){this.onMouseWheel&&this.onMouseWheel(t)},e.prototype._convertViewToModelMouseEvent=function(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t},e.prototype._convertViewToModelMouseTarget=function(t){return new qRe(t.element,t.type,t.mouseColumn,t.position?this._convertViewToModelPosition(t.position):null,t.range?this._convertViewToModelRange(t.range):null,t.detail)},e.prototype._convertViewToModelPosition=function(t){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)},e.prototype._convertViewToModelRange=function(t){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},e}(he),qRe=function(){function n(e,t,r,i,o,s){this.element=e,this.type=t,this.mouseColumn=r,this.position=i,this.range=o,this.detail=s}return n.prototype.toString=function(){return cc.toString(this)},n}(),_z=function(){function n(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new _o(new H(1,1,1,1),0,new ee(1,1),0),new _o(new H(1,1,1,1),0,new ee(1,1),0))}return n.prototype.dispose=function(e){this._removeTrackedRange(e)},n.prototype.startTrackingSelection=function(e){this._trackSelection=!0,this._updateTrackedRange(e)},n.prototype.stopTrackingSelection=function(e){this._trackSelection=!1,this._removeTrackedRange(e)},n.prototype._updateTrackedRange=function(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))},n.prototype._removeTrackedRange=function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)},n.prototype.asCursorState=function(){return new St(this.modelState,this.viewState)},n.prototype.readSelectionFromMarkers=function(e){var t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new Re(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new Re(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)},n.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)},n.prototype.setState=function(e,t,r){this._setState(e,t,r)},n.prototype._setState=function(e,t,r){if(t){var i=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new _o(i,s,o,a)}else{if(!r)return;var i=e.model.validateRange(e.convertViewRangeToModelRange(r.selectionStart)),o=e.model.validatePosition(e.convertViewPositionToModelPosition(r.position.lineNumber,r.position.column));t=new _o(i,r.selectionStartLeftoverVisibleColumns,o,r.leftoverVisibleColumns)}if(r){var c=e.validateViewRange(r.selectionStart,t.selectionStart),h=e.validateViewPosition(r.position,t.position);r=new _o(c,t.selectionStartLeftoverVisibleColumns,h,t.leftoverVisibleColumns)}else{var u=e.convertModelPositionToViewPosition(new ee(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.convertModelPositionToViewPosition(new ee(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),c=new H(u.lineNumber,u.column,l.lineNumber,l.column),h=e.convertModelPositionToViewPosition(t.position);r=new _o(c,t.selectionStartLeftoverVisibleColumns,h,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=r,this._updateTrackedRange(e)},n}(),yz=function(){function n(e){this.context=e,this.primaryCursor=new _z(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return n.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},n.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)},n.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)},n.prototype.updateContext=function(e){this.context=e},n.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)},n.prototype.readSelectionFromMarkers=function(){var e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e},n.prototype.getAll=function(){var e=[];e[0]=this.primaryCursor.asCursorState();for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e},n.prototype.getViewPositions=function(){var e=[];e[0]=this.primaryCursor.viewState.position;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e},n.prototype.getSelections=function(){var e=[];e[0]=this.primaryCursor.modelState.selection;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e},n.prototype.getViewSelections=function(){var e=[];e[0]=this.primaryCursor.viewState.selection;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e},n.prototype.setSelections=function(e){this.setStates(St.fromModelSelections(e))},n.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},n.prototype.setStates=function(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))},n.prototype._setSecondaryStates=function(e){var t=this.secondaryCursors.length,r=e.length;if(t<r)for(var i=r-t,o=0;o<i;o++)this._addSecondaryCursor();else if(t>r)for(var s=t-r,o=0;o<s;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var o=0;o<r;o++)this.secondaryCursors[o].setState(this.context,e[o].modelState,e[o].viewState)},n.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},n.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new _z(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},n.prototype.getLastAddedCursorIndex=function(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex},n.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)},n.prototype._getAll=function(){var e=[];e[0]=this.primaryCursor;for(var t=0,r=this.secondaryCursors.length;t<r;t++)e[t+1]=this.secondaryCursors[t];return e},n.prototype.normalize=function(){if(this.secondaryCursors.length!==0){for(var e=this._getAll(),t=[],r=0,i=e.length;r<i;r++)t.push({index:r,selection:e[r].modelState.selection});t.sort(function(L,O){return L.selection.startLineNumber===O.selection.startLineNumber?L.selection.startColumn-O.selection.startColumn:L.selection.startLineNumber-O.selection.startLineNumber});for(var o=0;o<t.length-1;o++){var s=t[o],a=t[o+1],u=s.selection,l=a.selection;if(this.context.config.multiCursorMergeOverlapping){var c=void 0;if(l.isEmpty()||u.isEmpty()?c=l.getStartPosition().isBeforeOrEqual(u.getEndPosition()):c=l.getStartPosition().isBefore(u.getEndPosition()),c){var h=s.index<a.index?o:o+1,d=s.index<a.index?o+1:o,p=t[d].index,v=t[h].index,m=t[d].selection,_=t[h].selection;if(!m.equalsSelection(_)){var b=m.plusRange(_),C=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,E=_.selectionStartLineNumber===_.startLineNumber&&_.selectionStartColumn===_.startColumn,S=void 0;p===this.lastAddedCursorIndex?(S=C,this.lastAddedCursorIndex=v):S=E;var A=void 0;S?A=new Re(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):A=new Re(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn),t[h].selection=A;var T=St.fromModelSelection(A);e[v].setState(this.context,T.modelState,T.viewState)}for(var N=0,k=t;N<k.length;N++){var F=k[N];F.index>p&&F.index--}e.splice(p,1),t.splice(d,1),this._removeSecondaryCursor(p-1),o--}}}}},n}(),zRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function GRe(n){for(var e=0,t=n.length;e<t;e++)if(n[e].type===6)return!0;return!1}var $Re=function(){function n(e,t,r){this.selections=e,this.source=t,this.reason=r}return n}(),fk=function(){function n(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getAll()}return n.prototype.equals=function(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,r=this.cursorState.length;t<r;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0},n}(),hk=function(){function n(e,t,r){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=r}return n.getAllAutoClosedCharacters=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];t=t.concat(o.getAutoClosedCharactersRanges())}return t},n.prototype.dispose=function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])},n.prototype.getAutoClosedCharactersRanges=function(){for(var e=[],t=0;t<this._autoClosedCharactersDecorations.length;t++){var r=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);r&&e.push(r)}return e},n.prototype.isValid=function(e){for(var t=[],r=0;r<this._autoClosedEnclosingDecorations.length;r++){var i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[r]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(H.compareRangesUsingStarts),e.sort(H.compareRangesUsingStarts);for(var r=0;r<e.length;r++)if(r>=t.length||!t[r].strictContainsRange(e[r]))return!1;return!0},n}(),bz=function(n){zRe(e,n);function e(t,r,i){var o=n.call(this)||this;o._onDidReachMaxCursorCount=o._register(new Q),o.onDidReachMaxCursorCount=o._onDidReachMaxCursorCount.event,o._onDidAttemptReadOnlyEdit=o._register(new Q),o.onDidAttemptReadOnlyEdit=o._onDidAttemptReadOnlyEdit.event,o._onDidChange=o._register(new Q),o.onDidChange=o._onDidChange.event,o._configuration=t,o._model=r,o._knownModelVersionId=o._model.getVersionId(),o._viewModel=i,o.context=new Jq(o._configuration,o._model,o._viewModel),o._cursors=new yz(o.context),o._isHandling=!1,o._isDoingComposition=!1,o._columnSelectData=null,o._autoClosedActions=[],o._prevEditOperationType=0,o._register(o._model.onDidChangeRawContent(function(a){if(o._knownModelVersionId=a.versionId,!o._isHandling){var u=a.containsEvent(1);o._onModelContentChanged(u)}})),o._register(i.addEventListener(function(a){GRe(a)&&o._knownModelVersionId===o._model.getVersionId()&&o.setStates("viewModel",0,o.getAll())}));var s=function(){o.context=new Jq(o._configuration,o._model,o._viewModel),o._cursors.updateContext(o.context)};return o._register(o._model.onDidChangeLanguage(function(a){s()})),o._register(o._model.onDidChangeLanguageConfiguration(function(){s()})),o._register(o._model.onDidChangeOptions(function(){s()})),o._register(o._configuration.onDidChange(function(a){bte.shouldRecreate(a)&&s()})),o}return e.prototype.dispose=function(){this._cursors.dispose(),this._autoClosedActions=nt(this._autoClosedActions),n.prototype.dispose.call(this)},e.prototype._validateAutoClosedActions=function(){if(this._autoClosedActions.length>0)for(var t=this._cursors.getSelections(),r=0;r<this._autoClosedActions.length;r++){var i=this._autoClosedActions[r];i.isValid(t)||(i.dispose(),this._autoClosedActions.splice(r,1),r--)}},e.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},e.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},e.prototype.getAll=function(){return this._cursors.getAll()},e.prototype.setStates=function(t,r,i){i!==null&&i.length>e.MAX_CURSOR_COUNT&&(i=i.slice(0,e.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var o=new fk(this._model,this);this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,r,o)},e.prototype.setColumnSelectData=function(t){this._columnSelectData=t},e.prototype.reveal=function(t,r,i){this._revealRange(r,0,t,i)},e.prototype.revealRange=function(t,r,i,o){this.emitCursorRevealRange(r,i,t,o)},e.prototype.scrollTo=function(t){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:t})},e.prototype.saveState=function(){for(var t=[],r=this._cursors.getSelections(),i=0,o=r.length;i<o;i++){var s=r[i];t.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return t},e.prototype.restoreState=function(t){for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i],a=1,u=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(u=s.position.column);var l=a,c=u;s.selectionStart&&s.selectionStart.lineNumber&&(l=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(c=s.selectionStart.column),r.push({selectionStartLineNumber:l,selectionStartColumn:c,positionLineNumber:a,positionColumn:u})}this.setStates("restoreState",0,St.fromModelSelections(r)),this.reveal(!0,0,1)},e.prototype._onModelContentChanged=function(t){if(this._prevEditOperationType=0,t)this._cursors.dispose(),this._cursors=new yz(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary("model",1,null);else{var r=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,St.fromModelSelections(r))}},e.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},e.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var t=this._cursors.getPrimaryCursor(),r=t.viewState.position,i=r.lineNumber,o=hn.visibleColumnFromColumn2(this.context.config,this.context.viewModel,r);return{isReal:!1,fromViewLineNumber:i,fromViewVisualColumn:o,toViewLineNumber:i,toViewVisualColumn:o}},e.prototype.getSelections=function(){return this._cursors.getSelections()},e.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},e.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},e.prototype.setSelections=function(t,r){this.setStates(t,0,St.fromModelSelections(r))},e.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},e.prototype.setPrevEditOperationType=function(t){this._prevEditOperationType=t},e.prototype._pushAutoClosedAction=function(t,r){for(var i=[],o=[],s=0,a=t.length;s<a;s++)i.push({range:t[s],options:{inlineClassName:"auto-closed-character",stickiness:1}}),o.push({range:r[s],options:{stickiness:1}});var u=this._model.deltaDecorations([],i),l=this._model.deltaDecorations([],o);this._autoClosedActions.push(new hk(this._model,u,l))},e.prototype._executeEditOperation=function(t){if(t){t.shouldPushStackElementBefore&&this._model.pushStackElement();var r=KRe.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(r){this._interpretCommandResult(r);for(var i=[],o=[],s=0;s<t.commands.length;s++){var a=t.commands[s];a instanceof tne&&a.enclosingRange&&a.closeCharacterRange&&(i.push(a.closeCharacterRange),o.push(a.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,o),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}},e.prototype._interpretCommandResult=function(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()},e.prototype._emitStateChangedIfNecessary=function(t,r,i){var o=new fk(this._model,this);if(o.equals(i))return!1;var s=this._cursors.getSelections(),a=this._cursors.getViewSelections();try{var u=this._beginEmit();u.emit(new $Oe(a))}finally{this._endEmit()}return(!i||i.cursorState.length!==o.cursorState.length||o.cursorState.some(function(l,c){return!l.modelState.equals(i.cursorState[c].modelState)}))&&this._onDidChange.fire(new $Re(s,t||"keyboard",r)),!0},e.prototype._revealRange=function(t,r,i,o){var s=this._cursors.getViewPositions(),a=s[0];if(t===1)for(var u=1;u<s.length;u++)s[u].isBefore(a)&&(a=s[u]);else if(t===2)for(var u=1;u<s.length;u++)a.isBeforeOrEqual(s[u])&&(a=s[u]);else if(s.length>1)return;var l=new H(a.lineNumber,a.column,a.lineNumber,a.column);this.emitCursorRevealRange(l,r,i,o)},e.prototype.emitCursorRevealRange=function(t,r,i,o){try{var s=this._beginEmit();s.emit(new g5(t,r,i,o))}finally{this._endEmit()}},e.prototype._findAutoClosingPairs=function(t){if(!t.length)return null;for(var r=[],i=0,o=t.length;i<o;i++){var s=t[i];if(!s.text||s.text.indexOf(`
`)>=0)return null;var a=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!a)return null;var u=a[1],l=this.context.config.autoClosingPairsClose2.get(u);if(!l||l.length!==1)return null;var c=l[0].open,h=s.text.length-a[2].length-1,d=s.text.lastIndexOf(c,h-1);if(d===-1)return null;r.push([d,h])}return r},e.prototype.executeEdits=function(t,r,i){var o=this,s=null;t==="snippet"&&(s=this._findAutoClosingPairs(r)),s&&(r[0]._isTracked=!0);var a=[],u=[],l=this._model.pushEditOperations(this.getSelections(),r,function(c){if(s)for(var h=0,d=s.length;h<d;h++){var p=s[h],v=p[0],m=p[1],_=c[h],b=_.range.startLineNumber,C=_.range.startColumn-1+v,E=_.range.startColumn-1+m;a.push(new H(b,E+1,b,E+2)),u.push(new H(b,C+1,b,E+2))}var S=i(c);return S&&(o._isHandling=!0),S});l&&(this._isHandling=!1,this.setSelections(t,l)),a.length>0&&this._pushAutoClosedAction(a,u)},e.prototype.trigger=function(t,r,i){var o=un;if(r===o.CompositionStart){this._isDoingComposition=!0;return}if(r===o.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.editor.readOnly){this._onDidAttemptReadOnlyEdit.fire(void 0);return}var s=new fk(this._model,this),a=0;r!==o.Undo&&r!==o.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(r){case o.Type:this._type(t,i.text);break;case o.ReplacePreviousChar:this._replacePreviousChar(i.text,i.replaceCharCnt);break;case o.Paste:a=4,this._paste(i.text,i.pasteOnNewLine,i.multicursorText);break;case o.Cut:this._cut();break;case o.Undo:a=5,this._interpretCommandResult(this._model.undo());break;case o.Redo:a=6,this._interpretCommandResult(this._model.redo());break;case o.ExecuteCommand:this._externalExecuteCommand(i);break;case o.ExecuteCommands:this._externalExecuteCommands(i);break;case o.CompositionEnd:this._interpretCompositionEnd(t);break}}catch(u){He(u)}this._isHandling=!1,r!==o.Undo&&r!==o.Redo&&this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,a,s)&&this._revealRange(0,0,!0,0)},e.prototype._interpretCompositionEnd=function(t){if(!this._isDoingComposition&&t==="keyboard"){var r=hk.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(mu.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),r))}},e.prototype._type=function(t,r){if(!this._isDoingComposition&&t==="keyboard")for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i),a=void 0;ts(s)&&i+1<o?(a=r.charAt(i)+r.charAt(i+1),i++):a=r.charAt(i);var u=hk.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(mu.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),u,a))}else this._executeEditOperation(mu.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),r))},e.prototype._replacePreviousChar=function(t,r){this._executeEditOperation(mu.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t,r))},e.prototype._paste=function(t,r,i){this._executeEditOperation(mu.paste(this.context.config,this.context.model,this.getSelections(),t,r,i))},e.prototype._cut=function(){this._executeEditOperation(ZM.cut(this.context.config,this.context.model,this.getSelections()))},e.prototype._externalExecuteCommand=function(t){this._cursors.killSecondaryCursors(),this._executeEditOperation(new $o(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e.prototype._externalExecuteCommands=function(t){this._executeEditOperation(new $o(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e.MAX_CURSOR_COUNT=1e4,e}(ene),KRe=function(){function n(){}return n.executeCommands=function(e,t,r){for(var i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(i,r),s=0,a=i.trackedRanges.length;s<a;s++)i.model._setTrackedRange(i.trackedRanges[s],null,0);return o},n._innerExecuteCommands=function(e,t){if(this._arrayIsEmpty(t))return null;var r=this._getEditOperations(e,t);if(r.operations.length===0)return null;var i=r.operations,o=this._getLoserCursorMap(i);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var s=[],a=0,u=i.length;a<u;a++)o.hasOwnProperty(i[a].identifier.major.toString())||s.push(i[a]);r.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);var l=e.model.pushEditOperations(e.selectionsBefore,s,function(m){for(var _=[],b=0;b<e.selectionsBefore.length;b++)_[b]=[];for(var C=0,E=m;C<E.length;C++){var S=E[C];S.identifier&&_[S.identifier.major].push(S)}for(var A=function(k,F){return k.identifier.minor-F.identifier.minor},T=[],N=function(k){_[k].length>0?(_[k].sort(A),T[k]=t[k].computeCursorState(e.model,{getInverseEditOperations:function(){return _[k]},getTrackedSelection:function(F){var L=parseInt(F,10),O=e.model._getTrackedRange(e.trackedRanges[L]);return e.trackedRangesDirection[L]===0?new Re(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new Re(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):T[k]=e.selectionsBefore[k]},b=0;b<e.selectionsBefore.length;b++)N(b);return T});l||(l=e.selectionsBefore);var c=[];for(var h in o)o.hasOwnProperty(h)&&c.push(parseInt(h,10));c.sort(function(m,_){return _-m});for(var d=0,p=c;d<p.length;d++){var v=p[d];l.splice(v,1)}return l},n._arrayIsEmpty=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t])return!1;return!0},n._getEditOperations=function(e,t){for(var r=[],i=!1,o=0,s=t.length;o<s;o++){var a=t[o];if(a){var u=this._getEditOperationsFromCommand(e,o,a);r=r.concat(u.operations),i=i||u.hadTrackedEditOperation}}return{operations:r,hadTrackedEditOperation:i}},n._getEditOperationsFromCommand=function(e,t,r){var i=[],o=0,s=function(h,d){h.isEmpty()&&d===""||i.push({identifier:{major:t,minor:o++},range:h,text:d,forceMoveMarkers:!1,isAutoWhitespaceEdit:r.insertsAutoWhitespace})},a=!1,u=function(h,d){a=!0,s(h,d)},l=function(h,d){var p;if(h.isEmpty())if(typeof d=="boolean")d?p=2:p=3;else{var v=e.model.getLineMaxColumn(h.startLineNumber);h.startColumn===v?p=2:p=3}else p=1;var m=e.trackedRanges.length,_=e.model._setTrackedRange(null,h,p);return e.trackedRanges[m]=_,e.trackedRangesDirection[m]=h.getDirection(),m.toString()},c={addEditOperation:s,addTrackedEditOperation:u,trackSelection:l};try{r.getEditOperations(e.model,c)}catch(h){return He(h),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:a}},n._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(u,l){return-H.compareRangesUsingEnds(u.range,l.range)});for(var t={},r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(i.range.getStartPosition().isBefore(o.range.getEndPosition())){var s=void 0;i.identifier.major>o.identifier.major?s=i.identifier.major:s=o.identifier.major,t[s.toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<r&&r--,a--);r>0&&r--}}return t},n}(),hne=function(){function n(e,t,r,i,o,s){this.id=e,this.label=t,this.alias=r,this._precondition=i,this._run=o,this._contextKeyService=s}return n.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},n.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var e=this._run();return e||Promise.resolve(void 0)},n}(),Cz={getInitialState:function(){return gC},tokenize2:function(n,e,t){return M6(0,n,e,t)}};function wz(n,e){return e===void 0&&(e=Cz),XRe(n,e||Cz)}function YRe(n,e,t,r,i,o){for(var s="<div>",a=r,u=0,l=0,c=e.getCount();l<c;l++){var h=e.getEndOffset(l);if(!(h<=r)){for(var d="";a<h&&a<i;a++){var p=n.charCodeAt(a);switch(p){case 9:var v=o-(a+u)%o;for(u+=v-1;v>0;)d+="&nbsp;",v--;break;case 60:d+="&lt;";break;case 62:d+="&gt;";break;case 38:d+="&amp;";break;case 0:d+="&#00;";break;case 65279:case 8232:d+="";break;case 13:d+="&#8203";break;case 32:d+="&nbsp;";break;default:d+=String.fromCharCode(p)}}if(s+='<span style="'+e.getInlineStyle(l,t)+'">'+d+"</span>",h>i||a>=i)break}}return s+="</div>",s}function XRe(n,e){for(var t='<div class="monaco-tokenized-source">',r=n.split(/\r\n|\r|\n/),i=e.getInitialState(),o=0,s=r.length;o<s;o++){var a=r[o];o>0&&(t+="<br/>");var u=e.tokenize2(a,i,0);bu.convertToEndOffset(u.tokens,a.length);for(var l=new bu(u.tokens,a),c=l.inflate(),h=0,d=0,p=c.getCount();d<p;d++){var v=c.getClassName(d),m=c.getEndOffset(d);t+='<span class="'+v+'">'+ha(a.substring(h,m))+"</span>",h=m}i=u.endState}return t+="</div>",t}var QRe=function(){function n(){this._instanceId=Cee(++n.INSTANCE_COUNT),this._heights=[],this._minWidths=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0,this._minWidth=-1}return n.findInsertionIndex=function(e,t,r,i){for(var o=0,s=e.length;o<s;){var a=o+s>>>1;t===e[a]?i<r[a]?s=a:o=a+1:t<e[a]?s=a:o=a+1}return o},n.prototype.insertWhitespace=function(e,t,r,i){e=e|0,t=t|0,r=r|0,i=i|0;var o=this._instanceId+ ++this._lastWhitespaceId,s=n.findInsertionIndex(this._afterLineNumbers,e,this._ordinals,t);return this._insertWhitespaceAtIndex(o,s,e,t,r,i),this._minWidth=-1,o},n.prototype._insertWhitespaceAtIndex=function(e,t,r,i,o,s){t=t|0,r=r|0,i=i|0,o=o|0,s=s|0,this._heights.splice(t,0,o),this._minWidths.splice(t,0,s),this._ids.splice(t,0,e),this._afterLineNumbers.splice(t,0,r),this._ordinals.splice(t,0,i),this._prefixSum.splice(t,0,0);for(var a=Object.keys(this._whitespaceId2Index),u=0,l=a.length;u<l;u++){var c=a[u],h=this._whitespaceId2Index[c];h>=t&&(this._whitespaceId2Index[c]=h+1)}this._whitespaceId2Index[e]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)},n.prototype.changeWhitespace=function(e,t,r){t=t|0,r=r|0;var i=!1;return i=this.changeWhitespaceHeight(e,r)||i,i=this.changeWhitespaceAfterLineNumber(e,t)||i,i},n.prototype.changeWhitespaceHeight=function(e,t){if(t=t|0,this._whitespaceId2Index.hasOwnProperty(e)){var r=this._whitespaceId2Index[e];if(this._heights[r]!==t)return this._heights[r]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1),!0}return!1},n.prototype.changeWhitespaceAfterLineNumber=function(e,t){if(t=t|0,this._whitespaceId2Index.hasOwnProperty(e)){var r=this._whitespaceId2Index[e];if(this._afterLineNumbers[r]!==t){var i=this._ordinals[r],o=this._heights[r],s=this._minWidths[r];this.removeWhitespace(e);var a=n.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,i);return this._insertWhitespaceAtIndex(e,a,t,i,o,s),!0}}return!1},n.prototype.removeWhitespace=function(e){if(this._whitespaceId2Index.hasOwnProperty(e)){var t=this._whitespaceId2Index[e];return delete this._whitespaceId2Index[e],this._removeWhitespaceAtIndex(t),this._minWidth=-1,!0}return!1},n.prototype._removeWhitespaceAtIndex=function(e){e=e|0,this._heights.splice(e,1),this._minWidths.splice(e,1),this._ids.splice(e,1),this._afterLineNumbers.splice(e,1),this._ordinals.splice(e,1),this._prefixSum.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1);for(var t=Object.keys(this._whitespaceId2Index),r=0,i=t.length;r<i;r++){var o=t[r],s=this._whitespaceId2Index[o];s>=e&&(this._whitespaceId2Index[o]=s-1)}},n.prototype.onLinesDeleted=function(e,t){e=e|0,t=t|0;for(var r=0,i=this._afterLineNumbers.length;r<i;r++){var o=this._afterLineNumbers[r];e<=o&&o<=t?this._afterLineNumbers[r]=e-1:o>t&&(this._afterLineNumbers[r]-=t-e+1)}},n.prototype.onLinesInserted=function(e,t){e=e|0,t=t|0;for(var r=0,i=this._afterLineNumbers.length;r<i;r++){var o=this._afterLineNumbers[r];e<=o&&(this._afterLineNumbers[r]+=t-e+1)}},n.prototype.getTotalHeight=function(){return this._heights.length===0?0:this.getAccumulatedHeight(this._heights.length-1)},n.prototype.getAccumulatedHeight=function(e){e=e|0;var t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._prefixSum[0]=this._heights[0],t++);for(var r=t;r<=e;r++)this._prefixSum[r]=this._prefixSum[r-1]+this._heights[r];return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._prefixSum[e]},n.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e=e|0;var t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getAccumulatedHeight(t)},n.prototype._findLastWhitespaceBeforeLineNumber=function(e){e=e|0;for(var t=this._afterLineNumbers,r=0,i=t.length-1;r<=i;){var o=i-r|0,s=o/2|0,a=r+s|0;if(t[a]<e){if(a+1>=t.length||t[a+1]>=e)return a;r=a+1|0}else i=a-1|0}return-1},n.prototype._findFirstWhitespaceAfterLineNumber=function(e){e=e|0;var t=this._findLastWhitespaceBeforeLineNumber(e),r=t+1;return r<this._heights.length?r:-1},n.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e=e|0,this._findFirstWhitespaceAfterLineNumber(e)},n.prototype.getCount=function(){return this._heights.length},n.prototype.getMinWidth=function(){if(this._minWidth===-1){for(var e=0,t=0,r=this._minWidths.length;t<r;t++)e=Math.max(e,this._minWidths[t]);this._minWidth=e}return this._minWidth},n.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e=e|0,this._afterLineNumbers[e]},n.prototype.getIdForWhitespaceIndex=function(e){return e=e|0,this._ids[e]},n.prototype.getHeightForWhitespaceIndex=function(e){return e=e|0,this._heights[e]},n.prototype.getWhitespaces=function(e){e=e|0;for(var t=[],r=0;r<this._heights.length;r++)t.push({id:this._ids[r],afterLineNumber:this._afterLineNumbers[r],heightInLines:this._heights[r]/e});return t},n.INSTANCE_COUNT=0,n}(),ZRe=function(){function n(e,t){this._lineCount=e,this._lineHeight=t,this._whitespaces=new QRe}return n.prototype.setLineHeight=function(e){this._lineHeight=e},n.prototype.onFlushed=function(e){this._lineCount=e},n.prototype.insertWhitespace=function(e,t,r,i){return this._whitespaces.insertWhitespace(e,t,r,i)},n.prototype.changeWhitespace=function(e,t,r){return this._whitespaces.changeWhitespace(e,t,r)},n.prototype.removeWhitespace=function(e){return this._whitespaces.removeWhitespace(e)},n.prototype.onLinesDeleted=function(e,t){this._lineCount-=t-e+1,this._whitespaces.onLinesDeleted(e,t)},n.prototype.onLinesInserted=function(e,t){this._lineCount+=t-e+1,this._whitespaces.onLinesInserted(e,t)},n.prototype.getLinesTotalHeight=function(){var e=this._lineHeight*this._lineCount,t=this._whitespaces.getTotalHeight();return e+t},n.prototype.getVerticalOffsetForLineNumber=function(e){e=e|0;var t;e>1?t=this._lineHeight*(e-1):t=0;var r=this._whitespaces.getAccumulatedHeightBeforeLineNumber(e);return t+r},n.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},n.prototype.getWhitespaceMinWidth=function(){return this._whitespaces.getMinWidth()},n.prototype.isAfterLines=function(e){var t=this.getLinesTotalHeight();return e>t},n.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){if(e=e|0,e<0)return 1;for(var t=this._lineCount|0,r=this._lineHeight,i=1,o=t;i<o;){var s=(i+o)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+r)i=s+1;else{if(e>=a)return s;o=s}}return i>t?t:i},n.prototype.getLinesViewportData=function(e,t){e=e|0,t=t|0;var r=this._lineHeight,i=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(i)|0,s=this._lineCount|0,a=this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(i)|0,u=this._whitespaces.getCount()|0,l,c;a===-1?(a=u,c=s+1,l=0):(c=this._whitespaces.getAfterLineNumberForWhitespaceIndex(a)|0,l=this._whitespaces.getHeightForWhitespaceIndex(a)|0);var h=o,d=h,p=5e5,v=0;o>=p&&(v=Math.floor(o/p)*p,v=Math.floor(v/r)*r,d-=v);for(var m=[],_=e+(t-e)/2,b=-1,C=i;C<=s;C++){if(b===-1){var E=h,S=h+r;(E<=_&&_<S||E>_)&&(b=C)}for(h+=r,m[C-i]=d,d+=r;c===C;)d+=l,h+=l,a++,a>=u?c=s+1:(c=this._whitespaces.getAfterLineNumberForWhitespaceIndex(a)|0,l=this._whitespaces.getHeightForWhitespaceIndex(a)|0);if(h>=t){s=C;break}}b===-1&&(b=s);var A=this.getVerticalOffsetForLineNumber(s)|0,T=i,N=s;return T<N&&o<e&&T++,T<N&&A+r>t&&N--,{bigNumbersDelta:v,startLineNumber:i,endLineNumber:s,relativeVerticalOffset:m,centeredLineNumber:b,completelyVisibleStartLineNumber:T,completelyVisibleEndLineNumber:N}},n.prototype.getVerticalOffsetForWhitespaceIndex=function(e){e=e|0;var t=this._whitespaces.getAfterLineNumberForWhitespaceIndex(e),r;t>=1?r=this._lineHeight*t:r=0;var i;return e>0?i=this._whitespaces.getAccumulatedHeight(e-1):i=0,r+i},n.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){e=e|0;var t,r=0,i=this._whitespaces.getCount()-1,o,s;if(i<0)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(i),u=this._whitespaces.getHeightForWhitespaceIndex(i);if(e>=a+u)return-1;for(;r<i;)if(t=Math.floor((r+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(t),s=this._whitespaces.getHeightForWhitespaceIndex(t),e>=o+s)r=t+1;else{if(e>=o)return t;i=t}return r},n.prototype.getWhitespaceAtVerticalOffset=function(e){e=e|0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this._whitespaces.getCount())return null;var r=this.getVerticalOffsetForWhitespaceIndex(t);if(r>e)return null;var i=this._whitespaces.getHeightForWhitespaceIndex(t),o=this._whitespaces.getIdForWhitespaceIndex(t),s=this._whitespaces.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:s,verticalOffset:r,height:i}},n.prototype.getWhitespaceViewportData=function(e,t){e=e|0,t=t|0;var r=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this._whitespaces.getCount()-1;if(r<0)return[];for(var o=[],s=r;s<=i;s++){var a=this.getVerticalOffsetForWhitespaceIndex(s),u=this._whitespaces.getHeightForWhitespaceIndex(s);if(a>=t)break;o.push({id:this._whitespaces.getIdForWhitespaceIndex(s),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:u})}return o},n.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},n}(),JRe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ePe=125,tPe=function(n){JRe(e,n);function e(t,r,i){var o=n.call(this)||this;return o._configuration=t,o._linesLayout=new ZRe(r,o._configuration.editor.lineHeight),o.scrollable=o._register(new ane(0,i)),o._configureSmoothScrollDuration(),o.scrollable.setScrollDimensions({width:t.editor.layoutInfo.contentWidth,height:t.editor.layoutInfo.contentHeight}),o.onDidScroll=o.scrollable.onScroll,o._updateHeight(),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.onHeightMaybeChanged=function(){this._updateHeight()},e.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.editor.viewInfo.smoothScrolling?ePe:0)},e.prototype.onConfigurationChanged=function(t){t.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),t.layoutInfo&&this.scrollable.setScrollDimensions({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),t.viewInfo&&this._configureSmoothScrollDuration(),this._updateHeight()},e.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t)},e.prototype.onLinesDeleted=function(t,r){this._linesLayout.onLinesDeleted(t,r)},e.prototype.onLinesInserted=function(t,r){this._linesLayout.onLinesInserted(t,r)},e.prototype._getHorizontalScrollbarHeight=function(t){return this._configuration.editor.viewInfo.scrollbar.horizontal===2||t.width>=t.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},e.prototype._getTotalHeight=function(){var t=this.scrollable.getScrollDimensions(),r=this._linesLayout.getLinesTotalHeight();return this._configuration.editor.viewInfo.scrollBeyondLastLine?r+=t.height-this._configuration.editor.lineHeight:r+=this._getHorizontalScrollbarHeight(t),Math.max(t.height,r)},e.prototype._updateHeight=function(){this.scrollable.setScrollDimensions({scrollHeight:this._getTotalHeight()})},e.prototype.getCurrentViewport=function(){var t=this.scrollable.getScrollDimensions(),r=this.scrollable.getCurrentScrollPosition();return new gq(r.scrollTop,r.scrollLeft,t.width,t.height)},e.prototype.getFutureViewport=function(){var t=this.scrollable.getScrollDimensions(),r=this.scrollable.getFutureScrollPosition();return new gq(r.scrollTop,r.scrollLeft,t.width,t.height)},e.prototype._computeScrollWidth=function(t,r){var i=this._configuration.editor.wrappingInfo.isViewportWrapping;if(!i){var o=this._configuration.editor.viewInfo.scrollBeyondLastColumn*this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+o,r,s)}return Math.max(t,r)},e.prototype.onMaxLineWidthChanged=function(t){var r=this._computeScrollWidth(t,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:r}),this._updateHeight()},e.prototype.saveState=function(){var t=this.scrollable.getFutureScrollPosition(),r=t.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r),o=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:r,scrollTopWithoutViewZones:r-o,scrollLeft:t.scrollLeft}},e.prototype.addWhitespace=function(t,r,i,o){return this._linesLayout.insertWhitespace(t,r,i,o)},e.prototype.changeWhitespace=function(t,r,i){return this._linesLayout.changeWhitespace(t,r,i)},e.prototype.removeWhitespace=function(t){return this._linesLayout.removeWhitespace(t)},e.prototype.getVerticalOffsetForLineNumber=function(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)},e.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)},e.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)},e.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)},e.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)},e.prototype.getLinesViewportDataAtScrollTop=function(t){var r=this.scrollable.getScrollDimensions();return t+r.height>r.scrollHeight&&(t=r.scrollHeight-r.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+r.height)},e.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)},e.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},e.prototype.getScrollWidth=function(){var t=this.scrollable.getScrollDimensions();return t.scrollWidth},e.prototype.getScrollHeight=function(){var t=this.scrollable.getScrollDimensions();return t.scrollHeight},e.prototype.getCurrentScrollLeft=function(){var t=this.scrollable.getCurrentScrollPosition();return t.scrollLeft},e.prototype.getCurrentScrollTop=function(){var t=this.scrollable.getCurrentScrollPosition();return t.scrollTop},e.prototype.validateScrollPosition=function(t){return this.scrollable.validateScrollPosition(t)},e.prototype.setScrollPositionNow=function(t){this.scrollable.setScrollPositionNow(t)},e.prototype.setScrollPositionSmooth=function(t){this.scrollable.setScrollPositionSmooth(t)},e.prototype.deltaScrollNow=function(t,r){var i=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+t,scrollTop:i.scrollTop+r})},e}(he),nPe=function(){function n(e,t){this.outputLineIndex=e,this.outputOffset=t}return n}(),rPe=function(){function n(e){this._lines=e}return n.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},n.prototype.convertViewRangeToModelRange=function(e){var t=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new H(t.lineNumber,t.column,r.lineNumber,r.column)},n.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},n.prototype.validateViewRange=function(e,t){var r=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new H(r.lineNumber,r.column,i.lineNumber,i.column)},n.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},n.prototype.convertModelRangeToViewRange=function(e){var t=this._lines.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),r=this._lines.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new H(t.lineNumber,t.column,r.lineNumber,r.column)},n.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},n}(),iPe=function(){function n(e,t,r,i,o,s){this.model=e,this._validModelVersionId=-1,this.tabSize=r,this.wrappingColumn=i,this.columnsForFullWidthChar=o,this.wrappingIndent=s,this.linePositionMapperFactory=t,this._constructLines(!0)}return n.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},n.prototype.createCoordinatesConverter=function(){return new rPe(this)},n.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId)throw new Error("ViewModel is out of sync with Model!");this.lines.length!==this.model.getLineCount()&&this._constructLines(!1)},n.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var r=this.model.getLinesContent(),i=r.length,o=new Uint32Array(i),s=this.hiddenAreasIds.map(function(m){return t.model.getDecorationRange(m)}).sort(H.compareRangesUsingStarts),a=1,u=0,l=-1,c=l+1<s.length?u+1:i+2,h=0;h<i;h++){var d=h+1;d===c&&(l++,a=s[l].startLineNumber,u=s[l].endLineNumber,c=l+1<s.length?u+1:i+2);var p=d>=a&&d<=u,v=dk(this.linePositionMapperFactory,r[h],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!p);o[h]=v.getViewLineCount(),this.lines[h]=v}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Z2e(o)},n.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)})},n.prototype._reduceRanges=function(e){var t=this;if(e.length===0)return[];for(var r=e.map(function(c){return t.model.validateRange(c)}).sort(H.compareRangesUsingStarts),i=[],o=r[0].startLineNumber,s=r[0].endLineNumber,a=1,u=r.length;a<u;a++){var l=r[a];l.startLineNumber>s+1?(i.push(new H(o,1,s,1)),o=l.startLineNumber,s=l.endLineNumber):l.endLineNumber>s&&(s=l.endLineNumber)}return i.push(new H(o,1,s,1)),i},n.prototype.setHiddenAreas=function(e){var t=this,r=this._reduceRanges(e),i=this.hiddenAreasIds.map(function(S){return t.model.getDecorationRange(S)}).sort(H.compareRangesUsingStarts);if(r.length===i.length){for(var o=!1,s=0;s<r.length;s++)if(!r[s].equalsRange(i[s])){o=!0;break}if(!o)return!1}for(var a=[],u=0,l=r;u<l.length;u++){var c=l[u];a.push({range:c,options:mt.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,a);for(var h=r,d=1,p=0,v=-1,m=v+1<h.length?p+1:this.lines.length+2,_=!1,s=0;s<this.lines.length;s++){var b=s+1;b===m&&(v++,d=h[v].startLineNumber,p=h[v].endLineNumber,m=v+1<h.length?p+1:this.lines.length+2);var C=!1;if(b>=d&&b<=p?this.lines[s].isVisible()&&(this.lines[s]=this.lines[s].setVisible(!1),C=!0):(_=!0,this.lines[s].isVisible()||(this.lines[s]=this.lines[s].setVisible(!0),C=!0)),C){var E=this.lines[s].getViewLineCount();this.prefixSumComputer.changeValue(s,E)}}return _||this.setHiddenAreas([]),!0},n.prototype.modelPositionIsVisible=function(e,t){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()},n.prototype.setTabSize=function(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1),!0)},n.prototype.setWrappingSettings=function(e,t,r){return this.wrappingIndent===e&&this.wrappingColumn===t&&this.columnsForFullWidthChar===r?!1:(this.wrappingIndent=e,this.wrappingColumn=t,this.columnsForFullWidthChar=r,this._constructLines(!1),!0)},n.prototype.onModelFlushed=function(){this._constructLines(!0)},n.prototype.onModelLinesDeleted=function(e,t,r){if(e<=this._validModelVersionId)return null;var i=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(r-1);return this.lines.splice(t-1,r-t+1),this.prefixSumComputer.removeValues(t-1,r-t+1),new YM(i,o)},n.prototype.onModelLinesInserted=function(e,t,r,i){if(e<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),s=!1,a=new ee(t,1),u=0,l=o;u<l.length;u++){var c=l[u];if(c.containsPosition(a)){s=!0;break}}for(var h=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=0,p=[],v=new Uint32Array(i.length),m=0,_=i.length;m<_;m++){var b=dk(this.linePositionMapperFactory,i[m],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!s);p.push(b);var C=b.getViewLineCount();d+=C,v[m]=C}return this.lines=this.lines.slice(0,t-1).concat(p).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,v),new XM(h,h+d-1)},n.prototype.onModelLineChanged=function(e,t,r){if(e<=this._validModelVersionId)return[!1,null,null,null];var i=t-1,o=this.lines[i].getViewLineCount(),s=this.lines[i].isVisible(),a=dk(this.linePositionMapperFactory,r,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,s);this.lines[i]=a;var u=this.lines[i].getViewLineCount(),l=!1,c=0,h=-1,d=0,p=-1,v=0,m=-1;o>u?(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=c+u-1,v=h+1,m=v+(o-u)-1,l=!0):o<u?(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=c+o-1,d=h+1,p=d+(u-o)-1,l=!0):(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=c+u-1),this.prefixSumComputer.changeValue(i,u);var _=c<=h?new Jte(c,h):null,b=d<=p?new XM(d,p):null,C=v<=m?new YM(v,m):null;return[l,_,b,C]},n.prototype.acceptVersionId=function(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])},n.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},n.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:e},n.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)},n.prototype.getActiveIndentGuide=function(e,t,r){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),r=this._toValidViewLineNumber(r);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),a=this.model.getActiveIndentGuide(i.lineNumber,o.lineNumber,s.lineNumber),u=this.convertModelPositionToViewPosition(a.startLineNumber,1),l=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:u.lineNumber,endLineNumber:l.lineNumber,indent:a.indent}},n.prototype.getViewLinesIndentGuides=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],s=[],a=[],u=r.lineNumber-1,l=i.lineNumber-1,c=null,h=u;h<=l;h++){var d=this.lines[h];if(d.isVisible()){var p=d.getViewLineNumberOfModelPosition(0,h===u?r.column:1),v=d.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(h+1)),m=v-p+1,_=0;m>1&&d.getViewLineMinColumn(this.model,h+1,v)===1&&(_=p===0?1:2),s.push(m),a.push(_),c===null&&(c=new ee(h+1,0))}else c!==null&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,h)),c=null)}c!==null&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,i.lineNumber)),c=null);for(var b=t-e+1,C=new Array(b),E=0,S=0,A=o.length;S<A;S++){var T=o[S],m=Math.min(b-E,s[S]),_=a[S],N=void 0;_===2?N=0:_===1?N=1:N=m;for(var k=0;k<m;k++)k===N&&(T=0),C[E++]=T}return C},n.prototype.getViewLineContent=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineContent(this.model,r+1,i)},n.prototype.getViewLineLength=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineLength(this.model,r+1,i)},n.prototype.getViewLineMinColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineMinColumn(this.model,r+1,i)},n.prototype.getViewLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineMaxColumn(this.model,r+1,i)},n.prototype.getViewLineData=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),r=t.index,i=t.remainder;return this.lines[r].getViewLineData(this.model,r+1,i)},n.prototype.getViewLinesData=function(e,t,r){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.prefixSumComputer.getIndexOf(e-1),o=e,s=i.index,a=i.remainder,u=[],l=s,c=this.model.getLineCount();l<c;l++){var h=this.lines[l];if(h.isVisible()){var d=l===s?a:0,p=h.getViewLineCount()-d,v=!1;o+p>t&&(v=!0,p=t-o+1);var m=d+p;if(h.getViewLinesData(this.model,l+1,d,m,o-e,r,u),o+=p,v)break}}return u},n.prototype.validateViewPosition=function(e,t,r){this._ensureValidState(),e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),o=i.index,s=i.remainder,a=this.lines[o],u=a.getViewLineMinColumn(this.model,o+1,s),l=a.getViewLineMaxColumn(this.model,o+1,s);t<u&&(t=u),t>l&&(t=l);var c=a.getModelColumnOfViewPosition(s,t),h=this.model.validatePosition(new ee(o+1,c));return h.equals(r)?new ee(e,t):this.convertModelPositionToViewPosition(r.lineNumber,r.column)},n.prototype.convertViewPositionToModelPosition=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e);var r=this.prefixSumComputer.getIndexOf(e-1),i=r.index,o=r.remainder,s=this.lines[i].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new ee(i+1,s))},n.prototype.convertModelPositionToViewPosition=function(e,t){this._ensureValidState();for(var r=this.model.validatePosition(new ee(e,t)),i=r.lineNumber,o=r.column,s=i-1,a=!1;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(s===0&&!this.lines[s].isVisible())return new ee(1,1);var u=1+(s===0?0:this.prefixSumComputer.getAccumulatedValue(s-1)),l;return a?l=this.lines[s].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(s+1)):l=this.lines[i-1].getViewPositionOfModelPosition(u,o),l},n.prototype._getViewLineNumberForModelPosition=function(e,t){var r=e-1;if(this.lines[r].isVisible()){var i=1+(r===0?0:this.prefixSumComputer.getAccumulatedValue(r-1));return this.lines[r].getViewLineNumberOfModelPosition(i,t)}for(;r>0&&!this.lines[r].isVisible();)r--;if(r===0&&!this.lines[r].isVisible())return 1;var o=1+(r===0?0:this.prefixSumComputer.getAccumulatedValue(r-1));return this.lines[r].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(r+1))},n.prototype.getAllOverviewRulerDecorations=function(e,t,r){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new gne,s=0,a=i;s<a.length;s++){var u=a[s],l=u.options.overviewRuler,c=l?l.position:0;if(c!==0){var h=l.getColor(r),d=this._getViewLineNumberForModelPosition(u.range.startLineNumber,u.range.startColumn),p=this._getViewLineNumberForModelPosition(u.range.endLineNumber,u.range.endColumn);o.accept(h,d,p,c)}}return o.result},n.prototype.getDecorationsInRange=function(e,t,r){var i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new H(i.lineNumber,1,o.lineNumber,o.column),t,r);for(var s=[],a=i.lineNumber-1,u=o.lineNumber-1,l=null,c=a;c<=u;c++){var h=this.lines[c];if(h.isVisible())l===null&&(l=new ee(c+1,c===a?i.column:1));else if(l!==null){var d=this.model.getLineMaxColumn(c);s=s.concat(this.model.getDecorationsInRange(new H(l.lineNumber,l.column,c,d),t,r)),l=null}}l!==null&&(s=s.concat(this.model.getDecorationsInRange(new H(l.lineNumber,l.column,o.lineNumber,o.column),t,r)),l=null),s.sort(function(S,A){var T=H.compareRangesUsingStarts(S.range,A.range);return T===0?S.id<A.id?-1:S.id>A.id?1:0:T});for(var p=[],v=0,m=null,_=0,b=s;_<b.length;_++){var C=b[_],E=C.id;m!==E&&(m=E,p[v++]=C)}return p},n}(),dne=function(){function n(){}return n.prototype.isVisible=function(){return!0},n.prototype.setVisible=function(e){return e?this:pne.INSTANCE},n.prototype.getViewLineCount=function(){return 1},n.prototype.getViewLineContent=function(e,t,r){return e.getLineContent(t)},n.prototype.getViewLineLength=function(e,t,r){return e.getLineLength(t)},n.prototype.getViewLineMinColumn=function(e,t,r){return e.getLineMinColumn(t)},n.prototype.getViewLineMaxColumn=function(e,t,r){return e.getLineMaxColumn(t)},n.prototype.getViewLineData=function(e,t,r){var i=e.getLineTokens(t),o=i.getLineContent();return new U6(o,!1,1,o.length+1,i.inflate())},n.prototype.getViewLinesData=function(e,t,r,i,o,s,a){if(!s[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)},n.prototype.getModelColumnOfViewPosition=function(e,t){return t},n.prototype.getViewPositionOfModelPosition=function(e,t){return new ee(e,t)},n.prototype.getViewLineNumberOfModelPosition=function(e,t){return e},n.INSTANCE=new n,n}(),pne=function(){function n(){}return n.prototype.isVisible=function(){return!1},n.prototype.setVisible=function(e){return e?dne.INSTANCE:this},n.prototype.getViewLineCount=function(){return 0},n.prototype.getViewLineContent=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineLength=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineMinColumn=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineMaxColumn=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLineData=function(e,t,r){throw new Error("Not supported")},n.prototype.getViewLinesData=function(e,t,r,i,o,s,a){throw new Error("Not supported")},n.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")},n.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")},n.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error("Not supported")},n.INSTANCE=new n,n}(),oPe=function(){function n(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return n.prototype.isVisible=function(){return this._isVisible},n.prototype.setVisible=function(e){return this._isVisible=e,this},n.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},n.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},n.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,r){return r+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(r+1,0)},n.prototype.getViewLineContent=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(r),o=this.getInputEndOffsetOfOutputLineIndex(e,t,r),s=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});return r>0&&(s=this.wrappedIndent+s),s},n.prototype.getViewLineLength=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(r),o=this.getInputEndOffsetOfOutputLineIndex(e,t,r),s=o-i;return r>0&&(s=this.wrappedIndent.length+s),s},n.prototype.getViewLineMinColumn=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");return r>0?this.wrappedIndentLength+1:1},n.prototype.getViewLineMaxColumn=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,r).length+1},n.prototype.getViewLineData=function(e,t,r){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(r),o=this.getInputEndOffsetOfOutputLineIndex(e,t,r),s=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});r>0&&(s=this.wrappedIndent+s);var a=r>0?this.wrappedIndentLength+1:1,u=s.length+1,l=r+1<this.getViewLineCount(),c=0;r>0&&(c=this.wrappedIndentLength);var h=e.getLineTokens(t);return new U6(s,l,a,u,h.sliceAndInflate(i,o,c))},n.prototype.getViewLinesData=function(e,t,r,i,o,s,a){if(!this._isVisible)throw new Error("Not supported");for(var u=r;u<i;u++){var l=o+u-r;if(!s[l]){a[l]=null;continue}a[l]=this.getViewLineData(e,t,u)}},n.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var r=t-1;return e>0&&(r<this.wrappedIndentLength?r=0:r-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,r)+1},n.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var r=this.positionMapper.getOutputPositionOfInputOffset(t-1),i=r.outputLineIndex,o=r.outputOffset+1;return i>0&&(o+=this.wrappedIndentLength),new ee(e+i,o)},n.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var r=this.positionMapper.getOutputPositionOfInputOffset(t-1);return e+r.outputLineIndex},n}();function dk(n,e,t,r,i,o,s){var a=n.createLineMapping(e,t,r,i,o);return a===null?s?dne.INSTANCE:pne.INSTANCE:new oPe(a,s)}var sPe=function(){function n(e){this._lines=e}return n.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)},n.prototype._validRange=function(e){return this._lines.model.validateRange(e)},n.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)},n.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)},n.prototype.validateViewPosition=function(e,t){return this._validPosition(t)},n.prototype.validateViewRange=function(e,t){return this._validRange(t)},n.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)},n.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)},n.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)},n}(),aPe=function(){function n(e){this.model=e}return n.prototype.dispose=function(){},n.prototype.createCoordinatesConverter=function(){return new sPe(this)},n.prototype.getHiddenAreas=function(){return[]},n.prototype.setHiddenAreas=function(e){return!1},n.prototype.setTabSize=function(e){return!1},n.prototype.setWrappingSettings=function(e,t,r){return!1},n.prototype.onModelFlushed=function(){},n.prototype.onModelLinesDeleted=function(e,t,r){return new YM(t,r)},n.prototype.onModelLinesInserted=function(e,t,r,i){return new XM(t,r)},n.prototype.onModelLineChanged=function(e,t,r){return[!1,new Jte(t,t),null,null]},n.prototype.acceptVersionId=function(e){},n.prototype.getViewLineCount=function(){return this.model.getLineCount()},n.prototype.warmUpLookupCache=function(e,t){},n.prototype.getActiveIndentGuide=function(e,t,r){return{startLineNumber:e,endLineNumber:e,indent:0}},n.prototype.getViewLinesIndentGuides=function(e,t){for(var r=t-e+1,i=new Array(r),o=0;o<r;o++)i[o]=0;return i},n.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)},n.prototype.getViewLineLength=function(e){return this.model.getLineLength(e)},n.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)},n.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},n.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e),r=t.getLineContent();return new U6(r,!1,1,r.length+1,t.inflate())},n.prototype.getViewLinesData=function(e,t,r){var i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);for(var o=[],s=e;s<=t;s++){var a=s-e;r[a]||(o[a]=null),o[a]=this.getViewLineData(s)}return o},n.prototype.getAllOverviewRulerDecorations=function(e,t,r){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new gne,s=0,a=i;s<a.length;s++){var u=a[s],l=u.options.overviewRuler,c=l?l.position:0;if(c!==0){var h=l.getColor(r),d=u.range.startLineNumber,p=u.range.endLineNumber;o.accept(h,d,p,c)}}return o.result},n.prototype.getDecorationsInRange=function(e,t,r){return this.model.getDecorationsInRange(e,t,r)},n}(),gne=function(){function n(){this.result=Object.create(null)}return n.prototype.accept=function(e,t,r,i){var o=this.result[e];if(o){var s=o[o.length-3],a=o[o.length-1];if(s===i&&a+1>=t){r>a&&(o[o.length-1]=r);return}o.push(i,t,r)}else this.result[e]=[i,t,r]},n}(),uPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lPe=function(n){uPe(e,n);function e(t,r,i){for(var o=n.call(this,0)||this,s=0;s<t.length;s++)o.set(t.charCodeAt(s),1);for(var s=0;s<r.length;s++)o.set(r.charCodeAt(s),2);for(var s=0;s<i.length;s++)o.set(i.charCodeAt(s),3);return o}return e.prototype.get=function(t){return t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?4:n.prototype.get.call(this,t)},e}(p2),cPe=function(){function n(e,t,r){this.classifier=new lPe(e,t,r)}return n.nextVisibleColumn=function(e,t,r,i){return e=+e,t=+t,i=+i,r?e+(t-e%t):e+i},n.prototype.createLineMapping=function(e,t,r,i,o){if(r===-1)return null;t=+t,r=+r,i=+i,o=+o;var s=0,a="",u=-1;if(o!==0&&(u=Ns(e),u!==-1)){a=e.substring(0,u);for(var l=0;l<u;l++)s=n.nextVisibleColumn(s,t,e.charCodeAt(l)===9,1);var c=0;o===2?c=1:o===3&&(c=2);for(var l=0;l<c;l++)a+="	",s=n.nextVisibleColumn(s,t,!0,1);s+i>r&&(a="",s=0)}for(var h=this.classifier,d=0,p=[],v=0,m=0,_=-1,b=0,C=-1,E=0,S=e.length,l=0;l<S;l++){var A=e.charCodeAt(l),T=A===9,N=h.get(A);if(w6(A)){m=m+1;continue}if(N===1&&(_=l,b=s),N===4&&l>0){var k=e.charCodeAt(l-1),F=h.get(k);F!==1&&(_=l,b=s)}var L=1;if(Hc(A)&&(L=i),m=n.nextVisibleColumn(m,t,T,L),m>r&&l!==0){var O=void 0,P=void 0;_!==-1&&b<=r?(O=_,P=b):C!==-1&&E<=r?(O=C,P=E):(O=l,P=s),p[v++]=O-d,d=O,m=n.nextVisibleColumn(P,t,T,L),_=-1,b=0,C=-1,E=0}if(_!==-1&&(b=n.nextVisibleColumn(b,t,T,L)),C!==-1&&(E=n.nextVisibleColumn(E,t,T,L)),N===2&&(o===0||l>=u)&&(_=l+1,b=s),N===4&&l<S-1){var B=e.charCodeAt(l+1),U=h.get(B);U!==2&&(_=l+1,b=s)}N===3&&(C=l+1,E=s)}return v===0?null:(p[v++]=S-d,new fPe(new B6(X2e(p)),a))},n}(),fPe=function(){function n(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return n.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},n.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},n.prototype.getInputOffsetOfOutputPosition=function(e,t){return e===0?t:this._prefixSums.getAccumulatedValue(e-1)+t},n.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new nPe(t.index,t.remainder)},n}(),hPe=function(){function n(e,t,r,i,o){this.editorId=e,this.model=t,this.configuration=r,this._linesCollection=i,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return n.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},n.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},n.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id,r=this._decorationsCache[t];if(!r){var i=e.range,o=e.options,s=void 0;if(o.isWholeLine){var a=this._coordinatesConverter.convertModelPositionToViewPosition(new ee(i.startLineNumber,1)),u=this._coordinatesConverter.convertModelPositionToViewPosition(new ee(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)));s=new H(a.lineNumber,a.column,u.lineNumber,u.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(i);r=new kIe(s,o),this._decorationsCache[t]=r}return r},n.prototype.getDecorationsViewportData=function(e){var t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},n.prototype._getDecorationsViewportData=function(e){for(var t=this._linesCollection.getDecorationsInRange(e,this.editorId,this.configuration.editor.readOnly),r=e.startLineNumber,i=e.endLineNumber,o=[],s=0,a=[],u=r;u<=i;u++)a[u-r]=[];for(var l=0,c=t.length;l<c;l++){var h=t[l],d=h.options,p=this._getOrCreateViewModelDecoration(h),v=p.range;if(o[s++]=p,d.inlineClassName)for(var m=new RS(v,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(r,v.startLineNumber),b=Math.min(i,v.endLineNumber),u=_;u<=b;u++)a[u-r].push(m);if(d.beforeContentClassName&&r<=v.startLineNumber&&v.startLineNumber<=i){var m=new RS(new H(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn),d.beforeContentClassName,1);a[v.startLineNumber-r].push(m)}if(d.afterContentClassName&&r<=v.endLineNumber&&v.endLineNumber<=i){var m=new RS(new H(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn),d.afterContentClassName,2);a[v.endLineNumber-r].push(m)}}return{decorations:o,inlineDecorations:a}},n}(),dPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pPe=function(n){dPe(e,n);function e(t,r,i,o){var s=n.call(this)||this;if(s.editorId=t,s.configuration=r,s.model=i,s._tokenizeViewportSoon=s._register(new Hr(function(){return s.tokenizeViewport()},50)),s.hasFocus=!1,s.viewportStartLine=-1,s.viewportStartLineTrackedRange=null,s.viewportStartLineDelta=0,s.model.isTooLargeForTokenization())s.lines=new aPe(s.model);else{var a=s.configuration.editor,u=new cPe(a.wrappingInfo.wordWrapBreakBeforeCharacters,a.wrappingInfo.wordWrapBreakAfterCharacters,a.wrappingInfo.wordWrapBreakObtrusiveCharacters);s.lines=new iPe(s.model,u,s.model.getOptions().tabSize,a.wrappingInfo.wrappingColumn,a.fontInfo.typicalFullwidthCharacterWidth/a.fontInfo.typicalHalfwidthCharacterWidth,a.wrappingInfo.wrappingIndent)}return s.coordinatesConverter=s.lines.createCoordinatesConverter(),s.viewLayout=s._register(new tPe(s.configuration,s.getLineCount(),o)),s._register(s.viewLayout.onDidScroll(function(l){l.scrollTopChanged&&s._tokenizeViewportSoon.schedule();try{var c=s._beginEmit();c.emit(new KOe(l))}finally{s._endEmit()}})),s.decorations=new hPe(s.editorId,s.model,s.configuration,s.lines,s.coordinatesConverter),s._registerModelEvents(),s._register(s.configuration.onDidChange(function(l){try{var c=s._beginEmit();s._onConfigurationChanged(c,l)}finally{s._endEmit()}})),s._register(cne.getInstance().onDidChange(function(){try{var l=s._beginEmit();l.emit(new QOe)}finally{s._endEmit()}})),s}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},e.prototype.tokenizeViewport=function(){var t=this.viewLayout.getLinesViewportData(),r=this.coordinatesConverter.convertViewPositionToModelPosition(new ee(t.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new ee(t.endLineNumber,1));this.model.tokenizeViewport(r.lineNumber,i.lineNumber)},e.prototype.setHasFocus=function(t){this.hasFocus=t},e.prototype._onConfigurationChanged=function(t,r){var i=null;if(this.viewportStartLine!==-1){var o=new ee(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(o)}var s=!1,a=this.configuration.editor;if(this.lines.setWrappingSettings(a.wrappingInfo.wrappingIndent,a.wrappingInfo.wrappingColumn,a.fontInfo.typicalFullwidthCharacterWidth/a.fontInfo.typicalHalfwidthCharacterWidth)&&(t.emit(new ME),t.emit(new FE),t.emit(new gv),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(s=!0)),r.readOnly&&(this.decorations.reset(),t.emit(new gv)),t.emit(new GOe(r)),this.viewLayout.onConfigurationChanged(r),s&&i){var u=this.coordinatesConverter.convertModelPositionToViewPosition(i),l=this.viewLayout.getVerticalOffsetForLineNumber(u.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:l+this.viewportStartLineDelta})}},e.prototype._registerModelEvents=function(){var t=this;this._register(this.model.onDidChangeRawContentFast(function(r){try{for(var i=t._beginEmit(),o=!1,s=!1,a=r.changes,u=r.versionId,l=0,c=a.length;l<c;l++){var h=a[l];switch(h.changeType){case 1:{t.lines.onModelFlushed(),i.emit(new ME),t.decorations.reset(),t.viewLayout.onFlushed(t.getLineCount()),o=!0;break}case 3:{var d=t.lines.onModelLinesDeleted(u,h.fromLineNumber,h.toLineNumber);d!==null&&(i.emit(d),t.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber)),o=!0;break}case 4:{var p=t.lines.onModelLinesInserted(u,h.fromLineNumber,h.toLineNumber,h.detail);p!==null&&(i.emit(p),t.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),o=!0;break}case 2:{var v=t.lines.onModelLineChanged(u,h.lineNumber,h.detail),m=v[0],_=v[1],p=v[2],d=v[3];s=m,_&&i.emit(_),p&&(i.emit(p),t.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),d&&(i.emit(d),t.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber));break}case 5:break}}t.lines.acceptVersionId(u),t.viewLayout.onHeightMaybeChanged(),!o&&s&&(i.emit(new FE),i.emit(new gv),t.decorations.onLineMappingChanged())}finally{t._endEmit()}if(t.viewportStartLine=-1,t.configuration.setMaxLineNumber(t.model.getLineCount()),!t.hasFocus&&t.model.getAttachedEditorCount()>=2&&t.viewportStartLineTrackedRange){var b=t.model._getTrackedRange(t.viewportStartLineTrackedRange);if(b){var C=t.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),E=t.viewLayout.getVerticalOffsetForLineNumber(C.lineNumber);t.viewLayout.setScrollPositionNow({scrollTop:E+t.viewportStartLineDelta})}}})),this._register(this.model.onDidChangeTokens(function(r){for(var i=[],o=0,s=r.ranges.length;o<s;o++){var a=r.ranges[o],u=t.coordinatesConverter.convertModelPositionToViewPosition(new ee(a.fromLineNumber,1)).lineNumber,l=t.coordinatesConverter.convertModelPositionToViewPosition(new ee(a.toLineNumber,t.model.getLineMaxColumn(a.toLineNumber))).lineNumber;i[o]={fromLineNumber:u,toLineNumber:l}}try{var c=t._beginEmit();c.emit(new YOe(i))}finally{t._endEmit()}r.tokenizationSupportChanged&&t._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(function(r){try{var i=t._beginEmit();i.emit(new JOe)}finally{t._endEmit()}})),this._register(this.model.onDidChangeOptions(function(r){if(t.lines.setTabSize(t.model.getOptions().tabSize)){t.decorations.onLineMappingChanged(),t.viewLayout.onFlushed(t.getLineCount());try{var i=t._beginEmit();i.emit(new ME),i.emit(new FE),i.emit(new gv)}finally{t._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(r){t.decorations.onModelDecorationsChanged();try{var i=t._beginEmit();i.emit(new gv)}finally{t._endEmit()}}))},e.prototype.setHiddenAreas=function(t){try{var r=this._beginEmit(),i=this.lines.setHiddenAreas(t);i&&(r.emit(new ME),r.emit(new FE),r.emit(new gv),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},e.prototype.getVisibleRanges=function(){var t=this.getCompletelyVisibleViewRange(),r=this.coordinatesConverter.convertViewRangeToModelRange(t),i=this.lines.getHiddenAreas();if(i.length===0)return[r];for(var o=[],s=0,a=r.startLineNumber,u=r.startColumn,l=r.endLineNumber,c=r.endColumn,h=0,d=i.length;h<d;h++){var p=i[h].startLineNumber,v=i[h].endLineNumber;v<a||p>l||(a<p&&(o[s++]=new H(a,u,p-1,this.model.getLineMaxColumn(p-1))),a=v+1,u=1)}return(a<l||a===l&&u<c)&&(o[s++]=new H(a,u,l,c)),o},e.prototype.getCompletelyVisibleViewRange=function(){var t=this.viewLayout.getLinesViewportData(),r=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new H(r,this.getLineMinColumn(r),i,this.getLineMaxColumn(i))},e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){var r=this.viewLayout.getLinesViewportDataAtScrollTop(t),i=r.completelyVisibleStartLineNumber,o=r.completelyVisibleEndLineNumber;return new H(i,this.getLineMinColumn(i),o,this.getLineMaxColumn(o))},e.prototype.saveState=function(){var t=this.viewLayout.saveState(),r=t.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(r),o=this.coordinatesConverter.convertViewPositionToModelPosition(new ee(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-r;return{scrollLeft:t.scrollLeft,firstPosition:o,firstPositionDeltaTop:s}},e.prototype.reduceRestoreState=function(t){if(typeof t.firstPosition>"u")return this._reduceRestoreStateCompatibility(t);var r=this.model.validatePosition(t.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(r),o=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:o}},e.prototype._reduceRestoreStateCompatibility=function(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}},e.prototype.getTabSize=function(){return this.model.getOptions().tabSize},e.prototype.getOptions=function(){return this.model.getOptions()},e.prototype.getLineCount=function(){return this.lines.getViewLineCount()},e.prototype.setViewport=function(t,r,i){this.lines.warmUpLookupCache(t,r),this.viewportStartLine=t;var o=this.coordinatesConverter.convertViewPositionToModelPosition(new ee(t,this.getLineMinColumn(t)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new H(o.lineNumber,o.column,o.lineNumber,o.column),1);var s=this.viewLayout.getVerticalOffsetForLineNumber(t),a=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=a-s},e.prototype.getActiveIndentGuide=function(t,r,i){return this.lines.getActiveIndentGuide(t,r,i)},e.prototype.getLinesIndentGuides=function(t,r){return this.lines.getViewLinesIndentGuides(t,r)},e.prototype.getLineContent=function(t){return this.lines.getViewLineContent(t)},e.prototype.getLineLength=function(t){return this.lines.getViewLineLength(t)},e.prototype.getLineMinColumn=function(t){return this.lines.getViewLineMinColumn(t)},e.prototype.getLineMaxColumn=function(t){return this.lines.getViewLineMaxColumn(t)},e.prototype.getLineFirstNonWhitespaceColumn=function(t){var r=Ns(this.getLineContent(t));return r===-1?0:r+1},e.prototype.getLineLastNonWhitespaceColumn=function(t){var r=Bh(this.getLineContent(t));return r===-1?0:r+2},e.prototype.getDecorationsInViewport=function(t){return this.decorations.getDecorationsViewportData(t).decorations},e.prototype.getViewLineRenderingData=function(t,r){var i=this.model.mightContainRTL(),o=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),a=this.lines.getViewLineData(r),u=this.decorations.getDecorationsViewportData(t).inlineDecorations,l=u[r-t.startLineNumber];return new Lu(a.minColumn,a.maxColumn,a.content,a.continuesWithWrappedLine,i,o,a.tokens,l,s)},e.prototype.getViewLineData=function(t){return this.lines.getViewLineData(t)},e.prototype.getMinimapLinesRenderingData=function(t,r,i){var o=this.lines.getViewLinesData(t,r,i);return new OIe(this.getTabSize(),o)},e.prototype.getAllOverviewRulerDecorations=function(t){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.editor.readOnly,t)},e.prototype.invalidateOverviewRulerColorCache=function(){for(var t=this.model.getOverviewRulerDecorations(),r=0,i=t;r<i.length;r++){var o=i[r],s=o.options.overviewRuler;s&&s.invalidateCachedColor()}},e.prototype.invalidateMinimapColorCache=function(){for(var t=this.model.getAllDecorations(),r=0,i=t;r<i.length;r++){var o=i[r],s=o.options.minimap;s&&s.invalidateCachedColor()}},e.prototype.getValueInRange=function(t,r){var i=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(i,r)},e.prototype.getModelLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)},e.prototype.validateModelPosition=function(t){return this.model.validatePosition(t)},e.prototype.validateModelRange=function(t){return this.model.validateRange(t)},e.prototype.deduceModelPositionRelativeToViewPosition=function(t,r,i){var o=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(r<0?r-=i:r+=i);var s=this.model.getOffsetAt(o),a=s+r;return this.model.getPositionAt(a)},e.prototype.getEOL=function(){return this.model.getEOL()},e.prototype.getPlainTextToCopy=function(t,r,i){var o=this,s=i?`\r
`:this.model.getEOL();t=t.slice(0),t.sort(H.compareRangesUsingStarts);var a=t.filter(function(m){return!m.isEmpty()});if(a.length===0){if(!r)return"";for(var u=t.map(function(m){var _=new ee(m.startLineNumber,1);return o.coordinatesConverter.convertViewPositionToModelPosition(_).lineNumber}),l="",c=0;c<u.length;c++)c>0&&u[c-1]===u[c]||(l+=this.model.getLineContent(u[c])+s);return l}for(var h=[],d=0,p=a;d<p.length;d++){var v=p[d];h.push(this.getValueInRange(v,i?2:0))}return h.length===1?h[0]:h},e.prototype.getHTMLToCopy=function(t,r){if(this.model.getLanguageIdentifier().id===1||t.length!==1)return null;var i=this.coordinatesConverter.convertViewRangeToModelRange(t[0]);if(i.isEmpty()){if(!r)return null;var o=i.startLineNumber;i=new H(o,this.model.getLineMinColumn(o),o,this.model.getLineMaxColumn(o))}var s=this.configuration.editor.fontInfo,a=this._getColorMap(),u=s.fontFamily===sp.fontFamily?s.fontFamily:"'"+s.fontFamily+"', "+sp.fontFamily;return'<div style="'+("color: "+a[1]+";")+("background-color: "+a[2]+";")+("font-family: "+u+";")+("font-weight: "+s.fontWeight+";")+("font-size: "+s.fontSize+"px;")+("line-height: "+s.lineHeight+"px;")+'white-space: pre;">'+this._getHTMLToCopy(i,a)+"</div>"},e.prototype._getHTMLToCopy=function(t,r){for(var i=t.startLineNumber,o=t.startColumn,s=t.endLineNumber,a=t.endColumn,u=this.getTabSize(),l="",c=i;c<=s;c++){var h=this.model.getLineTokens(c),d=h.getLineContent(),p=c===i?o-1:0,v=c===s?a-1:d.length;d===""?l+="<br>":l+=YRe(d,h.inflate(),r,p,v,u)}return l},e.prototype._getColorMap=function(){var t=Vn.getColorMap(),r=["#000000"];if(t)for(var i=1,o=t.length;i<o;i++)r[i]=ae.Format.CSS.formatHex(t[i]);return r},e}(ene),zm=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var r=0,i=e;r<i.length;r++){var o=i[r],s=o[0],a=o[1];this.set(s,a)}}return n.prototype.set=function(e,t){var r=this._entries.get(e);return this._entries.set(e,t),r},n.prototype.has=function(e){return this._entries.has(e)},n.prototype.get=function(e){return this._entries.get(e)},n}(),ql=qt("accessibilityService"),CC=new Ke("accessibilityModeEnabled",!1),wC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gPe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ad=function(n,e){return function(t,r){e(t,r,n)}},vPe=0,nD="showUnused",mPe=function(){function n(e,t,r,i,o,s){this.model=e,this.viewModel=t,this.cursor=r,this.view=i,this.hasRealView=o,this.listenersToRemove=s}return n.prototype.dispose=function(){nt(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},n}(),b5=function(n){wC(e,n);function e(t,r,i,o,s,a,u,l,c,h){var d=n.call(this)||this;d._onDidDispose=d._register(new Q),d.onDidDispose=d._onDidDispose.event,d._onDidChangeModelContent=d._register(new Q),d.onDidChangeModelContent=d._onDidChangeModelContent.event,d._onDidChangeModelLanguage=d._register(new Q),d.onDidChangeModelLanguage=d._onDidChangeModelLanguage.event,d._onDidChangeModelLanguageConfiguration=d._register(new Q),d.onDidChangeModelLanguageConfiguration=d._onDidChangeModelLanguageConfiguration.event,d._onDidChangeModelOptions=d._register(new Q),d.onDidChangeModelOptions=d._onDidChangeModelOptions.event,d._onDidChangeModelDecorations=d._register(new Q),d.onDidChangeModelDecorations=d._onDidChangeModelDecorations.event,d._onDidChangeConfiguration=d._register(new Q),d.onDidChangeConfiguration=d._onDidChangeConfiguration.event,d._onDidChangeModel=d._register(new Q),d.onDidChangeModel=d._onDidChangeModel.event,d._onDidChangeCursorPosition=d._register(new Q),d.onDidChangeCursorPosition=d._onDidChangeCursorPosition.event,d._onDidChangeCursorSelection=d._register(new Q),d.onDidChangeCursorSelection=d._onDidChangeCursorSelection.event,d._onDidAttemptReadOnlyEdit=d._register(new Q),d.onDidAttemptReadOnlyEdit=d._onDidAttemptReadOnlyEdit.event,d._onDidLayoutChange=d._register(new Q),d.onDidLayoutChange=d._onDidLayoutChange.event,d._editorTextFocus=d._register(new Ez),d.onDidFocusEditorText=d._editorTextFocus.onDidChangeToTrue,d.onDidBlurEditorText=d._editorTextFocus.onDidChangeToFalse,d._editorWidgetFocus=d._register(new Ez),d.onDidFocusEditorWidget=d._editorWidgetFocus.onDidChangeToTrue,d.onDidBlurEditorWidget=d._editorWidgetFocus.onDidChangeToFalse,d._onWillType=d._register(new Q),d.onWillType=d._onWillType.event,d._onDidType=d._register(new Q),d.onDidType=d._onDidType.event,d._onCompositionStart=d._register(new Q),d.onCompositionStart=d._onCompositionStart.event,d._onCompositionEnd=d._register(new Q),d.onCompositionEnd=d._onCompositionEnd.event,d._onDidPaste=d._register(new Q),d.onDidPaste=d._onDidPaste.event,d._onMouseUp=d._register(new Q),d.onMouseUp=d._onMouseUp.event,d._onMouseDown=d._register(new Q),d.onMouseDown=d._onMouseDown.event,d._onMouseDrag=d._register(new Q),d.onMouseDrag=d._onMouseDrag.event,d._onMouseDrop=d._register(new Q),d.onMouseDrop=d._onMouseDrop.event,d._onContextMenu=d._register(new Q),d.onContextMenu=d._onContextMenu.event,d._onMouseMove=d._register(new Q),d.onMouseMove=d._onMouseMove.event,d._onMouseLeave=d._register(new Q),d.onMouseLeave=d._onMouseLeave.event,d._onMouseWheel=d._register(new Q),d.onMouseWheel=d._onMouseWheel.event,d._onKeyUp=d._register(new Q),d.onKeyUp=d._onKeyUp.event,d._onKeyDown=d._register(new Q),d.onKeyDown=d._onKeyDown.event,d._onDidScrollChange=d._register(new Q),d.onDidScrollChange=d._onDidScrollChange.event,d._onDidChangeViewZones=d._register(new Q),d.onDidChangeViewZones=d._onDidChangeViewZones.event,d._domElement=t,d._id=++vPe,d._decorationTypeKeysToIds={},d._decorationTypeSubtypes={},d.isSimpleWidget=i.isSimpleWidget||!1,d._telemetryData=i.telemetryData,r=r||{},d._configuration=d._register(d._createConfiguration(r,h)),d._register(d._configuration.onDidChange(function(C){d._onDidChangeConfiguration.fire(C),C.layoutInfo&&d._onDidLayoutChange.fire(d._configuration.editor.layoutInfo),d._configuration.editor.showUnused?d._domElement.classList.add(nD):d._domElement.classList.remove(nD)})),d._contextKeyService=d._register(u.createScoped(d._domElement)),d._notificationService=c,d._codeEditorService=s,d._commandService=a,d._themeService=l,d._register(new _Pe(d,d._contextKeyService)),d._register(new yPe(d,d._contextKeyService)),d._instantiationService=o.createChild(new zm([yt,d._contextKeyService])),d._modelData=null,d._contributions={},d._actions={},d._focusTracker=new bPe(t),d._focusTracker.onChange(function(){d._editorWidgetFocus.setValue(d._focusTracker.hasFocus())}),d._contentWidgets={},d._overlayWidgets={};var p;Array.isArray(i.contributions)?p=i.contributions:p=nb.getEditorContributions();for(var v=0,m=p.length;v<m;v++){var _=p[v];try{var b=d._instantiationService.createInstance(_,d);d._contributions[b.getId()]=b}catch(C){He(C)}}return nb.getEditorActions().forEach(function(C){var E=new hne(C.id,C.label,C.alias,n2(C.precondition),function(){return d._instantiationService.invokeFunction(function(S){return Promise.resolve(C.runEditorCommand(S,d,null))})},d._contextKeyService);d._actions[E.id]=E}),d._codeEditorService.addCodeEditor(d),d}return e.prototype._createConfiguration=function(t,r){return new ya(this.isSimpleWidget,t,this._domElement,r)},e.prototype.getId=function(){return this.getEditorType()+":"+this._id},e.prototype.getEditorType=function(){return l2.ICodeEditor},e.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),r=0,i=t.length;r<i;r++){var o=t[r];this._contributions[o].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),n.prototype.dispose.call(this)},e.prototype.invokeWithinContext=function(t){return this._instantiationService.invokeFunction(t)},e.prototype.updateOptions=function(t){this._configuration.updateOptions(t)},e.prototype.getConfiguration=function(){return this._configuration.editor},e.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},e.prototype.getValue=function(t){if(t===void 0&&(t=null),!this._modelData)return"";var r=!!(t&&t.preserveBOM),i=0;return t&&t.lineEnding&&t.lineEnding===`
`?i=1:t&&t.lineEnding&&t.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,r)},e.prototype.setValue=function(t){this._modelData&&this._modelData.model.setValue(t)},e.prototype.getModel=function(){return this._modelData?this._modelData.model:null},e.prototype.setModel=function(t){t===void 0&&(t=null);var r=t;if(!(this._modelData===null&&r===null)&&!(this._modelData&&this._modelData.model===r)){var i=this._detachModel();this._attachModel(r);var o={oldModelUrl:i?i.uri:null,newModelUrl:r?r.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(i)}},e.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var r=this._decorationTypeSubtypes[t];for(var i in r)this._removeDecorationType(t+"-"+i)}this._decorationTypeSubtypes={}}},e.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},e.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},e._getVerticalOffsetForPosition=function(t,r,i){var o=t.model.validatePosition({lineNumber:r,column:i}),s=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)},e.prototype.getTopForLineNumber=function(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1},e.prototype.getTopForPosition=function(t,r){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,r):-1},e.prototype.setHiddenAreas=function(t){this._modelData&&this._modelData.viewModel.setHiddenAreas(t.map(function(r){return H.lift(r)}))},e.prototype.getVisibleColumnFromPosition=function(t){if(!this._modelData)return t.column;var r=this._modelData.model.validatePosition(t),i=this._modelData.model.getOptions().tabSize;return hn.visibleColumnFromColumn(this._modelData.model.getLineContent(r.lineNumber),r.column,i)+1},e.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},e.prototype.setPosition=function(t){if(this._modelData){if(!ee.isIPosition(t))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}},e.prototype._sendRevealRange=function(t,r,i,o){if(this._modelData){if(!H.isIRange(t))throw new Error("Invalid arguments");var s=this._modelData.model.validateRange(t),a=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.cursor.emitCursorRevealRange(a,r,i,o)}},e.prototype.revealLine=function(t,r){r===void 0&&(r=0),this._revealLine(t,0,r)},e.prototype.revealLineInCenter=function(t,r){r===void 0&&(r=0),this._revealLine(t,1,r)},e.prototype.revealLineInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this._revealLine(t,2,r)},e.prototype._revealLine=function(t,r,i){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new H(t,1,t,1),r,!1,i)},e.prototype.revealPosition=function(t,r){r===void 0&&(r=0),this._revealPosition(t,0,!0,r)},e.prototype.revealPositionInCenter=function(t,r){r===void 0&&(r=0),this._revealPosition(t,1,!0,r)},e.prototype.revealPositionInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this._revealPosition(t,2,!0,r)},e.prototype._revealPosition=function(t,r,i,o){if(!ee.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new H(t.lineNumber,t.column,t.lineNumber,t.column),r,i,o)},e.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},e.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},e.prototype.setSelection=function(t){var r=Re.isISelection(t),i=H.isIRange(t);if(!r&&!i)throw new Error("Invalid arguments");if(r)this._setSelectionImpl(t);else if(i){var o={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(o)}},e.prototype._setSelectionImpl=function(t){if(this._modelData){var r=new Re(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.cursor.setSelections("api",[r])}},e.prototype.revealLines=function(t,r,i){i===void 0&&(i=0),this._revealLines(t,r,0,i)},e.prototype.revealLinesInCenter=function(t,r,i){i===void 0&&(i=0),this._revealLines(t,r,1,i)},e.prototype.revealLinesInCenterIfOutsideViewport=function(t,r,i){i===void 0&&(i=0),this._revealLines(t,r,2,i)},e.prototype._revealLines=function(t,r,i,o){if(typeof t!="number"||typeof r!="number")throw new Error("Invalid arguments");this._sendRevealRange(new H(t,1,r,1),i,!1,o)},e.prototype.revealRange=function(t,r,i,o){r===void 0&&(r=0),i===void 0&&(i=!1),o===void 0&&(o=!0),this._revealRange(t,i?1:0,o,r)},e.prototype.revealRangeInCenter=function(t,r){r===void 0&&(r=0),this._revealRange(t,1,!0,r)},e.prototype.revealRangeInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this._revealRange(t,2,!0,r)},e.prototype.revealRangeAtTop=function(t,r){r===void 0&&(r=0),this._revealRange(t,3,!0,r)},e.prototype._revealRange=function(t,r,i,o){if(!H.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(H.lift(t),r,i,o)},e.prototype.setSelections=function(t,r){if(r===void 0&&(r="api"),!!this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(var i=0,o=t.length;i<o;i++)if(!Re.isISelection(t[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(r,t)}},e.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},e.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},e.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},e.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},e.prototype.setScrollLeft=function(t){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:t})}},e.prototype.setScrollTop=function(t){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:t})}},e.prototype.setScrollPosition=function(t){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(t)},e.prototype.saveViewState=function(){if(!this._modelData)return null;for(var t={},r=Object.keys(this._contributions),i=0,o=r;i<o.length;i++){var s=o[i],a=this._contributions[s];typeof a.saveViewState=="function"&&(t[s]=a.saveViewState())}var u=this._modelData.cursor.saveState(),l=this._modelData.viewModel.saveState();return{cursorState:u,viewState:l,contributionsState:t}},e.prototype.restoreViewState=function(t){if(!(!this._modelData||!this._modelData.hasRealView)){var r=t;if(r&&r.cursorState&&r.viewState){var i=r.cursorState;Array.isArray(i)?this._modelData.cursor.restoreState(i):this._modelData.cursor.restoreState([i]);for(var o=r.contributionsState||{},s=Object.keys(this._contributions),a=0,u=s.length;a<u;a++){var l=s[a],c=this._contributions[l];typeof c.restoreViewState=="function"&&c.restoreViewState(o[l])}var h=this._modelData.viewModel.reduceRestoreState(r.viewState);this._modelData.view.restoreState(h)}}},e.prototype.getContribution=function(t){return this._contributions[t]||null},e.prototype.getActions=function(){for(var t=[],r=Object.keys(this._actions),i=0,o=r.length;i<o;i++){var s=r[i];t.push(this._actions[s])}return t},e.prototype.getSupportedActions=function(){var t=this.getActions();return t=t.filter(function(r){return r.isSupported()}),t},e.prototype.getAction=function(t){return this._actions[t]||null},e.prototype.trigger=function(t,r,i){if(i=i||{},r===un.Type){if(!this._modelData||typeof i.text!="string"||i.text.length===0)return;t==="keyboard"&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(t,r,i),t==="keyboard"&&this._onDidType.fire(i.text);return}if(r===un.Paste){if(!this._modelData||typeof i.text!="string"||i.text.length===0)return;var o=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(t,r,i);var s=this._modelData.cursor.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire(new H(o.lineNumber,o.column,s.lineNumber,s.column));return}r===un.CompositionStart&&this._onCompositionStart.fire(),r===un.CompositionEnd&&this._onCompositionEnd.fire();var a=this.getAction(r);if(a){Promise.resolve(a.run()).then(void 0,He);return}this._modelData&&(this._triggerEditorCommand(t,r,i)||this._modelData.cursor.trigger(t,r,i))},e.prototype._triggerEditorCommand=function(t,r,i){var o=this,s=nb.getEditorCommand(r);return s?(i=i||{},i.source=t,this._instantiationService.invokeFunction(function(a){Promise.resolve(s.runEditorCommand(a,o,i)).then(void 0,He)}),!0):!1},e.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},e.prototype.pushUndoStop=function(){return!this._modelData||this._configuration.editor.readOnly?!1:(this._modelData.model.pushStackElement(),!0)},e.prototype.executeEdits=function(t,r,i){if(!this._modelData||this._configuration.editor.readOnly)return!1;var o;return i?Array.isArray(i)?o=function(){return i}:o=i:o=function(){return null},this._modelData.cursor.executeEdits(t,r,o),!0},e.prototype.executeCommand=function(t,r){this._modelData&&this._modelData.cursor.trigger(t,un.ExecuteCommand,r)},e.prototype.executeCommands=function(t,r){this._modelData&&this._modelData.cursor.trigger(t,un.ExecuteCommands,r)},e.prototype.changeDecorations=function(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null},e.prototype.getLineDecorations=function(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,this._configuration.editor.readOnly):null},e.prototype.deltaDecorations=function(t,r){return this._modelData?t.length===0&&r.length===0?t:this._modelData.model.deltaDecorations(t,r,this._id):[]},e.prototype.removeDecorations=function(t){var r=this._decorationTypeKeysToIds[t];r&&this.deltaDecorations(r,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]},e.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},e.prototype.createOverviewRuler=function(t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(t)},e.prototype.getDomNode=function(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode},e.prototype.delegateVerticalScrollbarMouseDown=function(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(t)},e.prototype.layout=function(t){this._configuration.observeReferenceElement(t),this.render()},e.prototype.focus=function(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()},e.prototype.hasTextFocus=function(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()},e.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},e.prototype.addContentWidget=function(t){var r={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[t.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(r)},e.prototype.layoutContentWidget=function(t){var r=t.getId();if(this._contentWidgets.hasOwnProperty(r)){var i=this._contentWidgets[r];i.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}},e.prototype.removeContentWidget=function(t){var r=t.getId();if(this._contentWidgets.hasOwnProperty(r)){var i=this._contentWidgets[r];delete this._contentWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}},e.prototype.addOverlayWidget=function(t){var r={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(r)},e.prototype.layoutOverlayWidget=function(t){var r=t.getId();if(this._overlayWidgets.hasOwnProperty(r)){var i=this._overlayWidgets[r];i.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}},e.prototype.removeOverlayWidget=function(t){var r=t.getId();if(this._overlayWidgets.hasOwnProperty(r)){var i=this._overlayWidgets[r];delete this._overlayWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}},e.prototype.changeViewZones=function(t){if(!(!this._modelData||!this._modelData.hasRealView)){var r=this._modelData.view.change(t);r&&this._onDidChangeViewZones.fire()}},e.prototype.getTargetAtClientPoint=function(t,r){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(t,r)},e.prototype.getScrolledVisiblePosition=function(t){if(!this._modelData||!this._modelData.hasRealView)return null;var r=this._modelData.model.validatePosition(t),i=this._configuration.editor.layoutInfo,o=e._getVerticalOffsetForPosition(this._modelData,r.lineNumber,r.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(r.lineNumber,r.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft();return{top:o,left:s,height:this._configuration.editor.lineHeight}},e.prototype.getOffsetForColumn=function(t,r){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(t,r)},e.prototype.render=function(t){t===void 0&&(t=!1),!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.render(!0,t)},e.prototype.applyFontInfo=function(t){ya.applyFontInfoSlow(t,this._configuration.editor.fontInfo)},e.prototype._attachModel=function(t){var r=this;if(!t){this._modelData=null;return}var i=[];this._domElement.setAttribute("data-mode-id",t.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setMaxLineNumber(t.getLineCount()),t.onBeforeAttached();var o=new pPe(this._id,this._configuration,t,function(v){return Sh(v)});i.push(t.onDidChangeDecorations(function(v){return r._onDidChangeModelDecorations.fire(v)})),i.push(t.onDidChangeLanguage(function(v){r._domElement.setAttribute("data-mode-id",t.getLanguageIdentifier().language),r._onDidChangeModelLanguage.fire(v)})),i.push(t.onDidChangeLanguageConfiguration(function(v){return r._onDidChangeModelLanguageConfiguration.fire(v)})),i.push(t.onDidChangeContent(function(v){return r._onDidChangeModelContent.fire(v)})),i.push(t.onDidChangeOptions(function(v){return r._onDidChangeModelOptions.fire(v)})),i.push(t.onWillDispose(function(){return r.setModel(null)}));var s=new bz(this._configuration,t,o);i.push(s.onDidReachMaxCursorCount(function(){r._notificationService.warn(D("cursors.maximum","The number of cursors has been limited to {0}.",bz.MAX_CURSOR_COUNT))})),i.push(s.onDidAttemptReadOnlyEdit(function(){r._onDidAttemptReadOnlyEdit.fire(void 0)})),i.push(s.onDidChange(function(v){for(var m=[],_=0,b=v.selections.length;_<b;_++)m[_]=v.selections[_].getPosition();var C={position:m[0],secondaryPositions:m.slice(1),reason:v.reason,source:v.source};r._onDidChangeCursorPosition.fire(C);var E={selection:v.selections[0],secondarySelections:v.selections.slice(1),source:v.source,reason:v.reason};r._onDidChangeCursorSelection.fire(E)}));var a=this._createView(o,s),u=a[0],l=a[1];if(l){this._domElement.appendChild(u.domNode.domNode);for(var c=Object.keys(this._contentWidgets),h=0,d=c.length;h<d;h++){var p=c[h];u.addContentWidget(this._contentWidgets[p])}c=Object.keys(this._overlayWidgets);for(var h=0,d=c.length;h<d;h++){var p=c[h];u.addOverlayWidget(this._overlayWidgets[p])}u.render(!1,!0),u.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new mPe(t,o,s,u,l,i)},e.prototype._createView=function(t,r){var i=this,o;this.isSimpleWidget?o={executeEditorCommand:function(u,l){u.runCoreEditorCommand(r,l)},paste:function(u,l,c,h){i.trigger(u,un.Paste,{text:l,pasteOnNewLine:c,multicursorText:h})},type:function(u,l){i.trigger(u,un.Type,{text:l})},replacePreviousChar:function(u,l,c){i.trigger(u,un.ReplacePreviousChar,{text:l,replaceCharCnt:c})},compositionStart:function(u){i.trigger(u,un.CompositionStart,void 0)},compositionEnd:function(u){i.trigger(u,un.CompositionEnd,void 0)},cut:function(u){i.trigger(u,un.Cut,void 0)}}:o={executeEditorCommand:function(u,l){u.runCoreEditorCommand(r,l)},paste:function(u,l,c,h){i._commandService.executeCommand(un.Paste,{text:l,pasteOnNewLine:c,multicursorText:h})},type:function(u,l){i._commandService.executeCommand(un.Type,{text:l})},replacePreviousChar:function(u,l,c){i._commandService.executeCommand(un.ReplacePreviousChar,{text:l,replaceCharCnt:c})},compositionStart:function(u){i._commandService.executeCommand(un.CompositionStart,{})},compositionEnd:function(u){i._commandService.executeCommand(un.CompositionEnd,{})},cut:function(u){i._commandService.executeCommand(un.Cut,{})}};var s=new jRe(t);s.onDidGainFocus=function(){i._editorTextFocus.setValue(!0),i._editorWidgetFocus.setValue(!0)},s.onDidScroll=function(u){return i._onDidScrollChange.fire(u)},s.onDidLoseFocus=function(){return i._editorTextFocus.setValue(!1)},s.onContextMenu=function(u){return i._onContextMenu.fire(u)},s.onMouseDown=function(u){return i._onMouseDown.fire(u)},s.onMouseUp=function(u){return i._onMouseUp.fire(u)},s.onMouseDrag=function(u){return i._onMouseDrag.fire(u)},s.onMouseDrop=function(u){return i._onMouseDrop.fire(u)},s.onKeyUp=function(u){return i._onKeyUp.fire(u)},s.onMouseMove=function(u){return i._onMouseMove.fire(u)},s.onMouseLeave=function(u){return i._onMouseLeave.fire(u)},s.onMouseWheel=function(u){return i._onMouseWheel.fire(u)},s.onKeyDown=function(u){return i._onKeyDown.fire(u)};var a=new VRe(o,this._configuration,this._themeService,t,r,s);return[a,!0]},e.prototype._postDetachModelCleanup=function(t){t&&t.removeAllDecorationsWithOwnerId(this._id)},e.prototype._detachModel=function(){if(!this._modelData)return null;var t=this._modelData.model,r=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),r&&this._domElement.removeChild(r),t},e.prototype._removeDecorationType=function(t){this._codeEditorService.removeDecorationType(t)},e.prototype.hasModel=function(){return this._modelData!==null},e=gPe([Ad(3,pr),Ad(4,In),Ad(5,no),Ad(6,yt),Ad(7,ei),Ad(8,bi),Ad(9,ql)],e),e}(he),Ez=function(n){wC(e,n);function e(){var t=n.call(this)||this;return t._onDidChangeToTrue=t._register(new Q),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new Q),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return e.prototype.setValue=function(t){var r=t?2:1;this._value!==r&&(this._value=r,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())},e}(he),_Pe=function(n){wC(e,n);function e(t,r){var i=n.call(this)||this;return i._editor=t,r.createKey("editorId",t.getId()),i._editorFocus=W.focus.bindTo(r),i._textInputFocus=W.textInputFocus.bindTo(r),i._editorTextFocus=W.editorTextFocus.bindTo(r),i._editorTabMovesFocus=W.tabMovesFocus.bindTo(r),i._editorReadonly=W.readOnly.bindTo(r),i._hasMultipleSelections=W.hasMultipleSelections.bindTo(r),i._hasNonEmptySelection=W.hasNonEmptySelection.bindTo(r),i._canUndo=W.canUndo.bindTo(r),i._canRedo=W.canRedo.bindTo(r),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidChangeModel(function(){return i._updateFromModel()})),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromModel()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i}return e.prototype._updateFromConfig=function(){var t=this._editor.getConfiguration();this._editorTabMovesFocus.set(t.tabFocusMode),this._editorReadonly.set(t.readOnly)},e.prototype._updateFromSelection=function(){var t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(function(r){return!r.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},e.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},e.prototype._updateFromModel=function(){var t=this._editor.getModel();this._canUndo.set(!!(t&&t.canUndo())),this._canRedo.set(!!(t&&t.canRedo()))},e}(he),yPe=function(n){wC(e,n);function e(t,r){var i=n.call(this)||this;i._editor=t,i._contextKeyService=r,i._langId=W.languageId.bindTo(r),i._hasCompletionItemProvider=W.hasCompletionItemProvider.bindTo(r),i._hasCodeActionsProvider=W.hasCodeActionsProvider.bindTo(r),i._hasCodeLensProvider=W.hasCodeLensProvider.bindTo(r),i._hasDefinitionProvider=W.hasDefinitionProvider.bindTo(r),i._hasDeclarationProvider=W.hasDeclarationProvider.bindTo(r),i._hasImplementationProvider=W.hasImplementationProvider.bindTo(r),i._hasTypeDefinitionProvider=W.hasTypeDefinitionProvider.bindTo(r),i._hasHoverProvider=W.hasHoverProvider.bindTo(r),i._hasDocumentHighlightProvider=W.hasDocumentHighlightProvider.bindTo(r),i._hasDocumentSymbolProvider=W.hasDocumentSymbolProvider.bindTo(r),i._hasReferenceProvider=W.hasReferenceProvider.bindTo(r),i._hasRenameProvider=W.hasRenameProvider.bindTo(r),i._hasSignatureHelpProvider=W.hasSignatureHelpProvider.bindTo(r),i._hasDocumentFormattingProvider=W.hasDocumentFormattingProvider.bindTo(r),i._hasDocumentSelectionFormattingProvider=W.hasDocumentSelectionFormattingProvider.bindTo(r),i._hasMultipleDocumentFormattingProvider=W.hasMultipleDocumentFormattingProvider.bindTo(r),i._hasMultipleDocumentSelectionFormattingProvider=W.hasMultipleDocumentSelectionFormattingProvider.bindTo(r),i._isInWalkThrough=W.isInEmbeddedEditor.bindTo(r);var o=function(){return i._update()};return i._register(t.onDidChangeModel(o)),i._register(t.onDidChangeModelLanguage(o)),i._register(cl.onDidChange(o)),i._register(xc.onDidChange(o)),i._register(Cp.onDidChange(o)),i._register(e1.onDidChange(o)),i._register(HT.onDidChange(o)),i._register(VT.onDidChange(o)),i._register(WT.onDidChange(o)),i._register(Jb.onDidChange(o)),i._register(Fm.onDidChange(o)),i._register(zf.onDidChange(o)),i._register(FT.onDidChange(o)),i._register(BT.onDidChange(o)),i._register(eb.onDidChange(o)),i._register(vu.onDidChange(o)),i._register(bp.onDidChange(o)),o(),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.reset=function(){var t=this;this._contextKeyService.bufferChangeEvents(function(){t._langId.reset(),t._hasCompletionItemProvider.reset(),t._hasCodeActionsProvider.reset(),t._hasCodeLensProvider.reset(),t._hasDefinitionProvider.reset(),t._hasDeclarationProvider.reset(),t._hasImplementationProvider.reset(),t._hasTypeDefinitionProvider.reset(),t._hasHoverProvider.reset(),t._hasDocumentHighlightProvider.reset(),t._hasDocumentSymbolProvider.reset(),t._hasReferenceProvider.reset(),t._hasRenameProvider.reset(),t._hasDocumentFormattingProvider.reset(),t._hasDocumentSelectionFormattingProvider.reset(),t._hasSignatureHelpProvider.reset(),t._isInWalkThrough.reset()})},e.prototype._update=function(){var t=this,r=this._editor.getModel();if(!r){this.reset();return}this._contextKeyService.bufferChangeEvents(function(){t._langId.set(r.getLanguageIdentifier().language),t._hasCompletionItemProvider.set(cl.has(r)),t._hasCodeActionsProvider.set(xc.has(r)),t._hasCodeLensProvider.set(Cp.has(r)),t._hasDefinitionProvider.set(e1.has(r)),t._hasDeclarationProvider.set(HT.has(r)),t._hasImplementationProvider.set(VT.has(r)),t._hasTypeDefinitionProvider.set(WT.has(r)),t._hasHoverProvider.set(Jb.has(r)),t._hasDocumentHighlightProvider.set(Fm.has(r)),t._hasDocumentSymbolProvider.set(zf.has(r)),t._hasReferenceProvider.set(FT.has(r)),t._hasRenameProvider.set(BT.has(r)),t._hasSignatureHelpProvider.set(bp.has(r)),t._hasDocumentFormattingProvider.set(eb.has(r)||vu.has(r)),t._hasDocumentSelectionFormattingProvider.set(vu.has(r)),t._hasMultipleDocumentFormattingProvider.set(eb.all(r).length+vu.all(r).length>1),t._hasMultipleDocumentSelectionFormattingProvider.set(vu.all(r).length>1),t._isInWalkThrough.set(r.uri.scheme===Tn.walkThroughSnippet)})},e}(he),bPe=function(n){wC(e,n);function e(t){var r=n.call(this)||this;return r._onChange=r._register(new Q),r.onChange=r._onChange.event,r._hasFocus=!1,r._domFocusTracker=r._register(Gb(t)),r._register(r._domFocusTracker.onDidFocus(function(){r._hasFocus=!0,r._onChange.fire(void 0)})),r._register(r._domFocusTracker.onDidBlur(function(){r._hasFocus=!1,r._onChange.fire(void 0)})),r}return e.prototype.hasFocus=function(){return this._hasFocus},e}(he),CPe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),wPe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function pk(n){return CPe+encodeURIComponent(n.toString())+wPe}var EPe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),SPe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function TPe(n){return EPe+encodeURIComponent(n.toString())+SPe}mn(function(n,e){var t=n.getColor(Vte);t&&e.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+t+"; }");var r=n.getColor(Hte);r&&e.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+pk(r)+'") repeat-x bottom left; }');var i=n.getColor(a5);i&&e.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+i+"; }");var o=n.getColor(XT);o&&e.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+pk(o)+'") repeat-x bottom left; }');var s=n.getColor(u5);s&&e.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=n.getColor(QT);a&&e.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+pk(a)+'") repeat-x bottom left; }');var u=n.getColor(lOe);u&&e.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+u+"; }");var l=n.getColor(uOe);l&&e.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+TPe(l)+'") no-repeat bottom left; }');var c=n.getColor(HOe);c&&e.addRule("."+nD+" .monaco-editor .squiggly-inline-unnecessary { opacity: "+c.rgba.a+"; }");var h=n.getColor(BOe);h&&e.addRule("."+nD+" .monaco-editor .squiggly-unnecessary { border-bottom: 2px dashed "+h+"; }");var d=n.getColor(ch)||"inherit";e.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+d+"}")});var DPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),APe=!1,D2=function(n){DPe(e,n);function e(t,r,i){i===void 0&&(i={});var o=n.call(this)||this;return o._state=3,o._onDidEnablementChange=o._register(new Q),o.onDidEnablementChange=o._onDidEnablementChange.event,o._onDidStart=o._register(new Q),o.onDidStart=o._onDidStart.event,o._onDidChange=o._register(new Q),o.onDidChange=o._onDidChange.event,o._onDidReset=o._register(new Q),o.onDidReset=o._onDidReset.event,o._onDidEnd=o._register(new Q),o.onDidEnd=o._onDidEnd.event,o.linkedSash=void 0,o.orthogonalStartSashDisposables=o._register(new Be),o.orthogonalEndSashDisposables=o._register(new Be),o.el=Ee(t,We(".monaco-sash")),Tt&&De(o.el,"mac"),o._register(Nt(o.el,"mousedown")(o.onMouseDown,o)),o._register(Nt(o.el,"dblclick")(o.onMouseDoubleClick,o)),F_.addTarget(o.el),o._register(Nt(o.el,ci.Start)(o.onTouchStart,o)),NT&&De(o.el,"touch"),o.setOrientation(i.orientation||0),o.hidden=!1,o.layoutProvider=r,o.orthogonalStartSash=i.orthogonalStartSash,o.orthogonalEndSash=i.orthogonalEndSash,Rt(o.el,"debug",APe),o}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(Rt(this.el,"disabled",t===0),Rt(this.el,"minimum",t===1),Rt(this.el,"maximum",t===2),this._state=t,this._onDidEnablementChange.fire(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){this.orthogonalStartSashDisposables.clear(),t?(this.orthogonalStartSashDisposables.add(t.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(t.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){this.orthogonalEndSashDisposables.clear(),t?(this.orthogonalEndSashDisposables.add(t.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(t.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=t},enumerable:!0,configurable:!0}),e.prototype.setOrientation=function(t){this.orientation=t,this.orientation===1?(De(this.el,"horizontal"),st(this.el,"vertical")):(st(this.el,"horizontal"),De(this.el,"vertical")),this.layoutProvider&&this.layout()},e.prototype.onMouseDown=function(t){var r=this;Sn.stop(t,!1);var i=!1;if(!t.__orthogonalSashEvent){var o=this.getOrthogonalSash(t);o&&(i=!0,t.__orthogonalSashEvent=!0,o.onMouseDown(t))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onMouseDown(t)),!!this.state){for(var s=Wj("iframe").concat(Wj("webview")),a=0,u=s;a<u.length;a++){var l=u[a];l.style.pointerEvents="none"}var c=new hi(t),h=c.posx,d=c.posy,p=c.altKey,v={startX:h,currentX:h,startY:d,currentY:d,altKey:p};De(this.el,"active"),this._onDidStart.fire(v);var m=Fh(this.el),_=function(){var S="";i?S="all-scroll":r.orientation===1?r.state===1?S="s-resize":r.state===2?S="n-resize":S=Tt?"row-resize":"ns-resize":r.state===1?S="e-resize":r.state===2?S="w-resize":S=Tt?"col-resize":"ew-resize",m.innerHTML="* { cursor: "+S+" !important; }"},b=new Be;_(),i||this.onDidEnablementChange(_,null,b);var C=function(S){Sn.stop(S,!1);var A=new hi(S),T={startX:h,currentX:A.posx,startY:d,currentY:A.posy,altKey:p};r._onDidChange.fire(T)},E=function(S){Sn.stop(S,!1),r.el.removeChild(m),st(r.el,"active"),r._onDidEnd.fire(),b.dispose();for(var A=0,T=s;A<T.length;A++){var N=T[A];N.style.pointerEvents="auto"}};Nt(window,"mousemove")(C,null,b),Nt(window,"mouseup")(E,null,b)}},e.prototype.onMouseDoubleClick=function(t){var r=this.getOrthogonalSash(t);r&&r._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()},e.prototype.onTouchStart=function(t){var r=this;Sn.stop(t);var i=[],o=t.pageX,s=t.pageY,a=t.altKey;this._onDidStart.fire({startX:o,currentX:o,startY:s,currentY:s,altKey:a}),i.push(ye(this.el,ci.Change,function(u){Pc(u.pageX)&&Pc(u.pageY)&&r._onDidChange.fire({startX:o,currentX:u.pageX,startY:s,currentY:u.pageY,altKey:a})})),i.push(ye(this.el,ci.End,function(u){r._onDidEnd.fire(),nt(i)}))},e.prototype.layout=function(){var t=NT?20:4;if(this.orientation===0){var r=this.layoutProvider;this.el.style.left=r.getVerticalSashLeft(this)-t/2+"px",r.getVerticalSashTop&&(this.el.style.top=r.getVerticalSashTop(this)+"px"),r.getVerticalSashHeight&&(this.el.style.height=r.getVerticalSashHeight(this)+"px")}else{var i=this.layoutProvider;this.el.style.top=i.getHorizontalSashTop(this)-t/2+"px",i.getHorizontalSashLeft&&(this.el.style.left=i.getHorizontalSashLeft(this)+"px"),i.getHorizontalSashWidth&&(this.el.style.width=i.getHorizontalSashWidth(this)+"px")}},e.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},e.prototype.onOrthogonalStartSashEnablementChange=function(t){Rt(this.el,"orthogonal-start",t!==0)},e.prototype.onOrthogonalEndSashEnablementChange=function(t){Rt(this.el,"orthogonal-end",t!==0)},e.prototype.getOrthogonalSash=function(t){if(this.orientation===0){if(t.offsetY<=4)return this.orthogonalStartSash;if(t.offsetY>=this.el.clientHeight-4)return this.orthogonalEndSash}else{if(t.offsetX<=4)return this.orthogonalStartSash;if(t.offsetX>=this.el.clientWidth-4)return this.orthogonalEndSash}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.el&&this.el.parentElement&&this.el.parentElement.removeChild(this.el),this.el=null},e}(he),Pv=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=!1),this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=r}return n}(),vne=[];function EC(n,e,t){vne.push([n,new Pv(e,[],t)])}function IPe(){return vne}var mne=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),C5=qt("IEditorCancelService"),_ne=new Ke("cancellableOperation",!1);EC(C5,function(){function n(){this._tokens=new WeakMap}return n.prototype.add=function(e,t){var r=this._tokens.get(e);r||(r=e.invokeWithinContext(function(o){var s=_ne.bindTo(o.get(yt)),a=new Mc;return{key:s,tokens:a}}),this._tokens.set(e,r));var i;return r.key.set(!0),i=r.tokens.push(t),function(){i&&(i(),r.key.set(!r.tokens.isEmpty()),i=void 0)}},n.prototype.cancel=function(e){var t=this._tokens.get(e);if(t){var r=t.tokens.pop();r&&(r.cancel(),t.key.set(!t.tokens.isEmpty()))}},n}(),!0);var xPe=function(n){mne(e,n);function e(t,r){var i=n.call(this,r)||this;return i.editor=t,i._unregister=t.invokeWithinContext(function(o){return o.get(C5).add(t,i)}),i}return e.prototype.dispose=function(){this._unregister(),n.prototype.dispose.call(this)},e}(Hp);ce(new(function(n){mne(e,n);function e(){return n.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:_ne})||this}return e.prototype.runEditorCommand=function(t,r){t.get(C5).cancel(r)},e}(Po)));var yne=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w5=function(){function n(e,t){if(this.flags=t,this.flags&1){var r=e.getModel();this.modelVersionId=r?Yt("{0}#{1}",r.uri.toString(),r.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=e.getPosition():this.position=null,this.flags&2?this.selection=e.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return n.prototype._equals=function(e){if(!(e instanceof n))return!1;var t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))},n.prototype.validate=function(e){return this._equals(new n(e,this.flags))},n}(),E5=function(n){yne(e,n);function e(t,r,i){var o=n.call(this,t,i)||this;return o.editor=t,o._listener=new Be,r&4&&o._listener.add(t.onDidChangeCursorPosition(function(s){return o.cancel()})),r&2&&o._listener.add(t.onDidChangeCursorSelection(function(s){return o.cancel()})),r&8&&o._listener.add(t.onDidScrollChange(function(s){return o.cancel()})),r&1&&(o._listener.add(t.onDidChangeModel(function(s){return o.cancel()})),o._listener.add(t.onDidChangeModelContent(function(s){return o.cancel()}))),o}return e.prototype.dispose=function(){this._listener.dispose(),n.prototype.dispose.call(this)},e}(xPe),S5=function(n){yne(e,n);function e(t,r){var i=n.call(this,r)||this;return i._listener=t.onDidChangeContent(function(){return i.cancel()}),i}return e.prototype.dispose=function(){this._listener.dispose(),n.prototype.dispose.call(this)},e}(Hp),e3=function(){function n(e,t){this._visiblePosition=e,this._visiblePositionScrollDelta=t}return n.capture=function(e){var t=null,r=0;if(e.getScrollTop()!==0){var i=e.getVisibleRanges();if(i.length>0){t=i[0].getStartPosition();var o=e.getTopForPosition(t.lineNumber,t.column);r=e.getScrollTop()-o}}return new n(t,r)},n.prototype.restore=function(e){if(this._visiblePosition){var t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}},n}(),A2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),T5=function(n){A2(e,n);function e(t,r,i){var o=n.call(this)||this;return o.options=i,o._context=t||o,o._action=r,r instanceof pa&&o._register(r.onDidChange(function(s){o.element&&o.handleActionChangeEvent(s)})),o}return e.prototype.handleActionChangeEvent=function(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()},Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){this._actionRunner=t},enumerable:!0,configurable:!0}),e.prototype.getAction=function(){return this._action},e.prototype.isEnabled=function(){return this._action.enabled},e.prototype.setActionContext=function(t){this._context=t},e.prototype.render=function(t){var r=this;this.element=t,F_.addTarget(t);var i=this.options&&this.options.draggable;i&&(t.draggable=!0),this._register(ye(this.element,ci.Tap,function(o){return r.onClick(o)})),this._register(ye(this.element,lt.MOUSE_DOWN,function(o){i||Sn.stop(o,!0),r._action.enabled&&o.button===0&&r.element&&De(r.element,"active")})),this._register(ye(this.element,lt.CLICK,function(o){Sn.stop(o,!0),r.options&&r.options.isMenu?r.onClick(o):jJ(function(){return r.onClick(o)})})),this._register(ye(this.element,lt.DBLCLICK,function(o){Sn.stop(o,!0)})),[lt.MOUSE_UP,lt.MOUSE_OUT].forEach(function(o){r._register(ye(r.element,o,function(s){Sn.stop(s),st(r.element,"active")}))})},e.prototype.onClick=function(t){Sn.stop(t,!0);var r;rh(this._context)?r=t:(r=this._context,$i(r)&&(r.event=t)),this._actionRunner.run(this._action,r)},e.prototype.focus=function(){this.element&&(this.element.focus(),De(this.element,"focused"))},e.prototype.blur=function(){this.element&&(this.element.blur(),st(this.element,"focused"))},e.prototype.updateEnabled=function(){},e.prototype.updateLabel=function(){},e.prototype.updateTooltip=function(){},e.prototype.updateClass=function(){},e.prototype.updateChecked=function(){},e.prototype.dispose=function(){this.element&&(p6(this.element),this.element=void 0),n.prototype.dispose.call(this)},e}(he),I2=function(n){A2(e,n);function e(t){var r=n.call(this,e.ID,t,t?"separator text":"separator")||this;return r.checked=!1,r.radio=!1,r.enabled=!1,r}return e.ID="vs.actions.separator",e}(pa),rD=function(n){A2(e,n);function e(t,r,i){i===void 0&&(i={});var o=n.call(this,t,r,i)||this;return o.options=i,o.options.icon=i.icon!==void 0?i.icon:!1,o.options.label=i.label!==void 0?i.label:!0,o.cssClass="",o}return e.prototype.render=function(t){n.prototype.render.call(this,t),this.element&&(this.label=Ee(this.element,We("a.action-label"))),this._action.id===I2.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button"),this.options.label&&this.options.keybinding&&this.element&&(Ee(this.element,We("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},e.prototype.focus=function(){n.prototype.focus.call(this),this.label.focus()},e.prototype.updateLabel=function(){this.options.label&&(this.label.textContent=this.getAction().label)},e.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=D({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.label.title=t)},e.prototype.updateClass=function(){this.cssClass&&u2(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,De(this.label,"icon"),this.cssClass&&g6(this.label,this.cssClass),this.updateEnabled()):st(this.label,"icon")},e.prototype.updateEnabled=function(){this.getAction().enabled?(this.label.removeAttribute("aria-disabled"),this.element&&st(this.element,"disabled"),st(this.label,"disabled"),this.label.tabIndex=0):(this.label.setAttribute("aria-disabled","true"),this.element&&De(this.element,"disabled"),De(this.label,"disabled"),y6(this.label))},e.prototype.updateChecked=function(){this.getAction().checked?De(this.label,"checked"):st(this.label,"checked")},e}(T5),Sz={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},SC=function(n){A2(e,n);function e(t,r){r===void 0&&(r=Sz);var i=n.call(this)||this;i._onDidBlur=i._register(new Q),i.onDidBlur=i._onDidBlur.event,i._onDidCancel=i._register(new Q),i.onDidCancel=i._onDidCancel.event,i._onDidRun=i._register(new Q),i.onDidRun=i._onDidRun.event,i._onDidBeforeRun=i._register(new Q),i.onDidBeforeRun=i._onDidBeforeRun.event,i.options=r,i._context=r.context,i.options.triggerKeys||(i.options.triggerKeys=Sz.triggerKeys),i.options.actionRunner?i._actionRunner=i.options.actionRunner:(i._actionRunner=new rte,i._register(i._actionRunner)),i._register(i._actionRunner.onDidRun(function(a){return i._onDidRun.fire(a)})),i._register(i._actionRunner.onDidBeforeRun(function(a){return i._onDidBeforeRun.fire(a)})),i.viewItems=[],i.focusedItem=void 0,i.domNode=document.createElement("div"),i.domNode.className="monaco-action-bar",r.animated!==!1&&De(i.domNode,"animated");var o,s;switch(i.options.orientation){case 0:o=15,s=17;break;case 1:o=17,s=15,i.domNode.className+=" reverse";break;case 2:o=16,s=18,i.domNode.className+=" vertical";break;case 3:o=18,s=16,i.domNode.className+=" vertical reverse";break}return i._register(ye(i.domNode,lt.KEY_DOWN,function(a){var u=new Gn(a),l=!0;u.equals(o)?i.focusPrevious():u.equals(s)?i.focusNext():u.equals(9)?i.cancel():i.isTriggerKeyEvent(u)?i.options.triggerKeys&&i.options.triggerKeys.keyDown&&i.doTrigger(u):l=!1,l&&(u.preventDefault(),u.stopPropagation())})),i._register(ye(i.domNode,lt.KEY_UP,function(a){var u=new Gn(a);i.isTriggerKeyEvent(u)?(i.options.triggerKeys&&!i.options.triggerKeys.keyDown&&i.doTrigger(u),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1026))&&i.updateFocusedItem()})),i.focusTracker=i._register(Gb(i.domNode)),i._register(i.focusTracker.onDidBlur(function(){(document.activeElement===i.domNode||!Nl(document.activeElement,i.domNode))&&(i._onDidBlur.fire(),i.focusedItem=void 0)})),i._register(i.focusTracker.onDidFocus(function(){return i.updateFocusedItem()})),i.actionsList=document.createElement("ul"),i.actionsList.className="actions-container",i.actionsList.setAttribute("role","toolbar"),i.options.ariaLabel&&i.actionsList.setAttribute("aria-label",i.options.ariaLabel),i.domNode.appendChild(i.actionsList),t.appendChild(i.domNode),i}return e.prototype.isTriggerKeyEvent=function(t){var r=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach(function(i){r=r||t.equals(i)}),r},e.prototype.updateFocusedItem=function(){for(var t=0;t<this.actionsList.children.length;t++){var r=this.actionsList.children[t];if(Nl(document.activeElement,r)){this.focusedItem=t;break}}},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t,this.viewItems.forEach(function(r){return r.setActionContext(t)})},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.domNode},e.prototype.push=function(t,r){var i=this;r===void 0&&(r={});var o=Array.isArray(t)?t:[t],s=Pc(r.index)?r.index:null;o.forEach(function(a){var u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation"),i._register(ye(u,lt.CONTEXT_MENU,function(c){c.preventDefault(),c.stopPropagation()}));var l;i.options.actionViewItemProvider&&(l=i.options.actionViewItemProvider(a)),l||(l=new rD(i.context,a,r)),l.actionRunner=i._actionRunner,l.setActionContext(i.context),l.render(u),s===null||s<0||s>=i.actionsList.children.length?(i.actionsList.appendChild(u),i.viewItems.push(l)):(i.actionsList.insertBefore(u,i.actionsList.children[s]),i.viewItems.splice(s,0,l),s++)})},e.prototype.clear=function(){this.viewItems=nt(this.viewItems),_a(this.actionsList)},e.prototype.isEmpty=function(){return this.viewItems.length===0},e.prototype.focus=function(t){var r=!1,i=void 0;t===void 0?r=!0:typeof t=="number"?i=t:typeof t=="boolean"&&(r=t),r&&typeof this.focusedItem>"u"?(this.focusedItem=this.viewItems.length-1,this.focusNext()):(i!==void 0&&(this.focusedItem=i),this.updateFocus())},e.prototype.focusNext=function(){typeof this.focusedItem>"u"&&(this.focusedItem=this.viewItems.length-1);var t=this.focusedItem,r;do this.focusedItem=(this.focusedItem+1)%this.viewItems.length,r=this.viewItems[this.focusedItem];while(this.focusedItem!==t&&!r.isEnabled());this.focusedItem===t&&!r.isEnabled()&&(this.focusedItem=void 0),this.updateFocus()},e.prototype.focusPrevious=function(){typeof this.focusedItem>"u"&&(this.focusedItem=0);var t=this.focusedItem,r;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.viewItems.length-1),r=this.viewItems[this.focusedItem];while(this.focusedItem!==t&&!r.isEnabled());this.focusedItem===t&&!r.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(!0)},e.prototype.updateFocus=function(t){typeof this.focusedItem>"u"&&this.actionsList.focus();for(var r=0;r<this.viewItems.length;r++){var i=this.viewItems[r],o=i;r===this.focusedItem?Zy(o.isEnabled)&&(o.isEnabled()&&Zy(o.focus)?o.focus(t):this.actionsList.focus()):Zy(o.blur)&&o.blur()}},e.prototype.doTrigger=function(t){if(!(typeof this.focusedItem>"u")){var r=this.viewItems[this.focusedItem];if(r instanceof T5){var i=r._context===null||r._context===void 0?t:r._context;this.run(r._action,i)}}},e.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},e.prototype.run=function(t,r){return this._actionRunner.run(t,r)},e.prototype.dispose=function(){nt(this.viewItems),this.viewItems=[],p6(this.getContainer()),n.prototype.dispose.call(this)},e}(he),D5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jE=3,ly=function(){function n(e,t,r,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=r,this.modifiedLineEnd=i}return n.prototype.getType=function(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0},n}(),gk=function(){function n(e){this.entries=e}return n}(),LPe=function(n){D5(e,n);function e(t){var r=n.call(this)||this;return r._width=0,r._diffEditor=t,r._isVisible=!1,r.shadow=wt(document.createElement("div")),r.shadow.setClassName("diff-review-shadow"),r.actionBarContainer=wt(document.createElement("div")),r.actionBarContainer.setClassName("diff-review-actions"),r._actionBar=r._register(new SC(r.actionBarContainer.domNode)),r._actionBar.push(new pa("diffreview.close",D("label.close","Close"),"close-diff-review",!0,function(){return r.hide(),Promise.resolve(null)}),{label:!1,icon:!0}),r.domNode=wt(document.createElement("div")),r.domNode.setClassName("diff-review monaco-editor-background"),r._content=wt(document.createElement("div")),r._content.setClassName("diff-review-content"),r.scrollbar=r._register(new bC(r._content.domNode,{})),r.domNode.domNode.appendChild(r.scrollbar.getDomNode()),r._register(t.onDidUpdateDiff(function(){r._isVisible&&(r._diffs=r._compute(),r._render())})),r._register(t.getModifiedEditor().onDidChangeCursorPosition(function(){r._isVisible&&r._render()})),r._register(t.getOriginalEditor().onDidFocusEditorWidget(function(){r._isVisible&&r.hide()})),r._register(t.getModifiedEditor().onDidFocusEditorWidget(function(){r._isVisible&&r.hide()})),r._register(mi(r.domNode.domNode,"click",function(i){i.preventDefault();var o=EM(i.target,"diff-review-row");o&&r._goToRow(o)})),r._register(mi(r.domNode.domNode,"keydown",function(i){(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),r._goToRow(r._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),r._goToRow(r._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),r.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),r.accept())})),r._diffs=[],r._currentDiff=null,r}return e.prototype.prev=function(){var t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var r=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){r=i;break}t=this._diffs.length+r-1}else t=this._findDiffIndex(this._diffEditor.getPosition());this._diffs.length!==0&&(t=t%this._diffs.length,this._diffEditor.setPosition(new ee(this._diffs[t].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},e.prototype.next=function(){var t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var r=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){r=i;break}t=r+1}else t=this._findDiffIndex(this._diffEditor.getPosition());this._diffs.length!==0&&(t=t%this._diffs.length,this._diffEditor.setPosition(new ee(this._diffs[t].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},e.prototype.accept=function(){var t=-1,r=this._getCurrentFocusedRow();if(r){var i=parseInt(r.getAttribute("data-line"),10);isNaN(i)||(t=i)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new ee(t,1)),this._diffEditor.revealPosition(new ee(t,1),1))},e.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},e.prototype._getPrevRow=function(){var t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()},e.prototype._getNextRow=function(){var t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()},e.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},e.prototype._getCurrentFocusedRow=function(){var t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null},e.prototype._goToRow=function(t){var r=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),r&&r!==t&&(r.tabIndex=-1),this.scrollbar.scanDomNode()},e.prototype.isVisible=function(){return this._isVisible},e.prototype.layout=function(t,r,i){this._width=r,this.shadow.setTop(t-6),this.shadow.setWidth(r),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(r),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(r),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},e.prototype._compute=function(){var t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];var r=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!r||!i?[]:e._mergeAdjacent(t,r.getLineCount(),i.getLineCount())},e._mergeAdjacent=function(t,r,i){if(!t||t.length===0)return[];for(var o=[],s=0,a=0,u=t.length;a<u;a++){var l=t[a],c=l.originalStartLineNumber,h=l.originalEndLineNumber,d=l.modifiedStartLineNumber,p=l.modifiedEndLineNumber,v=[],m=0;{var _=h===0?c:c-1,b=p===0?d:d-1,C=1,E=1;if(a>0){var S=t[a-1];S.originalEndLineNumber===0?C=S.originalStartLineNumber+1:C=S.originalEndLineNumber+1,S.modifiedEndLineNumber===0?E=S.modifiedStartLineNumber+1:E=S.modifiedEndLineNumber+1}var A=_-jE+1,T=b-jE+1;if(A<C){var N=C-A;A=A+N,T=T+N}if(T<E){var N=E-T;A=A+N,T=T+N}v[m++]=new ly(A,_,T,b)}h!==0&&(v[m++]=new ly(c,h,0,0)),p!==0&&(v[m++]=new ly(0,0,d,p));{var k=h===0?c+1:h+1,F=p===0?d+1:p+1,L=r,O=i;if(a+1<u){var P=t[a+1];P.originalEndLineNumber===0?L=P.originalStartLineNumber:L=P.originalStartLineNumber-1,P.modifiedEndLineNumber===0?O=P.modifiedStartLineNumber:O=P.modifiedStartLineNumber-1}var B=k+jE-1,U=F+jE-1;if(B>L){var N=L-B;B=B+N,U=U+N}if(U>O){var N=O-U;B=B+N,U=U+N}v[m++]=new ly(k,B,F,U)}o[s++]=new gk(v)}for(var $=o[0].entries,te=[],ne=0,a=1,u=o.length;a<u;a++){var ie=o[a].entries,pe=$[$.length-1],ke=ie[0];if(pe.getType()===0&&ke.getType()===0&&ke.originalLineStart<=pe.originalLineEnd){$[$.length-1]=new ly(pe.originalLineStart,ke.originalLineEnd,pe.modifiedLineStart,ke.modifiedLineEnd),$=$.concat(ie.slice(1));continue}te[ne++]=new gk($),$=ie}return te[ne++]=new gk($),te},e.prototype._findDiffIndex=function(t){for(var r=t.lineNumber,i=0,o=this._diffs.length;i<o;i++){var s=this._diffs[i].entries,a=s[s.length-1].modifiedLineEnd;if(r<=a)return i}return 0},e.prototype._render=function(){var t=this._diffEditor.getOriginalEditor().getConfiguration(),r=this._diffEditor.getModifiedEditor().getConfiguration(),i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),a=o.getOptions();if(!this._isVisible||!i||!o){_a(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}var u=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[u]!==this._currentDiff){this._currentDiff=this._diffs[u];var l=this._diffs[u].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),ya.applyFontInfoSlow(c,r.fontInfo);for(var h=0,d=0,p=0,v=0,m=0,_=l.length;m<_;m++){var b=l[m],C=b.originalLineStart,E=b.originalLineEnd,S=b.modifiedLineStart,A=b.modifiedLineEnd;C!==0&&(h===0||C<h)&&(h=C),E!==0&&(d===0||E>d)&&(d=E),S!==0&&(p===0||S<p)&&(p=S),A!==0&&(v===0||A>v)&&(v=A)}var T=document.createElement("div");T.className="diff-review-row";var N=document.createElement("div");N.className="diff-review-cell diff-review-summary";var k=d-h+1,F=v-p+1;N.appendChild(document.createTextNode(u+1+"/"+this._diffs.length+": @@ -"+h+","+k+" +"+p+","+F+" @@")),T.setAttribute("data-line",String(p));var L=function(U){return U===0?D("no_lines","no lines"):U===1?D("one_line","1 line"):D("more_lines","{0} lines",U)},O=L(k),P=L(F);T.setAttribute("aria-label",D({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",u+1,this._diffs.length,h,O,p,P)),T.appendChild(N),T.setAttribute("role","listitem"),c.appendChild(T);for(var B=p,m=0,_=l.length;m<_;m++){var b=l[m];e._renderSection(c,b,B,this._width,t,i,s,r,o,a),b.modifiedLineStart!==0&&(B=b.modifiedLineEnd)}_a(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}},e._renderSection=function(t,r,i,o,s,a,u,l,c,h){var d=r.getType(),p="diff-review-row",v="",m="diff-review-spacer";switch(d){case 1:p="diff-review-row line-insert",v=" char-insert",m="diff-review-spacer insert-sign";break;case 2:p="diff-review-row line-delete",v=" char-delete",m="diff-review-spacer delete-sign";break}for(var _=r.originalLineStart,b=r.originalLineEnd,C=r.modifiedLineStart,E=r.modifiedLineEnd,S=Math.max(E-C,b-_),A=s.layoutInfo.glyphMarginWidth+s.layoutInfo.lineNumbersWidth,T=10+l.layoutInfo.glyphMarginWidth+l.layoutInfo.lineNumbersWidth,N=0;N<=S;N++){var k=_===0?0:_+N,F=C===0?0:C+N,L=document.createElement("div");L.style.minWidth=o+"px",L.className=p,L.setAttribute("role","listitem"),F!==0&&(i=F),L.setAttribute("data-line",String(i));var O=document.createElement("div");O.className="diff-review-cell",L.appendChild(O);var P=document.createElement("span");P.style.width=A+"px",P.style.minWidth=A+"px",P.className="diff-review-line-number"+v,k!==0?P.appendChild(document.createTextNode(String(k))):P.innerHTML="&nbsp;",O.appendChild(P);var B=document.createElement("span");B.style.width=T+"px",B.style.minWidth=T+"px",B.style.paddingRight="10px",B.className="diff-review-line-number"+v,F!==0?B.appendChild(document.createTextNode(String(F))):B.innerHTML="&nbsp;",O.appendChild(B);var U=document.createElement("span");U.className=m,U.innerHTML="&nbsp;&nbsp;",O.appendChild(U);var $=void 0;F!==0?(O.insertAdjacentHTML("beforeend",this._renderLine(c,l,h.tabSize,F)),$=c.getLineContent(F)):(O.insertAdjacentHTML("beforeend",this._renderLine(a,s,u.tabSize,k)),$=a.getLineContent(k)),$.length===0&&($=D("blankLine","blank"));var te="";switch(d){case 0:te=D("equalLine","original {0}, modified {1}: {2}",k,F,$);break;case 1:te=D("insertLine","+ modified {0}: {1}",F,$);break;case 2:te=D("deleteLine","- original {0}: {1}",k,$);break}L.setAttribute("aria-label",te),t.appendChild(L)}},e._renderLine=function(t,r,i,o){var s=t.getLineContent(o),a=(16384|2<<23)>>>0,u=new Uint32Array(2);u[0]=s.length,u[1]=a;var l=new bu(u,s),c=Lu.isBasicASCII(s,t.mightContainNonBasicASCII()),h=Lu.containsRTL(s,c,t.mightContainRTL()),d=v2(new P_(r.fontInfo.isMonospace&&!r.viewInfo.disableMonospaceOptimizations,r.fontInfo.canUseHalfwidthRightwardsArrow,s,!1,c,h,0,l,[],i,r.fontInfo.spaceWidth,r.viewInfo.stopRenderingLineAfter,r.viewInfo.renderWhitespace,r.viewInfo.renderControlCharacters,r.viewInfo.fontLigatures,null));return d.html},e}(he);mn(function(n,e){var t=n.getColor(Yte);t&&e.addRule(".monaco-diff-editor .diff-review-line-number { color: "+t+"; }");var r=n.getColor(C2);r&&e.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+r+" 0 -6px 6px -6px inset; }")});var NPe=function(n){D5(e,n);function e(){return n.call(this,{id:"editor.action.diffReview.next",label:D("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Oe.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return e.prototype.run=function(t,r){var i=bne(t);i&&i.diffReviewNext()},e}(Ue),OPe=function(n){D5(e,n);function e(){return n.call(this,{id:"editor.action.diffReview.prev",label:D("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Oe.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return e.prototype.run=function(t,r){var i=bne(t);i&&i.diffReviewPrev()},e}(Ue);function bne(n){for(var e=n.get(In),t=e.listDiffEditors(),r=0,i=t.length;r<i;r++){var o=t[r];if(o.hasWidgetFocus())return o}return null}ge(NPe);ge(OPe);var Hh=qt("contextViewService"),dg=qt("contextMenuService"),kPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vk=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},mk=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},RPe=function(n){kPe(e,n);function e(t,r,i,o,s,a){var u=n.call(this)||this;u._viewZoneId=t,u._marginDomNode=r,u.editor=i,u.diff=o,u._contextMenuService=s,u._clipboardService=a,u._visibility=!1,u._marginDomNode.style.zIndex="10",u._diffActions=document.createElement("div"),u._diffActions.className="lightbulb-glyph",u._diffActions.style.position="absolute";var l=i.getConfiguration().lineHeight,c=i.getModel().getEOL();u._diffActions.style.right="0px",u._diffActions.style.visibility="hidden",u._diffActions.style.height=l+"px",u._diffActions.style.lineHeight=l+"px",u._marginDomNode.appendChild(u._diffActions);var h=[];h.push(new pa("diff.clipboard.copyDeletedContent",o.originalEndLineNumber>o.modifiedStartLineNumber?D("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):D("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,function(){return vk(u,void 0,void 0,function(){return mk(this,function(m){switch(m.label){case 0:return[4,this._clipboardService.writeText(o.originalContent.join(c)+c)];case 1:return m.sent(),[2]}})})}));var d=0,p=void 0;o.originalEndLineNumber>o.modifiedStartLineNumber&&(p=new pa("diff.clipboard.copyDeletedLineContent",D("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber),void 0,!0,function(){return vk(u,void 0,void 0,function(){return mk(this,function(m){switch(m.label){case 0:return[4,this._clipboardService.writeText(o.originalContent[d])];case 1:return m.sent(),[2]}})})}),h.push(p));var v=i.getConfiguration().readOnly;return v||h.push(new pa("diff.inline.revertChange",D("diff.inline.revertChange.label","Revert this change"),void 0,!0,function(){return vk(u,void 0,void 0,function(){var m,m;return mk(this,function(_){return o.modifiedEndLineNumber===0?(m=i.getModel().getLineMaxColumn(o.modifiedStartLineNumber),i.executeEdits("diffEditor",[{range:new H(o.modifiedStartLineNumber,m,o.modifiedStartLineNumber,m),text:c+o.originalContent.join(c)}])):(m=i.getModel().getLineMaxColumn(o.modifiedEndLineNumber),i.executeEdits("diffEditor",[{range:new H(o.modifiedStartLineNumber,1,o.modifiedEndLineNumber,m),text:o.originalContent.join(c)}])),[2]})})})),u._register(mi(u._diffActions,"mousedown",function(m){var _=_i(u._diffActions),b=_.top,C=_.height,E=Math.floor(l/3);m.preventDefault(),u._contextMenuService.showContextMenu({getAnchor:function(){return{x:m.posx,y:b+C+E}},getActions:function(){return p&&(p.label=D("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber+d)),h},autoSelectFirstItem:!0})})),u._register(i.onMouseMove(function(m){if(m.target.type===8||m.target.type===5){var _=m.target.detail.viewZoneId;_===u._viewZoneId?(u.visibility=!0,d=u._updateLightBulbPosition(u._marginDomNode,m.event.browserEvent.y,l)):u.visibility=!1}else u.visibility=!1})),u}return Object.defineProperty(e.prototype,"visibility",{get:function(){return this._visibility},set:function(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")},enumerable:!0,configurable:!0}),e.prototype._updateLightBulbPosition=function(t,r,i){var o=_i(t).top,s=r-o,a=Math.floor(s/i),u=a*i;return this._diffActions.style.top=u+"px",a},e}(he),W_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PPe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Id=function(n,e){return function(t,r){e(t,r,n)}},Tz=function(){function n(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return n.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(r){return!t._zonesMap[String(r.id)]})},n.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(r){for(var i=0,o=t._zones.length;i<o;i++)r.removeZone(t._zones[i])}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},n.prototype.apply=function(e,t,r,i){var o=this,s=i?e3.capture(e):null;e.changeViewZones(function(a){for(var u=0,l=o._zones.length;u<l;u++)a.removeZone(o._zones[u]);for(var u=0,c=o.inlineDiffMargins.length;u<c;u++)o.inlineDiffMargins[u].dispose();o._zones=[],o._zonesMap={},o.inlineDiffMargins=[];for(var u=0,h=r.zones.length;u<h;u++){var d=r.zones[u];d.suppressMouseDown=!1;var p=a.addZone(d);o._zones.push(p),o._zonesMap[String(p)]=!0,r.zones[u].diff&&d.marginDomNode&&o._clipboardService&&o.inlineDiffMargins.push(new RPe(p,d.marginDomNode,e,r.zones[u].diff,o._contextMenuService,o._clipboardService))}}),s&&s.restore(e),this._decorations=e.deltaDecorations(this._decorations,r.decorations),t&&t.setZones(r.overviewZones)},n}(),MPe=0,t3=function(n){W_(e,n);function e(t,r,i,o,s,a,u,l,c,h){var d=n.call(this)||this;d._onDidDispose=d._register(new Q),d.onDidDispose=d._onDidDispose.event,d._onDidUpdateDiff=d._register(new Q),d.onDidUpdateDiff=d._onDidUpdateDiff.event,d._lastOriginalWarning=null,d._lastModifiedWarning=null,d._editorWorkerService=o,d._codeEditorService=u,d._contextKeyService=d._register(s.createScoped(t)),d._contextKeyService.createKey("isInDiffEditor",!0),d._themeService=l,d._notificationService=c,d.id=++MPe,d._domElement=t,r=r||{},d._renderSideBySide=!0,typeof r.renderSideBySide<"u"&&(d._renderSideBySide=r.renderSideBySide),d._ignoreTrimWhitespace=!0,typeof r.ignoreTrimWhitespace<"u"&&(d._ignoreTrimWhitespace=r.ignoreTrimWhitespace),d._renderIndicators=!0,typeof r.renderIndicators<"u"&&(d._renderIndicators=r.renderIndicators),d._originalIsEditable=!1,typeof r.originalEditable<"u"&&(d._originalIsEditable=!!r.originalEditable),d._updateDecorationsRunner=d._register(new Hr(function(){return d._updateDecorations()},0)),d._containerDomElement=document.createElement("div"),d._containerDomElement.className=e._getClassName(d._themeService.getTheme(),d._renderSideBySide),d._containerDomElement.style.position="relative",d._containerDomElement.style.height="100%",d._domElement.appendChild(d._containerDomElement),d._overviewViewportDomElement=wt(document.createElement("div")),d._overviewViewportDomElement.setClassName("diffViewport"),d._overviewViewportDomElement.setPosition("absolute"),d._overviewDomElement=document.createElement("div"),d._overviewDomElement.className="diffOverview",d._overviewDomElement.style.position="absolute",d._overviewDomElement.appendChild(d._overviewViewportDomElement.domNode),d._register(mi(d._overviewDomElement,"mousedown",function(E){d.modifiedEditor.delegateVerticalScrollbarMouseDown(E)})),d._containerDomElement.appendChild(d._overviewDomElement),d._originalDomNode=document.createElement("div"),d._originalDomNode.className="editor original",d._originalDomNode.style.position="absolute",d._originalDomNode.style.height="100%",d._containerDomElement.appendChild(d._originalDomNode),d._modifiedDomNode=document.createElement("div"),d._modifiedDomNode.className="editor modified",d._modifiedDomNode.style.position="absolute",d._modifiedDomNode.style.height="100%",d._containerDomElement.appendChild(d._modifiedDomNode),d._beginUpdateDecorationsTimeout=-1,d._currentlyChangingViewZones=!1,d._diffComputationToken=0,d._originalEditorState=new Tz(h,i),d._modifiedEditorState=new Tz(h,i),d._isVisible=!0,d._isHandlingScrollEvent=!1,d._width=0,d._height=0,d._reviewHeight=0,d._diffComputationResult=null;var p=d._contextKeyService.createScoped();p.createKey("isInDiffLeftEditor",!0);var v=new zm;v.set(yt,p);var m=a.createChild(v),_=d._contextKeyService.createScoped();_.createKey("isInDiffRightEditor",!0);var b=new zm;b.set(yt,_);var C=a.createChild(b);return d.originalEditor=d._createLeftHandSideEditor(r,m),d.modifiedEditor=d._createRightHandSideEditor(r,C),d._originalOverviewRuler=null,d._modifiedOverviewRuler=null,d._reviewPane=new LPe(d),d._containerDomElement.appendChild(d._reviewPane.domNode.domNode),d._containerDomElement.appendChild(d._reviewPane.shadow.domNode),d._containerDomElement.appendChild(d._reviewPane.actionBarContainer.domNode),r.automaticLayout?(d._measureDomElementToken=new R_,d._measureDomElementToken.cancelAndSet(function(){return d._measureDomElement(!1)},100)):d._measureDomElementToken=null,d._enableSplitViewResizing=!0,typeof r.enableSplitViewResizing<"u"&&(d._enableSplitViewResizing=r.enableSplitViewResizing),d._renderSideBySide?d._setStrategy(new Az(d._createDataSource(),d._enableSplitViewResizing)):d._setStrategy(new Iz(d._createDataSource(),d._enableSplitViewResizing)),d._register(l.onThemeChange(function(E){d._strategy&&d._strategy.applyColors(E)&&d._updateDecorationsRunner.schedule(),d._containerDomElement.className=e._getClassName(d._themeService.getTheme(),d._renderSideBySide)})),d._codeEditorService.addDiffEditor(d),d}return e.prototype.hasWidgetFocus=function(){return Nl(document.activeElement,this._domElement)},e.prototype.diffReviewNext=function(){this._reviewPane.next()},e.prototype.diffReviewPrev=function(){this._reviewPane.prev()},e._getClassName=function(t,r){var i="monaco-diff-editor monaco-editor-background ";return r&&(i+="side-by-side "),i+=GT(t.type),i},e.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},e.prototype._createLeftHandSideEditor=function(t,r){var i=this,o=this._createInnerEditor(r,this._originalDomNode,this._adjustOptionsForLeftHandSide(t,this._originalIsEditable));return this._register(o.onDidScrollChange(function(s){i._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(i._isHandlingScrollEvent=!0,i.modifiedEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(function(){i._onViewZonesChanged()})),this._register(o.onDidChangeModelContent(function(){i._isVisible&&i._beginUpdateDecorationsSoon()})),o},e.prototype._createRightHandSideEditor=function(t,r){var i=this,o=this._createInnerEditor(r,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t));return this._register(o.onDidScrollChange(function(s){i._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(i._isHandlingScrollEvent=!0,i.originalEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(function(){i._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(function(s){s.fontInfo&&o.getModel()&&i._onViewZonesChanged()})),this._register(o.onDidChangeModelContent(function(){i._isVisible&&i._beginUpdateDecorationsSoon()})),o},e.prototype._createInnerEditor=function(t,r,i){return t.createInstance(b5,r,i,{})},e.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._measureDomElementToken&&this._measureDomElementToken.dispose(),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),n.prototype.dispose.call(this)},e.prototype.getId=function(){return this.getEditorType()+":"+this.id},e.prototype.getEditorType=function(){return l2.IDiffEditor},e.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},e.prototype.getOriginalEditor=function(){return this.originalEditor},e.prototype.getModifiedEditor=function(){return this.modifiedEditor},e.prototype.updateOptions=function(t){var r=!1;typeof t.renderSideBySide<"u"&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,r=!0);var i=!1;typeof t.ignoreTrimWhitespace<"u"&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,i=!0),typeof t.renderIndicators<"u"&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),typeof t.originalEditable<"u"&&(this._originalIsEditable=!!t.originalEditable),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t,this._originalIsEditable)),typeof t.enableSplitViewResizing<"u"&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),r&&(this._renderSideBySide?this._setStrategy(new Az(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new Iz(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getTheme(),this._renderSideBySide))},e.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},e.prototype.setModel=function(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(t?t.original:null),this.modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,t?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._diffComputationResult=null,this._layoutOverviewViewport()},e.prototype.getDomNode=function(){return this._domElement},e.prototype.getVisibleColumnFromPosition=function(t){return this.modifiedEditor.getVisibleColumnFromPosition(t)},e.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},e.prototype.setPosition=function(t){this.modifiedEditor.setPosition(t)},e.prototype.revealLine=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealLine(t,r)},e.prototype.revealLineInCenter=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealLineInCenter(t,r)},e.prototype.revealLineInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(t,r)},e.prototype.revealPosition=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealPosition(t,r)},e.prototype.revealPositionInCenter=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealPositionInCenter(t,r)},e.prototype.revealPositionInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(t,r)},e.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},e.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},e.prototype.setSelection=function(t){this.modifiedEditor.setSelection(t)},e.prototype.setSelections=function(t){this.modifiedEditor.setSelections(t)},e.prototype.revealLines=function(t,r,i){i===void 0&&(i=0),this.modifiedEditor.revealLines(t,r,i)},e.prototype.revealLinesInCenter=function(t,r,i){i===void 0&&(i=0),this.modifiedEditor.revealLinesInCenter(t,r,i)},e.prototype.revealLinesInCenterIfOutsideViewport=function(t,r,i){i===void 0&&(i=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(t,r,i)},e.prototype.revealRange=function(t,r,i,o){r===void 0&&(r=0),i===void 0&&(i=!1),o===void 0&&(o=!0),this.modifiedEditor.revealRange(t,r,i,o)},e.prototype.revealRangeInCenter=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealRangeInCenter(t,r)},e.prototype.revealRangeInCenterIfOutsideViewport=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(t,r)},e.prototype.revealRangeAtTop=function(t,r){r===void 0&&(r=0),this.modifiedEditor.revealRangeAtTop(t,r)},e.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},e.prototype.saveViewState=function(){var t=this.originalEditor.saveViewState(),r=this.modifiedEditor.saveViewState();return{original:t,modified:r}},e.prototype.restoreViewState=function(t){if(t.original&&t.modified){var r=t;this.originalEditor.restoreViewState(r.original),this.modifiedEditor.restoreViewState(r.modified)}},e.prototype.layout=function(t){this._measureDomElement(!1,t)},e.prototype.focus=function(){this.modifiedEditor.focus()},e.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},e.prototype.trigger=function(t,r,i){this.modifiedEditor.trigger(t,r,i)},e.prototype.changeDecorations=function(t){return this.modifiedEditor.changeDecorations(t)},e.prototype._measureDomElement=function(t,r){if(r=r||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight},r.width<=0){this._width=0,this._height=0,this._reviewHeight=0;return}!t&&r.width===this._width&&r.height===this._height||(this._width=r.width,this._height=r.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},e.prototype._layoutOverviewRulers=function(){if(!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var t=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH,r=this.modifiedEditor.getLayoutInfo();r&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:t+e.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))}},e.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},e.prototype._beginUpdateDecorationsSoon=function(){var t=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return t._beginUpdateDecorations()},e.UPDATE_DIFF_DECORATIONS_DELAY)},e._equals=function(t,r){return!t&&!r?!0:!t||!r?!1:t.toString()===r.toString()},e.prototype._beginUpdateDecorations=function(){var t=this;this._beginUpdateDecorationsTimeout=-1;var r=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(!(!r||!i)){this._diffComputationToken++;var o=this._diffComputationToken;if(!this._editorWorkerService.canComputeDiff(r.uri,i.uri)){(!e._equals(r.uri,this._lastOriginalWarning)||!e._equals(i.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=r.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(D("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._editorWorkerService.computeDiff(r.uri,i.uri,this._ignoreTrimWhitespace).then(function(s){o===t._diffComputationToken&&r===t.originalEditor.getModel()&&i===t.modifiedEditor.getModel()&&(t._diffComputationResult=s,t._updateDecorationsRunner.schedule(),t._onDidUpdateDiff.fire())},function(s){o===t._diffComputationToken&&r===t.originalEditor.getModel()&&i===t.modifiedEditor.getModel()&&(t._diffComputationResult=null,t._updateDecorationsRunner.schedule())})}},e.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},e.prototype._updateDecorations=function(){if(!(!this.originalEditor.getModel()||!this.modifiedEditor.getModel()||!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var t=this._diffComputationResult?this._diffComputationResult.changes:[],r=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(t,this._ignoreTrimWhitespace,this._renderIndicators,r,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},e.prototype._adjustOptionsForSubEditor=function(t){var r=mc(t||{});return r.inDiffEditor=!0,r.wordWrap="off",r.wordWrapMinified=!1,r.automaticLayout=!1,r.scrollbar=r.scrollbar||{},r.scrollbar.vertical="visible",r.folding=!1,r.codeLens=!1,r.fixedOverflowWidgets=!0,r.minimap||(r.minimap={}),r.minimap.enabled=!1,r},e.prototype._adjustOptionsForLeftHandSide=function(t,r){var i=this._adjustOptionsForSubEditor(t);return i.readOnly=!r,i.overviewRulerLanes=1,i.extraEditorClassName="original-in-monaco-diff-editor",i},e.prototype._adjustOptionsForRightHandSide=function(t){var r=this._adjustOptionsForSubEditor(t);return r.revealHorizontalRightPadding=Ul.viewInfo.revealHorizontalRightPadding+e.ENTIRE_DIFF_OVERVIEW_WIDTH,r.scrollbar.verticalHasArrows=!1,r.extraEditorClassName="modified-in-monaco-diff-editor",r},e.prototype.doLayout=function(){this._measureDomElement(!0)},e.prototype._doLayout=function(){var t=this._strategy.layout();this._originalDomNode.style.width=t+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-t+"px",this._modifiedDomNode.style.left=t+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:t,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-t-e.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},e.prototype._layoutOverviewViewport=function(){var t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},e.prototype._computeOverviewViewport=function(){var t=this.modifiedEditor.getLayoutInfo();if(!t)return null;var r=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),o=Math.max(0,t.contentHeight),s=Math.max(0,o-2*0),a=i>0?s/i:0,u=Math.max(0,Math.floor(t.contentHeight*a)),l=Math.floor(r*a);return{height:u,top:l}},e.prototype._createDataSource=function(){var t=this;return{getWidth:function(){return t._width},getHeight:function(){return t._height-t._reviewHeight},getContainerDomNode:function(){return t._containerDomElement},relayoutEditors:function(){t._doLayout()},getOriginalEditor:function(){return t.originalEditor},getModifiedEditor:function(){return t.modifiedEditor}}},e.prototype._setStrategy=function(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._measureDomElement(!0)},e.prototype._getLineChangeAtOrBeforeLineNumber=function(t,r){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||t<r(i[0]))return null;for(var o=0,s=i.length-1;o<s;){var a=Math.floor((o+s)/2),u=r(i[a]),l=a+1<=s?r(i[a+1]):Number.MAX_VALUE;t<u?s=a-1:t>=l?o=a+1:(o=a,s=a)}return i[o]},e.prototype._getEquivalentLineForOriginalLineNumber=function(t){var r=this._getLineChangeAtOrBeforeLineNumber(t,function(l){return l.originalStartLineNumber});if(!r)return t;var i=r.originalStartLineNumber+(r.originalEndLineNumber>0?-1:0),o=r.modifiedStartLineNumber+(r.modifiedEndLineNumber>0?-1:0),s=r.originalEndLineNumber>0?r.originalEndLineNumber-r.originalStartLineNumber+1:0,a=r.modifiedEndLineNumber>0?r.modifiedEndLineNumber-r.modifiedStartLineNumber+1:0,u=t-i;return u<=s?o+Math.min(u,a):o+a-s+u},e.prototype._getEquivalentLineForModifiedLineNumber=function(t){var r=this._getLineChangeAtOrBeforeLineNumber(t,function(l){return l.modifiedStartLineNumber});if(!r)return t;var i=r.originalStartLineNumber+(r.originalEndLineNumber>0?-1:0),o=r.modifiedStartLineNumber+(r.modifiedEndLineNumber>0?-1:0),s=r.originalEndLineNumber>0?r.originalEndLineNumber-r.originalStartLineNumber+1:0,a=r.modifiedEndLineNumber>0?r.modifiedEndLineNumber-r.modifiedStartLineNumber+1:0,u=t-o;return u<=a?i+Math.min(u,s):i+s-a+u},e.prototype.getDiffLineInformationForOriginal=function(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null},e.prototype.getDiffLineInformationForModified=function(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null},e.ONE_OVERVIEW_WIDTH=15,e.ENTIRE_DIFF_OVERVIEW_WIDTH=30,e.UPDATE_DIFF_DECORATIONS_DELAY=200,e=PPe([Id(3,za),Id(4,yt),Id(5,pr),Id(6,In),Id(7,ei),Id(8,bi),Id(9,dg)],e),e}(he),Cne=function(n){W_(e,n);function e(t){var r=n.call(this)||this;return r._dataSource=t,r._insertColor=null,r._removeColor=null,r}return e.prototype.applyColors=function(t){var r=(t.getColor(Ute)||GM).transparent(2),i=(t.getColor(jte)||$M).transparent(2),o=!r.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=r,this._removeColor=i,o},e.prototype.getEditorsDiffDecorations=function(t,r,i,o,s,a,u){s=s.sort(function(d,p){return d.afterLineNumber-p.afterLineNumber}),o=o.sort(function(d,p){return d.afterLineNumber-p.afterLineNumber});var l=this._getViewZones(t,o,s,a,u,i),c=this._getOriginalEditorDecorations(t,r,i,a,u),h=this._getModifiedEditorDecorations(t,r,i,a,u);return{original:{decorations:c.decorations,overviewZones:c.overviewZones,zones:l.original},modified:{decorations:h.decorations,overviewZones:h.overviewZones,zones:l.modified}}},e}(he),Dz=function(){function n(e){this._source=e,this._index=-1,this.current=null,this.advance()}return n.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},n}(),wne=function(){function n(e,t,r){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=r}return n.prototype.getViewZones=function(){for(var e={original:[],modified:[]},t=0,r=0,i=0,o=0,s=0,a=0,u=function(L,O){return L.afterLineNumber-O.afterLineNumber},l=function(L,O){if(O.domNode===null&&L.length>0){var P=L[L.length-1];if(P.afterLineNumber===O.afterLineNumber&&P.domNode===null){P.heightInLines+=O.heightInLines;return}}L.push(O)},c=new Dz(this.modifiedForeignVZ),h=new Dz(this.originalForeignVZ),d=0,p=this.lineChanges.length;d<=p;d++){var v=d<p?this.lineChanges[d]:null;v!==null?(i=v.originalStartLineNumber+(v.originalEndLineNumber>0?-1:0),o=v.modifiedStartLineNumber+(v.modifiedEndLineNumber>0?-1:0),r=v.originalEndLineNumber>0?v.originalEndLineNumber-v.originalStartLineNumber+1:0,t=v.modifiedEndLineNumber>0?v.modifiedEndLineNumber-v.modifiedStartLineNumber+1:0,s=Math.max(v.originalStartLineNumber,v.originalEndLineNumber),a=Math.max(v.modifiedStartLineNumber,v.modifiedEndLineNumber)):(i+=1e7+r,o+=1e7+t,s=i,a=o);for(var m=[],_=[];c.current&&c.current.afterLineNumber<=a;){var b=void 0;c.current.afterLineNumber<=o?b=i-o+c.current.afterLineNumber:b=s;var C=null;v&&v.modifiedStartLineNumber<=c.current.afterLineNumber&&c.current.afterLineNumber<=v.modifiedEndLineNumber&&(C=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),m.push({afterLineNumber:b,heightInLines:c.current.heightInLines,domNode:null,marginDomNode:C}),c.advance()}for(;h.current&&h.current.afterLineNumber<=s;){var b=void 0;h.current.afterLineNumber<=i?b=o-i+h.current.afterLineNumber:b=a,_.push({afterLineNumber:b,heightInLines:h.current.heightInLines,domNode:null}),h.advance()}if(v!==null&&hm(v)){var E=this._produceOriginalFromDiff(v,r,t);E&&m.push(E)}if(v!==null&&dm(v)){var E=this._produceModifiedFromDiff(v,r,t);E&&_.push(E)}var S=0,A=0;for(m=m.sort(u),_=_.sort(u);S<m.length&&A<_.length;){var T=m[S],N=_[A],k=T.afterLineNumber-i,F=N.afterLineNumber-o;k<F?(l(e.original,T),S++):F<k?(l(e.modified,N),A++):T.shouldNotShrink?(l(e.original,T),S++):N.shouldNotShrink?(l(e.modified,N),A++):T.heightInLines>=N.heightInLines?(T.heightInLines-=N.heightInLines,A++):(N.heightInLines-=T.heightInLines,S++)}for(;S<m.length;)l(e.original,m[S]),S++;for(;A<_.length;)l(e.modified,_[A]),A++}return{original:n._ensureDomNodes(e.original),modified:n._ensureDomNodes(e.modified)}},n._ensureDomNodes=function(e){return e.map(function(t){return t.domNode||(t.domNode=HPe()),t})},n}();function vc(n,e,t,r,i){return{range:new H(n,e,t,r),options:i}}var go={charDelete:mt.register({className:"char-delete"}),charDeleteWholeLine:mt.register({className:"char-delete",isWholeLine:!0}),charInsert:mt.register({className:"char-insert"}),charInsertWholeLine:mt.register({className:"char-insert",isWholeLine:!0}),lineInsert:mt.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:mt.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:mt.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:mt.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:mt.register({marginClassName:"line-delete"})},Az=function(n){W_(e,n);function e(t,r){var i=n.call(this,t)||this;return i._disableSash=r===!1,i._sashRatio=null,i._sashPosition=null,i._startSashPosition=null,i._sash=i._register(new D2(i._dataSource.getContainerDomNode(),i)),i._disableSash&&(i._sash.state=0),i._sash.onDidStart(function(){return i.onSashDragStart()}),i._sash.onDidChange(function(o){return i.onSashDrag(o)}),i._sash.onDidEnd(function(){return i.onSashDragEnd()}),i._sash.onDidReset(function(){return i.onSashReset()}),i}return e.prototype.setEnableSplitViewResizing=function(t){var r=t===!1;this._disableSash!==r&&(this._disableSash=r,this._sash.state=this._disableSash?0:3)},e.prototype.layout=function(t){t===void 0&&(t=this._sashRatio);var r=this._dataSource.getWidth(),i=r-t3.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((t||.5)*i),s=Math.floor(.5*i);return o=this._disableSash?s:o||s,i>e.MINIMUM_EDITOR_WIDTH*2?(o<e.MINIMUM_EDITOR_WIDTH&&(o=e.MINIMUM_EDITOR_WIDTH),o>i-e.MINIMUM_EDITOR_WIDTH&&(o=i-e.MINIMUM_EDITOR_WIDTH)):o=s,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},e.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},e.prototype.onSashDrag=function(t){var r=this._dataSource.getWidth(),i=r-t3.ENTIRE_DIFF_OVERVIEW_WIDTH,o=this.layout((this._startSashPosition+(t.currentX-t.startX))/i);this._sashRatio=o/i,this._dataSource.relayoutEditors()},e.prototype.onSashDragEnd=function(){this._sash.layout()},e.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},e.prototype.getVerticalSashTop=function(t){return 0},e.prototype.getVerticalSashLeft=function(t){return this._sashPosition},e.prototype.getVerticalSashHeight=function(t){return this._dataSource.getHeight()},e.prototype._getViewZones=function(t,r,i,o,s){var a=new FPe(t,r,i);return a.getViewZones()},e.prototype._getOriginalEditorDecorations=function(t,r,i,o,s){for(var a=String(this._removeColor),u={decorations:[],overviewZones:[]},l=o.getModel(),c=0,h=t.length;c<h;c++){var d=t[c];if(dm(d)&&(u.decorations.push({range:new H(d.originalStartLineNumber,1,d.originalEndLineNumber,Number.MAX_VALUE),options:i?go.lineDeleteWithSign:go.lineDelete}),(!hm(d)||!d.charChanges)&&u.decorations.push(vc(d.originalStartLineNumber,1,d.originalEndLineNumber,Number.MAX_VALUE,go.charDeleteWholeLine)),u.overviewZones.push(new u1(d.originalStartLineNumber,d.originalEndLineNumber,a)),d.charChanges))for(var p=0,v=d.charChanges.length;p<v;p++){var m=d.charChanges[p];if(dm(m))if(r)for(var _=m.originalStartLineNumber;_<=m.originalEndLineNumber;_++){var b=void 0,C=void 0;_===m.originalStartLineNumber?b=m.originalStartColumn:b=l.getLineFirstNonWhitespaceColumn(_),_===m.originalEndLineNumber?C=m.originalEndColumn:C=l.getLineLastNonWhitespaceColumn(_),u.decorations.push(vc(_,b,_,C,go.charDelete))}else u.decorations.push(vc(m.originalStartLineNumber,m.originalStartColumn,m.originalEndLineNumber,m.originalEndColumn,go.charDelete))}}return u},e.prototype._getModifiedEditorDecorations=function(t,r,i,o,s){for(var a=String(this._insertColor),u={decorations:[],overviewZones:[]},l=s.getModel(),c=0,h=t.length;c<h;c++){var d=t[c];if(hm(d)&&(u.decorations.push({range:new H(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,Number.MAX_VALUE),options:i?go.lineInsertWithSign:go.lineInsert}),(!dm(d)||!d.charChanges)&&u.decorations.push(vc(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,Number.MAX_VALUE,go.charInsertWholeLine)),u.overviewZones.push(new u1(d.modifiedStartLineNumber,d.modifiedEndLineNumber,a)),d.charChanges))for(var p=0,v=d.charChanges.length;p<v;p++){var m=d.charChanges[p];if(hm(m))if(r)for(var _=m.modifiedStartLineNumber;_<=m.modifiedEndLineNumber;_++){var b=void 0,C=void 0;_===m.modifiedStartLineNumber?b=m.modifiedStartColumn:b=l.getLineFirstNonWhitespaceColumn(_),_===m.modifiedEndLineNumber?C=m.modifiedEndColumn:C=l.getLineLastNonWhitespaceColumn(_),u.decorations.push(vc(_,b,_,C,go.charInsert))}else u.decorations.push(vc(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn,go.charInsert))}}return u},e.MINIMUM_EDITOR_WIDTH=100,e}(Cne),FPe=function(n){W_(e,n);function e(t,r,i){return n.call(this,t,r,i)||this}return e.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},e.prototype._produceOriginalFromDiff=function(t,r,i){return i>r?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:i-r,domNode:null}:null},e.prototype._produceModifiedFromDiff=function(t,r,i){return r>i?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:r-i,domNode:null}:null},e}(wne),Iz=function(n){W_(e,n);function e(t,r){var i=n.call(this,t)||this;return i.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,i._register(t.getOriginalEditor().onDidLayoutChange(function(o){i.decorationsLeft!==o.decorationsLeft&&(i.decorationsLeft=o.decorationsLeft,t.relayoutEditors())})),i}return e.prototype.setEnableSplitViewResizing=function(t){},e.prototype._getViewZones=function(t,r,i,o,s,a){var u=new BPe(t,r,i,o,s,a);return u.getViewZones()},e.prototype._getOriginalEditorDecorations=function(t,r,i,o,s){for(var a=String(this._removeColor),u={decorations:[],overviewZones:[]},l=0,c=t.length;l<c;l++){var h=t[l];dm(h)&&(u.decorations.push({range:new H(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE),options:go.lineDeleteMargin}),u.overviewZones.push(new u1(h.originalStartLineNumber,h.originalEndLineNumber,a)))}return u},e.prototype._getModifiedEditorDecorations=function(t,r,i,o,s){for(var a=String(this._insertColor),u={decorations:[],overviewZones:[]},l=s.getModel(),c=0,h=t.length;c<h;c++){var d=t[c];if(hm(d))if(u.decorations.push({range:new H(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,Number.MAX_VALUE),options:i?go.lineInsertWithSign:go.lineInsert}),u.overviewZones.push(new u1(d.modifiedStartLineNumber,d.modifiedEndLineNumber,a)),d.charChanges)for(var p=0,v=d.charChanges.length;p<v;p++){var m=d.charChanges[p];if(hm(m))if(r)for(var _=m.modifiedStartLineNumber;_<=m.modifiedEndLineNumber;_++){var b=void 0,C=void 0;_===m.modifiedStartLineNumber?b=m.modifiedStartColumn:b=l.getLineFirstNonWhitespaceColumn(_),_===m.modifiedEndLineNumber?C=m.modifiedEndColumn:C=l.getLineLastNonWhitespaceColumn(_),u.decorations.push(vc(_,b,_,C,go.charInsert))}else u.decorations.push(vc(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn,go.charInsert))}else u.decorations.push(vc(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,Number.MAX_VALUE,go.charInsertWholeLine))}return u},e.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},e}(Cne),BPe=function(n){W_(e,n);function e(t,r,i,o,s,a){var u=n.call(this,t,r,i)||this;return u.originalModel=o.getModel(),u.modifiedEditorConfiguration=s.getConfiguration(),u.modifiedEditorTabSize=s.getModel().getOptions().tabSize,u.renderIndicators=a,u}return e.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var t=document.createElement("div");return t.className="inline-added-margin-view-zone",t},e.prototype._produceOriginalFromDiff=function(t,r,i){var o=document.createElement("div");return o.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:o}},e.prototype._produceModifiedFromDiff=function(t,r,i){var o=[];if(t.charChanges)for(var s=0,a=t.charChanges.length;s<a;s++){var u=t.charChanges[s];dm(u)&&o.push(new RS(new H(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn),"char-delete",0))}for(var l=r1(1e4),c=[],h=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,d=this.modifiedEditorConfiguration.lineHeight,p=this.modifiedEditorConfiguration.fontInfo.typicalHalfwidthCharacterWidth,v=0,m=[],_=t.originalStartLineNumber;_<=t.originalEndLineNumber;_++)if(v=Math.max(v,this._renderOriginalLine(_-t.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,_,o,l)),m.push(this.originalModel.getLineContent(_)),this.renderIndicators){var b=_-t.originalStartLineNumber;c=c.concat(['<div class="delete-sign" style="position:absolute;top:'+b*d+"px;width:"+h+"px;height:"+d+'px;right:0;"></div>'])}v+=this.modifiedEditorConfiguration.viewInfo.scrollBeyondLastColumn;var C=document.createElement("div");C.className="view-lines line-delete",C.innerHTML=l.build(),ya.applyFontInfoSlow(C,this.modifiedEditorConfiguration.fontInfo);var E=document.createElement("div");return E.className="inline-deleted-margin-view-zone",E.innerHTML=c.join(""),ya.applyFontInfoSlow(E,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:r,minWidthInPx:v*p,domNode:C,marginDomNode:E,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalContent:m}}},e.prototype._renderOriginalLine=function(t,r,i,o,s,a,u){var l=r.getLineTokens(s),c=l.getLineContent(),h=i1.filter(a,s,1,c.length+1);u.appendASCIIString('<div class="view-line'),a.length===0&&u.appendASCIIString(" char-delete"),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(t*i.lineHeight)),u.appendASCIIString('px;width:1000000px;">');var d=Lu.isBasicASCII(c,r.mightContainNonBasicASCII()),p=Lu.containsRTL(c,d,r.mightContainRTL()),v=W6(new P_(i.fontInfo.isMonospace&&!i.viewInfo.disableMonospaceOptimizations,i.fontInfo.canUseHalfwidthRightwardsArrow,c,!1,d,p,0,l,h,o,i.fontInfo.spaceWidth,i.viewInfo.stopRenderingLineAfter,i.viewInfo.renderWhitespace,i.viewInfo.renderControlCharacters,i.viewInfo.fontLigatures,null),u);u.appendASCIIString("</div>");var m=v.characterMapping.getAbsoluteOffsets();return m.length>0?m[m.length-1]:0},e}(wne);function hm(n){return n.modifiedEndLineNumber>0}function dm(n){return n.originalEndLineNumber>0}function HPe(){var n=document.createElement("div");return n.className="diagonal-fill",n}mn(function(n,e){var t=n.getColor(Ute);t&&(e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+t+"; }"),e.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+t+"; }"),e.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+t+"; }"));var r=n.getColor(jte);r&&(e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+r+"; }"),e.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+r+"; }"),e.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+r+"; }"));var i=n.getColor(COe);i&&e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+i+"; }");var o=n.getColor(wOe);o&&e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+o+"; }");var s=n.getColor(C2);s&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=n.getColor(EOe);a&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")});var pg=qt("themeService"),Dr=qt("keybindingService"),x2=qt("clipboardService"),A5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I5=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nn=function(n,e){return function(t,r){e(t,r,n)}},VPe=0,xz=!1;function WPe(){xz||(xz=!0,Gxe(document.body))}var Ene=function(n){A5(e,n);function e(t,r,i,o,s,a,u,l,c,h){var d=this;return r=r||{},r.ariaLabel=r.ariaLabel||tb.editorViewAccessibleLabel,r.ariaLabel=r.ariaLabel+";"+(Ls?tb.accessibilityHelpMessageIE:tb.accessibilityHelpMessage),d=n.call(this,t,r,{},i,o,s,a,l,c,h)||this,u instanceof Zee?d._standaloneKeybindingService=u:d._standaloneKeybindingService=null,WPe(),d}return e.prototype.addCommand=function(t,r,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var o="DYNAMIC_"+ ++VPe,s=Oe.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(o,t,r,s),o},e.prototype.createContextKey=function(t,r){return this._contextKeyService.createKey(t,r)},e.prototype.addAction=function(t){var r=this;if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),he.None;var i=t.id,o=t.label,s=Oe.and(Oe.equals("editorId",this.getId()),Oe.deserialize(t.precondition)),a=t.keybindings,u=Oe.and(s,Oe.deserialize(t.keybindingContext)),l=t.contextMenuGroupId||null,c=t.contextMenuOrder||0,h=function(){return Promise.resolve(t.run(r))},d=new Be,p=this.getId()+":"+i;if(d.add(Bi.registerCommand(p,h)),l){var v={command:{id:p,title:o},when:s,group:l,order:c};d.add(Nu.appendMenuItem(7,v))}if(Array.isArray(a))for(var m=0,_=a;m<_.length;m++){var b=_[m];d.add(this._standaloneKeybindingService.addDynamicKeybinding(p,b,h,u))}var C=new hne(p,o,o,s,h,this._contextKeyService);return this._actions[i]=C,d.add(bn(function(){delete r._actions[i]})),d},e=I5([Nn(2,pr),Nn(3,In),Nn(4,no),Nn(5,yt),Nn(6,Dr),Nn(7,ei),Nn(8,bi),Nn(9,ql)],e),e}(b5),UPe=function(n){A5(e,n);function e(t,r,i,o,s,a,u,l,c,h,d,p,v){var m=this;zT(p,r,!1),r=r||{},typeof r.theme=="string"&&h.setTheme(r.theme);var _=r.model;delete r.model,m=n.call(this,t,r,o,s,a,u,l,h,d,v)||this,m._contextViewService=c,m._configurationService=p,m._register(i);var b;if(typeof _>"u"?(b=self.monaco.editor.createModel(r.value||"",r.language||"text/plain"),m._ownsModel=!0):(b=_,m._ownsModel=!1),m._attachModel(b),b){var C={oldModelUrl:null,newModelUrl:b.uri};m._onDidChangeModel.fire(C)}return m}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.updateOptions=function(t){zT(this._configurationService,t,!1),n.prototype.updateOptions.call(this,t)},e.prototype._attachModel=function(t){n.prototype._attachModel.call(this,t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},e.prototype._postDetachModelCleanup=function(t){n.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)},e=I5([Nn(3,pr),Nn(4,In),Nn(5,no),Nn(6,yt),Nn(7,Dr),Nn(8,Hh),Nn(9,pg),Nn(10,bi),Nn(11,yi),Nn(12,ql)],e),e}(Ene),jPe=function(n){A5(e,n);function e(t,r,i,o,s,a,u,l,c,h,d,p,v,m){var _=this;return zT(p,r,!0),r=r||{},typeof r.theme=="string"&&(r.theme=h.setTheme(r.theme)),_=n.call(this,t,r,m,l,s,o,c,h,d,v)||this,_._contextViewService=u,_._configurationService=p,_._register(i),_._contextViewService.setContainer(_._containerDomElement),_}return e.prototype.dispose=function(){n.prototype.dispose.call(this)},e.prototype.updateOptions=function(t){zT(this._configurationService,t,!0),n.prototype.updateOptions.call(this,t)},e.prototype._createInnerEditor=function(t,r,i){return t.createInstance(Ene,r,i)},e.prototype.getOriginalEditor=function(){return n.prototype.getOriginalEditor.call(this)},e.prototype.getModifiedEditor=function(){return n.prototype.getModifiedEditor.call(this)},e.prototype.addCommand=function(t,r,i){return this.getModifiedEditor().addCommand(t,r,i)},e.prototype.createContextKey=function(t,r){return this.getModifiedEditor().createContextKey(t,r)},e.prototype.addAction=function(t){return this.getModifiedEditor().addAction(t)},e=I5([Nn(3,pr),Nn(4,yt),Nn(5,Dr),Nn(6,Hh),Nn(7,za),Nn(8,In),Nn(9,pg),Nn(10,bi),Nn(11,yi),Nn(12,dg),Nn(13,mp(x2))],e),e}(t3),x5=qt("IWorkspaceEditService"),Vh=qt("modeService"),qPe=function(){function n(e){this._languageIdentifier=e}return n.prototype.getId=function(){return this._languageIdentifier.language},n}(),_k="text/plain",Lz="application/unknown",iD=[],Sne=[],Tne=[];function qE(n,e){e===void 0&&(e=!1);var t=zPe(n);iD.push(t),t.userConfigured?Tne.push(t):Sne.push(t),e&&!t.userConfigured&&iD.forEach(function(r){r.mime===t.mime||r.userConfigured||(t.extension&&r.extension===t.extension&&console.warn("Overwriting extension <<"+t.extension+">> to now point to mime <<"+t.mime+">>"),t.filename&&r.filename===t.filename&&console.warn("Overwriting filename <<"+t.filename+">> to now point to mime <<"+t.mime+">>"),t.filepattern&&r.filepattern===t.filepattern&&console.warn("Overwriting filepattern <<"+t.filepattern+">> to now point to mime <<"+t.mime+">>"),t.firstline&&r.firstline===t.firstline&&console.warn("Overwriting firstline <<"+t.firstline+">> to now point to mime <<"+t.mime+">>"))})}function zPe(n){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:n.userConfigured,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?n.filepattern.toLowerCase():void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(Tr.sep)>=0:!1}}function GPe(n,e){var t;if(n)switch(n.scheme){case Tn.file:t=n.fsPath;break;case Tn.data:var r=Th.parseMetaData(n);t=r.get(Th.META_DATA_LABEL);break;default:t=n.path}if(!t)return[Lz];t=t.toLowerCase();var i=Vp(t),o=Nz(t,i,Tne);if(o)return[o,_k];var s=Nz(t,i,Sne);if(s)return[s,_k];if(e){var a=$Pe(e);if(a)return[a,_k]}return[Lz]}function Nz(n,e,t){for(var r=null,i=null,o=null,s=t.length-1;s>=0;s--){var a=t[s];if(e===a.filenameLowercase){r=a;break}if(a.filepattern&&(!i||a.filepattern.length>i.filepattern.length)){var u=a.filepatternOnPath?n:e;Iee(a.filepatternLowercase,u)&&(i=a)}a.extension&&(!o||a.extension.length>o.extension.length)&&Bc(e,a.extensionLowercase)&&(o=a)}return r?r.mime:i?i.mime:o?o.mime:null}function $Pe(n){if(S6(n)&&(n=n.substr(1)),n.length>0)for(var e=iD.length-1;e>=0;e--){var t=iD[e];if(t.firstline){var r=n.match(t.firstline);if(r&&r.length>0)return t.mime}}return null}var KPe={ModesRegistry:"editor.modesRegistry"},YPe=function(){function n(){this._onDidChangeLanguages=new Q,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}return n.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidChangeLanguages.fire(void 0)},n.prototype.getLanguages=function(){return[].concat(this._languages).concat(this._dynamicLanguages)},n}(),Ap=new YPe;Ro.add(KPe.ModesRegistry,Ap);var L5="plaintext",Dne=new k6(L5,1);Ap.registerLanguage({id:L5,extensions:[".txt",".gitignore"],aliases:[D("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]});Ot.register(Dne,{brackets:[["(",")"],["[","]"],["{","}"]]});var XPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xd=Object.prototype.hasOwnProperty,QPe=function(n){XPe(e,n);function e(t,r){t===void 0&&(t=!0),r===void 0&&(r=!1);var i=n.call(this)||this;return i._onDidChange=i._register(new Q),i.onDidChange=i._onDidChange.event,i._warnOnOverwrite=r,i._nextLanguageId2=1,i._languageIdToLanguage=[],i._languageToLanguageId=Object.create(null),i._languages={},i._mimeTypesMap={},i._nameMap={},i._lowercaseNameMap={},t&&(i._initializeFromRegistry(),i._register(Ap.onDidChangeLanguages(function(o){return i._initializeFromRegistry()}))),i}return e.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};var t=Ap.getLanguages();this._registerLanguages(t)},e.prototype._registerLanguages=function(t){for(var r=this,i=0,o=t;i<o.length;i++){var s=o[i];this._registerLanguage(s)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(a){var u=r._languages[a];u.name&&(r._nameMap[u.name]=u.identifier),u.aliases.forEach(function(l){r._lowercaseNameMap[l.toLowerCase()]=u.identifier}),u.mimetypes.forEach(function(l){r._mimeTypesMap[l]=u.identifier})}),Ro.as(M_.Configuration).registerOverrideIdentifiers(Ap.getLanguages().map(function(a){return a.id})),this._onDidChange.fire()},e.prototype._getLanguageId=function(t){if(this._languageToLanguageId[t])return this._languageToLanguageId[t];var r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=t,this._languageToLanguageId[t]=r,r},e.prototype._registerLanguage=function(t){var r=t.id,i;if(xd.call(this._languages,r))i=this._languages[r];else{var o=this._getLanguageId(r);i={identifier:new k6(r,o),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=i}this._mergeLanguage(i,t)},e.prototype._mergeLanguage=function(t,r){var i,o=r.id,s=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&((i=t.mimetypes).push.apply(i,r.mimetypes),s=r.mimetypes[0]),s||(s="text/x-"+o,t.mimetypes.push(s)),Array.isArray(r.extensions))for(var a=0,u=r.extensions;a<u.length;a++){var l=u[a];qE({id:o,mime:s,extension:l},this._warnOnOverwrite),t.extensions.push(l)}if(Array.isArray(r.filenames))for(var c=0,h=r.filenames;c<h.length;c++){var d=h[c];qE({id:o,mime:s,filename:d},this._warnOnOverwrite),t.filenames.push(d)}if(Array.isArray(r.filenamePatterns))for(var p=0,v=r.filenamePatterns;p<v.length;p++){var m=v[p];qE({id:o,mime:s,filepattern:m},this._warnOnOverwrite)}if(typeof r.firstLine=="string"&&r.firstLine.length>0){var _=r.firstLine;_.charAt(0)!=="^"&&(_="^"+_);try{var b=new RegExp(_);fAe(b)||qE({id:o,mime:s,firstline:b},this._warnOnOverwrite)}catch(k){He(k)}}t.aliases.push(o);var C=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?C=[null]:C=r.aliases),C!==null)for(var E=0,S=C;E<S.length;E++){var A=S[E];!A||A.length===0||t.aliases.push(A)}var T=C!==null&&C.length>0;if(!(T&&C[0]===null)){var N=(T?C[0]:null)||o;(T||!t.name)&&(t.name=N)}r.configuration&&t.configurationFiles.push(r.configuration)},e.prototype.isRegisteredMode=function(t){return xd.call(this._mimeTypesMap,t)?!0:xd.call(this._languages,t)},e.prototype.getModeIdForLanguageNameLowercase=function(t){return xd.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t].language:null},e.prototype.extractModeIds=function(t){var r=this;return t?t.split(",").map(function(i){return i.trim()}).map(function(i){return xd.call(r._mimeTypesMap,i)?r._mimeTypesMap[i].language:i}).filter(function(i){return xd.call(r._languages,i)}):[]},e.prototype.getLanguageIdentifier=function(t){if(t===P6||t===0)return jT;var r;if(typeof t=="string")r=t;else if(r=this._languageIdToLanguage[t],!r)return null;return xd.call(this._languages,r)?this._languages[r].identifier:null},e.prototype.getModeIdsFromFilepathOrFirstLine=function(t,r){if(!t&&!r)return[];var i=GPe(t,r);return this.extractModeIds(i.join(","))},e}(he),ZPe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oz=function(n){ZPe(e,n);function e(t,r){var i=n.call(this)||this;return i._onDidChange=i._register(new Q),i.onDidChange=i._onDidChange.event,i._selector=r,i.languageIdentifier=i._selector(),i._register(t(function(){return i._evaluate()})),i}return e.prototype._evaluate=function(){var t=this._selector();t.id!==this.languageIdentifier.id&&(this.languageIdentifier=t,this._onDidChange.fire(this.languageIdentifier))},e}(he),JPe=function(){function n(e){var t=this;e===void 0&&(e=!1),this._onDidCreateMode=new Q,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new Q,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new QPe(!0,e),this._registry.onDidChange(function(){return t._onLanguagesMaybeChanged.fire()})}return n.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},n.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},n.prototype.getModeIdByFilepathOrFirstLine=function(e,t){var r=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return r.length>0?r[0]:null},n.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},n.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)},n.prototype.create=function(e){var t=this;return new Oz(this.onLanguagesMaybeChanged,function(){var r=t.getModeId(e);return t._createModeAndGetLanguageIdentifier(r)})},n.prototype.createByFilepathOrFirstLine=function(e,t){var r=this;return new Oz(this.onLanguagesMaybeChanged,function(){var i=r.getModeIdByFilepathOrFirstLine(e,t);return r._createModeAndGetLanguageIdentifier(i)})},n.prototype._createModeAndGetLanguageIdentifier=function(e){var t=this.getLanguageIdentifier(e||"plaintext")||jT;return this._getOrCreateMode(t.language),t},n.prototype.triggerMode=function(e){var t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")},n.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e)||jT;this._instantiatedModes[e]=new qPe(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]},n}(),eMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kz=function(n,e){return function(t,r){e(t,r,n)}};function zE(n){return n.toString()}var nMe=function(){function n(e,t,r){this._modelEventListeners=new Be,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(function(){return t(e)})),this._modelEventListeners.add(e.onDidChangeLanguage(function(i){return r(e,i)}))}return n.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},n.prototype.dispose=function(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()},n.prototype.setLanguage=function(e){var t=this;this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(function(){return t.model.setMode(e.languageIdentifier)}),this.model.setMode(e.languageIdentifier)},n}(),rMe=Xc||Tt?1:2,iMe=function(n){eMe(e,n);function e(t,r){var i=n.call(this)||this;return i._onModelAdded=i._register(new Q),i.onModelAdded=i._onModelAdded.event,i._onModelRemoved=i._register(new Q),i.onModelRemoved=i._onModelRemoved.event,i._onModelModeChanged=i._register(new Q),i.onModelModeChanged=i._onModelModeChanged.event,i._configurationService=t,i._resourcePropertiesService=r,i._models={},i._modelCreationOptionsByLanguageAndResource=Object.create(null),i._configurationServiceSubscription=i._configurationService.onDidChangeConfiguration(function(o){return i._updateModelOptions()}),i._updateModelOptions(),i}return e._readModelOptions=function(t,r){var i=pu.tabSize;if(t.editor&&typeof t.editor.tabSize<"u"){var o=parseInt(t.editor.tabSize,10);isNaN(o)||(i=o),i<1&&(i=1)}var s=i;if(t.editor&&typeof t.editor.indentSize<"u"&&t.editor.indentSize!=="tabSize"){var a=parseInt(t.editor.indentSize,10);isNaN(a)||(s=a),s<1&&(s=1)}var u=pu.insertSpaces;t.editor&&typeof t.editor.insertSpaces<"u"&&(u=t.editor.insertSpaces==="false"?!1:!!t.editor.insertSpaces);var l=rMe,c=t.eol;c===`\r
`?l=2:c===`
`&&(l=1);var h=pu.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace<"u"&&(h=t.editor.trimAutoWhitespace==="false"?!1:!!t.editor.trimAutoWhitespace);var d=pu.detectIndentation;t.editor&&typeof t.editor.detectIndentation<"u"&&(d=t.editor.detectIndentation==="false"?!1:!!t.editor.detectIndentation);var p=pu.largeFileOptimizations;return t.editor&&typeof t.editor.largeFileOptimizations<"u"&&(p=t.editor.largeFileOptimizations==="false"?!1:!!t.editor.largeFileOptimizations),{isForSimpleWidget:r,tabSize:i,indentSize:s,insertSpaces:u,detectIndentation:d,defaultEOL:l,trimAutoWhitespace:h,largeFileOptimizations:p}},e.prototype.getCreationOptions=function(t,r,i){var o=this._modelCreationOptionsByLanguageAndResource[t+r];if(!o){var s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:r}),a=this._resourcePropertiesService.getEOL(r,t);o=e._readModelOptions({editor:s,eol:a},i),this._modelCreationOptionsByLanguageAndResource[t+r]=o}return o},e.prototype._updateModelOptions=function(){var t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var r=Object.keys(this._models),i=0,o=r.length;i<o;i++){var s=r[i],a=this._models[s],u=a.model.getLanguageIdentifier().language,l=a.model.uri,c=t[u+l],h=this.getCreationOptions(u,l,a.model.isForSimpleWidget);e._setModelOptionsForModel(a.model,h,c)}},e._setModelOptionsForModel=function(t,r,i){i&&i.detectIndentation===r.detectIndentation&&i.insertSpaces===r.insertSpaces&&i.tabSize===r.tabSize&&i.indentSize===r.indentSize&&i.trimAutoWhitespace===r.trimAutoWhitespace||(r.detectIndentation?(t.detectIndentation(r.insertSpaces,r.tabSize),t.updateOptions({trimAutoWhitespace:r.trimAutoWhitespace})):t.updateOptions({insertSpaces:r.insertSpaces,tabSize:r.tabSize,indentSize:r.indentSize,trimAutoWhitespace:r.trimAutoWhitespace}))},e.prototype.dispose=function(){this._configurationServiceSubscription.dispose(),n.prototype.dispose.call(this)},e.prototype._createModelData=function(t,r,i,o){var s=this,a=this.getCreationOptions(r.language,i,o),u=new H_(t,a,r,i),l=zE(u.uri);if(this._models[l])throw new Error("ModelService: Cannot add model because it already exists!");var c=new nMe(u,function(h){return s._onWillDispose(h)},function(h,d){return s._onDidChangeLanguage(h,d)});return this._models[l]=c,c},e.prototype.createModel=function(t,r,i,o){o===void 0&&(o=!1);var s;return r?(s=this._createModelData(t,r.languageIdentifier,i,o),this.setMode(s.model,r)):s=this._createModelData(t,Dne,i,o),this._onModelAdded.fire(s.model),s.model},e.prototype.setMode=function(t,r){if(r){var i=this._models[zE(t.uri)];i&&i.setLanguage(r)}},e.prototype.getModels=function(){for(var t=[],r=Object.keys(this._models),i=0,o=r.length;i<o;i++){var s=r[i];t.push(this._models[s].model)}return t},e.prototype.getModel=function(t){var r=zE(t),i=this._models[r];return i?i.model:null},e.prototype._onWillDispose=function(t){var r=zE(t.uri),i=this._models[r];delete this._models[r],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)},e.prototype._onDidChangeLanguage=function(t,r){var i=r.oldLanguage,o=t.getLanguageIdentifier().language,s=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),a=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,a,s),this._onModelModeChanged.fire({model:t,oldModeId:i})},e=tMe([kz(0,yi),kz(1,Pee)],e),e}(he),oMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sMe=function(n){oMe(e,n);function e(){var t=n.call(this)||this;return t._onCodeEditorAdd=t._register(new Q),t.onCodeEditorAdd=t._onCodeEditorAdd.event,t._onCodeEditorRemove=t._register(new Q),t.onCodeEditorRemove=t._onCodeEditorRemove.event,t._onDiffEditorAdd=t._register(new Q),t._onDiffEditorRemove=t._register(new Q),t._codeEditors=Object.create(null),t._diffEditors=Object.create(null),t}return e.prototype.addCodeEditor=function(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)},e.prototype.removeCodeEditor=function(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)},e.prototype.listCodeEditors=function(){var t=this;return Object.keys(this._codeEditors).map(function(r){return t._codeEditors[r]})},e.prototype.addDiffEditor=function(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)},e.prototype.removeDiffEditor=function(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)},e.prototype.listDiffEditors=function(){var t=this;return Object.keys(this._diffEditors).map(function(r){return t._diffEditors[r]})},e.prototype.getFocusedCodeEditor=function(){for(var t=null,r=this.listCodeEditors(),i=0,o=r;i<o.length;i++){var s=o[i];if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(t=s)}return t},e}(he),aMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lMe=function(n,e){return function(t,r){e(t,r,n)}},cMe=function(n){aMe(e,n);function e(t,r){r===void 0&&(r=Fh());var i=n.call(this)||this;return i._decorationOptionProviders=new Map,i._styleSheet=r,i._themeService=t,i}return e.prototype.registerDecorationType=function(t,r,i){var o=this._decorationOptionProviders.get(t);if(!o){var s={styleSheet:this._styleSheet,key:t,parentTypeKey:i,options:r||Object.create(null)};i?o=new fMe(this._themeService,s):o=new hMe(this._themeService,s),this._decorationOptionProviders.set(t,o)}o.refCount++},e.prototype.removeDecorationType=function(t){var r=this._decorationOptionProviders.get(t);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(t),r.dispose(),this.listCodeEditors().forEach(function(i){return i.removeDecorations(t)})))},e.prototype.resolveDecorationOptions=function(t,r){var i=this._decorationOptionProviders.get(t);if(!i)throw new Error("Unknown decoration type key: "+t);return i.getOptions(this,r)},e=uMe([lMe(0,ei)],e),e}(sMe),fMe=function(){function n(e,t){this._parentTypeKey=t.parentTypeKey,this.refCount=0,this._beforeContentRules=new oD(3,t,e),this._afterContentRules=new oD(4,t,e)}return n.prototype.getOptions=function(e,t){var r=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(r.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(r.afterContentClassName=this._afterContentRules.className),r},n.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},n}(),hMe=function(){function n(e,t){var r=this;this._disposables=new Be,this.refCount=0;var i=function(c){var h=new oD(c,t,e);if(r._disposables.add(h),h.hasContent)return h.className},o=function(c){var h=new oD(c,t,e);return r._disposables.add(h),h.hasContent?{className:h.className,hasLetterSpacing:h.hasLetterSpacing}:null};this.className=i(0);var s=o(1);s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=i(3),this.afterContentClassName=i(4),this.glyphMarginClassName=i(2);var a=t.options;this.isWholeLine=!!a.isWholeLine,this.stickiness=a.rangeBehavior;var u=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,l=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;(typeof u<"u"||typeof l<"u")&&(this.overviewRuler={color:u||l,darkColor:l||u,position:a.overviewRulerLane||da.Center})}return n.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},n.prototype.dispose=function(){this._disposables.dispose()},n}(),cy={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},oD=function(){function n(e,t,r){var i=this;this._theme=r.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var o=yk.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(o=o+" "+yk.getClassName(this._providerArgs.parentTypeKey,e)),this._className=o,this._unThemedSelector=yk.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=r.onThemeChange(function(s){i._theme=r.getTheme(),i._removeCSS(),i._buildCSS()}):this._themeListener=null}return n.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(n.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),n.prototype._buildCSS=function(){var e=this._providerArgs.options,t,r,i;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),r=this.getCSSTextForModelDecorationClassName(e.light),i=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),r=this.getCSSTextForModelDecorationInlineClassName(e.light),i=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),r=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),r=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),r=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var o=this._providerArgs.styleSheet.sheet,s=!1;t.length>0&&(o.insertRule(this._unThemedSelector+" {"+t+"}",0),s=!0),r.length>0&&(o.insertRule(".vs"+this._unThemedSelector+" {"+r+"}",0),s=!0),i.length>0&&(o.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+i+"}",0),s=!0),this._hasContent=s},n.prototype._removeCSS=function(){SM(this._unThemedSelector,this._providerArgs.styleSheet)},n.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},n.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},n.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if(typeof e<"u"){if(this.collectBorderSettingsCSSText(e,t),typeof e.contentIconPath<"u"&&t.push(Yt(cy.contentIconPath,jj(Ft.revive(e.contentIconPath)))),typeof e.contentText=="string"){var r=e.contentText.match(/^.*$/m)[0],i=r.replace(/['\\]/g,"\\$&");t.push(Yt(cy.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},n.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return typeof e.gutterIconPath<"u"&&(t.push(Yt(cy.gutterIconPath,jj(Ft.revive(e.gutterIconPath)))),typeof e.gutterIconSize<"u"&&t.push(Yt(cy.gutterIconSize,e.gutterIconSize))),t.join("")},n.prototype.collectBorderSettingsCSSText=function(e,t){return this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(Yt("box-sizing: border-box;")),!0):!1},n.prototype.collectCSSText=function(e,t,r){for(var i=r.length,o=0,s=t;o<s.length;o++){var a=s[o],u=this.resolveValue(e[a]);typeof u=="string"&&r.push(Yt(cy[a],u))}return r.length!==i},n.prototype.resolveValue=function(e){if(JAe(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},n}(),yk=function(){function n(){}return n.getClassName=function(e,t){return"ced-"+e+"-"+t},n.getSelector=function(e,t,r){var i=".monaco-editor ."+this.getClassName(e,r);return t&&(i=i+"."+this.getClassName(t,r)),r===3?i+="::before":r===4&&(i+="::after"),i},n}(),dMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pMe=function(n){dMe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getActiveCodeEditor=function(){return null},e.prototype.openCodeEditor=function(t,r,i){return r?Promise.resolve(this.doOpenEditor(r,t)):Promise.resolve(null)},e.prototype.doOpenEditor=function(t,r){var i=this.findModel(t,r.resource);if(!i){if(r.resource){var o=r.resource.scheme;if(o===Tn.http||o===Tn.https)return cee(r.resource.toString()),t}return null}var s=r.options?r.options.selection:null;if(s)if(typeof s.endLineNumber=="number"&&typeof s.endColumn=="number")t.setSelection(s),t.revealRangeInCenter(s,1);else{var a={lineNumber:s.startLineNumber,column:s.startColumn};t.setPosition(a),t.revealPositionInCenter(a,1)}return t},e.prototype.findModel=function(t,r){var i=t.getModel();return i&&i.uri.toString()!==r.toString()?null:i},e}(cMe),gMe=function(){function n(e,t,r,i,o){this.token=e,this.index=t,this.fontStyle=r,this.foreground=i,this.background=o}return n}();function vMe(n){if(!n||!Array.isArray(n))return[];for(var e=[],t=0,r=0,i=n.length;r<i;r++){var o=n[r],s=-1;if(typeof o.fontStyle=="string"){s=0;for(var a=o.fontStyle.split(" "),u=0,l=a.length;u<l;u++){var c=a[u];switch(c){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break}}}var h=null;typeof o.foreground=="string"&&(h=o.foreground);var d=null;typeof o.background=="string"&&(d=o.background),e[t++]=new gMe(o.token||"",r,s,h,d)}return e}function mMe(n,e){n.sort(function(b,C){var E=wMe(b.token,C.token);return E!==0?E:b.index-C.index});for(var t=0,r="000000",i="ffffff";n.length>=1&&n[0].token==="";){var o=n.shift();o.fontStyle!==-1&&(t=o.fontStyle),o.foreground!==null&&(r=o.foreground),o.background!==null&&(i=o.background)}for(var s=new yMe,a=0,u=e;a<u.length;a++){var l=u[a];s.getId(l)}for(var c=s.getId(r),h=s.getId(i),d=new EMe(t,c,h),p=new SMe(d),v=0,m=n.length;v<m;v++){var _=n[v];p.insert(_.token,_.fontStyle,s.getId(_.foreground),s.getId(_.background))}return new Ane(s,p)}var _Me=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,yMe=function(){function n(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return n.prototype.getId=function(e){if(e===null)return 0;var t=e.match(_Me);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var r=this._color2id.get(e);return r||(r=++this._lastColorId,this._color2id.set(e,r),this._id2color[r]=ae.fromHex("#"+e),r)},n.prototype.getColorMap=function(){return this._id2color.slice(0)},n}(),Ane=function(){function n(e,t){this._colorMap=e,this._root=t,this._cache=new Map}return n.createFromRawTokenTheme=function(e,t){return this.createFromParsedTokenTheme(vMe(e),t)},n.createFromParsedTokenTheme=function(e,t){return mMe(e,t)},n.prototype.getColorMap=function(){return this._colorMap.getColorMap()},n.prototype._match=function(e){return this._root.match(e)},n.prototype.match=function(e,t){var r=this._cache.get(t);if(typeof r>"u"){var i=this._match(t),o=CMe(t);r=(i.metadata|o<<8)>>>0,this._cache.set(t,r)}return(r|e<<0)>>>0},n}(),bMe=/\b(comment|string|regex|regexp)\b/;function CMe(n){var e=n.match(bMe);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function wMe(n,e){return n<e?-1:n>e?1:0}var EMe=function(){function n(e,t,r){this._fontStyle=e,this._foreground=t,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return n.prototype.clone=function(){return new n(this._fontStyle,this._foreground,this._background)},n.prototype.acceptOverwrite=function(e,t,r){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},n}(),SMe=function(){function n(e){this._mainRule=e,this._children=new Map}return n.prototype.match=function(e){if(e==="")return this._mainRule;var t=e.indexOf("."),r,i;t===-1?(r=e,i=""):(r=e.substring(0,t),i=e.substring(t+1));var o=this._children.get(r);return typeof o<"u"?o.match(i):this._mainRule},n.prototype.insert=function(e,t,r,i){if(e===""){this._mainRule.acceptOverwrite(t,r,i);return}var o=e.indexOf("."),s,a;o===-1?(s=e,a=""):(s=e.substring(0,o),a=e.substring(o+1));var u=this._children.get(s);typeof u>"u"&&(u=new n(this._mainRule.clone()),this._children.set(s,u)),u.insert(a,t,r,i)},n}();function TMe(n){for(var e=[],t=1,r=n.length;t<r;t++){var i=n[t];e[t]=".mtk"+t+" { color: "+i+"; }"}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.join(`
`)}var vf,mf,vv,DMe={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(vf={},vf[_l]="#FFFFFE",vf[ch]="#000000",vf[l5]="#E5EBF1",vf[w2]="#D3D3D3",vf[E2]="#939393",vf[c5]="#ADD6FF4D",vf)},AMe={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(mf={},mf[_l]="#1E1E1E",mf[ch]="#D4D4D4",mf[l5]="#3A3D41",mf[w2]="#404040",mf[E2]="#707070",mf[c5]="#ADD6FF26",mf)},IMe={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(vv={},vv[_l]="#000000",vv[ch]="#FFFFFF",vv[w2]="#FFFFFF",vv[E2]="#FFFFFF",vv)},ap="vs",sD="vs-dark",l1="hc-black",xMe=Ro.as(Tte.ColorContribution),LMe=Ro.as(cte.ThemingContribution),Ine=function(){function n(e,t){this.themeData=t;var r=t.base;e.length>0?(this.id=r+" "+e,this.themeName=e):(this.id=r,this.themeName=r),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(n.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),n.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},n.prototype.getColors=function(){if(!this.colors){var e=new Map;for(var t in this.themeData.colors)e.set(t,ae.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){var r=n3(this.themeData.base);for(var t in r.colors)e.has(t)||e.set(t,ae.fromHex(r.colors[t]))}this.colors=e}return this.colors},n.prototype.getColor=function(e,t){var r=this.getColors().get(e);if(r)return r;if(t!==!1)return this.getDefault(e)},n.prototype.getDefault=function(e){var t=this.defaultColors[e];return t||(t=xMe.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)},n.prototype.defines=function(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)},Object.defineProperty(n.prototype,"type",{get:function(){switch(this.base){case ap:return"light";case l1:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var e=[],t=[];if(this.themeData.inherit){var r=n3(this.themeData.base);e=r.rules,r.encodedTokensColors&&(t=r.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Ane.createFromRawTokenTheme(e,t)}return this._tokenTheme},enumerable:!0,configurable:!0}),n}();function bk(n){return n===ap||n===sD||n===l1}function n3(n){switch(n){case ap:return DMe;case sD:return AMe;case l1:return IMe}}function Ck(n){var e=n3(n);return new Ine(n,e)}var NMe=function(){function n(){this.environment=Object.create(null),this._onThemeChange=new Q,this._onIconThemeChange=new Q,this._knownThemes=new Map,this._knownThemes.set(ap,Ck(ap)),this._knownThemes.set(sD,Ck(sD)),this._knownThemes.set(l1,Ck(l1)),this._styleElement=Fh(),this._styleElement.className="monaco-colors",this.setTheme(ap)}return Object.defineProperty(n.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),n.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!bk(t.base)&&!bk(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Ine(e,t)),bk(e)&&this._knownThemes.forEach(function(r){r.base===e&&r.notifyBaseUpdated()}),this._theme&&this._theme.themeName===e&&this.setTheme(e)},n.prototype.getTheme=function(){return this._theme},n.prototype.setTheme=function(e){var t=this,r;if(this._knownThemes.has(e)?r=this._knownThemes.get(e):r=this._knownThemes.get(ap),this._theme===r)return r.id;this._theme=r;var i=[],o={},s={addRule:function(l){o[l]||(i.push(l),o[l]=!0)}};LMe.getThemingParticipants().forEach(function(l){return l(r,s,t.environment)});var a=r.tokenTheme,u=a.getColorMap();return s.addRule(TMe(u)),this._styleElement.innerHTML=i.join(`
`),Vn.setColorMap(u),this._onThemeChange.fire(r),r.id},n.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},n}(),L2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kMe=function(n,e){return function(t,r){e(t,r,n)}},aD="data-keybinding-context",N5=function(){function n(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return n.prototype.setValue=function(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1},n.prototype.removeValue=function(e){return e in this._value?(delete this._value[e],!0):!1},n.prototype.getValue=function(e){var t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t},n}(),uD=function(n){L2(e,n);function e(){return n.call(this,-1,null)||this}return e.prototype.setValue=function(t,r){return!1},e.prototype.removeValue=function(t){return!1},e.prototype.getValue=function(t){},e.INSTANCE=new e,e}(N5),RMe=function(n){L2(e,n);function e(t,r,i){var o=n.call(this,t,null)||this;return o._configurationService=r,o._values=new Map,o._listener=o._configurationService.onDidChangeConfiguration(function(s){if(s.source===6){var a=Xb(o._values);o._values.clear(),i.fire(new Pz(a))}else{for(var u=[],l=0,c=s.affectedKeys;l<c.length;l++){var h=c[l],d="config."+h;o._values.has(d)&&(o._values.delete(d),u.push(d))}i.fire(new Pz(u))}}),o}return e.prototype.dispose=function(){this._listener.dispose()},e.prototype.getValue=function(t){if(t.indexOf(e._keyPrefix)!==0)return n.prototype.getValue.call(this,t);if(this._values.has(t))return this._values.get(t);var r=t.substr(e._keyPrefix.length),i=this._configurationService.getValue(r),o=void 0;switch(typeof i){case"number":case"boolean":case"string":o=i;break}return this._values.set(t,o),o},e.prototype.setValue=function(t,r){return n.prototype.setValue.call(this,t,r)},e.prototype.removeValue=function(t){return n.prototype.removeValue.call(this,t)},e._keyPrefix="config.",e}(N5),PMe=function(){function n(e,t,r){this._service=e,this._key=t,this._defaultValue=r,this.reset()}return n.prototype.set=function(e){this._service.setContext(this._key,e)},n.prototype.reset=function(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)},n.prototype.get=function(){return this._service.getContextKeyValue(this._key)},n}(),Rz=function(){function n(e){this.key=e}return n.prototype.affectsSome=function(e){return e.has(this.key)},n}(),Pz=function(){function n(e){this.keys=e}return n.prototype.affectsSome=function(e){for(var t=0,r=this.keys;t<r.length;t++){var i=r[t];if(e.has(i))return!0}return!1},n}(),MMe=function(){function n(e){this.events=e}return n.prototype.affectsSome=function(e){for(var t=0,r=this.events;t<r.length;t++){var i=r[t];if(i.affectsSome(e))return!0}return!1},n}(),xne=function(){function n(e){this._onDidChangeContext=new hDe({merge:function(t){return new MMe(t)}}),this._isDisposed=!1,this._myContextId=e}return n.prototype.createKey=function(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new PMe(this,e,t)},Object.defineProperty(n.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext.event},enumerable:!0,configurable:!0}),n.prototype.bufferChangeEvents=function(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}},n.prototype.createScoped=function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new BMe(this,e)},n.prototype.contextMatchesRules=function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var t=this.getContextValuesContainer(this._myContextId),r=$ee.contextMatchesRules(t,e);return r},n.prototype.getContextKeyValue=function(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)},n.prototype.setContext=function(e,t){if(!this._isDisposed){var r=this.getContextValuesContainer(this._myContextId);r&&r.setValue(e,t)&&this._onDidChangeContext.fire(new Rz(e))}},n.prototype.removeContext=function(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Rz(e))},n.prototype.getContext=function(e){return this._isDisposed?uD.INSTANCE:this.getContextValuesContainer(HMe(e))},n}(),FMe=function(n){L2(e,n);function e(t){var r=n.call(this,0)||this;r._contexts=new Map,r._toDispose=new Be,r._lastContextId=0;var i=new RMe(r._myContextId,t,r._onDidChangeContext);return r._contexts.set(r._myContextId,i),r._toDispose.add(i),r}return e.prototype.dispose=function(){this._isDisposed=!0,this._toDispose.dispose()},e.prototype.getContextValuesContainer=function(t){return this._isDisposed?uD.INSTANCE:this._contexts.get(t)||uD.INSTANCE},e.prototype.createChildContext=function(t){if(t===void 0&&(t=this._myContextId),this._isDisposed)throw new Error("ContextKeyService has been disposed");var r=++this._lastContextId;return this._contexts.set(r,new N5(r,this.getContextValuesContainer(t))),r},e.prototype.disposeContext=function(t){this._isDisposed||this._contexts.delete(t)},e=OMe([kMe(0,yi)],e),e}(xne),BMe=function(n){L2(e,n);function e(t,r){var i=n.call(this,t.createChildContext())||this;return i._parent=t,r&&(i._domNode=r,i._domNode.setAttribute(aD,String(i._myContextId))),i}return e.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(aD),this._domNode=void 0)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return Ze.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)},enumerable:!0,configurable:!0}),e.prototype.getContextValuesContainer=function(t){return this._isDisposed?uD.INSTANCE:this._parent.getContextValuesContainer(t)},e.prototype.createChildContext=function(t){if(t===void 0&&(t=this._myContextId),this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)},e.prototype.disposeContext=function(t){this._isDisposed||this._parent.disposeContext(t)},e}(xne);function HMe(n){for(;n;){if(n.hasAttribute(aD)){var e=n.getAttribute(aD);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}Bi.registerCommand(_xe,function(n,e,t){n.get(yt).createKey(String(e),t)});var TC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),r3=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,wk=/(&amp;)?(&amp;)([^\s&])/g,VMe=function(n){TC(e,n);function e(t,r,i){var o=n.call(this,i||"submenu",t,"",!0)||this;return o.entries=r,o}return e}(pa),Lne=function(n){TC(e,n);function e(t,r,i){i===void 0&&(i={});var o=this;De(t,"monaco-menu-container"),t.setAttribute("role","presentation");var s=document.createElement("div");De(s,"monaco-menu"),s.setAttribute("role","presentation"),o=n.call(this,s,{orientation:2,actionViewItemProvider:function(l){return o.doGetActionViewItem(l,i,a)},context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:[3].concat(Tt?[10]:[]),keyDown:!0}})||this,o.menuElement=s,o._onScroll=o._register(new Q),o.actionsList.setAttribute("role","menu"),o.actionsList.tabIndex=0,o.menuDisposables=o._register(new Be),ye(s,lt.KEY_DOWN,function(l){var c=new Gn(l);c.equals(2)&&l.preventDefault()}),i.enableMnemonics&&o.menuDisposables.add(ye(s,lt.KEY_DOWN,function(l){var c=l.key.toLocaleLowerCase();if(o.mnemonics.has(c)){Sn.stop(l,!0);var h=o.mnemonics.get(c);if(h.length===1&&(h[0]instanceof Mz&&o.focusItemByElement(h[0].container),h[0].onClick(l)),h.length>1){var d=h.shift();d&&(o.focusItemByElement(d.container),h.push(d)),o.mnemonics.set(c,h)}}})),Xc&&o._register(ye(s,lt.KEY_DOWN,function(l){var c=new Gn(l);c.equals(14)||c.equals(11)?(o.focusedItem=o.viewItems.length-1,o.focusNext(),Sn.stop(l,!0)):(c.equals(13)||c.equals(12))&&(o.focusedItem=0,o.focusPrevious(),Sn.stop(l,!0))})),o._register(ye(o.domNode,lt.MOUSE_OUT,function(l){var c=l.relatedTarget;Nl(c,o.domNode)||(o.focusedItem=void 0,o.scrollTopHold=o.menuElement.scrollTop,o.updateFocus(),l.stopPropagation())})),o._register(ye(o.domNode,lt.MOUSE_UP,function(l){Sn.stop(l,!0)})),o._register(ye(o.actionsList,lt.MOUSE_OVER,function(l){var c=l.target;if(!(!c||!Nl(c,o.actionsList)||c===o.actionsList)){for(;c.parentElement!==o.actionsList&&c.parentElement!==null;)c=c.parentElement;if(xu(c,"action-item")){var h=o.focusedItem;o.scrollTopHold=o.menuElement.scrollTop,o.setFocusedItem(c),h!==o.focusedItem&&o.updateFocus()}}}));var a={parent:o};o.mnemonics=new Map,o.push(r,{icon:!0,label:!0,isMenu:!0}),o.scrollableElement=o._register(new bC(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var u=o.scrollableElement.getDomNode();return u.style.position=null,s.style.maxHeight=Math.max(10,window.innerHeight-t.getBoundingClientRect().top-30)+"px",o.menuDisposables.add(o.scrollableElement.onScroll(function(){o._onScroll.fire()},o)),o._register(ye(o.menuElement,lt.SCROLL,function(l){o.scrollTopHold!==void 0&&(o.menuElement.scrollTop=o.scrollTopHold,o.scrollTopHold=void 0),o.scrollableElement.scanDomNode()})),t.appendChild(o.scrollableElement.getDomNode()),o.scrollableElement.scanDomNode(),o.viewItems.filter(function(l){return!(l instanceof Ek)}).forEach(function(l,c,h){l.updatePositionInSet(c+1,h.length)}),o}return e.prototype.style=function(t){var r=this.getContainer(),i=t.foregroundColor?""+t.foregroundColor:null,o=t.backgroundColor?""+t.backgroundColor:null,s=t.borderColor?"2px solid "+t.borderColor:null,a=t.shadowColor?"0 2px 4px "+t.shadowColor:null;r.style.border=s,this.domNode.style.color=i,this.domNode.style.backgroundColor=o,r.style.boxShadow=a,this.viewItems&&this.viewItems.forEach(function(u){(u instanceof i3||u instanceof Ek)&&u.style(t)})},e.prototype.getContainer=function(){return this.scrollableElement.getDomNode()},Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollOffset",{get:function(){return this.menuElement.scrollTop},enumerable:!0,configurable:!0}),e.prototype.focusItemByElement=function(t){var r=this.focusedItem;this.setFocusedItem(t),r!==this.focusedItem&&this.updateFocus()},e.prototype.setFocusedItem=function(t){for(var r=0;r<this.actionsList.children.length;r++){var i=this.actionsList.children[r];if(t===i){this.focusedItem=r;break}}},e.prototype.doGetActionViewItem=function(t,r,i){if(t instanceof I2)return new Ek(r.context,t,{icon:!0});if(t instanceof VMe){var o=new Mz(t,t.entries,i,r);if(r.enableMnemonics){var s=o.getMnemonic();if(s&&o.isEnabled()){var a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}else{var u={enableMnemonics:r.enableMnemonics};if(r.getKeyBinding){var l=r.getKeyBinding(t);if(l){var c=l.getLabel();c&&(u.keybinding=c)}}var o=new i3(r.context,t,u);if(r.enableMnemonics){var s=o.getMnemonic();if(s&&o.isEnabled()){var a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}},e}(SC),i3=function(n){TC(e,n);function e(t,r,i){i===void 0&&(i={});var o=this;if(i.isMenu=!0,o=n.call(this,r,r,i)||this,o.options=i,o.options.icon=i.icon!==void 0?i.icon:!1,o.options.label=i.label!==void 0?i.label:!0,o.cssClass="",o.options.label&&i.enableMnemonics){var s=o.getAction().label;if(s){var a=r3.exec(s);a&&(o.mnemonic=(a[1]?a[1]:a[3]).toLocaleLowerCase())}}return o.runOnceToEnableMouseUp=new Hr(function(){o.element&&o._register(ye(o.element,lt.MOUSE_UP,function(u){Sn.stop(u,!0),o.onClick(u)}))},50),o._register(o.runOnceToEnableMouseUp),o}return e.prototype.render=function(t){n.prototype.render.call(this,t),this.element&&(this.container=t,this.item=Ee(this.element,We("a.action-menu-item")),this._action.id===I2.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=Ee(this.item,We("span.menu-item-check")),this.check.setAttribute("role","none"),this.label=Ee(this.item,We("span.action-label")),this.options.label&&this.options.keybinding&&(Ee(this.item,We("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())},e.prototype.blur=function(){n.prototype.blur.call(this),this.applyStyle()},e.prototype.focus=function(){n.prototype.focus.call(this),this.item.focus(),this.applyStyle()},e.prototype.updatePositionInSet=function(t,r){this.item.setAttribute("aria-posinset",""+t),this.item.setAttribute("aria-setsize",""+r)},e.prototype.updateLabel=function(){if(this.options.label){var t=this.getAction().label;if(t){var r=WMe(t);this.options.enableMnemonics||(t=r),this.label.setAttribute("aria-label",r.replace(/&&/g,"&"));var i=r3.exec(t);if(i){t=ha(t),wk.lastIndex=0;for(var o=wk.exec(t);o&&o[1];)o=wk.exec(t);o&&(t=t.substr(0,o.index)+'<u aria-hidden="true">'+o[3]+"</u>"+t.substr(o.index+o[0].length)),t=t.replace(/&amp;&amp;/g,"&amp;"),this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else t=t.replace(/&&/g,"&")}this.label.innerHTML=t.trim()}},e.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=D({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.item.title=t)},e.prototype.updateClass=function(){this.cssClass&&u2(this.item,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class||"",De(this.label,"icon"),this.cssClass&&g6(this.label,this.cssClass),this.updateEnabled()):st(this.label,"icon")},e.prototype.updateEnabled=function(){this.getAction().enabled?(this.element&&st(this.element,"disabled"),st(this.item,"disabled"),this.item.tabIndex=0):(this.element&&De(this.element,"disabled"),De(this.item,"disabled"),y6(this.item))},e.prototype.updateChecked=function(){this.getAction().checked?(De(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(st(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false"))},e.prototype.getMnemonic=function(){return this.mnemonic},e.prototype.applyStyle=function(){if(this.menuStyle){var t=this.element&&xu(this.element,"focused"),r=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:this.menuStyle.backgroundColor,o=t&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:null;this.item.style.color=r?""+r:null,this.check.style.backgroundColor=r?""+r:null,this.item.style.backgroundColor=i?""+i:null,this.container.style.border=o}},e.prototype.style=function(t){this.menuStyle=t,this.applyStyle()},e}(T5),Mz=function(n){TC(e,n);function e(t,r,i,o){var s=n.call(this,t,t,o)||this;return s.submenuActions=r,s.parentData=i,s.submenuOptions=o,s.submenuDisposables=s._register(new Be),s.showScheduler=new Hr(function(){s.mouseOver&&(s.cleanupExistingSubmenu(!1),s.createSubmenu(!1))},250),s.hideScheduler=new Hr(function(){s.element&&!Nl(document.activeElement,s.element)&&s.parentData.submenu===s.mysubmenu&&(s.parentData.parent.focus(!1),s.cleanupExistingSubmenu(!0))},750),s}return e.prototype.render=function(t){var r=this;n.prototype.render.call(this,t),this.element&&(De(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.submenuIndicator=Ee(this.item,We("span.submenu-indicator")),this.submenuIndicator.setAttribute("aria-hidden","true"),this._register(ye(this.element,lt.KEY_UP,function(i){var o=new Gn(i);(o.equals(17)||o.equals(3))&&(Sn.stop(i,!0),r.createSubmenu(!0))})),this._register(ye(this.element,lt.KEY_DOWN,function(i){var o=new Gn(i);document.activeElement===r.item&&(o.equals(17)||o.equals(3))&&Sn.stop(i,!0)})),this._register(ye(this.element,lt.MOUSE_OVER,function(i){r.mouseOver||(r.mouseOver=!0,r.showScheduler.schedule())})),this._register(ye(this.element,lt.MOUSE_LEAVE,function(i){r.mouseOver=!1})),this._register(ye(this.element,lt.FOCUS_OUT,function(i){r.element&&!Nl(document.activeElement,r.element)&&r.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){r.parentData.parent.focus(!1),r.cleanupExistingSubmenu(!1)})))},e.prototype.onClick=function(t){Sn.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},e.prototype.cleanupExistingSubmenu=function(t){this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=void 0,this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0))},e.prototype.createSubmenu=function(t){var r=this;if(t===void 0&&(t=!0),!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.submenuContainer=Ee(this.element,We("div.monaco-submenu")),g6(this.submenuContainer,"menubar-menu-items-holder","context-view"),this.parentData.submenu=new Lne(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);var i=this.element.getBoundingClientRect(),o=this.submenuContainer.getBoundingClientRect(),s=getComputedStyle(this.parentData.parent.domNode),a=parseFloat(s.paddingTop||"0")||0;window.innerWidth<=i.right+o.width?(this.submenuContainer.style.left="10px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset+i.height+"px"):(this.submenuContainer.style.left=this.element.offsetWidth+"px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-a+"px"),this.submenuDisposables.add(ye(this.submenuContainer,lt.KEY_UP,function(u){var l=new Gn(u);l.equals(15)&&(Sn.stop(u,!0),r.parentData.parent.focus(),r.parentData.submenu&&(r.parentData.submenu.dispose(),r.parentData.submenu=void 0),r.submenuDisposables.clear(),r.submenuContainer=void 0)})),this.submenuDisposables.add(ye(this.submenuContainer,lt.KEY_DOWN,function(u){var l=new Gn(u);l.equals(15)&&Sn.stop(u,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(function(){r.parentData.parent.focus(),r.parentData.submenu&&(r.parentData.submenu.dispose(),r.parentData.submenu=void 0),r.submenuDisposables.clear(),r.submenuContainer=void 0})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}},e.prototype.applyStyle=function(){if(n.prototype.applyStyle.call(this),!!this.menuStyle){var t=this.element&&xu(this.element,"focused"),r=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator.style.backgroundColor=r?""+r:null,this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)},e}(i3),Ek=function(n){TC(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.style=function(t){this.label.style.borderBottomColor=t.separatorColor?""+t.separatorColor:null},e}(rD);function WMe(n){var e=r3,t=e.exec(n);if(!t)return n;var r=!t[1];return n.replace(e,r?"$2$3":"").trim()}var o3=function(){return o3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},o3.apply(this,arguments)};function Nne(n,e){var t=Object.create(null);for(var r in e){var i=e[r];typeof i=="string"?t[r]=n.getColor(i):typeof i=="function"&&(t[r]=i(n))}return t}function N2(n,e,t){function r(i){var o=Nne(n.getTheme(),e);typeof t=="function"?t(o):t.style(o)}return r(n.getTheme()),n.onThemeChange(r)}function UMe(n,e,t){return N2(e,{badgeBackground:YNe,badgeForeground:XNe,badgeBorder:Wr},n)}function jMe(n,e,t){return N2(e,{foreground:t&&t.foreground||Lc,background:t&&t.background||_l,borderColor:t&&t.borderColor||Wr,widgetShadow:t&&t.widgetShadow||hg,progressBarBackground:t&&t.progressBarBackground||eOe,pickerGroupForeground:t&&t.pickerGroupForeground||$Ne,pickerGroupBorder:t&&t.pickerGroupBorder||KNe,inputBackground:t&&t.inputBackground||t5,inputForeground:t&&t.inputForeground||n5,inputBorder:t&&t.inputBorder||r5,inputValidationInfoBorder:t&&t.inputValidationInfoBorder||s5,inputValidationInfoBackground:t&&t.inputValidationInfoBackground||i5,inputValidationInfoForeground:t&&t.inputValidationInfoForeground||o5,inputValidationWarningBorder:t&&t.inputValidationWarningBorder||Ite,inputValidationWarningBackground:t&&t.inputValidationWarningBackground||Dte,inputValidationWarningForeground:t&&t.inputValidationWarningForeground||Ate,inputValidationErrorBorder:t&&t.inputValidationErrorBorder||Nte,inputValidationErrorBackground:t&&t.inputValidationErrorBackground||xte,inputValidationErrorForeground:t&&t.inputValidationErrorForeground||Lte,listFocusBackground:t&&t.listFocusBackground||wp,listFocusForeground:t&&t.listFocusForeground||Ote,listActiveSelectionBackground:t&&t.listActiveSelectionBackground||d5(Ep,.1),listActiveSelectionForeground:t&&t.listActiveSelectionForeground||Sp,listFocusAndSelectionBackground:t&&t.listFocusAndSelectionBackground||Ep,listFocusAndSelectionForeground:t&&t.listFocusAndSelectionForeground||Sp,listInactiveSelectionBackground:t&&t.listInactiveSelectionBackground||kte,listInactiveSelectionForeground:t&&t.listInactiveSelectionForeground||Rte,listInactiveFocusBackground:t&&t.listInactiveFocusBackground||Pte,listHoverBackground:t&&t.listHoverBackground||Mte,listHoverForeground:t&&t.listHoverForeground||Fte,listDropBackground:t&&t.listDropBackground||Bte,listFocusOutline:t&&t.listFocusOutline||Mi,listSelectionOutline:t&&t.listSelectionOutline||Mi,listHoverOutline:t&&t.listHoverOutline||Mi},n)}function One(n,e,t){return N2(e,$r(t||Object.create(null),kne,!1),n)}var kne={listFocusBackground:wp,listFocusForeground:Ote,listActiveSelectionBackground:d5(Ep,.1),listActiveSelectionForeground:Sp,listFocusAndSelectionBackground:Ep,listFocusAndSelectionForeground:Sp,listInactiveSelectionBackground:kte,listInactiveSelectionForeground:Rte,listInactiveFocusBackground:Pte,listHoverBackground:Mte,listHoverForeground:Fte,listDropBackground:Bte,listFocusOutline:Mi,listSelectionOutline:Mi,listHoverOutline:Mi,listFilterWidgetBackground:jNe,listFilterWidgetOutline:qNe,listFilterWidgetNoMatchesOutline:zNe,listMatchesShadow:hg,treeIndentGuidesStroke:GNe},qMe={shadowColor:hg,borderColor:tOe,foregroundColor:nOe,backgroundColor:rOe,selectionForegroundColor:iOe,selectionBackgroundColor:oOe,selectionBorderColor:sOe,separatorColor:aOe};function zMe(n,e,t){return N2(e,o3({},qMe,t),n)}var GMe=function(){function n(e,t,r,i,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=r,this.keybindingService=i,this.themeService=o,this.options={blockMouse:!0}}return n.prototype.configure=function(e){this.options=e},n.prototype.showContextMenu=function(e){var t=this,r=e.getActions();if(r.length){this.focusToReturn=document.activeElement;var i;this.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,anchorAlignment:e.anchorAlignment,render:function(o){var s=e.getMenuClassName?e.getMenuClassName():"";s&&(o.className+=" "+s),t.options.blockMouse&&(t.block=o.appendChild(We(".context-view-block")));var a=new Be,u=e.actionRunner||new rte;return u.onDidBeforeRun(t.onActionRun,t,a),u.onDidRun(t.onDidActionRun,t,a),i=new Lne(o,r,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:function(l){return t.keybindingService.lookupKeybinding(l.id)}}),a.add(zMe(i,t.themeService)),i.onDidCancel(function(){return t.contextViewService.hideContextView(!0)},null,a),i.onDidBlur(function(){return t.contextViewService.hideContextView(!0)},null,a),Nt(window,lt.BLUR)(function(){t.contextViewService.hideContextView(!0)},null,a),Nt(window,lt.MOUSE_DOWN)(function(l){if(!l.defaultPrevented){var c=new hi(l),h=c.target;if(!c.rightButton){for(;h;){if(h===o)return;h=h.parentElement}t.contextViewService.hideContextView(!0)}}},null,a),gl(a,i)},focus:function(){i&&i.focus(!!e.autoSelectFirstItem)},onHide:function(o){e.onHide&&e.onHide(!!o),t.block&&(p6(t.block),t.block=null),t.focusToReturn&&t.focusToReturn.focus()}})}},n.prototype.onActionRun=function(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},n.prototype.onDidActionRun=function(e){e.error&&this.notificationService&&this.notificationService.error(e.error)},n}(),$Me=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fy=function(n,e){return function(t,r){e(t,r,n)}},YMe=function(n){$Me(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a._onDidContextMenu=a._register(new Q),a.contextMenuHandler=new GMe(i,t,r,o,s),a}return e.prototype.configure=function(t){this.contextMenuHandler.configure(t)},e.prototype.showContextMenu=function(t){this.contextMenuHandler.showContextMenu(t),this._onDidContextMenu.fire()},e=KMe([fy(0,vC),fy(1,bi),fy(2,Hh),fy(3,Dr),fy(4,ei)],e),e}(he),Ko;(function(n){function e(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};var a=Math.max(o.start,s.start),u=Math.min(o.end,s.end);return u-a<=0?{start:0,end:0}:{start:a,end:u}}n.intersect=e;function t(o){return o.end-o.start<=0}n.isEmpty=t;function r(o,s){return!t(e(o,s))}n.intersects=r;function i(o,s){var a=[],u={start:o.start,end:Math.min(s.start,o.end)},l={start:Math.max(s.end,o.start),end:o.end};return t(u)||a.push(u),t(l)||a.push(l),a}n.relativeComplement=i})(Ko||(Ko={}));var XMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Fz(n,e,t){var r=t.offset+t.size;return t.position===0?e<=n-r?r:e<=t.offset?t.offset-e:Math.max(n-e,0):e<=t.offset?t.offset-e:e<=n-r?r:0}var QMe=function(n){XMe(e,n);function e(t){var r=n.call(this)||this;return r.container=null,r.delegate=null,r.toDisposeOnClean=he.None,r.toDisposeOnSetContainer=he.None,r.view=We(".context-view"),Kr(r.view),r.setContainer(t),r._register(bn(function(){return r.setContainer(null)})),r}return e.prototype.setContainer=function(t){var r=this;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.container.removeChild(this.view),this.container=null),t){this.container=t,this.container.appendChild(this.view);var i=new Be;e.BUBBLE_UP_EVENTS.forEach(function(o){i.add(mi(r.container,o,function(s){r.onDOMEvent(s,!1)}))}),e.BUBBLE_DOWN_EVENTS.forEach(function(o){i.add(mi(r.container,o,function(s){r.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=i}},e.prototype.show=function(t){this.isVisible()&&this.hide(),_a(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",Li(this.view),this.toDisposeOnClean=t.render(this.view)||he.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()},e.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}},e.prototype.doLayout=function(){if(this.isVisible()){var t=this.delegate.getAnchor(),r;if(tAe(t)){var i=_i(t);r={top:i.top,left:i.left,width:i.width,height:i.height}}else r={top:t.y,left:t.x,width:t.width||1,height:t.height||2};var o=uu(this.view),s=wM(this.view),a=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,l={offset:r.top-window.pageYOffset,size:r.height,position:a===0?0:1},c;u===0?c={offset:r.left,size:0,position:0}:c={offset:r.left+r.width,size:0,position:1};var h=Fz(window.innerHeight,s,l)+window.pageYOffset;Ko.intersects({start:h,end:h+s},{start:l.offset,end:l.offset+l.size})&&(c.size=r.width,u===1&&(c.offset=r.left));var d=Fz(window.innerWidth,o,c);u2(this.view,"top","bottom","left","right"),De(this.view,a===0?"bottom":"top"),De(this.view,u===0?"left":"right");var p=_i(this.container);this.view.style.top=h-p.top+"px",this.view.style.left=d-p.left+"px",this.view.style.width="initial"}},e.prototype.hide=function(t){var r=this.delegate;this.delegate=null,r&&r.onHide&&r.onHide(t),this.toDisposeOnClean.dispose(),Kr(this.view)},e.prototype.isVisible=function(){return!!this.delegate},e.prototype.onDOMEvent=function(t,r){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):r&&!Nl(t.target,this.container)&&this.hide())},e.prototype.dispose=function(){this.hide(),n.prototype.dispose.call(this)},e.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],e.BUBBLE_DOWN_EVENTS=["click"],e}(he),Rne=qt("layoutService"),ZMe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JMe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},e3e=function(n,e){return function(t,r){e(t,r,n)}},t3e=function(n){ZMe(e,n);function e(t){var r=n.call(this)||this;return r.layoutService=t,r.contextView=r._register(new QMe(t.container)),r.layout(),r._register(t.onLayout(function(){return r.layout()})),r}return e.prototype.setContainer=function(t){this.contextView.setContainer(t)},e.prototype.showContextView=function(t){this.contextView.show(t)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(t){this.contextView.hide(t)},e=JMe([e3e(0,Rne)],e),e}(he),n3e=qt("dialogService"),O5=Object.prototype.hasOwnProperty;function Bz(n){var e=[];for(var t in n)O5.call(n,t)&&e.push(n[t]);return e}function Hz(n){for(var e in n)if(O5.call(n,e))return n[e]}function Sk(n,e){var t=function(o){if(O5.call(n,o)){var s=e({key:o,value:n[o]},function(){delete n[o]});if(s===!1)return{value:void 0}}};for(var r in n){var i=t(r);if(typeof i=="object")return i.value}}var r3e=function(){function n(){this.map=new Map}return n.prototype.add=function(e,t){var r=this.map.get(e);r||(r=new Set,this.map.set(e,r)),r.add(t)},n.prototype.delete=function(e,t){var r=this.map.get(e);r&&(r.delete(t),r.size===0&&this.map.delete(e))},n.prototype.forEach=function(e,t){var r=this.map.get(e);r&&r.forEach(t)},n}();function i3e(n){return{data:n,incoming:Object.create(null),outgoing:Object.create(null)}}var o3e=function(){function n(e){this._hashFn=e,this._nodes=Object.create(null)}return n.prototype.roots=function(){var e=[];return Sk(this._nodes,function(t){BJ(t.value.outgoing)&&e.push(t.value)}),e},n.prototype.insertEdge=function(e,t){var r=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);r.outgoing[this._hashFn(t)]=i,i.incoming[this._hashFn(e)]=r},n.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],Sk(this._nodes,function(r){delete r.value.outgoing[t],delete r.value.incoming[t]})},n.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),r=this._nodes[t];return r||(r=i3e(e),this._nodes[t]=r),r},n.prototype.isEmpty=function(){for(var e in this._nodes)return!1;return!0},n.prototype.toString=function(){var e=[];return Sk(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join(`
`)},n}(),Pne=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),s3e=typeof Proxy=="function",Vz=function(n){Pne(e,n);function e(t){var r=n.call(this,"cyclic dependency between services")||this;return r.message=t.toString(),r}return e}(Error),Wz=function(){function n(e,t,r){e===void 0&&(e=new zm),t===void 0&&(t=!1),this._services=e,this._strict=t,this._parent=r,this._services.set(pr,this)}return n.prototype.createChild=function(e){return new n(e,this._strict,this)},n.prototype.invokeFunction=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Tk.traceInvocation(e),s=!1;try{var a={get:function(u,l){if(s)throw oDe("service accessor is only valid during the invocation of its target method");var c=t._getOrCreateServiceInstance(u,o);if(!c&&l!==mp)throw new Error("[invokeFunction] unknown service '"+u+"'");return c}};return e.apply(void 0,[a].concat(r))}finally{s=!0,o.stop()}},n.prototype.createInstance=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i,o;return e instanceof Pv?(i=Tk.traceCreation(e.ctor),o=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Tk.traceCreation(e),o=this._createInstance(e,t,i)),i.stop(),o},n.prototype._createInstance=function(e,t,r){t===void 0&&(t=[]);for(var i=yu.getServiceDependencies(e).sort(function(d,p){return d.index-p.index}),o=[],s=0,a=i;s<a.length;s++){var u=a[s],l=this._getOrCreateServiceInstance(u.id,r);if(!l&&this._strict&&!u.optional)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+u.id+".");o.push(l)}var c=i.length>0?i[0].index:t.length;if(t.length!==c){console.warn("[createInstance] First service dependency of "+e.name+" at position "+(c+1)+" conflicts with "+t.length+" static arguments");var h=c-t.length;h>0?t=t.concat(new Array(h)):t=t.slice(0,c)}return new(e.bind.apply(e,[void 0].concat(t.concat(o))))},n.prototype._setServiceInstance=function(e,t){if(this._services.get(e)instanceof Pv)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")},n.prototype._getServiceInstanceOrDescriptor=function(e){var t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t},n.prototype._getOrCreateServiceInstance=function(e,t){var r=this._getServiceInstanceOrDescriptor(e);return r instanceof Pv?this._createAndCacheServiceInstance(e,r,t.branch(e,!0)):(t.branch(e,!1),r)},n.prototype._createAndCacheServiceInstance=function(e,t,r){for(var i=new o3e(function(C){return C.id.toString()}),o=0,s=[{id:e,desc:t,_trace:r}];s.length;){var a=s.pop();if(i.lookupOrInsertNode(a),o++>100)throw new Vz(i);for(var u=0,l=yu.getServiceDependencies(a.desc.ctor);u<l.length;u++){var c=l[u],h=this._getServiceInstanceOrDescriptor(c.id);if(!h&&!c.optional&&console.warn("[createInstance] "+e+" depends on "+c.id+" which is NOT registered."),h instanceof Pv){var d={id:c.id,desc:h,_trace:a._trace.branch(c.id,!0)};i.insertEdge(a,d),s.push(d)}}}for(;;){var p=i.roots();if(p.length===0){if(!i.isEmpty())throw new Vz(i);break}for(var v=0,m=p;v<m.length;v++){var _=m[v].data,b=this._createServiceInstanceWithOwner(_.id,_.desc.ctor,_.desc.staticArguments,_.desc.supportsDelayedInstantiation,_._trace);this._setServiceInstance(_.id,b),i.removeNode(_)}}return this._getServiceInstanceOrDescriptor(e)},n.prototype._createServiceInstanceWithOwner=function(e,t,r,i,o){if(r===void 0&&(r=[]),this._services.get(e)instanceof Pv)return this._createServiceInstance(t,r,i,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,r,i,o);throw new Error("illegalState - creating UNKNOWN service instance")},n.prototype._createServiceInstance=function(e,t,r,i){var o=this;if(t===void 0&&(t=[]),!r||!s3e)return this._createInstance(e,t,i);var s=new bM(function(){return o._createInstance(e,t,i)});return new Proxy(Object.create(null),{get:function(a,u){return s.getValue()[u]},set:function(a,u,l){return s.getValue()[u]=l,!0}})},n}(),Tk=function(){function n(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}return n.traceInvocation=function(e){return n._None},n.traceCreation=function(e){return n._None},n.prototype.branch=function(e,t){var r=new n(2,e.toString());return this._dep.push([e,t,r]),r},n.prototype.stop=function(){var e=Date.now()-this._start;n._totals+=e;var t=!1;function r(o,s){for(var a=[],u=new Array(o+1).join("	"),l=0,c=s._dep;l<c.length;l++){var h=c[l],d=h[0],p=h[1],v=h[2];if(p&&v){t=!0,a.push(u+"CREATES -> "+d);var m=r(o+1,v);m&&a.push(m)}else a.push(u+"uses -> "+d)}return a.join(`
`)}var i=[(this.type===0?"CREATE":"CALL")+" "+this.name,""+r(1,this),"DONE, took "+e.toFixed(2)+"ms (grand total "+n._totals.toFixed(2)+"ms)"];(e>2||t)&&console.log(i.join(`
`))},n._None=new(function(e){Pne(t,e);function t(){return e.call(this,-1,null)||this}return t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(n)),n._totals=0,n}(),a3e="label",O2=qt(a3e),lD;(function(n){n.TREE="tree",n.FORM="form"})(lD||(lD={}));function Uz(n,e){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];if(!(n.start>=o.range.end)){if(n.end<o.range.start)break;var s=Ko.intersect(n,o.range);Ko.isEmpty(s)||t.push({range:s,size:o.size})}}return t}function s3(n,e){var t=n.start,r=n.end;return{start:t+e,end:r+e}}function u3e(n){for(var e=[],t=null,r=0,i=n;r<i.length;r++){var o=i[r],s=o.range.start,a=o.range.end,u=o.size;if(t&&u===t.size){t.range.end=a;continue}t={range:{start:s,end:a},size:u},e.push(t)}return e}function l3e(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return u3e(n.reduce(function(t,r){return t.concat(r)},[]))}var jz=function(){function n(){this.groups=[],this._size=0}return n.prototype.splice=function(e,t,r){r===void 0&&(r=[]);var i=r.length-t,o=Uz({start:0,end:e},this.groups),s=Uz({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(u){return{range:s3(u.range,i),size:u.size}}),a=r.map(function(u,l){return{range:{start:e+l,end:e+l+1},size:u.size}});this.groups=l3e(o,a,s),this._size=this.groups.reduce(function(u,l){return u+l.size*(l.range.end-l.range.start)},0)},Object.defineProperty(n.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,r=0,i=0,o=this.groups;i<o.length;i++){var s=o[i],a=s.range.end-s.range.start,u=r+a*s.size;if(e<u)return t+Math.floor((e-r)/s.size);t+=a,r=u}return t},n.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},n.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,r=0,i=0,o=this.groups;i<o.length;i++){var s=o[i],a=s.range.end-s.range.start,u=r+a;if(e<u)return t+(e-r)*s.size;t+=a*s.size,r=u}return-1},n.prototype.dispose=function(){this.groups=null},n}();function c3e(n){try{n.parentElement&&n.parentElement.removeChild(n)}catch{}}var f3e=function(){function n(e){this.renderers=e,this.cache=new Map}return n.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var r=We(".monaco-list-row"),i=this.getRenderer(e),o=i.renderTemplate(r);t={domNode:r,templateId:e,templateData:o}}return t},n.prototype.release=function(e){e&&this.releaseRow(e)},n.prototype.releaseRow=function(e){var t=e.domNode,r=e.templateId;t&&(st(t,"scrolling"),c3e(t));var i=this.getTemplateCache(r);i.push(e)},n.prototype.getTemplateCache=function(e){var t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t},n.prototype.garbageCollect=function(){var e=this;this.renderers&&(this.cache.forEach(function(t,r){for(var i=0,o=t;i<o.length;i++){var s=o[i],a=e.getRenderer(r);a.disposeTemplate(s.templateData),s.domNode=null,s.templateData=null}}),this.cache.clear())},n.prototype.dispose=function(){this.garbageCollect(),this.cache.clear(),this.renderers=null},n.prototype.getRenderer=function(e){var t=this.renderers.get(e);if(!t)throw new Error("No renderer found for "+e);return t},n}(),Mne={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"},h3e=function(){function n(e){this.data=e}return n.prototype.update=function(){},n.prototype.getData=function(){return this.data},n}(),Js={CurrentDragAndDropData:void 0},Ld=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nd={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(n){return[n]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},c1=function(){function n(e){this.elements=e}return n.prototype.update=function(){},n.prototype.getData=function(){return this.elements},n}(),d3e=function(){function n(e){this.elements=e}return n.prototype.update=function(){},n.prototype.getData=function(){return this.elements},n}(),p3e=function(){function n(){this.types=[],this.files=[]}return n.prototype.update=function(e){var t;if(e.types&&(t=this.types).splice.apply(t,[0,this.types.length].concat(e.types)),e.files){this.files.splice(0,this.files.length);for(var r=0;r<e.files.length;r++){var i=e.files.item(r);i&&(i.size||i.type)&&this.files.push(i)}}},n.prototype.getData=function(){return{types:this.types,files:this.files}},n}();function g3e(n,e){return Array.isArray(n)&&Array.isArray(e)?Ph(n,e):n===e}var v3e=function(){function n(e,t,r,i){var o=this;if(i===void 0&&(i=Nd),this.virtualDelegate=t,this.domId="list_id_"+ ++n.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new k_(50),this.splicing=!1,this.dragOverAnimationStopDisposable=he.None,this.dragOverMouseY=0,this.canUseTranslate3d=void 0,this.canDrop=!1,this.currentDragFeedbackDisposable=he.None,this.onDragLeaveTimeout=he.None,this._onDidChangeContentHeight=new Q,i.horizontalScrolling&&i.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new jz;for(var s=0,a=r;s<a.length;s++){var u=a[s];this.renderers.set(u.templateId,u)}this.cache=new f3e(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",De(this.domNode,this.domId),this.domNode.tabIndex=0,Rt(this.domNode,"mouse-support",typeof i.mouseSupport=="boolean"?i.mouseSupport:!0),this.horizontalScrolling=sv(i,function(l){return l.horizontalScrolling},Nd.horizontalScrolling),Rt(this.domNode,"horizontal-scrolling",this.horizontalScrolling),this.additionalScrollHeight=typeof i.additionalScrollHeight>"u"?0:i.additionalScrollHeight,this.ariaProvider=i.ariaProvider||{getSetSize:function(l,c,h){return h},getPosInSet:function(l,c){return c+1}},this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",F_.addTarget(this.rowsContainer),this.scrollableElement=new yC(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:sv(i,function(l){return l.verticalScrollMode},Nd.verticalScrollMode),useShadows:sv(i,function(l){return l.useShadows},Nd.useShadows)}),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.disposables=[this.rangeMap,this.scrollableElement,this.cache],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Nt(this.rowsContainer,ci.Change)(this.onTouchChange,this,this.disposables),Nt(this.scrollableElement.getDomNode(),"scroll")(function(l){return l.target.scrollTop=0},null,this.disposables),Ze.map(Nt(this.domNode,"dragover"),function(l){return o.toDragEvent(l)})(this.onDragOver,this,this.disposables),Ze.map(Nt(this.domNode,"drop"),function(l){return o.toDragEvent(l)})(this.onDrop,this,this.disposables),Nt(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),Nt(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=sv(i,function(l){return l.setRowLineHeight},Nd.setRowLineHeight),this.supportDynamicHeights=sv(i,function(l){return l.supportDynamicHeights},Nd.supportDynamicHeights),this.dnd=sv(i,function(l){return l.dnd},Nd.dnd),this.layout()}return Object.defineProperty(n.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),n.prototype.splice=function(e,t,r){if(r===void 0&&(r=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,r)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},n.prototype._splice=function(e,t,r){var i,o=this;r===void 0&&(r=[]);for(var s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),a={start:e,end:e+t},u=Ko.intersect(s,a),l=u.start;l<u.end;l++)this.removeItemFromDOM(l);var c={start:e+t,end:this.items.length},h=Ko.intersect(c,s),d=Ko.relativeComplement(c,s),p=r.map(function(B){return{id:String(o.itemId++),element:B,templateId:o.virtualDelegate.getTemplateId(B),size:o.virtualDelegate.getHeight(B),width:void 0,hasDynamicHeight:!!o.virtualDelegate.hasDynamicHeight&&o.virtualDelegate.hasDynamicHeight(B),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:he.None}}),v;e===0&&t>=this.items.length?(this.rangeMap=new jz,this.rangeMap.splice(0,0,p),this.items=p,v=[]):(this.rangeMap.splice(e,t,p),v=(i=this.items).splice.apply(i,[e,t].concat(p)));for(var m=r.length-t,_=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=s3(h,m),C=Ko.intersect(_,b),l=C.start;l<C.end;l++)this.updateItemInDOM(this.items[l],l);for(var E=Ko.relativeComplement(b,_),S=0,A=E;S<A.length;S++)for(var T=A[S],l=T.start;l<T.end;l++)this.removeItemFromDOM(l);for(var N=d.map(function(B){return s3(B,m)}),k={start:e,end:e+r.length},F=[k].concat(N).map(function(B){return Ko.intersect(_,B)}),L=this.getNextToLastElement(F),O=0,P=F;O<P.length;O++)for(var T=P[O],l=T.start;l<T.end;l++)this.insertItemInDOM(l,L);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),v.map(function(B){return B.element})},n.prototype.eventuallyUpdateScrollDimensions=function(){var e=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Sh(function(){e.scrollableElement.setScrollDimensions({scrollHeight:e.scrollHeight}),e.updateScrollWidth(),e.scrollableElementUpdateDisposable=null}))},n.prototype.eventuallyUpdateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.scrollableElementWidthDelayer.trigger(function(){return e.updateScrollWidth()})},n.prototype.updateScrollWidth=function(){if(this.horizontalScrolling){this.items.length===0&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var e=0,t=0,r=this.items;t<r.length;t++){var i=r[t];typeof i.width<"u"&&(e=Math.max(e,i.width))}this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e+10})}},n.prototype.rerender=function(){if(this.supportDynamicHeights){for(var e=0,t=this.items;e<t.length;e++){var r=t[e];r.lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}},Object.defineProperty(n.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderHeight",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.height},enumerable:!0,configurable:!0}),n.prototype.element=function(e){return this.items[e].element},n.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode},n.prototype.elementHeight=function(e){return this.items[e].size},n.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},n.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},n.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},n.prototype.layout=function(e,t){var r={height:typeof e=="number"?e:aee(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,r.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(r),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:kT(this.domNode)}))},n.prototype.render=function(e,t,r,i){for(var o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s=this.getRenderRange(e,t),a=Ko.relativeComplement(s,o),u=Ko.relativeComplement(o,s),l=this.getNextToLastElement(a),c=0,h=a;c<h.length;c++)for(var d=h[c],p=d.start;p<d.end;p++)this.insertItemInDOM(p,l);for(var v=0,m=u;v<m.length;v++)for(var d=m[v],p=d.start;p<d.end;p++)this.removeItemFromDOM(p);var _=!xo&&!Fc&&LT()===0;if(_){var b="translate3d(-"+r+"px, -"+e+"px, 0px)";this.rowsContainer.style.transform=b,this.rowsContainer.style.webkitTransform=b,_!==this.canUseTranslate3d&&(this.rowsContainer.style.left="0",this.rowsContainer.style.top="0")}else this.rowsContainer.style.left="-"+r+"px",this.rowsContainer.style.top="-"+e+"px",_!==this.canUseTranslate3d&&(this.rowsContainer.style.transform="",this.rowsContainer.style.webkitTransform="");this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(i,this.renderWidth)+"px"),this.canUseTranslate3d=_,this.lastRenderTop=e,this.lastRenderHeight=t},n.prototype.insertItemInDOM=function(e,t){var r=this,i=this.items[e];if(!i.row){i.row=this.cache.alloc(i.templateId);var o=this.ariaProvider.getRole?this.ariaProvider.getRole(i.element):"treeitem";i.row.domNode.setAttribute("role",o);var s=this.ariaProvider.isChecked?this.ariaProvider.isChecked(i.element):void 0;typeof s<"u"&&i.row.domNode.setAttribute("aria-checked",String(s))}i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);var a=this.renderers.get(i.templateId);if(!a)throw new Error("No renderer found for template id "+i.templateId);a&&a.renderElement(i.element,e,i.row.templateData,i.size);var u=this.dnd.getDragURI(i.element);if(i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!u,u){var l=Nt(i.row.domNode,"dragstart");i.dragStartDisposable=l(function(c){return r.onDragStart(i.element,u,c)})}this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())},n.prototype.measureItemWidth=function(e){if(!(!e.row||!e.row.domNode)){e.row.domNode.style.width="fit-content",e.width=kT(e.row.domNode);var t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}},n.prototype.updateItemInDOM=function(e,t){e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.style.height=e.size+"px",this.setRowLineHeight&&(e.row.domNode.style.lineHeight=e.size+"px"),e.row.domNode.setAttribute("data-index",""+t),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.ariaProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.ariaProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),Rt(e.row.domNode,"drop-target",e.dropTarget)},n.prototype.removeItemFromDOM=function(e){var t=this.items[e];t.dragStartDisposable.dispose();var r=this.renderers.get(t.templateId);r&&r.disposeElement&&r.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},n.prototype.getScrollTop=function(){var e=this.scrollableElement.getScrollPosition();return e.scrollTop},n.prototype.setScrollTop=function(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e})},Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClick",{get:function(){var e=this;return Ze.map(Nt(this.domNode,"click"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClick",{get:function(){var e=this;return Ze.map(Nt(this.domNode,"dblclick"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMiddleClick",{get:function(){var e=this;return Ze.filter(Ze.map(Nt(this.domNode,"auxclick"),function(t){return e.toMouseEvent(t)}),function(t){return t.browserEvent.button===1})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDown",{get:function(){var e=this;return Ze.map(Nt(this.domNode,"mousedown"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onContextMenu",{get:function(){var e=this;return Ze.map(Nt(this.domNode,"contextmenu"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStart",{get:function(){var e=this;return Ze.map(Nt(this.domNode,"touchstart"),function(t){return e.toTouchEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTap",{get:function(){var e=this;return Ze.map(Nt(this.rowsContainer,ci.Tap),function(t){return e.toGestureEvent(t)})},enumerable:!0,configurable:!0}),n.prototype.toMouseEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.toTouchEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.toGestureEvent=function(e){var t=this.getItemIndexFromEventTarget(e.initialTarget||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.toDragEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=typeof t>"u"?void 0:this.items[t],i=r&&r.element;return{browserEvent:e,index:t,element:i}},n.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(t){throw console.error("Got bad scroll event:",e),t}},n.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},n.prototype.onDragStart=function(e,t,r){if(r.dataTransfer){var i=this.dnd.getDragElements(e);if(r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setData(Mne.RESOURCES,JSON.stringify([t])),r.dataTransfer.setDragImage){var o=void 0;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(i)),typeof o>"u"&&(o=String(i.length));var s=We(".monaco-drag-image");s.textContent=o,document.body.appendChild(s),r.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragData=new c1(i),Js.CurrentDragAndDropData=new d3e(i),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,r)}},n.prototype.onDragOver=function(e){var t=this;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Js.CurrentDragAndDropData&&Js.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Js.CurrentDragAndDropData)this.currentDragData=Js.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new p3e}var r=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof r=="boolean"?r:r.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof r!="boolean"&&r.effect===0?"copy":"move";var i;if(typeof r!="boolean"&&r.feedback?i=r.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=RJ(i).filter(function(l){return l>=-1&&l<t.length}).sort(),i=i[0]===-1?[-1]:i,i.length===0)throw new Error("Invalid empty feedback list");if(g3e(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)De(this.domNode,"drop-target"),this.currentDragFeedbackDisposable=bn(function(){return st(t.domNode,"drop-target")});else{for(var o=0,s=i;o<s.length;o++){var a=s[o],u=this.items[a];u.dropTarget=!0,u.row&&u.row.domNode&&De(u.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=bn(function(){for(var l=0,c=i;l<c.length;l++){var h=c[l],d=t.items[h];d.dropTarget=!1,d.row&&d.row.domNode&&st(d.row.domNode,"drop-target")}})}return!0},n.prototype.onDragLeave=function(){var e=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Pm(function(){return e.clearDragOverFeedback()},100)},n.prototype.onDrop=function(e){if(this.canDrop){var t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Js.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}},n.prototype.onDragEnd=function(){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Js.CurrentDragAndDropData=void 0},n.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=he.None},n.prototype.setupDragAndDropScrollTopAnimation=function(e){var t=this;if(!this.dragOverAnimationDisposable){var r=_6(this.domNode).top;this.dragOverAnimationDisposable=aAe(this.animateDragAndDropScrollTop.bind(this,r))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Pm(function(){t.dragOverAnimationDisposable&&(t.dragOverAnimationDisposable.dispose(),t.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY},n.prototype.animateDragAndDropScrollTop=function(e){if(this.dragOverMouseY!==void 0){var t=this.dragOverMouseY-e,r=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>r&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-r))))}},n.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},n.prototype.getItemIndexFromEventTarget=function(e){for(var t=e;t instanceof HTMLElement&&t!==this.rowsContainer;){var r=t.getAttribute("data-index");if(r){var i=Number(r);if(!isNaN(i))return i}t=t.parentElement}},n.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},n.prototype._rerender=function(e,t){var r=this.getRenderRange(e,t),i,o;e===this.elementTop(r.start)?(i=r.start,o=0):r.end-r.start>1&&(i=r.start+1,o=this.elementTop(i)-e);for(var s=0;;){for(var a=this.getRenderRange(e,t),u=!1,l=a.start;l<a.end;l++){var c=this.probeDynamicHeight(l);c!==0&&this.rangeMap.splice(l,1,[this.items[l]]),s+=c,u=u||c!==0}if(!u){s!==0&&this.eventuallyUpdateScrollDimensions();for(var h=Ko.relativeComplement(r,a),d=0,p=h;d<p.length;d++)for(var v=p[d],l=v.start;l<v.end;l++)this.items[l].row&&this.removeItemFromDOM(l);for(var m=Ko.relativeComplement(a,r),_=0,b=m;_<b.length;_++)for(var v=b[_],l=v.start;l<v.end;l++){var C=l+1,E=C<this.items.length?this.items[C].row:null,S=E?E.domNode:null;this.insertItemInDOM(l,S)}for(var l=a.start;l<a.end;l++)this.items[l].row&&this.updateItemInDOM(this.items[l],l);typeof i=="number"&&(this.scrollTop=this.elementTop(i)-o),this._onDidChangeContentHeight.fire(this.contentHeight);return}}},n.prototype.probeDynamicHeight=function(e){var t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;var r=t.size,i=this.cache.alloc(t.templateId);i.domNode.style.height="",this.rowsContainer.appendChild(i.domNode);var o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,i.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,i.templateData,void 0)),t.size=i.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(i.domNode),this.cache.release(i),t.size-r},n.prototype.getNextToLastElement=function(e){var t=e[e.length-1];if(!t)return null;var r=this.items[t.end];return!r||!r.row?null:r.row.domNode},n.prototype.getElementDomId=function(e){return this.domId+"_"+e},n.prototype.dispose=function(){if(this.items){for(var e=0,t=this.items;e<t.length;e++){var r=t[e];if(r.row){var i=this.renderers.get(r.row.templateId);i&&i.disposeTemplate(r.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.disposables=nt(this.disposables)},n.InstanceCount=0,Ld([Na],n.prototype,"onMouseClick",null),Ld([Na],n.prototype,"onMouseDblClick",null),Ld([Na],n.prototype,"onMouseMiddleClick",null),Ld([Na],n.prototype,"onMouseDown",null),Ld([Na],n.prototype,"onContextMenu",null),Ld([Na],n.prototype,"onTouchStart",null),Ld([Na],n.prototype,"onTap",null),n}(),m3e=function(){function n(e){this.spliceables=e}return n.prototype.splice=function(e,t,r){this.spliceables.forEach(function(i){return i.splice(e,t,r)})},n}();function lu(n,e,t){return Math.min(Math.max(n,e),t)}function Fne(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t,r){for(var i=0,o=n.length;i<o;i++){var s=n[i](t,r);if(s)return s}return null}}var k5=_3e.bind(void 0,!0);function _3e(n,e,t){if(!t||t.length<e.length)return null;var r;return n?r=_ee(t,e):r=t.indexOf(e)===0,r?e.length>0?[{start:0,end:e.length}]:[]:null}function y3e(n,e){var t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function b3e(n,e){return a3(n.toLowerCase(),e.toLowerCase(),0,0)}function a3(n,e,t,r){if(t===n.length)return[];if(r===e.length)return null;if(n[t]===e[r]){var i=null;return(i=a3(n,e,t+1,r+1))?Hne({start:r,end:r+1},i):null}return a3(n,e,t,r+1)}function R5(n){return 97<=n&&n<=122}function k2(n){return 65<=n&&n<=90}function P5(n){return 48<=n&&n<=57}function C3e(n){return n===32||n===9||n===10||n===13}var w3e=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(function(n){return w3e.add(n.charCodeAt(0))});function Bne(n){return R5(n)||k2(n)||P5(n)}function Hne(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function Vne(n,e){for(var t=e;t<n.length;t++){var r=n.charCodeAt(t);if(k2(r)||P5(r)||t>0&&!Bne(n.charCodeAt(t-1)))return t}return n.length}function u3(n,e,t,r){if(t===n.length)return[];if(r===e.length)return null;if(n[t]!==e[r].toLowerCase())return null;var i=null,o=r+1;for(i=u3(n,e,t+1,r+1);!i&&(o=Vne(e,o))<e.length;)i=u3(n,e,t+1,o),o++;return i===null?null:Hne({start:r,end:r+1},i)}function E3e(n){for(var e=0,t=0,r=0,i=0,o=0,s=0;s<n.length;s++)o=n.charCodeAt(s),k2(o)&&e++,R5(o)&&t++,Bne(o)&&r++,P5(o)&&i++;var a=e/n.length,u=t/n.length,l=r/n.length,c=i/n.length;return{upperPercent:a,lowerPercent:u,alphaPercent:l,numericPercent:c}}function S3e(n){var e=n.upperPercent,t=n.lowerPercent;return t===0&&e>.6}function T3e(n){var e=n.upperPercent,t=n.lowerPercent,r=n.alphaPercent,i=n.numericPercent;return t>.2&&e<.8&&r>.6&&i<.2}function D3e(n){for(var e=0,t=0,r=0,i=0,o=0;o<n.length;o++)r=n.charCodeAt(o),k2(r)&&e++,R5(r)&&t++,C3e(r)&&i++;return(e===0||t===0)&&i===0?n.length<=30:e<=5}function Wne(n,e){if(!e||(e=e.trim(),e.length===0)||!D3e(n)||e.length>60)return null;var t=E3e(e);if(!T3e(t)){if(!S3e(t))return null;e=e.toLowerCase()}var r=null,i=0;for(n=n.toLowerCase();i<e.length&&(r=u3(n,e,0,i))===null;)i=Vne(e,i+1);return r}var A3e=Fne(k5,Wne,y3e),I3e=Fne(k5,Wne,b3e),qz=new Mm(1e4);function Une(n,e,t){if(t===void 0&&(t=!1),typeof n!="string"||typeof e!="string")return null;var r=qz.get(n);r||(r=new RegExp(cAe(n),"i"),qz.set(n,r));var i=r.exec(e);return i?[{start:i.index,end:i.index+i[0].length}]:t?I3e(n,e):A3e(n,e)}function x3e(n,e,t,r,i,o){var s=f1(n,e,0,r,i,0,!0);if(s)return s;for(var a=0,u=0,l=o,c=0;c<e.length&&c<$f;++c){var h=i.indexOf(e.charAt(c),l);if(h>=0)u+=1,a+=Math.pow(2,h),l=h+1;else if(a!==0)break}return[u,a,o]}function M5(n){if(typeof n>"u")return[];for(var e=n[1].toString(2),t=n[2],r=[],i=t;i<$f;i++)if(e[e.length-(i+1)]==="1"){var o=r[r.length-1];o&&o.end===i?o.end=i+1:r.push({start:i,end:i+1})}return r}var $f=128;function F5(){for(var n=[],e=[0],t=1;t<=$f;t++)e.push(-t);for(var t=0;t<=$f;t++){var r=e.slice(0);r[0]=-t,n.push(r)}return n}var ic=F5(),jne=F5(),zd=F5();function Dk(n,e){if(e<0||e>=n.length)return!1;var t=n.charCodeAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function L3e(n,e){if(e<0||e>=n.length)return!1;var t=n.charCodeAt(e);switch(t){case 32:case 9:return!0;default:return!1}}function zz(n,e,t){return e[n]!==t[n]}function N3e(n,e,t,r,i,o){for(;e<t&&i<o;)n[e]===r[i]&&(e+=1),i+=1;return e===t}var Eu;(function(n){n.Default=Object.freeze([-100,0,0]);function e(t){return!t||t[0]===-100&&t[1]===0&&t[2]===0}n.isDefault=e})(Eu||(Eu={}));function f1(n,e,t,r,i,o,s){var a=n.length>$f?$f:n.length,u=r.length>$f?$f:r.length;if(!(t>=a||o>=u||a>u)&&N3e(e,t,a,i,o,u)){var l=1,c=1,h=t,d=o;for(l=1,h=t;h<a;l++,h++)for(c=1,d=o;d<u;c++,d++){var p=O3e(n,e,h,t,r,i,d);jne[l][c]=p;var v=ic[l-1][c-1]+(p>1?1:p),m=ic[l-1][c]+-1,_=ic[l][c-1]+-1;_>=m?_>v?(ic[l][c]=_,zd[l][c]=4):_===v?(ic[l][c]=_,zd[l][c]=6):(ic[l][c]=v,zd[l][c]=2):m>v?(ic[l][c]=m,zd[l][c]=1):m===v?(ic[l][c]=m,zd[l][c]=3):(ic[l][c]=v,zd[l][c]=2)}if(cD=0,fD=-100,zne=o,Gne=s,$ne(l-1,c-1,a===u?1:0,0,!1),cD!==0)return[fD,qne,o]}}function O3e(n,e,t,r,i,o,s){return e[t]!==o[s]?-1:s===t-r||zz(s,i,o)&&(s===0||!zz(s-1,i,o))?n[t]===i[s]?7:5:Dk(o,s)&&(s===0||!Dk(o,s-1))||Dk(o,s-1)||L3e(o,s-1)?5:1}var cD=0,qne=0,fD=0,zne=0,Gne=!1;function $ne(n,e,t,r,i){if(!(cD>=10||t<-25)){for(var o=0;n>0&&e>0;){var s=jne[n][e],a=zd[n][e];if(a===4)e-=1,i?t-=5:r!==0&&(t-=1),i=!1,o=0;else if(a&2)if(a&4&&$ne(n,e-1,r!==0?t-1:t,r,i),t+=s,n-=1,e-=1,i=!0,r+=Math.pow(2,e+zne),s===1){if(o+=1,n===0&&!Gne)return}else t+=1+o*(s-1),o=0;else return}t-=e>=3?9:e*3,cD+=1,t>fD&&(fD=t,qne=r)}}function k3e(n,e,t,r,i,o,s){return R3e(n,e,t,r,i,o,!0,s)}function R3e(n,e,t,r,i,o,s,a){var u=f1(n,e,t,r,i,o,a);if(u&&!s)return u;if(n.length>=3)for(var l=Math.min(7,n.length-1),c=t+1;c<l;c++){var h=P3e(n,c);if(h){var d=f1(h,h.toLowerCase(),t,r,i,o,a);d&&(d[0]-=3,(!u||d[0]>u[0])&&(u=d))}}return u}function P3e(n,e){if(!(e+1>=n.length)){var t=n[e],r=n[e+1];if(t!==r)return n.slice(0,e)+r+t+n.slice(e+2)}}var M3e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hD=function(){return hD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hD.apply(this,arguments)},HS=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},F3e=function(){function n(e){this.trait=e,this.renderedElements=[]}return Object.defineProperty(n.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),n.prototype.renderTemplate=function(e){return e},n.prototype.renderElement=function(e,t,r){var i=nh(this.renderedElements,function(s){return s.templateData===r});if(i>=0){var o=this.renderedElements[i];this.trait.unrender(r),o.index=t}else{var o={index:t,templateData:r};this.renderedElements.push(o)}this.trait.renderIndex(t,r)},n.prototype.splice=function(e,t,r){for(var i=[],o=0,s=this.renderedElements;o<s.length;o++){var a=s[o];a.index<e?i.push(a):a.index>=e+t&&i.push({index:a.index+r-t,templateData:a.templateData})}this.renderedElements=i},n.prototype.renderIndexes=function(e){for(var t=0,r=this.renderedElements;t<r.length;t++){var i=r[t],o=i.index,s=i.templateData;e.indexOf(o)>-1&&this.trait.renderIndex(o,s)}},n.prototype.disposeTemplate=function(e){var t=nh(this.renderedElements,function(r){return r.templateData===e});t<0||this.renderedElements.splice(t,1)},n}(),Kne=function(){function n(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new Q,this.onChange=this._onChange.event}return Object.defineProperty(n.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return new F3e(this)},enumerable:!0,configurable:!0}),n.prototype.splice=function(e,t,r){var i=r.length-t,o=e+t,s=this.sortedIndexes.filter(function(a){return a<e}).concat(r.map(function(a,u){return a?u+e:-1}).filter(function(a){return a!==-1}),this.sortedIndexes.filter(function(a){return a>=o}).map(function(a){return a+i}));this.renderer.splice(e,t,r.length),this._set(s,s)},n.prototype.renderIndex=function(e,t){Rt(t,this._trait,this.contains(e))},n.prototype.unrender=function(e){st(e,this._trait)},n.prototype.set=function(e,t){return this._set(e,e.slice().sort($z),t)},n.prototype._set=function(e,t,r){var i=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;var s=l3(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:r}),i},n.prototype.get=function(){return this.indexes},n.prototype.contains=function(e){return e2(this.sortedIndexes,e,$z)>=0},n.prototype.dispose=function(){this._onChange=nt(this._onChange)},HS([Na],n.prototype,"renderer",null),n}(),B3e=function(n){M3e(e,n);function e(){return n.call(this,"focused")||this}return e.prototype.renderIndex=function(t,r){n.prototype.renderIndex.call(this,t,r),this.contains(t)?r.setAttribute("aria-selected","true"):r.removeAttribute("aria-selected")},e}(Kne),Gz=function(){function n(e,t,r){this.trait=e,this.view=t,this.identityProvider=r}return n.prototype.splice=function(e,t,r){var i=this;if(!this.identityProvider)return this.trait.splice(e,t,r.map(function(){return!1}));var o=this.trait.get().map(function(a){return i.identityProvider.getId(i.view.element(a)).toString()}),s=r.map(function(a){return o.indexOf(i.identityProvider.getId(a).toString())>-1});this.trait.splice(e,t,s)},n}();function h1(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}var H3e=function(){function n(e,t,r){this.list=e,this.view=t,this.disposables=new Be;var i=r.multipleSelectionSupport!==!1;this.openController=r.openController||Jne;var o=Ze.chain(Nt(t.domNode,"keydown")).filter(function(s){return!h1(s.target)}).map(function(s){return new Gn(s)});o.filter(function(s){return s.keyCode===3}).on(this.onEnter,this,this.disposables),o.filter(function(s){return s.keyCode===16}).on(this.onUpArrow,this,this.disposables),o.filter(function(s){return s.keyCode===18}).on(this.onDownArrow,this,this.disposables),o.filter(function(s){return s.keyCode===11}).on(this.onPageUpArrow,this,this.disposables),o.filter(function(s){return s.keyCode===12}).on(this.onPageDownArrow,this,this.disposables),o.filter(function(s){return s.keyCode===9}).on(this.onEscape,this,this.disposables),i&&o.filter(function(s){return(Tt?s.metaKey:s.ctrlKey)&&s.keyCode===31}).on(this.onCtrlA,this,this.disposables)}return n.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open(this.list.getFocus(),e.browserEvent)},n.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},n.prototype.onCtrlA=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Go(this.list.length),e.browserEvent),this.view.domNode.focus()},n.prototype.onEscape=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()},n.prototype.dispose=function(){this.disposables.dispose()},n}(),zv;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(zv||(zv={}));function Yne(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=93&&n.keyCode<=102||n.keyCode>=80&&n.keyCode<=90}var V3e=function(){function n(e,t,r){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=r,this.enabled=!1,this.state=zv.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.enabledDisposables=new Be,this.disposables=new Be,this.updateOptions(e.options)}return n.prototype.updateOptions=function(e){var t=typeof e.enableKeyboardNavigation>"u"?!0:!!e.enableKeyboardNavigation;t?this.enable():this.disable(),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)},n.prototype.enable=function(){var e=this;if(!this.enabled){var t=Ze.chain(Nt(this.view.domNode,"keydown")).filter(function(o){return!h1(o.target)}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).map(function(o){return new Gn(o)}).filter(this.keyboardNavigationLabelProvider.mightProducePrintableCharacter?function(o){return e.keyboardNavigationLabelProvider.mightProducePrintableCharacter(o)}:function(o){return Yne(o)}).forEach(function(o){o.stopPropagation(),o.preventDefault()}).map(function(o){return o.browserEvent.key}).event,r=Ze.debounce(t,function(){return null},800),i=Ze.reduce(Ze.any(t,r),function(o,s){return s===null?null:(o||"")+s});i(this.onInput,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}},n.prototype.disable=function(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)},n.prototype.onInput=function(e){if(!e){this.state=zv.Idle,this.triggered=!1;return}var t=this.list.getFocus(),r=t.length>0?t[0]:0,i=this.state===zv.Idle?1:0;this.state=zv.Typing;for(var o=0;o<this.list.length;o++){var s=(r+o+i)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),u=a&&a.toString();if(typeof u>"u"||k5(e,u)){this.list.setFocus([s]),this.list.reveal(s);return}}},n.prototype.dispose=function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()},n}(),W3e=function(){function n(e,t){this.list=e,this.view=t,this.disposables=new Be;var r=Ze.chain(Nt(t.domNode,"keydown")).filter(function(i){return!h1(i.target)}).map(function(i){return new Gn(i)});r.filter(function(i){return i.keyCode===2&&!i.ctrlKey&&!i.metaKey&&!i.shiftKey&&!i.altKey}).on(this.onTab,this,this.disposables)}return n.prototype.onTab=function(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(t.length!==0){var r=this.view.domElement(t[0]);if(r){var i=r.querySelector("[tabIndex]");if(!(!i||!(i instanceof HTMLElement)||i.tabIndex===-1)){var o=window.getComputedStyle(i);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),i.focus())}}}}},n.prototype.dispose=function(){this.disposables.dispose()},n}();function Xne(n){return Tt?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function Qne(n){return n.browserEvent.shiftKey}function Zne(n){return n instanceof MouseEvent&&n.button===2}var U3e={isSelectionSingleChangeEvent:Xne,isSelectionRangeChangeEvent:Qne},Jne={shouldOpen:function(n){return n instanceof MouseEvent?!Zne(n):!0}},ere=function(){function n(e){this.list=e,this.disposables=new Be,this.multipleSelectionSupport=e.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||U3e),this.openController=e.options.openController||Jne,this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),F_.addTarget(e.getHTMLElement())),e.onMouseClick(this.onPointer,this,this.disposables),e.onMouseMiddleClick(this.onPointer,this,this.disposables),e.onTap(this.onPointer,this,this.disposables)}return n.prototype.isSelectionSingleChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):Tt?e.browserEvent.metaKey:e.browserEvent.ctrlKey},n.prototype.isSelectionRangeChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey},n.prototype.isSelectionChangeEvent=function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)},n.prototype.onMouseDown=function(e){document.activeElement!==e.browserEvent.target&&this.list.domFocus()},n.prototype.onContextMenu=function(e){var t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)},n.prototype.onPointer=function(e){if(this.mouseSupport&&!h1(e.browserEvent.target)){var t=this.list.getFocus()[0],r=this.list.getSelection();t=t===void 0?r[0]:t;var i=e.index;if(typeof i>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e))return this.changeSelection(e,t);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return this.changeSelection(e,t);this.list.setFocus([i],e.browserEvent),Zne(e.browserEvent)||(this.list.setSelection([i],e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open([i],e.browserEvent))}},n.prototype.onDoubleClick=function(e){if(!h1(e.browserEvent.target)&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))){var t=this.list.getFocus();this.list.setSelection(t,e.browserEvent),this.list.pin(t)}},n.prototype.changeSelection=function(e,t){var r=e.index;if(this.isSelectionRangeChangeEvent(e)&&t!==void 0){var i=Math.min(t,r),o=Math.max(t,r),s=Go(i,o+1),a=this.list.getSelection(),u=z3e(l3(a,[t]),t);if(u.length===0)return;var l=l3(s,G3e(a,u));this.list.setSelection(l,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){var a=this.list.getSelection(),l=a.filter(function(d){return d!==r});this.list.setFocus([r]),a.length===l.length?this.list.setSelection(l.concat([r]),e.browserEvent):this.list.setSelection(l,e.browserEvent)}},n.prototype.dispose=function(){this.disposables.dispose()},n}(),tre=function(){function n(e,t){this.styleElement=e,this.selectorSuffix=t}return n.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",r=[];e.listFocusBackground&&(r.push(".monaco-list"+t+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }"),r.push(".monaco-list"+t+":focus .monaco-list-row.focused:hover { background-color: "+e.listFocusBackground+"; }")),e.listFocusForeground&&r.push(".monaco-list"+t+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&(r.push(".monaco-list"+t+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }"),r.push(".monaco-list"+t+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")),e.listActiveSelectionForeground&&r.push(".monaco-list"+t+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&r.push(`
				.monaco-drag-image,
				.monaco-list`+t+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+`; }
			`),e.listFocusAndSelectionForeground&&r.push(`
				.monaco-drag-image,
				.monaco-list`+t+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+`; }
			`),e.listInactiveFocusBackground&&(r.push(".monaco-list"+t+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }"),r.push(".monaco-list"+t+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")),e.listInactiveSelectionBackground&&(r.push(".monaco-list"+t+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }"),r.push(".monaco-list"+t+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")),e.listInactiveSelectionForeground&&r.push(".monaco-list"+t+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&r.push(".monaco-list"+t+":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  "+e.listHoverBackground+"; }"),e.listHoverForeground&&r.push(".monaco-list"+t+" .monaco-list-row:hover:not(.selected):not(.focused) { color:  "+e.listHoverForeground+"; }"),e.listSelectionOutline&&r.push(".monaco-list"+t+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }"),e.listFocusOutline&&r.push(`
				.monaco-drag-image,
				.monaco-list`+t+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+`; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&r.push(".monaco-list"+t+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }"),e.listHoverOutline&&r.push(".monaco-list"+t+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }"),e.listDropBackground&&r.push(`
				.monaco-list`+t+`.drop-target,
				.monaco-list`+t+" .monaco-list-row.drop-target { background-color: "+e.listDropBackground+` !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&r.push(".monaco-list-type-filter { background-color: "+e.listFilterWidgetBackground+" }"),e.listFilterWidgetOutline&&r.push(".monaco-list-type-filter { border: 1px solid "+e.listFilterWidgetOutline+"; }"),e.listFilterWidgetNoMatchesOutline&&r.push(".monaco-list-type-filter.no-matches { border: 1px solid "+e.listFilterWidgetNoMatchesOutline+"; }"),e.listMatchesShadow&&r.push(".monaco-list-type-filter { box-shadow: 1px 1px 1px "+e.listMatchesShadow+"; }");var i=r.join(`
`);i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},n}(),j3e={listFocusBackground:ae.fromHex("#073655"),listActiveSelectionBackground:ae.fromHex("#0E639C"),listActiveSelectionForeground:ae.fromHex("#FFFFFF"),listFocusAndSelectionBackground:ae.fromHex("#094771"),listFocusAndSelectionForeground:ae.fromHex("#FFFFFF"),listInactiveSelectionBackground:ae.fromHex("#3F3F46"),listHoverBackground:ae.fromHex("#2A2D2E"),listDropBackground:ae.fromHex("#383B3D"),treeIndentGuidesStroke:ae.fromHex("#a9a9a9")},q3e={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},ariaRootRole:lD.TREE};function z3e(n,e){var t=n.indexOf(e);if(t===-1)return[];for(var r=[],i=t-1;i>=0&&n[i]===e-(t-i);)r.push(n[i--]);for(r.reverse(),i=t;i<n.length&&n[i]===e+(i-t);)r.push(n[i++]);return r}function l3(n,e){for(var t=[],r=0,i=0;r<n.length||i<e.length;)if(r>=n.length)t.push(e[i++]);else if(i>=e.length)t.push(n[r++]);else if(n[r]===e[i]){t.push(n[r]),r++,i++;continue}else n[r]<e[i]?t.push(n[r++]):t.push(e[i++]);return t}function G3e(n,e){for(var t=[],r=0,i=0;r<n.length||i<e.length;)if(r>=n.length)t.push(e[i++]);else if(i>=e.length)t.push(n[r++]);else if(n[r]===e[i]){r++,i++;continue}else n[r]<e[i]?t.push(n[r++]):i++;return t}var $z=function(n,e){return n-e},$3e=function(){function n(e,t){this._templateId=e,this.renderers=t}return Object.defineProperty(n.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),n.prototype.renderTemplate=function(e){return this.renderers.map(function(t){return t.renderTemplate(e)})},n.prototype.renderElement=function(e,t,r,i){for(var o=0,s=0,a=this.renderers;s<a.length;s++){var u=a[s];u.renderElement(e,t,r[o++],i)}},n.prototype.disposeElement=function(e,t,r,i){for(var o=0,s=0,a=this.renderers;s<a.length;s++){var u=a[s];u.disposeElement&&u.disposeElement(e,t,r[o],i),o+=1}},n.prototype.disposeTemplate=function(e){for(var t=0,r=0,i=this.renderers;r<i.length;r++){var o=i[r];o.disposeTemplate(e[t++])}},n}(),K3e=function(){function n(e){this.accessibilityProvider=e,this.templateId="a18n"}return n.prototype.renderTemplate=function(e){return e},n.prototype.renderElement=function(e,t,r){var i=this.accessibilityProvider.getAriaLabel(e);i?r.setAttribute("aria-label",i):r.removeAttribute("aria-label");var o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?r.setAttribute("aria-level",""+o):r.removeAttribute("aria-level")},n.prototype.disposeTemplate=function(e){},n}(),Y3e=function(){function n(e,t){this.list=e,this.dnd=t}return n.prototype.getDragElements=function(e){var t=this.list.getSelectedElements(),r=t.indexOf(e)>-1?t:[e];return r},n.prototype.getDragURI=function(e){return this.dnd.getDragURI(e)},n.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e)},n.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)},n.prototype.onDragOver=function(e,t,r,i){return this.dnd.onDragOver(e,t,r,i)},n.prototype.drop=function(e,t,r,i){this.dnd.drop(e,t,r,i)},n}(),nre=function(){function n(e,t,r,i){i===void 0&&(i=q3e),this._options=i,this.eventBufferer=new l6,this.disposables=new Be,this._onDidOpen=new Q,this.onDidOpen=this._onDidOpen.event,this._onPin=new Q,this.didJustPressContextMenuKey=!1,this._onDidDispose=new Q,this.onDidDispose=this._onDidDispose.event,this.focus=new B3e,this.selection=new Kne("selected"),$r(i,j3e,!1);var o=[this.focus.renderer,this.selection.renderer];i.accessibilityProvider&&o.push(new K3e(i.accessibilityProvider)),r=r.map(function(u){return new $3e(u.templateId,o.concat([u]))});var s=hD({},i,{dnd:i.dnd&&new Y3e(this,i.dnd)});if(this.view=new v3e(e,t,r,s),typeof i.ariaRole!="string"?this.view.domNode.setAttribute("role",lD.TREE):this.view.domNode.setAttribute("role",i.ariaRole),this.styleElement=Fh(this.view.domNode),this.styleController=i.styleController||new tre(this.styleElement,this.view.domId),this.spliceable=new m3e([new Gz(this.focus,this.view,i.identityProvider),new Gz(this.selection,this.view,i.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=Ze.map(Nt(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=Ze.map(Nt(this.view.domNode,"blur",!0),function(){return null}),this.disposables.add(new W3e(this,this.view)),typeof i.keyboardSupport!="boolean"||i.keyboardSupport){var a=new H3e(this,this.view,i);this.disposables.add(a)}i.keyboardNavigationLabelProvider&&(this.typeLabelController=new V3e(this,this.view,i.keyboardNavigationLabelProvider),this.disposables.add(this.typeLabelController)),this.disposables.add(this.createMouseController(i)),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),i.ariaLabel&&this.view.domNode.setAttribute("aria-label",D("aria list","{0}. Use the navigation keys to navigate.",i.ariaLabel)),this.style(i)}return Object.defineProperty(n.prototype,"onFocusChange",{get:function(){var e=this;return Ze.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onSelectionChange",{get:function(){var e=this;return Ze.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"domId",{get:function(){return this.view.domId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onContextMenu",{get:function(){var e=this,t=Ze.chain(Nt(this.view.domNode,"keydown")).map(function(o){return new Gn(o)}).filter(function(o){return e.didJustPressContextMenuKey=o.keyCode===58||o.shiftKey&&o.keyCode===68}).filter(function(o){return o.preventDefault(),o.stopPropagation(),!1}).event,r=Ze.chain(Nt(this.view.domNode,"keyup")).filter(function(){var o=e.didJustPressContextMenuKey;return e.didJustPressContextMenuKey=!1,o}).filter(function(){return e.getFocus().length>0&&!!e.view.domElement(e.getFocus()[0])}).map(function(o){var s=e.getFocus()[0],a=e.view.element(s),u=e.view.domElement(s);return{index:s,element:a,anchor:u,browserEvent:o}}).event,i=Ze.chain(this.view.onContextMenu).filter(function(){return!e.didJustPressContextMenuKey}).map(function(o){var s=o.element,a=o.index,u=o.browserEvent;return{element:s,index:a,anchor:{x:u.clientX+1,y:u.clientY},browserEvent:u}}).event;return Ze.any(t,r,i)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onKeyDown",{get:function(){return Nt(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),n.prototype.createMouseController=function(e){return new ere(this)},n.prototype.updateOptions=function(e){e===void 0&&(e={}),this._options=hD({},this._options,e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options)},Object.defineProperty(n.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),n.prototype.splice=function(e,t,r){var i=this;if(r===void 0&&(r=[]),e<0||e>this.view.length)throw new Error("Invalid start index: "+e);if(t<0)throw new Error("Invalid delete count: "+t);t===0&&r.length===0||this.eventBufferer.bufferEvents(function(){return i.spliceable.splice(e,t,r)})},n.prototype.rerender=function(){this.view.rerender()},n.prototype.element=function(e){return this.view.element(e)},Object.defineProperty(n.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:!0,configurable:!0}),n.prototype.domFocus=function(){this.view.domNode.focus()},n.prototype.layout=function(e,t){this.view.layout(e,t)},n.prototype.setSelection=function(e,t){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o<0||o>=this.length)throw new Error("Invalid index "+o)}this.selection.set(e,t)},n.prototype.getSelection=function(){return this.selection.get()},n.prototype.getSelectedElements=function(){var e=this;return this.getSelection().map(function(t){return e.view.element(t)})},n.prototype.setFocus=function(e,t){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o<0||o>=this.length)throw new Error("Invalid index "+o)}this.focus.set(e,t)},n.prototype.focusNext=function(e,t,r,i){if(e===void 0&&(e=1),t===void 0&&(t=!1),this.length!==0){var o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,i);s>-1&&this.setFocus([s],r)}},n.prototype.focusPrevious=function(e,t,r,i){if(e===void 0&&(e=1),t===void 0&&(t=!1),this.length!==0){var o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,i);s>-1&&this.setFocus([s],r)}},n.prototype.focusNextPage=function(e,t){var r=this,i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;var o=this.view.element(i),s=this.getFocusedElements()[0];if(s!==o){var a=this.findPreviousIndex(i,!1,t);a>-1&&s!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{var u=this.view.getScrollTop();this.view.setScrollTop(u+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==u&&setTimeout(function(){return r.focusNextPage(e,t)},0)}},n.prototype.focusPreviousPage=function(e,t){var r=this,i,o=this.view.getScrollTop();o===0?i=this.view.indexAt(o):i=this.view.indexAfter(o-1);var s=this.view.element(i),a=this.getFocusedElements()[0];if(a!==s){var u=this.findNextIndex(i,!1,t);u>-1&&a!==this.view.element(u)?this.setFocus([u],e):this.setFocus([i],e)}else{var l=o;this.view.setScrollTop(o-this.view.renderHeight),this.view.getScrollTop()!==l&&setTimeout(function(){return r.focusPreviousPage(e,t)},0)}},n.prototype.focusLast=function(e,t){if(this.length!==0){var r=this.findPreviousIndex(this.length-1,!1,t);r>-1&&this.setFocus([r],e)}},n.prototype.focusFirst=function(e,t){if(this.length!==0){var r=this.findNextIndex(0,!1,t);r>-1&&this.setFocus([r],e)}},n.prototype.findNextIndex=function(e,t,r){t===void 0&&(t=!1);for(var i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!r||r(this.element(e)))return e;e++}return-1},n.prototype.findPreviousIndex=function(e,t,r){t===void 0&&(t=!1);for(var i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!r||r(this.element(e)))return e;e--}return-1},n.prototype.getFocus=function(){return this.focus.get()},n.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},n.prototype.reveal=function(e,t){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var r=this.view.getScrollTop(),i=this.view.elementTop(e),o=this.view.elementHeight(e);if(Pc(t)){var s=o-this.view.renderHeight;this.view.setScrollTop(s*lu(t,0,1)+i)}else{var a=i+o,u=r+this.view.renderHeight;i<r?this.view.setScrollTop(i):a>=u&&this.view.setScrollTop(a-this.view.renderHeight)}},n.prototype.getRelativeTop=function(e){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var t=this.view.getScrollTop(),r=this.view.elementTop(e),i=this.view.elementHeight(e);if(r<t||r+i>t+this.view.renderHeight)return null;var o=i-this.view.renderHeight;return Math.abs((t-r)/o)},n.prototype.getHTMLElement=function(){return this.view.domNode},n.prototype.open=function(e,t){for(var r=this,i=0,o=e;i<o.length;i++){var s=o[i];if(s<0||s>=this.length)throw new Error("Invalid index "+s)}this._onDidOpen.fire({indexes:e,elements:e.map(function(a){return r.view.element(a)}),browserEvent:t})},n.prototype.pin=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i<0||i>=this.length)throw new Error("Invalid index "+i)}this._onPin.fire(e)},n.prototype.style=function(e){this.styleController.style(e)},n.prototype.toListEvent=function(e){var t=this,r=e.indexes,i=e.browserEvent;return{indexes:r,elements:r.map(function(o){return t.view.element(o)}),browserEvent:i}},n.prototype._onFocusChange=function(){var e=this.focus.get();e.length>0?this.view.domNode.setAttribute("aria-activedescendant",this.view.getElementDomId(e[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),Rt(this.view.domNode,"element-focused",e.length>0)},n.prototype._onSelectionChange=function(){var e=this.selection.get();Rt(this.view.domNode,"selection-none",e.length===0),Rt(this.view.domNode,"selection-single",e.length===1),Rt(this.view.domNode,"selection-multiple",e.length>1)},n.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidOpen.dispose(),this._onPin.dispose(),this._onDidDispose.dispose()},HS([Na],n.prototype,"onFocusChange",null),HS([Na],n.prototype,"onSelectionChange",null),HS([Na],n.prototype,"onContextMenu",null),n}();function rre(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function c3(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function ire(n){var e=n.element,t=n.collapsed,r=ui.map(ui.fromArray(n.children),ire);return{element:e,children:r,collapsed:t}}var X3e=function(){function n(e,t,r){r===void 0&&(r={}),this.list=e,this.rootRef=[],this.eventBufferer=new l6,this._onDidChangeCollapseState=new Q,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Q,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Q,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return n.prototype.splice=function(e,t,r,i,o){var s,a=this;if(e.length===0)throw new Error("Invalid tree location");for(var u=this.getParentNodeWithListIndex(e),l=u.parentNode,c=u.listIndex,h=u.revealed,d=u.visible,p=[],v=ui.map(ui.from(r),function(B){return a.createTreeNode(B,l,l.visible?1:0,h,p,i)}),m=e[e.length-1],_=0,b=m;b>=0&&b<l.children.length;b--){var C=l.children[b];if(C.visible){_=C.visibleChildIndex;break}}var E=[],S=0,A=0;ui.forEach(v,function(B){E.push(B),A+=B.renderNodeCount,B.visible&&(B.visibleChildIndex=_+S++)});for(var T=(s=l.children).splice.apply(s,[m,t].concat(E)),N=0,k=0,F=T;k<F.length;k++){var C=F[k];C.visible&&N++}if(N!==0)for(var b=m+E.length;b<l.children.length;b++){var C=l.children[b];C.visible&&(C.visibleChildIndex-=N)}if(l.visibleChildrenCount+=S-N,h&&d){var L=T.reduce(function(B,U){return B+U.renderNodeCount},0);this._updateAncestorsRenderNodeCount(l,A-L),this.list.splice(c,L,p)}if(T.length>0&&o){var O=function(B){o(B),B.children.forEach(O)};T.forEach(O)}var P=ui.map(ui.fromArray(T),ire);return this._onDidSplice.fire({insertedNodes:E,deletedNodes:T}),P},n.prototype.rerender=function(e){if(e.length===0)throw new Error("Invalid tree location");var t=this.getTreeNodeWithListIndex(e),r=t.node,i=t.listIndex,o=t.revealed;o&&this.list.splice(i,1,[r])},n.prototype.getListIndex=function(e){var t=this.getTreeNodeWithListIndex(e),r=t.listIndex,i=t.visible,o=t.revealed;return i&&o?r:-1},n.prototype.getListRenderCount=function(e){return this.getTreeNode(e).renderNodeCount},n.prototype.isCollapsed=function(e){return this.getTreeNode(e).collapsed},n.prototype.setCollapsed=function(e,t,r){var i=this,o=this.getTreeNode(e);return typeof t>"u"&&(t=!o.collapsed),this.eventBufferer.bufferEvents(function(){return i._setCollapsed(e,t,r)})},n.prototype._setCollapsed=function(e,t,r){var i=this.getTreeNodeWithListIndex(e),o=i.node,s=i.listIndex,a=i.revealed,u=this._setListNodeCollapsed(o,s,a,t,r||!1);if(o!==this.root&&this.autoExpandSingleChildren&&!t&&!r){for(var l=-1,c=0;c<o.children.length;c++){var h=o.children[c];if(h.visible)if(l>-1){l=-1;break}else l=c}l>-1&&this._setCollapsed(e.concat([l]),!1,!1)}return u},n.prototype._setListNodeCollapsed=function(e,t,r,i,o){var s=this._setNodeCollapsed(e,i,o,!1);if(!r||!e.visible)return s;var a=e.renderNodeCount,u=this.updateNodeAfterCollapseChange(e),l=a-(t===-1?0:1);return this.list.splice(t+1,l,u.slice(1)),s},n.prototype._setNodeCollapsed=function(e,t,r,i){var o=e.collapsible&&e.collapsed!==t;if(e.collapsible&&(e.collapsed=t,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),r)for(var s=0,a=e.children;s<a.length;s++){var u=a[s];o=this._setNodeCollapsed(u,t,!0,!0)||o}return o},n.prototype.expandTo=function(e){var t=this;this.eventBufferer.bufferEvents(function(){for(var r=t.getTreeNode(e);r.parent;)r=r.parent,e=e.slice(0,e.length-1),r.collapsed&&t._setCollapsed(e,!1)})},n.prototype.refilter=function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)},n.prototype.createTreeNode=function(e,t,r,i,o,s){var a=this,u={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},l=this._filterNode(u,r);i&&o.push(u);var c=ui.from(e.children),h=i&&l!==0&&!u.collapsed,d=ui.map(c,function(m){return a.createTreeNode(m,u,l,h,o,s)}),p=0,v=1;return ui.forEach(d,function(m){u.children.push(m),v+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=p++)}),u.collapsible=u.collapsible||u.children.length>0,u.visibleChildrenCount=p,u.visible=l===2?p>0:l===1,u.visible?u.collapsed||(u.renderNodeCount=v):(u.renderNodeCount=0,i&&o.pop()),s&&s(u),u},n.prototype.updateNodeAfterCollapseChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterCollapseChange(e,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},n.prototype._updateNodeAfterCollapseChange=function(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(var r=0,i=e.children;r<i.length;r++){var o=i[r];e.renderNodeCount+=this._updateNodeAfterCollapseChange(o,t)}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount},n.prototype.updateNodeAfterFilterChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},n.prototype._updateNodeAfterFilterChange=function(e,t,r,i){i===void 0&&(i=!0);var o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,!1;i&&r.push(e)}var s=r.length;e.renderNodeCount=e===this.root?0:1;var a=!1;if(!e.collapsed||o!==0){for(var u=0,l=0,c=e.children;l<c.length;l++){var h=c[l];a=this._updateNodeAfterFilterChange(h,o,r,i&&!e.collapsed)||a,h.visible&&(h.visibleChildIndex=u++)}e.visibleChildrenCount=u}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1),e.visible?e.collapsed||(e.renderNodeCount+=r.length-s):(e.renderNodeCount=0,i&&r.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible},n.prototype._updateAncestorsRenderNodeCount=function(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent},n.prototype._filterNode=function(e,t){var r=this.filter?this.filter.filter(e.element,t):1;return typeof r=="boolean"?(e.filterData=void 0,r?1:0):rre(r)?(e.filterData=r.data,c3(r.visibility)):(e.filterData=void 0,c3(r))},n.prototype.getTreeNode=function(e,t){if(t===void 0&&(t=this.root),!e||e.length===0)return t;var r=e[0],i=e.slice(1);if(r<0||r>t.children.length)throw new Error("Invalid tree location");return this.getTreeNode(i,t.children[r])},n.prototype.getTreeNodeWithListIndex=function(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),r=t.parentNode,i=t.listIndex,o=t.revealed,s=t.visible,a=e[e.length-1];if(a<0||a>r.children.length)throw new Error("Invalid tree location");var u=r.children[a];return{node:u,listIndex:i,revealed:o,visible:s&&u.visible}},n.prototype.getParentNodeWithListIndex=function(e,t,r,i,o){t===void 0&&(t=this.root),r===void 0&&(r=0),i===void 0&&(i=!0),o===void 0&&(o=!0);var s=e[0],a=e.slice(1);if(s<0||s>t.children.length)throw new Error("Invalid tree location");for(var u=0;u<s;u++)r+=t.children[u].renderNodeCount;return i=i&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:r,revealed:i,visible:o}:this.getParentNodeWithListIndex(a,t.children[s],r+1,i,o)},n.prototype.getNode=function(e){return e===void 0&&(e=[]),this.getTreeNode(e)},n.prototype.getNodeLocation=function(e){for(var t=[];e.parent;)t.push(e.parent.children.indexOf(e)),e=e.parent;return t.reverse()},n.prototype.getParentNodeLocation=function(e){return e.length<=1?[]:LTe(e)[0]},n}(),ore=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fl=function(){return fl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fl.apply(this,arguments)};function Ak(n){if(n instanceof c1){var e=n.elements;return new c1(e.map(function(t){return t.element}))}return n}var Q3e=function(){function n(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=he.None}return n.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},n.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(t){return t.element}))},n.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Ak(e),t)},n.prototype.onDragOver=function(e,t,r,i,o){var s=this;o===void 0&&(o=!0);var a=this.dnd.onDragOver(Ak(e),t&&t.element,r,i),u=this.autoExpandNode!==t;if(u&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(u&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=Pm(function(){var C=s.modelProvider(),E=C.getNodeLocation(t);C.isCollapsed(E)&&C.setCollapsed(E,!1),s.autoExpandNode=void 0},500)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"){if(!o){var l=typeof a=="boolean"?a:a.accept,c=typeof a=="boolean"?void 0:a.effect;return{accept:l,effect:c,feedback:[r]}}return a}if(a.bubble===1){var h=t.parent,d=this.modelProvider(),p=h&&d.getListIndex(d.getNodeLocation(h));return this.onDragOver(e,h,p,i,!1)}var v=this.modelProvider(),m=v.getNodeLocation(t),_=v.getListIndex(m),b=v.getListRenderCount(m);return fl({},a,{feedback:Go(_,_+b)})},n.prototype.drop=function(e,t,r,i){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Ak(e),t&&t.element,r,i)},n}();function Z3e(n,e){return e&&fl({},e,{identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new Q3e(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(fl({},t,{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(fl({},t,{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&{getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getAriaLevel:function(t){return t.depth}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&fl({},e.keyboardNavigationLabelProvider,{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation,ariaProvider:{getSetSize:function(t){return t.parent.visibleChildrenCount},getPosInSet:function(t){return t.visibleChildIndex+1}}})}var sre=function(){function n(e){this.delegate=e}return n.prototype.getHeight=function(e){return this.delegate.getHeight(e.element)},n.prototype.getTemplateId=function(e){return this.delegate.getTemplateId(e.element)},n.prototype.hasDynamicHeight=function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)},n.prototype.setDynamicHeight=function(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)},n}(),Ip;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(Ip||(Ip={}));var J3e=function(){function n(e,t){var r=this;t===void 0&&(t=[]),this.onDidChange=e,this._elements=t,this.disposables=new Be,e(function(i){return r._elements=i},null,this.disposables)}return Object.defineProperty(n.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.disposables.dispose()},n}(),eFe=function(){function n(e,t,r,i){i===void 0&&(i={}),this.renderer=e,this.activeNodes=r,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=n.DefaultIndent,this._renderIndentGuides=Ip.None,this.renderedIndentGuides=new r3e,this.activeIndentNodes=new Set,this.indentGuidesDisposable=he.None,this.disposables=[],this.templateId=e.templateId,this.updateOptions(i),Ze.map(t,function(o){return o.node})(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return n.prototype.updateOptions=function(e){if(e===void 0&&(e={}),typeof e.indent<"u"&&(this.indent=lu(e.indent,0,40)),typeof e.renderIndentGuides<"u"){var t=e.renderIndentGuides;if(t!==this._renderIndentGuides)if(this._renderIndentGuides=t,t){var r=new Be;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,r),this.indentGuidesDisposable=r,this._onDidChangeActiveNodes(this.activeNodes.elements)}else this.indentGuidesDisposable.dispose()}},n.prototype.renderTemplate=function(e){var t=Ee(e,We(".monaco-tl-row")),r=Ee(t,We(".monaco-tl-indent")),i=Ee(t,We(".monaco-tl-twistie")),o=Ee(t,We(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:r,twistie:i,indentGuidesDisposable:he.None,templateData:s}},n.prototype.renderElement=function(e,t,r,i){typeof i=="number"&&(this.renderedNodes.set(e,{templateData:r,height:i}),this.renderedElements.set(e.element,e));var o=n.DefaultIndent+(e.depth-1)*this.indent;r.twistie.style.marginLeft=o+"px",r.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,r),typeof i=="number"&&this.renderIndentGuides(e,r),this.renderer.renderElement(e,t,r.templateData,i)},n.prototype.disposeElement=function(e,t,r,i){r.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,r.templateData,i),typeof i=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))},n.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},n.prototype.onDidChangeTwistieState=function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)},n.prototype.onDidChangeNodeTwistieState=function(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))},n.prototype.renderTwistie=function(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),Rt(t.twistie,"collapsible",e.collapsible),Rt(t.twistie,"collapsed",e.collapsible&&e.collapsed),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")},n.prototype.renderIndentGuides=function(e,t){var r=this;if(_a(t.indent),t.indentGuidesDisposable.dispose(),this._renderIndentGuides!==Ip.None){for(var i=new Be,o=e,s=function(){var u=o.parent,l=We(".indent-guide",{style:"width: "+a.indent+"px"});a.activeIndentNodes.has(u)&&De(l,"active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),a.renderedIndentGuides.add(u,l),i.add(bn(function(){return r.renderedIndentGuides.delete(u,l)})),o=u},a=this;o.parent&&o.parent.parent;)s();t.indentGuidesDisposable=i}},n.prototype._onDidChangeActiveNodes=function(e){var t=this;if(this._renderIndentGuides!==Ip.None){var r=new Set;e.forEach(function(i){i.collapsible&&i.children.length>0&&!i.collapsed?r.add(i):i.parent&&r.add(i.parent)}),this.activeIndentNodes.forEach(function(i){r.has(i)||t.renderedIndentGuides.forEach(i,function(o){return st(o,"active")})}),r.forEach(function(i){t.activeIndentNodes.has(i)||t.renderedIndentGuides.forEach(i,function(o){return De(o,"active")})}),this.activeIndentNodes=r}},n.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),this.disposables=nt(this.disposables)},n.DefaultIndent=8,n}(),tFe=function(){function n(e,t,r){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=r,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=[],e.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(n.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pattern",{set:function(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()},enumerable:!0,configurable:!0}),n.prototype.filter=function(e,t){if(this._filter){var r=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return r;var i=void 0;if(typeof r=="boolean"?i=r?1:0:rre(r)?i=c3(r.visibility):i=r,i===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:Eu.Default,visibility:!0};var o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=o&&o.toString();if(typeof s>"u")return{data:Eu.Default,visibility:!0};var a=f1(this._pattern,this._lowercasePattern,0,s,s.toLowerCase(),0,!0);return a?(this._matchCount++,{data:a,visibility:!0}):this.tree.options.filterOnType?2:{data:Eu.Default,visibility:!0}},n.prototype.reset=function(){this._totalCount=0,this._matchCount=0},n.prototype.dispose=function(){this.disposables=nt(this.disposables)},n}(),nFe=function(){function n(e,t,r,i,o){this.tree=e,this.view=r,this.filter=i,this.keyboardNavigationLabelProvider=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Q,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Q,this.enabledDisposables=[],this.disposables=[],this.domNode=We(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,Nt(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=Ee(r.getHTMLElement(),We(".monaco-list-type-filter-message")),this.labelDomNode=Ee(this.domNode,We("span.label"));var s=Ee(this.domNode,We(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=Ee(s,We("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),Nt(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=Ee(s,We("button.clear")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=D("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}return Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pattern",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterOnType",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType<"u"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")},n.prototype.enable=function(){var e=this;if(!this._enabled){var t=this.keyboardNavigationLabelProvider.mightProducePrintableCharacter?function(o){return e.keyboardNavigationLabelProvider.mightProducePrintableCharacter(o)}:function(o){return Yne(o)},r=Ze.chain(Nt(this.view.getHTMLElement(),"keydown")).filter(function(o){return!B5(o.target)||o.target===e.filterOnTypeDomNode}).map(function(o){return new Gn(o)}).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).filter(function(o){return t(o)||(e.pattern.length>0||e.triggered)&&(o.keyCode===9||o.keyCode===1)&&!o.altKey&&!o.ctrlKey&&!o.metaKey||o.keyCode===1&&(Tt?o.altKey&&!o.metaKey:o.ctrlKey)&&!o.shiftKey}).forEach(function(o){o.stopPropagation(),o.preventDefault()}).event,i=Nt(this.clearDomNode,"click");Ze.chain(Ze.any(r,i)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}},n.prototype.disable=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables=nt(this.enabledDisposables),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)},n.prototype.onEventOrInput=function(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(Tt?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)},n.prototype.onInput=function(e){var t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,function(o){return!Eu.isDefault(o.filterData)});var r=this.tree.getFocus();if(r.length>0){var i=r[0];this.tree.getRelativeTop(i)===null&&this.tree.reveal(i,.5)}this.render(),e||(this.triggered=!1)},n.prototype.onDragStart=function(){var e=this,t=this.view.getHTMLElement(),r=_i(t).left,i=t.clientWidth,o=i/2,s=this.domNode.clientWidth,a=[],u=this.positionClassName,l=function(){switch(u){case"nw":e.domNode.style.top="4px",e.domNode.style.left="4px";break;case"ne":e.domNode.style.top="4px",e.domNode.style.left=i-s-6+"px";break}},c=function(d){d.preventDefault();var p=d.screenX-r;d.dataTransfer&&(d.dataTransfer.dropEffect="none"),p<o?u="nw":u="ne",l()},h=function(){e.positionClassName=u,e.domNode.className="monaco-list-type-filter "+e.positionClassName,e.domNode.style.top=null,e.domNode.style.left=null,nt(a)};l(),st(this.domNode,u),De(this.domNode,"dragging"),a.push(bn(function(){return st(e.domNode,"dragging")})),Nt(document,"dragover")(c,null,a),Nt(this.domNode,"dragend")(h,null,a),Js.CurrentDragAndDropData=new h3e("vscode-ui"),a.push(bn(function(){return Js.CurrentDragAndDropData=void 0}))},n.prototype.onDidSpliceModel=function(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())},n.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},n.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=D("disable filter on type","Disable Filter on Type"):this.filterOnTypeDomNode.title=D("enable filter on type","Enable Filter on Type")},n.prototype.render=function(){var e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=D("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerHTML="",this._empty=!1),Rt(this.domNode,"no-matches",e),this.domNode.title=D("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},n.prototype.shouldAllowFocus=function(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Eu.isDefault(e.filterData)},n.prototype.dispose=function(){this.disable(),this._onDidChangePattern.dispose(),this.disposables=nt(this.disposables)},n}();function B5(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function rFe(n){return{elements:n.elements.map(function(e){return e.element}),browserEvent:n.browserEvent}}function VS(n,e){e(n),n.children.forEach(function(t){return VS(t,e)})}var Kz=function(){function n(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new Q,this.onDidChange=this._onDidChange.event}return Object.defineProperty(n.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),n.prototype.set=function(e,t){Ph(this.nodes,e)||this._set(e,!1,t)},n.prototype._set=function(e,t,r){if(this.nodes=e.slice(),this.elements=void 0,this._nodeSet=void 0,!t){var i=this;this._onDidChange.fire({get elements(){return i.get()},browserEvent:r})}},n.prototype.get=function(){return this.elements||(this.elements=this.nodes.map(function(e){return e.element})),this.elements.slice()},n.prototype.getNodes=function(){return this.nodes},n.prototype.has=function(e){return this.nodeSet.has(e)},n.prototype.onDidModelSplice=function(e){var t=this,r=e.insertedNodes,i=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),s=function(E){return o.delete(E)};i.forEach(function(E){return VS(E,s)}),this.set(L6(o));return}var a=new Set,u=function(E){return a.add(t.identityProvider.getId(E.element).toString())};i.forEach(function(E){return VS(E,u)});var l=new Map,c=function(E){return l.set(t.identityProvider.getId(E.element).toString(),E)};r.forEach(function(E){return VS(E,c)});for(var h=[],d=!0,p=0,v=this.nodes;p<v.length;p++){var m=v[p],_=this.identityProvider.getId(m.element).toString(),b=a.has(_);if(!b)h.push(m);else{var C=l.get(_);C?h.push(C):d=!1}}this._set(h,d)},n.prototype.createNodeSet=function(){for(var e=new Set,t=0,r=this.nodes;t<r.length;t++){var i=r[t];e.add(i)}return e},n}(),iFe=function(n){ore(e,n);function e(t,r){var i=n.call(this,t)||this;return i.tree=r,i}return e.prototype.onPointer=function(t){if(!B5(t.browserEvent.target)){var r=t.element;if(!r)return n.prototype.onPointer.call(this,t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return n.prototype.onPointer.call(this,t);var i=xu(t.browserEvent.target,"monaco-tl-twistie");if(!this.tree.openOnSingleClick&&t.browserEvent.detail!==2&&!i)return n.prototype.onPointer.call(this,t);var o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(r.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!i)return n.prototype.onPointer.call(this,t);var s=this.tree.model,a=s.getNodeLocation(r),u=t.browserEvent.altKey;s.setCollapsed(a,void 0,u),!(o&&i)&&n.prototype.onPointer.call(this,t)}},e.prototype.onDoubleClick=function(t){var r=xu(t.browserEvent.target,"monaco-tl-twistie");r||n.prototype.onDoubleClick.call(this,t)},e}(ere),oFe=function(n){ore(e,n);function e(t,r,i,o,s,a){var u=n.call(this,t,r,i,a)||this;return u.focusTrait=o,u.selectionTrait=s,u}return e.prototype.createMouseController=function(t){return new iFe(this,t.tree)},e.prototype.splice=function(t,r,i){var o=this;if(i===void 0&&(i=[]),n.prototype.splice.call(this,t,r,i),i.length!==0){var s=[],a=[];i.forEach(function(u,l){o.focusTrait.has(u)&&s.push(t+l),o.selectionTrait.has(u)&&a.push(t+l)}),s.length>0&&n.prototype.setFocus.call(this,Nj(n.prototype.getFocus.call(this).concat(s))),a.length>0&&n.prototype.setSelection.call(this,Nj(n.prototype.getSelection.call(this).concat(a)))}},e.prototype.setFocus=function(t,r,i){var o=this;i===void 0&&(i=!1),n.prototype.setFocus.call(this,t,r),i||this.focusTrait.set(t.map(function(s){return o.element(s)}),r)},e.prototype.setSelection=function(t,r,i){var o=this;i===void 0&&(i=!1),n.prototype.setSelection.call(this,t,r),i||this.selectionTrait.set(t.map(function(s){return o.element(s)}),r)},e}(nre),are=function(){function n(e,t,r,i){var o,s=this;i===void 0&&(i={}),this._options=i,this.eventBufferer=new l6,this.disposables=[],this._onWillRefilter=new Q,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Q;var a=new sre(t),u=new Ti,l=new Ti,c=new J3e(l.event);this.disposables.push(c),this.renderers=r.map(function(p){return new eFe(p,u.event,c,i)}),(o=this.disposables).push.apply(o,this.renderers);var h;if(i.keyboardNavigationLabelProvider&&(h=new tFe(this,i.keyboardNavigationLabelProvider,i.filter),i=fl({},i,{filter:h}),this.disposables.push(h)),this.focus=new Kz(i.identityProvider),this.selection=new Kz(i.identityProvider),this.view=new oFe(e,a,this.renderers,this.focus,this.selection,fl({},Z3e(function(){return s.model},i),{tree:this})),this.model=this.createModel(this.view,i),u.input=this.model.onDidChangeCollapseState,this.model.onDidSplice(function(p){s.focus.onDidModelSplice(p),s.selection.onDidModelSplice(p)},null,this.disposables),l.input=Ze.map(Ze.any(this.focus.onDidChange,this.selection.onDidChange,this.model.onDidSplice),function(){return s.focus.getNodes().concat(s.selection.getNodes())}),i.keyboardSupport!==!1){var d=Ze.chain(this.view.onKeyDown).filter(function(p){return!B5(p.target)}).map(function(p){return new Gn(p)});d.filter(function(p){return p.keyCode===15}).on(this.onLeftArrow,this,this.disposables),d.filter(function(p){return p.keyCode===17}).on(this.onRightArrow,this,this.disposables),d.filter(function(p){return p.keyCode===10}).on(this.onSpace,this,this.disposables)}i.keyboardNavigationLabelProvider&&(this.typeFilterController=new nFe(this,this.model,this.view,h,i.keyboardNavigationLabelProvider),this.focusNavigationFilter=function(p){return s.typeFilterController.shouldAllowFocus(p)},this.disposables.push(this.typeFilterController)),this.styleElement=Fh(this.view.getHTMLElement()),Rt(this.getHTMLElement(),"always",this._options.renderIndentGuides===Ip.Always)}return Object.defineProperty(n.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidOpen",{get:function(){return Ze.map(this.view.onDidOpen,rFe)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"openOnSingleClick",{get:function(){return typeof this._options.openOnSingleClick>"u"?!0:this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expandOnlyOnTwistieClick",{get:function(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!1:this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(e){e===void 0&&(e={}),this._options=fl({},this._options,e);for(var t=0,r=this.renderers;t<r.length;t++){var i=r[t];i.updateOptions(e)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),Rt(this.getHTMLElement(),"always",this._options.renderIndentGuides===Ip.Always)},Object.defineProperty(n.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),n.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e},enumerable:!0,configurable:!0}),n.prototype.domFocus=function(){this.view.domFocus()},n.prototype.layout=function(e,t){this.view.layout(e,t)},n.prototype.style=function(e){var t="."+this.view.domId,r=[];e.treeIndentGuidesStroke&&(r.push(".monaco-list"+t+":hover .monaco-tl-indent > .indent-guide, .monaco-list"+t+".always .monaco-tl-indent > .indent-guide  { border-color: "+e.treeIndentGuidesStroke.transparent(.4)+"; }"),r.push(".monaco-list"+t+" .monaco-tl-indent > .indent-guide.active { border-color: "+e.treeIndentGuidesStroke+"; }"));var i=r.join(`
`);i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i),this.view.style(e)},n.prototype.getNode=function(e){return this.model.getNode(e)},n.prototype.collapse=function(e,t){return t===void 0&&(t=!1),this.model.setCollapsed(e,!0,t)},n.prototype.expand=function(e,t){return t===void 0&&(t=!1),this.model.setCollapsed(e,!1,t)},n.prototype.isCollapsed=function(e){return this.model.isCollapsed(e)},n.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},n.prototype.setSelection=function(e,t){var r=this,i=e.map(function(s){return r.model.getNode(s)});this.selection.set(i,t);var o=e.map(function(s){return r.model.getListIndex(s)}).filter(function(s){return s>-1});this.view.setSelection(o,t,!0)},n.prototype.getSelection=function(){return this.selection.get()},n.prototype.setFocus=function(e,t){var r=this,i=e.map(function(s){return r.model.getNode(s)});this.focus.set(i,t);var o=e.map(function(s){return r.model.getListIndex(s)}).filter(function(s){return s>-1});this.view.setFocus(o,t,!0)},n.prototype.focusNext=function(e,t,r,i){e===void 0&&(e=1),t===void 0&&(t=!1),i===void 0&&(i=this.focusNavigationFilter),this.view.focusNext(e,t,r,i)},n.prototype.getFocus=function(){return this.focus.get()},n.prototype.reveal=function(e,t){this.model.expandTo(e);var r=this.model.getListIndex(e);r!==-1&&this.view.reveal(r,t)},n.prototype.getRelativeTop=function(e){var t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)},n.prototype.onLeftArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(t.length!==0){var r=t[0],i=this.model.getNodeLocation(r),o=this.model.setCollapsed(i,!0);if(!o){var s=this.model.getParentNodeLocation(i);if(s===null)return;var a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}},n.prototype.onRightArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(t.length!==0){var r=t[0],i=this.model.getNodeLocation(r),o=this.model.setCollapsed(i,!1);if(!o){if(!r.children.some(function(u){return u.visible}))return;var s=this.view.getFocus()[0],a=s+1;this.view.reveal(a),this.view.setFocus([a])}}},n.prototype.onSpace=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(t.length!==0){var r=t[0],i=this.model.getNodeLocation(r),o=e.browserEvent.altKey;this.model.setCollapsed(i,void 0,o)}},n.prototype.dispose=function(){this.disposables=nt(this.disposables),this.view.dispose()},n}(),dD=function(){return dD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dD.apply(this,arguments)},ure=function(){function n(e,t){t===void 0&&(t={}),this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new X3e(e,null,t),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare:function(r,i){return t.sorter.compare(r.element,i.element)}}),this.identityProvider=t.identityProvider}return n.prototype.setChildren=function(e,t,r,i){var o=this.getElementLocation(e);return this._setChildren(o,this.preserveCollapseState(t),r,i)},n.prototype._setChildren=function(e,t,r,i){var o=this,s=new Set,a=new Set,u=function(h){if(s.add(h.element),o.nodes.set(h.element,h),o.identityProvider){var d=o.identityProvider.getId(h.element).toString();a.add(d),o.nodesByIdentity.set(d,h)}r&&r(h)},l=function(h){if(s.has(h.element)||o.nodes.delete(h.element),o.identityProvider){var d=o.identityProvider.getId(h.element).toString();a.has(d)||o.nodesByIdentity.delete(d)}i&&i(h)},c=this.model.splice(e.concat([0]),Number.MAX_VALUE,t,u,l);return c},n.prototype.preserveCollapseState=function(e){var t=this,r=e?lDe(e):ui.empty();return this.sorter&&(r=ui.fromArray(ui.collect(r).sort(this.sorter.compare.bind(this.sorter)))),ui.map(r,function(i){var o=t.nodes.get(i.element);if(!o&&t.identityProvider){var s=t.identityProvider.getId(i.element).toString();o=t.nodesByIdentity.get(s)}if(!o)return dD({},i,{children:t.preserveCollapseState(i.children)});var a=typeof i.collapsible=="boolean"?i.collapsible:o.collapsible,u=typeof i.collapsed<"u"?i.collapsed:o.collapsed;return dD({},i,{collapsible:a,collapsed:u,children:t.preserveCollapseState(i.children)})})},n.prototype.rerender=function(e){var t=this.getElementLocation(e);this.model.rerender(t)},n.prototype.getListIndex=function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)},n.prototype.getListRenderCount=function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)},n.prototype.isCollapsed=function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)},n.prototype.setCollapsed=function(e,t,r){var i=this.getElementLocation(e);return this.model.setCollapsed(i,t,r)},n.prototype.expandTo=function(e){var t=this.getElementLocation(e);this.model.expandTo(t)},n.prototype.refilter=function(){this.model.refilter()},n.prototype.getNode=function(e){if(e===void 0&&(e=null),e===null)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return t},n.prototype.getNodeLocation=function(e){return e.element},n.prototype.getParentNodeLocation=function(e){if(e===null)throw new Error("Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return t.parent.element},n.prototype.getElementLocation=function(e){if(e===null)return[];var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return this.model.getNodeLocation(t)},n}(),sFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lre=function(n){sFe(e,n);function e(t,r,i,o){return o===void 0&&(o={}),n.call(this,t,r,i,o)||this}return Object.defineProperty(e.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),e.prototype.setChildren=function(t,r){return this.model.setChildren(t,r)},e.prototype.rerender=function(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)},e.prototype.createModel=function(t,r){return new ure(t,r)},e}(are),Kf=function(){return Kf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Kf.apply(this,arguments)},_f=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},yf=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function Ik(n){return Kf({},n,{children:[],loading:!1,stale:!0,slow:!1,collapsedByDefault:void 0})}function f3(n,e){return e.parent?e.parent===n?!0:f3(n,e.parent):!1}function aFe(n,e){return n===e||f3(n,e)||f3(e,n)}var Yz=function(){function n(e){this.node=e}return Object.defineProperty(n.prototype,"element",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.node.parent&&new n(this.node.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this.node.children.map(function(e){return new n(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),n}(),uFe=function(){function n(e,t){this.renderer=e,this.onDidChangeTwistieState=t,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}return n.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{templateData:t}},n.prototype.renderElement=function(e,t,r,i){this.renderer.renderElement(new Yz(e),t,r.templateData,i)},n.prototype.renderTwistie=function(e,t){return Rt(t,"loading",e.slow),!1},n.prototype.disposeElement=function(e,t,r,i){this.renderer.disposeElement&&this.renderer.disposeElement(new Yz(e),t,r.templateData,i)},n.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},n.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=nt(this.disposables)},n}();function xk(n){return{browserEvent:n.browserEvent,elements:n.elements.map(function(e){return e.element})}}var ab;(function(n){n[n.Refresh=0]="Refresh",n[n.Expand=1]="Expand"})(ab||(ab={}));function Lk(n){if(n instanceof c1){var e=n.elements;return new c1(e.map(function(t){return t.element}))}return n}var lFe=function(){function n(e){this.dnd=e}return n.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},n.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(t){return t.element}))},n.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Lk(e),t)},n.prototype.onDragOver=function(e,t,r,i,o){return this.dnd.onDragOver(Lk(e),t&&t.element,r,i)},n.prototype.drop=function(e,t,r,i){this.dnd.drop(Lk(e),t&&t.element,r,i)},n}();function cFe(n){return n&&Kf({},n,{collapseByDefault:!0,identityProvider:n.identityProvider&&{getId:function(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new lFe(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return n.multipleSelectionController.isSelectionSingleChangeEvent(Kf({},e,{element:e.element}))},isSelectionRangeChangeEvent:function(e){return n.multipleSelectionController.isSelectionRangeChangeEvent(Kf({},e,{element:e.element}))}},accessibilityProvider:n.accessibilityProvider&&{getAriaLabel:function(e){return n.accessibilityProvider.getAriaLabel(e.element)}},filter:n.filter&&{filter:function(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&Kf({},n.keyboardNavigationLabelProvider,{getKeyboardNavigationLabel:function(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:function(e){return n.expandOnlyOnTwistieClick(e.element)},ariaProvider:void 0,additionalScrollHeight:n.additionalScrollHeight})}function cre(n,e){var t;return e&&e.viewState.expanded&&n.id&&e.viewState.expanded.indexOf(n.id)>-1?t=!1:t=n.collapsedByDefault,n.collapsedByDefault=void 0,{element:n,children:n.hasChildren?ui.map(ui.fromArray(n.children),function(r){return cre(r,e)}):[],collapsible:n.hasChildren,collapsed:t}}function h3(n,e){e(n),n.children.forEach(function(t){return h3(t,e)})}var fFe=function(){function n(e,t,r,i,o){var s=this;o===void 0&&(o={}),this.dataSource=i,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Q,this._onDidChangeNodeSlowState=new Q,this.disposables=[],this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.collapseByDefault=o.collapseByDefault;var a=new sre(t),u=r.map(function(c){return new uFe(c,s._onDidChangeNodeSlowState.event)}),l=cFe(o)||{};this.tree=new lre(e,a,u,l),this.root=Ik({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Kf({},this.root,{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(n.prototype,"onDidChangeFocus",{get:function(){return Ze.map(this.tree.onDidChangeFocus,xk)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidChangeSelection",{get:function(){return Ze.map(this.tree.onDidChangeSelection,xk)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidOpen",{get:function(){return Ze.map(this.tree.onDidOpen,xk)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(e){e===void 0&&(e={}),this.tree.updateOptions(e)},n.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e},enumerable:!0,configurable:!0}),n.prototype.domFocus=function(){this.tree.domFocus()},n.prototype.layout=function(e,t){this.tree.layout(e,t)},n.prototype.style=function(e){this.tree.style(e)},n.prototype.getInput=function(){return this.root.element},n.prototype.setInput=function(e,t){return _f(this,void 0,void 0,function(){var r;return yf(this,function(i){switch(i.label){case 0:return this.refreshPromises.forEach(function(o){return o.cancel()}),this.refreshPromises.clear(),this.root.element=e,r=t&&{viewState:t,focus:[],selection:[]},[4,this.updateChildren(e,!0,r)];case 1:return i.sent(),r&&(this.tree.setFocus(r.focus),this.tree.setSelection(r.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop),[2]}})})},n.prototype.updateChildren=function(e,t,r){return e===void 0&&(e=this.root.element),t===void 0&&(t=!0),_f(this,void 0,void 0,function(){return yf(this,function(i){switch(i.label){case 0:if(typeof this.root.element>"u")throw new Error("Tree input not set");return this.root.loading?[4,this.subTreeRefreshPromises.get(this.root)]:[3,3];case 1:return i.sent(),[4,Ze.toPromise(this._onDidRender.event)];case 2:i.sent(),i.label=3;case 3:return[4,this.refreshAndRenderNode(this.getDataNode(e),t,ab.Refresh,r)];case 4:return i.sent(),[2]}})})},n.prototype.rerender=function(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}var t=this.getDataNode(e);this.tree.rerender(t)},n.prototype.collapse=function(e,t){t===void 0&&(t=!1);var r=this.getDataNode(e);return this.tree.collapse(r===this.root?null:r,t)},n.prototype.expand=function(e,t){return t===void 0&&(t=!1),_f(this,void 0,void 0,function(){var r,i;return yf(this,function(o){switch(o.label){case 0:if(typeof this.root.element>"u")throw new Error("Tree input not set");return this.root.loading?[4,this.subTreeRefreshPromises.get(this.root)]:[3,3];case 1:return o.sent(),[4,Ze.toPromise(this._onDidRender.event)];case 2:o.sent(),o.label=3;case 3:return r=this.getDataNode(e),r!==this.root&&!r.loading&&!this.tree.isCollapsed(r)?[2,!1]:(i=this.tree.expand(r===this.root?null:r,t),r.loading?[4,this.subTreeRefreshPromises.get(r)]:[3,6]);case 4:return o.sent(),[4,Ze.toPromise(this._onDidRender.event)];case 5:o.sent(),o.label=6;case 6:return[2,i]}})})},n.prototype.setSelection=function(e,t){var r=this,i=e.map(function(o){return r.getDataNode(o)});this.tree.setSelection(i,t)},n.prototype.getSelection=function(){var e=this.tree.getSelection();return e.map(function(t){return t.element})},n.prototype.setFocus=function(e,t){var r=this,i=e.map(function(o){return r.getDataNode(o)});this.tree.setFocus(i,t)},n.prototype.getFocus=function(){var e=this.tree.getFocus();return e.map(function(t){return t.element})},n.prototype.reveal=function(e,t){this.tree.reveal(this.getDataNode(e),t)},n.prototype.getDataNode=function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Error("Data tree node not found: "+e);return t},n.prototype.refreshAndRenderNode=function(e,t,r,i){return _f(this,void 0,void 0,function(){var o,s;return yf(this,function(a){switch(a.label){case 0:return[4,this.refreshNode(e,t,i)];case 1:return a.sent(),this.render(e,i),e!==this.root&&this.autoExpandSingleChildren&&r===ab.Expand?(o=this.tree.getNode(e),s=o.children.filter(function(u){return u.visible}),s.length!==1?[3,3]:[4,this.tree.expand(s[0].element,!1)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.refreshNode=function(e,t,r){return _f(this,void 0,void 0,function(){var i,o=this;return yf(this,function(s){switch(s.label){case 0:if(this.subTreeRefreshPromises.forEach(function(a,u){!i&&aFe(u,e)&&(i=a.then(function(){return o.refreshNode(e,t,r)}))}),i)return[2,i];i=this.doRefreshSubTree(e,t,r),this.subTreeRefreshPromises.set(e,i),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,i];case 2:return s.sent(),[3,4];case 3:return this.subTreeRefreshPromises.delete(e),[7];case 4:return[2]}})})},n.prototype.doRefreshSubTree=function(e,t,r){return _f(this,void 0,void 0,function(){var i,o=this;return yf(this,function(s){switch(s.label){case 0:e.loading=!0,s.label=1;case 1:return s.trys.push([1,,4,5]),[4,this.doRefreshNode(e,t,r)];case 2:return i=s.sent(),e.stale=!1,[4,Promise.all(i.map(function(a){return o.doRefreshSubTree(a,t,r)}))];case 3:return s.sent(),[3,5];case 4:return e.loading=!1,[7];case 5:return[2]}})})},n.prototype.doRefreshNode=function(e,t,r){return _f(this,void 0,void 0,function(){var i,o,s,a,u=this;return yf(this,function(l){switch(l.label){case 0:e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?(o=dC(800),o.then(function(){e.slow=!0,u._onDidChangeNodeSlowState.fire(e)},function(c){return null}),i=this.doGetChildren(e).finally(function(){return o.cancel()})):i=Promise.resolve([]),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,i];case 2:return s=l.sent(),[2,this.setChildren(e,s,t,r)];case 3:if(a=l.sent(),e!==this.root&&this.tree.collapse(e===this.root?null:e),cC(a))return[2,[]];throw a;case 4:return e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),[7];case 5:return[2]}})})},n.prototype.doGetChildren=function(e){var t=this,r=this.refreshPromises.get(e);return r||(r=Qr(function(){return _f(t,void 0,void 0,function(){var i;return yf(this,function(o){switch(o.label){case 0:return[4,this.dataSource.getChildren(e.element)];case 1:return i=o.sent(),this.sorter&&i.sort(this.sorter.compare.bind(this.sorter)),[2,i]}})})}),this.refreshPromises.set(e,r),r.finally(function(){return t.refreshPromises.delete(e)}))},n.prototype._onDidChangeCollapseState=function(e){var t=e.node,r=e.deep;!t.collapsed&&t.element.stale&&(r?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1,ab.Expand).catch(He))},n.prototype.setChildren=function(e,t,r,i){var o,s=this;if(e.children.length===0&&t.length===0)return[];for(var a=new Map,u=new Map,l=0,c=e.children;l<c.length;l++){var h=c[l];a.set(h.element,h),this.identityProvider&&u.set(h.id,this.tree.getNode(h))}for(var d=[],p=t.map(function(E){var S=!!s.dataSource.hasChildren(E);if(!s.identityProvider){var A=Ik({element:E,parent:e,hasChildren:S});return S&&s.collapseByDefault&&!s.collapseByDefault(E)&&(A.collapsedByDefault=!1,d.push(A)),A}var T=s.identityProvider.getId(E).toString(),N=u.get(T);if(N){var A=N.element;return a.delete(A.element),s.nodes.delete(A.element),s.nodes.set(E,A),A.element=E,A.hasChildren=S,r?N.collapsed?h3(A,function(L){return L.stale=!0}):d.push(A):S&&s.collapseByDefault&&!s.collapseByDefault(E)&&(A.collapsedByDefault=!1,d.push(A)),A}var k=Ik({element:E,parent:e,id:T,hasChildren:S});return i&&i.viewState.focus&&i.viewState.focus.indexOf(T)>-1&&i.focus.push(k),i&&i.viewState.selection&&i.viewState.selection.indexOf(T)>-1&&i.selection.push(k),i&&i.viewState.expanded&&i.viewState.expanded.indexOf(T)>-1?d.push(k):S&&s.collapseByDefault&&!s.collapseByDefault(E)&&(k.collapsedByDefault=!1,d.push(k)),k}),v=0,m=L6(a);v<m.length;v++){var _=m[v];h3(_,function(E){return s.nodes.delete(E.element)})}for(var b=0,C=p;b<C.length;b++){var h=C[b];this.nodes.set(h.element,h)}return(o=e.children).splice.apply(o,[0,e.children.length].concat(p)),d},n.prototype.render=function(e,t){var r=e.children.map(function(i){return cre(i,t)});this.tree.setChildren(e===this.root?null:e,r),this._onDidRender.fire()},n.prototype.dispose=function(){nt(this.disposables)},n}(),hFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dFe=function(n){hFe(e,n);function e(t,r,i,o,s){s===void 0&&(s={});var a=n.call(this,t,r,i,s)||this;return a.dataSource=o,a.identityProvider=s.identityProvider,a}return e.prototype.createModel=function(t,r){return new ure(t,r)},e}(are),DC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pD=function(){return pD=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pD.apply(this,arguments)},AC=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cr=function(n,e){return function(t,r){e(t,r,n)}},Ku,U_=qt("listService"),pFe=function(){function n(e){this.lists=[],this._lastFocusedWidget=void 0}return Object.defineProperty(n.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),n.prototype.register=function(e,t){var r=this;if(this.lists.some(function(o){return o.widget===e}))throw new Error("Cannot register the same widget multiple times");var i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),gl(e.onDidFocus(function(){return r._lastFocusedWidget=e}),bn(function(){return r.lists.splice(r.lists.indexOf(i),1)}),e.onDidDispose(function(){r.lists=r.lists.filter(function(o){return o!==i}),r._lastFocusedWidget===e&&(r._lastFocusedWidget=void 0)}))},n=AC([cr(0,yt)],n),n}(),gFe=new Ke("listFocus",!0),vFe=new Ke("listSupportsMultiselect",!0),mFe=new Ke("listHasSelectionOrFocus",!1),_Fe=new Ke("listDoubleSelection",!1),yFe=new Ke("listMultiSelection",!1),bFe=new Ke("listSupportsKeyboardNavigation",!0),H5="listAutomaticKeyboardNavigation",CFe=new Ke(H5,!0),Xz=!1;function wFe(n,e){var t=n.createScoped(e.getHTMLElement());return gFe.bindTo(t),t}var R2="workbench.list.multiSelectModifier",P2="workbench.list.openMode",d3="workbench.list.horizontalScrolling",gD="workbench.list.keyboardNavigation",V5="workbench.list.automaticKeyboardNavigation",vD="workbench.tree.indent",mD="workbench.tree.renderIndentGuides";function EFe(n){return cxe(n,d3,"workbench.tree.horizontalScrolling")}function _D(n){return n.getValue(R2)==="alt"}function yD(n){return n.getValue(P2)!=="doubleClick"}var SFe=function(n){DC(e,n);function e(t){var r=n.call(this)||this;return r.configurationService=t,r.useAltAsMultipleSelectionModifier=_D(t),r.registerListeners(),r}return e.prototype.registerListeners=function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration(function(r){r.affectsConfiguration(R2)&&(t.useAltAsMultipleSelectionModifier=_D(t.configurationService))}))},e.prototype.isSelectionSingleChangeEvent=function(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:Xne(t)},e.prototype.isSelectionRangeChangeEvent=function(t){return Qne(t)},e}(he),TFe=function(n){DC(e,n);function e(t,r){var i=n.call(this)||this;return i.configurationService=t,i.existingOpenController=r,i.openOnSingleClick=yD(t),i.registerListeners(),i}return e.prototype.registerListeners=function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration(function(r){r.affectsConfiguration(P2)&&(t.openOnSingleClick=yD(t.configurationService))}))},e.prototype.shouldOpen=function(t){if(t instanceof MouseEvent){var r=t.button===0,i=t.detail===2;return r&&!this.openOnSingleClick&&!i?!1:r||t.button===1?this.existingOpenController?this.existingOpenController.shouldOpen(t):!0:!1}return this.existingOpenController?this.existingOpenController.shouldOpen(t):!0},e}(he);function DFe(n,e,t){var r=new Be,i=pD({},n);if(n.multipleSelectionSupport!==!1&&!n.multipleSelectionController){var o=new SFe(e);i.multipleSelectionController=o,r.add(o)}var s=new TFe(e,n.openController);if(i.openController=s,r.add(s),n.keyboardNavigationLabelProvider){var a=n.keyboardNavigationLabelProvider;i.keyboardNavigationLabelProvider={getKeyboardNavigationLabel:function(u){return a.getKeyboardNavigationLabel(u)},mightProducePrintableCharacter:function(u){return t.mightProducePrintableCharacter(u)}}}return[i,r]}var Nk;function AFe(){return Nk||(Nk=Fh()),Nk}function IFe(n,e){var t=!1;return function(r){if(t)return t=!1,!1;var i=e.softDispatch(r,n);return i&&i.enterChord?(t=!0,!1):(t=!1,!0)}}(function(n){DC(e,n);function e(t,r,i,o,s,a,u,l,c,h){var d=this,p=W5(t,o,s,u,l,c,h),v=p.options,m=p.getAutomaticKeyboardNavigation,_=p.disposable;return d=n.call(this,t,r,i,v)||this,d.disposables.push(_),d.internals=new U5(d,v,m,s,a,u,l,h),d.disposables.push(d.internals),d}return e=AC([cr(4,yt),cr(5,U_),cr(6,ei),cr(7,yi),cr(8,Dr),cr(9,ql)],e),e})(lre);(function(n){DC(e,n);function e(t,r,i,o,s,a,u,l,c,h,d){var p=this,v=W5(t,s,a,l,c,h,d),m=v.options,_=v.getAutomaticKeyboardNavigation,b=v.disposable;return p=n.call(this,t,r,i,o,m)||this,p.disposables.push(b),p.internals=new U5(p,m,_,a,u,l,c,d),p.disposables.push(p.internals),p}return e=AC([cr(5,yt),cr(6,U_),cr(7,ei),cr(8,yi),cr(9,Dr),cr(10,ql)],e),e})(dFe);var xFe=function(n){DC(e,n);function e(t,r,i,o,s,a,u,l,c,h,d){var p=this,v=W5(t,s,a,l,c,h,d),m=v.options,_=v.getAutomaticKeyboardNavigation,b=v.disposable;return p=n.call(this,t,r,i,o,m)||this,p.disposables.push(b),p.internals=new U5(p,m,_,a,u,l,c,d),p.disposables.push(p.internals),p}return Object.defineProperty(e.prototype,"contextKeyService",{get:function(){return this.internals.contextKeyService},enumerable:!0,configurable:!0}),e=AC([cr(5,yt),cr(6,U_),cr(7,ei),cr(8,yi),cr(9,Dr),cr(10,ql)],e),e}(fFe);function W5(n,e,t,r,i,o,s){bFe.bindTo(t),Xz||(CFe.bindTo(t),Xz=!0);var a=function(){var _=t.getContextKeyValue(H5);return _&&(_=i.getValue(V5)),_},u=s.getAccessibilitySupport()===2,l=u?"simple":i.getValue(gD),c=typeof e.horizontalScrolling<"u"?e.horizontalScrolling:EFe(i),h=yD(i),d=DFe(e,i,o),p=d[0],v=d[1],m=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:v,options:pD({keyboardSupport:!1,styleController:new tre(AFe())},Nne(r.getTheme(),kne),p,{indent:i.getValue(vD),renderIndentGuides:i.getValue(mD),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:l==="simple",filterOnType:l==="filter",horizontalScrolling:c,openOnSingleClick:h,keyboardNavigationEventFilter:IFe(n,o),additionalScrollHeight:m})}}var U5=function(){function n(e,t,r,i,o,s,a,u){var l=this;this.disposables=[],this.contextKeyService=wFe(i,e);var c=vFe.bindTo(this.contextKeyService);c.set(t.multipleSelectionSupport!==!1),this.hasSelectionOrFocus=mFe.bindTo(this.contextKeyService),this.hasDoubleSelection=_Fe.bindTo(this.contextKeyService),this.hasMultiSelection=yFe.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=_D(a);var h=new Set;h.add(H5);var d=function(){var p=u.getAccessibilitySupport()===2,v=p?"simple":a.getValue(gD);e.updateOptions({simpleKeyboardNavigation:v==="simple",filterOnType:v==="filter"})};this.disposables.push(this.contextKeyService,o.register(e),One(e,s),e.onDidChangeSelection(function(){var p=e.getSelection(),v=e.getFocus();l.hasSelectionOrFocus.set(p.length>0||v.length>0),l.hasMultiSelection.set(p.length>1),l.hasDoubleSelection.set(p.length===2)}),e.onDidChangeFocus(function(){var p=e.getSelection(),v=e.getFocus();l.hasSelectionOrFocus.set(p.length>0||v.length>0)}),a.onDidChangeConfiguration(function(p){if(p.affectsConfiguration(P2)&&e.updateOptions({openOnSingleClick:yD(a)}),p.affectsConfiguration(R2)&&(l._useAltAsMultipleSelectionModifier=_D(a)),p.affectsConfiguration(vD)){var v=a.getValue(vD);e.updateOptions({indent:v})}if(p.affectsConfiguration(mD)){var m=a.getValue(mD);e.updateOptions({renderIndentGuides:m})}p.affectsConfiguration(gD)&&d(),p.affectsConfiguration(V5)&&e.updateOptions({automaticKeyboardNavigation:r()})}),this.contextKeyService.onDidChangeContext(function(p){p.affectsSome(h)&&e.updateOptions({automaticKeyboardNavigation:r()})}),u.onDidChangeAccessibilitySupport(function(){return d()}))}return n.prototype.dispose=function(){this.disposables=nt(this.disposables)},n=AC([cr(3,yt),cr(4,U_),cr(5,ei),cr(6,yi),cr(7,ql)],n),n}(),LFe=Ro.as(M_.Configuration);LFe.registerConfiguration({id:"workbench",order:7,title:D("workbenchConfigurationTitle","Workbench"),type:"object",properties:(Ku={},Ku[R2]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[D("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),D("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:D({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},Ku[P2]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:D({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},Ku[d3]={type:"boolean",default:!1,description:D("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench.")},Ku["workbench.tree.horizontalScrolling"]={type:"boolean",default:!1,description:D("tree horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench."),deprecationMessage:D("deprecated","This setting is deprecated, please use '{0}' instead.",d3)},Ku[vD]={type:"number",default:8,minimum:0,maximum:40,description:D("tree indent setting","Controls tree indentation in pixels.")},Ku[mD]={type:"string",enum:["none","onHover","always"],default:"onHover",description:D("render tree indent guides","Controls whether the tree should render indent guides.")},Ku[gD]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[D("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),D("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),D("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:D("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},Ku[V5]={type:"boolean",default:!0,markdownDescription:D("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},Ku)});var kn;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(kn||(kn={}));(function(n){function e(s,a){return a-s}n.compare=e;var t=Object.create(null);t[n.Error]=D("sev.error","Error"),t[n.Warning]=D("sev.warning","Warning"),t[n.Info]=D("sev.info","Info");function r(s){return t[s]||""}n.toString=r;function i(s){switch(s){case or.Error:return n.Error;case or.Warning:return n.Warning;case or.Info:return n.Info;case or.Ignore:return n.Hint}}n.fromSeverity=i;function o(s){switch(s){case n.Error:return or.Error;case n.Warning:return or.Warning;case n.Info:return or.Info;case n.Hint:return or.Ignore}}n.toSeverity=o})(kn||(kn={}));var bD;(function(n){var e="";function t(i){return r(i,!0)}n.makeKey=t;function r(i,o){var s=[e];return i.source?s.push(i.source.replace("","")):s.push(e),i.code?s.push(i.code.replace("","")):s.push(e),i.severity!==void 0&&i.severity!==null?s.push(kn.toString(i.severity)):s.push(e),i.message&&o?s.push(i.message.replace("","")):s.push(e),i.startLineNumber!==void 0&&i.startLineNumber!==null?s.push(i.startLineNumber.toString()):s.push(e),i.startColumn!==void 0&&i.startColumn!==null?s.push(i.startColumn.toString()):s.push(e),i.endLineNumber!==void 0&&i.endLineNumber!==null?s.push(i.endLineNumber.toString()):s.push(e),i.endColumn!==void 0&&i.endColumn!==null?s.push(i.endColumn.toString()):s.push(e),s.push(e),s.join("")}n.makeKeyOptionalMessage=r})(bD||(bD={}));var IC=qt("markerService"),Zd;(function(n){function e(i,o,s){if(i[o])return i[o][s]}n.get=e;function t(i,o,s,a){i[o]||(i[o]=Object.create(null)),i[o][s]=a}n.set=t;function r(i,o,s){return i[o]&&i[o][s]?(delete i[o][s],BJ(i[o])&&delete i[o],!0):!1}n.remove=r})(Zd||(Zd={}));var NFe=function(){function n(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}return n.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},n.prototype._update=function(e){if(this._data)for(var t=0,r=e;t<r.length;t++){var i=r[t],o=i.toString(),s=this._data[o];s&&this._substract(s);var a=this._resourceStats(i);this._add(a),this._data[o]=a}},n.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===Tn.inMemory||e.scheme===Tn.walkThrough||e.scheme===Tn.walkThroughSnippet)return t;for(var r=0,i=this._service.read({resource:e});r<i.length;r++){var o=i[r].severity;o===kn.Error?t.errors+=1:o===kn.Warning?t.warnings+=1:o===kn.Info?t.infos+=1:t.unknowns+=1}return t},n.prototype._substract=function(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns},n.prototype._add=function(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns},n}(),OFe=function(){function n(){this._onMarkerChanged=new Q,this._onMarkerChangedEvent=Ze.debounce(this._onMarkerChanged.event,n._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new NFe(this)}return n.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(n.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),n.prototype.remove=function(e,t){for(var r=0,i=t||[];r<i.length;r++){var o=i[r];this.changeOne(e,o,[])}},n.prototype.changeOne=function(e,t,r){if(s6(r)){var i=Zd.remove(this._byResource,t.toString(),e),o=Zd.remove(this._byOwner,e,t.toString());if(i!==o)throw new Error("invalid marker service state");i&&o&&this._onMarkerChanged.fire([t])}else{for(var s=[],a=0,u=r;a<u.length;a++){var l=u[a],c=n._toMarker(e,t,l);c&&s.push(c)}Zd.set(this._byResource,t.toString(),e,s),Zd.set(this._byOwner,e,t.toString(),s),this._onMarkerChanged.fire([t])}},n._toMarker=function(e,t,r){var i=r.code,o=r.severity,s=r.message,a=r.source,u=r.startLineNumber,l=r.startColumn,c=r.endLineNumber,h=r.endColumn,d=r.relatedInformation,p=r.tags;if(s)return u=u>0?u:1,l=l>0?l:1,c=c>=u?c:u,h=h>0?h:l,{resource:t,owner:e,code:i,severity:o,message:s,source:a,startLineNumber:u,startColumn:l,endLineNumber:c,endColumn:h,relatedInformation:d,tags:p}},n.prototype.read=function(e){e===void 0&&(e=Object.create(null));var t=e.owner,r=e.resource,i=e.severities,o=e.take;if((!o||o<0)&&(o=-1),t&&r){var s=Zd.get(this._byResource,r.toString(),t);if(s){for(var a=[],u=0,l=s;u<l.length;u++){var c=l[u];if(n._accept(c,i)){var h=a.push(c);if(o>0&&h===o)break}}return a}else return[]}else if(!t&&!r){var a=[];for(var d in this._byResource)for(var p in this._byResource[d])for(var v=0,m=this._byResource[d][p];v<m.length;v++){var s=m[v];if(n._accept(s,i)){var h=a.push(s);if(o>0&&h===o)return a}}return a}else{var _=t?this._byOwner[t]:r?this._byResource[r.toString()]:void 0;if(!_)return[];var a=[];for(var b in _)for(var C=0,E=_[b];C<E.length;C++){var s=E[C];if(n._accept(s,i)){var h=a.push(s);if(o>0&&h===o)return a}}return a}},n._accept=function(e,t){return t===void 0||(t&e.severity)===e.severity},n._debouncer=function(e,t){e||(n._dedupeMap=Object.create(null),e=[]);for(var r=0,i=t;r<i.length;r++){var o=i[r];n._dedupeMap[o.toString()]===void 0&&(n._dedupeMap[o.toString()]=!0,e.push(o))}return e},n}(),M2=qt("editorProgressService"),kFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wh=qt("storageService"),CD;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(CD||(CD={}));var RFe=function(n){kFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._serviceBrand=null,t._onDidChangeStorage=t._register(new Q),t.onDidChangeStorage=t._onDidChangeStorage.event,t.onWillSaveState=Ze.None,t.globalCache=new Map,t.workspaceCache=new Map,t}return e.prototype.getCache=function(t){return t===0?this.globalCache:this.workspaceCache},e.prototype.get=function(t,r,i){var o=this.getCache(r).get(t);return rh(o)?i:o},e.prototype.getBoolean=function(t,r,i){var o=this.getCache(r).get(t);return rh(o)?i:o==="true"},e.prototype.store=function(t,r,i){if(rh(r))return this.remove(t,i);var o=String(r),s=this.getCache(i).get(t);return s===o||(this.getCache(i).set(t,o),this._onDidChangeStorage.fire({scope:i,key:t})),Promise.resolve()},e.prototype.remove=function(t,r){var i=this.getCache(r).delete(t);return i&&this._onDidChangeStorage.fire({scope:r,key:t}),Promise.resolve()},e}(he),PFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fre=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},p3=function(n,e){return function(t,r){e(t,r,n)}},MFe=function(){function n(e){this._commandService=e}return n.prototype.createMenu=function(e,t){return new FFe(e,this._commandService,t)},n=fre([p3(0,no)],n),n}(),FFe=function(n){PFe(e,n);function e(t,r,i){var o=n.call(this)||this;return o._id=t,o._commandService=r,o._contextKeyService=i,o._onDidChange=o._register(new Q),o._build(),o._register(Ze.debounce(Ze.filter(Nu.onDidChangeMenu,function(s){return s===o._id}),function(){},50)(o._build,o)),o._register(Ze.debounce(o._contextKeyService.onDidChangeContext,function(s,a){return s||a.affectsSome(o._contextKeys)},50)(function(s){return s&&o._onDidChange.fire(void 0)},o)),o}return e.prototype._build=function(){this._menuGroups=[],this._contextKeys=new Set;var t=Nu.getMenuItems(this._id),r;t.sort(e._compareMenuItems);for(var i=0,o=t;i<o.length;i++){var s=o[i],a=s.group||"";(!r||r[0]!==a)&&(r=[a,[]],this._menuGroups.push(r)),r[1].push(s),e._fillInKbExprKeys(s.when,this._contextKeys),MS(s)&&s.command.precondition&&e._fillInKbExprKeys(s.command.precondition,this._contextKeys),MS(s)&&s.command.toggled&&e._fillInKbExprKeys(s.command.toggled,this._contextKeys)}this._onDidChange.fire(this)},e.prototype.getActions=function(t){for(var r=[],i=0,o=this._menuGroups;i<o.length;i++){for(var s=o[i],a=s[0],u=s[1],l=[],c=0,h=u;c<h.length;c++){var d=h[c];if(this._contextKeyService.contextMatchesRules(d.when)){var p=MS(d)?new rLe(d.command,d.alt,t,this._contextKeyService,this._commandService):new nLe(d);l.push(p)}}l.length>0&&r.push([a,l])}return r},e._fillInKbExprKeys=function(t,r){if(t)for(var i=0,o=t.keys();i<o.length;i++){var s=o[i];r.add(s)}},e._compareMenuItems=function(t,r){var i=t.group,o=r.group;if(i!==o){if(i){if(!o)return-1}else return 1;if(i==="navigation")return-1;if(o==="navigation")return 1;var s=i.localeCompare(o);if(s!==0)return s}var a=t.order||0,u=r.order||0;if(a<u)return-1;if(a>u)return 1;var l=typeof t.command.title=="string"?t.command.title:t.command.title.value,c=typeof r.command.title=="string"?r.command.title:r.command.title.value;return l.localeCompare(c)},e=fre([p3(1,no),p3(2,yt)],e),e}(he),hre=qt("markerDecorationsService"),dre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BFe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qz=function(n,e){return function(t,r){e(t,r,n)}};function hy(n){return n.toString()}var HFe=function(n){dre(e,n);function e(t){var r=n.call(this)||this;return r.model=t,r._markersData=new Map,r._register(bn(function(){r.model.deltaDecorations(Xb(r._markersData),[]),r._markersData.clear()})),r}return e.prototype.update=function(t,r){for(var i=this.model.deltaDecorations(Xb(this._markersData),r),o=0;o<i.length;o++)this._markersData.set(i[o],t[o])},e.prototype.getMarker=function(t){return this._markersData.get(t.id)},e}(he),VFe=function(n){dre(e,n);function e(t,r){var i=n.call(this)||this;return i._markerService=r,i._onDidChangeMarker=i._register(new Q),i._markerDecorations=new Map,t.getModels().forEach(function(o){return i._onModelAdded(o)}),i._register(t.onModelAdded(i._onModelAdded,i)),i._register(t.onModelRemoved(i._onModelRemoved,i)),i._register(i._markerService.onMarkerChanged(i._handleMarkerChange,i)),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._markerDecorations.forEach(function(t){return t.dispose()}),this._markerDecorations.clear()},e.prototype.getMarker=function(t,r){var i=this._markerDecorations.get(hy(t.uri));return i?km(i.getMarker(r)):null},e.prototype._handleMarkerChange=function(t){var r=this;t.forEach(function(i){var o=r._markerDecorations.get(hy(i));o&&r._updateDecorations(o)})},e.prototype._onModelAdded=function(t){var r=new HFe(t);this._markerDecorations.set(hy(t.uri),r),this._updateDecorations(r)},e.prototype._onModelRemoved=function(t){var r=this,i=this._markerDecorations.get(hy(t.uri));i&&(i.dispose(),this._markerDecorations.delete(hy(t.uri))),(t.uri.scheme===Tn.inMemory||t.uri.scheme===Tn.internal||t.uri.scheme===Tn.vscode)&&this._markerService&&this._markerService.read({resource:t.uri}).map(function(o){return o.owner}).forEach(function(o){return r._markerService.remove(o,[t.uri])})},e.prototype._updateDecorations=function(t){var r=this,i=this._markerService.read({resource:t.model.uri,take:500}),o=i.map(function(s){return{range:r._createDecorationRange(t.model,s),options:r._createDecorationOption(s)}});t.update(i,o),this._onDidChangeMarker.fire(t.model)},e.prototype._createDecorationRange=function(t,r){var i=H.lift(r);if(r.severity===kn.Hint&&(!r.tags||r.tags.indexOf(1)===-1)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=t.validateRange(i),i.isEmpty()){var o=t.getWordAtPosition(i.getStartPosition());if(o)i=new H(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn);else{var s=t.getLineLastNonWhitespaceColumn(i.startLineNumber)||t.getLineMaxColumn(i.startLineNumber);s===1||(i.endColumn>=s?i=new H(i.startLineNumber,s-1,i.endLineNumber,s):i=new H(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(r.endColumn===Number.MAX_VALUE&&r.startColumn===1&&i.startLineNumber===i.endLineNumber){var a=t.getLineFirstNonWhitespaceColumn(r.startLineNumber);a<i.endColumn&&(i=new H(i.startLineNumber,a,i.endLineNumber,i.endColumn),r.startColumn=a)}return i},e.prototype._createDecorationOption=function(t){var r,i=void 0,o,s=void 0;switch(t.severity){case kn.Hint:t.tags&&t.tags.indexOf(1)>=0?r="squiggly-unnecessary":r="squiggly-hint",o=0;break;case kn.Warning:r="squiggly-warning",i=ia(WOe),o=20;break;case kn.Info:r="squiggly-info",i=ia(UOe),o=10;break;case kn.Error:default:r="squiggly-error",i=ia(VOe),o=30;break}return t.tags&&(t.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:i,position:da.Right},zIndex:o,inlineClassName:s}},e=BFe([Qz(0,ps),Qz(1,IC)],e),e}(he),WFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UFe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zz=function(n,e){return function(t,r){e(t,r,n)}},jFe=function(n){WFe(e,n);function e(t,r){var i=n.call(this)||this;return i._contextKeyService=t,i._configurationService=r,i._onDidChangeAccessibilitySupport=new Q,i.onDidChangeAccessibilitySupport=i._onDidChangeAccessibilitySupport.event,i._accessibilityModeEnabledContext=CC.bindTo(i._contextKeyService),i._register(i._configurationService.onDidChangeConfiguration(function(o){o.affectsConfiguration("editor.accessibilitySupport")&&i._updateContextKey()})),i._updateContextKey(),i.onDidChangeAccessibilitySupport(function(){return i._updateContextKey()}),i}return e.prototype._updateContextKey=function(){var t=this.getAccessibilitySupport()===2,r=this._configurationService.getValue("editor.accessibilitySupport");this._accessibilityModeEnabledContext.set(r==="on"||r==="auto"&&t)},e=UFe([Zz(0,yt),Zz(1,yi)],e),e}(he),qFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zFe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Jz=function(n,e){return function(t,r){e(t,r,n)}},GFe=function(n){qFe(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.contextKeyService=t,i.configurationService=r,i._accessibilitySupport=0,i}return e.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},e=zFe([Jz(0,yt),Jz(1,yi)],e),e}(jFe),$Fe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vn;(function(n){var e=new zm,t=function(){function a(u,l){this._serviceId=u,this._factory=l,this._value=null}return Object.defineProperty(a.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),a.prototype.get=function(u){if(!this._value){if(u&&(this._value=u[this._serviceId.toString()]),this._value||(this._value=this._factory(u)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");e.set(this._serviceId,this._value)}return this._value},a}();n.LazyStaticService=t;var r=[];function i(a,u){var l=new t(a,u);return r.push(l),l}function o(a){for(var u=new zm,l=0,c=IPe();l<c.length;l++){var h=c[l],d=h[0],p=h[1];u.set(d,p)}for(var v in a)a.hasOwnProperty(v)&&u.set(qt(v),a[v]);r.forEach(function(_){return u.set(_.id,_.get(a))});var m=new Wz(u,!0);return u.set(pr,m),[u,m]}n.init=o,n.instantiationService=i(pr,function(){return new Wz(e,!0)});var s=new Jee;n.configurationService=i(yi,function(){return s}),n.resourceConfigurationService=i(Ree,function(){return new Hxe(s)}),n.resourcePropertiesService=i(Pee,function(){return new Vxe(s)}),n.contextService=i(Xee,function(){return new Uxe}),n.labelService=i(O2,function(){return new qxe}),n.telemetryService=i(vC,function(){return new Wxe}),n.dialogService=i(n3e,function(){return new Fxe}),n.notificationService=i(bi,function(){return new Bxe}),n.markerService=i(IC,function(){return new OFe}),n.modeService=i(Vh,function(a){return new JPe}),n.modelService=i(ps,function(a){return new iMe(n.configurationService.get(a),n.resourcePropertiesService.get(a))}),n.markerDecorationsService=i(hre,function(a){return new VFe(n.modelService.get(a),n.markerService.get(a))}),n.standaloneThemeService=i(pg,function(){return new NMe}),n.codeEditorService=i(In,function(a){return new pMe(n.standaloneThemeService.get(a))}),n.editorProgressService=i(M2,function(){return new Mxe}),n.storageService=i(Wh,function(){return new RFe}),n.logService=i(H6,function(){return new uIe}),n.editorWorkerService=i(za,function(a){return new fIe(n.modelService.get(a),n.resourceConfigurationService.get(a),n.logService.get(a))})})(vn||(vn={}));var KFe=function(n){$Fe(e,n);function e(t,r){var i=n.call(this)||this,o=vn.init(r),s=o[0],a=o[1];i._serviceCollection=s,i._instantiationService=a;var u=i.get(yi),l=i.get(bi),c=i.get(vC),h=i.get(ei),d=function(C,E){var S=null;return r&&(S=r[C.toString()]),S||(S=E()),i._serviceCollection.set(C,S),S},p=d(yt,function(){return i._register(new FMe(u))});d(ql,function(){return new GFe(p,u)}),d(U_,function(){return new pFe(p)});var v=d(no,function(){return new Qee(i._instantiationService)}),m=d(Dr,function(){return i._register(new Zee(p,v,c,l,t))}),_=d(Rne,function(){return new zxe(t)}),b=d(Hh,function(){return i._register(new t3e(_))});return d(dg,function(){var C=new YMe(c,l,b,m,h);return C.configure({blockMouse:!1}),i._register(C)}),d(ote,function(){return new MFe(v)}),d(x5,function(){return new jxe(vn.modelService.get(ps))}),i}return e.prototype.get=function(t){var r=this._serviceCollection.get(t);if(!r)throw new Error("Missing service "+t);return r},e.prototype.set=function(t,r){this._serviceCollection.set(t,r)},e.prototype.has=function(t){return this._serviceCollection.has(t)},e}(he),Ah=qt("openerService"),j5=Object.freeze({_serviceBrand:void 0,registerOpener:function(){return{dispose:function(){}}},registerValidator:function(){return{dispose:function(){}}},open:function(){return Promise.resolve(!1)}});function pre(n,e,t){var r=new KFe(n,e),i=null;r.has(Wp)||(i=new Pxe,r.set(Wp,i)),r.has(Ah)||r.set(Ah,new UAe(r.get(In),r.get(no)));var o=t(r);return i&&i.setEditor(o),o}function YFe(n,e,t){return pre(n,t||{},function(r){return new UPe(n,e,r,r.get(pr),r.get(In),r.get(no),r.get(yt),r.get(Dr),r.get(Hh),r.get(pg),r.get(bi),r.get(yi),r.get(ql))})}function XFe(n){return vn.codeEditorService.get().onCodeEditorAdd(function(e){n(e)})}function QFe(n,e,t){return pre(n,t||{},function(r){return new jPe(n,e,r,r.get(pr),r.get(yt),r.get(Dr),r.get(Hh),r.get(za),r.get(In),r.get(pg),r.get(bi),r.get(yi),r.get(dg),null)})}function ZFe(n,e){return new zAe(n,e)}function eG(n,e,t){return vn.modelService.get().createModel(n,e,t)}function JFe(n,e,t){if(n=n||"",!e){var r=n.indexOf(`
`),i=n;return r!==-1&&(i=n.substring(0,r)),eG(n,vn.modeService.get().createByFilepathOrFirstLine(t||null,i),t)}return eG(n,vn.modeService.get().create(e),t)}function e4e(n,e){vn.modelService.get().setMode(n,vn.modeService.get().create(e))}function t4e(n,e,t){n&&vn.markerService.get().changeOne(e,n.uri,t)}function n4e(n){return vn.markerService.get().read(n)}function r4e(n){return vn.modelService.get().getModel(n)}function i4e(){return vn.modelService.get().getModels()}function o4e(n){return vn.modelService.get().onModelAdded(n)}function s4e(n){return vn.modelService.get().onModelRemoved(n)}function a4e(n){return vn.modelService.get().onModelModeChanged(function(e){n({model:e.model,oldLanguage:e.oldModeId})})}function u4e(n){return vIe(vn.modelService.get(),n)}function l4e(n,e){return j6.colorizeElement(vn.standaloneThemeService.get(),vn.modeService.get(),n,e)}function c4e(n,e,t){return j6.colorize(vn.modeService.get(),n,e,t)}function f4e(n,e,t){return t===void 0&&(t=4),j6.colorizeModelLine(n,e,t)}function h4e(n){var e=Vn.get(n);return e||{getInitialState:function(){return gC},tokenize:function(t,r,i){return Oee(n,t,r,i)}}}function d4e(n,e){var t=vn.modeService.get();t.triggerMode(e);for(var r=h4e(e),i=n.split(/\r\n|\r|\n/),o=[],s=r.getInitialState(),a=0,u=i.length;a<u;a++){var l=i[a],c=r.tokenize(l,s,0);o[a]=c.tokens,s=c.endState}return o}function p4e(n,e){vn.standaloneThemeService.get().defineTheme(n,e)}function g4e(n){vn.standaloneThemeService.get().setTheme(n)}function v4e(){Zxe()}function m4e(){return{create:YFe,onDidCreateEditor:XFe,createDiffEditor:QFe,createDiffNavigator:ZFe,createModel:JFe,setModelLanguage:e4e,setModelMarkers:t4e,getModelMarkers:n4e,getModels:i4e,getModel:r4e,onDidCreateModel:o4e,onWillDisposeModel:s4e,onDidChangeModelLanguage:a4e,createWebWorker:u4e,colorizeElement:l4e,colorize:c4e,colorizeModelLine:f4e,tokenize:d4e,defineTheme:p4e,setTheme:g4e,remeasureFonts:v4e,ScrollbarVisibility:GP,WrappingIndent:nM,OverviewRulerLane:$P,MinimapPosition:KP,EndOfLinePreference:YP,DefaultEndOfLine:XP,EndOfLineSequence:QP,TrackedRangeStickiness:ZP,CursorChangeReason:eM,MouseTargetType:uM,TextEditorCursorStyle:iM,TextEditorCursorBlinkingStyle:rM,ContentWidgetPositionPreference:sM,OverlayWidgetPositionPreference:aM,RenderMinimap:tM,ScrollType:JP,RenderLineNumbersType:oM,InternalEditorOptions:GJ,BareFontInfo:N6,FontInfo:IM,TextModelResolvedOptions:NS,FindMatch:Qb,EditorType:l2}}function _4e(n,e){if(!e||!Array.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++){var i=r[t];if(!n(i))return!1}return!0}function tG(n,e){return typeof n=="boolean"?n:e}function nG(n,e){return typeof n=="string"?n:e}function y4e(n){for(var e={},t=0,r=n;t<r.length;t++){var i=r[t];e[i]=!0}return e}function rG(n,e){e===void 0&&(e=!1),e&&(n=n.map(function(r){return r.toLowerCase()}));var t=y4e(n);return e?function(r){return t[r.toLowerCase()]!==void 0&&t.hasOwnProperty(r.toLowerCase())}:function(r){return t[r]!==void 0&&t.hasOwnProperty(r)}}function g3(n,e){for(var t=0;e.indexOf("@")>=0&&t<5;)t++,e=e.replace(/@(\w+)/g,function(r,i){var o="";if(typeof n[i]=="string")o=n[i];else if(n[i]&&n[i]instanceof RegExp)o=n[i].source;else throw n[i]===void 0?an(n,"language definition does not contain attribute '"+i+"', used at: "+e):an(n,"attribute reference '"+i+"' must be a string, used at: "+e);return Lv(o)?"":"(?:"+o+")"});return new RegExp(e,n.ignoreCase?"i":"")}function b4e(n,e,t,r){if(r<0)return n;if(r<e.length)return e[r];if(r>=100){r=r-100;var i=t.split(".");if(i.unshift(t),r<i.length)return i[r]}return null}function C4e(n,e,t,r){var i=-1,o=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(i=parseInt(s[3]),s[2]&&(i=i+100)),o=s[4]);var a="~",u=o;!o||o.length===0?(a="!=",u=""):/^\w*$/.test(u)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],u=s[2]));var l;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(u)){var c=rG(u.split("|"),n.ignoreCase);l=function(_){return a==="~"?c(_):!c(_)}}else if(a==="@"||a==="!@"){var h=n[u];if(!h)throw an(n,"the @ match target '"+u+"' is not defined, in rule: "+e);if(!_4e(function(_){return typeof _=="string"},h))throw an(n,"the @ match target '"+u+"' must be an array of strings, in rule: "+e);var d=rG(h,n.ignoreCase);l=function(_){return a==="@"?d(_):!d(_)}}else if(a==="~"||a==="!~")if(u.indexOf("$")<0){var p=g3(n,"^"+u+"$");l=function(_){return a==="~"?p.test(_):!p.test(_)}}else l=function(_,b,C,E){var S=g3(n,"^"+Mf(n,u,b,C,E)+"$");return S.test(_)};else if(u.indexOf("$")<0){var v=sh(n,u);l=function(_){return a==="=="?_===v:_!==v}}else{var m=sh(n,u);l=function(_,b,C,E,S){var A=Mf(n,m,b,C,E);return a==="=="?_===A:_!==A}}return i===-1?{name:t,value:r,test:function(_,b,C,E){return l(_,_,b,C,E)}}:{name:t,value:r,test:function(_,b,C,E){var S=b4e(_,b,C,i);return l(S||"",_,b,C,E)}}}function v3(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw an(n,"a 'token' attribute must be of type string, in rule: "+e);var r={token:t.token};if(t.token.indexOf("$")>=0&&(r.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")r.bracket=1;else if(t.bracket==="@close")r.bracket=-1;else throw an(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw an(n,"the next state must be a string value in rule: "+e);var i=t.next;if(!/^(@pop|@push|@popall)$/.test(i)&&(i[0]==="@"&&(i=i.substr(1)),i.indexOf("$")<0&&!FIe(n,Mf(n,i,"",[],""))))throw an(n,"the next state '"+t.next+"' is not defined in rule: "+e);r.next=i}return typeof t.goBack=="number"&&(r.goBack=t.goBack),typeof t.switchTo=="string"&&(r.switchTo=t.switchTo),typeof t.log=="string"&&(r.log=t.log),typeof t.nextEmbedded=="string"&&(r.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),r}else if(Array.isArray(t)){for(var o=[],s=0,a=t.length;s<a;s++)o[s]=v3(n,e,t[s]);return{group:o}}else if(t.cases){var u=[];for(var l in t.cases)if(t.cases.hasOwnProperty(l)){var c=v3(n,e,t.cases[l]);l==="@default"||l==="@"||l===""?u.push({test:void 0,value:c,name:l}):l==="@eos"?u.push({test:function(d,p,v,m){return m},value:c,name:l}):u.push(C4e(n,e,l,c))}var h=n.defaultToken;return{test:function(d,p,v,m){for(var _=0,b=u;_<b.length;_++){var C=b[_],E=!C.test||C.test(d,p,v,m);if(E)return C.value}return h}}}else throw an(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}var w4e=function(){function n(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return n.prototype.setRegex=function(e,t){var r;if(typeof t=="string")r=t;else if(t instanceof RegExp)r=t.source;else throw an(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=r.length>0&&r[0]==="^",this.name=this.name+": "+r,this.regex=g3(e,"^(?:"+(this.matchOnlyAtLineStart?r.substr(1):r)+")")},n.prototype.setAction=function(e,t){this.action=v3(e,this.name,t)},n}();function E4e(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");var t={};t.languageId=n,t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=tG(e.ignoreCase,!1),t.tokenPostfix=nG(e.tokenPostfix,"."+t.languageId),t.defaultToken=nG(e.defaultToken,"source"),t.usesEmbedded=!1;var r=e;r.languageId=n,r.ignoreCase=t.ignoreCase,r.noThrow=t.noThrow,r.usesEmbedded=t.usesEmbedded,r.stateNames=e.tokenizer,r.defaultToken=t.defaultToken;function i(d,p,v){for(var m=0,_=v;m<_.length;m++){var b=_[m],C=b.include;if(C){if(typeof C!="string")throw an(t,"an 'include' attribute must be a string at: "+d);if(C[0]==="@"&&(C=C.substr(1)),!e.tokenizer[C])throw an(t,"include target '"+C+"' is not defined at: "+d);i(d+"."+C,p,e.tokenizer[C])}else{var E=new w4e(d);if(Array.isArray(b)&&b.length>=1&&b.length<=3)if(E.setRegex(r,b[0]),b.length>=3)if(typeof b[1]=="string")E.setAction(r,{token:b[1],next:b[2]});else if(typeof b[1]=="object"){var S=b[1];S.next=b[2],E.setAction(r,S)}else throw an(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+d);else E.setAction(r,b[1]);else{if(!b.regex)throw an(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+d);b.name&&typeof b.name=="string"&&(E.name=b.name),b.matchOnlyAtStart&&(E.matchOnlyAtLineStart=tG(b.matchOnlyAtLineStart,!1)),E.setRegex(r,b.regex),E.setAction(r,b.action)}p.push(E)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw an(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(var o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);var s=e.tokenizer[o];t.tokenizer[o]=new Array,i("tokenizer."+o,t.tokenizer[o],s)}if(t.usesEmbedded=r.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw an(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];for(var a=[],u=0,l=e.brackets;u<l.length;u++){var c=l[u],h=c;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw an(t,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")a.push({token:h.token+t.tokenPostfix,open:sh(t,h.open),close:sh(t,h.close)});else throw an(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=a,t.noThrow=!0,t}function S4e(n){Ap.registerLanguage(n)}function T4e(){var n=[];return n=n.concat(Ap.getLanguages()),n}function D4e(n){var e=vn.modeService.get().getLanguageIdentifier(n);return e?e.id:0}function A4e(n,e){var t=vn.modeService.get().onDidCreateMode(function(r){r.getId()===n&&(t.dispose(),e())});return t}function I4e(n,e){var t=vn.modeService.get().getLanguageIdentifier(n);if(!t)throw new Error("Cannot set configuration for unknown language "+n);return Ot.register(t,e)}var x4e=function(){function n(e){this._actual=e}return n.prototype.getInitialState=function(){return this._actual.getInitialState()},n.prototype.tokenize=function(e,t,r){throw new Error("Not supported!")},n.prototype.tokenize2=function(e,t){var r=this._actual.tokenizeEncoded(e,t);return new o2(r.tokens,r.endState)},n}(),L4e=function(){function n(e,t,r){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=r}return n.prototype.getInitialState=function(){return this._actual.getInitialState()},n.prototype._toClassicTokens=function(e,t,r){for(var i=[],o=0,s=0,a=e.length;s<a;s++){var u=e[s],l=u.startIndex;s===0?l=0:l<o&&(l=o),i[s]=new i2(l+r,u.scopes,t),o=l}return i},n.prototype.tokenize=function(e,t,r){var i=this._actual.tokenize(e,t),o=this._toClassicTokens(i.tokens,this._languageIdentifier.language,r),s;return i.endState.equals(t)?s=t:s=i.endState,new h6(o,s)},n.prototype._toBinaryTokens=function(e,t){for(var r=this._languageIdentifier.id,i=this._standaloneThemeService.getTheme().tokenTheme,o=[],s=0,a=0,u=0,l=e.length;u<l;u++){var c=e[u],h=i.match(r,c.scopes);if(!(s>0&&o[s-1]===h)){var d=c.startIndex;u===0?d=0:d<a&&(d=a),o[s++]=d+t,o[s++]=h,a=d}}for(var p=new Uint32Array(s),u=0;u<s;u++)p[u]=o[u];return p},n.prototype.tokenize2=function(e,t,r){var i=this._actual.tokenize(e,t),o=this._toBinaryTokens(i.tokens,r),s;return i.endState.equals(t)?s=t:s=i.endState,new o2(o,s)},n}();function N4e(n){return"tokenizeEncoded"in n}function gre(n){return n&&typeof n.then=="function"}function O4e(n,e){var t=vn.modeService.get().getLanguageIdentifier(n);if(!t)throw new Error("Cannot set tokens provider for unknown language "+n);var r=function(i){return N4e(i)?new x4e(i):new L4e(vn.standaloneThemeService.get(),t,i)};return gre(e)?Vn.registerPromise(n,e.then(function(i){return r(i)})):Vn.register(n,r(e))}function k4e(n,e){var t=function(r){return WIe(vn.modeService.get(),vn.standaloneThemeService.get(),n,E4e(n,r))};return gre(e)?Vn.registerPromise(n,e.then(function(r){return t(r)})):Vn.register(n,t(e))}function R4e(n,e){return FT.register(n,e)}function P4e(n,e){return BT.register(n,e)}function M4e(n,e){return bp.register(n,e)}function F4e(n,e){return Jb.register(n,{provideHover:function(t,r,i){var o=t.getWordAtPosition(r);return Promise.resolve(e.provideHover(t,r,i)).then(function(s){if(s)return!s.range&&o&&(s.range=new H(r.lineNumber,o.startColumn,r.lineNumber,o.endColumn)),s.range||(s.range=new H(r.lineNumber,r.column,r.lineNumber,r.column)),s})}})}function B4e(n,e){return zf.register(n,e)}function H4e(n,e){return Fm.register(n,e)}function V4e(n,e){return e1.register(n,e)}function W4e(n,e){return VT.register(n,e)}function U4e(n,e){return WT.register(n,e)}function j4e(n,e){return Cp.register(n,e)}function q4e(n,e){return xc.register(n,{provideCodeActions:function(t,r,i,o){var s=vn.markerService.get().read({resource:t.uri}).filter(function(a){return H.areIntersectingOrTouching(a,r)});return e.provideCodeActions(t,r,{markers:s,only:i.only},o)}})}function z4e(n,e){return eb.register(n,e)}function G4e(n,e){return vu.register(n,e)}function $4e(n,e){return UT.register(n,e)}function K4e(n,e){return t1.register(n,e)}function Y4e(n,e){return cl.register(n,e)}function X4e(n,e){return Bm.register(n,e)}function Q4e(n,e){return xM.register(n,e)}function Z4e(n,e){return HT.register(n,e)}function J4e(n,e){return f2.register(n,e)}function e6e(){return{register:S4e,getLanguages:T4e,onLanguage:A4e,getEncodedLanguageId:D4e,setLanguageConfiguration:I4e,setTokensProvider:O4e,setMonarchTokensProvider:k4e,registerReferenceProvider:R4e,registerRenameProvider:P4e,registerCompletionItemProvider:Y4e,registerSignatureHelpProvider:M4e,registerHoverProvider:F4e,registerDocumentSymbolProvider:B4e,registerDocumentHighlightProvider:H4e,registerDefinitionProvider:V4e,registerImplementationProvider:W4e,registerTypeDefinitionProvider:U4e,registerCodeLensProvider:j4e,registerCodeActionProvider:q4e,registerDocumentFormattingEditProvider:z4e,registerDocumentRangeFormattingEditProvider:G4e,registerOnTypeFormattingEditProvider:$4e,registerLinkProvider:K4e,registerColorProvider:X4e,registerFoldingRangeProvider:Q4e,registerDeclarationProvider:Z4e,registerSelectionRangeProvider:J4e,DocumentHighlightKind:gM,CompletionItemKind:cM,CompletionItemTag:fM,CompletionItemInsertTextRule:hM,SymbolKind:vM,SymbolTag:mM,IndentAction:lM,CompletionTriggerKind:dM,SignatureHelpTriggerKind:pM,FoldingRangeKind:c2}}var WS=self;Ul.wrappingIndent=0;Ul.viewInfo.glyphMargin=!1;Ul.autoIndent=!1;var ro=eee();ro.editor=m4e();ro.languages=e6e();ro.CancellationTokenSource;ro.Emitter;ro.KeyCode;ro.KeyMod;ro.Position;var dy=ro.Range;ro.Selection;ro.SelectionDirection;ro.MarkerSeverity;ro.MarkerTag;ro.Uri;ro.Token;var pm=ro.editor;ro.languages;WS.monaco=ro;typeof WS.require<"u"&&typeof WS.require.config=="function"&&WS.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var t6e="3.5.1",iG=monaco.Emitter,vre=function(){function n(e,t){this._onDidChange=new iG,this._onDidExtraLibsChange=new iG,this._extraLibs=Object.create(null),this._workerMaxIdleTime=2*60*1e3,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!0,configurable:!0}),n.prototype.getExtraLibs=function(){return this._extraLibs},n.prototype.addExtraLib=function(e,t){var r=this;if(typeof t>"u"&&(t="ts:extralib-"+Math.random().toString(36).substring(2,15)),this._extraLibs[t]&&this._extraLibs[t].content===e)return{dispose:function(){}};var i=1;return this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:e,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var o=r._extraLibs[t];o&&o.version===i&&(delete r._extraLibs[t],r._fireOnDidExtraLibsChangeSoon())}}},n.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)},0))},n.prototype.getCompilerOptions=function(){return this._compilerOptions},n.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},n.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},n.prototype.setMaximumWorkerIdleTime=function(e){this._workerMaxIdleTime=e},n.prototype.getWorkerMaxIdleTime=function(){return this._workerMaxIdleTime},n.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},n.prototype.getEagerModelSync=function(){return this._eagerModelSync},n}(),m3;(function(n){n[n.None=0]="None",n[n.CommonJS=1]="CommonJS",n[n.AMD=2]="AMD",n[n.UMD=3]="UMD",n[n.System=4]="System",n[n.ES2015=5]="ES2015",n[n.ESNext=99]="ESNext"})(m3||(m3={}));var _3;(function(n){n[n.None=0]="None",n[n.Preserve=1]="Preserve",n[n.React=2]="React",n[n.ReactNative=3]="ReactNative"})(_3||(_3={}));var y3;(function(n){n[n.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",n[n.LineFeed=1]="LineFeed"})(y3||(y3={}));var d1;(function(n){n[n.ES3=0]="ES3",n[n.ES5=1]="ES5",n[n.ES2015=2]="ES2015",n[n.ES2016=3]="ES2016",n[n.ES2017=4]="ES2017",n[n.ES2018=5]="ES2018",n[n.ES2019=6]="ES2019",n[n.ES2020=7]="ES2020",n[n.ESNext=99]="ESNext",n[n.JSON=100]="JSON",n[n.Latest=99]="Latest"})(d1||(d1={}));var b3;(function(n){n[n.Classic=1]="Classic",n[n.NodeJs=2]="NodeJs"})(b3||(b3={}));var mre=new vre({allowNonTsExtensions:!0,target:d1.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),_re=new vre({allowNonTsExtensions:!0,allowJs:!0,target:d1.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});function n6e(){return F2().then(function(n){return n.getTypeScriptWorker()})}function r6e(){return F2().then(function(n){return n.getJavaScriptWorker()})}function i6e(){return{ModuleKind:m3,JsxEmit:_3,NewLineKind:y3,ScriptTarget:d1,ModuleResolutionKind:b3,typescriptVersion:t6e,typescriptDefaults:mre,javascriptDefaults:_re,getTypeScriptWorker:n6e,getJavaScriptWorker:r6e}}monaco.languages.typescript=i6e();function F2(){return Je(()=>import("./tsMode-xKRrtrtT.js"),[])}monaco.languages.onLanguage("typescript",function(){return F2().then(function(n){return n.setupTypeScript(mre)})});monaco.languages.onLanguage("javascript",function(){return F2().then(function(n){return n.setupJavaScript(_re)})});var o6e=monaco.Emitter,q5=function(){function n(e,t){this._onDidChange=new o6e,this._languageId=e,this.setDiagnosticsOptions(t)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},n}(),z5={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},yre=new q5("css",z5),bre=new q5("scss",z5),Cre=new q5("less",z5);function s6e(){return{cssDefaults:yre,lessDefaults:Cre,scssDefaults:bre}}monaco.languages.css=s6e();function G5(){return Je(()=>import("./cssMode-ByoFQ6w7.js"),[])}monaco.languages.onLanguage("less",function(){G5().then(function(n){return n.setupMode(Cre)})});monaco.languages.onLanguage("scss",function(){G5().then(function(n){return n.setupMode(bre)})});monaco.languages.onLanguage("css",function(){G5().then(function(n){return n.setupMode(yre)})});var a6e=monaco.Emitter,u6e=function(){function n(e,t,r){this._onDidChange=new a6e,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},n.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},n}(),l6e={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1},c6e={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0},wre=new u6e("json",l6e,c6e);function f6e(){return{jsonDefaults:wre}}monaco.languages.json=f6e();function h6e(){return Je(()=>import("./jsonMode-DsAMagc9.js"),[])}monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});monaco.languages.onLanguage("json",function(){h6e().then(function(n){return n.setupMode(wre)})});var d6e=monaco.Emitter,$5=function(){function n(e,t){this._onDidChange=new d6e,this._languageId=e,this.setOptions(t)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),n.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},n}(),K5={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},p6e={format:K5,suggest:{html5:!0,angular1:!0,ionic:!0}},g6e={format:K5,suggest:{html5:!0}},v6e={format:K5,suggest:{html5:!0,razor:!0}},Ere="html",Sre="handlebars",Tre="razor",Dre=new $5(Ere,p6e),Are=new $5(Sre,g6e),Ire=new $5(Tre,v6e);function m6e(){return{htmlDefaults:Dre,razorDefaults:Ire,handlebarDefaults:Are}}monaco.languages.html=m6e();function Y5(){return Je(()=>import("./htmlMode-CwD2Js95.js"),[])}monaco.languages.onLanguage(Ere,function(){Y5().then(function(n){return n.setupMode(Dre)})});monaco.languages.onLanguage(Sre,function(){Y5().then(function(n){return n.setupMode(Are)})});monaco.languages.onLanguage(Tre,function(){Y5().then(function(n){return n.setupMode(Ire)})});var wD=typeof monaco>"u"?self.monaco:monaco,xre={};function _6e(n){var e=xre[n].loader;return e().then(function(t){wD.languages.setMonarchTokensProvider(n,t.language),wD.languages.setLanguageConfiguration(n,t.conf)})}var Ok={};function y6e(n){return Ok[n]||(Ok[n]=_6e(n)),Ok[n]}function rt(n){var e=n.id;xre[e]=n,wD.languages.register(n),wD.languages.onLanguage(e,function(){y6e(e)})}rt({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return Je(()=>import("./abap-CroyChCn.js"),[])}});rt({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return Je(()=>import("./bat-DPkNLes8.js"),[])}});rt({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return Je(()=>import("./coffee-B7EJu28W.js"),[])}});rt({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return Je(()=>import("./cpp-BEB0WcoC.js"),[])}});rt({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return Je(()=>import("./cpp-BEB0WcoC.js"),[])}});rt({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return Je(()=>import("./csharp-DWIp4pSg.js"),[])}});rt({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return Je(()=>import("./csp-C46ZqvIl.js"),[])}});rt({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return Je(()=>import("./css-DUIZ76Ch.js"),[])}});rt({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return Je(()=>import("./dockerfile-C1cGoIR-.js"),[])}});rt({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return Je(()=>import("./fsharp-fd1GTHhf.js"),[])}});rt({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return Je(()=>import("./go-O9LJTZXk.js"),[])}});rt({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return Je(()=>import("./handlebars-BvkMZJ20.js"),[])}});rt({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return Je(()=>import("./html-3yF9IKqR.js"),[])}});rt({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return Je(()=>import("./ini-BvajGCUy.js"),[])}});rt({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return Je(()=>import("./java-DPgNP7lh.js"),[])}});rt({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return Je(()=>import("./javascript-B50b1xvf.js"),__vite__mapDeps([0,1]))}});rt({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return Je(()=>import("./kotlin-DNEyQ-_b.js"),[])}});rt({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return Je(()=>import("./less-B86-qBTk.js"),[])}});rt({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return Je(()=>import("./lua-D28Ae8-K.js"),[])}});rt({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return Je(()=>import("./markdown-B78DZXM-.js"),[])}});rt({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return Je(()=>import("./mips-CdjsipkG.js"),[])}});rt({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return Je(()=>import("./msdax-CYqgjx_P.js"),[])}});rt({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return Je(()=>import("./mysql-BAlWi9Ou.js"),[])}});rt({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return Je(()=>import("./objective-c-B1aVtJYH.js"),[])}});rt({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return Je(()=>import("./pascal-DTluBHOt.js"),[])}});rt({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return Je(()=>import("./pascaligo-5jv8CcQD.js"),[])}});rt({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return Je(()=>import("./pgsql-M-WMQIqP.js"),[])}});rt({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return Je(()=>import("./php-120yhfDK.js"),[])}});rt({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return Je(()=>import("./postiats-CQpG440k.js"),[])}});rt({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return Je(()=>import("./powerquery-DdJtto1Z.js"),[])}});rt({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return Je(()=>import("./powershell-Bu_VLpJB.js"),[])}});rt({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return Je(()=>import("./pug-kFxLfcjb.js"),[])}});rt({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return Je(()=>import("./python-BkTgHGXl.js"),[])}});rt({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],loader:function(){return Je(()=>import("./r-DTzboqR4.js"),[])}});rt({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return Je(()=>import("./razor-erwnNA65.js"),[])}});rt({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return Je(()=>import("./redis-CHOsPHWR.js"),[])}});rt({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return Je(()=>import("./redshift-C7PkzcsH.js"),[])}});rt({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],loader:function(){return Je(()=>import("./ruby-Dg4z_gXy.js"),[])}});rt({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return Je(()=>import("./rust-BCqVQ9nX.js"),[])}});rt({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return Je(()=>import("./sb-BYAiYHFx.js"),[])}});rt({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return Je(()=>import("./scss-CdQcnAnq.js"),[])}});rt({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return Je(()=>import("./sophia-RYC1BQQz.js"),[])}});rt({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return Je(()=>import("./solidity-CME5AdoB.js"),[])}});rt({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return Je(()=>import("./sql-CbGH2FIt.js"),[])}});rt({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return Je(()=>import("./st-C9od-Za1.js"),[])}});rt({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return Je(()=>import("./swift-CDHAPRNA.js"),[])}});rt({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return Je(()=>import("./tcl-CVK_QlCp.js"),[])}});rt({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return Je(()=>import("./twig-bne2BnKZ.js"),[])}});rt({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return Je(()=>import("./typescript-3a6SNL6q.js"),[])}});rt({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return Je(()=>import("./vb-DgkWD2cI.js"),[])}});rt({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return Je(()=>import("./xml-DfgkohBE.js"),[])}});rt({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return Je(()=>import("./yaml-BR93gJIW.js"),[])}});rt({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return Je(()=>import("./scheme-Dhb-2j9p.js"),[])}});rt({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return Je(()=>import("./clojure-D9WOWImG.js"),[])}});rt({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return Je(()=>import("./shell-CmmbcNmB.js"),[])}});rt({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return Je(()=>import("./perl-DlYyT36c.js"),[])}});rt({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return Je(()=>import("./azcli-1IWB1ccx.js"),[])}});rt({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return Je(()=>import("./apex-BL_CmIl-.js"),[])}});rt({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return Je(()=>import("./graphql-DV_i635h.js"),[])}});var X5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),b6e=oe("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},D("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),C6e=function(n){X5(e,n);function e(){return n.call(this,{id:"editor.action.jumpToBracket",label:D("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:3160,weight:100}})||this}return e.prototype.run=function(t,r){var i=Q5.get(r);i&&i.jumpToBracket()},e}(Ue),w6e=function(n){X5(e,n);function e(){return n.call(this,{id:"editor.action.selectToBracket",label:D("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0})||this}return e.prototype.run=function(t,r){var i=Q5.get(r);i&&i.selectToBracket()},e}(Ue),E6e=function(){function n(e,t){this.position=e,this.brackets=t}return n}(),Q5=function(n){X5(e,n);function e(t){var r=n.call(this)||this;return r._editor=t,r._lastBracketsData=[],r._lastVersionId=0,r._decorations=[],r._updateBracketsSoon=r._register(new Hr(function(){return r._updateBrackets()},50)),r._matchBrackets=r._editor.getConfiguration().contribInfo.matchBrackets,r._updateBracketsSoon.schedule(),r._register(t.onDidChangeCursorPosition(function(i){r._matchBrackets&&r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeModelContent(function(i){r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeModel(function(i){r._lastBracketsData=[],r._decorations=[],r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeModelLanguageConfiguration(function(i){r._lastBracketsData=[],r._updateBracketsSoon.schedule()})),r._register(t.onDidChangeConfiguration(function(i){r._matchBrackets=r._editor.getConfiguration().contribInfo.matchBrackets,!r._matchBrackets&&r._decorations.length>0&&(r._decorations=r._editor.deltaDecorations(r._decorations,[])),r._updateBracketsSoon.schedule()})),r}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var t=this._editor.getModel(),r=this._editor.getSelections().map(function(i){var o=i.getStartPosition(),s=t.matchBracket(o),a=null;if(s)s[0].containsPosition(o)?a=s[1].getStartPosition():s[1].containsPosition(o)&&(a=s[0].getStartPosition());else{var u=t.findNextBracket(o);u&&u.range&&(a=u.range.getStartPosition())}return a?new Re(a.lineNumber,a.column,a.lineNumber,a.column):new Re(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(r),this._editor.revealRange(r[0])}},e.prototype.selectToBracket=function(){if(this._editor.hasModel()){var t=this._editor.getModel(),r=[];this._editor.getSelections().forEach(function(i){var o=i.getStartPosition(),s=t.matchBracket(o),a=null,u=null;if(!s){var l=t.findNextBracket(o);l&&l.range&&(s=t.matchBracket(l.range.getStartPosition()))}s&&(s[0].startLineNumber===s[1].startLineNumber?(a=s[1].startColumn<s[0].startColumn?s[1].getStartPosition():s[0].getStartPosition(),u=s[1].startColumn<s[0].startColumn?s[0].getEndPosition():s[1].getEndPosition()):(a=s[1].startLineNumber<s[0].startLineNumber?s[1].getStartPosition():s[0].getStartPosition(),u=s[1].startLineNumber<s[0].startLineNumber?s[0].getEndPosition():s[1].getEndPosition())),a&&u&&r.push(new Re(a.lineNumber,a.column,u.lineNumber,u.column))}),r.length>0&&(this._editor.setSelections(r),this._editor.revealRange(r[0]))}},e.prototype._updateBrackets=function(){if(this._matchBrackets){this._recomputeBrackets();for(var t=[],r=0,i=0,o=this._lastBracketsData.length;i<o;i++){var s=this._lastBracketsData[i].brackets;s&&(t[r++]={range:s[0],options:e._DECORATION_OPTIONS},t[r++]={range:s[1],options:e._DECORATION_OPTIONS})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}},e.prototype._recomputeBrackets=function(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}var t=this._editor.getModel(),r=t.getVersionId(),i=[];this._lastVersionId===r&&(i=this._lastBracketsData);for(var o=this._editor.getSelections(),s=[],a=0,u=0,l=o.length;u<l;u++){var c=o[u];c.isEmpty()&&(s[a++]=c.getStartPosition())}s.length>1&&s.sort(ee.compare);for(var h=[],d=0,p=0,v=i.length,u=0,l=s.length;u<l;u++){for(var m=s[u];p<v&&i[p].position.isBefore(m);)p++;if(p<v&&i[p].position.equals(m))h[d++]=i[p];else{var _=t.matchBracket(m);h[d++]=new E6e(m,_)}}this._lastBracketsData=h,this._lastVersionId=r},e.ID="editor.contrib.bracketMatchingController",e._DECORATION_OPTIONS=mt.register({stickiness:1,className:"bracket-match",overviewRuler:{color:ia(b6e),position:da.Center}}),e}(he);Cn(Q5);ge(w6e);ge(C6e);mn(function(n,e){var t=n.getColor(POe);t&&e.addRule(".monaco-editor .bracket-match { background-color: "+t+"; }");var r=n.getColor(Xte);r&&e.addRule(".monaco-editor .bracket-match { border: 1px solid "+r+"; }")});Nu.appendMenuItem(16,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:D({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});var S6e=function(){function n(e,t){this._selection=e,this._isMovingLeft=t,this._cutStartIndex=-1,this._cutEndIndex=-1,this._moved=!1,this._selectionId=null}return n.prototype.getEditOperations=function(e,t){var r=this._selection;if(this._selectionId=t.trackSelection(r),r.startLineNumber===r.endLineNumber&&!(this._isMovingLeft&&r.startColumn===0)&&!(!this._isMovingLeft&&r.endColumn===e.getLineMaxColumn(r.startLineNumber))){var i=r.selectionStartLineNumber,o=e.getLineContent(i),s,a,u;this._isMovingLeft?(s=o.substring(0,r.startColumn-2),a=o.substring(r.startColumn-1,r.endColumn-1),u=o.substring(r.startColumn-2,r.startColumn-1)+o.substring(r.endColumn-1)):(s=o.substring(0,r.startColumn-1)+o.substring(r.endColumn-1,r.endColumn),a=o.substring(r.startColumn-1,r.endColumn-1),u=o.substring(r.endColumn));var l=s+a+u;t.addEditOperation(new H(i,1,i,e.getLineMaxColumn(i)),null),t.addEditOperation(new H(i,1,i,1),l),this._cutStartIndex=r.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+r.endColumn-r.startColumn,this._moved=!0}},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);return this._moved&&(r=r.setStartPosition(r.startLineNumber,this._cutStartIndex),r=r.setEndPosition(r.startLineNumber,this._cutEndIndex)),r},n}(),Z5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lre=function(n){Z5(e,n);function e(t,r){var i=n.call(this,r)||this;return i.left=t,i}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=[],o=r.getSelections(),s=0,a=o;s<a.length;s++){var u=a[s];i.push(new S6e(u,this.left))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()}},e}(Ue),T6e=function(n){Z5(e,n);function e(){return n.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:D("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:W.writable})||this}return e}(Lre),D6e=function(n){Z5(e,n);function e(){return n.call(this,!1,{id:"editor.action.moveCarretRightAction",label:D("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:W.writable})||this}return e}(Lre);ge(T6e);ge(D6e);var A6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I6e=function(n){A6e(e,n);function e(){return n.call(this,{id:"editor.action.transposeLetters",label:D("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}return e.prototype.positionLeftOf=function(t,r){var i=t.column,o=t.lineNumber;return i>r.getLineMinColumn(o)?w6(r.getLineContent(o).charCodeAt(i-2))?i=i-2:i=i-1:o>1&&(o=o-1,i=r.getLineMaxColumn(o)),new ee(o,i)},e.prototype.positionRightOf=function(t,r){var i=t.column,o=t.lineNumber;return i<r.getLineMaxColumn(o)?ts(r.getLineContent(o).charCodeAt(i-1))?i=i+2:i=i+1:o<r.getLineCount()&&(o=o+1,i=0),new ee(o,i)},e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getModel(),o=[],s=r.getSelections(),a=0,u=s;a<u.length;a++){var l=u[a];if(l.isEmpty()){var c=l.startLineNumber,h=l.startColumn,d=i.getLineMaxColumn(c);if(!(c===1&&(h===1||h===2&&d===2))){var p=h===d?l.getPosition():this.positionRightOf(l.getPosition(),i),v=this.positionLeftOf(p,i),m=this.positionLeftOf(v,i),_=i.getValueInRange(H.fromPositions(m,v)),b=i.getValueInRange(H.fromPositions(v,p)),C=H.fromPositions(m,p);o.push(new kr(C,b+_))}}}o.length>0&&(r.pushUndoStop(),r.executeCommands(this.id,o),r.pushUndoStop())}},e}(Ue);ge(I6e);var xC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J5="9_cutcopypaste",x6e=Iu||document.queryCommandSupported("cut"),Nre=Iu||document.queryCommandSupported("copy"),L6e=Nre&&!vl,N6e=Iu||!zb&&document.queryCommandSupported("paste"),B2=function(n){xC(e,n);function e(t,r){var i=n.call(this,r)||this;return i.browserCommand=t,i}return e.prototype.runCommand=function(t,r){var i=t.get(In).getFocusedCodeEditor();if(i&&i.hasTextFocus()){i.trigger("keyboard",this.id,r);return}document.execCommand(this.browserCommand)},e.prototype.run=function(t,r){r.focus(),document.execCommand(this.browserCommand)},e}(Ue),O6e=function(n){xC(e,n);function e(){var t=this,r={kbExpr:W.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return Iu||(r=void 0),t=n.call(this,"cut",{id:"editor.action.clipboardCutAction",label:D("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:W.writable,kbOpts:r,menuOpts:{group:J5,order:1},menubarOpts:{menuId:14,group:"2_ccp",title:D({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this,t}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getConfiguration().emptySelectionClipboard;!i&&r.getSelection().isEmpty()||n.prototype.run.call(this,t,r)}},e}(B2),k6e=function(n){xC(e,n);function e(){var t=this,r={kbExpr:W.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return Iu||(r=void 0),t=n.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:D("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:void 0,kbOpts:r,menuOpts:{group:J5,order:2},menubarOpts:{menuId:14,group:"2_ccp",title:D({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this,t}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getConfiguration().emptySelectionClipboard;!i&&r.getSelection().isEmpty()||n.prototype.run.call(this,t,r)}},e}(B2),R6e=function(n){xC(e,n);function e(){var t=this,r={kbExpr:W.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return Iu||(r=void 0),t=n.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:D("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:W.writable,kbOpts:r,menuOpts:{group:J5,order:3},menubarOpts:{menuId:14,group:"2_ccp",title:D({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this,t}return e}(B2),P6e=function(n){xC(e,n);function e(){return n.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:D("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,weight:100}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getConfiguration().emptySelectionClipboard;!i&&r.getSelection().isEmpty()||($T.forceCopyWithSyntaxHighlighting=!0,n.prototype.run.call(this,t,r),$T.forceCopyWithSyntaxHighlighting=!1)}},e}(B2);x6e&&ge(O6e);Nre&&ge(k6e);N6e&&ge(R6e);L6e&&ge(P6e);var M6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},B6e=function(n,e){return function(t,r){e(t,r,n)}},Nc=function(n){M6e(e,n);function e(t,r){var i=n.call(this)||this;return i.closeTimeout=3e3,i._messageWidget=i._register(new Mh),i._messageListeners=i._register(new Be),i._editor=t,i._visible=e.MESSAGE_VISIBLE.bindTo(r),i._register(i._editor.onDidAttemptReadOnlyEdit(function(){return i._onDidAttemptReadOnlyEdit()})),i}return e.get=function(t){return t.getContribution(e._id)},e.prototype.getId=function(){return e._id},e.prototype.dispose=function(){n.prototype.dispose.call(this),this._visible.reset()},e.prototype.showMessage=function(t,r){var i=this;Ki(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new oG(this._editor,r,t),this._messageListeners.add(this._editor.onDidBlurEditorText(function(){return i.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(function(){return i.closeMessage()})),this._messageListeners.add(this._editor.onDidDispose(function(){return i.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeModel(function(){return i.closeMessage()})),this._messageListeners.add(new Fs(function(){return i.closeMessage()},this.closeTimeout));var o;this._messageListeners.add(this._editor.onMouseMove(function(s){s.target.position&&(o?o.containsPosition(s.target.position)||i.closeMessage():o=new H(r.lineNumber-3,1,s.target.position.lineNumber+3,1))}))},e.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(oG.fadeOut(this._messageWidget.value))},e.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(D("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},e._id="editor.contrib.messageController",e.MESSAGE_VISIBLE=new Ke("messageVisible",!1),e=F6e([B6e(1,yt)],e),e}(he),H6e=Po.bindToContribution(Nc.get);ce(new H6e({id:"leaveEditorMessage",precondition:Nc.MESSAGE_VISIBLE,handler:function(n){return n.closeMessage()},kbOpts:{weight:130,primary:9}}));var oG=function(){function n(e,t,r){var i=t.lineNumber,o=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(i,i,0),this._position={lineNumber:i,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var s=document.createElement("div");s.classList.add("message"),s.textContent=r,this._domNode.appendChild(s);var a=document.createElement("div");a.classList.add("anchor"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return n.fadeOut=function(e){var t,r=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",r)};return t=setTimeout(r,110),e.getDomNode().addEventListener("animationend",r),e.getDomNode().classList.add("fadeOut"),{dispose:r}},n.prototype.dispose=function(){this._editor.removeContentWidget(this)},n.prototype.getId=function(){return"messageoverlay"},n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return{position:this._position,preference:[1]}},n}();Cn(Nc);mn(function(n,e){var t=n.getColor(s5);if(t){var r=n.type===Um?2:1;e.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+t+"; }"),e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+r+"px solid "+t+"; }")}var i=n.getColor(i5);i&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+i+"; }");var o=n.getColor(o5);o&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+o+"; }")});var V6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),W6e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},U6e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},j6e=function(n){V6e(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._contextMenuService=r,o._delegate=i,o._showingActions=o._register(new Mh),o._visible=!1,o}return e.prototype.show=function(t,r){return W6e(this,void 0,void 0,function(){var i,o=this;return U6e(this,function(s){return t.actions.length?this._editor.getDomNode()?(this._visible=!0,i=t.actions.map(function(a){return o.codeActionToAction(a)}),this._showingActions.value=t,this._contextMenuService.showContextMenu({getAnchor:function(){return ee.isIPosition(r)&&(r=o._toCoords(r)),r||{x:0,y:0}},getActions:function(){return i},onHide:function(){o._visible=!1,o._editor.focus()},autoSelectFirstItem:!0}),[2]):(this._visible=!1,[2,Promise.reject(fC())]):(this._visible=!1,[2])})})},e.prototype.codeActionToAction=function(t){var r=this,i=t.command?t.command.id:t.title,o=t.title;return new pa(i,o,void 0,!0,function(){return r._delegate.onSelectCodeAction(t)})},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),e.prototype._toCoords=function(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();var r=this._editor.getScrolledVisiblePosition(t),i=_i(this._editor.getDomNode()),o=i.left+r.left,s=i.top+r.top+r.height;return{x:o,y:s}},e}(he),q6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),z6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},G6e=function(n,e){return function(t,r){e(t,r,n)}},ub;(function(n){n.Hidden=new(function(){function t(){this.type=0}return t}());var e=function(){function t(r,i,o){this.actions=r,this.editorPosition=i,this.widgetPosition=o,this.type=1}return t}();n.Showing=e})(ub||(ub={}));var $6e=function(n){q6e(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._quickFixActionId=r,o._keybindingService=i,o._onClick=o._register(new Q),o.onClick=o._onClick.event,o._state=ub.Hidden,o._domNode=document.createElement("div"),o._domNode.className="lightbulb-glyph",o._editor.addContentWidget(o),o._register(o._editor.onDidChangeModelContent(function(s){var a=o._editor.getModel();(o._state.type!==1||!a||o._state.editorPosition.lineNumber>=a.getLineCount())&&o.hide()})),o._register(mi(o._domNode,"mousedown",function(s){if(o._state.type===1){o._editor.focus(),s.preventDefault();var a=_i(o._domNode),u=a.top,l=a.height,c=o._editor.getConfiguration().lineHeight,h=Math.floor(c/3);o._state.widgetPosition.position!==null&&o._state.widgetPosition.position.lineNumber<o._state.editorPosition.lineNumber&&(h+=c),o._onClick.fire({x:s.posx,y:u+l+h,actions:o._state.actions})}})),o._register(ye(o._domNode,"mouseenter",function(s){if((s.buttons&1)===1){o.hide();var a=new cg;a.startMonitoring(B_,function(){},function(){a.dispose()})}})),o._register(o._editor.onDidChangeConfiguration(function(s){s.contribInfo&&!o._editor.getConfiguration().contribInfo.lightbulbEnabled&&o.hide()})),o._updateLightBulbTitle(),o._register(o._keybindingService.onDidUpdateKeybindings(o._updateLightBulbTitle,o)),o}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"LightBulbWidget"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._state.type===1?this._state.widgetPosition:null},e.prototype.update=function(t,r){var i=this;if(t.actions.length<=0)return this.hide();var o=this._editor.getConfiguration();if(!o.contribInfo.lightbulbEnabled)return this.hide();var s=r.lineNumber,a=r.column,u=this._editor.getModel();if(!u)return this.hide();var l=u.getOptions().tabSize,c=u.getLineContent(s),h=H_.computeIndentLevel(c,l),d=o.fontInfo.spaceWidth*h>22,p=function(m){return m>2&&i._editor.getTopForLineNumber(m)===i._editor.getTopForLineNumber(m-1)},v=s;if(!d){if(s>1&&!p(s-1))v-=1;else if(!p(s+1))v+=1;else if(a*o.fontInfo.spaceWidth<22)return this.hide()}this._state=new ub.Showing(t,r,{position:{lineNumber:v,column:1},preference:e._posPref}),Rt(this._domNode,"autofixable",t.hasAutoFix),this._editor.layoutContentWidget(this)},Object.defineProperty(e.prototype,"title",{set:function(t){this._domNode.title=t},enumerable:!0,configurable:!0}),e.prototype.hide=function(){this._state=ub.Hidden,this._editor.layoutContentWidget(this)},e.prototype._updateLightBulbTitle=function(){var t=this._keybindingService.lookupKeybinding(this._quickFixActionId),r;t?r=D("quickFixWithKb","Show Fixes ({0})",t.getLabel()):r=D("quickFix","Show Fixes"),this.title=r},e._posPref=[0],e=z6e([G6e(2,Dr)],e),e}(he),K6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y6e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sG=function(n,e){return function(t,r){e(t,r,n)}},kk=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},Rk=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},X6e=function(n){K6e(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a._editor=t,a.delegate=i,a._activeCodeActions=a._register(new Mh),a._codeActionWidget=a._register(new j6e(a._editor,o,{onSelectCodeAction:function(u){return kk(a,void 0,void 0,function(){return Rk(this,function(l){return this.delegate.applyCodeAction(u,!0),[2]})})}})),a._lightBulbWidget=a._register(new $6e(a._editor,r,s)),a._register(a._lightBulbWidget.onClick(a._handleLightBulbSelect,a)),a}return e.prototype.update=function(t){return kk(this,void 0,void 0,function(){var r,i;return Rk(this,function(o){switch(o.label){case 0:if(t.type!==1)return this._lightBulbWidget.hide(),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.actions];case 2:return r=o.sent(),[3,4];case 3:return i=o.sent(),He(i),[2];case 4:if(this._lightBulbWidget.update(r,t.position),!r.actions.length&&t.trigger.context)return Nc.get(this._editor).showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=r,[2];if(t.trigger.type!=="manual")return[3,10];if(!(t.trigger.filter&&t.trigger.filter.kind))return[3,9];if(!(r.actions.length>0))return[3,9];if(!(t.trigger.autoApply===1||t.trigger.autoApply===0&&r.actions.length===1))return[3,9];o.label=5;case 5:return o.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(r.actions[0],!1)];case 6:return o.sent(),[3,8];case 7:return r.dispose(),[7];case 8:return[2];case 9:return this._activeCodeActions.value=r,this._codeActionWidget.show(r,t.position),[3,11];case 10:this._codeActionWidget.isVisible?r.dispose():this._activeCodeActions.value=r,o.label=11;case 11:return[2]}})})},e.prototype.showCodeActionList=function(t,r){return kk(this,void 0,void 0,function(){return Rk(this,function(i){return this._codeActionWidget.show(t,r),[2]})})},e.prototype._handleLightBulbSelect=function(t){this._codeActionWidget.show(t.actions,t)},e=Y6e([sG(3,dg),sG(4,Dr)],e),e}(he),dr=function(){function n(e){this.value=e}return n.prototype.equals=function(e){return this.value===e.value},n.prototype.contains=function(e){return this.equals(e)||Yb(e.value,this.value+n.sep)},n.prototype.intersects=function(e){return this.contains(e)||e.contains(this)},n.sep=".",n.Empty=new n(""),n.QuickFix=new n("quickfix"),n.Refactor=new n("refactor"),n.Source=new n("source"),n.SourceOrganizeImports=new n("source.organizeImports"),n.SourceFixAll=new n("source.fixAll"),n}();function Q6e(n,e){return!(n.kind&&!n.kind.intersects(e)||dr.Source.contains(e)&&!n.includeSourceActions)}function Z6e(n,e){var t=e.kind?new dr(e.kind):void 0;return!(n.kind&&(!t||!n.kind.contains(t))||!n.includeSourceActions&&t&&dr.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}var J6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),e5e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},t5e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},n5e=function(n){J6e(e,n);function e(t,r){var i=n.call(this)||this;return i._register(r),i.actions=t2(t.slice(),e.codeActionsComparator),i}return e.codeActionsComparator=function(t,r){return cs(t.diagnostics)?cs(r.diagnostics)?t.diagnostics[0].message.localeCompare(r.diagnostics[0].message):-1:cs(r.diagnostics)?1:0},Object.defineProperty(e.prototype,"hasAutoFix",{get:function(){return this.actions.some(function(t){return!!t.kind&&dr.QuickFix.contains(new dr(t.kind))&&!!t.isPreferred})},enumerable:!0,configurable:!0}),e}(he);function eB(n,e,t,r){var i=t.filter||{},o={only:i.kind?i.kind.value:void 0,trigger:t.type==="manual"?2:1},s=new S5(n,r),a=r5e(n,i),u=new Be,l=a.map(function(h){return Promise.resolve(h.provideCodeActions(n,e,o,s.token)).then(function(d){return s.token.isCancellationRequested||!d?[]:(u.add(d),d.actions.filter(function(p){return p&&Z6e(i,p)}))},function(d){if(cC(d))throw d;return Oo(d),[]})}),c=xc.onDidChange(function(){var h=xc.all(n);Ph(h,a)||s.cancel()});return Promise.all(l).then(qb).then(function(h){return new n5e(h,u)}).finally(function(){c.dispose(),s.dispose()})}function r5e(n,e){return xc.all(n).filter(function(t){return t.providedCodeActionKinds?t.providedCodeActionKinds.some(function(r){return Q6e(e,new dr(r))}):!0})}Qc("_executeCodeActionProvider",function(n,e){return e5e(this,void 0,void 0,function(){var t,r,i,o,s,a;return t5e(this,function(u){switch(u.label){case 0:if(t=e.resource,r=e.rangeOrSelection,i=e.kind,!(t instanceof Ft)||(o=n.get(ps).getModel(t),!o)||(s=Re.isISelection(r)?Re.liftSelection(r):H.isIRange(r)?o.validateRange(r):void 0,!s))throw Br();return[4,eB(o,s,{type:"manual",filter:{includeSourceActions:!0,kind:i&&i.value?new dr(i.value):void 0}},rn.None)];case 1:return a=u.sent(),setTimeout(function(){return a.dispose()},100),[2,a.actions]}})})});var Ore=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kre=new Ke("supportedCodeAction",""),i5e=function(n){Ore(e,n);function e(t,r,i,o){o===void 0&&(o=250);var s=n.call(this)||this;return s._editor=t,s._markerService=r,s._signalChange=i,s._delay=o,s._autoTriggerTimer=s._register(new Fs),s._register(s._markerService.onMarkerChanged(function(a){return s._onMarkerChanges(a)})),s._register(s._editor.onDidChangeCursorPosition(function(){return s._onCursorChange()})),s}return e.prototype.trigger=function(t){var r=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);return this._createEventAndSignalChange(t,r)},e.prototype._onMarkerChanges=function(t){var r=this,i=this._editor.getModel();i&&t.some(function(o){return o.toString()===i.uri.toString()})&&this._autoTriggerTimer.cancelAndSet(function(){r.trigger({type:"auto"})},this._delay)},e.prototype._onCursorChange=function(){var t=this;this._autoTriggerTimer.cancelAndSet(function(){t.trigger({type:"auto"})},this._delay)},e.prototype._getRangeOfMarker=function(t){var r=this._editor.getModel();if(r)for(var i=0,o=this._markerService.read({resource:r.uri});i<o.length;i++){var s=o[i];if(H.intersectRanges(s,t))return H.lift(s)}},e.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(t){if(this._editor.hasModel()){var r=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&t.type==="auto"){var o=i.getPosition(),s=o.lineNumber,a=o.column,u=r.getLineContent(s);if(u.length===0)return;if(a===1){if(/\s/.test(u[0]))return}else if(a===r.getLineMaxColumn(s)){if(/\s/.test(u[u.length-1]))return}else if(/\s/.test(u[a-2])&&/\s/.test(u[a-1]))return}return i}},e.prototype._createEventAndSignalChange=function(t,r){var i=this._editor.getModel();if(!r||!i){this._signalChange(void 0);return}var o=this._getRangeOfMarker(r),s=o?o.getStartPosition():r.getStartPosition(),a={trigger:t,selection:r,position:s};return this._signalChange(a),a},e}(he),Jd;(function(n){n.Empty=new(function(){function t(){this.type=0}return t}());var e=function(){function t(r,i,o,s){this.trigger=r,this.rangeOrSelection=i,this.position=o,this.actions=s,this.type=1}return t}();n.Triggered=e})(Jd||(Jd={}));var o5e=function(n){Ore(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._editor=t,s._markerService=r,s._progressService=o,s._codeActionOracle=s._register(new Mh),s._state=Jd.Empty,s._onDidChangeState=s._register(new Q),s.onDidChangeState=s._onDidChangeState.event,s._supportedCodeActions=kre.bindTo(i),s._register(s._editor.onDidChangeModel(function(){return s._update()})),s._register(s._editor.onDidChangeModelLanguage(function(){return s._update()})),s._register(xc.onDidChange(function(){return s._update()})),s._update(),s}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this.setState(Jd.Empty,!0)},e.prototype._update=function(){var t=this;this._codeActionOracle.value=void 0,this.setState(Jd.Empty);var r=this._editor.getModel();if(r&&xc.has(r)&&!this._editor.getConfiguration().readOnly){for(var i=[],o=0,s=xc.all(r);o<s.length;o++){var a=s[o];Array.isArray(a.providedCodeActionKinds)&&i.push.apply(i,a.providedCodeActionKinds)}this._supportedCodeActions.set(i.join(" ")),this._codeActionOracle.value=new i5e(this._editor,this._markerService,function(u){if(!u){t.setState(Jd.Empty);return}var l=Qr(function(c){return eB(r,u.selection,u.trigger,c)});t._progressService&&u.trigger.type==="manual"&&t._progressService.showWhile(l,250),t.setState(new Jd.Triggered(u.trigger,u.selection,u.position,l))},void 0),this._codeActionOracle.value.trigger({type:"auto"})}else this._supportedCodeActions.reset()},e.prototype.trigger=function(t){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(t)},e.prototype.setState=function(t,r){t!==this._state&&(this._state.type===1&&this._state.actions.cancel(),this._state=t,r||this._onDidChangeState.fire(t))},e}(he),Uh=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),s5e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Od=function(n,e){return function(t,r){e(t,r,n)}},Rre=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},Pre=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function LC(n){return Oe.regex(kre.keys()[0],new RegExp("(\\s|^)"+Ol(n.value)+"\\b"))}var tB=function(n){Uh(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this)||this;return c._commandService=u,c._bulkEditService=l,c._editor=t,c._model=c._register(new o5e(c._editor,r,i,o)),c._register(c._model.onDidChangeState(function(h){return c.update(h)})),c._ui=c._register(new X6e(t,nB.Id,{applyCodeAction:function(h,d){return Rre(c,void 0,void 0,function(){return Pre(this,function(p){switch(p.label){case 0:return p.trys.push([0,,2,3]),[4,this._applyCodeAction(h)];case 1:return p.sent(),[3,3];case 2:return d&&this._trigger({type:"auto",filter:{}}),[7];case 3:return[2]}})})}},s,a)),c}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.update=function(t){this._ui.update(t)},e.prototype.showCodeActions=function(t,r){return this._ui.showCodeActionList(t,r)},e.prototype.getId=function(){return e.ID},e.prototype.manualTriggerAtCurrentPosition=function(t,r,i){if(this._editor.hasModel()){Nc.get(this._editor).closeMessage();var o=this._editor.getPosition();this._trigger({type:"manual",filter:r,autoApply:i,context:{notAvailableMessage:t,position:o}})}},e.prototype._trigger=function(t){return this._model.trigger(t)},e.prototype._applyCodeAction=function(t){return a5e(t,this._bulkEditService,this._commandService,this._editor)},e.ID="editor.contrib.quickFixController",e=s5e([Od(1,IC),Od(2,yt),Od(3,M2),Od(4,dg),Od(5,Dr),Od(6,no),Od(7,x5)],e),e}(he);function a5e(n,e,t,r){return Rre(this,void 0,void 0,function(){return Pre(this,function(i){switch(i.label){case 0:return n.edit?[4,e.apply(n.edit,{editor:r})]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.command?[4,t.executeCommand.apply(t,[n.command.id].concat(n.command.arguments||[]))]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}})})}function gg(n,e,t,r){if(n.hasModel()){var i=tB.get(n);i&&i.manualTriggerAtCurrentPosition(e,t,r)}}var nB=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,label:D("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Oe.and(W.writable,W.hasCodeActionsProvider),kbOpts:{kbExpr:W.editorTextFocus,primary:2132,weight:100}})||this}return e.prototype.run=function(t,r){return gg(r,D("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)},e.Id="editor.action.quickFix",e}(Ue),rB=function(){function n(e,t,r){this.kind=e,this.apply=t,this.preferred=r}return n.fromUser=function(e,t){return!e||typeof e!="object"?new n(t.kind,t.apply,!1):new n(n.getKindFromUser(e,t.kind),n.getApplyFromUser(e,t.apply),n.getPreferredUser(e))},n.getApplyFromUser=function(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return 1;case"never":return 2;case"ifsingle":return 0;default:return t}},n.getKindFromUser=function(e,t){return typeof e.kind=="string"?new dr(e.kind):t},n.getPreferredUser=function(e){return typeof e.preferred=="boolean"?e.preferred:!1},n}(),u5e=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,precondition:Oe.and(W.writable,W.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:{type:"object",required:["kind"],properties:{kind:{type:"string"},apply:{type:"string",default:"ifSingle",enum:["first","ifSingle","never"]}}}}]}})||this}return e.prototype.runEditorCommand=function(t,r,i){var o=rB.fromUser(i,{kind:dr.Empty,apply:0});return gg(r,D("editor.action.quickFix.noneMessage","No code actions available"),{kind:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)},e.Id="editor.action.codeAction",e}(Po),l5e=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,label:D("refactor.label","Refactor..."),alias:"Refactor...",precondition:Oe.and(W.writable,W.hasCodeActionsProvider),kbOpts:{kbExpr:W.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},menuOpts:{group:"1_modification",order:2,when:Oe.and(W.writable,LC(dr.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:{type:"object",properties:{kind:{type:"string"},apply:{type:"string",default:"never",enum:["first","ifSingle","never"]}}}}]}})||this}return e.prototype.run=function(t,r,i){var o=rB.fromUser(i,{kind:dr.Refactor,apply:2});return gg(r,D("editor.action.refactor.noneMessage","No refactorings available"),{kind:dr.Refactor.contains(o.kind)?o.kind:dr.Empty,onlyIncludePreferredActions:o.preferred},o.apply)},e.Id="editor.action.refactor",e}(Ue),c5e=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,label:D("source.label","Source Action..."),alias:"Source Action...",precondition:Oe.and(W.writable,W.hasCodeActionsProvider),menuOpts:{group:"1_modification",order:2.1,when:Oe.and(W.writable,LC(dr.Source))},description:{description:"Source Action...",args:[{name:"args",schema:{type:"object",properties:{kind:{type:"string"},apply:{type:"string",default:"never",enum:["first","ifSingle","never"]}}}}]}})||this}return e.prototype.run=function(t,r,i){var o=rB.fromUser(i,{kind:dr.Source,apply:2});return gg(r,D("editor.action.source.noneMessage","No source actions available"),{kind:dr.Source.contains(o.kind)?o.kind:dr.Empty,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)},e.Id="editor.action.sourceAction",e}(Ue),f5e=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,label:D("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Oe.and(W.writable,LC(dr.SourceOrganizeImports)),kbOpts:{kbExpr:W.editorTextFocus,primary:1581,weight:100}})||this}return e.prototype.run=function(t,r){return gg(r,D("editor.action.organize.noneMessage","No organize imports action available"),{kind:dr.SourceOrganizeImports,includeSourceActions:!0},0)},e.Id="editor.action.organizeImports",e}(Ue),h5e=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,label:D("fixAll.label","Fix All"),alias:"Fix All",precondition:Oe.and(W.writable,LC(dr.SourceFixAll))})||this}return e.prototype.run=function(t,r){return gg(r,D("fixAll.noneMessage","No fix all action available"),{kind:dr.SourceFixAll,includeSourceActions:!0},0)},e.Id="editor.action.fixAll",e}(Ue),d5e=function(n){Uh(e,n);function e(){return n.call(this,{id:e.Id,label:D("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Oe.and(W.writable,LC(dr.QuickFix)),kbOpts:{kbExpr:W.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})||this}return e.prototype.run=function(t,r){return gg(r,D("editor.action.autoFix.noneMessage","No auto fixes available"),{kind:dr.QuickFix,onlyIncludePreferredActions:!0},0)},e.Id="editor.action.autoFix",e}(Ue);Cn(tB);ge(nB);ge(l5e);ge(c5e);ge(f5e);ge(d5e);ge(h5e);ce(new u5e);var C3=function(){function n(){this.lenses=[],this._dispoables=new Be}return n.prototype.dispose=function(){this._dispoables.dispose()},n.prototype.add=function(e,t){this._dispoables.add(e);for(var r=0,i=e.lenses;r<i.length;r++){var o=i[r];this.lenses.push({symbol:o,provider:t})}},n}();function Mre(n,e){var t=Cp.ordered(n),r=new Map,i=new C3,o=t.map(function(s,a){return r.set(s,a),Promise.resolve(s.provideCodeLenses(n,e)).then(function(u){return u&&i.add(u,s)}).catch(Oo)});return Promise.all(o).then(function(){return i.lenses=t2(i.lenses,function(s,a){return s.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:r.get(s.provider)<r.get(a.provider)?-1:r.get(s.provider)>r.get(a.provider)?1:s.symbol.range.startColumn<a.symbol.range.startColumn?-1:s.symbol.range.startColumn>a.symbol.range.startColumn?1:0}),i})}Qc("_executeCodeLensProvider",function(n,e){var t=e.resource,r=e.itemResolveCount;if(!(t instanceof Ft))throw Br();var i=n.get(ps).getModel(t);if(!i)throw Br();var o=[],s=new Be;return Mre(i,rn.None).then(function(a){s.add(a);for(var u=[],l=function(p){typeof r>"u"||p.symbol.command?o.push(p.symbol):r-- >0&&p.provider.resolveCodeLens&&u.push(Promise.resolve(p.provider.resolveCodeLens(i,p.symbol,rn.None)).then(function(v){return o.push(v||p.symbol)}))},c=0,h=a.lenses;c<h.length;c++){var d=h[c];l(d)}return Promise.all(u)}).then(function(){return o}).finally(function(){setTimeout(function(){return s.dispose()},100)})});var p5e=function(){function n(e,t){this.afterLineNumber=e,this._onHeight=t,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return n.prototype.onComputedHeight=function(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())},n}(),g5e=function(){function n(e,t,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._id="codeLensWidget"+ ++n._idPool,this._editor=e,this.setSymbolRange(t),this._domNode=document.createElement("span"),this._domNode.innerHTML="&nbsp;",De(this._domNode,"codelens-decoration"),this.updateHeight(),this.withCommands(r.map(function(i){return i.symbol}),!1)}return n.prototype.updateHeight=function(){var e=this._editor.getConfiguration(),t=e.fontInfo,r=e.lineHeight;this._domNode.style.height=Math.round(r*1.1)+"px",this._domNode.style.lineHeight=r+"px",this._domNode.style.fontSize=Math.round(t.fontSize*.9)+"px",this._domNode.style.paddingRight=Math.round(t.fontSize*.45)+"px",this._domNode.innerHTML="&nbsp;"},n.prototype.withCommands=function(e,t){this._commands.clear();var r=Yc(e);if(s6(r)){this._domNode.innerHTML="<span>no commands</span>";return}for(var i=[],o=0;o<r.length;o++){var s=r[o].command;if(s){var a=ha(s.title),u=void 0;s.id?(u="<a id="+o+">"+a+"</a>",this._commands.set(String(o),s)):u="<span>"+a+"</span>",i.push(u)}}var l=this._domNode.innerHTML===""||this._domNode.innerHTML==="&nbsp;";this._domNode.innerHTML=i.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this),l&&t&&De(this._domNode,"fadein")},n.prototype.getCommand=function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0},n.prototype.getId=function(){return this._id},n.prototype.getDomNode=function(){return this._domNode},n.prototype.setSymbolRange=function(e){if(this._editor.hasModel()){var t=e.startLineNumber,r=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:r},preference:[1]}}},n.prototype.getPosition=function(){return this._widgetPosition||null},n.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},n._idPool=0,n}(),Pk=function(){function n(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return n.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},n.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},n.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),r=0,i=t.length;r<i;r++)this._addDecorationsCallbacks[r](t[r])},n}(),aG=function(){function n(e,t,r,i,o){var s=this;this._editor=t,this._data=e,this._decorationIds=new Array(this._data.length);var a;this._data.forEach(function(u,l){r.addDecoration({range:u.symbol.range,options:mt.EMPTY},function(c){return s._decorationIds[l]=c}),a?a=H.plusRange(a,u.symbol.range):a=H.lift(u.symbol.range)}),a&&(this._contentWidget=new g5e(t,a,this._data),this._viewZone=new p5e(a.startLineNumber-1,o),this._viewZoneId=i.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget))}return n.prototype.dispose=function(e,t){for(;this._decorationIds.length;)e.removeDecoration(this._decorationIds.pop());t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget)},n.prototype.isValid=function(){var e=this;if(!this._editor.hasModel())return!1;var t=this._editor.getModel();return this._decorationIds.some(function(r,i){var o=t.getDecorationRange(r),s=e._data[i].symbol;return!!(o&&H.isEmpty(s.range)===o.isEmpty())})},n.prototype.updateCodeLensSymbols=function(e,t){for(var r=this;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(i,o){t.addDecoration({range:i.symbol.range,options:mt.EMPTY},function(s){return r._decorationIds[o]=s})})},n.prototype.computeIfNecessary=function(e){if(!this._contentWidget.isVisible())return null;for(var t=0;t<this._decorationIds.length;t++){var r=e.getDecorationRange(this._decorationIds[t]);r&&(this._data[t].symbol.range=r)}return this._data},n.prototype.updateCommands=function(e){this._contentWidget.withCommands(e,!0);for(var t=0;t<this._data.length;t++){var r=e[t];if(r){var i=this._data[t].symbol;i.command=r.command||i.command}}},n.prototype.updateHeight=function(){this._contentWidget.updateHeight()},n.prototype.getCommand=function(e){return this._contentWidget.getCommand(e)},n.prototype.getLineNumber=function(){if(this._editor.hasModel()){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);if(e)return e.startLineNumber}return-1},n.prototype.update=function(e){if(this.isValid()&&this._editor.hasModel()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget))}},n}();mn(function(n,e){var t=n.getColor(ROe);t&&e.addRule(".monaco-editor .codelens-decoration { color: "+t+"; }");var r=n.getColor(h5);r&&e.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+r+" !important; }")});var v5e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},m5e=function(n,e){return function(t,r){e(t,r,n)}},Fre=qt("ICodeLensCache"),uG=function(){function n(e,t){this.lineCount=e,this.data=t}return n}(),_5e=function(){function n(e){var t=this;this._fakeProvider=new(function(){function s(){}return s.prototype.provideCodeLenses=function(){throw new Error("not supported")},s}()),this._cache=new Mm(20,.75);var r="codelens/cache";OT(function(){return e.remove(r,1)});var i="codelens/cache2",o=e.get(i,1,"{}");this._deserialize(o),KJ(e.onWillSaveState)(function(s){s.reason===CD.SHUTDOWN&&e.store(i,t._serialize(),1)})}return n.prototype.put=function(e,t){var r=new C3;r.add({lenses:t.lenses.map(function(o){return o.symbol}),dispose:function(){}},this._fakeProvider);var i=new uG(e.getLineCount(),r);this._cache.set(e.uri.toString(),i)},n.prototype.get=function(e){var t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0},n.prototype.delete=function(e){this._cache.delete(e.uri.toString())},n.prototype._serialize=function(){var e=Object.create(null);return this._cache.forEach(function(t,r){for(var i=new Set,o=0,s=t.data.lenses;o<s.length;o++){var a=s[o];i.add(a.symbol.range.startLineNumber)}e[r]={lineCount:t.lineCount,lines:L6(i)}}),JSON.stringify(e)},n.prototype._deserialize=function(e){try{var t=JSON.parse(e);for(var r in t){for(var i=t[r],o=[],s=0,a=i.lines;s<a.length;s++){var u=a[s];o.push({range:new H(u,1,u,11)})}var l=new C3;l.add({lenses:o,dispose:function(){}},this._fakeProvider),this._cache.set(r,new uG(i.lineCount,l))}}catch{}},n=v5e([m5e(0,Wh)],n),n}();EC(Fre,_5e);var y5e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Mk=function(n,e){return function(t,r){e(t,r,n)}},b5e=function(){function n(e,t,r,i){var o=this;this._editor=e,this._commandService=t,this._notificationService=r,this._codeLensCache=i,this._globalToDispose=new Be,this._localToDispose=new Be,this._lenses=[],this._oldCodeLensModels=new Be,this._modelChangeCounter=0,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose.add(this._editor.onDidChangeModel(function(){return o._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeModelLanguage(function(){return o._onModelChange()})),this._globalToDispose.add(this._editor.onDidChangeConfiguration(function(){var s=o._isEnabled;o._isEnabled=o._editor.getConfiguration().contribInfo.codeLens,s!==o._isEnabled&&o._onModelChange()})),this._globalToDispose.add(Cp.onDidChange(this._onModelChange,this)),this._onModelChange()}return n.prototype.dispose=function(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),nt(this._currentCodeLensModel)},n.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),nt(this._currentCodeLensModel)},n.prototype.getId=function(){return n.ID},n.prototype._onModelChange=function(){var e=this;this._localDispose();var t=this._editor.getModel();if(t&&this._isEnabled){var r=this._codeLensCache.get(t);if(r&&this._renderCodeLensSymbols(r),!Cp.has(t)){r&&this._localToDispose.add(Pm(function(){var c=e._codeLensCache.get(t);r===c&&(e._codeLensCache.delete(t),e._onModelChange())},30*1e3));return}for(var i=0,o=Cp.all(t);i<o.length;i++){var s=o[i];if(typeof s.onDidChange=="function"){var a=s.onDidChange(function(){return l.schedule()});this._localToDispose.add(a)}}var u=this._detectVisibleLenses=new Hr(function(){return e._onViewportChanged()},250),l=new Hr(function(){var c=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=Qr(function(h){return Mre(t,h)}),e._currentFindCodeLensSymbolsPromise.then(function(h){c===e._modelChangeCounter&&(e._currentCodeLensModel&&e._oldCodeLensModels.add(e._currentCodeLensModel),e._currentCodeLensModel=h,e._codeLensCache.put(t,h),e._renderCodeLensSymbols(h),u.schedule())},He)},250);this._localToDispose.add(l),this._localToDispose.add(u),this._localToDispose.add(this._editor.onDidChangeModelContent(function(){e._editor.changeDecorations(function(c){e._editor.changeViewZones(function(h){var d=[],p=-1;e._lenses.forEach(function(m){!m.isValid()||p===m.getLineNumber()?d.push(m):(m.update(h),p=m.getLineNumber())});var v=new Pk;d.forEach(function(m){m.dispose(v,h),e._lenses.splice(e._lenses.indexOf(m),1)}),v.commit(c)})}),u.schedule(),l.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(function(c){c.scrollTopChanged&&e._lenses.length>0&&u.schedule()})),this._localToDispose.add(this._editor.onDidLayoutChange(function(){u.schedule()})),this._localToDispose.add(bn(function(){if(e._editor.getModel()){var c=e3.capture(e._editor);e._editor.changeDecorations(function(h){e._editor.changeViewZones(function(d){e._disposeAllLenses(h,d)})}),c.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onDidChangeConfiguration(function(c){if(c.fontInfo)for(var h=0,d=e._lenses;h<d.length;h++){var p=d[h];p.updateHeight()}})),this._localToDispose.add(this._editor.onMouseUp(function(c){var h;if(c.target.type===9&&c.target.element&&c.target.element.tagName==="A")for(var d=0,p=e._lenses;d<p.length;d++){var v=p[d],m=v.getCommand(c.target.element);if(m){(h=e._commandService).executeCommand.apply(h,[m.id].concat(m.arguments||[])).catch(function(_){return e._notificationService.error(_)});break}}})),l.schedule()}},n.prototype._disposeAllLenses=function(e,t){var r=new Pk;this._lenses.forEach(function(i){return i.dispose(r,t)}),e&&r.commit(e),this._lenses=[]},n.prototype._renderCodeLensSymbols=function(e){var t=this;if(this._editor.hasModel()){for(var r=this._editor.getModel().getLineCount(),i=[],o,s=0,a=e.lenses;s<a.length;s++){var u=a[s],l=u.symbol.range.startLineNumber;l<1||l>r||(o&&o[o.length-1].symbol.range.startLineNumber===l?o.push(u):(o=[u],i.push(o)))}var c=e3.capture(this._editor);this._editor.changeDecorations(function(h){t._editor.changeViewZones(function(d){for(var p=new Pk,v=0,m=0;m<i.length&&v<t._lenses.length;){var _=i[m][0].symbol.range.startLineNumber,b=t._lenses[v].getLineNumber();b<_?(t._lenses[v].dispose(p,d),t._lenses.splice(v,1)):b===_?(t._lenses[v].updateCodeLensSymbols(i[m],p),m++,v++):(t._lenses.splice(v,0,new aG(i[m],t._editor,p,d,function(){return t._detectVisibleLenses&&t._detectVisibleLenses.schedule()})),v++,m++)}for(;v<t._lenses.length;)t._lenses[v].dispose(p,d),t._lenses.splice(v,1);for(;m<i.length;)t._lenses.push(new aG(i[m],t._editor,p,d,function(){return t._detectVisibleLenses&&t._detectVisibleLenses.schedule()})),m++;p.commit(h)})}),c.restore(this._editor)}},n.prototype._onViewportChanged=function(){var e=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);var t=this._editor.getModel();if(t){var r=[],i=[];this._lenses.forEach(function(o){var s=o.computeIfNecessary(t);s&&(r.push(s),i.push(o))}),r.length!==0&&(this._currentResolveCodeLensSymbolsPromise=Qr(function(o){var s=r.map(function(a,u){var l=new Array(a.length),c=a.map(function(h,d){return!h.symbol.command&&typeof h.provider.resolveCodeLens=="function"?Promise.resolve(h.provider.resolveCodeLens(t,h.symbol,o)).then(function(p){l[d]=p},Oo):(l[d]=h.symbol,Promise.resolve(void 0))});return Promise.all(c).then(function(){o.isCancellationRequested||i[u].updateCommands(l)})});return Promise.all(s)}),this._currentResolveCodeLensSymbolsPromise.then(function(){e._oldCodeLensModels.clear(),e._currentResolveCodeLensSymbolsPromise=void 0},function(o){He(o),e._currentResolveCodeLensSymbolsPromise=void 0}))}},n.ID="css.editor.codeLens",n=y5e([Mk(1,no),Mk(2,bi),Mk(3,Fre)],n),n}();Cn(b5e);function iB(n,e){switch(e===void 0&&(e=0),typeof n){case"object":return n===null?wc(349,e):Array.isArray(n)?w5e(n,e):E5e(n,e);case"string":return Bre(n,e);case"boolean":return C5e(n,e);case"number":return wc(n,e);case"undefined":return wc(0,937);default:return wc(0,617)}}function wc(n,e){return(e<<5)-e+n|0}function C5e(n,e){return wc(n?433:863,e)}function Bre(n,e){e=wc(149417,e);for(var t=0,r=n.length;t<r;t++)e=wc(n.charCodeAt(t),e);return e}function w5e(n,e){return e=wc(104579,e),n.reduce(function(t,r){return iB(r,t)},e)}function E5e(n,e){return e=wc(181387,e),Object.keys(n).sort().reduce(function(t,r){return t=Bre(r,t),iB(n[r],t)},e)}function S5e(n,e){var t=[],r=Bm.ordered(n).reverse(),i=r.map(function(o){return Promise.resolve(o.provideDocumentColors(n,e)).then(function(s){if(Array.isArray(s))for(var a=0,u=s;a<u.length;a++){var l=u[a];t.push({colorInfo:l,provider:o})}})});return Promise.all(i).then(function(){return t})}function lG(n,e,t,r){return Promise.resolve(t.provideColorPresentations(n,e,r))}Qc("_executeDocumentColorProvider",function(n,e){var t=e.resource;if(!(t instanceof Ft))throw Br();var r=n.get(ps).getModel(t);if(!r)throw Br();var i=[],o=Bm.ordered(r).reverse(),s=o.map(function(a){return Promise.resolve(a.provideDocumentColors(r,rn.None)).then(function(u){if(Array.isArray(u))for(var l=0,c=u;l<c.length;l++){var h=c[l];i.push({range:h.range,color:[h.color.red,h.color.green,h.color.blue,h.color.alpha]})}})});return Promise.all(s).then(function(){return i})});Qc("_executeColorPresentationProvider",function(n,e){var t=e.resource,r=e.color,i=e.range;if(!(t instanceof Ft)||!Array.isArray(r)||r.length!==4||!H.isIRange(i))throw Br();var o=r[0],s=r[1],a=r[2],u=r[3],l=n.get(ps).getModel(t);if(!l)throw Br();var c={range:i,color:{red:o,green:s,blue:a,alpha:u}},h=[],d=Bm.ordered(l).reverse(),p=d.map(function(v){return Promise.resolve(v.provideColorPresentations(l,c,rn.None)).then(function(m){Array.isArray(m)&&h.push.apply(h,m)})});return Promise.all(p).then(function(){return h})});var T5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),D5e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cG=function(n,e){return function(t,r){e(t,r,n)}},A5e=500,Hre=function(n){T5e(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._codeEditorService=r,o._configurationService=i,o._localToDispose=o._register(new Be),o._decorationsIds=[],o._colorDatas=new Map,o._colorDecoratorIds=[],o._decorationsTypes=new Set,o._register(t.onDidChangeModel(function(s){o._isEnabled=o.isEnabled(),o.onModelChanged()})),o._register(t.onDidChangeModelLanguage(function(s){return o.onModelChanged()})),o._register(Bm.onDidChange(function(s){return o.onModelChanged()})),o._register(t.onDidChangeConfiguration(function(s){var a=o._isEnabled;o._isEnabled=o.isEnabled(),a!==o._isEnabled&&(o._isEnabled?o.onModelChanged():o.removeAllDecorations())})),o._timeoutTimer=null,o._computePromise=null,o._isEnabled=o.isEnabled(),o.onModelChanged(),o}return e.prototype.isEnabled=function(){var t=this._editor.getModel();if(!t)return!1;var r=t.getLanguageIdentifier(),i=this._configurationService.getValue(r.language);if(i){var o=i.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getConfiguration().contribInfo.colorDecorators},e.prototype.getId=function(){return e.ID},e.get=function(t){return t.getContribution(this.ID)},e.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),n.prototype.dispose.call(this)},e.prototype.onModelChanged=function(){var t=this;if(this.stop(),!!this._isEnabled){var r=this._editor.getModel();!r||!Bm.has(r)||(this._localToDispose.add(this._editor.onDidChangeModelContent(function(i){t._timeoutTimer||(t._timeoutTimer=new Fs,t._timeoutTimer.cancelAndSet(function(){t._timeoutTimer=null,t.beginCompute()},e.RECOMPUTE_TIME))})),this.beginCompute())}},e.prototype.beginCompute=function(){var t=this;this._computePromise=Qr(function(r){var i=t._editor.getModel();return i?S5e(i,r):Promise.resolve([])}),this._computePromise.then(function(r){t.updateDecorations(r),t.updateColorDecorators(r),t._computePromise=null},He)},e.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()},e.prototype.updateDecorations=function(t){var r=this,i=t.map(function(o){return{range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:mt.EMPTY}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,i),this._colorDatas=new Map,this._decorationsIds.forEach(function(o,s){return r._colorDatas.set(o,t[s])})},e.prototype.updateColorDecorators=function(t){for(var r=this,i=[],o={},s=0;s<t.length&&i.length<A5e;s++){var a=t[s].colorInfo.color,u=a.red,l=a.green,c=a.blue,h=a.alpha,d=new yn(Math.round(u*255),Math.round(l*255),Math.round(c*255),h),p=iB(d).toString(16),v="rgba("+d.r+", "+d.g+", "+d.b+", "+d.a+")",m="colorBox-"+p;!this._decorationsTypes.has(m)&&!o[m]&&this._codeEditorService.registerDecorationType(m,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:v},dark:{before:{border:"solid 0.1em #eee"}}}),o[m]=!0,i.push({range:{startLineNumber:t[s].colorInfo.range.startLineNumber,startColumn:t[s].colorInfo.range.startColumn,endLineNumber:t[s].colorInfo.range.endLineNumber,endColumn:t[s].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(m,!0)})}this._decorationsTypes.forEach(function(_){o[_]||r._codeEditorService.removeDecorationType(_)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,i)},e.prototype.removeAllDecorations=function(){var t=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(function(r){t._codeEditorService.removeDecorationType(r)})},e.prototype.getColorData=function(t){var r=this,i=this._editor.getModel();if(!i)return null;var o=i.getDecorationsInRange(H.fromPositions(t,t)).filter(function(s){return r._colorDatas.has(s.id)});return o.length===0?null:this._colorDatas.get(o[0].id)},e.ID="editor.contrib.colorDetector",e.RECOMPUTE_TIME=1e3,e=D5e([cG(1,In),cG(2,yi)],e),e}(he);Cn(Hre);var My=function(){function n(e){this._selection=e,this._usedEndToken=null}return n._haystackHasNeedleAtOffset=function(e,t,r){if(r<0)return!1;var i=t.length,o=e.length;if(r+i>o)return!1;for(var s=0;s<i;s++){var a=e.charCodeAt(r+s),u=t.charCodeAt(s);if(a!==u&&!(a>=65&&a<=90&&a+32===u)&&!(u>=65&&u<=90&&u+32===a))return!1}return!0},n.prototype._createOperationsForBlockComment=function(e,t,r,i,o){var s=e.startLineNumber,a=e.startColumn,u=e.endLineNumber,l=e.endColumn,c=i.getLineContent(s),h=i.getLineContent(u),d=c.lastIndexOf(t,a-1+t.length),p=h.indexOf(r,l-1-r.length);if(d!==-1&&p!==-1)if(s===u){var v=c.substring(d+t.length,p);v.indexOf(r)>=0&&(d=-1,p=-1)}else{var m=c.substring(d+t.length),_=h.substring(0,p);(m.indexOf(r)>=0||_.indexOf(r)>=0)&&(d=-1,p=-1)}var b;d!==-1&&p!==-1?(d+t.length<c.length&&c.charCodeAt(d+t.length)===32&&(t=t+" "),p>0&&h.charCodeAt(p-1)===32&&(r=" "+r,p-=1),b=n._createRemoveBlockCommentOperations(new H(s,d+t.length+1,u,p+1),t,r)):(b=n._createAddBlockCommentOperations(e,t,r),this._usedEndToken=b.length===1?r:null);for(var C=0,E=b;C<E.length;C++){var S=E[C];o.addTrackedEditOperation(S.range,S.text)}},n._createRemoveBlockCommentOperations=function(e,t,r){var i=[];return H.isEmpty(e)?i.push(Pr.delete(new H(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+r.length))):(i.push(Pr.delete(new H(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(Pr.delete(new H(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+r.length)))),i},n._createAddBlockCommentOperations=function(e,t,r){var i=[];return H.isEmpty(e)?i.push(Pr.replace(new H(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+r)):(i.push(Pr.insert(new ee(e.startLineNumber,e.startColumn),t+" ")),i.push(Pr.insert(new ee(e.endLineNumber,e.endColumn)," "+r))),i},n.prototype.getEditOperations=function(e,t){var r=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(r);var o=e.getLanguageIdAtPosition(r,i),s=Ot.getComments(o);!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,e,t)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations();if(r.length===2){var i=r[0],o=r[1];return new Re(i.range.endLineNumber,i.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{var s=r[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new Re(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)}},n}(),I5e=function(){function n(e,t,r){this._selection=e,this._selectionId=null,this._tabSize=t,this._type=r,this._deltaColumn=0,this._moveEndPositionDown=!1}return n._gatherPreflightCommentStrings=function(e,t,r){e.tokenizeIfCheap(t);var i=e.getLanguageIdAtPosition(t,1),o=Ot.getComments(i),s=o?o.lineCommentToken:null;if(!s)return null;for(var a=[],u=0,l=r-t+1;u<l;u++)a[u]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a},n._analyzeLines=function(e,t,r,i){var o=!0,s;e===0?s=!0:e===1?s=!1:s=!0;for(var a=0,u=r.length;a<u;a++){var l=r[a],c=i+a,h=t.getLineContent(c),d=Ns(h);if(d===-1){l.ignore=!0,l.commentStrOffset=h.length;continue}if(o=!1,l.ignore=!1,l.commentStrOffset=d,s&&!My._haystackHasNeedleAtOffset(h,l.commentStr,d)&&(e===0?s=!1:e===1||(l.ignore=!0)),s){var p=d+l.commentStrLength;p<h.length&&h.charCodeAt(p)===32&&(l.commentStrLength+=1)}}if(e===0&&o){s=!1;for(var a=0,u=r.length;a<u;a++)r[a].ignore=!1}return{supported:!0,shouldRemoveComments:s,lines:r}},n._gatherPreflightData=function(e,t,r,i){var o=n._gatherPreflightCommentStrings(t,r,i);return o===null?{supported:!1}:n._analyzeLines(e,t,o,r)},n.prototype._executeLineComments=function(e,t,r,i){var o;r.shouldRemoveComments?o=n._createRemoveLineCommentsOperations(r.lines,i.startLineNumber):(n._normalizeInsertionPoint(e,r.lines,i.startLineNumber,this._tabSize),o=n._createAddLineCommentsOperations(r.lines,i.startLineNumber));for(var s=new ee(i.positionLineNumber,i.positionColumn),a=0,u=o.length;a<u;a++)if(t.addEditOperation(o[a].range,o[a].text),o[a].range.isEmpty()&&o[a].range.getStartPosition().equals(s)){var l=e.getLineContent(s.lineNumber);l.length+1===s.column&&(this._deltaColumn=(o[a].text||"").length)}this._selectionId=t.trackSelection(i)},n.prototype._attemptRemoveBlockComment=function(e,t,r,i){var o=t.startLineNumber,s=t.endLineNumber,a=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),u=e.getLineContent(o).lastIndexOf(r,a-1),l=e.getLineContent(s).indexOf(i,t.endColumn-1-r.length);return u!==-1&&l===-1&&(l=e.getLineContent(o).indexOf(i,u+r.length),s=o),u===-1&&l!==-1&&(u=e.getLineContent(s).lastIndexOf(r,l),o=s),t.isEmpty()&&(u===-1||l===-1)&&(u=e.getLineContent(o).indexOf(r),u!==-1&&(l=e.getLineContent(o).indexOf(i,u+r.length))),u!==-1&&e.getLineContent(o).charCodeAt(u+r.length)===32&&(r+=" "),l!==-1&&e.getLineContent(s).charCodeAt(l-1)===32&&(i=" "+i,l-=1),u!==-1&&l!==-1?My._createRemoveBlockCommentOperations(new H(o,u+r.length+1,s,l+1),r,i):null},n.prototype._executeBlockComment=function(e,t,r){e.tokenizeIfCheap(r.startLineNumber);var i=e.getLanguageIdAtPosition(r.startLineNumber,1),o=Ot.getComments(i);if(!(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)){var s=o.blockCommentStartToken,a=o.blockCommentEndToken,u=this._attemptRemoveBlockComment(e,r,s,a);if(!u){if(r.isEmpty()){var l=e.getLineContent(r.startLineNumber),c=Ns(l);c===-1&&(c=l.length),u=My._createAddBlockCommentOperations(new H(r.startLineNumber,c+1,r.startLineNumber,l.length+1),s,a)}else u=My._createAddBlockCommentOperations(new H(r.startLineNumber,e.getLineFirstNonWhitespaceColumn(r.startLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),s,a);u.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(r);for(var h=0,d=u;h<d.length;h++){var p=d[h];t.addEditOperation(p.range,p.text)}}},n.prototype.getEditOperations=function(e,t){var r=this._selection;this._moveEndPositionDown=!1,r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));var i=n._gatherPreflightData(this._type,e,r.startLineNumber,r.endLineNumber);return i.supported?this._executeLineComments(e,t,i,r):this._executeBlockComment(e,t,r)},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),new Re(r.selectionStartLineNumber,r.selectionStartColumn+this._deltaColumn,r.positionLineNumber,r.positionColumn+this._deltaColumn)},n._createRemoveLineCommentsOperations=function(e,t){for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];s.ignore||r.push(Pr.delete(new H(t+i,s.commentStrOffset+1,t+i,s.commentStrOffset+s.commentStrLength+1)))}return r},n._createAddLineCommentsOperations=function(e,t){for(var r=[],i=0,o=e.length;i<o;i++){var s=e[i];s.ignore||r.push(Pr.insert(new ee(t+i,s.commentStrOffset+1),s.commentStr+" "))}return r},n.nextVisibleColumn=function(e,t,r,i){return r?e+(t-e%t):e+i},n._normalizeInsertionPoint=function(e,t,r,i){for(var o=Number.MAX_VALUE,s,a,u=0,l=t.length;u<l;u++)if(!t[u].ignore){for(var c=e.getLineContent(r+u),h=0,d=0,p=t[u].commentStrOffset;h<o&&d<p;d++)h=n.nextVisibleColumn(h,i,c.charCodeAt(d)===9,1);h<o&&(o=h)}o=Math.floor(o/i)*i;for(var u=0,l=t.length;u<l;u++)if(!t[u].ignore){var c=e.getLineContent(r+u),h=0;for(s=0,a=t[u].commentStrOffset;h<o&&s<a;s++)h=n.nextVisibleColumn(h,i,c.charCodeAt(s)===9,1);h>o?t[u].commentStrOffset=s-1:t[u].commentStrOffset=s}},n}(),NC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oB=function(n){NC(e,n);function e(t,r){var i=n.call(this,r)||this;return i._type=t,i}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getModel(),o=[],s=r.getSelections(),a=i.getOptions(),u=0,l=s;u<l.length;u++){var c=l[u];o.push(new I5e(c,a.tabSize,this._type))}r.pushUndoStop(),r.executeCommands(this.id,o),r.pushUndoStop()}},e}(Ue),x5e=function(n){NC(e,n);function e(){return n.call(this,0,{id:"editor.action.commentLine",label:D("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2133,weight:100},menubarOpts:{menuId:14,group:"5_insert",title:D({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}return e}(oB),L5e=function(n){NC(e,n);function e(){return n.call(this,1,{id:"editor.action.addCommentLine",label:D("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2081),weight:100}})||this}return e}(oB),N5e=function(n){NC(e,n);function e(){return n.call(this,2,{id:"editor.action.removeCommentLine",label:D("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2099),weight:100}})||this}return e}(oB),O5e=function(n){NC(e,n);function e(){return n.call(this,{id:"editor.action.blockComment",label:D("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menubarOpts:{menuId:14,group:"5_insert",title:D({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=[],o=r.getSelections(),s=0,a=o;s<a.length;s++){var u=a[s];i.push(new My(u))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()}},e}(Ue);ge(x5e);ge(L5e);ge(N5e);ge(O5e);var k5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),R5e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},py=function(n,e){return function(t,r){e(t,r,n)}},Vre=function(){function n(e,t,r,i,o,s){var a=this;this._contextMenuService=t,this._contextViewService=r,this._contextKeyService=i,this._keybindingService=o,this._menuService=s,this._toDispose=new Be,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(function(u){return a._onContextMenu(u)})),this._toDispose.add(this._editor.onMouseWheel(function(u){a._contextMenuIsBeingShownCount>0&&a._contextViewService.hideContextView()})),this._toDispose.add(this._editor.onKeyDown(function(u){u.keyCode===58&&(u.preventDefault(),u.stopPropagation(),a.showContextMenu())}))}return n.get=function(e){return e.getContribution(n.ID)},n.prototype._onContextMenu=function(e){if(this._editor.hasModel()){if(!this._editor.getConfiguration().contribInfo.contextmenu){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type!==12&&(e.event.preventDefault(),!(e.target.type!==6&&e.target.type!==7&&e.target.type!==1))){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}}},n.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contribInfo.contextmenu&&this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}var t=this._getMenuActions(this._editor.getModel());t.length>0&&this._doShowContextMenu(t,e)}},n.prototype._getMenuActions=function(e){var t=[],r=this._menuService.createMenu(7,this._contextKeyService),i=r.getActions({arg:e.uri});r.dispose();for(var o=0,s=i;o<s.length;o++){var a=s[o],u=a[1];t.push.apply(t,u),t.push(new I2)}return t.pop(),t},n.prototype._doShowContextMenu=function(e,t){var r=this;if(t===void 0&&(t=null),!!this._editor.hasModel()){var i=this._editor.getConfiguration().contribInfo.hover;if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=_i(this._editor.getDomNode()),a=s.left+o.left,u=s.top+o.top+o.height;t={x:a,y:u}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return t},getActions:function(){return e},getActionViewItem:function(l){var c=r._keybindingFor(l);if(c)return new rD(l,l,{label:!0,keybinding:c.getLabel(),isMenu:!0});var h=l;return typeof h.getActionViewItem=="function"?h.getActionViewItem():new rD(l,l,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(l){return r._keybindingFor(l)},onHide:function(l){r._contextMenuIsBeingShownCount--,r._editor.focus(),r._editor.updateOptions({hover:i})}})}},n.prototype._keybindingFor=function(e){return this._keybindingService.lookupKeybinding(e.id)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()},n.ID="editor.contrib.contextmenu",n=R5e([py(1,dg),py(2,Hh),py(3,yt),py(4,Dr),py(5,ote)],n),n}(),P5e=function(n){k5e(e,n);function e(){return n.call(this,{id:"editor.action.showContextMenu",label:D("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:1092,weight:100}})||this}return e.prototype.run=function(t,r){var i=Vre.get(r);i.showContextMenu()},e}(Ue);Cn(Vre);ge(P5e);var Wre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fG=function(){function n(e){this.selections=e}return n.prototype.equals=function(e){var t=this.selections.length,r=e.selections.length;if(t!==r)return!1;for(var i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0},n}(),Ure=function(n){Wre(e,n);function e(t){var r=n.call(this)||this;return r._editor=t,r._isCursorUndo=!1,r._undoStack=[],r._prevState=r._readState(),r._register(t.onDidChangeModel(function(i){r._undoStack=[],r._prevState=null})),r._register(t.onDidChangeModelContent(function(i){r._undoStack=[],r._prevState=null})),r._register(t.onDidChangeCursorSelection(function(i){!r._isCursorUndo&&r._prevState&&(r._undoStack.push(r._prevState),r._undoStack.length>50&&r._undoStack.shift()),r._prevState=r._readState()})),r}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._readState=function(){return this._editor.hasModel()?new fG(this._editor.getSelections()):null},e.prototype.getId=function(){return e.ID},e.prototype.cursorUndo=function(){if(this._editor.hasModel())for(var t=new fG(this._editor.getSelections());this._undoStack.length>0;){var r=this._undoStack.pop();if(!r.equals(t)){this._isCursorUndo=!0,this._editor.setSelections(r.selections),this._editor.revealRangeInCenterIfOutsideViewport(r.selections[0],0),this._isCursorUndo=!1;return}}},e.ID="editor.contrib.cursorUndoController",e}(he),M5e=function(n){Wre(e,n);function e(){return n.call(this,{id:"cursorUndo",label:D("cursor.undo","Soft Undo"),alias:"Soft Undo",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:2099,weight:100}})||this}return e.prototype.run=function(t,r,i){Ure.get(r).cursorUndo()},e}(Ue);Cn(Ure);ge(M5e);var F5e=function(){function n(e,t,r){this.selection=e,this.targetPosition=t,this.copy=r,this.targetSelection=null}return n.prototype.getEditOperations=function(e,t){var r=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new H(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),r),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Re(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Re(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Re(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Re(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Re(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)},n.prototype.computeCursorState=function(e,t){return this.targetSelection},n}(),B5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function mv(n){return Tt?n.altKey:n.ctrlKey}var H5e=function(n){B5e(e,n);function e(t){var r=n.call(this)||this;return r._editor=t,r._register(r._editor.onMouseDown(function(i){return r._onEditorMouseDown(i)})),r._register(r._editor.onMouseUp(function(i){return r._onEditorMouseUp(i)})),r._register(r._editor.onMouseDrag(function(i){return r._onEditorMouseDrag(i)})),r._register(r._editor.onMouseDrop(function(i){return r._onEditorMouseDrop(i)})),r._register(r._editor.onKeyDown(function(i){return r.onEditorKeyDown(i)})),r._register(r._editor.onKeyUp(function(i){return r.onEditorKeyUp(i)})),r._register(r._editor.onDidBlurEditorWidget(function(){return r.onEditorBlur()})),r._dndDecorationIds=[],r._mouseDown=!1,r._modifierPressed=!1,r._dragSelection=null,r}return e.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},e.prototype.onEditorKeyDown=function(t){this._editor.getConfiguration().dragAndDrop&&(mv(t)&&(this._modifierPressed=!0),this._mouseDown&&mv(t)&&this._editor.updateOptions({mouseStyle:"copy"}))},e.prototype.onEditorKeyUp=function(t){this._editor.getConfiguration().dragAndDrop&&(mv(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},e.prototype._onEditorMouseDown=function(t){this._mouseDown=!0},e.prototype._onEditorMouseUp=function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},e.prototype._onEditorMouseDrag=function(t){var r=t.target;if(this._dragSelection===null){var i=this._editor.getSelections()||[],o=i.filter(function(s){return r.position&&s.containsPosition(r.position)});if(o.length===1)this._dragSelection=o[0];else return}mv(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),r.position&&(this._dragSelection.containsPosition(r.position)?this._removeDecoration():this.showAt(r.position))},e.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var r=new ee(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){var i=null;if(t.event.shiftKey){var o=this._editor.getSelection();if(o){var s=o.selectionStartLineNumber,a=o.selectionStartColumn;i=[new Re(s,a,r.lineNumber,r.column)]}}else i=(this._editor.getSelections()||[]).map(function(u){return u.containsPosition(r)?new Re(r.lineNumber,r.column,r.lineNumber,r.column):u});this._editor.setSelections(i||[],"mouse")}else(!this._dragSelection.containsPosition(r)||(mv(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(r)||this._dragSelection.getStartPosition().equals(r)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new F5e(this._dragSelection,r,mv(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},e.prototype.showAt=function(t){var r=[{range:new H(t.lineNumber,t.column,t.lineNumber,t.column),options:e._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,r),this._editor.revealPosition(t,1)},e.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},e.prototype._hitContent=function(t){return t.type===6||t.type===7},e.prototype._hitMargin=function(t){return t.type===2||t.type===3||t.type===4},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,n.prototype.dispose.call(this)},e.ID="editor.contrib.dragAndDrop",e.TRIGGER_KEY_VALUE=Tt?6:5,e._DECORATION_OPTIONS=mt.register({className:"dnd-target"}),e}(he);Cn(H5e);var V5e=function(){function n(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return n.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},n.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},n.prototype.getCount=function(){return this._decorations.length},n.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},n.prototype.getStartPosition=function(){return this._startPosition},n.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},n.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},n.prototype.getCurrentMatchesPosition=function(e){for(var t=this._editor.getModel().getDecorationsInRange(e),r=0,i=t;r<i.length;r++){var o=i[r],s=o.options;if(s===n._FIND_MATCH_DECORATION||s===n._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 1},n.prototype.setCurrentFindMatch=function(e){var t=this,r=null,i=0;if(e)for(var o=0,s=this._decorations.length;o<s;o++){var a=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(a)){r=this._decorations[o],i=o+1;break}}return(this._highlightedDecorationId!==null||r!==null)&&this._editor.changeDecorations(function(u){if(t._highlightedDecorationId!==null&&(u.changeDecorationOptions(t._highlightedDecorationId,n._FIND_MATCH_DECORATION),t._highlightedDecorationId=null),r!==null&&(t._highlightedDecorationId=r,u.changeDecorationOptions(t._highlightedDecorationId,n._CURRENT_FIND_MATCH_DECORATION)),t._rangeHighlightDecorationId!==null&&(u.removeDecoration(t._rangeHighlightDecorationId),t._rangeHighlightDecorationId=null),r!==null){var l=t._editor.getModel().getDecorationRange(r);if(l.startLineNumber!==l.endLineNumber&&l.endColumn===1){var c=l.endLineNumber-1,h=t._editor.getModel().getLineMaxColumn(c);l=new H(l.startLineNumber,l.startColumn,c,h)}t._rangeHighlightDecorationId=u.addDecoration(l,n._RANGE_HIGHLIGHT_DECORATION)}}),i},n.prototype.set=function(e,t){var r=this;this._editor.changeDecorations(function(i){var o=n._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){o=n._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var a=r._editor.getModel().getLineCount(),u=r._editor.getLayoutInfo().height,l=u/a,c=Math.max(2,Math.ceil(3/l)),h=e[0].range.startLineNumber,d=e[0].range.endLineNumber,p=1,v=e.length;p<v;p++){var m=e[p].range;d+c>=m.startLineNumber?m.endLineNumber>d&&(d=m.endLineNumber):(s.push({range:new H(h,1,d,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),h=m.startLineNumber,d=m.endLineNumber)}s.push({range:new H(h,1,d,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var _=new Array(e.length),p=0,v=e.length;p<v;p++)_[p]={range:e[p].range,options:o};r._decorations=i.deltaDecorations(r._decorations,_),r._overviewRulerApproximateDecorations=i.deltaDecorations(r._overviewRulerApproximateDecorations,s),r._rangeHighlightDecorationId&&(i.removeDecoration(r._rangeHighlightDecorationId),r._rangeHighlightDecorationId=null),r._findScopeDecorationId&&(i.removeDecoration(r._findScopeDecorationId),r._findScopeDecorationId=null),t&&(r._findScopeDecorationId=i.addDecoration(t,n._FIND_SCOPE_DECORATION))})},n.prototype.matchBeforePosition=function(e){if(this._decorations.length===0)return null;for(var t=this._decorations.length-1;t>=0;t--){var r=this._decorations[t],i=this._editor.getModel().getDecorationRange(r);if(!(!i||i.endLineNumber>e.lineNumber)){if(i.endLineNumber<e.lineNumber)return i;if(!(i.endColumn>e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},n.prototype.matchAfterPosition=function(e){if(this._decorations.length===0)return null;for(var t=0,r=this._decorations.length;t<r;t++){var i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])},n.prototype._allDecorations=function(){var e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},n._CURRENT_FIND_MATCH_DECORATION=mt.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:ia(rk),position:da.Center},minimap:{color:ia(tz),position:MT.Inline}}),n._FIND_MATCH_DECORATION=mt.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:ia(rk),position:da.Center},minimap:{color:ia(tz),position:MT.Inline}}),n._FIND_MATCH_NO_OVERVIEW_DECORATION=mt.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),n._FIND_MATCH_ONLY_OVERVIEW_DECORATION=mt.register({stickiness:1,overviewRuler:{color:ia(rk),position:da.Center}}),n._RANGE_HIGHLIGHT_DECORATION=mt.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),n._FIND_SCOPE_DECORATION=mt.register({className:"findScope",isWholeLine:!0}),n}(),W5e=function(){function n(e,t,r){this._editorSelection=e,this._ranges=t,this._replaceStrings=r,this._trackedEditorSelectionId=null}return n.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var r=[],i=0;i<this._ranges.length;i++)r.push({range:this._ranges[i],text:this._replaceStrings[i]});r.sort(function(c,h){return H.compareRangesUsingStarts(c.range,h.range)});for(var o=[],s=r[0],i=1;i<r.length;i++)s.range.endLineNumber===r[i].range.startLineNumber&&s.range.endColumn===r[i].range.startColumn?(s.range=s.range.plusRange(r[i].range),s.text=s.text+r[i].text):(o.push(s),s=r[i]);o.push(s);for(var a=0,u=o;a<u.length;a++){var l=u[a];t.addEditOperation(l.range,l.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},n}();function jre(n,e){return n&&n[0]!==""?n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():CAe(n[0][0])?U5e(n,e,"-")?j5e(n,e,"-"):e[0].toUpperCase()+e.substr(1):e:e}function U5e(n,e,t){var r=n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1;return r&&n[0].split(t).length===e.split(t).length}function j5e(n,e,t){var r=e.split(t),i=n[0].split(t),o="";return r.forEach(function(s,a){o+=jre([i[a]],s)+t}),o.slice(0,-1)}var hG=function(){function n(e){this.staticValue=e,this.kind=0}return n}(),q5e=function(){function n(e){this.pieces=e,this.kind=1}return n}(),sB=function(){function n(e){!e||e.length===0?this._state=new hG(""):e.length===1&&e[0].staticValue!==null?this._state=new hG(e[0].staticValue):this._state=new q5e(e)}return n.fromStaticValue=function(e){return new n([US.staticValue(e)])},Object.defineProperty(n.prototype,"hasReplacementPatterns",{get:function(){return this._state.kind===1},enumerable:!0,configurable:!0}),n.prototype.buildReplaceString=function(e,t){if(this._state.kind===0)return t?jre(e,this._state.staticValue):this._state.staticValue;for(var r="",i=0,o=this._state.pieces.length;i<o;i++){var s=this._state.pieces[i];if(s.staticValue!==null){r+=s.staticValue;continue}r+=n._substitute(s.matchIndex,e)}return r},n._substitute=function(e,t){if(t===null)return"";if(e===0)return t[0];for(var r="";e>0;){if(e<t.length){var i=t[e]||"";return i+r}r=String(e%10)+r,e=Math.floor(e/10)}return"$"+r},n}(),US=function(){function n(e,t){this.staticValue=e,this.matchIndex=t}return n.staticValue=function(e){return new n(e,-1)},n.matchIndex=function(e){return new n(null,e)},n}(),z5e=function(){function n(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return n.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},n.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},n.prototype._emitStatic=function(e){e.length!==0&&(this._currentStaticPiece+=e)},n.prototype.emitMatchIndex=function(e,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=US.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=US.matchIndex(e),this._lastCharIndex=t},n.prototype.finalize=function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=US.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new sB(this._result)},n}();function G5e(n){if(!n||n.length===0)return new sB(null);for(var e=new z5e(n),t=0,r=n.length;t<r;t++){var i=n.charCodeAt(t);if(i===92){if(t++,t>=r)break;var o=n.charCodeAt(t);switch(o){case 92:e.emitUnchanged(t-1),e.emitStatic("\\",t+1);break;case 110:e.emitUnchanged(t-1),e.emitStatic(`
`,t+1);break;case 116:e.emitUnchanged(t-1),e.emitStatic("	",t+1);break}continue}if(i===36){if(t++,t>=r)break;var o=n.charCodeAt(t);if(o===36){e.emitUnchanged(t-1),e.emitStatic("$",t+1);continue}if(o===48||o===38){e.emitUnchanged(t-1),e.emitMatchIndex(0,t+1);continue}if(49<=o&&o<=57){var s=o-48;if(t+1<r){var a=n.charCodeAt(t+1);if(48<=a&&a<=57){t++,s=s*10+(a-48),e.emitUnchanged(t-2),e.emitMatchIndex(s,t+1);continue}}e.emitUnchanged(t-1),e.emitMatchIndex(s,t+1);continue}}}return e.finalize()}var vg=new Ke("findWidgetVisible",!1),H2=new Ke("findInputFocussed",!1),aB=new Ke("replaceInputFocussed",!1),GE={primary:545,mac:{primary:2593}},$E={primary:565,mac:{primary:2613}},KE={primary:560,mac:{primary:2608}},YE={primary:554,mac:{primary:2602}},ln={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},up=19999,$5e=240,K5e=function(){function n(e,t){var r=this;this._toDispose=new Be,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Fs,this._decorations=new V5e(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Hr(function(){return r.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(i){(i.reason===3||i.reason===5||i.reason===6)&&r._decorations.setStartPosition(r._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(i){r._ignoreModelContentChanged||(i.isFlush&&r._decorations.reset(),r._decorations.setStartPosition(r._editor.getPosition()),r._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(function(i){return r._onStateChanged(i)})),this.research(!1,this._state.searchScope)}return n.prototype.dispose=function(){this._isDisposed=!0,nt(this._startSearchingTimer),this._toDispose.dispose()},n.prototype._onStateChanged=function(e){var t=this;if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){var r=this._editor.getModel();r.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)},$5e)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}},n._getSearchRange=function(e,t){return t||e.getFullModelRange()},n.prototype.research=function(e,t){var r=null;typeof t<"u"?r=t:r=this._decorations.getFindScope(),r!==null&&r.startLineNumber!==r.endLineNumber&&(r.endColumn===1?r=new H(r.startLineNumber,1,r.endLineNumber-1,this._editor.getModel().getLineMaxColumn(r.endLineNumber-1)):r=new H(r.startLineNumber,1,r.endLineNumber,this._editor.getModel().getLineMaxColumn(r.endLineNumber)));var i=this._findMatches(r,!1,up);this._decorations.set(i,r),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},n.prototype._hasMatches=function(){return this._state.matchesCount>0},n.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},n.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},n.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),r=e.lineNumber,i=e.column,o=this._editor.getModel();return t||i===1?(r===1?r=o.getLineCount():r--,i=o.getLineMaxColumn(r)):i--,new ee(r,i)},n.prototype._moveToPrevMatch=function(e,t){if(t===void 0&&(t=!1),this._decorations.getCount()<up){var r=this._decorations.matchBeforePosition(e);r&&r.isEmpty()&&r.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),r=this._decorations.matchBeforePosition(e)),r&&this._setCurrentFindMatch(r);return}if(!this._cannotFind()){var i=this._decorations.getFindScope(),o=n._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(e)&&(e=o.getEndPosition()),e.isBefore(o.getStartPosition())&&(e=o.getEndPosition());var s=e.lineNumber,a=e.column,u=this._editor.getModel(),l=new ee(s,a),c=u.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=u.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1)),!!c){if(!t&&!o.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}},n.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},n.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),r=e.lineNumber,i=e.column,o=this._editor.getModel();return t||i===o.getLineMaxColumn(r)?(r===o.getLineCount()?r=1:r++,i=1):i++,new ee(r,i)},n.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<up){var t=this._decorations.matchAfterPosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),t&&this._setCurrentFindMatch(t);return}var r=this._getNextMatch(e,!1,!0);r&&this._setCurrentFindMatch(r.range)},n.prototype._getNextMatch=function(e,t,r,i){if(i===void 0&&(i=!1),this._cannotFind())return null;var o=this._decorations.getFindScope(),s=n._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());var a=e.lineNumber,u=e.column,l=this._editor.getModel(),c=new ee(a,u),h=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t);return r&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),h=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t)),h?!i&&!s.containsRange(h.range)?this._getNextMatch(h.range.getEndPosition(),t,r,!0):h:null},n.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},n.prototype._getReplacePattern=function(){return this._state.isRegex?G5e(this._state.replaceString):sB.fromStaticValue(this._state.replaceString)},n.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),r=this._getNextMatch(t.getStartPosition(),!0,!1);if(r)if(t.equalsRange(r.range)){var i=e.buildReplaceString(r.matches,this._state.preserveCase),o=new kr(t,i);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new ee(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}},n.prototype._findMatches=function(e,t,r){var i=n._getSearchRange(this._editor.getModel(),e);return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t,r)},n.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();e===null&&this._state.matchesCount>=up?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},n.prototype._largeReplaceAll=function(){var e=new qd(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null),t=e.parseSearchRequest();if(t){var r=t.regex;if(!r.multiline){var i="m";r.ignoreCase&&(i+="i"),r.global&&(i+="g"),r=new RegExp(r.source,i)}var o=this._editor.getModel(),s=o.getValue(1),a=o.getFullModelRange(),u=this._getReplacePattern(),l,c=this._state.preserveCase;u.hasReplacementPatterns||c?l=s.replace(r,function(){return u.buildReplaceString(arguments,c)}):l=s.replace(r,u.buildReplaceString(null,c));var h=new ZT(a,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",h)}},n.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),r=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),i=[],o=0,s=r.length;o<s;o++)i[o]=t.buildReplaceString(r[o].matches,this._state.preserveCase);var a=new W5e(this._editor.getSelection(),r.map(function(u){return u.range}),i);this._executeEditorCommand("replaceAll",a)},n.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824),r=t.map(function(u){return new Re(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn)}),i=this._editor.getSelection(),o=0,s=r.length;o<s;o++){var a=r[o];if(a.equalsRange(i)){r=[i].concat(r.slice(0,o)).concat(r.slice(o+1));break}}this._editor.setSelections(r)}},n.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},n}(),Y5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X5e={inputActiveOptionBorder:ae.fromHex("#007ACC00"),inputActiveOptionBackground:ae.fromHex("#0E639C50")},V2=function(n){Y5e(e,n);function e(t){var r=n.call(this)||this;return r._onChange=r._register(new Q),r.onChange=r._onChange.event,r._onKeyDown=r._register(new Q),r.onKeyDown=r._onKeyDown.event,r._opts=mc(t),$r(r._opts,X5e,!1),r._checked=r._opts.isChecked,r.domNode=document.createElement("div"),r.domNode.title=r._opts.title,r.domNode.className="monaco-custom-checkbox "+(r._opts.actionClassName||"")+" "+(r._checked?"checked":"unchecked"),r.domNode.tabIndex=0,r.domNode.setAttribute("role","checkbox"),r.domNode.setAttribute("aria-checked",String(r._checked)),r.domNode.setAttribute("aria-label",r._opts.title),r.applyStyles(),r.onclick(r.domNode,function(i){r.checked=!r._checked,r._onChange.fire(!1),i.preventDefault()}),r.onkeydown(r.domNode,function(i){if(i.keyCode===10||i.keyCode===3){r.checked=!r._checked,r._onChange.fire(!0),i.preventDefault();return}r._onKeyDown.fire(i)}),r}return e.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),e.prototype.width=function(){return 22},e.prototype.style=function(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()},e.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")},e.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},e.prototype.disable=function(){y6(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},e}(gs),uB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Q5e=D("caseDescription","Match Case"),Z5e=D("wordsDescription","Match Whole Word"),J5e=D("regexDescription","Use Regular Expression"),qre=function(n){uB(e,n);function e(t){return n.call(this,{actionClassName:"monaco-case-sensitive",title:Q5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return e}(V2),zre=function(n){uB(e,n);function e(t){return n.call(this,{actionClassName:"monaco-whole-word",title:Z5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return e}(V2),Gre=function(n){uB(e,n);function e(t){return n.call(this,{actionClassName:"monaco-regex",title:J5e+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return e}(V2),eBe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tBe=function(n){eBe(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._hideSoon=s._register(new Hr(function(){return s._hide()},2e3)),s._isVisible=!1,s._editor=t,s._state=r,s._keybindingService=i,s._domNode=document.createElement("div"),s._domNode.className="findOptionsWidget",s._domNode.style.display="none",s._domNode.style.top="10px",s._domNode.setAttribute("role","presentation"),s._domNode.setAttribute("aria-hidden","true");var a=o.getTheme().getColor(KT),u=o.getTheme().getColor(YT);return s.caseSensitive=s._register(new qre({appendTitle:s._keybindingLabelFor(ln.ToggleCaseSensitiveCommand),isChecked:s._state.matchCase,inputActiveOptionBorder:a,inputActiveOptionBackground:u})),s._domNode.appendChild(s.caseSensitive.domNode),s._register(s.caseSensitive.onChange(function(){s._state.change({matchCase:s.caseSensitive.checked},!1)})),s.wholeWords=s._register(new zre({appendTitle:s._keybindingLabelFor(ln.ToggleWholeWordCommand),isChecked:s._state.wholeWord,inputActiveOptionBorder:a,inputActiveOptionBackground:u})),s._domNode.appendChild(s.wholeWords.domNode),s._register(s.wholeWords.onChange(function(){s._state.change({wholeWord:s.wholeWords.checked},!1)})),s.regex=s._register(new Gre({appendTitle:s._keybindingLabelFor(ln.ToggleRegexCommand),isChecked:s._state.isRegex,inputActiveOptionBorder:a,inputActiveOptionBackground:u})),s._domNode.appendChild(s.regex.domNode),s._register(s.regex.onChange(function(){s._state.change({isRegex:s.regex.checked},!1)})),s._editor.addOverlayWidget(s),s._register(s._state.onFindReplaceStateChange(function(l){var c=!1;l.isRegex&&(s.regex.checked=s._state.isRegex,c=!0),l.wholeWord&&(s.wholeWords.checked=s._state.wholeWord,c=!0),l.matchCase&&(s.caseSensitive.checked=s._state.matchCase,c=!0),!s._state.isRevealed&&c&&s._revealTemporarily()})),s._register(v6(s._domNode,function(l){return s._onMouseOut()})),s._register(ye(s._domNode,"mouseover",function(l){return s._onMouseOver()})),s._applyTheme(o.getTheme()),s._register(o.onThemeChange(s._applyTheme.bind(s))),s}return e.prototype._keybindingLabelFor=function(t){var r=this._keybindingService.lookupKeybinding(t);return r?" ("+r.getLabel()+")":""},e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:0}},e.prototype.highlightFindOptions=function(){this._revealTemporarily()},e.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},e.prototype._onMouseOut=function(){this._hideSoon.schedule()},e.prototype._onMouseOver=function(){this._hideSoon.cancel()},e.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},e.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype._applyTheme=function(t){var r={inputActiveOptionBorder:t.getColor(KT),inputActiveOptionBackground:t.getColor(YT)};this.caseSensitive.style(r),this.wholeWords.style(r),this.regex.style(r)},e.ID="editor.contrib.findOptionsWidget",e}(gs);mn(function(n,e){var t=n.getColor(yl);t&&e.addRule(".monaco-editor .findOptionsWidget { background-color: "+t+"; }");var r=n.getColor(hg);r&&e.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+r+"; }");var i=n.getColor(Wr);i&&e.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+i+"; }")});function XE(n,e){return n===1?!0:n===2?!1:e}var nBe=function(){function n(){this._onFindReplaceStateChange=new Q,this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null}return Object.defineProperty(n.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRegex",{get:function(){return XE(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wholeWord",{get:function(){return XE(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchCase",{get:function(){return XE(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preserveCase",{get:function(){return XE(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n.prototype.changeMatchInfo=function(e,t,r){var i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,i.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,i.matchesCount=!0,o=!0),typeof r<"u"&&(H.equalsRange(this._currentMatch,r)||(this._currentMatch=r,i.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(i)},n.prototype.change=function(e,t,r){r===void 0&&(r=!0);var i={moveCursor:t,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1,s=this.isRegex,a=this.wholeWord,u=this.matchCase,l=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,i.searchString=!0,o=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,i.replaceString=!0,o=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,i.isRevealed=!0,o=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,i.isReplaceRevealed=!0,o=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(H.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,i.searchScope=!0,o=!0)),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,s!==this.isRegex&&(o=!0,i.isRegex=!0),a!==this.wholeWord&&(o=!0,i.wholeWord=!0),u!==this.matchCase&&(o=!0,i.matchCase=!0),l!==this.preserveCase&&(o=!0,i.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(i)},n}();function rBe(n,e){e===void 0&&(e={});var t=lB(e);return t.textContent=n,t}function $re(n,e){e===void 0&&(e={});var t=lB(e);return Kre(t,oBe(n),e.actionHandler),t}function lB(n){var e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}var iBe=function(){function n(e){this.source=e,this.index=0}return n.prototype.eos=function(){return this.index>=this.source.length},n.prototype.next=function(){var e=this.peek();return this.advance(),e},n.prototype.peek=function(){return this.source[this.index]},n.prototype.advance=function(){this.index++},n}();function Kre(n,e,t){var r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===5&&t){var i=document.createElement("a");i.href="#",t.disposeables.add(mi(i,"click",function(o){t.callback(String(e.index),o)})),r=i}else e.type===7?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(function(o){Kre(r,o,t)})}function oBe(n){for(var e={type:1,children:[]},t=0,r=e,i=[],o=new iBe(n);!o.eos();){var s=o.next(),a=s==="\\"&&w3(o.peek())!==0;if(a&&(s=o.next()),!a&&sBe(s)&&s===o.peek()){o.advance(),r.type===2&&(r=i.pop());var u=w3(s);if(r.type===u||r.type===5&&u===6)r=i.pop();else{var l={type:u,children:[]};u===5&&(l.index=t,t++),r.children.push(l),i.push(r),r=l}}else if(s===`
`)r.type===2&&(r=i.pop()),r.children.push({type:7});else if(r.type!==2){var c={type:2,content:s};r.children.push(c),i.push(r),r=c}else r.content+=s}return r.type===2&&(r=i.pop()),e}function sBe(n){return w3(n)!==0}function w3(n){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}var aBe=function(){function n(e,t){e===void 0&&(e=[]),t===void 0&&(t=10),this._initialize(e),this._limit=t,this._onChange()}return n.prototype.add=function(e){this._history.delete(e),this._history.add(e),this._onChange()},n.prototype.next=function(){return this._navigator.next()},n.prototype.previous=function(){return this._navigator.previous()},n.prototype.current=function(){return this._navigator.current()},n.prototype.parent=function(){return null},n.prototype.first=function(){return this._navigator.first()},n.prototype.last=function(){return this._navigator.last()},n.prototype.has=function(e){return this._history.has(e)},n.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new cDe(this._elements,0,this._elements.length,this._elements.length)},n.prototype._reduceToLimit=function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))},n.prototype._initialize=function(e){this._history=new Set;for(var t=0,r=e;t<r.length;t++){var i=r[t];this._history.add(i)}},Object.defineProperty(n.prototype,"_elements",{get:function(){var e=[];return this._history.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),n}(),Yre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gy=We,uBe={inputBackground:ae.fromHex("#3C3C3C"),inputForeground:ae.fromHex("#CCCCCC"),inputValidationInfoBorder:ae.fromHex("#55AAFF"),inputValidationInfoBackground:ae.fromHex("#063B49"),inputValidationWarningBorder:ae.fromHex("#B89500"),inputValidationWarningBackground:ae.fromHex("#352A05"),inputValidationErrorBorder:ae.fromHex("#BE1100"),inputValidationErrorBackground:ae.fromHex("#5A1D1D")},Xre=function(n){Yre(e,n);function e(t,r,i){var o=n.call(this)||this;o.state="idle",o.maxHeight=Number.POSITIVE_INFINITY,o._onDidChange=o._register(new Q),o.onDidChange=o._onDidChange.event,o._onDidHeightChange=o._register(new Q),o.onDidHeightChange=o._onDidHeightChange.event,o.contextViewProvider=r,o.options=i||Object.create(null),$r(o.options,uBe,!1),o.message=null,o.placeholder=o.options.placeholder||"",o.ariaLabel=o.options.ariaLabel||"",o.inputBackground=o.options.inputBackground,o.inputForeground=o.options.inputForeground,o.inputBorder=o.options.inputBorder,o.inputValidationInfoBorder=o.options.inputValidationInfoBorder,o.inputValidationInfoBackground=o.options.inputValidationInfoBackground,o.inputValidationInfoForeground=o.options.inputValidationInfoForeground,o.inputValidationWarningBorder=o.options.inputValidationWarningBorder,o.inputValidationWarningBackground=o.options.inputValidationWarningBackground,o.inputValidationWarningForeground=o.options.inputValidationWarningForeground,o.inputValidationErrorBorder=o.options.inputValidationErrorBorder,o.inputValidationErrorBackground=o.options.inputValidationErrorBackground,o.inputValidationErrorForeground=o.options.inputValidationErrorForeground,o.options.validationOptions&&(o.validation=o.options.validationOptions.validation),o.element=Ee(t,gy(".monaco-inputbox.idle"));var s=o.options.flexibleHeight?"textarea":"input",a=Ee(o.element,gy(".wrapper"));if(o.input=Ee(a,gy(s+".input")),o.input.setAttribute("autocorrect","off"),o.input.setAttribute("autocapitalize","off"),o.input.setAttribute("spellcheck","false"),o.onfocus(o.input,function(){return De(o.element,"synthetic-focus")}),o.onblur(o.input,function(){return st(o.element,"synthetic-focus")}),o.options.flexibleHeight){o.maxHeight=typeof o.options.flexibleMaxHeight=="number"?o.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,o.mirror=Ee(a,gy("div.mirror")),o.mirror.innerHTML="&nbsp;",o.scrollableElement=new yC(o.element,{vertical:1}),o.options.flexibleWidth&&(o.input.setAttribute("wrap","off"),o.mirror.style.whiteSpace="pre",o.mirror.style.wordWrap="initial"),Ee(t,o.scrollableElement.getDomNode()),o._register(o.scrollableElement),o._register(o.scrollableElement.onScroll(function(l){return o.input.scrollTop=l.scrollTop}));var u=Ze.filter(Nt(document,"selectionchange"),function(){var l=document.getSelection();return!!l&&l.anchorNode===a});o._register(u(o.updateScrollDimensions,o)),o._register(o.onDidHeightChange(o.updateScrollDimensions,o))}else o.input.type=o.options.type||"text",o.input.setAttribute("wrap","off");return o.ariaLabel&&o.input.setAttribute("aria-label",o.ariaLabel),o.placeholder&&o.setPlaceHolder(o.placeholder),o.oninput(o.input,function(){return o.onValueChange()}),o.onblur(o.input,function(){return o.onBlur()}),o.onfocus(o.input,function(){return o.onFocus()}),o.placeholder&&Ls&&o.onclick(o.input,function(l){Sn.stop(l,!0),o.input.focus()}),setTimeout(function(){o.input&&o.updateMirror()},0),o.options.actions&&(o.actionbar=o._register(new SC(o.element)),o.actionbar.push(o.options.actions,{icon:!0,label:!1})),o.applyStyles(),o}return e.prototype.onBlur=function(){this._hideMessage()},e.prototype.onFocus=function(){this._showMessage()},e.prototype.setPlaceHolder=function(t){this.input&&(this.input.setAttribute("placeholder",t),this.input.title=t)},e.prototype.setAriaLabel=function(t){this.ariaLabel=t,this.input&&(t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},Object.defineProperty(e.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return typeof this.cachedHeight=="number"?this.cachedHeight:wM(this.element)},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.blur=function(){this.input.blur()},e.prototype.hasFocus=function(){return document.activeElement===this.input},e.prototype.select=function(t){t===void 0&&(t=null),this.input.select(),t&&this.input.setSelectionRange(t.start,t.end)},e.prototype.enable=function(){this.input.removeAttribute("disabled")},e.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},Object.defineProperty(e.prototype,"width",{get:function(){return uu(this.input)},set:function(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){var r=0;if(this.mirror){var i=parseFloat(this.mirror.style.paddingLeft||"")||0,o=parseFloat(this.mirror.style.paddingRight||"")||0;r=i+o}this.input.style.width=t-r+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{set:function(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width="calc(100% - "+t+"px)":this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")},enumerable:!0,configurable:!0}),e.prototype.updateScrollDimensions=function(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number")){var t=this.cachedContentHeight,r=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:r}),this.scrollableElement.setScrollPosition({scrollTop:i})}},e.prototype.showMessage=function(t,r){this.message=t,st(this.element,"idle"),st(this.element,"info"),st(this.element,"warning"),st(this.element,"error"),De(this.element,this.classForType(t.type));var i=this.stylesForType(this.message.type);this.element.style.border=i.border?"1px solid "+i.border:null;var o;t.type===3?o=D("alertErrorMessage","Error: {0}",t.content):t.type===2?o=D("alertWarningMessage","Warning: {0}",t.content):o=D("alertInfoMessage","Info: {0}",t.content),Ki(o),(this.hasFocus()||r)&&this._showMessage()},e.prototype.hideMessage=function(){this.message=null,st(this.element,"info"),st(this.element,"warning"),st(this.element,"error"),De(this.element,"idle"),this._hideMessage(),this.applyStyles()},e.prototype.validate=function(){var t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!t},e.prototype.stylesForType=function(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},e.prototype.classForType=function(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}},e.prototype._showMessage=function(){var t=this;if(!(!this.contextViewProvider||!this.message)){var r,i=function(){return r.style.width=uu(t.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return t.element},anchorAlignment:1,render:function(o){if(!t.message)return null;r=Ee(o,gy(".monaco-inputbox-container")),i();var s={inline:!0,className:"monaco-inputbox-message"},a=t.message.formatContent?$re(t.message.content,s):rBe(t.message.content,s);De(a,t.classForType(t.message.type));var u=t.stylesForType(t.message.type);return a.style.backgroundColor=u.background?u.background.toString():null,a.style.color=u.foreground?u.foreground.toString():null,a.style.border=u.border?"1px solid "+u.border:null,Ee(r,a),null},onHide:function(){t.state="closed"},layout:i}),this.state="open"}},e.prototype._hideMessage=function(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")},e.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()},e.prototype.updateMirror=function(){if(this.mirror){var t=this.value||this.placeholder,r=t.charCodeAt(t.length-1),i=r===10?" ":"",o=t+i;o?this.mirror.textContent=t+i:this.mirror.innerHTML="&nbsp;",this.layout()}},e.prototype.style=function(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var t=this.inputBackground?this.inputBackground.toString():null,r=this.inputForeground?this.inputForeground.toString():null,i=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=t,this.element.style.color=r,this.input.style.backgroundColor=t,this.input.style.color=r,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.borderColor=i}},e.prototype.layout=function(){if(this.mirror){var t=this.cachedContentHeight;this.cachedContentHeight=wM(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}},e.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=void 0,this.message=null,this.validation=void 0,this.state=null,this.actionbar=void 0,n.prototype.dispose.call(this)},e}(gs),Qre=function(n){Yre(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.history=new aBe(i.history,100),o}return e.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},e.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,Aq(this.value))},e.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,Aq(this.value))},e.prototype.getCurrentValue=function(){var t=this.history.current();return t||(t=this.history.last(),this.history.next()),t},e.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},e.prototype.getNextValue=function(){return this.history.next()||this.history.last()},e}(Xre),lBe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cBe=D("defaultLabel","input"),fBe=function(n){lBe(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._showOptionButtons=i,s.fixFocusOnOptionClickEnabled=!0,s._onDidOptionChange=s._register(new Q),s.onDidOptionChange=s._onDidOptionChange.event,s._onKeyDown=s._register(new Q),s.onKeyDown=s._onKeyDown.event,s._onMouseDown=s._register(new Q),s.onMouseDown=s._onMouseDown.event,s._onInput=s._register(new Q),s._onKeyUp=s._register(new Q),s._onCaseSensitiveKeyDown=s._register(new Q),s.onCaseSensitiveKeyDown=s._onCaseSensitiveKeyDown.event,s._onRegexKeyDown=s._register(new Q),s.onRegexKeyDown=s._onRegexKeyDown.event,s._lastHighlightFindOptions=0,s.contextViewProvider=r,s.placeholder=o.placeholder||"",s.validation=o.validation,s.label=o.label||cBe,s.inputActiveOptionBorder=o.inputActiveOptionBorder,s.inputActiveOptionBackground=o.inputActiveOptionBackground,s.inputBackground=o.inputBackground,s.inputForeground=o.inputForeground,s.inputBorder=o.inputBorder,s.inputValidationInfoBorder=o.inputValidationInfoBorder,s.inputValidationInfoBackground=o.inputValidationInfoBackground,s.inputValidationInfoForeground=o.inputValidationInfoForeground,s.inputValidationWarningBorder=o.inputValidationWarningBorder,s.inputValidationWarningBackground=o.inputValidationWarningBackground,s.inputValidationWarningForeground=o.inputValidationWarningForeground,s.inputValidationErrorBorder=o.inputValidationErrorBorder,s.inputValidationErrorBackground=o.inputValidationErrorBackground,s.inputValidationErrorForeground=o.inputValidationErrorForeground;var a=o.appendCaseSensitiveLabel||"",u=o.appendWholeWordsLabel||"",l=o.appendRegexLabel||"",c=o.history||[],h=!!o.flexibleHeight,d=!!o.flexibleWidth,p=o.flexibleMaxHeight;s.domNode=document.createElement("div"),De(s.domNode,"monaco-findInput"),s.inputBox=s._register(new Qre(s.domNode,s.contextViewProvider,{placeholder:s.placeholder||"",ariaLabel:s.label||"",validationOptions:{validation:s.validation},inputBackground:s.inputBackground,inputForeground:s.inputForeground,inputBorder:s.inputBorder,inputValidationInfoBackground:s.inputValidationInfoBackground,inputValidationInfoForeground:s.inputValidationInfoForeground,inputValidationInfoBorder:s.inputValidationInfoBorder,inputValidationWarningBackground:s.inputValidationWarningBackground,inputValidationWarningForeground:s.inputValidationWarningForeground,inputValidationWarningBorder:s.inputValidationWarningBorder,inputValidationErrorBackground:s.inputValidationErrorBackground,inputValidationErrorForeground:s.inputValidationErrorForeground,inputValidationErrorBorder:s.inputValidationErrorBorder,history:c,flexibleHeight:h,flexibleWidth:d,flexibleMaxHeight:p})),s.regex=s._register(new Gre({appendTitle:l,isChecked:!1,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionBackground:s.inputActiveOptionBackground})),s._register(s.regex.onChange(function(_){s._onDidOptionChange.fire(_),!_&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),s._register(s.regex.onKeyDown(function(_){s._onRegexKeyDown.fire(_)})),s.wholeWords=s._register(new zre({appendTitle:u,isChecked:!1,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionBackground:s.inputActiveOptionBackground})),s._register(s.wholeWords.onChange(function(_){s._onDidOptionChange.fire(_),!_&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),s.caseSensitive=s._register(new qre({appendTitle:a,isChecked:!1,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionBackground:s.inputActiveOptionBackground})),s._register(s.caseSensitive.onChange(function(_){s._onDidOptionChange.fire(_),!_&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),s._register(s.caseSensitive.onKeyDown(function(_){s._onCaseSensitiveKeyDown.fire(_)})),s._showOptionButtons&&(s.inputBox.paddingRight=s.caseSensitive.width()+s.wholeWords.width()+s.regex.width());var v=[s.caseSensitive.domNode,s.wholeWords.domNode,s.regex.domNode];s.onkeydown(s.domNode,function(_){if(_.equals(15)||_.equals(17)||_.equals(9)){var b=v.indexOf(document.activeElement);if(b>=0){var C=-1;_.equals(17)?C=(b+1)%v.length:_.equals(15)&&(b===0?C=v.length-1:C=b-1),_.equals(9)?v[b].blur():C>=0&&v[C].focus(),Sn.stop(_,!0)}}});var m=document.createElement("div");return m.className="controls",m.style.display=s._showOptionButtons?"block":"none",m.appendChild(s.caseSensitive.domNode),m.appendChild(s.wholeWords.domNode),m.appendChild(s.regex.domNode),s.domNode.appendChild(m),t&&t.appendChild(s.domNode),s.onkeydown(s.inputBox.inputElement,function(_){return s._onKeyDown.fire(_)}),s.onkeyup(s.inputBox.inputElement,function(_){return s._onKeyUp.fire(_)}),s.oninput(s.inputBox.inputElement,function(_){return s._onInput.fire()}),s.onmousedown(s.inputBox.inputElement,function(_){return s._onMouseDown.fire(_)}),s}return e.prototype.enable=function(){st(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},e.prototype.disable=function(){De(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},e.prototype.setFocusInputOnOptionClick=function(t){this.fixFocusOnOptionClickEnabled=t},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(t){this.inputBox.value!==t&&(this.inputBox.value=t)},e.prototype.style=function(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.domNode){var t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);var r={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(r)}},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},e.prototype.setCaseSensitive=function(t){this.caseSensitive.checked=t},e.prototype.getWholeWords=function(){return this.wholeWords.checked},e.prototype.setWholeWords=function(t){this.wholeWords.checked=t},e.prototype.getRegex=function(){return this.regex.checked},e.prototype.setRegex=function(t){this.regex.checked=t,this.validate()},e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},e.prototype.highlightFindOptions=function(){st(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,De(this.domNode,"highlight-"+this._lastHighlightFindOptions)},e.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},e.prototype.clearMessage=function(){this.inputBox&&this.inputBox.hideMessage()},e.prototype.dispose=function(){n.prototype.dispose.call(this)},e}(gs),Zre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hBe=D("defaultLabel","input"),dBe=D("label.preserveCaseCheckbox","Preserve Case"),pBe=function(n){Zre(e,n);function e(t){return n.call(this,{actionClassName:"monaco-case-sensitive",title:dBe+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return e}(V2),gBe=function(n){Zre(e,n);function e(t,r,i,o){var s=n.call(this)||this;s._showOptionButtons=i,s.fixFocusOnOptionClickEnabled=!0,s.cachedOptionsWidth=0,s._onDidOptionChange=s._register(new Q),s.onDidOptionChange=s._onDidOptionChange.event,s._onKeyDown=s._register(new Q),s.onKeyDown=s._onKeyDown.event,s._onMouseDown=s._register(new Q),s._onInput=s._register(new Q),s._onKeyUp=s._register(new Q),s._onPreserveCaseKeyDown=s._register(new Q),s.onPreserveCaseKeyDown=s._onPreserveCaseKeyDown.event,s.contextViewProvider=r,s.placeholder=o.placeholder||"",s.validation=o.validation,s.label=o.label||hBe,s.inputActiveOptionBorder=o.inputActiveOptionBorder,s.inputBackground=o.inputBackground,s.inputForeground=o.inputForeground,s.inputBorder=o.inputBorder,s.inputValidationInfoBorder=o.inputValidationInfoBorder,s.inputValidationInfoBackground=o.inputValidationInfoBackground,s.inputValidationInfoForeground=o.inputValidationInfoForeground,s.inputValidationWarningBorder=o.inputValidationWarningBorder,s.inputValidationWarningBackground=o.inputValidationWarningBackground,s.inputValidationWarningForeground=o.inputValidationWarningForeground,s.inputValidationErrorBorder=o.inputValidationErrorBorder,s.inputValidationErrorBackground=o.inputValidationErrorBackground,s.inputValidationErrorForeground=o.inputValidationErrorForeground;var a=!!o.flexibleHeight,u=!!o.flexibleWidth,l=o.flexibleMaxHeight;return s.buildDomNode(o.history||[],a,u,l),t&&t.appendChild(s.domNode),s.onkeydown(s.inputBox.inputElement,function(c){return s._onKeyDown.fire(c)}),s.onkeyup(s.inputBox.inputElement,function(c){return s._onKeyUp.fire(c)}),s.oninput(s.inputBox.inputElement,function(c){return s._onInput.fire()}),s.onmousedown(s.inputBox.inputElement,function(c){return s._onMouseDown.fire(c)}),s}return e.prototype.enable=function(){st(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()},e.prototype.disable=function(){De(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},e.prototype.style=function(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.domNode){var t={inputActiveOptionBorder:this.inputActiveOptionBorder};this.preserveCase.style(t);var r={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(r)}},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getPreserveCase=function(){return this.preserveCase.checked},e.prototype.setPreserveCase=function(t){this.preserveCase.checked=t},e.prototype.focusOnPreserve=function(){this.preserveCase.focus()},e.prototype.buildDomNode=function(t,r,i,o){var s=this;this.domNode=document.createElement("div"),De(this.domNode,"monaco-findInput"),this.inputBox=this._register(new Qre(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:r,flexibleWidth:i,flexibleMaxHeight:o})),this.preserveCase=this._register(new pBe({appendTitle:"",isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.preserveCase.onChange(function(l){s._onDidOptionChange.fire(l),!l&&s.fixFocusOnOptionClickEnabled&&s.inputBox.focus(),s.validate()})),this._register(this.preserveCase.onKeyDown(function(l){s._onPreserveCaseKeyDown.fire(l)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;var a=[this.preserveCase.domNode];this.onkeydown(this.domNode,function(l){if(l.equals(15)||l.equals(17)||l.equals(9)){var c=a.indexOf(document.activeElement);if(c>=0){var h=-1;l.equals(17)?h=(c+1)%a.length:l.equals(15)&&(c===0?h=a.length-1:h=c-1),l.equals(9)?a[c].blur():h>=0&&a[h].focus(),Sn.stop(l,!0)}}});var u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u)},e.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},Object.defineProperty(e.prototype,"width",{set:function(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=t,this.domNode.style.width=t+"px"},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){n.prototype.dispose.call(this)},e}(gs),Jre=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eie=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tie=function(n,e){return function(t,r){e(t,r,n)}},p1="historyNavigationWidget",cB="historyNavigationEnabled";function vBe(n,e,t){new Ke(t,e).bindTo(n)}function mBe(n,e){return n.createScoped(e.target)}function nie(n,e){return n.getContext(document.activeElement).getValue(e)}function rie(n,e){var t=mBe(n,e);vBe(t,e,p1);var r=new Ke(cB,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationEnablement:r}}var _Be=function(n){Jre(e,n);function e(t,r,i,o,s){s===void 0&&(s=!1);var a=n.call(this,t,r,s,i)||this;return a._register(rie(o,{target:a.inputBox.element,historyNavigator:a.inputBox}).scopedContextKeyService),a}return e=eie([tie(3,yt)],e),e}(fBe),yBe=function(n){Jre(e,n);function e(t,r,i,o,s){s===void 0&&(s=!1);var a=n.call(this,t,r,s,i)||this;return a._register(rie(o,{target:a.inputBox.element,historyNavigator:a.inputBox}).scopedContextKeyService),a}return e=eie([tie(3,yt)],e),e}(gBe);wa.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Oe.and(Oe.has(p1),Oe.equals(cB,!0)),primary:16,secondary:[528],handler:function(n,e){var t=nie(n.get(yt),p1);if(t){var r=t.historyNavigator;r.showPreviousValue()}}});wa.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Oe.and(Oe.has(p1),Oe.equals(cB,!0)),primary:18,secondary:[530],handler:function(n,e){var t=nie(n.get(yt),p1);if(t){var r=t.historyNavigator;r.showNextValue()}}});var fB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bBe=D("label.find","Find"),CBe=D("placeholder.find","Find"),wBe=D("label.previousMatchButton","Previous match"),EBe=D("label.nextMatchButton","Next match"),SBe=D("label.toggleSelectionFind","Find in selection"),TBe=D("label.closeButton","Close"),DBe=D("label.replace","Replace"),ABe=D("placeholder.replace","Replace"),IBe=D("label.replaceButton","Replace"),xBe=D("label.replaceAllButton","Replace All"),LBe=D("label.toggleReplaceButton","Toggle Replace mode"),NBe=D("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",up),OBe=D("label.matchesLocation","{0} of {1}"),dG=D("label.noResults","No Results"),Yu=419,kBe=275,RBe=kBe-54,Mv=69,pG=17+(Mv+3+1)+23*4+2,PBe=33,gG="ctrlEnterReplaceAll.windows.donotask",vG=Tt?256:2048,Fk=function(){function n(e){this.afterLineNumber=e,this.heightInPx=PBe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}return n}();function mG(n,e,t){var r=!!e.match(/\n/);if(t&&r&&t.selectionStart>0){n.stopPropagation();return}}function _G(n,e,t){var r=!!e.match(/\n/);if(t&&r&&t.selectionEnd<t.value.length){n.stopPropagation();return}}var MBe=function(n){fB(e,n);function e(t,r,i,o,s,a,u,l,c){var h=n.call(this)||this;return h._codeEditor=t,h._controller=r,h._state=i,h._contextViewProvider=o,h._keybindingService=s,h._contextKeyService=a,h._storageService=l,h._notificationService=c,h._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(gG,0),h._isVisible=!1,h._isReplaceVisible=!1,h._ignoreChangeEvent=!1,h._updateHistoryDelayer=new k_(500),h._register(bn(function(){return h._updateHistoryDelayer.cancel()})),h._register(h._state.onFindReplaceStateChange(function(d){return h._onStateChanged(d)})),h._buildDomNode(),h._updateButtons(),h._tryUpdateWidgetWidth(),h._findInput.inputBox.layout(),h._register(h._codeEditor.onDidChangeConfiguration(function(d){if(d.readOnly&&(h._codeEditor.getConfiguration().readOnly&&h._state.change({isReplaceRevealed:!1},!1),h._updateButtons()),d.layoutInfo&&h._tryUpdateWidgetWidth(),d.accessibilitySupport&&h.updateAccessibilitySupport(),d.contribInfo){var p=h._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop;p&&!h._viewZone&&(h._viewZone=new Fk(0),h._showViewZone()),!p&&h._viewZone&&h._removeViewZone()}})),h.updateAccessibilitySupport(),h._register(h._codeEditor.onDidChangeCursorSelection(function(){h._isVisible&&h._updateToggleSelectionFindButton()})),h._register(h._codeEditor.onDidFocusEditorWidget(function(){if(h._isVisible){var d=h._controller.getGlobalBufferTerm();d&&d!==h._state.searchString&&(h._state.change({searchString:d},!0),h._findInput.select())}})),h._findInputFocused=H2.bindTo(a),h._findFocusTracker=h._register(Gb(h._findInput.inputBox.inputElement)),h._register(h._findFocusTracker.onDidFocus(function(){h._findInputFocused.set(!0),h._updateSearchScope()})),h._register(h._findFocusTracker.onDidBlur(function(){h._findInputFocused.set(!1)})),h._replaceInputFocused=aB.bindTo(a),h._replaceFocusTracker=h._register(Gb(h._replaceInput.inputBox.inputElement)),h._register(h._replaceFocusTracker.onDidFocus(function(){h._replaceInputFocused.set(!0),h._updateSearchScope()})),h._register(h._replaceFocusTracker.onDidBlur(function(){h._replaceInputFocused.set(!1)})),h._codeEditor.addOverlayWidget(h),h._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop&&(h._viewZone=new Fk(0)),h._applyTheme(u.getTheme()),h._register(u.onThemeChange(h._applyTheme.bind(h))),h._register(h._codeEditor.onDidChangeModel(function(){h._isVisible&&(h._viewZoneId=void 0)})),h._register(h._codeEditor.onDidScrollChange(function(d){if(d.scrollTopChanged){h._layoutViewZone();return}setTimeout(function(){h._layoutViewZone()},0)})),h}return e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},e.prototype._onStateChanged=function(t){if(t.searchString){this._state.searchString.indexOf(`
`)>=0?De(this._domNode,"multipleline"):st(this._domNode,"multipleline");try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getConfiguration().readOnly&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=uu(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){var r=this._state.searchString.length>0&&this._state.matchesCount===0;Rt(this._domNode,"no-results",r),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory()},e.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},e.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},e.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=Mv+"px",this._state.matchesCount>=up?this._matchesCount.title=NBe:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var t;if(this._state.matchesCount>0){var r=String(this._state.matchesCount);this._state.matchesCount>=up&&(r+="+");var i=String(this._state.matchesPosition);i==="0"&&(i="?"),t=Yt(OBe,i,r)}else t=dG;this._matchesCount.appendChild(document.createTextNode(t)),Ki(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString),!0),Mv=Math.max(Mv,this._matchesCount.clientWidth)},e.prototype._getAriaLabel=function(t,r,i){return t===dG?i===""?D("ariaSearchNoResultEmpty","{0} found",t):D("ariaSearchNoResult","{0} found for {1}",t,i):r?D("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",t,i,r.startLineNumber+":"+r.startColumn):D("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",t,i)},e.prototype._updateToggleSelectionFindButton=function(){var t=this._codeEditor.getSelection(),r=t?t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn:!1,i=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(i||r))},e.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var t=this._state.searchString.length>0,r=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&r),this._nextBtn.setEnabled(this._isVisible&&t&&r),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),Rt(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var i=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&i)},e.prototype._reveal=function(){var t=this;if(!this._isVisible){this._isVisible=!0;var r=this._codeEditor.getSelection(),i=r?r.startLineNumber!==r.endLineNumber||r.startColumn!==r.endColumn:!1;i&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){De(t._domNode,"visible"),t._domNode.setAttribute("aria-hidden","false")},0),setTimeout(function(){t._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);var o=!0;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&r){var s=this._codeEditor.getDomNode();if(s){var a=_i(s),u=this._codeEditor.getScrolledVisiblePosition(r.getStartPosition()),l=a.left+(u?u.left:0),c=u?u.top:0;if(this._viewZone&&c<this._viewZone.heightInPx){r.endLineNumber>r.startLineNumber&&(o=!1);var h=_6(this._domNode).left;l>h&&(o=!1);var d=this._codeEditor.getScrolledVisiblePosition(r.getEndPosition()),p=a.left+(d?d.left:0);p>h&&(o=!1)}}}this._showViewZone(o)}},e.prototype._hide=function(t){this._isVisible&&(this._isVisible=!1,this._updateButtons(),st(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},e.prototype._layoutViewZone=function(){var t=this,r=this._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop;if(!r){this._removeViewZone();return}if(this._isVisible){var i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(function(o){i.heightInPx=t._getHeight(),t._viewZoneId=o.addZone(i),t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+i.heightInPx)})}},e.prototype._showViewZone=function(t){var r=this;if(t===void 0&&(t=!0),!!this._isVisible){var i=this._codeEditor.getConfiguration().contribInfo.find.addExtraSpaceOnTop;if(i){this._viewZone===void 0&&(this._viewZone=new Fk(0));var o=this._viewZone;this._codeEditor.changeViewZones(function(s){if(r._viewZoneId!==void 0){var a=r._getHeight();if(a===o.heightInPx)return;var u=a-o.heightInPx;o.heightInPx=a,s.layoutZone(r._viewZoneId),t&&r._codeEditor.setScrollTop(r._codeEditor.getScrollTop()+u);return}else{var u=r._getHeight();o.heightInPx=u,r._viewZoneId=s.addZone(o),t&&r._codeEditor.setScrollTop(r._codeEditor.getScrollTop()+u)}})}}},e.prototype._removeViewZone=function(){var t=this;this._codeEditor.changeViewZones(function(r){t._viewZoneId!==void 0&&(r.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._viewZone&&(t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx),t._viewZone=void 0))})},e.prototype._applyTheme=function(t){var r={inputActiveOptionBorder:t.getColor(KT),inputActiveOptionBackground:t.getColor(YT),inputBackground:t.getColor(t5),inputForeground:t.getColor(n5),inputBorder:t.getColor(r5),inputValidationInfoBackground:t.getColor(i5),inputValidationInfoForeground:t.getColor(o5),inputValidationInfoBorder:t.getColor(s5),inputValidationWarningBackground:t.getColor(Dte),inputValidationWarningForeground:t.getColor(Ate),inputValidationWarningBorder:t.getColor(Ite),inputValidationErrorBackground:t.getColor(xte),inputValidationErrorForeground:t.getColor(Lte),inputValidationErrorBorder:t.getColor(Nte)};this._findInput.style(r),this._replaceInput.style(r)},e.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible){var t=this._codeEditor.getConfiguration().layoutInfo.contentWidth;if(t<=0){De(this._domNode,"hiddenEditor");return}else xu(this._domNode,"hiddenEditor")&&st(this._domNode,"hiddenEditor");var r=this._codeEditor.getConfiguration().layoutInfo.width,i=this._codeEditor.getConfiguration().layoutInfo.minimapWidth,o=!1,s=!1,a=!1;if(this._resized){var u=uu(this._domNode);if(u>Yu){this._domNode.style.maxWidth=r-28-i-15+"px",this._replaceInput.width=uu(this._findInput.domNode);return}}if(Yu+28+i>=r&&(s=!0),Yu+28+i-Mv>=r&&(a=!0),Yu+28+i-Mv>=r+50&&(o=!0),Rt(this._domNode,"collapsed-find-widget",o),Rt(this._domNode,"narrow-find-widget",a),Rt(this._domNode,"reduced-find-widget",s),!a&&!o&&(this._domNode.style.maxWidth=r-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();var l=this._findInput.inputBox.width;l>0&&(this._replaceInput.width=l)}}},e.prototype._getHeight=function(){var t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t},e.prototype._tryUpdateHeight=function(){var t=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===t?!1:(this._cachedHeight=t,this._domNode.style.height=t+"px",!0)},e.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},e.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},e.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},e.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var t=this._codeEditor.getSelection();t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));var r=this._state.currentMatch;t.startLineNumber!==t.endLineNumber&&(H.equalsRange(t,r)||this._state.change({searchScope:t},!0))}},e.prototype._onFindInputMouseDown=function(t){t.middleButton&&t.stopPropagation()},e.prototype._onFindInputKeyDown=function(t){if(t.equals(vG|3)){var r=this._findInput.inputBox.inputElement,i=r.selectionStart,o=r.selectionEnd,s=r.value;if(i!==null&&o!==null){var a=s.substr(0,i)+`
`+s.substr(o);this._findInput.inputBox.value=a,r.setSelectionRange(i+1,i+1),this._findInput.inputBox.layout(),t.preventDefault();return}}if(t.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(2066)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return mG(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(t.equals(18))return _G(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))},e.prototype._onReplaceInputKeyDown=function(t){if(t.equals(vG|3)){xo&&Iu&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(D("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(gG,!0,0));var r=this._replaceInput.inputBox.inputElement,i=r.selectionStart,o=r.selectionEnd,s=r.value;if(i!==null&&o!==null){var a=s.substr(0,i)+`
`+s.substr(o);this._replaceInput.inputBox.value=a,r.setSelectionRange(i+1,i+1),this._replaceInput.inputBox.layout(),t.preventDefault();return}}if(t.equals(2)){this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(1026)){this._findInput.focus(),t.preventDefault();return}if(t.equals(2066)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return mG(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(t.equals(18))return _G(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))},e.prototype.getHorizontalSashTop=function(t){return 0},e.prototype.getHorizontalSashLeft=function(t){return 0},e.prototype.getHorizontalSashWidth=function(t){return 500},e.prototype._keybindingLabelFor=function(t){var r=this._keybindingService.lookupKeybinding(t);return r?" ("+r.getLabel()+")":""},e.prototype._buildDomNode=function(){var t=this,r=!0,i=!0;this._findInput=this._register(new _Be(null,this._contextViewProvider,{width:RBe,label:bBe,placeholder:CBe,appendCaseSensitiveLabel:this._keybindingLabelFor(ln.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(ln.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(ln.ToggleRegexCommand),validation:function(c){if(c.length===0||!t._findInput.getRegex())return null;try{return new RegExp(c),null}catch(h){return{content:h.message}}},flexibleHeight:r,flexibleWidth:i,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(c){return t._onFindInputKeyDown(c)})),this._register(this._findInput.inputBox.onDidChange(function(){t._ignoreChangeEvent||t._state.change({searchString:t._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){t._state.change({isRegex:t._findInput.getRegex(),wholeWord:t._findInput.getWholeWords(),matchCase:t._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(c){c.equals(1026)&&t._isReplaceVisible&&(t._replaceInput.focus(),c.preventDefault())})),this._register(this._findInput.onRegexKeyDown(function(c){c.equals(2)&&t._isReplaceVisible&&(t._replaceInput.focusOnPreserve(),c.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(function(c){t._tryUpdateHeight()&&t._showViewZone()})),Xc&&this._register(this._findInput.onMouseDown(function(c){return t._onFindInputMouseDown(c)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new _v({label:wBe+this._keybindingLabelFor(ln.PreviousMatchFindAction),className:"previous",onTrigger:function(){t._codeEditor.getAction(ln.PreviousMatchFindAction).run().then(void 0,He)}})),this._nextBtn=this._register(new _v({label:EBe+this._keybindingLabelFor(ln.NextMatchFindAction),className:"next",onTrigger:function(){t._codeEditor.getAction(ln.NextMatchFindAction).run().then(void 0,He)}}));var o=document.createElement("div");o.className="find-part",o.appendChild(this._findInput.domNode);var s=document.createElement("div");s.className="find-actions",o.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new FBe({parent:s,title:SBe+this._keybindingLabelFor(ln.ToggleSearchScopeCommand),onChange:function(){if(t._toggleSelectionFind.checked){if(t._codeEditor.hasModel()){var c=t._codeEditor.getSelection();c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()||t._state.change({searchScope:c},!0)}}else t._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new _v({label:TBe+this._keybindingLabelFor(ln.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){t._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(c){c.equals(2)&&t._isReplaceVisible&&(t._replaceBtn.isEnabled()?t._replaceBtn.focus():t._codeEditor.focus(),c.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new yBe(null,void 0,{label:DBe,placeholder:ABe,history:[],flexibleHeight:r,flexibleWidth:i,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(c){return t._onReplaceInputKeyDown(c)})),this._register(this._replaceInput.inputBox.onDidChange(function(){t._state.change({replaceString:t._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(c){t._isReplaceVisible&&t._tryUpdateHeight()&&t._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){t._state.change({preserveCase:t._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(c){c.equals(2)&&(t._prevBtn.isEnabled()?t._prevBtn.focus():t._nextBtn.isEnabled()?t._nextBtn.focus():t._toggleSelectionFind.isEnabled()?t._toggleSelectionFind.focus():t._closeBtn.isEnabled()&&t._closeBtn.focus(),c.preventDefault())})),this._replaceBtn=this._register(new _v({label:IBe+this._keybindingLabelFor(ln.ReplaceOneAction),className:"replace",onTrigger:function(){t._controller.replace()},onKeyDown:function(c){c.equals(1026)&&(t._closeBtn.focus(),c.preventDefault())}})),this._replaceAllBtn=this._register(new _v({label:xBe+this._keybindingLabelFor(ln.ReplaceAllAction),className:"replace-all",onTrigger:function(){t._controller.replaceAll()}}));var a=document.createElement("div");a.className="replace-part",a.appendChild(this._replaceInput.domNode);var u=document.createElement("div");u.className="replace-actions",a.appendChild(u),u.appendChild(this._replaceBtn.domNode),u.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new _v({label:LBe,className:"toggle left",onTrigger:function(){t._state.change({isReplaceRevealed:!t._isReplaceVisible},!1),t._isReplaceVisible&&(t._replaceInput.width=uu(t._findInput.domNode),t._replaceInput.inputBox.layout()),t._showViewZone()}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=Yu+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(o),this._domNode.appendChild(a),this._resizeSash=new D2(this._domNode,this,{orientation:0}),this._resized=!1;var l=Yu;this._register(this._resizeSash.onDidStart(function(){l=uu(t._domNode)})),this._register(this._resizeSash.onDidChange(function(c){t._resized=!0;var h=l+c.startX-c.currentX;if(!(h<Yu)){var d=h-pG,p=parseFloat(m6(t._domNode).maxWidth)||0;h>p||(t._domNode.style.width=h+"px",t._findInput.inputBox.width=d,t._isReplaceVisible&&(t._replaceInput.width=uu(t._findInput.domNode)),t._findInput.inputBox.layout(),t._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(function(){var c=uu(t._domNode);if(!(c<Yu)){var h=Yu;(!t._resized||c===Yu)&&(h=t._codeEditor.getConfiguration().layoutInfo.width-28-t._codeEditor.getConfiguration().layoutInfo.minimapWidth-15,t._resized=!0);var d=h-pG;t._domNode.style.width=h+"px",t._findInput.inputBox.width=d,t._isReplaceVisible&&(t._replaceInput.width=uu(t._findInput.domNode)),t._findInput.inputBox.layout()}}))},e.prototype.updateAccessibilitySupport=function(){var t=this._codeEditor.getConfiguration().accessibilitySupport;this._findInput.setFocusInputOnOptionClick(t!==2)},e.ID="editor.contrib.findWidget",e}(gs),FBe=function(n){fB(e,n);function e(t){var r=n.call(this)||this;return r._opts=t,r._domNode=document.createElement("div"),r._domNode.className="monaco-checkbox",r._domNode.title=r._opts.title,r._domNode.tabIndex=0,r._checkbox=document.createElement("input"),r._checkbox.type="checkbox",r._checkbox.className="checkbox",r._checkbox.id="checkbox-"+e._COUNTER++,r._checkbox.tabIndex=-1,r._label=document.createElement("label"),r._label.className="label",r._label.htmlFor=r._checkbox.id,r._label.tabIndex=-1,r._domNode.appendChild(r._checkbox),r._domNode.appendChild(r._label),r._opts.parent.appendChild(r._domNode),r.onchange(r._checkbox,function(){r._opts.onChange()}),r}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(t){this._checkbox.checked=t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._domNode.focus()},e.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},e.prototype.disable=function(){this._checkbox.disabled=!0},e.prototype.setEnabled=function(t){t?(this.enable(),this.domNode.tabIndex=0):(this.disable(),this.domNode.tabIndex=-1)},e._COUNTER=0,e}(gs),_v=function(n){fB(e,n);function e(t){var r=n.call(this)||this;return r._opts=t,r._domNode=document.createElement("div"),r._domNode.title=r._opts.label,r._domNode.tabIndex=0,r._domNode.className="button "+r._opts.className,r._domNode.setAttribute("role","button"),r._domNode.setAttribute("aria-label",r._opts.label),r.onclick(r._domNode,function(i){r._opts.onTrigger(),i.preventDefault()}),r.onkeydown(r._domNode,function(i){if(i.equals(10)||i.equals(3)){r._opts.onTrigger(),i.preventDefault();return}r._opts.onKeyDown&&r._opts.onKeyDown(i)}),r}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},e.prototype.focus=function(){this._domNode.focus()},e.prototype.setEnabled=function(t){Rt(this._domNode,"disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1},e.prototype.setExpanded=function(t){this._domNode.setAttribute("aria-expanded",String(!!t))},e.prototype.toggleClass=function(t,r){Rt(this._domNode,t,r)},e}(gs);mn(function(n,e){var t=function(_,b){b&&e.addRule(".monaco-editor "+_+" { background-color: "+b+"; }")};t(".findMatch",n.getColor(pOe)),t(".currentFindMatch",n.getColor(dOe)),t(".findScope",n.getColor(gOe));var r=n.getColor(yl);t(".find-widget",r);var i=n.getColor(hg);i&&e.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+i+"; }");var o=n.getColor(mOe);o&&e.addRule(".monaco-editor .findMatch { border: 1px "+(n.type==="hc"?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var s=n.getColor(vOe);s&&e.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+s+"; padding: 1px; box-sizing: border-box; }");var a=n.getColor(_Oe);a&&e.addRule(".monaco-editor .findScope { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+a+"; }");var u=n.getColor(Wr);u&&e.addRule(".monaco-editor .find-widget { border: 2px solid "+u+"; }");var l=n.getColor(Wte);l&&e.addRule(".monaco-editor .find-widget { color: "+l+"; }");var c=n.getColor(UNe);c&&e.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+c+"; }");var h=n.getColor(cOe);if(h)e.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+h+"; width: 3px !important; margin-left: -4px;}");else{var d=n.getColor(Tp);d&&e.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+d+"; width: 3px !important; margin-left: -4px;}")}var p=n.getColor(KT);p&&e.addRule(".monaco-editor .find-widget .monaco-checkbox .checkbox:checked + .label { border: 1px solid "+p.toString()+"; }");var v=n.getColor(YT);v&&e.addRule(".monaco-editor .find-widget .monaco-checkbox .checkbox:checked + .label { background-color: "+v.toString()+"; }");var m=n.getColor(jm);m&&e.addRule(".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+m+"; }")});var Sa=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iie=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tl=function(n,e){return function(t,r){e(t,r,n)}},BBe=524288;function oie(n){if(!n.hasModel())return null;var e=n.getSelection();if(e.startLineNumber===e.endLineNumber){if(e.isEmpty()){var t=n.getModel().getWordAtPosition(e.getStartPosition());if(t)return t.word}else if(n.getModel().getValueLengthInRange(e)<BBe)return n.getModel().getValueInRange(e)}return null}var Pl=function(n){Sa(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._editor=t,s._findWidgetVisible=vg.bindTo(r),s._contextKeyService=r,s._storageService=i,s._clipboardService=o,s._updateHistoryDelayer=new k_(500),s._state=s._register(new nBe),s.loadQueryState(),s._register(s._state.onFindReplaceStateChange(function(a){return s._onStateChanged(a)})),s._model=null,s._register(s._editor.onDidChangeModel(function(){var a=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:s._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:s._storageService.getBoolean("editor.preserveCase",1,!1)},!1),a&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})})),s}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this.disposeModel(),n.prototype.dispose.call(this)},e.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},e.prototype.getId=function(){return e.ID},e.prototype._onStateChanged=function(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)},e.prototype.saveQueryState=function(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},e.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},e.prototype.isFindInputFocused=function(){return!!H2.getValue(this._contextKeyService)},e.prototype.getState=function(){return this._state},e.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},e.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},e.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},e.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},e.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var t=this._editor.getSelection();t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||this._state.change({searchScope:t},!0)}},e.prototype.setSearchString=function(t){this._state.isRegex&&(t=Ol(t)),this._state.change({searchString:t},!1)},e.prototype.highlightFindOptions=function(){},e.prototype._start=function(t){if(this.disposeModel(),!!this._editor.hasModel()){var r={isRevealed:!0};if(t.seedSearchStringFromSelection){var i=oie(this._editor);i&&(this._state.isRegex?r.searchString=Ol(i):r.searchString=i)}if(!r.searchString&&t.seedSearchStringFromGlobalClipboard){var i=this.getGlobalBufferTerm();i&&(r.searchString=i)}if(t.forceRevealReplace?r.isReplaceRevealed=!0:this._findWidgetVisible.get()||(r.isReplaceRevealed=!1),t.updateSearchScope){var o=this._editor.getSelection();o.isEmpty()||(r.searchScope=o)}this._state.change(r,!1),this._model||(this._model=new K5e(this._editor,this._state))}},e.prototype.start=function(t){this._start(t)},e.prototype.moveToNextMatch=function(){return this._model?(this._model.moveToNextMatch(),!0):!1},e.prototype.moveToPrevMatch=function(){return this._model?(this._model.moveToPrevMatch(),!0):!1},e.prototype.replace=function(){return this._model?(this._model.replace(),!0):!1},e.prototype.replaceAll=function(){return this._model?(this._model.replaceAll(),!0):!1},e.prototype.selectAllMatches=function(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1},e.prototype.getGlobalBufferTerm=function(){return this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},e.prototype.setGlobalBufferTerm=function(t){this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)},e.ID="editor.contrib.findController",e=iie([tl(1,yt),tl(2,Wh),tl(3,x2)],e),e}(he),HBe=function(n){Sa(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this,t,i,u,l)||this;return c._contextViewService=r,c._keybindingService=o,c._themeService=s,c._notificationService=a,c._widget=null,c._findOptionsWidget=null,c}return e.prototype._start=function(t){this._widget||this._createFindWidget(),!this._widget.getPosition()&&this._editor.getConfiguration().contribInfo.find.autoFindInSelection&&(t.updateSearchScope=!0),n.prototype._start.call(this,t),t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput()},e.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},e.prototype._createFindWidget=function(){this._widget=this._register(new MBe(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new tBe(this._editor,this._state,this._keybindingService,this._themeService))},e=iie([tl(1,Hh),tl(2,yt),tl(3,Dr),tl(4,ei),tl(5,bi),tl(6,Wh),tl(7,mp(x2))],e),e}(Pl),VBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.StartFindAction,label:D("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menubarOpts:{menuId:14,group:"3_find",title:D({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return e.prototype.run=function(t,r){var i=Pl.get(r);i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:r.getConfiguration().contribInfo.find.globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},e}(Ue),WBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.StartFindWithSelection,label:D("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return e.prototype.run=function(t,r){var i=Pl.get(r);i&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1}),i.setGlobalBufferTerm(i.getState().searchString))},e}(Ue),W2=function(n){Sa(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=Pl.get(r);i&&!this._run(i)&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))},e}(Ue),UBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.NextMatchFindAction,label:D("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return e.prototype._run=function(t){return t.moveToNextMatch()},e}(W2),jBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.NextMatchFindAction,label:D("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Oe.and(W.focus,H2),primary:3,weight:100}})||this}return e.prototype._run=function(t){return t.moveToNextMatch()},e}(W2),qBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.PreviousMatchFindAction,label:D("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return e.prototype._run=function(t){return t.moveToPrevMatch()},e}(W2),zBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.PreviousMatchFindAction,label:D("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Oe.and(W.focus,H2),primary:1027,weight:100}})||this}return e.prototype._run=function(t){return t.moveToPrevMatch()},e}(W2),sie=function(n){Sa(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=Pl.get(r);if(i){var o=oie(r);o&&i.setSearchString(o),this._run(i)||(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))}},e}(Ue),GBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.NextSelectionMatchFindAction,label:D("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:2109,weight:100}})||this}return e.prototype._run=function(t){return t.moveToNextMatch()},e}(sie),$Be=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.PreviousSelectionMatchFindAction,label:D("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:3133,weight:100}})||this}return e.prototype._run=function(t){return t.moveToPrevMatch()},e}(sie),KBe=function(n){Sa(e,n);function e(){return n.call(this,{id:ln.StartFindReplaceAction,label:D("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menubarOpts:{menuId:14,group:"3_find",title:D({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return e.prototype.run=function(t,r){if(!(!r.hasModel()||r.getConfiguration().readOnly)){var i=Pl.get(r),o=r.getSelection(),s=i.isFindInputFocused(),a=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&r.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&!s,u=s||a?2:1;i&&i.start({forceRevealReplace:!0,seedSearchStringFromSelection:a,seedSearchStringFromGlobalClipboard:r.getConfiguration().contribInfo.find.seedSearchStringFromSelection,shouldFocus:u,shouldAnimate:!0,updateSearchScope:!1})}},e}(Ue);Cn(HBe);ge(VBe);ge(WBe);ge(UBe);ge(jBe);ge(qBe);ge(zBe);ge(GBe);ge($Be);ge(KBe);var zl=Po.bindToContribution(Pl.get);ce(new zl({id:ln.CloseFindWidgetCommand,precondition:vg,handler:function(n){return n.closeFindWidget()},kbOpts:{weight:105,kbExpr:W.focus,primary:9,secondary:[1033]}}));ce(new zl({id:ln.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(n){return n.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:W.focus,primary:GE.primary,mac:GE.mac,win:GE.win,linux:GE.linux}}));ce(new zl({id:ln.ToggleWholeWordCommand,precondition:void 0,handler:function(n){return n.toggleWholeWords()},kbOpts:{weight:105,kbExpr:W.focus,primary:$E.primary,mac:$E.mac,win:$E.win,linux:$E.linux}}));ce(new zl({id:ln.ToggleRegexCommand,precondition:void 0,handler:function(n){return n.toggleRegex()},kbOpts:{weight:105,kbExpr:W.focus,primary:KE.primary,mac:KE.mac,win:KE.win,linux:KE.linux}}));ce(new zl({id:ln.ToggleSearchScopeCommand,precondition:void 0,handler:function(n){return n.toggleSearchScope()},kbOpts:{weight:105,kbExpr:W.focus,primary:YE.primary,mac:YE.mac,win:YE.win,linux:YE.linux}}));ce(new zl({id:ln.ReplaceOneAction,precondition:vg,handler:function(n){return n.replace()},kbOpts:{weight:105,kbExpr:W.focus,primary:3094}}));ce(new zl({id:ln.ReplaceOneAction,precondition:vg,handler:function(n){return n.replace()},kbOpts:{weight:105,kbExpr:Oe.and(W.focus,aB),primary:3}}));ce(new zl({id:ln.ReplaceAllAction,precondition:vg,handler:function(n){return n.replaceAll()},kbOpts:{weight:105,kbExpr:W.focus,primary:2563}}));ce(new zl({id:ln.ReplaceAllAction,precondition:vg,handler:function(n){return n.replaceAll()},kbOpts:{weight:105,kbExpr:Oe.and(W.focus,aB),primary:void 0,mac:{primary:2051}}}));ce(new zl({id:ln.SelectAllMatchesAction,precondition:vg,handler:function(n){return n.selectAllMatches()},kbOpts:{weight:105,kbExpr:W.focus,primary:515}}));var yG=65535,yc=16777215,bG=4278190080,g1=function(){function n(e,t,r){if(e.length!==t.length||e.length>yG)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=r,this._parentsComputed=!1}return n.prototype.ensureParentIndices=function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],r=function(l,c){var h=t[t.length-1];return e.getStartLineNumber(h)<=l&&e.getEndLineNumber(h)>=c},i=0,o=this._startIndexes.length;i<o;i++){var s=this._startIndexes[i],a=this._endIndexes[i];if(s>yc||a>yc)throw new Error("startLineNumber or endLineNumber must not exceed "+yc);for(;t.length>0&&!r(s,a);)t.pop();var u=t.length>0?t[t.length-1]:-1;t.push(i),this._startIndexes[i]=s+((u&255)<<24),this._endIndexes[i]=a+((u&65280)<<16)}}},Object.defineProperty(n.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),n.prototype.getStartLineNumber=function(e){return this._startIndexes[e]&yc},n.prototype.getEndLineNumber=function(e){return this._endIndexes[e]&yc},n.prototype.getType=function(e){return this._types?this._types[e]:void 0},n.prototype.hasTypes=function(){return!!this._types},n.prototype.isCollapsed=function(e){var t=e/32|0,r=e%32;return(this._collapseStates[t]&1<<r)!==0},n.prototype.setCollapsed=function(e,t){var r=e/32|0,i=e%32,o=this._collapseStates[r];t?this._collapseStates[r]=o|1<<i:this._collapseStates[r]=o&~(1<<i)},n.prototype.toRegion=function(e){return new YBe(this,e)},n.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&bG)>>>24)+((this._endIndexes[e]&bG)>>>16);return t===yG?-1:t},n.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t},n.prototype.findIndex=function(e){var t=0,r=this._startIndexes.length;if(r===0)return-1;for(;t<r;){var i=Math.floor((t+r)/2);e<this.getStartLineNumber(i)?r=i:t=i+1}return t-1},n.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){var r=this.getEndLineNumber(t);if(r>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1},n.prototype.toString=function(){for(var e=[],t=0;t<this.length;t++)e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t);return e.join(", ")},n}(),YBe=function(){function n(e,t){this.ranges=e,this.index=t}return Object.defineProperty(n.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),n.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber},n.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber},n}(),XBe=function(){function n(e,t){this._updateEventEmitter=new Q,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new g1(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(n.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),n.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var r={};this._decorationProvider.changeDecorations(function(i){for(var o=0,s=e;o<s.length;o++){var a=s[o],u=a.regionIndex,l=t._editorDecorationIds[u];if(l&&!r[l]){r[l]=!0;var c=!t._regions.isCollapsed(u);t._regions.setCollapsed(u,c),i.changeDecorationOptions(l,t._decorationProvider.getDecorationOption(c))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},n.prototype.update=function(e,t){var r=this;t===void 0&&(t=[]);for(var i=[],o=function(v,m){for(var _=0,b=t;_<b.length;_++){var C=b[_];if(v<C&&C<=m)return!0}return!1},s=function(v,m){var _=e.getStartLineNumber(v);m&&o(_,e.getEndLineNumber(v))&&(m=!1),e.setCollapsed(v,m);var b=r._textModel.getLineMaxColumn(_),C={startLineNumber:_,startColumn:b,endLineNumber:_,endColumn:b};i.push({range:C,options:r._decorationProvider.getDecorationOption(m)})},a=0,u=function(){for(;a<r._regions.length;){var v=r._regions.isCollapsed(a);if(a++,v)return a-1}return-1},l=0,c=u();c!==-1&&l<e.length;){var h=this._textModel.getDecorationRange(this._editorDecorationIds[c]);if(h){var d=h.startLineNumber;if(this._textModel.getLineMaxColumn(d)===h.startColumn)for(;l<e.length;){var p=e.getStartLineNumber(l);if(d>=p)s(l,d===p),l++;else break}}c=u()}for(;l<e.length;)s(l,!1),l++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},n.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var r=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(r){var i=r.startLineNumber,o=r.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:i,endLineNumber:o})}}if(e.length>0)return e},n.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r],s=this.getRegionAtLine(o.startLineNumber);s&&!s.isCollapsed&&t.push(s)}this.toggleCollapseState(t)}},n.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},n.prototype.getAllRegionsAtLine=function(e,t){var r=[];if(this._regions)for(var i=this._regions.findRange(e),o=1;i>=0;){var s=this._regions.toRegion(i);(!t||t(s,o))&&r.push(s),o++,i=s.parentIndex}return r},n.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},n.prototype.getRegionsInside=function(e,t){var r=[],i=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2)for(var s=[],a=i,u=this._regions.length;a<u;a++){var l=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;s.length>0&&!l.containedBy(s[s.length-1]);)s.pop();s.push(l),t(l,s.length)&&r.push(l)}else break}else for(var a=i,u=this._regions.length;a<u;a++){var l=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o)(!t||t(l))&&r.push(l);else break}return r},n}();function j_(n,e,t,r){t===void 0&&(t=Number.MAX_VALUE);var i=[];if(r&&r.length>0)for(var o=0,s=r;o<s.length;o++){var a=s[o],u=n.getRegionAtLine(a);if(u&&(u.isCollapsed!==e&&i.push(u),t>1)){var l=n.getRegionsInside(u,function(c,h){return c.isCollapsed!==e&&h<t});i.push.apply(i,l)}}else{var l=n.getRegionsInside(null,function(h,d){return h.isCollapsed!==e&&d<t});i.push.apply(i,l)}n.toggleCollapseState(i)}function aie(n,e,t,r){for(var i=[],o=0,s=r;o<s.length;o++){var a=s[o],u=n.getAllRegionsAtLine(a,function(l,c){return l.isCollapsed!==e&&c<=t});i.push.apply(i,u)}n.toggleCollapseState(i)}function QBe(n,e,t,r){var i=function(s,a){return a===e&&s.isCollapsed!==t&&!r.some(function(u){return s.containsLine(u)})},o=n.getRegionsInside(null,i);n.toggleCollapseState(o)}function hB(n,e,t){for(var r=n.textModel,i=n.regions,o=[],s=i.length-1;s>=0;s--)if(t!==i.isCollapsed(s)){var a=i.getStartLineNumber(s);e.test(r.getLineContent(a))&&o.push(i.toRegion(s))}n.toggleCollapseState(o)}function dB(n,e,t){for(var r=n.regions,i=[],o=r.length-1;o>=0;o--)t!==r.isCollapsed(o)&&e===r.getType(o)&&i.push(r.toRegion(o));n.toggleCollapseState(i)}var ZBe=function(){function n(e){this.editor=e,this.autoHideFoldingControls=!0}return n.prototype.getDecorationOption=function(e){return e?n.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n.EXPANDED_VISUAL_DECORATION},n.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)},n.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)},n.COLLAPSED_VISUAL_DECORATION=mt.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}),n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=mt.register({stickiness:1,linesDecorationsClassName:"folding"}),n.EXPANDED_VISUAL_DECORATION=mt.register({stickiness:1,linesDecorationsClassName:"folding alwaysShowFoldIcons"}),n}(),JBe=function(){function n(e){var t=this;this._updateEventEmitter=new Q,this._foldingModel=e,this._foldingModelListener=e.onDidChange(function(r){return t.updateHiddenRanges()}),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),n.prototype.updateHiddenRanges=function(){for(var e=!1,t=[],r=0,i=0,o=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;r<a.length;r++)if(a.isCollapsed(r)){var u=a.getStartLineNumber(r)+1,l=a.getEndLineNumber(r);o<=u&&l<=s||(!e&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===u&&this._hiddenRanges[i].endLineNumber===l?(t.push(this._hiddenRanges[i]),i++):(e=!0,t.push(new H(u,1,l,1))),o=u,s=l)}(e||i<this._hiddenRanges.length)&&this.applyHiddenRanges(t)},n.prototype.applyMemento=function(e){if(!Array.isArray(e)||e.length===0)return!1;for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r];if(!o.startLineNumber||!o.endLineNumber)return!1;t.push(new H(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(t),!0},n.prototype.getMemento=function(){return this._hiddenRanges.map(function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}})},n.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)},n.prototype.hasRanges=function(){return this._hiddenRanges.length>0},n.prototype.isHidden=function(e){return CG(this._hiddenRanges,e)!==null},n.prototype.adjustSelections=function(e){for(var t=this,r=!1,i=this._foldingModel.textModel,o=null,s=function(d){return(!o||!e8e(d,o))&&(o=CG(t._hiddenRanges,d)),o?o.startLineNumber-1:null},a=0,u=e.length;a<u;a++){var l=e[a],c=s(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),r=!0);var h=s(l.endLineNumber);h&&(l=l.setEndPosition(h,i.getLineMaxColumn(h)),r=!0),e[a]=l}return r},n.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},n}();function e8e(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function CG(n,e){var t=NTe(n,function(r){return e<r.startLineNumber})-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}var t8e=5e3,n8e="indent",r8e=function(){function n(e){this.editorModel=e,this.id=n8e}return n.prototype.dispose=function(){},n.prototype.compute=function(e){var t=Ot.getFoldingRules(this.editorModel.getLanguageIdentifier().id),r=t&&!!t.offSide,i=t&&t.markers;return Promise.resolve(o8e(this.editorModel,r,i))},n}(),i8e=function(){function n(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}return n.prototype.insertFirst=function(e,t,r){if(!(e>yc||t>yc)){var i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._length++,r<1e3&&(this._indentOccurrences[r]=(this._indentOccurrences[r]||0)+1)}},n.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),r=new Uint32Array(this._length),i=this._length-1,o=0;i>=0;i--,o++)t[o]=this._startIndexes[i],r[o]=this._endIndexes[i];return new g1(t,r)}else{for(var s=0,a=this._indentOccurrences.length,i=0;i<this._indentOccurrences.length;i++){var u=this._indentOccurrences[i];if(u){if(u+s>this._foldingRangesLimit){a=i;break}s+=u}}for(var l=e.getOptions().tabSize,t=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),i=this._length-1,o=0;i>=0;i--){var c=this._startIndexes[i],h=e.getLineContent(c),d=H_.computeIndentLevel(h,l);(d<a||d===a&&s++<this._foldingRangesLimit)&&(t[o]=c,r[o]=this._endIndexes[i],o++)}return new g1(t,r)}},n}();function o8e(n,e,t,r){r===void 0&&(r=t8e);var i=n.getOptions().tabSize,o=new i8e(r),s=void 0;t&&(s=new RegExp("("+t.start.source+")|(?:"+t.end.source+")"));var a=[],u=n.getLineCount()+1;a.push({indent:-1,endAbove:u,line:u});for(var l=n.getLineCount();l>0;l--){var c=n.getLineContent(l),h=H_.computeIndentLevel(c,i),d=a[a.length-1];if(h===-1){e&&(d.endAbove=l);continue}var p=void 0;if(s&&(p=c.match(s)))if(p[1]){for(var v=a.length-1;v>0&&a[v].indent!==-2;)v--;if(v>0){a.length=v+1,d=a[v],o.insertFirst(l,d.line,h),d.line=l,d.indent=h,d.endAbove=l;continue}}else{a.push({indent:-2,endAbove:l,line:l});continue}if(d.indent>h){do a.pop(),d=a[a.length-1];while(d.indent>h);var m=d.endAbove-1;m-l>=1&&o.insertFirst(l,m,h)}d.indent===h?d.endAbove=l:a.push({indent:h,endAbove:l,line:l})}return o.toIndentRanges(n)}var s8e=5e3,a8e={},uie="syntax",u8e=function(){function n(e,t,r){r===void 0&&(r=s8e),this.editorModel=e,this.providers=t,this.limit=r,this.id=uie}return n.prototype.compute=function(e){var t=this;return l8e(this.providers,this.editorModel,e).then(function(r){if(r){var i=lie(r,t.limit);return i}return null})},n.prototype.dispose=function(){},n}();function l8e(n,e,t){var r=null,i=n.map(function(o,s){return Promise.resolve(o.provideFoldingRanges(e,a8e,t)).then(function(a){if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(r)||(r=[]);for(var u=e.getLineCount(),l=0,c=a;l<c.length;l++){var h=c[l];h.start>0&&h.end>h.start&&h.end<=u&&r.push({start:h.start,end:h.end,rank:s,kind:h.kind})}}},Oo)});return Promise.all(i).then(function(o){return r})}var c8e=function(){function n(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}return n.prototype.add=function(e,t,r,i){if(!(e>yc||t>yc)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=i,this._types[o]=r,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}},n.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),r=0;r<this._length;r++)e[r]=this._startIndexes[r],t[r]=this._endIndexes[r];return new g1(e,t,this._types)}else{for(var i=0,o=this._nestingLevelCounts.length,r=0;r<this._nestingLevelCounts.length;r++){var s=this._nestingLevelCounts[r];if(s){if(s+i>this._foldingRangesLimit){o=r;break}i+=s}}for(var e=new Uint32Array(this._foldingRangesLimit),t=new Uint32Array(this._foldingRangesLimit),a=[],r=0,u=0;r<this._length;r++){var l=this._nestingLevels[r];(l<o||l===o&&i++<this._foldingRangesLimit)&&(e[u]=this._startIndexes[r],t[u]=this._endIndexes[r],a[u]=this._types[r],u++)}return new g1(e,t,a)}},n}();function lie(n,e){for(var t=n.sort(function(l,c){var h=l.start-c.start;return h===0&&(h=l.rank-c.rank),h}),r=new c8e(e),i=void 0,o=[],s=0,a=t;s<a.length;s++){var u=a[s];if(!i)i=u,r.add(u.start,u.end,u.kind&&u.kind.value,o.length);else if(u.start>i.start)if(u.end<=i.end)o.push(i),i=u,r.add(u.start,u.end,u.kind&&u.kind.value,o.length);else{if(u.start>i.end){do i=o.pop();while(i&&u.start>i.end);i&&o.push(i),i=u}r.add(u.start,u.end,u.kind&&u.kind.value,o.length)}}return r.toIndentRanges()}var cie="init",f8e=function(){function n(e,t,r,i){if(this.editorModel=e,this.id=cie,t.length){var o=function(s){return{range:{startLineNumber:s.startLineNumber,startColumn:0,endLineNumber:s.endLineNumber,endColumn:e.getLineLength(s.endLineNumber)},options:{stickiness:1}}};this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(r,i)}}return n.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)},n.prototype.compute=function(e){var t=[];if(this.decorationIds)for(var r=0,i=this.decorationIds;r<i.length;r++){var o=i[r],s=this.editorModel.getDecorationRange(o);s&&t.push({start:s.startLineNumber,end:s.endLineNumber,rank:1})}return Promise.resolve(lie(t,Number.MAX_VALUE))},n}(),Ga=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h8e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},d8e=function(n,e){return function(t,r){e(t,r,n)}},Fu=new Ke("foldingEnabled",!1),wG="editor.contrib.folding",fie=function(n){Ga(e,n);function e(t,r){var i=n.call(this)||this;return i.contextKeyService=r,i.localToDispose=i._register(new Be),i.editor=t,i._isEnabled=i.editor.getConfiguration().contribInfo.folding,i._autoHideFoldingControls=i.editor.getConfiguration().contribInfo.showFoldingControls==="mouseover",i._useFoldingProviders=i.editor.getConfiguration().contribInfo.foldingStrategy!=="indentation",i.foldingModel=null,i.hiddenRangeModel=null,i.rangeProvider=null,i.foldingRegionPromise=null,i.foldingStateMemento=null,i.foldingModelPromise=null,i.updateScheduler=null,i.cursorChangedScheduler=null,i.mouseDownInfo=null,i.foldingDecorationProvider=new ZBe(t),i.foldingDecorationProvider.autoHideFoldingControls=i._autoHideFoldingControls,i.foldingEnabled=Fu.bindTo(i.contextKeyService),i.foldingEnabled.set(i._isEnabled),i._register(i.editor.onDidChangeModel(function(){return i.onModelChanged()})),i._register(i.editor.onDidChangeConfiguration(function(o){if(o.contribInfo){var s=i._isEnabled;i._isEnabled=i.editor.getConfiguration().contribInfo.folding,i.foldingEnabled.set(i._isEnabled),s!==i._isEnabled&&i.onModelChanged();var a=i._autoHideFoldingControls;i._autoHideFoldingControls=i.editor.getConfiguration().contribInfo.showFoldingControls==="mouseover",a!==i._autoHideFoldingControls&&(i.foldingDecorationProvider.autoHideFoldingControls=i._autoHideFoldingControls,i.onModelContentChanged());var u=i._useFoldingProviders;i._useFoldingProviders=i.editor.getConfiguration().contribInfo.foldingStrategy!=="indentation",u!==i._useFoldingProviders&&i.onFoldingStrategyChanged()}})),i.onModelChanged(),i}return e.get=function(t){return t.getContribution(wG)},e.prototype.getId=function(){return wG},e.prototype.saveViewState=function(){var t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){var r=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:r,lineCount:t.getLineCount(),provider:i}}},e.prototype.restoreViewState=function(t){var r=this.editor.getModel();if(!(!r||!this._isEnabled||r.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!t||!t.collapsedRegions||t.lineCount!==r.getLineCount())){(t.provider===uie||t.provider===cie)&&(this.foldingStateMemento=t);var i=t.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){var o=this.getFoldingModel();o&&o.then(function(s){s&&s.applyMemento(i)}).then(void 0,He)}}},e.prototype.onModelChanged=function(){var t=this;this.localToDispose.clear();var r=this.editor.getModel();!this._isEnabled||!r||r.isTooLargeForTokenization()||(this.foldingModel=new XBe(r,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new JBe(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(i){return t.onHiddenRangesChanges(i)})),this.updateScheduler=new k_(200),this.cursorChangedScheduler=new Hr(function(){return t.revealCursor()},200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(xM.onDidChange(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelContent(function(){return t.onModelContentChanged()})),this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return t.onCursorPositionChanged()})),this.localToDispose.add(this.editor.onMouseDown(function(i){return t.onEditorMouseDown(i)})),this.localToDispose.add(this.editor.onMouseUp(function(i){return t.onEditorMouseUp(i)})),this.localToDispose.add({dispose:function(){t.foldingRegionPromise&&(t.foldingRegionPromise.cancel(),t.foldingRegionPromise=null),t.updateScheduler&&t.updateScheduler.cancel(),t.updateScheduler=null,t.foldingModel=null,t.foldingModelPromise=null,t.hiddenRangeModel=null,t.cursorChangedScheduler=null,t.foldingStateMemento=null,t.rangeProvider&&t.rangeProvider.dispose(),t.rangeProvider=null}}),this.onModelContentChanged())},e.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},e.prototype.getRangeProvider=function(t){var r=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new r8e(t),this._useFoldingProviders&&this.foldingModel){var i=xM.ordered(this.foldingModel.textModel);if(i.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var o=this.rangeProvider=new f8e(t,this.foldingStateMemento.collapsedRegions,function(){r.foldingStateMemento=null,r.onFoldingStrategyChanged()},3e4);return o}else i.length>0&&(this.rangeProvider=new u8e(t,i))}return this.foldingStateMemento=null,this.rangeProvider},e.prototype.getFoldingModel=function(){return this.foldingModelPromise},e.prototype.onModelContentChanged=function(){var t=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var r=t.foldingModel;if(!r)return null;var i=t.foldingRegionPromise=Qr(function(o){return t.getRangeProvider(r.textModel).compute(o)});return i.then(function(o){if(o&&i===t.foldingRegionPromise){var s=t.editor.getSelections(),a=s?s.map(function(u){return u.startLineNumber}):[];r.update(o,a)}return r})}).then(void 0,function(r){return He(r),null}))},e.prototype.onHiddenRangesChanges=function(t){if(this.hiddenRangeModel&&t.length){var r=this.editor.getSelections();r&&this.hiddenRangeModel.adjustSelections(r)&&this.editor.setSelections(r)}this.editor.setHiddenAreas(t)},e.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},e.prototype.revealCursor=function(){var t=this,r=this.getFoldingModel();r&&r.then(function(i){if(i){var o=t.editor.getSelections();if(o&&o.length>0){for(var s=[],a=function(h){var d=h.selectionStartLineNumber;t.hiddenRangeModel&&t.hiddenRangeModel.isHidden(d)&&s.push.apply(s,i.getAllRegionsAtLine(d,function(p){return p.isCollapsed&&d>p.startLineNumber}))},u=0,l=o;u<l.length;u++){var c=l[u];a(c)}s.length&&(i.toggleCollapseState(s),t.reveal(o[0].getPosition()))}}}).then(void 0,He)},e.prototype.onEditorMouseDown=function(t){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!t.target||!t.target.range)&&!(!t.event.leftButton&&!t.event.middleButton)){var r=t.target.range,i=!1;switch(t.target.type){case 4:var o=t.target.detail,s=t.target.element.offsetLeft,a=o.offsetX-s;if(a<5)return;i=!0;break;case 7:{if(this.hiddenRangeModel.hasRanges()){var u=t.target.detail;if(!u.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){var l=this.editor.getModel();if(l&&r.startColumn===l.getLineMaxColumn(r.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:r.startLineNumber,iconClicked:i}}},e.prototype.onEditorMouseUp=function(t){var r=this,i=this.getFoldingModel();if(!(!i||!this.mouseDownInfo||!t.target)){var o=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,a=t.target.range;if(!(!a||a.startLineNumber!==o)){if(s){if(t.target.type!==4)return}else{var u=this.editor.getModel();if(!u||a.startColumn!==u.getLineMaxColumn(o))return}i.then(function(l){if(l){var c=l.getRegionAtLine(o);if(c&&c.startLineNumber===o){var h=c.isCollapsed;if(s||h){var d=[c];(t.event.middleButton||t.event.shiftKey)&&d.push.apply(d,l.getRegionsInside(c,function(p){return p.isCollapsed===h})),l.toggleCollapseState(d),r.reveal({lineNumber:o,column:1})}}}}).then(void 0,He)}}},e.prototype.reveal=function(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)},e=h8e([d8e(1,yt)],e),e}(he),Gl=function(n){Ga(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.runEditorCommand=function(t,r,i){var o=this,s=fie.get(r);if(s){var a=s.getFoldingModel();if(a)return this.reportTelemetry(t,r),a.then(function(u){if(u){o.invoke(s,u,r,i);var l=r.getSelection();l&&s.reveal(l.getStartPosition())}})}},e.prototype.getSelectedLines=function(t){var r=t.getSelections();return r?r.map(function(i){return i.startLineNumber}):[]},e.prototype.getLineNumbers=function(t,r){return t&&t.selectionLines?t.selectionLines.map(function(i){return i+1}):this.getSelectedLines(r)},e.prototype.run=function(t,r){},e}(Ue);function hie(n){if(!Co(n)){if(!$i(n))return!1;var e=n;if(!Co(e.levels)&&!Pc(e.levels)||!Co(e.direction)&&!Ll(e.direction)||!Co(e.selectionLines)&&(!MJ(e.selectionLines)||!e.selectionLines.every(Pc)))return!1}return!0}var p8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.unfold",label:D("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:hie,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return e.prototype.invoke=function(t,r,i,o){var s=o&&o.levels||1,a=this.getLineNumbers(o,i);o&&o.direction==="up"?aie(r,!1,s,a):j_(r,!1,s,a)},e}(Gl),g8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.unfoldRecursively",label:D("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2137),weight:100}})||this}return e.prototype.invoke=function(t,r,i,o){j_(r,!1,Number.MAX_VALUE,this.getSelectedLines(i))},e}(Gl),v8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.fold",label:D("foldAction.label","Fold"),alias:"Fold",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold. Defaults to 1.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
						`,constraint:hie,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return e.prototype.invoke=function(t,r,i,o){var s=o&&o.levels||1,a=this.getLineNumbers(o,i);o&&o.direction==="up"?aie(r,!0,s,a):j_(r,!0,s,a)},e}(Gl),m8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.foldRecursively",label:D("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2135),weight:100}})||this}return e.prototype.invoke=function(t,r,i){var o=this.getSelectedLines(i);j_(r,!0,Number.MAX_VALUE,o)},e}(Gl),_8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.foldAllBlockComments",label:D("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2133),weight:100}})||this}return e.prototype.invoke=function(t,r,i){if(r.regions.hasTypes())dB(r,c2.Comment.value,!0);else{var o=i.getModel();if(!o)return;var s=Ot.getComments(o.getLanguageIdentifier().id);if(s&&s.blockCommentStartToken){var a=new RegExp("^\\s*"+Ol(s.blockCommentStartToken));hB(r,a,!0)}}},e}(Gl),y8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.foldAllMarkerRegions",label:D("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2077),weight:100}})||this}return e.prototype.invoke=function(t,r,i){if(r.regions.hasTypes())dB(r,c2.Region.value,!0);else{var o=i.getModel();if(!o)return;var s=Ot.getFoldingRules(o.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){var a=new RegExp(s.markers.start);hB(r,a,!0)}}},e}(Gl),b8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.unfoldAllMarkerRegions",label:D("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2078),weight:100}})||this}return e.prototype.invoke=function(t,r,i){if(r.regions.hasTypes())dB(r,c2.Region.value,!1);else{var o=i.getModel();if(!o)return;var s=Ot.getFoldingRules(o.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){var a=new RegExp(s.markers.start);hB(r,a,!1)}}},e}(Gl),C8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.foldAll",label:D("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2069),weight:100}})||this}return e.prototype.invoke=function(t,r,i){j_(r,!0)},e}(Gl),w8e=function(n){Ga(e,n);function e(){return n.call(this,{id:"editor.unfoldAll",label:D("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2088),weight:100}})||this}return e.prototype.invoke=function(t,r,i){j_(r,!1)},e}(Gl),EG=function(n){Ga(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(e.ID_PREFIX.length))},e.prototype.invoke=function(t,r,i){QBe(r,this.getFoldingLevel(),!0,this.getSelectedLines(i))},e.ID_PREFIX="editor.foldLevel",e.ID=function(t){return e.ID_PREFIX+t},e}(Gl);Cn(fie);ge(p8e);ge(g8e);ge(v8e);ge(m8e);ge(C8e);ge(w8e);ge(_8e);ge(y8e);ge(b8e);for(var yv=1;yv<=7;yv++)iLe(new EG({id:EG.ID(yv),label:D("foldLevelAction.label","Fold Level {0}",yv),alias:"Fold Level "+yv,precondition:Fu,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2048|21+yv),weight:100}}));var pB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E8e=function(n){pB(e,n);function e(){return n.call(this,{id:"editor.action.fontZoomIn",label:D("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return e.prototype.run=function(t,r){Wc.setZoomLevel(Wc.getZoomLevel()+1)},e}(Ue),S8e=function(n){pB(e,n);function e(){return n.call(this,{id:"editor.action.fontZoomOut",label:D("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return e.prototype.run=function(t,r){Wc.setZoomLevel(Wc.getZoomLevel()-1)},e}(Ue),T8e=function(n){pB(e,n);function e(){return n.call(this,{id:"editor.action.fontZoomReset",label:D("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return e.prototype.run=function(t,r){Wc.setZoomLevel(0)},e}(Ue);ge(E8e);ge(S8e);ge(T8e);var gB=function(){function n(){}return n._handleEolEdits=function(e,t){for(var r=void 0,i=[],o=0,s=t;o<s.length;o++){var a=s[o];typeof a.eol=="number"&&(r=a.eol),a.range&&typeof a.text=="string"&&i.push(a)}return typeof r=="number"&&e.hasModel()&&e.getModel().pushEOL(r),i},n._isFullModelReplaceEdit=function(e,t){if(!e.hasModel())return!1;var r=e.getModel(),i=r.validateRange(t.range),o=r.getFullModelRange();return o.equalsRange(i)},n.execute=function(e,t){e.pushUndoStop();var r=n._handleEolEdits(e,t);r.length===1&&n._isFullModelReplaceEdit(e,r[0])?e.executeEdits("formatEditsCommand",r.map(function(i){return Pr.replace(H.lift(i.range),i.text)})):e.executeEdits("formatEditsCommand",r.map(function(i){return Pr.replaceMove(H.lift(i.range),i.text)})),e.pushUndoStop()},n}(),Bk=function(){function n(e){this.value=e,this._lower=e.toLowerCase()}return n.toKey=function(e){return typeof e=="string"?e.toLowerCase():e._lower},n}(),mg=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},_g=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function vB(n){if(n=n.filter(function(o){return o.range}),!!n.length){for(var e=n[0].range,t=1;t<n.length;t++)e=H.plusRange(e,n[t].range);var r=e.startLineNumber,i=e.endLineNumber;r===i?n.length===1?Ki(D("hint11","Made 1 formatting edit on line {0}",r)):Ki(D("hintn1","Made {0} formatting edits on line {1}",n.length,r)):n.length===1?Ki(D("hint1n","Made 1 formatting edit between lines {0} and {1}",r,i)):Ki(D("hintnn","Made {0} formatting edits between lines {1} and {2}",n.length,r,i))}}function die(n){for(var e=[],t=new Set,r=eb.ordered(n),i=0,o=r;i<o.length;i++){var s=o[i];e.push(s),s.extensionId&&t.add(Bk.toKey(s.extensionId))}for(var a=vu.ordered(n),u=function(h){if(h.extensionId){if(t.has(Bk.toKey(h.extensionId)))return"continue";t.add(Bk.toKey(h.extensionId))}e.push({displayName:h.displayName,extensionId:h.extensionId,provideDocumentFormattingEdits:function(d,p,v){return h.provideDocumentRangeFormattingEdits(d,d.getFullModelRange(),p,v)}})},l=0,c=a;l<c.length;l++){var s=c[l];u(s)}return e}var pie=function(){function n(){}return n.select=function(e,t,r){return mg(this,void 0,void 0,function(){var i;return _g(this,function(o){switch(o.label){case 0:return e.length===0?[2,void 0]:(i=n._selectors.iterator().next().value,i?[4,i(e,t,r)]:[3,2]);case 1:return[2,o.sent()];case 2:return[2,e[0]]}})})},n._selectors=new Mc,n}();function gie(n,e,t,r,i){return mg(this,void 0,void 0,function(){var o,s,a,u;return _g(this,function(l){switch(l.label){case 0:return o=n.get(pr),s=kl(e)?e.getModel():e,a=vu.ordered(s),[4,pie.select(a,s,r)];case 1:return u=l.sent(),u?[4,o.invokeFunction(D8e,u,e,t,i)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function D8e(n,e,t,r,i){return mg(this,void 0,void 0,function(){var o,s,a,u,l,c,h;return _g(this,function(d){switch(d.label){case 0:o=n.get(za),kl(t)?(s=t.getModel(),a=new E5(t,5,i)):(s=t,a=new S5(t,i)),d.label=1;case 1:return d.trys.push([1,,4,5]),[4,e.provideDocumentRangeFormattingEdits(s,r,s.getFormattingOptions(),a.token)];case 2:return l=d.sent(),[4,o.computeMoreMinimalEdits(s.uri,l)];case 3:return u=d.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return!u||u.length===0?[2,!1]:(kl(t)?(gB.execute(t,u),vB(u),t.pushUndoStop(),t.focus(),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1)):(c=u[0].range,h=new Re(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),s.pushEditOperations([h],u.map(function(p){return{text:p.text,range:H.lift(p.range),forceMoveMarkers:!0}}),function(p){for(var v=0,m=p;v<m.length;v++){var _=m[v].range;if(H.areIntersectingOrTouching(_,h))return[new Re(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)]}return null})),[2,!0])}})})}function A8e(n,e,t,r){return mg(this,void 0,void 0,function(){var i,o,s,a;return _g(this,function(u){switch(u.label){case 0:return i=n.get(pr),o=kl(e)?e.getModel():e,s=die(o),[4,pie.select(s,o,t)];case 1:return a=u.sent(),a?[4,i.invokeFunction(I8e,a,e,t,r)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function I8e(n,e,t,r,i){return mg(this,void 0,void 0,function(){var o,s,a,u,l,c,h;return _g(this,function(d){switch(d.label){case 0:o=n.get(za),kl(t)?(s=t.getModel(),a=new E5(t,5,i)):(s=t,a=new S5(t,i)),d.label=1;case 1:return d.trys.push([1,,4,5]),[4,e.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token)];case 2:return l=d.sent(),[4,o.computeMoreMinimalEdits(s.uri,l)];case 3:return u=d.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return!u||u.length===0?[2,!1]:(kl(t)?(gB.execute(t,u),r!==2&&(vB(u),t.pushUndoStop(),t.focus(),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1))):(c=u[0].range,h=new Re(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),s.pushEditOperations([h],u.map(function(p){return{text:p.text,range:H.lift(p.range),forceMoveMarkers:!0}}),function(p){for(var v=0,m=p;v<m.length;v++){var _=m[v].range;if(H.areIntersectingOrTouching(_,h))return[new Re(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)]}return null})),[2,!0])}})})}function x8e(n,e,t,r,i){return mg(this,void 0,void 0,function(){var o,s,a,u,l;return _g(this,function(c){switch(c.label){case 0:o=vu.ordered(e),s=0,a=o,c.label=1;case 1:return s<a.length?(u=a[s],[4,Promise.resolve(u.provideDocumentRangeFormattingEdits(e,t,r,i)).catch(Oo)]):[3,5];case 2:return l=c.sent(),cs(l)?[4,n.computeMoreMinimalEdits(e.uri,l)]:[3,4];case 3:return[2,c.sent()];case 4:return s++,[3,1];case 5:return[2,void 0]}})})}function L8e(n,e,t,r){return mg(this,void 0,void 0,function(){var i,o,s,a,u;return _g(this,function(l){switch(l.label){case 0:i=die(e),o=0,s=i,l.label=1;case 1:return o<s.length?(a=s[o],[4,Promise.resolve(a.provideDocumentFormattingEdits(e,t,r)).catch(Oo)]):[3,5];case 2:return u=l.sent(),cs(u)?[4,n.computeMoreMinimalEdits(e.uri,u)]:[3,4];case 3:return[2,l.sent()];case 4:return o++,[3,1];case 5:return[2,void 0]}})})}function vie(n,e,t,r,i){var o=UT.ordered(e);return o.length===0||o[0].autoFormatTriggerCharacters.indexOf(r)<0?Promise.resolve(void 0):Promise.resolve(o[0].provideOnTypeFormattingEdits(e,t,r,i,rn.None)).catch(Oo).then(function(s){return n.computeMoreMinimalEdits(e.uri,s)})}Qc("_executeFormatRangeProvider",function(n,e){var t=e.resource,r=e.range,i=e.options;if(!(t instanceof Ft)||!H.isIRange(r))throw Br();var o=n.get(ps).getModel(t);if(!o)throw Br("resource");return x8e(n.get(za),o,H.lift(r),i,rn.None)});Qc("_executeFormatDocumentProvider",function(n,e){var t=e.resource,r=e.options;if(!(t instanceof Ft))throw Br("resource");var i=n.get(ps).getModel(t);if(!i)throw Br("resource");return L8e(n.get(za),i,r,rn.None)});Qc("_executeFormatOnTypeProvider",function(n,e){var t=e.resource,r=e.position,i=e.ch,o=e.options;if(!(t instanceof Ft)||!ee.isIPosition(r)||typeof i!="string")throw Br();var s=n.get(ps).getModel(t);if(!s)throw Br("resource");return vie(n.get(za),s,ee.lift(r),i,o)});var mie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_ie=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yie=function(n,e){return function(t,r){e(t,r,n)}},mB=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},_B=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},N8e=void 0,O8e=function(){function n(e,t){var r=this;this._workerService=t,this._callOnDispose=new Be,this._callOnModel=new Be,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModel(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModelLanguage(function(){return r._update()})),this._callOnDispose.add(UT.onDidChange(this._update,this))}return n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},n.prototype._update=function(){var e=this;if(this._callOnModel.clear(),!!this._editor.getConfiguration().contribInfo.formatOnType&&this._editor.hasModel()){var t=this._editor.getModel(),r=UT.ordered(t)[0];if(!(!r||!r.autoFormatTriggerCharacters)){for(var i=new Wv,o=0,s=r.autoFormatTriggerCharacters;o<s.length;o++){var a=s[o];i.add(a.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType(function(u){var l=u.charCodeAt(u.length-1);i.has(l)&&e._trigger(String.fromCharCode(l))}))}}},n.prototype._trigger=function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var r=this._editor.getModel(),i=this._editor.getPosition(),o=!1,s=this._editor.onDidChangeModelContent(function(a){if(a.isFlush){o=!0,s.dispose();return}for(var u=0,l=a.changes.length;u<l;u++){var c=a.changes[u];if(c.range.endLineNumber<=i.lineNumber){o=!0,s.dispose();return}}});vie(this._workerService,r,i,e,r.getFormattingOptions()).then(function(a){s.dispose(),!o&&cs(a)&&(gB.execute(t._editor,a),vB(a))},function(a){throw s.dispose(),a})}},n.ID="editor.contrib.autoFormat",n=_ie([yie(1,za)],n),n}(),k8e=function(){function n(e,t){var r=this;this.editor=e,this._instantiationService=t,this._callOnDispose=new Be,this._callOnModel=new Be,this._callOnDispose.add(e.onDidChangeConfiguration(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModel(function(){return r._update()})),this._callOnDispose.add(e.onDidChangeModelLanguage(function(){return r._update()})),this._callOnDispose.add(vu.onDidChange(this._update,this))}return n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},n.prototype._update=function(){var e=this;this._callOnModel.clear(),this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.hasModel()&&vu.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(function(t){return e._trigger(t)}))},n.prototype._trigger=function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(gie,this.editor,e,2,rn.None).catch(He))},n.ID="editor.contrib.formatOnPaste",n=_ie([yie(1,pr)],n),n}(),R8e=function(n){mie(e,n);function e(){return n.call(this,{id:"editor.action.formatDocument",label:D("formatDocument.label","Format Document"),alias:"Format Document",precondition:Oe.and(W.writable,W.hasDocumentFormattingProvider),kbOpts:{kbExpr:Oe.and(W.editorTextFocus,W.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},menuOpts:{when:W.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return e.prototype.run=function(t,r){return mB(this,void 0,void 0,function(){var i;return _B(this,function(o){switch(o.label){case 0:return r.hasModel()?(i=t.get(pr),[4,i.invokeFunction(A8e,r,1,rn.None)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e}(Ue),P8e=function(n){mie(e,n);function e(){return n.call(this,{id:"editor.action.formatSelection",label:D("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Oe.and(W.writable,W.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Oe.and(W.editorTextFocus,W.hasDocumentSelectionFormattingProvider),primary:ko(2089,2084),weight:100},menuOpts:{when:Oe.and(W.hasDocumentSelectionFormattingProvider,W.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return e.prototype.run=function(t,r){return mB(this,void 0,void 0,function(){var i,o,s;return _B(this,function(a){switch(a.label){case 0:return r.hasModel()?(i=t.get(pr),o=r.getModel(),s=r.getSelection(),s.isEmpty()&&(s=new H(s.startLineNumber,1,s.startLineNumber,o.getLineMaxColumn(s.startLineNumber))),[4,i.invokeFunction(gie,r,s,1,rn.None)]):[2];case 1:return a.sent(),[2]}})})},e}(Ue);Cn(O8e);Cn(k8e);ge(R8e);ge(P8e);Bi.registerCommand("editor.action.format",function(n){return mB(N8e,void 0,void 0,function(){var e,t;return _B(this,function(r){switch(r.label){case 0:return e=n.get(In).getFocusedCodeEditor(),!e||!e.hasModel()?[2]:(t=n.get(no),e.getSelection().isEmpty()?[4,t.executeCommand("editor.action.formatDocument")]:[3,2]);case 1:return r.sent(),[3,4];case 2:return[4,t.executeCommand("editor.action.formatSelection")];case 3:r.sent(),r.label=4;case 4:return[2]}})})});var M8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),F8e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kd=function(n,e){return function(t,r){e(t,r,n)}},yB=function(n){M8e(e,n);function e(t,r,i,o,s,a,u,l,c,h){var d=n.call(this,t,i.getRawConfiguration(),{},o,s,a,u,l,c,h)||this;return d._parentEditor=i,d._overwriteOptions=r,n.prototype.updateOptions.call(d,d._overwriteOptions),d._register(i.onDidChangeConfiguration(function(p){return d._onParentConfigurationChanged(p)})),d}return e.prototype.getParentEditor=function(){return this._parentEditor},e.prototype._onParentConfigurationChanged=function(t){n.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),n.prototype.updateOptions.call(this,this._overwriteOptions)},e.prototype.updateOptions=function(t){$r(this._overwriteOptions,t,!0),n.prototype.updateOptions.call(this,this._overwriteOptions)},e=F8e([kd(3,pr),kd(4,In),kd(5,no),kd(6,yt),kd(7,ei),kd(8,bi),kd(9,ql)],e),e}(b5),bie=function(){function n(e){this._prefix=e,this._lastId=0}return n.prototype.nextId=function(){return this._prefix+ ++this._lastId},n}(),Cie=new bie("id#"),SG=new ae(new yn(0,122,204)),B8e={showArrow:!0,showFrame:!0,className:"",frameColor:SG,arrowColor:SG,keepEditorSelection:!1},H8e="vs.editor.contrib.zoneWidget",V8e=function(){function n(e,t,r,i,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=r,this.heightInLines=i,this._onDomNodeTop=o,this._onComputedHeight=s}return n.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},n.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},n}(),W8e=function(){function n(e,t){this._id=e,this._domNode=t}return n.prototype.getId=function(){return this._id},n.prototype.getDomNode=function(){return this._domNode},n.prototype.getPosition=function(){return null},n}(),U8e=function(){function n(e){this._editor=e,this._ruleName=n._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return n.prototype.dispose=function(){this.hide(),SM(this._ruleName)},Object.defineProperty(n.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),n.prototype._updateStyle=function(){SM(this._ruleName),eAe(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},n.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:H.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])},n.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},n._IdGenerator=new bie(".arrow-decoration-"),n}(),j8e=function(){function n(e,t){var r=this;t===void 0&&(t={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Be,this.container=null,this._isShowing=!1,this.editor=e,this.options=mc(t),$r(this.options,B8e,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(i){var o=r._getWidth(i);r.domNode.style.width=o+"px",r.domNode.style.left=r._getLeft(i)+"px",r._onWidth(o)}))}return n.prototype.dispose=function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},n.prototype.create=function(){De(this.domNode,"zone-widget"),this.options.className&&De(this.domNode,this.options.className),this.container=document.createElement("div"),De(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new U8e(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},n.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},n.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}},n.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth},n.prototype._getLeft=function(e){return e.minimapWidth>0&&e.minimapLeft===0?e.minimapWidth:0},n.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},n.prototype._onViewZoneHeight=function(e){if(this.domNode.style.height=e+"px",this.container){var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var r=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(r))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(n.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){var t=this.editor.getModel();if(t){var r=t.getDecorationRange(e);if(r)return r.getStartPosition()}}},enumerable:!0,configurable:!0}),n.prototype.show=function(e,t){var r=H.isIRange(e)?e:new H(e.lineNumber,e.column,e.lineNumber,e.column);this._isShowing=!0,this._showImpl(r,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:r,options:mt.EMPTY}])},n.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},n.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight,t=0;if(this.options.showArrow){var r=Math.round(e/3);t+=2*r}if(this.options.showFrame){var i=Math.round(e/9);t+=2*i}return t},n.prototype._showImpl=function(e,t){var r=this,i={lineNumber:e.startLineNumber,column:e.startColumn},o=this.editor.getLayoutInfo(),s=this._getWidth(o);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(o)+"px";var a=document.createElement("div");a.style.overflow="hidden";var u=this.editor.getConfiguration().lineHeight,l=this.editor.getLayoutInfo().height/u*.8;t>=l&&(t=l);var c=0,h=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(u/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(h=Math.round(u/9)),this.editor.changeViewZones(function(_){r._viewZone&&_.removeZone(r._viewZone.id),r._overlayWidget&&(r.editor.removeOverlayWidget(r._overlayWidget),r._overlayWidget=null),r.domNode.style.top="-1000px",r._viewZone=new V8e(a,i.lineNumber,i.column,t,function(b){return r._onViewZoneTop(b)},function(b){return r._onViewZoneHeight(b)}),r._viewZone.id=_.addZone(r._viewZone),r._overlayWidget=new W8e(H8e+r._viewZone.id,r.domNode),r.editor.addOverlayWidget(r._overlayWidget)}),this.container&&this.options.showFrame){var d=this.options.frameWidth?this.options.frameWidth:h;this.container.style.borderTopWidth=d+"px",this.container.style.borderBottomWidth=d+"px"}var p=t*u-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=p+"px",this.container.style.overflow="hidden"),this._doLayout(p,s),this.options.keepEditorSelection||this.editor.setSelection(e);var v=this.editor.getModel();if(v){var m=Math.min(v.getLineCount(),Math.max(1,e.endLineNumber+1));this.revealLine(m)}},n.prototype.revealLine=function(e){this.editor.revealLine(e,0)},n.prototype.setCssClass=function(e,t){this.container&&(t&&this.container.classList.remove(t),De(this.container,e))},n.prototype._onWidth=function(e){},n.prototype._doLayout=function(e,t){},n.prototype._relayout=function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(r){t._viewZone&&(t._viewZone.heightInLines=e,r.layoutZone(t._viewZone.id))})},n.prototype._initSash=function(){var e=this;if(!this._resizeSash){this._resizeSash=this._disposables.add(new D2(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);var t;this._disposables.add(this._resizeSash.onDidStart(function(r){e._viewZone&&(t={startY:r.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(function(){t=void 0})),this._disposables.add(this._resizeSash.onDidChange(function(r){if(t){var i=(r.currentY-t.startY)/e.editor.getConfiguration().lineHeight,o=i<0?Math.ceil(i):Math.floor(i),s=t.heightInLines+o;s>5&&s<35&&e._relayout(s)}}))}},n.prototype.getHorizontalSashLeft=function(){return 0},n.prototype.getHorizontalSashTop=function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},n.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},n}(),q8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wie=qt("IPeekViewService");EC(wie,function(){function n(){this._widgets=new Map}return n.prototype.addExclusiveWidget=function(e,t){var r=this,i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());var o=function(){var s=r._widgets.get(e);s&&s.widget===t&&(s.listener.dispose(),r._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(o)})},n}());var Uc;(function(n){n.inPeekEditor=new Ke("inReferenceSearchEditor",!0),n.notInPeekEditor=n.inPeekEditor.toNegated()})(Uc||(Uc={}));function z8e(n){var e=n.get(In).getFocusedCodeEditor();return e instanceof yB?e.getParentEditor():e}var G8e={headerBackgroundColor:ae.white,primaryHeadingColor:ae.fromHex("#333333"),secondaryHeadingColor:ae.fromHex("#6c6c6cb3")},Eie=function(n){q8e(e,n);function e(t,r){r===void 0&&(r={});var i=n.call(this,t,r)||this;return i._onDidClose=new Q,$r(i.options,G8e,!1),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(e.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),e.prototype.style=function(t){var r=this.options;t.headerBackgroundColor&&(r.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(r.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(r.secondaryHeadingColor=t.secondaryHeadingColor),n.prototype.style.call(this,t)},e.prototype._applyStyles=function(){n.prototype._applyStyles.call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())},e.prototype._fillContainer=function(t){this.setCssClass("peekview-widget"),this._headElement=We(".head"),this._bodyElement=We(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)},e.prototype._fillHead=function(t){var r=this,i=We(".peekview-title");Ee(this._headElement,i),mi(i,"click",function(a){return r._onTitleClick(a)}),this._fillTitleIcon(i),this._primaryHeading=We("span.filename"),this._secondaryHeading=We("span.dirname"),this._metaHeading=We("span.meta"),Ee(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);var o=We(".peekview-actions");Ee(this._headElement,o);var s=this._getActionBarOptions();this._actionbarWidget=new SC(o,s),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new pa("peekview.close",D("label.close","Close"),"close-peekview-action",!0,function(){return r.dispose(),Promise.resolve()}),{label:!1,icon:!0})},e.prototype._fillTitleIcon=function(t){},e.prototype._getActionBarOptions=function(){return{}},e.prototype._onTitleClick=function(t){},e.prototype.setTitle=function(t,r){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=ha(t),this._primaryHeading.setAttribute("aria-label",t),r?this._secondaryHeading.innerHTML=ha(r):_a(this._secondaryHeading))},e.prototype.setMetaTitle=function(t){this._metaHeading&&(t?this._metaHeading.innerHTML=ha(t):_a(this._metaHeading))},e.prototype._doLayout=function(t,r){if(!this._isShowing&&t<0){this.dispose();return}var i=Math.ceil(this.editor.getConfiguration().lineHeight*1.2),o=t-(i+2);this._doLayoutHead(i,r),this._doLayoutBody(o,r)},e.prototype._doLayoutHead=function(t,r){this._headElement&&(this._headElement.style.height=t+"px",this._headElement.style.lineHeight=this._headElement.style.height)},e.prototype._doLayoutBody=function(t,r){this._bodyElement&&(this._bodyElement.style.height=t+"px")},e}(j8e),Gm=function(){function n(e,t,r){this.parent=e,this._range=t,this.isProviderFirst=r,this._onRefChanged=new Q,this.onRefChanged=this._onRefChanged.event,this.id=Cie.nextId()}return Object.defineProperty(n.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._onRefChanged.fire(this)},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){return D("aria.oneReference","symbol in {0} on line {1} at column {2}",Vc(this.uri),this.range.startLineNumber,this.range.startColumn)},n}(),$8e=function(){function n(e){this._modelReference=e}return n.prototype.dispose=function(){nt(this._modelReference)},n.prototype.preview=function(e,t){t===void 0&&(t=8);var r=this._modelReference.object.textEditorModel;if(r){var i=e.startLineNumber,o=e.startColumn,s=e.endLineNumber,a=e.endColumn,u=r.getWordUntilPosition({lineNumber:i,column:o-t}),l=new H(i,u.startColumn,i,o),c=new H(s,a,s,Number.MAX_VALUE),h=r.getValueInRange(l).replace(/^\s+/,Kb),d=r.getValueInRange(e),p=r.getValueInRange(c).replace(/\s+$/,Kb);return{value:h+d+p,highlight:{start:h.length,end:h.length+d.length}}}},n}(),$m=function(){function n(e,t){this._parent=e,this._uri=t,this._children=[]}return Object.defineProperty(n.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){var e=this.children.length;return e===1?D("aria.fileReferences.1","1 symbol in {0}, full path {1}",Vc(this.uri),this.uri.fsPath):D("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Vc(this.uri),this.uri.fsPath)},n.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this._uri).then(function(r){var i=r.object;if(!i)throw r.dispose(),new Error;return t._preview=new $8e(r),t._resolved=!0,t},function(r){return t._children=[],t._resolved=!0,t._loadFailure=r,t}))},n.prototype.dispose=function(){this._preview&&(this._preview.dispose(),this._preview=void 0)},n}(),Km=function(){function n(e){var t=this;this._disposables=new Be,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Q,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event;var r=e[0];e.sort(n._compareReferences);for(var i,o=0,s=e;o<s.length;o++){var a=s[o];if((!i||i.uri.toString()!==a.uri.toString())&&(i=new $m(this,a.uri),this.groups.push(i)),i.children.length===0||!H.equalsRange(a.range,i.children[i.children.length-1].range)){var u=new Gm(i,a.targetSelectionRange||a.range,r===a);this._disposables.add(u.onRefChanged(function(l){return t._onDidChangeReferenceRange.fire(l)})),this.references.push(u),i.children.push(u)}}}return Object.defineProperty(n.prototype,"empty",{get:function(){return this.groups.length===0},enumerable:!0,configurable:!0}),n.prototype.getAriaMessage=function(){return this.empty?D("aria.result.0","No results found"):this.references.length===1?D("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?D("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):D("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},n.prototype.nextOrPreviousReference=function(e,t){var r=e.parent,i=r.children.indexOf(e),o=r.children.length,s=r.parent.groups.length;return s===1||t&&i+1<o||!t&&i>0?(t?i=(i+1)%o:i=(i+o-1)%o,r.children[i]):(i=r.parent.groups.indexOf(r),t?(i=(i+1)%s,r.parent.groups[i].children[0]):(i=(i+s-1)%s,r.parent.groups[i].children[r.parent.groups[i].children.length-1]))},n.prototype.nearestReference=function(e,t){var r=this.references.map(function(i,o){return{idx:o,prefixLen:C6(i.uri.toString(),e.toString()),offsetDist:Math.abs(i.range.startLineNumber-t.lineNumber)*100+Math.abs(i.range.startColumn-t.column)}}).sort(function(i,o){return i.prefixLen>o.prefixLen?-1:i.prefixLen<o.prefixLen?1:i.offsetDist<o.offsetDist?-1:i.offsetDist>o.offsetDist?1:0})[0];if(r)return this.references[r.idx]},n.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var r=t[e];if(r.isProviderFirst)return r}return this.references[0]},n.prototype.dispose=function(){nt(this.groups),this._disposables.dispose(),this.groups.length=0},n._compareReferences=function(e,t){var r=e.uri.toString(),i=t.uri.toString();return r<i?-1:r>i?1:H.compareRangesUsingStarts(e.range,t.range)},n}();function Hk(n){return ha(n)}var Gv=function(){function n(e,t){this.supportOcticons=t,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(n.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),n.prototype.set=function(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=""),e||(e=""),i&&(e=n.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===r&&ih(this.highlights,t))&&(Array.isArray(t)||(t=[]),this.text=e,this.title=r,this.highlights=t,this.render())},n.prototype.render=function(){for(var e="",t=0,r=0,i=this.highlights;r<i.length;r++){var o=i[r];if(o.end!==o.start){if(t<o.start){e+="<span>";var s=this.text.substring(t,o.start);e+=this.supportOcticons?Hk(s):ha(s),e+="</span>",t=o.end}e+='<span class="highlight">';var a=this.text.substring(o.start,o.end);e+=this.supportOcticons?Hk(a):ha(a),e+="</span>",t=o.end}}if(t<this.text.length){e+="<span>";var a=this.text.substring(t);e+=this.supportOcticons?Hk(a):ha(a),e+="</span>"}this.domNode.innerHTML=e,this.domNode.title=this.title,this.didEverRender=!0},n.escapeNewLines=function(e,t){var r=0,i=0;return e.replace(/\r\n|\r|\n/g,function(o,s){i=o===`\r
`?-1:0,s+=r;for(var a=0,u=t;a<u.length;a++){var l=u[a];l.end<=s||(l.start>=s&&(l.start+=i),l.end>=s&&(l.end+=i))}return r+=i,""})},n}(),K8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QE=function(){function n(e){this._element=e}return Object.defineProperty(n.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textContent",{set:function(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{set:function(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{set:function(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"empty",{set:function(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":null)},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.disposed=!0},n}(),bB=function(n){K8e(e,n);function e(t,r){var i=n.call(this)||this;return i.domNode=i._register(new QE(Ee(t,We(".monaco-icon-label")))),i.labelDescriptionContainer=i._register(new QE(Ee(i.domNode.element,We(".monaco-icon-label-description-container")))),r&&r.supportHighlights?i.labelNode=new Gv(Ee(i.labelDescriptionContainer.element,We("a.label-name")),!!r.supportOcticons):i.labelNode=i._register(new QE(Ee(i.labelDescriptionContainer.element,We("a.label-name")))),r&&r.supportDescriptionHighlights?i.descriptionNodeFactory=function(){return new Gv(Ee(i.labelDescriptionContainer.element,We("span.label-description")),!!r.supportOcticons)}:i.descriptionNodeFactory=function(){return i._register(new QE(Ee(i.labelDescriptionContainer.element,We("span.label-description"))))},i}return e.prototype.setLabel=function(t,r,i){var o=["monaco-icon-label"];i&&(i.extraClasses&&o.push.apply(o,i.extraClasses),i.italic&&o.push("italic")),this.domNode.className=o.join(" "),this.domNode.title=i&&i.title?i.title:"",this.labelNode instanceof Gv?this.labelNode.set(t||"",i?i.matches:void 0,i&&i.title?i.title:void 0,i&&i.labelEscapeNewLines):this.labelNode.textContent=t||"",(r||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Gv?(this.descriptionNode.set(r||"",i?i.descriptionMatches:void 0),i&&i.descriptionTitle?this.descriptionNode.element.title=i.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=r||"",this.descriptionNode.title=i&&i.descriptionTitle?i.descriptionTitle:"",this.descriptionNode.empty=!r))},e}(he),Y8e={badgeBackground:ae.fromHex("#4D4D4D"),badgeForeground:ae.fromHex("#FFFFFF")},X8e=function(){function n(e,t){this.count=0,this.options=t||Object.create(null),$r(this.options,Y8e,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Ee(e,We(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return n.prototype.setCount=function(e){this.count=e,this.render()},n.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},n.prototype.render=function(){this.element.textContent=Yt(this.countFormat,this.count),this.element.title=Yt(this.titleFormat,this.count),this.applyStyles()},n.prototype.style=function(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()},n.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():null,t=this.badgeForeground?this.badgeForeground.toString():null,r=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=r?"1px":null,this.element.style.borderStyle=r?"solid":null,this.element.style.borderColor=r}},n}();function Q8e(n,e,t){if(typeof n=="string"&&(n=Ft.file(n)),n.scheme!==Tn.file&&n.scheme!==Tn.untitled)return n.with({query:null,fragment:null}).toString(!0);if(CB(n.fsPath))return PT(Tie(n.fsPath));var r=PT(n.fsPath);return!xo&&e&&(r=Z8e(r,e.userHome)),r}function Sie(n){if(n){typeof n=="string"&&(n=Ft.file(n));var e=Vc(n)||(n.scheme===Tn.file?n.fsPath:n.path);return CB(e)?Tie(e):e}}function CB(n){return!!(xo&&n&&n[1]===":")}function Tie(n){return CB(n)?n.charAt(0).toUpperCase()+n.slice(1):n}var Vk=Object.create(null);function Z8e(n,e){if(xo||!n||!e)return n;var t=Vk.original===e?Vk.normalized:void 0;return t||(t=""+gee(e,Tr.sep)+Tr.sep,Vk={original:e,normalized:t}),(Xc?Yb(n,t):_ee(n,t))&&(n="~/"+n.substr(t.length)),n}var J8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),U2=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},v1=function(n,e){return function(t,r){e(t,r,n)}},e9e=function(){function n(e){this._resolverService=e}return n.prototype.hasChildren=function(e){return e instanceof Km||e instanceof $m&&!e.failure},n.prototype.getChildren=function(e){if(e instanceof Km)return e.groups;if(e instanceof $m)return e.resolve(this._resolverService).then(function(t){return t.children});throw new Error("bad tree")},n=U2([v1(0,Wp)],n),n}(),t9e=function(){function n(){}return n.prototype.getHeight=function(){return 23},n.prototype.getTemplateId=function(e){return e instanceof $m?Die.id:Aie.id},n}(),n9e=function(){function n(e){this._keybindingService=e}return n.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof Gm){var t=e.parent.preview,r=t&&t.preview(e.range);if(r)return r.value}return Vc(e.uri)},n.prototype.mightProducePrintableCharacter=function(e){return this._keybindingService.mightProducePrintableCharacter(e)},n=U2([v1(0,Dr)],n),n}(),r9e=function(){function n(){}return n.prototype.getId=function(e){return e.id},n}(),i9e=function(n){J8e(e,n);function e(t,r,i){var o=n.call(this)||this;o._uriLabel=r;var s=document.createElement("div");return De(s,"reference-file"),o.file=o._register(new bB(s,{supportHighlights:!0})),o.badge=new X8e(Ee(s,We(".count"))),o._register(UMe(o.badge,i)),t.appendChild(s),o}return e.prototype.set=function(t,r){var i=I6(t.uri);this.file.setLabel(Sie(t.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(t.uri),matches:r});var o=t.children.length;this.badge.setCount(o),t.failure?this.badge.setTitleFormat(D("referencesFailre","Failed to resolve file.")):o>1?this.badge.setTitleFormat(D("referencesCount","{0} references",o)):this.badge.setTitleFormat(D("referenceCount","{0} reference",o))},e=U2([v1(1,O2),v1(2,ei)],e),e}(he),Die=function(){function n(e){this._instantiationService=e,this.templateId=n.id}return n.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(i9e,e)},n.prototype.renderElement=function(e,t,r){r.set(e.element,M5(e.filterData))},n.prototype.disposeTemplate=function(e){e.dispose()},n.id="FileReferencesRenderer",n=U2([v1(0,pr)],n),n}(),o9e=function(){function n(e){this.label=new Gv(e,!1)}return n.prototype.set=function(e,t){var r=e.parent.preview,i=r&&r.preview(e.range);if(!i)this.label.set(Vc(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1));else{var o=i.value,s=i.highlight;t&&!Eu.isDefault(t)?(Rt(this.label.element,"referenceMatch",!1),this.label.set(o,M5(t))):(Rt(this.label.element,"referenceMatch",!0),this.label.set(o,[s]))}},n}(),Aie=function(){function n(){this.templateId=n.id}return n.prototype.renderTemplate=function(e){return new o9e(e)},n.prototype.renderElement=function(e,t,r){r.set(e.element,e.filterData)},n.prototype.disposeTemplate=function(){},n.id="OneReferenceRenderer",n}(),s9e=function(){function n(){}return n.prototype.getAriaLabel=function(e){return e instanceof $m||e instanceof Gm?e.getAriaMessage():null},n}(),wB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),a9e={separatorBorder:ae.transparent},Iie=function(){function n(e,t,r,i){this.container=e,this.view=t,this.disposable=i,this._cachedVisibleSize=void 0,typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,De(e,"visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}return Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return typeof this._cachedVisibleSize>"u"},enumerable:!0,configurable:!0}),n.prototype.setVisible=function(e,t){e!==this.visible&&(e?(this.size=lu(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),Rt(this.container,"visible",e),this.view.setVisible&&this.view.setVisible(e))},Object.defineProperty(n.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:!0,configurable:!0}),n.prototype.layout=function(e){this.view.layout(this.size,e)},n.prototype.dispose=function(){return this.disposable.dispose(),this.view},n}(),u9e=function(n){wB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.layout=function(t){n.prototype.layout.call(this,t),this.container.style.height=this.size+"px"},e}(Iie),l9e=function(n){wB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.layout=function(t){n.prototype.layout.call(this,t),this.container.style.width=this.size+"px"},e}(Iie),fc;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(fc||(fc={}));var ED;(function(n){n.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}n.Split=e;function t(r){return{type:"invisible",cachedVisibleSize:r}}n.Invisible=t})(ED||(ED={}));var c9e=function(n){wB(e,n);function e(t,r){r===void 0&&(r={});var i=n.call(this)||this;return i.size=0,i.contentSize=0,i.proportions=void 0,i.viewItems=[],i.sashItems=[],i.state=fc.Idle,i._onDidSashChange=i._register(new Q),i.onDidSashChange=i._onDidSashChange.event,i._onDidSashReset=i._register(new Q),i.orientation=Co(r.orientation)?0:r.orientation,i.inverseAltBehavior=!!r.inverseAltBehavior,i.proportionalLayout=Co(r.proportionalLayout)?!0:!!r.proportionalLayout,i.el=document.createElement("div"),De(i.el,"monaco-split-view2"),De(i.el,i.orientation===0?"vertical":"horizontal"),t.appendChild(i.el),i.sashContainer=Ee(i.el,We(".sash-container")),i.viewContainer=Ee(i.el,We(".split-view-container")),i.style(r.styles||a9e),r.descriptor&&(i.size=r.descriptor.size,r.descriptor.views.forEach(function(o,s){var a=Co(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},u=o.view;i.doAddView(u,a,s,!0)}),i.contentSize=i.viewItems.reduce(function(o,s){return o+s.size},0),i.saveProportions()),i}return Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){for(var r=0,i=this.sashItems;r<i.length;r++){var o=i[r];o.sash.orthogonalStartSash=t}this._orthogonalStartSash=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){for(var r=0,i=this.sashItems;r<i.length;r++){var o=i[r];o.sash.orthogonalEndSash=t}this._orthogonalEndSash=t},enumerable:!0,configurable:!0}),e.prototype.style=function(t){t.separatorBorder.isTransparent()?(st(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(De(this.el,"separator-border"),this.el.style.setProperty("--separator-border",t.separatorBorder.toString()))},e.prototype.addView=function(t,r,i){i===void 0&&(i=this.viewItems.length),this.doAddView(t,r,i,!1)},e.prototype.layout=function(t,r){var i=this,o=Math.max(this.size,this.contentSize);if(this.size=t,this.orthogonalSize=r,this.proportions)for(var l=0;l<this.viewItems.length;l++){var c=this.viewItems[l];c.size=lu(Math.round(this.proportions[l]*t),c.minimumSize,c.maximumSize)}else{var s=Go(this.viewItems.length),a=s.filter(function(h){return i.viewItems[h].priority===1}),u=s.filter(function(h){return i.viewItems[h].priority===2});this.resize(this.viewItems.length-1,t-o,void 0,a,u)}this.distributeEmptySpace(),this.layoutViews()},e.prototype.saveProportions=function(){var t=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(r){return r.size/t.contentSize}))},e.prototype.onSashStart=function(t){var r=this,i=t.sash,o=t.start,s=t.alt,a=nh(this.sashItems,function(c){return c.sash===i}),u=gl(Nt(document.body,"keydown")(function(c){return l(r.sashDragState.current,c.altKey)}),Nt(document.body,"keyup")(function(){return l(r.sashDragState.current,!1)})),l=function(c,h){var d=r.viewItems.map(function(U){return U.size}),p=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY;if(r.inverseAltBehavior&&(h=!h),h){var m=a===r.sashItems.length-1;if(m){var _=r.viewItems[a];p=(_.minimumSize-_.size)/2,v=(_.maximumSize-_.size)/2}else{var _=r.viewItems[a+1];p=(_.size-_.maximumSize)/2,v=(_.size-_.minimumSize)/2}}var b,C;if(!h){var E=Go(a,-1),S=Go(a+1,r.viewItems.length),A=E.reduce(function(U,$){return U+(r.viewItems[$].minimumSize-d[$])},0),T=E.reduce(function(U,$){return U+(r.viewItems[$].viewMaximumSize-d[$])},0),N=S.length===0?Number.POSITIVE_INFINITY:S.reduce(function(U,$){return U+(d[$]-r.viewItems[$].minimumSize)},0),k=S.length===0?Number.NEGATIVE_INFINITY:S.reduce(function(U,$){return U+(d[$]-r.viewItems[$].viewMaximumSize)},0),F=Math.max(A,k),L=Math.min(N,T),O=r.findFirstSnapIndex(E),P=r.findFirstSnapIndex(S);if(typeof O=="number"){var _=r.viewItems[O],B=Math.floor(_.viewMinimumSize/2);b={index:O,limitDelta:_.visible?F-B:F+B,size:_.size}}if(typeof P=="number"){var _=r.viewItems[P],B=Math.floor(_.viewMinimumSize/2);C={index:P,limitDelta:_.visible?L+B:L-B,size:_.size}}}r.sashDragState={start:c,current:c,index:a,sizes:d,minDelta:p,maxDelta:v,alt:h,snapBefore:b,snapAfter:C,disposable:u}};l(o,s)},e.prototype.onSashChange=function(t){var r=t.current,i=this.sashDragState,o=i.index,s=i.start,a=i.sizes,u=i.alt,l=i.minDelta,c=i.maxDelta,h=i.snapBefore,d=i.snapAfter;this.sashDragState.current=r;var p=r-s,v=this.resize(o,p,a,void 0,void 0,l,c,h,d);if(u){var m=o===this.sashItems.length-1,_=this.viewItems.map(function(T){return T.size}),b=m?o:o+1,C=this.viewItems[b],E=C.size-C.maximumSize,S=C.size-C.minimumSize,A=m?o-1:o+1;this.resize(A,-v,_,void 0,void 0,E,S)}this.distributeEmptySpace(),this.layoutViews()},e.prototype.onSashEnd=function(t){this._onDidSashChange.fire(t),this.sashDragState.disposable.dispose(),this.saveProportions()},e.prototype.onViewChange=function(t,r){var i=this.viewItems.indexOf(t);i<0||i>=this.viewItems.length||(r=typeof r=="number"?r:t.size,r=lu(r,t.minimumSize,t.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((t.size-r)/2)),this.distributeEmptySpace(),this.layoutViews()):(t.size=r,this.relayout([i],void 0)))},e.prototype.resizeView=function(t,r){var i=this;if(this.state!==fc.Idle)throw new Error("Cant modify splitview");if(this.state=fc.Busy,!(t<0||t>=this.viewItems.length)){var o=Go(this.viewItems.length).filter(function(l){return l!==t}),s=o.filter(function(l){return i.viewItems[l].priority===1}).concat([t]),a=o.filter(function(l){return i.viewItems[l].priority===2}),u=this.viewItems[t];r=Math.round(r),r=lu(r,u.minimumSize,Math.min(u.maximumSize,this.size)),u.size=r,this.relayout(s,a),this.state=fc.Idle}},e.prototype.distributeViewSizes=function(){for(var t=this,r=[],i=0,o=0,s=this.viewItems;o<s.length;o++){var a=s[o];a.maximumSize-a.minimumSize>0&&(r.push(a),i+=a.size)}for(var u=Math.floor(i/r.length),l=0,c=r;l<c.length;l++){var a=c[l];a.size=lu(u,a.minimumSize,a.maximumSize)}var h=Go(this.viewItems.length),d=h.filter(function(v){return t.viewItems[v].priority===1}),p=h.filter(function(v){return t.viewItems[v].priority===2});this.relayout(d,p)},e.prototype.getViewSize=function(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size},e.prototype.doAddView=function(t,r,i,o){var s=this;if(i===void 0&&(i=this.viewItems.length),this.state!==fc.Idle)throw new Error("Cant modify splitview");this.state=fc.Busy;var a=We(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(a):this.viewContainer.insertBefore(a,this.viewContainer.children.item(i));var u=t.onDidChange(function(O){return s.onViewChange(d,O)}),l=bn(function(){return s.viewContainer.removeChild(a)}),c=gl(u,l),h;typeof r=="number"?h=r:r.type==="split"?h=this.getViewSize(r.index)/2:r.type==="invisible"?h={cachedVisibleSize:r.cachedVisibleSize}:h=t.minimumSize;var d=this.orientation===0?new u9e(a,t,h,c):new l9e(a,t,h,c);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){var p=this.orientation===0?1:0,v=this.orientation===0?{getHorizontalSashTop:function(O){return s.getSashPosition(O)}}:{getVerticalSashLeft:function(O){return s.getSashPosition(O)}},m=new D2(this.sashContainer,v,{orientation:p,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),_=this.orientation===0?function(O){return{sash:m,start:O.startY,current:O.currentY,alt:O.altKey}}:function(O){return{sash:m,start:O.startX,current:O.currentX,alt:O.altKey}},b=Ze.map(m.onDidStart,_),C=b(this.onSashStart,this),E=Ze.map(m.onDidChange,_),S=E(this.onSashChange,this),A=Ze.map(m.onDidEnd,function(){return nh(s.sashItems,function(O){return O.sash===m})}),T=A(this.onSashEnd,this),N=m.onDidReset(function(){var O=nh(s.sashItems,function(te){return te.sash===m}),P=Go(O,-1),B=Go(O+1,s.viewItems.length),U=s.findFirstSnapIndex(P),$=s.findFirstSnapIndex(B);typeof U=="number"&&!s.viewItems[U].visible||typeof $=="number"&&!s.viewItems[$].visible||s._onDidSashReset.fire(O)}),k=gl(C,S,T,N,m),F={sash:m,disposable:k};this.sashItems.splice(i-1,0,F)}a.appendChild(t.element);var L;typeof r!="number"&&r.type==="split"&&(L=[r.index]),o||this.relayout([i],L),this.state=fc.Idle,!o&&typeof r!="number"&&r.type==="distribute"&&this.distributeViewSizes()},e.prototype.relayout=function(t,r){var i=this.viewItems.reduce(function(o,s){return o+s.size},0);this.resize(this.viewItems.length-1,this.size-i,void 0,t,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},e.prototype.resize=function(t,r,i,o,s,a,u,l,c){var h=this;if(i===void 0&&(i=this.viewItems.map(function(ze){return ze.size})),a===void 0&&(a=Number.NEGATIVE_INFINITY),u===void 0&&(u=Number.POSITIVE_INFINITY),t<0||t>=this.viewItems.length)return 0;var d=Go(t,-1),p=Go(t+1,this.viewItems.length);if(s)for(var v=0,m=s;v<m.length;v++){var _=m[v];bO(d,_),bO(p,_)}if(o)for(var b=0,C=o;b<C.length;b++){var E=C[b];EE(d,E),EE(p,E)}var S=d.map(function(ze){return h.viewItems[ze]}),A=d.map(function(ze){return i[ze]}),T=p.map(function(ze){return h.viewItems[ze]}),N=p.map(function(ze){return i[ze]}),k=d.reduce(function(ze,dt){return ze+(h.viewItems[dt].minimumSize-i[dt])},0),F=d.reduce(function(ze,dt){return ze+(h.viewItems[dt].maximumSize-i[dt])},0),L=p.length===0?Number.POSITIVE_INFINITY:p.reduce(function(ze,dt){return ze+(i[dt]-h.viewItems[dt].minimumSize)},0),O=p.length===0?Number.NEGATIVE_INFINITY:p.reduce(function(ze,dt){return ze+(i[dt]-h.viewItems[dt].maximumSize)},0),P=Math.max(k,O,a),B=Math.min(L,F,u),U=!1;if(l){var $=this.viewItems[l.index],te=r>=l.limitDelta;U=te!==$.visible,$.setVisible(te,l.size)}if(!U&&c){var $=this.viewItems[c.index],te=r<c.limitDelta;U=te!==$.visible,$.setVisible(te,c.size)}if(U)return this.resize(t,r,i,o,s,a,u);r=lu(r,P,B);for(var ne=0,ie=r;ne<S.length;ne++){var pe=S[ne],ke=lu(A[ne]+ie,pe.minimumSize,pe.maximumSize),qe=ke-A[ne];ie-=qe,pe.size=ke}for(var ne=0,ft=r;ne<T.length;ne++){var pe=T[ne],ke=lu(N[ne]-ft,pe.minimumSize,pe.maximumSize),qe=ke-N[ne];ft+=qe,pe.size=ke}return r},e.prototype.distributeEmptySpace=function(t){for(var r=this,i=this.viewItems.reduce(function(C,E){return C+E.size},0),o=this.size-i,s=Go(this.viewItems.length-1,-1),a=s.filter(function(C){return r.viewItems[C].priority===1}),u=s.filter(function(C){return r.viewItems[C].priority===2}),l=0,c=u;l<c.length;l++){var h=c[l];bO(s,h)}for(var d=0,p=a;d<p.length;d++){var h=p[d];EE(s,h)}typeof t=="number"&&EE(s,t);for(var v=0;o!==0&&v<s.length;v++){var m=this.viewItems[s[v]],_=lu(m.size+o,m.minimumSize,m.maximumSize),b=_-m.size;o-=b,m.size=_}},e.prototype.layoutViews=function(){var t=this;this.contentSize=this.viewItems.reduce(function(l,c){return l+c.size},0),this.viewItems.forEach(function(l){return l.layout(t.orthogonalSize)}),this.sashItems.forEach(function(l){return l.sash.layout()});var r=!1,i=this.viewItems.map(function(l){return r=l.size-l.minimumSize>0||r});r=!1;var o=this.viewItems.map(function(l){return r=l.maximumSize-l.size>0||r}),s=this.viewItems.slice().reverse();r=!1;var a=s.map(function(l){return r=l.size-l.minimumSize>0||r}).reverse();r=!1;var u=s.map(function(l){return r=l.maximumSize-l.size>0||r}).reverse();this.sashItems.forEach(function(l,c){var h=l.sash,d=!(i[c]&&u[c+1]),p=!(o[c]&&a[c+1]);if(d&&p){var v=Go(c,-1),m=Go(c+1,t.viewItems.length),_=t.findFirstSnapIndex(v),b=t.findFirstSnapIndex(m),C=typeof _=="number"&&!t.viewItems[_].visible,E=typeof b=="number"&&!t.viewItems[b].visible;C&&a[c]?h.state=1:E&&i[c]?h.state=2:h.state=0}else d&&!p?h.state=1:!d&&p?h.state=2:h.state=3})},e.prototype.getSashPosition=function(t){for(var r=0,i=0;i<this.sashItems.length;i++)if(r+=this.viewItems[i].size,this.sashItems[i].sash===t)return r;return 0},e.prototype.findFirstSnapIndex=function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r],s=this.viewItems[o];if(s.visible&&s.snap)return o}for(var a=0,u=t;a<u.length;a++){var o=u[a],s=this.viewItems[o];if(s.visible&&s.maximumSize-s.minimumSize>0)return;if(!s.visible&&s.snap)return o}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.viewItems.forEach(function(t){return t.dispose()}),this.viewItems=[],this.sashItems.forEach(function(t){return t.disposable.dispose()}),this.sashItems=[]},e}(he),f9e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h9e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vy=function(n,e){return function(t,r){e(t,r,n)}},d9e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},p9e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},g9e=function(){function n(e,t){var r=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Be,this._callOnModelChange=new Be,this._callOnDispose.add(this._editor.onDidChangeModel(function(){return r._onModelChanged()})),this._onModelChanged()}return n.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},n.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,r=this._model.groups;t<r.length;t++){var i=r[t];if(i.uri.toString()===e.uri.toString()){this._addDecorations(i);return}}},n.prototype._addDecorations=function(e){var t=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(l){return t._onDecorationChanged()}));for(var r=[],i=[],o=0,s=e.children.length;o<s;o++){var a=e.children[o];this._decorationIgnoreSet.has(a.id)||(r.push({range:a.range,options:n.DecorationOptions}),i.push(o))}for(var u=this._editor.deltaDecorations([],r),o=0;o<u.length;o++)this._decorations.set(u[o],e.children[i[o]])}},n.prototype._onDecorationChanged=function(){var e=this,t=[],r=this._editor.getModel();if(r){this._decorations.forEach(function(s,a){var u=r.getDecorationRange(a);if(u){var l=!1;if(!H.equalsRange(u,s.range)){if(H.spansMultipleLines(u))l=!0;else{var c=s.range.endColumn-s.range.startColumn,h=u.endColumn-u.startColumn;c!==h&&(l=!0)}l?(e._decorationIgnoreSet.add(s.id),t.push(a)):s.range=u}}});for(var i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.deltaDecorations(t,[])}},n.prototype.removeDecorations=function(){var e=[];this._decorations.forEach(function(t,r){e.push(r)}),this._editor.deltaDecorations(e,[]),this._decorations.clear()},n.DecorationOptions=mt.register({stickiness:1,className:"reference-decoration"}),n}(),v9e=function(){function n(){this.ratio=.7,this.heightInLines=18}return n.fromJSON=function(e){var t,r;try{var i=JSON.parse(e);t=i.ratio,r=i.heightInLines}catch{}return{ratio:t||.7,heightInLines:r||18}},n}(),xie=new Ke("referenceSearchTreeFocused",!0),m9e=function(n){f9e(e,n);function e(t,r,i,o,s,a,u,l){var c=n.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return c._defaultTreeKeyboardSupport=r,c.layoutData=i,c._textModelResolverService=s,c._instantiationService=a,c._peekViewService=u,c._uriLabel=l,c._disposeOnNewModel=new Be,c._callOnDispose=new Be,c._onDidSelectReference=new Q,c._dim={height:0,width:0},c._applyTheme(o.getTheme()),c._callOnDispose.add(o.onThemeChange(c._applyTheme.bind(c))),c._peekViewService.addExclusiveWidget(t,c),c.create(),c}return e.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),nt(this._preview),nt(this._previewNotAvailableMessage),nt(this._tree),nt(this._previewModelReference),this._splitView.dispose(),n.prototype.dispose.call(this)},e.prototype._applyTheme=function(t){var r=t.getColor(y9e)||ae.transparent;this.style({arrowColor:r,frameColor:r,headerBackgroundColor:t.getColor(_9e)||ae.transparent,primaryHeadingColor:t.getColor(Lie),secondaryHeadingColor:t.getColor(Nie)})},Object.defineProperty(e.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),e.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),n.prototype.show.call(this,t,this.layoutData.heightInLines||18)},e.prototype.focus=function(){this._tree.domFocus()},e.prototype._onTitleClick=function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})},e.prototype._fillBody=function(t){var r=this;this.setCssClass("reference-zone-widget"),this._messageContainer=Ee(t,We("div.messages")),Kr(this._messageContainer),this._splitView=new c9e(t,{orientation:1}),this._previewContainer=Ee(t,We("div.preview.inline"));var i={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(yB,this._previewContainer,i,this.editor),Kr(this._previewContainer),this._previewNotAvailableMessage=H_.createFromString(D("missingPreviewMessage","no preview available")),this._treeContainer=Ee(t,We("div.ref-tree.inline"));var o={ariaLabel:D("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new s9e,keyboardNavigationLabelProvider:this._instantiationService.createInstance(n9e),identityProvider:new r9e};this._tree=this._instantiationService.createInstance(xFe,this._treeContainer,new t9e,[this._instantiationService.createInstance(Die),this._instantiationService.createInstance(Aie)],this._instantiationService.createInstance(e9e),o),xie.bindTo(this._tree.contextKeyService),this._splitView.addView({onDidChange:Ze.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(a){r._preview.layout({height:r._dim.height,width:a})}},ED.Distribute),this._splitView.addView({onDidChange:Ze.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(a){r._treeContainer.style.height=r._dim.height+"px",r._treeContainer.style.width=a+"px",r._tree.layout(r._dim.height,a)}},ED.Distribute),this._disposables.add(this._splitView.onDidSashChange(function(){r._dim.width&&(r.layoutData.ratio=r._splitView.getViewSize(0)/r._dim.width)},void 0));var s=function(a,u){a instanceof Gm&&(u==="show"&&r._revealReference(a,!1),r._onDidSelectReference.fire({element:a,kind:u,source:"tree"}))};this._tree.onDidChangeFocus(function(a){s(a.elements[0],"show")}),this._tree.onDidChangeSelection(function(a){var u=!1;a.browserEvent instanceof KeyboardEvent&&(u=!0),u?s(a.elements[0],"goto"):s(a.elements[0],"show")}),this._tree.onDidOpen(function(a){var u=a.browserEvent instanceof MouseEvent&&(a.browserEvent.ctrlKey||a.browserEvent.metaKey||a.browserEvent.altKey),l=!a.browserEvent||a.browserEvent instanceof MouseEvent&&a.browserEvent.detail===2;u?s(a.elements[0],"side"):l?s(a.elements[0],"goto"):s(a.elements[0],"show")}),Kr(this._treeContainer)},e.prototype._onWidth=function(t){this._dim&&this._doLayoutBody(this._dim.height,t)},e.prototype._doLayoutBody=function(t,r){n.prototype._doLayoutBody.call(this,t,r),this._dim={height:t,width:r},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(r),this._splitView.resizeView(0,r*this.layoutData.ratio)},e.prototype.setSelection=function(t){var r=this;return this._revealReference(t,!0).then(function(){r._model&&(r._tree.setSelection([t]),r._tree.setFocus([t]))})},e.prototype.setModel=function(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()},e.prototype._onNewModel=function(){var t=this;return this._model?this._model.empty?(this.setTitle(""),this._messageContainer.innerHTML=D("noResults","No results"),Li(this._messageContainer),Promise.resolve(void 0)):(Kr(this._messageContainer),this._decorationsManager=new g9e(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(r){return t._tree.rerender(r)})),this._disposeOnNewModel.add(this._preview.onMouseDown(function(r){var i=r.event,o=r.target;if(i.detail===2){var s=t._getFocusedReference();s&&t._onDidSelectReference.fire({element:{uri:s.uri,range:o.range},kind:i.ctrlKey||i.metaKey||i.altKey?"side":"open",source:"editor"})}})),De(this.container,"results-loaded"),Li(this._treeContainer),Li(this._previewContainer),this._splitView.layout(this._dim.width),this.focus(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)},e.prototype._getFocusedReference=function(){var t=this._tree.getFocus()[0];if(t instanceof Gm)return t;if(t instanceof $m&&t.children.length>0)return t.children[0]},e.prototype._revealReference=function(t,r){return d9e(this,void 0,void 0,function(){var i,o,s,a,u;return p9e(this,function(l){switch(l.label){case 0:return this._revealedReference===t?[2]:(this._revealedReference=t,t.uri.scheme!==Tn.inMemory?this.setTitle(Dee(t.uri),this._uriLabel.getUriLabel(I6(t.uri))):this.setTitle(D("peekView.alternateTitle","References")),i=this._textModelResolverService.createModelReference(t.uri),this._tree.getInput()!==t.parent?[3,1]:(this._tree.reveal(t),[3,3]));case 1:return r&&this._tree.reveal(t.parent),[4,this._tree.expand(t.parent)];case 2:l.sent(),this._tree.reveal(t),l.label=3;case 3:return[4,i];case 4:return o=l.sent(),this._model?(nt(this._previewModelReference),s=o.object,s?(a=this._preview.getModel()===s.textEditorModel?0:1,u=H.lift(t.range).collapseToStart(),this._previewModelReference=o,this._preview.setModel(s.textEditorModel),this._preview.setSelection(u),this._preview.revealRangeInCenter(u,a)):(this._preview.setModel(this._previewNotAvailableMessage),o.dispose()),[2]):(o.dispose(),[2])}})})},e=h9e([vy(3,ei),vy(4,Wp),vy(5,pr),vy(6,wie),vy(7,O2)],e),e}(Eie),_9e=oe("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},D("peekViewTitleBackground","Background color of the peek view title area.")),Lie=oe("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},D("peekViewTitleForeground","Color of the peek view title.")),Nie=oe("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},D("peekViewTitleInfoForeground","Color of the peek view title info.")),y9e=oe("peekView.border",{dark:"#007acc",light:"#007acc",hc:Wr},D("peekViewBorder","Color of the peek view borders and arrow.")),b9e=oe("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:ae.black},D("peekViewResultsBackground","Background color of the peek view result list.")),C9e=oe("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:ae.white},D("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),w9e=oe("peekViewResult.fileForeground",{dark:ae.white,light:"#1E1E1E",hc:ae.white},D("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),E9e=oe("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},D("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),S9e=oe("peekViewResult.selectionForeground",{dark:ae.white,light:"#6C6C6C",hc:ae.white},D("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),jS=oe("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:ae.black},D("peekViewEditorBackground","Background color of the peek view editor.")),T9e=oe("peekViewEditorGutter.background",{dark:jS,light:jS,hc:jS},D("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),D9e=oe("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},D("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),A9e=oe("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},D("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),I9e=oe("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Mi},D("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));mn(function(n,e){var t=n.getColor(D9e);t&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+t+"; }");var r=n.getColor(A9e);r&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+r+"; }");var i=n.getColor(I9e);i&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+i+"; box-sizing: border-box; }");var o=n.getColor(Mi);o&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+o+"; box-sizing: border-box; }");var s=n.getColor(b9e);s&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=n.getColor(C9e);a&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var u=n.getColor(w9e);u&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+u+"; }");var l=n.getColor(E9e);l&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+l+"; }");var c=n.getColor(S9e);c&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+c+" !important; }");var h=n.getColor(jS);h&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+("	background-color: "+h+";")+"}");var d=n.getColor(T9e);d&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+("	background-color: "+d+";")+"}")});var x9e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bv=function(n,e){return function(t,r){e(t,r,n)}},L9e=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},N9e=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},OC=new Ke("referenceSearchVisible",!1),q_=function(){function n(e,t,r,i,o,s,a,u){this._defaultTreeKeyboardSupport=e,this._editorService=i,this._notificationService=o,this._instantiationService=s,this._storageService=a,this._configurationService=u,this._disposables=new Be,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._editor=t,this._referenceSearchVisible=OC.bindTo(r)}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._referenceSearchVisible.reset(),nt(this._disposables),this._widget&&(nt(this._widget),this._widget=void 0),this._model&&(nt(this._model),this._model=void 0)},n.prototype.toggleWidget=function(e,t,r){var i=this,o;if(this._widget&&(o=this._widget.position),this.closeWidget(),!(o&&e.containsPosition(o))){this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){i.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(function(){i._ignoreModelChangeEvent||i.closeWidget()}));var s="peekViewLayout",a=v9e.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(m9e,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(D("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(function(){t.cancel(),i._widget&&(i._storageService.store(s,JSON.stringify(i._widget.layoutData),0),i._widget=void 0),i.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(function(l){var c=l.element,h=l.kind;switch(h){case"open":if(l.source==="editor"&&i._configurationService.getValue("editor.stablePeek"))break;case"side":c&&i.openReference(c,h==="side");break;case"goto":c&&(r.onGoto?r.onGoto(c):i._gotoReference(c));break}}));var u=++this._requestIdPool;t.then(function(l){if(!(u!==i._requestIdPool||!i._widget))return i._model&&i._model.dispose(),i._model=l,i._widget.setModel(i._model).then(function(){if(i._widget&&i._model&&i._editor.hasModel()){i._widget.setMetaTitle(r.getMetaTitle(i._model));var c=i._editor.getModel().uri,h=new ee(e.startLineNumber,e.startColumn),d=i._model.nearestReference(c,h);if(d)return i._widget.setSelection(d)}})},function(l){i._notificationService.error(l)})}},n.prototype.goToNextOrPreviousReference=function(e){return L9e(this,void 0,void 0,function(){var t,r,i,o;return N9e(this,function(s){switch(s.label){case 0:return!this._editor.hasModel()||!this._model||!this._widget?[2]:(t=this._widget.position,t?(r=this._model.nearestReference(this._editor.getModel().uri,t),r?(i=this._model.nextOrPreviousReference(r,e),o=this._editor.hasTextFocus(),[4,this._widget.setSelection(i)]):[2]):[2]);case 1:return s.sent(),[4,this._gotoReference(i)];case 2:return s.sent(),o&&this._editor.focus(),[2]}})})},n.prototype.closeWidget=function(){this._widget&&(nt(this._widget),this._widget=void 0),this._referenceSearchVisible.reset(),this._disposables.clear(),this._model&&(nt(this._model),this._model=void 0),this._editor.focus(),this._requestIdPool+=1},n.prototype._gotoReference=function(e){var t=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var r=H.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:r}},this._editor).then(function(i){if(t._ignoreModelChangeEvent=!1,!i||i!==t._editor){t.closeWidget();return}t._widget&&(t._widget.show(r),t._widget.focus())},function(i){t._ignoreModelChangeEvent=!1,He(i)})},n.prototype.openReference=function(e,t){t||this.closeWidget();var r=e.uri,i=e.range;this._editorService.openCodeEditor({resource:r,options:{selection:i}},this._editor,t)},n.ID="editor.contrib.referencesController",n=x9e([bv(2,yt),bv(3,In),bv(4,bi),bv(5,pr),bv(6,Wh),bv(7,yi)],n),n}();function j2(n,e,t,r){var i=t.ordered(n),o=i.map(function(s){return Promise.resolve(r(s,n,e)).then(void 0,function(a){Oo(a)})});return Promise.all(o).then(qb).then(Yc)}function EB(n,e,t){return j2(n,e,e1,function(r,i,o){return r.provideDefinition(i,o,t)})}function Oie(n,e,t){return j2(n,e,HT,function(r,i,o){return r.provideDeclaration(i,o,t)})}function kie(n,e,t){return j2(n,e,VT,function(r,i,o){return r.provideImplementation(i,o,t)})}function Rie(n,e,t){return j2(n,e,WT,function(r,i,o){return r.provideTypeDefinition(i,o,t)})}Mu("_executeDefinitionProvider",function(n,e){return EB(n,e,rn.None)});Mu("_executeDeclarationProvider",function(n,e){return Oie(n,e,rn.None)});Mu("_executeImplementationProvider",function(n,e){return kie(n,e,rn.None)});Mu("_executeTypeDefinitionProvider",function(n,e){return Rie(n,e,rn.None)});var O9e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pie=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fy=function(n,e){return function(t,r){e(t,r,n)}},SB=new Ke("hasSymbols",!1),q2=qt("ISymbolNavigationService"),k9e=function(){function n(e,t,r,i){this._editorService=t,this._notificationService=r,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=SB.bindTo(e)}return n.prototype.reset=function(){this._ctxHasSymbols.reset(),nt(this._currentState),nt(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},n.prototype.put=function(e){var t=this,r=e.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var i=new R9e(this._editorService),o=i.onDidChange(function(s){if(!t._ignoreEditorChange){var a=t._editorService.getActiveCodeEditor();if(a){var u=a.getModel(),l=a.getPosition();if(!(!u||!l)){for(var c=!1,h=!1,d=0,p=r.references;d<p.length;d++){var v=p[d];if(v.uri.toString()===u.uri.toString())c=!0,h=h||H.containsPosition(v.range,l);else if(c)break}(!c||!h)&&t.reset()}}}});this._currentState=gl(i,o)},n.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:H.collapseToStart(r.range),revealInCenterIfOutsideViewport:!0}},e).finally(function(){t._ignoreEditorChange=!1})},n.prototype._showMessage=function(){nt(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?D("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):D("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},n=Pie([Fy(0,yt),Fy(1,In),Fy(2,bi),Fy(3,Dr)],n),n}();EC(q2,k9e,!0);ce(new(function(n){O9e(e,n);function e(){return n.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:Oe.and(SB,Oe.equals("config.editor.gotoLocation.multiple","goto")),kbOpts:{weight:100,primary:70}})||this}return e.prototype.runEditorCommand=function(t,r){return t.get(q2).revealNext(r)},e}(Po)));wa.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:SB,primary:9,handler:function(n){n.get(q2).reset()}});var R9e=function(){function n(e){this._listener=new Map,this._disposables=new Be,this._onDidChange=new Q,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return n.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(nt)},n.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,gl(e.onDidChangeCursorPosition(function(r){return t._onDidChange.fire({editor:e})}),e.onDidChangeModelContent(function(r){return t._onDidChange.fire({editor:e})})))},n.prototype._onDidRemoveEditor=function(e){nt(this._listener.get(e)),this._listener.delete(e)},n=Pie([Fy(0,In)],n),n}(),Ta=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TG=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},DG=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},$l=function(){function n(e,t,r,i){e===void 0&&(e=!1),t===void 0&&(t=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),this.openToSide=e,this.openInPeek=t,this.filterCurrent=r,this.showMessage=i}return n}(),yg=function(n){Ta(e,n);function e(t,r){var i=n.call(this,r)||this;return i._configuration=t,i}return e.prototype.run=function(t,r){var i=this;if(!r.hasModel())return Promise.resolve(void 0);var o=t.get(bi),s=t.get(In),a=t.get(M2),u=t.get(q2),l=r.getModel(),c=r.getPosition(),h=new E5(r,5),d=VDe(this._getTargetLocationForPosition(l,c,h.token),h.token).then(function(p){return TG(i,void 0,void 0,function(){var v,m,_,b,C,E,S,A;return DG(this,function(T){if(!p||l.isDisposed())return[2];for(v=-1,m=[],_=0,b=p;_<b.length;_++)C=b[_],!(!C||!C.range)&&(E=m.push(C),this._configuration.filterCurrent&&C.uri.toString()===l.uri.toString()&&H.containsPosition(C.range,c)&&v===-1&&(v=E-1));if(m.length===0)this._configuration.showMessage&&(S=l.getWordAtPosition(c),Nc.get(r).showMessage(this._getNoResultFoundMessage(S),c));else return m.length===1&&v!==-1?(A=m[0],[2,this._openReference(r,s,A,!1).then(function(){})]):[2,this._onResult(s,u,r,new Km(m))];return[2]})})},function(p){o.error(p)}).finally(function(){h.dispose()});return a.showWhile(d,250),d},e.prototype._getTargetLocationForPosition=function(t,r,i){return EB(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("noResultWord","No definition found for '{0}'",t.word):D("generic.noResults","No definition found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("meta.title","  {0} definitions",t.references.length):""},e.prototype._onResult=function(t,r,i,o){return TG(this,void 0,void 0,function(){var s,a,u,l;return DG(this,function(c){switch(c.label){case 0:return s=o.getAriaMessage(),Ki(s),a=i.getConfiguration().contribInfo.gotoLocation,this._configuration.openInPeek||a.multiple==="peek"&&o.references.length>1?(this._openInPeek(t,i,o),[3,3]):[3,1];case 1:return i.hasModel()?(u=o.firstReference(),u?[4,this._openReference(i,t,u,this._configuration.openToSide)]:[2]):[3,3];case 2:l=c.sent(),l&&o.references.length>1&&a.multiple==="gotoAndPeek"?this._openInPeek(t,l,o):o.dispose(),a.multiple==="goto"&&r.put(u),c.label=3;case 3:return[2]}})})},e.prototype._openReference=function(t,r,i,o){var s=void 0;return m2e(i)&&(s=i.targetSelectionRange),s||(s=i.range),r.openCodeEditor({resource:i.uri,options:{selection:H.collapseToStart(s),revealInCenterIfOutsideViewport:!0}},t,o)},e.prototype._openInPeek=function(t,r,i){var o=this,s=q_.get(r);s&&r.hasModel()?s.toggleWidget(r.getSelection(),Qr(function(a){return Promise.resolve(i)}),{getMetaTitle:function(a){return o._getMetaTitle(a)},onGoto:function(a){return s.closeWidget(),o._openReference(r,t,a,!1)}}):i.dispose()},e}(Ue),Mie=u6?2118:70,P9e=function(n){Ta(e,n);function e(){var t=n.call(this,new $l,{id:e.id,label:D("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Oe.and(W.hasDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:Mie,weight:100},menuOpts:{group:"navigation",order:1.1}})||this;return Bi.registerCommandAlias("editor.action.goToDeclaration",e.id),t}return e.id="editor.action.revealDefinition",e}(yg),M9e=function(n){Ta(e,n);function e(){var t=n.call(this,new $l(!0),{id:e.id,label:D("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Oe.and(W.hasDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,Mie),weight:100}})||this;return Bi.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id),t}return e.id="editor.action.revealDefinitionAside",e}(yg),F9e=function(n){Ta(e,n);function e(){var t=n.call(this,new $l(void 0,!0,!1),{id:e.id,label:D("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Oe.and(W.hasDefinitionProvider,Uc.notInPeekEditor,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menuOpts:{group:"navigation",order:1.2}})||this;return Bi.registerCommandAlias("editor.action.previewDeclaration",e.id),t}return e.id="editor.action.peekDefinition",e}(yg),Fie=function(n){Ta(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._getTargetLocationForPosition=function(t,r,i){return Oie(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("decl.noResultWord","No declaration found for '{0}'",t.word):D("decl.generic.noResults","No declaration found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("decl.meta.title","  {0} declarations",t.references.length):""},e}(yg),B9e=function(n){Ta(e,n);function e(){return n.call(this,new $l,{id:e.id,label:D("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Oe.and(W.hasDeclarationProvider,W.isInEmbeddedEditor.toNegated()),menuOpts:{group:"navigation",order:1.3}})||this}return e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("decl.noResultWord","No declaration found for '{0}'",t.word):D("decl.generic.noResults","No declaration found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("decl.meta.title","  {0} declarations",t.references.length):""},e.id="editor.action.revealDeclaration",e}(Fie),H9e=function(n){Ta(e,n);function e(){return n.call(this,new $l(void 0,!0,!1),{id:"editor.action.peekDeclaration",label:D("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Oe.and(W.hasDeclarationProvider,Uc.notInPeekEditor,W.isInEmbeddedEditor.toNegated()),menuOpts:{group:"navigation",order:1.31}})||this}return e}(Fie),Bie=function(n){Ta(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._getTargetLocationForPosition=function(t,r,i){return kie(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):D("goToImplementation.generic.noResults","No implementation found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("meta.implementations.title","  {0} implementations",t.references.length):""},e}(yg),V9e=function(n){Ta(e,n);function e(){return n.call(this,new $l,{id:e.ID,label:D("actions.goToImplementation.label","Go to Implementation"),alias:"Go to Implementation",precondition:Oe.and(W.hasImplementationProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:2118,weight:100}})||this}return e.ID="editor.action.goToImplementation",e}(Bie),W9e=function(n){Ta(e,n);function e(){return n.call(this,new $l(!1,!0,!1),{id:e.ID,label:D("actions.peekImplementation.label","Peek Implementation"),alias:"Peek Implementation",precondition:Oe.and(W.hasImplementationProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:3142,weight:100}})||this}return e.ID="editor.action.peekImplementation",e}(Bie),Hie=function(n){Ta(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._getTargetLocationForPosition=function(t,r,i){return Rie(t,r,i)},e.prototype._getNoResultFoundMessage=function(t){return t&&t.word?D("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):D("goToTypeDefinition.generic.noResults","No type definition found")},e.prototype._getMetaTitle=function(t){return t.references.length>1?D("meta.typeDefinitions.title","  {0} type definitions",t.references.length):""},e}(yg),U9e=function(n){Ta(e,n);function e(){return n.call(this,new $l,{id:e.ID,label:D("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Oe.and(W.hasTypeDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:0,weight:100},menuOpts:{group:"navigation",order:1.4}})||this}return e.ID="editor.action.goToTypeDefinition",e}(Hie),j9e=function(n){Ta(e,n);function e(){return n.call(this,new $l(!1,!0,!1),{id:e.ID,label:D("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Oe.and(W.hasTypeDefinitionProvider,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:0,weight:100}})||this}return e.ID="editor.action.peekTypeDefinition",e}(Hie);ge(P9e);ge(M9e);ge(F9e);ge(B9e);ge(H9e);ge(V9e);ge(W9e);ge(U9e);ge(j9e);Nu.appendMenuItem(16,{group:"4_symbol_nav",command:{id:"editor.action.goToDeclaration",title:D({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},order:2});Nu.appendMenuItem(16,{group:"4_symbol_nav",command:{id:"editor.action.goToTypeDefinition",title:D({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},order:3});Nu.appendMenuItem(16,{group:"4_symbol_nav",command:{id:"editor.action.goToImplementation",title:D({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementation")},order:4});var zp=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.appendText=function(e){return this.value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this},n.prototype.appendMarkdown=function(e){return this.value+=e,this},n.prototype.appendCodeblock=function(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this},n}();function z2(n){return E3(n)?!n.value:Array.isArray(n)?n.every(z2):!0}function E3(n){return n instanceof zp?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||n.isTrusted===void 0):!1}function q9e(n,e){return!n&&!e?!0:!n||!e?!1:Array.isArray(n)&&Array.isArray(e)?Ph(n,e,AG):E3(n)&&E3(e)?AG(n,e):!1}function AG(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted}function Wk(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function z9e(n){var e=[],t=n.split("|").map(function(c){return c.trim()});n=t[0];var r=t[1];if(r){var i=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),s=i?i[1]:"",a=o?o[1]:"",u=isFinite(parseInt(a)),l=isFinite(parseInt(s));u&&e.push('width="'+a+'"'),l&&e.push('height="'+s+'"')}return{href:n,dimensions:e}}var G9e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function S3(n,e){return!!n[e]}var Uk=function(){function n(e,t){this.target=e.target,this.hasTriggerModifier=S3(e.event,t.triggerModifier),this.hasSideBySideModifier=S3(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=Ls||e.event.detail<=1}return n}(),IG=function(){function n(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=S3(e,t.triggerModifier)}return n}(),ZE=function(){function n(e,t,r,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=i}return n.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},n}();function xG(n){return n==="altKey"?Tt?new ZE(57,"metaKey",6,"altKey"):new ZE(5,"ctrlKey",6,"altKey"):Tt?new ZE(6,"altKey",57,"metaKey"):new ZE(6,"altKey",5,"ctrlKey")}var Vie=function(n){G9e(e,n);function e(t){var r=n.call(this)||this;return r._onMouseMoveOrRelevantKeyDown=r._register(new Q),r.onMouseMoveOrRelevantKeyDown=r._onMouseMoveOrRelevantKeyDown.event,r._onExecute=r._register(new Q),r.onExecute=r._onExecute.event,r._onCancel=r._register(new Q),r.onCancel=r._onCancel.event,r._editor=t,r._opts=xG(r._editor.getConfiguration().multiCursorModifier),r.lastMouseMoveEvent=null,r.hasTriggerKeyOnMouseDown=!1,r._register(r._editor.onDidChangeConfiguration(function(i){if(i.multiCursorModifier){var o=xG(r._editor.getConfiguration().multiCursorModifier);if(r._opts.equals(o))return;r._opts=o,r.lastMouseMoveEvent=null,r.hasTriggerKeyOnMouseDown=!1,r._onCancel.fire()}})),r._register(r._editor.onMouseMove(function(i){return r.onEditorMouseMove(new Uk(i,r._opts))})),r._register(r._editor.onMouseDown(function(i){return r.onEditorMouseDown(new Uk(i,r._opts))})),r._register(r._editor.onMouseUp(function(i){return r.onEditorMouseUp(new Uk(i,r._opts))})),r._register(r._editor.onKeyDown(function(i){return r.onEditorKeyDown(new IG(i,r._opts))})),r._register(r._editor.onKeyUp(function(i){return r.onEditorKeyUp(new IG(i,r._opts))})),r._register(r._editor.onMouseDrag(function(){return r.resetHandler()})),r._register(r._editor.onDidChangeCursorSelection(function(i){return r.onDidChangeCursorSelection(i)})),r._register(r._editor.onDidChangeModel(function(i){return r.resetHandler()})),r._register(r._editor.onDidChangeModelContent(function(){return r.resetHandler()})),r._register(r._editor.onDidScrollChange(function(i){(i.scrollTopChanged||i.scrollLeftChanged)&&r.resetHandler()})),r}return e.prototype.onDidChangeCursorSelection=function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this.resetHandler()},e.prototype.onEditorMouseMove=function(t){this.lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])},e.prototype.onEditorMouseDown=function(t){this.hasTriggerKeyOnMouseDown=t.hasTriggerModifier},e.prototype.onEditorMouseUp=function(t){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(t)},e.prototype.onEditorKeyDown=function(t){this.lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()},e.prototype.onEditorKeyUp=function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()},e.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},e}(he),$9e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},LG=function(n,e){return function(t,r){e(t,r,n)}},K9e=function(){function n(e,t,r){var i=this;this.textModelResolverService=t,this.modeService=r,this.toUnhook=new Be,this.decorations=[],this.currentWordUnderMouse=null,this.previousPromise=null,this.editor=e;var o=new Vie(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(function(s){var a=s[0],u=s[1];i.startFindDefinition(a,n2(u))})),this.toUnhook.add(o.onExecute(function(s){i.isEnabled(s)&&i.gotoDefinition(s.target,s.hasSideBySideModifier).then(function(){i.removeDecorations()},function(a){i.removeDecorations(),He(a)})})),this.toUnhook.add(o.onCancel(function(){i.removeDecorations(),i.currentWordUnderMouse=null}))}return n.prototype.startFindDefinition=function(e,t){var r=this;if(!(e.target.type===9&&this.decorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordUnderMouse=null,this.removeDecorations();return}var i=e.target.position?this.editor.getModel().getWordAtPosition(e.target.position):null;if(!i){this.currentWordUnderMouse=null,this.removeDecorations();return}var o=e.target.position;if(!(this.currentWordUnderMouse&&this.currentWordUnderMouse.startColumn===i.startColumn&&this.currentWordUnderMouse.endColumn===i.endColumn&&this.currentWordUnderMouse.word===i.word)){this.currentWordUnderMouse=i;var s=new w5(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Qr(function(a){return r.findDefinition(e.target,a)}),this.previousPromise.then(function(a){if(!a||!a.length||!s.validate(r.editor)){r.removeDecorations();return}if(a.length>1)r.addDecoration(new H(o.lineNumber,i.startColumn,o.lineNumber,i.endColumn),new zp().appendText(D("multipleResults","Click to show {0} definitions.",a.length)));else{var u=a[0];if(!u.uri)return;r.textModelResolverService.createModelReference(u.uri).then(function(l){if(!l.object||!l.object.textEditorModel){l.dispose();return}var c=l.object.textEditorModel,h=u.range.startLineNumber;if(h<1||h>c.getLineCount()){l.dispose();return}var d=r.getPreviewValue(c,h,u),p;u.originSelectionRange?p=H.lift(u.originSelectionRange):p=new H(o.lineNumber,i.startColumn,o.lineNumber,i.endColumn);var v=r.modeService.getModeIdByFilepathOrFirstLine(c.uri);r.addDecoration(p,new zp().appendCodeblock(v||"",d)),l.dispose()})}}).then(void 0,He)}}},n.prototype.getPreviewValue=function(e,t,r){var i=r.targetSelectionRange?r.range:this.getPreviewRangeBasedOnBrackets(e,t),o=i.endLineNumber-i.startLineNumber;o>=n.MAX_SOURCE_PREVIEW_LINES&&(i=this.getPreviewRangeBasedOnIndentation(e,t));var s=this.stripIndentationFromPreviewRange(e,t,i);return s},n.prototype.stripIndentationFromPreviewRange=function(e,t,r){for(var i=e.getLineFirstNonWhitespaceColumn(t),o=i,s=t+1;s<r.endLineNumber;s++){var a=e.getLineFirstNonWhitespaceColumn(s);o=Math.min(o,a)}var u=e.getValueInRange(r).replace(new RegExp("^\\s{"+(o-1)+"}","gm"),"").trim();return u},n.prototype.getPreviewRangeBasedOnIndentation=function(e,t){for(var r=e.getLineFirstNonWhitespaceColumn(t),i=Math.min(e.getLineCount(),t+n.MAX_SOURCE_PREVIEW_LINES),o=t+1;o<i;o++){var s=e.getLineFirstNonWhitespaceColumn(o);if(r===s)break}return new H(t,1,o+1,1)},n.prototype.getPreviewRangeBasedOnBrackets=function(e,t){for(var r=Math.min(e.getLineCount(),t+n.MAX_SOURCE_PREVIEW_LINES),i=[],o=!0,s=e.findNextBracket(new ee(t,1));s!==null;){if(i.length===0)i.push(s);else{var a=i[i.length-1];if(a.open===s.open&&a.isOpen&&!s.isOpen?i.pop():i.push(s),i.length===0)if(o)o=!1;else return new H(t,1,s.range.endLineNumber+1,1)}var u=e.getLineMaxColumn(t),l=s.range.endLineNumber,c=s.range.endColumn;if(u===s.range.endColumn&&(l++,c=1),l>r)return new H(t,1,r+1,1);s=e.findNextBracket(new ee(l,c))}return new H(t,1,r+1,1)},n.prototype.addDecoration=function(e,t){var r={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.decorations=this.editor.deltaDecorations(this.decorations,[r])},n.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},n.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&e1.has(this.editor.getModel())},n.prototype.findDefinition=function(e,t){var r=this.editor.getModel();return r?EB(r,e.position,t):Promise.resolve(null)},n.prototype.gotoDefinition=function(e,t){var r=this;this.editor.setPosition(e.position);var i=new yg(new $l(t,!1,!0,!1),{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext(function(o){return i.run(o,r.editor)})},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this.toUnhook.dispose()},n.ID="editor.contrib.gotodefinitionwithmouse",n.MAX_SOURCE_PREVIEW_LINES=8,n=$9e([LG(1,Wp),LG(2,Vh)],n),n}();Cn(K9e);mn(function(n,e){var t=n.getColor(h5);t&&e.addRule(".monaco-editor .goto-definition-link { color: "+t+" !important; }")});var Y9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.58318 2.02842C9.96435 2.16331 11.2561 2.77279 12.2383 3.75307C13.3643 4.87923 13.9978 6.40584 14 7.99829C14.0004 9.38617 13.5196 10.7313 12.6396 11.8045C11.7595 12.8778 10.5345 13.6127 9.17333 13.8841C7.81215 14.1556 6.39895 13.9467 5.1745 13.2931C3.95005 12.6394 2.99008 11.5815 2.45814 10.2995C1.92619 9.0175 1.85517 7.59072 2.25717 6.26222C2.65917 4.93373 3.50933 3.7857 4.66282 3.0137C5.8163 2.24171 7.20177 1.89351 8.58318 2.02842ZM8.68038 1.03316C10.292 1.19055 11.7993 1.90184 12.9453 3.04585C14.2587 4.35938 14.9976 6.14013 15 7.99764C15.0005 9.61695 14.4396 11.1864 13.4129 12.4385C12.3861 13.6907 10.9569 14.5482 9.36889 14.8648C7.78084 15.1815 6.13211 14.9378 4.70359 14.1752C3.27506 13.4127 2.1551 12.1784 1.53449 10.6828C0.913887 9.18708 0.831027 7.52251 1.30003 5.97259C1.76903 4.42268 2.76089 3.08331 4.10662 2.18265C5.45236 1.28199 7.06873 0.875761 8.68038 1.03316ZM5.52498 5L8.00004 7.47506L10.4751 5L11.1822 5.70711L8.70714 8.18217L11.1818 10.6569L10.4747 11.364L8.00004 8.88927L5.52535 11.364L4.81824 10.6569L7.29293 8.18217L4.81787 5.70711L5.52498 5Z" fill="'),X9e=encodeURIComponent('"/></svg>'),Q9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.58318 2.02842C9.96435 2.16331 11.2561 2.77279 12.2383 3.75307C13.3643 4.87923 13.9978 6.40584 14 7.99829C14.0004 9.38617 13.5196 10.7313 12.6396 11.8045C11.7595 12.8778 10.5345 13.6127 9.17333 13.8841C7.81215 14.1556 6.39895 13.9467 5.1745 13.2931C3.95005 12.6394 2.99008 11.5815 2.45814 10.2995C1.92619 9.0175 1.85517 7.59072 2.25717 6.26222C2.65917 4.93373 3.50933 3.7857 4.66282 3.0137C5.8163 2.24171 7.20177 1.89351 8.58318 2.02842ZM8.68038 1.03316C10.292 1.19055 11.7993 1.90184 12.9453 3.04585C14.2587 4.35938 14.9976 6.14013 15 7.99764C15.0005 9.61695 14.4396 11.1864 13.4129 12.4385C12.3861 13.6907 10.9569 14.5482 9.36889 14.8648C7.78084 15.1815 6.13211 14.9378 4.70359 14.1752C3.27506 13.4127 2.1551 12.1784 1.53449 10.6828C0.913887 9.18708 0.831027 7.52251 1.30003 5.97259C1.76903 4.42268 2.76089 3.08331 4.10662 2.18265C5.45236 1.28199 7.06873 0.875761 8.68038 1.03316ZM5.52498 5L8.00004 7.47506L10.4751 5L11.1822 5.70711L8.70714 8.18217L11.1818 10.6569L10.4747 11.364L8.00004 8.88927L5.52535 11.364L4.81824 10.6569L7.29293 8.18217L4.81787 5.70711L5.52498 5Z" fill="'),Z9e=encodeURIComponent('"/></svg>'),J9e=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.12 13.9725L15 12.5L9.37927 2H7.61924L1.9985 12.5L2.87852 13.9725H14.12ZM2.87852 12.9725L8.49925 2.47249L14.12 12.9725H2.87852ZM7.98952 6H8.98802V10H7.98952V6ZM7.98952 11H8.98802V12H7.98952V11Z" fill="'),eHe=encodeURIComponent('"/></svg>'),tHe=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.12 13.9725L15 12.5L9.37927 2H7.61924L1.9985 12.5L2.87852 13.9725H14.12ZM2.87852 12.9725L8.49925 2.47249L14.12 12.9725H2.87852ZM7.98952 6H8.98802V10H7.98952V6ZM7.98952 11H8.98802V12H7.98952V11Z" fill="'),nHe=encodeURIComponent('"/></svg>'),NG=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 4.46243 5.46243 2 8.5 2C11.5376 2 14 4.46243 14 7.5C14 10.5376 11.5376 13 8.5 13C5.46243 13 3 10.5376 3 7.5ZM2 7.5C2 3.91015 4.91015 1 8.5 1C12.0899 1 15 3.91015 15 7.5C15 11.0899 12.0899 14 8.5 14C4.91015 14 2 11.0899 2 7.5ZM8 4V5H9V4H8ZM8 6L8 10H9L9 6H8Z" fill="'),OG=encodeURIComponent('"/></svg>'),kG=encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 7.5C3 4.46243 5.46243 2 8.5 2C11.5376 2 14 4.46243 14 7.5C14 10.5376 11.5376 13 8.5 13C5.46243 13 3 10.5376 3 7.5ZM2 7.5C2 3.91015 4.91015 1 8.5 1C12.0899 1 15 3.91015 15 7.5C15 11.0899 12.0899 14 8.5 14C4.91015 14 2 11.0899 2 7.5ZM8 4V5H9V4H8ZM8 6L8 10H9L9 6H8Z" fill="'),RG=encodeURIComponent('"/></svg>'),m1;(function(n){function e(r,i){switch(r){case or.Ignore:var o=i.type===gf?ae.fromHex("#75BEFF"):ae.fromHex("#007ACC");return i.type===gf?NG+encodeURIComponent(o.toString())+OG:kG+encodeURIComponent(o.toString())+RG;case or.Info:var s=i.type===gf?ae.fromHex("#007ACC"):ae.fromHex("#75BEFF");return i.type===gf?NG+encodeURIComponent(s.toString())+OG:kG+encodeURIComponent(s.toString())+RG;case or.Warning:var a=i.type===gf?ae.fromHex("#DDB100"):ae.fromHex("#fc0");return i.type===gf?J9e+encodeURIComponent(a.toString())+eHe:tHe+encodeURIComponent(a.toString())+nHe;case or.Error:var u=i.type===gf?ae.fromHex("#A1260D"):ae.fromHex("#F48771");return i.type===gf?Y9e+encodeURIComponent(u.toString())+X9e:Q9e+encodeURIComponent(u.toString())+Z9e}return""}n.getSVGData=e;function t(r){switch(r){case or.Ignore:return"severity-icon severity-ignore";case or.Info:return"severity-icon severity-info";case or.Warning:return"severity-icon severity-warning";case or.Error:return"severity-icon severity-error"}return""}n.className=t})(m1||(m1={}));function JE(n,e){return"."+m1.className(n).split(" ").join(".")+' { background: url("data:image/svg+xml,'+m1.getSVGData(n,e)+'") center center no-repeat; height: 16px; width: 16px; }'}mn(function(n,e){e.addRule(JE(or.Error,n)),e.addRule(JE(or.Warning,n)),e.addRule(JE(or.Info,n)),e.addRule(JE(or.Ignore,n))});var rHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iHe=function(){function n(e,t,r){var i=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=[],this._editor=t;var o=document.createElement("div");o.className="descriptioncontainer",o.setAttribute("aria-live","assertive"),o.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),De(this._messageBlock,"message"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.push(mi(this._relatedBlock,"click",function(s){s.preventDefault();var a=i._relatedDiagnostics.get(s.target);a&&r(a)})),this._scrollable=new yC(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.push(this._scrollable.onScroll(function(s){o.style.left="-"+s.scrollLeft+"px",o.style.top="-"+s.scrollTop+"px"})),this._disposables.push(this._scrollable)}return n.prototype.dispose=function(){nt(this._disposables)},n.prototype.update=function(e){var t=e.source,r=e.message,i=e.relatedInformation,o=e.code,s=r.split(/\r\n|\r|\n/g);this._lines=s.length,this._longestLineLength=0;for(var a=0,u=s;a<u.length;a++){var l=u[a];this._longestLineLength=Math.max(l.length,this._longestLineLength)}_a(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var c=this._messageBlock,h=0,d=s;h<d.length;h++){var l=d[h];c=document.createElement("div"),c.innerText=l,l===""&&(c.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(c)}if(t||o){var p=document.createElement("span");if(De(p,"details"),c.appendChild(p),t){var v=document.createElement("span");v.innerText=t,De(v,"source"),p.appendChild(v)}if(o){var m=document.createElement("span");m.innerText="("+o+")",De(m,"code"),p.appendChild(m)}}if(_a(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),cs(i)){var _=this._relatedBlock.appendChild(document.createElement("div"));_.style.paddingTop=Math.floor(this._editor.getConfiguration().lineHeight*.66)+"px",this._lines+=1;for(var b=0,C=i;b<C.length;b++){var E=C[b],S=document.createElement("div"),A=document.createElement("a");De(A,"filename"),A.innerHTML=Sie(E.resource)+"("+E.startLineNumber+", "+E.startColumn+"): ",A.title=Q8e(E.resource,void 0),this._relatedDiagnostics.set(A,E);var T=document.createElement("span");T.innerText=E.message,S.appendChild(A),S.appendChild(T),this._lines+=1,_.appendChild(S)}}var N=this._editor.getConfiguration().fontInfo,k=Math.ceil(N.typicalFullwidthCharacterWidth*this._longestLineLength*.75),F=N.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:k,scrollHeight:F})},n.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},n.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},n}(),oHe=function(n){rHe(e,n);function e(t,r,i){var o=n.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return o.actions=r,o._themeService=i,o._callOnDispose=new Be,o._onDidSelectRelatedInformation=new Q,o.onDidSelectRelatedInformation=o._onDidSelectRelatedInformation.event,o._severity=kn.Warning,o._backgroundColor=ae.white,o._applyTheme(i.getTheme()),o._callOnDispose.add(i.onThemeChange(o._applyTheme.bind(o))),o.create(),o}return e.prototype._applyTheme=function(t){this._backgroundColor=t.getColor(lHe);var r=sHe;this._severity===kn.Warning?r=aHe:this._severity===kn.Info&&(r=uHe);var i=t.getColor(r);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:t.getColor(Lie),secondaryHeadingColor:t.getColor(Nie)})},e.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),n.prototype._applyStyles.call(this)},e.prototype.dispose=function(){this._callOnDispose.dispose(),n.prototype.dispose.call(this)},e.prototype._fillHead=function(t){n.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0})},e.prototype._fillTitleIcon=function(t){this._icon=Ee(t,We(""))},e.prototype._getActionBarOptions=function(){return{orientation:1}},e.prototype._fillBody=function(t){var r=this;this._parentContainer=t,De(t,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new iHe(this._container,this.editor,function(i){return r._onDidSelectRelatedInformation.fire(i)}),this._disposables.add(this._message)},e.prototype.show=function(t,r){throw new Error("call showAtMarker")},e.prototype.showAtMarker=function(t,r,i){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var o=H.lift(t),s=this.editor.getPosition(),a=s&&o.containsPosition(s)?s:o.getStartPosition();n.prototype.show.call(this,a,this.computeRequiredHeight());var u=this.editor.getModel();if(u){var l=i>1?D("problems","{0} of {1} problems",r,i):D("change","{0} of {1} problem",r,i);this.setTitle(Vc(u.uri),l)}this._icon.className=m1.className(kn.toSeverity(this._severity)),this.editor.revealPositionInCenter(a,0)},e.prototype.updateMarker=function(t){this._container.classList.remove("stale"),this._message.update(t)},e.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},e.prototype._doLayoutBody=function(t,r){n.prototype._doLayoutBody.call(this,t,r),this._heightInPixel=t,this._message.layout(t,r),this._container.style.height=t+"px"},e.prototype._onWidth=function(t){this._message.layout(this._heightInPixel,t)},e.prototype._relayout=function(){n.prototype._relayout.call(this,this.computeRequiredHeight())},e.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},e}(Eie),jk=p5(Hte,Vte),qk=p5(XT,a5),zk=p5(QT,u5),sHe=oe("editorMarkerNavigationError.background",{dark:jk,light:jk,hc:jk},D("editorMarkerNavigationError","Editor marker navigation widget error color.")),aHe=oe("editorMarkerNavigationWarning.background",{dark:qk,light:qk,hc:qk},D("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),uHe=oe("editorMarkerNavigationInfo.background",{dark:zk,light:zk,hc:zk},D("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),lHe=oe("editorMarkerNavigation.background",{dark:"#2D2D30",light:ae.white,hc:"#0C141F"},D("editorMarkerNavigationBackground","Editor marker navigation widget background."));mn(function(n,e){var t=n.getColor(b2);t&&e.addRule(".monaco-editor .marker-widget a { color: "+t+"; }")});var kC=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},my=function(n,e){return function(t,r){e(t,r,n)}},PG=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},MG=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},fHe=function(){function n(e,t){var r=this;this._toUnbind=new Be,this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new Q,this._onMarkerSetChanged=new Q,this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose(function(){return r.dispose()})),this._toUnbind.add(this._editor.onDidChangeCursorPosition(function(){r._ignoreSelectionChange||r.currentMarker&&r._editor.getPosition()&&H.containsPosition(r.currentMarker,r._editor.getPosition())||(r._nextIdx=-1)}))}return Object.defineProperty(n.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),n.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(Ym.compareMarker),t?this._nextIdx=Math.max(-1,e2(this._markers,t,Ym.compareMarker)):this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},n.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},n.prototype._initIdx=function(e){for(var t=!1,r=this._editor.getPosition(),i=0;i<this._markers.length;i++){var o=H.lift(this._markers[i]);if(o.isEmpty()&&this._editor.getModel()){var s=this._editor.getModel().getWordAtPosition(o.getStartPosition());s&&(o=new H(o.startLineNumber,s.startColumn,o.startLineNumber,s.endColumn))}if(r&&(o.containsPosition(r)||r.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(n.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),n.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var r=this._nextIdx,i=!1;if(this._nextIdx===-1?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:i=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:i=!0),r!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return i},n.prototype.canNavigate=function(){return this._markers.length>0},n.prototype.findMarkerAtPosition=function(e){for(var t=0,r=this._markers;t<r.length;t++){var i=r[t];if(H.containsPosition(i,e))return i}},Object.defineProperty(n.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),n.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},n.prototype.dispose=function(){this._toUnbind.dispose()},n}(),G2=function(){function n(e,t,r,i,o,s){this._markerService=t,this._contextKeyService=r,this._themeService=i,this._editorService=o,this._keybindingService=s,this._model=null,this._widget=null,this._disposeOnClose=new Be,this._editor=e,this._widgetVisible=Wie.bindTo(this._contextKeyService)}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},n.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},n.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new fHe(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var r=this._keybindingService.lookupKeybinding(qS.ID),i=this._keybindingService.lookupKeybinding(lb.ID),o=[new pa(qS.ID,qS.LABEL+(r?" ("+r.getLabel()+")":""),"show-previous-problem chevron-up",this._model.canNavigate(),function(){return PG(e,void 0,void 0,function(){return MG(this,function(l){return this._model&&this._model.move(!1,!0),[2]})})}),new pa(lb.ID,lb.LABEL+(i?" ("+i.getLabel()+")":""),"show-next-problem chevron-down",this._model.canNavigate(),function(){return PG(e,void 0,void 0,function(){return MG(this,function(l){return this._model&&this._model.move(!0,!0),[2]})})})];this._widget=new oHe(this._editor,o,this._themeService),this._widgetVisible.set(!0),this._widget.onDidClose(function(){return e._cleanUp()},this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var s=0,a=o;s<a.length;s++){var u=a[s];this._disposeOnClose.add(u)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function(l){e._editorService.openCodeEditor({resource:l.resource,options:{pinned:!0,revealIfOpened:!0,selection:H.lift(l).collapseToStart()}},e._editor).then(void 0,He),e.closeMarkersNavigation(!1)})),this._disposeOnClose.add(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function(l){!l||!e._model?e._cleanUp():e._model.withoutWatchingEditorPosition(function(){!e._widget||!e._model||e._widget.showAtMarker(l,e._model.indexOf(l),e._model.total)})})),this._disposeOnClose.add(this._model.onMarkerSetChanged(function(){if(!(!e._widget||!e._widget.position||!e._model)){var l=e._model.findMarkerAtPosition(e._widget.position);l?e._widget.updateMarker(l):e._widget.showStale()}})),this._model},n.prototype.closeMarkersNavigation=function(e){e===void 0&&(e=!0),this._cleanUp(),e&&this._editor.focus()},n.prototype.show=function(e){var t=this.getOrCreateModel();t.currentMarker=e},n.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some(function(r){return t.uri.toString()===r.toString()})&&this._model.setMarkers(this._getMarkers())},n.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:kn.Error|kn.Warning|kn.Info}):[]},n.ID="editor.contrib.markerController",n=cHe([my(1,IC),my(2,yt),my(3,ei),my(4,In),my(5,Dr)],n),n}(),Ym=function(n){kC(e,n);function e(t,r,i){var o=n.call(this,i)||this;return o._isNext=t,o._multiFile=r,o}return e.prototype.run=function(t,r){var i=this,o=t.get(IC),s=t.get(In),a=G2.get(r);if(!a)return Promise.resolve(void 0);var u=a.getOrCreateModel(),l=u.move(this._isNext,!this._multiFile);if(!l||!this._multiFile)return Promise.resolve(void 0);var c=o.read({severities:kn.Error|kn.Warning|kn.Info}).sort(e.compareMarker);if(c.length===0)return Promise.resolve(void 0);var h=r.getModel();if(!h)return Promise.resolve(void 0);var d=u.currentMarker||{resource:h.uri,severity:kn.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},p=e2(c,d,e.compareMarker);p<0?(p=~p,p%=c.length):this._isNext?p=(p+1)%c.length:p=(p+c.length-1)%c.length;var v=c[p];return v.resource.toString()===h.uri.toString()?(u.move(this._isNext,!0),Promise.resolve(void 0)):(a.closeMarkersNavigation(),s.openCodeEditor({resource:v.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:v}},r).then(function(m){if(m)return m.getAction(i.id).run()}))},e.compareMarker=function(t,r){var i=vee(t.resource.toString(),r.resource.toString());return i===0&&(i=kn.compare(t.severity,r.severity)),i===0&&(i=H.compareRangesUsingStarts(t,r)),i},e}(Ue),lb=function(n){kC(e,n);function e(){return n.call(this,!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:578,weight:100}})||this}return e.ID="editor.action.marker.next",e.LABEL=D("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),e}(Ym),qS=function(n){kC(e,n);function e(){return n.call(this,!1,!1,{id:e.ID,label:e.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1602,weight:100}})||this}return e.ID="editor.action.marker.prev",e.LABEL=D("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),e}(Ym),hHe=function(n){kC(e,n);function e(){return n.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:D("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.focus,primary:66,weight:100}})||this}return e}(Ym),dHe=function(n){kC(e,n);function e(){return n.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:D("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:W.writable,kbOpts:{kbExpr:W.focus,primary:1090,weight:100}})||this}return e}(Ym);Cn(G2);ge(lb);ge(qS);ge(hHe);ge(dHe);var Wie=new Ke("markersNavigationVisible",!1),pHe=Po.bindToContribution(G2.get);ce(new pHe({id:"closeMarkersNavigation",precondition:Wie,handler:function(n){return n.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:W.focus,primary:9,secondary:[1033]}}));Nu.appendMenuItem(16,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:D({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1});Nu.appendMenuItem(16,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:D({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2});var gHe=function(){function n(e,t,r){this.presentationIndex=r,this._onColorFlushed=new Q,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Q,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Q,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}return Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),n.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},n.prototype.guessColorPresentation=function(e,t){for(var r=0;r<this.colorPresentations.length;r++)if(t===this.colorPresentations[r].label){this.presentationIndex=r,this._onDidChangePresentation.fire(this.presentation);break}},n.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},n}(),bg=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bl=We,vHe=function(n){bg(e,n);function e(t,r,i){var o=n.call(this)||this;o.model=r,o.domNode=bl(".colorpicker-header"),Ee(t,o.domNode),o.pickedColorNode=Ee(o.domNode,bl(".picked-color"));var s=Ee(o.domNode,bl(".original-color"));return s.style.backgroundColor=ae.Format.CSS.format(o.model.originalColor),o.backgroundColor=i.getTheme().getColor(Up)||ae.white,o._register(mn(function(a,u){o.backgroundColor=a.getColor(Up)||ae.white})),o._register(ye(o.pickedColorNode,lt.CLICK,function(){return o.model.selectNextColorPresentation()})),o._register(ye(s,lt.CLICK,function(){o.model.color=o.model.originalColor,o.model.flushColor()})),o._register(r.onDidChangeColor(o.onDidChangeColor,o)),o._register(r.onDidChangePresentation(o.onDidChangePresentation,o)),o.pickedColorNode.style.backgroundColor=ae.Format.CSS.format(r.color),Rt(o.pickedColorNode,"light",r.color.rgba.a<.5?o.backgroundColor.isLighter():r.color.isLighter()),o}return e.prototype.onDidChangeColor=function(t){this.pickedColorNode.style.backgroundColor=ae.Format.CSS.format(t),Rt(this.pickedColorNode,"light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()},e.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},e}(he),mHe=function(n){bg(e,n);function e(t,r,i){var o=n.call(this)||this;return o.model=r,o.pixelRatio=i,o.domNode=bl(".colorpicker-body"),Ee(t,o.domNode),o.saturationBox=new _He(o.domNode,o.model,o.pixelRatio),o._register(o.saturationBox),o._register(o.saturationBox.onDidChange(o.onDidSaturationValueChange,o)),o._register(o.saturationBox.onColorFlushed(o.flushColor,o)),o.opacityStrip=new yHe(o.domNode,o.model),o._register(o.opacityStrip),o._register(o.opacityStrip.onDidChange(o.onDidOpacityChange,o)),o._register(o.opacityStrip.onColorFlushed(o.flushColor,o)),o.hueStrip=new bHe(o.domNode,o.model),o._register(o.hueStrip),o._register(o.hueStrip.onDidChange(o.onDidHueChange,o)),o._register(o.hueStrip.onColorFlushed(o.flushColor,o)),o}return e.prototype.flushColor=function(){this.model.flushColor()},e.prototype.onDidSaturationValueChange=function(t){var r=t.s,i=t.v,o=this.model.color.hsva;this.model.color=new ae(new Gf(o.h,r,i,o.a))},e.prototype.onDidOpacityChange=function(t){var r=this.model.color.hsva;this.model.color=new ae(new Gf(r.h,r.s,r.v,t))},e.prototype.onDidHueChange=function(t){var r=this.model.color.hsva,i=(1-t)*360;this.model.color=new ae(new Gf(i===360?0:i,r.s,r.v,r.a))},e.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},e}(he),_He=function(n){bg(e,n);function e(t,r,i){var o=n.call(this)||this;return o.model=r,o.pixelRatio=i,o._onDidChange=new Q,o.onDidChange=o._onDidChange.event,o._onColorFlushed=new Q,o.onColorFlushed=o._onColorFlushed.event,o.domNode=bl(".saturation-wrap"),Ee(t,o.domNode),o.canvas=document.createElement("canvas"),o.canvas.className="saturation-box",Ee(o.domNode,o.canvas),o.selection=bl(".saturation-selection"),Ee(o.domNode,o.selection),o.layout(),o._register(ye(o.domNode,lt.MOUSE_DOWN,function(s){return o.onMouseDown(s)})),o._register(o.model.onDidChangeColor(o.onDidChangeColor,o)),o.monitor=null,o}return e.prototype.onMouseDown=function(t){var r=this;this.monitor=this._register(new cg);var i=_i(this.domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(B_,function(s){return r.onDidChangePosition(s.posx-i.left,s.posy-i.top)},function(){return null});var o=ye(document,lt.MOUSE_UP,function(){r._onColorFlushed.fire(),o.dispose(),r.monitor&&(r.monitor.stopMonitoring(!0),r.monitor=null)},!0)},e.prototype.onDidChangePosition=function(t,r){var i=Math.max(0,Math.min(1,t/this.width)),o=Math.max(0,Math.min(1,1-r/this.height));this.paintSelection(i,o),this._onDidChange.fire({s:i,v:o})},e.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var t=this.model.color.hsva;this.paintSelection(t.s,t.v)},e.prototype.paint=function(){var t=this.model.color.hsva,r=new ae(new Gf(t.h,1,1,1)),i=this.canvas.getContext("2d"),o=i.createLinearGradient(0,0,this.canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");var s=i.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=ae.Format.CSS.format(r),i.fill(),i.fillStyle=o,i.fill(),i.fillStyle=s,i.fill()},e.prototype.paintSelection=function(t,r){this.selection.style.left=t*this.width+"px",this.selection.style.top=this.height-r*this.height+"px"},e.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},e}(he),Uie=function(n){bg(e,n);function e(t,r){var i=n.call(this)||this;return i.model=r,i._onDidChange=new Q,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new Q,i.onColorFlushed=i._onColorFlushed.event,i.domNode=Ee(t,bl(".strip")),i.overlay=Ee(i.domNode,bl(".overlay")),i.slider=Ee(i.domNode,bl(".slider")),i.slider.style.top="0px",i._register(ye(i.domNode,lt.MOUSE_DOWN,function(o){return i.onMouseDown(o)})),i.layout(),i}return e.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var t=this.getValue(this.model.color);this.updateSliderPosition(t)},e.prototype.onMouseDown=function(t){var r=this,i=this._register(new cg),o=_i(this.domNode);De(this.domNode,"grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),i.startMonitoring(B_,function(a){return r.onDidChangeTop(a.posy-o.top)},function(){return null});var s=ye(document,lt.MOUSE_UP,function(){r._onColorFlushed.fire(),s.dispose(),i.stopMonitoring(!0),st(r.domNode,"grabbing")},!0)},e.prototype.onDidChangeTop=function(t){var r=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(r),this._onDidChange.fire(r)},e.prototype.updateSliderPosition=function(t){this.slider.style.top=(1-t)*this.height+"px"},e}(he),yHe=function(n){bg(e,n);function e(t,r){var i=n.call(this,t,r)||this;return De(i.domNode,"opacity-strip"),i._register(r.onDidChangeColor(i.onDidChangeColor,i)),i.onDidChangeColor(i.model.color),i}return e.prototype.onDidChangeColor=function(t){var r=t.rgba,i=r.r,o=r.g,s=r.b,a=new ae(new yn(i,o,s,1)),u=new ae(new yn(i,o,s,0));this.overlay.style.background="linear-gradient(to bottom, "+a+" 0%, "+u+" 100%)"},e.prototype.getValue=function(t){return t.hsva.a},e}(Uie),bHe=function(n){bg(e,n);function e(t,r){var i=n.call(this,t,r)||this;return De(i.domNode,"hue-strip"),i}return e.prototype.getValue=function(t){return 1-t.hsva.h/360},e}(Uie),CHe=function(n){bg(e,n);function e(t,r,i,o){var s=n.call(this)||this;s.model=r,s.pixelRatio=i,s._register(nee(function(){return s.layout()}));var a=bl(".colorpicker-widget");t.appendChild(a);var u=new vHe(a,s.model,o);return s.body=new mHe(a,s.model,s.pixelRatio),s._register(u),s._register(s.body),s}return e.prototype.layout=function(){this.body.layout()},e}(gs);function jie(n,e,t){var r=Jb.ordered(n),i=r.map(function(o){return Promise.resolve(o.provideHover(n,e,t)).then(function(s){return s&&wHe(s)?s:void 0},function(s){Oo(s)})});return Promise.all(i).then(Yc)}Mu("_executeHoverProvider",function(n,e){return jie(n,e,rn.None)});function wHe(n){var e=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return e&&t}var qie=function(){function n(e,t,r,i,o){var s=this;this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new Hr(function(){return s._triggerAsyncComputation()},0),this._secondWaitScheduler=new Hr(function(){return s._triggerSyncComputation()},0),this._loadingMessageScheduler=new Hr(function(){return s._showLoadingMessage()},0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=r,this._progressCallback=i}return n.prototype.setHoverTime=function(e){this._hoverTime=e},n.prototype._firstWaitTime=function(){return this._hoverTime/2},n.prototype._secondWaitTime=function(){return this._hoverTime/2},n.prototype._loadingMessageTime=function(){return 3*this._hoverTime},n.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Qr(function(t){return e._computer.computeAsync(t)}),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(t){return e._onError(t)})):this._asyncComputationPromiseDone=!0},n.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},n.prototype._showLoadingMessage=function(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())},n.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))},n.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},n.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):He(e)},n.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},n.prototype.start=function(e){if(e===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}},n.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},n}(),zie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),EHe=function(n){zie(e,n);function e(t,r){var i=n.call(this)||this;return i.allowEditorOverflow=!0,i._id=t,i._editor=r,i._isVisible=!1,i._stoleFocus=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new bC(i._domNode,{}),i._register(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,function(o){o.equals(9)&&i.hide()}),i._register(i._editor.onDidChangeConfiguration(function(o){o.fontInfo&&i.updateFont()})),i._editor.onDidLayoutChange(function(o){return i.layout()}),i.layout(),i._editor.addContentWidget(i),i._showAtPosition=null,i._showAtRange=null,i._stoleFocus=!1,i}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t,Rt(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._containerDomNode},e.prototype.showAt=function(t,r,i){this._showAtPosition=t,this._showAtRange=r,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._containerDomNode.focus()},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},e.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},e.prototype.dispose=function(){this._editor.removeContentWidget(this),n.prototype.dispose.call(this)},e.prototype.updateFont=function(){var t=this,r=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));r.forEach(function(i){return t._editor.applyFontInfo(i)})},e.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},e.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},e.prototype.layout=function(){var t=Math.max(this._editor.getLayoutInfo().height/4,250),r=this._editor.getConfiguration().fontInfo,i=r.fontSize,o=r.lineHeight;this._domNode.style.fontSize=i+"px",this._domNode.style.lineHeight=o+"px",this._domNode.style.maxHeight=t+"px",this._domNode.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px"},e}(gs),SHe=function(n){zie(e,n);function e(t,r){var i=n.call(this)||this;return i._id=t,i._editor=r,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration(function(o){o.fontInfo&&i.updateFont()})),i._editor.addOverlayWidget(i),i}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t,Rt(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.showAt=function(t){this._showAtLineNumber=t,this.isVisible||(this.isVisible=!0);var r=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),o=this._editor.getScrollTop(),s=this._editor.getConfiguration().lineHeight,a=this._domNode.clientHeight,u=i-o-(a-s)/2;this._domNode.style.left=r.glyphMarginLeft+r.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(u),0)+"px"},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},e.prototype.getPosition=function(){return null},e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.updateFont=function(){var t=this,r=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),i=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));r.concat(i).forEach(function(o){return t._editor.applyFontInfo(o)})},e.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont()},e}(gs),Kl;(function(n){var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:_,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:_,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:_,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};e._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,e._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,e.def=h(e.def).replace("label",e._label).replace("title",e._title).getRegex(),e.bullet=/(?:[*+-]|\d{1,9}\.)/,e.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,e.item=h(e.item,"gm").replace(/bull/g,e.bullet).getRegex(),e.list=h(e.list).replace(/bull/g,e.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+e.def.source+")").getRegex(),e._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",e._comment=/<!--(?!-?>)[\s\S]*?-->/,e.html=h(e.html,"i").replace("comment",e._comment).replace("tag",e._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),e.paragraph=h(e.paragraph).replace("hr",e.hr).replace("heading",e.heading).replace("lheading",e.lheading).replace("tag",e._tag).getRegex(),e.blockquote=h(e.blockquote).replace("paragraph",e.paragraph).getRegex(),e.normal=b({},e),e.gfm=b({},e.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),e.gfm.paragraph=h(e.paragraph).replace("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|").getRegex(),e.tables=b({},e.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),e.pedantic=b({},e.normal,{html:h(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",e._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});function t(T){this.tokens=[],this.tokens.links=Object.create(null),this.options=T||A.defaults,this.rules=e.normal,this.options.pedantic?this.rules=e.pedantic:this.options.gfm&&(this.options.tables?this.rules=e.tables:this.rules=e.gfm)}t.rules=e,t.lex=function(T,N){var k=new t(N);return k.lex(T)},t.prototype.lex=function(T){return T=T.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(T,!0)},t.prototype.token=function(T,N){T=T.replace(/^ +$/gm,"");for(var k,F,L,O,P,B,U,$,te,ne,ie,pe,ke,qe,ft,ze;T;){if((L=this.rules.newline.exec(T))&&(T=T.substring(L[0].length),L[0].length>1&&this.tokens.push({type:"space"})),L=this.rules.code.exec(T)){T=T.substring(L[0].length),L=L[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?L:E(L,`
`)});continue}if(L=this.rules.fences.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:"code",lang:L[2]?L[2].trim():L[2],text:L[3]||""});continue}if(L=this.rules.heading.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:"heading",depth:L[1].length,text:L[2]});continue}if((L=this.rules.nptable.exec(T))&&(B={type:"table",header:C(L[1].replace(/^ *| *\| *$/g,"")),align:L[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:L[3]?L[3].replace(/\n$/,"").split(`
`):[]},B.header.length===B.align.length)){for(T=T.substring(L[0].length),ie=0;ie<B.align.length;ie++)/^ *-+: *$/.test(B.align[ie])?B.align[ie]="right":/^ *:-+: *$/.test(B.align[ie])?B.align[ie]="center":/^ *:-+ *$/.test(B.align[ie])?B.align[ie]="left":B.align[ie]=null;for(ie=0;ie<B.cells.length;ie++)B.cells[ie]=C(B.cells[ie],B.header.length);this.tokens.push(B);continue}if(L=this.rules.hr.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:"hr"});continue}if(L=this.rules.blockquote.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:"blockquote_start"}),L=L[0].replace(/^ *> ?/gm,""),this.token(L,N),this.tokens.push({type:"blockquote_end"});continue}if(L=this.rules.list.exec(T)){for(T=T.substring(L[0].length),O=L[2],qe=O.length>1,U={type:"list_start",ordered:qe,start:qe?+O:"",loose:!1},this.tokens.push(U),L=L[0].match(this.rules.item),$=[],k=!1,ke=L.length,ie=0;ie<ke;ie++)B=L[ie],ne=B.length,B=B.replace(/^ *([*+-]|\d+\.) */,""),~B.indexOf(`
 `)&&(ne-=B.length,B=this.options.pedantic?B.replace(/^ {1,4}/gm,""):B.replace(new RegExp("^ {1,"+ne+"}","gm"),"")),ie!==ke-1&&(P=e.bullet.exec(L[ie+1])[0],(O.length>1?P.length===1:P.length>1||this.options.smartLists&&P!==O)&&(T=L.slice(ie+1).join(`
`)+T,ie=ke-1)),F=k||/\n\n(?!\s*$)/.test(B),ie!==ke-1&&(k=B.charAt(B.length-1)===`
`,F||(F=k)),F&&(U.loose=!0),ft=/^\[[ xX]\] /.test(B),ze=void 0,ft&&(ze=B[1]!==" ",B=B.replace(/^\[[ xX]\] +/,"")),te={type:"list_item_start",task:ft,checked:ze,loose:F},$.push(te),this.tokens.push(te),this.token(B,!1),this.tokens.push({type:"list_item_end"});if(U.loose)for(ke=$.length,ie=0;ie<ke;ie++)$[ie].loose=!0;this.tokens.push({type:"list_end"});continue}if(L=this.rules.html.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(L[1]==="pre"||L[1]==="script"||L[1]==="style"),text:L[0]});continue}if(N&&(L=this.rules.def.exec(T))){T=T.substring(L[0].length),L[3]&&(L[3]=L[3].substring(1,L[3].length-1)),pe=L[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[pe]||(this.tokens.links[pe]={href:L[2],title:L[3]});continue}if((L=this.rules.table.exec(T))&&(B={type:"table",header:C(L[1].replace(/^ *| *\| *$/g,"")),align:L[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:L[3]?L[3].replace(/\n$/,"").split(`
`):[]},B.header.length===B.align.length)){for(T=T.substring(L[0].length),ie=0;ie<B.align.length;ie++)/^ *-+: *$/.test(B.align[ie])?B.align[ie]="right":/^ *:-+: *$/.test(B.align[ie])?B.align[ie]="center":/^ *:-+ *$/.test(B.align[ie])?B.align[ie]="left":B.align[ie]=null;for(ie=0;ie<B.cells.length;ie++)B.cells[ie]=C(B.cells[ie].replace(/^ *\| *| *\| *$/g,""),B.header.length);this.tokens.push(B);continue}if(L=this.rules.lheading.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:"heading",depth:L[2]==="="?1:2,text:L[1]});continue}if(N&&(L=this.rules.paragraph.exec(T))){T=T.substring(L[0].length),this.tokens.push({type:"paragraph",text:L[1].charAt(L[1].length-1)===`
`?L[1].slice(0,-1):L[1]});continue}if(L=this.rules.text.exec(T)){T=T.substring(L[0].length),this.tokens.push({type:"text",text:L[0]});continue}if(T)throw new Error("Infinite loop on byte: "+T.charCodeAt(0))}return this.tokens};var r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};r._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,r.em=h(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=h(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=h(r.tag).replace("comment",e._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,r._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=h(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=h(r.reflink).replace("label",r._label).getRegex(),r.normal=b({},r),r.pedantic=b({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=b({},r.normal,{escape:h(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=h(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=b({},r.gfm,{br:h(r.br).replace("{2,}","*").getRegex(),text:h(r.gfm.text).replace(/\{2,\}/g,"*").getRegex()});function i(T,N){if(this.options=N||A.defaults,this.links=T,this.rules=r.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.options.breaks?this.rules=r.breaks:this.rules=r.gfm)}i.rules=r,i.output=function(T,N,k){var F=new i(N,k);return F.output(T)},i.prototype.output=function(T){for(var N="",k,F,L,O,P,B;T;){if(P=this.rules.escape.exec(T)){T=T.substring(P[0].length),N+=l(P[1]);continue}if(P=this.rules.tag.exec(T)){!this.inLink&&/^<a /i.test(P[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(P[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(P[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(P[0])&&(this.inRawBlock=!1),T=T.substring(P[0].length),N+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(P[0]):l(P[0]):P[0];continue}if(P=this.rules.link.exec(T)){var U=S(P[2],"()");if(U>-1){var $=P[0].length-(P[2].length-U)-(P[3]||"").length;P[2]=P[2].substring(0,U),P[0]=P[0].substring(0,$).trim(),P[3]=""}T=T.substring(P[0].length),this.inLink=!0,L=P[2],this.options.pedantic?(k=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(L),k?(L=k[1],O=k[3]):O=""):O=P[3]?P[3].slice(1,-1):"",L=L.trim().replace(/^<([\s\S]*)>$/,"$1"),N+=this.outputLink(P,{href:i.escapes(L),title:i.escapes(O)}),this.inLink=!1;continue}if((P=this.rules.reflink.exec(T))||(P=this.rules.nolink.exec(T))){if(T=T.substring(P[0].length),k=(P[2]||P[1]).replace(/\s+/g," "),k=this.links[k.toLowerCase()],!k||!k.href){N+=P[0].charAt(0),T=P[0].substring(1)+T;continue}this.inLink=!0,N+=this.outputLink(P,k),this.inLink=!1;continue}if(P=this.rules.strong.exec(T)){T=T.substring(P[0].length),N+=this.renderer.strong(this.output(P[4]||P[3]||P[2]||P[1]));continue}if(P=this.rules.em.exec(T)){T=T.substring(P[0].length),N+=this.renderer.em(this.output(P[6]||P[5]||P[4]||P[3]||P[2]||P[1]));continue}if(P=this.rules.code.exec(T)){T=T.substring(P[0].length),N+=this.renderer.codespan(l(P[2].trim(),!0));continue}if(P=this.rules.br.exec(T)){T=T.substring(P[0].length),N+=this.renderer.br();continue}if(P=this.rules.del.exec(T)){T=T.substring(P[0].length),N+=this.renderer.del(this.output(P[1]));continue}if(P=this.rules.autolink.exec(T)){T=T.substring(P[0].length),P[2]==="@"?(F=l(this.mangle(P[1])),L="mailto:"+F):(F=l(P[1]),L=F),N+=this.renderer.link(L,null,F);continue}if(!this.inLink&&(P=this.rules.url.exec(T))){if(P[2]==="@")F=l(P[0]),L="mailto:"+F;else{do B=P[0],P[0]=this.rules._backpedal.exec(P[0])[0];while(B!==P[0]);F=l(P[0]),P[1]==="www."?L="http://"+F:L=F}T=T.substring(P[0].length),N+=this.renderer.link(L,null,F);continue}if(P=this.rules.text.exec(T)){T=T.substring(P[0].length),this.inRawBlock?N+=this.renderer.text(P[0]):N+=this.renderer.text(l(this.smartypants(P[0])));continue}if(T)throw new Error("Infinite loop on byte: "+T.charCodeAt(0))}return N},i.escapes=function(T){return T&&T.replace(i.rules._escapes,"$1")},i.prototype.outputLink=function(T,N){var k=N.href,F=N.title?l(N.title):null;return T[0].charAt(0)!=="!"?this.renderer.link(k,F,this.output(T[1])):this.renderer.image(k,F,l(T[1]))},i.prototype.smartypants=function(T){return this.options.smartypants?T.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):T},i.prototype.mangle=function(T){if(!this.options.mangle)return T;for(var N="",k=T.length,F=0,L;F<k;F++)L=T.charCodeAt(F),Math.random()>.5&&(L="x"+L.toString(16)),N+="&#"+L+";";return N};function o(T){this.options=T||A.defaults}o.prototype.code=function(T,N,k){var F=(N||"").match(/\S*/)[0];if(this.options.highlight){var L=this.options.highlight(T,F);L!=null&&L!==T&&(k=!0,T=L)}return F?'<pre><code class="'+this.options.langPrefix+l(F,!0)+'">'+(k?T:l(T,!0))+`</code></pre>
`:"<pre><code>"+(k?T:l(T,!0))+"</code></pre>"},o.prototype.blockquote=function(T){return`<blockquote>
`+T+`</blockquote>
`},o.prototype.html=function(T){return T},o.prototype.heading=function(T,N,k,F){return this.options.headerIds?"<h"+N+' id="'+this.options.headerPrefix+F.slug(k)+'">'+T+"</h"+N+`>
`:"<h"+N+">"+T+"</h"+N+`>
`},o.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},o.prototype.list=function(T,N,k){var F=N?"ol":"ul",L=N&&k!==1?' start="'+k+'"':"";return"<"+F+L+`>
`+T+"</"+F+`>
`},o.prototype.listitem=function(T){return"<li>"+T+`</li>
`},o.prototype.checkbox=function(T){return"<input "+(T?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},o.prototype.paragraph=function(T){return"<p>"+T+`</p>
`},o.prototype.table=function(T,N){return N&&(N="<tbody>"+N+"</tbody>"),`<table>
<thead>
`+T+`</thead>
`+N+`</table>
`},o.prototype.tablerow=function(T){return`<tr>
`+T+`</tr>
`},o.prototype.tablecell=function(T,N){var k=N.header?"th":"td",F=N.align?"<"+k+' align="'+N.align+'">':"<"+k+">";return F+T+"</"+k+`>
`},o.prototype.strong=function(T){return"<strong>"+T+"</strong>"},o.prototype.em=function(T){return"<em>"+T+"</em>"},o.prototype.codespan=function(T){return"<code>"+T+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(T){return"<del>"+T+"</del>"},o.prototype.link=function(T,N,k){if(T=d(this.options.sanitize,this.options.baseUrl,T),T===null)return k;var F='<a href="'+l(T)+'"';return N&&(F+=' title="'+N+'"'),F+=">"+k+"</a>",F},o.prototype.image=function(T,N,k){if(T=d(this.options.sanitize,this.options.baseUrl,T),T===null)return k;var F='<img src="'+T+'" alt="'+k+'"';return N&&(F+=' title="'+N+'"'),F+=this.options.xhtml?"/>":">",F},o.prototype.text=function(T){return T};function s(){}s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(T){return T},s.prototype.link=s.prototype.image=function(T,N,k){return""+k},s.prototype.br=function(){return""};function a(T){this.tokens=[],this.token=null,this.options=T||A.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new u}a.parse=function(T,N){var k=new a(N);return k.parse(T)},a.prototype.parse=function(T){this.inline=new i(T.links,this.options),this.inlineText=new i(T.links,b({},this.options,{renderer:new s})),this.tokens=T.reverse();for(var N="";this.next();)N+=this.tok();return N},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var T=this.token.text;this.peek().type==="text";)T+=`
`+this.next().text;return this.inline.output(T)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{var T="",N="",k,F,L,O;for(L="",k=0;k<this.token.header.length;k++)L+=this.renderer.tablecell(this.inline.output(this.token.header[k]),{header:!0,align:this.token.align[k]});for(T+=this.renderer.tablerow(L),k=0;k<this.token.cells.length;k++){for(F=this.token.cells[k],L="",O=0;O<F.length;O++)L+=this.renderer.tablecell(this.inline.output(F[O]),{header:!1,align:this.token.align[O]});N+=this.renderer.tablerow(L)}return this.renderer.table(T,N)}case"blockquote_start":{for(N="";this.next().type!=="blockquote_end";)N+=this.tok();return this.renderer.blockquote(N)}case"list_start":{N="";for(var P=this.token.ordered,B=this.token.start;this.next().type!=="list_end";)N+=this.tok();return this.renderer.list(N,P,B)}case"list_item_start":{N="";var U=this.token.loose,$=this.token.checked,te=this.token.task;for(this.token.task&&(N+=this.renderer.checkbox($));this.next().type!=="list_item_end";)N+=!U&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(N,te,$)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{var ne='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(ne);else throw new Error(ne)}}};function u(){this.seen={}}u.prototype.slug=function(T){var N=T.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(N)){var k=N;do this.seen[k]++,N=k+"-"+this.seen[k];while(this.seen.hasOwnProperty(N))}return this.seen[N]=0,N};function l(T,N){if(N){if(l.escapeTest.test(T))return T.replace(l.escapeReplace,function(k){return l.replacements[k]})}else if(l.escapeTestNoEncode.test(T))return T.replace(l.escapeReplaceNoEncode,function(k){return l.replacements[k]});return T}l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function c(T){return T.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(N,k){return k=k.toLowerCase(),k==="colon"?":":k.charAt(0)==="#"?k.charAt(1)==="x"?String.fromCharCode(parseInt(k.substring(2),16)):String.fromCharCode(+k.substring(1)):""})}function h(T,N){return T=T.source||T,N=N||"",{replace:function(k,F){return F=F.source||F,F=F.replace(/(^|[^\[])\^/g,"$1"),T=T.replace(k,F),this},getRegex:function(){return new RegExp(T,N)}}}function d(T,N,k){if(T){try{var F=decodeURIComponent(c(k)).replace(/[^\w:]/g,"").toLowerCase()}catch{return null}if(F.indexOf("javascript:")===0||F.indexOf("vbscript:")===0||F.indexOf("data:")===0)return null}N&&!m.test(k)&&(k=p(N,k));try{k=encodeURI(k).replace(/%25/g,"%")}catch{return null}return k}function p(T,N){return v[" "+T]||(/^[^:]+:\/*[^/]*$/.test(T)?v[" "+T]=T+"/":v[" "+T]=E(T,"/",!0)),T=v[" "+T],N.slice(0,2)==="//"?T.replace(/:[\s\S]*/,":")+N:N.charAt(0)==="/"?T.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+N:T+N}var v={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(){}_.exec=_;function b(T){for(var N=1,k,F;N<arguments.length;N++){k=arguments[N];for(F in k)Object.prototype.hasOwnProperty.call(k,F)&&(T[F]=k[F])}return T}function C(T,N){var k=T.replace(/\|/g,function(O,P,B){for(var U=!1,$=P;--$>=0&&B[$]==="\\";)U=!U;return U?"|":" |"}),F=k.split(/ \|/),L=0;if(F.length>N)F.splice(N);else for(;F.length<N;)F.push("");for(;L<F.length;L++)F[L]=F[L].trim().replace(/\\\|/g,"|");return F}function E(T,N,k){if(T.length===0)return"";for(var F=0;F<T.length;){var L=T.charAt(T.length-F-1);if(L===N&&!k)F++;else if(L!==N&&k)F++;else break}return T.substr(0,T.length-F)}function S(T,N){if(T.indexOf(N[1])===-1)return-1;for(var k=0,F=0;F<T.length;F++)if(T[F]==="\\")F++;else if(T[F]===N[0])k++;else if(T[F]===N[1]&&(k--,k<0))return F;return-1}function A(T,N,k){if(typeof T>"u"||T===null)throw new Error("marked(): input parameter is undefined or null");if(typeof T!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(T)+", string expected");if(k||typeof N=="function"){k||(k=N,N=null),N=b({},A.defaults,N||{});var F=N.highlight,L,O,P=0;try{L=t.lex(T,N)}catch(U){return k(U)}O=L.length;var B=function(U){if(U)return N.highlight=F,k(U);var $;try{$=a.parse(L,N)}catch(te){U=te}return N.highlight=F,U?k(U):k(null,$)};if(!F||F.length<3||(delete N.highlight,!O))return B();for(;P<L.length;P++)(function(U){return U.type!=="code"?--O||B():F(U.text,U.lang,function($,te){if($)return B($);if(te==null||te===U.text)return--O||B();U.text=te,U.escaped=!0,--O||B()})})(L[P]);return}try{return N&&(N=b({},A.defaults,N)),a.parse(t.lex(T,N),N)}catch(U){if(U.message+=`
Please report this to https://github.com/markedjs/marked.`,(N||A.defaults).silent)return"<p>An error occurred:</p><pre>"+l(U.message+"",!0)+"</pre>";throw U}}A.options=A.setOptions=function(T){return b(A.defaults,T),A},A.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new o,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},A.defaults=A.getDefaults(),A.Parser=a,A.parser=a.parse,A.Renderer=o,A.TextRenderer=s,A.Lexer=t,A.lexer=t.lex,A.InlineLexer=i,A.inlineLexer=i.output,A.Slugger=u,A.parse=A,Kl=A}).call(void 0);Kl.Parser;Kl.parser;var THe=Kl.Renderer;Kl.TextRenderer;Kl.Lexer;Kl.lexer;Kl.InlineLexer;Kl.inlineLexer;var DHe=Kl.parse;let Gie;(function(){function n(e,t,r){function i(a,u){if(!t[a]){if(!e[a]){var l=typeof require=="function"&&require;if(!u&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=t[a]={exports:{}};e[a][0].call(h.exports,function(d){var p=e[a][1][d];return i(p||d)},h,h.exports,n,e,t,r)}return t[a].exports}for(var o=typeof require=="function"&&require,s=0;s<r.length;s++)i(r[s]);return i}return n})()({1:[function(n,e,t){var r=n("./toMap"),i=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:r(i)}},{"./toMap":10}],2:[function(n,e,t){var r={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=r},{}],3:[function(n,e,t){var r=n("./toMap"),i=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:r(i)}},{"./toMap":10}],4:[function(n,e,t){n("he");var r=n("assignment"),i=n("./parser"),o=n("./sanitizer"),s=n("./defaults");function a(u,l,c){var h=[],d=c===!0?l:r({},s,l),p=o(h,d);return i(u,p),h.join("")}a.defaults=s,e.exports=a,Gie=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(n,e,t){e.exports=function(i){return typeof i=="string"?i.toLowerCase():i}},{}],6:[function(n,e,t){function r(i){for(var o=Array.prototype.slice.call(arguments,1),s,a;o.length;){s=o.shift();for(a in s)s.hasOwnProperty(a)&&(Object.prototype.toString.call(i[a])==="[object Object]"?i[a]=r(i[a],s[a]):i[a]=s[a])}return i}e.exports=r},{}],7:[function(n,e,t){var r=n("he"),i=n("./lowercase");n("./attributes");var o=n("./elements"),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,u=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,l=/^</,c=/^<\s*\//;function h(){var p=[];return p.lastItem=function(){return p[p.length-1]},p}function d(p,v){for(var m=h(),_=p,b;p;)C();k();function C(){b=!0,E();var F=p===_;_=p,F&&(p="")}function E(){p.substr(0,4)==="<!--"?A():c.test(p)?S(a,k):l.test(p)&&S(s,N),T()}function S(F,L){var O=p.match(F);O&&(p=p.substring(O[0].length),O[0].replace(F,L),b=!1)}function A(){var F=p.indexOf("-->");F>=0&&(v.comment&&v.comment(p.substring(4,F)),p=p.substring(F+3),b=!1)}function T(){if(b){var F,L=p.indexOf("<");L>=0?(F=p.substring(0,L),p=p.substring(L)):(F=p,p=""),v.chars&&v.chars(F)}}function N(F,L,O,P){var B={},U=i(L),$=o.voids[U]||!!P;O.replace(u,te),$||m.push(U),v.start&&v.start(U,B,$);function te(ne,ie,pe,ke,qe){pe===void 0&&ke===void 0&&qe===void 0?B[ie]=void 0:B[ie]=r.decode(pe||ke||qe||"")}}function k(F,L){var O,P=0,B=i(L);if(B)for(P=m.length-1;P>=0&&m[P]!==B;P--);if(P>=0){for(O=m.length-1;O>=P;O--)v.end&&v.end(m[O]);m.length=P}}}e.exports=d},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(n,e,t){var r=n("he"),i=n("./lowercase"),o=n("./attributes"),s=n("./elements");function a(u,l){var c,h=l||{};return E(),{start:p,end:v,chars:_};function d(S){u.push(S)}function p(S,A,T){var N=i(S);if(c.ignoring){b(N);return}if((h.allowedTags||[]).indexOf(N)===-1){b(N);return}if(h.filter&&!h.filter({tag:N,attrs:A})){b(N);return}d("<"),d(N),Object.keys(A).forEach(k),d(T?"/>":">");function k(F){var L=A[F],O=(h.allowedClasses||{})[N]||[],P=(h.allowedAttributes||{})[N]||[];P=P.concat((h.allowedAttributes||{})["*"]||[]);var B,U=i(F);U==="class"&&P.indexOf(U)===-1?(L=L.split(" ").filter($).join(" ").trim(),B=L.length):B=P.indexOf(U)!==-1&&(o.uris[U]!==!0||m(L)),B&&(d(" "),d(F),typeof L=="string"&&(d('="'),d(r.encode(L)),d('"')));function $(te){return O&&O.indexOf(te)!==-1}}}function v(S){var A=i(S),T=(h.allowedTags||[]).indexOf(A)!==-1;T&&c.ignoring===!1?(d("</"),d(A),d(">")):C(A)}function m(S){var A=S[0];if(A==="#"||A==="/")return!0;var T=S.indexOf(":");if(T===-1)return!0;var N=S.indexOf("?");if(N!==-1&&T>N)return!0;var k=S.indexOf("#");if(k!==-1&&T>k)return!0;return h.allowedSchemes.some(F);function F(L){return S.indexOf(L+":")===0}}function _(S){c.ignoring===!1&&d(h.transformText?h.transformText(S):S)}function b(S){s.voids[S]||(c.ignoring===!1?c={ignoring:S,depth:1}:c.ignoring===S&&c.depth++)}function C(S){c.ignoring===S&&--c.depth<=0&&E()}function E(){c={ignoring:!1,depth:0}}}e.exports=a},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(n,e,t){var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},o=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,s=/[&<>"']/g;function a(h){return r[h]}function u(h){return i[h]}function l(h){return h==null?"":String(h).replace(s,a)}function c(h){return h==null?"":String(h).replace(o,u)}l.options=c.options={},e.exports={encode:l,escape:l,decode:c,unescape:c,version:"1.0.0-browser"}},{}],10:[function(n,e,t){function r(o){return o.reduce(i,{})}function i(o,s){return o[s]=!0,o}e.exports=r},{}]},{},[4]);var AHe=Gie;function IHe(n,e){e===void 0&&(e={});var t=lB(e),r=function(d){var p;try{p=hee(decodeURIComponent(d))}catch{}return p?(p=BTe(p,function(v){if(n.uris&&n.uris[v])return Ft.revive(n.uris[v])}),encodeURIComponent(JSON.stringify(p))):d},i=function(d,p){var v=n.uris&&n.uris[d];if(!v)return d;var m=Ft.revive(v);return p&&(m=fee(m)),m.query&&(m=m.with({query:r(m.query)})),v&&(d=m.toString(!0)),d},o,s=new Promise(function(d){return o=d}),a=new THe;a.image=function(d,p,v){var m,_=[],b=[];return d&&(m=z9e(d),d=m.href,_=m.dimensions,d=i(d,!0),b.push('src="'+d+'"')),v&&b.push('alt="'+v+'"'),p&&b.push('title="'+p+'"'),_.length&&(b=b.concat(_)),"<img "+b.join(" ")+">"},a.link=function(d,p,v){return d===v&&(v=Wk(v)),d=i(d,!1),p=Wk(p),d=Wk(d),!d||d.match(/^data:|javascript:/i)||d.match(/^command:/i)&&!n.isTrusted||d.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?v:(d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="#" data-href="'+d+'" title="'+(p||d)+'">'+v+"</a>")},a.paragraph=function(d){return"<p>"+d+"</p>"},e.codeBlockRenderer&&(a.code=function(d,p){var v=e.codeBlockRenderer(p,d),m=Cie.nextId(),_=Promise.all([v,s]).then(function(b){var C=b[0],E=t.querySelector('div[data-code="'+m+'"]');E&&(E.innerHTML=C)}).catch(function(b){});return e.codeBlockRenderCallback&&_.then(e.codeBlockRenderCallback),'<div class="code" data-code="'+m+'">'+ha(d)+"</div>"});var u=e.actionHandler;u&&u.disposeables.add(mi(t,"click",function(d){var p=d.target;if(!(p.tagName!=="A"&&(p=p.parentElement,!p||p.tagName!=="A")))try{var v=p.dataset.href;v&&u.callback(v,d)}catch(m){He(m)}finally{d.preventDefault()}}));var l={sanitize:!0,renderer:a},c=["http","https","mailto","data"];n.isTrusted&&c.push("command");var h=DHe(n.value,l);return t.innerHTML=AHe(h,{allowedSchemes:c,allowedAttributes:{a:["href","name","target","data-href"],iframe:["allowfullscreen","frameborder","src"],img:["src","title","alt","width","height"],div:["class","data-code"]}}),o(),t}var xHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},FG=function(n,e){return function(t,r){e(t,r,n)}},$2=function(n){xHe(e,n);function e(t,r,i){i===void 0&&(i=j5);var o=n.call(this)||this;return o._editor=t,o._modeService=r,o._openerService=i,o._onDidRenderCodeBlock=o._register(new Q),o.onDidRenderCodeBlock=o._onDidRenderCodeBlock.event,o}return e.prototype.getOptions=function(t){var r=this;return{codeBlockRenderer:function(i,o){var s=null;if(i)s=r._modeService.getModeIdForLanguageName(i);else{var a=r._editor.getModel();a&&(s=a.getLanguageIdentifier().language)}return r._modeService.triggerMode(s||""),Promise.resolve(!0).then(function(u){var l=Vn.getPromise(s||"");return l?l.then(function(c){return wz(o,c)}):wz(o,void 0)}).then(function(u){return'<span style="font-family: '+r._editor.getConfiguration().fontInfo.fontFamily+'">'+u+"</span>"})},codeBlockRenderCallback:function(){return r._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(i){var o;try{o=Ft.parse(i)}catch{}o&&r._openerService&&r._openerService.open(o).catch(He)},disposeables:t}}},e.prototype.render=function(t){var r=new Be,i;return t?i=IHe(t,this.getOptions(r)):i=document.createElement("span"),{element:i,dispose:function(){return r.dispose()}}},e=LHe([FG(1,Vh),FG(2,mp(Ah))],e),e}(he),NHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),co=We,gm=function(){function n(e,t,r){this.range=e,this.color=t,this.provider=r}return n}(),$v=function(){function n(e,t){this.range=e,this.marker=t}return n}(),OHe=function(){function n(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}return n.prototype.setRange=function(e){this._range=e,this._result=[]},n.prototype.clearResult=function(){this._result=[]},n.prototype.computeAsync=function(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var t=this._editor.getModel();return Jb.has(t)?jie(t,new ee(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])},n.prototype.computeSync=function(){var e=this;if(!this._editor.hasModel()||!this._range)return[];var t=this._editor.getModel(),r=this._range.startLineNumber;if(r>this._editor.getModel().getLineCount())return[];var i=Hre.get(this._editor),o=t.getLineMaxColumn(r),s=this._editor.getLineDecorations(r),a=!1,u=this._range,l=s.map(function(c){var h=c.range.startLineNumber===r?c.range.startColumn:1,d=c.range.endLineNumber===r?c.range.endColumn:o;if(h>u.startColumn||u.endColumn>d)return null;var p=new H(u.startLineNumber,h,u.startLineNumber,d),v=e._markerDecorationsService.getMarker(t,c);if(v)return new $v(p,v);var m=i.getColorData(c.range.getStartPosition());if(!a&&m){a=!0;var _=m.colorInfo,b=_.color,C=_.range;return new gm(C,b,m.provider)}else{if(z2(c.options.hoverMessage))return null;var E=c.options.hoverMessage?PJ(c.options.hoverMessage):[];return{contents:E,range:p}}});return Yc(l)},n.prototype.onResult=function(e,t){t?this._result=e.concat(this._result.sort(function(r,i){return r instanceof gm?-1:i instanceof gm?1:0})):this._result=this._result.concat(e)},n.prototype.getResult=function(){return this._result.slice(0)},n.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},n.prototype._getLoadingMessage=function(){return{range:this._range,contents:[new zp().appendText(D("modesContentHover.loading","Loading..."))]}},n}(),Gk=function(n){NHe(e,n);function e(t,r,i,o,s,a){a===void 0&&(a=j5);var u=n.call(this,e.ID,t)||this;return u._themeService=i,u._keybindingService=o,u._modeService=s,u._openerService=a,u.renderDisposable=u._register(new Mh),u._messages=[],u._lastRange=null,u._computer=new OHe(u._editor,r),u._highlightDecorations=[],u._isChangingDecorations=!1,u._shouldFocus=!1,u._colorPicker=null,u._hoverOperation=new qie(u._computer,function(l){return u._withResult(l,!0)},null,function(l){return u._withResult(l,!1)},u._editor.getConfiguration().contribInfo.hover.delay),u._register(mi(u.getDomNode(),lt.FOCUS,function(){u._colorPicker&&De(u.getDomNode(),"colorpicker-hover")})),u._register(mi(u.getDomNode(),lt.BLUR,function(){st(u.getDomNode(),"colorpicker-hover")})),u._register(t.onDidChangeConfiguration(function(l){u._hoverOperation.setHoverTime(u._editor.getConfiguration().contribInfo.hover.delay)})),u}return e.prototype.dispose=function(){this._hoverOperation.cancel(),n.prototype.dispose.call(this)},e.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},e.prototype.startShowingAt=function(t,r,i){if(!(this._lastRange&&this._lastRange.equalsRange(t))){if(this._hoverOperation.cancel(),this.isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==t.startLineNumber)this.hide();else{for(var o=[],s=0,a=this._messages.length;s<a;s++){var u=this._messages[s],l=u.range;l&&l.startColumn<=t.startColumn&&l.endColumn>=t.endColumn&&o.push(u)}if(o.length>0){if(kHe(o,this._messages))return;this._renderMessages(t,o)}else this.hide()}this._lastRange=t,this._computer.setRange(t),this._shouldFocus=i,this._hoverOperation.start(r)}},e.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),n.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},e.prototype.isColorPickerVisible=function(){return!!this._colorPicker},e.prototype._withResult=function(t,r){this._messages=t,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):r&&this.hide()},e.prototype._renderMessages=function(t,r){var i=this;this.renderDisposable.dispose(),this._colorPicker=null;var o=Number.MAX_VALUE,s=r[0].range?H.lift(r[0].range):null,a=document.createDocumentFragment(),u=!0,l=!1,c=new Be,h=[];if(r.forEach(function(p){if(p.range)if(o=Math.min(o,p.range.startColumn),s=s?H.plusRange(s,p.range):H.lift(p.range),p instanceof gm){l=!0;var v=p.color,m=v.red,_=v.green,b=v.blue,C=v.alpha,E=new yn(m*255,_*255,b*255,C),S=new ae(E);if(!i._editor.hasModel())return;var A=i._editor.getModel(),T=new H(p.range.startLineNumber,p.range.startColumn,p.range.endLineNumber,p.range.endColumn),N={range:p.range,color:p.color},k=new gHe(S,[],0),F=new CHe(a,k,i._editor.getConfiguration().pixelRatio,i._themeService);lG(A,N,p.provider,rn.None).then(function(L){if(k.colorPresentations=L||[],!!i._editor.hasModel()){var O=i._editor.getModel().getValueInRange(p.range);k.guessColorPresentation(S,O);var P=function(){var te,ne;k.presentation.textEdit?(te=[k.presentation.textEdit],ne=new H(k.presentation.textEdit.range.startLineNumber,k.presentation.textEdit.range.startColumn,k.presentation.textEdit.range.endLineNumber,k.presentation.textEdit.range.endColumn),ne=ne.setEndPosition(ne.endLineNumber,ne.startColumn+k.presentation.textEdit.text.length)):(te=[{identifier:null,range:T,text:k.presentation.label,forceMoveMarkers:!1}],ne=T.setEndPosition(T.endLineNumber,T.startColumn+k.presentation.label.length)),i._editor.pushUndoStop(),i._editor.executeEdits("colorpicker",te),k.presentation.additionalTextEdits&&(te=k.presentation.additionalTextEdits.slice(),i._editor.executeEdits("colorpicker",te),i.hide()),i._editor.pushUndoStop(),T=ne},B=function(te){return lG(A,{range:T,color:{red:te.rgba.r/255,green:te.rgba.g/255,blue:te.rgba.b/255,alpha:te.rgba.a}},p.provider,rn.None).then(function(ne){k.colorPresentations=ne||[]})},U=k.onColorFlushed(function(te){B(te).then(P)}),$=k.onDidChangeColor(B);i._colorPicker=F,i.showAt(T.getStartPosition(),T,i._shouldFocus),i.updateContents(a),i._colorPicker.layout(),i.renderDisposable.value=gl(U,$,F,c)}})}else p instanceof $v?(h.push(p),u=!1):p.contents.filter(function(L){return!z2(L)}).forEach(function(L){var O=co("div.hover-row.markdown-hover"),P=Ee(O,co("div.hover-contents")),B=c.add(new $2(i._editor,i._modeService,i._openerService));c.add(B.onDidRenderCodeBlock(function(){P.className="hover-contents code-hover-contents",i.onContentsChange()}));var U=c.add(B.render(L));P.appendChild(U.element),a.appendChild(O),u=!1})}),h.length){h.forEach(function(p){return a.appendChild(i.renderMarkerHover(p))});var d=h.length===1?h[0]:h.sort(function(p,v){return kn.compare(p.marker.severity,v.marker.severity)})[0];a.appendChild(this.renderMarkerStatusbar(d))}!l&&!u&&(this.showAt(new ee(t.startLineNumber,o),s,this._shouldFocus),this.updateContents(a)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,s?[{range:s,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},e.prototype.renderMarkerHover=function(t){var r=this,i=co("div.hover-row"),o=Ee(i,co("div.marker.hover-contents")),s=t.marker,a=s.source,u=s.message,l=s.code,c=s.relatedInformation;this._editor.applyFontInfo(o);var h=Ee(o,co("span"));if(h.style.whiteSpace="pre-wrap",h.innerText=u,a||l){var d=Ee(o,co("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=a&&l?a+"("+l+")":a||"("+l+")"}if(cs(c))for(var p=function(T,N,k,F){var L=Ee(o,co("div"));L.style.marginTop="8px";var O=Ee(L,co("a"));O.innerText=Vc(N)+"("+k+", "+F+"): ",O.style.cursor="pointer",O.onclick=function(B){B.stopPropagation(),B.preventDefault(),r._openerService&&r._openerService.open(N.with({fragment:k+","+F})).catch(He)};var P=Ee(L,co("span"));P.innerText=T,v._editor.applyFontInfo(P)},v=this,m=0,_=c;m<_.length;m++){var b=_[m],C=b.message,E=b.resource,S=b.startLineNumber,A=b.startColumn;p(C,E,S,A)}return i},e.prototype.renderMarkerStatusbar=function(t){var r=this,i=co("div.hover-row.status-bar"),o=new Be,s=Ee(i,co("div.actions"));(t.marker.severity===kn.Error||t.marker.severity===kn.Warning||t.marker.severity===kn.Info)&&o.add(this.renderAction(s,{label:D("peek problem","Peek Problem"),commandId:lb.ID,run:function(){r.hide(),G2.get(r._editor).show(t.marker),r._editor.focus()}}));var a=Ee(s,co("div"));a.style.opacity="0",a.style.transition="opacity 0.2s",setTimeout(function(){return a.style.opacity="1"},200),a.textContent=D("checkingForQuickFixes","Checking for quick fixes..."),o.add(bn(function(){return a.remove()}));var u=this.getCodeActions(t.marker);return o.add(bn(function(){return u.cancel()})),u.then(function(l){if(a.style.transition="",a.style.opacity="1",!l.actions.length){l.dispose(),a.textContent=D("noQuickFixes","No quick fixes available");return}a.remove();var c=!1;o.add(bn(function(){c||l.dispose()})),o.add(r.renderAction(s,{label:D("quick fixes","Quick Fix..."),commandId:nB.Id,run:function(h){c=!0;var d=tB.get(r._editor),p=_i(h);d.showCodeActions(l,{x:p.left+6,y:p.top+p.height+6})}}))}),this.renderDisposable.value=o,i},e.prototype.getCodeActions=function(t){var r=this;return Qr(function(i){return eB(r._editor.getModel(),new H(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),{type:"manual",filter:{kind:dr.QuickFix}},i)})},e.prototype.renderAction=function(t,r){var i=Ee(t,co("div.action-container")),o=Ee(i,co("a.action"));r.iconClass&&Ee(o,co("span.icon."+r.iconClass));var s=Ee(o,co("span"));s.textContent=r.label;var a=this._keybindingService.lookupKeybinding(r.commandId);return a&&(s.title=r.label+" ("+a.getLabel()+")"),ye(i,lt.CLICK,function(u){u.stopPropagation(),u.preventDefault(),r.run(i)})},e.ID="editor.contrib.modesContentHoverWidget",e._DECORATION_OPTIONS=mt.register({className:"hoverHighlight"}),e}(EHe);function kHe(n,e){if(!n&&e||n&&!e||n.length!==e.length)return!1;for(var t=0;t<n.length;t++){var r=n[t],i=e[t];if(r instanceof $v&&i instanceof $v)return bD.makeKey(r.marker)===bD.makeKey(i.marker);if(r instanceof gm||i instanceof gm||r instanceof $v||i instanceof $v||!q9e(r.contents,i.contents))return!1}return!0}var RHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PHe=function(){function n(e){this._editor=e,this._lineNumber=-1,this._result=[]}return n.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},n.prototype.clearResult=function(){this._result=[]},n.prototype.computeSync=function(){var e=function(u){return{value:u}},t=this._editor.getLineDecorations(this._lineNumber),r=[];if(!t)return r;for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.options.glyphMarginClassName){var a=s.options.glyphMarginHoverMessage;!a||z2(a)||r.push.apply(r,PJ(a).map(e))}}return r},n.prototype.onResult=function(e,t){this._result=this._result.concat(e)},n.prototype.getResult=function(){return this._result},n.prototype.getResultWithLoadingMessage=function(){return this.getResult()},n}(),eS=function(n){RHe(e,n);function e(t,r,i){i===void 0&&(i=j5);var o=n.call(this,e.ID,t)||this;return o._renderDisposeables=o._register(new Be),o._messages=[],o._lastLineNumber=-1,o._markdownRenderer=o._register(new $2(o._editor,r,i)),o._computer=new PHe(o._editor),o._hoverOperation=new qie(o._computer,function(s){return o._withResult(s)},void 0,function(s){return o._withResult(s)},300),o}return e.prototype.dispose=function(){this._hoverOperation.cancel(),n.prototype.dispose.call(this)},e.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},e.prototype.startShowingAt=function(t){this._lastLineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=t,this._computer.setLineNumber(t),this._hoverOperation.start(0))},e.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),n.prototype.hide.call(this)},e.prototype._withResult=function(t){this._messages=t,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},e.prototype._renderMessages=function(t,r){this._renderDisposeables.clear();for(var i=document.createDocumentFragment(),o=0,s=r;o<s.length;o++){var a=s[o],u=this._markdownRenderer.render(a.value);this._renderDisposeables.add(u),i.appendChild(We("div.hover-row",void 0,u.element))}this.updateContents(i),this.showAt(t)},e.ID="editor.contrib.modesGlyphHoverWidget",e}(SHe),MHe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_y=function(n,e){return function(t,r){e(t,r,n)}},$ie=function(){function n(e,t,r,i,o,s){var a=this;this._editor=e,this._openerService=t,this._modeService=r,this._markerDecorationsService=i,this._keybindingService=o,this._themeService=s,this._toUnhook=new Be,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(u){u.contribInfo&&(a._hideWidgets(),a._unhookEvents(),a._hookEvents())})}return Object.defineProperty(n.prototype,"contentWidget",{get:function(){return this._contentWidget||this._createHoverWidgets(),this._contentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"glyphWidget",{get:function(){return this._glyphWidget||this._createHoverWidgets(),this._glyphWidget},enumerable:!0,configurable:!0}),n.get=function(e){return e.getContribution(n.ID)},n.prototype._hookEvents=function(){var e=this,t=function(){return e._hideWidgets()},r=this._editor.getConfiguration().contribInfo.hover;this._isHoverEnabled=r.enabled,this._isHoverSticky=r.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(function(i){return e._onEditorMouseDown(i)})),this._toUnhook.add(this._editor.onMouseUp(function(i){return e._onEditorMouseUp(i)})),this._toUnhook.add(this._editor.onMouseMove(function(i){return e._onEditorMouseMove(i)})),this._toUnhook.add(this._editor.onKeyDown(function(i){return e._onKeyDown(i)})),this._toUnhook.add(this._editor.onDidChangeModelDecorations(function(){return e._onModelDecorationsChanged()}))):this._toUnhook.add(this._editor.onMouseMove(t)),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange(function(i){return e._onEditorScrollChanged(i)}))},n.prototype._unhookEvents=function(){this._toUnhook.clear()},n.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},n.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},n.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;if(t===9&&e.target.detail===Gk.ID){this._hoverClicked=!0;return}t===12&&e.target.detail===eS.ID||(t!==12&&e.target.detail!==eS.ID&&(this._hoverClicked=!1),this._hideWidgets())},n.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},n.prototype._onEditorMouseMove=function(e){var t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&!(this._isHoverSticky&&t===9&&e.target.detail===Gk.ID)&&!(this._isHoverSticky&&t===12&&e.target.detail===eS.ID)){if(t===7){var r=this._editor.getConfiguration().fontInfo.typicalHalfwidthCharacterWidth/2,i=e.target.detail;i&&!i.isAfterLines&&typeof i.horizontalDistanceToText=="number"&&i.horizontalDistanceToText<r&&(t=6)}t===6?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):t===2?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},n.prototype._onKeyDown=function(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()},n.prototype._hideWidgets=function(){!this._glyphWidget||!this._contentWidget||this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()||(this._glyphWidget.hide(),this._contentWidget.hide())},n.prototype._createHoverWidgets=function(){this._contentWidget=new Gk(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget=new eS(this._editor,this._modeService,this._openerService)},n.prototype.showContentHover=function(e,t,r){this.contentWidget.startShowingAt(e,t,r)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget&&this._glyphWidget.dispose(),this._contentWidget&&this._contentWidget.dispose()},n.ID="editor.contrib.hover",n=FHe([_y(1,Ah),_y(2,Vh),_y(3,hre),_y(4,Dr),_y(5,ei)],n),n}(),BHe=function(n){MHe(e,n);function e(){return n.call(this,{id:"editor.action.showHover",label:D({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2087),weight:100}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=$ie.get(r);if(i){var o=r.getPosition(),s=new H(o.lineNumber,o.column,o.lineNumber,o.column),a=r.getConfiguration().accessibilitySupport===2;i.showContentHover(s,1,a)}}},e}(Ue);Cn($ie);ge(BHe);mn(function(n,e){var t=n.getColor(yOe);t&&e.addRule(".monaco-editor .hoverHighlight { background-color: "+t+"; }");var r=n.getColor(Up);r&&e.addRule(".monaco-editor .monaco-editor-hover { background-color: "+r+"; }");var i=n.getColor(f5);i&&(e.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+i+"; }"),e.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+i.transparent(.5)+"; }"),e.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+i.transparent(.5)+"; }"),e.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+i.transparent(.5)+"; }"));var o=n.getColor(b2);o&&e.addRule(".monaco-editor .monaco-editor-hover a { color: "+o+"; }");var s=n.getColor(bOe);s&&e.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+s+"; }");var a=n.getColor(e5);a&&e.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+a+"; }")});var HHe=function(){function n(e,t,r){this._editRange=e,this._originalSelection=t,this._text=r}return n.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},n.prototype.computeCursorState=function(e,t){var r=t.getInverseEditOperations(),i=r[0].range;return this._originalSelection.isEmpty()?new Re(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new Re(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)},n}(),Kie=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VHe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},WHe=function(n,e){return function(t,r){e(t,r,n)}},TB=function(){function n(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.dispose=function(){},n.prototype.getId=function(){return n.ID},n.prototype.run=function(e,t){var r=this;this.currentRequest&&this.currentRequest.cancel();var i=this.editor.getSelection(),o=this.editor.getModel();if(!(!o||!i)){var s=i;if(s.startLineNumber===s.endLineNumber){var a=new w5(this.editor,5),u=o.uri;return this.editorWorkerService.canNavigateValueSet(u)?(this.currentRequest=Qr(function(l){return r.editorWorkerService.navigateValueSet(u,s,t)}),this.currentRequest.then(function(l){if(!(!l||!l.range||!l.value)&&a.validate(r.editor)){var c=H.lift(l.range),h=l.range,d=l.value.length-(s.endColumn-s.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+l.value.length},d>1&&(s=new Re(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+d-1));var p=new HHe(c,s,l.value);r.editor.pushUndoStop(),r.editor.executeCommand(e,p),r.editor.pushUndoStop(),r.decorationIds=r.editor.deltaDecorations(r.decorationIds,[{range:h,options:n.DECORATION}]),r.decorationRemover&&r.decorationRemover.cancel(),r.decorationRemover=dC(350),r.decorationRemover.then(function(){return r.decorationIds=r.editor.deltaDecorations(r.decorationIds,[])}).catch(He)}}).catch(He)):Promise.resolve(void 0)}}},n.ID="editor.contrib.inPlaceReplaceController",n.DECORATION=mt.register({className:"valueSetReplacement"}),n=VHe([WHe(1,za)],n),n}(),UHe=function(n){Kie(e,n);function e(){return n.call(this,{id:"editor.action.inPlaceReplace.up",label:D("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:3154,weight:100}})||this}return e.prototype.run=function(t,r){var i=TB.get(r);return i?i.run(this.id,!0):Promise.resolve(void 0)},e}(Ue),jHe=function(n){Kie(e,n);function e(){return n.call(this,{id:"editor.action.inPlaceReplace.down",label:D("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:3156,weight:100}})||this}return e.prototype.run=function(t,r){var i=TB.get(r);return i?i.run(this.id,!1):Promise.resolve(void 0)},e}(Ue);Cn(TB);ge(UHe);ge(jHe);mn(function(n,e){var t=n.getColor(Xte);t&&e.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+t+"; }")});var qHe=function(){function n(e,t){this._selection=e,this._cursors=t,this._selectionId=null}return n.prototype.getEditOperations=function(e,t){for(var r=zHe(e,this._cursors),i=0,o=r.length;i<o;i++){var s=r[i];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},n}();function zHe(n,e){e.sort(function(v,m){return v.lineNumber===m.lineNumber?v.column-m.column:v.lineNumber-m.lineNumber});for(var t=e.length-2;t>=0;t--)e[t].lineNumber===e[t+1].lineNumber&&e.splice(t,1);for(var r=[],i=0,o=0,s=e.length,a=1,u=n.getLineCount();a<=u;a++){var l=n.getLineContent(a),c=l.length+1,h=0;if(!(o<s&&e[o].lineNumber===a&&(h=e[o].column,o++,h===c))&&l.length!==0){var d=Bh(l),p=0;if(d===-1)p=1;else if(d!==l.length-1)p=d+2;else continue;p=Math.max(h,p),r[i++]=Pr.delete(new H(a,p,a,c))}}return r}var GHe=function(){function n(e,t){this._selection=e,this._isCopyingDown=t,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return n.prototype.getEditOperations=function(e,t){var r=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._endLineNumberDelta=1,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));for(var i=[],o=r.startLineNumber;o<=r.endLineNumber;o++)i.push(e.getLineContent(o));var s=i.join(`
`);s===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new H(r.startLineNumber,1,r.startLineNumber,1),s+`
`):t.addEditOperation(new H(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),`
`+s),this._selectionId=t.trackSelection(r),this._selectionDirection=this._selection.getDirection()},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var i=r.startLineNumber,o=r.startColumn,s=r.endLineNumber,a=r.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),r=Re.createWithDirection(i,o,s,a,this._selectionDirection)}return r},n}();function Xu(n,e){for(var t=0,r=0;r<n.length;r++)n.charAt(r)==="	"?t+=e:t++;return t}function $k(n,e,t){n=n<0?0:n;var r="";if(!t){var i=Math.floor(n/e);n=n%e;for(var o=0;o<i;o++)r+="	"}for(var o=0;o<n;o++)r+=" ";return r}var $He=function(){function n(e,t,r){this._selection=e,this._isMovingDown=t,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return n.prototype.getEditOperations=function(e,t){var r=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;var i=this._selection;i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));var o=e.getOptions(),s=o.tabSize,a=o.indentSize,u=o.insertSpaces,l=this.buildIndentConverter(s,a,u),c={getLineTokens:function(O){return e.getLineTokens(O)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(O,P){return e.getLanguageIdAtPosition(O,P)},getLineContent:null};if(i.startLineNumber===i.endLineNumber&&e.getLineMaxColumn(i.startLineNumber)===1){var h=i.startLineNumber,d=this._isMovingDown?h+1:h-1;e.getLineMaxColumn(d)===1?t.addEditOperation(new H(1,1,1,1),null):(t.addEditOperation(new H(h,1,h,1),e.getLineContent(d)),t.addEditOperation(new H(d,1,d,e.getLineMaxColumn(d)),null)),i=new Re(d,1,d,1)}else{var p,v=void 0;if(this._isMovingDown){p=i.endLineNumber+1,v=e.getLineContent(p),t.addEditOperation(new H(p-1,e.getLineMaxColumn(p-1),p,e.getLineMaxColumn(p)),null);var m=v;if(this.shouldAutoIndent(e,i)){var _=this.matchEnterRule(e,l,s,p,i.startLineNumber-1);if(_!==null){var b=Ln(e.getLineContent(p)),C=_+Xu(b,s),E=$k(C,s,u);m=E+this.trimLeft(v)}else{c.getLineContent=function(O){return O===i.startLineNumber?e.getLineContent(p):e.getLineContent(O)};var S=Ot.getGoodIndentForLine(c,e.getLanguageIdAtPosition(p,1),i.startLineNumber,l);if(S!==null){var b=Ln(e.getLineContent(p)),C=Xu(S,s),A=Xu(b,s);if(C!==A){var E=$k(C,s,u);m=E+this.trimLeft(v)}}}t.addEditOperation(new H(i.startLineNumber,1,i.startLineNumber,1),m+`
`);var T=this.matchEnterRule(e,l,s,i.startLineNumber,i.startLineNumber,m);if(T!==null)T!==0&&this.getIndentEditsOfMovingBlock(e,t,i,s,u,T);else{c.getLineContent=function(O){return O===i.startLineNumber?m:O>=i.startLineNumber+1&&O<=i.endLineNumber+1?e.getLineContent(O-1):e.getLineContent(O)};var N=Ot.getGoodIndentForLine(c,e.getLanguageIdAtPosition(p,1),i.startLineNumber+1,l);if(N!==null){var b=Ln(e.getLineContent(i.startLineNumber)),C=Xu(N,s),A=Xu(b,s);if(C!==A){var k=C-A;this.getIndentEditsOfMovingBlock(e,t,i,s,u,k)}}}}else t.addEditOperation(new H(i.startLineNumber,1,i.startLineNumber,1),m+`
`)}else if(p=i.startLineNumber-1,v=e.getLineContent(p),t.addEditOperation(new H(p,1,p+1,1),null),t.addEditOperation(new H(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+v),this.shouldAutoIndent(e,i)){c.getLineContent=function(P){return P===p?e.getLineContent(i.startLineNumber):e.getLineContent(P)};var T=this.matchEnterRule(e,l,s,i.startLineNumber,i.startLineNumber-2);if(T!==null)T!==0&&this.getIndentEditsOfMovingBlock(e,t,i,s,u,T);else{var F=Ot.getGoodIndentForLine(c,e.getLanguageIdAtPosition(i.startLineNumber,1),p,l);if(F!==null){var L=Ln(e.getLineContent(i.startLineNumber)),C=Xu(F,s),A=Xu(L,s);if(C!==A){var k=C-A;this.getIndentEditsOfMovingBlock(e,t,i,s,u,k)}}}}}this._selectionId=t.trackSelection(i)},n.prototype.buildIndentConverter=function(e,t,r){return{shiftIndent:function(i){return Qd.shiftIndent(i,i.length+1,e,t,r)},unshiftIndent:function(i){return Qd.unshiftIndent(i,i.length+1,e,t,r)}}},n.prototype.matchEnterRule=function(e,t,r,i,o,s){for(var a=o;a>=1;){var u=void 0;a===o&&s!==void 0?u=s:u=e.getLineContent(a);var l=Bh(u);if(l>=0)break;a--}if(a<1||i>e.getLineCount())return null;var c=e.getLineMaxColumn(a),h=Ot.getEnterAction(e,new H(a,c,a,c));if(h){var d=h.indentation,p=h.enterAction;p.indentAction===Xn.None||p.indentAction===Xn.Indent?d=h.indentation+p.appendText:p.indentAction===Xn.IndentOutdent?d=h.indentation:p.indentAction===Xn.Outdent&&(d=t.unshiftIndent(h.indentation)+p.appendText);var v=e.getLineContent(i);if(this.trimLeft(v).indexOf(this.trimLeft(d))>=0){var m=Ln(e.getLineContent(i)),_=Ln(d),b=Ot.getIndentMetadata(e,i);b!==null&&b&2&&(_=t.unshiftIndent(_));var C=Xu(_,r),E=Xu(m,r);return C-E}}return null},n.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},n.prototype.shouldAutoIndent=function(e,t){if(!this._autoIndent||!e.isCheapToTokenize(t.startLineNumber))return!1;var r=e.getLanguageIdAtPosition(t.startLineNumber,1),i=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(r!==i||Ot.getIndentRulesSupport(r)===null)},n.prototype.getIndentEditsOfMovingBlock=function(e,t,r,i,o,s){for(var a=r.startLineNumber;a<=r.endLineNumber;a++){var u=e.getLineContent(a),l=Ln(u),c=Xu(l,i),h=c+s,d=$k(h,i,o);d!==l&&(t.addEditOperation(new H(a,1,a,l.length+1),d),a===r.endLineNumber&&r.endColumn<=l.length+1&&d===""&&(this._moveEndLineSelectionShrink=!0))}},n.prototype.computeCursorState=function(e,t){var r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r},n}(),BG=function(){function n(e,t){this.selection=e,this.descending=t,this.selectionId=null}return n.prototype.getEditOperations=function(e,t){var r=KHe(e,this.selection,this.descending);r&&t.addEditOperation(r.range,r.text),this.selectionId=t.trackSelection(this.selection)},n.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},n.canRun=function(e,t,r){if(e===null)return!1;var i=Yie(e,t,r);if(!i)return!1;for(var o=0,s=i.before.length;o<s;o++)if(i.before[o]!==i.after[o])return!0;return!1},n}();function Yie(n,e,t){var r=e.startLineNumber,i=e.endLineNumber;if(e.endColumn===1&&i--,r>=i)return null;for(var o=[],s=r;s<=i;s++)o.push(n.getLineContent(s));var a=o.slice(0);return a.sort(function(u,l){return u.toLowerCase().localeCompare(l.toLowerCase())}),t===!0&&(a=a.reverse()),{startLineNumber:r,endLineNumber:i,before:o,after:a}}function KHe(n,e,t){var r=Yie(n,e,t);return r?Pr.replace(new H(r.startLineNumber,1,r.endLineNumber,n.getLineMaxColumn(r.endLineNumber)),r.after.join(`
`)):null}var gr=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xie=function(n){gr(e,n);function e(t,r){var i=n.call(this,r)||this;return i.down=t,i}return e.prototype.run=function(t,r){for(var i=[],o=r.getSelections()||[],s=0,a=o;s<a.length;s++){var u=a[s];i.push(new GHe(u,this.down))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()},e}(Ue),YHe=function(n){gr(e,n);function e(){return n.call(this,!1,{id:"editor.action.copyLinesUpAction",label:D("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return e}(Xie),XHe=function(n){gr(e,n);function e(){return n.call(this,!0,{id:"editor.action.copyLinesDownAction",label:D("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return e}(Xie),Qie=function(n){gr(e,n);function e(t,r){var i=n.call(this,r)||this;return i.down=t,i}return e.prototype.run=function(t,r){for(var i=[],o=r.getSelections()||[],s=r.getConfiguration().autoIndent,a=0,u=o;a<u.length;a++){var l=u[a];i.push(new $He(l,this.down,s))}r.pushUndoStop(),r.executeCommands(this.id,i),r.pushUndoStop()},e}(Ue),QHe=function(n){gr(e,n);function e(){return n.call(this,!1,{id:"editor.action.moveLinesUpAction",label:D("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:528,linux:{primary:528},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return e}(Qie),ZHe=function(n){gr(e,n);function e(){return n.call(this,!0,{id:"editor.action.moveLinesDownAction",label:D("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:530,linux:{primary:530},weight:100},menubarOpts:{menuId:22,group:"2_line",title:D({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return e}(Qie),Zie=function(n){gr(e,n);function e(t,r){var i=n.call(this,r)||this;return i.descending=t,i}return e.prototype.run=function(t,r){for(var i=r.getSelections()||[],o=0,s=i;o<s.length;o++){var a=s[o];if(!BG.canRun(r.getModel(),a,this.descending))return}for(var u=[],l=0,c=i.length;l<c;l++)u[l]=new BG(i[l],this.descending);r.pushUndoStop(),r.executeCommands(this.id,u),r.pushUndoStop()},e}(Ue),JHe=function(n){gr(e,n);function e(){return n.call(this,!1,{id:"editor.action.sortLinesAscending",label:D("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:W.writable})||this}return e}(Zie),eVe=function(n){gr(e,n);function e(){return n.call(this,!0,{id:"editor.action.sortLinesDescending",label:D("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:W.writable})||this}return e}(Zie),tVe=function(n){gr(e,n);function e(){return n.call(this,{id:e.ID,label:D("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:ko(2089,2102),weight:100}})||this}return e.prototype.run=function(t,r,i){var o=[];i.reason==="auto-save"&&(o=(r.getSelections()||[]).map(function(u){return new ee(u.positionLineNumber,u.positionColumn)}));var s=r.getSelection();if(s!==null){var a=new qHe(s,o);r.pushUndoStop(),r.executeCommands(this.id,[a]),r.pushUndoStop()}},e.ID="editor.action.trimTrailingWhitespace",e}(Ue),nVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.deleteLines",label:D("lines.delete","Delete Line"),alias:"Delete Line",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:3113,weight:100}})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=this._getLinesToRemove(r),o=r.getModel();if(!(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)){for(var s=0,a=[],u=[],l=0,c=i.length;l<c;l++){var h=i[l],d=h.startLineNumber,p=h.endLineNumber,v=1,m=o.getLineMaxColumn(p);p<o.getLineCount()?(p+=1,m=1):d>1&&(d-=1,v=o.getLineMaxColumn(d)),a.push(Pr.replace(new Re(d,v,p,m),"")),u.push(new Re(d-s,h.positionColumn,d-s,h.positionColumn)),s+=h.endLineNumber-h.startLineNumber+1}r.pushUndoStop(),r.executeEdits(this.id,a,u),r.pushUndoStop()}}},e.prototype._getLinesToRemove=function(t){var r=t.getSelections().map(function(a){var u=a.endLineNumber;return a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(u-=1),{startLineNumber:a.startLineNumber,selectionStartColumn:a.selectionStartColumn,endLineNumber:u,positionColumn:a.positionColumn}});r.sort(function(a,u){return a.startLineNumber===u.startLineNumber?a.endLineNumber-u.endLineNumber:a.startLineNumber-u.startLineNumber});for(var i=[],o=r[0],s=1;s<r.length;s++)o.endLineNumber+1>=r[s].startLineNumber?o.endLineNumber=r[s].endLineNumber:(i.push(o),o=r[s]);return i.push(o),i},e}(Ue),rVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.indentLines",label:D("lines.indent","Indent Line"),alias:"Indent Line",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2137,weight:100}})||this}return e.prototype.run=function(t,r){var i=r._getCursors();i&&(r.pushUndoStop(),r.executeCommands(this.id,mu.indent(i.context.config,r.getModel(),r.getSelections())),r.pushUndoStop())},e}(Ue),iVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.outdentLines",label:D("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2135,weight:100}})||this}return e.prototype.run=function(t,r){JM.Outdent.runEditorCommand(t,r,null)},e}(Ue),oVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.insertLineBefore",label:D("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:3075,weight:100}})||this}return e.prototype.run=function(t,r){var i=r._getCursors();i&&(r.pushUndoStop(),r.executeCommands(this.id,mu.lineInsertBefore(i.context.config,r.getModel(),r.getSelections())))},e}(Ue),sVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.insertLineAfter",label:D("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2051,weight:100}})||this}return e.prototype.run=function(t,r){var i=r._getCursors();i&&(r.pushUndoStop(),r.executeCommands(this.id,mu.lineInsertAfter(i.context.config,r.getModel(),r.getSelections())))},e}(Ue),Jie=function(n){gr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getSelection(),o=this._getRangesToDelete(r),s=[],a=0,u=o.length-1;a<u;a++){var l=o[a],c=o[a+1];H.intersectRanges(l,c)===null?s.push(l):o[a+1]=H.plusRange(l,c)}s.push(o[o.length-1]);var h=this._getEndCursorState(i,s),d=s.map(function(p){return Pr.replace(p,"")});r.pushUndoStop(),r.executeEdits(this.id,d,h),r.pushUndoStop()}},e}(Ue),aVe=function(n){gr(e,n);function e(){return n.call(this,{id:"deleteAllLeft",label:D("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}return e.prototype._getEndCursorState=function(t,r){var i=null,o=[],s=0;return r.forEach(function(a){var u;if(a.endColumn===1&&s>0){var l=a.startLineNumber-s;u=new Re(l,a.startColumn,l,a.startColumn)}else u=new Re(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn);s+=a.endLineNumber-a.startLineNumber,a.intersectRanges(t)?i=u:o.push(u)}),i&&o.unshift(i),o},e.prototype._getRangesToDelete=function(t){var r=t.getSelections();if(r===null)return[];var i=r,o=t.getModel();return o===null?[]:(i.sort(H.compareRangesUsingStarts),i=i.map(function(s){if(s.isEmpty())if(s.startColumn===1){var a=Math.max(1,s.startLineNumber-1),u=s.startLineNumber===1?1:o.getLineContent(a).length+1;return new H(a,u,s.startLineNumber,1)}else return new H(s.startLineNumber,1,s.startLineNumber,s.startColumn);else return new H(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),i)},e}(Jie),uVe=function(n){gr(e,n);function e(){return n.call(this,{id:"deleteAllRight",label:D("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}return e.prototype._getEndCursorState=function(t,r){for(var i=null,o=[],s=0,a=r.length,u=0;s<a;s++){var l=r[s],c=new Re(l.startLineNumber-u,l.startColumn,l.startLineNumber-u,l.startColumn);l.intersectRanges(t)?i=c:o.push(c)}return i&&o.unshift(i),o},e.prototype._getRangesToDelete=function(t){var r=t.getModel();if(r===null)return[];var i=t.getSelections();if(i===null)return[];var o=i.map(function(s){if(s.isEmpty()){var a=r.getLineMaxColumn(s.startLineNumber);return s.startColumn===a?new H(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new H(s.startLineNumber,s.startColumn,s.startLineNumber,a)}return s});return o.sort(H.compareRangesUsingStarts),o},e}(Jie),lVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.joinLines",label:D("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return e.prototype.run=function(t,r){var i=r.getSelections();if(i!==null){var o=r.getSelection();if(o!==null){i.sort(H.compareRangesUsingStarts);var s=[],a=i.reduce(function($,te){return $.isEmpty()?$.endLineNumber===te.startLineNumber?(o.equalsSelection($)&&(o=te),te):te.startLineNumber>$.endLineNumber+1?(s.push($),te):new Re($.startLineNumber,$.startColumn,te.endLineNumber,te.endColumn):te.startLineNumber>$.endLineNumber?(s.push($),te):new Re($.startLineNumber,$.startColumn,te.endLineNumber,te.endColumn)});s.push(a);var u=r.getModel();if(u!==null){for(var l=[],c=[],h=o,d=0,p=0,v=s.length;p<v;p++){var m=s[p],_=m.startLineNumber,b=1,C=0,E=void 0,S=void 0,A=u.getLineContent(m.endLineNumber).length-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){var T=m.getStartPosition();T.lineNumber<u.getLineCount()?(E=_+1,S=u.getLineMaxColumn(E)):(E=T.lineNumber,S=u.getLineMaxColumn(T.lineNumber))}else E=m.endLineNumber,S=u.getLineMaxColumn(E);for(var N=u.getLineContent(_),k=_+1;k<=E;k++){var F=u.getLineContent(k),L=u.getLineFirstNonWhitespaceColumn(k);if(L>=1){var O=!0;N===""&&(O=!1),O&&(N.charAt(N.length-1)===" "||N.charAt(N.length-1)==="	")&&(O=!1,N=N.replace(/[\s\uFEFF\xA0]+$/g," "));var P=F.substr(L-1);N+=(O?" ":"")+P,O?C=P.length+1:C=P.length}else C=0}var B=new H(_,b,E,S);if(!B.isEmpty()){var U=void 0;m.isEmpty()?(l.push(Pr.replace(B,N)),U=new Re(B.startLineNumber-d,N.length-C+1,_-d,N.length-C+1)):m.startLineNumber===m.endLineNumber?(l.push(Pr.replace(B,N)),U=new Re(m.startLineNumber-d,m.startColumn,m.endLineNumber-d,m.endColumn)):(l.push(Pr.replace(B,N)),U=new Re(m.startLineNumber-d,m.startColumn,m.startLineNumber-d,N.length-A)),H.intersectRanges(B,o)!==null?h=U:c.push(U)}d+=B.endLineNumber-B.startLineNumber}c.unshift(h),r.pushUndoStop(),r.executeEdits(this.id,l,c),r.pushUndoStop()}}}},e}(Ue),cVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.transpose",label:D("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:W.writable})||this}return e.prototype.run=function(t,r){var i=r.getSelections();if(i!==null){var o=r.getModel();if(o!==null){for(var s=[],a=0,u=i.length;a<u;a++){var l=i[a];if(l.isEmpty()){var c=l.getStartPosition(),h=o.getLineMaxColumn(c.lineNumber);if(c.column>=h){if(c.lineNumber===o.getLineCount())continue;var d=new H(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p=o.getValueInRange(d).split("").reverse().join("");s.push(new kr(new Re(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p))}else{var d=new H(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),p=o.getValueInRange(d).split("").reverse().join("");s.push(new ZT(d,p,new Re(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}}r.pushUndoStop(),r.executeCommands(this.id,s),r.pushUndoStop()}}},e}(Ue),DB=function(n){gr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=r.getSelections();if(i!==null){var o=r.getModel();if(o!==null){for(var s=r.getConfiguration().wordSeparators,a=[],u=0,l=i.length;u<l;u++){var c=i[u];if(c.isEmpty()){var h=c.getStartPosition(),d=o.getWordAtPosition(h);if(!d)continue;var p=new H(h.lineNumber,d.startColumn,h.lineNumber,d.endColumn),v=o.getValueInRange(p);a.push(new ZT(p,this._modifyText(v,s),new Re(h.lineNumber,h.column,h.lineNumber,h.column)))}else{var v=o.getValueInRange(c);a.push(new ZT(c,this._modifyText(v,s),c))}}r.pushUndoStop(),r.executeCommands(this.id,a),r.pushUndoStop()}}},e}(Ue),fVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.transformToUppercase",label:D("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:W.writable})||this}return e.prototype._modifyText=function(t,r){return t.toLocaleUpperCase()},e}(DB),hVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.transformToLowercase",label:D("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:W.writable})||this}return e.prototype._modifyText=function(t,r){return t.toLocaleLowerCase()},e}(DB),dVe=function(n){gr(e,n);function e(){return n.call(this,{id:"editor.action.transformToTitlecase",label:D("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:W.writable})||this}return e.prototype._modifyText=function(t,r){for(var i=`\r
	 `+r,o=i.split(""),s="",a=!0,u=0;u<t.length;u++){var l=t[u];o.indexOf(l)>=0?(a=!0,s+=l):a?(a=!1,s+=l.toLocaleUpperCase()):s+=l.toLocaleLowerCase()}return s},e}(DB);ge(YHe);ge(XHe);ge(QHe);ge(ZHe);ge(JHe);ge(eVe);ge(tVe);ge(nVe);ge(rVe);ge(iVe);ge(oVe);ge(sVe);ge(aVe);ge(uVe);ge(lVe);ge(cVe);ge(fVe);ge(hVe);ge(dVe);var pVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},vVe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},mVe=void 0,_Ve=function(){function n(e,t){this._link=e,this._provider=t}return n.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(n.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),n.prototype.resolve=function(e){var t=this;if(this._link.url)try{return typeof this._link.url=="string"?Promise.resolve(Ft.parse(this._link.url)):Promise.resolve(this._link.url)}catch{return Promise.reject(new Error("invalid"))}return typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(function(r){return t._link=r||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}):Promise.reject(new Error("missing"))},n}(),HG=function(n){pVe(e,n);function e(t){for(var r=n.call(this)||this,i=[],o=function(d,p){var v=d.links.map(function(m){return new _Ve(m,p)});i=e._union(i,v),r2(p)&&s._register(p)},s=this,a=0,u=t;a<u.length;a++){var l=u[a],c=l[0],h=l[1];o(c,h)}return r.links=i,r}return e._union=function(t,r){var i=[],o,s,a,u;for(o=0,a=0,s=t.length,u=r.length;o<s&&a<u;){var l=t[o],c=r[a];if(H.areIntersectingOrTouching(l.range,c.range)){o++;continue}var h=H.compareRangesUsingStarts(l.range,c.range);h<0?(i.push(l),o++):(i.push(c),a++)}for(;o<s;o++)i.push(t[o]);for(;a<u;a++)i.push(r[a]);return i},e}(he);function eoe(n,e){var t=[],r=t1.ordered(n).reverse().map(function(i,o){return Promise.resolve(i.provideLinks(n,e)).then(function(s){s&&(t[o]=[s,i])},Oo)});return Promise.all(r).then(function(){var i=new HG(Yc(t));return e.isCancellationRequested?(i.dispose(),new HG([])):i})}Bi.registerCommand("_executeLinkProvider",function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return gVe(mVe,void 0,void 0,function(){var r,i,o,s;return vVe(this,function(a){switch(a.label){case 0:return r=e[0],r instanceof Ft?(i=n.get(ps).getModel(r),i?[4,eoe(i,rn.None)]:[2,[]]):[2,[]];case 1:return o=a.sent(),o?(s=o.links.slice(0),o.dispose(),[2,s]):[2,[]]}})})});var yVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),T3=function(){return T3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},T3.apply(this,arguments)},bVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},VG=function(n,e){return function(t,r){e(t,r,n)}},CVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},wVe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function EVe(n,e){var t=n.url&&/^command:/i.test(n.url.toString()),r=n.tooltip?n.tooltip:t?D("links.navigate.executeCmd","Execute command"):D("links.navigate.follow","Follow link"),i=e?Tt?D("links.navigate.kb.meta.mac","cmd + click"):D("links.navigate.kb.meta","ctrl + click"):Tt?D("links.navigate.kb.alt.mac","option + click"):D("links.navigate.kb.alt","alt + click");if(n.url){var o=new zp().appendMarkdown("["+r+"]("+n.url.toString()+") ("+i+")");return o.isTrusted=!0,o}else return new zp().appendText(r+" ("+i+")")}var WG={general:mt.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:mt.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},UG=function(){function n(e,t){this.link=e,this.decorationId=t}return n.decoration=function(e,t){return{range:e.range,options:n._getOptions(e,t,!1)}},n._getOptions=function(e,t,r){var i=T3({},r?WG.active:WG.general);return i.hoverMessage=EVe(e,t),i},n.prototype.activate=function(e,t){e.changeDecorationOptions(this.decorationId,n._getOptions(this.link,t,!0))},n.prototype.deactivate=function(e,t){e.changeDecorationOptions(this.decorationId,n._getOptions(this.link,t,!1))},n}(),toe=function(){function n(e,t,r){var i=this;this.listenersToRemove=new Be,this.editor=e,this.openerService=t,this.notificationService=r;var o=new Vie(e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown(function(s){var a=s[0],u=s[1];i._onEditorMouseMove(a,u)})),this.listenersToRemove.add(o.onExecute(function(s){i.onEditorMouseUp(s)})),this.listenersToRemove.add(o.onCancel(function(s){i.cleanUpActiveLinkDecoration()})),this.enabled=e.getConfiguration().contribInfo.links,this.listenersToRemove.add(e.onDidChangeConfiguration(function(s){var a=e.getConfiguration().contribInfo.links;i.enabled!==a&&(i.enabled=a,i.updateDecorations([]),i.stop(),i.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(function(s){return i.onChange()})),this.listenersToRemove.add(e.onDidChangeModel(function(s){return i.onModelChanged()})),this.listenersToRemove.add(e.onDidChangeModelLanguage(function(s){return i.onModelModeChanged()})),this.listenersToRemove.add(t1.onDidChange(function(s){return i.onModelModeChanged()})),this.timeout=new Fs,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},n.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},n.prototype.onChange=function(){var e=this;this.timeout.setIfNotSet(function(){return e.beginCompute()},n.RECOMPUTE_TIME)},n.prototype.beginCompute=function(){return CVe(this,void 0,void 0,function(){var e,t,r;return wVe(this,function(i){switch(i.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(e=this.editor.getModel(),!t1.has(e))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Qr(function(o){return eoe(e,o)}),i.label=1;case 1:return i.trys.push([1,3,4,5]),t=this,[4,this.computePromise];case 2:return t.activeLinksList=i.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return r=i.sent(),He(r),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}})})},n.prototype.updateDecorations=function(e){for(var t=this.editor.getConfiguration().multiCursorModifier==="altKey",r=[],i=Object.keys(this.currentOccurrences),o=0,s=i.length;o<s;o++){var a=i[o],u=this.currentOccurrences[a];r.push(u.decorationId)}var l=[];if(e)for(var c=0,h=e;c<h.length;c++){var d=h[c];l.push(UG.decoration(d,t))}var p=this.editor.deltaDecorations(r,l);this.currentOccurrences={},this.activeLinkDecorationId=null;for(var o=0,s=p.length;o<s;o++){var u=new UG(e[o],p[o]);this.currentOccurrences[u.decorationId]=u}},n.prototype._onEditorMouseMove=function(e,t){var r=this,i=this.editor.getConfiguration().multiCursorModifier==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations(function(s){o.activate(s,i),r.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()},n.prototype.cleanUpActiveLinkDecoration=function(){var e=this.editor.getConfiguration().multiCursorModifier==="altKey";if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(function(r){t.deactivate(r,e)}),this.activeLinkDecorationId=null}},n.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier)}},n.prototype.openLinkOccurrence=function(e,t){var r=this;if(this.openerService){var i=e.link;i.resolve(rn.None).then(function(o){return r.openerService.open(o,{openToSide:t})},function(o){var s=o instanceof Error?o.message:o;s==="invalid"?r.notificationService.warn(D("invalid.url","Failed to open this link because it is not well-formed: {0}",i.url.toString())):s==="missing"?r.notificationService.warn(D("missing.url","Failed to open this link because its target is missing.")):He(o)})}},n.prototype.getLinkOccurrence=function(e){if(!this.editor.hasModel()||!e)return null;for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),r=0,i=t;r<i.length;r++){var o=i[r],s=this.currentOccurrences[o.id];if(s)return s}return null},n.prototype.isEnabled=function(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))},n.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},n.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},n.ID="editor.linkDetector",n.RECOMPUTE_TIME=1e3,n=bVe([VG(1,Ah),VG(2,bi)],n),n}(),SVe=function(n){yVe(e,n);function e(){return n.call(this,{id:"editor.action.openLink",label:D("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return e.prototype.run=function(t,r){var i=toe.get(r);if(i&&r.hasModel())for(var o=r.getSelections(),s=0,a=o;s<a.length;s++){var u=a[s],l=i.getLinkOccurrence(u.getEndPosition());l&&i.openLinkOccurrence(l,!1)}},e}(Ue);Cn(toe);ge(SVe);mn(function(n,e){var t=n.getColor(h5);t&&e.addRule(".monaco-editor .detected-link-active { color: "+t+" !important; }")});var Bs=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.insertCursorAbove",label:D("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return e.prototype.run=function(t,r,i){if(r.hasModel()){var o=i&&i.logicalLine===!0,s=r._getCursors(),a=s.context;a.config.readOnly||(a.model.pushStackElement(),s.setStates(i.source,3,si.addCursorUp(a,s.getAll(),o)),s.reveal(!0,1,0))}},e}(Ue),DVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.insertCursorBelow",label:D("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return e.prototype.run=function(t,r,i){if(r.hasModel()){var o=i&&i.logicalLine===!0,s=r._getCursors(),a=s.context;a.config.readOnly||(a.model.pushStackElement(),s.setStates(i.source,3,si.addCursorDown(a,s.getAll(),o)),s.reveal(!0,2,0))}},e}(Ue),AVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:D("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:1575,weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return e.prototype.getCursorsForSelection=function(t,r,i){if(!t.isEmpty()){for(var o=t.startLineNumber;o<t.endLineNumber;o++){var s=r.getLineMaxColumn(o);i.push(new Re(o,s,o,s))}t.endColumn>1&&i.push(new Re(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}},e.prototype.run=function(t,r){var i=this;if(r.hasModel()){var o=r.getModel(),s=r.getSelections(),a=[];s.forEach(function(u){return i.getCursorsForSelection(u,o,a)}),a.length>0&&r.setSelections(a)}},e}(Ue),IVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.addCursorsToBottom",label:D("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getSelections(),o=r.getModel().getLineCount(),s=[],a=i[0].startLineNumber;a<=o;a++)s.push(new Re(a,i[0].startColumn,a,i[0].endColumn));s.length>0&&r.setSelections(s)}},e}(Ue),xVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.addCursorsToTop",label:D("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}return e.prototype.run=function(t,r){if(r.hasModel()){for(var i=r.getSelections(),o=[],s=i[0].startLineNumber;s>=1;s--)o.push(new Re(s,i[0].startColumn,s,i[0].endColumn));o.length>0&&r.setSelections(o)}},e}(Ue),tS=function(){function n(e,t,r){this.selections=e,this.revealRange=t,this.revealScrollType=r}return n}(),noe=function(){function n(e,t,r,i,o,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=r,this.searchText=i,this.wholeWord=o,this.matchCase=s,this.currentMatch=a}return n.create=function(e,t){if(!e.hasModel())return null;var r=t.getState();if(!e.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new n(e,t,!1,r.searchString,r.wholeWord,r.matchCase,null);var i=!1,o,s,a=e.getSelections();a.length===1&&a[0].isEmpty()?(i=!0,o=!0,s=!0):(o=r.wholeWord,s=r.matchCase);var u=e.getSelection(),l,c=null;if(u.isEmpty()){var h=e.getModel().getWordAtPosition(u.getStartPosition());if(!h)return null;l=h.word,c=new Re(u.startLineNumber,h.startColumn,u.startLineNumber,h.endColumn)}else l=e.getModel().getValueInRange(u).replace(/\r\n/g,`
`);return new n(e,t,i,l,o,s,c)},n.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new tS(t.concat(e),e,0)},n.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new tS(t.slice(0,t.length-1).concat(e),e,0)},n.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),r=t[t.length-1],i=this._editor.getModel().findNextMatch(this.searchText,r.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return i?new Re(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},n.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new tS(t.concat(e),e,0)},n.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new tS(t.slice(0,t.length-1).concat(e),e,0)},n.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),r=t[t.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,r.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return i?new Re(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},n.prototype.selectAll=function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824)):[]},n}(),AB=function(n){Bs(e,n);function e(t){var r=n.call(this)||this;return r._sessionDispose=r._register(new Be),r._editor=t,r._ignoreSelectionChange=!1,r._session=null,r}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._endSession(),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype._beginSessionIfNeeded=function(t){var r=this;if(!this._session){var i=noe.create(this._editor,t);if(!i)return;this._session=i;var o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),t.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function(s){r._ignoreSelectionChange||r._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(function(){r._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(function(s){(s.matchCase||s.wholeWord)&&r._endSession()}))}},e.prototype._endSession=function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null},e.prototype._setSelections=function(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1},e.prototype._expandEmptyToWord=function(t,r){if(!r.isEmpty())return r;var i=t.getWordAtPosition(r.getStartPosition());return i?new Re(r.startLineNumber,i.startColumn,r.startLineNumber,i.endColumn):r},e.prototype._applySessionResult=function(t){t&&(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))},e.prototype.getSession=function(t){return this._session},e.prototype.addSelectionToNextFindMatch=function(t){if(this._editor.hasModel()){if(!this._session){var r=this._editor.getSelections();if(r.length>1){var i=t.getState(),o=i.matchCase,s=roe(this._editor.getModel(),r,o);if(!s){for(var a=this._editor.getModel(),u=[],l=0,c=r.length;l<c;l++)u[l]=this._expandEmptyToWord(a,r[l]);this._editor.setSelections(u);return}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}},e.prototype.addSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},e.prototype.moveSelectionToNextFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},e.prototype.moveSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},e.prototype.selectAll=function(t){if(this._editor.hasModel()){var r=null,i=t.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)r=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824);else{if(this._beginSessionIfNeeded(t),!this._session)return;r=this._session.selectAll()}if(r.length>0){for(var o=this._editor.getSelection(),s=0,a=r.length;s<a;s++){var u=r[s],l=u.range.intersectRanges(o);if(l){r[s]=r[0],r[0]=u;break}}this._setSelections(r.map(function(c){return new Re(c.range.startLineNumber,c.range.startColumn,c.range.endLineNumber,c.range.endColumn)}))}}},e.ID="editor.contrib.multiCursorController",e}(he),z_=function(n){Bs(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(t,r){var i=AB.get(r);if(i){var o=Pl.get(r);o&&this._run(i,o)}},e}(Ue),LVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:D("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:2082,weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return e.prototype._run=function(t,r){t.addSelectionToNextFindMatch(r)},e}(z_),NVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:D("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return e.prototype._run=function(t,r){t.addSelectionToPreviousFindMatch(r)},e}(z_),OVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:D("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:ko(2089,2082),weight:100}})||this}return e.prototype._run=function(t,r){t.moveSelectionToNextFindMatch(r)},e}(z_),kVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:D("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}return e.prototype._run=function(t,r){t.moveSelectionToPreviousFindMatch(r)},e}(z_),RVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.selectHighlights",label:D("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:3114,weight:100},menubarOpts:{menuId:22,group:"3_multi",title:D({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return e.prototype._run=function(t,r){t.selectAll(r)},e}(z_),PVe=function(n){Bs(e,n);function e(){return n.call(this,{id:"editor.action.changeAll",label:D("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:W.writable,kbOpts:{kbExpr:W.editorTextFocus,primary:2108,weight:100},menuOpts:{group:"1_modification",order:1.2}})||this}return e.prototype._run=function(t,r){t.selectAll(r)},e}(z_),jG=function(){function n(e,t,r){this.searchText=e,this.matchCase=t,this.wordSeparators=r}return n.softEquals=function(e,t){return!e&&!t?!0:!e||!t?!1:e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators},n}(),MVe=function(n){Bs(e,n);function e(t){var r=n.call(this)||this;return r.editor=t,r._isEnabled=t.getConfiguration().contribInfo.selectionHighlight,r.decorations=[],r.updateSoon=r._register(new Hr(function(){return r._update()},300)),r.state=null,r._register(t.onDidChangeConfiguration(function(i){r._isEnabled=t.getConfiguration().contribInfo.selectionHighlight})),r._register(t.onDidChangeCursorSelection(function(i){r._isEnabled&&(i.selection.isEmpty()?i.reason===3?(r.state&&r._setState(null),r.updateSoon.schedule()):r._setState(null):r._update())})),r._register(t.onDidChangeModel(function(i){r._setState(null)})),r._register(Pl.get(t).getState().onFindReplaceStateChange(function(i){r._update()})),r}return e.prototype.getId=function(){return e.ID},e.prototype._update=function(){this._setState(e._createState(this._isEnabled,this.editor))},e._createState=function(t,r){if(!t||!r.hasModel())return null;var i=r.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;var o=AB.get(r);if(!o)return null;var s=Pl.get(r);if(!s)return null;var a=o.getSession(s);if(!a){var u=r.getSelections();if(u.length>1){var l=s.getState(),c=l.matchCase,h=roe(r.getModel(),u,c);if(!h)return null}a=noe.create(r,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;var d=s.getState(),p=d.matchCase;if(d.isRevealed){var v=d.searchString;p||(v=v.toLowerCase());var m=a.searchText;if(p||(m=m.toLowerCase()),v===m&&a.matchCase===d.matchCase&&a.wholeWord===d.wholeWord&&!d.isRegex)return null}return new jG(a.searchText,a.matchCase,a.wholeWord?r.getConfiguration().wordSeparators:null)},e.prototype._setState=function(t){if(jG.softEquals(this.state,t)){this.state=t;return}if(this.state=t,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(this.editor.hasModel()){var r=this.editor.getModel();if(!r.isTooLargeForTokenization()){var i=Fm.has(r),o=r.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(m){return m.range});o.sort(H.compareRangesUsingStarts);var s=this.editor.getSelections();s.sort(H.compareRangesUsingStarts);for(var a=[],u=0,l=0,c=o.length,h=s.length;u<c;){var d=o[u];if(l>=h)a.push(d),u++;else{var p=H.compareRangesUsingStarts(d,s[l]);p<0?((s[l].isEmpty()||!H.areIntersecting(d,s[l]))&&a.push(d),u++):(p>0||u++,l++)}}var v=a.map(function(m){return{range:m,options:i?e._SELECTION_HIGHLIGHT:e._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,v)}}},e.prototype.dispose=function(){this._setState(null),n.prototype.dispose.call(this)},e.ID="editor.contrib.selectionHighlighter",e._SELECTION_HIGHLIGHT_OVERVIEW=mt.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:ia(qte),position:da.Center}}),e._SELECTION_HIGHLIGHT=mt.register({stickiness:1,className:"selectionHighlight"}),e}(he);function roe(n,e,t){for(var r=qG(n,e[0],!t),i=1,o=e.length;i<o;i++){var s=e[i];if(s.isEmpty())return!1;var a=qG(n,s,!t);if(r!==a)return!1}return!0}function qG(n,e,t){var r=n.getValueInRange(e);return t?r.toLowerCase():r}Cn(AB);Cn(MVe);ge(TVe);ge(DVe);ge(AVe);ge(LVe);ge(NVe);ge(OVe);ge(kVe);ge(RVe);ge(PVe);ge(IVe);ge(xVe);var FVe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},BVe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},HVe=void 0,Gp={Visible:new Ke("parameterHintsVisible",!1),MultipleSignatures:new Ke("parameterHintsMultipleSignatures",!1)};function ioe(n,e,t,r){var i=bp.ordered(n);return d6(i.map(function(o){return function(){return Promise.resolve(o.provideSignatureHelp(n,e,r,t)).catch(function(s){return Oo(s)})}}))}Mu("_executeSignatureHelpProvider",function(n,e,t){return FVe(HVe,void 0,void 0,function(){var r;return BVe(this,function(i){switch(i.label){case 0:return[4,ioe(n,e,{triggerKind:yp.Invoke,isRetrigger:!1,triggerCharacter:t.triggerCharacter},rn.None)];case 1:return r=i.sent(),r?(setTimeout(function(){return r.dispose()},0),[2,r.value]):[2,void 0]}})})});var VVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),D3=function(){return D3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},D3.apply(this,arguments)},kf;(function(n){n.Default=new(function(){function r(){this.type=0}return r}());var e=function(){function r(i){this.request=i,this.type=2}return r}();n.Pending=e;var t=function(){function r(i){this.hints=i,this.type=1}return r}();n.Active=t})(kf||(kf={}));var WVe=function(n){VVe(e,n);function e(t,r){r===void 0&&(r=e.DEFAULT_DELAY);var i=n.call(this)||this;return i._onChangedHints=i._register(new Q),i.onChangedHints=i._onChangedHints.event,i.triggerOnType=!1,i._state=kf.Default,i._lastSignatureHelpResult=i._register(new Mh),i.triggerChars=new Wv,i.retriggerChars=new Wv,i.triggerId=0,i.editor=t,i.throttledDelayer=new k_(r),i._register(i.editor.onDidChangeConfiguration(function(){return i.onEditorConfigurationChange()})),i._register(i.editor.onDidChangeModel(function(o){return i.onModelChanged()})),i._register(i.editor.onDidChangeModelLanguage(function(o){return i.onModelChanged()})),i._register(i.editor.onDidChangeCursorSelection(function(o){return i.onCursorChange(o)})),i._register(i.editor.onDidChangeModelContent(function(o){return i.onModelContentChange()})),i._register(bp.onDidChange(i.onModelChanged,i)),i._register(i.editor.onDidType(function(o){return i.onDidType(o)})),i.onEditorConfigurationChange(),i.onModelChanged(),i}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state.type===2&&this._state.request.cancel(),this._state=t},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t){t===void 0&&(t=!1),this.state=kf.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)},e.prototype.trigger=function(t,r){var i=this,o=this.editor.getModel();if(!(!o||!bp.has(o))){var s=++this.triggerId;this.throttledDelayer.trigger(function(){return i.doTrigger({triggerKind:t.triggerKind,triggerCharacter:t.triggerCharacter,isRetrigger:i.state.type===1||i.state.type===2,activeSignatureHelp:i.state.type===1?i.state.hints:void 0},s)},r).then(void 0,He)}},e.prototype.next=function(){if(this.state.type===1){var t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,i=r%t===t-1,o=this.editor.getConfiguration().contribInfo.parameterHints.cycle;if((t<2||i)&&!o){this.cancel();return}this.updateActiveSignature(i&&o?0:r+1)}},e.prototype.previous=function(){if(this.state.type===1){var t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,i=r===0,o=this.editor.getConfiguration().contribInfo.parameterHints.cycle;if((t<2||i)&&!o){this.cancel();return}this.updateActiveSignature(i&&o?t-1:r-1)}},e.prototype.updateActiveSignature=function(t){this.state.type===1&&(this.state=new kf.Active(D3({},this.state.hints,{activeSignature:t})),this._onChangedHints.fire(this.state.hints))},e.prototype.doTrigger=function(t,r){var i=this;if(this.cancel(!0),!this.editor.hasModel())return Promise.resolve(!1);var o=this.editor.getModel(),s=this.editor.getPosition();return this.state=new kf.Pending(Qr(function(a){return ioe(o,s,t,a)})),this.state.request.then(function(a){return r!==i.triggerId?(a&&a.dispose(),!1):!a||!a.value.signatures||a.value.signatures.length===0?(a&&a.dispose(),i._lastSignatureHelpResult.clear(),i.cancel(),!1):(i.state=new kf.Active(a.value),i._lastSignatureHelpResult.value=a,i._onChangedHints.fire(i.state.hints),!0)}).catch(function(a){return r===i.triggerId&&(i.state=kf.Default),He(a),!1})},Object.defineProperty(e.prototype,"isTriggered",{get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),e.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new Wv,this.retriggerChars=new Wv;var t=this.editor.getModel();if(t)for(var r=0,i=bp.ordered(t);r<i.length;r++){for(var o=i[r],s=0,a=o.signatureHelpTriggerCharacters||[];s<a.length;s++){var u=a[s];this.triggerChars.add(u.charCodeAt(0)),this.retriggerChars.add(u.charCodeAt(0))}for(var l=0,c=o.signatureHelpRetriggerCharacters||[];l<c.length;l++){var u=c[l];this.retriggerChars.add(u.charCodeAt(0))}}},e.prototype.onDidType=function(t){if(this.triggerOnType){var r=t.length-1,i=t.charCodeAt(r);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:yp.TriggerCharacter,triggerCharacter:t.charAt(r)})}},e.prototype.onCursorChange=function(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:yp.ContentChange})},e.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:yp.ContentChange})},e.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getConfiguration().contribInfo.parameterHints.enabled,this.triggerOnType||this.cancel()},e.prototype.dispose=function(){this.cancel(!0),n.prototype.dispose.call(this)},e.DEFAULT_DELAY=120,e}(he),UVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Kk=function(n,e){return function(t,r){e(t,r,n)}},ws=We,qVe=function(n){UVe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.editor=t,s.renderDisposeables=s._register(new Be),s.model=s._register(new Mh),s.allowEditorOverflow=!0,s.markdownRenderer=s._register(new $2(t,o,i)),s.model.value=new WVe(t),s.keyVisible=Gp.Visible.bindTo(r),s.keyMultipleSignatures=Gp.MultipleSignatures.bindTo(r),s.visible=!1,s._register(s.model.value.onChangedHints(function(a){a?(s.show(),s.render(a)):s.hide()})),s}return e.prototype.createParamaterHintDOMNodes=function(){var t=this;this.element=ws(".editor-widget.parameter-hints-widget");var r=Ee(this.element,ws(".wrapper"));r.tabIndex=-1;var i=Ee(r,ws(".buttons")),o=Ee(i,ws(".button.previous")),s=Ee(i,ws(".button.next")),a=Vj(Nt(o,"click"));this._register(a(this.previous,this));var u=Vj(Nt(s,"click"));this._register(u(this.next,this)),this.overloads=Ee(r,ws(".overloads"));var l=ws(".body");this.scrollbar=new bC(l,{}),this._register(this.scrollbar),r.appendChild(this.scrollbar.getDomNode()),this.signature=Ee(l,ws(".signature")),this.docs=Ee(l,ws(".docs")),this.editor.addContentWidget(this),this.hide(),this.element.style.userSelect="text",this._register(this.editor.onDidChangeCursorSelection(function(h){t.visible&&t.editor.layoutContentWidget(t)}));var c=function(){var h=t.editor.getConfiguration().fontInfo;t.element.style.fontSize=h.fontSize+"px"};c(),this._register(Ze.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(h){return h.fontInfo}).on(c,null)),this._register(this.editor.onDidLayoutChange(function(h){return t.updateMaxHeight()})),this.updateMaxHeight()},e.prototype.show=function(){var t=this;!this.model||this.visible||(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){return De(t.element,"visible")},100),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){!this.model||!this.visible||(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,st(this.element,"visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},e.prototype.render=function(t){var r=t.signatures.length>1;Rt(this.element,"multiple",r),this.keyMultipleSignatures.set(r),this.signature.innerHTML="",this.docs.innerHTML="";var i=t.signatures[t.activeSignature];if(i){var o=Ee(this.signature,ws(".code")),s=i.parameters.length>0,a=this.editor.getConfiguration().fontInfo;if(o.style.fontSize=a.fontSize+"px",o.style.fontFamily=a.fontFamily,s)this.renderParameters(o,i,t.activeParameter);else{var u=Ee(o,ws("span"));u.textContent=i.label}this.renderDisposeables.clear();var l=i.parameters[t.activeParameter];if(l&&l.documentation){var c=ws("span.documentation");if(typeof l.documentation=="string")c.textContent=l.documentation;else{var h=this.markdownRenderer.render(l.documentation);De(h.element,"markdown-docs"),this.renderDisposeables.add(h),c.appendChild(h.element)}Ee(this.docs,ws("p",{},c))}if(i.documentation!==void 0)if(typeof i.documentation=="string")Ee(this.docs,ws("p",{},i.documentation));else{var h=this.markdownRenderer.render(i.documentation);De(h.element,"markdown-docs"),this.renderDisposeables.add(h),Ee(this.docs,h.element)}var d=!1;l&&typeof l.documentation=="string"&&l.documentation.length>0&&(d=!0),l&&typeof l.documentation=="object"&&l.documentation.value.length>0&&(d=!0),typeof i.documentation=="string"&&i.documentation.length>0&&(d=!0),typeof i.documentation=="object"&&i.documentation.value.length>0&&(d=!0),Rt(this.signature,"has-docs",d),Rt(this.docs,"empty",!d);var p=String(t.activeSignature+1);if(t.signatures.length<10&&(p+="/"+t.signatures.length),this.overloads.textContent=p,l){var v=this.getParameterLabel(i,t.activeParameter);this.announcedLabel!==v&&(Ki(D("hint","{0}, hint",v)),this.announcedLabel=v)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},e.prototype.renderParameters=function(t,r,i){var o=this.getParameterLabelOffsets(r,i),s=o[0],a=o[1],u=document.createElement("span");u.textContent=r.label.substring(0,s);var l=document.createElement("span");l.textContent=r.label.substring(s,a),l.className="parameter active";var c=document.createElement("span");c.textContent=r.label.substring(a),Ee(t,u,l,c)},e.prototype.getParameterLabel=function(t,r){var i=t.parameters[r];return typeof i.label=="string"?i.label:t.label.substring(i.label[0],i.label[1])},e.prototype.getParameterLabelOffsets=function(t,r){var i=t.parameters[r];if(i){if(Array.isArray(i.label))return i.label;var o=t.label.lastIndexOf(i.label);return o>=0?[o,o+i.label.length]:[0,0]}else return[0,0]},e.prototype.next=function(){this.model.value&&(this.editor.focus(),this.model.value.next())},e.prototype.previous=function(){this.model.value&&(this.editor.focus(),this.model.value.previous())},e.prototype.cancel=function(){this.model.value&&this.model.value.cancel()},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.trigger=function(t){this.model.value&&this.model.value.trigger(t,0)},e.prototype.updateMaxHeight=function(){var t=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=t+"px"},e.ID="editor.widget.parameterHintsWidget",e=jVe([Kk(1,yt),Kk(2,Ah),Kk(3,Vh)],e),e}(he);mn(function(n,e){var t=n.getColor(f5);if(t){var r=n.type===Um?2:1;e.addRule(".monaco-editor .parameter-hints-widget { border: "+r+"px solid "+t+"; }"),e.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+t.transparent(.5)+"; }"),e.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+t.transparent(.5)+"; }")}var i=n.getColor(Up);i&&e.addRule(".monaco-editor .parameter-hints-widget { background-color: "+i+"; }");var o=n.getColor(b2);o&&e.addRule(".monaco-editor .parameter-hints-widget a { color: "+o+"; }");var s=n.getColor(e5);s&&e.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+s+"; }")});var ooe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},GVe=function(n,e){return function(t,r){e(t,r,n)}},IB=function(n){ooe(e,n);function e(t,r){var i=n.call(this)||this;return i.editor=t,i.widget=i._register(r.createInstance(qVe,i.editor)),i}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.cancel=function(){this.widget.cancel()},e.prototype.previous=function(){this.widget.previous()},e.prototype.next=function(){this.widget.next()},e.prototype.trigger=function(t){this.widget.trigger(t)},e.ID="editor.controller.parameterHints",e=zVe([GVe(1,pr)],e),e}(he),$Ve=function(n){ooe(e,n);function e(){return n.call(this,{id:"editor.action.triggerParameterHints",label:D("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:W.hasSignatureHelpProvider,kbOpts:{kbExpr:W.editorTextFocus,primary:3082,weight:100}})||this}return e.prototype.run=function(t,r){var i=IB.get(r);i&&i.trigger({triggerKind:yp.Invoke})},e}(Ue);Cn(IB);ge($Ve);var xB=175,LB=Po.bindToContribution(IB.get);ce(new LB({id:"closeParameterHints",precondition:Gp.Visible,handler:function(n){return n.cancel()},kbOpts:{weight:xB,kbExpr:W.focus,primary:9,secondary:[1033]}}));ce(new LB({id:"showPrevParameterHint",precondition:Oe.and(Gp.Visible,Gp.MultipleSignatures),handler:function(n){return n.previous()},kbOpts:{weight:xB,kbExpr:W.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));ce(new LB({id:"showNextParameterHint",precondition:Oe.and(Gp.Visible,Gp.MultipleSignatures),handler:function(n){return n.next()},kbOpts:{weight:xB,kbExpr:W.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var KVe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YVe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},XVe=function(n,e){return function(t,r){e(t,r,n)}},NB={getMetaTitle:function(n){return n.references.length>1?D("meta.titleReference","  {0} references",n.references.length):""}},QVe=function(){function n(e,t){e instanceof yB&&Uc.inPeekEditor.bindTo(t)}return n.prototype.dispose=function(){},n.prototype.getId=function(){return n.ID},n.ID="editor.contrib.referenceController",n=YVe([XVe(1,yt)],n),n}(),ZVe=function(n){KVe(e,n);function e(){return n.call(this,{id:"editor.action.referenceSearch.trigger",label:D("references.action.label","Peek References"),alias:"Peek References",precondition:Oe.and(W.hasReferenceProvider,Uc.notInPeekEditor,W.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:W.editorTextFocus,primary:1094,weight:100},menuOpts:{group:"navigation",order:1.5}})||this}return e.prototype.run=function(t,r){var i=q_.get(r);if(i&&r.hasModel()){var o=r.getSelection(),s=r.getModel(),a=Qr(function(u){return OB(s,o.getStartPosition(),u).then(function(l){return new Km(l)})});i.toggleWidget(o,a,NB)}},e}(Ue);Cn(QVe);ge(ZVe);var JVe=function(n,e,t){if(!(e instanceof Ft))throw new Error("illegal argument, uri");if(!t)throw new Error("illegal argument, position");var r=n.get(In);return r.openCodeEditor({resource:e},r.getFocusedCodeEditor()).then(function(i){if(!(!kl(i)||!i.hasModel())){var o=q_.get(i);if(o){var s=Qr(function(u){return OB(i.getModel(),ee.lift(t),u).then(function(l){return new Km(l)})}),a=new H(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(o.toggleWidget(a,s,NB))}}})},eWe=function(n,e,t,r){if(!(e instanceof Ft))throw new Error("illegal argument, uri expected");if(!r)throw new Error("missing references");var i=n.get(In);return i.openCodeEditor({resource:e},i.getFocusedCodeEditor()).then(function(o){if(kl(o)){var s=q_.get(o);if(s)return s.toggleWidget(new H(t.lineNumber,t.column,t.lineNumber,t.column),Qr(function(a){return Promise.resolve(new Km(r))}),NB)}})};Bi.registerCommand({id:"editor.action.findReferences",handler:JVe});Bi.registerCommand({id:"editor.action.showReferences",handler:eWe,description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:Ft},{name:"position",description:"The position at which to show",constraint:ee.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}});function soe(n,e){G_(n,function(t){return t.closeWidget()})}function tWe(n,e){var t=n.get(U_),r=t.lastFocusedList&&t.lastFocusedList.getFocus();r instanceof Gm&&G_(n,function(i){return i.openReference(r,!0)})}function G_(n,e){var t=z8e(n);if(t){var r=q_.get(t);r&&e(r)}}wa.registerCommandAndKeybindingRule({id:"goToNextReference",weight:250,primary:62,when:OC,handler:function(n){G_(n,function(e){e.goToNextOrPreviousReference(!0)})}});wa.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:150,primary:62,when:Uc.inPeekEditor,handler:function(n){G_(n,function(e){e.goToNextOrPreviousReference(!0)})}});wa.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:250,primary:1086,when:OC,handler:function(n){G_(n,function(e){e.goToNextOrPreviousReference(!1)})}});wa.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:150,primary:1086,when:Uc.inPeekEditor,handler:function(n){G_(n,function(e){e.goToNextOrPreviousReference(!1)})}});wa.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Oe.and(OC,Oe.not("config.editor.stablePeek")),handler:soe});wa.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:-1,primary:9,secondary:[1033],when:Oe.and(Uc.inPeekEditor,Oe.not("config.editor.stablePeek")),handler:soe});wa.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Oe.and(OC,xie),handler:tWe});function OB(n,e,t){var r=FT.ordered(n).map(function(i){return Promise.resolve(i.provideReferences(n,e,{includeDeclaration:!0},t)).then(function(o){if(Array.isArray(o))return o},function(o){Oo(o)})});return Promise.all(r).then(function(i){return qb(Yc(i))})}Mu("_executeReferenceProvider",function(n,e){return OB(n,e,rn.None)});var kB=new Ke("renameInputVisible",!1),nWe=function(){function n(e,t,r){var i=this;this.themeService=t,this._disposables=new Be,this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._visibleContextKey=kB.bindTo(r),this._editor=e,this._editor.addContentWidget(this),this._disposables.add(e.onDidChangeConfiguration(function(o){o.fontInfo&&i.updateFont()})),this._disposables.add(t.onThemeChange(function(o){return i.onThemeChange(o)}))}return n.prototype.onThemeChange=function(e){this.updateStyles(e)},n.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},n.prototype.getId=function(){return"__renameInputWidget"},n.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",D("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},n.prototype.updateStyles=function(e){if(this._inputField){var t=e.getColor(t5),r=e.getColor(n5),i=e.getColor(hg),o=e.getColor(r5);this._inputField.style.backgroundColor=t?t.toString():null,this._inputField.style.color=r?r.toString():null,this._inputField.style.borderWidth=o?"1px":"0px",this._inputField.style.borderStyle=o?"solid":"none",this._inputField.style.borderColor=o?o.toString():"none",this._domNode.style.boxShadow=i?" 0 2px 8px "+i:null}},n.prototype.updateFont=function(){if(this._inputField){var e=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=e.fontFamily,this._inputField.style.fontWeight=e.fontWeight,this._inputField.style.fontSize=e.fontSize+"px"}},n.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},n.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},n.prototype.cancelInput=function(e){this._currentCancelInput&&this._currentCancelInput(e)},n.prototype.getInput=function(e,t,r,i){var o=this;this._position=new ee(e.startLineNumber,e.startColumn),this._inputField.value=t,this._inputField.setAttribute("selectionStart",r.toString()),this._inputField.setAttribute("selectionEnd",i.toString()),this._inputField.size=Math.max((e.endColumn-e.startColumn)*1.1,20);var s=new Be,a=function(){s.dispose(),o._hide()};return new Promise(function(u){o._currentCancelInput=function(c){return o._currentAcceptInput=null,o._currentCancelInput=null,u(c),!0},o._currentAcceptInput=function(){if(o._inputField.value.trim().length===0||o._inputField.value===t){o.cancelInput(!0);return}o._currentAcceptInput=null,o._currentCancelInput=null,u(o._inputField.value)};var l=function(){var c=o._editor.getPosition();(!c||!H.containsPosition(e,c))&&o.cancelInput(!0)};s.add(o._editor.onDidChangeCursorSelection(l)),s.add(o._editor.onDidBlurEditorWidget(function(){return o.cancelInput(!1)})),o._show()}).then(function(u){return a(),u},function(u){return a(),Promise.reject(u)})},n.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},100)},n.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},n}(),aoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yy=function(n,e){return function(t,r){e(t,r,n)}},_1=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},y1=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},uoe=function(){function n(e,t){this.model=e,this.position=t,this._providers=BT.ordered(e)}return n.prototype.hasProvider=function(){return this._providers.length>0},n.prototype.resolveRenameLocation=function(e){return _1(this,void 0,void 0,function(){var t,r,i;return y1(this,function(o){switch(o.label){case 0:return t=this._providers[0],t?t.resolveRenameLocation?[4,t.resolveRenameLocation(this.model,this.position,e)]:[3,2]:[2,void 0];case 1:r=o.sent(),o.label=2;case 2:return!r&&(i=this.model.getWordAtPosition(this.position),i)?[2,{range:new H(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word}]:[2,r]}})})},n.prototype.provideRenameEdits=function(e,t,r,i){return _1(this,void 0,void 0,function(){var o,s;return y1(this,function(a){switch(a.label){case 0:return o=this._providers[t],o?[4,o.provideRenameEdits(this.model,this.position,e,i)]:[2,{edits:[],rejectReason:r.join(`
`)}];case 1:if(s=a.sent(),s){if(s.rejectReason)return[2,this.provideRenameEdits(e,t+1,r.concat(s.rejectReason),i)]}else return[2,this.provideRenameEdits(e,t+1,r.concat(D("no result","No result.")),i)];return[2,s]}})})},n}();function iWe(n,e,t){return _1(this,void 0,void 0,function(){return y1(this,function(r){return[2,new uoe(n,e).provideRenameEdits(t,0,[],rn.None)]})})}var RB=function(n){aoe(e,n);function e(t,r,i,o,s,a){var u=n.call(this)||this;return u.editor=t,u._notificationService=r,u._bulkEditService=i,u._progressService=o,u._contextKeyService=s,u._themeService=a,u._renameOperationIdPool=1,u._register(u.editor.onDidChangeModel(function(){return u.onModelChanged()})),u._register(u.editor.onDidChangeModelLanguage(function(){return u.onModelChanged()})),u._register(u.editor.onDidChangeCursorSelection(function(){return u.onModelChanged()})),u}return e.get=function(t){return t.getContribution(e.ID)},Object.defineProperty(e.prototype,"renameInputField",{get:function(){return this._renameInputField||(this._renameInputField=this._register(new nWe(this.editor,this._themeService,this._contextKeyService))),this._renameInputField},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return e.ID},e.prototype.run=function(){return _1(this,void 0,void 0,function(){var t,r=this;return y1(this,function(i){return this._activeRename&&this._activeRename.operation.cancel(),t=this._renameOperationIdPool++,this._activeRename={id:t,operation:Qr(function(o){return r.doRename(o,t)})},[2,this._activeRename.operation]})})},e.prototype.doRename=function(t,r){return _1(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h,d=this;return y1(this,function(p){switch(p.label){case 0:if(!this.editor.hasModel())return[2,void 0];if(i=this.editor.getPosition(),o=new uoe(this.editor.getModel(),i),!o.hasProvider())return[2,void 0];p.label=1;case 1:return p.trys.push([1,3,,4]),a=o.resolveRenameLocation(t),this._progressService.showWhile(a,250),[4,a];case 2:return s=p.sent(),[3,4];case 3:return u=p.sent(),Nc.get(this.editor).showMessage(u||D("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i),[2,void 0];case 4:return s?s.rejectReason?(Nc.get(this.editor).showMessage(s.rejectReason,i),[2,void 0]):!this._activeRename||this._activeRename.id!==r?[2,void 0]:(l=this.editor.getSelection(),c=0,h=s.text.length,!H.isEmpty(l)&&!H.spansMultipleLines(l)&&H.containsRange(s.range,l)&&(c=Math.max(0,l.startColumn-s.range.startColumn),h=Math.min(s.range.endColumn,l.endColumn)-s.range.startColumn),[2,this.renameInputField.getInput(s.range,s.text,c,h).then(function(v){if(typeof v=="boolean"){v&&d.editor.focus();return}d.editor.focus();var m=new w5(d.editor,15),_=Promise.resolve(o.provideRenameEdits(v,0,[],t).then(function(b){if(d.editor.hasModel()){if(b.rejectReason){m.validate(d.editor)?Nc.get(d.editor).showMessage(b.rejectReason,d.editor.getPosition()):d._notificationService.info(b.rejectReason);return}return d._bulkEditService.apply(b,{editor:d.editor}).then(function(C){C.ariaSummary&&Ki(D("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,v,C.ariaSummary))})}},function(b){return d._notificationService.error(D("rename.failed","Rename failed to execute.")),Promise.reject(b)}));return d._progressService.showWhile(_,250),_})]):[2,void 0]}})})},e.prototype.acceptRenameInput=function(){this._renameInputField&&this._renameInputField.acceptInput()},e.prototype.cancelRenameInput=function(){this._renameInputField&&this._renameInputField.cancelInput(!0)},e.prototype.onModelChanged=function(){this._activeRename&&(this._activeRename.operation.cancel(),this._activeRename=void 0)},e.ID="editor.contrib.renameController",e=rWe([yy(1,bi),yy(2,x5),yy(3,M2),yy(4,yt),yy(5,ei)],e),e}(he),oWe=function(n){aoe(e,n);function e(){return n.call(this,{id:"editor.action.rename",label:D("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Oe.and(W.writable,W.hasRenameProvider),kbOpts:{kbExpr:W.editorTextFocus,primary:60,weight:100},menuOpts:{group:"1_modification",order:1.1}})||this}return e.prototype.runCommand=function(t,r){var i=this,o=t.get(In),s=Array.isArray(r)&&r||[void 0,void 0],a=s[0],u=s[1];return Ft.isUri(a)&&ee.isIPosition(u)?o.openCodeEditor({resource:a},o.getActiveCodeEditor()).then(function(l){l&&(l.setPosition(u),l.invokeWithinContext(function(c){return i.reportTelemetry(c,l),i.run(c,l)}))},He):n.prototype.runCommand.call(this,t,r)},e.prototype.run=function(t,r){var i=RB.get(r);return i?i.run():Promise.resolve()},e}(Ue);Cn(RB);ge(oWe);var loe=Po.bindToContribution(RB.get);ce(new loe({id:"acceptRenameInput",precondition:kB,handler:function(n){return n.acceptRenameInput()},kbOpts:{weight:199,kbExpr:W.focus,primary:3}}));ce(new loe({id:"cancelRenameInput",precondition:kB,handler:function(n){return n.cancelRenameInput()},kbOpts:{weight:199,kbExpr:W.focus,primary:9,secondary:[1033]}}));Mu("_executeDocumentRenameProvider",function(n,e,t){var r=t.newName;if(typeof r!="string")throw Br("newName");return iWe(n,e,r)});var sWe=function(){function n(){}return n.prototype.provideSelectionRanges=function(e,t){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=[];r.push(a),this._addInWordRanges(a,e,s),this._addWordRanges(a,e,s),this._addWhitespaceLine(a,e,s),a.push({range:e.getFullModelRange()})}return r},n.prototype._addInWordRanges=function(e,t,r){var i=t.getWordAtPosition(r);if(i){for(var o=i.word,s=i.startColumn,a=r.column-s,u=a,l=a,c=0;u>=0;u--){var h=o.charCodeAt(u);if(h===95||h===45)break;if(Cc(h)&&hu(c))break;c=h}for(u+=1;l<o.length;l++){var h=o.charCodeAt(l);if(hu(h)&&Cc(c))break;if(h===95||h===45)break;c=h}u<l&&e.push({range:new H(r.lineNumber,s+u,r.lineNumber,s+l)})}},n.prototype._addWordRanges=function(e,t,r){var i=t.getWordAtPosition(r);i&&e.push({range:new H(r.lineNumber,i.startColumn,r.lineNumber,i.endColumn)})},n.prototype._addWhitespaceLine=function(e,t,r){t.getLineLength(r.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(r.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(r.lineNumber)===0&&e.push({range:new H(r.lineNumber,1,r.lineNumber,t.getLineMaxColumn(r.lineNumber))})},n}(),aWe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},zG=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},coe=function(){function n(){}return n.prototype.provideSelectionRanges=function(e,t){return aWe(this,void 0,void 0,function(){var r,i,o,s,a;return zG(this,function(u){switch(u.label){case 0:r=[],i=function(l){var c,h;return zG(this,function(d){switch(d.label){case 0:return c=[],r.push(c),h=new Map,[4,new Promise(function(p){return n._bracketsRightYield(p,0,e,l,h)})];case 1:return d.sent(),[4,new Promise(function(p){return n._bracketsLeftYield(p,0,e,l,h,c)})];case 2:return d.sent(),[2]}})},o=0,s=t,u.label=1;case 1:return o<s.length?(a=s[o],[5,i(a)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2,r]}})})},n._bracketsRightYield=function(e,t,r,i,o){for(var s=new Map,a=Date.now();;){if(t>=n._maxRounds){e();break}if(!i){e();break}var u=r.findNextBracket(i);if(!u){e();break}var l=Date.now()-a;if(l>n._maxDuration){setTimeout(function(){return n._bracketsRightYield(e,t+1,r,i,o)});break}var c=u.close;if(u.isOpen){var h=s.has(c)?s.get(c):0;s.set(c,h+1)}else{var h=s.has(c)?s.get(c):0;if(h-=1,s.set(c,Math.max(0,h)),h<0){var d=o.get(c);d||(d=new Mc,o.set(c,d)),d.push(u.range)}}i=u.range.getEndPosition()}},n._bracketsLeftYield=function(e,t,r,i,o,s){for(var a=new Map,u=Date.now();;){if(t>=n._maxRounds&&o.size===0){e();break}if(!i){e();break}var l=r.findPrevBracket(i);if(!l){e();break}var c=Date.now()-u;if(c>n._maxDuration){setTimeout(function(){return n._bracketsLeftYield(e,t+1,r,i,o,s)});break}var h=l.close;if(l.isOpen){var d=a.has(h)?a.get(h):0;if(d-=1,a.set(h,Math.max(0,d)),d<0){var p=o.get(h);if(p){var v=p.shift();p.size===0&&o.delete(h);var m=H.fromPositions(l.range.getEndPosition(),v.getStartPosition()),_=H.fromPositions(l.range.getStartPosition(),v.getEndPosition());s.push({range:m}),s.push({range:_}),n._addBracketLeading(r,_,s)}}}else{var d=a.has(h)?a.get(h):0;a.set(h,d+1)}i=l.range.getStartPosition()}},n._addBracketLeading=function(e,t,r){if(t.startLineNumber!==t.endLineNumber){var i=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(i);o!==0&&o!==t.startColumn&&(r.push({range:H.fromPositions(new ee(i,o),t.getEndPosition())}),r.push({range:H.fromPositions(new ee(i,1),t.getEndPosition())}));var s=i-1;if(s>0){var a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(r.push({range:H.fromPositions(new ee(s,a),t.getEndPosition())}),r.push({range:H.fromPositions(new ee(s,1),t.getEndPosition())}))}}},n._maxDuration=30,n._maxRounds=2,n}(),PB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uWe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},lWe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},cWe=function(){function n(e,t){this.index=e,this.ranges=t}return n.prototype.mov=function(e){var t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;var r=new n(t,this.ranges);return r.ranges[t].equalsRange(this.ranges[this.index])?r.mov(e):r},n}(),foe=function(){function n(e){this._ignoreSelection=!1,this._editor=e}return n.get=function(e){return e.getContribution(n._id)},n.prototype.dispose=function(){nt(this._selectionListener)},n.prototype.getId=function(){return n._id},n.prototype.run=function(e){var t=this;if(this._editor.hasModel()){var r=this._editor.getSelections(),i=this._editor.getModel();if(f2.has(i)){var o=Promise.resolve(void 0);return this._state||(o=doe(i,r.map(function(s){return s.getPosition()}),rn.None).then(function(s){if(!(!cs(s)||s.length!==r.length)&&!(!t._editor.hasModel()||!Ph(t._editor.getSelections(),r,function(l,c){return l.equalsSelection(c)}))){for(var a=function(l){s[l]=s[l].filter(function(c){return c.containsPosition(r[l].getStartPosition())&&c.containsPosition(r[l].getEndPosition())}),s[l].unshift(r[l])},u=0;u<s.length;u++)a(u);t._state=s.map(function(l){return new cWe(0,l)}),nt(t._selectionListener),t._selectionListener=t._editor.onDidChangeCursorPosition(function(){t._ignoreSelection||(nt(t._selectionListener),t._state=void 0)})}})),o.then(function(){if(t._state){t._state=t._state.map(function(a){return a.mov(e)});var s=t._state.map(function(a){return Re.fromPositions(a.ranges[a.index].getStartPosition(),a.ranges[a.index].getEndPosition())});t._ignoreSelection=!0;try{t._editor.setSelections(s)}finally{t._ignoreSelection=!1}}})}}},n._id="editor.contrib.smartSelectController",n}(),hoe=function(n){PB(e,n);function e(t,r){var i=n.call(this,r)||this;return i._forward=t,i}return e.prototype.run=function(t,r){return uWe(this,void 0,void 0,function(){var i;return lWe(this,function(o){switch(o.label){case 0:return i=foe.get(r),i?[4,i.run(this._forward)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e}(Ue),fWe=function(n){PB(e,n);function e(){return n.call(this,!0,{id:"editor.action.smartSelect.expand",label:D("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:1553,mac:{primary:3345},weight:100},menubarOpts:{menuId:22,group:"1_basic",title:D({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return e}(hoe);Bi.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var hWe=function(n){PB(e,n);function e(){return n.call(this,!1,{id:"editor.action.smartSelect.shrink",label:D("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:W.editorTextFocus,primary:1551,mac:{primary:3343},weight:100},menubarOpts:{menuId:22,group:"1_basic",title:D({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return e}(hoe);Cn(foe);ge(fWe);ge(hWe);f2.register("*",new sWe);function doe(n,e,t){var r=f2.all(n);r.length===1&&r.unshift(new coe);for(var i=[],o=[],s=0,a=r;s<a.length;s++){var u=a[s];i.push(Promise.resolve(u.provideSelectionRanges(n,e,t)).then(function(l){if(cs(l)&&l.length===e.length)for(var c=0;c<e.length;c++){o[c]||(o[c]=[]);for(var h=0,d=l[c];h<d.length;h++){var p=d[h];H.isIRange(p.range)&&H.containsPosition(p.range,e[c])&&o[c].push(H.lift(p.range))}}},Oo))}return Promise.all(i).then(function(){return o.map(function(l){if(l.length===0)return[];l.sort(function(A,T){return ee.isBefore(A.getStartPosition(),T.getStartPosition())?1:ee.isBefore(T.getStartPosition(),A.getStartPosition())||ee.isBefore(A.getEndPosition(),T.getEndPosition())?-1:ee.isBefore(T.getEndPosition(),A.getEndPosition())?1:0});for(var c=[],h,d=0,p=l;d<p.length;d++){var v=p[d];(!h||H.containsRange(v,h)&&!H.equalsRange(v,h))&&(c.push(v),h=v)}for(var m=[c[0]],_=1;_<c.length;_++){var b=c[_-1],C=c[_];if(C.startLineNumber!==b.startLineNumber||C.endLineNumber!==b.endLineNumber){var E=new H(b.startLineNumber,n.getLineFirstNonWhitespaceColumn(b.startLineNumber),b.endLineNumber,n.getLineLastNonWhitespaceColumn(b.endLineNumber));E.containsRange(b)&&!E.equalsRange(b)&&C.containsRange(E)&&!C.equalsRange(E)&&m.push(E);var S=new H(b.startLineNumber,1,b.endLineNumber,n.getLineMaxColumn(b.endLineNumber));S.containsRange(b)&&!S.equalsRange(E)&&C.containsRange(S)&&!C.equalsRange(S)&&m.push(S)}m.push(C)}return m})})}Mu("_executeSelectionRangeProvider",function(n,e,t){return doe(n,t.positions,rn.None)});var dWe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},pWe=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},gWe=void 0,$n={Visible:new Ke("suggestWidgetVisible",!1),MultipleSuggestions:new Ke("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new Ke("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new Ke("acceptSuggestionOnEnter",!0)},vWe=function(){function n(e,t,r,i,o){this.position=e,this.completion=t,this.container=r,this.provider=i,this.score=Eu.Default,this.distance=0,this.labelLow=t.label.toLowerCase(),this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase();var s=i.resolveCompletionItem;if(typeof s!="function")this.resolve=function(){return Promise.resolve()};else{var a;this.resolve=function(u){if(!a){var l=!1;a=Promise.resolve(s.call(i,o,e,t,u)).then(function(c){HTe(t,c),l=!0},function(c){cC(c)&&(a=void 0)}),u.onCancellationRequested(function(){l||(a=void 0)})}return a}}}return n}(),poe=function(){function n(e,t,r){e===void 0&&(e=2),t===void 0&&(t=new Set),r===void 0&&(r=new Set),this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=r}return n.default=new n,n}(),zS;function mWe(){return zS}function goe(n,e,t,r,i){t===void 0&&(t=poe.default),r===void 0&&(r={triggerKind:0}),i===void 0&&(i=rn.None);var o=n.getWordUntilPosition(e),s=new H(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn);e=e.clone();var a=cl.orderedGroups(n);!t.kindFilter.has(25)&&zS&&a.unshift([zS]);var u=[],l=new Be,c=!1,h=a.map(function(p){return function(){return Promise.all(p.map(function(v){if(!(t.providerFilter.size>0&&!t.providerFilter.has(v)))return Promise.resolve(v.provideCompletionItems(n,e,r,i)).then(function(m){var _=u.length;if(m){for(var b=0,C=m.suggestions||[];b<C.length;b++){var E=C[b];t.kindFilter.has(E.kind)||(E.range||(E.range=s),u.push(new vWe(e,E,m,v,n)))}r2(m)&&l.add(m)}_!==u.length&&v!==zS&&(c=!0)},Oo)}))}}),d=d6(h,function(){return c||i.isCancellationRequested}).then(function(){return i.isCancellationRequested?(l.dispose(),Promise.reject(fC())):u.sort(voe(t.snippetSortOrder))});return d}function MB(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.completion.label<e.completion.label?-1:n.completion.label>e.completion.label?1:n.completion.kind-e.completion.kind}function _We(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===25)return-1;if(e.completion.kind===25)return 1}return MB(n,e)}function yWe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===25)return 1;if(e.completion.kind===25)return-1}return MB(n,e)}var K2=new Map;K2.set(0,_We);K2.set(2,yWe);K2.set(1,MB);function voe(n){return K2.get(n)}Mu("_executeCompletionItemProvider",function(n,e,t){return dWe(gWe,void 0,void 0,function(){var r,i,o,s,a,u,l,c;return pWe(this,function(h){switch(h.label){case 0:return r={incomplete:!1,suggestions:[]},i=new Be,o=[],s=t.maxItemsToResolve||0,[4,goe(n,e)];case 1:for(a=h.sent(),u=0,l=a;u<l.length;u++)c=l[u],o.length<s&&o.push(c.resolve(rn.None)),r.incomplete=r.incomplete||c.container.incomplete,r.suggestions.push(c.completion),r2(c.container)&&i.add(c.container);h.label=2;case 2:return h.trys.push([2,,4,5]),[4,Promise.all(o)];case 3:return h.sent(),[2,r];case 4:return setTimeout(function(){return i.dispose()},100),[7];case 5:return[2]}})})});var A3=new(function(){function n(){this.onlyOnceSuggestions=[]}return n.prototype.provideCompletionItems=function(){var e=this.onlyOnceSuggestions.slice(0),t={suggestions:e};return this.onlyOnceSuggestions.length=0,t},n}());cl.register("*",A3);function bWe(n,e){setTimeout(function(){var t;(t=A3.onlyOnceSuggestions).push.apply(t,e),n.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(A3))},0)}var jh=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zs,CWe=function(){function n(){this.value="",this.pos=0}return n.isDigitCharacter=function(e){return e>=48&&e<=57},n.isVariableCharacter=function(e){return e===95||e>=97&&e<=122||e>=65&&e<=90},n.prototype.text=function(e){this.value=e,this.pos=0},n.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},n.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var e=this.pos,t=0,r=this.value.charCodeAt(e),i;if(i=n._table[r],typeof i=="number")return this.pos+=1,{type:i,pos:e,len:1};if(n.isDigitCharacter(r)){i=8;do t+=1,r=this.value.charCodeAt(e+t);while(n.isDigitCharacter(r));return this.pos+=t,{type:i,pos:e,len:t}}if(n.isVariableCharacter(r)){i=9;do r=this.value.charCodeAt(e+ ++t);while(n.isVariableCharacter(r)||n.isDigitCharacter(r));return this.pos+=t,{type:i,pos:e,len:t}}i=10;do t+=1,r=this.value.charCodeAt(e+t);while(!isNaN(r)&&typeof n._table[r]>"u"&&!n.isDigitCharacter(r)&&!n.isVariableCharacter(r));return this.pos+=t,{type:i,pos:e,len:t}},n._table=(zs={},zs[36]=0,zs[58]=1,zs[44]=2,zs[123]=3,zs[125]=4,zs[92]=5,zs[47]=6,zs[124]=7,zs[43]=11,zs[45]=12,zs[63]=13,zs),n}(),$_=function(){function n(){this._children=[]}return n.prototype.appendChild=function(e){return e instanceof ea&&this._children[this._children.length-1]instanceof ea?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},n.prototype.replace=function(e,t){var r=e.parent,i=r.children.indexOf(e),o=r.children.slice(0);o.splice.apply(o,[i,1].concat(t)),r._children=o,function s(a,u){for(var l=0,c=a;l<c.length;l++){var h=c[l];h.parent=u,s(h.children,h)}}(t,r)},Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"snippet",{get:function(){for(var e=this;;){if(!e)return;if(e instanceof _oe)return e;e=e.parent}},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.children.reduce(function(e,t){return e+t.toString()},"")},n.prototype.len=function(){return 0},n}(),ea=function(n){jh(e,n);function e(t){var r=n.call(this)||this;return r.value=t,r}return e.prototype.toString=function(){return this.value},e.prototype.len=function(){return this.value.length},e.prototype.clone=function(){return new e(this.value)},e}($_),moe=function(n){jh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}($_),ol=function(n){jh(e,n);function e(t){var r=n.call(this)||this;return r.index=t,r}return e.compareByIndex=function(t,r){return t.index===r.index?0:t.isFinalTabstop?1:r.isFinalTabstop||t.index<r.index?-1:t.index>r.index?1:0},Object.defineProperty(e.prototype,"isFinalTabstop",{get:function(){return this.index===0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this._children.length===1&&this._children[0]instanceof FB?this._children[0]:void 0},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(r){return r.clone()}),t},e}(moe),FB=function(n){jh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=[],t}return e.prototype.appendChild=function(t){return t instanceof ea&&(t.parent=this,this.options.push(t)),this},e.prototype.toString=function(){return this.options[0].value},e.prototype.len=function(){return this.options[0].len()},e.prototype.clone=function(){var t=new e;return this.options.forEach(t.appendChild,t),t},e}($_),wWe=function(n){jh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.regexp=new RegExp(""),t}return e.prototype.resolve=function(t){var r=this,i=!1,o=t.replace(this.regexp,function(){return i=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(function(s){return s instanceof hc&&!!s.elseValue})&&(o=this._replace([])),o},e.prototype._replace=function(t){for(var r="",i=0,o=this._children;i<o.length;i++){var s=o[i];if(s instanceof hc){var a=t[s.index]||"";a=s.resolve(a),r+=a}else r+=s.toString()}return r},e.prototype.toString=function(){return""},e.prototype.clone=function(){var t=new e;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(function(r){return r.clone()}),t},e}($_),hc=function(n){jh(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.index=t,s.shorthandName=r,s.ifValue=i,s.elseValue=o,s}return e.prototype.resolve=function(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":t&&typeof this.ifValue=="string"?this.ifValue:!t&&typeof this.elseValue=="string"?this.elseValue:t||""},e.prototype._toPascalCase=function(t){var r=t.match(/[a-z]+/gi);return r?r.map(function(i){return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}).join(""):t},e.prototype.clone=function(){var t=new e(this.index,this.shorthandName,this.ifValue,this.elseValue);return t},e}($_),I3=function(n){jh(e,n);function e(t){var r=n.call(this)||this;return r.name=t,r}return e.prototype.resolve=function(t){var r=t.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new ea(r)],!0):!1},e.prototype.clone=function(){var t=new e(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(r){return r.clone()}),t},e}(moe);function GG(n,e){for(var t=n.slice();t.length>0;){var r=t.shift(),i=e(r);if(!i)break;t.unshift.apply(t,r.children)}}var _oe=function(n){jh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var t=[],r;this.walk(function(i){return i instanceof ol&&(t.push(i),r=!r||r.index<i.index?i:r),!0}),this._placeholders={all:t,last:r}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholders",{get:function(){var t=this.placeholderInfo.all;return t},enumerable:!0,configurable:!0}),e.prototype.offset=function(t){var r=0,i=!1;return this.walk(function(o){return o===t?(i=!0,!1):(r+=o.len(),!0)}),i?r:-1},e.prototype.fullLen=function(t){var r=0;return GG([t],function(i){return r+=i.len(),!0}),r},e.prototype.enclosingPlaceholders=function(t){for(var r=[],i=t.parent;i;)i instanceof ol&&r.push(i),i=i.parent;return r},e.prototype.resolveVariables=function(t){var r=this;return this.walk(function(i){return i instanceof I3&&i.resolve(t)&&(r._placeholders=void 0),!0}),this},e.prototype.appendChild=function(t){return this._placeholders=void 0,n.prototype.appendChild.call(this,t)},e.prototype.replace=function(t,r){return this._placeholders=void 0,n.prototype.replace.call(this,t,r)},e.prototype.clone=function(){var t=new e;return this._children=this.children.map(function(r){return r.clone()}),t},e.prototype.walk=function(t){GG(this.children,t)},e}($_),yoe=function(){function n(){this._scanner=new CWe,this._token={type:14,pos:0,len:0}}return n.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},n.prototype.parse=function(e,t,r){this._scanner.text(e),this._token=this._scanner.next();for(var i=new _oe;this._parse(i););var o=new Map,s=[],a=0;i.walk(function(_){return _ instanceof ol&&(a+=1,_.isFinalTabstop?o.set(0,void 0):!o.has(_.index)&&_.children.length>0?o.set(_.index,_.children):s.push(_)),!0});for(var u=0,l=s;u<l.length;u++){var c=l[u],h=o.get(c.index);if(h){var d=new ol(c.index);d.transform=c.transform;for(var p=0,v=h;p<v.length;p++){var m=v[p];d.appendChild(m.clone())}i.replace(c,[d])}}return r||(r=a>0&&t),!o.has(0)&&r&&i.appendChild(new ol(0)),i},n.prototype._accept=function(e,t){if(e===void 0||this._token.type===e){var r=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),r}return!1},n.prototype._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},n.prototype._until=function(e){if(this._token.type===14)return!1;for(var t="",r=this._token.pos,i={type:14,pos:0,len:0};this._token.type!==e||i.type===5;)if(this._token.type===e&&(t+=this._scanner.value.substring(r,i.pos),r=this._token.pos),i=this._token,this._token=this._scanner.next(),this._token.type===14)return!1;return t+=this._scanner.value.substring(r,this._token.pos),this._token=this._scanner.next(),t},n.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},n.prototype._parseEscaped=function(e){var t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new ea(t)),!0):!1},n.prototype._parseTabstopOrVariableName=function(e){var t,r=this._token,i=this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0));return i?(e.appendChild(/^\d+$/.test(t)?new ol(Number(t)):new I3(t)),!0):this._backTo(r)},n.prototype._parseComplexPlaceholder=function(e){var t,r=this._token,i=this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0));if(!i)return this._backTo(r);var o=new ol(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new ea("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7))for(var s=new FB;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(s),this._accept(4)))return e.appendChild(o),!0}return this._backTo(r),!1}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(r),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(r)},n.prototype._parseChoiceElement=function(e){for(var t=this._token,r=[];!(this._token.type===2||this._token.type===7);){var i=void 0;if((i=this._accept(5,!0))?i=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||i:i=this._accept(void 0,!0),!i)return this._backTo(t),!1;r.push(i)}return r.length===0?(this._backTo(t),!1):(e.appendChild(new ea(r.join(""))),!0)},n.prototype._parseComplexVariable=function(e){var t,r=this._token,i=this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0));if(!i)return this._backTo(r);var o=new I3(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new ea("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(r),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(r)},n.prototype._parseTransform=function(e){for(var t=new wWe,r="",i="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,r+=o;continue}if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){var o=void 0;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new ea(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(r,i)}catch{return!1}return e.transform=t,!0},n.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var r=!1;this._accept(3)&&(r=!0);var i=this._accept(8,!0);if(i)if(r){if(this._accept(4))return e.appendChild(new hc(Number(i))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new hc(Number(i))),!0;else return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new hc(Number(i),o)),!0)}else if(this._accept(11)){var s=this._until(4);if(s)return e.appendChild(new hc(Number(i),void 0,s,void 0)),!0}else if(this._accept(12)){var a=this._until(4);if(a)return e.appendChild(new hc(Number(i),void 0,void 0,a)),!0}else if(this._accept(13)){var s=this._until(1);if(s){var a=this._until(4);if(a)return e.appendChild(new hc(Number(i),void 0,s,a)),!0}}else{var a=this._until(4);if(a)return e.appendChild(new hc(Number(i),void 0,void 0,a)),!0}return this._backTo(t),!1},n.prototype._parseAnything=function(e){return this._token.type!==14?(e.appendChild(new ea(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1},n}(),$G="code-workspace";function EWe(n){return n instanceof Ft}function SWe(n){if(n.configuration)return{configPath:n.configuration,id:n.id};if(n.folders.length===1)return n.folders[0].uri}var TWe=function(){function n(e){this._delegates=e}return n.prototype.resolve=function(e){for(var t=0,r=this._delegates;t<r.length;t++){var i=r[t],o=i.resolve(e);if(o!==void 0)return o}},n}(),DWe=function(){function n(e,t){this._model=e,this._selection=t}return n.prototype.resolve=function(e){var t=e.name;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){var r=this._model.getValueInRange(this._selection)||void 0;if(r&&this._selection.startLineNumber!==this._selection.endLineNumber&&e.snippet){var i=this._model.getLineContent(this._selection.startLineNumber),o=Ln(i,0,this._selection.startColumn-1),s=o;e.snippet.walk(function(l){return l===e?!1:(l instanceof ea&&(s=Ln(l.value.split(/\r\n|\r|\n/).pop())),!0)});var a=C6(s,o);r=r.replace(/(\r\n|\r|\n)(.*)/g,function(l,c,h){return""+c+s.substr(a)+h})}return r}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){var u=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return u&&u.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}},n}(),AWe=function(){function n(e,t){this._labelService=e,this._model=t}return n.prototype.resolve=function(e){var t=e.name;if(t==="TM_FILENAME")return Vp(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){var r=Vp(this._model.uri.fsPath),i=r.lastIndexOf(".");return i<=0?r:r.slice(0,i)}else{if(t==="TM_DIRECTORY"&&this._labelService)return A6(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(I6(this._model.uri));if(t==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri)}},n}(),IWe=function(){function n(e,t,r){this._clipboardText=e,this._selectionIdx=t,this._selectionCount=r}return n.prototype.resolve=function(e){if(e.name==="CLIPBOARD"&&this._clipboardText){var t=this._clipboardText.split(/\r\n|\n|\r/).filter(function(r){return!pee(r)});return t.length===this._selectionCount?t[this._selectionIdx]:this._clipboardText}},n}(),xWe=function(){function n(e){this._model=e}return n.prototype.resolve=function(e){var t=e.name,r=this._model.getLanguageIdentifier(),i=Ot.getComments(r.id);if(i){if(t==="LINE_COMMENT")return i.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return i.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return i.blockCommentEndToken||void 0}},n}(),LWe=function(){function n(){}return n.prototype.resolve=function(e){var t=e.name;if(t==="CURRENT_YEAR")return String(new Date().getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return ny(new Date().getMonth().valueOf()+1,2);if(t==="CURRENT_DATE")return ny(new Date().getDate().valueOf(),2);if(t==="CURRENT_HOUR")return ny(new Date().getHours().valueOf(),2);if(t==="CURRENT_MINUTE")return ny(new Date().getMinutes().valueOf(),2);if(t==="CURRENT_SECOND")return ny(new Date().getSeconds().valueOf(),2);if(t==="CURRENT_DAY_NAME")return n.dayNames[new Date().getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return n.dayNamesShort[new Date().getDay()];if(t==="CURRENT_MONTH_NAME")return n.monthNames[new Date().getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return n.monthNamesShort[new Date().getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))},n.dayNames=[D("Sunday","Sunday"),D("Monday","Monday"),D("Tuesday","Tuesday"),D("Wednesday","Wednesday"),D("Thursday","Thursday"),D("Friday","Friday"),D("Saturday","Saturday")],n.dayNamesShort=[D("SundayShort","Sun"),D("MondayShort","Mon"),D("TuesdayShort","Tue"),D("WednesdayShort","Wed"),D("ThursdayShort","Thu"),D("FridayShort","Fri"),D("SaturdayShort","Sat")],n.monthNames=[D("January","January"),D("February","February"),D("March","March"),D("April","April"),D("May","May"),D("June","June"),D("July","July"),D("August","August"),D("September","September"),D("October","October"),D("November","November"),D("December","December")],n.monthNamesShort=[D("JanuaryShort","Jan"),D("FebruaryShort","Feb"),D("MarchShort","Mar"),D("AprilShort","Apr"),D("MayShort","May"),D("JuneShort","Jun"),D("JulyShort","Jul"),D("AugustShort","Aug"),D("SeptemberShort","Sep"),D("OctoberShort","Oct"),D("NovemberShort","Nov"),D("DecemberShort","Dec")],n}(),NWe=function(){function n(e){this._workspaceService=e}return n.prototype.resolve=function(e){if(!(e.name!=="WORKSPACE_NAME"||!this._workspaceService)){var t=SWe(this._workspaceService.getWorkspace());if(t){if(EWe(t))return Vp(t.path);var r=Vp(t.configPath.path);return Bc(r,$G)&&(r=r.substr(0,r.length-$G.length-1)),r}}},n}();mn(function(n,e){function t(r){var i=n.getColor(r);return i?i.toString():"transparent"}e.addRule(".monaco-editor .snippet-placeholder { background-color: "+t(SOe)+"; outline-color: "+t(TOe)+"; }"),e.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+t(DOe)+"; outline-color: "+t(AOe)+"; }")});var OWe=function(){function n(e,t,r){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=r,this._placeholderGroups=Lj(t.placeholders,ol.compareByIndex),this._placeholderGroupsIdx=-1}return n.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach(function(t){return e.push(t)}),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},n.prototype._initDecorations=function(){var e=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var t=this._editor.getModel();this._editor.changeDecorations(function(r){for(var i=0,o=e._snippet.placeholders;i<o.length;i++){var s=o[i],a=e._snippet.offset(s),u=e._snippet.fullLen(s),l=H.fromPositions(t.getPositionAt(e._offset+a),t.getPositionAt(e._offset+a+u)),c=s.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,h=r.addDecoration(l,c);e._placeholderDecorations.set(s,h)}})}},n.prototype.move=function(e){var t=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var r=[],i=0,o=this._placeholderGroups[this._placeholderGroupsIdx];i<o.length;i++){var s=o[i];if(s.transform){var a=this._placeholderDecorations.get(s),u=this._editor.getModel().getDecorationRange(a),l=this._editor.getModel().getValueInRange(u);r.push(Pr.replaceMove(u,s.transform.resolve(l)))}}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}var c=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,c=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,c=!0);var h=this._editor.getModel().changeDecorations(function(d){for(var p=new Set,v=[],m=0,_=t._placeholderGroups[t._placeholderGroupsIdx];m<_.length;m++){var b=_[m],C=t._placeholderDecorations.get(b),E=t._editor.getModel().getDecorationRange(C);v.push(new Re(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn)),c=c&&t._hasPlaceholderBeenCollapsed(b),d.changeDecorationOptions(C,b.isFinalTabstop?n._decor.activeFinal:n._decor.active),p.add(b);for(var S=0,A=t._snippet.enclosingPlaceholders(b);S<A.length;S++){var T=A[S],N=t._placeholderDecorations.get(T);d.changeDecorationOptions(N,T.isFinalTabstop?n._decor.activeFinal:n._decor.active),p.add(T)}}return t._placeholderDecorations.forEach(function(k,F){p.has(F)||d.changeDecorationOptions(k,F.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive)}),v});return c?this.move(e):h},n.prototype._hasPlaceholderBeenCollapsed=function(e){for(var t=e;t;){if(t instanceof ol){var r=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(r);if(i.isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1},Object.defineProperty(n.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),n.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,r=this._placeholderGroups;t<r.length;t++)for(var i=r[t],o=void 0,s=0,a=i;s<a.length;s++){var u=a[s];if(u.isFinalTabstop)break;o||(o=[],e.set(u.index,o));var l=this._placeholderDecorations.get(u),c=this._editor.getModel().getDecorationRange(l);if(!c){e.delete(u.index);break}o.push(c)}return e},Object.defineProperty(n.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),n.prototype.merge=function(e){var t=this,r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(i){for(var o=0,s=t._placeholderGroups[t._placeholderGroupsIdx];o<s.length;o++){var a=s[o],u=e.shift();console.assert(!u._placeholderDecorations);for(var l=u._snippet.placeholderInfo.last.index,c=0,h=u._snippet.placeholderInfo.all;c<h.length;c++){var d=h[c];d.isFinalTabstop?d.index=a.index+(l+1)/t._nestingLevel:d.index=a.index+d.index/t._nestingLevel}t._snippet.replace(a,u._snippet.children);var p=t._placeholderDecorations.get(a);i.removeDecoration(p),t._placeholderDecorations.delete(a);for(var v=0,m=u._snippet.placeholders;v<m.length;v++){var _=m[v],b=u._snippet.offset(_),C=u._snippet.fullLen(_),E=H.fromPositions(r.getPositionAt(u._offset+b),r.getPositionAt(u._offset+b+C)),S=i.addDecoration(E,n._decor.inactive);t._placeholderDecorations.set(_,S)}}t._placeholderGroups=Lj(t._snippet.placeholders,ol.compareByIndex)})},n._decor={active:mt.register({stickiness:0,className:"snippet-placeholder"}),inactive:mt.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:mt.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:mt.register({stickiness:1,className:"finish-snippet-placeholder"})},n}(),KG={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},kWe=function(){function n(e,t,r){r===void 0&&(r=KG),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=r}return n.adjustWhitespace=function(e,t,r){var i=e.getLineContent(t.lineNumber),o=Ln(i,0,t.column-1);r.walk(function(s){if(s instanceof ea&&!(s.parent instanceof FB)){for(var a=s.value.split(/\r\n|\r|\n/),u=1;u<a.length;u++){var l=Ln(a[u]);a[u]=e.normalizeIndentation(o+l)+a[u].substr(l.length)}var c=a.join(e.getEOL());c!==s.value&&s.parent.replace(s,[new ea(c)])}return!0})},n.adjustSelection=function(e,t,r,i){if(r!==0||i!==0){var o=t.positionLineNumber,s=t.positionColumn,a=s-r,u=s+i,l=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:u});t=Re.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t},n.createEditsAndSnippets=function(e,t,r,i,o,s,a){var u=[],l=[];if(!e.hasModel())return{edits:u,snippets:l};var c=e.getModel(),h=e.invokeWithinContext(function(U){return U.get(Xee,mp)}),d=e.invokeWithinContext(function(U){return new AWe(U.get(O2,mp),c)}),p=e.invokeWithinContext(function(U){return U.get(x2,mp)});a=a||p&&p.readTextSync();for(var v=0,m=c.getValueInRange(n.adjustSelection(c,e.getSelection(),r,0)),_=c.getValueInRange(n.adjustSelection(c,e.getSelection(),0,i)),b=c.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),C=e.getSelections().map(function(U,$){return{selection:U,idx:$}}).sort(function(U,$){return H.compareRangesUsingStarts(U.selection,$.selection)}),E=0,S=C;E<S.length;E++){var A=S[E],T=A.selection,N=A.idx,k=n.adjustSelection(c,T,r,0),F=n.adjustSelection(c,T,0,i);m!==c.getValueInRange(k)&&(k=T),_!==c.getValueInRange(F)&&(F=T);var L=T.setStartPosition(k.startLineNumber,k.startColumn).setEndPosition(F.endLineNumber,F.endColumn),O=new yoe().parse(t,!0,o),P=L.getStartPosition();(s||N>0&&b!==c.getLineFirstNonWhitespaceColumn(T.positionLineNumber))&&n.adjustWhitespace(c,P,O),O.resolveVariables(new TWe([d,new IWe(a,N,C.length),new DWe(c,T),new xWe(c),new LWe,new NWe(h)]));var B=c.getOffsetAt(P)+v;v+=O.toString().length-c.getValueLengthInRange(L),u[N]=Pr.replace(L,O.toString()),l[N]=new OWe(e,O,B)}return{edits:u,snippets:l}},n.prototype.dispose=function(){nt(this._snippets)},n.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},n.prototype.insert=function(){var e=this;if(this._editor.hasModel()){var t=n.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),r=t.edits,i=t.snippets;this._snippets=i,this._editor.executeEdits("snippet",r,function(o){return e._snippets[0].hasPlaceholder?e._move(!0):o.map(function(s){return Re.fromPositions(s.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])}},n.prototype.merge=function(e,t){var r=this;if(t===void 0&&(t=KG),!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);var i=n.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText),o=i.edits,s=i.snippets;this._editor.executeEdits("snippet",o,function(a){for(var u=0,l=r._snippets;u<l.length;u++){var c=l[u];c.merge(s)}return console.assert(s.length===0),r._snippets[0].hasPlaceholder?r._move(void 0):a.map(function(h){return Re.fromPositions(h.range.getEndPosition())})})}},n.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},n.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},n.prototype._move=function(e){for(var t=[],r=0,i=this._snippets;r<i.length;r++){var o=i[r],s=o.move(e);t.push.apply(t,s)}return t},Object.defineProperty(n.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),n.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=new Map,r=function(u){var l=u.computePossibleSelections();if(t.size===0&&l.forEach(function(c,h){c.sort(H.compareRangesUsingStarts);for(var d=0,p=e;d<p.length;d++){var v=p[d];if(c[0].containsRange(v)){t.set(h,[]);break}}}),t.size===0)return{value:!1};t.forEach(function(c,h){c.push.apply(c,l.get(h))})},i=0,o=this._snippets;i<o.length;i++){var s=o[i],a=r(s);if(typeof a=="object")return a.value}return e.sort(H.compareRangesUsingStarts),t.forEach(function(u,l){if(u.length!==e.length){t.delete(l);return}u.sort(H.compareRangesUsingStarts);for(var c=0;c<u.length;c++)if(!u[c].containsRange(e[c])){t.delete(l);return}}),t.size>0},n}(),x3=function(){return x3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},x3.apply(this,arguments)},RWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YG=function(n,e){return function(t,r){e(t,r,n)}},XG={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},ba=function(){function n(e,t,r){this._editor=e,this._logService=t,this._snippetListener=new Be,this._modelVersionId=-1,this._inSnippet=n.InSnippetMode.bindTo(r),this._hasNextTabstop=n.HasNextTabstop.bindTo(r),this._hasPrevTabstop=n.HasPrevTabstop.bindTo(r)}return n.get=function(e){return e.getContribution("snippetController2")},n.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),nt(this._session),this._snippetListener.dispose()},n.prototype.getId=function(){return"snippetController2"},n.prototype.insert=function(e,t){try{this._doInsert(e,typeof t>"u"?XG:x3({},XG,t))}catch(r){this.cancel(),this._logService.error(r),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},n.prototype._doInsert=function(e,t){var r=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new kWe(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(function(i){return i.isFlush&&r.cancel()})),this._snippetListener.add(this._editor.onDidChangeModel(function(){return r.cancel()})),this._snippetListener.add(this._editor.onDidChangeCursorSelection(function(){return r._updateState()})))},n.prototype._updateState=function(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},n.prototype._handleChoice=function(){var e=this;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}var t=this._session.choice;if(!t){this._currentChoice=void 0;return}if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map(function(i){return Re.fromPositions(i.getStartPosition())}));var r=t.options[0];bWe(this._editor,t.options.map(function(i,o){return{kind:13,label:i.value,insertText:i.value,sortText:bAe("a",o+1),range:H.fromPositions(e._editor.getPosition(),e._editor.getPosition().delta(0,r.value.length))}}))}},n.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},n.prototype.cancel=function(e){e===void 0&&(e=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),nt(this._session),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])},n.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},n.prototype.next=function(){this._session&&this._session.next(),this._updateState()},n.prototype.isInSnippet=function(){return!!this._inSnippet.get()},n.InSnippetMode=new Ke("inSnippetMode",!1),n.HasNextTabstop=new Ke("hasNextTabstop",!1),n.HasPrevTabstop=new Ke("hasPrevTabstop",!1),n=RWe([YG(1,H6),YG(2,yt)],n),n}();Cn(ba);var Y2=Po.bindToContribution(ba.get);ce(new Y2({id:"jumpToNextSnippetPlaceholder",precondition:Oe.and(ba.InSnippetMode,ba.HasNextTabstop),handler:function(n){return n.next()},kbOpts:{weight:130,kbExpr:W.editorTextFocus,primary:2}}));ce(new Y2({id:"jumpToPrevSnippetPlaceholder",precondition:Oe.and(ba.InSnippetMode,ba.HasPrevTabstop),handler:function(n){return n.prev()},kbOpts:{weight:130,kbExpr:W.editorTextFocus,primary:1026}}));ce(new Y2({id:"leaveSnippet",precondition:ba.InSnippetMode,handler:function(n){return n.cancel(!0)},kbOpts:{weight:130,kbExpr:W.editorTextFocus,primary:9,secondary:[1033]}}));ce(new Y2({id:"acceptSnippet",precondition:ba.InSnippetMode,handler:function(n){return n.finish()}}));var X2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},QG=function(n,e){return function(t,r){e(t,r,n)}},BB=function(){function n(){}return n.prototype.select=function(e,t,r){if(r.length===0)return 0;for(var i=r[0].score[0],o=1;o<r.length;o++){var s=r[o],a=s.score,u=s.completion;if(a[0]!==i)break;if(u.preselect)return o}return 0},n}(),MWe=function(n){X2(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.memorize=function(t,r,i){},e.prototype.toJSON=function(){},e.prototype.fromJSON=function(){},e}(BB),FWe=function(n){X2(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._cache=new Mm(300,.66),t._seq=0,t}return e.prototype.memorize=function(t,r,i){var o=i.completion.label,s=t.getLanguageIdentifier().language+"/"+o;this._cache.set(s,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})},e.prototype.select=function(t,r,i){if(i.length===0)return 0;var o=t.getLineContent(r.lineNumber).substr(r.column-10,r.column-1);if(/\s$/.test(o))return n.prototype.select.call(this,t,r,i);for(var s=i[0].score[0],a=-1,u=-1,l=-1,c=0;c<i.length&&i[c].score[0]===s;c++){var h=t.getLanguageIdentifier().language+"/"+i[c].completion.label,d=this._cache.peek(h);if(d&&d.touch>l&&d.type===i[c].completion.kind&&d.insertText===i[c].completion.insertText&&(l=d.touch,u=c),i[c].completion.preselect&&a===-1)return a=c}return u!==-1?u:a!==-1?a:0},e.prototype.toJSON=function(){var t=[];return this._cache.forEach(function(r,i){t.push([i,r])}),t},e.prototype.fromJSON=function(t){this._cache.clear();for(var r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=s[0],u=s[1];u.touch=r,u.type=typeof u.type=="number"?u.type:R6(u.type),this._cache.set(a,u)}this._seq=this._cache.size},e}(BB),BWe=function(n){X2(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._trie=AM.forStrings(),t._seq=0,t}return e.prototype.memorize=function(t,r,i){var o=t.getWordUntilPosition(r).word,s=t.getLanguageIdentifier().language+"/"+o;this._trie.set(s,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})},e.prototype.select=function(t,r,i){var o=t.getWordUntilPosition(r).word;if(!o)return n.prototype.select.call(this,t,r,i);var s=t.getLanguageIdentifier().language+"/"+o,a=this._trie.get(s);if(a||(a=this._trie.findSubstr(s)),a)for(var u=0;u<i.length;u++){var l=i[u].completion,c=l.kind,h=l.insertText;if(c===a.type&&h===a.insertText)return u}return n.prototype.select.call(this,t,r,i)},e.prototype.toJSON=function(){var t=[];return this._trie.forEach(function(r,i){return t.push([i,r])}),t.sort(function(r,i){return-(r[1].touch-i[1].touch)}).forEach(function(r,i){return r[1].touch=i}),t.slice(0,200)},e.prototype.fromJSON=function(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(var r=0,i=t;r<i.length;r++){var o=i[r],s=o[0],a=o[1];a.type=typeof a.type=="number"?a.type:R6(a.type),this._trie.set(s,a)}}},e}(BB),HWe=function(n){X2(e,n);function e(t,r){var i=n.call(this)||this;i._storageService=t,i._configService=r,i._storagePrefix="suggest/memories";var o=function(){var s=i._configService.getValue("editor.suggestSelection"),a=i._configService.getValue("editor.suggest.shareSuggestSelections");i._update(s,a,!1)};return i._persistSoon=i._register(new Hr(function(){return i._saveState()},500)),i._register(t.onWillSaveState(function(s){s.reason===CD.SHUTDOWN&&i._saveState()})),i._register(i._configService.onDidChangeConfiguration(function(s){(s.affectsConfiguration("editor.suggestSelection")||s.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&o()})),i._register(i._storageService.onDidChangeStorage(function(s){s.scope===0&&s.key.indexOf(i._storagePrefix)===0&&(document.hasFocus()||i._update(i._mode,i._shareMem,!0))})),o(),i}return e.prototype._update=function(t,r,i){if(!(!i&&this._mode===t&&this._shareMem===r)){this._shareMem=r,this._mode=t,this._strategy=t==="recentlyUsedByPrefix"?new BWe:t==="recentlyUsed"?new FWe:new MWe;try{var o=r?0:1,s=this._storageService.get(this._storagePrefix+"/"+this._mode,o);s&&this._strategy.fromJSON(JSON.parse(s))}catch{}}},e.prototype.memorize=function(t,r,i){this._strategy.memorize(t,r,i),this._persistSoon.schedule()},e.prototype.select=function(t,r,i){return this._strategy.select(t,r,i)},e.prototype._saveState=function(){var t=JSON.stringify(this._strategy),r=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,t,r)},e=PWe([QG(0,Wh),QG(1,yi)],e),e}(he),boe=qt("ISuggestMemories");EC(boe,HWe,!0);var VWe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},WWe=function(n,e){return function(t,r){e(t,r,n)}},Q2=function(){function n(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=n.OtherSuggestions.bindTo(t)}return n.prototype.dispose=function(){this.reset()},n.prototype.reset=function(){this._ckOtherSuggestions.reset(),nt(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},n.prototype.set=function(e,t){var r=this,i=e.model,o=e.index;if(i.items.length===0){this.reset();return}var s=n._moveIndex(!0,i,o);if(s===o){this.reset();return}this._acceptNext=t,this._model=i,this._index=o,this._listener=this._editor.onDidChangeCursorPosition(function(){r._ignore||r.reset()}),this._ckOtherSuggestions.set(!0)},n._moveIndex=function(e,t,r){for(var i=r;i=(i+t.items.length+(e?1:-1))%t.items.length,!(i===r||!t.items[i].completion.additionalTextEdits););return i},n.prototype.next=function(){this._move(!0)},n.prototype.prev=function(){this._move(!1)},n.prototype._move=function(e){if(this._model)try{this._ignore=!0,this._index=n._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},n.OtherSuggestions=new Ke("hasOtherSuggestions",!1),n=VWe([WWe(1,yt)],n),n}(),UWe=function(){function n(e,t,r,i,o){o===void 0&&(o=Ul.contribInfo.suggest),this._snippetCompareFn=n._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=i,this._options=o,this._refilterKind=1,this._lineContext=r,o.snippets==="top"?this._snippetCompareFn=n._compareCompletionItemsSnippetsUp:o.snippets==="bottom"&&(this._snippetCompareFn=n._compareCompletionItemsSnippetsDown)}return Object.defineProperty(n.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),n.prototype.adopt=function(e){for(var t=new Array,r=0;r<this._items.length;)e.has(this._items[r].provider)?r++:(t.push(this._items[r]),this._items[r]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t},Object.defineProperty(n.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),n.prototype._ensureCachedState=function(){this._refilterKind!==0&&this._createCachedState()},n.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,r=e.characterCountDelta,i="",o="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],u=!this._options.filterGraceful||s.length>2e3?f1:k3e,l=0;l<s.length;l++){var c=s[l];c.container.incomplete&&this._isIncomplete.add(c.provider);var h=c.position.column-c.completion.range.startColumn,d=h+r-(c.position.column-this._column);if(i.length!==d&&(i=d===0?"":t.slice(-d),o=i.toLowerCase()),c.word=i,d===0)c.score=Eu.Default;else{for(var p=0;p<h;){var v=i.charCodeAt(p);if(v===32||v===9)p+=1;else break}if(p>=d)c.score=Eu.Default;else if(typeof c.completion.filterText=="string"){var m=u(i,o,p,c.completion.filterText,c.filterTextLow,0,!1);if(!m)continue;hAe(c.completion.filterText,c.completion.label)===0?c.score=m:(c.score=x3e(i,o,p,c.completion.label,c.labelLow,0),c.score[0]=m[0])}else{var m=u(i,o,p,c.completion.label,c.labelLow,0,!1);if(!m)continue;c.score=m}}switch(c.idx=l,c.distance=this._wordDistance.distance(c.position,c.completion),a.push(c),this._stats.suggestionCount++,c.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++;break}}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0},n._compareCompletionItems=function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},n._compareCompletionItemsSnippetsDown=function(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===25)return 1;if(t.completion.kind===25)return-1}return n._compareCompletionItems(e,t)},n._compareCompletionItemsSnippetsUp=function(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===25)return-1;if(t.completion.kind===25)return 1}return n._compareCompletionItems(e,t)},n}(),ZG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jWe=function(){function n(){}return n.create=function(e,t){if(!t.getConfiguration().contribInfo.suggest.localityBonus||!t.hasModel())return Promise.resolve(n.None);var r=t.getModel(),i=t.getPosition();return e.canComputeWordRanges(r.uri)?new coe().provideSelectionRanges(r,[i]).then(function(o){return!o||o.length===0||o[0].length===0?n.None:e.computeWordRanges(r.uri,o[0][0].range).then(function(s){return new(function(a){ZG(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.prototype.distance=function(l,c){if(!s||!i.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;var h=c.label,d=s[h];if(s6(d))return 2<<20;for(var p=e2(d,H.fromPositions(l),H.compareRangesUsingStarts),v=p>=0?d[p]:d[Math.max(0,~p-1)],m=o.length,_=0,b=o[0];_<b.length;_++){var C=b[_];if(!H.containsRange(C.range,v))break;m-=1}return m},u}(n))})}):Promise.resolve(n.None)},n.None=new(function(e){ZG(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.distance=function(){return 0},t}(n)),n}(),by=function(){function n(e,t,r,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=r,this.shy=i}return n.shouldAutoTrigger=function(e){if(!e.hasModel())return!1;var t=e.getModel(),r=e.getPosition();t.tokenizeIfCheap(r.lineNumber);var i=t.getWordAtPosition(r);return!(!i||i.endColumn!==r.column||!isNaN(Number(i.word)))},n}(),qWe=function(){function n(e,t){var r=this;this._editor=e,this._editorWorker=t,this._toDispose=new Be,this._quickSuggestDelay=10,this._triggerQuickSuggest=new Fs,this._state=0,this._completionDisposables=new Be,this._onDidCancel=new Q,this._onDidTrigger=new Q,this._onDidSuggest=new Q,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new Re(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(function(){r._updateTriggerCharacters(),r.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(function(){r._updateTriggerCharacters(),r.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(function(){r._updateTriggerCharacters(),r._updateQuickSuggest()})),this._toDispose.add(cl.onDidChange(function(){r._updateTriggerCharacters(),r._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(function(o){r._onCursorChange(o)}));var i=!1;this._toDispose.add(this._editor.onCompositionStart(function(){i=!0})),this._toDispose.add(this._editor.onCompositionEnd(function(){i=!1,r._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(function(){i||r._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}return n.prototype.dispose=function(){nt(this._triggerCharacterListener),nt([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},n.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},n.prototype._updateTriggerCharacters=function(){var e=this;if(nt(this._triggerCharacterListener),!(this._editor.getConfiguration().readOnly||!this._editor.hasModel()||!this._editor.getConfiguration().contribInfo.suggestOnTriggerCharacters)){for(var t=Object.create(null),r=0,i=cl.all(this._editor.getModel());r<i.length;r++)for(var o=i[r],s=0,a=o.triggerCharacters||[];s<a.length;s++){var u=a[s],l=t[u];l||(l=t[u]=new Set,l.add(mWe())),l.add(o)}this._triggerCharacterListener=this._editor.onDidType(function(c){var h=c.charAt(c.length-1),d=t[h];if(d){var p=e._completionModel?e._completionModel.adopt(d):void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:h},!!e._completionModel,d,p)}})}},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),n.prototype.cancel=function(e){e===void 0&&(e=!1),this._state!==0&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))},n.prototype.clear=function(){this._completionDisposables.clear()},n.prototype._updateActiveSuggestSession=function(){this._state!==0&&(!this._editor.hasModel()||!cl.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))},n.prototype._onCursorChange=function(e){var t=this;if(this._editor.hasModel()){var r=this._editor.getModel(),i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0||e.source!=="keyboard"&&e.source!=="deleteLeft"){this._state!==0&&this.cancel();return}if(cl.has(r)&&this._state===0){if(this._editor.getConfiguration().contribInfo.quickSuggestions===!1||!i.containsRange(this._currentSelection)&&!i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getConfiguration().contribInfo.suggest.snippetsPreventQuickSuggestions&&ba.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(t._state===0&&by.shouldAutoTrigger(t._editor)&&t._editor.hasModel()){var o=t._editor.getModel(),s=t._editor.getPosition(),a=t._editor.getConfiguration().contribInfo.quickSuggestions;if(a!==!1){if(a!==!0){o.tokenizeIfCheap(s.lineNumber);var u=o.getLineTokens(s.lineNumber),l=u.getStandardTokenType(u.findTokenIndexAtOffset(Math.max(s.column-1-1,0))),c=a.other&&l===0||a.comments&&l===1||a.strings&&l===2;if(!c)return}t.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}}},n.prototype._refilterCompletionItems=function(){var e=this;Promise.resolve().then(function(){if(e._state!==0&&e._editor.hasModel()){var t=e._editor.getModel(),r=e._editor.getPosition(),i=new by(t,r,e._state===2,!1);e._onNewContext(i)}})},n.prototype.trigger=function(e,t,r,i){var o=this;if(t===void 0&&(t=!1),!!this._editor.hasModel()){var s=this._editor.getModel(),a=e.auto,u=new by(s,this._editor.getPosition(),a,e.shy);this.cancel(t),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:e.shy,position:this._editor.getPosition()}),this._context=u;var l;e.triggerCharacter?l={triggerKind:1,triggerCharacter:e.triggerCharacter}:r&&r.size>0?l={triggerKind:2}:l={triggerKind:0},this._requestToken=new Hp;var c=this._editor.getConfiguration().contribInfo,h=new Set,d=1;switch(c.suggest.snippets){case"top":d=0;break;case"bottom":d=2;break;case"none":h.add(25);break}for(var p in c.suggest.filteredTypes){var v=R6(p,!0);typeof v<"u"&&c.suggest.filteredTypes[p]===!1&&h.add(v)}var m=jWe.create(this._editorWorker,this._editor),_=goe(s,this._editor.getPosition(),new poe(d,h,r),l,this._requestToken.token);Promise.all([_,m]).then(function(b){var C=b[0],E=b[1];if(nt(o._requestToken),o._state!==0&&o._editor.hasModel()){var S=o._editor.getModel();if(cs(i)){var A=voe(d);C=C.concat(i).sort(A)}var T=new by(S,o._editor.getPosition(),a,e.shy);o._completionModel=new UWe(C,o._context.column,{leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-o._context.column},E,o._editor.getConfiguration().contribInfo.suggest);for(var N=0,k=C;N<k.length;N++){var F=k[N];r2(F.container)&&o._completionDisposables.add(F.container)}o._onNewContext(T)}}).catch(He)}},n.prototype._onNewContext=function(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(e.leadingWord.startColumn<this._context.leadingWord.startColumn){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel)if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){var t=this._completionModel.incomplete,r=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1},!0,t,r)}else{var i=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(by.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=i,o=this._completionModel.items.length>0,o&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}},n}(),Ec;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(Ec||(Ec={}));function nS(n,e,t,r){var i=r===Ec.ROOT_FOLDER?["rootfolder-icon"]:r===Ec.FOLDER?["folder-icon"]:["file-icon"];if(t){var o;if(t.scheme===Tn.data){var s=Th.parseMetaData(t);o=s.get(Th.META_DATA_LABEL)}else o=JG(Dee(t).toLowerCase());if(r===Ec.FOLDER)i.push(o+"-name-folder-icon");else{if(o){i.push(o+"-name-file-icon");for(var a=o.split("."),u=1;u<a.length;u++)i.push(a.slice(u).join(".")+"-ext-file-icon");i.push("ext-file-icon")}var l=zWe(n,e,t);l&&i.push(JG(l)+"-lang-file-icon")}}return i}function zWe(n,e,t){if(!t)return null;var r=null;if(t.scheme===Tn.data){var i=Th.parseMetaData(t),o=i.get(Th.META_DATA_MIME);o&&(r=e.getModeId(o))}else{var s=n.getModel(t);s&&(r=s.getModeId())}return r&&r!==L5?r:e.getModeIdByFilepathOrFirstLine(t)}function JG(n){return n.replace(/\s/g,"\\$&")}var L3=function(){return L3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},L3.apply(this,arguments)},Coe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cu=function(n,e){return function(t,r){e(t,r,n)}},GWe=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},$We=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},KWe=!1,YWe=oe("editorSuggestWidget.background",{dark:yl,light:yl,hc:yl},D("editorSuggestWidgetBackground","Background color of the suggest widget.")),XWe=oe("editorSuggestWidget.border",{dark:Tp,light:Tp,hc:Tp},D("editorSuggestWidgetBorder","Border color of the suggest widget.")),QWe=oe("editorSuggestWidget.foreground",{dark:ch,light:ch,hc:ch},D("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),ZWe=oe("editorSuggestWidget.selectedBackground",{dark:wp,light:wp,hc:wp},D("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),JWe=oe("editorSuggestWidget.highlightForeground",{dark:nk,light:nk,hc:nk},D("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),e$=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function eUe(n,e){return n.completion.label.match(e$)?(e[0]=n.completion.label,!0):typeof n.completion.documentation=="string"&&n.completion.documentation.match(e$)?(e[0]=n.completion.documentation,!0):!1}function cb(n){if(!n)return!1;var e=n.completion;return e.documentation?!0:e.detail&&e.detail!==e.label}var tUe=function(){function n(e,t,r,i,o,s){this.widget=e,this.editor=t,this.triggerKeybindingLabel=r,this._modelService=i,this._modeService=o,this._themeService=s}return Object.defineProperty(n.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),n.prototype.renderTemplate=function(e){var t=this,r=Object.create(null);r.disposables=new Be,r.root=e,De(r.root,"show-file-icons"),r.icon=Ee(e,We(".icon")),r.colorspan=Ee(r.icon,We("span.colorspan"));var i=Ee(e,We(".contents")),o=Ee(i,We(".main"));r.iconLabel=new bB(o,{supportHighlights:!0,supportOcticons:!0}),r.disposables.add(r.iconLabel),r.typeLabel=Ee(o,We("span.type-label")),r.readMore=Ee(o,We("span.readMore")),r.readMore.title=D("readMore","Read More...{0}",this.triggerKeybindingLabel);var s=function(){var a=t.editor.getConfiguration(),u=a.fontInfo.fontFamily,l=a.contribInfo.suggestFontSize||a.fontInfo.fontSize,c=a.contribInfo.suggestLineHeight||a.fontInfo.lineHeight,h=a.fontInfo.fontWeight,d=l+"px",p=c+"px";r.root.style.fontSize=d,r.root.style.fontWeight=h,o.style.fontFamily=u,o.style.lineHeight=p,r.icon.style.height=p,r.icon.style.width=p,r.readMore.style.height=p,r.readMore.style.width=p};return s(),r.disposables.add(Ze.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(a){return a.fontInfo||a.contribInfo}).on(s,null)),r},n.prototype.renderElement=function(e,t,r){var i=this,o=r,s=e.completion;o.icon.className="icon "+iq(s.kind),o.colorspan.style.backgroundColor="";var a={labelEscapeNewLines:!0,matches:M5(e.score)},u=[];s.kind===19&&eUe(e,u)?(o.icon.className="icon customcolor",o.colorspan.style.backgroundColor=u[0]):s.kind===20&&this._themeService.getIconTheme().hasFileIcons?(o.icon.className="icon hide",a.extraClasses=qb([nS(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.label}),Ec.FILE),nS(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.detail}),Ec.FILE)])):s.kind===23&&this._themeService.getIconTheme().hasFolderIcons?(o.icon.className="icon hide",a.extraClasses=qb([nS(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.label}),Ec.FOLDER),nS(this._modelService,this._modeService,Ft.from({scheme:"fake",path:s.detail}),Ec.FOLDER)])):(o.icon.className="icon hide",a.extraClasses=["suggest-icon "+iq(s.kind)]),s.tags&&s.tags.indexOf(1)>=0&&(a.extraClasses=(a.extraClasses||[]).concat(["deprecated"]),a.matches=[]),o.iconLabel.setLabel(s.label,void 0,a),o.typeLabel.textContent=(s.detail||"").replace(/\n.*$/m,""),cb(e)?(Li(o.readMore),o.readMore.onmousedown=function(l){l.stopPropagation(),l.preventDefault()},o.readMore.onclick=function(l){l.stopPropagation(),l.preventDefault(),i.widget.toggleDetails()}):(Kr(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)},n.prototype.disposeTemplate=function(e){e.disposables.dispose()},n=Coe([cu(3,ps),cu(4,Vh),cu(5,ei)],n),n}(),nUe=function(){function n(e,t,r,i,o){var s=this;this.widget=t,this.editor=r,this.markdownRenderer=i,this.triggerKeybindingLabel=o,this.borderWidth=1,this.disposables=new Be,this.el=Ee(e,We(".details")),this.disposables.add(bn(function(){return e.removeChild(s.el)})),this.body=We(".body"),this.scrollbar=new bC(this.body,{}),Ee(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Ee(this.body,We(".header")),this.close=Ee(this.header,We("span.close")),this.close.title=D("readLess","Read less...{0}",this.triggerKeybindingLabel),this.type=Ee(this.header,We("p.type")),this.docs=Ee(this.body,We("p.docs")),this.ariaLabel=null,this.configureFont(),Ze.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(a){return a.fontInfo}).on(this.configureFont,this,this.disposables),i.onDidRenderCodeBlock(function(){return s.scrollbar.scanDomNode()},this,this.disposables)}return Object.defineProperty(n.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),n.prototype.renderLoading=function(){this.type.textContent=D("loading","Loading..."),this.docs.textContent=""},n.prototype.renderItem=function(e,t){var r=this;this.renderDisposeable=nt(this.renderDisposeable);var i=e.completion,o=i.documentation,s=i.detail;if(t){var a="";a+="score: "+e.score[0]+(e.word?", compared '"+(e.completion.filterText&&e.completion.filterText+" (filterText)"||e.completion.label)+"' with '"+e.word+"'":" (no prefix)")+`
`,a+="distance: "+e.distance+`, see localityBonus-setting
`,a+="index: "+e.idx+", based on "+(e.completion.sortText&&'sortText: "'+e.completion.sortText+'"'||"label")+`
`,o=new zp().appendCodeblock("empty",a),s="Provider: "+e.provider._debugDisplayName}if(!t&&!cb(e)){this.type.textContent="",this.docs.textContent="",De(this.el,"no-docs"),this.ariaLabel=null;return}if(st(this.el,"no-docs"),typeof o=="string")st(this.docs,"markdown-docs"),this.docs.textContent=o;else{De(this.docs,"markdown-docs"),this.docs.innerHTML="";var u=this.markdownRenderer.render(o);this.renderDisposeable=u,this.docs.appendChild(u.element)}s?(this.type.innerText=s,Li(this.type)):(this.type.innerText="",Kr(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+this.borderWidth*2+"px",this.close.onmousedown=function(l){l.preventDefault(),l.stopPropagation()},this.close.onclick=function(l){l.preventDefault(),l.stopPropagation(),r.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=Yt("{0}{1}",s||"",o?typeof o=="string"?o:o.value:"")},n.prototype.getAriaLabel=function(){return this.ariaLabel},n.prototype.scrollDown=function(e){e===void 0&&(e=8),this.body.scrollTop+=e},n.prototype.scrollUp=function(e){e===void 0&&(e=8),this.body.scrollTop-=e},n.prototype.scrollTop=function(){this.body.scrollTop=0},n.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},n.prototype.pageDown=function(){this.scrollDown(80)},n.prototype.pageUp=function(){this.scrollUp(80)},n.prototype.setBorderWidth=function(e){this.borderWidth=e},n.prototype.configureFont=function(){var e=this.editor.getConfiguration(),t=e.fontInfo.fontFamily,r=e.contribInfo.suggestFontSize||e.fontInfo.fontSize,i=e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight,o=e.fontInfo.fontWeight,s=r+"px",a=i+"px";this.el.style.fontSize=s,this.el.style.fontWeight=o,this.type.style.fontFamily=t,this.close.style.height=a,this.close.style.width=a},n.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=nt(this.renderDisposeable)},n}(),rUe=function(){function n(e,t,r,i,o,s,a,u,l){var c=this;this.editor=e,this.telemetryService=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.state=null,this.isAuto=!1,this.loadingTimeout=he.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new Fs,this.toDispose=new Be,this.onDidSelectEmitter=new Q,this.onDidFocusEmitter=new Q,this.onDidHideEmitter=new Q,this.onDidShowEmitter=new Q,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._lastAriaAlertLabel=null;var h=s.lookupKeybinding("editor.action.triggerSuggest"),d=h?" ("+h.getLabel()+")":"",p=this.toDispose.add(new $2(e,a,u));this.isAuto=!1,this.focusedItem=null,this.storageService=o,this.element=We(".editor-widget.suggest-widget"),this.toDispose.add(ye(this.element,"click",function(_){_.target===c.element&&c.hideWidget()})),this.messageElement=Ee(this.element,We(".message")),this.listElement=Ee(this.element,We(".tree")),this.details=l.createInstance(nUe,this.element,this,this.editor,p,d);var v=function(){return Rt(c.element,"no-icons",!c.editor.getConfiguration().contribInfo.suggest.showIcons)};v();var m=l.createInstance(tUe,this,this.editor,d);this.list=new nre(this.listElement,this,[m],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1}),this.toDispose.add(One(this.list,i,{listInactiveFocusBackground:ZWe,listInactiveFocusOutline:Mi})),this.toDispose.add(i.onThemeChange(function(_){return c.onThemeChange(_)})),this.toDispose.add(e.onDidLayoutChange(function(){return c.onEditorLayoutChange()})),this.toDispose.add(this.list.onMouseDown(function(_){return c.onListMouseDown(_)})),this.toDispose.add(this.list.onSelectionChange(function(_){return c.onListSelection(_)})),this.toDispose.add(this.list.onFocusChange(function(_){return c.onListFocus(_)})),this.toDispose.add(this.editor.onDidChangeCursorSelection(function(){return c.onCursorSelectionChanged()})),this.toDispose.add(this.editor.onDidChangeConfiguration(function(_){return _.contribInfo&&v()})),this.suggestWidgetVisible=$n.Visible.bindTo(r),this.suggestWidgetMultipleSuggestions=$n.MultipleSuggestions.bindTo(r),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(i.getTheme())}return n.prototype.onCursorSelectionChanged=function(){this.state!==0&&this.editor.layoutContentWidget(this)},n.prototype.onEditorLayoutChange=function(){(this.state===3||this.state===5)&&this.expandDocsSettingFromStorage()&&this.expandSideOrBelow()},n.prototype.onListMouseDown=function(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))},n.prototype.onListSelection=function(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])},n.prototype.select=function(e,t){var r=this.completionModel;r&&(this.onDidSelectEmitter.fire({item:e,index:t,model:r}),this.editor.focus())},n.prototype._getSuggestionAriaAlertLabel=function(e){return this.expandDocsSettingFromStorage()?D("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",e.completion.label,this.details.getAriaLabel()):e.completion.label},n.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&Ki(this._lastAriaAlertLabel,!0))},n.prototype.onThemeChange=function(e){var t=e.getColor(YWe);t&&(this.listElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());var r=e.getColor(XWe);r&&(this.listElement.style.borderColor=r.toString(),this.details.element.style.borderColor=r.toString(),this.messageElement.style.borderColor=r.toString(),this.detailsBorderColor=r.toString());var i=e.getColor(jm);i&&(this.detailsFocusBorderColor=i.toString()),this.details.setBorderWidth(e.type==="hc"?2:1)},n.prototype.onListFocus=function(e){var t=this;if(!this.ignoreFocusEvents){if(!e.elements.length){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),this._ariaAlert(null);return}if(this.completionModel){var r=e.elements[0],i=e.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,r!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=r,this.list.reveal(i),this.currentSuggestionDetails=Qr(function(o){return GWe(t,void 0,void 0,function(){var s,a,u=this;return $We(this,function(l){switch(l.label){case 0:return s=Pm(function(){return u.showDetails(!0)},250),o.onCancellationRequested(function(){return s.dispose()}),[4,r.resolve(o)];case 1:return a=l.sent(),s.dispose(),[2,a]}})})}),this.currentSuggestionDetails.then(function(){i>=t.list.length||r!==t.list.element(i)||(t.ignoreFocusEvents=!0,t.list.splice(i,1,[r]),t.list.setFocus([i]),t.ignoreFocusEvents=!1,t.expandDocsSettingFromStorage()?t.showDetails(!1):st(t.element,"docs-side"),t._ariaAlert(t._getSuggestionAriaAlertLabel(r)))}).catch(He)),this.onDidFocusEmitter.fire({item:r,index:i,model:this.completionModel})}}},n.prototype.setState=function(e){if(this.element){var t=this.state!==e;switch(this.state=e,Rt(this.element,"frozen",e===4),e){case 0:Kr(this.messageElement,this.details.element,this.listElement),this.hide(),this.listHeight=0,t&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=n.LOADING_MESSAGE,Kr(this.listElement,this.details.element),Li(this.messageElement),st(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=n.NO_SUGGESTIONS_MESSAGE,Kr(this.listElement,this.details.element),Li(this.messageElement),st(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:Kr(this.messageElement),Li(this.listElement),this.show();break;case 4:Kr(this.messageElement),Li(this.listElement),this.show();break;case 5:Kr(this.messageElement),Li(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel());break}}},n.prototype.showTriggered=function(e,t){var r=this;this.state===0&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=Pm(function(){return r.setState(1)},t)))},n.prototype.showSuggestions=function(e,t,r,i){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==e&&(this.completionModel=e),r&&this.state!==2&&this.state!==0){this.setState(4);return}var o=this.completionModel.items.length,s=o===0;if(this.suggestWidgetMultipleSuggestions.set(o>1),s)i?this.setState(0):this.setState(2),this.completionModel=null;else{if(this.state!==3){var a=this.completionModel.stats;a.wasAutomaticallyTriggered=!!i,this.telemetryService.publicLog("suggestWidget",L3({},a))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),r?this.setState(4):this.setState(3),this.list.reveal(t,0),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}},n.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},n.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},n.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},n.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},n.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},n.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},n.prototype.getFocusedItem=function(){if(this.state!==0&&this.state!==2&&this.state!==1&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},n.prototype.toggleDetailsFocus=function(){this.state===5?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):this.state===3&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},n.prototype.toggleDetails=function(){if(cb(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Kr(this.details.element),st(this.element,"docs-side"),st(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(this.state!==3&&this.state!==5&&this.state!==4)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this._ariaAlert(this.details.getAriaLabel()),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},n.prototype.showDetails=function(e){this.expandSideOrBelow(),Li(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",e?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},n.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},n.prototype.show=function(){var e=this,t=this.updateListHeight();t!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=t),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(function(){De(e.element,"visible"),e.onDidShowEmitter.fire(e)},100)},n.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),st(this.element,"visible")},n.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},n.prototype.getPosition=function(){if(this.state===0)return null;var e=[2,1];return this.preferDocPositionTop&&(e=[1]),{position:this.editor.getPosition(),preference:e}},n.prototype.getDomNode=function(){return this.element},n.prototype.getId=function(){return n.ID},n.prototype.updateListHeight=function(){var e=0;if(this.state===2||this.state===1)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight,r=this.editor.getConfiguration().contribInfo.suggest.maxVisibleSuggestions;e=Math.min(t,r)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.list.layout(e),e},n.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var e=this.editor.getConfiguration().fontInfo.lineHeight,t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),r=_i(this.editor.getDomNode()),i=r.left+t.left,o=r.top+t.top+t.height,s=_i(this.element),a=s.left,u=s.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<u&&!this.preferDocPositionTop){this.preferDocPositionTop=!0,this.adjustDocsPosition();return}this.docsPositionPreviousWidgetY=u,a<i-this.listWidth?De(this.element,"list-right"):st(this.element,"list-right"),xu(this.element,"docs-side")&&o-e>u&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},n.prototype.expandSideOrBelow=function(){if(!cb(this.focusedItem)&&this.firstFocusInCurrentList){st(this.element,"docs-side"),st(this.element,"docs-below");return}var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(De(this.element,"docs-below"),st(this.element,"docs-side")):cb(this.focusedItem)&&(De(this.element,"docs-side"),st(this.element,"docs-below"))},Object.defineProperty(n.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getConfiguration().contribInfo.suggest.maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getConfiguration();return e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight},enumerable:!0,configurable:!0}),n.prototype.getHeight=function(e){return this.unfocusedHeight},n.prototype.getTemplateId=function(e){return"suggestion"},n.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,KWe)},n.prototype.updateExpandDocsSetting=function(e){this.storageService.store("expandSuggestionDocs",e,0)},n.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},n.ID="editor.widget.suggestWidget",n.LOADING_MESSAGE=D("suggestWidget.loading","Loading..."),n.NO_SUGGESTIONS_MESSAGE=D("suggestWidget.noSuggestions","No suggestions."),n=Coe([cu(1,vC),cu(2,yt),cu(3,ei),cu(4,Wh),cu(5,Dr),cu(6,Vh),cu(7,Ah),cu(8,pr)],n),n}();mn(function(n,e){var t=n.getColor(JWe);t&&e.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+t+"; }");var r=n.getColor(QWe);r&&e.addRule(".monaco-editor .suggest-widget { color: "+r+"; }");var i=n.getColor(b2);i&&e.addRule(".monaco-editor .suggest-widget a { color: "+i+"; }");var o=n.getColor(e5);o&&e.addRule(".monaco-editor .suggest-widget code { background-color: "+o+"; }")});var iUe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oUe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sUe=function(n,e){return function(t,r){e(t,r,n)}},woe=function(n){iUe(e,n);function e(t,r){var i=n.call(this)||this;return i._editor=t,i._enabled=!1,i._ckAtEnd=e.AtEnd.bindTo(r),i._register(i._editor.onDidChangeConfiguration(function(o){return o.contribInfo&&i._update()})),i._update(),i}return e.prototype.dispose=function(){n.prototype.dispose.call(this),nt(this._selectionListener),this._ckAtEnd.reset()},e.prototype._update=function(){var t=this,r=this._editor.getConfiguration().contribInfo.tabCompletion==="on";if(this._enabled!==r)if(this._enabled=r,this._enabled){var i=function(){if(!t._editor.hasModel()){t._ckAtEnd.set(!1);return}var o=t._editor.getModel(),s=t._editor.getSelection(),a=o.getWordAtPosition(s.getStartPosition());if(!a){t._ckAtEnd.set(!1);return}t._ckAtEnd.set(a.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(i),i()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},e.AtEnd=new Ke("atEndOfWord",!1),e=oUe([sUe(1,yt)],e),e}(he),aUe=function(){function n(e,t,r){var i=this;this._disposables=new Be,this._disposables.add(t.onDidShow(function(){return i._onItem(t.getFocusedItem())})),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(function(o){if(i._active){var s=o.charCodeAt(o.length-1);i._active.acceptCharacters.has(s)&&e.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter&&r(i._active.item)}}))}return n.prototype._onItem=function(e){if(!e||!cs(e.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===e.item)){for(var t=new Wv,r=0,i=e.item.completion.commitCharacters;r<i.length;r++){var o=i[r];o.length>0&&t.add(o.charCodeAt(0))}this._active={acceptCharacters:t,item:e}}},n.prototype.reset=function(){this._active=void 0},n.prototype.dispose=function(){this._disposables.dispose()},n}(),uUe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N3=function(){return N3=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},N3.apply(this,arguments)},lUe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cy=function(n,e){return function(t,r){e(t,r,n)}},cUe=function(){function n(e,t){this._model=e,this._position=t;var r=e.getLineMaxColumn(t.lineNumber);if(r!==t.column){var i=e.getOffsetAt(t),o=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:H.fromPositions(t,o),options:{stickiness:1}}])}}return n.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},n.prototype.delta=function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]),r=this._model.getOffsetAt(t.getStartPosition());return r-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column},n}(),HB=function(){function n(e,t,r,i,o,s){var a=this;this._editor=e,this._memoryService=r,this._commandService=i,this._contextKeyService=o,this._instantiationService=s,this._lineSuffix=new Mh,this._toDispose=new Be,this._model=new qWe(this._editor,t),this._widget=new bM(function(){var c=a._instantiationService.createInstance(rUe,a._editor);a._toDispose.add(c),a._toDispose.add(c.onDidSelect(function(p){return a._insertSuggestion(p,!1,!0)},a));var h=new aUe(a._editor,c,function(p){return a._insertSuggestion(p,!1,!0)});a._toDispose.add(h),a._toDispose.add(a._model.onDidSuggest(function(p){p.completionModel.items.length===0&&h.reset()}));var d=$n.MakesTextEdit.bindTo(a._contextKeyService);return a._toDispose.add(c.onDidFocus(function(p){var v=p.item,m=a._editor.getPosition(),_=v.completion.range.startColumn,b=m.column,C=!0;if(a._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter==="smart"&&a._model.state===2&&!v.completion.command&&!v.completion.additionalTextEdits&&!(v.completion.insertTextRules&4)&&b-_===v.completion.insertText.length){var E=a._editor.getModel().getValueInRange({startLineNumber:m.lineNumber,startColumn:_,endLineNumber:m.lineNumber,endColumn:b});C=E!==v.completion.insertText}d.set(C)})),a._toDispose.add(bn(function(){return d.reset()})),c}),this._alternatives=new bM(function(){return a._toDispose.add(new Q2(a._editor,a._contextKeyService))}),this._toDispose.add(s.createInstance(woe,e)),this._toDispose.add(this._model.onDidTrigger(function(c){a._widget.getValue().showTriggered(c.auto,c.shy?250:50),a._lineSuffix.value=new cUe(a._editor.getModel(),c.position)})),this._toDispose.add(this._model.onDidSuggest(function(c){if(!c.shy){var h=a._memoryService.select(a._editor.getModel(),a._editor.getPosition(),c.completionModel.items);a._widget.getValue().showSuggestions(c.completionModel,h,c.isFrozen,c.auto)}})),this._toDispose.add(this._model.onDidCancel(function(c){c.retrigger||a._widget.getValue().hideWidget()})),this._toDispose.add(this._editor.onDidBlurEditorWidget(function(){a._model.cancel(),a._model.clear()}));var u=$n.AcceptSuggestionsOnEnter.bindTo(o),l=function(){var c=a._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter;u.set(c==="on"||c==="smart")};this._toDispose.add(this._editor.onDidChangeConfiguration(function(){return l()})),l()}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this._widget.dispose(),this._model.dispose(),this._lineSuffix.dispose()},n.prototype._insertSuggestion=function(e,t,r){var i,o=this;if(!e||!e.item){this._alternatives.getValue().reset(),this._model.cancel(),this._model.clear();return}if(this._editor.hasModel()){var s=this._editor.getModel(),a=s.getAlternativeVersionId(),u=e.item,l=u.completion,c=u.position,h=this._editor.getPosition().column,d=h-c.column;r&&this._editor.pushUndoStop(),Array.isArray(l.additionalTextEdits)&&this._editor.executeEdits("suggestController.additionalTextEdits",l.additionalTextEdits.map(function(b){return Pr.replace(H.lift(b.range),b.text)})),this._memoryService.memorize(s,this._editor.getPosition(),e.item);var p=l.insertText;l.insertTextRules&4||(p=yoe.escape(p));var v=c.column-l.range.startColumn,m=l.range.endColumn-c.column,_=this._lineSuffix.value?this._lineSuffix.value.delta(this._editor.getPosition()):0;ba.get(this._editor).insert(p,{overwriteBefore:v+d,overwriteAfter:m+_,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(l.insertTextRules&1)}),r&&this._editor.pushUndoStop(),l.command?l.command.id===Eoe.id?this._model.trigger({auto:!0,shy:!1},!0):((i=this._commandService).executeCommand.apply(i,[l.command.id].concat(l.command.arguments?l.command.arguments.slice():[])).catch(He).finally(function(){return o._model.clear()}),this._model.cancel()):(this._model.cancel(),this._model.clear()),t&&this._alternatives.getValue().set(e,function(b){for(;s.canUndo();){a!==s.getAlternativeVersionId()&&s.undo(),o._insertSuggestion(b,!1,!1);break}}),this._alertCompletionItem(e.item)}},n.prototype._alertCompletionItem=function(e){var t=e.completion;if(cs(t.additionalTextEdits)){var r=D("arai.alert.snippet","Accepting '{0}' made {1} additional edits",t.label,t.additionalTextEdits.length);Ki(r)}},n.prototype.triggerSuggest=function(e){this._editor.hasModel()&&(this._model.trigger({auto:!1,shy:!1},!1,e),this._editor.revealLine(this._editor.getPosition().lineNumber,0),this._editor.focus())},n.prototype.triggerSuggestAndAcceptBest=function(e){var t=this;if(this._editor.hasModel()){var r=this._editor.getPosition(),i=function(){r.equals(t._editor.getPosition())&&t._commandService.executeCommand(e.fallback)},o=function(s){if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;var a=t._editor.getPosition(),u=s.completion.range.startColumn,l=a.column;if(l-u!==s.completion.insertText.length)return!0;var c=t._editor.getModel().getValueInRange({startLineNumber:a.lineNumber,startColumn:u,endLineNumber:a.lineNumber,endColumn:l});return c!==s.completion.insertText};Ze.once(this._model.onDidTrigger)(function(s){var a=[];Ze.any(t._model.onDidTrigger,t._model.onDidCancel)(function(){nt(a),i()},void 0,a),t._model.onDidSuggest(function(u){var l=u.completionModel;if(nt(a),l.items.length===0){i();return}var c=t._memoryService.select(t._editor.getModel(),t._editor.getPosition(),l.items),h=l.items[c];if(!o(h)){i();return}t._editor.pushUndoStop(),t._insertSuggestion({index:c,item:h,model:l},!0,!1)},void 0,a)}),this._model.trigger({auto:!1,shy:!0}),this._editor.revealLine(r.lineNumber,0),this._editor.focus()}},n.prototype.acceptSelectedSuggestion=function(e){var t=this._widget.getValue().getFocusedItem();this._insertSuggestion(t,!!e,!0)},n.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},n.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},n.prototype.cancelSuggestWidget=function(){this._model.cancel(),this._model.clear(),this._widget.getValue().hideWidget()},n.prototype.selectNextSuggestion=function(){this._widget.getValue().selectNext()},n.prototype.selectNextPageSuggestion=function(){this._widget.getValue().selectNextPage()},n.prototype.selectLastSuggestion=function(){this._widget.getValue().selectLast()},n.prototype.selectPrevSuggestion=function(){this._widget.getValue().selectPrevious()},n.prototype.selectPrevPageSuggestion=function(){this._widget.getValue().selectPreviousPage()},n.prototype.selectFirstSuggestion=function(){this._widget.getValue().selectFirst()},n.prototype.toggleSuggestionDetails=function(){this._widget.getValue().toggleDetails()},n.prototype.toggleExplainMode=function(){this._widget.getValue().toggleExplainMode()},n.prototype.toggleSuggestionFocus=function(){this._widget.getValue().toggleDetailsFocus()},n.ID="editor.contrib.suggestController",n=lUe([Cy(1,za),Cy(2,boe),Cy(3,no),Cy(4,yt),Cy(5,pr)],n),n}(),Eoe=function(n){uUe(e,n);function e(){return n.call(this,{id:e.id,label:D("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Oe.and(W.writable,W.hasCompletionItemProvider),kbOpts:{kbExpr:W.textInputFocus,primary:2058,mac:{primary:266},weight:100}})||this}return e.prototype.run=function(t,r){var i=HB.get(r);i&&i.triggerSuggest()},e.id="editor.action.triggerSuggest",e}(Ue);Cn(HB);ge(Eoe);var $a=190,vs=Po.bindToContribution(HB.get);ce(new vs({id:"acceptSelectedSuggestion",precondition:$n.Visible,handler:function(n){return n.acceptSelectedSuggestion(!0)},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:2}}));ce(new vs({id:"acceptSelectedSuggestionOnEnter",precondition:$n.Visible,handler:function(n){return n.acceptSelectedSuggestion(!1)},kbOpts:{weight:$a,kbExpr:Oe.and(W.textInputFocus,$n.AcceptSuggestionsOnEnter,$n.MakesTextEdit),primary:3}}));ce(new vs({id:"hideSuggestWidget",precondition:$n.Visible,handler:function(n){return n.cancelSuggestWidget()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:9,secondary:[1033]}}));ce(new vs({id:"selectNextSuggestion",precondition:Oe.and($n.Visible,$n.MultipleSuggestions),handler:function(n){return n.selectNextSuggestion()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));ce(new vs({id:"selectNextPageSuggestion",precondition:Oe.and($n.Visible,$n.MultipleSuggestions),handler:function(n){return n.selectNextPageSuggestion()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:12,secondary:[2060]}}));ce(new vs({id:"selectLastSuggestion",precondition:Oe.and($n.Visible,$n.MultipleSuggestions),handler:function(n){return n.selectLastSuggestion()}}));ce(new vs({id:"selectPrevSuggestion",precondition:Oe.and($n.Visible,$n.MultipleSuggestions),handler:function(n){return n.selectPrevSuggestion()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));ce(new vs({id:"selectPrevPageSuggestion",precondition:Oe.and($n.Visible,$n.MultipleSuggestions),handler:function(n){return n.selectPrevPageSuggestion()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:11,secondary:[2059]}}));ce(new vs({id:"selectFirstSuggestion",precondition:Oe.and($n.Visible,$n.MultipleSuggestions),handler:function(n){return n.selectFirstSuggestion()}}));ce(new vs({id:"toggleSuggestionDetails",precondition:$n.Visible,handler:function(n){return n.toggleSuggestionDetails()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:2058,mac:{primary:266}}}));ce(new vs({id:"toggleExplainMode",precondition:$n.Visible,handler:function(n){return n.toggleExplainMode()},kbOpts:{weight:100,primary:2133}}));ce(new vs({id:"toggleSuggestionFocus",precondition:$n.Visible,handler:function(n){return n.toggleSuggestionFocus()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:2570,mac:{primary:778}}}));ce(new vs({id:"insertBestCompletion",precondition:Oe.and(Oe.equals("config.editor.tabCompletion","on"),woe.AtEnd,$n.Visible.toNegated(),Q2.OtherSuggestions.toNegated(),ba.InSnippetMode.toNegated()),handler:function(n,e){n.triggerSuggestAndAcceptBest($i(e)?N3({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:$a,primary:2}}));ce(new vs({id:"insertNextSuggestion",precondition:Oe.and(Oe.equals("config.editor.tabCompletion","on"),Q2.OtherSuggestions,$n.Visible.toNegated(),ba.InSnippetMode.toNegated()),handler:function(n){return n.acceptNextSuggestion()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:2}}));ce(new vs({id:"insertPrevSuggestion",precondition:Oe.and(Oe.equals("config.editor.tabCompletion","on"),Q2.OtherSuggestions,$n.Visible.toNegated(),ba.InSnippetMode.toNegated()),handler:function(n){return n.acceptPrevSuggestion()},kbOpts:{weight:$a,kbExpr:W.textInputFocus,primary:1026}}));var fUe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hUe=function(n){fUe(e,n);function e(){return n.call(this,{id:"editor.action.forceRetokenize",label:D("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})||this}return e.prototype.run=function(t,r){if(r.hasModel()){var i=r.getModel();i.resetTokenization();var o=new V6(!0);i.forceTokenization(i.getLineCount()),o.stop(),console.log("tokenization took "+o.elapsed())}},e}(Ue);ge(hUe);var dUe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),O3=function(n){dUe(e,n);function e(){return n.call(this,{id:e.ID,label:D({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}return e.prototype.run=function(t,r){var i=qT.getTabFocusMode(),o=!i;qT.setTabFocusMode(o),Ki(o?D("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):D("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},e.ID="editor.action.toggleTabFocusMode",e}(Ue);ge(O3);var Cg=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pUe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gUe=function(n,e){return function(t,r){e(t,r,n)}},vUe=oe("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},D("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),mUe=oe("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},D("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),_Ue=oe("editor.wordHighlightBorder",{light:null,dark:null,hc:Mi},D("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),yUe=oe("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Mi},D("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),bUe=oe("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},D("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),CUe=oe("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},D("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Z2=new Ke("hasWordHighlights",!1);function Soe(n,e,t){var r=Fm.ordered(n);return d6(r.map(function(i){return function(){return Promise.resolve(i.provideDocumentHighlights(n,e,t)).then(void 0,Oo)}}),cs)}var Toe=function(){function n(e,t,r){var i=this;this._wordRange=this._getCurrentWordRange(e,t),this.result=Qr(function(o){return i._compute(e,t,r,o)})}return n.prototype._getCurrentWordRange=function(e,t){var r=e.getWordAtPosition(t.getPosition());return r?new H(t.startLineNumber,r.startColumn,t.startLineNumber,r.endColumn):null},n.prototype.isValid=function(e,t,r){for(var i=t.startLineNumber,o=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t),u=!!(this._wordRange&&this._wordRange.equalsRange(a)),l=0,c=r.length;!u&&l<c;l++){var h=e.getDecorationRange(r[l]);h&&h.startLineNumber===i&&h.startColumn<=o&&h.endColumn>=s&&(u=!0)}return u},n.prototype.cancel=function(){this.result.cancel()},n}(),wUe=function(n){Cg(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._compute=function(t,r,i,o){return Soe(t,r.getPosition(),o).then(function(s){return s||[]})},e}(Toe),EUe=function(n){Cg(e,n);function e(t,r,i){var o=n.call(this,t,r,i)||this;return o._selectionIsEmpty=r.isEmpty(),o}return e.prototype._compute=function(t,r,i,o){return dC(250,o).then(function(){if(!r.isEmpty())return[];var s=t.getWordAtPosition(r.getPosition());if(!s)return[];var a=t.findMatches(s.word,!0,!1,!0,i,!1);return a.map(function(u){return{range:u.range,kind:Zb.Text}})})},e.prototype.isValid=function(t,r,i){var o=r.isEmpty();return this._selectionIsEmpty!==o?!1:n.prototype.isValid.call(this,t,r,i)},e}(Toe);function SUe(n,e,t){return Fm.has(n)?new wUe(n,e,t):new EUe(n,e,t)}Mu("_executeDocumentHighlights",function(n,e){return Soe(n,e,rn.None)});var TUe=function(){function n(e,t){var r=this;this.toUnhook=new Be,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=Z2.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight,this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(function(i){r._ignorePositionChangeEvent||r.occurrencesHighlight&&r._onPositionChanged(i)})),this.toUnhook.add(e.onDidChangeModelContent(function(i){r._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(function(i){var o=r.editor.getConfiguration().contribInfo.occurrencesHighlight;r.occurrencesHighlight!==o&&(r.occurrencesHighlight=o,r._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return n.prototype.hasDecorations=function(){return this._decorationIds.length>0},n.prototype.restore=function(){this.occurrencesHighlight&&this._run()},n.prototype._getSortedHighlights=function(){var e=this;return Yc(this._decorationIds.map(function(t){return e.model.getDecorationRange(t)}).sort(H.compareRangesUsingStarts))},n.prototype.moveNext=function(){var e=this,t=this._getSortedHighlights(),r=nh(t,function(s){return s.containsPosition(e.editor.getPosition())}),i=(r+1)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o)}finally{this._ignorePositionChangeEvent=!1}},n.prototype.moveBack=function(){var e=this,t=this._getSortedHighlights(),r=nh(t,function(s){return s.containsPosition(e.editor.getPosition())}),i=(r-1+t.length)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o)}finally{this._ignorePositionChangeEvent=!1}},n.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},n.prototype._stopAll=function(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},n.prototype._onPositionChanged=function(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()},n.prototype._run=function(){var e=this,t=this.editor.getSelection();if(t.startLineNumber!==t.endLineNumber){this._stopAll();return}var r=t.startLineNumber,i=t.startColumn,o=t.endColumn,s=this.model.getWordAtPosition({lineNumber:r,column:i});if(!s||s.startColumn>i||s.endColumn<o){this._stopAll();return}var a=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),a)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var u=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=SUe(this.model,this.editor.getSelection(),this.editor.getConfiguration().wordSeparators),this.workerRequest.result.then(function(l){u===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=l||[],e._beginRenderDecorations())},He)}},n.prototype._beginRenderDecorations=function(){var e=this,t=new Date().getTime(),r=this.lastCursorPositionChangeTime+250;t>=r?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},r-t)},n.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,r=this.workerRequestValue.length;t<r;t++){var i=this.workerRequestValue[t];e.push({range:i.range,options:n._getDecorationOptions(i.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())},n._getDecorationOptions=function(e){return e===Zb.Write?this._WRITE_OPTIONS:e===Zb.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},n.prototype.dispose=function(){this._stopAll(),this.toUnhook.dispose()},n._WRITE_OPTIONS=mt.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:ia(CUe),position:da.Center}}),n._TEXT_OPTIONS=mt.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:ia(qte),position:da.Center}}),n._REGULAR_OPTIONS=mt.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:ia(bUe),position:da.Center}}),n}(),VB=function(n){Cg(e,n);function e(t,r){var i=n.call(this)||this;i.wordHighligher=null;var o=function(){t.hasModel()&&(i.wordHighligher=new TUe(t,r))};return i._register(t.onDidChangeModel(function(s){i.wordHighligher&&(i.wordHighligher.dispose(),i.wordHighligher=null),o()})),o(),i}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.saveViewState=function(){return!!(this.wordHighligher&&this.wordHighligher.hasDecorations())},e.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},e.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},e.prototype.restoreViewState=function(t){this.wordHighligher&&t&&this.wordHighligher.restore()},e.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),n.prototype.dispose.call(this)},e.ID="editor.contrib.wordHighlighter",e=pUe([gUe(1,yt)],e),e}(he),Doe=function(n){Cg(e,n);function e(t,r){var i=n.call(this,r)||this;return i._isNext=t,i}return e.prototype.run=function(t,r){var i=VB.get(r);i&&(this._isNext?i.moveNext():i.moveBack())},e}(Ue),DUe=function(n){Cg(e,n);function e(){return n.call(this,!0,{id:"editor.action.wordHighlight.next",label:D("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Z2,kbOpts:{kbExpr:W.editorTextFocus,primary:65,weight:100}})||this}return e}(Doe),AUe=function(n){Cg(e,n);function e(){return n.call(this,!1,{id:"editor.action.wordHighlight.prev",label:D("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Z2,kbOpts:{kbExpr:W.editorTextFocus,primary:1089,weight:100}})||this}return e}(Doe),IUe=function(n){Cg(e,n);function e(){return n.call(this,{id:"editor.action.wordHighlight.trigger",label:D("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Z2.toNegated(),kbOpts:{kbExpr:W.editorTextFocus,primary:0,weight:100}})||this}return e.prototype.run=function(t,r,i){var o=VB.get(r);o&&o.restoreViewState(!0)},e}(Ue);Cn(VB);ge(DUe);ge(AUe);ge(IUe);mn(function(n,e){var t=n.getColor(c5);t&&(e.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+t+"; }"),e.addRule(".monaco-editor .selectionHighlight { background-color: "+t.transparent(.5)+"; }"));var r=n.getColor(vUe);r&&e.addRule(".monaco-editor .wordHighlight { background-color: "+r+"; }");var i=n.getColor(mUe);i&&e.addRule(".monaco-editor .wordHighlightStrong { background-color: "+i+"; }");var o=n.getColor(hOe);o&&e.addRule(".monaco-editor .selectionHighlight { border: 1px "+(n.type==="hc"?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var s=n.getColor(_Ue);s&&e.addRule(".monaco-editor .wordHighlight { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+s+"; box-sizing: border-box; }");var a=n.getColor(yUe);a&&e.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+(n.type==="hc"?"dashed":"solid")+" "+a+"; box-sizing: border-box; }")});var Wn=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J2=function(n){Wn(e,n);function e(t){var r=n.call(this,t)||this;return r._inSelectionMode=t.inSelectionMode,r._wordNavigationType=t.wordNavigationType,r}return e.prototype.runEditorCommand=function(t,r,i){var o=this;if(r.hasModel()){var s=r.getConfiguration(),a=jl(s.wordSeparators),u=r.getModel(),l=r.getSelections(),c=l.map(function(d){var p=new ee(d.positionLineNumber,d.positionColumn),v=o._move(a,u,p,o._wordNavigationType);return o._moveTo(d,v,o._inSelectionMode)});if(r._getCursors().setStates("moveWordCommand",0,c.map(function(d){return St.fromModelSelection(d)})),c.length===1){var h=new ee(c[0].positionLineNumber,c[0].positionColumn);r.revealPosition(h,0)}}},e.prototype._moveTo=function(t,r,i){return i?new Re(t.selectionStartLineNumber,t.selectionStartColumn,r.lineNumber,r.column):new Re(r.lineNumber,r.column,r.lineNumber,r.column)},e}(Po),qh=function(n){Wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return Si.moveWordLeft(t,r,i,o)},e}(J2),zh=function(n){Wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return Si.moveWordRight(t,r,i,o)},e}(J2),xUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}return e}(qh),LUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return e}(qh),NUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0})||this}return e}(qh),OUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}return e}(qh),kUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return e}(qh),RUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0})||this}return e}(qh),PUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:Oe.and(W.textInputFocus,CC),primary:2063,mac:{primary:527},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,jl(Ul.wordSeparators),r,i,o)},e}(qh),MUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:Oe.and(W.textInputFocus,CC),primary:3087,mac:{primary:1551},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,jl(Ul.wordSeparators),r,i,o)},e}(qh),FUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return e}(zh),BUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}return e}(zh),HUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return e}(zh),VUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return e}(zh),WUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}return e}(zh),UUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return e}(zh),jUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:Oe.and(W.textInputFocus,CC),primary:2065,mac:{primary:529},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,jl(Ul.wordSeparators),r,i,o)},e}(zh),qUe=function(n){Wn(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:Oe.and(W.textInputFocus,CC),primary:3089,mac:{primary:1553},weight:101}})||this}return e.prototype._move=function(t,r,i,o){return n.prototype._move.call(this,jl(Ul.wordSeparators),r,i,o)},e}(zh),eI=function(n){Wn(e,n);function e(t){var r=n.call(this,t)||this;return r._whitespaceHeuristics=t.whitespaceHeuristics,r._wordNavigationType=t.wordNavigationType,r}return e.prototype.runEditorCommand=function(t,r,i){var o=this;if(r.hasModel()){var s=r.getConfiguration(),a=jl(s.wordSeparators),u=r.getModel(),l=r.getSelections(),c=l.map(function(h){var d=o._delete(a,u,h,o._whitespaceHeuristics,o._wordNavigationType);return new kr(d,"")});r.pushUndoStop(),r.executeCommands(this.id,c),r.pushUndoStop()}},e}(Po),WB=function(n){Wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._delete=function(t,r,i,o,s){var a=Si.deleteWordLeft(t,r,i,o,s);return a||new H(1,1,1,1)},e}(eI),UB=function(n){Wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._delete=function(t,r,i,o,s){var a=Si.deleteWordRight(t,r,i,o,s);if(a)return a;var u=r.getLineCount(),l=r.getLineMaxColumn(u);return new H(u,l,u,l)},e}(eI),zUe=function(n){Wn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:W.writable})||this}return e}(WB),GUe=function(n){Wn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:W.writable})||this}return e}(WB),$Ue=function(n){Wn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return e}(WB),KUe=function(n){Wn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:W.writable})||this}return e}(UB),YUe=function(n){Wn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:W.writable})||this}return e}(UB),XUe=function(n){Wn(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return e}(UB);ce(new xUe);ce(new LUe);ce(new NUe);ce(new OUe);ce(new kUe);ce(new RUe);ce(new FUe);ce(new BUe);ce(new HUe);ce(new VUe);ce(new WUe);ce(new UUe);ce(new PUe);ce(new MUe);ce(new jUe);ce(new qUe);ce(new zUe);ce(new GUe);ce(new $Ue);ce(new KUe);ce(new YUe);ce(new XUe);var Gh=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QUe=function(n){Gh(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}return e.prototype._delete=function(t,r,i,o,s){var a=S2.deleteWordPartLeft(t,r,i,o);return a||new H(1,1,1,1)},e}(eI),ZUe=function(n){Gh(e,n);function e(){return n.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:W.writable,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}return e.prototype._delete=function(t,r,i,o,s){var a=S2.deleteWordPartRight(t,r,i,o);if(a)return a;var u=r.getLineCount(),l=r.getLineMaxColumn(u);return new H(u,l,u,l)},e}(eI),Aoe=function(n){Gh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return S2.moveWordPartLeft(t,r,i)},e}(J2),JUe=function(n){Gh(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return e}(Aoe);Bi.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var e7e=function(n){Gh(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return e}(Aoe);Bi.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var Ioe=function(n){Gh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype._move=function(t,r,i,o){return S2.moveWordPartRight(t,r,i)},e}(J2),t7e=function(n){Gh(e,n);function e(){return n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return e}(Ioe),n7e=function(n){Gh(e,n);function e(){return n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:W.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return e}(Ioe);ce(new QUe);ce(new ZUe);ce(new JUe);ce(new e7e);ce(new t7e);ce(new n7e);var jB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xoe=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},GS=function(n,e){return function(t,r){e(t,r,n)}},Loe=new Ke("accessibilityHelpWidgetVisible",!1),qB=function(n){jB(e,n);function e(t,r){var i=n.call(this)||this;return i._editor=t,i._widget=i._register(r.createInstance(i7e,i._editor)),i}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.show=function(){this._widget.show()},e.prototype.hide=function(){this._widget.hide()},e.ID="editor.contrib.accessibilityHelpController",e=xoe([GS(1,pr)],e),e}(he);function r7e(n,e){return!n||n.length===0?rr.noSelection:n.length===1?e?Yt(rr.singleSelectionRange,n[0].positionLineNumber,n[0].positionColumn,e):Yt(rr.singleSelection,n[0].positionLineNumber,n[0].positionColumn):e?Yt(rr.multiSelectionRange,n.length,e):n.length>0?Yt(rr.multiSelection,n.length):""}var i7e=function(n){jB(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s._contextKeyService=r,s._keybindingService=i,s._openerService=o,s._editor=t,s._isVisibleKey=Loe.bindTo(s._contextKeyService),s._domNode=wt(document.createElement("div")),s._domNode.setClassName("accessibilityHelpWidget"),s._domNode.setDisplay("none"),s._domNode.setAttribute("role","dialog"),s._domNode.setAttribute("aria-hidden","true"),s._contentDomNode=wt(document.createElement("div")),s._contentDomNode.setAttribute("role","document"),s._domNode.appendChild(s._contentDomNode),s._isVisible=!1,s._register(s._editor.onDidLayoutChange(function(){s._isVisible&&s._layout()})),s._register(mi(s._contentDomNode.domNode,"keydown",function(a){if(s._isVisible&&(a.equals(2083)&&(Ki(rr.emergencyConfOn),s._editor.updateOptions({accessibilitySupport:"on"}),_a(s._contentDomNode.domNode),s._buildContent(),s._contentDomNode.domNode.focus(),a.preventDefault(),a.stopPropagation()),a.equals(2086))){Ki(rr.openingDocs);var u=s._editor.getRawConfiguration().accessibilityHelpUrl;typeof u>"u"&&(u="https://go.microsoft.com/fwlink/?linkid=852450"),s._openerService.open(Ft.parse(u)),a.preventDefault(),a.stopPropagation()}})),s.onblur(s._contentDomNode.domNode,function(){s.hide()}),s._editor.addOverlayWidget(s),s}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.getPosition=function(){return{preference:null}},e.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},e.prototype._descriptionForCommand=function(t,r,i){var o=this._keybindingService.lookupKeybinding(t);return o?Yt(r,o.getAriaLabel()):Yt(i,t)},e.prototype._buildContent=function(){var t=this._editor.getConfiguration(),r=this._editor.getSelections(),i=0;if(r){var o=this._editor.getModel();o&&r.forEach(function(l){i+=o.getValueLengthInRange(l)})}var s=r7e(r,i);t.wrappingInfo.inDiffEditor?t.readOnly?s+=rr.readonlyDiffEditor:s+=rr.editableDiffEditor:t.readOnly?s+=rr.readonlyEditor:s+=rr.editableEditor;var a=Tt?rr.changeConfigToOnMac:rr.changeConfigToOnWinLinux;switch(t.accessibilitySupport){case 0:s+=`

 - `+a;break;case 2:s+=`

 - `+rr.auto_on;break;case 1:s+=`

 - `+rr.auto_off,s+=" "+a;break}t.tabFocusMode?s+=`

 - `+this._descriptionForCommand(O3.ID,rr.tabFocusModeOnMsg,rr.tabFocusModeOnMsgNoKb):s+=`

 - `+this._descriptionForCommand(O3.ID,rr.tabFocusModeOffMsg,rr.tabFocusModeOffMsgNoKb);var u=Tt?rr.openDocMac:rr.openDocWinLinux;s+=`

 - `+u,s+=`

`+rr.outroMsg,this._contentDomNode.domNode.appendChild($re(s)),this._contentDomNode.domNode.setAttribute("aria-label",s)},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,_a(this._contentDomNode.domNode),this._editor.focus())},e.prototype._layout=function(){var t=this._editor.getLayoutInfo(),r=Math.max(5,Math.min(e.WIDTH,t.width-40)),i=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(r),this._domNode.setHeight(i);var o=Math.round((t.height-i)/2);this._domNode.setTop(o);var s=Math.round((t.width-r)/2);this._domNode.setLeft(s)},e.ID="editor.contrib.accessibilityHelpWidget",e.WIDTH=500,e.HEIGHT=300,e=xoe([GS(1,yt),GS(2,Dr),GS(3,Ah)],e),e}(gs),o7e=function(n){jB(e,n);function e(){return n.call(this,{id:"editor.action.showAccessibilityHelp",label:rr.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:Ls?2107:571,weight:100}})||this}return e.prototype.run=function(t,r){var i=qB.get(r);i&&i.show()},e}(Ue);Cn(qB);ge(o7e);var s7e=Po.bindToContribution(qB.get);ce(new s7e({id:"closeAccessibilityHelp",precondition:Loe,handler:function(n){return n.hide()},kbOpts:{weight:200,kbExpr:W.focus,primary:9,secondary:[1033]}}));mn(function(n,e){var t=n.getColor(yl);t&&e.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+t+"; }");var r=n.getColor(Wte);r&&e.addRule(".monaco-editor .accessibilityHelpWidget { color: "+r+"; }");var i=n.getColor(hg);i&&e.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+i+"; }");var o=n.getColor(Wr);o&&e.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+o+"; }")});var Noe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),a7e=function(n){Noe(e,n);function e(t){var r=n.call(this)||this;return r.editor=t,r.widget=null,NT&&(r._register(t.onDidChangeConfiguration(function(){return r.update()})),r.update()),r}return e.prototype.update=function(){var t=!this.editor.getConfiguration().readOnly;!this.widget&&t?this.widget=new u7e(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e}(he),u7e=function(n){Noe(e,n);function e(t){var r=n.call(this)||this;return r.editor=t,r._domNode=document.createElement("textarea"),r._domNode.className="iPadShowKeyboard",r._register(ye(r._domNode,"touchstart",function(i){r.editor.focus()})),r._register(ye(r._domNode,"focus",function(i){r.editor.focus()})),r.editor.addOverlayWidget(r),r}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:1}},e.ID="editor.contrib.ShowKeyboardWidget",e}(he);Cn(a7e);var zB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),l7e=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},t$=function(n,e){return function(t,r){e(t,r,n)}},Ooe=function(n){zB(e,n);function e(t,r,i){var o=n.call(this)||this;return o._editor=t,o._modeService=i,o._widget=null,o._register(o._editor.onDidChangeModel(function(s){return o.stop()})),o._register(o._editor.onDidChangeModelLanguage(function(s){return o.stop()})),o._register(Vn.onDidChange(function(s){return o.stop()})),o}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.stop(),n.prototype.dispose.call(this)},e.prototype.launch=function(){this._widget||this._editor.hasModel()&&(this._widget=new d7e(this._editor,this._modeService))},e.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},e.ID="editor.contrib.inspectTokens",e=l7e([t$(1,pg),t$(2,Vh)],e),e}(he),c7e=function(n){zB(e,n);function e(){return n.call(this,{id:"editor.action.inspectTokens",label:MM.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})||this}return e.prototype.run=function(t,r){var i=Ooe.get(r);i&&i.launch()},e}(Ue);function f7e(n){for(var e="",t=0,r=n.length;t<r;t++){var i=n.charCodeAt(t);switch(i){case 9:e+="&rarr;";break;case 32:e+="&middot;";break;case 60:e+="&lt;";break;case 62:e+="&gt;";break;case 38:e+="&amp;";break;default:e+=String.fromCharCode(i)}}return e}function h7e(n){var e=Vn.get(n.language);return e||{getInitialState:function(){return gC},tokenize:function(t,r,i){return Oee(n.language,t,r,i)},tokenize2:function(t,r,i){return M6(n.id,t,r,i)}}}var d7e=function(n){zB(e,n);function e(t,r){var i=n.call(this)||this;return i.allowEditorOverflow=!0,i._editor=t,i._modeService=r,i._model=i._editor.getModel(),i._domNode=document.createElement("div"),i._domNode.className="tokens-inspect-widget",i._tokenizationSupport=h7e(i._model.getLanguageIdentifier()),i._compute(i._editor.getPosition()),i._register(i._editor.onDidChangeCursorPosition(function(o){return i._compute(i._editor.getPosition())})),i._editor.addContentWidget(i),i}return e.prototype.dispose=function(){this._editor.removeContentWidget(this),n.prototype.dispose.call(this)},e.prototype.getId=function(){return e._ID},e.prototype._compute=function(t){for(var r=this._getTokensAtLine(t.lineNumber),i=0,o=r.tokens1.length-1;o>=0;o--){var s=r.tokens1[o];if(t.column-1>=s.offset){i=o;break}}for(var a=0,o=r.tokens2.length>>>1;o>=0;o--)if(t.column-1>=r.tokens2[o<<1]){a=o;break}var u="",l=this._model.getLineContent(t.lineNumber),c="";if(i<r.tokens1.length){var h=r.tokens1[i].offset,d=i+1<r.tokens1.length?r.tokens1[i+1].offset:l.length;c=l.substring(h,d)}u+='<h2 class="tm-token">'+f7e(c)+'<span class="tm-token-length">('+c.length+" "+(c.length===1?"char":"chars")+")</span></h2>",u+='<hr class="tokens-inspect-separator" style="clear:both"/>';var p=this._decodeMetadata(r.tokens2[(a<<1)+1]);u+='<table class="tm-metadata-table"><tbody>',u+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+ha(p.languageIdentifier.language)+"</td>",u+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(p.tokenType)+"</td>",u+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(p.fontStyle)+"</td>",u+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+ae.Format.CSS.formatHex(p.foreground)+"</td>",u+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+ae.Format.CSS.formatHex(p.background)+"</td>",u+="</tbody></table>",u+='<hr class="tokens-inspect-separator"/>',i<r.tokens1.length&&(u+='<span class="tm-token-type">'+ha(r.tokens1[i].type)+"</span>"),this._domNode.innerHTML=u,this._editor.layoutContentWidget(this)},e.prototype._decodeMetadata=function(t){var r=Vn.getColorMap(),i=gu.getLanguageId(t),o=gu.getTokenType(t),s=gu.getFontStyle(t),a=gu.getForeground(t),u=gu.getBackground(t);return{languageIdentifier:this._modeService.getLanguageIdentifier(i),tokenType:o,fontStyle:s,foreground:r[a],background:r[u]}},e.prototype._tokenTypeToString=function(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},e.prototype._fontStyleToString=function(t){var r="";return t&1&&(r+="italic "),t&2&&(r+="bold "),t&4&&(r+="underline "),r.length===0&&(r="---"),r},e.prototype._getTokensAtLine=function(t){var r=this._getStateBeforeLine(t),i=this._tokenizationSupport.tokenize(this._model.getLineContent(t),r,0),o=this._tokenizationSupport.tokenize2(this._model.getLineContent(t),r,0);return{startState:r,tokens1:i.tokens,tokens2:o.tokens,endState:i.endState}},e.prototype._getStateBeforeLine=function(t){for(var r=this._tokenizationSupport.getInitialState(),i=1;i<t;i++){var o=this._tokenizationSupport.tokenize(this._model.getLineContent(i),r,0);r=o.endState}return r},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}},e._ID="editor.contrib.inspectTokensWidget",e}(he);Cn(Ooe);ge(c7e);mn(function(n,e){var t=n.getColor(f5);if(t){var r=n.type===Um?2:1;e.addRule(".monaco-editor .tokens-inspect-widget { border: "+r+"px solid "+t+"; }"),e.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+t+"; }")}var i=n.getColor(Up);i&&e.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+i+"; }")});var wy=We,p7e=function(){function n(e,t,r){this.os=t,this.options=r,this.domNode=Ee(e,wy(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}return n.prototype.set=function(e,t){this.didEverRender&&this.keybinding===e&&n.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())},n.prototype.render=function(){if(_a(this.domNode),this.keybinding){var e=this.keybinding.getParts(),t=e[0],r=e[1];t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),r&&(Ee(this.domNode,wy("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,r,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0},n.prototype.renderPart=function(e,t,r){var i=Yee.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,!!(r&&r.ctrlKey),i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,!!(r&&r.shiftKey),i.separator),t.altKey&&this.renderKey(e,i.altKey,!!(r&&r.altKey),i.separator),t.metaKey&&this.renderKey(e,i.metaKey,!!(r&&r.metaKey),i.separator);var o=t.keyLabel;o&&this.renderKey(e,o,!!(r&&r.keyCode),"")},n.prototype.renderKey=function(e,t,r,i){Ee(e,wy("span.monaco-keybinding-key"+(r?".highlight":""),void 0,t)),i&&Ee(e,wy("span.monaco-keybinding-key-separator",void 0,i))},n.prototype.renderUnbound=function(e){Ee(e,wy("span.monaco-keybinding-key",void 0,D("unbound","Unbound")))},n.areSame=function(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&ih(e.firstPart,t.firstPart)&&ih(e.chordPart,t.chordPart)},n}(),g7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),v7e=0,GB=function(){function n(e){e===void 0&&(e=[]),this.id=(v7e++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){},n.prototype.getLabelOptions=function(){},n.prototype.getAriaLabel=function(){return Yc([this.getLabel(),this.getDescription(),this.getDetail()]).join(", ")},n.prototype.getDetail=function(){},n.prototype.getIcon=function(){},n.prototype.getDescription=function(){},n.prototype.getTooltip=function(){},n.prototype.getDescriptionTooltip=function(){},n.prototype.getKeybinding=function(){},n.prototype.isHidden=function(){return!!this.hidden},n.prototype.setHighlights=function(e,t,r){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=r},n.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},n.prototype.run=function(e,t){return!1},n}(),fb=function(n){g7e(e,n);function e(t,r,i){var o=n.call(this)||this;return o.entry=t,o.groupLabel=r,o.withBorder=i,o}return e.prototype.getGroupLabel=function(){return this.groupLabel},e.prototype.setGroupLabel=function(t){this.groupLabel=t},e.prototype.showBorder=function(){return!!this.withBorder},e.prototype.setShowBorder=function(t){this.withBorder=t},e.prototype.getLabel=function(){return this.entry?this.entry.getLabel():n.prototype.getLabel.call(this)},e.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():n.prototype.getLabelOptions.call(this)},e.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():n.prototype.getAriaLabel.call(this)},e.prototype.getDetail=function(){return this.entry?this.entry.getDetail():n.prototype.getDetail.call(this)},e.prototype.getIcon=function(){return this.entry?this.entry.getIcon():n.prototype.getIcon.call(this)},e.prototype.getDescription=function(){return this.entry?this.entry.getDescription():n.prototype.getDescription.call(this)},e.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():n.prototype.getHighlights.call(this)},e.prototype.isHidden=function(){return this.entry?this.entry.isHidden():n.prototype.isHidden.call(this)},e.prototype.setHighlights=function(t,r,i){this.entry?this.entry.setHighlights(t,r,i):n.prototype.setHighlights.call(this,t,r,i)},e.prototype.run=function(t,r){return this.entry?this.entry.run(t,r):n.prototype.run.call(this,t,r)},e}(GB),koe=function(){function n(){}return n.prototype.hasActions=function(e,t){return!1},n.prototype.getActions=function(e,t){return null},n}(),m7e="quickOpenEntry",n$="quickOpenEntryGroup",_7e=function(){function n(e,t){e===void 0&&(e=new koe),this.actionProvider=e,this.actionRunner=t}return n.prototype.getHeight=function(e){return e.getDetail()?44:22},n.prototype.getTemplateId=function(e){return e instanceof fb?n$:m7e},n.prototype.renderTemplate=function(e,t,r){var i=document.createElement("div");De(i,"sub-content"),t.appendChild(i);var o=We(".quick-open-row"),s=We(".quick-open-row"),a=We(".quick-open-entry",void 0,o,s);i.appendChild(a);var u=document.createElement("span");o.appendChild(u);var l=new bB(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportOcticons:!0}),c=document.createElement("span");o.appendChild(c),De(c,"quick-open-entry-keybinding");var h=new p7e(c,il),d=document.createElement("div");s.appendChild(d),De(d,"quick-open-entry-meta");var p=new Gv(d,!0),v;e===n$&&(v=document.createElement("div"),De(v,"results-group"),t.appendChild(v)),De(t,"actions");var m=document.createElement("div");De(m,"primary-action-bar"),t.appendChild(m);var _=new SC(m,{actionRunner:this.actionRunner});return{container:t,entry:a,icon:u,label:l,detail:p,keybinding:h,group:v,actionBar:_}},n.prototype.renderElement=function(e,t,r,i){this.actionProvider.hasActions(null,e)?De(r.container,"has-actions"):st(r.container,"has-actions"),r.actionBar.context=e;var o=this.actionProvider.getActions(null,e);if(r.actionBar.isEmpty()&&o&&o.length>0?r.actionBar.push(o,{icon:!0,label:!1}):!r.actionBar.isEmpty()&&(!o||o.length===0)&&r.actionBar.clear(),e instanceof fb&&e.getGroupLabel()?De(r.container,"has-group-label"):st(r.container,"has-group-label"),e instanceof fb){var s=e,a=r;s.showBorder()?(De(a.container,"results-group-separator"),i.pickerGroupBorder&&(a.container.style.borderTopColor=i.pickerGroupBorder.toString())):(st(a.container,"results-group-separator"),a.container.style.borderTopColor=null);var u=s.getGroupLabel()||"";a.group&&(a.group.textContent=u,i.pickerGroupForeground&&(a.group.style.color=i.pickerGroupForeground.toString()))}if(e instanceof GB){var l=e.getHighlights(),c=l[0],h=l[1],d=l[2],p=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";r.icon.className=p;var v=e.getLabelOptions()||Object.create(null);v.matches=c||[],v.title=e.getTooltip(),v.descriptionTitle=e.getDescriptionTooltip()||e.getDescription(),v.descriptionMatches=h||[],r.label.setLabel(n2(e.getLabel()),e.getDescription(),v),r.detail.set(e.getDetail(),d),r.keybinding.set(e.getKeybinding())}},n.prototype.disposeTemplate=function(e,t){t.actionBar.dispose(),t.actionBar=null,t.container=null,t.entry=null,t.keybinding=null,t.detail=null,t.group=null,t.icon=null,t.label.dispose(),t.label=null},n}(),$B=function(){function n(e,t){e===void 0&&(e=[]),t===void 0&&(t=new koe),this._entries=e,this._dataSource=this,this._renderer=new _7e(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(n.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),n.prototype.getId=function(e){return e.getId()},n.prototype.getLabel=function(e){return km(e.getLabel())},n.prototype.getAriaLabel=function(e){var t=e.getAriaLabel();return t?D("quickOpenAriaLabelEntry","{0}, picker",e.getAriaLabel()):D("quickOpenAriaLabel","picker")},n.prototype.isVisible=function(e){return!e.isHidden()},n.prototype.run=function(e,t,r){return e.run(t,r)},n}(),y7e=function(){function n(e){this.modelProvider=Zy(e.getModel)?e:{getModel:function(){return e}}}return n.prototype.getId=function(e,t){if(!t)return null;var r=this.modelProvider.getModel();return r===t?"__root__":r.dataSource.getId(t)},n.prototype.hasChildren=function(e,t){var r=this.modelProvider.getModel();return!!(r&&r===t&&r.entries.length>0)},n.prototype.getChildren=function(e,t){var r=this.modelProvider.getModel();return Promise.resolve(r===t?r.entries:[])},n.prototype.getParent=function(e,t){return Promise.resolve(null)},n}(),b7e=function(){function n(e){this.modelProvider=e}return n.prototype.getAriaLabel=function(e,t){var r=this.modelProvider.getModel();return r.accessibilityProvider?r.accessibilityProvider.getAriaLabel(t):null},n.prototype.getPosInSet=function(e,t){var r=this.modelProvider.getModel(),i=0;if(r.filter)for(var o=0,s=r.entries;o<s.length;o++){var a=s[o];if(r.filter.isVisible(a)&&i++,a===t)break}else i=r.entries.indexOf(t)+1;return String(i)},n.prototype.getSetSize=function(){var e=this.modelProvider.getModel(),t=0;if(e.filter)for(var r=0,i=e.entries;r<i.length;r++){var o=i[r];e.filter.isVisible(o)&&t++}else t=e.entries.length;return String(t)},n}(),C7e=function(){function n(e){this.modelProvider=e}return n.prototype.isVisible=function(e,t){var r=this.modelProvider.getModel();return r.filter?r.filter.isVisible(t):!0},n}(),w7e=function(){function n(e,t){this.modelProvider=e,this.styles=t}return n.prototype.updateStyles=function(e){this.styles=e},n.prototype.getHeight=function(e,t){var r=this.modelProvider.getModel();return r.renderer.getHeight(t)},n.prototype.getTemplateId=function(e,t){var r=this.modelProvider.getModel();return r.renderer.getTemplateId(t)},n.prototype.renderTemplate=function(e,t,r){var i=this.modelProvider.getModel();return i.renderer.renderTemplate(t,r,this.styles)},n.prototype.renderElement=function(e,t,r,i){var o=this.modelProvider.getModel();o.renderer.renderElement(t,r,i,this.styles)},n.prototype.disposeTemplate=function(e,t,r){var i=this.modelProvider.getModel();i.renderer.disposeTemplate(t,r)},n}(),r$=function(){function n(){this._arr=[]}return n.prototype.set=function(e,t){this._arr.push({keybinding:xT(e,il),callback:t})},n.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var r=this._arr[t];if(e.toChord().equals(r.keybinding))return r.callback}return null},n}(),Roe=function(){function n(e){var t=this;e===void 0&&(e={clickBehavior:0,keyboardSupport:!0,openMode:0}),this.options=e,this.downKeyBindingDispatcher=new r$,this.upKeyBindingDispatcher=new r$,(typeof e.keyboardSupport!="boolean"||e.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(r,i){return t.onUp(r,i)}),this.downKeyBindingDispatcher.set(18,function(r,i){return t.onDown(r,i)}),this.downKeyBindingDispatcher.set(15,function(r,i){return t.onLeft(r,i)}),this.downKeyBindingDispatcher.set(17,function(r,i){return t.onRight(r,i)}),Tt&&(this.downKeyBindingDispatcher.set(2064,function(r,i){return t.onLeft(r,i)}),this.downKeyBindingDispatcher.set(300,function(r,i){return t.onDown(r,i)}),this.downKeyBindingDispatcher.set(302,function(r,i){return t.onUp(r,i)})),this.downKeyBindingDispatcher.set(11,function(r,i){return t.onPageUp(r,i)}),this.downKeyBindingDispatcher.set(12,function(r,i){return t.onPageDown(r,i)}),this.downKeyBindingDispatcher.set(14,function(r,i){return t.onHome(r,i)}),this.downKeyBindingDispatcher.set(13,function(r,i){return t.onEnd(r,i)}),this.downKeyBindingDispatcher.set(10,function(r,i){return t.onSpace(r,i)}),this.downKeyBindingDispatcher.set(9,function(r,i){return t.onEscape(r,i)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return n.prototype.onMouseDown=function(e,t,r,i){return i===void 0&&(i="mouse"),this.options.clickBehavior===0&&(r.leftButton||r.middleButton)?r.target&&(r.target.tagName&&r.target.tagName.toLowerCase()==="input"||EM(r.target,"scrollbar","monaco-tree")||EM(r.target,"monaco-action-bar","row"))?!1:this.onLeftClick(e,t,r,i):!1},n.prototype.onClick=function(e,t,r){var i=Tt;return i&&r.ctrlKey?(r.preventDefault(),r.stopPropagation(),!1):r.target&&r.target.tagName&&r.target.tagName.toLowerCase()==="input"||this.options.clickBehavior===0&&(r.leftButton||r.middleButton)?!1:this.onLeftClick(e,t,r)},n.prototype.onLeftClick=function(e,t,r,i){i===void 0&&(i="mouse");var o=r,s={origin:i,originalEvent:r,didClickOnTwistie:this.isClickOnTwistie(o)};if(e.getInput()===t)e.clearFocus(s),e.clearSelection(s);else{var a=r&&o.browserEvent&&o.browserEvent.type==="mousedown"&&o.browserEvent.detail===1;a||r.preventDefault(),r.stopPropagation(),e.domFocus(),e.setSelection([t],s),e.setFocus(t,s),this.shouldToggleExpansion(t,o,i)&&(e.isExpanded(t)?e.collapse(t).then(void 0,He):e.expand(t).then(void 0,He))}return!0},n.prototype.shouldToggleExpansion=function(e,t,r){var i=r==="mouse"&&t.detail===2;return this.openOnSingleClick||i||this.isClickOnTwistie(t)},Object.defineProperty(n.prototype,"openOnSingleClick",{get:function(){return this.options.openMode===0},enumerable:!0,configurable:!0}),n.prototype.isClickOnTwistie=function(e){var t=e.target;if(!xu(t,"content"))return!1;var r=window.getComputedStyle(t,":before");if(r.backgroundImage==="none"||r.display==="none")return!1;var i=parseInt(r.width)+parseInt(r.paddingRight);return e.browserEvent.offsetX<=i},n.prototype.onContextMenu=function(e,t,r){return r.target&&r.target.tagName&&r.target.tagName.toLowerCase()==="input"||r&&(r.preventDefault(),r.stopPropagation()),!1},n.prototype.onTap=function(e,t,r){var i=r.initialTarget;return i&&i.tagName&&i.tagName.toLowerCase()==="input"?!1:this.onLeftClick(e,t,r,"touch")},n.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},n.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},n.prototype.onKey=function(e,t,r){var i=e.dispatch(r.toKeybinding());return i&&i(t,r)?(r.preventDefault(),r.stopPropagation(),!0):!1},n.prototype.onUp=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusPrevious(1,r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onPageUp=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusPreviousPage(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onDown=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusNext(1,r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onPageDown=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusNextPage(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onHome=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusFirst(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onEnd=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(r):(e.focusLast(r),e.reveal(e.getFocus()).then(void 0,He)),!0},n.prototype.onLeft=function(e,t){var r={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(r);else{var i=e.getFocus();e.collapse(i).then(function(o){if(i&&!o)return e.focusParent(r),e.reveal(e.getFocus())}).then(void 0,He)}return!0},n.prototype.onRight=function(e,t){var r={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(r);else{var i=e.getFocus();e.expand(i).then(function(o){if(i&&!o)return e.focusFirstChild(r),e.reveal(e.getFocus())}).then(void 0,He)}return!0},n.prototype.onEnter=function(e,t){var r={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],r),!0},n.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var r=e.getFocus();return r&&e.toggleExpansion(r),!0},n.prototype.onEscape=function(e,t){var r={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(r),!0):e.getSelection().length?(e.clearSelection(r),!0):e.getFocus()?(e.clearFocus(r),!0):!1},n}(),E7e=function(){function n(){}return n.prototype.getDragURI=function(e,t){return null},n.prototype.onDragStart=function(e,t,r){},n.prototype.onDragOver=function(e,t,r,i){return null},n.prototype.drop=function(e,t,r,i){},n}(),S7e=function(){function n(){}return n.prototype.isVisible=function(e,t){return!0},n}(),T7e=function(){function n(){}return n.prototype.getAriaLabel=function(e,t){return null},n}(),D7e=function(){function n(e,t){this.styleElement=e,this.selectorSuffix=t}return n.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",r=[];e.listFocusBackground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+e.listFocusBackground+"; }"),e.listFocusForeground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listActiveSelectionBackground+"; }"),e.listActiveSelectionForeground&&r.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&r.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+e.listFocusAndSelectionBackground+`; }
			`),e.listFocusAndSelectionForeground&&r.push(`
				.monaco-tree-drag-image,
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+e.listFocusAndSelectionForeground+`; }
			`),e.listInactiveSelectionBackground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listInactiveSelectionBackground+"; }"),e.listInactiveSelectionForeground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+e.listHoverBackground+"; }"),e.listHoverForeground&&r.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+e.listHoverForeground+"; }"),e.listDropBackground&&r.push(`
				.monaco-tree`+t+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+e.listDropBackground+` !important; color: inherit !important; }
			`),e.listFocusOutline&&r.push(`
				.monaco-tree-drag-image																															{ border: 1px solid `+e.listFocusOutline+`; background: #000; }
				.monaco-tree`+t+` .monaco-tree-rows > .monaco-tree-row 														{ border: 1px solid transparent; }
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) 						{ border: 1px dotted "+e.listFocusOutline+`; }
				.monaco-tree`+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) 						{ border: 1px solid "+e.listFocusOutline+`; }
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  							{ border: 1px solid "+e.listFocusOutline+`; }
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  	{ border: 1px dashed "+e.listFocusOutline+`; }
				.monaco-tree`+t+` .monaco-tree-wrapper.drop-target,
				.monaco-tree`+t+" .monaco-tree-rows > .monaco-tree-row.drop-target												{ border: 1px dashed "+e.listFocusOutline+`; }
			`);var i=r.join(`
`);i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},n}(),A7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I7e=function(){function n(e){this._onDispose=new Q,this.onDispose=this._onDispose.event,this._item=e}return Object.defineProperty(n.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=void 0)},n}(),x7e=function(){function n(){this.locks=Object.create({})}return n.prototype.isLocked=function(e){return!!this.locks[e.id]},n.prototype.run=function(e,t){var r=this,i=this.getLock(e);if(i)return new Promise(function(s,a){Ze.once(i.onDispose)(function(){return r.run(e,t).then(s,a)})});var o;return new Promise(function(s,a){if(e.isDisposed())return a(new Error("Item is disposed."));var u=r.locks[e.id]=new I7e(e);return o=t().then(function(l){return delete r.locks[e.id],u.dispose(),l}).then(s,a),o})},n.prototype.getLock=function(e){var t;for(t in this.locks){var r=this.locks[t];if(e.intersects(r.item))return r}return null},n}(),L7e=function(){function n(){this._isDisposed=!1,this._onDidRevealItem=new nu,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new nu,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new nu,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new nu,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new nu,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new nu,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new nu,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new nu,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new nu,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new nu,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new nu,this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}return n.prototype.register=function(e){cm(!this.isRegistered(e.id),"item already registered: "+e.id);var t=gl(this._onDidRevealItem.add(e.onDidReveal),this._onExpandItem.add(e.onExpand),this._onDidExpandItem.add(e.onDidExpand),this._onCollapseItem.add(e.onCollapse),this._onDidCollapseItem.add(e.onDidCollapse),this._onDidAddTraitItem.add(e.onDidAddTrait),this._onDidRemoveTraitItem.add(e.onDidRemoveTrait),this._onDidRefreshItem.add(e.onDidRefresh),this._onRefreshItemChildren.add(e.onRefreshChildren),this._onDidRefreshItemChildren.add(e.onDidRefreshChildren),this._onDidDisposeItem.add(e.onDidDispose));this.items[e.id]={item:e,disposable:t}},n.prototype.deregister=function(e){cm(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},n.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},n.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},n.prototype.dispose=function(){this.items=null,this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},n.prototype.isDisposed=function(){return this._isDisposed},n}(),Poe=function(){function n(e,t,r,i,o){this._onDidCreate=new Q,this._onDidReveal=new Q,this.onDidReveal=this._onDidReveal.event,this._onExpand=new Q,this.onExpand=this._onExpand.event,this._onDidExpand=new Q,this.onDidExpand=this._onDidExpand.event,this._onCollapse=new Q,this.onCollapse=this._onCollapse.event,this._onDidCollapse=new Q,this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new Q,this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new Q,this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new Q,this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new Q,this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new Q,this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new Q,this.onDidDispose=this._onDidDispose.event,this.registry=t,this.context=r,this.lock=i,this.element=o,this.id=e,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=!!(this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,o)),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return n.prototype.getElement=function(){return this.element},n.prototype.hasChildren=function(){return this.doesHaveChildren},n.prototype.getDepth=function(){return this.depth},n.prototype.isVisible=function(){return this.visible},n.prototype.setVisible=function(e){this.visible=e},n.prototype.isExpanded=function(){return this.expanded},n.prototype._setExpanded=function(e){this.expanded=e},n.prototype.reveal=function(e){e===void 0&&(e=null);var t={item:this,relativeTop:e};this._onDidReveal.fire(t)},n.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return Promise.resolve(!1);var t=this.lock.run(this,function(){if(e.isExpanded()||!e.doesHaveChildren)return Promise.resolve(!1);var r={item:e},i;return e._onExpand.fire(r),e.needsChildrenRefresh?i=e.refreshChildren(!1,!0,!0):i=Promise.resolve(null),i.then(function(){return e._setExpanded(!0),e._onDidExpand.fire(r),!0})});return t.then(function(r){return e.isDisposed()?!1:e.context.options.autoExpandSingleChildren&&r&&e.firstChild!==null&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):r})},n.prototype.collapse=function(e){var t=this;if(e===void 0&&(e=!1),e){var r=Promise.resolve(null);return this.forEachChild(function(i){r=r.then(function(){return i.collapse(!0)})}),r.then(function(){return t.collapse(!1)})}else return!this.isExpanded()||this.lock.isLocked(this)?Promise.resolve(!1):this.lock.run(this,function(){var i={item:t};return t._onCollapse.fire(i),t._setExpanded(!1),t._onDidCollapse.fire(i),Promise.resolve(!0)})},n.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this._onDidAddTrait.fire(t)},n.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this._onDidRemoveTrait.fire(t)},n.prototype.hasTrait=function(e){return this.traits[e]||!1},n.prototype.getAllTraits=function(){var e=[],t;for(t in this.traits)this.traits.hasOwnProperty(t)&&this.traits[t]&&e.push(t);return e},n.prototype.getHeight=function(){return this.height},n.prototype.refreshChildren=function(e,t,r){var i=this;if(t===void 0&&(t=!1),r===void 0&&(r=!1),!r&&!this.isExpanded()){var o=function(a){a.needsChildrenRefresh=!0,a.forEachChild(o)};return o(this),Promise.resolve(this)}this.needsChildrenRefresh=!1;var s=function(){var a={item:i,isNested:t};i._onRefreshChildren.fire(a);var u;i.doesHaveChildren?u=i.context.dataSource.getChildren(i.context.tree,i.element):u=Promise.resolve([]);var l=u.then(function(c){if(i.isDisposed()||i.registry.isDisposed())return Promise.resolve(null);if(!Array.isArray(c))return Promise.reject(new Error("Please return an array of children."));c=c?c.slice(0):[],c=i.sort(c);for(var h={};i.firstChild!==null;)h[i.firstChild.id]=i.firstChild,i.removeChild(i.firstChild);for(var d=0,p=c.length;d<p;d++){var v=c[d],m=i.context.dataSource.getId(i.context.tree,v),_=h[m]||new n(m,i.registry,i.context,i.lock,v);_.element=v,e&&(_.needsChildrenRefresh=e),delete h[m],i.addChild(_)}for(var b in h)h.hasOwnProperty(b)&&h[b].dispose();return e?Promise.all(i.mapEachChild(function(C){return C.doRefresh(e,!0)})):Promise.all(i.mapEachChild(function(C){return C.isExpanded()&&C.needsChildrenRefresh?C.doRefresh(e,!0):(C.updateVisibility(),Promise.resolve(null))}))});return l.then(void 0,He).then(function(){return i._onDidRefreshChildren.fire(a)})};return t?s():this.lock.run(this,s)},n.prototype.doRefresh=function(e,t){return t===void 0&&(t=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(e,t)},n.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},n.prototype.refresh=function(e){return this.doRefresh(e)},n.prototype.getNavigator=function(){return new Moe(this)},n.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},n.prototype.isAncestorOf=function(e){for(var t=e;t;){if(t.id===this.id)return!0;t=t.parent}return!1},n.prototype.addChild=function(e,t){t===void 0&&(t=this.lastChild);var r=this.firstChild===null,i=t===null,o=t===this.lastChild;if(r)this.firstChild=this.lastChild=e,e.next=e.previous=null;else if(i){if(!this.firstChild)throw new Error("Invalid tree state");this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e}else if(o){if(!this.lastChild)throw new Error("Invalid tree state");this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e}else{if(e.previous=t,!t)throw new Error("Invalid tree state");if(e.next=t.next,!t.next)throw new Error("Invalid tree state");t.next.previous=e,t.next=e}e.parent=this,e.depth=this.depth+1},n.prototype.removeChild=function(e){var t=this.firstChild===e,r=this.lastChild===e;if(t&&r)this.firstChild=this.lastChild=null;else if(t){if(!e.next)throw new Error("Invalid tree state");e.next.previous=null,this.firstChild=e.next}else if(r){if(!e.previous)throw new Error("Invalid tree state");e.previous.next=null,this.lastChild=e.previous}else{if(!e.next)throw new Error("Invalid tree state");if(e.next.previous=e.previous,!e.previous)throw new Error("Invalid tree state");e.previous.next=e.next}e.parent=null,e.depth=NaN},n.prototype.forEachChild=function(e){for(var t=this.firstChild,r;t;)r=t.next,e(t),t=r},n.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(r){t.push(e(r))}),t},n.prototype.sort=function(e){var t=this,r=this.context.sorter;return r?e.sort(function(i,o){return r.compare(t.context.tree,i,o)}):e},n.prototype._getHeight=function(){return this.context.renderer?this.context.renderer.getHeight(this.context.tree,this.element):0},n.prototype._isVisible=function(){return this.context.filter?this.context.filter.isVisible(this.context.tree,this.element):!1},n.prototype.isDisposed=function(){return this._isDisposed},n.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},n}(),k3=function(n){A7e(e,n);function e(t,r,i,o,s){return n.call(this,t,r,i,o,s)||this}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(t){},e.prototype.isExpanded=function(){return!0},e.prototype._setExpanded=function(t){},e.prototype._getHeight=function(){return 0},e.prototype._isVisible=function(){return!1},e}(Poe),Moe=function(){function n(e,t){t===void 0&&(t=!0),this.item=e,this.start=t?e:null}return n.lastDescendantOf=function(e){return e?e instanceof k3?n.lastDescendantOf(e.lastChild):e.isVisible()?!e.isExpanded()||e.lastChild===null?e:n.lastDescendantOf(e.lastChild):n.lastDescendantOf(e.previous):null},n.prototype.current=function(){return this.item||null},n.prototype.next=function(){if(this.item)do if((this.item instanceof k3||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},n.prototype.previous=function(){if(this.item)do{var e=n.lastDescendantOf(this.item.previous);e?this.item=e:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},n.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},n.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},n.prototype.last=function(){return n.lastDescendantOf(this.start)},n}(),N7e=function(){function n(e){this._onSetInput=new Q,this.onSetInput=this._onSetInput.event,this._onDidSetInput=new Q,this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new Q,this.onRefresh=this._onRefresh.event,this._onDidRefresh=new Q,this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new Q,this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new Q,this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new Q,this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new Ti,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new Ti,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new Ti,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new Ti,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new Ti,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new Ti,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new Ti,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new Ti,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new Ti,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new Ti,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new Ti,this.context=e,this.input=null,this.traitsToItems={}}return n.prototype.setInput=function(e){var t=this,r={item:this.input};this._onSetInput.fire(r),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new x7e,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new L7e,this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem(function(o){return o.getAllTraits().forEach(function(s){return delete t.traitsToItems[s][o.id]})});var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new k3(i,this.registry,this.context,this.lock,e),r={item:this.input},this._onDidSetInput.fire(r),this.refresh(this.input)},n.prototype.getInput=function(){return this.input?this.input.getElement():null},n.prototype.refresh=function(e,t){var r=this;e===void 0&&(e=null),t===void 0&&(t=!0);var i=this.getItem(e);if(!i)return Promise.resolve(null);var o={item:i,recursive:t};return this._onRefresh.fire(o),i.refresh(t).then(function(){r._onDidRefresh.fire(o)})},n.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():Promise.resolve(!1)},n.prototype.collapse=function(e,t){t===void 0&&(t=!1);var r=this.getItem(e);return r?r.collapse(t):Promise.resolve(!1)},n.prototype.toggleExpansion=function(e,t){return t===void 0&&(t=!1),this.isExpanded(e)?this.collapse(e,t):this.expand(e)},n.prototype.isExpanded=function(e){var t=this.getItem(e);return t?t.isExpanded():!1},n.prototype.reveal=function(e,t){var r=this;return t===void 0&&(t=null),this.resolveUnknownParentChain(e).then(function(i){var o=Promise.resolve(null);return i.forEach(function(s){o=o.then(function(){return r.expand(s)})}),o}).then(function(){var i=r.getItem(e);if(i)return i.reveal(t)})},n.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(r){return r?t.resolveUnknownParentChain(r).then(function(i){return i.push(r),i}):Promise.resolve([])})},n.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var r={highlight:this.getHighlight(),payload:t};this._onDidHighlight.fire(r)},n.prototype.getHighlight=function(e){e===void 0&&(e=!1);var t=this.getElementsWithTrait("highlighted",e);return t.length===0?null:t[0]},n.prototype.setSelection=function(e,t){this.setTraits("selected",e);var r={selection:this.getSelection(),payload:t};this._onDidSelect.fire(r)},n.prototype.getSelection=function(e){return e===void 0&&(e=!1),this.getElementsWithTrait("selected",e)},n.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var r={focus:this.getFocus(),payload:t};this._onDidFocus.fire(r)},n.prototype.getFocus=function(e){e===void 0&&(e=!1);var t=this.getElementsWithTrait("focused",e);return t.length===0?null:t[0]},n.prototype.focusNext=function(e,t){e===void 0&&(e=1);for(var r=this.getFocus()||this.input,i,o=this.getNavigator(r,!1),s=0;s<e&&(i=o.next(),!!i);s++)r=i;this.setFocus(r,t)},n.prototype.focusPrevious=function(e,t){e===void 0&&(e=1);for(var r=this.getFocus()||this.input,i,o=this.getNavigator(r,!1),s=0;s<e&&(i=o.previous(),!!i);s++)r=i;this.setFocus(r,t)},n.prototype.focusParent=function(e){var t=this.getFocus()||this.input,r=this.getNavigator(t,!1),i=r.parent();i&&this.setFocus(i,e)},n.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input),r=this.getNavigator(t,!1),i=r.next(),o=r.parent();o===t&&this.setFocus(i,e)},n.prototype.focusFirst=function(e,t){this.focusNth(0,e,t)},n.prototype.focusNth=function(e,t,r){for(var i=this.getParent(r),o=this.getNavigator(i),s=o.first(),a=0;a<e;a++)s=o.next();s&&this.setFocus(s,t)},n.prototype.focusLast=function(e,t){var r=this.getParent(t),i;if(t&&r)i=r.lastChild;else{var o=this.getNavigator(r);i=o.last()}i&&this.setFocus(i,e)},n.prototype.getParent=function(e){if(e){var t=this.getItem(e);if(t&&t.parent)return t.parent}return this.getItem(this.input)},n.prototype.getNavigator=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!0),new Moe(this.getItem(e),t)},n.prototype.getItem=function(e){return e===void 0&&(e=null),e===null?this.input:e instanceof Poe?e:typeof e=="string"?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},n.prototype.removeTraits=function(e,t){var r=this.traitsToItems[e]||{},i,o;if(t.length===0){for(o in r)r.hasOwnProperty(o)&&(i=r[o],i.removeTrait(e));delete this.traitsToItems[e]}else for(var s=0,a=t.length;s<a;s++)i=this.getItem(t[s]),i&&(i.removeTrait(e),delete r[i.id])},n.prototype.setTraits=function(e,t){if(t.length===0)this.removeTraits(e,t);else{for(var r={},i=void 0,o=0,s=t.length;o<s;o++)i=this.getItem(t[o]),i&&(r[i.id]=i);var a=this.traitsToItems[e]||{},u=[],l=void 0;for(l in a)a.hasOwnProperty(l)&&(r.hasOwnProperty(l)?delete r[l]:u.push(a[l]));for(var o=0,s=u.length;o<s;o++)i=u[o],i.removeTrait(e),delete a[i.id];for(l in r)r.hasOwnProperty(l)&&(i=r[l],i.addTrait(e),a[l]=i);this.traitsToItems[e]=a}},n.prototype.getElementsWithTrait=function(e,t){var r=[],i=this.traitsToItems[e]||{},o;for(o in i)i.hasOwnProperty(o)&&(i[o].isVisible()||t)&&r.push(i[o].getElement());return r},n.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},n}(),O7e=function(){function n(e){this.elements=e}return n.prototype.update=function(e){},n.prototype.getData=function(){return this.elements},n}(),k7e=function(){function n(e){this.elements=e}return n.prototype.update=function(e){},n.prototype.getData=function(){return this.elements},n}(),R7e=function(){function n(){this.types=[],this.files=[]}return n.prototype.update=function(e){e.types&&(this.types=[],Array.prototype.push.apply(this.types,e.types)),e.files&&(this.files=[],Array.prototype.push.apply(this.files,e.files),this.files=this.files.filter(function(t){return t.size||t.type}))},n.prototype.getData=function(){return{types:this.types,files:this.files}},n}(),P7e=function(){function n(){this.heightMap=[],this.indexes={}}return n.prototype.getContentHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},n.prototype.onInsertItems=function(e,t){t===void 0&&(t=null);var r=null,i,o,s,a,u=0;if(t===null)o=0,a=0;else{if(o=this.indexes[t]+1,i=this.heightMap[o-1],!i){console.error("view item doesnt exist");return}a=i.top+i.height}for(var l=this.heightMap.splice.bind(this.heightMap,o,0),c=[];r=e.next();)i=this.createViewItem(r),i.top=a+u,this.indexes[r.id]=o++,c.push(i),u+=i.height;for(l.apply(this.heightMap,c),s=o;s<this.heightMap.length;s++)i=this.heightMap[s],i.top+=u,this.indexes[i.model.id]=s;for(s=c.length-1;s>=0;s--)this.onInsertItem(c[s]);for(s=this.heightMap.length-1;s>=o;s--)this.onRefreshItem(this.heightMap[s]);return u},n.prototype.onInsertItem=function(e){},n.prototype.onRemoveItems=function(e){for(var t=null,r,i=null,o=0,s=0;t=e.next();){if(o=this.indexes[t],r=this.heightMap[o],!r){console.error("view item doesnt exist");return}s-=r.height,delete this.indexes[t],this.onRemoveItem(r),i===null&&(i=o)}if(!(s===0||i===null))for(this.heightMap.splice(i,o-i+1),o=i;o<this.heightMap.length;o++)r=this.heightMap[o],r.top+=s,this.indexes[r.model.id]=o,this.onRefreshItem(r)},n.prototype.onRemoveItem=function(e){},n.prototype.onRefreshItemSet=function(e){var t=this,r=e.sort(function(i,o){return t.indexes[i.id]-t.indexes[o.id]});this.onRefreshItems(new Vv(r))},n.prototype.onRefreshItems=function(e){for(var t=null,r,i,o,s=null,a=0;t=e.next();){for(o=this.indexes[t.id];a!==0&&s!==null&&s<o;s++)r=this.heightMap[s],r.top+=a,this.onRefreshItem(r);r=this.heightMap[o],i=t.getHeight(),r.top+=a,a+=i-r.height,r.height=i,this.onRefreshItem(r,!0),s=o+1}if(a!==0&&s!==null)for(;s<this.heightMap.length;s++)r=this.heightMap[s],r.top+=a,this.onRefreshItem(r)},n.prototype.onRefreshItem=function(e,t){},n.prototype.indexAt=function(e){for(var t=0,r=this.heightMap.length,i,o;t<r;)if(i=Math.floor((t+r)/2),o=this.heightMap[i],e<o.top)r=i;else if(e>=o.top+o.height){if(t===i)break;t=i}else return i;return this.heightMap.length},n.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},n.prototype.itemAtIndex=function(e){return this.heightMap[e]},n.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},n.prototype.createViewItem=function(e){throw new Error("not implemented")},n.prototype.dispose=function(){this.heightMap=[],this.indexes={}},n}(),Foe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Boe=function(){function n(e,t,r){this._posx=e,this._posy=t,this._target=r}return n.prototype.preventDefault=function(){},n.prototype.stopPropagation=function(){},Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n}(),M7e=function(n){Foe(e,n);function e(t){var r=n.call(this,t.posx,t.posy,t.target)||this;return r.originalEvent=t,r}return e.prototype.preventDefault=function(){this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},e}(Boe),F7e=function(n){Foe(e,n);function e(t,r,i){var o=n.call(this,t,r,i.target)||this;return o.originalEvent=i,o}return e.prototype.preventDefault=function(){this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},e}(Boe),Hoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function B7e(n){try{n.parentElement.removeChild(n)}catch{}}var H7e=function(){function n(e){this.context=e,this._cache={"":[]}}return n.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var r=document.createElement("div");r.className="content";var i=document.createElement("div");i.appendChild(r);var o=null;try{o=this.context.renderer.renderTemplate(this.context.tree,e,r)}catch(s){console.error("Tree usage error: exception while rendering template"),console.error(s)}t={element:i,templateId:e,templateData:o}}return t},n.prototype.release=function(e,t){B7e(t.element),this.cache(e).push(t)},n.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},n.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(r){e.context.renderer.disposeTemplate(e.context.tree,t,r.templateData),r.element=null,r.templateData=null}),delete e._cache[t]})},n.prototype.dispose=function(){this.garbageCollect(),this._cache=null},n}(),Voe=function(){function n(e,t){var r=this;this.width=0,this.needsRender=!1,this.uri=null,this.unbindDragStart=he.None,this._draggable=!1,this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(i){return r._styles[i]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(n.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),n.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},n.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},n.prototype.render=function(e){var t=this;if(e===void 0&&(e=!1),!(!this.model||!this.element)){var r=["monaco-tree-row"];r.push.apply(r,Object.keys(this._styles)),this.model.hasChildren()&&r.push("has-children"),this.element.className=r.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var i=this.context.accessibilityProvider,o=i.getAriaLabel(this.context.tree,this.model.getElement());if(o&&this.element.setAttribute("aria-label",o),i.getPosInSet&&i.getSetSize&&(this.element.setAttribute("aria-setsize",i.getSetSize()),this.element.setAttribute("aria-posinset",i.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var s=bee(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",s)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles.expanded)):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var a=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(a!==this.uri&&(this.unbindDragStart&&this.unbindDragStart.dispose(),a?(this.uri=a,this.draggable=!0,this.unbindDragStart=ye(this.element,"dragstart",function(c){t.onDragStart(c)})):this.uri=null),!e&&this.element){var u=0;if(this.context.horizontalScrolling){var l=window.getComputedStyle(this.element);u=parseFloat(l.paddingLeft)}this.context.horizontalScrolling&&(this.element.style.width="fit-content");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(c){console.error("Tree usage error: exception while rendering element"),console.error(c)}this.context.horizontalScrolling&&(this.width=kT(this.element)+u,this.element.style.width="")}}},n.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[R3.BINDING]=this),!this.element.parentElement){if(t===null)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch{console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},n.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart.dispose(),this.uri=null,this.element[R3.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},n.prototype.dispose=function(){this.row=null},n}(),V7e=function(n){Hoe(e,n);function e(t,r,i){var o=n.call(this,t,r)||this;return o.row={element:i,templateData:null,templateId:null},o}return e.prototype.render=function(){if(!(!this.model||!this.element)){var t=["monaco-tree-wrapper"];t.push.apply(t,Object.keys(this._styles)),this.model.hasChildren()&&t.push("has-children"),this.element.className=t.join(" ")}},e.prototype.insertInDOM=function(t,r){},e.prototype.removeFromDOM=function(){},e}(Voe);function W7e(n,e){return!n&&!e?!0:!n||!e||n.accept!==e.accept||n.bubble!==e.bubble?!1:n.effect===e.effect}var R3=function(n){Hoe(e,n);function e(t,r){var i=n.call(this)||this;i.model=null,i.lastPointerType="",i.lastClickTimeStamp=0,i.contentWidthUpdateDelayer=new k_(50),i.isRefreshing=!1,i.refreshingPreviousChildrenIds={},i.currentDragAndDropData=null,i.currentDropTarget=null,i.currentDropTargets=null,i.currentDropDisposable=he.None,i.dragAndDropScrollInterval=null,i.dragAndDropScrollTimeout=null,i.dragAndDropMouseY=null,i.highlightedItemWasDraggable=!1,i.onHiddenScrollTop=null,i._onDOMFocus=new Q,i.onDOMFocus=i._onDOMFocus.event,i._onDOMBlur=new Q,i._onDidScroll=new Q,e.counter++,i.instance=e.counter;var o=typeof t.options.horizontalScrollMode>"u"?2:t.options.horizontalScrollMode;i.horizontalScrolling=o!==2,i.context={dataSource:t.dataSource,renderer:t.renderer,controller:t.controller,dnd:t.dnd,filter:t.filter,sorter:t.sorter,tree:t.tree,accessibilityProvider:t.accessibilityProvider,options:t.options,cache:new H7e(t),horizontalScrolling:i.horizontalScrolling},i.modelListeners=[],i.viewListeners=[],i.items={},i.domNode=document.createElement("div"),i.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+i.instance,i.domNode.tabIndex=t.options.preventRootFocus?-1:0,i.styleElement=Fh(i.domNode),i.treeStyler=t.styler||new D7e(i.styleElement,"monaco-tree-instance-"+i.instance),i.domNode.setAttribute("role","tree"),i.context.options.ariaLabel&&i.domNode.setAttribute("aria-label",i.context.options.ariaLabel),i.context.options.alwaysFocused&&De(i.domNode,"focused"),i.context.options.paddingOnRow||De(i.domNode,"no-row-padding"),i.wrapper=document.createElement("div"),i.wrapper.className="monaco-tree-wrapper",i.scrollableElement=new yC(i.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:o,vertical:typeof t.options.verticalScrollMode<"u"?t.options.verticalScrollMode:1,useShadows:t.options.useShadows}),i.scrollableElement.onScroll(function(a){i.render(a.scrollTop,a.height,a.scrollLeft,a.width,a.scrollWidth),i._onDidScroll.fire()}),Ls?(i.wrapper.style.msTouchAction="none",i.wrapper.style.msContentZooming="none"):F_.addTarget(i.wrapper),i.rowsContainer=document.createElement("div"),i.rowsContainer.className="monaco-tree-rows",t.options.showTwistie&&(i.rowsContainer.className+=" show-twisties");var s=Gb(i.domNode);return i.viewListeners.push(s.onDidFocus(function(){return i.onFocus()})),i.viewListeners.push(s.onDidBlur(function(){return i.onBlur()})),i.viewListeners.push(s),i.viewListeners.push(ye(i.domNode,"keydown",function(a){return i.onKeyDown(a)})),i.viewListeners.push(ye(i.domNode,"keyup",function(a){return i.onKeyUp(a)})),i.viewListeners.push(ye(i.domNode,"mousedown",function(a){return i.onMouseDown(a)})),i.viewListeners.push(ye(i.domNode,"mouseup",function(a){return i.onMouseUp(a)})),i.viewListeners.push(ye(i.wrapper,"auxclick",function(a){a&&a.button===1&&i.onMouseMiddleClick(a)})),i.viewListeners.push(ye(i.wrapper,"click",function(a){return i.onClick(a)})),i.viewListeners.push(ye(i.domNode,"contextmenu",function(a){return i.onContextMenu(a)})),i.viewListeners.push(ye(i.wrapper,ci.Tap,function(a){return i.onTap(a)})),i.viewListeners.push(ye(i.wrapper,ci.Change,function(a){return i.onTouchChange(a)})),Ls&&(i.viewListeners.push(ye(i.wrapper,"MSPointerDown",function(a){return i.onMsPointerDown(a)})),i.viewListeners.push(ye(i.wrapper,"MSGestureTap",function(a){return i.onMsGestureTap(a)})),i.viewListeners.push(pC(i.wrapper,"MSGestureChange",function(a){return i.onThrottledMsGestureChange(a)},function(a,u){u.stopPropagation(),u.preventDefault();var l={translationY:u.translationY,translationX:u.translationX};return a&&(l.translationY+=a.translationY,l.translationX+=a.translationX),l}))),i.viewListeners.push(ye(window,"dragover",function(a){return i.onDragOver(a)})),i.viewListeners.push(ye(i.wrapper,"drop",function(a){return i.onDrop(a)})),i.viewListeners.push(ye(window,"dragend",function(a){return i.onDragEnd(a)})),i.viewListeners.push(ye(window,"dragleave",function(a){return i.onDragOver(a)})),i.wrapper.appendChild(i.rowsContainer),i.domNode.appendChild(i.scrollableElement.getDomNode()),r.appendChild(i.domNode),i.lastRenderTop=0,i.lastRenderHeight=0,i.didJustPressContextMenuKey=!1,i.currentDropTarget=null,i.currentDropTargets=[],i.shouldInvalidateDropReaction=!1,i.dragAndDropScrollInterval=null,i.dragAndDropScrollTimeout=null,i.onRowsChanged(),i.layout(),i.setupMSGesture(),i.applyStyles(t.options),i}return e.prototype.applyStyles=function(t){this.treeStyler.style(t)},e.prototype.createViewItem=function(t){return new Voe(this.context,t)},e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.focus=function(){this.domNode.focus()},e.prototype.isFocused=function(){return document.activeElement===this.domNode},e.prototype.blur=function(){this.domNode.blur()},e.prototype.setupMSGesture=function(){var t=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return t.msGesture.target=t.wrapper},100))},e.prototype.isTreeVisible=function(){return this.onHiddenScrollTop===null},e.prototype.layout=function(t,r){this.isTreeVisible()&&(this.viewHeight=t||aee(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=r||kT(this.wrapper)))},e.prototype.render=function(t,r,i,o,s){var a,u,l=t,c=t+r,h=this.lastRenderTop+this.lastRenderHeight;for(a=this.indexAfter(c)-1,u=this.indexAt(Math.max(h,l));a>=u;a--)this.insertItemInDOM(this.itemAtIndex(a));for(a=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(c))-1,u=this.indexAt(l);a>=u;a--)this.insertItemInDOM(this.itemAtIndex(a));for(a=this.indexAt(this.lastRenderTop),u=Math.min(this.indexAt(l),this.indexAfter(h));a<u;a++)this.removeItemFromDOM(this.itemAtIndex(a));for(a=Math.max(this.indexAfter(c),this.indexAt(this.lastRenderTop)),u=this.indexAfter(h);a<u;a++)this.removeItemFromDOM(this.itemAtIndex(a));var d=this.itemAtIndex(this.indexAt(l));d&&(this.rowsContainer.style.top=d.top-l+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-i+"px",this.rowsContainer.style.width=Math.max(s,o)+"px"),this.lastRenderTop=l,this.lastRenderHeight=c-l},e.prototype.setModel=function(t){this.releaseModel(),this.model=t,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},e.prototype.onRefreshing=function(){this.isRefreshing=!0},e.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},e.prototype.onRowsChanged=function(t){t===void 0&&(t=this.scrollTop),!this.isRefreshing&&(this.scrollTop=t,this.updateScrollWidth())},e.prototype.updateScrollWidth=function(){var t=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger(function(){for(var r=Object.keys(t.items),i=0,o=0,s=r;o<s.length;o++){var a=s[o];i=Math.max(i,t.items[a].width)}t.scrollWidth=i+10})},e.prototype.focusNextPage=function(t){var r=this,i=this.indexAt(this.scrollTop+this.viewHeight);i=i===0?0:i-1;var o=this.itemAtIndex(i).model.getElement(),s=this.model.getFocus();if(s!==o)this.model.setFocus(o,t);else{var a=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==a&&setTimeout(function(){r.focusNextPage(t)},0)}},e.prototype.focusPreviousPage=function(t){var r=this,i;this.scrollTop===0?i=this.indexAt(this.scrollTop):i=this.indexAfter(this.scrollTop-1);var o=this.itemAtIndex(i).model.getElement(),s=this.model.getFocus();if(s!==o)this.model.setFocus(o,t);else{var a=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==a&&setTimeout(function(){r.focusPreviousPage(t)},0)}},Object.defineProperty(e.prototype,"viewHeight",{get:function(){var t=this.scrollableElement.getScrollDimensions();return t.height},set:function(t){this.scrollableElement.setScrollDimensions({height:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{set:function(t){t=t+(this.horizontalScrolling?10:0),this.scrollableElement.setScrollDimensions({scrollHeight:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewWidth",{get:function(){var t=this.scrollableElement.getScrollDimensions();return t.width},set:function(t){this.scrollableElement.setScrollDimensions({width:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{set:function(t){this.scrollableElement.setScrollDimensions({scrollWidth:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){var t=this.scrollableElement.getScrollPosition();return t.scrollTop},set:function(t){var r=this.getContentHeight()+(this.horizontalScrolling?10:0);this.scrollableElement.setScrollDimensions({scrollHeight:r}),this.scrollableElement.setScrollPosition({scrollTop:t})},enumerable:!0,configurable:!0}),e.prototype.onClearingInput=function(t){var r=t.item;r&&(this.onRemoveItems(new Bj(r.getNavigator(),function(i){return i&&i.id})),this.onRowsChanged())},e.prototype.onSetInput=function(t){this.context.cache.garbageCollect(),this.inputItem=new V7e(this.context,t.item,this.wrapper)},e.prototype.onItemChildrenRefreshing=function(t){var r=t.item,i=this.items[r.id];if(i&&this.context.options.showLoading&&(i.loadingTimer=setTimeout(function(){i.loadingTimer=0,i.loading=!0},e.LOADING_DECORATION_DELAY)),!t.isNested){for(var o=[],s=r.getNavigator(),a=void 0;a=s.next();)o.push(a.id);this.refreshingPreviousChildrenIds[r.id]=o}},e.prototype.onItemChildrenRefreshed=function(t){var r=this,i=t.item,o=this.items[i.id];if(o&&(o.loadingTimer&&(clearTimeout(o.loadingTimer),o.loadingTimer=0),o.loading=!1),!t.isNested){for(var s=this.refreshingPreviousChildrenIds[i.id],a=[],u=i.getNavigator(),l=void 0;l=u.next();)a.push(l);var c=Math.abs(s.length-a.length)>1e3,h=[],d=!1;if(!c){var p=new F6({getLength:function(){return s.length},getElementAtIndex:function(C){return s[C]}},{getLength:function(){return a.length},getElementAtIndex:function(C){return a[C].id}},null);h=p.ComputeDiff(!1),d=h.some(function(C){if(C.modifiedLength>0){for(var E=C.modifiedStart,S=C.modifiedStart+C.modifiedLength;E<S;E++)if(r.items.hasOwnProperty(a[E].id))return!0}return!1})}if(!c&&!d&&h.length<50)for(var v=0,m=h;v<m.length;v++){var _=m[v];if(_.originalLength>0&&this.onRemoveItems(new Vv(s,_.originalStart,_.originalStart+_.originalLength)),_.modifiedLength>0){var b=a[_.modifiedStart-1]||i;b=b.getDepth()>0?b:null,this.onInsertItems(new Vv(a,_.modifiedStart,_.modifiedStart+_.modifiedLength),b?b.id:null)}}else(c||h.length)&&(this.onRemoveItems(new Vv(s)),this.onInsertItems(new Vv(a),i.getDepth()>0?i.id:null));(c||h.length)&&this.onRowsChanged()}},e.prototype.onItemRefresh=function(t){this.onItemsRefresh([t])},e.prototype.onItemsRefresh=function(t){var r=this;this.onRefreshItemSet(t.filter(function(i){return r.items.hasOwnProperty(i.id)})),this.onRowsChanged()},e.prototype.onItemExpanding=function(t){var r=this.items[t.item.id];r&&(r.expanded=!0)},e.prototype.onItemExpanded=function(t){var r=t.item,i=this.items[r.id];if(i){i.expanded=!0;var o=this.onInsertItems(r.getNavigator(),r.id)||0,s=this.scrollTop;i.top+i.height<=this.scrollTop&&(s+=o),this.onRowsChanged(s)}},e.prototype.onItemCollapsing=function(t){var r=t.item,i=this.items[r.id];i&&(i.expanded=!1,this.onRemoveItems(new Bj(r.getNavigator(),function(o){return o&&o.id})),this.onRowsChanged())},e.prototype.onItemReveal=function(t){var r=t.item,i=t.relativeTop,o=this.items[r.id];if(o)if(i!==null){i=i<0?0:i,i=i>1?1:i;var s=o.height-this.viewHeight;this.scrollTop=s*i+o.top}else{var a=o.top+o.height,u=this.scrollTop+this.viewHeight;o.top<this.scrollTop?this.scrollTop=o.top:a>=u&&(this.scrollTop=a-this.viewHeight)}},e.prototype.onItemAddTrait=function(t){var r=t.item,i=t.trait,o=this.items[r.id];o&&o.addClass(i),i==="highlighted"&&(De(this.domNode,i),o&&(this.highlightedItemWasDraggable=!!o.draggable,o.draggable&&(o.draggable=!1)))},e.prototype.onItemRemoveTrait=function(t){var r=t.item,i=t.trait,o=this.items[r.id];o&&o.removeClass(i),i==="highlighted"&&(st(this.domNode,i),this.highlightedItemWasDraggable&&(o.draggable=!0),this.highlightedItemWasDraggable=!1)},e.prototype.onModelFocusChange=function(){var t=this.model&&this.model.getFocus();Rt(this.domNode,"no-focused-item",!t),t?this.domNode.setAttribute("aria-activedescendant",bee(this.context.dataSource.getId(this.context.tree,t))):this.domNode.removeAttribute("aria-activedescendant")},e.prototype.onInsertItem=function(t){var r=this;t.onDragStart=function(i){r.onDragStart(t,i)},t.needsRender=!0,this.refreshViewItem(t),this.items[t.id]=t},e.prototype.onRefreshItem=function(t,r){r===void 0&&(r=!1),t.needsRender=t.needsRender||r,this.refreshViewItem(t)},e.prototype.onRemoveItem=function(t){this.removeItemFromDOM(t),t.dispose(),delete this.items[t.id]},e.prototype.refreshViewItem=function(t){t.render(),this.shouldBeRendered(t)?this.insertItemInDOM(t):this.removeItemFromDOM(t)},e.prototype.onClick=function(t){if(!(this.lastPointerType&&this.lastPointerType!=="mouse")){var r=new hi(t),i=this.getItemAround(r.target);i&&(Ls&&Date.now()-this.lastClickTimeStamp<300&&(r.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,i.model.getElement(),r))}},e.prototype.onMouseMiddleClick=function(t){if(this.context.controller.onMouseMiddleClick){var r=new hi(t),i=this.getItemAround(r.target);i&&this.context.controller.onMouseMiddleClick(this.context.tree,i.model.getElement(),r)}},e.prototype.onMouseDown=function(t){if(this.didJustPressContextMenuKey=!1,!!this.context.controller.onMouseDown&&!(this.lastPointerType&&this.lastPointerType!=="mouse")){var r=new hi(t);if(!(r.ctrlKey&&Iu&&Tt)){var i=this.getItemAround(r.target);i&&this.context.controller.onMouseDown(this.context.tree,i.model.getElement(),r)}}},e.prototype.onMouseUp=function(t){if(this.context.controller.onMouseUp&&!(this.lastPointerType&&this.lastPointerType!=="mouse")){var r=new hi(t);if(!(r.ctrlKey&&Iu&&Tt)){var i=this.getItemAround(r.target);i&&this.context.controller.onMouseUp(this.context.tree,i.model.getElement(),r)}}},e.prototype.onTap=function(t){var r=this.getItemAround(t.initialTarget);r&&this.context.controller.onTap(this.context.tree,r.model.getElement(),t)},e.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},e.prototype.onContextMenu=function(t){var r,i;if(t instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var o=new Gn(t);i=this.model.getFocus();var s=void 0;if(!i)i=this.model.getInput(),s=_i(this.inputItem.element);else{var a=this.context.dataSource.getId(this.context.tree,i),u=this.items[a];s=_i(u.element)}r=new F7e(s.left+s.width,s.top,o)}else{var l=new hi(t),c=this.getItemAround(l.target);if(!c)return;i=c.model.getElement(),r=new M7e(l)}this.context.controller.onContextMenu(this.context.tree,i,r)},e.prototype.onKeyDown=function(t){var r=new Gn(t);this.didJustPressContextMenuKey=r.keyCode===58||r.shiftKey&&r.keyCode===68,!(r.target&&r.target.tagName&&r.target.tagName.toLowerCase()==="input")&&(this.didJustPressContextMenuKey&&(r.preventDefault(),r.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,r))},e.prototype.onKeyUp=function(t){this.didJustPressContextMenuKey&&this.onContextMenu(t),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new Gn(t))},e.prototype.onDragStart=function(t,r){if(!this.model.getHighlight()){var i=t.model.getElement(),o=this.model.getSelection(),s;if(o.indexOf(i)>-1?s=o:s=[i],r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setData(Mne.RESOURCES,JSON.stringify([t.uri])),r.dataTransfer.setDragImage){var a=void 0;this.context.dnd.getDragLabel?a=this.context.dnd.getDragLabel(this.context.tree,s):a=String(s.length);var u=document.createElement("div");u.className="monaco-tree-drag-image",u.textContent=a,document.body.appendChild(u),r.dataTransfer.setDragImage(u,-10,-10),setTimeout(function(){return document.body.removeChild(u)},0)}this.currentDragAndDropData=new O7e(s),Js.CurrentDragAndDropData=new k7e(s),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new TO(r))}},e.prototype.setupDragAndDropScrollInterval=function(){var t=this,r=_6(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(t.dragAndDropMouseY!==null){var i=t.dragAndDropMouseY-r,o=0,s=t.viewHeight-35;i<35?o=Math.max(-14,.2*(i-35)):i>s&&(o=Math.min(14,.2*(i-s))),t.scrollTop+=o}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){t.cancelDragAndDropScrollInterval(),t.dragAndDropScrollTimeout=null},1e3))},e.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},e.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},e.prototype.onDragOver=function(t){var r=this;t.preventDefault();var i=new TO(t),o=this.getItemAround(i.target);if(!o||i.posx===0&&i.posy===0&&i.browserEvent.type===lt.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(v){return v.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(Js.CurrentDragAndDropData)this.currentDragAndDropData=Js.CurrentDragAndDropData;else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new R7e}this.currentDragAndDropData.update(i.browserEvent.dataTransfer);var s,a=o.model,u;do{if(s=a?a.getElement():this.model.getInput(),u=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,s,i),!u||u.bubble!==1)break;a=a&&a.parent}while(a);if(!a)return this.currentDropElement=null,!1;var l=u&&u.accept;l?(this.currentDropElement=a.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=u.effect===0?"copy":"move"):this.currentDropElement=null;var c=a.id===this.inputItem.id?this.inputItem:this.items[a.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==c||!W7e(this.currentDropElementReaction,u))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(v){return v.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=c,this.currentDropElementReaction=u,l)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),u.bubble===0)for(var h=a.getNavigator(),d=void 0;d=h.next();)o=this.items[d.id],o&&(o.dropTarget=!0,this.currentDropTargets.push(o));if(u.autoExpand){var p=dC(500);this.currentDropDisposable=bn(function(){return p.cancel()}),p.then(function(){return r.context.tree.expand(r.currentDropElement)}).then(function(){return r.shouldInvalidateDropReaction=!0})}}return!0},e.prototype.onDrop=function(t){if(this.currentDropElement){var r=new TO(t);r.preventDefault(),this.currentDragAndDropData.update(r.browserEvent.dataTransfer),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,r),this.onDragEnd(t)}this.cancelDragAndDropScrollInterval()},e.prototype.onDragEnd=function(t){this.currentDropTarget&&(this.currentDropTargets.forEach(function(r){return r.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,Js.CurrentDragAndDropData=void 0,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},e.prototype.onFocus=function(){this.context.options.alwaysFocused||De(this.domNode,"focused"),this._onDOMFocus.fire()},e.prototype.onBlur=function(){this.context.options.alwaysFocused||st(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},e.prototype.onMsPointerDown=function(t){if(this.msGesture){var r=t.pointerType;if(r===(t.MSPOINTER_TYPE_MOUSE||"mouse")){this.lastPointerType="mouse";return}else if(r===(t.MSPOINTER_TYPE_TOUCH||"touch"))this.lastPointerType="touch";else return;t.stopPropagation(),t.preventDefault(),this.msGesture.addPointer(t.pointerId)}},e.prototype.onThrottledMsGestureChange=function(t){this.scrollTop-=t.translationY},e.prototype.onMsGestureTap=function(t){t.initialTarget=document.elementFromPoint(t.clientX,t.clientY),this.onTap(t)},e.prototype.insertItemInDOM=function(t){var r=null,i=this.itemAfter(t);i&&i.element&&(r=i.element),t.insertInDOM(this.rowsContainer,r)},e.prototype.removeItemFromDOM=function(t){t&&t.removeFromDOM()},e.prototype.shouldBeRendered=function(t){return t.top<this.lastRenderTop+this.lastRenderHeight&&t.top+t.height>this.lastRenderTop},e.prototype.getItemAround=function(t){var r=this.inputItem,i=t;do{if(i[e.BINDING]&&(r=i[e.BINDING]),i===this.wrapper||i===this.domNode)return r;if(i===this.scrollableElement.getDomNode()||i===document.body)return}while(i=i.parentElement)},e.prototype.releaseModel=function(){this.model&&(this.modelListeners=nt(this.modelListeners),this.model=null)},e.prototype.dispose=function(){var t=this;this.scrollableElement.dispose(),this.releaseModel(),this.viewListeners=nt(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.items&&Object.keys(this.items).forEach(function(r){return t.items[r].removeFromDOM()}),this.context.cache&&this.context.cache.dispose(),n.prototype.dispose.call(this)},e.BINDING="monaco-tree-row",e.LOADING_DECORATION_DELAY=800,e.counter=0,e}(P7e),U7e=function(){function n(e,t,r){if(r===void 0&&(r={}),this.tree=e,this.configuration=t,this.options=r,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer,this.controller=t.controller||new Roe({clickBehavior:1,keyboardSupport:typeof r.keyboardSupport!="boolean"||r.keyboardSupport}),this.dnd=t.dnd||new E7e,this.filter=t.filter||new S7e,this.sorter=t.sorter,this.accessibilityProvider=t.accessibilityProvider||new T7e,this.styler=t.styler}return n}(),j7e={listFocusBackground:ae.fromHex("#073655"),listActiveSelectionBackground:ae.fromHex("#0E639C"),listActiveSelectionForeground:ae.fromHex("#FFFFFF"),listFocusAndSelectionBackground:ae.fromHex("#094771"),listFocusAndSelectionForeground:ae.fromHex("#FFFFFF"),listInactiveSelectionBackground:ae.fromHex("#3F3F46"),listHoverBackground:ae.fromHex("#2A2D2E"),listDropBackground:ae.fromHex("#383B3D")},q7e=function(){function n(e,t,r){r===void 0&&(r={}),this._onDidChangeFocus=new Ti,this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new Ti,this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new Ti,this._onDidExpandItem=new Ti,this._onDidCollapseItem=new Ti,this._onDispose=new Q,this.onDidDispose=this._onDispose.event,this.container=e,$r(r,j7e,!1),r.twistiePixels=typeof r.twistiePixels=="number"?r.twistiePixels:32,r.showTwistie=r.showTwistie!==!1,r.indentPixels=typeof r.indentPixels=="number"?r.indentPixels:12,r.alwaysFocused=r.alwaysFocused===!0,r.useShadows=r.useShadows!==!1,r.paddingOnRow=r.paddingOnRow!==!1,r.showLoading=r.showLoading!==!1,this.context=new U7e(this,t,r),this.model=new N7e(this.context),this.view=new R3(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}return n.prototype.style=function(e){this.view.applyStyles(e)},Object.defineProperty(n.prototype,"onDidFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:!0,configurable:!0}),n.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},n.prototype.layout=function(e,t){this.view.layout(e,t)},n.prototype.domFocus=function(){this.view.focus()},n.prototype.isDOMFocused=function(){return this.view.isFocused()},n.prototype.domBlur=function(){this.view.blur()},n.prototype.setInput=function(e){return this.model.setInput(e)},n.prototype.getInput=function(){return this.model.getInput()},n.prototype.expand=function(e){return this.model.expand(e)},n.prototype.collapse=function(e,t){return t===void 0&&(t=!1),this.model.collapse(e,t)},n.prototype.toggleExpansion=function(e,t){return t===void 0&&(t=!1),this.model.toggleExpansion(e,t)},n.prototype.isExpanded=function(e){return this.model.isExpanded(e)},n.prototype.reveal=function(e,t){return t===void 0&&(t=null),this.model.reveal(e,t)},n.prototype.getHighlight=function(){return this.model.getHighlight()},n.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},n.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},n.prototype.getSelection=function(){return this.model.getSelection()},n.prototype.clearSelection=function(e){this.model.setSelection([],e)},n.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},n.prototype.getFocus=function(){return this.model.getFocus()},n.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},n.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},n.prototype.focusParent=function(e){this.model.focusParent(e)},n.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)},n.prototype.focusFirst=function(e,t){this.model.focusFirst(e,t)},n.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},n.prototype.focusLast=function(e,t){this.model.focusLast(e,t)},n.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},n.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},n.prototype.clearFocus=function(e){this.model.setFocus(null,e)},n.prototype.dispose=function(){this._onDispose.fire(),this.model!==null&&(this.model.dispose(),this.model=null),this.view!==null&&(this.view.dispose(),this.view=null),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},n}(),z7e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G7e="done",$7e="active",i$="infinite",K7e="discrete",Y7e="monaco-progress-container",X7e="progress-bit",Q7e={progressBarBackground:ae.fromHex("#0E70C0")},Z7e=function(n){z7e(e,n);function e(t,r){var i=n.call(this)||this;return i.options=r||Object.create(null),$r(i.options,Q7e,!1),i.workedVal=0,i.progressBarBackground=i.options.progressBarBackground,i._register(i.showDelayedScheduler=new Hr(function(){return Li(i.element)},0)),i.create(t),i}return e.prototype.create=function(t){this.element=document.createElement("div"),De(this.element,Y7e),t.appendChild(this.element),this.bit=document.createElement("div"),De(this.bit,X7e),this.element.appendChild(this.bit),this.applyStyles()},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",u2(this.element,$7e,i$,K7e),this.workedVal=0,this.totalWork=void 0},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(t){var r=this;return De(this.element,G7e),xu(this.element,i$)?(this.bit.style.opacity="0",t?setTimeout(function(){return r.off()},200):this.off()):(this.bit.style.width="inherit",t?setTimeout(function(){return r.off()},200):this.off()),this},e.prototype.hide=function(){Kr(this.element),this.showDelayedScheduler.cancel()},e.prototype.style=function(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()},e.prototype.applyStyles=function(){if(this.bit){var t=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=t}},e}(he),Woe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J7e=function(n){Woe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onContextMenu=function(t,r,i){return Tt?this.onLeftClick(t,r,i):n.prototype.onContextMenu.call(this,t,r,i)},e}(Roe),eje={background:ae.fromHex("#1E1E1E"),foreground:ae.fromHex("#CCCCCC"),pickerGroupForeground:ae.fromHex("#0097FB"),pickerGroupBorder:ae.fromHex("#3F3F46"),widgetShadow:ae.fromHex("#000000"),progressBarBackground:ae.fromHex("#0E70C0")},o$=D("quickOpenAriaLabel","Quick picker. Type to narrow down results."),tje=function(n){Woe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.isDisposed=!1,o.container=t,o.callbacks=r,o.options=i,o.styles=i||Object.create(null),$r(o.styles,eje,!1),o.model=null,o}return e.prototype.getModel=function(){return this.model},e.prototype.create=function(){var t=this;this.element=document.createElement("div"),De(this.element,"monaco-quick-open-widget"),this.container.appendChild(this.element),this._register(ye(this.element,lt.CONTEXT_MENU,function(i){return Sn.stop(i,!0)})),this._register(ye(this.element,lt.FOCUS,function(i){return t.gainingFocus()},!0)),this._register(ye(this.element,lt.BLUR,function(i){return t.loosingFocus(i)},!0)),this._register(ye(this.element,lt.KEY_DOWN,function(i){var o=new Gn(i);if(o.keyCode===9)Sn.stop(i,!0),t.hide(2);else if(o.keyCode===2&&!o.altKey&&!o.ctrlKey&&!o.metaKey){var s=i.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");o.shiftKey&&o.target===s[0]?(Sn.stop(i,!0),s[s.length-1].focus()):!o.shiftKey&&o.target===s[s.length-1]&&(Sn.stop(i,!0),s[0].focus())}})),this.progressBar=this._register(new Z7e(this.element,{progressBarBackground:this.styles.progressBarBackground})),this.progressBar.hide(),this.inputContainer=document.createElement("div"),De(this.inputContainer,"quick-open-input"),this.element.appendChild(this.inputContainer),this.inputBox=this._register(new Xre(this.inputContainer,void 0,{placeholder:this.options.inputPlaceHolder||"",ariaLabel:o$,inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})),this.inputElement=this.inputBox.inputElement,this.inputElement.setAttribute("role","combobox"),this.inputElement.setAttribute("aria-haspopup","false"),this.inputElement.setAttribute("aria-autocomplete","list"),this._register(ye(this.inputBox.inputElement,lt.INPUT,function(i){return t.onType()})),this._register(ye(this.inputBox.inputElement,lt.KEY_DOWN,function(i){var o=new Gn(i),s=t.shouldOpenInBackground(o);if(o.keyCode!==2){if(o.keyCode===18||o.keyCode===16||o.keyCode===12||o.keyCode===11)Sn.stop(i,!0),t.navigateInTree(o.keyCode,o.shiftKey),t.inputBox.inputElement.selectionStart===t.inputBox.inputElement.selectionEnd&&(t.inputBox.inputElement.selectionStart=t.inputBox.value.length);else if(o.keyCode===3||s){Sn.stop(i,!0);var a=t.tree.getFocus();a&&t.elementSelected(a,i,s?2:1)}}})),this.resultCount=document.createElement("div"),De(this.resultCount,"quick-open-result-count"),this.resultCount.setAttribute("aria-live","polite"),this.resultCount.setAttribute("aria-atomic","true"),this.element.appendChild(this.resultCount),this.treeContainer=document.createElement("div"),De(this.treeContainer,"quick-open-tree"),this.element.appendChild(this.treeContainer);var r=this.options.treeCreator||function(i,o,s){return new q7e(i,o,s)};return this.tree=this._register(r(this.treeContainer,{dataSource:new y7e(this),controller:new J7e({clickBehavior:1,keyboardSupport:this.options.keyboardSupport}),renderer:this.renderer=new w7e(this,this.styles),filter:new C7e(this),accessibilityProvider:new b7e(this)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:3,horizontalScrollMode:2,ariaLabel:D("treeAriaLabel","Quick Picker"),keyboardSupport:this.options.keyboardSupport,preventRootFocus:!1})),this.treeElement=this.tree.getHTMLElement(),this._register(this.tree.onDidChangeFocus(function(i){t.elementFocused(i.focus,i)})),this._register(this.tree.onDidChangeSelection(function(i){if(i.selection&&i.selection.length>0){var o=i.payload&&i.payload.originalEvent instanceof hi?i.payload.originalEvent:void 0,s=o?t.shouldOpenInBackground(o):!1;t.elementSelected(i.selection[0],i,s?2:1)}})),this._register(ye(this.treeContainer,lt.KEY_DOWN,function(i){var o=new Gn(i);t.quickNavigateConfiguration&&(o.keyCode===18||o.keyCode===16||o.keyCode===12||o.keyCode===11)&&(Sn.stop(i,!0),t.navigateInTree(o.keyCode))})),this._register(ye(this.treeContainer,lt.KEY_UP,function(i){var o=new Gn(i),s=o.keyCode;if(t.quickNavigateConfiguration){var a=t.quickNavigateConfiguration.keybindings,u=s===3||a.some(function(c){var h=c.getParts(),d=h[0],p=h[1];return p?!1:d.shiftKey&&s===4?!(o.ctrlKey||o.altKey||o.metaKey):!!(d.altKey&&s===6||d.ctrlKey&&s===5||d.metaKey&&s===57)});if(u){var l=t.tree.getFocus();l&&t.elementSelected(l,i)}}})),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this._register(ye(this.treeContainer,lt.KEY_DOWN,function(i){var o=new Gn(i);t.quickNavigateConfiguration||(o.keyCode===18||o.keyCode===16||o.keyCode===12||o.keyCode===11)&&(Sn.stop(i,!0),t.navigateInTree(o.keyCode,o.shiftKey),t.treeElement.focus())})),this.element},e.prototype.style=function(t){this.styles=t,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var t=this.styles.foreground?this.styles.foreground.toString():null,r=this.styles.background?this.styles.background.toString():null,i=this.styles.borderColor?this.styles.borderColor.toString():null,o=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.element.style.color=t,this.element.style.backgroundColor=r,this.element.style.borderColor=i,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.boxShadow=o?"0 5px 8px "+o:null}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},e.prototype.shouldOpenInBackground=function(t){if(t instanceof Gn){if(t.keyCode!==17||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return!1;var r=this.inputBox.inputElement;return r.selectionEnd===this.inputBox.value.length&&r.selectionStart===r.selectionEnd}return t.middleButton},e.prototype.onType=function(){var t=this.inputBox.value;this.helpText&&(t?Kr(this.helpText):Li(this.helpText)),this.callbacks.onType(t)},e.prototype.navigateInTree=function(t,r){var i=this.tree.getInput(),o=i?i.entries:[],s=this.tree.getFocus();switch(t){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:r?this.tree.focusPrevious():this.tree.focusNext();break}var a=this.tree.getFocus();o.length>1&&s===a&&(t===16||t===2&&r?this.tree.focusLast():(t===18||t===2&&!r)&&this.tree.focusFirst()),a=this.tree.getFocus(),a&&this.tree.reveal(a)},e.prototype.elementFocused=function(t,r){if(!(!t||!this.isVisible())){var i=this.treeElement.getAttribute("aria-activedescendant");i?this.inputElement.setAttribute("aria-activedescendant",i):this.inputElement.removeAttribute("aria-activedescendant");var o={event:r,keymods:this.extractKeyMods(r),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(t,0,o)}},e.prototype.elementSelected=function(t,r,i){var o=!0;if(this.isVisible()){var s=i||1,a={event:r,keymods:this.extractKeyMods(r),quickNavigateConfiguration:this.quickNavigateConfiguration};o=this.model.runner.run(t,s,a)}o&&this.hide(0)},e.prototype.extractKeyMods=function(t){return{ctrlCmd:t&&(t.ctrlKey||t.metaKey||t.payload&&t.payload.originalEvent&&(t.payload.originalEvent.ctrlKey||t.payload.originalEvent.metaKey)),alt:t&&(t.altKey||t.payload&&t.payload.originalEvent&&t.payload.originalEvent.altKey)}},e.prototype.show=function(t,r){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=r?r.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(Kr(this.inputContainer),Li(this.element),this.tree.domFocus()):(Li(this.inputContainer),Li(this.element),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||Ll(t)?Kr(this.helpText):Li(this.helpText)),Ll(t)?this.doShowWithPrefix(t):(r&&r.value&&this.restoreLastInput(r.value),this.doShowWithInput(t,r&&r.autoFocus?r.autoFocus:{})),r&&r.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(r.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.restoreLastInput=function(t){this.inputBox.value=t,this.inputBox.select(),this.callbacks.onType(t)},e.prototype.doShowWithPrefix=function(t){this.inputBox.value=t,this.callbacks.onType(t)},e.prototype.doShowWithInput=function(t,r){this.setInput(t,r)},e.prototype.setInputAndLayout=function(t,r){var i=this;this.treeContainer.style.height=this.getHeight(t)+"px",this.tree.setInput(null).then(function(){return i.model=t,i.inputElement.setAttribute("aria-haspopup",String(t&&t.entries&&t.entries.length>0)),i.tree.setInput(t)}).then(function(){i.tree.layout();var o=t?t.entries.filter(function(s){return i.isElementVisible(t,s)}):[];i.updateResultCount(o.length),o.length&&i.autoFocus(t,o,r)})},e.prototype.isElementVisible=function(t,r){return t.filter?t.filter.isVisible(r):!0},e.prototype.autoFocus=function(t,r,i){if(i===void 0&&(i={}),i.autoFocusPrefixMatch){for(var o=void 0,s=void 0,a=i.autoFocusPrefixMatch,u=a.toLowerCase(),l=0,c=r;l<c.length;l++){var h=c[l],d=t.dataSource.getLabel(h)||"";if(!o&&d.indexOf(a)===0?o=h:!s&&d.toLowerCase().indexOf(u)===0&&(s=h),o&&s)break}var p=o||s;if(p){this.tree.setFocus(p),this.tree.reveal(p,.5);return}}i.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus())):typeof i.autoFocusIndex=="number"?r.length>i.autoFocusIndex&&(this.tree.focusNth(i.autoFocusIndex),this.tree.reveal(this.tree.getFocus())):i.autoFocusSecondEntry?r.length>1&&this.tree.focusNth(1):i.autoFocusLastEntry&&r.length>1&&this.tree.focusLast()},e.prototype.getHeight=function(t){var r=this,i=t.renderer;if(!t){var o=i.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*o:0}var s=0,a;this.layoutDimensions&&this.layoutDimensions.height&&(a=(this.layoutDimensions.height-50)*.4),(!a||a>e.MAX_ITEMS_HEIGHT)&&(a=e.MAX_ITEMS_HEIGHT);for(var u=t.entries.filter(function(d){return r.isElementVisible(t,d)}),l=this.options.maxItemsToShow||u.length,c=0;c<l&&c<u.length;c++){var h=i.getHeight(u[c]);if(s+h<=a)s+=h;else break}return s},e.prototype.updateResultCount=function(t){this.resultCount.textContent=D({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",t)},e.prototype.hide=function(t){this.isVisible()&&(this.visible=!1,Kr(this.element),this.element.blur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style.height=(this.options.minItemsToShow?this.options.minItemsToShow*22:0)+"px",this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),t===0?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(t))},e.prototype.setInput=function(t,r,i){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(t,r),this.inputBox&&this.inputBox.setAriaLabel(i||o$))},e.prototype.onInputChanging=function(){var t=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),De(this.element,"content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){st(t.element,"content-changing")},500)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var r=Math.min(this.layoutDimensions.width*.62,e.MAX_WIDTH);this.element&&(this.element.style.width=r+"px",this.element.style.marginLeft="-"+r/2+"px",this.inputContainer.style.width=r-12+"px")},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(t){var r=this;if(this.isVisible()){var i=t.relatedTarget;!this.quickNavigateConfiguration&&Nl(i,this.element)||(this.isLoosingFocus=!0,setTimeout(function(){if(!(!r.isLoosingFocus||r.isDisposed)){var o=r.callbacks.onFocusLost&&r.callbacks.onFocusLost();o||r.hide(1)}},0))}},e.prototype.dispose=function(){n.prototype.dispose.call(this),this.isDisposed=!0},e.MAX_WIDTH=600,e.MAX_ITEMS_HEIGHT=20*22,e}(he),nje=function(){function n(e,t,r,i,o,s){this.codeEditor=e,this.themeService=s,this.create(t,r,i,o)}return n.prototype.create=function(e,t,r,i){this.domNode=document.createElement("div"),this.quickOpenWidget=new tje(this.domNode,{onOk:e,onCancel:t,onType:r},{inputPlaceHolder:void 0,inputAriaLabel:i.inputAriaLabel,keyboardSupport:!0}),this.styler=jMe(this.quickOpenWidget,this.themeService,{pickerGroupForeground:Lc}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},n.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)},n.prototype.getId=function(){return n.ID},n.prototype.getDomNode=function(){return this.domNode},n.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},n.prototype.show=function(e){this.visible=!0;var t=this.codeEditor.getLayoutInfo();t&&this.quickOpenWidget.layout(new ZDe(t.width,t.height)),this.quickOpenWidget.show(e),this.codeEditor.layoutOverlayWidget(this)},n.prototype.getPosition=function(){return this.visible?{preference:2}:null},n.ID="editor.contrib.quickOpenEditorWidget",n}(),rje=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ije=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oje=function(n,e){return function(t,r){e(t,r,n)}},Uoe=function(){function n(e,t){this.themeService=t,this.widget=null,this.rangeHighlightDecorationId=null,this.lastKnownEditorSelection=null,this.editor=e}return n.get=function(e){return e.getContribution(n.ID)},n.prototype.getId=function(){return n.ID},n.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},n.prototype.run=function(e){var t=this;this.widget&&(this.widget.destroy(),this.widget=null);var r=function(i){t.clearDecorations(),i&&t.lastKnownEditorSelection&&(t.editor.setSelection(t.lastKnownEditorSelection),t.editor.revealRangeInCenterIfOutsideViewport(t.lastKnownEditorSelection,0)),t.lastKnownEditorSelection=null,(document.activeElement===document.body||!i)&&t.editor.focus()};this.widget=new nje(this.editor,function(){return r(!1)},function(){return r(!0)},function(i){t.widget.setInput(e.getModel(i),e.getAutoFocus(i))},{inputAriaLabel:e.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},n.prototype.decorateLine=function(e,t){var r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var i=[{range:e,options:n._RANGE_HIGHLIGHT_DECORATION}],o=t.deltaDecorations(r,i);this.rangeHighlightDecorationId=o[0]},n.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},n.ID="editor.controller.quickOpenController",n._RANGE_HIGHLIGHT_DECORATION=mt.register({className:"rangeHighlight",isWholeLine:!0}),n=ije([oje(1,ei)],n),n}(),KB=function(n){rje(e,n);function e(t,r){var i=n.call(this,r)||this;return i._inputAriaLabel=t,i}return e.prototype.getController=function(t){return Uoe.get(t)},e.prototype._show=function(t,r){t.run({inputAriaLabel:this._inputAriaLabel,getModel:function(i){return r.getModel(i)},getAutoFocus:function(i){return r.getAutoFocus(i)}})},e}(Ue);Cn(Uoe);var joe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sje=function(n){joe(e,n);function e(t,r,i){var o=n.call(this)||this;return o.editor=r,o.decorator=i,o.parseResult=o.parseInput(t),o}return e.prototype.parseInput=function(t){var r=t.split(",").map(function(l){return parseInt(l,10)}).filter(function(l){return!isNaN(l)}),i;r.length===0?i=new ee(-1,-1):r.length===1?i=new ee(r[0],1):i=new ee(r[0],r[1]);var o;if(kl(this.editor))o=this.editor.getModel();else{var s=this.editor.getModel();o=s?s.modified:null}var a=o?o.validatePosition(i).equals(i):!1,u;return a?i.column&&i.column>1?u=Yt(_c.gotoLineLabelValidLineAndColumn,i.lineNumber,i.column):u=Yt(_c.gotoLineLabelValidLine,i.lineNumber):i.lineNumber<1||i.lineNumber>(o?o.getLineCount():0)?u=Yt(_c.gotoLineLabelEmptyWithLineLimit,o?o.getLineCount():0):u=Yt(_c.gotoLineLabelEmptyWithLineAndColumnLimit,o?o.getLineMaxColumn(i.lineNumber):0),{position:i,isValid:a,label:u}},e.prototype.getLabel=function(){return this.parseResult.label},e.prototype.getAriaLabel=function(){var t=this.editor.getPosition(),r=t?t.lineNumber:0;return Yt(_c.gotoLineAriaLabel,r,this.parseResult.label)},e.prototype.run=function(t,r){return t===1?this.runOpen():this.runPreview()},e.prototype.runOpen=function(){if(!this.parseResult.isValid)return!1;var t=this.toSelection();return this.editor.setSelection(t),this.editor.revealRangeInCenter(t,0),this.editor.focus(),!0},e.prototype.runPreview=function(){if(!this.parseResult.isValid)return this.decorator.clearDecorations(),!1;var t=this.toSelection();return this.editor.revealRangeInCenter(t,0),this.decorator.decorateLine(t,this.editor),!1},e.prototype.toSelection=function(){return new H(this.parseResult.position.lineNumber,this.parseResult.position.column,this.parseResult.position.lineNumber,this.parseResult.position.column)},e}(GB),aje=function(n){joe(e,n);function e(){return n.call(this,_c.gotoLineActionInput,{id:"editor.action.gotoLine",label:_c.gotoLineActionLabel,alias:"Go to Line...",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:2085,mac:{primary:293},weight:100}})||this}return e.prototype.run=function(t,r){var i=this;this._show(this.getController(r),{getModel:function(o){return new $B([new sje(o,r,i.getController(r))])},getAutoFocus:function(o){return{autoFocusFirstEntry:o.length>0}}})},e}(KB);ge(aje);var qoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uje=function(n){qoe(e,n);function e(t,r,i,o,s){var a=n.call(this)||this;return a.key=t,a.keyAriaLabel=r,a.setHighlights(i),a.action=o,a.editor=s,a}return e.prototype.getLabel=function(){return this.action.label},e.prototype.getAriaLabel=function(){return this.keyAriaLabel?Yt(Vm.ariaLabelEntryWithKey,this.getLabel(),this.keyAriaLabel):Yt(Vm.ariaLabelEntry,this.getLabel())},e.prototype.getGroupLabel=function(){return this.key},e.prototype.run=function(t,r){var i=this;return t===1?(setTimeout(function(){i.editor.focus();try{var o=i.action.run()||Promise.resolve();o.then(void 0,He)}catch(s){He(s)}},50),!0):!1},e}(fb),lje=function(n){qoe(e,n);function e(){return n.call(this,Vm.quickCommandActionInput,{id:"editor.action.quickCommand",label:Vm.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:W.focus,primary:Ls?571:59,weight:100},menuOpts:{group:"z_commands",order:1}})||this}return e.prototype.run=function(t,r){var i=this,o=t.get(Dr);this._show(this.getController(r),{getModel:function(s){return new $B(i._editorActionsToEntries(o,r,s))},getAutoFocus:function(s){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:s}}})},e.prototype._sort=function(t,r){var i=(t.getLabel()||"").toLowerCase(),o=(r.getLabel()||"").toLowerCase();return i.localeCompare(o)},e.prototype._editorActionsToEntries=function(t,r,i){for(var o=r.getSupportedActions(),s=[],a=0,u=o;a<u.length;a++){var l=u[a],c=t.lookupKeybinding(l.id);if(l.label){var h=Une(i,l.label);h&&s.push(new uje(c&&c.getLabel()||"",c&&c.getAriaLabel()||"",h,l,r))}}return s=s.sort(this._sort),s},e}(KB);ge(lje);var YB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kv=function(){function n(){}return n.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},n.findId=function(e,t){var r;typeof e=="string"?r=t.id+"/"+e:(r=t.id+"/"+e.name,t.children[r]!==void 0&&(r=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var i=r,o=0;t.children[i]!==void 0;o++)i=r+"_"+o;return i},n.empty=function(e){for(var t in e.children)return!1;return!0},n}(),zoe=function(n){YB(e,n);function e(t,r,i){var o=n.call(this)||this;return o.id=t,o.parent=r,o.symbol=i,o.children=Object.create(null),o}return e}(Kv),cje=function(n){YB(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.id=t,s.parent=r,s.provider=i,s.providerIndex=o,s.children=Object.create(null),s}return e}(Kv),fje=function(){function n(){this._n=1,this._val=0}return n.prototype.update=function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this},n}(),hje=function(n){YB(e,n);function e(t){var r=n.call(this)||this;return r.textModel=t,r.id="root",r.parent=void 0,r._groups=Object.create(null),r.children=Object.create(null),r.id="root",r.parent=void 0,r}return e.create=function(t,r){var i=this,o=this._keys.for(t,!0),s=e._requests.get(o);if(!s){var a=new Hp;s={promiseCnt:0,source:a,promise:e._create(t,a.token),model:void 0},e._requests.set(o,s);var u=Date.now();s.promise.then(function(){var l=i._keys.for(t,!1),c=i._requestDurations.get(l);c||(c=new fje,i._requestDurations.set(l,c)),c.update(Date.now()-u)})}return s.model?Promise.resolve(s.model):(s.promiseCnt+=1,r.onCancellationRequested(function(){--s.promiseCnt===0&&(s.source.cancel(),e._requests.delete(o))}),new Promise(function(l,c){s.promise.then(function(h){s.model=h,l(h)},function(h){e._requests.delete(o),c(h)})}))},e._create=function(t,r){var i=new Hp(r),o=new e(t),s=zf.ordered(t),a=s.map(function(l,c){var h=Kv.findId("provider_"+c,o),d=new cje(h,o,l,c);return Promise.resolve(l.provideDocumentSymbols(o.textModel,i.token)).then(function(p){for(var v=0,m=p||[];v<m.length;v++){var _=m[v];e._makeOutlineElement(_,d)}return d},function(p){return Oo(p),d}).then(function(p){Kv.empty(p)?p.remove():o._groups[h]=p})}),u=zf.onDidChange(function(){var l=zf.ordered(t);Ph(l,s)||i.cancel()});return Promise.all(a).then(function(){return i.token.isCancellationRequested&&!r.isCancellationRequested?e._create(t,r):o._compact()}).finally(function(){u.dispose()})},e._makeOutlineElement=function(t,r){var i=Kv.findId(t,r),o=new zoe(i,r,t);if(t.children)for(var s=0,a=t.children;s<a.length;s++){var u=a[s];e._makeOutlineElement(u,o)}r.children[o.id]=o},e.prototype._compact=function(){var t=0;for(var r in this._groups){var i=this._groups[r];Hz(i.children)===void 0?delete this._groups[r]:t+=1}if(t!==1)this.children=this._groups;else{var i=Hz(this._groups);for(var r in i.children){var o=i.children[r];o.parent=this,this.children[o.id]=o}}return this},e._requestDurations=new Mm(50,.7),e._requests=new Mm(9,.75),e._keys=new(function(){function t(){this._counter=1,this._data=new WeakMap}return t.prototype.for=function(r,i){return r.id+"/"+(i?r.getVersionId():"")+"/"+this._hash(zf.all(r))},t.prototype._hash=function(r){for(var i="",o=0,s=r;o<s.length;o++){var a=s[o],u=this._data.get(a);typeof u>"u"&&(u=this._counter++,this._data.set(a,u)),i+=u}return i},t}()),e}(Kv),dje=function(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(l){try{u(r.next(l))}catch(c){o(c)}}function a(l){try{u(r.throw(l))}catch(c){o(c)}}function u(l){l.done?i(l.value):new t(function(c){c(l.value)}).then(s,a)}u((r=r.apply(n,e||[])).next())})},pje=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function P3(n,e,t){return dje(this,void 0,void 0,function(){var r,i,o,s,a,u;return pje(this,function(l){switch(l.label){case 0:return[4,hje.create(n,t)];case 1:for(r=l.sent(),i=[],o=0,s=Bz(r.children);o<s.length;o++)a=s[o],a instanceof zoe?i.push(a.symbol):i.push.apply(i,Bz(a.children).map(function(c){return c.symbol}));return u=[],t.isCancellationRequested?[2,u]:(e?Goe(u,i,""):u=i,[2,u.sort(gje)])}})})}function gje(n,e){return H.compareRangesUsingStarts(n.range,e.range)}function Goe(n,e,t){for(var r=0,i=e;r<i.length;r++){var o=i[r];n.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||t,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&Goe(n,o.children,o.name)}}Qc("_executeDocumentSymbolProvider",function(n,e){var t=e.resource;if(!(t instanceof Ft))throw Br("resource");var r=n.get(ps).getModel(t);return r?P3(r,!1,rn.None):n.get(Wp).createModelReference(t).then(function(i){return new Promise(function(o,s){try{var a=P3(i.object.textEditorModel,!1,rn.None);o(a)}catch(u){s(u)}}).finally(function(){i.dispose()})})});var $oe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rd=":",vje=function(n){$oe(e,n);function e(t,r,i,o,s,a,u){var l=n.call(this)||this;return l.name=t,l.type=r,l.description=i,l.range=o,l.setHighlights(s),l.editor=a,l.decorator=u,l}return e.prototype.getLabel=function(){return this.name},e.prototype.getAriaLabel=function(){return Yt(ho.entryAriaLabel,this.name)},e.prototype.getIcon=function(){return this.type},e.prototype.getDescription=function(){return this.description},e.prototype.getType=function(){return this.type},e.prototype.getRange=function(){return this.range},e.prototype.run=function(t,r){return t===1?this.runOpen(r):this.runPreview()},e.prototype.runOpen=function(t){var r=this.toSelection();return this.editor.setSelection(r),this.editor.revealRangeInCenter(r,0),this.editor.focus(),!0},e.prototype.runPreview=function(){var t=this.toSelection();return this.editor.revealRangeInCenter(t,0),this.decorator.decorateLine(this.range,this.editor),!1},e.prototype.toSelection=function(){return new H(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},e}(fb),mje=function(n){$oe(e,n);function e(){return n.call(this,ho.quickOutlineActionInput,{id:"editor.action.quickOutline",label:ho.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:W.hasDocumentSymbolProvider,kbOpts:{kbExpr:W.focus,primary:3117,weight:100},menuOpts:{group:"navigation",order:3}})||this}return e.prototype.run=function(t,r){var i=this;if(r.hasModel()){var o=r.getModel();if(zf.has(o))return P3(o,!0,rn.None).then(function(s){s.length!==0&&i._run(r,s)})}},e.prototype._run=function(t,r){var i=this;this._show(this.getController(t),{getModel:function(o){return new $B(i.toQuickOpenEntries(t,r,o))},getAutoFocus:function(o){return o.indexOf(Rd)===0&&(o=o.substr(Rd.length)),{autoFocusPrefixMatch:o,autoFocusFirstEntry:!!o}}})},e.prototype.symbolEntry=function(t,r,i,o,s,a,u){return new vje(t,r,i,H.lift(o),s,a,u)},e.prototype.toQuickOpenEntries=function(t,r,i){var o=this.getController(t),s=[],a=i;i.indexOf(Rd)===0&&(a=a.substr(Rd.length));for(var u=0,l=r;u<l.length;u++){var c=l[u],h=lAe(c.name),d=Une(a,h);if(d){var p=void 0;c.containerName&&(p=c.containerName),s.push(this.symbolEntry(h,_2e(c.kind),p,c.range,d,t,o))}}if(i&&(i.indexOf(Rd)===0?s=s.sort(this.sortScoped.bind(this,i.toLowerCase())):s=s.sort(this.sortNormal.bind(this,i.toLowerCase()))),s.length>0&&i.indexOf(Rd)===0){for(var v=null,m=null,_=0,b=0;b<s.length;b++){var C=s[b];v!==C.getType()?(m&&m.setGroupLabel(this.typeToLabel(v||"",_)),v=C.getType(),m=C,_=1,C.setShowBorder(b>0)):_++}m&&m.setGroupLabel(this.typeToLabel(v||"",_))}else s.length>0&&s[0].setGroupLabel(Yt(ho._symbols_,s.length));return s},e.prototype.typeToLabel=function(t,r){switch(t){case"module":return Yt(ho._modules_,r);case"class":return Yt(ho._class_,r);case"interface":return Yt(ho._interface_,r);case"method":return Yt(ho._method_,r);case"function":return Yt(ho._function_,r);case"property":return Yt(ho._property_,r);case"variable":return Yt(ho._variable_,r);case"var":return Yt(ho._variable2_,r);case"constructor":return Yt(ho._constructor_,r);case"call":return Yt(ho._call_,r)}return t},e.prototype.sortNormal=function(t,r,i){var o=r.getLabel().toLowerCase(),s=i.getLabel().toLowerCase(),a=o.localeCompare(s);if(a!==0)return a;var u=r.getRange(),l=i.getRange();return u.startLineNumber-l.startLineNumber},e.prototype.sortScoped=function(t,r,i){t=t.substr(Rd.length);var o=r.getType(),s=i.getType(),a=o.localeCompare(s);if(a!==0)return a;if(t){var u=r.getLabel().toLowerCase(),l=i.getLabel().toLowerCase(),c=u.localeCompare(l);if(c!==0)return c}var h=r.getRange(),d=i.getRange();return h.startLineNumber-d.startLineNumber},e}(KB);ge(mje);var _je=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yje=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cv=function(n,e){return function(t,r){e(t,r,n)}},bje=function(n){_je(e,n);function e(t,r,i,o,s,a,u){return n.call(this,!0,t,r,i,o,s,a,u)||this}return e=yje([Cv(1,yt),Cv(2,In),Cv(3,bi),Cv(4,pr),Cv(5,Wh),Cv(6,yi)],e),e}(q_);Cn(bje);var Cje=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wje=function(n){Cje(e,n);function e(){var t=n.call(this,{id:"editor.action.toggleHighContrast",label:FM.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0})||this;return t._originalThemeName=null,t}return e.prototype.run=function(t,r){var i=t.get(pg);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getTheme().themeName,i.setTheme("hc-black"))},e}(Ue);ge(wje);class Yf{constructor({codeEditor:e,widgetId:t,color:r,label:i,range:o,tooltipDuration:s=1e3,opacity:a="1.0",onDisposed:u}){this._editor=e,this._tooltipDuration=s,this._id=`monaco-remote-cursor-${t}`,this._onDisposed=u,this._color=r,this._content=i,this._opacity=a,this._domNode=this._createWidgetNode(),this._scrollListener=this._editor.onDidScrollChange(()=>{this._updateTooltipPosition()}),this.updatePosition(o),this._hideTimer=null,this._editor.addContentWidget(this),this._disposed=!1}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return this._position}updatePosition(e){this._updatePosition(e),setTimeout(()=>this._showTooltip(),0)}updateContent(e){typeof e!="string"||e===this._content||(this._tooltipNode.textContent=e)}dispose(){this._disposed||(this._editor.removeContentWidget(this),this._scrollListener!==null&&this._scrollListener.dispose(),this._disposed=!0,this._onDisposed())}isDisposed(){return this._disposed}_updatePosition(e){this._position={position:e.getEndPosition(),preference:[pm.ContentWidgetPositionPreference.ABOVE,pm.ContentWidgetPositionPreference.BELOW]},this._editor.layoutContentWidget(this)}_showTooltip(){this._updateTooltipPosition(),this._hideTimer!==null?clearTimeout(this._hideTimer):this._setTooltipVisible(!0),this._hideTimer=setTimeout(()=>{this._setTooltipVisible(!1),this._hideTimer=null},this._tooltipDuration)}_updateTooltipPosition(){this._domNode.offsetTop-this._editor.getScrollTop()-this._tooltipNode.offsetHeight<5?this._tooltipNode.style.top=`${this._tooltipNode.offsetHeight+2}px`:this._tooltipNode.style.top=`-${this._tooltipNode.offsetHeight}px`,this._tooltipNode.style.left="0"}_setTooltipVisible(e){e?this._tooltipNode.style.display="block":this._tooltipNode.style.display="none"}_colorWithCSSVars(e){return`var(${`--color-${e}-${Yf.WIDGET_NODE_CLASSNAME}`}, ${this._color})`}_getTextColor(){const e=dTe(this._color);return Math.round((e[0]*299+e[1]*587+e[2]*114)/1e3)>=125?"#000000":"#ffffff"}_createTooltipNode(){const e=document.createElement("div");e.style.borderColor=this._colorWithCSSVars("border"),e.style.backgroundColor=this._colorWithCSSVars("bg"),e.style.color=this._getTextColor(),e.style.opacity=this._opacity,e.style.borderRadius="2px",e.style.fontSize="12px",e.style.padding="2px 8px",e.style.whiteSpace="nowrap",e.textContent=this._content;const t=`${Yf.TOOLTIP_NODE_CLASSNAME}-${this._color.replace("#","")}`;return e.classList.add(t,Yf.TOOLTIP_NODE_CLASSNAME),e}_createWidgetNode(){du(document!=null,"This package must run on browser!");const e=document.createElement("div");return e.style.height="20px",e.style.paddingBottom="0px",e.style.transition="all 0.1s linear",this._tooltipNode=this._createTooltipNode(),e.appendChild(this._tooltipNode),e.classList.add("monaco-editor-overlaymessage",Yf.WIDGET_NODE_CLASSNAME),e}}Yf.WIDGET_NODE_CLASSNAME="firepad-remote-cursor";Yf.TOOLTIP_NODE_CLASSNAME="firepad-remote-cursor-message";class Eje{constructor(e){this._editor=e,this._tooltipDuration=1e3,this._cursors=new Map}addCursor(e,t,r,i){const o=new Yf({codeEditor:this._editor,widgetId:e,color:r,range:t,label:i||e.toString(),tooltipDuration:this._tooltipDuration,onDisposed:()=>{this.removeCursor(e)}});this._cursors.set(e,o)}removeCursor(e){const t=this._cursors.get(e);t&&(t.dispose(),this._cursors.delete(e))}updateCursor(e,t,r,i){const o=this._cursors.get(e);if(o){o.updatePosition(t),o.updateContent(i);return}this.addCursor(e,t,r,i)}dispose(){this._cursors.forEach(e=>e.dispose()),this._cursors.clear()}}class Sje{constructor(e,t=!0){var r;this._classNames=[],this._disposables=[],this._monaco=e,this._lastDocLines=((r=this._monaco.getModel())===null||r===void 0?void 0:r.getLinesContent())||[""],this._lastCursorRange=this._monaco.getSelection(),this._remoteCursors=new Map,this._cursorWidgetController=new Eje(this._monaco),this._redoCallback=null,this._undoCallback=null,this._originalRedo=null,this._originalUndo=null,this._ignoreChanges=!1,t||this._init()}_init(){this._emitter=new lC([fo.Blur,fo.Change,fo.CursorActivity,fo.Error,fo.Focus,fo.Redo,fo.Undo]),this._disposables.push(this._cursorWidgetController,this._monaco.onDidBlurEditorWidget(()=>{this._onBlur()}),this._monaco.onDidFocusEditorWidget(()=>{this._onFocus()}),this._monaco.onDidChangeModel(e=>{this._onModelChange(e)}),this._monaco.onDidChangeModelContent(e=>{this._onChange(e)}),this._monaco.onDidChangeCursorPosition(e=>{this._onCursorActivity(e)}))}dispose(){this._remoteCursors.clear(),this._disposables.forEach(t=>t.dispose()),this._disposables.splice(0,this._disposables.length),this._emitter&&(this._emitter.dispose(),this._emitter=null);const e=this._getModel();e&&(e.undo!==this._originalUndo&&(e.undo=this._originalUndo),e.redo!==this._originalRedo&&(e.redo=this._originalRedo),this._originalUndo=null,this._originalRedo=null)}_getModel(){return this._monaco.getModel()}registerUndo(e){const t=this._getModel();t&&(this._originalUndo=t.undo,t.undo=this._undoCallback=e)}registerRedo(e){const t=this._getModel();t&&(this._originalRedo=t.redo,t.redo=this._redoCallback=e)}on(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.on(e,t)}off(e,t){var r;return(r=this._emitter)===null||r===void 0?void 0:r.off(e,t)}registerCallbacks(e){Object.entries(e).forEach(([t,r])=>{this.on(t,r)})}_trigger(e,t,...r){var i;return(i=this._emitter)===null||i===void 0?void 0:i.trigger(e,t||{},...r)}getCursor(){const e=this._getModel();if(!e)return null;let t=this._monaco.getSelection();t==null&&(t=this._lastCursorRange);const r=t.getStartPosition(),i=t.getEndPosition();let o=e.getOffsetAt(r),s=e.getOffsetAt(i);return o>s&&([o,s]=[s,o]),new v4(o,s)}setCursor(e){const{position:t,selectionEnd:r}=e.toJSON(),i=this._getModel();if(!i)return;let o=i.getPositionAt(t),s=i.getPositionAt(r);t>r&&([o,s]=[s,o]),this._monaco.setSelection(new dy(o.lineNumber,o.column,s.lineNumber,s.column))}setOtherCursor(e,t,r,i){du(typeof t=="object"&&typeof t.toJSON=="function"&&typeof r=="string"&&(typeof e=="string"||typeof e=="number")&&!!r.match(/^#[a-fA-F0-9]{3,6}$/));const{position:o,selectionEnd:s}=t.toJSON();op(o<0||s<0);let a=this._remoteCursors.get(e);a?a.decoration=this._monaco.deltaDecorations(a.decoration,[]):(a={clientID:e,decoration:[]},this._remoteCursors.set(e,a));let u=r,l=`remote-client-selection-${r.replace("#","")}`;o===s&&(u="transparent",l=l.replace("selection","cursor")),this._addStyleRule(l,u,r);const c=this._getModel();if(!c)return{dispose:DP};let h=c.getPositionAt(o),d=c.getPositionAt(s);h>d&&([h,d]=[d,h]);const p=new dy(h.lineNumber,h.column,d.lineNumber,d.column);return a.decoration=this._monaco.deltaDecorations(a.decoration,[{range:p,options:{className:l,isWholeLine:!1,stickiness:pm.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]),this._cursorWidgetController.updateCursor(e,p,r,i),{dispose:()=>{const v=this._remoteCursors.get(e);v&&(v.decoration=this._monaco.deltaDecorations(v.decoration,[]))}}}getText(){const e=this._getModel();return e?e.getValue():""}setText(e){const t=this._getModel();t&&t.applyEdits([{range:t.getFullModelRange(),text:e}])}setInitiated(e){this.setText(""),this._initiated=e}_getPreviousContentInRange(e){const t=this._getModel(),r=t?t.getEOL():AP.LF;if(!e)return this._lastDocLines.join(r);if(e.isEmpty())return"";let i="";const{startLineNumber:o,startColumn:s,endLineNumber:a,endColumn:u}=e;for(let l=o;l<=a;l++){const c=this._lastDocLines[l-1];if(l===o){if(l===a)return c.slice(s-1,u-1);i+=c.slice(s-1)+r}else l===a?i+=c.slice(0,u-1):i+=c+r}return i}_transformOpsIntoMonacoChanges(e,t){let r=0;const i=[];for(const o of e){if(o.isRetain()){r+=o.chars;continue}if(o.isInsert()){const s=t.getPositionAt(r);i.push({range:new dy(s.lineNumber,s.column,s.lineNumber,s.column),text:o.text,forceMoveMarkers:!0});continue}if(o.isDelete()){const s=t.getPositionAt(r),a=t.getPositionAt(r+o.chars);i.push({range:new dy(s.lineNumber,s.column,a.lineNumber,a.column),text:"",forceMoveMarkers:!0}),r+=o.chars}}return i}_applyChangesToMonaco(e){let t;typeof this._monaco.getConfiguration=="function"?{readOnly:t}=this._monaco.getConfiguration():t=this._monaco.getOption(pm.EditorOption.readOnly),t&&this._monaco.updateOptions({readOnly:!1}),this._monaco.executeEdits("firepad",e),t&&this._monaco.updateOptions({readOnly:t})}applyOperation(e){e.isNoop()||(this._ignoreChanges=!0);const t=this._getModel();if(!t)return;const r=this._transformOpsIntoMonacoChanges(e.getOps(),t);r.length&&this._applyChangesToMonaco(r),t&&(this._lastDocLines=t.getLinesContent()),this._ignoreChanges=!1}invertOperation(e){return e.invert(this.getText())}_onBlur(){const e=this._monaco.getSelection();(!e||e.isEmpty())&&this._trigger(fo.Blur)}_onFocus(){this._trigger(fo.Focus)}_onCursorActivity(e){e.reason!==pm.CursorChangeReason.RecoverFromMarkers&&this._trigger(fo.CursorActivity)}_onChange(e){if(this._ignoreChanges||!this._initiated)return;const t=this._getModel(),i=this._getPreviousContentInRange().length;if(!e.changes||e.changes.length===0){const a=new ut().retain(i,null);this._trigger(fo.Change,a,a);return}const[o,s]=this._operationFromMonacoChange(e.changes,i);this._lastDocLines=t.getLinesContent(),this._trigger(fo.Change,o,s)}_onModelChange(e){const t=this._getModel();if(!t)return;this._undoCallback&&(this._originalUndo=t.undo,t.undo=this._undoCallback),this._redoCallback&&(this._originalRedo=t.redo,t.redo=this._redoCallback);const r=this._lastDocLines.length,i=this._lastDocLines[r-1].length,o=new dy(1,1,r,i+1),s=this._getPreviousContentInRange();this._onChange({changes:[{range:o,rangeOffset:0,rangeLength:s.length,text:t.getValue()}]})}_operationFromMonacoChange(e,t){let r=new ut().retain(t,null),i=new ut().retain(t,null),o=0;const s=e.sort((a,u)=>u.rangeOffset-a.rangeOffset);for(const a of s){let u=new ut,l=new ut;const{range:c,text:h,rangeOffset:d,rangeLength:p}=a,v=t-d-p+o;try{u=u.retain(d,null),l=l.retain(d,null)}catch(m){throw this._trigger(fo.Error,m,u.toString(),{rangeOffset:d}),m}!h&&!c.isEmpty()?(u=u.delete(p),l=l.insert(this._getPreviousContentInRange(c),null)):h&&!c.isEmpty()?(u=u.delete(p).insert(h,null),l=l.insert(this._getPreviousContentInRange(c),null).delete(h)):(u=u.insert(h,null),l=l.delete(h));try{u=u.retain(v,null),l=l.retain(v,null)}catch(m){throw this._trigger(fo.Error,m,u.toString(),{restLength:v}),m}o=o+h.length-p,r=r.compose(u),i=l.compose(i)}return[r,i]}_getStyles(e,t,r){return`
      .${e} {
        position: relative;
        background-color: ${t};
        border-left: 2px solid ${r};
      }
    `}_addStyleRule(e,t,r){if(du(document!=null,"This package must run on browser!"),this._classNames.includes(e))return;const i=this._getStyles(e,t,r),o=document.createTextNode(i),s=document.createElement("style");s.appendChild(o),document.head.appendChild(s),this._classNames.push(e)}}function Tje(n,e,t={}){const r=t.userId||DTe(),i=t.userColor||gTe(r.toString()),o=t.userName||r.toString(),s=t.defaultText||e.getValue();let a=new ZA(n,r,i,o);const u=new Sje(e,!1);return new o6(a,u,{userId:r,userName:o,userColor:i,defaultText:s})}function Dje(n,e,t={}){return Tje(n,e,t)}(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,y){f!=Array.prototype&&f!=Object.prototype&&(f[g]=y.value)};function t(f){f=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,f];for(var g=0;g<f.length;++g){var y=f[g];if(y&&y.Math==Math)return y}return globalThis}var r=t(this);function i(f,g){if(g){var y=r;f=f.split(".");for(var w=0;w<f.length-1;w++){var I=f[w];I in y||(y[I]={}),y=y[I]}f=f[f.length-1],w=y[f],g=g(w),g!=w&&g!=null&&e(y,f,{configurable:!0,writable:!0,value:g})}}function o(f){var g=0;return function(){return g<f.length?{done:!1,value:f[g++]}:{done:!0}}}function s(f){var g=typeof Symbol<"u"&&Symbol.iterator&&f[Symbol.iterator];return g?g.call(f):{next:o(f)}}i("Promise",function(f){function g(M){this.b=0,this.c=void 0,this.a=[];var z=this.f();try{M(z.resolve,z.reject)}catch(le){z.reject(le)}}function y(){this.a=null}function w(M){return M instanceof g?M:new g(function(z){z(M)})}if(f)return f;y.prototype.b=function(M){if(this.a==null){this.a=[];var z=this;this.c(function(){z.g()})}this.a.push(M)};var I=r.setTimeout;y.prototype.c=function(M){I(M,0)},y.prototype.g=function(){for(;this.a&&this.a.length;){var M=this.a;this.a=[];for(var z=0;z<M.length;++z){var le=M[z];M[z]=null;try{le()}catch(be){this.f(be)}}}this.a=null},y.prototype.f=function(M){this.c(function(){throw M})},g.prototype.f=function(){function M(be){return function(Ct){le||(le=!0,be.call(z,Ct))}}var z=this,le=!1;return{resolve:M(this.m),reject:M(this.g)}},g.prototype.m=function(M){if(M===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(M instanceof g)this.s(M);else{e:switch(typeof M){case"object":var z=M!=null;break e;case"function":z=!0;break e;default:z=!1}z?this.v(M):this.h(M)}},g.prototype.v=function(M){var z=void 0;try{z=M.then}catch(le){this.g(le);return}typeof z=="function"?this.u(z,M):this.h(M)},g.prototype.g=function(M){this.i(2,M)},g.prototype.h=function(M){this.i(1,M)},g.prototype.i=function(M,z){if(this.b!=0)throw Error("Cannot settle("+M+", "+z+"): Promise already settled in state"+this.b);this.b=M,this.c=z,this.l()},g.prototype.l=function(){if(this.a!=null){for(var M=0;M<this.a.length;++M)R.b(this.a[M]);this.a=null}};var R=new y;return g.prototype.s=function(M){var z=this.f();M.Ra(z.resolve,z.reject)},g.prototype.u=function(M,z){var le=this.f();try{M.call(z,le.resolve,le.reject)}catch(be){le.reject(be)}},g.prototype.then=function(M,z){function le(fn,wi){return typeof fn=="function"?function(ec){try{be(fn(ec))}catch(WN){Ct(WN)}}:wi}var be,Ct,xn=new g(function(fn,wi){be=fn,Ct=wi});return this.Ra(le(M,be),le(z,Ct)),xn},g.prototype.catch=function(M){return this.then(void 0,M)},g.prototype.Ra=function(M,z){function le(){switch(be.b){case 1:M(be.c);break;case 2:z(be.c);break;default:throw Error("Unexpected state: "+be.b)}}var be=this;this.a==null?R.b(le):this.a.push(le)},g.resolve=w,g.reject=function(M){return new g(function(z,le){le(M)})},g.race=function(M){return new g(function(z,le){for(var be=s(M),Ct=be.next();!Ct.done;Ct=be.next())w(Ct.value).Ra(z,le)})},g.all=function(M){var z=s(M),le=z.next();return le.done?w([]):new g(function(be,Ct){function xn(ec){return function(WN){fn[ec]=WN,wi--,wi==0&&be(fn)}}var fn=[],wi=0;do fn.push(void 0),wi++,w(le.value).Ra(xn(fn.length-1),Ct),le=z.next();while(!le.done)})},g});var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(f){return(f=f.querySelector&&f.querySelector("script[nonce]"))&&(f=f.nonce||f.getAttribute("nonce"))&&l.test(f)?f:""}function d(){}function p(f){var g=typeof f;return g!="object"?g:f?Array.isArray(f)?"array":g:"null"}function v(f){var g=p(f);return g=="array"||g=="object"&&typeof f.length=="number"}function m(f){return p(f)=="function"}function _(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function b(f){return Object.prototype.hasOwnProperty.call(f,C)&&f[C]||(f[C]=++E)}var C="closure_uid_"+(1e9*Math.random()>>>0),E=0;function S(f,g,y){return f.call.apply(f.bind,arguments)}function A(f,g,y){if(!f)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,w),f.apply(g,I)}}return function(){return f.apply(g,arguments)}}function T(f,g,y){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T=S:T=A,T.apply(null,arguments)}function N(f,g){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),f.apply(this,w)}}function k(f,g){function y(){}y.prototype=g.prototype,f.bb=g.prototype,f.prototype=new y,f.prototype.constructor=f}function F(f){return f}function L(f,g,y){this.code=P+f,this.message=g||B[f]||"",this.a=y||null}k(L,Error),L.prototype.w=function(){var f={code:this.code,message:this.message};return this.a&&(f.serverResponse=this.a),f},L.prototype.toJSON=function(){return this.w()};function O(f){var g=f&&f.code;return g?new L(g.substring(P.length),f.message,f.serverResponse):null}var P="auth/",B={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},U={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function $(f){for(var g in U)if(U[g].id===f)return f=U[g],{firebaseEndpoint:f.Ua,secureTokenEndpoint:f.$a,identityPlatformEndpoint:f.Xa};return null}var te;te=$("__EID__")?"__EID__":void 0;function ne(f){if(!f)return!1;try{return!!f.$goog_Thenable}catch{return!1}}function ie(f){if(Error.captureStackTrace)Error.captureStackTrace(this,ie);else{var g=Error().stack;g&&(this.stack=g)}f&&(this.message=String(f))}k(ie,Error),ie.prototype.name="CustomError";function pe(f,g){f=f.split("%s");for(var y="",w=f.length-1,I=0;I<w;I++)y+=f[I]+(I<g.length?g[I]:"%s");ie.call(this,y+f[w])}k(pe,ie),pe.prototype.name="AssertionError";function ke(f,g){throw new pe("Failure"+(f?": "+f:""),Array.prototype.slice.call(arguments,1))}function qe(f,g){this.c=f,this.f=g,this.b=0,this.a=null}qe.prototype.get=function(){if(0<this.b){this.b--;var f=this.a;this.a=f.next,f.next=null}else f=this.c();return f};function ft(f,g){f.f(g),100>f.b&&(f.b++,g.next=f.a,f.a=g)}function ze(){this.b=this.a=null}var dt=new qe(function(){return new q},function(f){f.reset()});ze.prototype.add=function(f,g){var y=dt.get();y.set(f,g),this.b?this.b.next=y:this.a=y,this.b=y};function Ci(){var f=DH,g=null;return f.a&&(g=f.a,f.a=f.a.next,f.a||(f.b=null),g.next=null),g}function q(){this.next=this.b=this.a=null}q.prototype.set=function(f,g){this.a=f,this.b=g,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var _e=Array.prototype.indexOf?function(f,g){return Array.prototype.indexOf.call(f,g,void 0)}:function(f,g){if(typeof f=="string")return typeof g!="string"||g.length!=1?-1:f.indexOf(g,0);for(var y=0;y<f.length;y++)if(y in f&&f[y]===g)return y;return-1},Ht=Array.prototype.forEach?function(f,g,y){Array.prototype.forEach.call(f,g,y)}:function(f,g,y){for(var w=f.length,I=typeof f=="string"?f.split(""):f,R=0;R<w;R++)R in I&&g.call(y,I[R],R,f)};function ms(f,g){for(var y=typeof f=="string"?f.split(""):f,w=f.length-1;0<=w;--w)w in y&&g.call(void 0,y[w],w,f)}var Bo=Array.prototype.filter?function(f,g){return Array.prototype.filter.call(f,g,void 0)}:function(f,g){for(var y=f.length,w=[],I=0,R=typeof f=="string"?f.split(""):f,M=0;M<y;M++)if(M in R){var z=R[M];g.call(void 0,z,M,f)&&(w[I++]=z)}return w},Kn=Array.prototype.map?function(f,g){return Array.prototype.map.call(f,g,void 0)}:function(f,g){for(var y=f.length,w=Array(y),I=typeof f=="string"?f.split(""):f,R=0;R<y;R++)R in I&&(w[R]=g.call(void 0,I[R],R,f));return w},oo=Array.prototype.some?function(f,g){return Array.prototype.some.call(f,g,void 0)}:function(f,g){for(var y=f.length,w=typeof f=="string"?f.split(""):f,I=0;I<y;I++)if(I in w&&g.call(void 0,w[I],I,f))return!0;return!1};function G(f){e:{for(var g=Dde,y=f.length,w=typeof f=="string"?f.split(""):f,I=0;I<y;I++)if(I in w&&g.call(void 0,w[I],I,f)){g=I;break e}g=-1}return 0>g?null:typeof f=="string"?f.charAt(g):f[g]}function Z(f,g){return 0<=_e(f,g)}function re(f,g){g=_e(f,g);var y;return(y=0<=g)&&Array.prototype.splice.call(f,g,1),y}function fe(f,g){var y=0;ms(f,function(w,I){g.call(void 0,w,I,f)&&Array.prototype.splice.call(f,I,1).length==1&&y++})}function ve(f){return Array.prototype.concat.apply([],arguments)}function Ce(f){var g=f.length;if(0<g){for(var y=Array(g),w=0;w<g;w++)y[w]=f[w];return y}return[]}var Ne=String.prototype.trim?function(f){return f.trim()}:function(f){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(f)[1]},Ie=/&/g,Le=/</g,Se=/>/g,pt=/"/g,Ve=/'/g,ot=/\x00/g,bt=/[\x00&<>"']/;function et(f,g){return f.indexOf(g)!=-1}function wn(f,g){return f<g?-1:f>g?1:0}var Xt;e:{var so=u.navigator;if(so){var ni=so.userAgent;if(ni){Xt=ni;break e}}Xt=""}function _n(f){return et(Xt,f)}function ao(f,g){for(var y in f)g.call(void 0,f[y],y,f)}function Vs(f){for(var g in f)return!1;return!0}function Ka(f){var g={},y;for(y in f)g[y]=f[y];return g}var uo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(f,g){for(var y,w,I=1;I<arguments.length;I++){w=arguments[I];for(y in w)f[y]=w[y];for(var R=0;R<uo.length;R++)y=uo[R],Object.prototype.hasOwnProperty.call(w,y)&&(f[y]=w[y])}}function h0(f,g){e:{try{var y=f&&f.ownerDocument,w=y&&(y.defaultView||y.parentWindow);if(w=w||u,w.Element&&w.Location){var I=w;break e}}catch{}I=null}if(I&&typeof I[g]<"u"&&(!f||!(f instanceof I[g])&&(f instanceof I.Location||f instanceof I.Element))){if(_(f))try{var R=f.constructor.displayName||f.constructor.name||Object.prototype.toString.call(f)}catch{R="<object could not be stringified>"}else R=f===void 0?"undefined":f===null?"null":typeof f;ke("Argument is not a %s (or a non-Element, non-Location mock); got: %s",g,R)}}function Hu(f,g){this.a=f===lw&&g||"",this.b=aH}Hu.prototype.ta=!0,Hu.prototype.sa=function(){return this.a},Hu.prototype.toString=function(){return"Const{"+this.a+"}"};function px(f){return f instanceof Hu&&f.constructor===Hu&&f.b===aH?f.a:(ke("expected object of type Const, got '"+f+"'"),"type_error:Const")}var aH={},lw={},cw;function uH(){if(cw===void 0){var f=null,g=u.trustedTypes;if(g&&g.createPolicy){try{f=g.createPolicy("goog#html",{createHTML:F,createScript:F,createScriptURL:F})}catch(y){u.console&&u.console.error(y.message)}cw=f}else cw=f}return cw}function Rg(f,g){this.a=g===cH?f:""}Rg.prototype.ta=!0,Rg.prototype.sa=function(){return this.a.toString()},Rg.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function lH(f){return f instanceof Rg&&f.constructor===Rg?f.a:(ke("expected object of type TrustedResourceUrl, got '"+f+"' of type "+p(f)),"type_error:TrustedResourceUrl")}function gx(f,g){var y=px(f);if(!nhe.test(y))throw Error("Invalid TrustedResourceUrl format: "+y);return f=y.replace(the,function(w,I){if(!Object.prototype.hasOwnProperty.call(g,I))throw Error('Found marker, "'+I+'", in format string, "'+y+'", but no valid label mapping found in args: '+JSON.stringify(g));return w=g[I],w instanceof Hu?px(w):encodeURIComponent(String(w))}),rhe(f)}var the=/%{(\w+)}/g,nhe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,cH={};function rhe(f){var g=uH();return f=g?g.createScriptURL(f):f,new Rg(f,cH)}function _s(f,g){this.a=g===d0?f:""}_s.prototype.ta=!0,_s.prototype.sa=function(){return this.a.toString()},_s.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function fw(f){return f instanceof _s&&f.constructor===_s?f.a:(ke("expected object of type SafeUrl, got '"+f+"' of type "+p(f)),"type_error:SafeUrl")}var ihe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,ohe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,fH=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function hH(f){if(f instanceof _s)return f;if(f=typeof f=="object"&&f.ta?f.sa():String(f),fH.test(f))f=new _s(f,d0);else{f=String(f),f=f.replace(/(%0A|%0D)/g,"");var g=f.match(ohe);f=g&&ihe.test(g[1])?new _s(f,d0):null}return f}function dH(f){return f instanceof _s?f:(f=typeof f=="object"&&f.ta?f.sa():String(f),fH.test(f)||(f="about:invalid#zClosurez"),new _s(f,d0))}var d0={},pH=new _s("about:invalid#zClosurez",d0);function Pg(f,g,y){this.a=y===gH?f:""}Pg.prototype.ta=!0,Pg.prototype.sa=function(){return this.a.toString()},Pg.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function she(f){return f instanceof Pg&&f.constructor===Pg?f.a:(ke("expected object of type SafeHtml, got '"+f+"' of type "+p(f)),"type_error:SafeHtml")}var gH={};function ahe(f,g){h0(f,"HTMLScriptElement"),f.src=lH(g),(g=f.ownerDocument&&f.ownerDocument.defaultView)&&g!=u?g=h(g.document):(c===null&&(c=h(u.document)),g=c),g&&f.setAttribute("nonce",g)}function vH(f,g,y,w){return f=f instanceof _s?f:dH(f),g=g||u,y=y instanceof Hu?px(y):y||"",g.open(fw(f),y,w,void 0)}function mH(f,g){for(var y=f.split("%s"),w="",I=Array.prototype.slice.call(arguments,1);I.length&&1<y.length;)w+=y.shift()+I.shift();return w+y.join("%s")}function vx(f){return bt.test(f)&&(f.indexOf("&")!=-1&&(f=f.replace(Ie,"&amp;")),f.indexOf("<")!=-1&&(f=f.replace(Le,"&lt;")),f.indexOf(">")!=-1&&(f=f.replace(Se,"&gt;")),f.indexOf('"')!=-1&&(f=f.replace(pt,"&quot;")),f.indexOf("'")!=-1&&(f=f.replace(Ve,"&#39;")),f.indexOf("\0")!=-1&&(f=f.replace(ot,"&#0;"))),f}function mx(f){return mx[" "](f),f}mx[" "]=d;function uhe(f,g){var y=hhe;return Object.prototype.hasOwnProperty.call(y,f)?y[f]:y[f]=g(f)}var lhe=_n("Opera"),Ya=_n("Trident")||_n("MSIE"),_H=_n("Edge"),che=_H||Ya,yH=_n("Gecko")&&!(et(Xt.toLowerCase(),"webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),fhe=et(Xt.toLowerCase(),"webkit")&&!_n("Edge");function bH(){var f=u.document;return f?f.documentMode:void 0}var hw;e:{var _x="",yx=function(){var f=Xt;if(yH)return/rv:([^\);]+)(\)|;)/.exec(f);if(_H)return/Edge\/([\d\.]+)/.exec(f);if(Ya)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(f);if(fhe)return/WebKit\/(\S+)/.exec(f);if(lhe)return/(?:Version)[ \/]?(\S+)/.exec(f)}();if(yx&&(_x=yx?yx[1]:""),Ya){var bx=bH();if(bx!=null&&bx>parseFloat(_x)){hw=String(bx);break e}}hw=_x}var hhe={};function CH(f){return uhe(f,function(){for(var g=0,y=Ne(String(hw)).split("."),w=Ne(String(f)).split("."),I=Math.max(y.length,w.length),R=0;g==0&&R<I;R++){var M=y[R]||"",z=w[R]||"";do{if(M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],z=/(\d*)(\D*)(.*)/.exec(z)||["","","",""],M[0].length==0&&z[0].length==0)break;g=wn(M[1].length==0?0:parseInt(M[1],10),z[1].length==0?0:parseInt(z[1],10))||wn(M[2].length==0,z[2].length==0)||wn(M[2],z[2]),M=M[3],z=z[3]}while(g==0)}return 0<=g})}var Cx;if(u.document&&Ya){var wH=bH();Cx=wH||parseInt(hw,10)||void 0}else Cx=void 0;var nf=Cx;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var dhe=!Ya||9<=Number(nf);function p0(f){var g=document;return typeof f=="string"?g.getElementById(f):f}function EH(f,g){ao(g,function(y,w){y&&typeof y=="object"&&y.ta&&(y=y.sa()),w=="style"?f.style.cssText=y:w=="class"?f.className=y:w=="for"?f.htmlFor=y:SH.hasOwnProperty(w)?f.setAttribute(SH[w],y):w.lastIndexOf("aria-",0)==0||w.lastIndexOf("data-",0)==0?f.setAttribute(w,y):f[w]=y})}var SH={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function phe(f,g,y){var w=arguments,I=document,R=String(w[0]),M=w[1];if(!dhe&&M&&(M.name||M.type)){if(R=["<",R],M.name&&R.push(' name="',vx(M.name),'"'),M.type){R.push(' type="',vx(M.type),'"');var z={};tr(z,M),delete z.type,M=z}R.push(">"),R=R.join("")}return R=dw(I,R),M&&(typeof M=="string"?R.className=M:Array.isArray(M)?R.className=M.join(" "):EH(R,M)),2<w.length&&ghe(I,R,w),R}function ghe(f,g,y){function w(z){z&&g.appendChild(typeof z=="string"?f.createTextNode(z):z)}for(var I=2;I<y.length;I++){var R=y[I];if(!v(R)||_(R)&&0<R.nodeType)w(R);else{e:{if(R&&typeof R.length=="number"){if(_(R)){var M=typeof R.item=="function"||typeof R.item=="string";break e}if(m(R)){M=typeof R.item=="function";break e}}M=!1}Ht(M?Ce(R):R,w)}}}function dw(f,g){return g=String(g),f.contentType==="application/xhtml+xml"&&(g=g.toLowerCase()),f.createElement(g)}function TH(f){u.setTimeout(function(){throw f},0)}var wx;function vhe(){var f=u.MessageChannel;if(typeof f>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!_n("Presto")&&(f=function(){var I=dw(document,"IFRAME");I.style.display="none",document.documentElement.appendChild(I);var R=I.contentWindow;I=R.document,I.open(),I.close();var M="callImmediate"+Math.random(),z=R.location.protocol=="file:"?"*":R.location.protocol+"//"+R.location.host;I=T(function(le){(z=="*"||le.origin==z)&&le.data==M&&this.port1.onmessage()},this),R.addEventListener("message",I,!1),this.port1={},this.port2={postMessage:function(){R.postMessage(M,z)}}}),typeof f<"u"&&!_n("Trident")&&!_n("MSIE")){var g=new f,y={},w=y;return g.port1.onmessage=function(){if(y.next!==void 0){y=y.next;var I=y.Hb;y.Hb=null,I()}},function(I){w.next={Hb:I},w=w.next,g.port2.postMessage(0)}}return function(I){u.setTimeout(I,0)}}function pw(f,g){gw||mhe(),Ex||(gw(),Ex=!0),DH.add(f,g)}var gw;function mhe(){if(u.Promise&&u.Promise.resolve){var f=u.Promise.resolve(void 0);gw=function(){f.then(AH)}}else gw=function(){var g=AH;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!_n("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(wx||(wx=vhe()),wx(g)):u.setImmediate(g)}}var Ex=!1,DH=new ze;function AH(){for(var f;f=Ci();){try{f.a.call(f.b)}catch(g){TH(g)}ft(dt,f)}Ex=!1}function Gt(f,g){if(this.a=ed,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,f!=d)try{var y=this;f.call(g,function(w){td(y,g0,w)},function(w){if(!(w instanceof Mg))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}td(y,Xl,w)})}catch(w){td(this,Xl,w)}}var ed=0,g0=2,Xl=3;function IH(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}IH.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xH=new qe(function(){return new IH},function(f){f.reset()});function Sx(f,g,y){var w=xH.get();return w.g=f,w.b=g,w.f=y,w}function ht(f){if(f instanceof Gt)return f;var g=new Gt(d);return td(g,g0,f),g}function ar(f){return new Gt(function(g,y){y(f)})}function LH(f,g,y){RH(f,g,y,null)||pw(N(g,f))}function _he(f){return new Gt(function(g,y){var w=f.length,I=[];if(w)for(var R=function(be,Ct){w--,I[be]=Ct,w==0&&g(I)},M=function(be){y(be)},z=0,le;z<f.length;z++)le=f[z],LH(le,N(R,z),M);else g(I)})}function NH(f){return new Gt(function(g){var y=f.length,w=[];if(y)for(var I=function(z,le,be){y--,w[z]=le?{Qb:!0,value:be}:{Qb:!1,reason:be},y==0&&g(w)},R=0,M;R<f.length;R++)M=f[R],LH(M,N(I,R,!0),N(I,R,!1));else g(w)})}Gt.prototype.then=function(f,g,y){return kH(this,m(f)?f:null,m(g)?g:null,y)},Gt.prototype.$goog_Thenable=!0,n=Gt.prototype,n.oa=function(f,g){return f=Sx(f,f,g),f.c=!0,Tx(this,f),this},n.o=function(f,g){return kH(this,null,f,g)},n.cancel=function(f){if(this.a==ed){var g=new Mg(f);pw(function(){OH(this,g)},this)}};function OH(f,g){if(f.a==ed)if(f.c){var y=f.c;if(y.b){for(var w=0,I=null,R=null,M=y.b;M&&(M.c||(w++,M.a==f&&(I=M),!(I&&1<w)));M=M.next)I||(R=M);I&&(y.a==ed&&w==1?OH(y,g):(R?(w=R,w.next==y.f&&(y.f=w),w.next=w.next.next):MH(y),FH(y,I,Xl,g)))}f.c=null}else td(f,Xl,g)}function Tx(f,g){f.b||f.a!=g0&&f.a!=Xl||PH(f),f.f?f.f.next=g:f.b=g,f.f=g}function kH(f,g,y,w){var I=Sx(null,null,null);return I.a=new Gt(function(R,M){I.g=g?function(z){try{var le=g.call(w,z);R(le)}catch(be){M(be)}}:R,I.b=y?function(z){try{var le=y.call(w,z);le===void 0&&z instanceof Mg?M(z):R(le)}catch(be){M(be)}}:M}),I.a.c=f,Tx(f,I),I.a}n.$c=function(f){this.a=ed,td(this,g0,f)},n.ad=function(f){this.a=ed,td(this,Xl,f)};function td(f,g,y){f.a==ed&&(f===y&&(g=Xl,y=new TypeError("Promise cannot resolve to itself")),f.a=1,RH(y,f.$c,f.ad,f)||(f.i=y,f.a=g,f.c=null,PH(f),g!=Xl||y instanceof Mg||bhe(f,y)))}function RH(f,g,y,w){if(f instanceof Gt)return Tx(f,Sx(g||d,y||null,w)),!0;if(ne(f))return f.then(g,y,w),!0;if(_(f))try{var I=f.then;if(m(I))return yhe(f,I,g,y,w),!0}catch(R){return y.call(w,R),!0}return!1}function yhe(f,g,y,w,I){function R(le){z||(z=!0,w.call(I,le))}function M(le){z||(z=!0,y.call(I,le))}var z=!1;try{g.call(f,M,R)}catch(le){R(le)}}function PH(f){f.h||(f.h=!0,pw(f.gc,f))}function MH(f){var g=null;return f.b&&(g=f.b,f.b=g.next,g.next=null),f.b||(f.f=null),g}n.gc=function(){for(var f;f=MH(this);)FH(this,f,this.a,this.i);this.h=!1};function FH(f,g,y,w){if(y==Xl&&g.b&&!g.c)for(;f&&f.g;f=f.c)f.g=!1;if(g.a)g.a.c=null,BH(g,y,w);else try{g.c?g.g.call(g.f):BH(g,y,w)}catch(I){HH.call(null,I)}ft(xH,g)}function BH(f,g,y){g==g0?f.g.call(f.f,y):f.b&&f.b.call(f.f,y)}function bhe(f,g){f.g=!0,pw(function(){f.g&&HH.call(null,g)})}var HH=TH;function Mg(f){ie.call(this,f)}k(Mg,ie),Mg.prototype.name="cancel";function vw(){this.ya=this.ya,this.pa=this.pa}var Che=0;vw.prototype.ya=!1;function VH(f){!f.ya&&(f.ya=!0,f.Da(),Che!=0)&&b(f)}vw.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var whe=Object.freeze||function(f){return f},WH=!Ya||9<=Number(nf),Ehe=Ya&&!CH("9"),She=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{u.addEventListener("test",d,g),u.removeEventListener("test",d,g)}catch{}return f}();function ys(f,g){this.type=f,this.b=this.target=g,this.defaultPrevented=!1}ys.prototype.preventDefault=function(){this.defaultPrevented=!0};function nd(f,g){if(ys.call(this,f?f.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,f){var y=this.type=f.type,w=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.b=g,g=f.relatedTarget){if(yH){e:{try{mx(g.nodeName);var I=!0;break e}catch{}I=!1}I||(g=null)}}else y=="mouseover"?g=f.fromElement:y=="mouseout"&&(g=f.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:The[f.pointerType]||"",this.a=f,f.defaultPrevented&&this.preventDefault()}}k(nd,ys);var The=whe({2:"touch",3:"pen",4:"mouse"});nd.prototype.preventDefault=function(){nd.bb.preventDefault.call(this);var f=this.a;if(f.preventDefault)f.preventDefault();else if(f.returnValue=!1,Ehe)try{(f.ctrlKey||112<=f.keyCode&&123>=f.keyCode)&&(f.keyCode=-1)}catch{}},nd.prototype.g=function(){return this.a};var v0="closure_listenable_"+(1e6*Math.random()|0),Dhe=0;function Ahe(f,g,y,w,I){this.listener=f,this.proxy=null,this.src=g,this.type=y,this.capture=!!w,this.Wa=I,this.key=++Dhe,this.wa=this.Qa=!1}function mw(f){f.wa=!0,f.listener=null,f.proxy=null,f.src=null,f.Wa=null}function _w(f){this.src=f,this.a={},this.b=0}_w.prototype.add=function(f,g,y,w,I){var R=f.toString();f=this.a[R],f||(f=this.a[R]=[],this.b++);var M=Ax(f,g,w,I);return-1<M?(g=f[M],y||(g.Qa=!1)):(g=new Ahe(g,this.src,R,!!w,I),g.Qa=y,f.push(g)),g};function Dx(f,g){var y=g.type;y in f.a&&re(f.a[y],g)&&(mw(g),f.a[y].length==0&&(delete f.a[y],f.b--))}function Ax(f,g,y,w){for(var I=0;I<f.length;++I){var R=f[I];if(!R.wa&&R.listener==g&&R.capture==!!y&&R.Wa==w)return I}return-1}var Ix="closure_lm_"+(1e6*Math.random()|0),xx={};function Da(f,g,y,w,I){if(w&&w.once)Lx(f,g,y,w,I);else if(Array.isArray(g))for(var R=0;R<g.length;R++)Da(f,g[R],y,w,I);else y=Ox(y),f&&f[v0]?$H(f,g,y,_(w)?!!w.capture:!!w,I):UH(f,g,y,!1,w,I)}function UH(f,g,y,w,I,R){if(!g)throw Error("Invalid event type");var M=_(I)?!!I.capture:!!I,z=yw(f);if(z||(f[Ix]=z=new _w(f)),y=z.add(g,y,w,M,R),!y.proxy)if(w=Ihe(),y.proxy=w,w.src=f,w.listener=y,f.addEventListener)She||(I=M),I===void 0&&(I=!1),f.addEventListener(g.toString(),w,I);else if(f.attachEvent)f.attachEvent(qH(g.toString()),w);else if(f.addListener&&f.removeListener)f.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.")}function Ihe(){var f=xhe,g=WH?function(y){return f.call(g.src,g.listener,y)}:function(y){if(y=f.call(g.src,g.listener,y),!y)return y};return g}function Lx(f,g,y,w,I){if(Array.isArray(g))for(var R=0;R<g.length;R++)Lx(f,g[R],y,w,I);else y=Ox(y),f&&f[v0]?kx(f,g,y,_(w)?!!w.capture:!!w,I):UH(f,g,y,!0,w,I)}function Ws(f,g,y,w,I){if(Array.isArray(g))for(var R=0;R<g.length;R++)Ws(f,g[R],y,w,I);else w=_(w)?!!w.capture:!!w,y=Ox(y),f&&f[v0]?(f=f.v,g=String(g).toString(),g in f.a&&(R=f.a[g],y=Ax(R,y,w,I),-1<y&&(mw(R[y]),Array.prototype.splice.call(R,y,1),R.length==0&&(delete f.a[g],f.b--)))):f&&(f=yw(f))&&(g=f.a[g.toString()],f=-1,g&&(f=Ax(g,y,w,I)),(y=-1<f?g[f]:null)&&jH(y))}function jH(f){if(typeof f!="number"&&f&&!f.wa){var g=f.src;if(g&&g[v0])Dx(g.v,f);else{var y=f.type,w=f.proxy;g.removeEventListener?g.removeEventListener(y,w,f.capture):g.detachEvent?g.detachEvent(qH(y),w):g.addListener&&g.removeListener&&g.removeListener(w),(y=yw(g))?(Dx(y,f),y.b==0&&(y.src=null,g[Ix]=null)):mw(f)}}}function qH(f){return f in xx?xx[f]:xx[f]="on"+f}function zH(f,g,y,w){var I=!0;if((f=yw(f))&&(g=f.a[g.toString()]))for(g=g.concat(),f=0;f<g.length;f++){var R=g[f];R&&R.capture==y&&!R.wa&&(R=GH(R,w),I=I&&R!==!1)}return I}function GH(f,g){var y=f.listener,w=f.Wa||f.src;return f.Qa&&jH(f),y.call(w,g)}function xhe(f,g){if(f.wa)return!0;if(!WH){if(!g)e:{g=["window","event"];for(var y=u,w=0;w<g.length;w++)if(y=y[g[w]],y==null){g=null;break e}g=y}if(w=g,g=new nd(w,this),y=!0,!(0>w.keyCode||w.returnValue!=null)){e:{var I=!1;if(w.keyCode==0)try{w.keyCode=-1;break e}catch{I=!0}(I||w.returnValue==null)&&(w.returnValue=!0)}for(w=[],I=g.b;I;I=I.parentNode)w.push(I);for(f=f.type,I=w.length-1;0<=I;I--){g.b=w[I];var R=zH(w[I],f,!0,g);y=y&&R}for(I=0;I<w.length;I++)g.b=w[I],R=zH(w[I],f,!1,g),y=y&&R}return y}return GH(f,new nd(g,this))}function yw(f){return f=f[Ix],f instanceof _w?f:null}var Nx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ox(f){return m(f)?f:(f[Nx]||(f[Nx]=function(g){return f.handleEvent(g)}),f[Nx])}function Ho(){vw.call(this),this.v=new _w(this),this.bc=this,this.hb=null}k(Ho,vw),Ho.prototype[v0]=!0,Ho.prototype.addEventListener=function(f,g,y,w){Da(this,f,g,y,w)},Ho.prototype.removeEventListener=function(f,g,y,w){Ws(this,f,g,y,w)},Ho.prototype.dispatchEvent=function(f){var g,y=this.hb;if(y)for(g=[];y;y=y.hb)g.push(y);y=this.bc;var w=f.type||f;if(typeof f=="string")f=new ys(f,y);else if(f instanceof ys)f.target=f.target||y;else{var I=f;f=new ys(w,y),tr(f,I)}if(I=!0,g)for(var R=g.length-1;0<=R;R--){var M=f.b=g[R];I=bw(M,w,!0,f)&&I}if(M=f.b=y,I=bw(M,w,!0,f)&&I,I=bw(M,w,!1,f)&&I,g)for(R=0;R<g.length;R++)M=f.b=g[R],I=bw(M,w,!1,f)&&I;return I},Ho.prototype.Da=function(){if(Ho.bb.Da.call(this),this.v){var f=this.v,g;for(g in f.a){for(var y=f.a[g],w=0;w<y.length;w++)mw(y[w]);delete f.a[g],f.b--}}this.hb=null};function $H(f,g,y,w,I){f.v.add(String(g),y,!1,w,I)}function kx(f,g,y,w,I){f.v.add(String(g),y,!0,w,I)}function bw(f,g,y,w){if(g=f.v.a[String(g)],!g)return!0;g=g.concat();for(var I=!0,R=0;R<g.length;++R){var M=g[R];if(M&&!M.wa&&M.capture==y){var z=M.listener,le=M.Wa||M.src;M.Qa&&Dx(f.v,M),I=z.call(le,w)!==!1&&I}}return I&&!w.defaultPrevented}function Rx(f,g,y){if(m(f))y&&(f=T(f,y));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(f,g||0)}function Fg(f){var g=null;return new Gt(function(y,w){g=Rx(function(){y(void 0)},f),g==-1&&w(Error("Failed to schedule timer."))}).o(function(y){throw u.clearTimeout(g),y})}function KH(f){if(f.X&&typeof f.X=="function")return f.X();if(typeof f=="string")return f.split("");if(v(f)){for(var g=[],y=f.length,w=0;w<y;w++)g.push(f[w]);return g}g=[],y=0;for(w in f)g[y++]=f[w];return g}function YH(f){if(f.Y&&typeof f.Y=="function")return f.Y();if(!f.X||typeof f.X!="function"){if(v(f)||typeof f=="string"){var g=[];f=f.length;for(var y=0;y<f;y++)g.push(y);return g}g=[],y=0;for(var w in f)g[y++]=w;return g}}function Lhe(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(v(f)||typeof f=="string")Ht(f,g,void 0);else for(var y=YH(f),w=KH(f),I=w.length,R=0;R<I;R++)g.call(void 0,w[R],y&&y[R],f)}function Bg(f,g){this.b={},this.a=[],this.c=0;var y=arguments.length;if(1<y){if(y%2)throw Error("Uneven number of arguments");for(var w=0;w<y;w+=2)this.set(arguments[w],arguments[w+1])}else if(f)if(f instanceof Bg)for(y=f.Y(),w=0;w<y.length;w++)this.set(y[w],f.get(y[w]));else for(w in f)this.set(w,f[w])}n=Bg.prototype,n.X=function(){Px(this);for(var f=[],g=0;g<this.a.length;g++)f.push(this.b[this.a[g]]);return f},n.Y=function(){return Px(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0};function Px(f){if(f.c!=f.a.length){for(var g=0,y=0;g<f.a.length;){var w=f.a[g];rd(f.b,w)&&(f.a[y++]=w),g++}f.a.length=y}if(f.c!=f.a.length){var I={};for(y=g=0;g<f.a.length;)w=f.a[g],rd(I,w)||(f.a[y++]=w,I[w]=1),g++;f.a.length=y}}n.get=function(f,g){return rd(this.b,f)?this.b[f]:g},n.set=function(f,g){rd(this.b,f)||(this.c++,this.a.push(f)),this.b[f]=g},n.forEach=function(f,g){for(var y=this.Y(),w=0;w<y.length;w++){var I=y[w],R=this.get(I);f.call(g,R,I,this)}};function rd(f,g){return Object.prototype.hasOwnProperty.call(f,g)}var XH=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nhe(f,g){if(f){f=f.split("&");for(var y=0;y<f.length;y++){var w=f[y].indexOf("="),I=null;if(0<=w){var R=f[y].substring(0,w);I=f[y].substring(w+1)}else R=f[y];g(R,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function rf(f,g){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var y;f instanceof rf?(this.i=g!==void 0?g:f.i,m0(this,f.c),this.l=f.l,this.a=f.a,_0(this,f.g),this.f=f.f,Mx(this,eV(f.b)),this.h=f.h):f&&(y=String(f).match(XH))?(this.i=!!g,m0(this,y[1]||"",!0),this.l=y0(y[2]||""),this.a=y0(y[3]||"",!0),_0(this,y[4]),this.f=y0(y[5]||"",!0),Mx(this,y[6]||"",!0),this.h=y0(y[7]||"")):(this.i=!!g,this.b=new id(null,this.i))}rf.prototype.toString=function(){var f=[],g=this.c;g&&f.push(b0(g,QH,!0),":");var y=this.a;return(y||g=="file")&&(f.push("//"),(g=this.l)&&f.push(b0(g,QH,!0),"@"),f.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.g,y!=null&&f.push(":",String(y))),(y=this.f)&&(this.a&&y.charAt(0)!="/"&&f.push("/"),f.push(b0(y,y.charAt(0)=="/"?Rhe:khe,!0))),(y=this.b.toString())&&f.push("?",y),(y=this.h)&&f.push("#",b0(y,Mhe)),f.join("")},rf.prototype.resolve=function(f){var g=new rf(this),y=!!f.c;y?m0(g,f.c):y=!!f.l,y?g.l=f.l:y=!!f.a,y?g.a=f.a:y=f.g!=null;var w=f.f;if(y)_0(g,f.g);else if(y=!!f.f){if(w.charAt(0)!="/")if(this.a&&!this.f)w="/"+w;else{var I=g.f.lastIndexOf("/");I!=-1&&(w=g.f.substr(0,I+1)+w)}if(I=w,I==".."||I==".")w="";else if(et(I,"./")||et(I,"/.")){w=I.lastIndexOf("/",0)==0,I=I.split("/");for(var R=[],M=0;M<I.length;){var z=I[M++];z=="."?w&&M==I.length&&R.push(""):z==".."?((1<R.length||R.length==1&&R[0]!="")&&R.pop(),w&&M==I.length&&R.push("")):(R.push(z),w=!0)}w=R.join("/")}else w=I}return y?g.f=w:y=f.b.toString()!=="",y?Mx(g,eV(f.b)):y=!!f.h,y&&(g.h=f.h),g};function m0(f,g,y){f.c=y?y0(g,!0):g,f.c&&(f.c=f.c.replace(/:$/,""))}function _0(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.g=g}else f.g=null}function Mx(f,g,y){g instanceof id?(f.b=g,Fhe(f.b,f.i)):(y||(g=b0(g,Phe)),f.b=new id(g,f.i))}function Ar(f,g,y){f.b.set(g,y)}function Aa(f,g){return f.b.get(g)}function bs(f){return f instanceof rf?new rf(f):new rf(f,void 0)}function Cw(f,g,y,w){var I=new rf(null,void 0);return f&&m0(I,f),g&&(I.a=g),y&&_0(I,y),w&&(I.f=w),I}function y0(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function b0(f,g,y){return typeof f=="string"?(f=encodeURI(f).replace(g,Ohe),y&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ohe(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var QH=/[#\/\?@]/g,khe=/[#\?:]/g,Rhe=/[#\?]/g,Phe=/[#\?@]/g,Mhe=/#/g;function id(f,g){this.b=this.a=null,this.c=f||null,this.f=!!g}function of(f){f.a||(f.a=new Bg,f.b=0,f.c&&Nhe(f.c,function(g,y){f.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}function ZH(f){var g=YH(f);if(typeof g>"u")throw Error("Keys are undefined");var y=new id(null,void 0);f=KH(f);for(var w=0;w<g.length;w++){var I=g[w],R=f[w];Array.isArray(R)?JH(y,I,R):y.add(I,R)}return y}n=id.prototype,n.add=function(f,g){of(this),this.c=null,f=Hg(this,f);var y=this.a.get(f);return y||this.a.set(f,y=[]),y.push(g),this.b+=1,this};function Vu(f,g){of(f),g=Hg(f,g),rd(f.a.b,g)&&(f.c=null,f.b-=f.a.get(g).length,f=f.a,rd(f.b,g)&&(delete f.b[g],f.c--,f.a.length>2*f.c&&Px(f)))}n.clear=function(){this.a=this.c=null,this.b=0};function Fx(f,g){return of(f),g=Hg(f,g),rd(f.a.b,g)}n.forEach=function(f,g){of(this),this.a.forEach(function(y,w){Ht(y,function(I){f.call(g,I,w,this)},this)},this)},n.Y=function(){of(this);for(var f=this.a.X(),g=this.a.Y(),y=[],w=0;w<g.length;w++)for(var I=f[w],R=0;R<I.length;R++)y.push(g[w]);return y},n.X=function(f){of(this);var g=[];if(typeof f=="string")Fx(this,f)&&(g=ve(g,this.a.get(Hg(this,f))));else{f=this.a.X();for(var y=0;y<f.length;y++)g=ve(g,f[y])}return g},n.set=function(f,g){return of(this),this.c=null,f=Hg(this,f),Fx(this,f)&&(this.b-=this.a.get(f).length),this.a.set(f,[g]),this.b+=1,this},n.get=function(f,g){return f?(f=this.X(f),0<f.length?String(f[0]):g):g};function JH(f,g,y){Vu(f,g),0<y.length&&(f.c=null,f.a.set(Hg(f,g),Ce(y)),f.b+=y.length)}n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var f=[],g=this.a.Y(),y=0;y<g.length;y++){var w=g[y],I=encodeURIComponent(String(w));w=this.X(w);for(var R=0;R<w.length;R++){var M=I;w[R]!==""&&(M+="="+encodeURIComponent(String(w[R]))),f.push(M)}}return this.c=f.join("&")};function eV(f){var g=new id;return g.c=f.c,f.a&&(g.a=new Bg(f.a),g.b=f.b),g}function Hg(f,g){return g=String(g),f.f&&(g=g.toLowerCase()),g}function Fhe(f,g){g&&!f.f&&(of(f),f.c=null,f.a.forEach(function(y,w){var I=w.toLowerCase();w!=I&&(Vu(this,w),JH(this,I,y))},f)),f.f=g}function tV(f){var g=[];return Bx(new Bhe,f,g),g.join("")}function Bhe(){}function Bx(f,g,y){if(g==null)y.push("null");else{if(typeof g=="object"){if(Array.isArray(g)){var w=g;g=w.length,y.push("[");for(var I="",R=0;R<g;R++)y.push(I),Bx(f,w[R],y),I=",";y.push("]");return}if(g instanceof String||g instanceof Number||g instanceof Boolean)g=g.valueOf();else{y.push("{"),I="";for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&(R=g[w],typeof R!="function"&&(y.push(I),rV(w,y),y.push(":"),Bx(f,R,y),I=","));y.push("}");return}}switch(typeof g){case"string":rV(g,y);break;case"number":y.push(isFinite(g)&&!isNaN(g)?String(g):"null");break;case"boolean":y.push(String(g));break;case"function":y.push("null");break;default:throw Error("Unknown type: "+typeof g)}}}var nV={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Hhe=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rV(f,g){g.push('"',f.replace(Hhe,function(y){var w=nV[y];return w||(w="\\u"+(y.charCodeAt(0)|65536).toString(16).substr(1),nV[y]=w),w}),'"')}function Hx(){var f=Hi();return Ya&&!!nf&&nf==11||/Edge\/\d+/.test(f)}function C0(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function iV(f,g){g=g||u.window;var y="about:blank";f&&(y=fw(hH(f)||pH)),g.location.href=y}function oV(f,g){var y=[],w;for(w in f)w in g?typeof f[w]!=typeof g[w]?y.push(w):typeof f[w]=="object"&&f[w]!=null&&g[w]!=null?0<oV(f[w],g[w]).length&&y.push(w):f[w]!==g[w]&&y.push(w):y.push(w);for(w in g)w in f||y.push(w);return y}function Vhe(){var f=Hi();return f=Vg(f)!=lV?null:(f=f.match(/\sChrome\/(\d+)/i))&&f.length==2?parseInt(f[1],10):null,f&&30>f?!1:!Ya||!nf||9<nf}function sV(f){return f=(f||Hi()).toLowerCase(),!!(f.match(/android/)||f.match(/webos/)||f.match(/iphone|ipad|ipod/)||f.match(/blackberry/)||f.match(/windows phone/)||f.match(/iemobile/))}function od(f){f=f||u.window;try{f.close()}catch{}}function aV(f,g,y){var w=Math.floor(1e9*Math.random()).toString();g=g||500,y=y||600;var I=(window.screen.availHeight-y)/2,R=(window.screen.availWidth-g)/2;g={width:g,height:y,top:0<I?I:0,left:0<R?R:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},y=Hi().toLowerCase(),w&&(g.target=w,et(y,"crios/")&&(g.target="_blank")),Vg(Hi())==Ux&&(f=f||"http://localhost",g.scrollbars=!0),y=f||"",(f=g)||(f={}),w=window,g=y instanceof _s?y:hH(typeof y.href<"u"?y.href:String(y))||pH,y=f.target||y.target,I=[];for(M in f)switch(M){case"width":case"height":case"top":case"left":I.push(M+"="+f[M]);break;case"target":case"noopener":case"noreferrer":break;default:I.push(M+"="+(f[M]?1:0))}var M=I.join(",");if((_n("iPhone")&&!_n("iPod")&&!_n("iPad")||_n("iPad")||_n("iPod"))&&w.navigator&&w.navigator.standalone&&y&&y!="_self"?(M=dw(document,"A"),h0(M,"HTMLAnchorElement"),g=g instanceof _s?g:dH(g),M.href=fw(g),M.setAttribute("target",y),f.noreferrer&&M.setAttribute("rel","noreferrer"),f=document.createEvent("MouseEvent"),f.initMouseEvent("click",!0,!0,w,1),M.dispatchEvent(f),M={}):f.noreferrer?(M=vH("",w,y,M),f=fw(g),M&&(che&&et(f,";")&&(f="'"+f.replace(/'/g,"%27")+"'"),M.opener=null,f='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+vx(f)+'">',f=(w=uH())?w.createHTML(f):f,f=new Pg(f,null,gH),w=M.document)&&(w.write(she(f)),w.close())):(M=vH(g,w,y,M))&&f.noopener&&(M.opener=null),M)try{M.focus()}catch{}return M}function Whe(f){return new Gt(function(g){function y(){Fg(2e3).then(function(){if(!f||f.closed)g();else return y()})}return y()})}var Uhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jhe=/^[^@]+@[^@]+$/;function ww(){var f=null;return new Gt(function(g){u.document.readyState=="complete"?g():(f=function(){g()},Lx(window,"load",f))}).o(function(g){throw Ws(window,"load",f),g})}function qhe(){return Vx(void 0)?ww().then(function(){return new Gt(function(f,g){var y=u.document,w=setTimeout(function(){g(Error("Cordova framework is not ready."))},1e3);y.addEventListener("deviceready",function(){clearTimeout(w),f()},!1)})}):ar(Error("Cordova must run in an Android or iOS file scheme."))}function Vx(f){return f=f||Hi(),!(Ug()!=="file:"&&Ug()!=="ionic:"||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wx(){var f=u.window;try{return!(!f||f==f.top)}catch{return!1}}function Xa(){return typeof u.WorkerGlobalScope<"u"&&typeof u.importScripts=="function"}function Wu(){return tt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":tt.INTERNAL.hasOwnProperty("node")?"Node":Xa()?"Worker":"Browser"}function uV(){var f=Wu();return f==="ReactNative"||f==="Node"}function zhe(){for(var f=50,g=[];0<f;)g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),f--;return g.join("")}var Ux="Firefox",lV="Chrome";function Vg(f){var g=f.toLowerCase();if(et(g,"opera/")||et(g,"opr/")||et(g,"opios/"))return"Opera";if(et(g,"iemobile"))return"IEMobile";if(et(g,"msie")||et(g,"trident/"))return"IE";if(et(g,"edge/"))return"Edge";if(et(g,"firefox/"))return Ux;if(et(g,"silk/"))return"Silk";if(et(g,"blackberry"))return"Blackberry";if(et(g,"webos"))return"Webos";if(!et(g,"safari/")||et(g,"chrome/")||et(g,"crios/")||et(g,"android"))if(!et(g,"chrome/")&&!et(g,"crios/")||et(g,"edge/")){if(et(g,"android"))return"Android";if((f=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&f.length==2)return f[1]}else return lV;else return"Safari";return"Other"}var cV={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Wg(f,g){g=g||[];var y=[],w={},I;for(I in cV)w[cV[I]]=!0;for(I=0;I<g.length;I++)typeof w[g[I]]<"u"&&(delete w[g[I]],y.push(g[I]));return y.sort(),g=y,g.length||(g=["FirebaseCore-web"]),y=Wu(),y==="Browser"?(w=Hi(),y=Vg(w)):y==="Worker"&&(w=Hi(),y=Vg(w)+"-"+y),y+"/JsCore/"+f+"/"+g.join(",")}function Hi(){return u.navigator&&u.navigator.userAgent||""}function ur(f,g){f=f.split("."),g=g||u;for(var y=0;y<f.length&&typeof g=="object"&&g!=null;y++)g=g[f[y]];return y!=f.length&&(g=void 0),g}function jx(){try{var f=u.localStorage,g=ad();if(f)return f.setItem(g,"1"),f.removeItem(g),Hx()?!!u.indexedDB:!0}catch{return Xa()&&!!u.indexedDB}return!1}function sd(){return(Ew()||Ug()==="chrome-extension:"||Vx())&&!uV()&&jx()&&!Xa()}function Ew(){return Ug()==="http:"||Ug()==="https:"}function Ug(){return u.location&&u.location.protocol||null}function w0(f){return f=f||Hi(),!(sV(f)||Vg(f)==Ux)}function E0(f){return typeof f>"u"?null:tV(f)}function fV(f){var g={},y;for(y in f)f.hasOwnProperty(y)&&f[y]!==null&&f[y]!==void 0&&(g[y]=f[y]);return g}function jg(f){if(f!==null)return JSON.parse(f)}function ad(f){return f||Math.floor(1e9*Math.random()).toString()}function hV(f){return f=f||Hi(),!(Vg(f)=="Safari"||f.toLowerCase().match(/iphone|ipad|ipod/))}function dV(){var f=u.___jsl;if(f&&f.H){for(var g in f.H)if(f.H[g].r=f.H[g].r||[],f.H[g].L=f.H[g].L||[],f.H[g].r=f.H[g].L.concat(),f.CP)for(var y=0;y<f.CP.length;y++)f.CP[y]=null}}function sf(f,g){if(f>g)throw Error("Short delay should be less than long delay!");this.a=f,this.c=g,f=Hi(),g=Wu(),this.b=sV(f)||g==="ReactNative"}sf.prototype.get=function(){var f=u.navigator;return!(f&&typeof f.onLine=="boolean"&&(Ew()||Ug()==="chrome-extension:"||typeof f.connection<"u"))||f.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function qx(){var f=u.document;return f&&typeof f.visibilityState<"u"?f.visibilityState=="visible":!0}function Ghe(){var f=u.document,g=null;return qx()||!f?ht():new Gt(function(y){g=function(){qx()&&(f.removeEventListener("visibilitychange",g,!1),y())},f.addEventListener("visibilitychange",g,!1)}).o(function(y){throw f.removeEventListener("visibilitychange",g,!1),y})}function S0(f){try{var g=new Date(parseInt(f,10));if(!isNaN(g.getTime())&&!/[^0-9]/.test(f))return g.toUTCString()}catch{}return null}function pV(){return!(!ur("fireauth.oauthhelper",u)&&!ur("fireauth.iframe",u))}function $he(){var f=u.navigator;return f&&f.serviceWorker&&f.serviceWorker.controller||null}function Khe(){var f=u.navigator;return f&&f.serviceWorker?ht().then(function(){return f.serviceWorker.ready}).then(function(g){return g.active||null}).o(function(){return null}):ht(null)}var gV={};function zx(f){gV[f]||(gV[f]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(f))}var Gx;try{var $x={};Object.defineProperty($x,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($x,"abcd",{configurable:!0,enumerable:!0,value:2}),Gx=$x.abcd==2}catch{Gx=!1}function Ye(f,g,y){Gx?Object.defineProperty(f,g,{configurable:!0,enumerable:!0,value:y}):f[g]=y}function Vo(f,g){if(g)for(var y in g)g.hasOwnProperty(y)&&Ye(f,y,g[y])}function Uu(f){var g={};return Vo(g,f),g}function Yhe(f){var g={},y;for(y in f)f.hasOwnProperty(y)&&(g[y]=f[y]);return g}function Xhe(f,g){if(!g||!g.length)return!0;if(!f)return!1;for(var y=0;y<g.length;y++){var w=f[g[y]];if(w==null||w==="")return!1}return!0}function Kx(f){var g=f;if(typeof f=="object"&&f!=null){g="length"in f?[]:{};for(var y in f)Ye(g,y,Kx(f[y]))}return g}function Yx(f){var g=f&&(f[Jx]?"phone":null);if(g&&f&&f[Zx]){Ye(this,"uid",f[Zx]),Ye(this,"displayName",f[vV]||null);var y=null;f[Qx]&&(y=new Date(f[Qx]).toUTCString()),Ye(this,"enrollmentTime",y),Ye(this,"factorId",g)}else throw new L("internal-error","Internal assert: invalid MultiFactorInfo object")}Yx.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Xx(f){try{var g=new T0(f)}catch{g=null}return g}var vV="displayName",Qx="enrolledAt",Zx="mfaEnrollmentId",Jx="phoneInfo";function T0(f){Yx.call(this,f),Ye(this,"phoneNumber",f[Jx])}k(T0,Yx),T0.prototype.w=function(){var f=T0.bb.w.call(this);return f.phoneNumber=this.phoneNumber,f};function Qhe(f){var g={},y=f[Zhe],w=f[ede],I=f[tde];if(f=Xx(f[Jhe]),!I||I!=Sw&&I!=D0&&!y||I==D0&&!w||I==eL&&!f)throw Error("Invalid checkActionCode response!");I==D0?(g[_V]=y||null,g[yV]=y||null,g[mV]=w):(g[_V]=w||null,g[yV]=w||null,g[mV]=y||null),g[nde]=f||null,Ye(this,ide,I),Ye(this,rde,Kx(g))}var eL="REVERT_SECOND_FACTOR_ADDITION",Sw="EMAIL_SIGNIN",D0="VERIFY_AND_CHANGE_EMAIL",Zhe="email",Jhe="mfaInfo",ede="newEmail",tde="requestType",mV="email",_V="fromEmail",nde="multiFactorInfo",yV="previousEmail",rde="data",ide="operation";function tL(f){f=bs(f);var g=Aa(f,bV)||null,y=Aa(f,CV)||null,w=Aa(f,wV)||null;if(w=w&&ude[w]||null,!g||!y||!w)throw new L("argument-error",bV+", "+CV+"and "+wV+" are required in a valid action code URL.");Vo(this,{apiKey:g,operation:w,code:y,continueUrl:Aa(f,ode)||null,languageCode:Aa(f,sde)||null,tenantId:Aa(f,ade)||null})}var bV="apiKey",CV="oobCode",ode="continueUrl",sde="languageCode",wV="mode",ade="tenantId",ude={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:eL,signIn:Sw,verifyAndChangeEmail:D0,verifyEmail:"VERIFY_EMAIL"};function EV(f){try{return new tL(f)}catch{return null}}function Tw(f){var g=f[lde];if(typeof g>"u")throw new L("missing-continue-uri");if(typeof g!="string"||typeof g=="string"&&!g.length)throw new L("invalid-continue-uri");this.h=g,this.b=this.a=null,this.g=!1;var y=f[SV];if(y&&typeof y=="object"){g=y[xV];var w=y[AV];if(y=y[IV],typeof g=="string"&&g.length){if(this.a=g,typeof w<"u"&&typeof w!="boolean")throw new L("argument-error",AV+" property must be a boolean when specified.");if(this.g=!!w,typeof y<"u"&&(typeof y!="string"||typeof y=="string"&&!y.length))throw new L("argument-error",IV+" property must be a non empty string when specified.");this.b=y||null}else{if(typeof g<"u")throw new L("argument-error",xV+" property must be a non empty string when specified.");if(typeof w<"u"||typeof y<"u")throw new L("missing-android-pkg-name")}}else if(typeof y<"u")throw new L("argument-error",SV+" property must be a non null object when specified.");if(this.f=null,(g=f[DV])&&typeof g=="object"){if(g=g[LV],typeof g=="string"&&g.length)this.f=g;else if(typeof g<"u")throw new L("argument-error",LV+" property must be a non empty string when specified.")}else if(typeof g<"u")throw new L("argument-error",DV+" property must be a non null object when specified.");if(g=f[nL],typeof g<"u"&&typeof g!="boolean")throw new L("argument-error",nL+" property must be a boolean when specified.");if(this.c=!!g,f=f[TV],typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new L("argument-error",TV+" property must be a non empty string when specified.");this.i=f||null}var SV="android",TV="dynamicLinkDomain",nL="handleCodeInApp",DV="iOS",lde="url",AV="installApp",IV="minimumVersion",xV="packageName",LV="bundleId";function Dw(f){var g={};g.continueUrl=f.h,g.canHandleCodeInApp=f.c,(g.androidPackageName=f.a)&&(g.androidMinimumVersion=f.b,g.androidInstallApp=f.g),g.iOSBundleId=f.f,g.dynamicLinkDomain=f.i;for(var y in g)g[y]===null&&delete g[y];return g}function cde(f){return Kn(f,function(g){return g=g.toString(16),1<g.length?g:"0"+g}).join("")}var A0=null;function fde(f){var g=[];return hde(f,function(y){g.push(y)}),g}function hde(f,g){function y(le){for(;w<f.length;){var be=f.charAt(w++),Ct=A0[be];if(Ct!=null)return Ct;if(!/^[\s\xa0]*$/.test(be))throw Error("Unknown base64 encoding at char: "+be)}return le}dde();for(var w=0;;){var I=y(-1),R=y(0),M=y(64),z=y(64);if(z===64&&I===-1)break;g(I<<2|R>>4),M!=64&&(g(R<<4&240|M>>2),z!=64&&g(M<<6&192|z))}}function dde(){if(!A0){A0={};for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),g=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++)for(var w=f.concat(g[y].split("")),I=0;I<w.length;I++){var R=w[I];A0[R]===void 0&&(A0[R]=I)}}}function Aw(f){var g=NV(f);if(!(g&&g.sub&&g.iss&&g.aud&&g.exp))throw Error("Invalid JWT");this.h=f,this.a=g.exp,this.i=g.sub,f=Date.now()/1e3,this.g=g.iat||(f>this.a?this.a:f),this.b=g.provider_id||g.firebase&&g.firebase.sign_in_provider||null,this.f=g.firebase&&g.firebase.tenant||null,this.c=!!g.is_anonymous||this.b=="anonymous"}Aw.prototype.T=function(){return this.f},Aw.prototype.l=function(){return this.c},Aw.prototype.toString=function(){return this.h};function Iw(f){try{return new Aw(f)}catch{return null}}function NV(f){if(!f||(f=f.split("."),f.length!=3))return null;f=f[1];for(var g=(4-f.length%4)%4,y=0;y<g;y++)f+=".";try{var w=fde(f);for(f=[],y=g=0;g<w.length;){var I=w[g++];if(128>I)f[y++]=String.fromCharCode(I);else if(191<I&&224>I){var R=w[g++];f[y++]=String.fromCharCode((I&31)<<6|R&63)}else if(239<I&&365>I){R=w[g++];var M=w[g++],z=w[g++],le=((I&7)<<18|(R&63)<<12|(M&63)<<6|z&63)-65536;f[y++]=String.fromCharCode(55296+(le>>10)),f[y++]=String.fromCharCode(56320+(le&1023))}else R=w[g++],M=w[g++],f[y++]=String.fromCharCode((I&15)<<12|(R&63)<<6|M&63)}return JSON.parse(f.join(""))}catch{}return null}var OV="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),xw=["client_id","response_type","scope","redirect_uri","state"],rL={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:xw},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:xw},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:xw},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:OV},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function iL(f){for(var g in rL)if(rL[g].fa==f)return rL[g];return null}function kV(f){var g={};g["facebook.com"]=PV,g["google.com"]=FV,g["github.com"]=MV,g["twitter.com"]=BV;var y=f&&f[RV];try{if(y)return g[y]?new g[y](f):new ju(f);if(typeof f[oL]<"u")return new sL(f)}catch{}return null}var oL="idToken",RV="providerId";function sL(f){var g=f[RV];if(!g&&f[oL]){var y=Iw(f[oL]);y&&y.b&&(g=y.b)}if(!g)throw Error("Invalid additional user info!");(g=="anonymous"||g=="custom")&&(g=null),y=!1,typeof f.isNewUser<"u"?y=!!f.isNewUser:f.kind==="identitytoolkit#SignupNewUserResponse"&&(y=!0),Ye(this,"providerId",g),Ye(this,"isNewUser",y)}function ju(f){sL.call(this,f),f=jg(f.rawUserInfo||"{}"),Ye(this,"profile",Kx(f||{}))}k(ju,sL);function PV(f){if(ju.call(this,f),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}k(PV,ju);function MV(f){if(ju.call(this,f),this.providerId!="github.com")throw Error("Invalid provider ID!");Ye(this,"username",this.profile&&this.profile.login||null)}k(MV,ju);function FV(f){if(ju.call(this,f),this.providerId!="google.com")throw Error("Invalid provider ID!")}k(FV,ju);function BV(f){if(ju.call(this,f),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Ye(this,"username",f.screenName||null)}k(BV,ju);function HV(f){var g=bs(f),y=Aa(g,"link"),w=Aa(bs(y),"link");return g=Aa(g,"deep_link_id"),Aa(bs(g),"link")||g||w||y||f}function Lw(f,g){if(!f&&!g)throw new L("internal-error","Internal assert: no raw session string available");if(f&&g)throw new L("internal-error","Internal assert: unable to determine the session type");this.a=f||null,this.b=g||null,this.type=this.a?I0:Nw}var I0="enroll",Nw="signin";Lw.prototype.Ha=function(){return this.a?ht(this.a):ht(this.b)},Lw.prototype.w=function(){return this.type==I0?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function qg(){}qg.prototype.ka=function(){},qg.prototype.b=function(){},qg.prototype.c=function(){},qg.prototype.w=function(){};function zg(f,g){return f.then(function(y){if(y[Ja]){var w=Iw(y[Ja]);if(!w||g!=w.i)throw new L("user-mismatch");return y}throw new L("user-mismatch")}).o(function(y){throw y&&y.code&&y.code==P+"user-not-found"?new L("user-mismatch"):y})}function ud(f,g){if(g)this.a=g;else throw new L("internal-error","failed to construct a credential");Ye(this,"providerId",f),Ye(this,"signInMethod",f)}ud.prototype.ka=function(f){return LL(f,aL(this))},ud.prototype.b=function(f,g){var y=aL(this);return y.idToken=g,NL(f,y)},ud.prototype.c=function(f,g){return zg(OL(f,aL(this)),g)};function aL(f){return{pendingToken:f.a,requestUri:"http://localhost"}}ud.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function pde(f){if(f&&f.providerId&&f.signInMethod&&f.providerId.indexOf("saml.")==0&&f.pendingToken)try{return new ud(f.providerId,f.pendingToken)}catch{}return null}function Ql(f,g,y){if(this.a=null,g.idToken||g.accessToken)g.idToken&&Ye(this,"idToken",g.idToken),g.accessToken&&Ye(this,"accessToken",g.accessToken),g.nonce&&!g.pendingToken&&Ye(this,"nonce",g.nonce),g.pendingToken&&(this.a=g.pendingToken);else if(g.oauthToken&&g.oauthTokenSecret)Ye(this,"accessToken",g.oauthToken),Ye(this,"secret",g.oauthTokenSecret);else throw new L("internal-error","failed to construct a credential");Ye(this,"providerId",f),Ye(this,"signInMethod",y)}Ql.prototype.ka=function(f){return LL(f,uL(this))},Ql.prototype.b=function(f,g){var y=uL(this);return y.idToken=g,NL(f,y)},Ql.prototype.c=function(f,g){var y=uL(this);return zg(OL(f,y),g)};function uL(f){var g={};return f.idToken&&(g.id_token=f.idToken),f.accessToken&&(g.access_token=f.accessToken),f.secret&&(g.oauth_token_secret=f.secret),g.providerId=f.providerId,f.nonce&&!f.a&&(g.nonce=f.nonce),g={postBody:ZH(g).toString(),requestUri:"http://localhost"},f.a&&(delete g.postBody,g.pendingToken=f.a),g}Ql.prototype.w=function(){var f={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(f.oauthIdToken=this.idToken),this.accessToken&&(f.oauthAccessToken=this.accessToken),this.secret&&(f.oauthTokenSecret=this.secret),this.nonce&&(f.nonce=this.nonce),this.a&&(f.pendingToken=this.a),f};function gde(f){if(f&&f.providerId&&f.signInMethod){var g={idToken:f.oauthIdToken,accessToken:f.oauthTokenSecret?null:f.oauthAccessToken,oauthTokenSecret:f.oauthTokenSecret,oauthToken:f.oauthTokenSecret&&f.oauthAccessToken,nonce:f.nonce,pendingToken:f.pendingToken};try{return new Ql(f.providerId,g,f.signInMethod)}catch{}}return null}function ld(f,g){this.Qc=g||[],Vo(this,{providerId:f,isOAuthProvider:!0}),this.Jb={},this.qb=(iL(f)||{}).Ja||null,this.pb=null}ld.prototype.Ka=function(f){return this.Jb=Ka(f),this};function VV(f){if(typeof f!="string"||f.indexOf("saml.")!=0)throw new L("argument-error",'SAML provider IDs must be prefixed with "saml."');ld.call(this,f,[])}k(VV,ld);function Us(f){ld.call(this,f,xw),this.a=[]}k(Us,ld),Us.prototype.Ca=function(f){return Z(this.a,f)||this.a.push(f),this},Us.prototype.Rb=function(){return Ce(this.a)},Us.prototype.credential=function(f,g){var y;if(_(f)?y={idToken:f.idToken||null,accessToken:f.accessToken||null,nonce:f.rawNonce||null}:y={idToken:f||null,accessToken:g||null},!y.idToken&&!y.accessToken)throw new L("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ql(this.providerId,y,this.providerId)};function cd(){Us.call(this,"facebook.com")}k(cd,Us),Ye(cd,"PROVIDER_ID","facebook.com"),Ye(cd,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function WV(f){if(!f)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var g=f;return _(f)&&(g=f.accessToken),new cd().credential({accessToken:g})}function fd(){Us.call(this,"github.com")}k(fd,Us),Ye(fd,"PROVIDER_ID","github.com"),Ye(fd,"GITHUB_SIGN_IN_METHOD","github.com");function UV(f){if(!f)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var g=f;return _(f)&&(g=f.accessToken),new fd().credential({accessToken:g})}function hd(){Us.call(this,"google.com"),this.Ca("profile")}k(hd,Us),Ye(hd,"PROVIDER_ID","google.com"),Ye(hd,"GOOGLE_SIGN_IN_METHOD","google.com");function jV(f,g){var y=f;return _(f)&&(y=f.idToken,g=f.accessToken),new hd().credential({idToken:y,accessToken:g})}function Gg(){ld.call(this,"twitter.com",OV)}k(Gg,ld),Ye(Gg,"PROVIDER_ID","twitter.com"),Ye(Gg,"TWITTER_SIGN_IN_METHOD","twitter.com");function qV(f,g){var y=f;if(_(y)||(y={oauthToken:f,oauthTokenSecret:g}),!y.oauthToken||!y.oauthTokenSecret)throw new L("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ql("twitter.com",y,"twitter.com")}function af(f,g,y){this.a=f,this.f=g,Ye(this,"providerId","password"),Ye(this,"signInMethod",y===Ia.EMAIL_LINK_SIGN_IN_METHOD?Ia.EMAIL_LINK_SIGN_IN_METHOD:Ia.EMAIL_PASSWORD_SIGN_IN_METHOD)}af.prototype.ka=function(f){return this.signInMethod==Ia.EMAIL_LINK_SIGN_IN_METHOD?Qt(f,Jde,{email:this.a,oobCode:this.f}):Qt(f,_W,{email:this.a,password:this.f})},af.prototype.b=function(f,g){return this.signInMethod==Ia.EMAIL_LINK_SIGN_IN_METHOD?Qt(f,epe,{idToken:g,email:this.a,oobCode:this.f}):Qt(f,mW,{idToken:g,email:this.a,password:this.f})},af.prototype.c=function(f,g){return zg(this.ka(f),g)},af.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function vde(f){return f&&f.email&&f.password?new af(f.email,f.password,f.signInMethod):null}function Ia(){Vo(this,{providerId:"password",isOAuthProvider:!1})}function zV(f,g){if(g=lL(g),!g)throw new L("argument-error","Invalid email link!");return new af(f,g.code,Ia.EMAIL_LINK_SIGN_IN_METHOD)}function lL(f){return f=HV(f),(f=EV(f))&&f.operation===Sw?f:null}Vo(Ia,{PROVIDER_ID:"password"}),Vo(Ia,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vo(Ia,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function uf(f){if(!(f.fb&&f.eb||f.La&&f.ea))throw new L("internal-error");this.a=f,Ye(this,"providerId","phone"),this.fa="phone",Ye(this,"signInMethod","phone")}uf.prototype.ka=function(f){return f.gb(x0(this))},uf.prototype.b=function(f,g){var y=x0(this);return y.idToken=g,Qt(f,bpe,y)},uf.prototype.c=function(f,g){var y=x0(this);return y.operation="REAUTH",f=Qt(f,Cpe,y),zg(f,g)},uf.prototype.w=function(){var f={providerId:"phone"};return this.a.fb&&(f.verificationId=this.a.fb),this.a.eb&&(f.verificationCode=this.a.eb),this.a.La&&(f.temporaryProof=this.a.La),this.a.ea&&(f.phoneNumber=this.a.ea),f};function mde(f){if(f&&f.providerId==="phone"&&(f.verificationId&&f.verificationCode||f.temporaryProof&&f.phoneNumber)){var g={};return Ht(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(y){f[y]&&(g[y]=f[y])}),new uf(g)}return null}function x0(f){return f.a.La&&f.a.ea?{temporaryProof:f.a.La,phoneNumber:f.a.ea}:{sessionInfo:f.a.fb,code:f.a.eb}}function Zl(f){try{this.a=f||tt.auth()}catch{throw new L("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vo(this,{providerId:"phone",isOAuthProvider:!1})}Zl.prototype.gb=function(f,g){var y=this.a.a;return ht(g.verify()).then(function(w){if(typeof w!="string")throw new L("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(g.type){case"recaptcha":var I=_(f)?f.session:null,R=_(f)?f.phoneNumber:f,M;return I&&I.type==I0?M=I.Ha().then(function(z){return qde(y,{idToken:z,phoneEnrollmentInfo:{phoneNumber:R,recaptchaToken:w}})}):I&&I.type==Nw?M=I.Ha().then(function(z){return zde(y,{mfaPendingCredential:z,mfaEnrollmentId:f.multiFactorHint&&f.multiFactorHint.uid||f.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):M=jde(y,{phoneNumber:R,recaptchaToken:w}),M.then(function(z){return typeof g.reset=="function"&&g.reset(),z},function(z){throw typeof g.reset=="function"&&g.reset(),z});default:throw new L("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function GV(f,g){if(!f)throw new L("missing-verification-id");if(!g)throw new L("missing-verification-code");return new uf({fb:f,eb:g})}Vo(Zl,{PROVIDER_ID:"phone"}),Vo(Zl,{PHONE_SIGN_IN_METHOD:"phone"});function cL(f){if(f.temporaryProof&&f.phoneNumber)return new uf({La:f.temporaryProof,ea:f.phoneNumber});var g=f&&f.providerId;if(!g||g==="password")return null;var y=f&&f.oauthAccessToken,w=f&&f.oauthTokenSecret,I=f&&f.nonce,R=f&&f.oauthIdToken,M=f&&f.pendingToken;try{switch(g){case"google.com":return jV(R,y);case"facebook.com":return WV(y);case"github.com":return UV(y);case"twitter.com":return qV(y,w);default:return y||w||R||M?M?g.indexOf("saml.")==0?new ud(g,M):new Ql(g,{pendingToken:M,idToken:f.oauthIdToken,accessToken:f.oauthAccessToken},g):new Us(g).credential({idToken:R,accessToken:y,rawNonce:I}):null}}catch{return null}}function fL(f){if(!f.isOAuthProvider)throw new L("invalid-oauth-provider")}function Qa(f,g,y,w,I,R,M){if(this.c=f,this.b=g||null,this.g=y||null,this.f=w||null,this.i=R||null,this.h=M||null,this.a=I||null,this.g||this.a){if(this.g&&this.a)throw new L("invalid-auth-event");if(this.g&&!this.f)throw new L("invalid-auth-event")}else throw new L("invalid-auth-event")}Qa.prototype.getUid=function(){var f=[];return f.push(this.c),this.b&&f.push(this.b),this.f&&f.push(this.f),this.h&&f.push(this.h),f.join("-")},Qa.prototype.T=function(){return this.h},Qa.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function $V(f){return f=f||{},f.type?new Qa(f.type,f.eventId,f.urlResponse,f.sessionId,f.error&&O(f.error),f.postBody,f.tenantId):null}function _de(){this.b=null,this.a=[]}var hL=null;function yde(f){var g=hL;g.a.push(f),g.b||(g.b=function(y){for(var w=0;w<g.a.length;w++)g.a[w](y)},f=ur("universalLinks.subscribe",u),typeof f=="function"&&f(null,g.b))}function dL(f){var g="unauthorized-domain",y=void 0,w=bs(f);f=w.a,w=w.c,w=="chrome-extension"?y=mH("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",f):w=="http"||w=="https"?y=mH("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",f):g="operation-not-supported-in-this-environment",L.call(this,g,y)}k(dL,L);function L0(f,g,y){L.call(this,f,y),f=g||{},f.Kb&&Ye(this,"email",f.Kb),f.ea&&Ye(this,"phoneNumber",f.ea),f.credential&&Ye(this,"credential",f.credential),f.$b&&Ye(this,"tenantId",f.$b)}k(L0,L),L0.prototype.w=function(){var f={code:this.code,message:this.message};this.email&&(f.email=this.email),this.phoneNumber&&(f.phoneNumber=this.phoneNumber),this.tenantId&&(f.tenantId=this.tenantId);var g=this.credential&&this.credential.w();return g&&tr(f,g),f},L0.prototype.toJSON=function(){return this.w()};function Ow(f){if(f.code){var g=f.code||"";g.indexOf(P)==0&&(g=g.substring(P.length));var y={credential:cL(f),$b:f.tenantId};if(f.email)y.Kb=f.email;else if(f.phoneNumber)y.ea=f.phoneNumber;else if(!y.credential)return new L(g,f.message||void 0);return new L0(g,y,f.message)}return null}function N0(){}N0.prototype.c=null;function KV(f){return f.c||(f.c=f.b())}var pL;function kw(){}k(kw,N0),kw.prototype.a=function(){var f=YV(this);return f?new ActiveXObject(f):new XMLHttpRequest},kw.prototype.b=function(){var f={};return YV(this)&&(f[0]=!0,f[1]=!0),f};function YV(f){if(!f.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var g=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],y=0;y<g.length;y++){var w=g[y];try{return new ActiveXObject(w),f.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return f.f}pL=new kw;function Rw(){}k(Rw,N0),Rw.prototype.a=function(){var f=new XMLHttpRequest;if("withCredentials"in f)return f;if(typeof XDomainRequest<"u")return new XV;throw Error("Unsupported browser")},Rw.prototype.b=function(){return{}};function XV(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.qc,this),this.a.onerror=T(this.Tb,this),this.a.onprogress=T(this.rc,this),this.a.ontimeout=T(this.vc,this)}n=XV.prototype,n.open=function(f,g,y){if(y!=null&&!y)throw Error("Only async requests are supported.");this.a.open(f,g)},n.send=function(f){if(f)if(typeof f=="string")this.a.send(f);else throw Error("Only string data is supported");else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(f){return f.toLowerCase()=="content-type"?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,gL(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",gL(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,gL(this,1)};function gL(f,g){f.readyState=g,f.onreadystatechange&&f.onreadystatechange()}n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function vL(f,g,y){this.reset(f,g,y,void 0,void 0)}vL.prototype.a=null,vL.prototype.reset=function(f,g,y,w,I){delete this.a};function mL(f){this.f=f,this.b=this.c=this.a=null}function O0(f,g){this.name=f,this.value=g}O0.prototype.toString=function(){return this.name};var QV=new O0("SEVERE",1e3),_L=new O0("WARNING",900),bde=new O0("CONFIG",700),Cde=new O0("FINE",500);function ZV(f){return f.c?f.c:f.a?ZV(f.a):(ke("Root logger has no level set."),null)}mL.prototype.log=function(f,g,y){if(f.value>=ZV(this).value)for(m(g)&&(g=g()),f=new vL(f,String(g),this.f),y&&(f.a=y),y=this;y;)y=y.a};var yL={},Pw=null;function bL(f){Pw||(Pw=new mL(""),yL[""]=Pw,Pw.c=bde);var g;if(!(g=yL[f])){g=new mL(f);var y=f.lastIndexOf("."),w=f.substr(y+1);y=bL(f.substr(0,y)),y.b||(y.b={}),y.b[w]=g,g.a=y,yL[f]=g}return g}function xa(f,g){f&&f.log(Cde,g,void 0)}function Mw(f){this.f=f}k(Mw,N0),Mw.prototype.a=function(){return new Fw(this.f)},Mw.prototype.b=function(f){return function(){return f}}({});function Fw(f){Ho.call(this),this.u=f,this.h=void 0,this.readyState=CL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=bL("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(Fw,Ho);var CL=0;n=Fw.prototype,n.open=function(f,g){if(this.readyState!=CL)throw this.abort(),Error("Error reopening a connection");this.s=f,this.f=g,this.readyState=1,R0(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var g={headers:this.l,method:this.s,credentials:this.h,cache:void 0};f&&(g.body=f),this.u.fetch(new Request(this.f,g)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,k0(this)),this.readyState=CL},n.uc=function(f){this.a&&(this.g=f,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=f.headers,this.readyState=2,R0(this)),this.a&&(this.readyState=3,R0(this),this.a&&(this.responseType==="arraybuffer"?f.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof u.ReadableStream<"u"&&"body"in f?(this.response=this.responseText="",this.c=f.body.getReader(),this.m=new TextDecoder,JV(this)):f.text().then(this.tc.bind(this),this.Va.bind(this)))))};function JV(f){f.c.read().then(f.pc.bind(f)).catch(f.Va.bind(f))}n.pc=function(f){if(this.a){var g=this.m.decode(f.value?f.value:new Uint8Array(0),{stream:!f.done});g&&(this.response=this.responseText+=g),f.done?k0(this):R0(this),this.readyState==3&&JV(this)}},n.tc=function(f){this.a&&(this.response=this.responseText=f,k0(this))},n.sc=function(f){this.a&&(this.response=f,k0(this))},n.Va=function(f){var g=this.i;g&&g.log(_L,"Failed to fetch url "+this.f,f instanceof Error?f:Error(f)),this.a&&k0(this)};function k0(f){f.readyState=4,f.g=null,f.c=null,f.m=null,R0(f)}n.setRequestHeader=function(f,g){this.l.append(f,g)},n.getResponseHeader=function(f){return this.b?this.b.get(f.toLowerCase())||"":((f=this.i)&&f.log(_L,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var f=this.i;return f&&f.log(_L,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}f=[];for(var g=this.b.entries(),y=g.next();!y.done;)y=y.value,f.push(y[0]+": "+y[1]),y=g.next();return f.join(`\r
`)};function R0(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fw.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(f){this.h=f?"include":"same-origin"}});function P0(f){Ho.call(this),this.headers=new Bg,this.D=f||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=eW,this.u=this.S=!1}k(P0,Ho);var eW="";P0.prototype.b=bL("goog.net.XhrIo");var wde=/^https?$/i,Ede=["POST","PUT"];function Sde(f,g,y,w,I){if(f.a)throw Error("[goog.net.XhrIo] Object is active with another request="+f.l+"; newUri="+g);y=y?y.toUpperCase():"GET",f.l=g,f.h="",f.P=y,f.J=!1,f.c=!0,f.a=f.D?f.D.a():pL.a(),f.C=f.D?KV(f.D):KV(pL),f.a.onreadystatechange=T(f.Wb,f);try{xa(f.b,Jl(f,"Opening Xhr")),f.N=!0,f.a.open(y,String(g),!0),f.N=!1}catch(M){xa(f.b,Jl(f,"Error opening Xhr: "+M.message)),tW(f,M);return}g=w||"";var R=new Bg(f.headers);I&&Lhe(I,function(M,z){R.set(z,M)}),I=G(R.Y()),w=u.FormData&&g instanceof u.FormData,!Z(Ede,y)||I||w||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),R.forEach(function(M,z){this.a.setRequestHeader(z,M)},f),f.m&&(f.a.responseType=f.m),"withCredentials"in f.a&&f.a.withCredentials!==f.S&&(f.a.withCredentials=f.S);try{iW(f),0<f.g&&(f.u=Tde(f.a),xa(f.b,Jl(f,"Will abort after "+f.g+"ms if incomplete, xhr2 "+f.u)),f.u?(f.a.timeout=f.g,f.a.ontimeout=T(f.Ma,f)):f.s=Rx(f.Ma,f.g,f)),xa(f.b,Jl(f,"Sending request")),f.i=!0,f.a.send(g),f.i=!1}catch(M){xa(f.b,Jl(f,"Send error: "+M.message)),tW(f,M)}}function Tde(f){return Ya&&CH(9)&&typeof f.timeout=="number"&&f.ontimeout!==void 0}function Dde(f){return f.toLowerCase()=="content-type"}n=P0.prototype,n.Ma=function(){typeof a<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",xa(this.b,Jl(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function tW(f,g){f.c=!1,f.a&&(f.f=!0,f.a.abort(),f.f=!1),f.h=g,nW(f),Bw(f)}function nW(f){f.J||(f.J=!0,f.dispatchEvent("complete"),f.dispatchEvent("error"))}n.abort=function(){this.a&&this.c&&(xa(this.b,Jl(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bw(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Bw(this,!0)),P0.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?rW(this):this.Jc())},n.Jc=function(){rW(this)};function rW(f){if(f.c&&typeof a<"u"){if(f.C[1]&&M0(f)==4&&Hw(f)==2)xa(f.b,Jl(f,"Local request error detected and ignored"));else if(f.i&&M0(f)==4)Rx(f.Wb,0,f);else if(f.dispatchEvent("readystatechange"),M0(f)==4){xa(f.b,Jl(f,"Request complete")),f.c=!1;try{var g=Hw(f);e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var I;if(I=g===0){var R=String(f.l).match(XH)[1]||null;if(!R&&u.self&&u.self.location){var M=u.self.location.protocol;R=M.substr(0,M.length-1)}I=!wde.test(R?R.toLowerCase():"")}w=I}if(w)f.dispatchEvent("complete"),f.dispatchEvent("success");else{try{var z=2<M0(f)?f.a.statusText:""}catch(le){xa(f.b,"Can not get status: "+le.message),z=""}f.h=z+" ["+Hw(f)+"]",nW(f)}}finally{Bw(f)}}}}function Bw(f,g){if(f.a){iW(f);var y=f.a,w=f.C[0]?d:null;f.a=null,f.C=null,g||f.dispatchEvent("ready");try{y.onreadystatechange=w}catch(I){(f=f.b)&&f.log(QV,"Problem encountered resetting onreadystatechange: "+I.message,void 0)}}}function iW(f){f.a&&f.u&&(f.a.ontimeout=null),f.s&&(u.clearTimeout(f.s),f.s=null)}function M0(f){return f.a?f.a.readyState:0}function Hw(f){try{return 2<M0(f)?f.a.status:-1}catch{return-1}}function Ade(f){try{return f.a?f.a.responseText:""}catch(g){return xa(f.b,"Can not get responseText: "+g.message),""}}n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case eW:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var f=this.b;return f&&f.log(QV,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(g){return xa(this.b,"Can not get response: "+g.message),null}};function Jl(f,g){return g+" ["+f.P+" "+f.l+" "+Hw(f)+"]"}function dd(f){var g=Lde;this.g=[],this.u=g,this.s=f||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}dd.prototype.cancel=function(f){if(this.a)this.c instanceof dd&&this.c.cancel();else{if(this.b){var g=this.b;delete this.b,f?g.cancel(f):(g.l--,0>=g.l&&g.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(f=new B0,Vw(this),F0(this,!1,f))}},dd.prototype.m=function(f,g){this.i=!1,F0(this,f,g)};function F0(f,g,y){f.a=!0,f.c=y,f.f=!g,sW(f)}function Vw(f){if(f.a){if(!f.v)throw new Ww;f.v=!1}}function Ide(f,g){wL(f,null,g,void 0)}function wL(f,g,y,w){f.g.push([g,y,w]),f.a&&sW(f)}dd.prototype.then=function(f,g,y){var w,I,R=new Gt(function(M,z){w=M,I=z});return wL(this,w,function(M){M instanceof B0?R.cancel():I(M)}),R.then(f,g,y)},dd.prototype.$goog_Thenable=!0;function oW(f){return oo(f.g,function(g){return m(g[1])})}function sW(f){if(f.h&&f.a&&oW(f)){var g=f.h,y=Uw[g];y&&(u.clearTimeout(y.a),delete Uw[g]),f.h=0}f.b&&(f.b.l--,delete f.b),g=f.c;for(var w=y=!1;f.g.length&&!f.i;){var I=f.g.shift(),R=I[0],M=I[1];if(I=I[2],R=f.f?M:R)try{var z=R.call(I||f.s,g);z!==void 0&&(f.f=f.f&&(z==g||z instanceof Error),f.c=g=z),(ne(g)||typeof u.Promise=="function"&&g instanceof u.Promise)&&(w=!0,f.i=!0)}catch(le){g=le,f.f=!0,oW(f)||(y=!0)}}f.c=g,w&&(z=T(f.m,f,!0),w=T(f.m,f,!1),g instanceof dd?(wL(g,z,w),g.C=!0):g.then(z,w)),y&&(g=new aW(g),Uw[g.a]=g,f.h=g.a)}function Ww(){ie.call(this)}k(Ww,ie),Ww.prototype.message="Deferred has already fired",Ww.prototype.name="AlreadyCalledError";function B0(){ie.call(this)}k(B0,ie),B0.prototype.message="Deferred was canceled",B0.prototype.name="CanceledError";function aW(f){this.a=u.setTimeout(T(this.c,this),0),this.b=f}aW.prototype.c=function(){throw delete Uw[this.a],this.b};var Uw={};function EL(f){var g={},y=g.document||document,w=lH(f).toString(),I=dw(document,"SCRIPT"),R={Xb:I,Ma:void 0},M=new dd(R),z=null,le=g.timeout!=null?g.timeout:5e3;return 0<le&&(z=window.setTimeout(function(){jw(I,!0);var be=new SL(Ode,"Timeout reached for loading script "+w);Vw(M),F0(M,!1,be)},le),R.Ma=z),I.onload=I.onreadystatechange=function(){I.readyState&&I.readyState!="loaded"&&I.readyState!="complete"||(jw(I,g.xd||!1,z),Vw(M),F0(M,!0,null))},I.onerror=function(){jw(I,!0,z);var be=new SL(Nde,"Error while loading script "+w);Vw(M),F0(M,!1,be)},R=g.attributes||{},tr(R,{type:"text/javascript",charset:"UTF-8"}),EH(I,R),ahe(I,f),xde(y).appendChild(I),M}function xde(f){var g;return(g=(f||document).getElementsByTagName("HEAD"))&&g.length!=0?g[0]:f.documentElement}function Lde(){if(this&&this.Xb){var f=this.Xb;f&&f.tagName=="SCRIPT"&&jw(f,!0,this.Ma)}}function jw(f,g,y){y!=null&&u.clearTimeout(y),f.onload=d,f.onerror=d,f.onreadystatechange=d,g&&window.setTimeout(function(){f&&f.parentNode&&f.parentNode.removeChild(f)},0)}var Nde=0,Ode=1;function SL(f,g){var y="Jsloader error (code #"+f+")";g&&(y+=": "+g),ie.call(this,y),this.code=f}k(SL,ie);function qw(f){this.f=f}k(qw,N0),qw.prototype.a=function(){return new this.f},qw.prototype.b=function(){return{}};function Za(f,g,y){if(this.c=f,f=g||{},this.l=f.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=f.secureTokenTimeout||kde,this.g=Ka(f.secureTokenHeaders||Rde),this.h=f.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=f.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=f.firebaseTimeout||Pde,this.a=Ka(f.firebaseHeaders||Mde),y&&(this.a["X-Client-Version"]=y,this.g["X-Client-Version"]=y),y=Wu()=="Node",y=u.XMLHttpRequest||y&&tt.INTERNAL.node&&tt.INTERNAL.node.XMLHttpRequest,!y&&!Xa())throw new L("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Xa()?this.f=new Mw(self):uV()?this.f=new qw(y):this.f=new Rw,this.b=null}var TL,Ja="idToken",kde=new sf(3e4,6e4),Rde={"Content-Type":"application/x-www-form-urlencoded"},Pde=new sf(3e4,6e4),Mde={"Content-Type":"application/json"};function uW(f,g){g?f.a["X-Firebase-Locale"]=g:delete f.a["X-Firebase-Locale"]}function zw(f,g){g&&(f.l=DL("https://securetoken.googleapis.com/v1/token",g),f.h=DL("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",g),f.i=DL("https://identitytoolkit.googleapis.com/v2/",g))}function DL(f,g){return f=bs(f),g=bs(g.url),f.f=f.a+f.f,m0(f,g.c),f.a=g.a,_0(f,g.g),f.toString()}function lW(f,g){g?(f.a["X-Client-Version"]=g,f.g["X-Client-Version"]=g):(delete f.a["X-Client-Version"],delete f.g["X-Client-Version"])}Za.prototype.T=function(){return this.b};function cW(f,g,y,w,I,R,M){Vhe()||Xa()?f=T(f.u,f):(TL||(TL=new Gt(function(z,le){Bde(z,le)})),f=T(f.s,f)),f(g,y,w,I,R,M)}Za.prototype.u=function(f,g,y,w,I,R){if(Xa()&&(typeof u.fetch>"u"||typeof u.Headers>"u"||typeof u.Request>"u"))throw new L("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var M=new P0(this.f);if(R){M.g=Math.max(0,R);var z=setTimeout(function(){M.dispatchEvent("timeout")},R)}$H(M,"complete",function(){z&&clearTimeout(z);var le=null;try{le=JSON.parse(Ade(this))||null}catch{le=null}g&&g(le)}),kx(M,"ready",function(){z&&clearTimeout(z),VH(this)}),kx(M,"timeout",function(){z&&clearTimeout(z),VH(this),g&&g(null)}),Sde(M,f,y,w,I)};var Fde=new Hu(lw,"https://apis.google.com/js/client.js?onload=%{onload}"),fW="__fcb"+Math.floor(1e6*Math.random()).toString();function Bde(f,g){if(((window.gapi||{}).client||{}).request)f();else{u[fW]=function(){((window.gapi||{}).client||{}).request?f():g(Error("CORS_UNSUPPORTED"))};var y=gx(Fde,{onload:fW});Ide(EL(y),function(){g(Error("CORS_UNSUPPORTED"))})}}Za.prototype.s=function(f,g,y,w,I){var R=this;TL.then(function(){window.gapi.client.setApiKey(R.c);var M=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:f,method:y,body:w,headers:I,authType:"none",callback:function(z){window.gapi.auth.setToken(M),g&&g(z)}})}).o(function(M){g&&g({error:{message:M&&M.message||"CORS_UNSUPPORTED"}})})};function Hde(f,g){return new Gt(function(y,w){g.grant_type=="refresh_token"&&g.refresh_token||g.grant_type=="authorization_code"&&g.code?cW(f,f.l+"?key="+encodeURIComponent(f.c),function(I){I?I.error?w(RL(I)):I.access_token&&I.refresh_token?y(I):w(new L("internal-error")):w(new L("network-request-failed"))},"POST",ZH(g).toString(),f.g,f.m.get()):w(new L("internal-error"))})}function hW(f,g,y,w,I,R,M){var z=bs(g+y);Ar(z,"key",f.c),M&&Ar(z,"cb",Date.now().toString());var le=w=="GET";if(le)for(var be in I)I.hasOwnProperty(be)&&Ar(z,be,I[be]);return new Gt(function(Ct,xn){cW(f,z.toString(),function(fn){fn?fn.error?xn(RL(fn,R||{})):Ct(fn):xn(new L("network-request-failed"))},w,le?void 0:tV(fV(I)),f.a,f.v.get())})}function pd(f){if(f=f.email,typeof f!="string"||!jhe.test(f))throw new L("invalid-email")}function dW(f){"email"in f&&pd(f)}function Vde(f,g){return Qt(f,Xde,{identifier:g,continueUri:Ew()?C0():"http://localhost"}).then(function(y){return y.signinMethods||[]})}function Wde(f){return Qt(f,upe,{}).then(function(g){return g.authorizedDomains||[]})}function Cs(f){if(!f[Ja])throw f.mfaPendingCredential?new L("multi-factor-auth-required",null,Ka(f)):new L("internal-error")}function AL(f){if(f.phoneNumber||f.temporaryProof){if(!f.phoneNumber||!f.temporaryProof)throw new L("internal-error")}else{if(!f.sessionInfo)throw new L("missing-verification-id");if(!f.code)throw new L("missing-verification-code")}}Za.prototype.Ab=function(){return Qt(this,hpe,{})},Za.prototype.Cb=function(f,g){return Qt(this,vW,{idToken:f,email:g})},Za.prototype.Db=function(f,g){return Qt(this,mW,{idToken:f,password:g})};var Ude={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};n=Za.prototype,n.Eb=function(f,g){var y={idToken:f},w=[];return ao(Ude,function(I,R){var M=g[R];M===null?w.push(I):R in g&&(y[R]=M)}),w.length&&(y.deleteAttribute=w),Qt(this,vW,y)},n.wb=function(f,g){return f={requestType:"PASSWORD_RESET",email:f},tr(f,g),Qt(this,ape,f)},n.xb=function(f,g){return f={requestType:"EMAIL_SIGNIN",email:f},tr(f,g),Qt(this,ipe,f)},n.vb=function(f,g){return f={requestType:"VERIFY_EMAIL",idToken:f},tr(f,g),Qt(this,ope,f)},n.Fb=function(f,g,y){return f={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:f,newEmail:g},tr(f,y),Qt(this,spe,f)};function jde(f,g){return Qt(f,fpe,g)}n.gb=function(f){return Qt(this,ype,f)};function qde(f,g){return Qt(f,dpe,g).then(function(y){return y.phoneSessionInfo.sessionInfo})}function pW(f){if(!f.phoneVerificationInfo)throw new L("internal-error");if(!f.phoneVerificationInfo.sessionInfo)throw new L("missing-verification-id");if(!f.phoneVerificationInfo.code)throw new L("missing-verification-code")}function zde(f,g){return Qt(f,ppe,g).then(function(y){return y.phoneResponseInfo.sessionInfo})}function Gde(f,g,y){return Qt(f,Zde,{idToken:g,deleteProvider:y})}function IL(f){if(!f.requestUri||!f.sessionId&&!f.postBody&&!f.pendingToken)throw new L("internal-error")}function xL(f,g){return g.oauthIdToken&&g.providerId&&g.providerId.indexOf("oidc.")==0&&!g.pendingToken&&(f.sessionId?g.nonce=f.sessionId:f.postBody&&(f=new id(f.postBody),Fx(f,"nonce")&&(g.nonce=f.get("nonce")))),g}function gW(f){var g=null;if(f.needConfirmation?(f.code="account-exists-with-different-credential",g=Ow(f)):f.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(f.code="credential-already-in-use",g=Ow(f)):f.errorMessage=="EMAIL_EXISTS"?(f.code="email-already-in-use",g=Ow(f)):f.errorMessage&&(g=yW(f.errorMessage)),g)throw g;Cs(f)}function LL(f,g){return g.returnIdpCredential=!0,Qt(f,gpe,g)}function NL(f,g){return g.returnIdpCredential=!0,Qt(f,mpe,g)}function OL(f,g){return g.returnIdpCredential=!0,g.autoCreate=!1,Qt(f,vpe,g)}function kL(f){if(!f.oobCode)throw new L("invalid-action-code")}n.ob=function(f,g){return Qt(this,cpe,{oobCode:f,newPassword:g})},n.Sa=function(f){return Qt(this,Kde,{oobCode:f})},n.kb=function(f){return Qt(this,$de,{oobCode:f})};var $de={endpoint:"setAccountInfo",A:kL,Z:"email",B:!0},Kde={endpoint:"resetPassword",A:kL,G:function(f){var g=f.requestType;if(!g||!f.email&&g!="EMAIL_SIGNIN"&&g!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},B:!0},Yde={endpoint:"signupNewUser",A:function(f){if(pd(f),!f.password)throw new L("weak-password")},G:Cs,V:!0,B:!0},Xde={endpoint:"createAuthUri",B:!0},Qde={endpoint:"deleteAccount",O:["idToken"]},Zde={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(f){if(!Array.isArray(f.deleteProvider))throw new L("internal-error")}},Jde={endpoint:"emailLinkSignin",O:["email","oobCode"],A:pd,G:Cs,V:!0,B:!0},epe={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:pd,G:Cs,V:!0},tpe={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:pW,G:Cs,B:!0,Na:!0},npe={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:pW,G:Cs,B:!0,Na:!0},rpe={endpoint:"getAccountInfo"},ipe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(f){if(f.requestType!="EMAIL_SIGNIN")throw new L("internal-error");pd(f)},Z:"email",B:!0},ope={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(f){if(f.requestType!="VERIFY_EMAIL")throw new L("internal-error")},Z:"email",B:!0},spe={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(f){if(f.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},Z:"email",B:!0},ape={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(f){if(f.requestType!="PASSWORD_RESET")throw new L("internal-error");pd(f)},Z:"email",B:!0},upe={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},lpe={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(f){if(!f.recaptchaSiteKey)throw new L("internal-error")}},cpe={endpoint:"resetPassword",A:kL,Z:"email",B:!0},fpe={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},vW={endpoint:"setAccountInfo",O:["idToken"],A:dW,V:!0},mW={endpoint:"setAccountInfo",O:["idToken"],A:function(f){if(dW(f),!f.password)throw new L("weak-password")},G:Cs,V:!0},hpe={endpoint:"signupNewUser",G:Cs,V:!0,B:!0},dpe={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(f){if(!f.phoneEnrollmentInfo)throw new L("internal-error");if(!f.phoneEnrollmentInfo.phoneNumber)throw new L("missing-phone-number");if(!f.phoneEnrollmentInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(f){if(!f.phoneSessionInfo||!f.phoneSessionInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},ppe={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(f){if(!f.phoneSignInInfo||!f.phoneSignInInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(f){if(!f.phoneResponseInfo||!f.phoneResponseInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},gpe={endpoint:"verifyAssertion",A:IL,Za:xL,G:gW,V:!0,B:!0},vpe={endpoint:"verifyAssertion",A:IL,Za:xL,G:function(f){if(f.errorMessage&&f.errorMessage=="USER_NOT_FOUND")throw new L("user-not-found");if(f.errorMessage)throw yW(f.errorMessage);Cs(f)},V:!0,B:!0},mpe={endpoint:"verifyAssertion",A:function(f){if(IL(f),!f.idToken)throw new L("internal-error")},Za:xL,G:gW,V:!0},_pe={endpoint:"verifyCustomToken",A:function(f){if(!f.token)throw new L("invalid-custom-token")},G:Cs,V:!0,B:!0},_W={endpoint:"verifyPassword",A:function(f){if(pd(f),!f.password)throw new L("wrong-password")},G:Cs,V:!0,B:!0},ype={endpoint:"verifyPhoneNumber",A:AL,G:Cs,B:!0},bpe={endpoint:"verifyPhoneNumber",A:function(f){if(!f.idToken)throw new L("internal-error");AL(f)},G:function(f){if(f.temporaryProof)throw f.code="credential-already-in-use",Ow(f);Cs(f)}},Cpe={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:AL,G:Cs,B:!0},wpe={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(f){if(!!f[Ja]^!!f.refreshToken)throw new L("internal-error")},B:!0,Na:!0};function Qt(f,g,y){if(!Xhe(y,g.O))return ar(new L("internal-error"));var w=!!g.Na,I=g.Vb||"POST",R;return ht(y).then(g.A).then(function(){return g.V&&(y.returnSecureToken=!0),g.B&&f.b&&typeof y.tenantId>"u"&&(y.tenantId=f.b),w?hW(f,f.i,g.endpoint,I,y,g.Ib,g.mb||!1):hW(f,f.h,g.endpoint,I,y,g.Ib,g.mb||!1)}).then(function(M){return R=M,g.Za?g.Za(y,R):R}).then(g.G).then(function(){if(!g.Z)return R;if(!(g.Z in R))throw new L("internal-error");return R[g.Z]})}function yW(f){return RL({error:{errors:[{message:f}],code:400,message:f}})}function RL(f,g){var y=(f.error&&f.error.errors&&f.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(y=w[y]?new L(w[y]):null)return y;y=f.error&&f.error.message||"",w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},tr(w,g||{}),g=(g=y.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<g.length?g[1]:void 0;for(var I in w)if(y.indexOf(I)===0)return new L(w[I],g);return!g&&f&&(g=E0(f)),new L("internal-error",g)}function Epe(f){this.b=f,this.a=null,this.sb=Spe(this)}function Spe(f){return Lpe().then(function(){return new Gt(function(g,y){ur("gapi.iframes.getContext")().open({where:document.body,url:f.b,messageHandlersFilter:ur("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function I(){clearTimeout(R),g()}f.a=w,f.a.restyle({setHideOnLeave:!1});var R=setTimeout(function(){y(Error("Network Error"))},xpe.get());w.ping(I).then(I,function(){y(Error("Network Error"))})})})})}function Tpe(f,g){return f.sb.then(function(){return new Gt(function(y){f.a.send(g.type,g,y,ur("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Dpe(f,g){f.sb.then(function(){f.a.register("authEvent",g,ur("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ape=new Hu(lw,"https://apis.google.com/js/api.js?onload=%{onload}"),Ipe=new sf(3e4,6e4),xpe=new sf(5e3,15e3),Gw=null;function Lpe(){return Gw||(Gw=new Gt(function(f,g){function y(){dV(),ur("gapi.load")("gapi.iframes",{callback:f,ontimeout:function(){dV(),g(Error("Network Error"))},timeout:Ipe.get()})}if(ur("gapi.iframes.Iframe"))f();else if(ur("gapi.load"))y();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[w]=function(){ur("gapi.load")?y():g(Error("Network Error"))},w=gx(Ape,{onload:w}),ht(EL(w)).o(function(){g(Error("Network Error"))})}}).o(function(f){throw Gw=null,f}))}function bW(f,g,y,w){this.l=f,this.h=g,this.i=y,this.g=w,this.f=null,this.g?(f=bs(this.g.url),f=Cw(f.c,f.a,f.g,"/emulator/auth/iframe")):f=Cw("https",this.l,null,"/__/auth/iframe"),this.a=f,Ar(this.a,"apiKey",this.h),Ar(this.a,"appName",this.i),this.b=null,this.c=[]}bW.prototype.toString=function(){return this.f?Ar(this.a,"v",this.f):Vu(this.a.b,"v"),this.b?Ar(this.a,"eid",this.b):Vu(this.a.b,"eid"),this.c.length?Ar(this.a,"fw",this.c.join(",")):Vu(this.a.b,"fw"),this.a.toString()};function PL(f,g,y,w,I,R){this.u=f,this.s=g,this.c=y,this.m=w,this.v=R,this.i=this.g=this.l=null,this.a=I,this.h=this.f=null}PL.prototype.zb=function(f){return this.h=f,this},PL.prototype.toString=function(){if(this.v){var f=bs(this.v.url);f=Cw(f.c,f.a,f.g,"/emulator/auth/handler")}else f=Cw("https",this.u,null,"/__/auth/handler");if(Ar(f,"apiKey",this.s),Ar(f,"appName",this.c),Ar(f,"authType",this.m),this.a.isOAuthProvider){var g=this.a;try{var y=tt.app(this.c).auth().la()}catch{y=null}g.pb=y,Ar(f,"providerId",this.a.providerId),y=this.a,g=fV(y.Jb);for(var w in g)g[w]=g[w].toString();w=y.Qc,g=Ka(g);for(var I=0;I<w.length;I++){var R=w[I];R in g&&delete g[R]}y.qb&&y.pb&&!g[y.qb]&&(g[y.qb]=y.pb),Vs(g)||Ar(f,"customParameters",E0(g))}if(typeof this.a.Rb=="function"&&(y=this.a.Rb(),y.length&&Ar(f,"scopes",y.join(","))),this.l?Ar(f,"redirectUrl",this.l):Vu(f.b,"redirectUrl"),this.g?Ar(f,"eventId",this.g):Vu(f.b,"eventId"),this.i?Ar(f,"v",this.i):Vu(f.b,"v"),this.b)for(var M in this.b)this.b.hasOwnProperty(M)&&!Aa(f,M)&&Ar(f,M,this.b[M]);return this.h?Ar(f,"tid",this.h):Vu(f.b,"tid"),this.f?Ar(f,"eid",this.f):Vu(f.b,"eid"),M=ML(this.c),M.length&&Ar(f,"fw",M.join(",")),f.toString()};function ML(f){try{return tt.app(f).auth().Ga()}catch{return[]}}function CW(f,g,y,w,I,R){this.s=f,this.g=g,this.b=y,this.f=R,this.c=w||null,this.i=I||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wW(f){var g=C0();return Wde(f).then(function(y){e:{var w=bs(g),I=w.c;w=w.a;for(var R=0;R<y.length;R++){var M=y[R],z=w,le=I;if(M.indexOf("chrome-extension://")==0?z=bs(M).a==z&&le=="chrome-extension":le!="http"&&le!="https"?z=!1:Uhe.test(M)?z=z==M:(M=M.split(".").join("\\."),z=new RegExp("^(.+\\."+M+"|"+M+")$","i").test(z)),z){y=!0;break e}}y=!1}if(!y)throw new dL(C0())})}function EW(f){return f.m||(f.m=ww().then(function(){if(!f.u){var g=f.c,y=f.i,w=ML(f.b),I=new bW(f.s,f.g,f.b,f.f);I.f=g,I.b=y,I.c=Ce(w||[]),f.u=I.toString()}f.v=new Epe(f.u),Npe(f)})),f.m}n=CW.prototype,n.Pb=function(f,g,y){var w=new L("popup-closed-by-user"),I=new L("web-storage-unsupported"),R=this,M=!1;return this.ma().then(function(){Ope(R).then(function(z){z||(f&&od(f),g(I),M=!0)})}).o(function(){}).then(function(){if(!M)return Whe(f)}).then(function(){if(!M)return Fg(y).then(function(){g(w)})})},n.Yb=function(){var f=Hi();return!w0(f)&&!hV(f)},n.Ub=function(){return!1},n.Nb=function(f,g,y,w,I,R,M,z){if(!f)return ar(new L("popup-blocked"));if(M&&!w0())return this.ma().o(function(be){od(f),I(be)}),w(),ht();this.a||(this.a=wW(SW(this)));var le=this;return this.a.then(function(){var be=le.ma().o(function(Ct){throw od(f),I(Ct),Ct});return w(),be}).then(function(){if(fL(y),!M){var be=H0(le.s,le.g,le.b,g,y,null,R,le.c,void 0,le.i,z,le.f);iV(be,f)}}).o(function(be){throw be.code=="auth/network-request-failed"&&(le.a=null),be})};function SW(f){return f.l||(f.C=f.c?Wg(f.c,ML(f.b)):null,f.l=new Za(f.g,$(f.i),f.C),f.f&&zw(f.l,f.f)),f.l}n.Ob=function(f,g,y,w){this.a||(this.a=wW(SW(this)));var I=this;return this.a.then(function(){fL(g);var R=H0(I.s,I.g,I.b,f,g,C0(),y,I.c,void 0,I.i,w,I.f);iV(R)}).o(function(R){throw R.code=="auth/network-request-failed"&&(I.a=null),R})},n.ma=function(){var f=this;return EW(this).then(function(){return f.v.sb}).o(function(){throw f.a=null,new L("network-request-failed")})},n.ac=function(){return!0};function H0(f,g,y,w,I,R,M,z,le,be,Ct,xn){return f=new PL(f,g,y,w,I,xn),f.l=R,f.g=M,f.i=z,f.b=Ka(le||null),f.f=be,f.zb(Ct).toString()}function Npe(f){if(!f.v)throw Error("IfcHandler must be initialized!");Dpe(f.v,function(g){var y={};if(g&&g.authEvent){var w=!1;for(g=$V(g.authEvent),y=0;y<f.h.length;y++)w=f.h[y](g)||w;return y={},y.status=w?"ACK":"ERROR",ht(y)}return y.status="ERROR",ht(y)})}function Ope(f){var g={type:"webStorageSupport"};return EW(f).then(function(){return Tpe(f.v,g)}).then(function(y){if(y&&y.length&&typeof y[0].webStorageSupport<"u")return y[0].webStorageSupport;throw Error()})}n.Ea=function(f){this.h.push(f)},n.Ta=function(f){fe(this.h,function(g){return g==f})};function TW(f){if(this.a=f||tt.INTERNAL.reactNative&&tt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new L("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}n=TW.prototype,n.get=function(f){return ht(this.a.getItem(f)).then(function(g){return g&&jg(g)})},n.set=function(f,g){return ht(this.a.setItem(f,E0(g)))},n.U=function(f){return ht(this.a.removeItem(f))},n.ca=function(){},n.ia=function(){};function DW(f){this.b=f,this.a={},this.f=T(this.c,this)}var AW=[];function kpe(){var f=Xa()?self:null;if(Ht(AW,function(y){y.b==f&&(g=y)}),!g){var g=new DW(f);AW.push(g)}return g}DW.prototype.c=function(f){var g=f.data.eventType,y=f.data.eventId,w=this.a[g];if(w&&0<w.length){f.ports[0].postMessage({status:"ack",eventId:y,eventType:g,response:null});var I=[];Ht(w,function(R){I.push(ht().then(function(){return R(f.origin,f.data.data)}))}),NH(I).then(function(R){var M=[];Ht(R,function(z){M.push({fulfilled:z.Qb,value:z.value,reason:z.reason?z.reason.message:void 0})}),Ht(M,function(z){for(var le in z)typeof z[le]>"u"&&delete z[le]}),f.ports[0].postMessage({status:"done",eventId:y,eventType:g,response:M})})}};function IW(f,g,y){Vs(f.a)&&f.b.addEventListener("message",f.f),typeof f.a[g]>"u"&&(f.a[g]=[]),f.a[g].push(y)}function xW(f){this.a=f}xW.prototype.postMessage=function(f,g){this.a.postMessage(f,g)};function LW(f){this.c=f,this.b=!1,this.a=[]}function NW(f,g,y,w){var I,R=y||{},M,z,le,be=null;if(f.b)return ar(Error("connection_unavailable"));var Ct=w?800:50,xn=typeof MessageChannel<"u"?new MessageChannel:null;return new Gt(function(fn,wi){xn?(I=Math.floor(Math.random()*Math.pow(10,20)).toString(),xn.port1.start(),z=setTimeout(function(){wi(Error("unsupported_event"))},Ct),M=function(ec){ec.data.eventId===I&&(ec.data.status==="ack"?(clearTimeout(z),le=setTimeout(function(){wi(Error("timeout"))},3e3)):ec.data.status==="done"?(clearTimeout(le),typeof ec.data.response<"u"?fn(ec.data.response):wi(Error("unknown_error"))):(clearTimeout(z),clearTimeout(le),wi(Error("invalid_response"))))},be={messageChannel:xn,onMessage:M},f.a.push(be),xn.port1.addEventListener("message",M),f.c.postMessage({eventType:g,eventId:I,data:R},[xn.port2])):wi(Error("connection_unavailable"))}).then(function(fn){return FL(f,be),fn}).o(function(fn){throw FL(f,be),fn})}function FL(f,g){if(g){var y=g.messageChannel,w=g.onMessage;y&&(y.port1.removeEventListener("message",w),y.port1.close()),fe(f.a,function(I){return I==g})}}LW.prototype.close=function(){for(;0<this.a.length;)FL(this,this.a[0]);this.b=!0};function OW(){if(!VL())throw new L("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var f=this;Xa()&&self?(this.v=kpe(),IW(this.v,"keyChanged",function(g,y){return PW(f).then(function(w){return 0<w.length&&Ht(f.a,function(I){I(w)}),{keyProcessed:Z(w,y.key)}})}),IW(this.v,"ping",function(){return ht(["keyChanged"])})):Khe().then(function(g){(f.h=g)&&(f.g=new LW(new xW(g)),NW(f.g,"ping",null,!0).then(function(y){y[0].fulfilled&&Z(y[0].value,"keyChanged")&&(f.s=!0)}).o(function(){}))})}var BL;function Rpe(f){return new Gt(function(g,y){var w=f.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){g()},w.onerror=function(I){y(Error(I.target.error))}})}function kW(f){return new Gt(function(g,y){var w=f.m.open("firebaseLocalStorageDb",1);w.onerror=function(I){try{I.preventDefault()}catch{}y(Error(I.target.error))},w.onupgradeneeded=function(I){I=I.target.result;try{I.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(R){y(R)}},w.onsuccess=function(I){I=I.target.result,I.objectStoreNames.contains("firebaseLocalStorage")?g(I):Rpe(f).then(function(){return kW(f)}).then(function(R){g(R)}).o(function(R){y(R)})}})}function HL(f){return f.i||(f.i=kW(f)),f.i}function $w(f,g){function y(I,R){HL(f).then(g).then(I).o(function(M){if(3<++w)R(M);else return HL(f).then(function(z){return z.close(),f.i=void 0,y(I,R)}).o(function(z){R(z)})})}var w=0;return new Gt(y)}function VL(){try{return!!u.indexedDB}catch{return!1}}function V0(f){return f.objectStore("firebaseLocalStorage")}function W0(f,g){return f.transaction(["firebaseLocalStorage"],g?"readwrite":"readonly")}function $g(f){return new Gt(function(g,y){f.onsuccess=function(w){w&&w.target?g(w.target.result):g()},f.onerror=function(w){y(w.target.error)}})}n=OW.prototype,n.set=function(f,g){var y=this,w=!1;return $w(this,function(I){return I=V0(W0(I,!0)),$g(I.get(f))}).then(function(I){return $w(y,function(R){if(R=V0(W0(R,!0)),I)return I.value=g,$g(R.put(I));y.b++,w=!0;var M={};return M.fbase_key=f,M.value=g,$g(R.add(M))})}).then(function(){return y.c[f]=g,RW(y,f)}).oa(function(){w&&y.b--})};function RW(f,g){return f.g&&f.h&&$he()===f.h?NW(f.g,"keyChanged",{key:g},f.s).then(function(){}).o(function(){}):ht()}n.get=function(f){return $w(this,function(g){return $g(V0(W0(g,!1)).get(f))}).then(function(g){return g&&g.value})},n.U=function(f){var g=this,y=!1;return $w(this,function(w){return y=!0,g.b++,$g(V0(W0(w,!0)).delete(f))}).then(function(){return delete g.c[f],RW(g,f)}).oa(function(){y&&g.b--})};function PW(f){return HL(f).then(function(g){var y=V0(W0(g,!1));return y.getAll?$g(y.getAll()):new Gt(function(w,I){var R=[],M=y.openCursor();M.onsuccess=function(z){(z=z.target.result)?(R.push(z.value),z.continue()):w(R)},M.onerror=function(z){I(z.target.error)}})}).then(function(g){var y={},w=[];if(f.b==0){for(w=0;w<g.length;w++)y[g[w].fbase_key]=g[w].value;w=oV(f.c,y),f.c=y}return w})}n.ca=function(f){this.a.length==0&&Ppe(this),this.a.push(f)},n.ia=function(f){fe(this.a,function(g){return g==f}),this.a.length==0&&MW(this)};function Ppe(f){function g(){f.f=setTimeout(function(){f.l=PW(f).then(function(y){0<y.length&&Ht(f.a,function(w){w(y)})}).then(function(){g()}).o(function(y){y.message!="STOP_EVENT"&&g()})},800)}MW(f),g()}function MW(f){f.l&&f.l.cancel("STOP_EVENT"),f.f&&(clearTimeout(f.f),f.f=null)}function FW(f){var g=this,y=null;this.a=[],this.type="indexedDB",this.c=f,this.b=ht().then(function(){if(VL()){var w=ad(),I="__sak"+w;return BL||(BL=new OW),y=BL,y.set(I,w).then(function(){return y.get(I)}).then(function(R){if(R!==w)throw Error("indexedDB not supported!");return y.U(I)}).then(function(){return y}).o(function(){return g.c})}return g.c}).then(function(w){return g.type=w.type,w.ca(function(I){Ht(g.a,function(R){R(I)})}),w})}n=FW.prototype,n.get=function(f){return this.b.then(function(g){return g.get(f)})},n.set=function(f,g){return this.b.then(function(y){return y.set(f,g)})},n.U=function(f){return this.b.then(function(g){return g.U(f)})},n.ca=function(f){this.a.push(f)},n.ia=function(f){fe(this.a,function(g){return g==f})};function U0(){this.a={},this.type="inMemory"}n=U0.prototype,n.get=function(f){return ht(this.a[f])},n.set=function(f,g){return this.a[f]=g,ht()},n.U=function(f){return delete this.a[f],ht()},n.ca=function(){},n.ia=function(){};function Kw(){if(!Mpe())throw Wu()=="Node"?new L("internal-error","The LocalStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=BW()||tt.INTERNAL.node.localStorage,this.type="localStorage"}function BW(){try{var f=u.localStorage,g=ad();return f&&(f.setItem(g,"1"),f.removeItem(g)),f}catch{return null}}function Mpe(){var f=Wu()=="Node";if(f=BW()||f&&tt.INTERNAL.node&&tt.INTERNAL.node.localStorage,!f)return!1;try{return f.setItem("__sak","1"),f.removeItem("__sak"),!0}catch{return!1}}n=Kw.prototype,n.get=function(f){var g=this;return ht().then(function(){var y=g.a.getItem(f);return jg(y)})},n.set=function(f,g){var y=this;return ht().then(function(){var w=E0(g);w===null?y.U(f):y.a.setItem(f,w)})},n.U=function(f){var g=this;return ht().then(function(){g.a.removeItem(f)})},n.ca=function(f){u.window&&Da(u.window,"storage",f)},n.ia=function(f){u.window&&Ws(u.window,"storage",f)};function WL(){this.type="nullStorage"}n=WL.prototype,n.get=function(){return ht(null)},n.set=function(){return ht()},n.U=function(){return ht()},n.ca=function(){},n.ia=function(){};function UL(){if(!Fpe())throw Wu()=="Node"?new L("internal-error","The SessionStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=HW()||tt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function HW(){try{var f=u.sessionStorage,g=ad();return f&&(f.setItem(g,"1"),f.removeItem(g)),f}catch{return null}}function Fpe(){var f=Wu()=="Node";if(f=HW()||f&&tt.INTERNAL.node&&tt.INTERNAL.node.sessionStorage,!f)return!1;try{return f.setItem("__sak","1"),f.removeItem("__sak"),!0}catch{return!1}}n=UL.prototype,n.get=function(f){var g=this;return ht().then(function(){var y=g.a.getItem(f);return jg(y)})},n.set=function(f,g){var y=this;return ht().then(function(){var w=E0(g);w===null?y.U(f):y.a.setItem(f,w)})},n.U=function(f){var g=this;return ht().then(function(){g.a.removeItem(f)})},n.ca=function(){},n.ia=function(){};function Bpe(){var f={};f.Browser=Hpe,f.Node=Vpe,f.ReactNative=Wpe,f.Worker=Upe,this.a=f[Wu()]}var jL,Hpe={F:Kw,cb:UL},Vpe={F:Kw,cb:UL},Wpe={F:TW,cb:WL},Upe={F:Kw,cb:WL},Kg={rd:"local",NONE:"none",td:"session"};function jpe(f){var g=new L("invalid-persistence-type"),y=new L("unsupported-persistence-type");e:{for(w in Kg)if(Kg[w]==f){var w=!0;break e}w=!1}if(!w||typeof f!="string")throw g;switch(Wu()){case"ReactNative":if(f==="session")throw y;break;case"Node":if(f!=="none")throw y;break;case"Worker":if(f==="session"||!VL()&&f!=="none")throw y;break;default:if(!jx()&&f!=="none")throw y}}function VW(){var f=!!(!hV(Hi())&&Wx()),g=w0(),y=jx();this.m=f,this.h=g,this.l=y,this.a={},jL||(jL=new Bpe),f=jL;try{this.g=!Hx()&&pV()||!u.indexedDB?new f.a.F:new FW(Xa()?new U0:new f.a.F)}catch{this.g=new U0,this.h=!0}try{this.i=new f.a.cb}catch{this.i=new U0}this.v=new U0,this.f=T(this.Zb,this),this.b={}}var qL;function j0(){return qL||(qL=new VW),qL}function gd(f,g){switch(g){case"session":return f.i;case"none":return f.v;default:return f.g}}function Yg(f,g){return"firebase:"+f.name+(g?":"+g:"")}function qpe(f,g,y){var w=Yg(g,y),I=gd(f,g.F);return f.get(g,y).then(function(R){var M=null;try{M=jg(u.localStorage.getItem(w))}catch{}if(M&&!R)return u.localStorage.removeItem(w),f.set(g,M,y);M&&R&&I.type!="localStorage"&&u.localStorage.removeItem(w)})}n=VW.prototype,n.get=function(f,g){return gd(this,f.F).get(Yg(f,g))};function Xg(f,g,y){return y=Yg(g,y),g.F=="local"&&(f.b[y]=null),gd(f,g.F).U(y)}n.set=function(f,g,y){var w=Yg(f,y),I=this,R=gd(this,f.F);return R.set(w,g).then(function(){return R.get(w)}).then(function(M){f.F=="local"&&(I.b[w]=M)})},n.addListener=function(f,g,y){f=Yg(f,g),this.l&&(this.b[f]=u.localStorage.getItem(f)),Vs(this.a)&&(gd(this,"local").ca(this.f),this.h||(Hx()||!pV())&&u.indexedDB||!this.l||zpe(this)),this.a[f]||(this.a[f]=[]),this.a[f].push(y)},n.removeListener=function(f,g,y){f=Yg(f,g),this.a[f]&&(fe(this.a[f],function(w){return w==y}),this.a[f].length==0&&delete this.a[f]),Vs(this.a)&&(gd(this,"local").ia(this.f),zL(this))};function zpe(f){zL(f),f.c=setInterval(function(){for(var g in f.a){var y=u.localStorage.getItem(g),w=f.b[g];y!=w&&(f.b[g]=y,y=new nd({type:"storage",key:g,target:window,oldValue:w,newValue:y,a:!0}),f.Zb(y))}},1e3)}function zL(f){f.c&&(clearInterval(f.c),f.c=null)}n.Zb=function(f){if(f&&f.g){var g=f.a.key;if(g==null)for(var y in this.a){var w=this.b[y];typeof w>"u"&&(w=null);var I=u.localStorage.getItem(y);I!==w&&(this.b[y]=I,this.nb(y))}else if(g.indexOf("firebase:")==0&&this.a[g]){if(typeof f.a.a<"u"?gd(this,"local").ia(this.f):zL(this),this.m){if(y=u.localStorage.getItem(g),w=f.a.newValue,w!==y)w!==null?u.localStorage.setItem(g,w):u.localStorage.removeItem(g);else if(this.b[g]===w&&typeof f.a.a>"u")return}var R=this;y=function(){(typeof f.a.a<"u"||R.b[g]!==u.localStorage.getItem(g))&&(R.b[g]=u.localStorage.getItem(g),R.nb(g))},Ya&&nf&&nf==10&&u.localStorage.getItem(g)!==f.a.newValue&&f.a.newValue!==f.a.oldValue?setTimeout(y,10):y()}}else Ht(f,T(this.nb,this))},n.nb=function(f){this.a[f]&&Ht(this.a[f],function(g){g()})};function Gpe(f){this.a=f,this.b=j0()}var GL={name:"authEvent",F:"local"};function $pe(f){return f.b.get(GL,f.a).then(function(g){return $V(g)})}function Kpe(){this.a=j0()}function Ype(){this.b=-1}function Yw(f,g){this.b=WW,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=f,this.h=g,this.l=u.Int32Array?new Int32Array(64):Array(64),Xw===void 0&&(u.Int32Array?Xw=new Int32Array(qW):Xw=qW),this.reset()}var Xw;k(Yw,Ype);for(var WW=64,Xpe=WW-1,UW=[],$L=0;$L<Xpe;$L++)UW[$L]=0;var jW=ve(128,UW);Yw.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Ce(this.h)};function KL(f){for(var g=f.f,y=f.l,w=0,I=0;I<g.length;)y[w++]=g[I]<<24|g[I+1]<<16|g[I+2]<<8|g[I+3],I=4*w;for(g=16;64>g;g++){I=y[g-15]|0,w=y[g-2]|0;var R=(y[g-16]|0)+((I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3)|0,M=(y[g-7]|0)+((w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;y[g]=R+M|0}w=f.a[0]|0,I=f.a[1]|0;var z=f.a[2]|0,le=f.a[3]|0,be=f.a[4]|0,Ct=f.a[5]|0,xn=f.a[6]|0;for(R=f.a[7]|0,g=0;64>g;g++){var fn=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&I^w&z^I&z)|0;M=be&Ct^~be&xn,R=R+((be>>>6|be<<26)^(be>>>11|be<<21)^(be>>>25|be<<7))|0,M=M+(Xw[g]|0)|0,M=R+(M+(y[g]|0)|0)|0,R=xn,xn=Ct,Ct=be,be=le+M|0,le=z,z=I,I=w,w=M+fn|0}f.a[0]=f.a[0]+w|0,f.a[1]=f.a[1]+I|0,f.a[2]=f.a[2]+z|0,f.a[3]=f.a[3]+le|0,f.a[4]=f.a[4]+be|0,f.a[5]=f.a[5]+Ct|0,f.a[6]=f.a[6]+xn|0,f.a[7]=f.a[7]+R|0}function YL(f,g,y){y===void 0&&(y=g.length);var w=0,I=f.c;if(typeof g=="string")for(;w<y;)f.f[I++]=g.charCodeAt(w++),I==f.b&&(KL(f),I=0);else if(v(g))for(;w<y;){var R=g[w++];if(!(typeof R=="number"&&0<=R&&255>=R&&R==(R|0)))throw Error("message must be a byte array");f.f[I++]=R,I==f.b&&(KL(f),I=0)}else throw Error("message must be string or array");f.c=I,f.g+=y}var qW=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zW(){Yw.call(this,8,Qpe)}k(zW,Yw);var Qpe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function GW(f,g,y,w,I,R){this.v=f,this.i=g,this.l=y,this.m=w||null,this.u=I||null,this.s=R,this.h=g+":"+y,this.C=new Kpe,this.g=new Gpe(this.h),this.f=null,this.b=[],this.a=this.c=null}function Qw(f){return new L("invalid-cordova-configuration",f)}n=GW.prototype,n.ma=function(){return this.Ia?this.Ia:this.Ia=qhe().then(function(){if(typeof ur("universalLinks.subscribe",u)!="function")throw Qw("cordova-universal-links-plugin-fix is not installed");if(typeof ur("BuildInfo.packageName",u)>"u")throw Qw("cordova-plugin-buildinfo is not installed");if(typeof ur("cordova.plugins.browsertab.openUrl",u)!="function")throw Qw("cordova-plugin-browsertab is not installed");if(typeof ur("cordova.InAppBrowser.open",u)!="function")throw Qw("cordova-plugin-inappbrowser is not installed")},function(){throw new L("cordova-not-ready")})};function Zpe(){for(var f=20,g=[];0<f;)g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),f--;return g.join("")}function Jpe(f){var g=new zW;YL(g,f),f=[];var y=8*g.g;56>g.c?YL(g,jW,56-g.c):YL(g,jW,g.b-(g.c-56));for(var w=63;56<=w;w--)g.f[w]=y&255,y/=256;for(KL(g),w=y=0;w<g.i;w++)for(var I=24;0<=I;I-=8)f[y++]=g.a[w]>>I&255;return cde(f)}n.Pb=function(f,g){return g(new L("operation-not-supported-in-this-environment")),ht()},n.Nb=function(){return ar(new L("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(f,g,y,w){if(this.c)return ar(new L("redirect-operation-pending"));var I=this,R=u.document,M=null,z=null,le=null,be=null;return this.c=ht().then(function(){return fL(g),KW(I)}).then(function(){return ege(I,f,g,y,w)}).then(function(){return new Gt(function(Ct,xn){z=function(){var fn=ur("cordova.plugins.browsertab.close",u);return Ct(),typeof fn=="function"&&fn(),I.a&&typeof I.a.close=="function"&&(I.a.close(),I.a=null),!1},I.Ea(z),le=function(){M||(M=Fg(2e3).then(function(){xn(new L("redirect-cancelled-by-user"))}))},be=function(){qx()&&le()},R.addEventListener("resume",le,!1),Hi().toLowerCase().match(/android/)||R.addEventListener("visibilitychange",be,!1)}).o(function(Ct){return XL(I).then(function(){throw Ct})})}).oa(function(){le&&R.removeEventListener("resume",le,!1),be&&R.removeEventListener("visibilitychange",be,!1),M&&M.cancel(),z&&I.Ta(z),I.c=null})};function ege(f,g,y,w,I){var R=Zpe(),M=new Qa(g,w,null,R,new L("no-auth-event"),null,I),z=ur("BuildInfo.packageName",u);if(typeof z!="string")throw new L("invalid-cordova-configuration");var le=ur("BuildInfo.displayName",u),be={};if(Hi().toLowerCase().match(/iphone|ipad|ipod/))be.ibi=z;else if(Hi().toLowerCase().match(/android/))be.apn=z;else return ar(new L("operation-not-supported-in-this-environment"));le&&(be.appDisplayName=le),R=Jpe(R),be.sessionId=R;var Ct=H0(f.v,f.i,f.l,g,y,null,w,f.m,be,f.u,I,f.s);return f.ma().then(function(){var xn=f.h;return f.C.a.set(GL,M.w(),xn)}).then(function(){var xn=ur("cordova.plugins.browsertab.isAvailable",u);if(typeof xn!="function")throw new L("invalid-cordova-configuration");var fn=null;xn(function(wi){if(wi){if(fn=ur("cordova.plugins.browsertab.openUrl",u),typeof fn!="function")throw new L("invalid-cordova-configuration");fn(Ct)}else{if(fn=ur("cordova.InAppBrowser.open",u),typeof fn!="function")throw new L("invalid-cordova-configuration");wi=Hi(),f.a=fn(Ct,wi.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||wi.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function $W(f,g){for(var y=0;y<f.b.length;y++)try{f.b[y](g)}catch{}}function KW(f){return f.f||(f.f=f.ma().then(function(){return new Gt(function(g){function y(w){return g(w),f.Ta(y),!1}f.Ea(y),tge(f)})})),f.f}function XL(f){var g=null;return $pe(f.g).then(function(y){return g=y,y=f.g,Xg(y.b,GL,y.a)}).then(function(){return g})}function tge(f){function g(M){w=!0,I&&I.cancel(),XL(f).then(function(z){var le=y;if(z&&M&&M.url){var be=null;le=HV(M.url),le.indexOf("/__/auth/callback")!=-1&&(be=bs(le),be=jg(Aa(be,"firebaseError")||null),be=(be=typeof be=="object"?O(be):null)?new Qa(z.c,z.b,null,null,be,null,z.T()):new Qa(z.c,z.b,le,z.f,null,null,z.T())),le=be||y}$W(f,le)})}var y=new Qa("unknown",null,null,null,new L("no-auth-event")),w=!1,I=Fg(500).then(function(){return XL(f).then(function(){w||$W(f,y)})}),R=u.handleOpenURL;u.handleOpenURL=function(M){if(M.toLowerCase().indexOf(ur("BuildInfo.packageName",u).toLowerCase()+"://")==0&&g({url:M}),typeof R=="function")try{R(M)}catch(z){console.error(z)}},hL||(hL=new _de),yde(g)}n.Ea=function(f){this.b.push(f),KW(this).o(function(g){g.code==="auth/invalid-cordova-configuration"&&(g=new Qa("unknown",null,null,null,new L("no-auth-event")),f(g))})},n.Ta=function(f){fe(this.b,function(g){return g==f})};function nge(f){this.a=f,this.b=j0()}var QL={name:"pendingRedirect",F:"session"};function rge(f){return f.b.set(QL,"pending",f.a)}function ZL(f){return Xg(f.b,QL,f.a)}function ige(f){return f.b.get(QL,f.a).then(function(g){return g=="pending"})}function Zw(f,g,y,w){this.i={},this.u=0,this.D=f,this.v=g,this.m=y,this.J=w,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new eE,this.C=new iU,this.g=new nge(tU(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=YW(this.D,this.v,this.m,te,this.J)}function YW(f,g,y,w,I){var R=tt.SDK_VERSION||null;return Vx()?new GW(f,g,y,R,w,I):new CW(f,g,y,R,w,I)}Zw.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=YW(this.D,this.v,this.m,null,this.J),this.i={}};function XW(f){f.f||(f.f=!0,f.a.Ea(f.l));var g=f.a;return f.a.ma().o(function(y){throw f.a==g&&f.reset(),y})}function QW(f){f.a.Yb()&&XW(f).o(function(g){var y=new Qa("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));eN(g)&&f.s(y)}),f.a.Ub()||nU(f.b)}function Jw(f,g){Z(f.h,g)||f.h.push(g),f.f||ige(f.g).then(function(y){y?ZL(f.g).then(function(){XW(f).o(function(w){var I=new Qa("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));eN(w)&&f.s(I)})}):QW(f)}).o(function(){QW(f)})}function JL(f,g){fe(f.h,function(y){return y==g})}Zw.prototype.s=function(f){if(!f)throw new L("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),f&&f.getUid()&&this.i.hasOwnProperty(f.getUid()))return!1;for(var g=!1,y=0;y<this.h.length;y++){var w=this.h[y];if(w.Gb(f.c,f.b)){(g=this.c[f.c])&&(g.h(f,w),f&&(f.f||f.b)&&(this.i[f.getUid()]=!0,this.u=Date.now())),g=!0;break}}return nU(this.b),g};var oge=new sf(2e3,1e4),sge=new sf(3e4,6e4);Zw.prototype.ra=function(){return this.b.ra()};function ZW(f,g,y,w,I,R,M){return f.a.Nb(g,y,w,function(){f.f||(f.f=!0,f.a.Ea(f.l))},function(){f.reset()},I,R,M)}function eN(f){return!!(f&&f.code=="auth/cordova-not-ready")}function JW(f,g,y,w,I){var R;return rge(f.g).then(function(){return f.a.Ob(g,y,w,I).o(function(M){if(eN(M))throw new L("operation-not-supported-in-this-environment");return R=M,ZL(f.g).then(function(){throw R})}).then(function(){return f.a.ac()?new Gt(function(){}):ZL(f.g).then(function(){return f.ra()}).then(function(){}).o(function(){})})})}function eU(f,g,y,w,I){return f.a.Pb(w,function(R){g.na(y,null,R,I)},oge.get())}var tN={};function tU(f,g,y){return f=f+":"+g,y&&(f=f+":"+y.url),f}function nN(f,g,y,w){var I=tU(g,y,w);return tN[I]||(tN[I]=new Zw(f,g,y,w)),tN[I]}function eE(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}eE.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},eE.prototype.h=function(f,g){if(f){this.reset(),this.g=!0;var y=f.c,w=f.b,I=f.a&&f.a.code=="auth/web-storage-unsupported",R=f.a&&f.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!I&&!R),y!="unknown"||I||R?f.a?(vd(this,!0,null,f.a),ht()):g.Fa(y,w)?age(this,f,g):ar(new L("invalid-auth-event")):(vd(this,!1,null,null),ht())}else ar(new L("invalid-auth-event"))};function nU(f){f.g||(f.g=!0,vd(f,!1,null,null))}function tE(f){f.g&&!f.i&&vd(f,!1,null,null)}function age(f,g,y){y=y.Fa(g.c,g.b);var w=g.g,I=g.f,R=g.i,M=g.T(),z=!!g.c.match(/Redirect$/);y(w,I,M,R).then(function(le){vd(f,z,le,null)}).o(function(le){vd(f,z,null,le)})}function uge(f,g){if(f.b=function(){return ar(g)},f.c.length)for(var y=0;y<f.c.length;y++)f.c[y](g)}function rU(f,g){if(f.b=function(){return ht(g)},f.f.length)for(var y=0;y<f.f.length;y++)f.f[y](g)}function vd(f,g,y,w){g?w?uge(f,w):rU(f,y):rU(f,{user:null}),f.f=[],f.c=[]}eE.prototype.ra=function(){var f=this;return new Gt(function(g,y){f.b?f.b().then(g,y):(f.f.push(g),f.c.push(y),lge(f))})};function lge(f){var g=new L("timeout");f.a&&f.a.cancel(),f.a=Fg(sge.get()).then(function(){f.b||(f.g=!0,vd(f,!0,null,g))})}function iU(){}iU.prototype.h=function(f,g){if(f){var y=f.c,w=f.b;f.a?(g.na(f.c,null,f.a,f.b),ht()):g.Fa(y,w)?cge(f,g):ar(new L("invalid-auth-event"))}else ar(new L("invalid-auth-event"))};function cge(f,g){var y=f.b,w=f.c;g.Fa(w,y)(f.g,f.f,f.T(),f.i).then(function(I){g.na(w,I,null,y)}).o(function(I){g.na(w,null,I,y)})}function oU(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(f){this.jb=f},enumerable:!1})}function rN(f,g){this.a=g,Ye(this,"verificationId",f)}rN.prototype.confirm=function(f){return f=GV(this.verificationId,f),this.a(f)};function iN(f,g,y,w){return new Zl(f).gb(g,y).then(function(I){return new rN(I,w)})}function fge(f){var g=NV(f);if(!(g&&g.exp&&g.auth_time&&g.iat))throw new L("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vo(this,{token:f,expirationTime:S0(1e3*g.exp),authTime:S0(1e3*g.auth_time),issuedAtTime:S0(1e3*g.iat),signInProvider:g.firebase&&g.firebase.sign_in_provider?g.firebase.sign_in_provider:null,signInSecondFactor:g.firebase&&g.firebase.sign_in_second_factor?g.firebase.sign_in_second_factor:null,claims:g})}function oN(f,g,y){var w=g&&g[aU];if(!w)throw new L("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=f,this.f=Ka(g),this.g=y,this.c=new Lw(null,w),this.b=[];var I=this;Ht(g[sU]||[],function(R){(R=Xx(R))&&I.b.push(R)}),Ye(this,"auth",this.a),Ye(this,"session",this.c),Ye(this,"hints",this.b)}var sU="mfaInfo",aU="mfaPendingCredential";oN.prototype.Rc=function(f){var g=this;return f.tb(this.a.a,this.c).then(function(y){var w=Ka(g.f);return delete w[sU],delete w[aU],tr(w,y),g.g(w)})};function sN(f,g,y,w){L.call(this,"multi-factor-auth-required",w,g),this.b=new oN(f,g,y),Ye(this,"resolver",this.b)}k(sN,L);function uU(f,g,y){if(f&&_(f.serverResponse)&&f.code==="auth/multi-factor-auth-required")try{return new sN(g,f.serverResponse,y,f.message)}catch{}return null}function lU(){}lU.prototype.tb=function(f,g,y){return g.type==I0?hge(this,f,g,y):dge(this,f,g)};function hge(f,g,y,w){return y.Ha().then(function(I){return I={idToken:I},typeof w<"u"&&(I.displayName=w),tr(I,{phoneVerificationInfo:x0(f.a)}),Qt(g,tpe,I)})}function dge(f,g,y){return y.Ha().then(function(w){return w={mfaPendingCredential:w},tr(w,{phoneVerificationInfo:x0(f.a)}),Qt(g,npe,w)})}function aN(f){Ye(this,"factorId",f.fa),this.a=f}k(aN,lU);function cU(f){if(aN.call(this,f),this.a.fa!=Zl.PROVIDER_ID)throw new L("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}k(cU,aN);function Qg(f,g){ys.call(this,f);for(var y in g)this[y]=g[y]}k(Qg,ys);function uN(f,g){this.a=f,this.b=[],this.c=T(this.yc,this),Da(this.a,"userReloaded",this.c);var y=[];g&&g.multiFactor&&g.multiFactor.enrolledFactors&&Ht(g.multiFactor.enrolledFactors,function(w){var I=null,R={};if(w){w.uid&&(R[Zx]=w.uid),w.displayName&&(R[vV]=w.displayName),w.enrollmentTime&&(R[Qx]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(R[Jx]=w.phoneNumber);try{I=new T0(R)}catch{}w=I}else w=null;w&&y.push(w)}),nE(this,y)}function pge(f){var g=[];return Ht(f.mfaInfo||[],function(y){(y=Xx(y))&&g.push(y)}),g}n=uN.prototype,n.yc=function(f){nE(this,pge(f.hd))};function nE(f,g){f.b=g,Ye(f,"enrolledFactors",g)}n.Sb=function(){return this.a.I().then(function(f){return new Lw(f,null)})},n.fc=function(f,g){var y=this,w=this.a.a;return this.Sb().then(function(I){return f.tb(w,I,g)}).then(function(I){return qu(y.a,I),y.a.reload()})},n.bd=function(f){var g=this,y=typeof f=="string"?f:f.uid,w=this.a.a;return this.a.I().then(function(I){return Qt(w,wpe,{idToken:I,mfaEnrollmentId:y})}).then(function(I){var R=Bo(g.b,function(M){return M.uid!=y});return nE(g,R),qu(g.a,I),g.a.reload().o(function(M){if(M.code!="auth/user-token-expired")throw M})})},n.w=function(){return{multiFactor:{enrolledFactors:Kn(this.b,function(f){return f.w()})}}};function lN(f,g,y){if(this.h=f,this.i=g,this.g=y,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}lN.prototype.start=function(){this.a=this.c,cN(this,!0)};function gge(f,g){return g?(f.a=f.c,f.g()):(g=f.a,f.a*=2,f.a>f.f&&(f.a=f.f),g)}function cN(f,g){f.stop(),f.b=Fg(gge(f,g)).then(function(){return Ghe()}).then(function(){return f.h()}).then(function(){cN(f,!0)}).o(function(y){f.i(y)&&cN(f,!1)})}lN.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function fN(f){this.f=f,this.b=this.a=null,this.c=Date.now()}fN.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function fU(f,g){typeof g>"u"&&(f.b?(g=f.b,g=g.a-g.g):g=0),f.c=Date.now()+1e3*g}function hU(f,g){f.b=Iw(g[Ja]||""),f.a=g.refreshToken,g=g.expiresIn,fU(f,typeof g<"u"?Number(g):void 0)}function vge(f,g){f.b=g.b,f.a=g.a,f.c=g.c}function mge(f,g){return Hde(f.f,g).then(function(y){return f.b=Iw(y.access_token),f.a=y.refresh_token,fU(f,y.expires_in),{accessToken:f.b.toString(),refreshToken:f.a}}).o(function(y){throw y.code=="auth/user-token-expired"&&(f.a=null),y})}fN.prototype.getToken=function(f){return f=!!f,this.b&&!this.a?ar(new L("user-token-expired")):f||!this.b||Date.now()>this.c-3e4?this.a?mge(this,{grant_type:"refresh_token",refresh_token:this.a}):ht(null):ht({accessToken:this.b.toString(),refreshToken:this.a})};function rE(f,g){this.a=f||null,this.b=g||null,Vo(this,{lastSignInTime:S0(g||null),creationTime:S0(f||null)})}function _ge(f){return new rE(f.a,f.b)}rE.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function yge(f,g,y,w,I,R){Vo(this,{uid:f,displayName:w||null,photoURL:I||null,email:y||null,phoneNumber:R||null,providerId:g})}function js(f,g,y){this.N=[],this.l=f.apiKey,this.m=f.appName,this.s=f.authDomain||null;var w=tt.SDK_VERSION?Wg(tt.SDK_VERSION):null;this.a=new Za(this.l,$(te),w),(this.u=f.emulatorConfig||null)&&zw(this.a,this.u),this.h=new fN(this.a),_N(this,g[Ja]),hU(this.h,g),Ye(this,"refreshToken",this.h.a),pU(this,y||{}),Ho.call(this),this.P=!1,this.s&&sd()&&(this.b=nN(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=bge(this),this.ba=T(this.ib,this);var I=this;this.za=null,this.Pa=function(R){I.xa(R.h)},this.qa=null,this.Ba=function(R){hN(I,R.c)},this.$=null,this.aa=[],this.Oa=function(R){q0(I,R.f)},this.ja=null,this.S=new uN(this,y),Ye(this,"multiFactor",this.S)}k(js,Ho),js.prototype.xa=function(f){this.za=f,uW(this.a,f)};function hN(f,g){f.u=g,zw(f.a,g),f.b&&(g=f.b,f.b=nN(f.s,f.l,f.m,f.u),f.P&&(JL(g,f),Jw(f.b,f)))}js.prototype.la=function(){return this.za};function dN(f,g){f.qa&&Ws(f.qa,"languageCodeChanged",f.Pa),(f.qa=g)&&Da(g,"languageCodeChanged",f.Pa)}function pN(f,g){f.$&&Ws(f.$,"emulatorConfigChanged",f.Ba),(f.$=g)&&Da(g,"emulatorConfigChanged",f.Ba)}function q0(f,g){f.aa=g,lW(f.a,tt.SDK_VERSION?Wg(tt.SDK_VERSION,f.aa):null)}js.prototype.Ga=function(){return Ce(this.aa)};function gN(f,g){f.ja&&Ws(f.ja,"frameworkChanged",f.Oa),(f.ja=g)&&Da(g,"frameworkChanged",f.Oa)}js.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function vN(f){try{return tt.app(f.m).auth()}catch{throw new L("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+f.m+"'!")}}function bge(f){return new lN(function(){return f.I(!0)},function(g){return!!(g&&g.code=="auth/network-request-failed")},function(){var g=f.h.c-Date.now()-3e5;return 0<g?g:0})}function dU(f){f.J||f.D.b||(f.D.start(),Ws(f,"tokenChanged",f.ba),Da(f,"tokenChanged",f.ba))}function mN(f){Ws(f,"tokenChanged",f.ba),f.D.stop()}function _N(f,g){f.Aa=g,Ye(f,"_lat",g)}function Cge(f,g){fe(f.W,function(y){return y==g})}function md(f){for(var g=[],y=0;y<f.W.length;y++)g.push(f.W[y](f));return NH(g).then(function(){return f})}function z0(f){f.b&&!f.P&&(f.P=!0,Jw(f.b,f))}function pU(f,g){Vo(f,{uid:g.uid,displayName:g.displayName||null,photoURL:g.photoURL||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,isAnonymous:g.isAnonymous||!1,tenantId:g.tenantId||null,metadata:new rE(g.createdAt,g.lastLoginAt),providerData:[]}),f.a.b=f.tenantId}Ye(js.prototype,"providerId","firebase");function gU(){}function yN(f){return ht().then(function(){if(f.J)throw new L("app-deleted")})}function bN(f){return Kn(f.providerData,function(g){return g.providerId})}function CN(f,g){g&&(vU(f,g.providerId),f.providerData.push(g))}function vU(f,g){fe(f.providerData,function(y){return y.providerId==g})}function lf(f,g,y){(g!="uid"||y)&&f.hasOwnProperty(g)&&Ye(f,g,y)}function iE(f,g){f!=g&&(Vo(f,{uid:g.uid,displayName:g.displayName,photoURL:g.photoURL,email:g.email,emailVerified:g.emailVerified,phoneNumber:g.phoneNumber,isAnonymous:g.isAnonymous,tenantId:g.tenantId,providerData:[]}),g.metadata?Ye(f,"metadata",_ge(g.metadata)):Ye(f,"metadata",new rE),Ht(g.providerData,function(y){CN(f,y)}),vge(f.h,g.h),Ye(f,"refreshToken",f.h.a),nE(f.S,g.S.b))}n=js.prototype,n.reload=function(){var f=this;return ri(this,yN(this).then(function(){return wN(f).then(function(){return md(f)}).then(gU)}))};function wN(f){return f.I().then(function(g){var y=f.isAnonymous;return wge(f,g).then(function(){return y||lf(f,"isAnonymous",!1),g})})}n.oc=function(f){return this.I(f).then(function(g){return new fge(g)})},n.I=function(f){var g=this;return ri(this,yN(this).then(function(){return g.h.getToken(f)}).then(function(y){if(!y)throw new L("internal-error");return y.accessToken!=g.Aa&&(_N(g,y.accessToken),g.dispatchEvent(new Qg("tokenChanged"))),lf(g,"refreshToken",y.refreshToken),y.accessToken}))};function qu(f,g){g[Ja]&&f.Aa!=g[Ja]&&(hU(f.h,g),f.dispatchEvent(new Qg("tokenChanged")),_N(f,g[Ja]),lf(f,"refreshToken",f.h.a))}function wge(f,g){return Qt(f.a,rpe,{idToken:g}).then(T(f.Kc,f))}n.Kc=function(f){if(f=f.users,!f||!f.length)throw new L("internal-error");f=f[0],pU(this,{uid:f.localId,displayName:f.displayName,photoURL:f.photoUrl,email:f.email,emailVerified:!!f.emailVerified,phoneNumber:f.phoneNumber,lastLoginAt:f.lastLoginAt,createdAt:f.createdAt,tenantId:f.tenantId});for(var g=Ege(f),y=0;y<g.length;y++)CN(this,g[y]);lf(this,"isAnonymous",!(this.email&&f.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Qg("userReloaded",{hd:f}))};function Ege(f){return(f=f.providerUserInfo)&&f.length?Kn(f,function(g){return new yge(g.rawId,g.providerId,g.email,g.displayName,g.photoUrl,g.phoneNumber)}):[]}n.Lc=function(f){return zx("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(f)},n.ub=function(f){var g=this,y=null;return ri(this,f.c(this.a,this.uid).then(function(w){return qu(g,w),y=G0(g,w,"reauthenticate"),g.i=null,g.reload()}).then(function(){return y}),!0)};function oE(f,g){return wN(f).then(function(){if(Z(bN(f),g))return md(f).then(function(){throw new L("provider-already-linked")})})}n.Cc=function(f){return zx("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(f)},n.rb=function(f){var g=this,y=null;return ri(this,oE(this,f.providerId).then(function(){return g.I()}).then(function(w){return f.b(g.a,w)}).then(function(w){return y=G0(g,w,"link"),mU(g,w)}).then(function(){return y}))},n.Dc=function(f,g){var y=this;return ri(this,oE(this,"phone").then(function(){return iN(vN(y),f,g,T(y.rb,y))}))},n.Mc=function(f,g){var y=this;return ri(this,ht().then(function(){return iN(vN(y),f,g,T(y.ub,y))}),!0)};function G0(f,g,y){var w=cL(g);return g=kV(g),Uu({user:f,credential:w,additionalUserInfo:g,operationType:y})}function mU(f,g){return qu(f,g),f.reload().then(function(){return f})}n.Cb=function(f){var g=this;return ri(this,this.I().then(function(y){return g.a.Cb(y,f)}).then(function(y){return qu(g,y),g.reload()}))},n.ed=function(f){var g=this;return ri(this,this.I().then(function(y){return f.b(g.a,y)}).then(function(y){return qu(g,y),g.reload()}))},n.Db=function(f){var g=this;return ri(this,this.I().then(function(y){return g.a.Db(y,f)}).then(function(y){return qu(g,y),g.reload()}))},n.Eb=function(f){if(f.displayName===void 0&&f.photoURL===void 0)return yN(this);var g=this;return ri(this,this.I().then(function(y){return g.a.Eb(y,{displayName:f.displayName,photoUrl:f.photoURL})}).then(function(y){return qu(g,y),lf(g,"displayName",y.displayName||null),lf(g,"photoURL",y.photoUrl||null),Ht(g.providerData,function(w){w.providerId==="password"&&(Ye(w,"displayName",g.displayName),Ye(w,"photoURL",g.photoURL))}),md(g)}).then(gU))},n.cd=function(f){var g=this;return ri(this,wN(this).then(function(y){return Z(bN(g),f)?Gde(g.a,y,[f]).then(function(w){var I={};return Ht(w.providerUserInfo||[],function(R){I[R.providerId]=!0}),Ht(bN(g),function(R){I[R]||vU(g,R)}),I[Zl.PROVIDER_ID]||Ye(g,"phoneNumber",null),md(g)}):md(g).then(function(){throw new L("no-such-provider")})}))},n.delete=function(){var f=this;return ri(this,this.I().then(function(g){return Qt(f.a,Qde,{idToken:g})}).then(function(){f.dispatchEvent(new Qg("userDeleted"))})).then(function(){for(var g=0;g<f.N.length;g++)f.N[g].cancel("app-deleted");dN(f,null),pN(f,null),gN(f,null),f.N=[],f.J=!0,mN(f),Ye(f,"refreshToken",null),f.b&&JL(f.b,f)})},n.Gb=function(f,g){return!!(f=="linkViaPopup"&&(this.g||null)==g&&this.f||f=="reauthViaPopup"&&(this.g||null)==g&&this.f||f=="linkViaRedirect"&&(this.ga||null)==g||f=="reauthViaRedirect"&&(this.ga||null)==g)},n.na=function(f,g,y,w){f!="linkViaPopup"&&f!="reauthViaPopup"||w!=(this.g||null)||(y&&this.C?this.C(y):g&&!y&&this.f&&this.f(g),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(f,g){return f=="linkViaPopup"&&g==(this.g||null)?T(this.Lb,this):f=="reauthViaPopup"&&g==(this.g||null)?T(this.Mb,this):f=="linkViaRedirect"&&(this.ga||null)==g?T(this.Lb,this):f=="reauthViaRedirect"&&(this.ga||null)==g?T(this.Mb,this):null},n.Ec=function(f){var g=this;return _U(this,"linkViaPopup",f,function(){return oE(g,f.providerId).then(function(){return md(g)})},!1)},n.Nc=function(f){return _U(this,"reauthViaPopup",f,function(){return ht()},!0)};function _U(f,g,y,w,I){if(!sd())return ar(new L("operation-not-supported-in-this-environment"));if(f.i&&!I)return ar(f.i);var R=iL(y.providerId),M=ad(f.uid+":::"),z=null;(!w0()||Wx())&&f.s&&y.isOAuthProvider&&(z=H0(f.s,f.l,f.m,g,y,null,M,tt.SDK_VERSION||null,null,null,f.tenantId,f.u));var le=aV(z,R&&R.va,R&&R.ua);return w=w().then(function(){if(bU(f),!I)return f.I().then(function(){})}).then(function(){return ZW(f.b,le,g,y,M,!!z,f.tenantId)}).then(function(){return new Gt(function(be,Ct){f.na(g,null,new L("cancelled-popup-request"),f.g||null),f.f=be,f.C=Ct,f.g=M,f.c=eU(f.b,f,g,le,M)})}).then(function(be){return le&&od(le),be?Uu(be):null}).o(function(be){throw le&&od(le),be}),ri(f,w,I)}n.Fc=function(f){var g=this;return yU(this,"linkViaRedirect",f,function(){return oE(g,f.providerId)},!1)},n.Oc=function(f){return yU(this,"reauthViaRedirect",f,function(){return ht()},!0)};function yU(f,g,y,w,I){if(!sd())return ar(new L("operation-not-supported-in-this-environment"));if(f.i&&!I)return ar(f.i);var R=null,M=ad(f.uid+":::");return w=w().then(function(){if(bU(f),!I)return f.I().then(function(){})}).then(function(){return f.ga=M,md(f)}).then(function(z){return f.ha&&(z=f.ha,z=z.b.set(EN,f.w(),z.a)),z}).then(function(){return JW(f.b,g,y,M,f.tenantId)}).o(function(z){if(R=z,f.ha)return wU(f.ha);throw R}).then(function(){if(R)throw R}),ri(f,w,I)}function bU(f){if(!f.b||!f.P)throw f.b&&!f.P?new L("internal-error"):new L("auth-domain-config-required")}n.Lb=function(f,g,y,w){var I=this;this.c&&(this.c.cancel(),this.c=null);var R=null;return y=this.I().then(function(M){return NL(I.a,{requestUri:f,postBody:w,sessionId:g,idToken:M})}).then(function(M){return R=G0(I,M,"link"),mU(I,M)}).then(function(){return R}),ri(this,y)},n.Mb=function(f,g,y,w){var I=this;this.c&&(this.c.cancel(),this.c=null);var R=null,M=ht().then(function(){return zg(OL(I.a,{requestUri:f,sessionId:g,postBody:w,tenantId:y}),I.uid)}).then(function(z){return R=G0(I,z,"reauthenticate"),qu(I,z),I.i=null,I.reload()}).then(function(){return R});return ri(this,M,!0)},n.vb=function(f){var g=this,y=null;return ri(this,this.I().then(function(w){return y=w,typeof f>"u"||Vs(f)?{}:Dw(new Tw(f))}).then(function(w){return g.a.vb(y,w)}).then(function(w){if(g.email!=w)return g.reload()}).then(function(){}))},n.Fb=function(f,g){var y=this,w=null;return ri(this,this.I().then(function(I){return w=I,typeof g>"u"||Vs(g)?{}:Dw(new Tw(g))}).then(function(I){return y.a.Fb(w,f,I)}).then(function(I){if(y.email!=I)return y.reload()}).then(function(){}))};function ri(f,g,y){var w=Sge(f,g,y);return f.N.push(w),w.oa(function(){re(f.N,w)}),w.o(function(I){var R=null;throw I&&I.code==="auth/multi-factor-auth-required"&&(R=uU(I.w(),vN(f),T(f.jc,f))),R||I})}n.jc=function(f){var g=null,y=this;return f=zg(ht(f),y.uid).then(function(w){return g=G0(y,w,"reauthenticate"),qu(y,w),y.i=null,y.reload()}).then(function(){return g}),ri(this,f,!0)};function Sge(f,g,y){return f.i&&!y?(g.cancel(),ar(f.i)):g.o(function(w){throw!w||w.code!="auth/user-disabled"&&w.code!="auth/user-token-expired"||(f.i||f.dispatchEvent(new Qg("userInvalidated")),f.i=w),w})}n.toJSON=function(){return this.w()},n.w=function(){var f={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&tr(f,this.metadata.w()),Ht(this.providerData,function(g){f.providerData.push(Yhe(g))}),tr(f,this.S.w()),f};function CU(f){if(!f.apiKey)return null;var g={apiKey:f.apiKey,authDomain:f.authDomain,appName:f.appName,emulatorConfig:f.emulatorConfig},y={};if(f.stsTokenManager&&f.stsTokenManager.accessToken){y[Ja]=f.stsTokenManager.accessToken,y.refreshToken=f.stsTokenManager.refreshToken||null;var w=f.stsTokenManager.expirationTime;w&&(y.expiresIn=(w-Date.now())/1e3)}else return null;var I=new js(g,y,f);return f.providerData&&Ht(f.providerData,function(R){R&&CN(I,Uu(R))}),f.redirectEventId&&(I.ga=f.redirectEventId),I}function Tge(f,g,y,w){var I=new js(f,g);return y&&(I.ha=y),w&&q0(I,w),I.reload().then(function(){return I})}function Dge(f,g,y,w){var I=f.h,R={};return R[Ja]=I.b&&I.b.toString(),R.refreshToken=I.a,g=new js(g||{apiKey:f.l,authDomain:f.s,appName:f.m},R),y&&(g.ha=y),w&&q0(g,w),iE(g,f),g}function Age(f){this.a=f,this.b=j0()}var EN={name:"redirectUser",F:"session"};function wU(f){return Xg(f.b,EN,f.a)}function Ige(f,g){return f.b.get(EN,f.a).then(function(y){return y&&g&&(y.authDomain=g),CU(y||{})})}function SN(f){this.a=f,this.b=j0(),this.c=null,this.f=xge(this),this.b.addListener(zu("local"),this.a,T(this.g,this))}SN.prototype.g=function(){var f=this,g=zu("local");Zg(this,function(){return ht().then(function(){return f.c&&f.c.F!="local"?f.b.get(g,f.a):null}).then(function(y){if(y)return TN(f,"local").then(function(){f.c=g})})})};function TN(f,g){var y=[],w;for(w in Kg)Kg[w]!==g&&y.push(Xg(f.b,zu(Kg[w]),f.a));return y.push(Xg(f.b,DN,f.a)),_he(y)}function xge(f){var g=zu("local"),y=zu("session"),w=zu("none");return qpe(f.b,g,f.a).then(function(){return f.b.get(y,f.a)}).then(function(I){return I?y:f.b.get(w,f.a).then(function(R){return R?w:f.b.get(g,f.a).then(function(M){return M?g:f.b.get(DN,f.a).then(function(z){return z?zu(z):g})})})}).then(function(I){return f.c=I,TN(f,I.F)}).o(function(){f.c||(f.c=g)})}var DN={name:"persistence",F:"session"};function zu(f){return{name:"authUser",F:f}}SN.prototype.yb=function(f){var g=null,y=this;return jpe(f),Zg(this,function(){return f!=y.c.F?y.b.get(y.c,y.a).then(function(w){return g=w,TN(y,f)}).then(function(){if(y.c=zu(f),g)return y.b.set(y.c,g,y.a)}):ht()})};function Lge(f){return Zg(f,function(){return f.b.set(DN,f.c.F,f.a)})}function EU(f,g){return Zg(f,function(){return f.b.set(f.c,g.w(),f.a)})}function SU(f){return Zg(f,function(){return Xg(f.b,f.c,f.a)})}function TU(f,g,y){return Zg(f,function(){return f.b.get(f.c,f.a).then(function(w){return w&&g&&(w.authDomain=g),w&&y&&(w.emulatorConfig=y),CU(w||{})})})}function Zg(f,g){return f.f=f.f.then(g,g),f.f}function eu(f){if(this.l=!1,Ye(this,"settings",new oU),Ye(this,"app",f),Mn(this).options&&Mn(this).options.apiKey)f=tt.SDK_VERSION?Wg(tt.SDK_VERSION):null,this.a=new Za(Mn(this).options&&Mn(this).options.apiKey,$(te),f);else throw new L("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=tt.INTERNAL.createSubscribe(T(this.zc,this)),this.W=void 0,this.ib=tt.INTERNAL.createSubscribe(T(this.Ac,this)),Jg(this,null),this.i=new SN(Mn(this).options.apiKey+":"+Mn(this).name),this.D=new Age(Mn(this).options.apiKey+":"+Mn(this).name),this.$=br(this,Mge(this)),this.h=br(this,Fge(this)),this.ba=!1,this.ja=T(this.Zc,this),this.Ba=T(this.da,this),this.qa=T(this.mc,this),this.za=T(this.wc,this),this.Aa=T(this.xc,this),this.b=null,kge(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.Gc,this),this.u=0,Ho.call(this),Oge(this),this.J=[],this.R=null}k(eu,Ho);function DU(f){ys.call(this,"languageCodeChanged"),this.h=f}k(DU,ys);function AU(f){ys.call(this,"emulatorConfigChanged"),this.c=f}k(AU,ys);function IU(f){ys.call(this,"frameworkChanged"),this.f=f}k(IU,ys),n=eu.prototype,n.yb=function(f){return f=this.i.yb(f),br(this,f)},n.xa=function(f){this.aa===f||this.l||(this.aa=f,uW(this.a,this.aa),this.dispatchEvent(new DU(this.la())))},n.la=function(){return this.aa},n.fd=function(){var f=u.navigator;this.xa(f&&(f.languages&&f.languages[0]||f.language||f.userLanguage)||null)},n.gd=function(f,g){if(!this.R){if(!/^https?:\/\//.test(f))throw new L("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");g=g?!!g.disableWarnings:!1,Nge(g),this.R={url:f,ec:g},this.settings.jb=!0,zw(this.a,this.R),this.dispatchEvent(new AU(this.R))}};function Nge(f){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!f&&ww().then(function(){var g=u.document.createElement("div");g.innerText="Running in emulator mode. Do not use with production credentials.",g.style.position="fixed",g.style.width="100%",g.style.backgroundColor="#ffffff",g.style.border=".1em solid #000000",g.style.color="#b50000",g.style.bottom="0px",g.style.left="0px",g.style.margin="0px",g.style.zIndex=1e4,g.style.textAlign="center",g.classList.add("firebase-emulator-warning"),u.document.body.appendChild(g)})}n.Gc=function(f){this.J.push(f),lW(this.a,tt.SDK_VERSION?Wg(tt.SDK_VERSION,this.J):null),this.dispatchEvent(new IU(this.J))},n.Ga=function(){return Ce(this.J)},n.zb=function(f){this.S===f||this.l||(this.S=f,this.a.b=this.S)},n.T=function(){return this.S};function Oge(f){Object.defineProperty(f,"lc",{get:function(){return this.la()},set:function(g){this.xa(g)},enumerable:!1}),f.aa=null,Object.defineProperty(f,"ti",{get:function(){return this.T()},set:function(g){this.zb(g)},enumerable:!1}),f.S=null,Object.defineProperty(f,"emulatorConfig",{get:function(){if(this.R){var g=bs(this.R.url);g=Uu({protocol:g.c,host:g.a,port:g.g,options:Uu({disableWarnings:this.R.ec})})}else g=null;return g},enumerable:!1})}n.toJSON=function(){return{apiKey:Mn(this).options.apiKey,authDomain:Mn(this).options.authDomain,appName:Mn(this).name,currentUser:Pt(this)&&Pt(this).w()}};function AN(f){return f.Oa||ar(new L("auth-domain-config-required"))}function kge(f){var g=Mn(f).options.authDomain,y=Mn(f).options.apiKey;g&&sd()&&(f.Oa=f.$.then(function(){if(!f.l){if(f.b=nN(g,y,Mn(f).name,f.R),Jw(f.b,f),Pt(f)&&z0(Pt(f)),f.m){z0(f.m);var w=f.m;w.xa(f.la()),dN(w,f),w=f.m,q0(w,f.J),gN(w,f),w=f.m,hN(w,f.R),pN(w,f),f.m=null}return f.b}}))}n.Gb=function(f,g){switch(f){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==g&&!!this.f;default:return!1}},n.na=function(f,g,y,w){f=="signInViaPopup"&&this.g==w&&(y&&this.C?this.C(y):g&&!y&&this.f&&this.f(g),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(f,g){return f=="signInViaRedirect"||f=="signInViaPopup"&&this.g==g&&this.f?T(this.ic,this):null},n.ic=function(f,g,y,w){var I=this,R={requestUri:f,postBody:w,sessionId:g,tenantId:y};return this.c&&(this.c.cancel(),this.c=null),I.$.then(function(){return _d(I,LL(I.a,R))})},n.Xc=function(f){if(!sd())return ar(new L("operation-not-supported-in-this-environment"));var g=this,y=iL(f.providerId),w=ad(),I=null;(!w0()||Wx())&&Mn(this).options.authDomain&&f.isOAuthProvider&&(I=H0(Mn(this).options.authDomain,Mn(this).options.apiKey,Mn(this).name,"signInViaPopup",f,null,w,tt.SDK_VERSION||null,null,null,this.T(),this.R));var R=aV(I,y&&y.va,y&&y.ua);return y=AN(this).then(function(M){return ZW(M,R,"signInViaPopup",f,w,!!I,g.T())}).then(function(){return new Gt(function(M,z){g.na("signInViaPopup",null,new L("cancelled-popup-request"),g.g),g.f=M,g.C=z,g.g=w,g.c=eU(g.b,g,"signInViaPopup",R,w)})}).then(function(M){return R&&od(R),M?Uu(M):null}).o(function(M){throw R&&od(R),M}),br(this,y)},n.Yc=function(f){if(!sd())return ar(new L("operation-not-supported-in-this-environment"));var g=this,y=AN(this).then(function(){return Lge(g.i)}).then(function(){return JW(g.b,"signInViaRedirect",f,void 0,g.T())});return br(this,y)};function xU(f){if(!sd())return ar(new L("operation-not-supported-in-this-environment"));var g=AN(f).then(function(){return f.b.ra()}).then(function(y){return y?Uu(y):null});return br(f,g)}n.ra=function(){var f=this;return xU(this).then(function(g){return f.b&&tE(f.b.b),g}).o(function(g){throw f.b&&tE(f.b.b),g})},n.dd=function(f){if(!f)return ar(new L("null-user"));if(this.S!=f.tenantId)return ar(new L("tenant-id-mismatch"));var g=this,y={};y.apiKey=Mn(this).options.apiKey,y.authDomain=Mn(this).options.authDomain,y.appName=Mn(this).name;var w=Dge(f,y,g.D,g.Ga());return br(this,this.h.then(function(){if(Mn(g).options.apiKey!=f.l)return w.reload()}).then(function(){return Pt(g)&&f.uid==Pt(g).uid?(iE(Pt(g),f),g.da(f)):(Jg(g,w),z0(w),g.da(w))}).then(function(){$0(g)}))};function Rge(f,g){var y={};return y.apiKey=Mn(f).options.apiKey,y.authDomain=Mn(f).options.authDomain,y.appName=Mn(f).name,f.R&&(y.emulatorConfig=f.R),f.$.then(function(){return Tge(y,g,f.D,f.Ga())}).then(function(w){return Pt(f)&&w.uid==Pt(f).uid?(iE(Pt(f),w),f.da(w)):(Jg(f,w),z0(w),f.da(w))}).then(function(){$0(f)})}function Jg(f,g){Pt(f)&&(Cge(Pt(f),f.Ba),Ws(Pt(f),"tokenChanged",f.qa),Ws(Pt(f),"userDeleted",f.za),Ws(Pt(f),"userInvalidated",f.Aa),mN(Pt(f))),g&&(g.W.push(f.Ba),Da(g,"tokenChanged",f.qa),Da(g,"userDeleted",f.za),Da(g,"userInvalidated",f.Aa),0<f.u&&dU(g)),Ye(f,"currentUser",g),g&&(g.xa(f.la()),dN(g,f),q0(g,f.J),gN(g,f),hN(g,f.R),pN(g,f))}n.Bb=function(){var f=this,g=this.h.then(function(){return f.b&&tE(f.b.b),Pt(f)?(Jg(f,null),SU(f.i).then(function(){$0(f)})):ht()});return br(this,g)};function Pge(f){var g=Ige(f.D,Mn(f).options.authDomain).then(function(y){return(f.m=y)&&(y.ha=f.D),wU(f.D)});return br(f,g)}function Mge(f){var g=Mn(f).options.authDomain,y=Pge(f).then(function(){return TU(f.i,g,f.R)}).then(function(w){return w?(w.ha=f.D,f.m&&(f.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return EU(f.i,w).then(function(){return w})}).o(function(I){return I.code=="auth/network-request-failed"?w:SU(f.i)})):null}).then(function(w){Jg(f,w||null)});return br(f,y)}function Fge(f){return f.$.then(function(){return xU(f)}).o(function(){}).then(function(){if(!f.l)return f.ja()}).o(function(){}).then(function(){if(!f.l){f.ba=!0;var g=f.i;g.b.addListener(zu("local"),g.a,f.ja)}})}n.Zc=function(){var f=this;return TU(this.i,Mn(this).options.authDomain).then(function(g){if(!f.l){var y;if(y=Pt(f)&&g){y=Pt(f).uid;var w=g.uid;y=y==null||y===""||w===void 0||w===null||w===""?!1:y==w}if(y)return iE(Pt(f),g),Pt(f).I();(Pt(f)||g)&&(Jg(f,g),g&&(z0(g),g.ha=f.D),f.b&&Jw(f.b,f),$0(f))}})},n.da=function(f){return EU(this.i,f)},n.mc=function(){$0(this),this.da(Pt(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()};function _d(f,g){var y=null,w=null;return br(f,g.then(function(I){return y=cL(I),w=kV(I),Rge(f,I)},function(I){var R=null;throw I&&I.code==="auth/multi-factor-auth-required"&&(R=uU(I.w(),f,T(f.kc,f))),R||I}).then(function(){return Uu({user:Pt(f),credential:y,additionalUserInfo:w,operationType:"signIn"})}))}n.kc=function(f){var g=this;return this.h.then(function(){return _d(g,ht(f))})},n.zc=function(f){var g=this;this.addAuthTokenListener(function(){f.next(Pt(g))})},n.Ac=function(f){var g=this;Bge(this,function(){f.next(Pt(g))})},n.Ic=function(f,g,y){var w=this;return this.ba&&Promise.resolve().then(function(){typeof f=="function"?f(Pt(w)):typeof f.next=="function"&&f.next(Pt(w))}),this.Pa(f,g,y)},n.Hc=function(f,g,y){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),typeof f=="function"?f(Pt(w)):typeof f.next=="function"&&f.next(Pt(w))}),this.ib(f,g,y)},n.nc=function(f){var g=this,y=this.h.then(function(){return Pt(g)?Pt(g).I(f).then(function(w){return{accessToken:w}}):null});return br(this,y)},n.Tc=function(f){var g=this;return this.h.then(function(){return _d(g,Qt(g.a,_pe,{token:f}))}).then(function(y){var w=y.user;return lf(w,"isAnonymous",!1),g.da(w),y})},n.Uc=function(f,g){var y=this;return this.h.then(function(){return _d(y,Qt(y.a,_W,{email:f,password:g}))})},n.dc=function(f,g){var y=this;return this.h.then(function(){return _d(y,Qt(y.a,Yde,{email:f,password:g}))})},n.ab=function(f){var g=this;return this.h.then(function(){return _d(g,f.ka(g.a))})},n.Sc=function(f){return zx("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(f)},n.Ab=function(){var f=this;return this.h.then(function(){var g=Pt(f);if(g&&g.isAnonymous){var y=Uu({providerId:null,isNewUser:!1});return Uu({user:g,credential:null,additionalUserInfo:y,operationType:"signIn"})}return _d(f,f.a.Ab()).then(function(w){var I=w.user;return lf(I,"isAnonymous",!0),f.da(I),w})})};function Mn(f){return f.app}function Pt(f){return f.currentUser}n.getUid=function(){return Pt(this)&&Pt(this).uid||null};function sE(f){return Pt(f)&&Pt(f)._lat||null}function $0(f){if(f.ba){for(var g=0;g<f.s.length;g++)f.s[g]&&f.s[g](sE(f));if(f.W!==f.getUid()&&f.N.length)for(f.W=f.getUid(),g=0;g<f.N.length;g++)f.N[g]&&f.N[g](sE(f))}}n.cc=function(f){this.addAuthTokenListener(f),this.u++,0<this.u&&Pt(this)&&dU(Pt(this))},n.Pc=function(f){var g=this;Ht(this.s,function(y){y==f&&g.u--}),0>this.u&&(this.u=0),this.u==0&&Pt(this)&&mN(Pt(this)),this.removeAuthTokenListener(f)},n.addAuthTokenListener=function(f){var g=this;this.s.push(f),br(this,this.h.then(function(){g.l||Z(g.s,f)&&f(sE(g))}))},n.removeAuthTokenListener=function(f){fe(this.s,function(g){return g==f})};function Bge(f,g){f.N.push(g),br(f,f.h.then(function(){!f.l&&Z(f.N,g)&&f.W!==f.getUid()&&(f.W=f.getUid(),g(sE(f)))}))}n.delete=function(){this.l=!0;for(var f=0;f<this.P.length;f++)this.P[f].cancel("app-deleted");return this.P=[],this.i&&(f=this.i,f.b.removeListener(zu("local"),f.a,this.ja)),this.b&&(JL(this.b,this),tE(this.b.b)),Promise.resolve()};function br(f,g){return f.P.push(g),g.oa(function(){re(f.P,g)}),g}n.hc=function(f){return br(this,Vde(this.a,f))},n.Bc=function(f){return!!lL(f)},n.xb=function(f,g){var y=this;return br(this,ht().then(function(){var w=new Tw(g);if(!w.c)throw new L("argument-error",nL+" must be true when sending sign in link to email");return Dw(w)}).then(function(w){return y.a.xb(f,w)}).then(function(){}))},n.jd=function(f){return this.Sa(f).then(function(g){return g.data.email})},n.ob=function(f,g){return br(this,this.a.ob(f,g).then(function(){}))},n.Sa=function(f){return br(this,this.a.Sa(f).then(function(g){return new Qhe(g)}))},n.kb=function(f){return br(this,this.a.kb(f).then(function(){}))},n.wb=function(f,g){var y=this;return br(this,ht().then(function(){return typeof g>"u"||Vs(g)?{}:Dw(new Tw(g))}).then(function(w){return y.a.wb(f,w)}).then(function(){}))},n.Wc=function(f,g){return br(this,iN(this,f,g,T(this.ab,this)))},n.Vc=function(f,g){var y=this;return br(this,ht().then(function(){var w=g||C0(),I=zV(f,w);if(w=lL(w),!w)throw new L("argument-error","Invalid email link!");if(w.tenantId!==y.T())throw new L("tenant-id-mismatch");return y.ab(I)}))};function K0(){}K0.prototype.render=function(){},K0.prototype.reset=function(){},K0.prototype.getResponse=function(){},K0.prototype.execute=function(){};function ev(){this.a={},this.b=1e12}var IN=null;ev.prototype.render=function(f,g){return this.a[this.b.toString()]=new aE(f,g),this.b++},ev.prototype.reset=function(f){var g=xN(this,f);f=LU(f),g&&f&&(g.delete(),delete this.a[f])},ev.prototype.getResponse=function(f){return(f=xN(this,f))?f.getResponse():null},ev.prototype.execute=function(f){(f=xN(this,f))&&f.execute()};function xN(f,g){return(g=LU(g))&&f.a[g]||null}function LU(f){return(f=typeof f>"u"?1e12:f)?f.toString():null}function aE(f,g){this.g=!1,this.c=g,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=p0(f);var y=this;this.i=function(){y.execute()},this.h?this.execute():Da(this.f,"click",this.i)}aE.prototype.getResponse=function(){return LN(this),this.b},aE.prototype.execute=function(){LN(this);var f=this;this.a||(this.a=setTimeout(function(){f.b=zhe();var g=f.c.callback,y=f.c["expired-callback"];if(g)try{g(f.b)}catch{}f.a=setTimeout(function(){if(f.a=null,f.b=null,y)try{y()}catch{}f.h&&f.execute()},6e4)},500))},aE.prototype.delete=function(){LN(this),this.g=!0,clearTimeout(this.a),this.a=null,Ws(this.f,"click",this.i)};function LN(f){if(f.g)throw Error("reCAPTCHA mock was already deleted!")}function NN(){}Ye(NN,"FACTOR_ID","phone");function ON(){}ON.prototype.g=function(){return IN||(IN=new ev),ht(IN)},ON.prototype.c=function(){};var kN=null;function RN(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Hge=new Hu(lw,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vge=new sf(3e4,6e4);RN.prototype.g=function(f){var g=this;return new Gt(function(y,w){var I=setTimeout(function(){w(new L("network-request-failed"))},Vge.get());if(!u.grecaptcha||f!==g.f&&!g.b){u[g.a]=function(){if(u.grecaptcha){g.f=f;var M=u.grecaptcha.render;u.grecaptcha.render=function(z,le){return z=M(z,le),g.b++,z},clearTimeout(I),y(u.grecaptcha)}else clearTimeout(I),w(new L("internal-error"));delete u[g.a]};var R=gx(Hge,{onload:g.a,hl:f||""});ht(EL(R)).o(function(){clearTimeout(I),w(new L("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(I),y(u.grecaptcha)})},RN.prototype.c=function(){this.b--};var PN=null;function MN(f,g,y,w,I,R,M){if(Ye(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=g,this.g=null,M?(kN||(kN=new ON),M=kN):(PN||(PN=new RN),M=PN),this.m=M,this.a=y||{theme:"light",type:"image"},this.h=[],this.a[kU])throw new L("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Wge]==="invisible",!u.document)throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!p0(g)||!this.i&&p0(g).hasChildNodes())throw new L("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Za(f,R||null,I||null),this.u=w||function(){return null};var z=this;this.l=[];var le=this.a[NU];this.a[NU]=function(Ct){if(RU(z,Ct),typeof le=="function")le(Ct);else if(typeof le=="string"){var xn=ur(le,u);typeof xn=="function"&&xn(Ct)}};var be=this.a[OU];this.a[OU]=function(){if(RU(z,null),typeof be=="function")be();else if(typeof be=="string"){var Ct=ur(be,u);typeof Ct=="function"&&Ct()}}}var NU="callback",OU="expired-callback",kU="sitekey",Wge="size";function RU(f,g){for(var y=0;y<f.l.length;y++)try{f.l[y](g)}catch{}}function Uge(f,g){fe(f.l,function(y){return y==g})}function FN(f,g){return f.h.push(g),g.oa(function(){re(f.h,g)}),g}n=MN.prototype,n.Ia=function(){var f=this;return this.f?this.f:this.f=FN(this,ht().then(function(){if(Ew()&&!Xa())return ww();throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return f.m.g(f.u())}).then(function(g){return f.g=g,Qt(f.s,lpe,{})}).then(function(g){f.a[kU]=g.recaptchaSiteKey}).o(function(g){throw f.f=null,g}))},n.render=function(){uE(this);var f=this;return FN(this,this.Ia().then(function(){if(f.c===null){var g=f.v;if(!f.i){var y=p0(g);g=phe("DIV"),y.appendChild(g)}f.c=f.g.render(g,f.a)}return f.c}))},n.verify=function(){uE(this);var f=this;return FN(this,this.render().then(function(g){return new Gt(function(y){var w=f.g.getResponse(g);if(w)y(w);else{var I=function(R){R&&(Uge(f,I),y(R))};f.l.push(I),f.i&&f.g.execute(f.c)}})}))},n.reset=function(){uE(this),this.c!==null&&this.g.reset(this.c)};function uE(f){if(f.J)throw new L("internal-error","RecaptchaVerifier instance has been destroyed.")}n.clear=function(){uE(this),this.J=!0,this.m.c();for(var f=0;f<this.h.length;f++)this.h[f].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){f=p0(this.v);for(var g;g=f.firstChild;)f.removeChild(g)}};function BN(f,g,y){var w=!1;try{this.b=y||tt.app()}catch{throw new L("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)y=this.b.options.apiKey;else throw new L("invalid-api-key");var I=this,R=null;try{R=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}R=tt.SDK_VERSION?Wg(tt.SDK_VERSION,R):null,MN.call(this,y,f,g,function(){try{var M=I.b.auth().la()}catch{M=null}return M},R,$(te),w)}k(BN,MN);function PU(f,g,y,w){e:{y=Array.prototype.slice.call(y);for(var I=0,R=!1,M=0;M<g.length;M++)if(g[M].optional)R=!0;else{if(R)throw new L("internal-error","Argument validator encountered a required argument after an optional argument.");I++}if(R=g.length,y.length<I||R<y.length)w="Expected "+(I==R?I==1?"1 argument":I+" arguments":I+"-"+R+" arguments")+" but got "+y.length+".";else{for(I=0;I<y.length;I++)if(R=g[I].optional&&y[I]===void 0,!g[I].M(y[I])&&!R){if(g=g[I],0>I||I>=MU.length)throw new L("internal-error","Argument validator received an unsupported number of arguments.");y=MU[I],w=(w?"":y+" argument ")+(g.name?'"'+g.name+'" ':"")+"must be "+g.K+".";break e}w=null}}if(w)throw new L("argument-error",f+" failed: "+w)}var MU="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ge(f,g){return{name:f||"",K:"a valid string",optional:!!g,M:function(y){return typeof y=="string"}}}function HN(f,g){return{name:f||"",K:"a boolean",optional:!!g,M:function(y){return typeof y=="boolean"}}}function Ur(f,g){return{name:f||"",K:"a valid object",optional:!!g,M:_}}function tv(f,g){return{name:f||"",K:"a function",optional:!!g,M:function(y){return typeof y=="function"}}}function Gu(f,g){return{name:f||"",K:"null",optional:!!g,M:function(y){return y===null}}}function jge(){return{name:"",K:"an HTML element",optional:!1,M:function(f){return!!(f&&f instanceof Element)}}}function qge(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(f){return!!(f&&f instanceof eu)}}}function zge(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(f){return!!(f&&f instanceof tt.app.App)}}}function cf(f){return{name:f?f+"Credential":"credential",K:f?"a valid "+f+" credential":"a valid credential",optional:!1,M:function(g){if(!g)return!1;var y=!f||g.providerId===f;return!(!g.ka||!y)}}}function FU(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(f){return f?!!f.tb:!1}}}function nv(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(f){return!!(f&&f.providerId&&f.hasOwnProperty&&f.hasOwnProperty("isOAuthProvider"))}}}function VN(f,g){return _(f)&&typeof f.type=="string"&&f.type===g&&typeof f.Ha=="function"}function BU(f){return _(f)&&typeof f.uid=="string"}function lE(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(f){return!(!f||typeof f.type!="string"||typeof f.verify!="function")}}}function Ir(f,g,y,w){return{name:y||"",K:f.K+" or "+g.K,optional:!!w,M:function(I){return f.M(I)||g.M(I)}}}function vr(f,g){for(var y in g){var w=g[y].name;f[w]=VU(w,f[y],g[y].j)}}function HU(f,g){for(var y in g){var w=g[y].name;w!==y&&Object.defineProperty(f,w,{get:N(function(I){return this[I]},y),set:N(function(I,R,M,z){PU(I,[M],[z],!0),this[R]=z},w,y,g[y].lb),enumerable:!0})}}function xr(f,g,y,w){f[g]=VU(g,y,w)}function VU(f,g,y){function w(){var M=Array.prototype.slice.call(arguments);return PU(I,y,M),g.apply(this,M)}if(!y)return g;var I=Gge(f),R;for(R in g)w[R]=g[R];for(R in g.prototype)w.prototype[R]=g.prototype[R];return w}function Gge(f){return f=f.split("."),f[f.length-1]}vr(eu.prototype,{kb:{name:"applyActionCode",j:[Ge("code")]},Sa:{name:"checkActionCode",j:[Ge("code")]},ob:{name:"confirmPasswordReset",j:[Ge("code"),Ge("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ge("email"),Ge("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ge("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ge("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ir(Ur(),tv(),"nextOrObserver"),tv("opt_error",!0),tv("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ir(Ur(),tv(),"nextOrObserver"),tv("opt_error",!0),tv("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ge("email"),Ir(Ur("opt_actionCodeSettings",!0),Gu(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ge("email"),Ur("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ge("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[cf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[cf()]},Tc:{name:"signInWithCustomToken",j:[Ge("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ge("email"),Ge("password")]},Vc:{name:"signInWithEmailLink",j:[Ge("email"),Ge("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ge("phoneNumber"),lE()]},Xc:{name:"signInWithPopup",j:[nv()]},Yc:{name:"signInWithRedirect",j:[nv()]},dd:{name:"updateCurrentUser",j:[Ir(function(f){return{name:"user",K:"an instance of Firebase User",optional:!!f,M:function(g){return!!(g&&g instanceof js)}}}(),Gu(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ge(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ge("url"),Ur("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ge("code")]}}),HU(eu.prototype,{lc:{name:"languageCode",lb:Ir(Ge(),Gu(),"languageCode")},ti:{name:"tenantId",lb:Ir(Ge(),Gu(),"tenantId")}}),eu.Persistence=Kg,eu.Persistence.LOCAL="local",eu.Persistence.SESSION="session",eu.Persistence.NONE="none",vr(js.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[HN("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[HN("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[cf()]},rb:{name:"linkWithCredential",j:[cf()]},Dc:{name:"linkWithPhoneNumber",j:[Ge("phoneNumber"),lE()]},Ec:{name:"linkWithPopup",j:[nv()]},Fc:{name:"linkWithRedirect",j:[nv()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[cf()]},ub:{name:"reauthenticateWithCredential",j:[cf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ge("phoneNumber"),lE()]},Nc:{name:"reauthenticateWithPopup",j:[nv()]},Oc:{name:"reauthenticateWithRedirect",j:[nv()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ir(Ur("opt_actionCodeSettings",!0),Gu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ge(null,!0)]},cd:{name:"unlink",j:[Ge("provider")]},Cb:{name:"updateEmail",j:[Ge("email")]},Db:{name:"updatePassword",j:[Ge("password")]},ed:{name:"updatePhoneNumber",j:[cf("phone")]},Eb:{name:"updateProfile",j:[Ur("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ge("email"),Ir(Ur("opt_actionCodeSettings",!0),Gu(null,!0),"opt_actionCodeSettings",!0)]}}),vr(ev.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vr(K0.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vr(Gt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),HU(oU.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:HN("appVerificationDisabledForTesting")}}),vr(rN.prototype,{confirm:{name:"confirm",j:[Ge("verificationCode")]}}),xr(qg,"fromJSON",function(f){f=typeof f=="string"?JSON.parse(f):f;for(var g,y=[gde,vde,mde,pde],w=0;w<y.length;w++)if(g=y[w](f))return g;return null},[Ir(Ge(),Ur(),"json")]),xr(Ia,"credential",function(f,g){return new af(f,g)},[Ge("email"),Ge("password")]),vr(af.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),vr(cd.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Ur("customOAuthParameters")]}}),xr(cd,"credential",WV,[Ir(Ge(),Ur(),"token")]),xr(Ia,"credentialWithLink",zV,[Ge("email"),Ge("emailLink")]),vr(fd.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Ur("customOAuthParameters")]}}),xr(fd,"credential",UV,[Ir(Ge(),Ur(),"token")]),vr(hd.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Ur("customOAuthParameters")]}}),xr(hd,"credential",jV,[Ir(Ge(),Ir(Ur(),Gu()),"idToken"),Ir(Ge(),Gu(),"accessToken",!0)]),vr(Gg.prototype,{Ka:{name:"setCustomParameters",j:[Ur("customOAuthParameters")]}}),xr(Gg,"credential",qV,[Ir(Ge(),Ur(),"token"),Ge("secret",!0)]),vr(Us.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},credential:{name:"credential",j:[Ir(Ge(),Ir(Ur(),Gu()),"optionsOrIdToken"),Ir(Ge(),Gu(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ur("customOAuthParameters")]}}),vr(Ql.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),vr(ud.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),xr(Zl,"credential",GV,[Ge("verificationId"),Ge("verificationCode")]),vr(Zl.prototype,{gb:{name:"verifyPhoneNumber",j:[Ir(Ge(),function(f,g){return{name:f||"phoneInfoOptions",K:"valid phone info options",optional:!!g,M:function(y){return y?y.session&&y.phoneNumber?VN(y.session,I0)&&typeof y.phoneNumber=="string":y.session&&y.multiFactorHint?VN(y.session,Nw)&&BU(y.multiFactorHint):y.session&&y.multiFactorUid?VN(y.session,Nw)&&typeof y.multiFactorUid=="string":y.phoneNumber?typeof y.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),lE()]}}),vr(uf.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),vr(L.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),vr(L0.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),vr(dL.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),vr(sN.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),vr(oN.prototype,{Rc:{name:"resolveSignIn",j:[FU()]}}),vr(uN.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[FU(),Ge("displayName",!0)]},bd:{name:"unenroll",j:[Ir({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:BU},Ge(),"multiFactorInfoIdentifier")]}}),vr(BN.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xr(tL,"parseLink",EV,[Ge("link")]),xr(NN,"assertion",function(f){return new cU(f)},[cf("phone")]),function(){if(typeof tt<"u"&&tt.INTERNAL&&tt.INTERNAL.registerComponent){var f={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sw,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:eL,VERIFY_AND_CHANGE_EMAIL:D0,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eu,AuthCredential:qg,Error:L};xr(f,"EmailAuthProvider",Ia,[]),xr(f,"FacebookAuthProvider",cd,[]),xr(f,"GithubAuthProvider",fd,[]),xr(f,"GoogleAuthProvider",hd,[]),xr(f,"TwitterAuthProvider",Gg,[]),xr(f,"OAuthProvider",Us,[Ge("providerId")]),xr(f,"SAMLAuthProvider",VV,[Ge("providerId")]),xr(f,"PhoneAuthProvider",Zl,[qge()]),xr(f,"RecaptchaVerifier",BN,[Ir(Ge(),jge(),"recaptchaContainer"),Ur("recaptchaParameters",!0),zge()]),xr(f,"ActionCodeURL",tL,[]),xr(f,"PhoneMultiFactorGenerator",NN,[]),tt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(g){return g=g.getProvider("app").getImmediate(),new eu(g)},multipleInstances:!1,serviceProps:f,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(g){g.getProvider("auth-internal").initialize()}}),tt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(g){return g=g.getProvider("auth").getImmediate(),{getUid:T(g.getUid,g),getToken:T(g.nc,g),addAuthTokenListener:T(g.cc,g),removeAuthTokenListener:T(g.Pc,g)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),tt.registerVersion("@firebase/auth","0.16.8"),tt.INTERNAL.extendNamespace({User:js})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M3=function(n,e){return M3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},M3(n,e)};function Aje(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M3(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Koe(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ije=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,XB=XB||{},Et=Ije||self;function SD(){}function F3(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function tI(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function xje(n){return Object.prototype.hasOwnProperty.call(n,Yk)&&n[Yk]||(n[Yk]=++Lje)}var Yk="closure_uid_"+(1e9*Math.random()>>>0),Lje=0;function Nje(n,e,t){return n.call.apply(n.bind,arguments)}function Oje(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qi(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qi=Nje:Qi=Oje,Qi.apply(null,arguments)}function rS(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function io(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function $h(){this.s=this.s,this.o=this.o}var kje=0;$h.prototype.s=!1;$h.prototype.na=function(){!this.s&&(this.s=!0,this.M(),kje!=0)&&xje(this)};$h.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yoe=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(var t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Xoe=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){for(var r=n.length,i=typeof n=="string"?n.split(""):n,o=0;o<r;o++)o in i&&e.call(t,i[o],o,n)};function Rje(n){e:{for(var e=Dqe,t=n.length,r=typeof n=="string"?n.split(""):n,i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:typeof n=="string"?n.charAt(e):n[e]}function s$(n){return Array.prototype.concat.apply([],arguments)}function QB(n){var e=n.length;if(0<e){for(var t=Array(e),r=0;r<e;r++)t[r]=n[r];return t}return[]}function TD(n){return/^[\s\xa0]*$/.test(n)}var a$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ns(n,e){return n.indexOf(e)!=-1}function Xk(n,e){return n<e?-1:n>e?1:0}var rs;e:{var u$=Et.navigator;if(u$){var l$=u$.userAgent;if(l$){rs=l$;break e}}rs=""}function ZB(n,e,t){for(var r in n)e.call(t,n[r],r,n)}function Qoe(n){var e={};for(var t in n)e[t]=n[t];return e}var c$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zoe(n,e){for(var t,r,i=1;i<arguments.length;i++){r=arguments[i];for(t in r)n[t]=r[t];for(var o=0;o<c$.length;o++)t=c$[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function JB(n){return JB[" "](n),n}JB[" "]=SD;function Pje(n){var e=Bje;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}var Mje=ns(rs,"Opera"),Xm=ns(rs,"Trident")||ns(rs,"MSIE"),Joe=ns(rs,"Edge"),B3=Joe||Xm,ese=ns(rs,"Gecko")&&!(ns(rs.toLowerCase(),"webkit")&&!ns(rs,"Edge"))&&!(ns(rs,"Trident")||ns(rs,"MSIE"))&&!ns(rs,"Edge"),Fje=ns(rs.toLowerCase(),"webkit")&&!ns(rs,"Edge");function tse(){var n=Et.document;return n?n.documentMode:void 0}var DD;e:{var Qk="",Zk=function(){var n=rs;if(ese)return/rv:([^\);]+)(\)|;)/.exec(n);if(Joe)return/Edge\/([\d\.]+)/.exec(n);if(Xm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(Fje)return/WebKit\/(\S+)/.exec(n);if(Mje)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(Zk&&(Qk=Zk?Zk[1]:""),Xm){var Jk=tse();if(Jk!=null&&Jk>parseFloat(Qk)){DD=String(Jk);break e}}DD=Qk}var Bje={};function Hje(){return Pje(function(){for(var n=0,e=a$(String(DD)).split("."),t=a$("9").split("."),r=Math.max(e.length,t.length),i=0;n==0&&i<r;i++){var o=e[i]||"",s=t[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;n=Xk(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Xk(o[2].length==0,s[2].length==0)||Xk(o[2],s[2]),o=o[3],s=s[3]}while(n==0)}return 0<=n})}var H3;if(Et.document&&Xm){var f$=tse();H3=f$||parseInt(DD,10)||void 0}else H3=void 0;var Vje=H3,Wje=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",SD,e),Et.removeEventListener("test",SD,e)}catch{}return n}();function So(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}So.prototype.h=function(){this.defaultPrevented=!0};function b1(n,e){if(So.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ese){e:{try{JB(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Uje[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&b1.Z.h.call(this)}}io(b1,So);var Uje={2:"touch",3:"pen",4:"mouse"};b1.prototype.h=function(){b1.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nI="closure_listenable_"+(1e6*Math.random()|0),jje=0;function qje(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++jje,this.ca=this.fa=!1}function rI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function iI(n){this.src=n,this.g={},this.h=0}iI.prototype.add=function(n,e,t,r,i){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var s=W3(n,e,r,i);return-1<s?(e=n[s],t||(e.fa=!1)):(e=new qje(e,this.src,o,!!r,i),e.fa=t,n.push(e)),e};function V3(n,e){var t=e.type;if(t in n.g){var r=n.g[t],i=Yoe(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(rI(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function W3(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==r)return i}return-1}var e8="closure_lm_"+(1e6*Math.random()|0),eR={};function nse(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)nse(n,e[o],t,r,i);return null}return t=ose(t),n&&n[nI]?n.N(e,t,tI(r)?!!r.capture:!!r,i):zje(n,e,t,!1,r,i)}function zje(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=tI(i)?!!i.capture:!!i,a=n8(n);if(a||(n[e8]=a=new iI(n)),t=a.add(e,t,r,s,o),t.proxy)return t;if(r=Gje(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Wje||(i=s),i===void 0&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ise(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function Gje(){function n(t){return e.call(n.src,n.listener,t)}var e=$je;return n}function rse(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rse(n,e[o],t,r,i);else r=tI(r)?!!r.capture:!!r,t=ose(t),n&&n[nI]?(n=n.i,e=String(e).toString(),e in n.g&&(o=n.g[e],t=W3(o,t,r,i),-1<t&&(rI(o[t]),Array.prototype.splice.call(o,t,1),o.length==0&&(delete n.g[e],n.h--)))):n&&(n=n8(n))&&(e=n.g[e.toString()],n=-1,e&&(n=W3(e,t,r,i)),(t=-1<n?e[n]:null)&&t8(t))}function t8(n){if(typeof n!="number"&&n&&!n.ca){var e=n.src;if(e&&e[nI])V3(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ise(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=n8(e))?(V3(t,n),t.h==0&&(t.src=null,e[e8]=null)):rI(n)}}}function ise(n){return n in eR?eR[n]:eR[n]="on"+n}function $je(n,e){if(n.ca)n=!0;else{e=new b1(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&t8(n),n=t.call(r,e)}return n}function n8(n){return n=n[e8],n instanceof iI?n:null}var tR="__closure_events_fn_"+(1e9*Math.random()>>>0);function ose(n){return typeof n=="function"?n:(n[tR]||(n[tR]=function(e){return n.handleEvent(e)}),n[tR])}function Fi(){$h.call(this),this.i=new iI(this),this.P=this,this.I=null}io(Fi,$h);Fi.prototype[nI]=!0;Fi.prototype.removeEventListener=function(n,e,t,r){rse(this,n,e,t,r)};function Zi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,typeof e=="string")e=new So(e,n);else if(e instanceof So)e.target=e.target||n;else{var i=e;e=new So(r,n),Zoe(e,i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=iS(s,r,!0,e)&&i}if(s=e.g=n,i=iS(s,r,!0,e)&&i,i=iS(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)s=e.g=t[o],i=iS(s,r,!1,e)&&i}Fi.prototype.M=function(){if(Fi.Z.M.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)rI(t[r]);delete n.g[e],n.h--}}this.I=null};Fi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};Fi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function iS(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==t){var a=s.listener,u=s.ia||s.src;s.fa&&V3(n.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var r8=Et.JSON.stringify;function Kje(){var n=ase,e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Yje=function(){function n(){this.h=this.g=null}return n.prototype.add=function(e,t){var r=sse.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r},n}(),sse=new(function(){function n(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return n.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},n}())(function(){return new Xje},function(n){return n.reset()}),Xje=function(){function n(){this.next=this.g=this.h=null}return n.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},n.prototype.reset=function(){this.next=this.g=this.h=null},n}();function Qje(n){Et.setTimeout(function(){throw n},0)}function i8(n,e){U3||Zje(),j3||(U3(),j3=!0),ase.add(n,e)}var U3;function Zje(){var n=Et.Promise.resolve(void 0);U3=function(){n.then(Jje)}}var j3=!1,ase=new Yje;function Jje(){for(var n;n=Kje();){try{n.h.call(n.g)}catch(t){Qje(t)}var e=sse;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}j3=!1}function oI(n,e){Fi.call(this),this.h=n||1,this.g=e||Et,this.j=Qi(this.kb,this),this.l=Date.now()}io(oI,Fi);je=oI.prototype;je.da=!1;je.S=null;je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zi(this,"tick"),this.da&&(o8(this),this.start()))}};je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function o8(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}je.M=function(){oI.Z.M.call(this),o8(this),delete this.g};function s8(n,e,t){if(typeof n=="function")t&&(n=Qi(n,t));else if(n&&typeof n.handleEvent=="function")n=Qi(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function use(n){n.g=s8(function(){n.g=null,n.i&&(n.i=!1,use(n))},n.j);var e=n.h;n.h=null,n.m.apply(null,e)}var eqe=function(n){Aje(e,n);function e(t,r){var i=n.call(this)||this;return i.m=t,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:use(this)},e.prototype.M=function(){n.prototype.M.call(this),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}($h);function C1(n){$h.call(this),this.h=n,this.g={}}io(C1,$h);var h$=[];function lse(n,e,t,r){Array.isArray(t)||(t&&(h$[0]=t.toString()),t=h$);for(var i=0;i<t.length;i++){var o=nse(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function cse(n){ZB(n.g,function(e,t){this.g.hasOwnProperty(t)&&t8(e)},n),n.g={}}C1.prototype.M=function(){C1.Z.M.call(this),cse(this)};C1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sI(){this.g=!0}sI.prototype.Aa=function(){this.g=!1};function tqe(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+t+`
`+s})}function nqe(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+t+`
`+o+" "+s})}function Yv(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+iqe(n,t)+(r?" "+r:"")})}function rqe(n,e){n.info(function(){return"TIMEOUT: "+e})}sI.prototype.info=function(){};function iqe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return r8(t)}catch{return e}}var wg={},d$=null;function aI(){return d$=d$||new Fi}wg.Ma="serverreachability";function fse(n){So.call(this,wg.Ma,n)}io(fse,So);function w1(n){var e=aI();Zi(e,new fse(e))}wg.STAT_EVENT="statevent";function hse(n,e){So.call(this,wg.STAT_EVENT,n),this.stat=e}io(hse,So);function ls(n){var e=aI();Zi(e,new hse(e,n))}wg.Na="timingevent";function dse(n,e){So.call(this,wg.Na,n),this.size=e}io(dse,So);function RC(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}var uI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pse={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function a8(){}a8.prototype.h=null;function p$(n){return n.h||(n.h=n.i())}function gse(){}var PC={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function u8(){So.call(this,"d")}io(u8,So);function l8(){So.call(this,"c")}io(l8,So);var q3;function lI(){}io(lI,a8);lI.prototype.g=function(){return new XMLHttpRequest};lI.prototype.i=function(){return{}};q3=new lI;function MC(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new C1(this),this.P=oqe,n=B3?125:void 0,this.W=new oI(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vse}function vse(){this.i=null,this.g="",this.h=!1}var oqe=45e3,z3={},AD={};je=MC.prototype;je.setTimeout=function(n){this.P=n};function G3(n,e,t){n.K=1,n.v=fI(jc(e)),n.s=t,n.U=!0,mse(n,null)}function mse(n,e){n.F=Date.now(),FC(n),n.A=jc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Sse(t.h,"t",r),n.C=0,t=n.l.H,n.h=new vse,n.g=qse(n.l,t?e:null,!n.s),0<n.O&&(n.L=new eqe(Qi(n.Ia,n,n.g),n.O)),lse(n.V,n.g,"readystatechange",n.gb),e=n.H?Qoe(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),w1(),tqe(n.j,n.u,n.A,n.m,n.X,n.s)}je.gb=function(n){n=n.target;var e=this.L;e&&Sc(n)==3?e.l():this.Ia(n)};je.Ia=function(n){try{if(n==this.g)e:{var e=Sc(this.g),t=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||B3||this.g&&(this.h.h||this.g.ga()||_$(this.g)))){this.I||e!=4||t==7||(t==8||0>=r?w1(3):w1(2)),cI(this);var i=this.g.ba();this.N=i;t:if(_se(this)){var o=_$(this.g);n="";var s=o.length,a=Sc(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lp(this),hb(this);var u="";break t}this.h.i=new Et.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(o[t],{stream:a&&t==s-1});o.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,nqe(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!TD(l)){var h=l;break t}}h=null}if(i=h)Yv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$3(this,i);else{this.i=!1,this.o=3,ls(12),lp(this),hb(this);break e}}this.U?(yse(this,e,u),B3&&this.i&&e==3&&(lse(this.V,this.W,"tick",this.fb),this.W.start())):(Yv(this.j,this.m,u,null),$3(this,u)),e==4&&lp(this),this.i&&!this.I&&(e==4?Vse(this.l,this):(this.i=!1,FC(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),lp(this),hb(this)}}}catch{}finally{}};function _se(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Ba:!1}function yse(n,e,t){for(var r=!0,i;!n.I&&n.C<t.length;)if(i=sqe(n,t),i==AD){e==4&&(n.o=4,ls(14),r=!1),Yv(n.j,n.m,null,"[Incomplete Response]");break}else if(i==z3){n.o=4,ls(15),Yv(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else Yv(n.j,n.m,i,null),$3(n,i);_se(n)&&i!=AD&&i!=z3&&(n.h.g="",n.C=0),e!=4||t.length!=0||n.h.h||(n.o=1,ls(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,e=n.l,e.g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),_8(e),e.L=!0,ls(11))):(Yv(n.j,n.m,t,"[Invalid Chunked Response]"),lp(n),hb(n))}je.fb=function(){if(this.g){var n=Sc(this.g),e=this.g.ga();this.C<e.length&&(cI(this),yse(this,n,e),this.i&&n!=4&&FC(this))}};function sqe(n,e){var t=n.C,r=e.indexOf(`
`,t);return r==-1?AD:(t=Number(e.substring(t,r)),isNaN(t)?z3:(r+=1,r+t>e.length?AD:(e=e.substr(r,t),n.C=r+t,e)))}je.cancel=function(){this.I=!0,lp(this)};function FC(n){n.Y=Date.now()+n.P,bse(n,n.P)}function bse(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=RC(Qi(n.eb,n),e)}function cI(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}je.eb=function(){this.B=null;var n=Date.now();0<=n-this.Y?(rqe(this.j,this.A),this.K!=2&&(w1(),ls(17)),lp(this),this.o=2,hb(this)):bse(this,this.Y-n)};function hb(n){n.l.G==0||n.I||Vse(n.l,n)}function lp(n){cI(n);var e=n.L;e&&typeof e.na=="function"&&e.na(),n.L=null,o8(n.W),cse(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function $3(n,e){try{var t=n.l;if(t.G!=0&&(t.g==n||K3(t.i,n))){if(t.I=n.N,!n.J&&K3(t.i,n)&&t.G==3){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!t.u){if(t.g)if(t.g.F+3e3<n.F)ND(t),pI(t);else break e;m8(t),ls(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&t.A==0&&!t.v&&(t.v=RC(Qi(t.ab,t),6e3));if(1>=Ase(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else cp(t,11)}else if((n.J||t.g==n)&&ND(t),!TD(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(t.U=o[0],o=o[1],t.G==2)if(o[0]=="c"){t.J=o[1],t.la=o[2];var s=o[3];s!=null&&(t.ma=s,t.h.info("VER="+t.ma));var a=o[4];a!=null&&(t.za=a,t.h.info("SVER="+t.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,t.K=r,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;var l=n.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(ns(c,"spdy")||ns(c,"quic")||ns(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(h8(h,h.h),h.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,fr(r.F,r.D,d))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms")),r=t;var p=n;if(r.oa=jse(r,r.H?r.la:null,r.W),p.J){Ise(r.i,p);var v=p,m=r.K;m&&v.setTimeout(m),v.B&&(cI(v),FC(v)),r.g=p}else Bse(r);0<t.l.length&&gI(t)}else o[0]!="stop"&&o[0]!="close"||cp(t,7);else t.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?cp(t,7):v8(t):o[0]!="noop"&&t.j&&t.j.wa(o),t.A=0)}}w1(4)}catch{}}function aqe(n){if(n.R&&typeof n.R=="function")return n.R();if(typeof n=="string")return n.split("");if(F3(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function c8(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(F3(n)||typeof n=="string")Xoe(n,e,void 0);else{if(n.T&&typeof n.T=="function")var t=n.T();else if(n.R&&typeof n.R=="function")t=void 0;else if(F3(n)||typeof n=="string"){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=aqe(n),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}}function K_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof K_)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}je=K_.prototype;je.R=function(){f8(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n};je.T=function(){return f8(this),this.g.concat()};function f8(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];$p(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)r=n.g[e],$p(i,r)||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}je.get=function(n,e){return $p(this.h,n)?this.h[n]:e};je.set=function(n,e){$p(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e};je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],o=this.get(i);n.call(e,o,i,this)}};function $p(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var Cse=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uqe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Kp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Kp){this.g=e!==void 0?e:n.g,ID(this,n.j),this.s=n.s,xD(this,n.i),LD(this,n.m),this.l=n.l,e=n.h;var t=new E1;t.i=e.i,e.g&&(t.g=new K_(e.g),t.h=e.h),g$(this,t),this.o=n.o}else n&&(t=String(n).match(Cse))?(this.g=!!e,ID(this,t[1]||"",!0),this.s=db(t[2]||""),xD(this,t[3]||"",!0),LD(this,t[4]),this.l=db(t[5]||"",!0),g$(this,t[6]||"",!0),this.o=db(t[7]||"")):(this.g=!!e,this.h=new E1(null,this.g))}Kp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(By(e,v$,!0),":");var t=this.i;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(By(e,v$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.i&&t.charAt(0)!="/"&&n.push("/"),n.push(By(t,t.charAt(0)=="/"?dqe:hqe,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",By(t,gqe)),n.join("")};function jc(n){return new Kp(n)}function ID(n,e,t){n.j=t?db(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xD(n,e,t){n.i=t?db(e,!0):e}function LD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function g$(n,e,t){e instanceof E1?(n.h=e,vqe(n.h,n.g)):(t||(e=By(e,pqe)),n.h=new E1(e,n.g))}function fr(n,e,t){n.h.set(e,t)}function fI(n){return fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lqe(n){return n instanceof Kp?jc(n):new Kp(n,void 0)}function cqe(n,e,t,r){var i=new Kp(null,void 0);return n&&ID(i,n),e&&xD(i,e),t&&LD(i,t),r&&(i.l=r),i}function db(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function By(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,fqe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fqe(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var v$=/[#\/\?@]/g,hqe=/[#\?:]/g,dqe=/[#\?]/g,pqe=/[#\?@]/g,gqe=/#/g;function E1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kh(n){n.g||(n.g=new K_,n.h=0,n.i&&uqe(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}je=E1.prototype;je.add=function(n,e){Kh(this),this.i=null,n=Y_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function wse(n,e){Kh(n),e=Y_(n,e),$p(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,n=n.g,$p(n.h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&f8(n)))}function Ese(n,e){return Kh(n),e=Y_(n,e),$p(n.g.h,e)}je.forEach=function(n,e){Kh(this),this.g.forEach(function(t,r){Xoe(t,function(i){n.call(e,i,r,this)},this)},this)};je.T=function(){Kh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],o=0;o<i.length;o++)t.push(e[r]);return t};je.R=function(n){Kh(this);var e=[];if(typeof n=="string")Ese(this,n)&&(e=s$(e,this.g.get(Y_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=s$(e,n[t])}return e};je.set=function(n,e){return Kh(this),this.i=null,n=Y_(this,n),Ese(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};je.get=function(n,e){return n?(n=this.R(n),0<n.length?String(n[0]):e):e};function Sse(n,e,t){wse(n,e),0<t.length&&(n.i=null,n.g.set(Y_(n,e),QB(t)),n.h+=t.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),n.push(s)}}return this.i=n.join("&")};function Y_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vqe(n,e){e&&!n.j&&(Kh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wse(this,r),Sse(this,i,t))},n)),n.j=e}var mqe=function(){function n(e,t){this.h=e,this.g=t}return n}();function Tse(n){this.l=n||_qe,Et.PerformanceNavigationTiming?(n=Et.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _qe=10;function Dse(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function Ase(n){return n.h?1:n.g?n.g.size:0}function K3(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function h8(n,e){n.g?n.g.add(e):n.h=e}function Ise(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}Tse.prototype.cancel=function(){var n,e;if(this.i=xse(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var t=Koe(this.g.values()),r=t.next();!r.done;r=t.next()){var i=r.value;i.cancel()}}catch(o){n={error:o}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}this.g.clear()}};function xse(n){var e,t;if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){var r=n.i;try{for(var i=Koe(n.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}return QB(n.i)}function d8(){}d8.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)};d8.prototype.parse=function(n){return Et.JSON.parse(n,void 0)};function yqe(){this.g=new d8}function bqe(n,e,t){var r=t||"";try{c8(n,function(i,o){var s=i;tI(i)&&(s=r8(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cqe(n,e){var t=new sI;if(Et.Image){var r=new Image;r.onload=rS(oS,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rS(oS,t,r,"TestLoadImage: error",!1,e),r.onabort=rS(oS,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rS(oS,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function oS(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function BC(n){this.l=n.$b||null,this.j=n.ib||!1}io(BC,a8);BC.prototype.g=function(){return new hI(this.l,this.j)};BC.prototype.i=function(n){return function(){return n}}({});function hI(n,e){Fi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=p8,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}io(hI,Fi);var p8=0;je=hI.prototype;je.open=function(n,e){if(this.readyState!=p8)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,S1(this)};je.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,HC(this)),this.readyState=p8};je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,S1(this)),this.g&&(this.readyState=3,S1(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lse(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))};function Lse(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?HC(this):S1(this),this.readyState==3&&Lse(this)}};je.Ua=function(n){this.g&&(this.response=this.responseText=n,HC(this))};je.Ta=function(n){this.g&&(this.response=n,HC(this))};je.ha=function(){this.g&&HC(this)};function HC(n){n.readyState=4,n.l=null,n.j=null,n.A=null,S1(n)}je.setRequestHeader=function(n,e){this.v.append(n,e)};je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";for(var n=[],e=this.h.entries(),t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function S1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(hI.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var wqe=Et.JSON.parse;function Zr(n){Fi.call(this),this.headers=new K_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nse,this.K=this.L=!1}io(Zr,Fi);var Nse="",Eqe=/^https?$/i,Sqe=["POST","PUT"];je=Zr.prototype;je.ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():q3.g(),this.C=this.u?p$(this.u):p$(q3),this.g.onreadystatechange=Qi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){m$(this,o);return}n=t||"";var i=new K_(this.headers);r&&c8(r,function(o,s){i.set(s,o)}),r=Rje(i.T()),t=Et.FormData&&n instanceof Et.FormData,!(0<=Yoe(Sqe,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rse(this),0<this.B&&((this.K=Tqe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qi(this.pa,this)):this.A=s8(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){m$(this,o)}};function Tqe(n){return Xm&&Hje()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}function Dqe(n){return n.toLowerCase()=="content-type"}je.pa=function(){typeof XB<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zi(this,"timeout"),this.abort(8))};function m$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ose(n),dI(n)}function Ose(n){n.D||(n.D=!0,Zi(n,"complete"),Zi(n,"error"))}je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zi(this,"complete"),Zi(this,"abort"),dI(this))};je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dI(this,!0)),Zr.Z.M.call(this)};je.Fa=function(){this.s||(this.F||this.v||this.l?kse(this):this.cb())};je.cb=function(){kse(this)};function kse(n){if(n.h&&typeof XB<"u"&&(!n.C[1]||Sc(n)!=4||n.ba()!=2)){if(n.v&&Sc(n)==4)s8(n.Fa,0,n);else if(Zi(n,"readystatechange"),Sc(n)==4){n.h=!1;try{var e=n.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=e===0){var o=String(n.H).match(Cse)[1]||null;if(!o&&Et.self&&Et.self.location){var s=Et.self.location.protocol;o=s.substr(0,s.length-1)}i=!Eqe.test(o?o.toLowerCase():"")}r=i}if(r)Zi(n,"complete"),Zi(n,"success");else{n.m=6;try{var a=2<Sc(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.ba()+"]",Ose(n)}}finally{dI(n)}}}}function dI(n,e){if(n.g){Rse(n);var t=n.g,r=n.C[0]?SD:null;n.g=null,n.C=null,e||Zi(n,"ready");try{t.onreadystatechange=r}catch{}}}function Rse(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Sc(n){return n.g?n.g.readyState:0}je.ba=function(){try{return 2<Sc(this)?this.g.status:-1}catch{return-1}};je.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),wqe(e)}};function _$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Nse:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}je.Da=function(){return this.m};je.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Aqe(n){var e="";return ZB(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function g8(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Aqe(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):fr(n,e,t))}function Ey(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Pse(n){this.za=0,this.l=[],this.h=new sI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ey("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ey("baseRetryDelayMs",5e3,n),this.$a=Ey("retryDelaySeedMs",1e4,n),this.Ya=Ey("forwardChannelMaxRetries",2,n),this.ra=Ey("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Tse(n&&n.concurrentRequestLimit),this.Ca=new yqe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||n.Xb!==!1}je=Pse.prototype;je.ma=8;je.G=1;function v8(n){if(Mse(n),n.G==3){var e=n.V++,t=jc(n.F);fr(t,"SID",n.J),fr(t,"RID",e),fr(t,"TYPE","terminate"),VC(n,t),e=new MC(n,n.h,e,void 0),e.K=2,e.v=fI(jc(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&(new Image().src=e.v,t=!0),t||(e.g=qse(e.l,null),e.g.ea(e.v)),e.F=Date.now(),FC(e)}Use(n)}je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}};function pI(n){n.g&&(_8(n),n.g.cancel(),n.g=null)}function Mse(n){pI(n),n.u&&(Et.clearTimeout(n.u),n.u=null),ND(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Et.clearTimeout(n.m),n.m=null)}function nR(n,e){n.l.push(new mqe(n.Za++,e)),n.G==3&&gI(n)}function gI(n){Dse(n.i)||n.m||(n.m=!0,i8(n.Ha,n),n.C=0)}function Iqe(n,e){return Ase(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.l=e.D.concat(n.l),!0):n.G==1||n.G==2||n.C>=(n.Xa?0:n.Ya)?!1:(n.m=RC(Qi(n.Ha,n,e),Wse(n,n.C)),n.C++,!0)}je.Ha=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;var e=new MC(this,this.h,n,void 0),t=this.s;if(this.P&&(t?(t=Qoe(t),Zoe(t,this.P)):t=this.P),this.o===null&&(e.H=t),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fse(this,e,r),i=jc(this.F),fr(i,"RID",n),fr(i,"CVER",22),this.D&&fr(i,"X-HTTP-Session-Id",this.D),VC(this,i),this.o&&t&&g8(i,this.o,t),h8(this.i,e),this.Ra&&fr(i,"TYPE","init"),this.ja?(fr(i,"$req",r),fr(i,"SID","null"),e.$=!0,G3(e,i,null)):G3(e,i,r),this.G=2}}else this.G==3&&(n?y$(this,n):this.l.length==0||Dse(this.i)||y$(this))};function y$(n,e){var t;e?t=e.m:t=n.V++;var r=jc(n.F);fr(r,"SID",n.J),fr(r,"RID",t),fr(r,"AID",n.U),VC(n,r),n.o&&n.s&&g8(r,n.o,n.s),t=new MC(n,n.h,t,n.C+1),n.o===null&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Fse(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),h8(n.i,t),G3(t,r,e)}function VC(n,e){n.j&&c8({},function(t,r){fr(e,r,t)})}function Fse(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Qi(n.j.Oa,n.j,n):null;e:for(var i=n.l,o=-1;;){var s=["count="+t];o==-1?0<t?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<t;u++){var l=i[u].h,c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{bqe(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}return n=n.l.splice(0,t),e.D=n,r}function Bse(n){n.g||n.u||(n.Y=1,i8(n.Ga,n),n.A=0)}function m8(n){return n.g||n.u||3<=n.A?!1:(n.Y++,n.u=RC(Qi(n.Ga,n),Wse(n,n.A)),n.A++,!0)}je.Ga=function(){if(this.u=null,Hse(this),this.$&&!(this.L||this.g==null||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=RC(Qi(this.bb,this),n)}};je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ls(10),pI(this),Hse(this))};function _8(n){n.B!=null&&(Et.clearTimeout(n.B),n.B=null)}function Hse(n){n.g=new MC(n,n.h,"rpc",n.Y),n.o===null&&(n.g.H=n.s),n.g.O=0;var e=jc(n.oa);fr(e,"RID","rpc"),fr(e,"SID",n.J),fr(e,"CI",n.N?"0":"1"),fr(e,"AID",n.U),VC(n,e),fr(e,"TYPE","xmlhttp"),n.o&&n.s&&g8(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=fI(jc(e)),t.s=null,t.U=!0,mse(t,n)}je.ab=function(){this.v!=null&&(this.v=null,pI(this),m8(this),ls(19))};function ND(n){n.v!=null&&(Et.clearTimeout(n.v),n.v=null)}function Vse(n,e){var t=null;if(n.g==e){ND(n),_8(n),n.g=null;var r=2}else if(K3(n.i,e))t=e.D,Ise(n.i,e),r=1;else return;if(n.I=e.N,n.G!=0){if(e.i)if(r==1){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;r=aI(),Zi(r,new dse(r,t)),gI(n)}else Bse(n);else if(i=e.o,i==3||i==0&&0<n.I||!(r==1&&Iqe(n,e)||r==2&&m8(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:cp(n,5);break;case 4:cp(n,10);break;case 3:cp(n,6);break;default:cp(n,2)}}}function Wse(n,e){var t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function cp(n,e){if(n.h.info("Error code "+e),e==2){var t=null;n.j&&(t=null);var r=Qi(n.jb,n);t||(t=new Kp("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||ID(t,"https"),fI(t)),Cqe(t.toString(),r)}else ls(2);n.G=0,n.j&&n.j.va(e),Use(n),Mse(n)}je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ls(2)):(this.h.info("Failed to ping google.com"),ls(1))};function Use(n){n.G=0,n.I=-1,n.j&&((xse(n.i).length!=0||n.l.length!=0)&&(n.i.i.length=0,QB(n.l),n.l.length=0),n.j.ua())}function jse(n,e,t){var r=lqe(t);if(r.i!="")e&&xD(r,e+"."+r.i),LD(r,r.m);else{var i=Et.location;r=cqe(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&ZB(n.aa,function(o,s){fr(r,s,o)}),e=n.D,t=n.sa,e&&t&&fr(r,e,t),fr(r,"VER",n.ma),VC(n,r),r}function qse(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&n.Ba&&!n.qa?new Zr(new BC({ib:!0})):new Zr(n.qa),e.L=n.H,e}function zse(){}je=zse.prototype;je.xa=function(){};je.wa=function(){};je.va=function(){};je.ua=function(){};je.Oa=function(){};function OD(){if(Xm&&!(10<=Number(Vje)))throw Error("Environmental error: no available transport.")}OD.prototype.g=function(n,e){return new Ca(n,e)};function Ca(n,e){Fi.call(this),this.g=new Pse(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!TD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!TD(e)&&(this.g.D=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new X_(this)}io(Ca,Fi);Ca.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),i8(Qi(n.hb,n,e))),ls(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=jse(n,null,n.W),gI(n)};Ca.prototype.close=function(){v8(this.g)};Ca.prototype.u=function(n){if(typeof n=="string"){var e={};e.__data__=n,nR(this.g,e)}else this.v?(e={},e.__data__=r8(n),nR(this.g,e)):nR(this.g,n)};Ca.prototype.M=function(){this.g.j=null,delete this.j,v8(this.g),delete this.g,Ca.Z.M.call(this)};function Gse(n){u8.call(this);var e=n.__sm__;if(e){e:{for(var t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}io(Gse,u8);function $se(){l8.call(this),this.status=1}io($se,l8);function X_(n){this.g=n}io(X_,zse);X_.prototype.xa=function(){Zi(this.g,"a")};X_.prototype.wa=function(n){Zi(this.g,new Gse(n))};X_.prototype.va=function(n){Zi(this.g,new $se)};X_.prototype.ua=function(){Zi(this.g,"b")};OD.prototype.createWebChannel=OD.prototype.g;Ca.prototype.send=Ca.prototype.u;Ca.prototype.open=Ca.prototype.m;Ca.prototype.close=Ca.prototype.close;uI.NO_ERROR=0;uI.TIMEOUT=8;uI.HTTP_ERROR=6;pse.COMPLETE="complete";gse.EventType=PC;PC.OPEN="a";PC.CLOSE="b";PC.ERROR="c";PC.MESSAGE="d";Fi.prototype.listen=Fi.prototype.N;Zr.prototype.listenOnce=Zr.prototype.O;Zr.prototype.getLastError=Zr.prototype.La;Zr.prototype.getLastErrorCode=Zr.prototype.Da;Zr.prototype.getStatus=Zr.prototype.ba;Zr.prototype.getResponseJson=Zr.prototype.Qa;Zr.prototype.getResponseText=Zr.prototype.ga;Zr.prototype.send=Zr.prototype.ea;var xqe=function(){return new OD},Lqe=function(){return aI()},rR=uI,Nqe=pse,Oqe=wg,b$={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kqe=BC,sS=gse,Rqe=Zr,Pqe={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la=function(){function n(e,t){var r=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return t.writeSequenceNumber(i)})}return n.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},n.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},n}();la.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=function(n){function e(t,r){var i=this;return(i=n.call(this,r)||this).code=t,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Fe(e,n),e}(Error),Su=new og("@firebase/firestore");function Y3(){return Su.logLevel}function xe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Su.logLevel<=zt.DEBUG){var r=e.map(y8);Su.debug.apply(Su,Vt(["Firestore (8.10.1): "+n],r))}}function Yr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Su.logLevel<=zt.ERROR){var r=e.map(y8);Su.error.apply(Su,Vt(["Firestore (8.10.1): "+n],r))}}function T1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Su.logLevel<=zt.WARN){var r=e.map(y8);Su.warn.apply(Su,Vt(["Firestore (8.10.1): "+n],r))}}function y8(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch{return n}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n){n===void 0&&(n="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+n;throw Yr(e),new Error(e)}function _t(n,e){n||it()}function Me(n,e){return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mqe(n){var e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(var r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kse=function(){function n(){}return n.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=Mqe(40),o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length));return r},n}();function Zt(n,e){return n<e?-1:n>e?1:0}function Qm(n,e,t){return n.length===e.length&&n.every(function(r,i){return t(r,e[i])})}function Yse(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Os=function(){function n(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return n.now=function(){return n.fromMillis(Date.now())},n.fromDate=function(e){return n.fromMillis(e.getTime())},n.fromMillis=function(e){var t=Math.floor(e/1e3);return new n(t,Math.floor(1e6*(e-1e3*t)))},n.prototype.toDate=function(){return new Date(this.toMillis())},n.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},n.prototype._compareTo=function(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)},n.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},n.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},n.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},n.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},n}(),jt=function(){function n(e){this.timestamp=e}return n.fromTimestamp=function(e){return new n(e)},n.min=function(){return new n(new Os(0,0))},n.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},n.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},n.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},n.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},n.prototype.toTimestamp=function(){return this.timestamp},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(n){var e=0;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Eg(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Xse(n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qse=function(){function n(e,t,r){t===void 0?t=0:t>e.length&&it(),r===void 0?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}return Object.defineProperty(n.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return n.comparator(this,e)===0},n.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(function(r){t.push(r)}):t.push(e),this.construct(t)},n.prototype.limit=function(){return this.offset+this.length},n.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},n.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},n.prototype.firstSegment=function(){return this.segments[this.offset]},n.prototype.lastSegment=function(){return this.get(this.length-1)},n.prototype.get=function(e){return this.segments[this.offset+e]},n.prototype.isEmpty=function(){return this.length===0},n.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},n.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},n.prototype.forEach=function(e){for(var t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])},n.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},n.comparator=function(e,t){for(var r=Math.min(e.length,t.length),i=0;i<r;i++){var o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0},n}(),gn=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.construct=function(t,r,i){return new e(t,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new we(se.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(Qse),Fqe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ou=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.construct=function(t,r,i){return new e(t,r,i)},e.isValidIdentifier=function(t){return Fqe.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new we(se.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<t.length;){var u=t[o];if(u==="\\"){if(o+1===t.length)throw new we(se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new we(se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(r)},e.emptyPath=function(){return new e([])},e}(Qse),Zm=function(){function n(e){this.fields=e,e.sort(Ou.comparator)}return n.prototype.covers=function(e){for(var t=0,r=this.fields;t<r.length;t++)if(r[t].isPrefixOf(e))return!0;return!1},n.prototype.isEqual=function(e){return Qm(this.fields,e.fields,function(t,r){return t.isEqual(r)})},n}(),fs=function(){function n(e){this.binaryString=e}return n.fromBase64String=function(e){return new n(atob(e))},n.fromUint8Array=function(e){return new n(function(t){for(var r="",i=0;i<t.length;++i)r+=String.fromCharCode(t[i]);return r}(e))},n.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},n.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)},n.prototype.approximateByteSize=function(){return 2*this.binaryString.length},n.prototype.compareTo=function(e){return Zt(this.binaryString,e.binaryString)},n.prototype.isEqual=function(e){return this.binaryString===e.binaryString},n}();fs.EMPTY_BYTE_STRING=new fs("");var Bqe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ih(n){if(_t(!!n),typeof n=="string"){var e=0,t=Bqe.exec(n);if(_t(!!t),t[1]){var r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jm(n){return typeof n=="string"?fs.fromBase64String(n):fs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Zse(n){var e=n.mapValue.fields.__previous_value__;return b8(e)?Zse(e):e}function D1(n){var e=Ih(n.mapValue.fields.__local_write_time__.timestampValue);return new Os(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n){return n==null}function kD(n){return n===0&&1/n==-1/0}function Jse(n){return typeof n=="number"&&Number.isInteger(n)&&!kD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct=function(){function n(e){this.path=e}return n.fromPath=function(e){return new n(gn.fromString(e))},n.fromName=function(e){return new n(gn.fromString(e).popFirst(5))},n.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},n.prototype.isEqual=function(e){return e!==null&&gn.comparator(this.path,e.path)===0},n.prototype.toString=function(){return this.path.toString()},n.comparator=function(e,t){return gn.comparator(e.path,t.path)},n.isDocumentKey=function(e){return e.length%2==0},n.fromSegments=function(e){return new n(new gn(e.slice()))},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b8(n)?4:10:it()}function Ml(n,e){var t=Yp(n);if(t!==Yp(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return D1(n).isEqual(D1(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Ih(r.timestampValue),s=Ih(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,i){return Jm(r.bytesValue).isEqual(Jm(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Gr(r.geoPointValue.latitude)===Gr(i.geoPointValue.latitude)&&Gr(r.geoPointValue.longitude)===Gr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gr(r.integerValue)===Gr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Gr(r.doubleValue),s=Gr(i.doubleValue);return o===s?kD(o)===kD(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Qm(n.arrayValue.values||[],e.arrayValue.values||[],Ml);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(C$(o)!==C$(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Ml(o[a],s[a])))return!1;return!0}(n,e);default:return it()}}function A1(n,e){return(n.values||[]).find(function(t){return Ml(t,e)})!==void 0}function e_(n,e){var t=Yp(n),r=Yp(e);if(t!==r)return Zt(t,r);switch(t){case 0:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,o){var s=Gr(i.integerValue||i.doubleValue),a=Gr(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return w$(n.timestampValue,e.timestampValue);case 4:return w$(D1(n),D1(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,o){var s=Jm(i),a=Jm(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var l=Zt(s[u],a[u]);if(l!==0)return l}return Zt(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){var s=Zt(Gr(i.latitude),Gr(o.latitude));return s!==0?s:Zt(Gr(i.longitude),Gr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var l=e_(s[u],a[u]);if(l)return l}return Zt(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(var c=0;c<a.length&&c<l.length;++c){var h=Zt(a[c],l[c]);if(h!==0)return h;var d=e_(s[a[c]],u[l[c]]);if(d!==0)return d}return Zt(a.length,l.length)}(n.mapValue,e.mapValue);default:throw it()}}function w$(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Zt(n,e);var t=Ih(n),r=Ih(e),i=Zt(t.seconds,r.seconds);return i!==0?i:Zt(t.nanos,r.nanos)}function C8(n){return X3(n)}function X3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){var i=Ih(r);return"time("+i.seconds+","+i.nanos+")"}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jm(n.bytesValue).toBase64():"referenceValue"in n?(t=n.referenceValue,ct.fromName(t).toString()):"geoPointValue"in n?"geo("+(e=n.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in n?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=X3(a[s]);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+X3(r.fields[u])}return i+"}"}(n.mapValue):it();var e,t}function RD(n,e){return{referenceValue:"projects/"+n.projectId+"/databases/"+n.database+"/documents/"+e.path.canonicalString()}}function Q3(n){return!!n&&"integerValue"in n}function w8(n){return!!n&&"arrayValue"in n}function E$(n){return!!n&&"nullValue"in n}function S$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $S(n){return!!n&&"mapValue"in n}function pb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){var e={mapValue:{fields:{}}};return Eg(n.mapValue.fields,function(i,o){return e.mapValue.fields[i]=pb(o)}),e}if(n.arrayValue){for(var t={arrayValue:{values:[]}},r=0;r<(n.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=pb(n.arrayValue.values[r]);return t}return Object.assign({},n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oa=function(){function n(e){this.value=e}return n.empty=function(){return new n({mapValue:{}})},n.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,r=0;r<e.length-1;++r)if(!$S(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},n.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pb(t)},n.prototype.setAll=function(e){var t=this,r=Ou.emptyPath(),i={},o=[];e.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var l=t.getFieldsMap(r);t.applyChanges(l,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=pb(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},n.prototype.delete=function(e){var t=this.field(e.popLast());$S(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},n.prototype.isEqual=function(e){return Ml(this.value,e.value)},n.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=t.mapValue.fields[e.get(r)];$S(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields},n.prototype.applyChanges=function(e,t,r){Eg(t,function(a,u){return e[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete e[s]}},n.prototype.clone=function(){return new n(pb(this.value))},n}();function eae(n){var e=[];return Eg(n.fields,function(t,r){var i=new Ou([t]);if($S(r)){var o=eae(r.mapValue).fields;if(o.length===0)e.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];e.push(i.child(u))}}else e.push(i)}),new Zm(e)}var eo=function(){function n(e,t,r,i,o){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=o}return n.newInvalidDocument=function(e){return new n(e,0,jt.min(),oa.empty(),0)},n.newFoundDocument=function(e,t,r){return new n(e,1,t,r,0)},n.newNoDocument=function(e,t){return new n(e,2,t,oa.empty(),0)},n.newUnknownDocument=function(e,t){return new n(e,3,t,oa.empty(),2)},n.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},n.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=oa.empty(),this.documentState=0,this},n.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=oa.empty(),this.documentState=2,this},n.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},n.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(n.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isValidDocument=function(){return this.documentType!==0},n.prototype.isFoundDocument=function(){return this.documentType===1},n.prototype.isNoDocument=function(){return this.documentType===2},n.prototype.isUnknownDocument=function(){return this.documentType===3},n.prototype.isEqual=function(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},n.prototype.clone=function(){return new n(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},n}(),Hqe=function(n,e,t,r,i,o,s){e===void 0&&(e=null),t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=n,this.collectionGroup=e,this.orderBy=t,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(n,e,t,r,i,o,s){return e===void 0&&(e=null),t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new Hqe(n,e,t,r,i,o,s)}function WC(n){var e=Me(n);if(e.h===null){var t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+C8(i.value)}(r)}).join(","),t+="|ob:",t+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Sg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=MD(e.startAt)),e.endAt&&(t+="|ub:",t+=MD(e.endAt)),e.h=t}return e.h}function vI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<n.orderBy.length;t++)if(!$qe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(var r=0;r<n.filters.length;r++)if(i=n.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ml(i.value,o.value))return!1;var i,o;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!A$(n.startAt,e.startAt)&&A$(n.endAt,e.endAt)}function PD(n){return ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ca=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).field=t,o.op=r,o.value=i,o}return Fe(e,n),e.create=function(t,r,i){return t.isKeyField()?r==="in"||r==="not-in"?this.l(t,r,i):new Vqe(t,r,i):r==="array-contains"?new jqe(t,i):r==="in"?new qqe(t,i):r==="not-in"?new zqe(t,i):r==="array-contains-any"?new Gqe(t,i):new e(t,r,i)},e.l=function(t,r,i){return r==="in"?new Wqe(t,i):new Uqe(t,i)},e.prototype.matches=function(t){var r=t.data.field(this.field);return this.op==="!="?r!==null&&this.m(e_(r,this.value)):r!==null&&Yp(this.value)===Yp(r)&&this.m(e_(r,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Vqe=function(n){function e(t,r,i){var o=this;return(o=n.call(this,t,r,i)||this).key=ct.fromName(i.referenceValue),o}return Fe(e,n),e.prototype.matches=function(t){var r=ct.comparator(t.key,this.key);return this.m(r)},e}(ca),Wqe=function(n){function e(t,r){var i=this;return(i=n.call(this,t,"in",r)||this).keys=tae("in",r),i}return Fe(e,n),e.prototype.matches=function(t){return this.keys.some(function(r){return r.isEqual(t.key)})},e}(ca),Uqe=function(n){function e(t,r){var i=this;return(i=n.call(this,t,"not-in",r)||this).keys=tae("not-in",r),i}return Fe(e,n),e.prototype.matches=function(t){return!this.keys.some(function(r){return r.isEqual(t.key)})},e}(ca);function tae(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(function(r){return ct.fromName(r.referenceValue)})}var jqe=function(n){function e(t,r){return n.call(this,t,"array-contains",r)||this}return Fe(e,n),e.prototype.matches=function(t){var r=t.data.field(this.field);return w8(r)&&A1(r.arrayValue,this.value)},e}(ca),qqe=function(n){function e(t,r){return n.call(this,t,"in",r)||this}return Fe(e,n),e.prototype.matches=function(t){var r=t.data.field(this.field);return r!==null&&A1(this.value.arrayValue,r)},e}(ca),zqe=function(n){function e(t,r){return n.call(this,t,"not-in",r)||this}return Fe(e,n),e.prototype.matches=function(t){if(A1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=t.data.field(this.field);return r!==null&&!A1(this.value.arrayValue,r)},e}(ca),Gqe=function(n){function e(t,r){return n.call(this,t,"array-contains-any",r)||this}return Fe(e,n),e.prototype.matches=function(t){var r=this,i=t.data.field(this.field);return!(!w8(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return A1(r.value.arrayValue,o)})},e}(ca),I1=function(n,e){this.position=n,this.before=e};function MD(n){return(n.before?"b":"a")+":"+n.position.map(function(e){return C8(e)}).join(",")}var vm=function(n,e){e===void 0&&(e="asc"),this.field=n,this.dir=e};function $qe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function D$(n,e,t){for(var r=0,i=0;i<n.position.length;i++){var o=e[i],s=n.position[i];if(r=o.field.isKeyField()?ct.comparator(ct.fromName(s.referenceValue),t.key):e_(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return n.before?r<=0:r<0}function A$(n,e){if(n===null)return e===null;if(e===null||n.before!==e.before||n.position.length!==e.position.length)return!1;for(var t=0;t<n.position.length;t++)if(!Ml(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=function(n,e,t,r,i,o,s,a){e===void 0&&(e=null),t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=n,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function nae(n,e,t,r,i,o,s,a){return new Zc(n,e,t,r,i,o,s,a)}function Q_(n){return new Zc(n)}function KS(n){return!Sg(n.limit)&&n.limitType==="F"}function FD(n){return!Sg(n.limit)&&n.limitType==="L"}function E8(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function S8(n){for(var e=0,t=n.filters;e<t.length;e++){var r=t[e];if(r.g())return r.field}return null}function T8(n){return n.collectionGroup!==null}function t_(n){var e=Me(n);if(e.p===null){e.p=[];var t=S8(e),r=E8(e);if(t!==null&&r===null)t.isKeyField()||e.p.push(new vm(t)),e.p.push(new vm(Ou.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new vm(Ou.keyField(),u))}}}return e.p}function ja(n){var e=Me(n);if(!e.T)if(e.limitType==="F")e.T=T$(e.path,e.collectionGroup,t_(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],r=0,i=t_(e);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";t.push(new vm(o.field,s))}var a=e.endAt?new I1(e.endAt.position,!e.endAt.before):null,u=e.startAt?new I1(e.startAt.position,!e.startAt.before):null;e.T=T$(e.path,e.collectionGroup,t,e.filters,e.limit,a,u)}return e.T}function rae(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function UC(n,e){return vI(ja(n),ja(e))&&n.limitType===e.limitType}function iae(n){return WC(ja(n))+"|lt:"+n.limitType}function Z3(n){return"Query(target="+function(e){var t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+C8(i.value);var i}).join(", ")+"]"),Sg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+MD(e.startAt)),e.endAt&&(t+=", endAt: "+MD(e.endAt)),"Target("+t+")"}(ja(n))+"; limitType="+n.limitType+")"}function jC(n,e){return e.isFoundDocument()&&function(t,r){var i=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ct.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(var i=0,o=t.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(n,e)&&function(t,r){for(var i=0,o=t.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!D$(t.startAt,t_(t),r))&&(!t.endAt||!D$(t.endAt,t_(t),r))}(n,e)}function oae(n){return function(e,t){for(var r=!1,i=0,o=t_(n);i<o.length;i++){var s=o[i],a=Kqe(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Kqe(n,e,t){var r=n.field.isKeyField()?ct.comparator(e.key,t.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?e_(a,u):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(n,e){if(n.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kD(e)?"-0":e}}function aae(n){return{integerValue:""+n}}function uae(n,e){return Jse(e)?aae(e):sae(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mI=function(){this._=void 0};function Yqe(n,e,t){return n instanceof n_?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Xp?cae(n,e):n instanceof Qp?fae(n,e):function(r,i){var o=lae(r,i),s=I$(o)+I$(r.A);return Q3(o)&&Q3(r.A)?aae(s):sae(r.R,s)}(n,e)}function Xqe(n,e,t){return n instanceof Xp?cae(n,e):n instanceof Qp?fae(n,e):t}function lae(n,e){return n instanceof r_?Q3(t=e)||function(r){return!!r&&"doubleValue"in r}(t)?e:{integerValue:0}:null;var t}var n_=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e}(mI),Xp=function(n){function e(t){var r=this;return(r=n.call(this)||this).elements=t,r}return Fe(e,n),e}(mI);function cae(n,e){for(var t=hae(e),r=function(s){t.some(function(a){return Ml(a,s)})||t.push(s)},i=0,o=n.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:t}}}var Qp=function(n){function e(t){var r=this;return(r=n.call(this)||this).elements=t,r}return Fe(e,n),e}(mI);function fae(n,e){for(var t=hae(e),r=function(s){t=t.filter(function(a){return!Ml(a,s)})},i=0,o=n.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:t}}}var r_=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).R=t,i.A=r,i}return Fe(e,n),e}(mI);function I$(n){return Gr(n.integerValue||n.doubleValue)}function hae(n){return w8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qC=function(n,e){this.field=n,this.transform=e},Qqe=function(n,e){this.version=n,this.transformResults=e},wo=function(){function n(e,t){this.updateTime=e,this.exists=t}return n.none=function(){return new n},n.exists=function(e){return new n(void 0,e)},n.updateTime=function(e){return new n(e)},Object.defineProperty(n.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},n}();function YS(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _I=function(){};function Zqe(n,e,t){n instanceof zC?function(r,i,o){var s=r.value.clone(),a=N$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Yh?function(r,i,o){if(YS(r.precondition,i)){var s=N$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(dae(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(n,e,t):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function J3(n,e,t){n instanceof zC?function(r,i,o){if(YS(r.precondition,i)){var s=r.value.clone(),a=O$(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(L$(i),s).setHasLocalMutations()}}(n,e,t):n instanceof Yh?function(r,i,o){if(YS(r.precondition,i)){var s=O$(r.fieldTransforms,o,i),a=i.data;a.setAll(dae(r)),a.setAll(s),i.convertToFoundDocument(L$(i),a).setHasLocalMutations()}}(n,e,t):function(r,i){YS(r.precondition,i)&&i.convertToNoDocument(jt.min())}(n,e)}function Jqe(n,e){for(var t=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=lae(o.transform,s||null);a!=null&&(t==null&&(t=oa.empty()),t.set(o.field,a))}return t||null}function x$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&Qm(t,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,l){return u instanceof Xp&&l instanceof Xp||u instanceof Qp&&l instanceof Qp?Qm(u.elements,l.elements,Ml):u instanceof r_&&l instanceof r_?Ml(u.A,l.A):u instanceof n_&&l instanceof n_}(s.transform,a.transform)}(i,o)})}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}function L$(n){return n.isFoundDocument()?n.version:jt.min()}var zC=function(n){function e(t,r,i,o){o===void 0&&(o=[]);var s=this;return(s=n.call(this)||this).key=t,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return Fe(e,n),e}(_I),Yh=function(n){function e(t,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=n.call(this)||this).key=t,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return Fe(e,n),e}(_I);function dae(n){var e=new Map;return n.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var r=n.data.field(t);e.set(t,r)}}),e}function N$(n,e,t){var r=new Map;_t(n.length===t.length);for(var i=0;i<t.length;i++){var o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Xqe(s,a,t[i]))}return r}function O$(n,e,t){for(var r=new Map,i=0,o=n;i<o.length;i++){var s=o[i],a=s.transform,u=t.data.field(s.field);r.set(s.field,Yqe(a,u,e))}return r}var qr,on,GC=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).key=t,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Fe(e,n),e}(_I),D8=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).key=t,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Fe(e,n),e}(_I),eze=function(n){this.count=n};function pae(n){switch(n){case se.OK:return it();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return it()}}function gae(n){if(n===void 0)return Yr("GRPC error has no .code"),se.UNKNOWN;switch(n){case qr.OK:return se.OK;case qr.CANCELLED:return se.CANCELLED;case qr.UNKNOWN:return se.UNKNOWN;case qr.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case qr.INTERNAL:return se.INTERNAL;case qr.UNAVAILABLE:return se.UNAVAILABLE;case qr.UNAUTHENTICATED:return se.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case qr.NOT_FOUND:return se.NOT_FOUND;case qr.ALREADY_EXISTS:return se.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return se.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case qr.ABORTED:return se.ABORTED;case qr.OUT_OF_RANGE:return se.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return se.UNIMPLEMENTED;case qr.DATA_LOSS:return se.DATA_LOSS;default:return it()}}(on=qr||(qr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(){function n(e,t){this.comparator=e,this.root=t||Ff.EMPTY}return n.prototype.insert=function(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ff.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ff.BLACK,null,null))},n.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null},n.prototype.indexOf=function(e){for(var t=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1},n.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(n.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),n.prototype.minKey=function(){return this.root.minKey()},n.prototype.maxKey=function(){return this.root.maxKey()},n.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},n.prototype.forEach=function(e){this.inorderTraversal(function(t,r){return e(t,r),!1})},n.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,r){return e.push(t+":"+r),!1}),"{"+e.join(", ")+"}"},n.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},n.prototype.getIterator=function(){return new aS(this.root,null,this.comparator,!1)},n.prototype.getIteratorFrom=function(e){return new aS(this.root,e,this.comparator,!1)},n.prototype.getReverseIterator=function(){return new aS(this.root,null,this.comparator,!0)},n.prototype.getReverseIteratorFrom=function(e){return new aS(this.root,e,this.comparator,!0)},n}(),aS=function(){function n(e,t,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return n.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},n.prototype.hasNext=function(){return this.nodeStack.length>0},n.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},n}(),Ff=function(){function n(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}return n.prototype.copy=function(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},n.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},n.prototype.minKey=function(){return this.min().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(e,t,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r))).fixUp()},n.prototype.removeMin=function(){if(this.left.isEmpty())return n.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},n.prototype.remove=function(e,t){var r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()},n.prototype.isRed=function(){return this.color},n.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},n.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},n.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},n.prototype.rotateLeft=function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},n.prototype.rotateRight=function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},n.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},n.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},n.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();var e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)},n}();Ff.EMPTY=null,Ff.RED=!0,Ff.BLACK=!1,Ff.EMPTY=new(function(){function n(){this.size=0}return Object.defineProperty(n.prototype,"key",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){throw it()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){throw it()},enumerable:!1,configurable:!0}),n.prototype.copy=function(e,t,r,i,o){return this},n.prototype.insert=function(e,t,r){return new Ff(e,t)},n.prototype.remove=function(e,t){return this},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(e){return!1},n.prototype.reverseTraversal=function(e){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.isRed=function(){return!1},n.prototype.checkMaxDepth=function(){return!0},n.prototype.check=function(){return 0},n}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi=function(){function n(e){this.comparator=e,this.data=new Mo(this.comparator)}return n.prototype.has=function(e){return this.data.get(e)!==null},n.prototype.first=function(){return this.data.minKey()},n.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(n.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),n.prototype.indexOf=function(e){return this.data.indexOf(e)},n.prototype.forEach=function(e){this.data.inorderTraversal(function(t,r){return e(t),!1})},n.prototype.forEachInRange=function(e,t){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}},n.prototype.forEachWhile=function(e,t){var r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},n.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},n.prototype.getIterator=function(){return new k$(this.data.getIterator())},n.prototype.getIteratorFrom=function(e){return new k$(this.data.getIteratorFrom(e))},n.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},n.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},n.prototype.isEmpty=function(){return this.data.isEmpty()},n.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(r){t=t.add(r)}),t},n.prototype.isEqual=function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),r=e.data.getIterator();t.hasNext();){var i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},n.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},n.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},n.prototype.copy=function(e){var t=new n(this.comparator);return t.data=e,t},n}(),k$=function(){function n(e){this.iter=e}return n.prototype.getNext=function(){return this.iter.getNext().key},n.prototype.hasNext=function(){return this.iter.hasNext()},n}(),tze=new Mo(ct.comparator);function Ba(){return tze}var nze=new Mo(ct.comparator);function eF(){return nze}var rze=new Mo(ct.comparator);function vae(){return rze}var ize=new pi(ct.comparator);function Pn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=ize,r=0,i=n;r<i.length;r++){var o=i[r];t=t.add(o)}return t}var oze=new pi(Zt);function yI(){return oze}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A8=function(){function n(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return n.createSynthesizedRemoteEventForCurrentChange=function(e,t){var r=new Map;return r.set(e,I8.createSynthesizedTargetChangeForCurrentChange(e,t)),new n(jt.min(),r,yI(),Ba(),Pn())},n}(),I8=function(){function n(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return n.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new n(fs.EMPTY_BYTE_STRING,t,Pn(),Pn(),Pn())},n}(),XS=function(n,e,t,r){this.v=n,this.removedTargetIds=e,this.key=t,this.P=r},mae=function(n,e){this.targetId=n,this.V=e},_ae=function(n,e,t,r){t===void 0&&(t=fs.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=n,this.targetIds=e,this.resumeToken=t,this.cause=r},R$=function(){function n(){this.S=0,this.D=M$(),this.C=fs.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(n.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),n.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},n.prototype.M=function(){var e=Pn(),t=Pn(),r=Pn();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new I8(this.C,this.N,e,t,r)},n.prototype.L=function(){this.k=!1,this.D=M$()},n.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},n.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},n.prototype.U=function(){this.S+=1},n.prototype.K=function(){this.S-=1},n.prototype.j=function(){this.k=!0,this.N=!0},n}(),sze=function(){function n(e){this.W=e,this.G=new Map,this.H=Ba(),this.J=P$(),this.Y=new pi(Zt)}return n.prototype.X=function(e){for(var t=0,r=e.v;t<r.length;t++){var i=r[t];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,s=e.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,e.key,e.P)},n.prototype.et=function(e){var t=this;this.forEachTarget(e,function(r){var i=t.nt(r);switch(e.state){case 0:t.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||t.removeTarget(r);break;case 3:t.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:t.st(r)&&(t.it(r),i.O(e.resumeToken));break;default:it()}})},n.prototype.forEachTarget=function(e,t){var r=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(i,o){r.st(o)&&t(o)})},n.prototype.rt=function(e){var t=e.targetId,r=e.V.count,i=this.ot(t);if(i){var o=i.target;if(PD(o))if(r===0){var s=new ct(o.path);this.tt(t,s,eo.newNoDocument(s,jt.min()))}else _t(r===1);else this.ct(t)!==r&&(this.it(t),this.Y=this.Y.add(t))}},n.prototype.ut=function(e){var t=this,r=new Map;this.G.forEach(function(s,a){var u=t.ot(a);if(u){if(s.current&&PD(u.target)){var l=new ct(u.target.path);t.H.get(l)!==null||t.at(a,l)||t.tt(a,l,eo.newNoDocument(l,e))}s.$&&(r.set(a,s.M()),s.L())}});var i=Pn();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(l){var c=t.ot(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new A8(e,r,this.Y,this.H,i);return this.H=Ba(),this.J=P$(),this.Y=new pi(Zt),o},n.prototype.Z=function(e,t){if(this.st(e)){var r=this.at(e,t.key)?2:0;this.nt(e).B(t.key,r),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},n.prototype.tt=function(e,t,r){if(this.st(e)){var i=this.nt(e);this.at(e,t)?i.B(t,1):i.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),r&&(this.H=this.H.insert(t,r))}},n.prototype.removeTarget=function(e){this.G.delete(e)},n.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},n.prototype.U=function(e){this.nt(e).U()},n.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new R$,this.G.set(e,t)),t},n.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new pi(Zt),this.J=this.J.insert(e,t)),t},n.prototype.st=function(e){var t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t},n.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},n.prototype.it=function(e){var t=this;this.G.set(e,new R$),this.W.getRemoteKeysForTarget(e).forEach(function(r){t.tt(e,r,null)})},n.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},n}();function P$(){return new Mo(ct.comparator)}function M$(){return new Mo(ct.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aze={asc:"ASCENDING",desc:"DESCENDING"},uze={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lze=function(n,e){this.databaseId=n,this.I=e};function x1(n,e){return n.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function yae(n,e){return n.I?e.toBase64():e.toUint8Array()}function cze(n,e){return x1(n,e.toTimestamp())}function Ri(n){return _t(!!n),jt.fromTimestamp(function(e){var t=Ih(e);return new Os(t.seconds,t.nanos)}(n))}function x8(n,e){return function(t){return new gn(["projects",t.projectId,"databases",t.database])}(n).child("documents").child(e).canonicalString()}function bae(n){var e=gn.fromString(n);return _t(Iae(e)),e}function L1(n,e){return x8(n.databaseId,e.path)}function Cl(n,e){var t=bae(e);if(t.get(1)!==n.databaseId.projectId)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ct(wae(t))}function tF(n,e){return x8(n.databaseId,e)}function Cae(n){var e=bae(n);return e.length===4?gn.emptyPath():wae(e)}function N1(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wae(n){return _t(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function F$(n,e,t){return{name:L1(n,e),fields:t.value.mapValue.fields}}function Eae(n,e,t){var r=Cl(n,e.name),i=Ri(e.updateTime),o=new oa({mapValue:{fields:e.fields}}),s=eo.newFoundDocument(r,i,o);return t&&s.setHasCommittedMutations(),t?s.setHasCommittedMutations():s}function BD(n,e){var t;if(e instanceof zC)t={update:F$(n,e.key,e.value)};else if(e instanceof GC)t={delete:L1(n,e.key)};else if(e instanceof Yh)t={update:F$(n,e.key,e.data),updateMask:gze(e.fieldMask)};else{if(!(e instanceof D8))return it();t={verify:L1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof n_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Xp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Qp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof r_)return{fieldPath:o.field.canonicalString(),increment:s.A};throw it()}(0,r)})),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:cze(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:it()}(n,e.precondition)),t}function B$(n,e){var t=e.currentDocument?function(l){return l.updateTime!==void 0?wo.updateTime(Ri(l.updateTime)):l.exists!==void 0?wo.exists(l.exists):wo.none()}(e.currentDocument):wo.none(),r=e.updateTransforms?e.updateTransforms.map(function(l){return function(c,h){var d=null;if("setToServerValue"in h)_t(h.setToServerValue==="REQUEST_TIME"),d=new n_;else if("appendMissingElements"in h){var p=h.appendMissingElements.values||[];d=new Xp(p)}else if("removeAllFromArray"in h){var v=h.removeAllFromArray.values||[];d=new Qp(v)}else"increment"in h?d=new r_(c,h.increment):it();var m=Ou.fromServerFormat(h.fieldPath);return new qC(m,d)}(n,l)}):[];if(e.update){e.update.name;var i=Cl(n,e.update.name),o=new oa({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Zm(c.map(function(h){return Ou.fromServerFormat(h)}))}(e.updateMask);return new Yh(i,o,s,t,r)}return new zC(i,o,t,r)}if(e.delete){var a=Cl(n,e.delete);return new GC(a,t)}if(e.verify){var u=Cl(n,e.verify);return new D8(u,t)}return it()}function Sae(n,e){return{documents:[tF(n,e.path)]}}function Tae(n,e){var t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=tF(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tF(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(l){return function(c){if(c.op==="=="){if(S$(c.value))return{unaryFilter:{field:wv(c.field),op:"IS_NAN"}};if(E$(c.value))return{unaryFilter:{field:wv(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(S$(c.value))return{unaryFilter:{field:wv(c.field),op:"IS_NOT_NAN"}};if(E$(c.value))return{unaryFilter:{field:wv(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wv(c.field),op:hze(c.op),value:c.value}}}(l)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(e.filters);i&&(t.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(l){return{field:wv(l.field),direction:fze(l.dir)}}(u)})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);var s=function(a,u){return a.I||Sg(u)?u:{value:u}}(n,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=H$(e.startAt)),e.endAt&&(t.structuredQuery.endAt=H$(e.endAt)),t}function Dae(n){var e=Cae(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_t(r===1);var o=t.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];t.where&&(s=Aae(t.where));var a=[];t.orderBy&&(a=t.orderBy.map(function(h){return function(d){return new vm(Xv(d.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(h)}));var u=null;t.limit&&(u=function(h){var d;return Sg(d=typeof h=="object"?h.value:h)?null:d}(t.limit));var l=null;t.startAt&&(l=V$(t.startAt));var c=null;return t.endAt&&(c=V$(t.endAt)),nae(e,i,a,s,u,"F",l,c)}function Aae(n){return n?n.unaryFilter!==void 0?[pze(n)]:n.fieldFilter!==void 0?[dze(n)]:n.compositeFilter!==void 0?n.compositeFilter.filters.map(function(e){return Aae(e)}).reduce(function(e,t){return e.concat(t)}):it():[]}function H$(n){return{before:n.before,values:n.position}}function V$(n){var e=!!n.before,t=n.values||[];return new I1(t,e)}function fze(n){return aze[n]}function hze(n){return uze[n]}function wv(n){return{fieldPath:n.canonicalString()}}function Xv(n){return Ou.fromServerFormat(n.fieldPath)}function dze(n){return ca.create(Xv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function pze(n){switch(n.unaryFilter.op){case"IS_NAN":var e=Xv(n.unaryFilter.field);return ca.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=Xv(n.unaryFilter.field);return ca.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xv(n.unaryFilter.field);return ca.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xv(n.unaryFilter.field);return ca.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return it()}}function gze(n){var e=[];return n.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Iae(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){for(var e="",t=0;t<n.length;t++)e.length>0&&(e=W$(e)),e=vze(n.get(t),e);return W$(e)}function vze(n,e){for(var t=e,r=n.length,i=0;i<r;i++){var o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function W$(n){return n+""}function Tc(n){var e=n.length;if(_t(e>=2),e===2)return _t(n.charAt(0)===""&&n.charAt(1)===""),gn.emptyPath();for(var t=e-2,r=[],i="",o=0;o<e;){var s=n.indexOf("",o);switch((s<0||s>t)&&it(),n.charAt(s+1)){case"":var a=n.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:it()}o=s+2}return new gn(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mze=function(n,e){this.seconds=n,this.nanoseconds=e},Zs=function(n,e,t){this.ownerId=n,this.allowTabSynchronization=e,this.leaseTimestampMs=t};Zs.store="owner",Zs.key="owner";var hh=function(n,e,t){this.userId=n,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};hh.store="mutationQueues",hh.keyPath="userId";var ir=function(n,e,t,r,i){this.userId=n,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=r,this.mutations=i};ir.store="mutations",ir.keyPath="batchId",ir.userMutationsIndex="userMutationsIndex",ir.userMutationsKeyPath=["userId","batchId"];var yo=function(){function n(){}return n.prefixForUser=function(e){return[e]},n.prefixForPath=function(e,t){return[e,Tu(t)]},n.key=function(e,t,r){return[e,Tu(t),r]},n}();yo.store="documentMutations",yo.PLACEHOLDER=new yo;var _ze=function(n,e){this.path=n,this.readTime=e},yze=function(n,e){this.path=n,this.version=e},Sr=function(n,e,t,r,i,o){this.unknownDocument=n,this.noDocument=e,this.document=t,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Sr.store="remoteDocuments",Sr.readTimeIndex="readTimeIndex",Sr.readTimeIndexPath="readTime",Sr.collectionReadTimeIndex="collectionReadTimeIndex",Sr.collectionReadTimeIndexPath=["parentPath","readTime"];var hl=function(n){this.byteSize=n};hl.store="remoteDocumentGlobal",hl.key="remoteDocumentGlobalKey";var Is=function(n,e,t,r,i,o,s){this.targetId=n,this.canonicalId=e,this.readTime=t,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Is.store="targets",Is.keyPath="targetId",Is.queryTargetsIndexName="queryTargetsIndex",Is.queryTargetsKeyPath=["canonicalId","targetId"];var Yi=function(n,e,t){this.targetId=n,this.path=e,this.sequenceNumber=t};Yi.store="targetDocuments",Yi.keyPath=["targetId","path"],Yi.documentTargetsIndex="documentTargetsIndex",Yi.documentTargetsKeyPath=["path","targetId"];var ta=function(n,e,t,r){this.highestTargetId=n,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=r};ta.key="targetGlobalKey",ta.store="targetGlobal";var xp=function(n,e){this.collectionId=n,this.parent=e};xp.store="collectionParents",xp.keyPath=["collectionId","parent"];var Oc=function(n,e,t,r){this.clientId=n,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=r};Oc.store="clientMetadata",Oc.keyPath="clientId";var i_=function(n,e,t){this.bundleId=n,this.createTime=e,this.version=t};i_.store="bundles",i_.keyPath="bundleId";var o_=function(n,e,t){this.name=n,this.readTime=e,this.bundledQuery=t};o_.store="namedQueries",o_.keyPath="name";var bze=Vt(Vt([],Vt(Vt([],Vt(Vt([],Vt(Vt([],[hh.store,ir.store,yo.store,Sr.store,Is.store,Zs.store,ta.store,Yi.store]),[Oc.store])),[hl.store])),[xp.store])),[i_.store,o_.store]),xae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lae=function(){function n(){this.onCommittedListeners=[]}return n.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},n.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},n}(),Lo=function(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})},Te=function(){function n(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){t.isDone=!0,t.result=r,t.nextCallback&&t.nextCallback(r)},function(r){t.isDone=!0,t.error=r,t.catchCallback&&t.catchCallback(r)})}return n.prototype.catch=function(e){return this.next(void 0,e)},n.prototype.next=function(e,t){var r=this;return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n(function(i,o){r.nextCallback=function(s){r.wrapSuccess(e,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(t,s).next(i,o)}})},n.prototype.toPromise=function(){var e=this;return new Promise(function(t,r){e.next(t,r)})},n.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof n?t:n.resolve(t)}catch(r){return n.reject(r)}},n.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.resolve(t)},n.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.reject(t)},n.resolve=function(e){return new n(function(t,r){t(e)})},n.reject=function(e){return new n(function(t,r){r(e)})},n.waitFor=function(e){return new n(function(t,r){var i=0,o=0,s=!1;e.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&t()},function(u){return r(u)})}),s=!0,o===i&&t()})},n.or=function(e){for(var t=n.resolve(!1),r=function(s){t=t.next(function(a){return a?n.resolve(a):s()})},i=0,o=e;i<o.length;i++)r(o[i]);return t},n.forEach=function(e,t){var r=this,i=[];return e.forEach(function(o,s){i.push(t.call(r,o,s))}),this.waitFor(i)},n}(),Nae=function(){function n(e,t){var r=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Lo,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){t.error?r.ft.reject(new gb(e,t.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=L8(i.target.error);r.ft.reject(new gb(e,o))}}return n.open=function(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new gb(t,o)}},Object.defineProperty(n.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),n.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},n.prototype.store=function(e){var t=this.transaction.objectStore(e);return new wze(t)},n}(),s_=function(){function n(e,t,r){this.name=e,this.version=t,this.wt=r,n._t(Pp())===12.2&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return n.delete=function(e){return xe("SimpleDb","Removing database:",e),ep(window.indexedDB.deleteDatabase(e)).toPromise()},n.yt=function(){if(typeof indexedDB>"u")return!1;if(n.gt())return!0;var e=Pp(),t=n._t(e),r=0<t&&t<10,i=n.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},n.gt=function(){var e;return typeof process<"u"&&((e=Pqe)===null||e===void 0?void 0:e.Tt)==="YES"},n.It=function(e,t){return e.store(t)},n._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)},n.Et=function(e){var t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)},n.prototype.At=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(xe("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var l=u.target.result;o(l)},a.onblocked=function(){s(new gb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var l=u.target.error;l.name==="VersionError"?s(new we(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new gb(e,l))},a.onupgradeneeded=function(u){xe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var l=u.target.result;r.wt.Rt(l,a.transaction,u.oldVersion,r.version).next(function(){xe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:t.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},n.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},n.prototype.runTransaction=function(e,t,r,i){return X(this,void 0,void 0,function(){var o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:o=t==="readonly",s=0,a=function(){var h,d,p,v,m;return Y(this,function(_){switch(_.label){case 0:++s,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=_.sent(),h=Nae.open(u.db,e,o?"readonly":"readwrite",r),d=i(h).catch(function(b){return h.abort(b),Te.reject(b)}).toPromise(),p={},d.catch(function(){}),[4,h.dt];case 3:return[2,(p.value=(_.sent(),d),p)];case 4:return v=_.sent(),m=v.name!=="FirebaseError"&&s<3,xe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",m),u.close(),m?[3,5]:[2,{value:Promise.reject(v)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},n.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},n}(),Cze=function(){function n(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(n.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),n.prototype.done=function(){this.Vt=!0},n.prototype.Ct=function(e){this.St=e},n.prototype.delete=function(){return ep(this.Pt.delete())},n}(),gb=function(n){function e(t,r){var i=this;return(i=n.call(this,se.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Fe(e,n),e}(we);function Tg(n){return n.name==="IndexedDbTransactionError"}var wze=function(){function n(e){this.store=e}return n.prototype.put=function(e,t){var r;return t!==void 0?(xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ep(r)},n.prototype.add=function(e){return xe("SimpleDb","ADD",this.store.name,e,e),ep(this.store.add(e))},n.prototype.get=function(e){var t=this;return ep(this.store.get(e)).next(function(r){return r===void 0&&(r=null),xe("SimpleDb","GET",t.store.name,e,r),r})},n.prototype.delete=function(e){return xe("SimpleDb","DELETE",this.store.name,e),ep(this.store.delete(e))},n.prototype.count=function(){return xe("SimpleDb","COUNT",this.store.name),ep(this.store.count())},n.prototype.Nt=function(e,t){var r=this.cursor(this.options(e,t)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},n.prototype.kt=function(e,t){xe("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,t);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},n.prototype.$t=function(e,t){var r;t?r=e:(r={},t=e);var i=this.cursor(r);return this.xt(i,t)},n.prototype.Ot=function(e){var t=this.cursor({});return new Te(function(r,i){t.onerror=function(o){var s=L8(o.target.error);i(s)},t.onsuccess=function(o){var s=o.target.result;s?e(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},n.prototype.xt=function(e,t){var r=[];return new Te(function(i,o){e.onerror=function(s){o(s.target.error)},e.onsuccess=function(s){var a=s.target.result;if(a){var u=new Cze(a),l=t(a.primaryKey,a.value,u);if(l instanceof Te){var c=l.catch(function(h){return u.done(),Te.reject(h)});r.push(c)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return Te.waitFor(r)})},n.prototype.options=function(e,t){var r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}},n.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},n}();function ep(n){return new Te(function(e,t){n.onsuccess=function(r){var i=r.target.result;e(i)},n.onerror=function(r){var i=L8(r.target.error);t(i)}})}var U$=!1;function L8(n){var e=s_._t(Pp());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){var r=new we("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return U$||(U$=!0,setTimeout(function(){throw r},0)),r}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j$=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).Mt=t,i.currentSequenceNumber=r,i}return Fe(e,n),e}(Lae);function Hs(n,e){var t=Me(n);return s_.It(t.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N8=function(){function n(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}return n.prototype.applyToRemoteDocument=function(e,t){for(var r=t.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&Zqe(o,e,r[i])}},n.prototype.applyToLocalView=function(e){for(var t=0,r=this.baseMutations;t<r.length;t++)(s=r[t]).key.isEqual(e.key)&&J3(s,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(e.key)&&J3(s,e,this.localWriteTime)}},n.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;t.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(jt.min())})},n.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Pn())},n.prototype.isEqual=function(e){return this.batchId===e.batchId&&Qm(this.mutations,e.mutations,function(t,r){return x$(t,r)})&&Qm(this.baseMutations,e.baseMutations,function(t,r){return x$(t,r)})},n}(),Eze=function(){function n(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}return n.from=function(e,t,r){_t(e.mutations.length===r.length);for(var i=vae(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)},n}(),bI=function(){function n(e,t,r,i,o,s,a){o===void 0&&(o=jt.min()),s===void 0&&(s=jt.min()),a===void 0&&(a=fs.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return n.prototype.withSequenceNumber=function(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},n.prototype.withResumeToken=function(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},n.prototype.withLastLimboFreeSnapshotVersion=function(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},n}(),Oae=function(n){this.Lt=n};function nF(n,e){if(e.document)return Eae(n.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ct.fromSegments(e.noDocument.path),r=u_(e.noDocument.readTime),i=eo.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ct.fromSegments(e.unknownDocument.path);return r=u_(e.unknownDocument.version),eo.newUnknownDocument(o,r)}return it()}function q$(n,e,t){var r=O8(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(h,d){return{name:L1(h,d.key),fields:d.data.value.mapValue.fields,updateTime:x1(h,d.version.toTimestamp())}}(n.Lt,e),s=e.hasCommittedMutations;return new Sr(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=a_(e.version);return s=e.hasCommittedMutations,new Sr(null,new _ze(a,u),null,s,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),c=a_(e.version);return new Sr(new yze(l,c),null,null,!0,r,i)}return it()}function O8(n){var e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kae(n){var e=new Os(n[0],n[1]);return jt.fromTimestamp(e)}function a_(n){var e=n.toTimestamp();return new mze(e.seconds,e.nanoseconds)}function u_(n){var e=new Os(n.seconds,n.nanoseconds);return jt.fromTimestamp(e)}function Fv(n,e){for(var t=(e.baseMutations||[]).map(function(u){return B$(n.Lt,u)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map(function(u){return B$(n.Lt,u)}),a=Os.fromMillis(e.localWriteTimeMs);return new N8(e.batchId,a,t,s)}function Hy(n){var e,t,r=u_(n.readTime),i=n.lastLimboFreeSnapshotVersion!==void 0?u_(n.lastLimboFreeSnapshotVersion):jt.min();return n.query.documents!==void 0?(_t((t=n.query).documents.length===1),e=ja(Q_(Cae(t.documents[0])))):e=function(o){return ja(Dae(o))}(n.query),new bI(e,n.targetId,0,n.lastListenSequenceNumber,r,i,fs.fromBase64String(n.resumeToken))}function Rae(n,e){var t,r=a_(e.snapshotVersion),i=a_(e.lastLimboFreeSnapshotVersion);t=PD(e.target)?Sae(n.Lt,e.target):Tae(n.Lt,e.target);var o=e.resumeToken.toBase64();return new Is(e.targetId,WC(e.target),r,o,e.sequenceNumber,i,t)}function k8(n){var e=Dae({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rae(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sze=function(){function n(){}return n.prototype.getBundleMetadata=function(e,t){return z$(e).get(t).next(function(r){if(r)return{id:(i=r).bundleId,createTime:u_(i.createTime),version:i.version};var i})},n.prototype.saveBundleMetadata=function(e,t){return z$(e).put({bundleId:(r=t).id,createTime:a_(Ri(r.createTime)),version:r.version});var r},n.prototype.getNamedQuery=function(e,t){return G$(e).get(t).next(function(r){if(r)return{name:(i=r).name,query:k8(i.bundledQuery),readTime:u_(i.readTime)};var i})},n.prototype.saveNamedQuery=function(e,t){return G$(e).put(function(r){return{name:r.name,readTime:a_(Ri(r.readTime)),bundledQuery:r.bundledQuery}}(t))},n}();function z$(n){return Hs(n,i_.store)}function G$(n){return Hs(n,o_.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tze=function(){function n(){this.Bt=new R8}return n.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Te.resolve()},n.prototype.getCollectionParents=function(e,t){return Te.resolve(this.Bt.getEntries(t))},n}(),R8=function(){function n(){this.index={}}return n.prototype.add=function(e){var t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pi(gn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o},n.prototype.has=function(e){var t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)},n.prototype.getEntries=function(e){return(this.index[e]||new pi(gn.comparator)).toArray()},n}(),Dze=function(){function n(){this.qt=new R8}return n.prototype.addToCollectionParentIndex=function(e,t){var r=this;if(!this.qt.has(t)){var i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(function(){r.qt.add(t)});var s={collectionId:i,parent:Tu(o)};return $$(e).put(s)}return Te.resolve()},n.prototype.getCollectionParents=function(e,t){var r=[],i=IDBKeyRange.bound([t,""],[Yse(t),""],!1,!0);return $$(e).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==t)break;r.push(Tc(u.parent))}return r})},n}();function $$(n){return Hs(n,xp.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ju=function(){function n(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}return n.withCacheSize=function(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(n,e,t){var r=n.store(ir.store),i=n.store(yo.store),o=[],s=IDBKeyRange.only(t.batchId),a=0,u=r.$t({range:s},function(v,m,_){return a++,_.delete()});o.push(u.next(function(){_t(a===1)}));for(var l=[],c=0,h=t.mutations;c<h.length;c++){var d=h[c],p=yo.key(e,d.key.path,t.batchId);o.push(i.delete(p)),l.push(d.key)}return Te.waitFor(o).next(function(){return l})}function HD(n){if(!n)return 0;var e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ju.DEFAULT=new Ju(41943040,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ju.DISABLED=new Ju(-1,0,0);var Aze=function(){function n(e,t,r,i){this.userId=e,this.R=t,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return n.Qt=function(e,t,r,i){return _t(e.uid!==""),new n(e.isAuthenticated()?e.uid:"",t,r,i)},n.prototype.checkEmpty=function(e){var t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bf(e).$t({index:ir.userMutationsIndex,range:r},function(i,o,s){t=!1,s.done()}).next(function(){return t})},n.prototype.addMutationBatch=function(e,t,r,i){var o=this,s=Bv(e),a=bf(e);return a.add({}).next(function(u){_t(typeof u=="number");for(var l=new N8(u,t,r,i),c=function(b,C,E){var S=E.baseMutations.map(function(T){return BD(b.Lt,T)}),A=E.mutations.map(function(T){return BD(b.Lt,T)});return new ir(C,E.batchId,E.localWriteTime.toMillis(),S,A)}(o.R,o.userId,l),h=[],d=new pi(function(b,C){return Zt(b.canonicalString(),C.canonicalString())}),p=0,v=i;p<v.length;p++){var m=v[p],_=yo.key(o.userId,m.key.path,u);d=d.add(m.key.path.popLast()),h.push(a.put(c)),h.push(s.put(_,yo.PLACEHOLDER))}return d.forEach(function(b){h.push(o.Ut.addToCollectionParentIndex(e,b))}),e.addOnCommittedListener(function(){o.Kt[u]=l.keys()}),Te.waitFor(h).next(function(){return l})})},n.prototype.lookupMutationBatch=function(e,t){var r=this;return bf(e).get(t).next(function(i){return i?(_t(i.userId===r.userId),Fv(r.R,i)):null})},n.prototype.jt=function(e,t){var r=this;return this.Kt[t]?Te.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(i){if(i){var o=i.keys();return r.Kt[t]=o,o}return null})},n.prototype.getNextMutationBatchAfterBatchId=function(e,t){var r=this,i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return bf(e).$t({index:ir.userMutationsIndex,range:o},function(a,u,l){u.userId===r.userId&&(_t(u.batchId>=i),s=Fv(r.R,u)),l.done()}).next(function(){return s})},n.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return bf(e).$t({index:ir.userMutationsIndex,range:t,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},n.prototype.getAllMutationBatches=function(e){var t=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bf(e).Nt(ir.userMutationsIndex,r).next(function(i){return i.map(function(o){return Fv(t.R,o)})})},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var r=this,i=yo.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=[];return Bv(e).$t({range:o},function(a,u,l){var c=a[0],h=a[1],d=a[2],p=Tc(h);if(c===r.userId&&t.path.isEqual(p))return bf(e).get(d).next(function(v){if(!v)throw it();_t(v.userId===r.userId),s.push(Fv(r.R,v))});l.done()}).next(function(){return s})},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var r=this,i=new pi(Zt),o=[];return t.forEach(function(s){var a=yo.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),l=Bv(e).$t({range:u},function(c,h,d){var p=c[0],v=c[1],m=c[2],_=Tc(v);p===r.userId&&s.path.isEqual(_)?i=i.add(m):d.done()});o.push(l)}),Te.waitFor(o).next(function(){return r.Wt(e,i)})},n.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var r=this,i=t.path,o=i.length+1,s=yo.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new pi(Zt);return Bv(e).$t({range:a},function(l,c,h){var d=l[0],p=l[1],v=l[2],m=Tc(p);d===r.userId&&i.isPrefixOf(m)?m.length===o&&(u=u.add(v)):h.done()}).next(function(){return r.Wt(e,u)})},n.prototype.Wt=function(e,t){var r=this,i=[],o=[];return t.forEach(function(s){o.push(bf(e).get(s).next(function(a){if(a===null)throw it();_t(a.userId===r.userId),i.push(Fv(r.R,a))}))}),Te.waitFor(o).next(function(){return i})},n.prototype.removeMutationBatch=function(e,t){var r=this;return Pae(e.Mt,this.userId,t).next(function(i){return e.addOnCommittedListener(function(){r.Gt(t.batchId)}),Te.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},n.prototype.Gt=function(e){delete this.Kt[e]},n.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(r){if(!r)return Te.resolve();var i=IDBKeyRange.lowerBound(yo.prefixForUser(t.userId)),o=[];return Bv(e).$t({range:i},function(s,a,u){if(s[0]===t.userId){var l=Tc(s[1]);o.push(l)}else u.done()}).next(function(){_t(o.length===0)})})},n.prototype.containsKey=function(e,t){return Mae(e,this.userId,t)},n.prototype.zt=function(e){var t=this;return Fae(e).get(this.userId).next(function(r){return r||new hh(t.userId,-1,"")})},n}();function Mae(n,e,t){var r=yo.prefixForPath(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Bv(n).$t({range:o,Ft:!0},function(a,u,l){var c=a[0],h=a[1];a[2],c===e&&h===i&&(s=!0),l.done()}).next(function(){return s})}function bf(n){return Hs(n,ir.store)}function Bv(n){return Hs(n,yo.store)}function Fae(n){return Hs(n,hh.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VD=function(){function n(e){this.Ht=e}return n.prototype.next=function(){return this.Ht+=2,this.Ht},n.Jt=function(){return new n(0)},n.Yt=function(){return new n(-1)},n}(),Ize=function(){function n(e,t){this.referenceDelegate=e,this.R=t}return n.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(r){var i=new VD(r.highestTargetId);return r.highestTargetId=i.next(),t.Zt(e,r).next(function(){return r.highestTargetId})})},n.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return jt.fromTimestamp(new Os(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},n.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},n.prototype.setTargetsMetadata=function(e,t,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),i.Zt(e,o)})},n.prototype.addTargetData=function(e,t){var r=this;return this.te(e,t).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(t,i),r.Zt(e,i)})})},n.prototype.updateTargetData=function(e,t){return this.te(e,t)},n.prototype.removeTargetData=function(e,t){var r=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Ev(e).delete(t.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return _t(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},n.prototype.removeTargets=function(e,t,r){var i=this,o=0,s=[];return Ev(e).$t(function(a,u){var l=Hy(u);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(e,l)))}).next(function(){return Te.waitFor(s)}).next(function(){return o})},n.prototype.forEachTarget=function(e,t){return Ev(e).$t(function(r,i){var o=Hy(i);t(o)})},n.prototype.Xt=function(e){return Y$(e).get(ta.key).next(function(t){return _t(t!==null),t})},n.prototype.Zt=function(e,t){return Y$(e).put(ta.key,t)},n.prototype.te=function(e,t){return Ev(e).put(Rae(this.R,t))},n.prototype.ee=function(e,t){var r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},n.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},n.prototype.getTargetData=function(e,t){var r=WC(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Ev(e).$t({range:i,index:Is.queryTargetsIndexName},function(s,a,u){var l=Hy(a);vI(t,l.target)&&(o=l,u.done())}).next(function(){return o})},n.prototype.addMatchingKeys=function(e,t,r){var i=this,o=[],s=Bf(e);return t.forEach(function(a){var u=Tu(a.path);o.push(s.put(new Yi(r,u))),o.push(i.referenceDelegate.addReference(e,r,a))}),Te.waitFor(o)},n.prototype.removeMatchingKeys=function(e,t,r){var i=this,o=Bf(e);return Te.forEach(t,function(s){var a=Tu(s.path);return Te.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(e,r,s)])})},n.prototype.removeMatchingKeysForTargetId=function(e,t){var r=Bf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)},n.prototype.getMatchingKeysForTargetId=function(e,t){var r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Bf(e),o=Pn();return i.$t({range:r,Ft:!0},function(s,a,u){var l=Tc(s[1]),c=new ct(l);o=o.add(c)}).next(function(){return o})},n.prototype.containsKey=function(e,t){var r=Tu(t.path),i=IDBKeyRange.bound([r],[Yse(r)],!1,!0),o=0;return Bf(e).$t({index:Yi.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var l=s[0];s[1],l!==0&&(o++,u.done())}).next(function(){return o>0})},n.prototype.lt=function(e,t){return Ev(e).get(t).next(function(r){return r?Hy(r):null})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n){return Hs(n,Is.store)}function Y$(n){return Hs(n,ta.store)}function Bf(n){return Hs(n,Yi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n){return X(this,void 0,void 0,function(){return Y(this,function(e){if(n.code!==se.FAILED_PRECONDITION||n.message!==xae)throw n;return xe("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(n,e){var t=n[0],r=n[1],i=e[0],o=e[1],s=Zt(t,i);return s===0?Zt(r,o):s}var xze=function(){function n(e){this.ne=e,this.buffer=new pi(X$),this.se=0}return n.prototype.ie=function(){return++this.se},n.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var r=this.buffer.last();X$(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}},Object.defineProperty(n.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),n}(),Lze=function(){function n(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return n.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},n.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(n.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),n.prototype.ue=function(e){var t=this,r=this.oe?3e5:6e4;xe("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return X(t,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Tg(i=o.sent())?(xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Dg(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},n}(),Nze=function(){function n(e,t){this.ae=e,this.params=t}return n.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(r){return Math.floor(t/100*r)})},n.prototype.nthSequenceNumber=function(e,t){var r=this;if(t===0)return Te.resolve(la.o);var i=new xze(t);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},n.prototype.removeTargets=function(e,t,r){return this.ae.removeTargets(e,t,r)},n.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},n.prototype.collect=function(e,t){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(K$)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),K$):r.fe(e,t)})},n.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},n.prototype.fe=function(e,t){var r,i,o,s,a,u,l,c=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(d){return d>c.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+d),i=c.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),c.nthSequenceNumber(e,i)}).next(function(d){return r=d,a=Date.now(),c.removeTargets(e,r,t)}).next(function(d){return o=d,u=Date.now(),c.removeOrphanedDocuments(e,r)}).next(function(d){return l=Date.now(),Y3()<=zt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-h)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+d+" documents in "+(l-u)+`ms
Total Duration: `+(l-h)+"ms"),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})})},n}(),Oze=function(){function n(e,t){this.db=e,this.garbageCollector=function(r,i){return new Nze(r,i)}(this,t)}return n.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return t.next(function(i){return r+i})})},n.prototype.de=function(e){var t=0;return this.le(e,function(r){t++}).next(function(){return t})},n.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},n.prototype.le=function(e,t){return this.we(e,function(r,i){return t(i)})},n.prototype.addReference=function(e,t,r){return uS(e,r)},n.prototype.removeReference=function(e,t,r){return uS(e,r)},n.prototype.removeTargets=function(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)},n.prototype.markPotentiallyOrphaned=function(e,t){return uS(e,t)},n.prototype._e=function(e,t){return function(r,i){var o=!1;return Fae(r).Ot(function(s){return Mae(r,s,i).next(function(a){return a&&(o=!0),Te.resolve(!a)})}).next(function(){return o})}(e,t)},n.prototype.removeOrphanedDocuments=function(e,t){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(e,function(a,u){if(u<=t){var l=r._e(e,a).next(function(c){if(!c)return s++,i.getEntry(e,a).next(function(){return i.removeEntry(a),Bf(e).delete([0,Tu(a.path)])})});o.push(l)}}).next(function(){return Te.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return s})},n.prototype.removeTarget=function(e,t){var r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},n.prototype.updateLimboDocument=function(e,t){return uS(e,t)},n.prototype.we=function(e,t){var r,i=Bf(e),o=la.o;return i.$t({index:Yi.documentTargetsIndex},function(s,a){var u=s[0];s[1];var l=a.path,c=a.sequenceNumber;u===0?(o!==la.o&&t(new ct(Tc(r)),o),o=c,r=l):o=la.o}).next(function(){o!==la.o&&t(new ct(Tc(r)),o)})},n.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},n}();function uS(n,e){return Bf(n).put(function(t,r){return new Yi(0,Tu(t.path),r)}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z_=function(){function n(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return n.prototype.get=function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,e))return u}},n.prototype.has=function(e){return this.get(e)!==void 0},n.prototype.set=function(e,t){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]},n.prototype.delete=function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),!0;return!1},n.prototype.forEach=function(e){Eg(this.inner,function(t,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];e(a,u)}})},n.prototype.isEmpty=function(){return Xse(this.inner)},n}(),Bae=function(){function n(){this.changes=new Z_(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return n.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:jt.min()},n.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},n.prototype.removeEntry=function(e,t){t===void 0&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:eo.newInvalidDocument(e),readTime:t})},n.prototype.getEntry=function(e,t){this.assertNotApplied();var r=this.changes.get(t);return r!==void 0?Te.resolve(r.document):this.getFromCache(e,t)},n.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},n.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},n.prototype.assertNotApplied=function(){},n}(),kze=function(){function n(e,t){this.R=e,this.Ut=t}return n.prototype.addEntry=function(e,t,r){return Rf(e).put(lS(t),r)},n.prototype.removeEntry=function(e,t){var r=Rf(e),i=lS(t);return r.delete(i)},n.prototype.updateMetadata=function(e,t){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=t,r.me(e,i)})},n.prototype.getEntry=function(e,t){var r=this;return Rf(e).get(lS(t)).next(function(i){return r.ye(t,i)})},n.prototype.ge=function(e,t){var r=this;return Rf(e).get(lS(t)).next(function(i){return{document:r.ye(t,i),size:HD(i)}})},n.prototype.getEntries=function(e,t){var r=this,i=Ba();return this.pe(e,t,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},n.prototype.Ee=function(e,t){var r=this,i=Ba(),o=new Mo(ct.comparator);return this.pe(e,t,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,HD(a))}).next(function(){return{documents:i,Te:o}})},n.prototype.pe=function(e,t,r){if(t.isEmpty())return Te.resolve();var i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),s=o.getNext();return Rf(e).$t({range:i},function(a,u,l){for(var c=ct.fromSegments(a);s&&ct.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},n.prototype.getDocumentsMatchingQuery=function(e,t,r){var i=this,o=Ba(),s=t.path.length+1,a={};if(r.isEqual(jt.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var l=t.path.toArray(),c=O8(r);a.range=IDBKeyRange.lowerBound([l,c],!0),a.index=Sr.collectionReadTimeIndex}return Rf(e).$t(a,function(h,d,p){if(h.length===s){var v=nF(i.R,d);t.path.isPrefixOf(v.key.path)?jC(t,v)&&(o=o.insert(v.key,v)):p.done()}}).next(function(){return o})},n.prototype.newChangeBuffer=function(e){return new Rze(this,!!e&&e.trackRemovals)},n.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},n.prototype.getMetadata=function(e){return Q$(e).get(hl.key).next(function(t){return _t(!!t),t})},n.prototype.me=function(e,t){return Q$(e).put(hl.key,t)},n.prototype.ye=function(e,t){if(t){var r=nF(this.R,t);if(!r.isNoDocument()||!r.version.isEqual(jt.min()))return r}return eo.newInvalidDocument(e)},n}(),Rze=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).Ie=t,i.trackRemovals=r,i.Ae=new Z_(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return Fe(e,n),e.prototype.applyChanges=function(t){var r=this,i=[],o=0,s=new pi(function(a,u){return Zt(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var l=r.Ae.get(a);if(u.document.isValidDocument()){var c=q$(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var h=HD(c);o+=h-l,i.push(r.Ie.addEntry(t,a,c))}else if(o-=l,r.trackRemovals){var d=q$(r.Ie.R,eo.newNoDocument(a,jt.min()),r.getReadTime(a));i.push(r.Ie.addEntry(t,a,d))}else i.push(r.Ie.removeEntry(t,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(t,a))}),i.push(this.Ie.updateMetadata(t,o)),Te.waitFor(i)},e.prototype.getFromCache=function(t,r){var i=this;return this.Ie.ge(t,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(t,r){var i=this;return this.Ie.Ee(t,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},e}(Bae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(n){return Hs(n,hl.store)}function Rf(n){return Hs(n,Sr.store)}function lS(n){return n.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pze=function(){function n(e){this.R=e}return n.prototype.Rt=function(e,t,r,i){var o=this;_t(r<i&&r>=0&&i<=11);var s=new Nae("createOrUpgrade",t);r<1&&i>=1&&(function(u){u.createObjectStore(Zs.store)}(e),function(u){u.createObjectStore(hh.store,{keyPath:hh.keyPath}),u.createObjectStore(ir.store,{keyPath:ir.keyPath,autoIncrement:!0}).createIndex(ir.userMutationsIndex,ir.userMutationsKeyPath,{unique:!0}),u.createObjectStore(yo.store)}(e),Z$(e),function(u){u.createObjectStore(Sr.store)}(e));var a=Te.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(Yi.store),u.deleteObjectStore(Is.store),u.deleteObjectStore(ta.store)}(e),Z$(e)),a=a.next(function(){return function(u){var l=u.store(ta.store),c=new ta(0,0,jt.min().toTimestamp(),0);return l.put(ta.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,l){return l.store(ir.store).Nt().next(function(c){u.deleteObjectStore(ir.store),u.createObjectStore(ir.store,{keyPath:ir.keyPath,autoIncrement:!0}).createIndex(ir.userMutationsIndex,ir.userMutationsKeyPath,{unique:!0});var h=l.store(ir.store),d=c.map(function(p){return h.put(p)});return Te.waitFor(d)})}(e,s)})),a=a.next(function(){(function(u){u.createObjectStore(Oc.store,{keyPath:Oc.keyPath})})(e)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(hl.store)}(e),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(e,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e),function(u){var l=u.objectStore(Sr.store);l.createIndex(Sr.readTimeIndex,Sr.readTimeIndexPath,{unique:!1}),l.createIndex(Sr.collectionReadTimeIndex,Sr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(i_.store,{keyPath:i_.keyPath})})(e),function(u){u.createObjectStore(o_.store,{keyPath:o_.keyPath})}(e)})),a},n.prototype.be=function(e){var t=0;return e.store(Sr.store).$t(function(r,i){t+=HD(i)}).next(function(){var r=new hl(t);return e.store(hl.store).put(hl.key,r)})},n.prototype.Re=function(e){var t=this,r=e.store(hh.store),i=e.store(ir.store);return r.Nt().next(function(o){return Te.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(ir.userMutationsIndex,a).next(function(u){return Te.forEach(u,function(l){_t(l.userId===s.userId);var c=Fv(t.R,l);return Pae(e,s.userId,c).next(function(){})})})})})},n.prototype.ve=function(e){var t=e.store(Yi.store),r=e.store(Sr.store);return e.store(ta.store).get(ta.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new gn(s),l=function(c){return[0,Tu(c)]}(u);o.push(t.get(l).next(function(c){return c?Te.resolve():function(h){return t.put(new Yi(0,Tu(h),i.highestListenSequenceNumber))}(u)}))}).next(function(){return Te.waitFor(o)})})},n.prototype.Pe=function(e,t){e.createObjectStore(xp.store,{keyPath:xp.keyPath});var r=t.store(xp.store),i=new R8,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:Tu(u)})}};return t.store(Sr.store).$t({Ft:!0},function(s,a){var u=new gn(s);return o(u.popLast())}).next(function(){return t.store(yo.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var l=Tc(u);return o(l.popLast())})})},n.prototype.Ve=function(e){var t=this,r=e.store(Is.store);return r.$t(function(i,o){var s=Hy(o),a=Rae(t.R,s);return r.put(a)})},n}();function Z$(n){n.createObjectStore(Yi.store,{keyPath:Yi.keyPath}).createIndex(Yi.documentTargetsIndex,Yi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Is.store,{keyPath:Is.keyPath}).createIndex(Is.queryTargetsIndexName,Is.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ta.store)}var iR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mze=function(){function n(e,t,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!n.yt())throw new we(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oze(this,i),this.Le=t+"main",this.R=new Oae(u),this.Be=new s_(this.Le,11,new Pze(this.R)),this.qe=new Ize(this.referenceDelegate,this.R),this.Ut=new Dze,this.Ue=function(h,d){return new kze(h,d)}(this.R,this.Ut),this.Ke=new Sze,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return n.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new we(se.FAILED_PRECONDITION,iR);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new la(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},n.prototype.He=function(e){var t=this;return this.Me=function(r){return X(t,void 0,void 0,function(){return Y(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},n.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(r){return X(t,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},n.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return X(t,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},n.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return cS(t).put(new Oc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(r){return e.isPrimary&&!r?e.Xe(t).next(function(){return!1}):!!r&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(Tg(t))return xe("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},n.prototype.Je=function(e){var t=this;return Sy(e).get(Zs.key).next(function(r){return Te.resolve(t.tn(r))})},n.prototype.en=function(e){return cS(e).delete(this.clientId)},n.prototype.nn=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o=this;return Y(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=Hs(a,Oc.store);return u.Nt().next(function(l){var c=o.rn(l,18e5),h=l.filter(function(d){return c.indexOf(d)===-1});return Te.forEach(h,function(d){return u.delete(d.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.Qe)for(t=0,r=e;t<r.length;t++)i=r[t],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},n.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},n.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},n.prototype.Ye=function(e){var t=this;return this.Ce?Te.resolve(!0):Sy(e).get(Zs.key).next(function(r){if(r!==null&&t.sn(r.leaseTimestampMs,5e3)&&!t.cn(r.ownerId)){if(t.tn(r)&&t.networkEnabled)return!0;if(!t.tn(r)){if(!r.allowTabSynchronization)throw new we(se.FAILED_PRECONDITION,iR);return!1}}return!(!t.networkEnabled||!t.inForeground)||cS(e).Nt().next(function(i){return t.rn(i,5e3).find(function(o){if(t.clientId!==o.clientId){var s=!t.networkEnabled&&o.networkEnabled,a=!t.inForeground&&o.inForeground,u=t.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return t.isPrimary!==r&&xe("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},n.prototype.shutdown=function(){return X(this,void 0,void 0,function(){var e=this;return Y(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Zs.store,Oc.store],function(r){var i=new j$(r,la.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},n.prototype.rn=function(e,t){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,t)&&!r.cn(i.clientId)})},n.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return cS(t).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(n.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),n.prototype.getMutationQueue=function(e){return Aze.Qt(e,this.R,this.Ut,this.referenceDelegate)},n.prototype.getTargetCache=function(){return this.qe},n.prototype.getRemoteDocumentCache=function(){return this.Ue},n.prototype.getIndexManager=function(){return this.Ut},n.prototype.getBundleCache=function(){return this.Ke},n.prototype.runTransaction=function(e,t,r){var i=this;xe("IndexedDbPersistence","Starting transaction:",e);var o,s=t==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,s,bze,function(a){return o=new j$(a,i.Ne?i.Ne.next():la.o),t==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw Yr("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new we(se.FAILED_PRECONDITION,xae);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},n.prototype.dn=function(e){var t=this;return Sy(e).get(Zs.key).next(function(r){if(r!==null&&t.sn(r.leaseTimestampMs,5e3)&&!t.cn(r.ownerId)&&!t.tn(r)&&!(t.Ce||t.allowTabSynchronization&&r.allowTabSynchronization))throw new we(se.FAILED_PRECONDITION,iR)})},n.prototype.Ze=function(e){var t=new Zs(this.clientId,this.allowTabSynchronization,Date.now());return Sy(e).put(Zs.key,t)},n.yt=function(){return s_.yt()},n.prototype.Xe=function(e){var t=this,r=Sy(e);return r.get(Zs.key).next(function(i){return t.tn(i)?(xe("IndexedDbPersistence","Releasing primary lease."),r.delete(Zs.key)):Te.resolve()})},n.prototype.sn=function(e,t){var r=Date.now();return!(e<r-t||e>r&&(Yr("Detected an update time that is in the future: "+e+" > "+r),1))},n.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},n.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},n.prototype.Ge=function(){var e,t=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){t.un(),qbe()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},n.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},n.prototype.cn=function(e){var t;try{var r=((t=this.Qe)===null||t===void 0?void 0:t.getItem(this.on(e)))!==null;return xe("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Yr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},n.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Yr("Failed to set zombie client id.",e)}},n.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},n.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},n}();function Sy(n){return Hs(n,Zs.store)}function cS(n){return Hs(n,Oc.store)}function P8(n,e){var t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var Fze=function(n,e){this.progress=n,this.wn=e},Hae=function(){function n(e,t,r){this.Ue=e,this._n=t,this.Ut=r}return n.prototype.mn=function(e,t){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(i){return r.yn(e,t,i)})},n.prototype.yn=function(e,t,r){return this.Ue.getEntry(e,t).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},n.prototype.gn=function(e,t){e.forEach(function(r,i){for(var o=0,s=t;o<s.length;o++)s[o].applyToLocalView(i)})},n.prototype.pn=function(e,t){var r=this;return this.Ue.getEntries(e,t).next(function(i){return r.En(e,i).next(function(){return i})})},n.prototype.En=function(e,t){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(i){return r.gn(t,i)})},n.prototype.getDocumentsMatchingQuery=function(e,t,r){return function(i){return ct.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(t)?this.Tn(e,t.path):T8(t)?this.In(e,t,r):this.An(e,t,r)},n.prototype.Tn=function(e,t){return this.mn(e,new ct(t)).next(function(r){var i=eF();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},n.prototype.In=function(e,t,r){var i=this,o=t.collectionGroup,s=eF();return this.Ut.getCollectionParents(e,o).next(function(a){return Te.forEach(a,function(u){var l=function(c,h){return new Zc(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t,u.child(o));return i.An(e,l,r).next(function(c){c.forEach(function(h,d){s=s.insert(h,d)})})}).next(function(){return s})})},n.prototype.An=function(e,t,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(e,t,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(a){return o=a,s.Rn(e,o,i).next(function(u){i=u;for(var l=0,c=o;l<c.length;l++)for(var h=c[l],d=0,p=h.mutations;d<p.length;d++){var v=p[d],m=v.key,_=i.get(m);_==null&&(_=eo.newInvalidDocument(m),i=i.insert(m,_)),J3(v,_,h.localWriteTime),_.isFoundDocument()||(i=i.remove(m))}})}).next(function(){return i.forEach(function(a,u){jC(t,u)||(i=i.remove(a))}),i})},n.prototype.Rn=function(e,t,r){for(var i=Pn(),o=0,s=t;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var l=u[a];l instanceof Yh&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(e,i).next(function(h){return h.forEach(function(d,p){p.isFoundDocument()&&(c=c.insert(d,p))}),c})},n}(),Bze=function(){function n(e,t,r,i){this.targetId=e,this.fromCache=t,this.bn=r,this.vn=i}return n.Pn=function(e,t){for(var r=Pn(),i=Pn(),o=0,s=t.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new n(e,t.fromCache,r,i)},n}(),Vae=function(){function n(){}return n.prototype.Vn=function(e){this.Sn=e},n.prototype.getDocumentsMatchingQuery=function(e,t,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(jt.min())?this.Dn(e,t):this.Sn.pn(e,i).next(function(s){var a=o.Cn(t,s);return(KS(t)||FD(t))&&o.Nn(t.limitType,a,i,r)?o.Dn(e,t):(Y3()<=zt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Z3(t)),o.Sn.getDocumentsMatchingQuery(e,t,r).next(function(u){return a.forEach(function(l){u=u.insert(l.key,l)}),u}))})},n.prototype.Cn=function(e,t){var r=new pi(oae(e));return t.forEach(function(i,o){jC(e,o)&&(r=r.add(o))}),r},n.prototype.Nn=function(e,t,r,i){if(r.size!==t.size)return!0;var o=e==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},n.prototype.Dn=function(e,t){return Y3()<=zt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Z3(t)),this.Sn.getDocumentsMatchingQuery(e,t,jt.min())},n}(),Hze=function(){function n(e,t,r,i){this.persistence=e,this.xn=t,this.R=i,this.kn=new Mo(Zt),this.Fn=new Z_(function(o){return WC(o)},vI),this.$n=jt.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Hae(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return n.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,t.kn)})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wae(n,e,t,r){return new Hze(n,e,t,r)}function Uae(n,e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return t=Me(n),r=t._n,i=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(a){var u;return t._n.getAllMutationBatches(a).next(function(l){return u=l,r=t.persistence.getMutationQueue(e),i=new Hae(t.On,r,t.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(l){for(var c=[],h=[],d=Pn(),p=0,v=u;p<v.length;p++){var m=v[p];c.push(m.batchId);for(var _=0,b=m.mutations;_<b.length;_++){var C=b[_];d=d.add(C.key)}}for(var E=0,S=l;E<S.length;E++){var A=S[E];h.push(A.batchId);for(var T=0,N=A.mutations;T<N.length;T++){var k=N[T];d=d.add(k.key)}}return i.pn(a,d).next(function(F){return{Ln:F,removedBatchIds:c,addedBatchIds:h}})})})];case 1:return o=s.sent(),[2,(t._n=r,t.Mn=i,t.xn.Vn(t.Mn),o)]}})})}function Vze(n,e){var t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=t.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){var c=u.batch,h=c.keys(),d=Te.resolve();return h.forEach(function(p){d=d.next(function(){return l.getEntry(a,p)}).next(function(v){var m=u.docVersions.get(p);_t(m!==null),v.version.compareTo(m)<0&&(c.applyToRemoteDocument(v,u),v.isValidDocument()&&l.addEntry(v,u.commitVersion))})}),d.next(function(){return s._n.removeMutationBatch(a,c)})}(t,r,e,o).next(function(){return o.apply(r)}).next(function(){return t._n.performConsistencyCheck(r)}).next(function(){return t.Mn.pn(r,i)})})}function jae(n){var e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Wze(n,e){var t=Me(n),r=e.snapshotVersion,i=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=t.On.newChangeBuffer({trackRemovals:!0});i=t.kn;var a=[];e.targetChanges.forEach(function(c,h){var d=i.get(h);if(d){a.push(t.qe.removeMatchingKeys(o,c.removedDocuments,h).next(function(){return t.qe.addMatchingKeys(o,c.addedDocuments,h)}));var p=c.resumeToken;if(p.approximateByteSize()>0){var v=d.withResumeToken(p,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(h,v),function(m,_,b){return _t(_.resumeToken.approximateByteSize()>0),m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,v,c)&&a.push(t.qe.updateTargetData(o,v))}}});var u=Ba();if(e.documentUpdates.forEach(function(c,h){e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(qae(o,s,e.documentUpdates,r,void 0).next(function(c){u=c})),!r.isEqual(jt.min())){var l=t.qe.getLastRemoteSnapshotVersion(o).next(function(c){return t.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(l)}return Te.waitFor(a).next(function(){return s.apply(o)}).next(function(){return t.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return t.kn=i,o})}function qae(n,e,t,r,i){var o=Pn();return t.forEach(function(s){return o=o.add(s)}),e.getEntries(n,o).next(function(s){var a=Ba();return t.forEach(function(u,l){var c=s.get(u),h=(i==null?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(jt.min())?(e.removeEntry(u,h),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l,h),a=a.insert(u,l)):xe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}function Uze(n,e){var t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),t._n.getNextMutationBatchAfterBatchId(r,e)})}function l_(n,e){var t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return t.qe.getTargetData(r,e).next(function(o){return o?(i=o,Te.resolve(i)):t.qe.allocateTargetId(r).next(function(s){return i=new bI(e,s,0,r.currentSequenceNumber),t.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=t.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.kn=t.kn.insert(r.targetId,r),t.Fn.set(e,r.targetId)),r})}function c_(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:r=Me(n),i=r.kn.get(e),o=t?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),t?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Tg(s=a.sent()))throw s;return xe("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function WD(n,e,t){var r=Me(n),i=jt.min(),o=Pn();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,l){var c=Me(a),h=c.Fn.get(l);return h!==void 0?Te.resolve(c.kn.get(h)):c.qe.getTargetData(u,l)}(r,s,ja(e)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,e,t?i:jt.min(),t?o:Pn())}).next(function(a){return{documents:a,Bn:o}})})}function zae(n,e){var t=Me(n),r=Me(t.qe),i=t.kn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(s){return s?s.target:null})})}function Gae(n){var e=Me(n);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(r,i,o){var s=Me(r),a=Ba(),u=O8(o),l=Rf(i),c=IDBKeyRange.lowerBound(u,!0);return l.$t({index:Sr.readTimeIndex,range:c},function(h,d){var p=nF(s.R,d);a=a.insert(p.key,p),u=d.readTime}).next(function(){return{wn:a,readTime:kae(u)}})}(e.On,t,e.$n)}).then(function(t){var r=t.wn,i=t.readTime;return e.$n=i,r})}function jze(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){return[2,(e=Me(n)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Rf(i),s=jt.min();return o.$t({index:Sr.readTimeIndex,reverse:!0},function(a,u,l){u.readTime&&(s=kae(u.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){e.$n=r})]})})}function qze(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h,d,p;return Y(this,function(v){switch(v.label){case 0:for(i=Me(n),o=Pn(),s=Ba(),a=vae(),u=0,l=t;u<l.length;u++)c=l[u],h=e.qn(c.metadata.name),c.document&&(o=o.add(h)),s=s.insert(h,e.Un(c)),a=a.insert(h,e.Kn(c.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,l_(i,function(m){return ja(Q_(gn.fromString("__bundle__/docs/"+m)))}(r))];case 1:return p=v.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(m){return qae(m,d,s,jt.min(),a).next(function(_){return d.apply(m),_}).next(function(_){return i.qe.removeMatchingKeysForTargetId(m,p.targetId).next(function(){return i.qe.addMatchingKeys(m,o,p.targetId)}).next(function(){return i.Mn.En(m,_)}).next(function(){return _})})})]}})})}function zze(n,e,t){return t===void 0&&(t=Pn()),X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return[4,l_(n,ja(k8(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Me(n)).persistence.runTransaction("Save named query","readwrite",function(s){var a=Ri(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ke.saveNamedQuery(s,e);var u=r.withResumeToken(fs.EMPTY_BYTE_STRING,a);return i.kn=i.kn.insert(u.targetId,u),i.qe.updateTargetData(s,u).next(function(){return i.qe.removeMatchingKeysForTargetId(s,r.targetId)}).next(function(){return i.qe.addMatchingKeys(s,t,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(s,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gze=function(){function n(e){this.R=e,this.Qn=new Map,this.jn=new Map}return n.prototype.getBundleMetadata=function(e,t){return Te.resolve(this.Qn.get(t))},n.prototype.saveBundleMetadata=function(e,t){var r;return this.Qn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ri(r.createTime)}),Te.resolve()},n.prototype.getNamedQuery=function(e,t){return Te.resolve(this.jn.get(t))},n.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(r){return{name:r.name,query:k8(r.bundledQuery),readTime:Ri(r.readTime)}}(t)),Te.resolve()},n}(),M8=function(){function n(){this.Wn=new pi(Di.Gn),this.zn=new pi(Di.Hn)}return n.prototype.isEmpty=function(){return this.Wn.isEmpty()},n.prototype.addReference=function(e,t){var r=new Di(e,t);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},n.prototype.Jn=function(e,t){var r=this;e.forEach(function(i){return r.addReference(i,t)})},n.prototype.removeReference=function(e,t){this.Yn(new Di(e,t))},n.prototype.Xn=function(e,t){var r=this;e.forEach(function(i){return r.removeReference(i,t)})},n.prototype.Zn=function(e){var t=this,r=new ct(new gn([])),i=new Di(r,e),o=new Di(r,e+1),s=[];return this.zn.forEachInRange([i,o],function(a){t.Yn(a),s.push(a.key)}),s},n.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},n.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},n.prototype.es=function(e){var t=new ct(new gn([])),r=new Di(t,e),i=new Di(t,e+1),o=Pn();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},n.prototype.containsKey=function(e){var t=new Di(e,0),r=this.Wn.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)},n}(),Di=function(){function n(e,t){this.key=e,this.ns=t}return n.Gn=function(e,t){return ct.comparator(e.key,t.key)||Zt(e.ns,t.ns)},n.Hn=function(e,t){return Zt(e.ns,t.ns)||ct.comparator(e.key,t.key)},n}(),$ze=function(){function n(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new pi(Di.Gn)}return n.prototype.checkEmpty=function(e){return Te.resolve(this._n.length===0)},n.prototype.addMutationBatch=function(e,t,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new N8(o,t,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var l=u[a];this.rs=this.rs.add(new Di(l.key,o)),this.Ut.addToCollectionParentIndex(e,l.key.path.popLast())}return Te.resolve(s)},n.prototype.lookupMutationBatch=function(e,t){return Te.resolve(this.os(t))},n.prototype.getNextMutationBatchAfterBatchId=function(e,t){var r=t+1,i=this.cs(r),o=i<0?0:i;return Te.resolve(this._n.length>o?this._n[o]:null)},n.prototype.getHighestUnacknowledgedBatchId=function(){return Te.resolve(this._n.length===0?-1:this.ss-1)},n.prototype.getAllMutationBatches=function(e){return Te.resolve(this._n.slice())},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var r=this,i=new Di(t,0),o=new Di(t,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),Te.resolve(s)},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var r=this,i=new pi(Zt);return t.forEach(function(o){var s=new Di(o,0),a=new Di(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),Te.resolve(this.us(i))},n.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var r=t.path,i=r.length+1,o=r;ct.isDocumentKey(o)||(o=o.child(""));var s=new Di(new ct(o),0),a=new pi(Zt);return this.rs.forEachWhile(function(u){var l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ns)),!0)},s),Te.resolve(this.us(a))},n.prototype.us=function(e){var t=this,r=[];return e.forEach(function(i){var o=t.os(i);o!==null&&r.push(o)}),r},n.prototype.removeMutationBatch=function(e,t){var r=this;_t(this.hs(t.batchId,"removed")===0),this._n.shift();var i=this.rs;return Te.forEach(t.mutations,function(o){var s=new Di(o.key,t.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},n.prototype.Gt=function(e){},n.prototype.containsKey=function(e,t){var r=new Di(t,0),i=this.rs.firstAfterOrEqual(r);return Te.resolve(t.isEqual(i&&i.key))},n.prototype.performConsistencyCheck=function(e){return this._n.length,Te.resolve()},n.prototype.hs=function(e,t){return this.cs(e)},n.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},n.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},n}(),Kze=function(){function n(e,t){this.Ut=e,this.ls=t,this.docs=new Mo(ct.comparator),this.size=0}return n.prototype.addEntry=function(e,t,r){var i=t.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},n.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},n.prototype.getEntry=function(e,t){var r=this.docs.get(t);return Te.resolve(r?r.document.clone():eo.newInvalidDocument(t))},n.prototype.getEntries=function(e,t){var r=this,i=Ba();return t.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():eo.newInvalidDocument(o))}),Te.resolve(i)},n.prototype.getDocumentsMatchingQuery=function(e,t,r){for(var i=Ba(),o=new ct(t.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,l=a.value,c=l.document,h=l.readTime;if(!t.path.isPrefixOf(u.path))break;h.compareTo(r)<=0||jC(t,c)&&(i=i.insert(c.key,c.clone()))}return Te.resolve(i)},n.prototype.fs=function(e,t){return Te.forEach(this.docs,function(r){return t(r)})},n.prototype.newChangeBuffer=function(e){return new Yze(this)},n.prototype.getSize=function(e){return Te.resolve(this.size)},n}(),Yze=function(n){function e(t){var r=this;return(r=n.call(this)||this).Ie=t,r}return Fe(e,n),e.prototype.applyChanges=function(t){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(t,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),Te.waitFor(i)},e.prototype.getFromCache=function(t,r){return this.Ie.getEntry(t,r)},e.prototype.getAllFromCache=function(t,r){return this.Ie.getEntries(t,r)},e}(Bae),Xze=function(){function n(e){this.persistence=e,this.ds=new Z_(function(t){return WC(t)},vI),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.ws=0,this._s=new M8,this.targetCount=0,this.ys=VD.Jt()}return n.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(r,i){return t(i)}),Te.resolve()},n.prototype.getLastRemoteSnapshotVersion=function(e){return Te.resolve(this.lastRemoteSnapshotVersion)},n.prototype.getHighestSequenceNumber=function(e){return Te.resolve(this.ws)},n.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Te.resolve(this.highestTargetId)},n.prototype.setTargetsMetadata=function(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ws&&(this.ws=t),Te.resolve()},n.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new VD(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},n.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Te.resolve()},n.prototype.updateTargetData=function(e,t){return this.te(t),Te.resolve()},n.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Te.resolve()},n.prototype.removeTargets=function(e,t,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=t&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),Te.waitFor(s).next(function(){return o})},n.prototype.getTargetCount=function(e){return Te.resolve(this.targetCount)},n.prototype.getTargetData=function(e,t){var r=this.ds.get(t)||null;return Te.resolve(r)},n.prototype.addMatchingKeys=function(e,t,r){return this._s.Jn(t,r),Te.resolve()},n.prototype.removeMatchingKeys=function(e,t,r){this._s.Xn(t,r);var i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(function(s){o.push(i.markPotentiallyOrphaned(e,s))}),Te.waitFor(o)},n.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Te.resolve()},n.prototype.getMatchingKeysForTargetId=function(e,t){var r=this._s.es(t);return Te.resolve(r)},n.prototype.containsKey=function(e,t){return Te.resolve(this._s.containsKey(t))},n}(),Qze=function(){function n(e,t){var r=this;this.gs={},this.Ne=new la(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Xze(this),this.Ut=new Tze,this.Ue=function(i,o){return new Kze(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new Oae(t),this.Ke=new Gze(this.R)}return n.prototype.start=function(){return Promise.resolve()},n.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(n.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),n.prototype.setDatabaseDeletedListener=function(){},n.prototype.setNetworkEnabled=function(){},n.prototype.getIndexManager=function(){return this.Ut},n.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new $ze(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},n.prototype.getTargetCache=function(){return this.qe},n.prototype.getRemoteDocumentCache=function(){return this.Ue},n.prototype.getBundleCache=function(){return this.Ke},n.prototype.runTransaction=function(e,t,r){var i=this;xe("MemoryPersistence","Starting transaction:",e);var o=new Zze(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},n.prototype.Is=function(e,t){return Te.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,t)}}))},n}(),Zze=function(n){function e(t){var r=this;return(r=n.call(this)||this).currentSequenceNumber=t,r}return Fe(e,n),e}(Lae),Jze=function(){function n(e){this.persistence=e,this.As=new M8,this.Rs=null}return n.bs=function(e){return new n(e)},Object.defineProperty(n.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw it()},enumerable:!1,configurable:!0}),n.prototype.addReference=function(e,t,r){return this.As.addReference(r,t),this.vs.delete(r.toString()),Te.resolve()},n.prototype.removeReference=function(e,t,r){return this.As.removeReference(r,t),this.vs.add(r.toString()),Te.resolve()},n.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Te.resolve()},n.prototype.removeTarget=function(e,t){var r=this;this.As.Zn(t.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(e,t)})},n.prototype.Es=function(){this.Rs=new Set},n.prototype.Ts=function(e){var t=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.vs,function(i){var o=ct.fromPath(i);return t.Ps(e,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return t.Rs=null,r.apply(e)})},n.prototype.updateLimboDocument=function(e,t){var r=this;return this.Ps(e,t).next(function(i){i?r.vs.delete(t.toString()):r.vs.add(t.toString())})},n.prototype.ps=function(e){return 0},n.prototype.Ps=function(e,t){var r=this;return Te.or([function(){return Te.resolve(r.As.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){return r.persistence.Is(e,t)}])},n}(),ji=function(){function n(e){this.uid=e}return n.prototype.isAuthenticated=function(){return this.uid!=null},n.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},n.prototype.isEqual=function(e){return e.uid===this.uid},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(n,e){return"firestore_clients_"+n+"_"+e}function eK(n,e,t){var r="firestore_mutations_"+n+"_"+t;return e.isAuthenticated()&&(r+="_"+e.uid),r}function oR(n,e){return"firestore_targets_"+n+"_"+e}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");var tK=function(){function n(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}return n.Vs=function(e,t,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new we(o.error.code,o.error.message)),s?new n(e,t,o.state,i):(Yr("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+r),null)},n.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},n}(),sR=function(){function n(e,t,r){this.targetId=e,this.state=t,this.error=r}return n.Vs=function(e,t){var r,i=JSON.parse(t),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new we(i.error.code,i.error.message)),o?new n(e,i.state,r):(Yr("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},n.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},n}(),nK=function(){function n(e,t){this.clientId=e,this.activeTargetIds=t}return n.Vs=function(e,t){for(var r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=yI(),s=0;i&&s<r.activeTargetIds.length;++s)i=Jse(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(Yr("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},n}(),eGe=function(){function n(e,t){this.clientId=e,this.onlineState=t}return n.Vs=function(e){var t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(Yr("SharedClientState","Failed to parse online state: "+e),null)},n}(),rF=function(){function n(){this.activeTargetIds=yI()}return n.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},n.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},n.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},n}(),aR=function(){function n(e,t,r,i,o){this.window=e,this.Se=t,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Mo(Zt),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=J$(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new rF),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return n.yt=function(e){return!(!e||!e.localStorage)},n.prototype.start=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o,s,a,u,l,c,h,d=this;return Y(this,function(p){switch(p.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=p.sent(),t=0,r=e;t<r.length;t++)(i=r[t])!==this.Ns&&(o=this.getItem(J$(this.persistenceKey,i)))&&(s=nK.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)h=c[l],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return d.shutdown()}),this.started=!0,[2]}})})},n.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},n.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},n.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(t=!0)}),t},n.prototype.addPendingMutation=function(e){this.zs(e,"pending")},n.prototype.updateMutationState=function(e,t,r){this.zs(e,t,r),this.Hs(e)},n.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(oR(this.persistenceKey,e));if(r){var i=sR.Vs(e,r);i&&(t=i.state)}}return this.Js.Ds(e),this.Qs(),t},n.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},n.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},n.prototype.clearQueryState=function(e){this.removeItem(oR(this.persistenceKey,e))},n.prototype.updateQueryState=function(e,t,r){this.Ys(e,t,r)},n.prototype.handleUserChange=function(e,t,r){var i=this;t.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},n.prototype.setOnlineState=function(e){this.Xs(e)},n.prototype.notifyBundleLoaded=function(){this.Zs()},n.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},n.prototype.getItem=function(e){var t=this.storage.getItem(e);return xe("SharedClientState","READ",e,t),t},n.prototype.setItem=function(e,t){xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)},n.prototype.removeItem=function(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)},n.prototype.ks=function(e){var t=this,r=e;if(r.storageArea===this.storage){if(xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return X(t,void 0,void 0,function(){var i,o,s,a,u,l;return Y(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(l=function(h){var d=la.o;if(h!=null)try{var p=JSON.parse(h);_t(typeof p=="number"),d=p}catch(v){Yr("SharedClientState","Failed to read sequence number from WebStorage",v)}return d}(r.newValue))!==la.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(n.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),n.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},n.prototype.zs=function(e,t,r){var i=new tK(this.currentUser,e,t,r),o=eK(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},n.prototype.Hs=function(e){var t=eK(this.persistenceKey,this.currentUser,e);this.removeItem(t)},n.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},n.prototype.Ys=function(e,t,r){var i=oR(this.persistenceKey,e),o=new sR(e,t,r);this.setItem(i,o.Ss())},n.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},n.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},n.prototype.ni=function(e,t){var r=this.ti(e);return nK.Vs(r,t)},n.prototype.si=function(e,t){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return tK.Vs(new ji(o),i,t)},n.prototype.ri=function(e,t){var r=this.qs.exec(e),i=Number(r[1]);return sR.Vs(i,t)},n.prototype.js=function(e){return eGe.Vs(e)},n.prototype.ii=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(xe("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},n.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},n.prototype.ei=function(e,t){var r=this,i=t?this.Fs.insert(e,t):this.Fs.remove(e),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(l){o.has(l)||a.push(l)}),o.forEach(function(l){s.has(l)||u.push(l)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},n.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},n.prototype.Gs=function(e){var t=yI();return e.forEach(function(r,i){t=t.unionWith(i.activeTargetIds)}),t},n}(),$ae=function(){function n(){this.li=new rF,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return n.prototype.addPendingMutation=function(e){},n.prototype.updateMutationState=function(e,t,r){},n.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},n.prototype.updateQueryState=function(e,t,r){this.fi[e]=t},n.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},n.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},n.prototype.clearQueryState=function(e){delete this.fi[e]},n.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},n.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},n.prototype.start=function(){return this.li=new rF,Promise.resolve()},n.prototype.handleUserChange=function(e,t,r){},n.prototype.setOnlineState=function(e){},n.prototype.shutdown=function(){},n.prototype.writeSequenceNumber=function(e){},n.prototype.notifyBundleLoaded=function(){},n}(),tGe=function(){function n(){}return n.prototype.di=function(e){},n.prototype.shutdown=function(){},n}(),rK=function(){function n(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return n.prototype.di=function(e){this.gi.push(e)},n.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},n.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},n.prototype._i=function(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},n.prototype.yi=function(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},n.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},n}(),nGe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rGe=function(){function n(e){this.Ei=e.Ei,this.Ti=e.Ti}return n.prototype.Ii=function(e){this.Ai=e},n.prototype.Ri=function(e){this.bi=e},n.prototype.onMessage=function(e){this.vi=e},n.prototype.close=function(){this.Ti()},n.prototype.send=function(e){this.Ei(e)},n.prototype.Pi=function(){this.Ai()},n.prototype.Vi=function(e){this.bi(e)},n.prototype.Si=function(e){this.vi(e)},n}(),iGe=function(n){function e(t){var r=this;return(r=n.call(this,t)||this).forceLongPolling=t.forceLongPolling,r.autoDetectLongPolling=t.autoDetectLongPolling,r.useFetchStreams=t.useFetchStreams,r}return Fe(e,n),e.prototype.Fi=function(t,r,i,o){return new Promise(function(s,a){var u=new Rqe;u.listenOnce(Nqe.COMPLETE,function(){try{switch(u.getLastErrorCode()){case rR.NO_ERROR:var c=u.getResponseJson();xe("Connection","XHR received:",JSON.stringify(c)),s(c);break;case rR.TIMEOUT:xe("Connection",'RPC "'+t+'" timed out'),a(new we(se.DEADLINE_EXCEEDED,"Request time out"));break;case rR.HTTP_ERROR:var h=u.getStatus();if(xe("Connection",'RPC "'+t+'" failed with status:',h,"response text:",u.getResponseText()),h>0){var d=u.getResponseJson().error;if(d&&d.status&&d.message){var p=function(v){var m=v.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(m)>=0?m:se.UNKNOWN}(d.status);a(new we(p,d.message))}else a(new we(se.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new we(se.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{xe("Connection",'RPC "'+t+'" completed.')}});var l=JSON.stringify(o);u.send(r,"POST",l,i,15)})},e.prototype.Oi=function(t,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=xqe(),s=Lqe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new kqe({})),this.ki(a.initMessageHeaders,r),_4()||XQ()||Wbe()||Ube()||jbe()||y4()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");xe("Connection","Creating WebChannel: "+u,a);var l=o.createWebChannel(u,a),c=!1,h=!1,d=new rGe({Ei:function(v){h?xe("Connection","Not sending because WebChannel is closed:",v):(c||(xe("Connection","Opening WebChannel transport."),l.open(),c=!0),xe("Connection","WebChannel sending:",v),l.send(v))},Ti:function(){return l.close()}}),p=function(v,m,_){v.listen(m,function(b){try{_(b)}catch(C){setTimeout(function(){throw C},0)}})};return p(l,sS.EventType.OPEN,function(){h||xe("Connection","WebChannel transport opened.")}),p(l,sS.EventType.CLOSE,function(){h||(h=!0,xe("Connection","WebChannel transport closed"),d.Vi())}),p(l,sS.EventType.ERROR,function(v){h||(h=!0,T1("Connection","WebChannel transport errored:",v),d.Vi(new we(se.UNAVAILABLE,"The operation could not be completed")))}),p(l,sS.EventType.MESSAGE,function(v){var m;if(!h){var _=v.data[0];_t(!!_);var b=_,C=b.error||((m=b[0])===null||m===void 0?void 0:m.error);if(C){xe("Connection","WebChannel received error:",C);var E=C.status,S=function(T){var N=qr[T];if(N!==void 0)return gae(N)}(E),A=C.message;S===void 0&&(S=se.INTERNAL,A="Unknown error status: "+E+" with message "+C.message),h=!0,d.Vi(new we(S,A)),l.close()}else xe("Connection","WebChannel received:",_),d.Si(_)}}),p(s,Oqe.STAT_EVENT,function(v){v.stat===b$.PROXY?xe("Connection","Detected buffering proxy"):v.stat===b$.NOPROXY&&xe("Connection","Detected no buffering proxy")}),setTimeout(function(){d.Pi()},0),d},e}(function(){function n(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return n.prototype.Ni=function(e,t,r,i){var o=this.xi(e,t);xe("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(e,o,s,r).then(function(a){return xe("RestConnection","Received: ",a),a},function(a){throw T1("RestConnection",e+" failed with error: ",a,"url: ",o,"request:",r),a})},n.prototype.$i=function(e,t,r,i){return this.Ni(e,t,r,i)},n.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])},n.prototype.xi=function(e,t){var r=nGe[e];return this.Di+"/v1/"+t+":"+r},n}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(){return typeof window<"u"?window:null}function QS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){return new lze(n,!0)}var F8=function(){function n(e,t,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return n.prototype.reset=function(){this.qi=0},n.prototype.Qi=function(){this.qi=this.Bi},n.prototype.ji=function(e){var t=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&xe("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},n.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},n.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},n.prototype.Wi=function(){return(Math.random()-.5)*this.qi},n}(),Yae=function(){function n(e,t,r,i,o,s){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new F8(e,t)}return n.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},n.prototype.er=function(){return this.state===2},n.prototype.start=function(){this.state!==3?this.auth():this.nr()},n.prototype.stop=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.sr=function(){this.state=0,this.Zi.reset()},n.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},n.prototype.cr=function(e){this.ur(),this.stream.send(e)},n.prototype.rr=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},n.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},n.prototype.close=function(e,t){return X(this,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===se.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return r.sent(),[2]}})})},n.prototype.ar=function(){},n.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){t(function(){var o=new we(se.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},n.prototype.lr=function(e){var t=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return t.dr(i)})}),this.stream.onMessage(function(i){r(function(){return t.onMessage(i)})})},n.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return X(e,void 0,void 0,function(){return Y(this,function(t){return this.state=0,this.start(),[2]})})})},n.prototype.dr=function(e){return xe("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},n.prototype.hr=function(e){var t=this;return function(r){t.Se.enqueueAndForget(function(){return t.Yi===e?r():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},n}(),oGe=function(n){function e(t,r,i,o,s){var a=this;return(a=n.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return Fe(e,n),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:it()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(_,b){return _.I?(_t(b===void 0||typeof b=="string"),fs.fromBase64String(b||"")):(_t(b===void 0||b instanceof Uint8Array),fs.fromUint8Array(b||new Uint8Array))}(o,s.targetChange.resumeToken),h=(d=s.targetChange.cause)&&function(_){var b=_.code===void 0?se.UNKNOWN:gae(_.code);return new we(b,_.message||"")}(d);a=new _ae(u,l,c,h||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,l=Cl(o,u.document.name),c=Ri(u.document.updateTime);var d=new oa({mapValue:{fields:u.document.fields}}),p=(h=eo.newFoundDocument(l,c,d),u.targetIds||[]),v=u.removedTargetIds||[];a=new XS(p,v,h.key,h)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,l=Cl(o,u.document),c=u.readTime?Ri(u.readTime):jt.min(),d=eo.newNoDocument(l,c),h=u.removedTargetIds||[],a=new XS([],h,d.key,d);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,l=Cl(o,u.document),c=u.removedTargetIds||[],a=new XS([],c,l,null);else{if(!("filter"in s))return it();s.filter;var m=s.filter;m.targetId,u=m.count||0,l=new eze(u),c=m.targetId,a=new mae(c,l)}return a}(this.R,t),i=function(o){if(!("targetChange"in o))return jt.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?jt.min():s.readTime?Ri(s.readTime):jt.min()}(t);return this.listener._r(r,i)},e.prototype.mr=function(t){var r={};r.database=N1(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=PD(u)?{documents:Sae(o,u)}:{query:Tae(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=yae(o,s.resumeToken):s.snapshotVersion.compareTo(jt.min())>0&&(a.readTime=x1(o,s.snapshotVersion.toTimestamp())),a}(this.R,t);var i=function(o,s){var a=function(u,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,t);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(t){var r={};r.database=N1(this.R),r.removeTarget=t,this.cr(r)},e}(Yae),sGe=function(n){function e(t,r,i,o,s){var a=this;return(a=n.call(this,t,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return Fe(e,n),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,n.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(_t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(_t(s!==void 0),o.map(function(a){return function(u,l){var c=u.updateTime?Ri(u.updateTime):Ri(l);return c.isEqual(jt.min())&&(c=Ri(l)),new Qqe(c,u.transformResults||[])}(a,s)})):[]}(t.writeResults,t.commitTime),i=Ri(t.commitTime);return this.listener.Tr(i,r)}return _t(!t.writeResults||t.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=N1(this.R),this.cr(t)},e.prototype.Er=function(t){var r=this,i={streamToken:this.lastStreamToken,writes:t.map(function(o){return BD(r.R,o)})};this.cr(i)},e}(Yae),aGe=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).credentials=t,o.Hi=r,o.R=i,o.Rr=!1,o}return Fe(e,n),e.prototype.br=function(){if(this.Rr)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(t,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new we(se.UNKNOWN,s.toString())})},e.prototype.$i=function(t,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(t,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new we(se.UNKNOWN,s.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),uGe=function(){function n(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return n.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},n.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},n.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},n.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},n.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Yr(t),this.Vr=!1):xe("OnlineStateTracker",t)},n.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},n}(),lGe=function(n,e,t,r,i){var o=this;this.localStore=n,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){t.enqueueAndForget(function(){return X(o,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return Xh(this)?(xe("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return X(this,void 0,void 0,function(){var l;return Y(this,function(c){switch(c.label){case 0:return(l=Me(u)).Or.add(4),[4,J_(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,KC(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new uGe(t,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:if(!Xh(n))return[3,4];e=0,t=n.Mr,r.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function J_(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:e=0,t=n.Mr,r.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function CI(n,e){var t=Me(n);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),V8(t)?H8(t):t0(t).er()&&B8(t,e))}function O1(n,e){var t=Me(n),r=t0(t);t.$r.delete(e),r.er()&&Xae(t,e),t.$r.size===0&&(r.er()?r.ir():Xh(t)&&t.Br.set("Unknown"))}function B8(n,e){n.qr.U(e.targetId),t0(n).mr(e)}function Xae(n,e){n.qr.U(e),t0(n).yr(e)}function H8(n){n.qr=new sze({getRemoteKeysForTarget:function(e){return n.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return n.$r.get(e)||null}}),t0(n).start(),n.Br.Sr()}function V8(n){return Xh(n)&&!t0(n).tr()&&n.$r.size>0}function Xh(n){return Me(n).Or.size===0}function Qae(n){n.qr=void 0}function cGe(n){return X(this,void 0,void 0,function(){return Y(this,function(e){return n.$r.forEach(function(t,r){B8(n,t)}),[2]})})}function fGe(n,e){return X(this,void 0,void 0,function(){return Y(this,function(t){return Qae(n),V8(n)?(n.Br.Nr(e),H8(n)):n.Br.set("Unknown"),[2]})})}function hGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o;return Y(this,function(s){switch(s.label){case 0:if(n.Br.set("Online"),!(e instanceof _ae&&e.state===2&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return X(this,void 0,void 0,function(){var l,c,h,d;return Y(this,function(p){switch(p.label){case 0:l=u.cause,c=0,h=u.targetIds,p.label=1;case 1:return c<h.length?(d=h[c],a.$r.has(d)?[4,a.remoteSyncer.rejectListen(d,l)]:[3,3]):[3,5];case 2:p.sent(),a.$r.delete(d),a.qr.removeTarget(d),p.label=3;case 3:p.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(n,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,UD(n,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof XS?n.qr.X(e):e instanceof mae?n.qr.rt(e):n.qr.et(e),t.isEqual(jt.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,jae(n.localStore)];case 8:return i=s.sent(),t.compareTo(i)>=0?[4,function(a,u){var l=a.qr.ut(u);return l.targetChanges.forEach(function(c,h){if(c.resumeToken.approximateByteSize()>0){var d=a.$r.get(h);d&&a.$r.set(h,d.withResumeToken(c.resumeToken,u))}}),l.targetMismatches.forEach(function(c){var h=a.$r.get(c);if(h){a.$r.set(c,h.withResumeToken(fs.EMPTY_BYTE_STRING,h.snapshotVersion)),Xae(a,c);var d=new bI(h.target,c,1,h.sequenceNumber);B8(a,d)}}),a.remoteSyncer.applyRemoteEvent(l)}(n,t)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return xe("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,UD(n,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function UD(n,e,t){return X(this,void 0,void 0,function(){var r=this;return Y(this,function(i){switch(i.label){case 0:if(!Tg(e))throw e;return n.Or.add(1),[4,J_(n)];case 1:return i.sent(),n.Br.set("Offline"),t||(t=function(){return jae(n.localStore)}),n.asyncQueue.enqueueRetryable(function(){return X(r,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return xe("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return o.sent(),n.Or.delete(1),[4,KC(n)];case 2:return o.sent(),[2]}})})}),[2]}})})}function Zae(n,e){return e().catch(function(t){return UD(n,t,e)})}function e0(n){return X(this,void 0,void 0,function(){var e,t,r,i,o;return Y(this,function(s){switch(s.label){case 0:e=Me(n),t=xh(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return Xh(a)&&a.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Uze(e.localStore,r)];case 3:return(i=s.sent())===null?(e.Fr.length===0&&t.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var l=xh(a);l.er()&&l.pr&&l.Er(u.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,UD(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Jae(e)&&eue(e),[2]}})})}function Jae(n){return Xh(n)&&!xh(n).tr()&&n.Fr.length>0}function eue(n){xh(n).start()}function dGe(n){return X(this,void 0,void 0,function(){return Y(this,function(e){return xh(n).Ar(),[2]})})}function pGe(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){for(e=xh(n),t=0,r=n.Fr;t<r.length;t++)i=r[t],e.Er(i.mutations);return[2]})})}function gGe(n,e,t){return X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return r=n.Fr.shift(),i=Eze.from(r,e,t),[4,Zae(n,function(){return n.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,e0(n)];case 2:return o.sent(),[2]}})})}function vGe(n,e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return e&&xh(n).pr?[4,function(r,i){return X(this,void 0,void 0,function(){var o,s;return Y(this,function(a){switch(a.label){case 0:return pae(s=i.code)&&s!==se.ABORTED?(o=r.Fr.shift(),xh(r).sr(),[4,Zae(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,e0(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(n,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return Jae(n)&&eue(n),[2]}})})}function iF(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return t=Me(n),e?(t.Or.delete(2),[4,KC(t)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,J_(t)]);case 3:r.sent(),t.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function t0(n){var e=this;return n.Ur||(n.Ur=function(t,r,i){var o=Me(t);return o.br(),new oGe(r,o.Hi,o.credentials,o.R,i)}(n.datastore,n.asyncQueue,{Ii:cGe.bind(null,n),Ri:fGe.bind(null,n),_r:hGe.bind(null,n)}),n.Mr.push(function(t){return X(e,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return t?(n.Ur.sr(),V8(n)?H8(n):n.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:r.sent(),Qae(n),r.label=3;case 3:return[2]}})})})),n.Ur}function xh(n){var e=this;return n.Kr||(n.Kr=function(t,r,i){var o=Me(t);return o.br(),new sGe(r,o.Hi,o.credentials,o.R,i)}(n.datastore,n.asyncQueue,{Ii:dGe.bind(null,n),Ri:vGe.bind(null,n),Ir:pGe.bind(null,n),Tr:gGe.bind(null,n)}),n.Mr.push(function(t){return X(e,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return t?(n.Kr.sr(),[4,e0(n)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,n.Kr.stop()];case 3:r.sent(),n.Fr.length>0&&(xe("RemoteStore","Stopping write stream with "+n.Fr.length+" pending writes"),n.Fr=[]),r.label=4;case 4:return[2]}})})})),n.Kr}var mGe=function(){function n(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return n.createAndSchedule=function(e,t,r,i,o){var s=new n(e,t,Date.now()+r,i,o);return s.start(r),s},n.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},n.prototype.skipDelay=function(){return this.handleDelayElapsed()},n.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},n.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},n.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},n}();function n0(n,e){if(Yr("AsyncQueue",e+": "+n),Tg(n))return new we(se.UNAVAILABLE,e+": "+n);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tue=function(){function n(e){this.comparator=e?function(t,r){return e(t,r)||ct.comparator(t.key,r.key)}:function(t,r){return ct.comparator(t.key,r.key)},this.keyedMap=eF(),this.sortedSet=new Mo(this.comparator)}return n.emptySet=function(e){return new n(e.comparator)},n.prototype.has=function(e){return this.keyedMap.get(e)!=null},n.prototype.get=function(e){return this.keyedMap.get(e)},n.prototype.first=function(){return this.sortedSet.minKey()},n.prototype.last=function(){return this.sortedSet.maxKey()},n.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},n.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(n.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),n.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,r){return e(t),!1})},n.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},n.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},n.prototype.isEqual=function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();t.hasNext();){var i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},n.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},n.prototype.copy=function(e,t){var r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r},n}(),iK=function(){function n(){this.Qr=new Mo(ct.comparator)}return n.prototype.track=function(e){var t=e.doc.key,r=this.Qr.get(t);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(t,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(t):e.type===1&&r.type===2?this.Qr=this.Qr.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):it():this.Qr=this.Qr.insert(t,e)},n.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,r){e.push(r)}),e},n}(),jD=function(){function n(e,t,r,i,o,s,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return n.fromInitialDocuments=function(e,t,r,i){var o=[];return t.forEach(function(s){o.push({type:0,doc:s})}),new n(e,t,tue.emptySet(t),o,r,i,!0,!1)},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&UC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(var i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0},n}(),_Ge=function(){this.Wr=void 0,this.listeners=[]},yGe=function(){this.queries=new Z_(function(n){return iae(n)},UC),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:if(t=Me(n),r=e.query,i=!1,(o=t.queries.get(r))||(i=!0,o=new _Ge),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,t.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return a=l.sent(),u=n0(a,"Initialization of query '"+Z3(e.query)+"' failed"),[2,void e.onError(u)];case 4:return t.queries.set(r,o),o.listeners.push(e),e.zr(t.onlineState),o.Wr&&e.Hr(o.Wr)&&j8(t),[2]}})})}function U8(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){return t=Me(n),r=e.query,i=!1,(o=t.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(t.queries.delete(r),t.onUnlisten(r))]:[2]})})}function bGe(n,e){for(var t=Me(n),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=t.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&j8(t)}function CGe(n,e,t){var r=Me(n),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(t);r.queries.delete(e)}function j8(n){n.Gr.forEach(function(e){e.next()})}var q8=function(){function n(e,t,r){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return n.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&t.push(o)}e=new jD(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),s=!0):this.eo(e,this.onlineState)&&(this.no(e),s=!0),this.Xr=e,s},n.prototype.onError=function(e){this.Jr.error(e)},n.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},n.prototype.eo=function(e,t){if(!e.fromCache)return!0;var r=t!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&t!=="Offline")},n.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0},n.prototype.no=function(e){e=jD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},n}(),wGe=function(){function n(e,t){this.payload=e,this.byteLength=t}return n.prototype.io=function(){return"metadata"in this.payload},n}(),oK=function(){function n(e){this.R=e}return n.prototype.qn=function(e){return Cl(this.R,e)},n.prototype.Un=function(e){return e.metadata.exists?Eae(this.R,e.document,!1):eo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},n.prototype.Kn=function(e){return Ri(e)},n}(),EGe=function(){function n(e,t,r){this.ro=e,this.localStore=t,this.R=r,this.queries=[],this.documents=[],this.progress=nue(e)}return n.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},n.prototype.co=function(e){for(var t=new Map,r=new oK(this.R),i=0,o=e;i<o.length;i++){var s=o[i];if(s.metadata.queries)for(var a=r.qn(s.metadata.name),u=0,l=s.metadata.queries;u<l.length;u++){var c=l[u],h=(t.get(c)||Pn()).add(a);t.set(c,h)}}return t},n.prototype.complete=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return[4,qze(this.localStore,new oK(this.R),this.documents,this.ro.id)];case 1:e=s.sent(),t=this.co(this.documents),r=0,i=this.queries,s.label=2;case 2:return r<i.length?(o=i[r],[4,zze(this.localStore,o,t.get(o.name))]):[3,5];case 3:s.sent(),s.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Fze(Object.assign({},this.progress),e))]}})})},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nue(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rue=function(n){this.key=n},iue=function(n){this.key=n},oue=function(){function n(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Pn(),this.mutatedKeys=Pn(),this.lo=oae(e),this.fo=new tue(this.lo)}return Object.defineProperty(n.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),n.prototype._o=function(e,t){var r=this,i=t?t.mo:new iK,o=t?t.fo:this.fo,s=t?t.mutatedKeys:this.mutatedKeys,a=o,u=!1,l=KS(this.query)&&o.size===this.query.limit?o.last():null,c=FD(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(d,p){var v=o.get(d),m=jC(r.query,p)?p:null,_=!!v&&r.mutatedKeys.has(v.key),b=!!m&&(m.hasLocalMutations||r.mutatedKeys.has(m.key)&&m.hasCommittedMutations),C=!1;v&&m?v.data.isEqual(m.data)?_!==b&&(i.track({type:3,doc:m}),C=!0):r.yo(v,m)||(i.track({type:2,doc:m}),C=!0,(l&&r.lo(m,l)>0||c&&r.lo(m,c)<0)&&(u=!0)):!v&&m?(i.track({type:0,doc:m}),C=!0):v&&!m&&(i.track({type:1,doc:v}),C=!0,(l||c)&&(u=!0)),C&&(m?(a=a.add(m),s=b?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),KS(this.query)||FD(this.query))for(;a.size>this.query.limit;){var h=KS(this.query)?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},n.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},n.prototype.applyChanges=function(e,t,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var s=e.mo.jr();s.sort(function(c,h){return function(d,p){var v=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return v(d)-v(p)}(c.type,h.type)||i.lo(c.doc,h.doc)}),this.po(r);var a=t?this.Eo():[],u=this.ho.size===0&&this.current?1:0,l=u!==this.ao;return this.ao=u,s.length!==0||l?{snapshot:new jD(this.query,e.fo,o,s,e.mutatedKeys,u===0,l,!1),To:a}:{To:a}},n.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new iK,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},n.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},n.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(r){return t.uo=t.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return t.uo=t.uo.delete(r)}),this.current=e.current)},n.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Pn(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return t.forEach(function(i){e.ho.has(i)||r.push(new iue(i))}),this.ho.forEach(function(i){t.has(i)||r.push(new rue(i))}),r},n.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Pn();var t=this._o(e.documents);return this.applyChanges(t,!0)},n.prototype.Ro=function(){return jD.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},n}(),SGe=function(n,e,t){this.query=n,this.targetId=e,this.view=t},TGe=function(n){this.key=n,this.bo=!1},DGe=function(){function n(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Z_(function(a){return iae(a)},UC),this.Vo=new Map,this.So=new Set,this.Do=new Mo(ct.comparator),this.Co=new Map,this.No=new M8,this.xo={},this.ko=new Map,this.Fo=VD.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(n.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),n}();function AGe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return t=Y8(n),(o=t.Po.get(e))?(r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,l_(t.localStore,ja(e))];case 2:return s=u.sent(),a=t.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,z8(t,e,r,a==="current")];case 3:i=u.sent(),t.isPrimaryClient&&CI(t.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function z8(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:return n.Oo=function(h,d,p){return function(v,m,_,b){return X(this,void 0,void 0,function(){var C,E,S;return Y(this,function(A){switch(A.label){case 0:return C=m.view._o(_),C.Nn?[4,WD(v.localStore,m.query,!1).then(function(T){var N=T.documents;return m.view._o(N,C)})]:[3,2];case 1:C=A.sent(),A.label=2;case 2:return E=b&&b.targetChanges.get(m.targetId),S=m.view.applyChanges(C,v.isPrimaryClient,E),[2,(oF(v,m.targetId,S.To),S.snapshot)]}})})}(n,h,d,p)},[4,WD(n.localStore,e,!0)];case 1:return i=c.sent(),o=new oue(e,i.Bn),s=o._o(i.documents),a=I8.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline"),u=o.applyChanges(s,n.isPrimaryClient,a),oF(n,t,u.To),l=new SGe(e,t,o),[2,(n.Po.set(e,l),n.Vo.has(t)?n.Vo.get(t).push(e):n.Vo.set(t,[e]),u.snapshot)]}})})}function IGe(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return t=Me(n),r=t.Po.get(e),(i=t.Vo.get(r.targetId)).length>1?[2,(t.Vo.set(r.targetId,i.filter(function(s){return!UC(s,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,c_(t.localStore,r.targetId,!1).then(function(){t.sharedClientState.clearQueryState(r.targetId),O1(t.remoteStore,r.targetId),f_(t,r.targetId)}).catch(Dg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return f_(t,r.targetId),[4,c_(t.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function xGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:r=X8(n),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,l){var c,h=Me(u),d=Os.now(),p=l.reduce(function(v,m){return v.add(m.key)},Pn());return h.persistence.runTransaction("Locally write mutations","readwrite",function(v){return h.Mn.pn(v,p).next(function(m){c=m;for(var _=[],b=0,C=l;b<C.length;b++){var E=C[b],S=Jqe(E,c.get(E.key));S!=null&&_.push(new Yh(E.key,S,eae(S.value.mapValue),wo.exists(!0)))}return h._n.addMutationBatch(v,d,_,l)})}).then(function(v){return v.applyToLocalDocumentSet(c),{batchId:v.batchId,changes:c}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,l,c){var h=u.xo[u.currentUser.toKey()];h||(h=new Mo(Zt)),h=h.insert(l,c),u.xo[u.currentUser.toKey()]=h}(r,i.batchId,t),[4,Jc(r,i.changes)];case 3:return a.sent(),[4,e0(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=n0(o,"Failed to persist write"),t.reject(s),[3,6];case 6:return[2]}})})}function sue(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:t=Me(n),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wze(t.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,s){var a=t.Co.get(s);a&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?_t(a.bo):o.removedDocuments.size>0&&(_t(a.bo),a.bo=!1))}),[4,Jc(t,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function sK(n,e,t){var r=Me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=Me(o);a.onlineState=s;var u=!1;a.queries.forEach(function(l,c){for(var h=0,d=c.listeners;h<d.length;h++)d[h].zr(s)&&(u=!0)}),u&&j8(a)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return(r=Me(n)).sharedClientState.updateQueryState(e,"rejected",t),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Mo(ct.comparator)).insert(o,eo.newNoDocument(o,jt.min())),a=Pn().add(o),u=new A8(jt.min(),new Map,new pi(Zt),s,a),[4,sue(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),K8(r),[3,4];case 2:return[4,c_(r.localStore,e,!1).then(function(){return f_(r,e,t)}).catch(Dg)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function NGe(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:t=Me(n),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vze(t.localStore,e)];case 2:return i=o.sent(),$8(t,r,null),G8(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),[4,Jc(t,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function OGe(n,e,t){return X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:r=Me(n),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=Me(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return u._n.lookupMutationBatch(l,a).next(function(h){return _t(h!==null),c=h.keys(),u._n.removeMutationBatch(l,h)}).next(function(){return u._n.performConsistencyCheck(l)}).next(function(){return u.Mn.pn(l,c)})})}(r.localStore,e)];case 2:return i=o.sent(),$8(r,e,t),G8(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),[4,Jc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function kGe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:Xh((t=Me(n)).remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var l=Me(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(t.localStore)];case 2:return(r=a.sent())===-1?[2,void e.resolve()]:((i=t.ko.get(r)||[]).push(e),t.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=n0(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function G8(n,e){(n.ko.get(e)||[]).forEach(function(t){t.resolve()}),n.ko.delete(e)}function $8(n,e,t){var r=Me(n),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function f_(n,e,t){t===void 0&&(t=null),n.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=n.Vo.get(e);r<i.length;r++){var o=i[r];n.Po.delete(o),t&&n.vo.Mo(o,t)}n.Vo.delete(e),n.isPrimaryClient&&n.No.Zn(e).forEach(function(s){n.No.containsKey(s)||aue(n,s)})}function aue(n,e){n.So.delete(e.path.canonicalString());var t=n.Do.get(e);t!==null&&(O1(n.remoteStore,t),n.Do=n.Do.remove(e),n.Co.delete(t),K8(n))}function oF(n,e,t){for(var r=0,i=t;r<i.length;r++){var o=i[r];o instanceof rue?(n.No.addReference(o.key,e),RGe(n,o)):o instanceof iue?(xe("SyncEngine","Document no longer in limbo: "+o.key),n.No.removeReference(o.key,e),n.No.containsKey(o.key)||aue(n,o.key)):it()}}function RGe(n,e){var t=e.key,r=t.path.canonicalString();n.Do.get(t)||n.So.has(r)||(xe("SyncEngine","New document in limbo: "+t),n.So.add(r),K8(n))}function K8(n){for(;n.So.size>0&&n.Do.size<n.maxConcurrentLimboResolutions;){var e=n.So.values().next().value;n.So.delete(e);var t=new ct(gn.fromString(e)),r=n.Fo.next();n.Co.set(r,new TGe(t)),n.Do=n.Do.insert(t,r),CI(n.remoteStore,new bI(ja(Q_(t.path)),r,2,la.o))}}function Jc(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return r=Me(n),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,l){s.push(r.Oo(l,e,t).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var h=Bze.Pn(l.targetId,c);o.push(h)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,l){return X(this,void 0,void 0,function(){var c,h,d,p,v,m,_,b,C;return Y(this,function(E){switch(E.label){case 0:c=Me(u),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(S){return Te.forEach(l,function(A){return Te.forEach(A.bn,function(T){return c.persistence.referenceDelegate.addReference(S,A.targetId,T)}).next(function(){return Te.forEach(A.vn,function(T){return c.persistence.referenceDelegate.removeReference(S,A.targetId,T)})})})})];case 2:return E.sent(),[3,4];case 3:if(!Tg(h=E.sent()))throw h;return xe("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(d=0,p=l;d<p.length;d++)v=p[d],m=v.targetId,v.fromCache||(_=c.kn.get(m),b=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(b),c.kn=c.kn.insert(m,C));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function PGe(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return(t=Me(n)).currentUser.isEqual(e)?[3,3]:(xe("SyncEngine","User change. New user:",e.toKey()),[4,Uae(t.localStore,e)]);case 1:return r=i.sent(),t.currentUser=e,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new we(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(t),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Jc(t,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function MGe(n,e){var t=Me(n),r=t.Co.get(e);if(r&&r.bo)return Pn().add(r.key);var i=Pn(),o=t.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=t.Po.get(u);i=i.unionWith(l.view.wo)}return i}function FGe(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,WD((t=Me(n)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(t.isPrimaryClient&&oF(t,e.targetId,i.To),i)]}})})}function BGe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){return[2,Gae((e=Me(n)).localStore).then(function(r){return Jc(e,r)})]})})}function HGe(n,e,t,r){return X(this,void 0,void 0,function(){var i,o;return Y(this,function(s){switch(s.label){case 0:return[4,function(a,u){var l=Me(a),c=Me(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return c.jt(h,u).next(function(d){return d?l.Mn.pn(h,d):Te.resolve(null)})})}((i=Me(n)).localStore,e)];case 1:return(o=s.sent())===null?[3,6]:t!=="pending"?[3,3]:[4,e0(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:t==="acknowledged"||t==="rejected"?($8(i,e,r||null),G8(i,e),function(a,u){Me(Me(a)._n).Gt(u)}(i.localStore,e)):it(),s.label=4;case 4:return[4,Jc(i,o)];case 5:return s.sent(),[3,7];case 6:xe("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function VGe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:return Y8(t=Me(n)),X8(t),e!==!0||t.$o===!0?[3,3]:(r=t.sharedClientState.getAllActiveQueryTargets(),[4,aK(t,r.toArray())]);case 1:return i=c.sent(),t.$o=!0,[4,iF(t.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],CI(t.remoteStore,a);return[3,7];case 3:return e!==!1||t.$o===!1?[3,7]:(u=[],l=Promise.resolve(),t.Vo.forEach(function(h,d){t.sharedClientState.isLocalQueryTarget(d)?u.push(d):l=l.then(function(){return f_(t,d),c_(t.localStore,d,!0)}),O1(t.remoteStore,d)}),[4,l]);case 4:return c.sent(),[4,aK(t,u)];case 5:return c.sent(),function(h){var d=Me(h);d.Co.forEach(function(p,v){O1(d.remoteStore,v)}),d.No.ts(),d.Co=new Map,d.Do=new Mo(ct.comparator)}(t),t.$o=!1,[4,iF(t.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function aK(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,h,d,p,v,m,_;return Y(this,function(b){switch(b.label){case 0:r=Me(n),i=[],o=[],s=0,a=e,b.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=r.Vo.get(u))&&c.length!==0?[4,l_(r.localStore,ja(c[0]))]:[3,7]):[3,13];case 2:l=b.sent(),h=0,d=c,b.label=3;case 3:return h<d.length?(p=d[h],v=r.Po.get(p),[4,FGe(r,v)]):[3,6];case 4:(m=b.sent()).snapshot&&o.push(m.snapshot),b.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,zae(r.localStore,u)];case 8:return _=b.sent(),[4,l_(r.localStore,_)];case 9:return l=b.sent(),[4,z8(r,uue(_),u,!1)];case 10:b.sent(),b.label=11;case 11:i.push(l),b.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function uue(n){return nae(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function WGe(n){var e=Me(n);return Me(Me(e.localStore).persistence).fn()}function UGe(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s;return Y(this,function(a){switch(a.label){case 0:return(i=Me(n)).$o?(xe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Gae(i.localStore)];case 3:return o=a.sent(),s=A8.createSynthesizedRemoteEventForCurrentChange(e,t==="current"),[4,Jc(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,c_(i.localStore,e,!0)];case 6:return a.sent(),f_(i,e,r),[3,8];case 7:it(),a.label=8;case 8:return[2]}})})}function jGe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,h,d;return Y(this,function(p){switch(p.label){case 0:if(!(r=Y8(n)).$o)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(xe("SyncEngine","Adding an already active target "+s),[3,5]):[4,zae(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,l_(r.localStore,a)];case 3:return u=p.sent(),[4,z8(r,uue(a),u.targetId,!1)];case 4:p.sent(),CI(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:l=function(v){return Y(this,function(m){switch(m.label){case 0:return r.Vo.has(v)?[4,c_(r.localStore,v,!1).then(function(){O1(r.remoteStore,v),f_(r,v)}).catch(Dg)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})},c=0,h=t,p.label=7;case 7:return c<h.length?(d=h[c],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function Y8(n){var e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sue.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MGe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LGe.bind(null,e),e.vo._r=bGe.bind(null,e.eventManager),e.vo.Mo=CGe.bind(null,e.eventManager),e}function X8(n){var e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NGe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OGe.bind(null,e),e}function qGe(n,e,t){var r=Me(n);(function(i,o,s){return X(this,void 0,void 0,function(){var a,u,l,c,h,d;return Y(this,function(p){switch(p.label){case 0:return p.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return a=p.sent(),[4,function(v,m){var _=Me(v),b=Ri(m.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",function(C){return _.Ke.getBundleMetadata(C,m.id)}).then(function(C){return!!C&&C.createTime.compareTo(b)>=0})}(i.localStore,a)];case 2:return p.sent()?[4,o.close()]:[3,4];case 3:return[2,(p.sent(),void s._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(a)))];case 4:return s._updateProgress(nue(a)),u=new EGe(a,i.localStore,o.R),[4,o.Lo()];case 5:l=p.sent(),p.label=6;case 6:return l?[4,u.oo(l)]:[3,10];case 7:return(c=p.sent())&&s._updateProgress(c),[4,o.Lo()];case 8:l=p.sent(),p.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return h=p.sent(),[4,Jc(i,h.wn,void 0)];case 12:return p.sent(),[4,function(v,m){var _=Me(v);return _.persistence.runTransaction("Save bundle","readwrite",function(b){return _.Ke.saveBundleMetadata(b,m)})}(i.localStore,a)];case 13:return p.sent(),s._completeWith(h.progress),[3,15];case 14:return T1("SyncEngine","Loading bundle failed with "+(d=p.sent())),s._failWith(d),[3,15];case 15:return[2]}})})})(r,e,t).then(function(){r.sharedClientState.notifyBundleLoaded()})}var lue=function(){function n(){this.synchronizeTabs=!1}return n.prototype.initialize=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return this.R=$C(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},n.prototype.Uo=function(e){return null},n.prototype.Ko=function(e){return Wae(this.persistence,new Vae,e.initialUser,this.R)},n.prototype.qo=function(e){return new Qze(Jze.bs,this.R)},n.prototype.Bo=function(e){return new $ae},n.prototype.terminate=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},n}(),cue=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).Qo=t,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return Fe(e,n),e.prototype.initialize=function(t){return X(this,void 0,void 0,function(){var r=this;return Y(this,function(i){switch(i.label){case 0:return[4,n.prototype.initialize.call(this,t)];case 1:return i.sent(),[4,jze(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,t)];case 3:return i.sent(),[4,X8(this.Qo.syncEngine)];case 4:return i.sent(),[4,e0(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(t){return Wae(this.persistence,new Vae,t.initialUser,this.R)},e.prototype.Uo=function(t){var r=this.persistence.referenceDelegate.garbageCollector;return new Lze(r,t.asyncQueue)},e.prototype.qo=function(t){var r=P8(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Ju.withCacheSize(this.cacheSizeBytes):Ju.DEFAULT;return new Mze(this.synchronizeTabs,r,t.clientId,i,t.asyncQueue,Kae(),QS(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new $ae},e}(lue),zGe=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r,!1)||this).Qo=t,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Fe(e,n),e.prototype.initialize=function(t){return X(this,void 0,void 0,function(){var r,i=this;return Y(this,function(o){switch(o.label){case 0:return[4,n.prototype.initialize.call(this,t)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof aR?(this.sharedClientState.syncEngine={ui:HGe.bind(null,r),ai:UGe.bind(null,r),hi:jGe.bind(null,r),fn:WGe.bind(null,r),ci:BGe.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return X(i,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return[4,VGe(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var r=Kae();if(!aR.yt(r))throw new we(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=P8(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new aR(r,t.asyncQueue,i,t.clientId,t.initialUser)},e}(cue),sF=function(){function n(){}return n.prototype.initialize=function(e,t){return X(this,void 0,void 0,function(){var r=this;return Y(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return sK(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=PGe.bind(null,this.syncEngine),[4,iF(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.createEventManager=function(e){return new yGe},n.prototype.createDatastore=function(e){var t,r=$C(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new iGe(t));return function(o,s,a){return new aGe(o,s,a)}(e.credentials,i,r)},n.prototype.createRemoteStore=function(e){var t,r,i,o,s,a=this;return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(u){return sK(a.syncEngine,u,0)},s=rK.yt()?new rK:new tGe,new lGe(t,r,i,o,s)},n.prototype.createSyncEngine=function(e,t){return function(r,i,o,s,a,u,l){var c=new DGe(r,i,o,s,a,u);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},n.prototype.terminate=function(){return function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return t=Me(e),xe("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,J_(t)];case 1:return r.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(n,e){e===void 0&&(e=10240);var t=0;return{read:function(){return X(this,void 0,void 0,function(){var r;return Y(this,function(i){return t<n.byteLength?(r={value:n.slice(t,t+e),done:!1},[2,(t+=e,r)]):[2,{done:!0}]})})},cancel:function(){return X(this,void 0,void 0,function(){return Y(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wI=function(){function n(e){this.observer=e,this.muted=!1}return n.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},n.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},n.prototype.Wo=function(){this.muted=!0},n.prototype.jo=function(e,t){var r=this;this.muted||setTimeout(function(){r.muted||e(t)},0)},n}(),GGe=function(){function n(e,t){var r=this;this.Go=e,this.R=t,this.metadata=new Lo,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return n.prototype.close=function(){return this.Go.cancel()},n.prototype.getMetadata=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){return[2,this.metadata.promise]})})},n.prototype.Lo=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},n.prototype.Ho=function(){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(t=this.zo.decode(e),r=Number(t),isNaN(r)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new wGe(JSON.parse(i),e.length+r)]}})})},n.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e===123})},n.prototype.Jo=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},n.prototype.Xo=function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},n.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},n.prototype.tc=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})},n}(),$Ge=function(){function n(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return n.prototype.lookup=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new we(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return X(this,void 0,void 0,function(){var a,u,l,c,h,d;return Y(this,function(p){switch(p.label){case 0:return a=Me(o),u=N1(a.R)+"/documents",l={documents:s.map(function(v){return L1(a.R,v)})},[4,a.$i("BatchGetDocuments",u,l)];case 1:return c=p.sent(),h=new Map,c.forEach(function(v){var m=function(_,b){return"found"in b?function(C,E){_t(!!E.found),E.found.name,E.found.updateTime;var S=Cl(C,E.found.name),A=Ri(E.found.updateTime),T=new oa({mapValue:{fields:E.found.fields}});return eo.newFoundDocument(S,A,T)}(_,b):"missing"in b?function(C,E){_t(!!E.missing),_t(!!E.readTime);var S=Cl(C,E.missing),A=Ri(E.readTime);return eo.newNoDocument(S,A)}(_,b):it()}(a.R,v);h.set(m.key.toString(),m)}),d=[],[2,(s.forEach(function(v){var m=h.get(v.toString());_t(!!m),d.push(m)}),d)]}})})}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach(function(o){return r.recordVersion(o)}),t)]}})})},n.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},n.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},n.prototype.delete=function(e){this.write(new GC(e,this.precondition(e))),this.writtenDocs.add(e.toString())},n.prototype.commit=function(){return X(this,void 0,void 0,function(){var e,t=this;return Y(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var s=ct.fromPath(o);t.mutations.push(new D8(s,t.precondition(s)))}),[4,function(i,o){return X(this,void 0,void 0,function(){var s,a,u;return Y(this,function(l){switch(l.label){case 0:return s=Me(i),a=N1(s.R)+"/documents",u={writes:o.map(function(c){return BD(s.R,c)})},[4,s.Ni("Commit",a,u)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},n.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=jt.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new we(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},n.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wo.updateTime(t):wo.none()},n.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jt.min()))throw new we(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wo.updateTime(t)}return wo.exists(!0)},n.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},n.prototype.ensureCommitNotCalled=function(){},n}(),KGe=function(){function n(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new F8(this.asyncQueue,"transaction_retry")}return n.prototype.run=function(){this.ec-=1,this.nc()},n.prototype.nc=function(){var e=this;this.Zi.ji(function(){return X(e,void 0,void 0,function(){var t,r,i=this;return Y(this,function(o){return t=new $Ge(this.datastore),(r=this.sc(t))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},n.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Sg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},n.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},n.prototype.rc=function(e){if(e.name==="FirebaseError"){var t=e.code;return t==="aborted"||t==="failed-precondition"||!pae(t)}return!1},n}(),YGe=function(){function n(e,t,r){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=ji.UNAUTHENTICATED,this.clientId=Kse.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(o){return X(i,void 0,void 0,function(){return Y(this,function(s){switch(s.label){case 0:return xe("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return n.prototype.getConfiguration=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},n.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},n.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return X(e,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return r=o.sent(),i=n0(r,"Failed to shutdown persistence"),t.reject(i),[3,6];case 6:return[2]}})})}),t.promise},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(n,e){return X(this,void 0,void 0,function(){var t,r,i=this;return Y(this,function(o){switch(o.label){case 0:return n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider"),[4,n.getConfiguration()];case 1:return t=o.sent(),[4,e.initialize(t)];case 2:return o.sent(),r=t.initialUser,n.setCredentialChangeListener(function(s){return X(i,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,Uae(e.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return n.terminate()}),n.offlineComponents=e,[2]}})})}function hue(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return n.asyncQueue.verifyOperationInProgress(),[4,Q8(n)];case 1:return t=i.sent(),xe("FirestoreClient","Initializing OnlineComponentProvider"),[4,n.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(t,r)];case 3:return i.sent(),n.setCredentialChangeListener(function(o){return function(s,a){return X(this,void 0,void 0,function(){var u,l;return Y(this,function(c){switch(c.label){case 0:return(u=Me(s)).asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials"),l=Xh(u),u.Or.add(3),[4,J_(u)];case 1:return c.sent(),l&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return c.sent(),u.Or.delete(3),[4,KC(u)];case 3:return c.sent(),[2]}})})}(e.remoteStore,o)}),n.onlineComponents=e,[2]}})})}function Q8(n){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return n.offlineComponents?[3,2]:(xe("FirestoreClient","Using default OfflineComponentProvider"),[4,fue(n,new lue)]);case 1:e.sent(),e.label=2;case 2:return[2,n.offlineComponents]}})})}function EI(n){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return n.onlineComponents?[3,2]:(xe("FirestoreClient","Using default OnlineComponentProvider"),[4,hue(n,new sF)]);case 1:e.sent(),e.label=2;case 2:return[2,n.onlineComponents]}})})}function lK(n){return Q8(n).then(function(e){return e.persistence})}function Z8(n){return Q8(n).then(function(e){return e.localStore})}function cK(n){return EI(n).then(function(e){return e.remoteStore})}function J8(n){return EI(n).then(function(e){return e.syncEngine})}function h_(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return[4,EI(n)];case 1:return e=r.sent(),[2,((t=e.eventManager).onListen=AGe.bind(null,e.syncEngine),t.onUnlisten=IGe.bind(null,e.syncEngine),t)]}})})}function fK(n,e,t){var r=this;t===void 0&&(t={});var i=new Lo;return n.asyncQueue.enqueueAndForget(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,h){var d=new wI({next:function(v){u.enqueueAndForget(function(){return U8(a,p)});var m=v.docs.has(l);!m&&v.fromCache?h.reject(new we(se.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?h.reject(new we(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:function(v){return h.reject(v)}}),p=new q8(Q_(l.path),d,{includeMetadataChanges:!0,so:!0});return W8(a,p)},[4,h_(n)];case 1:return[2,o.apply(void 0,[s.sent(),n.asyncQueue,e,t,i])]}})})}),i.promise}function hK(n,e,t){var r=this;t===void 0&&(t={});var i=new Lo;return n.asyncQueue.enqueueAndForget(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,h){var d=new wI({next:function(v){u.enqueueAndForget(function(){return U8(a,p)}),v.fromCache&&c.source==="server"?h.reject(new we(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:function(v){return h.reject(v)}}),p=new q8(l,d,{includeMetadataChanges:!0,so:!0});return W8(a,p)},[4,h_(n)];case 1:return[2,o.apply(void 0,[s.sent(),n.asyncQueue,e,t,i])]}})})}),i.promise}var XGe=function(n,e,t,r,i,o,s,a){this.databaseId=n,this.appId=e,this.persistenceKey=t,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},qD=function(){function n(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(n.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database},n}(),dK=new Map,due=function(n,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+n},pK=function(){function n(){this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(null)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(ji.UNAUTHENTICATED)})},n.prototype.removeChangeListener=function(){this.changeListener=null},n}(),QGe=function(){function n(e){this.token=e,this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(this.token)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(e,t){var r=this;this.changeListener=t,e.enqueueRetryable(function(){return t(r.token.user)})},n.prototype.removeChangeListener=function(){this.changeListener=null},n}(),ZGe=function(){function n(e){var t=this;this.currentUser=ji.UNAUTHENTICATED,this.oc=new Lo,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var r=function(i){xe("FirebaseCredentialsProvider","Auth detected"),t.auth=i,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!t.auth){var i=e.getImmediate({optional:!0});i?r(i):(xe("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return n.prototype.getToken=function(){var e=this,t=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==t?(xe("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(_t(typeof i.accessToken=="string"),new due(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},n.prototype.invalidateToken=function(){this.forceRefresh=!0},n.prototype.setChangeListener=function(e,t){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return X(r,void 0,void 0,function(){return Y(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,t(this.currentUser)];case 2:return i.sent(),this.changeListener=t,[2]}})})})},n.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},n.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new ji(e)},n}(),JGe=function(){function n(e,t,r){this.hc=e,this.lc=t,this.fc=r,this.type="FirstParty",this.user=ji.FIRST_PARTY}return Object.defineProperty(n.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),n}(),e$e=function(){function n(e,t,r){this.hc=e,this.lc=t,this.fc=r}return n.prototype.getToken=function(){return Promise.resolve(new JGe(this.hc,this.lc,this.fc))},n.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(ji.FIRST_PARTY)})},n.prototype.removeChangeListener=function(){},n.prototype.invalidateToken=function(){},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(n,e,t){if(!t)throw new we(se.INVALID_ARGUMENT,"Function "+n+"() cannot be called with an empty "+e+".")}function t9(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new we(se.INVALID_ARGUMENT,"Invalid options passed to function "+n+'(): You cannot specify both "merge" and "mergeFields".');return e}function pue(n,e,t,r){if(e===!0&&r===!0)throw new we(se.INVALID_ARGUMENT,n+" and "+t+" cannot be used together.")}function gK(n){if(!ct.isDocumentKey(n))throw new we(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n+" has "+n.length+".")}function vK(n){if(ct.isDocumentKey(n))throw new we(se.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n+" has "+n.length+".")}function SI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=n.substring(0,20)+"..."),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";var e=function(t){if(t.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(r&&r.length>1)return r[1]}return null}(n);return e?"a custom "+e+" object":"an object"}return typeof n=="function"?"a function":it()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=SI(n);throw new we(se.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return n}function mK(n,e){if(e<=0)throw new we(se.INVALID_ARGUMENT,"Function "+n+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _K=function(){function n(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new we(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return n.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},n}(),k1=function(){function n(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _K({}),this._settingsFrozen=!1,e instanceof qD?(this._databaseId=e,this._credentials=new pK):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new we(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qD(r.options.projectId)}(e),this._credentials=new ZGe(t))}return Object.defineProperty(n.prototype,"app",{get:function(){if(!this._app)throw new we(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),n.prototype._setSettings=function(e){if(this._settingsFrozen)throw new we(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _K(e),e.credentials!==void 0&&(this._credentials=function(t){if(!t)return new pK;switch(t.type){case"gapi":var r=t.client;return _t(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new e$e(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new we(se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},n.prototype._getSettings=function(){return this._settings},n.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},n.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},n.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},n.prototype._terminate=function(){return e=this,(t=dK.get(e))&&(xe("ComponentProvider","Removing Datastore"),dK.delete(e),t.terminate()),Promise.resolve();var e,t},n}(),_r=function(){function n(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(n.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new dh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(e){return new n(this.firestore,e,this._key)},n}(),ks=function(){function n(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}return n.prototype.withConverter=function(e){return new n(this.firestore,e,this._query)},n}(),dh=function(n){function e(t,r,i){var o=this;return(o=n.call(this,t,r,Q_(i))||this)._path=i,o.type="collection",o}return Fe(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new _r(this.firestore,null,new ct(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ks);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(n,e){for(var t,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(n=Bt(n),e9("collection","path",e),n instanceof k1)return vK(t=gn.fromString.apply(gn,Vt([e],r))),new dh(n,null,t);if(!(n instanceof _r||n instanceof dh))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vK(t=gn.fromString.apply(gn,Vt([n.path],r)).child(gn.fromString(e))),new dh(n.firestore,null,t)}function ZS(n,e){for(var t,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(n=Bt(n),arguments.length===1&&(e=Kse.u()),e9("doc","path",e),n instanceof k1)return gK(t=gn.fromString.apply(gn,Vt([e],r))),new _r(n,null,new ct(t));if(!(n instanceof _r||n instanceof dh))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gK(t=n._path.child(gn.fromString.apply(gn,Vt([e],r)))),new _r(n.firestore,n instanceof dh?n.converter:null,new ct(t))}function vue(n,e){return n=Bt(n),e=Bt(e),(n instanceof _r||n instanceof dh)&&(e instanceof _r||e instanceof dh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mue(n,e){return n=Bt(n),e=Bt(e),n instanceof ks&&e instanceof ks&&n.firestore===e.firestore&&UC(n._query,e._query)&&n.converter===e.converter}var t$e=function(){function n(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new F8(this,"async_queue_retry"),this.Ic=function(){var r=QS();r&&xe("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var t=QS();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(n.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),n.prototype.enqueueAndForget=function(e){this.enqueue(e)},n.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},n.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=QS();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ic)}},n.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Lo;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},n.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},n.prototype.bc=function(){return X(this,void 0,void 0,function(){var e,t=this;return Y(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Tg(e=r.sent()))throw e;return xe("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),r.label=5;case 5:return[2]}})})},n.prototype.Rc=function(e){var t=this,r=this.dc.then(function(){return t.gc=!0,e().catch(function(i){throw t.yc=i,t.gc=!1,Yr("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return t.gc=!1,i})});return this.dc=r,r},n.prototype.enqueueAfterDelay=function(e,t,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var o=mGe.createAndSchedule(this,e,t,r,function(s){return i.vc(s)});return this.mc.push(o),o},n.prototype.Ac=function(){this.yc&&it()},n.prototype.verifyOperationInProgress=function(){},n.prototype.Pc=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},n.prototype.Vc=function(e){for(var t=0,r=this.mc;t<r.length;t++)if(r[t].timerId===e)return!0;return!1},n.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=t.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return t.Pc()})},n.prototype.Dc=function(e){this.Tc.push(e)},n.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},n}();function d_(n){return function(e,t){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(n)}var n$e=function(){function n(){this._progressObserver={},this._taskCompletionResolver=new Lo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return n.prototype.onProgress=function(e,t,r){this._progressObserver={next:e,error:t,complete:r}},n.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},n.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},n.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},n.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},n.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},n}(),r$e=-1,Mr=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this).type="firestore",i._queue=new t$e,i._persistenceKey="name"in t?t.name:"[DEFAULT]",i}return Fe(e,n),e.prototype._terminate=function(){return this._firestoreClient||_ue(this),this._firestoreClient.terminate()},e}(k1);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n){return n._firestoreClient||_ue(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _ue(n){var e,t=n._freezeSettings(),r=function(i,o,s,a){return new XGe(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,t);n._firestoreClient=new YGe(n._credentials,n._queue,r)}function yK(n,e,t){var r=this,i=new Lo;return n.asyncQueue.enqueue(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fue(n,t)];case 1:return s.sent(),[4,hue(n,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function bK(n){if(n._initialized||n._terminated)throw new we(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wl=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new we(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ou(e)}return n.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},n}(),Zp=function(){function n(e){this._byteString=e}return n.fromBase64String=function(e){try{return new n(fs.fromBase64String(e))}catch(t){throw new we(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},n.fromUint8Array=function(e){return new n(fs.fromUint8Array(e))},n.prototype.toBase64=function(){return this._byteString.toBase64()},n.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},n.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},n.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},n}(),Ag=function(n){this._methodName=n},TI=function(){function n(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(n.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},n.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},n.prototype._compareTo=function(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)},n}(),i$e=/^__.*__$/,o$e=function(){function n(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}return n.prototype.toMutation=function(e,t){return this.fieldMask!==null?new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms):new zC(e,this.data,t,this.fieldTransforms)},n}(),yue=function(){function n(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}return n.prototype.toMutation=function(e,t){return new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}var Cue=function(){function n(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(n.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),n.prototype.xc=function(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},n.prototype.kc=function(e){var t,r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},n.prototype.Oc=function(e){var t,r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},n.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},n.prototype.Lc=function(e){return zD(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},n.prototype.contains=function(e){return this.fieldMask.find(function(t){return e.isPrefixOf(t)})!==void 0||this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})!==void 0},n.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},n.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(bue(this.Nc)&&i$e.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},n}(),s$e=function(){function n(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=r||$C(e)}return n.prototype.Uc=function(e,t,r,i){return i===void 0&&(i=!1),new Cue({Nc:e,methodName:t,qc:r,path:Ou.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},n}();function Ig(n){var e=n._freezeSettings(),t=$C(n._databaseId);return new s$e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DI(n,e,t,r,i,o){o===void 0&&(o={});var s=n.Uc(o.merge||o.mergeFields?2:0,e,t,i);o9("Data must be an object, but it was:",s,r);var a,u,l=Sue(r,s);if(o.merge)a=new Zm(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var p=aF(e,d[h],t);if(!s.contains(p))throw new we(se.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Due(c,p)||c.push(p)}a=new Zm(c),u=s.fieldTransforms.filter(function(v){return a.covers(v.field)})}else a=null,u=s.fieldTransforms;return new o$e(new oa(l),a,u)}var n9=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype._toFieldTransform=function(t){if(t.Nc!==2)throw t.Nc===1?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ag);function wue(n,e,t){return new Cue({Nc:3,qc:e.settings.qc,methodName:n._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var a$e=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype._toFieldTransform=function(t){return new qC(t.path,new n_)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ag),u$e=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Kc=r,i}return Fe(e,n),e.prototype._toFieldTransform=function(t){var r=wue(this,t,!0),i=this.Kc.map(function(s){return xg(s,r)}),o=new Xp(i);return new qC(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Ag),l$e=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Kc=r,i}return Fe(e,n),e.prototype._toFieldTransform=function(t){var r=wue(this,t,!0),i=this.Kc.map(function(s){return xg(s,r)}),o=new Qp(i);return new qC(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Ag),c$e=function(n){function e(t,r){var i=this;return(i=n.call(this,t)||this).Qc=r,i}return Fe(e,n),e.prototype._toFieldTransform=function(t){var r=new r_(t.R,uae(t.R,this.Qc));return new qC(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ag);function r9(n,e,t,r){var i=n.Uc(1,e,t);o9("Data must be an object, but it was:",i,r);var o=[],s=oa.empty();Eg(r,function(u,l){var c=s9(e,u,t);l=Bt(l);var h=i.Oc(c);if(l instanceof n9)o.push(c);else{var d=xg(l,h);d!=null&&(o.push(c),s.set(c,d))}});var a=new Zm(o);return new yue(s,a,i.fieldTransforms)}function i9(n,e,t,r,i,o){var s=n.Uc(1,e,t),a=[aF(e,r,t)],u=[i];if(o.length%2!=0)throw new we(se.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(aF(e,o[l])),u.push(o[l+1]);for(var c=[],h=oa.empty(),d=a.length-1;d>=0;--d)if(!Due(c,a[d])){var p=a[d],v=u[d];v=Bt(v);var m=s.Oc(p);if(v instanceof n9)c.push(p);else{var _=xg(v,m);_!=null&&(c.push(p),h.set(p,_))}}var b=new Zm(c);return new yue(h,b,s.fieldTransforms)}function Eue(n,e,t,r){return r===void 0&&(r=!1),xg(t,n.Uc(r?4:3,e))}function xg(n,e){if(Tue(n=Bt(n)))return o9("Unsupported field value:",e,n),Sue(n,e);if(n instanceof Ag)return function(t,r){if(!bue(r.Nc))throw r.Lc(t._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(t._methodName+"() is not currently supported inside arrays");var i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(t,r){for(var i=[],o=0,s=0,a=t;s<a.length;s++){var u=xg(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if((t=Bt(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return uae(r.R,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){var i=Os.fromDate(t);return{timestampValue:x1(r.R,i)}}if(t instanceof Os)return i=new Os(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:x1(r.R,i)};if(t instanceof TI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zp)return{bytesValue:yae(r.R,t._byteString)};if(t instanceof _r){i=r.databaseId;var o=t.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:x8(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Lc("Unsupported field value: "+SI(t))}(n,e)}function Sue(n,e){var t={};return Xse(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eg(n,function(r,i){var o=xg(i,e.kc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Tue(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Os||n instanceof TI||n instanceof Zp||n instanceof _r||n instanceof Ag)}function o9(n,e,t){if(!Tue(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){var r=SI(t);throw r==="an object"?e.Lc(n+" a custom object"):e.Lc(n+" "+r)}}function aF(n,e,t){if((e=Bt(e))instanceof wl)return e._internalPath;if(typeof e=="string")return s9(n,e);throw zD("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}var f$e=new RegExp("[~\\*/\\[\\]]");function s9(n,e,t){if(e.search(f$e)>=0)throw zD("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",n,!1,void 0,t);try{return new(wl.bind.apply(wl,Vt([void 0],e.split("."))))()._internalPath}catch{throw zD("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",n,!1,void 0,t)}}function zD(n,e,t,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+e+"() called with invalid data";t&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new we(se.INVALID_ARGUMENT,(a+=". ")+n+u)}function Due(n,e){return n.some(function(t){return t.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R1=function(){function n(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new _r(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),n.prototype.exists=function(){return this._document!==null},n.prototype.data=function(){if(this._document){if(this._converter){var e=new h$e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},n.prototype.get=function(e){if(this._document){var t=this._document.data.field(GD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}},n}(),h$e=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.data=function(){return n.prototype.data.call(this)},e}(R1);function GD(n,e){return typeof e=="string"?s9(n,e):e instanceof wl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=function(){function n(e,t){this.hasPendingWrites=e,this.fromCache=t}return n.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},n}(),kc=function(n){function e(t,r,i,o,s,a){var u=this;return(u=n.call(this,t,r,i,o,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=s,u}return Fe(e,n),e.prototype.exists=function(){return n.prototype.exists.call(this)},e.prototype.data=function(t){if(t===void 0&&(t={}),this._document){if(this._converter){var r=new vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(GD("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(R1),vb=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.data=function(t){return t===void 0&&(t={}),n.prototype.data.call(this,t)},e}(kc),Hf=function(){function n(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fp(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(n.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),n.prototype.forEach=function(e,t){var r=this;this._snapshot.docs.forEach(function(i){e.call(t,new vb(r._firestore,r._userDataWriter,i.key,i,new fp(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},n.prototype.docChanges=function(e){e===void 0&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new vb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new fp(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new vb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new fp(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(c=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:d$e(a.type),doc:u,oldIndex:l,newIndex:c}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},n}();function d$e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function Aue(n,e){return n instanceof kc&&e instanceof kc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hf&&e instanceof Hf&&n._firestore===e._firestore&&mue(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iue(n){if(FD(n)&&n.explicitOrderBy.length===0)throw new we(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var YC=function(){};function Cf(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,i=e;r<i.length;r++){var o=i[r];n=o._apply(n)}return n}var p$e=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).jc=t,o.Wc=r,o.Gc=i,o.type="where",o}return Fe(e,n),e.prototype._apply=function(t){var r=Ig(t.firestore),i=function(o,s,a,u,l,c,h){var d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new we(se.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){TK(h,c);for(var p=[],v=0,m=h;v<m.length;v++){var _=m[v];p.push(SK(u,o,_))}d={arrayValue:{values:p}}}else d=SK(u,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||TK(h,c),d=Eue(a,"where",h,c==="in"||c==="not-in");var b=ca.create(l,c,d);return function(C,E){if(E.g()){var S=S8(C);if(S!==null&&!S.isEqual(E.field))throw new we(se.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+S.toString()+"' and '"+E.field.toString()+"'");var A=E8(C);A!==null&&Lue(C,E.field,A)}var T=function(N,k){for(var F=0,L=N.filters;F<L.length;F++){var O=L[F];if(k.indexOf(O.op)>=0)return O.op}return null}(C,function(N){switch(N){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(E.op));if(T!==null)throw T===E.op?new we(se.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+E.op.toString()+"' filter."):new we(se.INVALID_ARGUMENT,"Invalid query. You cannot use '"+E.op.toString()+"' filters with '"+T.toString()+"' filters.")}(o,b),b}(t._query,0,r,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ks(t.firestore,t.converter,function(o,s){var a=o.filters.concat([s]);return new Zc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))},e}(YC),g$e=function(n){function e(t,r){var i=this;return(i=n.call(this)||this).jc=t,i.zc=r,i.type="orderBy",i}return Fe(e,n),e.prototype._apply=function(t){var r=function(i,o,s){if(i.startAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new vm(o,s);return function(u,l){if(E8(u)===null){var c=S8(u);c!==null&&Lue(u,c,l.field)}}(i,a),a}(t._query,this.jc,this.zc);return new ks(t.firestore,t.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new Zc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))},e}(YC),CK=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Hc=r,o.Jc=i,o}return Fe(e,n),e.prototype._apply=function(t){return new ks(t.firestore,t.converter,rae(t._query,this.Hc,this.Jc))},e}(YC),wK=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Yc=r,o.Xc=i,o}return Fe(e,n),e.prototype._apply=function(t){var r=xue(t,this.type,this.Yc,this.Xc);return new ks(t.firestore,t.converter,function(i,o){return new Zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(t._query,r))},e}(YC),EK=function(n){function e(t,r,i){var o=this;return(o=n.call(this)||this).type=t,o.Yc=r,o.Xc=i,o}return Fe(e,n),e.prototype._apply=function(t){var r=xue(t,this.type,this.Yc,this.Xc);return new ks(t.firestore,t.converter,function(i,o){return new Zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(t._query,r))},e}(YC);function xue(n,e,t,r){if(t[0]=Bt(t[0]),t[0]instanceof R1)return function(o,s,a,u,l){if(!u)throw new we(se.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var c=[],h=0,d=t_(o);h<d.length;h++){var p=d[h];if(p.field.isKeyField())c.push(RD(s,u.key));else{var v=u.data.field(p.field);if(b8(v))throw new we(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){var m=p.field.canonicalString();throw new we(se.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+m+"' (used as the orderBy) does not exist.")}c.push(v)}}return new I1(c,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);var i=Ig(n.firestore);return function(o,s,a,u,l,c){var h=o.explicitOrderBy;if(l.length>h.length)throw new we(se.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var d=[],p=0;p<l.length;p++){var v=l[p];if(h[p].field.isKeyField()){if(typeof v!="string")throw new we(se.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof v);if(!T8(o)&&v.indexOf("/")!==-1)throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+v+"' contains a slash.");var m=o.path.child(gn.fromString(v));if(!ct.isDocumentKey(m))throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+m+"' is not because it contains an odd number of segments.");var _=new ct(m);d.push(RD(s,_))}else{var b=Eue(a,u,v);d.push(b)}}return new I1(d,c)}(n._query,n.firestore._databaseId,i,e,t,r)}function SK(n,e,t){if(typeof(t=Bt(t))=="string"){if(t==="")throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!T8(e)&&t.indexOf("/")!==-1)throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var r=e.path.child(gn.fromString(t));if(!ct.isDocumentKey(r))throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return RD(n,new ct(r))}if(t instanceof _r)return RD(n,t._key);throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+SI(t)+".")}function TK(n,e){if(!Array.isArray(n)||n.length===0)throw new we(se.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(n.length>10)throw new we(se.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Lue(n,e,t){if(!t.isEqual(e))throw new we(se.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a9=function(){function n(){}return n.prototype.convertValue=function(e,t){switch(t===void 0&&(t="none"),Yp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}},n.prototype.convertObject=function(e,t){var r=this,i={};return Eg(e.fields,function(o,s){i[o]=r.convertValue(s,t)}),i},n.prototype.convertGeoPoint=function(e){return new TI(Gr(e.latitude),Gr(e.longitude))},n.prototype.convertArray=function(e,t){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,t)})},n.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var r=Zse(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(D1(e));default:return null}},n.prototype.convertTimestamp=function(e){var t=Ih(e);return new Os(t.seconds,t.nanos)},n.prototype.convertDocumentKey=function(e,t){var r=gn.fromString(e);_t(Iae(r));var i=new qD(r.get(1),r.get(3)),o=new ct(r.popFirst(5));return i.isEqual(t)||Yr("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n,e,t){return n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e}var v$e=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return Fe(e,n),e.prototype.convertBytes=function(t){return new Zp(t)},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return new _r(this.firestore,null,r)},e}(a9),m$e=function(){function n(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ig(e)}return n.prototype.set=function(e,t,r){this._verifyNotCommitted();var i=Vf(e,this._firestore),o=AI(i.converter,t,r),s=DI(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,wo.none())),this},n.prototype.update=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Vf(e,this._firestore);return s=typeof(t=Bt(t))=="string"||t instanceof wl?i9(this._dataReader,"WriteBatch.update",a._key,t,r,i):r9(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,wo.exists(!0))),this},n.prototype.delete=function(e){this._verifyNotCommitted();var t=Vf(e,this._firestore);return this._mutations=this._mutations.concat(new GC(t._key,wo.none())),this},n.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},n.prototype._verifyNotCommitted=function(){if(this._committed)throw new we(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n,e){if((n=Bt(n)).firestore!==e)throw new we(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return Fe(e,n),e.prototype.convertBytes=function(t){return new Zp(t)},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return new _r(this.firestore,null,r)},e}(a9);function DK(n,e,t){n=dn(n,_r);var r=dn(n.firestore,Mr),i=AI(n.converter,e,t);return XC(r,[DI(Ig(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,wo.none())])}function AK(n,e,t){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];n=dn(n,_r);var o=dn(n.firestore,Mr),s=Ig(o);return XC(o,[(typeof(e=Bt(e))=="string"||e instanceof wl?i9(s,"updateDoc",n._key,e,t,r):r9(s,"updateDoc",n._key,e)).toMutation(n._key,wo.exists(!0))])}function Nue(n){for(var e,t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];n=Bt(n);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||d_(i[a])||(s=i[a],a++);var u,l,c,h={includeMetadataChanges:s.includeMetadataChanges};if(d_(i[a])){var d=i[a];i[a]=(e=d.next)===null||e===void 0?void 0:e.bind(d),i[a+1]=(t=d.error)===null||t===void 0?void 0:t.bind(d),i[a+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}if(n instanceof _r)l=dn(n.firestore,Mr),c=Q_(n._key.path),u={next:function(m){i[a]&&i[a](uF(l,n,m))},error:i[a+1],complete:i[a+2]};else{var p=dn(n,ks);l=dn(p.firestore,Mr),c=p._query;var v=new Lp(l);u={next:function(m){i[a]&&i[a](new Hf(l,v,p,m))},error:i[a+1],complete:i[a+2]},Iue(n._query)}return function(m,_,b,C){var E=this,S=new wI(C),A=new q8(_,S,b);return m.asyncQueue.enqueueAndForget(function(){return X(E,void 0,void 0,function(){var T;return Y(this,function(N){switch(N.label){case 0:return T=W8,[4,h_(m)];case 1:return[2,T.apply(void 0,[N.sent(),A])]}})})}),function(){S.Wo(),m.asyncQueue.enqueueAndForget(function(){return X(E,void 0,void 0,function(){var T;return Y(this,function(N){switch(N.label){case 0:return T=U8,[4,h_(m)];case 1:return[2,T.apply(void 0,[N.sent(),A])]}})})})}}(Ni(l),c,h,u)}function XC(n,e){return function(t,r){var i=this,o=new Lo;return t.asyncQueue.enqueueAndForget(function(){return X(i,void 0,void 0,function(){var s;return Y(this,function(a){switch(a.label){case 0:return s=xGe,[4,J8(t)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(Ni(n),e)}function uF(n,e,t){var r=t.docs.get(e._key),i=new Lp(n);return new kc(n,i,e._key,r,new fp(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$e=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this)._firestore=t,i}return Fe(e,n),e.prototype.get=function(t){var r=this,i=Vf(t,this._firestore),o=new Lp(this._firestore);return n.prototype.get.call(this,t).then(function(s){return new kc(r._firestore,o,i._key,s._document,new fp(!1,!1),i.converter)})},e}(function(){function n(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ig(e)}return n.prototype.get=function(e){var t=this,r=Vf(e,this._firestore),i=new v$e(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return it();var s=o[0];if(s.isFoundDocument())return new R1(t._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new R1(t._firestore,i,r._key,null,r.converter);throw it()})},n.prototype.set=function(e,t,r){var i=Vf(e,this._firestore),o=AI(i.converter,t,r),s=DI(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},n.prototype.update=function(e,t,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=Vf(e,this._firestore);return s=typeof(t=Bt(t))=="string"||t instanceof wl?i9(this._dataReader,"Transaction.update",a._key,t,r,i):r9(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,s),this},n.prototype.delete=function(e){var t=Vf(e,this._firestore);return this._transaction.delete(t._key),this},n}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(){if(typeof Uint8Array>"u")throw new we(se.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xK(){if(typeof atob>"u")throw new we(se.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Oue=function(){function n(e){this._delegate=e}return n.fromBase64String=function(e){return xK(),new n(Zp.fromBase64String(e))},n.fromUint8Array=function(e){return IK(),new n(Zp.fromUint8Array(e))},n.prototype.toBase64=function(){return xK(),this._delegate.toBase64()},n.prototype.toUint8Array=function(){return IK(),this._delegate.toUint8Array()},n.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(),y$e=function(){function n(){}return n.prototype.enableIndexedDbPersistence=function(e,t){return function(r,i){bK(r=dn(r,Mr));var o=Ni(r),s=r._freezeSettings(),a=new sF;return yK(o,a,new cue(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:t})},n.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){bK(t=dn(t,Mr));var r=Ni(t),i=t._freezeSettings(),o=new sF;return yK(r,o,new zGe(o,i.cacheSizeBytes))}(e._delegate)},n.prototype.clearIndexedDbPersistence=function(e){return function(t){var r=this;if(t._initialized&&!t._terminated)throw new we(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Lo;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return X(r,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return X(this,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return s_.yt()?(u=a+"main",[4,s_.delete(u)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(P8(t._databaseId,t._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},n}(),u9=function(){function n(e,t,r){var i=this;this._delegate=t,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof qD||(this.tu=e)}return Object.defineProperty(n.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),n.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||T1("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},n.prototype.useEmulator=function(e,t,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var l=(i=dn(i,k1))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&T1("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),a.mockUserToken){var c,h;if(typeof a.mockUserToken=="string")c=a.mockUserToken,h=ji.MOCK_USER;else{c=m4(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var d=a.mockUserToken.sub||a.mockUserToken.user_id;if(!d)throw new we(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ji(d)}i._credentials=new QGe(new due(c,h))}}(this._delegate,e,t,r)},n.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return X(t,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return[4,lK(e)];case 1:return r=o.sent(),[4,cK(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=Me(s);return a.Or.delete(0),KC(a)}(i))]}})})})}(Ni(dn(this._delegate,Mr)))},n.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return X(t,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return[4,lK(e)];case 1:return r=o.sent(),[4,cK(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return X(this,void 0,void 0,function(){var a;return Y(this,function(u){switch(u.label){case 0:return(a=Me(s)).Or.add(0),[4,J_(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ni(dn(this._delegate,Mr)))},n.prototype.enablePersistence=function(e){var t=!1,r=!1;return e&&pue("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},n.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},n.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},n.prototype.waitForPendingWrites=function(){return function(e){var t=this,r=new Lo;return e.asyncQueue.enqueueAndForget(function(){return X(t,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:return i=kGe,[4,J8(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Ni(dn(this._delegate,Mr)))},n.prototype.onSnapshotsInSync=function(e){return function(t,r){return function(i,o){var s=this,a=new wI(o);return i.asyncQueue.enqueueAndForget(function(){return X(s,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return u=function(c,h){Me(c).Gr.add(h),h.next()},[4,h_(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return X(s,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return u=function(c,h){Me(c).Gr.delete(h)},[4,h_(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})})}}(Ni(t=dn(t,Mr)),d_(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(n.prototype,"app",{get:function(){if(!this.tu)throw new we(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),n.prototype.collection=function(e){try{return new $D(this,gue(this._delegate,e))}catch(t){throw Qo(t,"collection()","Firestore.collection()")}},n.prototype.doc=function(e){try{return new Np(this,ZS(this._delegate,e))}catch(t){throw Qo(t,"doc()","Firestore.doc()")}},n.prototype.collectionGroup=function(e){try{return new QC(this,function(t,r){if(t=dn(t,k1),e9("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new we(se.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ks(t,null,function(i){return new Zc(gn.emptyPath(),i)}(r))}(this._delegate,e))}catch(t){throw Qo(t,"collectionGroup()","Firestore.collectionGroup()")}},n.prototype.runTransaction=function(e){var t=this;return function(r,i){return function(o,s){var a=this,u=new Lo;return o.asyncQueue.enqueueAndForget(function(){return X(a,void 0,void 0,function(){var l;return Y(this,function(c){switch(c.label){case 0:return[4,function(h){return EI(h).then(function(d){return d.datastore})}(o)];case 1:return l=c.sent(),new KGe(o.asyncQueue,l,s,u).run(),[2]}})})}),u.promise}(Ni(r),function(o){return i(new _$e(r,o))})}(this._delegate,function(r){return e(new kue(t,r))})},n.prototype.batch=function(){var e=this;return Ni(this._delegate),new Rue(new m$e(this._delegate,function(t){return XC(e._delegate,t)}))},n.prototype.loadBundle=function(e){throw new we(se.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},n.prototype.namedQuery=function(e){throw new we(se.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},n}(),II=function(n){function e(t){var r=this;return(r=n.call(this)||this).firestore=t,r}return Fe(e,n),e.prototype.convertBytes=function(t){return new Oue(new Zp(t))},e.prototype.convertReference=function(t){var r=this.convertDocumentKey(t,this.firestore._databaseId);return Np.eu(r,this.firestore,null)},e}(a9);function b$e(n){var e;e=n,Su.setLogLevel(e)}var kue=function(){function n(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new II(e)}return n.prototype.get=function(e){var t=this,r=hp(e);return this._delegate.get(r).then(function(i){return new P1(t._firestore,new kc(t._firestore._delegate,t._userDataWriter,i._key,i._document,i.metadata,r.converter))})},n.prototype.set=function(e,t,r){var i=hp(e);return r?(t9("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this},n.prototype.update=function(e,t,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=hp(e);return arguments.length===2?this._delegate.update(a,t):(i=this._delegate).update.apply(i,Vt([a,t,r],o)),this},n.prototype.delete=function(e){var t=hp(e);return this._delegate.delete(t),this},n}(),Rue=function(){function n(e){this._delegate=e}return n.prototype.set=function(e,t,r){var i=hp(e);return r?(t9("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this},n.prototype.update=function(e,t,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=hp(e);return arguments.length===2?this._delegate.update(a,t):(i=this._delegate).update.apply(i,Vt([a,t,r],o)),this},n.prototype.delete=function(e){var t=hp(e);return this._delegate.delete(t),this},n.prototype.commit=function(){return this._delegate.commit()},n}(),xI=function(){function n(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}return n.prototype.fromFirestore=function(e,t){var r=new vb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M1(this._firestore,r),t??{})},n.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},n.nu=function(e,t){var r=n.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(t);return o||(o=new n(e,new II(e),t),i.set(t,o)),o},n}();xI.su=new WeakMap;var Np=function(){function n(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new II(e)}return n.iu=function(e,t,r){if(e.length%2!=0)throw new we(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new n(t,new _r(t._delegate,r,new ct(e)))},n.eu=function(e,t,r){return new n(t,new _r(t._delegate,r,e))},Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new $D(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),n.prototype.collection=function(e){try{return new $D(this.firestore,gue(this._delegate,e))}catch(t){throw Qo(t,"collection()","DocumentReference.collection()")}},n.prototype.isEqual=function(e){return(e=Bt(e))instanceof _r&&vue(this._delegate,e)},n.prototype.set=function(e,t){t=t9("DocumentReference.set",t);try{return t?DK(this._delegate,e,t):DK(this._delegate,e)}catch(r){throw Qo(r,"setDoc()","DocumentReference.set()")}},n.prototype.update=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?AK(this._delegate,e):AK.apply(void 0,Vt([this._delegate,e,t],r))}catch(o){throw Qo(o,"updateDoc()","DocumentReference.update()")}},n.prototype.delete=function(){return XC(dn((e=this._delegate).firestore,Mr),[new GC(e._key,wo.none())]);var e},n.prototype.onSnapshot=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=Pue(t),o=Mue(t,function(s){return new P1(e.firestore,new kc(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))});return Nue(this._delegate,i,o)},n.prototype.get=function(e){var t=this;return((e==null?void 0:e.source)==="cache"?function(r){r=dn(r,_r);var i=dn(r.firestore,Mr),o=Ni(i),s=new Lp(i);return function(a,u){var l=this,c=new Lo;return a.asyncQueue.enqueueAndForget(function(){return X(l,void 0,void 0,function(){var h;return Y(this,function(d){switch(d.label){case 0:return h=function(p,v,m){return X(this,void 0,void 0,function(){var _,b;return Y(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(E,S){var A=Me(E);return A.persistence.runTransaction("read document","readonly",function(T){return A.Mn.mn(T,S)})}(p,v)];case 1:return(b=C.sent()).isFoundDocument()?m.resolve(b):b.isNoDocument()?m.resolve(null):m.reject(new we(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return _=C.sent(),b=n0(_,"Failed to get document '"+v+" from cache"),m.reject(b),[3,3];case 3:return[2]}})})},[4,Z8(a)];case 1:return[2,h.apply(void 0,[d.sent(),u,c])]}})})}),c.promise}(o,r._key).then(function(a){return new kc(i,s,r._key,a,new fp(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=dn(r,_r);var i=dn(r.firestore,Mr);return fK(Ni(i),r._key,{source:"server"}).then(function(o){return uF(i,r,o)})}(this._delegate):function(r){r=dn(r,_r);var i=dn(r.firestore,Mr);return fK(Ni(i),r._key).then(function(o){return uF(i,r,o)})}(this._delegate)).then(function(r){return new P1(t.firestore,new kc(t.firestore._delegate,t._userDataWriter,r._key,r._document,r.metadata,t._delegate.converter))})},n.prototype.withConverter=function(e){return new n(this.firestore,e?this._delegate.withConverter(xI.nu(this.firestore,e)):this._delegate.withConverter(null))},n}();function Qo(n,e,t){return n.message=n.message.replace(e,t),n}function Pue(n){for(var e=0,t=n;e<t.length;e++){var r=t[e];if(typeof r=="object"&&!d_(r))return r}return{}}function Mue(n,e){var t,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(t=(i=d_(n[0])?n[0]:d_(n[1])?n[1]:typeof n[0]=="function"?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]}).error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var P1=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"ref",{get:function(){return new Np(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),n.prototype.data=function(e){return this._delegate.data(e)},n.prototype.get=function(e,t){return this._delegate.get(e,t)},n.prototype.isEqual=function(e){return Aue(this._delegate,e._delegate)},n}(),M1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Fe(e,n),e.prototype.data=function(t){return this._delegate.data(t)},e}(P1),QC=function(){function n(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new II(e)}return n.prototype.where=function(e,t,r){try{return new n(this.firestore,Cf(this._delegate,function(i,o,s){var a=o,u=GD("where",i);return new p$e(u,a,s)}(e,t,r)))}catch(i){throw Qo(i,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.orderBy=function(e,t){try{return new n(this.firestore,Cf(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=GD("orderBy",r);return new g$e(s,o)}(e,t)))}catch(r){throw Qo(r,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.limit=function(e){try{return new n(this.firestore,Cf(this._delegate,function(t){return mK("limit",t),new CK("limit",t,"F")}(e)))}catch(t){throw Qo(t,"limit()","Query.limit()")}},n.prototype.limitToLast=function(e){try{return new n(this.firestore,Cf(this._delegate,function(t){return mK("limitToLast",t),new CK("limitToLast",t,"L")}(e)))}catch(t){throw Qo(t,"limitToLast()","Query.limitToLast()")}},n.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Cf(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new wK("startAt",r,!0)}).apply(void 0,e)))}catch(r){throw Qo(r,"startAt()","Query.startAt()")}},n.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Cf(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new wK("startAfter",r,!1)}).apply(void 0,e)))}catch(r){throw Qo(r,"startAfter()","Query.startAfter()")}},n.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Cf(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new EK("endBefore",r,!0)}).apply(void 0,e)))}catch(r){throw Qo(r,"endBefore()","Query.endBefore()")}},n.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new n(this.firestore,Cf(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new EK("endAt",r,!1)}).apply(void 0,e)))}catch(r){throw Qo(r,"endAt()","Query.endAt()")}},n.prototype.isEqual=function(e){return mue(this._delegate,e._delegate)},n.prototype.get=function(e){var t=this;return((e==null?void 0:e.source)==="cache"?function(r){r=dn(r,ks);var i=dn(r.firestore,Mr),o=Ni(i),s=new Lp(i);return function(a,u){var l=this,c=new Lo;return a.asyncQueue.enqueueAndForget(function(){return X(l,void 0,void 0,function(){var h;return Y(this,function(d){switch(d.label){case 0:return h=function(p,v,m){return X(this,void 0,void 0,function(){var _,b,C,E,S;return Y(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,WD(p,v,!0)];case 1:return S=A.sent(),_=new oue(v,S.Bn),b=_._o(S.documents),C=_.applyChanges(b,!1),m.resolve(C.snapshot),[3,3];case 2:return E=A.sent(),S=n0(E,"Failed to execute query '"+v+" against cache"),m.reject(S),[3,3];case 3:return[2]}})})},[4,Z8(a)];case 1:return[2,h.apply(void 0,[d.sent(),u,c])]}})})}),c.promise}(o,r._query).then(function(a){return new Hf(i,s,r,a)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=dn(r,ks);var i=dn(r.firestore,Mr),o=Ni(i),s=new Lp(i);return hK(o,r._query,{source:"server"}).then(function(a){return new Hf(i,s,r,a)})}(this._delegate):function(r){r=dn(r,ks);var i=dn(r.firestore,Mr),o=Ni(i),s=new Lp(i);return Iue(r._query),hK(o,r._query).then(function(a){return new Hf(i,s,r,a)})}(this._delegate)).then(function(r){return new lF(t.firestore,new Hf(t.firestore._delegate,t._userDataWriter,t._delegate,r._snapshot))})},n.prototype.onSnapshot=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=Pue(t),o=Mue(t,function(s){return new lF(e.firestore,new Hf(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))});return Nue(this._delegate,i,o)},n.prototype.withConverter=function(e){return new n(this.firestore,e?this._delegate.withConverter(xI.nu(this.firestore,e)):this._delegate.withConverter(null))},n}(),C$e=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doc",{get:function(){return new M1(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),n}(),lF=function(){function n(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(n.prototype,"query",{get:function(){return new QC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new M1(e._firestore,t)})},enumerable:!1,configurable:!0}),n.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(r){return new C$e(t._firestore,r)})},n.prototype.forEach=function(e,t){var r=this;this._delegate.forEach(function(i){e.call(t,new M1(r._firestore,i))})},n.prototype.isEqual=function(e){return Aue(this._delegate,e._delegate)},n}(),$D=function(n){function e(t,r){var i=this;return(i=n.call(this,t,r)||this).firestore=t,i._delegate=r,i}return Fe(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Np(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Np(this.firestore,t===void 0?ZS(this._delegate):ZS(this._delegate,t))}catch(r){throw Qo(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var r=this;return function(i,o){var s=dn(i.firestore,Mr),a=ZS(i),u=AI(i.converter,o);return XC(s,[DI(Ig(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,wo.exists(!1))]).then(function(){return a})}(this._delegate,t).then(function(i){return new Np(r.firestore,i)})},e.prototype.isEqual=function(t){return vue(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(xI.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(QC);function hp(n){return dn(n,_r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w$e=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(wl.bind.apply(wl,Vt([void 0],e)))}return n.documentId=function(){return new n(Ou.keyField().canonicalString())},n.prototype.isEqual=function(e){return(e=Bt(e))instanceof wl&&this._delegate._internalPath.isEqual(e._internalPath)},n}(),E$e=function(){function n(e){this._delegate=e}return n.serverTimestamp=function(){var e=new a$e("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new n(e)},n.delete=function(){var e=new n9("deleteField");return e._methodName="FieldValue.delete",new n(e)},n.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new u$e("arrayUnion",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new n(r)},n.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new l$e("arrayRemove",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new n(r)},n.increment=function(e){var t=function(r){return new c$e("increment",r)}(e);return t._methodName="FieldValue.increment",new n(t)},n.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$e(n){return function(e,t){var r=Ni(e=dn(e,Mr)),i=new n$e;return function(o,s,a,u){var l=this,c=function(h,d){return function(p,v){return new GGe(p,v)}(function(p,v){if(p instanceof Uint8Array)return uK(p,v);if(p instanceof ArrayBuffer)return uK(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof h=="string"?new TextEncoder().encode(h):h),d)}(a,$C(s));o.asyncQueue.enqueueAndForget(function(){return X(l,void 0,void 0,function(){var h;return Y(this,function(d){switch(d.label){case 0:return h=qGe,[4,J8(o)];case 1:return h.apply(void 0,[d.sent(),c,u]),[2]}})})})}(r,e._databaseId,t,i),i}(this._delegate,n)}function T$e(n){var e,t,r=this;return(e=this._delegate,t=n,function(i,o){var s=this;return i.asyncQueue.enqueue(function(){return X(s,void 0,void 0,function(){var a;return Y(this,function(u){switch(u.label){case 0:return a=function(l,c){var h=Me(l);return h.persistence.runTransaction("Get named query","readonly",function(d){return h.Ke.getNamedQuery(d,c)})},[4,Z8(i)];case 1:return[2,a.apply(void 0,[u.sent(),o])]}})})})}(Ni(e=dn(e,Mr)),t).then(function(i){return i?new ks(e,null,i.query):null})).then(function(i){return i?new QC(r,i):null})}var D$e={Firestore:u9,GeoPoint:TI,Timestamp:Os,Blob:Oue,Transaction:kue,WriteBatch:Rue,DocumentReference:Np,DocumentSnapshot:P1,Query:QC,QueryDocumentSnapshot:M1,QuerySnapshot:lF,CollectionReference:$D,FieldPath:w$e,FieldValue:E$e,setLogLevel:b$e,CACHE_SIZE_UNLIMITED:r$e};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$e(n){(function(e,t){e.INTERNAL.registerComponent(new Io("firestore",function(r){var i=r.getProvider("app").getImmediate();return t(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},D$e)))})(n,function(e,t){return new u9(e,new Mr(e,t),new y$e)}),n.registerVersion("@firebase/firestore","2.4.1")}A$e(tt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$e(n){n.prototype.loadBundle=S$e,n.prototype.namedQuery=T$e}I$e(u9);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LK={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mm=function(n){Fe(e,n);function e(t,r,i){var o=n.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=t,o.details=i,o}return e}(Error);function x$e(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function L$e(n,e,t){var r=x$e(n),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if(typeof a=="string"){if(!LK[a])return new mm("internal","internal");r=LK[a],i=a}var u=s.message;typeof u=="string"&&(i=u),o=s.details,o!==void 0&&(o=t.decode(o))}}catch{}return r==="ok"?null:new mm(r,i,o)}var N$e=function(){function n(e,t){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||t.get().then(function(i){return r.messaging=i},function(){})}return n.prototype.getAuthToken=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=t.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getInstanceIdToken=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getContext=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return t=r.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O$e="type.googleapis.com/google.protobuf.Int64Value",k$e="type.googleapis.com/google.protobuf.UInt64Value";function NK(n,e){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}var R$e=function(){function n(){}return n.prototype.encode=function(e){var t=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return t.encode(r)});if(typeof e=="function"||typeof e=="object")return NK(e,function(r){return t.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},n.prototype.decode=function(e){var t=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case O$e:case k$e:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return t.decode(i)}):typeof e=="function"||typeof e=="object"?NK(e,function(i){return t.decode(i)}):e},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$e(n){var e,t=new Promise(function(r,i){e=setTimeout(function(){i(new mm("deadline-exceeded","deadline-exceeded"))},n)});return{timer:e,promise:t}}var OK=function(){function n(e,t,r,i,o,s){var a=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=s,this.serializer=new R$e,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new N$e(t,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),n.prototype._url=function(e){var t=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+t+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},n.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},n.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},n.prototype.httpsCallable=function(e,t){var r=this;return function(i){return r.call(e,i,t||{})}},n.prototype.postJSON=function(e,t,r){return X(this,void 0,void 0,function(){var i,o,s;return Y(this,function(a){switch(a.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=a.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:r})];case 3:return o=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:s=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,o.json()];case 7:return s=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:o.status,json:s}]}})})},n.prototype.getAppCheckToken=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return t=r.sent(),[2,t.token];case 2:return[2,null]}})})},n.prototype.call=function(e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h,d,p,v,m;return Y(this,function(_){switch(_.label){case 0:return i=this._url(e),t=this.serializer.encode(t),o={data:t},s={},[4,this.contextProvider.getContext()];case 1:return a=_.sent(),a.authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=r.timeout||7e4,l=P$e(u),c=l.timer,h=l.promise,[4,Promise.race([kK(c,this.postJSON(i,o,s)),h,kK(c,this.cancelAllRequests)])];case 2:if(d=_.sent(),!d)throw new mm("cancelled","Firebase Functions instance was deleted.");if(p=L$e(d.status,d.json,this.serializer),p)throw p;if(!d.json)throw new mm("internal","Response is not valid JSON object.");if(v=d.json.data,typeof v>"u"&&(v=d.json.result),typeof v>"u")throw new mm("internal","Response is missing data field.");return m=this.serializer.decode(v),[2,{data:m}]}})})},n}();function kK(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,e];case 1:return t=r.sent(),clearTimeout(n),[2,t]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M$e="functions";function F$e(n,e){var t={Functions:OK};function r(i,o){var s=o.instanceIdentifier,a=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal"),c=i.getProvider("messaging");return new OK(a,u,c,l,s,e)}n.INTERNAL.registerComponent(new Io(M$e,r,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}var B$e="@firebase/functions",H$e="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */F$e(tt,fetch.bind(self));tt.registerVersion(B$e,H$e);function V$e(n){return Array.prototype.slice.call(n)}function Fue(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function LI(n,e,t){var r,i=new Promise(function(o,s){r=n[e].apply(n,t),Fue(r).then(o,s)});return i.request=r,i}function W$e(n,e,t){var r=LI(n,e,t);return r.then(function(i){if(i)return new F1(i,r.request)})}function r0(n,e,t){t.forEach(function(r){Object.defineProperty(n.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function l9(n,e,t,r){r.forEach(function(i){i in t.prototype&&(n.prototype[i]=function(){return LI(this[e],i,arguments)})})}function NI(n,e,t,r){r.forEach(function(i){i in t.prototype&&(n.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function Bue(n,e,t,r){r.forEach(function(i){i in t.prototype&&(n.prototype[i]=function(){return W$e(this[e],i,arguments)})})}function Lg(n){this._index=n}r0(Lg,"_index",["name","keyPath","multiEntry","unique"]);l9(Lg,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);Bue(Lg,"_index",IDBIndex,["openCursor","openKeyCursor"]);function F1(n,e){this._cursor=n,this._request=e}r0(F1,"_cursor",["direction","key","primaryKey","value"]);l9(F1,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(F1.prototype[n]=function(){var e=this,t=arguments;return Promise.resolve().then(function(){return e._cursor[n].apply(e._cursor,t),Fue(e._request).then(function(r){if(r)return new F1(r,e._request)})})})});function Yl(n){this._store=n}Yl.prototype.createIndex=function(){return new Lg(this._store.createIndex.apply(this._store,arguments))};Yl.prototype.index=function(){return new Lg(this._store.index.apply(this._store,arguments))};r0(Yl,"_store",["name","keyPath","indexNames","autoIncrement"]);l9(Yl,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);Bue(Yl,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);NI(Yl,"_store",IDBObjectStore,["deleteIndex"]);function ZC(n){this._tx=n,this.complete=new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(){t(n.error)},n.onabort=function(){t(n.error)}})}ZC.prototype.objectStore=function(){return new Yl(this._tx.objectStore.apply(this._tx,arguments))};r0(ZC,"_tx",["objectStoreNames","mode"]);NI(ZC,"_tx",IDBTransaction,["abort"]);function OI(n,e,t){this._db=n,this.oldVersion=e,this.transaction=new ZC(t)}OI.prototype.createObjectStore=function(){return new Yl(this._db.createObjectStore.apply(this._db,arguments))};r0(OI,"_db",["name","version","objectStoreNames"]);NI(OI,"_db",IDBDatabase,["deleteObjectStore","close"]);function kI(n){this._db=n}kI.prototype.transaction=function(){return new ZC(this._db.transaction.apply(this._db,arguments))};r0(kI,"_db",["name","version","objectStoreNames"]);NI(kI,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(n){[Yl,Lg].forEach(function(e){n in e.prototype&&(e.prototype[n.replace("open","iterate")]=function(){var t=V$e(arguments),r=t[t.length-1],i=this._store||this._index,o=i[n].apply(i,t.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Lg,Yl].forEach(function(n){n.prototype.getAll||(n.prototype.getAll=function(e,t){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(s){if(!s){o(i);return}if(i.push(s.value),t!==void 0&&i.length==t){o(i);return}s.continue()})})})});function c9(n,e,t){var r=LI(indexedDB,"open",[n,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){t&&t(new OI(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new kI(o)})}function uR(n){return LI(indexedDB,"deleteDatabase",[n])}var U$e="@firebase/installations",Hue="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vue=1e4,Wue="w:"+Hue,Uue="FIS_v2",j$e="https://firebaseinstallations.googleapis.com/v1",q$e=60*60*1e3,z$e="installations",G$e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf,$$e=(wf={},wf["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',wf["not-registered"]="Firebase Installation is not registered.",wf["installation-not-found"]="Firebase Installation not found.",wf["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',wf["app-offline"]="Could not process request. Application offline.",wf["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",wf),qc=new $c(z$e,G$e,$$e);function jue(n){return n instanceof A_&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(n){var e=n.projectId;return j$e+"/projects/"+e+"/installations"}function que(n){return{token:n.token,requestStatus:2,expiresIn:K$e(n.expiresIn),creationTime:Date.now()}}function h9(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return t=i.sent(),r=t.error,[2,qc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function zue(n){var e=n.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Gue(n,e){var t=e.refreshToken,r=zue(n);return r.append("Authorization",Y$e(t)),r}function d9(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return[4,n()];case 1:return e=t.sent(),e.status>=500&&e.status<600?[2,n()]:[2,e]}})})}function K$e(n){return Number(n.replace("s","000"))}function Y$e(n){return Uue+" "+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$e(n,e){var t=e.fid;return X(this,void 0,void 0,function(){var r,i,o,s,a,u,l;return Y(this,function(c){switch(c.label){case 0:return r=f9(n),i=zue(n),o={fid:t,authVersion:Uue,appId:n.appId,sdkVersion:Wue},s={method:"POST",headers:i,body:JSON.stringify(o)},[4,d9(function(){return fetch(r,s)})];case 1:return a=c.sent(),a.ok?[4,a.json()]:[3,3];case 2:return u=c.sent(),l={fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:que(u.authToken)},[2,l];case 3:return[4,h9("Create Installation",a)];case 4:throw c.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ue(n){return new Promise(function(e){setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$e(n){var e=btoa(String.fromCharCode.apply(String,Vt([],Gi(n))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z$e=/^[cdef][\w-]{21}$/,cF="";function J$e(){try{var n=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(n),n[0]=112+n[0]%16;var t=eKe(n);return Z$e.test(t)?t:cF}catch{return cF}}function eKe(n){var e=Q$e(n);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n){return n.appName+"!"+n.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_=new Map;function Kue(n,e){var t=i0(n);Yue(t,e),rKe(t,e)}function tKe(n,e){Xue();var t=i0(n),r=p_.get(t);r||(r=new Set,p_.set(t,r)),r.add(e)}function nKe(n,e){var t=i0(n),r=p_.get(t);r&&(r.delete(e),r.size===0&&p_.delete(t),Que())}function Yue(n,e){var t,r,i=p_.get(n);if(i)try{for(var o=Pi(i),s=o.next();!s.done;s=o.next()){var a=s.value;a(e)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}function rKe(n,e){var t=Xue();t&&t.postMessage({key:n,fid:e}),Que()}var dp=null;function Xue(){return!dp&&"BroadcastChannel"in self&&(dp=new BroadcastChannel("[Firebase] FID Change"),dp.onmessage=function(n){Yue(n.data.key,n.data.fid)}),dp}function Que(){p_.size===0&&dp&&(dp.close(),dp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iKe="firebase-installations-database",oKe=1,Jp="firebase-installations-store",lR=null;function p9(){return lR||(lR=c9(iKe,oKe,function(n){switch(n.oldVersion){case 0:n.createObjectStore(Jp)}})),lR}function KD(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return t=i0(n),[4,p9()];case 1:return r=a.sent(),i=r.transaction(Jp,"readwrite"),o=i.objectStore(Jp),[4,o.get(t)];case 2:return s=a.sent(),[4,o.put(e,t)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),(!s||s.fid!==e.fid)&&Kue(n,e.fid),[2,e]}})})}function g9(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return e=i0(n),[4,p9()];case 1:return t=i.sent(),r=t.transaction(Jp,"readwrite"),[4,r.objectStore(Jp).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function JC(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return t=i0(n),[4,p9()];case 1:return r=u.sent(),i=r.transaction(Jp,"readwrite"),o=i.objectStore(Jp),[4,o.get(t)];case 2:return s=u.sent(),a=e(s),a!==void 0?[3,4]:[4,o.delete(t)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,t)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),a&&(!s||s.fid!==a.fid)&&Kue(n,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return[4,JC(n,function(o){var s=sKe(o),a=aKe(n,s);return e=a.registrationPromise,a.installationEntry})];case 1:return t=i.sent(),t.fid!==cF?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:t,registrationPromise:e}]}})})}function sKe(n){var e=n||{fid:J$e(),registrationStatus:0};return Zue(e)}function aKe(n,e){if(e.registrationStatus===0){if(!navigator.onLine){var t=Promise.reject(qc.create("app-offline"));return{installationEntry:e,registrationPromise:t}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=uKe(n,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lKe(n)}:{installationEntry:e}}function uKe(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,X$e(n,e)];case 1:return t=i.sent(),[2,KD(n,t)];case 2:return r=i.sent(),jue(r)&&r.customData.serverCode===409?[4,g9(n)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,KD(n,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function lKe(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,RK(n)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,$ue(100)];case 3:return o.sent(),[4,RK(n)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,v9(n)];case 6:return t=o.sent(),r=t.installationEntry,i=t.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function RK(n){return JC(n,function(e){if(!e)throw qc.create("installation-not-found");return Zue(e)})}function Zue(n){return cKe(n)?{fid:n.fid,registrationStatus:0}:n}function cKe(n){return n.registrationStatus===1&&n.registrationTime+Vue<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fKe(n,e){var t=n.appConfig,r=n.platformLoggerProvider;return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h;return Y(this,function(d){switch(d.label){case 0:return i=hKe(t,e),o=Gue(t,e),s=r.getImmediate({optional:!0}),s&&o.append("x-firebase-client",s.getPlatformInfoString()),a={installation:{sdkVersion:Wue}},u={method:"POST",headers:o,body:JSON.stringify(a)},[4,d9(function(){return fetch(i,u)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),h=que(c),[2,h];case 3:return[4,h9("Generate Auth Token",l)];case 4:throw d.sent()}})})}function hKe(n,e){var t=e.fid;return f9(n)+"/"+t+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(n,e){return e===void 0&&(e=!1),X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return[4,JC(n.appConfig,function(a){if(!Jue(a))throw qc.create("not-registered");var u=a.authToken;if(!e&&gKe(u))return a;if(u.requestStatus===1)return t=dKe(n,e),a;if(!navigator.onLine)throw qc.create("app-offline");var l=mKe(a);return t=pKe(n,l),l})];case 1:return r=s.sent(),t?[4,t]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}})})}function dKe(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,PK(n.appConfig)];case 1:t=i.sent(),i.label=2;case 2:return t.authToken.requestStatus!==1?[3,5]:[4,$ue(100)];case 3:return i.sent(),[4,PK(n.appConfig)];case 4:return t=i.sent(),[3,2];case 5:return r=t.authToken,r.requestStatus===0?[2,m9(n,e)]:[2,r]}})})}function PK(n){return JC(n,function(e){if(!Jue(e))throw qc.create("not-registered");var t=e.authToken;return _Ke(t)?gt(gt({},e),{authToken:{requestStatus:0}}):e})}function pKe(n,e){return X(this,void 0,void 0,function(){var t,i,r,i;return Y(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,fKe(n,e)];case 1:return t=o.sent(),i=gt(gt({},e),{authToken:t}),[4,KD(n.appConfig,i)];case 2:return o.sent(),[2,t];case 3:return r=o.sent(),jue(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,g9(n.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=gt(gt({},e),{authToken:{requestStatus:0}}),[4,KD(n.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function Jue(n){return n!==void 0&&n.registrationStatus===2}function gKe(n){return n.requestStatus===2&&!vKe(n)}function vKe(n){var e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+q$e}function mKe(n){var e={requestStatus:1,requestTime:Date.now()};return gt(gt({},n),{authToken:e})}function _Ke(n){return n.requestStatus===1&&n.requestTime+Vue<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yKe(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return[4,v9(n.appConfig)];case 1:return e=i.sent(),t=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):m9(n).catch(console.error),[2,t.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bKe(n,e){return e===void 0&&(e=!1),X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,CKe(n.appConfig)];case 1:return r.sent(),[4,m9(n,e)];case 2:return t=r.sent(),[2,t.token]}})})}function CKe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return[4,v9(n)];case 1:return e=t.sent().registrationPromise,e?[4,e]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wKe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return t=EKe(n,e),r=Gue(n,e),i={method:"DELETE",headers:r},[4,d9(function(){return fetch(t,i)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,h9("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function EKe(n,e){var t=e.fid;return f9(n)+"/"+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SKe(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return e=n.appConfig,[4,JC(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(t=r.sent(),!t)return[3,6];if(t.registrationStatus!==1)return[3,2];throw qc.create("delete-pending-registration");case 2:if(t.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw qc.create("app-offline");case 3:return[4,wKe(e,t)];case 4:return r.sent(),[4,g9(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TKe(n,e){var t=n.appConfig;return tKe(t,e),function(){nKe(t,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DKe(n){var e,t;if(!n||!n.options)throw cR("App Configuration");if(!n.name)throw cR("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Pi(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!n.options[s])throw cR(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cR(n){return qc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AKe(n){var e="installations";n.INTERNAL.registerComponent(new Io(e,function(t){var r=t.getProvider("app").getImmediate(),i=DKe(r),o=t.getProvider("platform-logger"),s={appConfig:i,platformLoggerProvider:o},a={app:r,getId:function(){return yKe(s)},getToken:function(u){return bKe(s,u)},delete:function(){return SKe(s)},onIdChange:function(u){return TKe(s,u)}};return a},"PUBLIC")),n.registerVersion(U$e,Hue)}AKe(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi,IKe=(oi={},oi["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',oi["only-available-in-window"]="This method is available in a Window context.",oi["only-available-in-sw"]="This method is available in a service worker context.",oi["permission-default"]="The notification permission was not granted and dismissed instead.",oi["permission-blocked"]="The notification permission was not granted and blocked instead.",oi["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",oi["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",oi["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",oi["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",oi["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",oi["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",oi["token-update-no-token"]="FCM returned no token when updating the user to push.",oi["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",oi["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",oi["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",oi["invalid-vapid-key"]="The public VAPID key must be a string.",oi["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",oi),On=new $c("messaging","Messaging",IKe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xKe="/firebase-messaging-sw.js",LKe="/firebase-cloud-messaging-push-scope",YD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NKe="https://fcmregistrations.googleapis.com/v1",ele="FCM_MSG",OKe="FirebaseMessaging: ",kKe="google.c.a.e",tle="google.c.a.c_id",RKe="google.c.a.ts",PKe="google.c.a.c_l",MKe=1e3,FKe=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var eg;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(eg||(eg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n){var e=new Uint8Array(n),t=btoa(String.fromCharCode.apply(String,Vt([],Gi(e))));return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function BKe(n){for(var e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fR="fcm_token_details_db",HKe=5,MK="fcm_token_object_Store";function VKe(n){return X(this,void 0,void 0,function(){var e,t,r,i,o=this;return Y(this,function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=s.sent(),t=e.map(function(a){return a.name}),!t.includes(fR))return[2,null];s.label=2;case 2:return r=null,[4,c9(fR,HKe,function(a){return X(o,void 0,void 0,function(){var u,l,c,c,c,h;return Y(this,function(d){switch(d.label){case 0:return a.oldVersion<2?[2]:a.objectStoreNames.contains(MK)?(u=a.transaction.objectStore(MK),[4,u.index("fcmSenderId").get(n)]):[2];case 1:return l=d.sent(),[4,u.clear()];case 2:if(d.sent(),!l)return[2];if(a.oldVersion===2){if(c=l,!c.auth||!c.p256dh||!c.endpoint)return[2];r={token:c.fcmToken,createTime:(h=c.createTime)!==null&&h!==void 0?h:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:dc(c.vapidKey)}}}else a.oldVersion===3?(c=l,r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:dc(c.auth),p256dh:dc(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:dc(c.vapidKey)}}):a.oldVersion===4&&(c=l,r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:dc(c.auth),p256dh:dc(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:dc(c.vapidKey)}});return[2]}})})})];case 3:return i=s.sent(),i.close(),[4,uR(fR)];case 4:return s.sent(),[4,uR("fcm_vapid_details_db")];case 5:return s.sent(),[4,uR("undefined")];case 6:return s.sent(),[2,WKe(r)?r:null]}})})}function WKe(n){if(!n||!n.subscriptionOptions)return!1;var e=n.subscriptionOptions;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UKe="firebase-messaging-database",jKe=1,tg="firebase-messaging-store",hR=null;function _9(){return hR||(hR=c9(UKe,jKe,function(n){switch(n.oldVersion){case 0:n.createObjectStore(tg)}})),hR}function XD(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return e=b9(n),[4,_9()];case 1:return t=o.sent(),[4,t.transaction(tg).objectStore(tg).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,VKe(n.appConfig.senderId)];case 4:return i=o.sent(),i?[4,y9(n,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function y9(n,e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return t=b9(n),[4,_9()];case 1:return r=o.sent(),i=r.transaction(tg,"readwrite"),[4,i.objectStore(tg).put(e,t)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function qKe(n){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return e=b9(n),[4,_9()];case 1:return t=i.sent(),r=t.transaction(tg,"readwrite"),[4,r.objectStore(tg).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function b9(n){var e=n.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zKe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return[4,w9(n)];case 1:t=l.sent(),r=rle(e),i={method:"POST",headers:t,body:JSON.stringify(r)},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(C9(n.appConfig),i)];case 3:return s=l.sent(),[4,s.json()];case 4:return o=l.sent(),[3,6];case 5:throw a=l.sent(),On.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,On.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw On.create("token-subscribe-no-token");return[2,o.token]}})})}function GKe(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return[4,w9(n)];case 1:t=l.sent(),r=rle(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(C9(n.appConfig)+"/"+e.token,i)];case 3:return s=l.sent(),[4,s.json()];case 4:return o=l.sent(),[3,6];case 5:throw a=l.sent(),On.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,On.create("token-update-failed",{errorInfo:u});if(!o.token)throw On.create("token-update-no-token");return[2,o.token]}})})}function nle(n,e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return[4,w9(n)];case 1:t=u.sent(),r={method:"DELETE",headers:t},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(C9(n.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw s=o.error.message,On.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw a=u.sent(),On.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function C9(n){var e=n.projectId;return NKe+"/projects/"+e+"/registrations"}function w9(n){var e=n.appConfig,t=n.installations;return X(this,void 0,void 0,function(){var r;return Y(this,function(i){switch(i.label){case 0:return[4,t.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function rle(n){var e=n.p256dh,t=n.auth,r=n.endpoint,i=n.vapidKey,o={web:{endpoint:r,auth:t,p256dh:e}};return i!==YD&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Ke=7*24*60*60*1e3;function fF(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:if(Notification.permission!=="granted")throw On.create("permission-blocked");return[4,YKe(e,t)];case 1:return r=a.sent(),[4,XD(n)];case 2:return i=a.sent(),o={vapidKey:t,swScope:e.scope,endpoint:r.endpoint,auth:dc(r.getKey("auth")),p256dh:dc(r.getKey("p256dh"))},i?[3,3]:[2,FK(n,o)];case 3:if(XKe(i.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,nle(n,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,FK(n,o)];case 8:return Date.now()>=i.createTime+$Ke?[2,KKe({token:i.token,createTime:Date.now(),subscriptionOptions:o},n,e)]:[2,i.token];case 9:return[2]}})})}function mb(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,XD(n)];case 1:return t=i.sent(),t?[4,nle(n,t.token)]:[3,4];case 2:return i.sent(),[4,qKe(n)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function KKe(n,e,t){return X(this,void 0,void 0,function(){var r,i,o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,GKe(e,n)];case 1:return r=s.sent(),i=gt(gt({},n),{token:r,createTime:Date.now()}),[4,y9(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,mb(e,t)];case 4:throw s.sent(),o;case 5:return[2]}})})}function FK(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return[4,zKe(n,e)];case 1:return t=i.sent(),r={token:t,createTime:Date.now(),subscriptionOptions:e},[4,y9(n,r)];case 2:return i.sent(),[2,r.token]}})})}function YKe(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,n.pushManager.getSubscription()];case 1:return t=r.sent(),t?[2,t]:[2,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BKe(e)})]}})})}function XKe(n,e){var t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QKe(n){var e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return ZKe(e,n),JKe(e,n),eYe(e,n),e}function ZKe(n,e){if(e.notification){n.notification={};var t=e.notification.title;t&&(n.notification.title=t);var r=e.notification.body;r&&(n.notification.body=r);var i=e.notification.image;i&&(n.notification.image=i)}}function JKe(n,e){e.data&&(n.data=e.data)}function eYe(n,e){if(e.fcmOptions){n.fcmOptions={};var t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);var r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ile(n){return typeof n=="object"&&!!n&&tle in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(n){return new Promise(function(e){setTimeout(e,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tYe=function(){function n(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(t.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(t.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(t.onNotificationClick(r))})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw On.create("invalid-bg-handler");this.bgMessageHandler=e},n.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},n.prototype.getToken=function(){var e,t;return X(this,void 0,void 0,function(){var r;return Y(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,XD(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(t=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&t!==void 0?t:YD,i.label=2;case 2:return[2,fF(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},n.prototype.deleteToken=function(){return mb(this.firebaseDependencies,self.registration)},n.prototype.requestPermission=function(){throw On.create("only-available-in-window")},n.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw On.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw On.create("invalid-vapid-key");this.vapidKey=e},n.prototype.useServiceWorker=function(){throw On.create("only-available-in-window")},n.prototype.onMessage=function(){throw On.create("only-available-in-window")},n.prototype.onTokenRefresh=function(){throw On.create("only-available-in-window")},n.prototype.onPush=function(e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return t=rYe(e),t?[4,ole()]:(console.debug(OKe+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=s.sent(),oYe(r)?[2,sYe(r,t)]:(i=!1,t.notification?[4,aYe(nYe(t))]:[3,3]);case 2:s.sent(),i=!0,s.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=QKe(t),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,BK(MKe)]);case 4:return s.sent(),[2]}})})},n.prototype.onSubChange=function(e){var t,r;return X(this,void 0,void 0,function(){var i,o;return Y(this,function(s){switch(s.label){case 0:return i=e.newSubscription,i?[3,2]:[4,mb(this.firebaseDependencies,self.registration)];case 1:return s.sent(),[2];case 2:return[4,XD(this.firebaseDependencies)];case 3:return o=s.sent(),[4,mb(this.firebaseDependencies,self.registration)];case 4:return s.sent(),[4,fF(this.firebaseDependencies,self.registration,(r=(t=o==null?void 0:o.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&r!==void 0?r:YD)];case 5:return s.sent(),[2]}})})},n.prototype.onNotificationClick=function(e){var t,r;return X(this,void 0,void 0,function(){var i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:if(i=(r=(t=e.notification)===null||t===void 0?void 0:t.data)===null||r===void 0?void 0:r[ele],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=uYe(i),o?(s=new URL(o,self.location.href),a=new URL(self.location.origin),s.host!==a.host?[2]:[4,iYe(s)]):[2];case 1:return u=l.sent(),u?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=l.sent(),[4,BK(FKe)];case 3:return l.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=l.sent(),l.label=6;case 6:return u?(i.messageType=eg.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,u.postMessage(i)]):[2]}})})},n}();function nYe(n){var e,t=gt({},n.notification);return t.data=(e={},e[ele]=n,e),t}function rYe(n){var e=n.data;if(!e)return null;try{return e.json()}catch{return null}}function iYe(n){return X(this,void 0,void 0,function(){var e,t,r,i,o,s,a;return Y(this,function(u){switch(u.label){case 0:return[4,ole()];case 1:e=u.sent();try{for(t=Pi(e),r=t.next();!r.done;r=t.next())if(i=r.value,o=new URL(i.url,self.location.href),n.host===o.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(s)throw s.error}}return[2,null]}})})}function oYe(n){return n.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function sYe(n,e){var t,r;e.isFirebaseMessaging=!0,e.messageType=eg.PUSH_RECEIVED;try{for(var i=Pi(n),o=i.next();!o.done;o=i.next()){var s=o.value;s.postMessage(e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}function ole(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function aYe(n){var e,t=n.actions,r=Notification.maxActions;return t&&r&&t.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=n.title)!==null&&e!==void 0?e:"",n)}function uYe(n){var e,t,r,i=(t=(e=n.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&t!==void 0?t:(r=n.notification)===null||r===void 0?void 0:r.click_action;return i||(ile(n.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lYe=function(){function n(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return t.messageEventListener(r)})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.messageEventListener=function(e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return t=e.data,t.isFirebaseMessaging?(this.onMessageCallback&&t.messageType===eg.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(fYe(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),r=t.data,ile(r)&&r[kKe]==="1"?[4,this.logEvent(t.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.getVapidKey=function(){return this.vapidKey},n.prototype.getSwReg=function(){return this.swRegistration},n.prototype.getToken=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if(Notification.permission!=="granted")throw On.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,fF(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},n.prototype.updateVapidKey=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=YD),[2]})})},n.prototype.updateSwReg=function(e){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},n.prototype.registerDefaultSw=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(xKe,{scope:LKe})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=r.sent(),On.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},n.prototype.deleteToken=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,mb(this.firebaseDependencies,this.swRegistration)]}})})},n.prototype.requestPermission=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=t.sent(),e==="granted")return[2];throw e==="denied"?On.create("permission-blocked"):On.create("permission-default")}})})},n.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw On.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw On.create("invalid-vapid-key");this.vapidKey=e},n.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");if(this.swRegistration)throw On.create("use-sw-after-get-token");this.swRegistration=e},n.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},n.prototype.setBackgroundMessageHandler=function(){throw On.create("only-available-in-sw")},n.prototype.onBackgroundMessage=function(){throw On.create("only-available-in-sw")},n.prototype.onTokenRefresh=function(){return function(){}},n.prototype.logEvent=function(e,t){return X(this,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return r=cYe(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:t[tle],message_name:t[PKe],message_time:t[RKe],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},n}();function cYe(n){switch(n){case eg.NOTIFICATION_CLICKED:return"notification_open";case eg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fYe(n){return delete n.messageType,delete n.isFirebaseMessaging,n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hYe(n){var e,t;if(!n||!n.options)throw dR("App Configuration Object");if(!n.name)throw dR("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=n.options;try{for(var o=Pi(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(!i[a])throw dR(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{appName:n.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function dR(n){return On.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dYe="messaging";function pYe(n){var e=n.getProvider("app").getImmediate(),t=hYe(e),r=n.getProvider("installations").getImmediate(),i=n.getProvider("analytics-internal"),o={app:e,appConfig:t,installations:r,analyticsProvider:i};if(!sle())throw On.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new tYe(o):new lYe(o)}var gYe={isSupported:sle};tt.INTERNAL.registerComponent(new Io(dYe,pYe,"PUBLIC").setServiceProps(gYe));function sle(){return self&&"ServiceWorkerGlobalScope"in self?mYe():vYe()}function vYe(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function mYe(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ale="firebasestorage.googleapis.com",ule="storageBucket",_Ye=2*60*1e3,yYe=10*60*1e3,ti=function(n){Fe(e,n);function e(t,r){var i=n.call(this,pR(t),"Firebase Storage: "+r+" ("+pR(t)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(t){return pR(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(A_);function pR(n){return"storage/"+n}function E9(){var n="An unknown error occurred, please check the error payload for server response.";return new ti("unknown",n)}function bYe(n){return new ti("object-not-found","Object '"+n+"' does not exist.")}function CYe(n){return new ti("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wYe(){var n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ti("unauthenticated",n)}function EYe(){return new ti("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function SYe(n){return new ti("unauthorized","User does not have permission to access '"+n+"'.")}function TYe(){return new ti("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function lle(){return new ti("canceled","User canceled the upload/download.")}function DYe(n){return new ti("invalid-url","Invalid URL '"+n+"'.")}function AYe(n){return new ti("invalid-default-bucket","Invalid default bucket '"+n+"'.")}function IYe(){return new ti("no-default-bucket","No default bucket found. Did you set the '"+ule+"' property when initializing the app?")}function cle(){return new ti("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xYe(){return new ti("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function LYe(){return new ti("no-download-url","The given file does not have any download URLs.")}function _m(n){return new ti("invalid-argument",n)}function fle(){return new ti("app-deleted","The Firebase app was deleted.")}function hle(n){return new ti("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _b(n,e){return new ti("invalid-format","String does not match format '"+n+"': "+e)}function fS(n){throw new ti("internal-error","Internal error: "+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NYe(n){return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},gR=function(){function n(e,t){this.data=e,this.contentType=t||null}return n}();function dle(n,e){switch(n){case Ra.RAW:return new gR(ple(e));case Ra.BASE64:case Ra.BASE64URL:return new gR(gle(n,e));case Ra.DATA_URL:return new gR(kYe(e),RYe(e))}throw E9()}function ple(n){for(var e=[],t=0;t<n.length;t++){var r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320;if(!i)e.push(239,191,189);else{var o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OYe(n){var e;try{e=decodeURIComponent(n)}catch{throw _b(Ra.DATA_URL,"Malformed data URL.")}return ple(e)}function gle(n,e){switch(n){case Ra.BASE64:{var t=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(t||r){var i=t?"-":"_";throw _b(n,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ra.BASE64URL:{var o=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(o||s){var i=o?"+":"/";throw _b(n,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var a;try{a=NYe(e)}catch{throw _b(n,"Invalid character found")}for(var u=new Uint8Array(a.length),l=0;l<a.length;l++)u[l]=a.charCodeAt(l);return u}var vle=function(){function n(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(t===null)throw _b(Ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=t[1]||null;r!=null&&(this.base64=PYe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return n}();function kYe(n){var e=new vle(n);return e.base64?gle(Ra.BASE64,e.rest):OYe(e.rest)}function RYe(n){var e=new vle(n);return e.contentType}function PYe(n,e){var t=n.length>=e.length;return t?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MYe={STATE_CHANGED:"state_changed"},Zo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vR(n){switch(n){case"running":case"pausing":case"canceling":return Zo.RUNNING;case"paused":return Zo.PAUSED;case"success":return Zo.SUCCESS;case"canceled":return Zo.CANCELED;case"error":return Zo.ERROR;default:return Zo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Op;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Op||(Op={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FYe=function(){function n(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Op.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=Op.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Op.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return n.prototype.send=function(e,t,r,i){if(this.sent_)throw fS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},n.prototype.getErrorCode=function(){if(!this.sent_)throw fS("cannot .getErrorCode() before sending");return this.errorCode_},n.prototype.getStatus=function(){if(!this.sent_)throw fS("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},n.prototype.getResponseText=function(){if(!this.sent_)throw fS("cannot .getResponseText() before sending");return this.xhr_.responseText},n.prototype.abort=function(){this.xhr_.abort()},n.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},n.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},n.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},n}();function BYe(){return new FYe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HYe=function(){function n(){}return n.prototype.createConnection=function(){return BYe()},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa=function(){function n(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),n.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},n.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},n.makeFromBucketSpec=function(e,t){var r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw AYe(e)},n.makeFromUrl=function(e,t){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(F){F.path_=decodeURIComponent(F.path)}for(var c="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp("^https?://"+h+"/"+c+"/b/"+i+"/o"+d,"i"),v={bucket:1,path:3},m=t===ale?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",b=new RegExp("^https?://"+m+"/"+i+"/"+_,"i"),C={bucket:1,path:2},E=[{regex:a,indices:u,postModify:o},{regex:p,indices:v,postModify:l},{regex:b,indices:C,postModify:l}],S=0;S<E.length;S++){var A=E[S],T=A.regex.exec(e);if(T){var N=T[A.indices.bucket],k=T[A.indices.path];k||(k=""),r=new n(N,k),A.postModify(r);break}}if(r==null)throw DYe(e);return r},n}(),VYe=function(){function n(e){this.promise_=Promise.reject(e)}return n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(e){},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WYe(n,e,t){var r=1,i=null,o=!1,s=0;function a(){return s===2}var u=!1;function l(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];u||(u=!0,e.apply(null,v))}function c(v){i=setTimeout(function(){i=null,n(h,a())},v)}function h(v){for(var m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];if(!u){if(v){l.call.apply(l,Vt([null,v],m));return}var b=a()||o;if(b){l.call.apply(l,Vt([null,v],m));return}r<64&&(r*=2);var C;s===1?(s=2,C=0):C=(r+Math.random())*1e3,c(C)}}var d=!1;function p(v){d||(d=!0,!u&&(i!==null?(v||(s=2),clearTimeout(i),c(0)):v||(s=1)))}return c(0),setTimeout(function(){o=!0,p(!0)},t),p}function UYe(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jYe(n){return n!==void 0}function qYe(n){return typeof n=="function"}function zYe(n){return typeof n=="object"&&!Array.isArray(n)}function RI(n){return typeof n=="string"||n instanceof String}function HK(n){return S9()&&n instanceof Blob}function S9(){return typeof Blob<"u"}function hF(n,e,t,r){if(r<e)throw _m("Invalid value for '"+n+"'. Expected "+e+" or greater.");if(r>t)throw _m("Invalid value for '"+n+"'. Expected "+t+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n,e){var t=e.match(/^(\w+):\/\/.+/),r=t==null?void 0:t[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+n}function mle(n){var e=encodeURIComponent,t="?";for(var r in n)if(n.hasOwnProperty(r)){var i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GYe=function(){function n(e,t,r,i,o,s,a,u,l,c,h){var d=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=a,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=l,this.pool_=h,this.promise_=new Promise(function(p,v){d.resolve_=p,d.reject_=v,d.start_()})}return n.prototype.start_=function(){var e=this;function t(i,o){if(o){i(!1,new hS(!1,null,!0));return}var s=e.pool_.createConnection();e.pendingConnection_=s;function a(u){var l=u.loaded,c=u.lengthComputable?u.total:-1;e.progressCallback_!==null&&e.progressCallback_(l,c)}e.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&s.removeUploadProgressListener(a),e.pendingConnection_=null;var u=s.getErrorCode()===Op.NO_ERROR,l=s.getStatus();if(!u||e.isRetryStatusCode_(l)){var c=s.getErrorCode()===Op.ABORT;i(!1,new hS(!1,null,c));return}var h=e.successCodes_.indexOf(l)!==-1;i(!0,new hS(h,s))})}function r(i,o){var s=e.resolve_,a=e.reject_,u=o.connection;if(o.wasSuccessCode)try{var l=e.callback_(u,u.getResponseText());jYe(l)?s(l):s()}catch(h){a(h)}else if(u!==null){var c=E9();c.serverResponse=u.getResponseText(),e.errorCallback_?a(e.errorCallback_(u,c)):a(c)}else if(o.canceled){var c=e.appDelete_?fle():lle();a(c)}else{var c=TYe();a(c)}}this.canceled_?r(!1,new hS(!1,null,!0)):this.backoffId_=WYe(t,r,this.timeout_)},n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UYe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},n.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return t||i||o},n}(),hS=function(){function n(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}return n}();function $Ye(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function KYe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YYe(n,e){e&&(n["X-Firebase-GMPID"]=e)}function XYe(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function QYe(n,e,t,r,i,o){var s=mle(n.urlParams),a=n.url+s,u=Object.assign({},n.headers);return YYe(u,e),$Ye(u,t),KYe(u,o),XYe(u,r),new GYe(a,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZYe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function JYe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=ZYe();if(t!==void 0){for(var r=new t,i=0;i<n.length;i++)r.append(n[i]);return r.getBlob()}else{if(S9())return new Blob(n);throw new ti("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function eXe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T9=function(){function n(e,t){var r=0,i="";HK(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return n.prototype.size=function(){return this.size_},n.prototype.type=function(){return this.type_},n.prototype.slice=function(e,t){if(HK(this.data_)){var r=this.data_,i=eXe(r,e,t);return i===null?null:new n(i)}else{var o=new Uint8Array(this.data_.buffer,e,t-e);return new n(o,!0)}},n.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(S9()){var r=e.map(function(u){return u instanceof n?u.data_:u});return new n(JYe.apply(null,r))}else{var i=e.map(function(u){return RI(u)?dle(Ra.RAW,u).data:u.data_}),o=0;i.forEach(function(u){o+=u.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(u){for(var l=0;l<u.length;l++)s[a++]=u[l]}),new n(s,!0)}},n.prototype.uploadData=function(){return this.data_},n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n){var e;try{e=JSON.parse(n)}catch{return null}return zYe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tXe(n){if(n.length===0)return null;var e=n.lastIndexOf("/");if(e===-1)return"";var t=n.slice(0,e);return t}function nXe(n,e){var t=e.split("/").filter(function(r){return r.length>0}).join("/");return n.length===0?t:n+"/"+t}function _le(n){var e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rXe(n,e){return e}var Uo=function(){function n(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||rXe}return n}(),dS=null;function iXe(n){return!RI(n)||n.length<2?n:_le(n)}function PI(){if(dS)return dS;var n=[];n.push(new Uo("bucket")),n.push(new Uo("generation")),n.push(new Uo("metageneration")),n.push(new Uo("name","fullPath",!0));function e(o,s){return iXe(s)}var t=new Uo("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}var i=new Uo("size");return i.xform=r,n.push(i),n.push(new Uo("timeCreated")),n.push(new Uo("updated")),n.push(new Uo("md5Hash",null,!0)),n.push(new Uo("cacheControl",null,!0)),n.push(new Uo("contentDisposition",null,!0)),n.push(new Uo("contentEncoding",null,!0)),n.push(new Uo("contentLanguage",null,!0)),n.push(new Uo("contentType",null,!0)),n.push(new Uo("metadata","customMetadata",!0)),dS=n,dS}function oXe(n,e){function t(){var r=n.bucket,i=n.fullPath,o=new Pa(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function sXe(n,e,t){var r={};r.type="file";for(var i=t.length,o=0;o<i;o++){var s=t[o];r[s.local]=s.xform(r,e[s.server])}return oXe(r,n),r}function yle(n,e,t){var r=D9(e);if(r===null)return null;var i=r;return sXe(n,i,t)}function aXe(n,e,t){var r=D9(e);if(r===null||!RI(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,s=i.split(","),a=s.map(function(u){var l=n.bucket,c=n.fullPath,h="/b/"+o(l)+"/o/"+o(c),d=Qh(h,t),p=mle({alt:"media",token:u});return d+p});return a[0]}function A9(n,e){for(var t={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VK="prefixes",WK="items";function uXe(n,e,t){var r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[VK])for(var i=0,o=t[VK];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),u=n._makeStorageReference(new Pa(e,a));r.prefixes.push(u)}if(t[WK])for(var l=0,c=t[WK];l<c.length;l++){var h=c[l],u=n._makeStorageReference(new Pa(e,h.name));r.items.push(u)}return r}function lXe(n,e,t){var r=D9(t);if(r===null)return null;var i=r;return uXe(n,e,i)}var ef=function(){function n(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){if(!n)throw E9()}function MI(n,e){function t(r,i){var o=yle(n,i,e);return El(o!==null),o}return t}function cXe(n,e){function t(r,i){var o=lXe(n,e,i);return El(o!==null),o}return t}function fXe(n,e){function t(r,i){var o=yle(n,i,e);return El(o!==null),aXe(o,i,n.host)}return t}function o0(n){function e(t,r){var i;return t.getStatus()===401?t.getResponseText().includes("Firebase App Check token is invalid")?i=EYe():i=wYe():t.getStatus()===402?i=CYe(n.bucket):t.getStatus()===403?i=SYe(n.path):i=r,i.serverResponse=r.serverResponse,i}return e}function FI(n){var e=o0(n);function t(r,i){var o=e(r,i);return r.getStatus()===404&&(o=bYe(n.path)),o.serverResponse=i.serverResponse,o}return t}function ble(n,e,t){var r=e.fullServerUrl(),i=Qh(r,n.host),o="GET",s=n.maxOperationRetryTime,a=new ef(i,o,MI(n,t),s);return a.errorHandler=FI(e),a}function hXe(n,e,t,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=e.bucketOnlyServerUrl(),a=Qh(s,n.host),u="GET",l=n.maxOperationRetryTime,c=new ef(a,u,cXe(n,e.bucket),l);return c.urlParams=o,c.errorHandler=o0(e),c}function dXe(n,e,t){var r=e.fullServerUrl(),i=Qh(r,n.host),o="GET",s=n.maxOperationRetryTime,a=new ef(i,o,fXe(n,t),s);return a.errorHandler=FI(e),a}function pXe(n,e,t,r){var i=e.fullServerUrl(),o=Qh(i,n.host),s="PATCH",a=A9(t,r),u={"Content-Type":"application/json; charset=utf-8"},l=n.maxOperationRetryTime,c=new ef(o,s,MI(n,r),l);return c.headers=u,c.body=a,c.errorHandler=FI(e),c}function gXe(n,e){var t=e.fullServerUrl(),r=Qh(t,n.host),i="DELETE",o=n.maxOperationRetryTime;function s(u,l){}var a=new ef(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=FI(e),a}function vXe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Cle(n,e,t){var r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=vXe(null,e)),r}function mXe(n,e,t,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var E="",S=0;S<2;S++)E=E+Math.random().toString().slice(2);return E}var u=a();s["Content-Type"]="multipart/related; boundary="+u;var l=Cle(e,r,i),c=A9(l,t),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",p=T9.getBlob(h,r,d);if(p===null)throw cle();var v={name:l.fullPath},m=Qh(o,n.host),_="POST",b=n.maxUploadRetryTime,C=new ef(m,_,MI(n,t),b);return C.urlParams=v,C.headers=s,C.body=p.uploadData(),C.errorHandler=o0(e),C}var QD=function(){function n(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}return n}();function I9(n,e){var t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{El(!1)}var r=e||["active"];return El(!!t&&r.indexOf(t)!==-1),t}function _Xe(n,e,t,r,i){var o=e.bucketOnlyServerUrl(),s=Cle(e,r,i),a={name:s.fullPath},u=Qh(o,n.host),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=A9(s,t),d=n.maxUploadRetryTime;function p(m){I9(m);var _;try{_=m.getResponseHeader("X-Goog-Upload-URL")}catch{El(!1)}return El(RI(_)),_}var v=new ef(u,l,p,d);return v.urlParams=a,v.headers=c,v.body=h,v.errorHandler=o0(e),v}function yXe(n,e,t,r){var i={"X-Goog-Upload-Command":"query"};function o(l){var c=I9(l,["active","final"]),h=null;try{h=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{El(!1)}h||El(!1);var d=Number(h);return El(!isNaN(d)),new QD(d,r.size(),c==="final")}var s="POST",a=n.maxUploadRetryTime,u=new ef(t,s,o,a);return u.headers=i,u.errorHandler=o0(e),u}var UK=256*1024;function bXe(n,e,t,r,i,o,s,a){var u=new QD(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw xYe();var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,d=h+c,p=c===l?"upload, finalize":"upload",v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":""+u.current},m=r.slice(h,d);if(m===null)throw cle();function _(S,A){var T=I9(S,["active","final"]),N=u.current+c,k=r.size(),F;return T==="final"?F=MI(e,o)(S,A):F=null,new QD(N,k,T==="final",F)}var b="POST",C=e.maxUploadRetryTime,E=new ef(t,b,_,C);return E.headers=v,E.body=m.uploadData(),E.progressCallback=a||null,E.errorHandler=o0(n),E}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CXe=function(){function n(e,t,r){var i=qYe(e)||t!=null||r!=null;if(i)this.next=e,this.error=t,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return n}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Promise.resolve().then(function(){return n.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wle=function(){function n(e,t,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=PI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,s){i._resolve=o,i._reject=s,i._start()}),this._promise.then(null,function(){})}return n.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(r){return e._updateProgress(t+r)}},n.prototype._shouldDoResumable=function(e){return e.size()>256*1024},n.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},n.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(t._state){case"running":e(i,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused");break}})},n.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,r){var i=_Xe(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(s){e._request=void 0,e._uploadUrl=s,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},n.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(r,i){var o=yXe(e._ref.storage,e._ref._location,t,e._blob),s=e._ref.storage._makeRequest(o,r,i);e._request=s,s.getPromise().then(function(a){a=a,e._request=void 0,e._updateProgress(a.current),e._needToFetchStatus=!1,a.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},n.prototype._continueUpload=function(){var e=this,t=UK*this._chunkMultiplier,r=new QD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,s){var a;try{a=bXe(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,r,e._makeProgressCallback())}catch(l){e._error=l,e._transition("error");return}var u=e._ref.storage._makeRequest(a,o,s);e._request=u,u.getPromise().then(function(l){e._increaseMultiplier(),e._request=void 0,e._updateProgress(l.current),l.finalized?(e._metadata=l.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},n.prototype._increaseMultiplier=function(){var e=UK*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},n.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,r){var i=ble(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._transition("success")},e._metadataErrorHandler)})},n.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,r){var i=mXe(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,r);e._request=o,o.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},n.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},n.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lle(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},n.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(n.prototype,"snapshot",{get:function(){var e=vR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),n.prototype.on=function(e,t,r,i){var o=this,s=new CXe(t,r,i);return this._addObserver(s),function(){o._removeObserver(s)}},n.prototype.then=function(e,t){return this._promise.then(e,t)},n.prototype.catch=function(e){return this.then(null,e)},n.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},n.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)},n.prototype._notifyObservers=function(){var e=this;this._finishPromise();var t=this._observers.slice();t.forEach(function(r){e._notifyObserver(r)})},n.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(vR(this._state)){case Zo.SUCCESS:Sv(this._resolve.bind(null,this.snapshot))();break;case Zo.CANCELED:case Zo.ERROR:var t=this._reject;Sv(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},n.prototype._notifyObserver=function(e){var t=vR(this._state);switch(t){case Zo.RUNNING:case Zo.PAUSED:e.next&&Sv(e.next.bind(e,this.snapshot))();break;case Zo.SUCCESS:e.complete&&Sv(e.complete.bind(e))();break;case Zo.CANCELED:case Zo.ERROR:e.error&&Sv(e.error.bind(e,this._error))();break;default:e.error&&Sv(e.error.bind(e,this._error))()}},n.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},n.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},n.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BI=function(){function n(e,t){this._service=e,t instanceof Pa?this._location=t:this._location=Pa.makeFromUrl(t,e.host)}return n.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},n.prototype._newRef=function(e,t){return new n(e,t)},Object.defineProperty(n.prototype,"root",{get:function(){var e=new Pa(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return _le(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=tXe(this._location.path);if(e===null)return null;var t=new Pa(this._location.bucket,e);return new n(this._service,t)},enumerable:!1,configurable:!0}),n.prototype._throwIfRoot=function(e){if(this._location.path==="")throw hle(e)},n}();function wXe(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new wle(n,new T9(e),t)}function EXe(n){var e={prefixes:[],items:[]};return Ele(n,e).then(function(){return e})}function Ele(n,e,t){return X(this,void 0,void 0,function(){var r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return r={pageToken:t},[4,Sle(n,r)];case 1:return i=a.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(s=e.items).push.apply(s,i.items),i.nextPageToken==null?[3,3]:[4,Ele(n,e,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Sle(n,e){return X(this,void 0,void 0,function(){var t,r;return Y(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&hF("options.maxResults",1,1e3,e.maxResults),t=e||{},r=hXe(n.storage,n._location,"/",t.pageToken,t.maxResults),[4,n.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function SXe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return n._throwIfRoot("getMetadata"),e=ble(n.storage,n._location,PI()),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}function TXe(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return n._throwIfRoot("updateMetadata"),t=pXe(n.storage,n._location,e,PI()),[4,n.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise()]}})})}function DXe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return n._throwIfRoot("getDownloadURL"),e=dXe(n.storage,n._location,PI()),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise().then(function(r){if(r===null)throw LYe();return r})]}})})}function AXe(n){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:return n._throwIfRoot("deleteObject"),e=gXe(n.storage,n._location),[4,n.storage.makeRequestWithTokens(e)];case 1:return[2,t.sent().getPromise()]}})})}function Tle(n,e){var t=nXe(n._location.path,e),r=new Pa(n._location.bucket,t);return new BI(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(n){return/^[A-Za-z]+:\/\//.test(n)}function IXe(n,e){return new BI(n,e)}function Dle(n,e){if(n instanceof HI){var t=n;if(t._bucket==null)throw IYe();var r=new BI(t,t._bucket);return e!=null?Dle(r,e):r}else return e!==void 0?Tle(n,e):n}function xXe(n,e){if(e&&dF(e)){if(n instanceof HI)return IXe(n,e);throw _m("To use ref(service, url), the first argument must be a Storage instance.")}else return Dle(n,e)}function jK(n,e){var t=e==null?void 0:e[ule];return t==null?null:Pa.makeFromBucketSpec(t,n)}function LXe(n,e,t,r){r===void 0&&(r={}),n.host="http://"+e+":"+t;var i=r.mockUserToken;i&&(n._overrideAuthToken=typeof i=="string"?i:m4(i,n.app.options.projectId))}var HI=function(){function n(e,t,r,i,o,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=ale,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_Ye,this._maxUploadRetryTime=yYe,this._requests=new Set,o!=null?this._bucket=Pa.makeFromBucketSpec(o,this._host):this._bucket=jK(this._host,this.app.options)}return Object.defineProperty(n.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Pa.makeFromBucketSpec(this._url,e):this._bucket=jK(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){hF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){hF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),n.prototype._getAuthToken=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(t=r.sent(),t!==null)return[2,t.accessToken];r.label=2;case 2:return[2,null]}})})},n.prototype._getAppCheckToken=function(){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return t=r.sent(),[2,t.token];case 2:return[2,null]}})})},n.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},n.prototype._makeStorageReference=function(e){return new BI(this,e)},n.prototype._makeRequest=function(e,t,r){var i=this;if(this._deleted)return new VYe(fle());var o=QYe(e,this._appId,t,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},n.prototype.makeRequestWithTokens=function(e){return X(this,void 0,void 0,function(){var t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=o.sent(),r=t[0],i=t[1],[2,this._makeRequest(e,r,i)]}})})},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NXe(n,e,t){return n=Bt(n),wXe(n,e,t)}function OXe(n){return n=Bt(n),SXe(n)}function kXe(n,e){return n=Bt(n),TXe(n,e)}function RXe(n,e){return n=Bt(n),Sle(n,e)}function PXe(n){return n=Bt(n),EXe(n)}function MXe(n){return n=Bt(n),DXe(n)}function FXe(n){return n=Bt(n),AXe(n)}function qK(n,e){return n=Bt(n),xXe(n,e)}function BXe(n,e){return Tle(n,e)}function HXe(n,e,t,r){r===void 0&&(r={}),LXe(n,e,t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pS=function(){function n(e,t,r){this._delegate=e,this.task=t,this.ref=r}return Object.defineProperty(n.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zK=function(){function n(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(n.prototype,"snapshot",{get:function(){return new pS(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),n.prototype.then=function(e,t){var r=this;return this._delegate.then(function(i){if(e)return e(new pS(i,r,r._ref))},t)},n.prototype.on=function(e,t,r,i){var o=this,s=void 0;return t&&(typeof t=="function"?s=function(a){return t(new pS(a,o,o._ref))}:s={next:t.next?function(a){return t.next(new pS(a,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)},n}(),GK=function(){function n(e,t){this._delegate=e,this._service=t}return Object.defineProperty(n.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new B1(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new B1(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B1=function(){function n(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(n.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this._delegate.toString()},n.prototype.child=function(e){var t=BXe(this._delegate,e);return new n(t,this.storage)},Object.defineProperty(n.prototype,"root",{get:function(){return new n(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new n(e,this.storage)},enumerable:!1,configurable:!0}),n.prototype.put=function(e,t){return this._throwIfRoot("put"),new zK(NXe(this._delegate,e,t),this)},n.prototype.putString=function(e,t,r){t===void 0&&(t=Ra.RAW),this._throwIfRoot("putString");var i=dle(t,e),o=gt({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new zK(new wle(this._delegate,new T9(i.data,!0),o),this)},n.prototype.listAll=function(){var e=this;return PXe(this._delegate).then(function(t){return new GK(t,e.storage)})},n.prototype.list=function(e){var t=this;return RXe(this._delegate,e||void 0).then(function(r){return new GK(r,t.storage)})},n.prototype.getMetadata=function(){return OXe(this._delegate)},n.prototype.updateMetadata=function(e){return kXe(this._delegate,e)},n.prototype.getDownloadURL=function(){return MXe(this._delegate)},n.prototype.delete=function(){return this._throwIfRoot("delete"),FXe(this._delegate)},n.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw hle(e)},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VXe=function(){function n(e,t){this.app=e,this._delegate=t}return Object.defineProperty(n.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),n.prototype.ref=function(e){if(dF(e))throw _m("ref() expected a child path but got a URL, use refFromURL instead.");return new B1(qK(this._delegate,e),this)},n.prototype.refFromURL=function(e){if(!dF(e))throw _m("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Pa.makeFromUrl(e,this._delegate.host)}catch{throw _m("refFromUrl() expected a valid full URL but got an invalid one.")}return new B1(qK(this._delegate,e),this)},n.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},n.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},n.prototype.useEmulator=function(e,t,r){r===void 0&&(r={}),HXe(this._delegate,e,t,r)},n}(),WXe="@firebase/storage",UXe="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jXe="storage";function qXe(n,e){var t=e.instanceIdentifier,r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal"),s=new VXe(r,new HI(r,i,o,new HYe,t,tt.SDK_VERSION));return s}function zXe(n){var e={TaskState:Zo,TaskEvent:MYe,StringFormat:Ra,Storage:HI,Reference:B1};n.INTERNAL.registerComponent(new Io(jXe,qXe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(WXe,UXe)}zXe(tt);var GXe="@firebase/performance",Ale="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ile=Ale,$Xe="FB-PERF-TRACE-START",KXe="FB-PERF-TRACE-STOP",pF="FB-PERF-TRACE-MEASURE",xle="_wt_",Lle="_fp",Nle="_fcp",Ole="_fid",kle="@firebase/performance/config",Rle="@firebase/performance/configexpire",YXe="performance",Ple="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi,XXe=(Vi={},Vi["trace started"]="Trace {$traceName} was started before.",Vi["trace stopped"]="Trace {$traceName} is not running.",Vi["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Vi["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Vi["no window"]="Window is not available.",Vi["no app id"]="App id is not available.",Vi["no project id"]="Project id is not available.",Vi["no api key"]="Api key is not available.",Vi["invalid cc log"]="Attempted to queue invalid cc event",Vi["FB not default"]="Performance can only start when Firebase app instance is the default one.",Vi["RC response not ok"]="RC response is not ok",Vi["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Vi["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Vi["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Vi["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Vi),vo=new $c(YXe,Ple,XXe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc=new og(Ple);zc.logLevel=zt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR,Mle,To=function(){function n(e){if(this.window=e,!e)throw vo.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return n.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},n.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},n.prototype.measure=function(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)},n.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},n.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},n.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},n.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(zc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):J1()?!0:(zc.info("IndexedDB is not supported by current browswer"),!1)},n.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,s=i.getEntries();o<s.length;o++){var a=s[o];t(a)}});r.observe({entryTypes:[e]})}},n.getInstance=function(){return mR===void 0&&(mR=new n(Mle)),mR},n}();function QXe(n){Mle=n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(n,e){var t=n.length-e.length;if(t<0||t>1)throw vo.create("invalid String merger input");for(var r=[],i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _R,di=function(){function n(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=$K("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=$K("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return n.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw vo.create("no app id");return e},n.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw vo.create("no project id");return e},n.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw vo.create("no api key");return e},n.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},n.getInstance=function(){return _R===void 0&&(_R=new n),_R},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fle;function ZXe(){var n=di.getInstance().installationsService.getId();return n.then(function(e){Fle=e}),n}function x9(){return Fle}function JXe(){var n=di.getInstance().installationsService.getToken();return n.then(function(e){}),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ym;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"})(ym||(ym={}));var eQe=["firebase_","google_","ga_"],tQe=new RegExp("^[a-zA-Z]\\w*$"),nQe=40,rQe=100;function iQe(){var n=To.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function Ble(){var n=To.getInstance().document,e=n.visibilityState;switch(e){case"visible":return ym.VISIBLE;case"hidden":return ym.HIDDEN;default:return ym.UNKNOWN}}function oQe(){var n=To.getInstance().navigator,e=n.connection,t=e&&e.effectiveType;switch(t){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function sQe(n){if(n.length===0||n.length>nQe)return!1;var e=eQe.some(function(t){return n.startsWith(t)});return!e&&!!n.match(tQe)}function aQe(n){return n.length!==0&&n.length<=rQe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uQe="0.0.1",lQe={loggingEnabled:!0},cQe="FIREBASE_INSTALLATIONS_AUTH";function fQe(n){var e=hQe();return e?(KK(e),Promise.resolve()):gQe(n).then(KK).then(function(t){return dQe(t)},function(){})}function hQe(){var n=To.getInstance().localStorage;if(n){var e=n.getItem(Rle);if(!(!e||!vQe(e))){var t=n.getItem(kle);if(t)try{var r=JSON.parse(t);return r}catch{return}}}}function dQe(n){var e=To.getInstance().localStorage;!n||!e||(e.setItem(kle,JSON.stringify(n)),e.setItem(Rle,String(Date.now()+di.getInstance().configTimeToLive*60*60*1e3)))}var pQe="Could not fetch config, will use default configs";function gQe(n){return JXe().then(function(e){var t=di.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+t+"/namespaces/fireperf:fetch?key="+di.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:cQe+" "+e},body:JSON.stringify({app_instance_id:n,app_instance_id_token:e,app_id:di.getInstance().getAppId(),app_version:Ile,sdk_version:uQe})});return fetch(i).then(function(o){if(o.ok)return o.json();throw vo.create("RC response not ok")})}).catch(function(){zc.info(pQe)})}function KK(n){if(!n)return n;var e=di.getInstance(),t=n.entries||{};return t.fpr_enabled!==void 0?e.loggingEnabled=String(t.fpr_enabled)==="true":e.loggingEnabled=lQe.loggingEnabled,t.fpr_log_source&&(e.logSource=Number(t.fpr_log_source)),t.fpr_log_endpoint_url&&(e.logEndPointUrl=t.fpr_log_endpoint_url),t.fpr_log_transport_key&&(e.transportKey=t.fpr_log_transport_key),t.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate)),t.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=YK(e.tracesSamplingRate),e.logNetworkAfterSampling=YK(e.networkRequestsSamplingRate),n}function vQe(n){return Number(n)>Date.now()}function YK(n){return Math.random()<=n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L9=1,yR;function Hle(){return L9=2,yR=yR||_Qe(),yR}function mQe(){return L9===3}function _Qe(){return yQe().then(function(){return ZXe()}).then(function(n){return fQe(n)}).then(function(){return XK()},function(){return XK()})}function yQe(){var n=To.getInstance().document;return new Promise(function(e){if(n&&n.readyState!=="complete"){var t=function(){n.readyState==="complete"&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}function XK(){L9=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N9=10*1e3,bQe=5.5*1e3,Vle=3,CQe=1e3,ZD=Vle,ph=[],QK=!1;function wQe(){QK||(VI(bQe),QK=!0)}function VI(n){setTimeout(function(){if(ZD!==0){if(!ph.length)return VI(N9);EQe()}},n)}function EQe(){var n=ph.splice(0,CQe),e=n.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),t={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:di.getInstance().logSource,log_event:e};SQe(t,n).catch(function(){ph=Vt(Vt([],n),ph),ZD--,zc.info("Tries left: "+ZD+"."),VI(N9)})}function SQe(n,e){return TQe(n).then(function(t){return t.ok||zc.info("Call to Firebase backend failed."),t.json()}).then(function(t){var r=Number(t.nextRequestWaitMillis),i=N9;isNaN(r)||(i=Math.max(r,i));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(ph=Vt(Vt([],e),ph),zc.info("Retry transport request later.")),ZD=Vle,VI(i)})}function TQe(n){var e=di.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}function DQe(n){if(!n.eventTime||!n.message)throw vo.create("invalid cc log");ph=Vt(Vt([],ph),[n])}function AQe(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.apply(void 0,e);DQe({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bR;function Wle(n,e){bR||(bR=AQe(xQe)),bR(n,e)}function gS(n){var e=di.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||To.getInstance().requiredApisAvailable()&&(n.isAuto&&Ble()!==ym.VISIBLE||(mQe()?CR(n):Hle().then(function(){return CR(n)},function(){return CR(n)})))}function CR(n){if(x9()){var e=di.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return Wle(n,1)},0)}}function IQe(n){var e=di.getInstance();if(e.instrumentationEnabled){var t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return Wle(n,0)},0)}}function xQe(n,e){return e===0?LQe(n):NQe(n)}function LQe(n){var e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:Ule(),network_request_metric:e};return JSON.stringify(t)}function NQe(n){var e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};Object.keys(n.counters).length!==0&&(e.counters=n.counters);var t=n.getAttributes();Object.keys(t).length!==0&&(e.custom_attributes=t);var r={application_info:Ule(),trace_metric:e};return JSON.stringify(r)}function Ule(){return{google_app_id:di.getInstance().getAppId(),app_instance_id:x9(),web_app_info:{sdk_version:Ile,page_url:To.getInstance().getUrl(),service_worker_status:iQe(),visibility_state:Ble(),effective_connection_type:oQe()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OQe=100,kQe="_",RQe=[Lle,Nle,Ole];function PQe(n,e){return n.length===0||n.length>OQe?!1:e&&e.startsWith(xle)&&RQe.indexOf(n)>-1||!n.startsWith(kQe)}function MQe(n){var e=Math.floor(n);return e<n&&zc.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yb=function(){function n(e,t,r){t===void 0&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=To.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=$Xe+"-"+this.randomId+"-"+this.name,this.traceStopMark=KXe+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||pF+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return n.prototype.start=function(){if(this.state!==1)throw vo.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},n.prototype.stop=function(){if(this.state!==2)throw vo.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),gS(this)},n.prototype.record=function(e,t,r){if(e<=0)throw vo.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw vo.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(t*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=gt({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var s=o[i];isNaN(Number(r.metrics[s]))||(this.counters[s]=Number(Math.floor(r.metrics[s])))}gS(this)},n.prototype.incrementMetric=function(e,t){t===void 0&&(t=1),this.counters[e]===void 0?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},n.prototype.putMetric=function(e,t){if(PQe(e,this.name))this.counters[e]=MQe(t);else throw vo.create("invalid custom metric name",{customMetricName:e})},n.prototype.getMetric=function(e){return this.counters[e]||0},n.prototype.putAttribute=function(e,t){var r=sQe(e),i=aQe(t);if(r&&i){this.customAttributes[e]=t;return}if(!r)throw vo.create("invalid attribute name",{attributeName:e});if(!i)throw vo.create("invalid attribute value",{attributeValue:t})},n.prototype.getAttribute=function(e){return this.customAttributes[e]},n.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},n.prototype.getAttributes=function(){return gt({},this.customAttributes)},n.prototype.setStartTime=function(e){this.startTimeUs=e},n.prototype.setDuration=function(e){this.durationUs=e},n.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(t.duration*1e3),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))},n.createOobTrace=function(e,t,r){var i=To.getInstance().getUrl();if(i){var o=new n(xle+i,!0),s=Math.floor(To.getInstance().getTimeOrigin()*1e3);o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var a="first-paint",u="first-contentful-paint";if(t){var l=t.find(function(h){return h.name===a});l&&l.startTime&&o.putMetric(Lle,Math.floor(l.startTime*1e3));var c=t.find(function(h){return h.name===u});c&&c.startTime&&o.putMetric(Nle,Math.floor(c.startTime*1e3)),r&&o.putMetric(Ole,Math.floor(r*1e3))}gS(o)}},n.createUserTimingTrace=function(e){var t=new n(e,!1,e);gS(t)},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(n){var e=n;if(!(!e||e.responseStart===void 0)){var t=To.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+t)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),s=e.name&&e.name.split("?")[0],a={url:s,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};IQe(a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FQe=5e3;function JK(){x9()&&(setTimeout(function(){return HQe()},0),setTimeout(function(){return BQe()},0),setTimeout(function(){return VQe()},0))}function BQe(){for(var n=To.getInstance(),e=n.getEntriesByType("resource"),t=0,r=e;t<r.length;t++){var i=r[t];ZK(i)}n.setupObserver("resource",ZK)}function HQe(){var n=To.getInstance(),e=n.getEntriesByType("navigation"),t=n.getEntriesByType("paint");if(n.onFirstInputDelay){var r=setTimeout(function(){yb.createOobTrace(e,t),r=void 0},FQe);n.onFirstInputDelay(function(i){r&&(clearTimeout(r),yb.createOobTrace(e,t,i))})}else yb.createOobTrace(e,t)}function VQe(){for(var n=To.getInstance(),e=n.getEntriesByType("measure"),t=0,r=e;t<r.length;t++){var i=r[t];eY(i)}n.setupObserver("measure",eY)}function eY(n){var e=n.name;e.substring(0,pF.length)!==pF&&yb.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WQe=function(){function n(e){this.app=e,To.getInstance().requiredApisAvailable()&&b4().then(function(t){t&&(wQe(),Hle().then(JK,JK))}).catch(function(t){zc.info("Environment doesn't support IndexedDB: "+t)})}return n.prototype.trace=function(e){return new yb(e)},Object.defineProperty(n.prototype,"instrumentationEnabled",{get:function(){return di.getInstance().instrumentationEnabled},set:function(e){di.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataCollectionEnabled",{get:function(){return di.getInstance().dataCollectionEnabled},set:function(e){di.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UQe="[DEFAULT]";function jQe(n){var e=function(t,r){if(t.name!==UQe)throw vo.create("FB not default");if(typeof window>"u")throw vo.create("no window");return QXe(window),di.getInstance().firebaseAppInstance=t,di.getInstance().installationsService=r,new WQe(t)};n.INTERNAL.registerComponent(new Io("performance",function(t){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),n.registerVersion(GXe,Ale)}jQe(tt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qQe="firebase_id",zQe="origin",GQe=60*1e3,$Qe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jle="https://www.googletagmanager.com/gtag/js",Do;(function(n){n.EVENT="event",n.SET="set",n.CONFIG="config"})(Do||(Do={}));var gF;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(gF||(gF={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQe(n,e,t,r,i){return X(this,void 0,void 0,function(){var o,s;return Y(this,function(a){switch(a.label){case 0:return i&&i.global?(n(Do.EVENT,t,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=gt(gt({},r),{send_to:o}),n(Do.EVENT,t,s),a.label=3;case 3:return[2]}})})}function YQe(n,e,t,r){return X(this,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:return r&&r.global?(n(Do.SET,{screen_name:t}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),n(Do.CONFIG,i,{update:!0,screen_name:t}),o.label=3;case 3:return[2]}})})}function XQe(n,e,t,r){return X(this,void 0,void 0,function(){var i;return Y(this,function(o){switch(o.label){case 0:return r&&r.global?(n(Do.SET,{user_id:t}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),n(Do.CONFIG,i,{update:!0,user_id:t}),o.label=3;case 3:return[2]}})})}function QQe(n,e,t,r){return X(this,void 0,void 0,function(){var i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,s=Object.keys(t);o<s.length;o++)a=s[o],i["user_properties."+a]=t[a];return n(Do.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=l.sent(),n(Do.CONFIG,u,{update:!0,user_properties:t}),l.label=3;case 3:return[2]}})})}function ZQe(n,e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,n];case 1:return t=r.sent(),window["ga-disable-"+t]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi=new og("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQe(n,e){var t=document.createElement("script");t.src=jle+"?l="+n+"&id="+e,t.async=!0,document.head.appendChild(t)}function eZe(n){var e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function tZe(n,e,t,r,i,o){return X(this,void 0,void 0,function(){var s,a,u,l;return Y(this,function(c){switch(c.label){case 0:s=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(t)];case 4:return a=c.sent(),u=a.find(function(h){return h.measurementId===i}),u?[4,e[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),qi.error(l),[3,8];case 8:return n(Do.CONFIG,i,o),[2]}})})}function nZe(n,e,t,r,i){return X(this,void 0,void 0,function(){var o,s,a,u,l,c,h,d,p;return Y(this,function(v){switch(v.label){case 0:return v.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(t)]):[3,2];case 1:for(a=v.sent(),u=function(m){var _=a.find(function(C){return C.measurementId===m}),b=_&&e[_.appId];if(b)o.push(b);else return o=[],"break"},l=0,c=s;l<c.length&&(h=c[l],d=u(h),d!=="break");l++);v.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return v.sent(),n(Do.EVENT,r,i||{}),[3,5];case 4:return p=v.sent(),qi.error(p),[3,5];case 5:return[2]}})})}function rZe(n,e,t,r){function i(o,s,a){return X(this,void 0,void 0,function(){var u;return Y(this,function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),o!==Do.EVENT?[3,2]:[4,nZe(n,e,t,s,a)];case 1:return l.sent(),[3,5];case 2:return o!==Do.CONFIG?[3,4]:[4,tZe(n,e,t,r,s,a)];case 3:return l.sent(),[3,5];case 4:n(Do.SET,s),l.label=5;case 5:return[3,7];case 6:return u=l.sent(),qi.error(u),[3,7];case 7:return[2]}})})}return i}function iZe(n,e,t,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=rZe(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function oZe(){for(var n=window.document.getElementsByTagName("script"),e=0,t=Object.values(n);e<t.length;e++){var r=t[e];if(r.src&&r.src.includes(jle))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru,sZe=(ru={},ru["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ru["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ru["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ru["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ru["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ru["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ru["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ru["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ru["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ru),Ha=new $c("analytics","Analytics",sZe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZe=30,uZe=1e3,lZe=function(){function n(e,t){e===void 0&&(e={}),t===void 0&&(t=uZe),this.throttleMetadata=e,this.intervalMillis=t}return n.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},n.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},n.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},n}(),qle=new lZe;function cZe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function fZe(n){var e;return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u;return Y(this,function(l){switch(l.label){case 0:return t=n.appId,r=n.apiKey,i={method:"GET",headers:cZe(r)},o=$Qe.replace("{app-id}",t),[4,fetch(o,i)];case 1:if(s=l.sent(),!(s.status!==200&&s.status!==304))return[3,6];a="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.json()];case 3:return u=l.sent(),!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw Ha.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}})})}function hZe(n,e,t){return e===void 0&&(e=qle),X(this,void 0,void 0,function(){var r,i,o,s,a,u,l=this;return Y(this,function(c){if(r=n.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Ha.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Ha.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new gZe,setTimeout(function(){return X(l,void 0,void 0,function(){return Y(this,function(h){return u.abort(),[2]})})},GQe),[2,zle({appId:i,apiKey:o,measurementId:s},a,u,e)]})})}function zle(n,e,t,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=qle),X(this,void 0,void 0,function(){var s,a,u,l,c,h,d;return Y(this,function(p){switch(p.label){case 0:s=n.appId,a=n.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,dZe(t,i)];case 2:return p.sent(),[3,4];case 3:if(u=p.sent(),a)return qi.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]")),[2,{appId:s,measurementId:a}];throw u;case 4:return p.trys.push([4,6,,7]),[4,fZe(n)];case 5:return l=p.sent(),r.deleteThrottleMetadata(s),[2,l];case 6:if(c=p.sent(),!pZe(c)){if(r.deleteThrottleMetadata(s),a)return qi.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+a)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:s,measurementId:a}];throw c}return h=Number(c.customData.httpStatus)===503?oP(o,r.intervalMillis,aZe):oP(o,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(s,d),qi.debug("Calling attemptFetch again in "+h+" millis"),[2,zle(n,d,t,r)];case 7:return[2]}})})}function dZe(n,e){return new Promise(function(t,r){var i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(function(){clearTimeout(o),r(Ha.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pZe(n){if(!(n instanceof A_)||!n.customData)return!1;var e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var gZe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(e){this.listeners.push(e)},n.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZe(){return X(this,void 0,void 0,function(){var n;return Y(this,function(e){switch(e.label){case 0:return J1()?[3,1]:(qi.warn(Ha.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,b4()];case 2:return e.sent(),[3,4];case 3:return n=e.sent(),qi.warn(Ha.create("indexeddb-unavailable",{errorInfo:n}).message),[2,!1];case 4:return[2,!0]}})})}function mZe(n,e,t,r,i,o){return X(this,void 0,void 0,function(){var s,a,u,l,c,h,d;return Y(this,function(p){switch(p.label){case 0:return s=hZe(n),s.then(function(v){t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&qi.warn("The measurement ID in the local Firebase config ("+n.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+v.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(v){return qi.error(v)}),e.push(s),a=vZe().then(function(v){if(v)return r.getId()}),[4,Promise.all([s,a])];case 1:return u=p.sent(),l=u[0],c=u[1],oZe()||JQe(o,l.measurementId),i("js",new Date),h=(d={},d[zQe]="firebase",d.update=!0,d),c!=null&&(h[qQe]=c),i(Do.CONFIG,l.measurementId,h),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc={},tY=[],nY={},JS="dataLayer",Gle="gtag",rY,Ty,vF=!1;function _Ze(n){if(vF)throw Ha.create("already-initialized");n.dataLayerName&&(JS=n.dataLayerName),n.gtagName&&(Gle=n.gtagName)}function yZe(){var n=[];if(y4()&&n.push("This is a browser extension environment."),ZQ()||n.push("Cookies are not available."),n.length>0){var e=n.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),t=Ha.create("invalid-analytics-context",{errorInfo:e});qi.warn(t.message)}}function bZe(n,e){yZe();var t=n.options.appId;if(!t)throw Ha.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)qi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+n.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Ha.create("no-api-key");if(oc[t]!=null)throw Ha.create("already-exists",{id:t});if(!vF){eZe(JS);var r=iZe(oc,tY,nY,JS,Gle),i=r.wrappedGtag,o=r.gtagCore;Ty=i,rY=o,vF=!0}oc[t]=mZe(n,tY,nY,e,rY,JS);var s={app:n,logEvent:function(a,u,l){KQe(Ty,oc[t],a,u,l).catch(function(c){return qi.error(c)})},setCurrentScreen:function(a,u){YQe(Ty,oc[t],a,u).catch(function(l){return qi.error(l)})},setUserId:function(a,u){XQe(Ty,oc[t],a,u).catch(function(l){return qi.error(l)})},setUserProperties:function(a,u){QQe(Ty,oc[t],a,u).catch(function(l){return qi.error(l)})},setAnalyticsCollectionEnabled:function(a){ZQe(oc[t],a).catch(function(u){return qi.error(u)})},INTERNAL:{delete:function(){return delete oc[t],Promise.resolve()}}};return s}var CZe="@firebase/analytics",wZe="0.6.18",iY="analytics";function EZe(n){n.INTERNAL.registerComponent(new Io(iY,function(t){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();return bZe(r,i)},"PUBLIC").setServiceProps({settings:_Ze,EventName:gF,isSupported:SZe})),n.INTERNAL.registerComponent(new Io("analytics-internal",e,"PRIVATE")),n.registerVersion(CZe,wZe);function e(t){try{var r=t.getProvider(iY).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Ha.create("interop-component-reg-failed",{reason:i})}}}EZe(tt);function SZe(){return X(this,void 0,void 0,function(){var n;return Y(this,function(e){switch(e.label){case 0:if(y4())return[2,!1];if(!ZQ())return[2,!1];if(!J1())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,b4()];case 2:return n=e.sent(),[2,n];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TZe=function(){function n(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}return n.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},n.prototype.fetch=function(e){return X(this,void 0,void 0,function(){var t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),r=t[0],i=t[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=a.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(s)];case 3:return a.sent(),[2,o]}})})},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo,DZe=(jo={},jo["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",jo["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",jo["registration-api-key"]="Undefined API key. Check Firebase app initialization.",jo["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",jo["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",jo["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",jo["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",jo["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",jo["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",jo["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',jo["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',jo["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",jo["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",jo),Ma=new $c("remoteconfig","Remote Config",DZe);function AZe(n,e){return n instanceof A_&&n.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZe(n){return n===void 0&&(n=navigator),n.languages&&n.languages[0]||n.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZe=function(){function n(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}return n.prototype.fetch=function(e){return X(this,void 0,void 0,function(){var t,r,i,o,s,a,u,l,c,h,d,p,v,m,_,b,C,E,S;return Y(this,function(A){switch(A.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=A.sent(),r=t[0],i=t[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:IZe()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(s,l),h=new Promise(function(T,N){e.signal.addEventListener(function(){var k=new Error("The operation was aborted.");k.name="AbortError",N(k)})}),A.label=2;case 2:return A.trys.push([2,5,,6]),[4,Promise.race([c,h])];case 3:return A.sent(),[4,c];case 4:return d=A.sent(),[3,6];case 5:throw p=A.sent(),v="fetch-client-network",p.name==="AbortError"&&(v="fetch-timeout"),Ma.create(v,{originalErrorMessage:p.message});case 6:if(m=d.status,_=d.headers.get("ETag")||void 0,d.status!==200)return[3,11];E=void 0,A.label=7;case 7:return A.trys.push([7,9,,10]),[4,d.json()];case 8:return E=A.sent(),[3,10];case 9:throw S=A.sent(),Ma.create("fetch-client-parse",{originalErrorMessage:S.message});case 10:b=E.entries,C=E.state,A.label=11;case 11:if(C==="INSTANCE_STATE_UNSPECIFIED"?m=500:C==="NO_CHANGE"?m=304:(C==="NO_TEMPLATE"||C==="EMPTY_CONFIG")&&(b={}),m!==304&&m!==200)throw Ma.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:_,config:b}]}})})},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LZe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(e){this.listeners.push(e)},n.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NZe=!1,OZe="",oY=0,kZe=["1","true","t","yes","y","on"],wR=function(){function n(e,t){t===void 0&&(t=OZe),this._source=e,this._value=t}return n.prototype.asString=function(){return this._value},n.prototype.asBoolean=function(){return this._source==="static"?NZe:kZe.indexOf(this._value.toLowerCase())>=0},n.prototype.asNumber=function(){if(this._source==="static")return oY;var e=Number(this._value);return isNaN(e)&&(e=oY),e},n.prototype.getSource=function(){return this._source},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RZe=60*1e3,PZe=12*60*60*1e3,MZe=function(){function n(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:RZe,minimumFetchIntervalMillis:PZe},this.defaultConfig={}}return n.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=zt.DEBUG;break;case"silent":this._logger.logLevel=zt.SILENT;break;default:this._logger.logLevel=zt.ERROR}},Object.defineProperty(n.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),n.prototype.activate=function(){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),t=e[0],r=e[1],!t||!t.config||!t.eTag||t.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])];case 2:return i.sent(),[2,!0]}})})},n.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},n.prototype.fetch=function(){return X(this,void 0,void 0,function(){var e,t,r,i=this;return Y(this,function(o){switch(o.label){case 0:e=new LZe,setTimeout(function(){return X(i,void 0,void 0,function(){return Y(this,function(s){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return t=o.sent(),r=AZe(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),t;case 6:return[2]}})})},n.prototype.fetchAndActivate=function(){return X(this,void 0,void 0,function(){return Y(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},n.prototype.getAll=function(){var e=this;return FZe(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(t,r){return t[r]=e.getValue(r),t},{})},n.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},n.prototype.getNumber=function(e){return this.getValue(e).asNumber()},n.prototype.getString=function(e){return this.getValue(e).asString()},n.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&t[e]!==void 0?new wR("remote",t[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new wR("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new wR("static"))},n}();function FZe(n,e){return n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(gt(gt({},n),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e){var t=n.target.error||void 0;return Ma.create(e,{originalErrorMessage:t&&t.message})}var Gd="app_namespace_store",BZe="firebase_remote_config",HZe=1;function VZe(){return new Promise(function(n,e){var t=indexedDB.open(BZe,HZe);t.onerror=function(r){e(eT(r,"storage-open"))},t.onsuccess=function(r){n(r.target.result)},t.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gd,{keyPath:"compositeKey"})}}})}var WZe=function(){function n(e,t,r,i){i===void 0&&(i=VZe()),this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}return n.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},n.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},n.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},n.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},n.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},n.prototype.getActiveConfig=function(){return this.get("active_config")},n.prototype.setActiveConfig=function(e){return this.set("active_config",e)},n.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},n.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},n.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},n.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},n.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},n.prototype.get=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise(function(o,s){var a=t.transaction([Gd],"readonly"),u=a.objectStore(Gd),l=r.createCompositeKey(e);try{var c=u.get(l);c.onerror=function(h){s(eT(h,"storage-get"))},c.onsuccess=function(h){var d=h.target.result;o(d?d.value:void 0)}}catch(h){s(Ma.create("storage-get",{originalErrorMessage:h&&h.message}))}})]}})})},n.prototype.set=function(e,t){return X(this,void 0,void 0,function(){var r,i=this;return Y(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(s,a){var u=r.transaction([Gd],"readwrite"),l=u.objectStore(Gd),c=i.createCompositeKey(e);try{var h=l.put({compositeKey:c,value:t});h.onerror=function(d){a(eT(d,"storage-set"))},h.onsuccess=function(){s()}}catch(d){a(Ma.create("storage-set",{originalErrorMessage:d&&d.message}))}})]}})})},n.prototype.delete=function(e){return X(this,void 0,void 0,function(){var t,r=this;return Y(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise(function(o,s){var a=t.transaction([Gd],"readwrite"),u=a.objectStore(Gd),l=r.createCompositeKey(e);try{var c=u.delete(l);c.onerror=function(h){s(eT(h,"storage-delete"))},c.onsuccess=function(){o()}}catch(h){s(Ma.create("storage-delete",{originalErrorMessage:h&&h.message}))}})]}})})},n.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UZe=function(){function n(e){this.storage=e}return n.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},n.prototype.getActiveConfig=function(){return this.activeConfig},n.prototype.loadFromStorage=function(){return X(this,void 0,void 0,function(){var e,t,r,i,o,s;return Y(this,function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=a.sent(),i&&(this.lastFetchStatus=i),[4,t];case 2:return o=a.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return s=a.sent(),s&&(this.activeConfig=s),[2]}})})},n.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},n.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},n.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},n}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZe(n,e){return new Promise(function(t,r){var i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(function(){clearTimeout(o),r(Ma.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qZe(n){if(!(n instanceof A_)||!n.customData)return!1;var e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var zZe=function(){function n(e,t){this.client=e,this.storage=t}return n.prototype.fetch=function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},n.prototype.attemptFetch=function(e,t){var r=t.throttleEndTimeMillis,i=t.backoffCount;return X(this,void 0,void 0,function(){var o,s,a;return Y(this,function(u){switch(u.label){case 0:return[4,jZe(e.signal,r)];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=u.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return u.sent(),[2,o];case 5:if(s=u.sent(),!qZe(s))throw s;return a={throttleEndTimeMillis:Date.now()+oP(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(a)];case 6:return u.sent(),[2,this.attemptFetch(e,a)];case 7:return[2]}})})},n}(),sY="@firebase/remote-config",GZe="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Ze(n){n.INTERNAL.registerComponent(new Io("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),n.registerVersion(sY,GZe);function e(t,r){var i=r.instanceIdentifier,o=t.getProvider("app").getImmediate(),s=t.getProvider("installations").getImmediate();if(typeof window>"u")throw Ma.create("registration-window");var a=o.options,u=a.projectId,l=a.apiKey,c=a.appId;if(!u)throw Ma.create("registration-project-id");if(!l)throw Ma.create("registration-api-key");if(!c)throw Ma.create("registration-app-id");i=i||"firebase";var h=new WZe(c,o.name,i),d=new UZe(h),p=new og(sY);p.logLevel=zt.ERROR;var v=new xZe(s,n.SDK_VERSION,i,u,l,c),m=new zZe(v,h),_=new TZe(m,h,d,p),b=new MZe(o,_,d,h,p);return b.ensureInitialized(),b}}$Ze(tt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iu,KZe=(iu={},iu["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",iu["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",iu["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",iu["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",iu["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",iu["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",iu["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",iu["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",iu["recaptcha-error"]="ReCAPTCHA error.",iu),fa=new $c("appCheck","AppCheck",KZe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $le=new Map,YZe={activated:!1,tokenObservers:[]},XZe={enabled:!1};function hs(n){return $le.get(n)||YZe}function Sl(n,e){$le.set(n,e)}function O9(){return XZe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kle="https://content-firebaseappcheck.googleapis.com/v1beta",QZe="exchangeRecaptchaToken",ZZe="exchangeDebugToken",aY={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JZe=function(){function n(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return n.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},n.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},n.prototype.isRunning=function(){return!!this.pending},n.prototype.process=function(e){return X(this,void 0,void 0,function(){var t;return Y(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new ki,[4,eJe(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new ki,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return t=r.sent(),this.retryPolicy(t)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},n.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},n}();function eJe(n){return new Promise(function(e){setTimeout(e,n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(){return self.grecaptcha}function Yle(n){if(!hs(n).activated)throw fa.create("use-before-activation",{appName:n.name})}function tJe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=Math.random()*16|0,t=n==="x"?e:e&3|8;return t.toString(16)})}function nJe(n){return NA.encodeString(JSON.stringify(n),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(n,e){var t=n.url,r=n.body;return X(this,void 0,void 0,function(){var i,o,s,a,u,l,c,h,d,p;return Y(this,function(v){switch(v.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:i},v.label=1;case 1:return v.trys.push([1,3,,4]),[4,fetch(t,s)];case 2:return a=v.sent(),[3,4];case 3:throw u=v.sent(),fa.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(a.status!==200)throw fa.create("fetch-status-error",{httpStatus:a.status});v.label=5;case 5:return v.trys.push([5,7,,8]),[4,a.json()];case 6:return l=v.sent(),[3,8];case 7:throw c=v.sent(),fa.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(h=l.ttl.match(/^([\d.]+)(s)$/),!h||!h[2]||isNaN(Number(h[1])))throw fa.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+l.ttl)});return d=Number(h[1])*1e3,p=Date.now(),[2,{token:l.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function rJe(n,e){var t=n.options,r=t.projectId,i=t.appId,o=t.apiKey;return{url:Kle+"/projects/"+r+"/apps/"+i+":"+QZe+"?key="+o,body:{recaptcha_token:e}}}function iJe(n,e){var t=n.options,r=t.projectId,i=t.appId,o=t.apiKey;return{url:Kle+"/projects/"+r+"/apps/"+i+":"+ZZe+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oJe="firebase-app-check-database",sJe=1,H1="firebase-app-check-store",Qle="debug-token",vS=null;function Zle(){return vS||(vS=new Promise(function(n,e){try{var t=indexedDB.open(oJe,sJe);t.onsuccess=function(r){n(r.target.result)},t.onerror=function(r){var i;e(fa.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(H1,{keyPath:"compositeKey"})}}}catch(r){e(fa.create("storage-open",{originalErrorMessage:r.message}))}}),vS)}function aJe(n){return ece(tce(n))}function uJe(n,e){return Jle(tce(n),e)}function lJe(n){return Jle(Qle,n)}function cJe(){return ece(Qle)}function Jle(n,e){return X(this,void 0,void 0,function(){var t,r,i,o;return Y(this,function(s){switch(s.label){case 0:return[4,Zle()];case 1:return t=s.sent(),r=t.transaction(H1,"readwrite"),i=r.objectStore(H1),o=i.put({compositeKey:n,value:e}),[2,new Promise(function(a,u){o.onsuccess=function(l){a()},r.onerror=function(l){var c;u(fa.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})]}})})}function ece(n){return X(this,void 0,void 0,function(){var e,t,r,i;return Y(this,function(o){switch(o.label){case 0:return[4,Zle()];case 1:return e=o.sent(),t=e.transaction(H1,"readonly"),r=t.objectStore(H1),i=r.get(n),[2,new Promise(function(s,a){i.onsuccess=function(u){var l=u.target.result;s(l?l.value:void 0)},t.onerror=function(u){var l;a(fa.create("storage-get",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})]}})})}function tce(n){return n.options.appId+"-"+n.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WI=new og("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJe(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:if(!J1())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,aJe(n)];case 2:return e=r.sent(),[3,4];case 3:return t=r.sent(),WI.warn("Failed to read token from indexeddb. Error: "+t),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function lY(n,e){return J1()?uJe(n,e).catch(function(t){WI.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function hJe(){return X(this,void 0,void 0,function(){var n,e;return Y(this,function(t){switch(t.label){case 0:n=void 0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,cJe()];case 2:return n=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return n?[2,n]:(e=tJe(),lJe(e).catch(function(r){return WI.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJe(){var n=O9();return n.enabled}function pJe(){return X(this,void 0,void 0,function(){var n;return Y(this,function(e){if(n=O9(),n.enabled&&n.token)return[2,n.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function gJe(){var n=zbe();if(!(typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&n.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=O9();e.enabled=!0;var t=new ki;e.token=t,typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?t.resolve(n.FIREBASE_APPCHECK_DEBUG_TOKEN):t.resolve(hJe())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vJe={error:"UNKNOWN_ERROR"};function JD(n,e,t){return t===void 0&&(t=!1),X(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,h,d;return Y(this,function(p){switch(p.label){case 0:return Yle(n),r=hs(n),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:s=p.sent(),s&&V1(s)&&(i=s,Sl(n,gt(gt({},r),{token:i})),cY(n,{token:i.token})),p.label=2;case 2:return!t&&i&&V1(i)?[2,{token:i.token}]:dJe()?(u=Xle,l=iJe,c=[n],[4,pJe()]):[3,6];case 3:return[4,u.apply(void 0,[l.apply(void 0,c.concat([p.sent()])),e])];case 4:return a=p.sent(),[4,lY(n,a)];case 5:return p.sent(),Sl(n,gt(gt({},r),{token:a})),[2,{token:a.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),WI.error(h),o=h,[3,9];case 9:return i?[3,10]:(d=_Je(o),[3,12]);case 10:return d={token:i.token},Sl(n,gt(gt({},r),{token:i})),[4,lY(n,i)];case 11:p.sent(),p.label=12;case 12:return cY(n,d),[2,d]}})})}function nce(n,e,t,r,i){var o=hs(n),s={next:r,error:i,type:t},a=gt(gt({},o),{tokenObservers:Vt(Vt([],o.tokenObservers),[s])});if(!a.tokenRefresher){var u=mJe(n,e);a.tokenRefresher=u}if(!a.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),o.token&&V1(o.token)){var l=o.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(c){c&&V1(c)&&r({token:c.token})}).catch(function(){});Sl(n,a)}function k9(n,e){var t=hs(n),r=t.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Sl(n,gt(gt({},t),{tokenObservers:r}))}function mJe(n,e){var t=this;return new JZe(function(){return X(t,void 0,void 0,function(){var r,i;return Y(this,function(o){switch(o.label){case 0:return r=hs(n),r.token?[3,2]:[4,JD(n,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,JD(n,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=hs(n);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},aY.RETRIAL_MIN_WAIT,aY.RETRIAL_MAX_WAIT)}function cY(n,e){for(var t=hs(n).tokenObservers,r=0,i=t;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function V1(n){return n.expireTimeMillis-Date.now()>0}function _Je(n){return{token:nJe(vJe),error:n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yJe="https://www.google.com/recaptcha/api.js";function bJe(n,e){var t=hs(n),r=new ki;Sl(n,gt(gt({},t),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+n.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var s=uY();return s?s.ready(function(){fY(n,e,s,i),r.resolve(s)}):wJe(function(){var a=uY();if(!a)throw new Error("no recaptcha");a.ready(function(){fY(n,e,a,i),r.resolve(a)})}),r.promise}function CJe(n){return X(this,void 0,void 0,function(){var e,t;return Y(this,function(r){switch(r.label){case 0:return Yle(n),e=hs(n).reCAPTCHAState,[4,e.initialized.promise];case 1:return t=r.sent(),[2,new Promise(function(i,o){var s=hs(n).reCAPTCHAState;t.ready(function(){i(t.execute(s.widgetId,{action:"fire_app_check"}))})})]}})})}function fY(n,e,t,r){var i=t.render(r,{sitekey:e,size:"invisible"}),o=hs(n);Sl(n,gt(gt({},o),{reCAPTCHAState:gt(gt({},o.reCAPTCHAState),{widgetId:i})}))}function wJe(n){var e=document.createElement("script");e.src=""+yJe,e.onload=n,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mF=function(){function n(e){this._siteKey=e}return n.prototype.getToken=function(){return X(this,void 0,void 0,function(){var e;return Y(this,function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw fa.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,CJe(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),fa.create("recaptcha-error");case 4:return[2,Xle(rJe(this._app,e),this._platformLoggerProvider)]}})})},n.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,bJe(e,this._siteKey).catch(function(){})},n}(),_F=function(){function n(e){this._customProviderOptions=e}return n.prototype.getToken=function(){return X(this,void 0,void 0,function(){var e,t,r;return Y(this,function(i){switch(i.label){case 0:if(!this._app)throw fa.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),t=Ybe(e.token),r=t!==null&&t<Date.now()&&t>0?t*1e3:Date.now(),[2,gt(gt({},e),{issuedAtTimeMillis:r})]}})})},n.prototype.initialize=function(e){this._app=e},n}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJe(n,e,t,r){var i=hs(n);if(i.activated)throw fa.create("already-activated",{appName:n.name});var o=gt(gt({},i),{activated:!0});o.cachedTokenPromise=fJe(n).then(function(s){return s&&V1(s)&&Sl(n,gt(gt({},hs(n)),{token:s})),s}),typeof e=="string"?o.provider=new mF(e):e instanceof mF||e instanceof _F?o.provider=e:o.provider=new _F({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?n.automaticDataCollectionEnabled:r,Sl(n,o),o.provider.initialize(n,t)}function SJe(n,e){var t=hs(n);t.tokenRefresher&&(e===!0?t.tokenRefresher.start():t.tokenRefresher.stop()),Sl(n,gt(gt({},t),{isTokenAutoRefreshEnabled:e}))}function TJe(n,e,t){return X(this,void 0,void 0,function(){var r;return Y(this,function(i){switch(i.label){case 0:return[4,JD(n,e,t)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function DJe(n,e,t,r,i){var o=function(){},s=function(){};return t.next!=null?o=t.next.bind(t):o=t,t.error!=null?s=t.error.bind(t):r&&(s=r),nce(n,e,"EXTERNAL",o,s),function(){return k9(n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJe(n,e){return{app:n,activate:function(t,r){return EJe(n,t,e,r)},setTokenAutoRefreshEnabled:function(t){return SJe(n,t)},getToken:function(t){return TJe(n,e,t)},onTokenChanged:function(t,r,i){return DJe(n,e,t,r)},INTERNAL:{delete:function(){for(var t=hs(n).tokenObservers,r=0,i=t;r<i.length;r++){var o=i[r];k9(n,o.next)}return Promise.resolve()}}}}function IJe(n,e){return{getToken:function(t){return JD(n,e,t)},addTokenListener:function(t){return nce(n,e,"INTERNAL",t)},removeTokenListener:function(t){return k9(n,t)}}}var xJe="@firebase/app-check",LJe="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NJe="appCheck",hY="app-check-internal";function OJe(n){n.INTERNAL.registerComponent(new Io(NJe,function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return AJe(t,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:mF,CustomProvider:_F}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,r){var i=e.getProvider(hY);i.initialize()})),n.INTERNAL.registerComponent(new Io(hY,function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return IJe(t,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),n.registerVersion(xJe,LJe)}OJe(tt);gJe();var kJe="firebase",rce="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.registerVersion(kJe,rce,"app");tt.SDK_VERSION=rce;var RJe="firebase",PJe="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);tt.registerVersion(RJe,PJe);const dY="/boletin",ice="/boletin",MJe=tt.initializeApp({apiKey:"AIzaSyAyX5rW5aNUHRuc7GNlxF3oOTeZk1YRof0",databaseURL:"https://editor-de-boletines-41cae-default-rtdb.firebaseio.com/"}),Jo=AX({app:MJe,auth:null,get isAuthed(){return!!this.auth},async login(n,e){this.auth=await this.app.auth().signInWithEmailAndPassword(n,e)},logout(){this.app.auth().signOut(),this.auth=null},get loggedInUsers(){return new Promise((n,e)=>{this.app.database().ref(dY).child("users").once("value",t=>{n(t.numChildren())}).catch(e)})},get dbRef(){return this.app.database().ref(dY)},async clearHistory(){const n="Whoops, hubo un error al resetear el historial de edicin, pero esto no deberia afectar la generacin del HTML.";await Promise.all([this.dbRef.child("history").set(null),this.dbRef.child("checkpoint").once("value",e=>e.exists()&&this.dbRef.child("checkpoint").set(null))]).catch(e=>{console.error("Error clearing firepad history",e),alert(n)})}});function eA(n){window.location.hash="#"+n}const R9=Symbol("A function to reset the firepad component and its history"),FJe=Ms({__name:"FirePadComponent",props:{onChange:{type:Function}},setup(n){const e=n,t=Fr(),r=Fr("gray"),i=["#817","#ed0","#0bc","#c66","#4d8","#36b","#e94","#2cb","#639"],{setFirepadReset:o}=Zf(R9);let s,a;async function u(){const h=await Jo.loggedInUsers;r.value=i[(h-1)%i.length]}function l(h){var d,p,v;s=pm.create(t.value,{language:"markdown",minimap:{enabled:!1},wordWrap:"on",smoothScrolling:!0,automaticLayout:!0,theme:"#f00"}),s.onDidChangeModelContent(()=>e.onChange(s.getValue())),a=Dje(Jo.dbRef,s,{userName:(p=(d=Jo.auth.user)==null?void 0:d.email)==null?void 0:p.split("@")[0],userColor:r.value,userId:(v=Jo.auth.user)==null?void 0:v.uid,defaultText:h})}async function c(){if(await Jo.loggedInUsers!==1)return;const d=s.getValue();await Jo.clearHistory(),s.dispose(),a.dispose(),l(d)}return o(c),bA(async()=>{if(!Jo.isAuthed)return eA("/login");try{await u(),l()}catch(h){alert("No se pudo cargar el editor de texto. Prob recargando la pgina."),console.error("Error initializing pad",h)}}),wA(()=>{a.dispose(),s.dispose()}),(h,d)=>(cn(),sr("div",{id:"monaco",ref_key:"monacoWrapperRef",ref:t},null,512))}}),P9=Symbol("Reference to the email wrapper, where the table#u_body element will be"),BJe=["onInput","value","placeholder"],pY=Ms({__name:"FireInput",props:{inputHandler:{type:Function},content:{},dbKey:{},placeholder:{}},setup(n){const e=n;function t(r){let i;return function(o){clearTimeout(i),i=setTimeout(r,1750,o)}}return bA(()=>{try{Jo.dbRef.child(e.dbKey).on("value",t(r=>{var i;r&&"val"in r&&e.inputHandler((i=r.val)==null?void 0:i.call(r))}))}catch(r){console.error("Error attaching Firebase listener:",r)}}),CA(()=>{try{e.content!=="-"&&Jo.dbRef.child(e.dbKey).set(e.content)}catch(r){console.error("Error updating Firebase database:",r)}}),wA(()=>{try{Jo.dbRef.child(e.dbKey).off("value")}catch(r){console.error("Error detaching Firebase listener:",r)}}),(r,i)=>(cn(),sr("input",{type:"text",onInput:o=>r.inputHandler(o.target.value),value:r.content,placeholder:r.placeholder},null,40,BJe))}}),HJe={class:"wrapper"},VJe={class:"input"},WJe={id:"u_body"},UJe={class:"container"},jJe=Ms({__name:"NewsLetter",setup(n){const e=Va({linkify:!0,breaks:!0}).use(wbe),t=Fr(""),r=Zf(P9),i=Fr("-"),o=new Date,s=new Intl.DateTimeFormat("es-AR",{month:"long"}).format(o),a=o.getFullYear(),u=Fr(`${s} ${a}`);async function l(c){try{t.value=e.render(c)}catch(h){console.error("Error rendering markdown",h)}}return(c,h)=>(cn(),sr("div",HJe,[J("div",VJe,[J("details",null,[h[0]||(h[0]=J("summary",null,"Cabezal",-1)),Zn(pY,{"input-handler":d=>i.value=d,content:i.value,"db-key":"header-img",placeholder:"cabezal","aria-label":"enlace a imagen de encabezado"},null,8,["input-handler","content"]),Zn(pY,{"input-handler":d=>u.value=d,content:u.value,"db-key":"date",placeholder:"fecha","aria-label":"fecha"},null,8,["input-handler","content"])]),Zn(FJe,{onChange:l})]),J("div",{class:"newsletter_wrapper",ref_key:"emailRef",ref:r},[J("table",WJe,[h[3]||(h[3]=J("caption",null,[J("a",{name:"top",id:"top"})],-1)),J("tbody",null,[J("tr",null,[J("td",UJe,[J("table",null,[J("thead",null,[Zn(Abe,{"img-url":i.value,date:u.value},null,8,["img-url","date"])]),J("tbody",null,[Zn(Rbe,{html:t.value},null,8,["html"]),h[1]||(h[1]=J("tr",null,[J("td",null,[J("hr")])],-1)),Zn(Fbe),Zn(xbe,{html:t.value},null,8,["html"]),h[2]||(h[2]=J("tr",null,[J("td",null,[J("br"),J("br"),J("a",{href:"#top"},"Volver al tope de la pgina")])],-1))])])])])]),J("tbody",null,[Zn(Obe)])])],512)]))}}),qJe=ds(jJe,[["__scopeId","data-v-68b326b8"]]),zJe={class:""},oce=Ms({__name:"LoginComponent",setup(n){Jo.isAuthed&&eA("/");const e=Fr();async function t(r){r.preventDefault();const i=e.value;if(i)try{await Jo.login(i.email.value,i.password.value),i.reset(),eA("/")}catch(o){"code"in o&&o.code.includes("auth")?alert("Credenciales invlidas"):alert("Error al iniciar sesin"),console.error(o)}}return(r,i)=>(cn(),sr("article",zJe,[J("form",{ref_key:"formRef",ref:e,onSubmit:t},i[0]||(i[0]=[J("input",{type:"text",name:"email","aria-label":"Email"},null,-1),J("input",{type:"password",name:"password","aria-label":"password"},null,-1),J("input",{type:"submit",value:"login"},null,-1)]),544)]))}});function gY(n){return Jo.isAuthed?n:oce}const GJe={},$Je={class:"grid"};function KJe(n,e){return cn(),sr("section",$Je,e[0]||(e[0]=[J("article",null,"404 | Not Found",-1)]))}const YJe=ds(GJe,[["render",KJe],["__scopeId","data-v-037313c5"]]),XJe={};function QJe(n,e){return cn(),sr(li,null,[J("header",null,[YN(n.$slots,"header",{},void 0)]),J("main",null,[YN(n.$slots,"main",{},void 0)]),J("footer",null,[YN(n.$slots,"footer",{},void 0)])],64)}const vY=ds(XJe,[["render",QJe],["__scopeId","data-v-de31d75b"]]),ZJe={},JJe={class:"grid"};function eet(n,e){return cn(),sr("section",JJe,e[0]||(e[0]=[J("article",null,"  Parece que ests en un dispositivo mvil, y esta aplicacin slo funciona en dispositivos de escritorio. Si crees que esto es un error, comunicate con el desarrollador. ",-1)]))}const tet=ds(ZJe,[["render",eet],["__scopeId","data-v-f300a465"]]),net=`/* html {
  color-scheme: light dark;
} */
#u_body {
  margin-inline: auto;
  line-height: 1.55em;
  --container-max-width: 600px;
  --container-margin: 20px max(20px, calc((100% - 600px) / 2));
}
.container {
  display: block !important;
  max-width: var(--container-max-width) !important;
  margin: var(--container-margin);
  padding: 20px;
  clear: both !important;
  /* background-color: #fff; */
  border: 1px solid #aaa;
  border-radius: 3px;
}

.content-block {
  padding: 0 0 20px;
}

td,
p {
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 14px;
}

html {
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
}

a {
  background-color: transparent;
  color: #348eda;
  text-decoration: underline;
}

b,
strong {
  font-weight: bolder;
}

img {
  border-style: none;
  max-width: 100%;
}

button,
input {
  overflow: visible;
}

button,
select {
  text-transform: none;
}

table td {
  vertical-align: top;
}

.palabras {
  border-top: 1px solid rgb(238, 199, 39);
  border-bottom: 1px solid rgb(238, 199, 39);
  padding: 20px 50px;
  background-color: #fefdeb;
}

.header {
  width: 100%;
  margin-bottom: 20px;
}

.footer {
  max-width: var(--container-max-width);
  margin: var(--container-margin);
  clear: both;
  color: #999;
  padding: 20px;
}

.footer p,
.footer a,
.footer td {
  color: #999;
  font-size: 0.75rem;
}

h1,
h2,
h3 {
  font-family: Arial, 'Helvetica Neue', Helvetica, 'Lucida Grande', sans-serif;
  /* color: #000; */
  margin: 40px 0 1rem 0;
  line-height: 1.2em;
}

h1 {
  font-size: 32px;
  font-weight: 600;
}

h2 {
  font-weight: 600;
  font-size: 24px;
  color: #666600;
  margin-top: 65px;
}

h3 {
  font-size: 18px;
  margin: 40px 0 20px 0;
}

h4 {
  font-size: 17px;
  margin: 40px 0 0 0;
}

h5 {
  font-size: 14px;
  margin: 30px 0 0 0;
}

hr {
  height: 1px;
  border: none;
  color: rgb(238, 199, 39);
  background-color: rgb(238, 199, 39);
  margin-top: 1rem;
}

p,
ul,
ol {
  margin-bottom: 10px;
  font-weight: normal;
}

p li,
ul li,
ol li {
  margin-left: 5px;
  list-style-position: inside;
}

.btn-primary,
.boton {
  text-decoration: none;
  color: #fff;
  background-color: #348eda;
  border: solid #348eda;
  border-width: 10px 20px;
  line-height: 2em;
  font-weight: bold;
  text-align: center;
  cursor: pointer;
  border-radius: 5px;
  text-transform: capitalize;
  margin: 0 auto;
  display: block;
  width: fit-content;
}

.last {
  margin-bottom: 0;
}

.first {
  margin-top: 0;
}

.text-center, .aligncenter {
  text-align: center;
}

.alignright {
  text-align: right;
  float: none !important;
}

.text-left {
  text-align: left;
}

.clear {
  clear: both;
}

.alert {
  font-size: 16px;
  color: #fff;
  font-weight: 500;
  padding: 20px;
  text-align: center;
  border-radius: 3px 3px 0 0;
}

.alert a {
  color: #fff;
  text-decoration: none;
  font-weight: 500;
  font-size: 16px;
}

.alert.alert-warning {
  background-color: #ff9f00;
}

.alert.alert-bad {
  background-color: #d0021b;
}

.alert.alert-good {
  background-color: #68b90f;
}

.dhamma-blue {
  color: #348eda;
}

mark,
.highlight,
.resaltado {
  background-color: #ee1;
  padding: 0.25rem;
  border-radius: 6px;
  border: 1px solid #dd0;
}

.invoice {
  margin: 20px auto;
  text-align: left;
  width: 80%;
}

.invoice td {
  padding: 5px 0;
}

.invoice .invoice-items {
  width: 100%;
}

.invoice .invoice-items td {
  border-top: #eee 1px solid;
}

.invoice .invoice-items .total td {
  border-top: 2px solid #333;
  border-bottom: 2px solid #333;
  font-weight: 700;
}

small {
  font-size: 0.75em;
}

.centre-card {
  /* background: color-mix(in oklab, #c18f2c, transparent 85%); */
  /* background: #f6eedf; */
  background: #ffffcc;
  padding: 0;
}

.centre-card img {
  width: 50%;
  float: left;
  margin-right: 1rem;
}

/* @media (prefers-color-scheme: dark) {
  .centre-card {
    background-color: #352c23 !important;
  }
  .highlight,
  .resaltado {
    background-color: #dd1 !important;
    border-color: #cc0 !important;
    color: black !important;
  }
} */

@media only screen and (max-width: 640px) {
  body {
    padding: 0 !important;
  }

  h1,
  h2,
  h3,
  h4 {
    font-weight: 700 !important;
    margin: 20px 0 5px 0 !important;
  }

  h1 {
    font-size: 22px !important;
  }

  h2 {
    font-size: 19px !important;
  }

  h3 {
    font-size: 16px !important;
  }

  h4 {
    font-size: 16px !important;
  }

  .container {
    padding: 0 !important;
    width: 100% !important;
  }

  .content {
    padding: 0 !important;
  }

  .content-wrap {
    padding: 10px !important;
  }

  .palabras {
    border-top: 1px solid rgb(238, 199, 39) !important;
    border-bottom: 1px solid rgb(238, 199, 39) !important;
    padding: 10px 20px !important;
    background: rgb(254, 253, 235) none repeat scroll 0% 50% !important;
    color: rgb(0, 32, 96) !important;
    background-color: #fefdeb !important;
  }

  .invoice {
    width: 100% !important;
  }
}

.d-none {
  display: none;
}

@media screen and (min-width: 576px) {
  .d-md-none {
    display: none;
  }
  .d-md-block {
    display: block;
  }
}
`;function ret(n){return`<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
        <head>
            <meta name="viewport" content="width=device-width" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <title>Vipassana Anuncios</title>
            <style type="text/css">${net}</style>
        </head>
        <body>
            ${n}
        </body>
    </html>
  `}var tA={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */tA.exports;(function(n,e){(function(t){var r=e,i=n&&n.exports==r&&n,o=typeof ue=="object"&&ue;(o.global===o||o.window===o)&&(t=o);var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,c={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","	":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr",:"ordf",:"aacute",:"Aacute",:"agrave",:"Agrave",:"abreve",:"Abreve",:"acirc",:"Acirc",:"aring",:"angst",:"auml",:"Auml",:"atilde",:"Atilde",:"aogon",:"Aogon",:"amacr",:"Amacr",:"aelig",:"AElig","":"bscr","":"bopf","":"bfr","":"Bopf",:"Bscr","":"Bfr","":"cfr","":"cscr","":"copf",:"Cfr","":"Cscr",:"Copf",:"cacute",:"Cacute",:"ccirc",:"Ccirc",:"ccaron",:"Ccaron",:"cdot",:"Cdot",:"ccedil",:"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf",:"dcaron",:"Dcaron",:"dstrok",:"Dstrok",:"eth",:"ETH","":"ee",:"escr","":"efr","":"eopf",:"Escr","":"Efr","":"Eopf",:"eacute",:"Eacute",:"egrave",:"Egrave",:"ecirc",:"Ecirc",:"ecaron",:"Ecaron",:"euml",:"Euml",:"edot",:"Edot",:"eogon",:"Eogon",:"emacr",:"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf",:"Fscr",:"fflig",:"ffilig",:"ffllig",:"filig",fj:"fjlig",:"fllig",:"fnof",:"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr",:"gacute",:"gbreve",:"Gbreve",:"gcirc",:"Gcirc",:"gdot",:"Gdot",:"Gcedil","":"hfr",:"planckh","":"hscr","":"hopf",:"Hscr",:"Hfr",:"Hopf",:"hcirc",:"Hcirc",:"hbar",:"hstrok",:"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf",:"Iscr",:"Im",:"iacute",:"Iacute",:"igrave",:"Igrave",:"icirc",:"Icirc",:"iuml",:"Iuml",:"itilde",:"Itilde",:"Idot",:"iogon",:"Iogon",:"imacr",:"Imacr",:"ijlig",:"IJlig",:"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf",:"jcirc",:"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr",:"kcedil",:"Kcedil","":"lfr","":"lscr",:"ell","":"lopf",:"Lscr","":"Lfr","":"Lopf",:"lacute",:"Lacute",:"lcaron",:"Lcaron",:"lcedil",:"Lcedil",:"lstrok",:"Lstrok",:"lmidot",:"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf",:"Mscr","":"nfr","":"nopf","":"nscr",:"Nopf","":"Nscr","":"Nfr",:"nacute",:"Nacute",:"ncaron",:"Ncaron",:"ntilde",:"Ntilde",:"ncedil",:"Ncedil","":"numero",:"eng",:"ENG","":"oopf","":"ofr",:"oscr","":"Oscr","":"Ofr","":"Oopf",:"ordm",:"oacute",:"Oacute",:"ograve",:"Ograve",:"ocirc",:"Ocirc",:"ouml",:"Ouml",:"odblac",:"Odblac",:"otilde",:"Otilde",:"oslash",:"Oslash",:"omacr",:"Omacr",:"oelig",:"OElig","":"pfr","":"pscr","":"popf",:"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr",:"Qopf",:"kgreen","":"rfr","":"ropf","":"rscr",:"Rscr",:"Re",:"Ropf",:"racute",:"Racute",:"rcaron",:"Rcaron",:"rcedil",:"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS",:"sacute",:"Sacute",:"scirc",:"Scirc",:"scaron",:"Scaron",:"scedil",:"Scedil",:"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf",:"tcaron",:"Tcaron",:"tcedil",:"Tcedil","":"trade",:"tstrok",:"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr",:"uacute",:"Uacute",:"ugrave",:"Ugrave",:"ubreve",:"Ubreve",:"ucirc",:"Ucirc",:"uring",:"Uring",:"uuml",:"Uuml",:"udblac",:"Udblac",:"utilde",:"Utilde",:"uogon",:"Uogon",:"umacr",:"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr",:"wcirc",:"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf",:"yacute",:"Yacute",:"ycirc",:"Ycirc",:"yuml",:"Yuml","":"zscr","":"zfr","":"zopf",:"Zfr",:"Zopf","":"Zscr",:"zacute",:"Zacute",:"zcaron",:"Zcaron",:"zdot",:"Zdot",:"imped",:"thorn",:"THORN",:"napos",:"alpha",:"Alpha",:"beta",:"Beta",:"gamma",:"Gamma",:"delta",:"Delta",:"epsi","":"epsiv",:"Epsilon",:"gammad",:"Gammad",:"zeta",:"Zeta",:"eta",:"Eta",:"theta",:"thetav",:"Theta",:"iota",:"Iota",:"kappa",:"kappav",:"Kappa",:"lambda",:"Lambda",:"mu",:"micro",:"Mu",:"nu",:"Nu",:"xi",:"Xi",:"omicron",:"Omicron",:"pi",:"piv",:"Pi",:"rho",:"rhov",:"Rho",:"sigma",:"Sigma",:"sigmaf",:"tau",:"Tau",:"upsi",:"Upsilon",:"Upsi",:"phi",:"phiv",:"Phi",:"chi",:"Chi",:"psi",:"Psi",:"omega",:"ohm",:"acy",:"Acy",:"bcy",:"Bcy",:"vcy",:"Vcy",:"gcy",:"Gcy",:"gjcy",:"GJcy",:"dcy",:"Dcy",:"djcy",:"DJcy",:"iecy",:"IEcy",:"iocy",:"IOcy",:"jukcy",:"Jukcy",:"zhcy",:"ZHcy",:"zcy",:"Zcy",:"dscy",:"DScy",:"icy",:"Icy",:"iukcy",:"Iukcy",:"yicy",:"YIcy",:"jcy",:"Jcy",:"jsercy",:"Jsercy",:"kcy",:"Kcy",:"kjcy",:"KJcy",:"lcy",:"Lcy",:"ljcy",:"LJcy",:"mcy",:"Mcy",:"ncy",:"Ncy",:"njcy",:"NJcy",:"ocy",:"Ocy",:"pcy",:"Pcy",:"rcy",:"Rcy",:"scy",:"Scy",:"tcy",:"Tcy",:"tshcy",:"TSHcy",:"ucy",:"Ucy",:"ubrcy",:"Ubrcy",:"fcy",:"Fcy",:"khcy",:"KHcy",:"tscy",:"TScy",:"chcy",:"CHcy",:"dzcy",:"DZcy",:"shcy",:"SHcy",:"shchcy",:"SHCHcy",:"hardcy",:"HARDcy",:"ycy",:"Ycy",:"softcy",:"SOFTcy",:"ecy",:"Ecy",:"yucy",:"YUcy",:"yacy",:"YAcy",:"aleph",:"beth",:"gimel",:"daleth"},h=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,v=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,_={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},b={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},C={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},E=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],S=String.fromCharCode,A={},T=A.hasOwnProperty,N=function(pe,ke){return T.call(pe,ke)},k=function(pe,ke){for(var qe=-1,ft=pe.length;++qe<ft;)if(pe[qe]==ke)return!0;return!1},F=function(pe,ke){if(!pe)return ke;var qe={},ft;for(ft in ke)qe[ft]=N(pe,ft)?pe[ft]:ke[ft];return qe},L=function(pe,ke){var qe="";return pe>=55296&&pe<=57343||pe>1114111?(ke&&B("character reference outside the permissible Unicode range"),""):N(C,pe)?(ke&&B("disallowed character reference"),C[pe]):(ke&&k(E,pe)&&B("disallowed character reference"),pe>65535&&(pe-=65536,qe+=S(pe>>>10&1023|55296),pe=56320|pe&1023),qe+=S(pe),qe)},O=function(pe){return"&#x"+pe.toString(16).toUpperCase()+";"},P=function(pe){return"&#"+pe+";"},B=function(pe){throw Error("Parse error: "+pe)},U=function(pe,ke){ke=F(ke,U.options);var qe=ke.strict;qe&&v.test(pe)&&B("forbidden code point");var ft=ke.encodeEverything,ze=ke.useNamedReferences,dt=ke.allowUnsafeSymbols,Ci=ke.decimal?P:O,q=function(_e){return Ci(_e.charCodeAt(0))};return ft?(pe=pe.replace(a,function(_e){return ze&&N(c,_e)?"&"+c[_e]+";":q(_e)}),ze&&(pe=pe.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),ze&&(pe=pe.replace(l,function(_e){return"&"+c[_e]+";"}))):ze?(dt||(pe=pe.replace(h,function(_e){return"&"+c[_e]+";"})),pe=pe.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),pe=pe.replace(l,function(_e){return"&"+c[_e]+";"})):dt||(pe=pe.replace(h,q)),pe.replace(s,function(_e){var Ht=_e.charCodeAt(0),ms=_e.charCodeAt(1),Bo=(Ht-55296)*1024+ms-56320+65536;return Ci(Bo)}).replace(u,q)};U.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var $=function(pe,ke){ke=F(ke,$.options);var qe=ke.strict;return qe&&p.test(pe)&&B("malformed character reference"),pe.replace(m,function(ft,ze,dt,Ci,q,_e,Ht,ms,Bo){var Kn,oo,G,Z,re,fe;return ze?(re=ze,_[re]):dt?(re=dt,fe=Ci,fe&&ke.isAttributeValue?(qe&&fe=="="&&B("`&` did not start a character reference"),ft):(qe&&B("named character reference was not terminated by a semicolon"),b[re]+(fe||""))):q?(G=q,oo=_e,qe&&!oo&&B("character reference was not terminated by a semicolon"),Kn=parseInt(G,10),L(Kn,qe)):Ht?(Z=Ht,oo=ms,qe&&!oo&&B("character reference was not terminated by a semicolon"),Kn=parseInt(Z,16),L(Kn,qe)):(qe&&B("named character reference was not terminated by a semicolon"),ft)})};$.options={isAttributeValue:!1,strict:!1};var te=function(pe){return pe.replace(h,function(ke){return d[ke]})},ne={version:"1.2.0",encode:U,decode:$,escape:te,unescape:$};if(r&&!r.nodeType)if(i)i.exports=ne;else for(var ie in ne)N(ne,ie)&&(r[ie]=ne[ie]);else t.he=ne})(ue)})(tA,tA.exports);var iet=tA.exports;const oet=LA(iet);var sce={exports:{}},ace={},uce={};Object.defineProperty(uce,"__esModule",{value:!0});var UI={},s0={},nA=ue&&ue.__assign||function(){return nA=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nA.apply(this,arguments)};Object.defineProperty(s0,"__esModule",{value:!0});s0.flatten=void 0;var set={xml:!1,decodeEntities:!0};s0.default=set;var mY={_useHtmlParser2:!0,xmlMode:!0};function aet(n){return n!=null&&n.xml?typeof n.xml=="boolean"?mY:nA(nA({},mY),n.xml):n??void 0}s0.flatten=aet;var Rr={},Du={},sa={},No={},a0={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function t(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}n.isTag=t,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype})(a0);var Kt={},Zh=ue&&ue.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bb=ue&&ue.__assign||function(){return bb=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bb.apply(this,arguments)};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.cloneNode=Kt.hasChildren=Kt.isDocument=Kt.isDirective=Kt.isComment=Kt.isText=Kt.isCDATA=Kt.isTag=Kt.Element=Kt.Document=Kt.CDATA=Kt.NodeWithChildren=Kt.ProcessingInstruction=Kt.Comment=Kt.Text=Kt.DataNode=Kt.Node=void 0;var Rs=a0,M9=function(){function n(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),n.prototype.cloneNode=function(e){return e===void 0&&(e=!1),F9(this,e)},n}();Kt.Node=M9;var jI=function(n){Zh(e,n);function e(t){var r=n.call(this)||this;return r.data=t,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(M9);Kt.DataNode=jI;var lce=function(n){Zh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Rs.ElementType.Text,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(jI);Kt.Text=lce;var cce=function(n){Zh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Rs.ElementType.Comment,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(jI);Kt.Comment=cce;var fce=function(n){Zh(e,n);function e(t,r){var i=n.call(this,r)||this;return i.name=t,i.type=Rs.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(jI);Kt.ProcessingInstruction=fce;var qI=function(n){Zh(e,n);function e(t){var r=n.call(this)||this;return r.children=t,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(M9);Kt.NodeWithChildren=qI;var hce=function(n){Zh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Rs.ElementType.CDATA,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(qI);Kt.CDATA=hce;var dce=function(n){Zh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Rs.ElementType.Root,t}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(qI);Kt.Document=dce;var pce=function(n){Zh(e,n);function e(t,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=t==="script"?Rs.ElementType.Script:t==="style"?Rs.ElementType.Style:Rs.ElementType.Tag);var s=n.call(this,i)||this;return s.name=t,s.attribs=r,s.type=o,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:t.attribs[r],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=t["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(qI);Kt.Element=pce;function gce(n){return(0,Rs.isTag)(n)}Kt.isTag=gce;function vce(n){return n.type===Rs.ElementType.CDATA}Kt.isCDATA=vce;function mce(n){return n.type===Rs.ElementType.Text}Kt.isText=mce;function _ce(n){return n.type===Rs.ElementType.Comment}Kt.isComment=_ce;function yce(n){return n.type===Rs.ElementType.Directive}Kt.isDirective=yce;function bce(n){return n.type===Rs.ElementType.Root}Kt.isDocument=bce;function uet(n){return Object.prototype.hasOwnProperty.call(n,"children")}Kt.hasChildren=uet;function F9(n,e){e===void 0&&(e=!1);var t;if(mce(n))t=new lce(n.data);else if(_ce(n))t=new cce(n.data);else if(gce(n)){var r=e?ER(n.children):[],i=new pce(n.name,bb({},n.attribs),r);r.forEach(function(u){return u.parent=i}),n.namespace!=null&&(i.namespace=n.namespace),n["x-attribsNamespace"]&&(i["x-attribsNamespace"]=bb({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(i["x-attribsPrefix"]=bb({},n["x-attribsPrefix"])),t=i}else if(vce(n)){var r=e?ER(n.children):[],o=new hce(r);r.forEach(function(l){return l.parent=o}),t=o}else if(bce(n)){var r=e?ER(n.children):[],s=new dce(r);r.forEach(function(l){return l.parent=s}),n["x-mode"]&&(s["x-mode"]=n["x-mode"]),t=s}else if(yce(n)){var a=new fce(n.name,n.data);n["x-name"]!=null&&(a["x-name"]=n["x-name"],a["x-publicId"]=n["x-publicId"],a["x-systemId"]=n["x-systemId"]),t=a}else throw new Error("Not implemented yet: ".concat(n.type));return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}Kt.cloneNode=F9;function ER(n){for(var e=n.map(function(r){return F9(r,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}(function(n){var e=ue&&ue.__createBinding||(Object.create?function(a,u,l,c){c===void 0&&(c=l);var h=Object.getOwnPropertyDescriptor(u,l);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(a,c,h)}:function(a,u,l,c){c===void 0&&(c=l),a[c]=u[l]}),t=ue&&ue.__exportStar||function(a,u){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&e(u,a,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var r=a0,i=Kt;t(Kt,n);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function a(u,l,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(c=l,l=o),typeof u=="object"&&(l=u,u=void 0),this.callback=u??null,this.options=l??o,this.elementCB=c??null}return a.prototype.onparserinit=function(u){this.parser=u},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(u){this.handleCallback(u)},a.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},a.prototype.onopentag=function(u,l){var c=this.options.xmlMode?r.ElementType.Tag:void 0,h=new i.Element(u,l,void 0,c);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(u){var l=this.lastNode;if(l&&l.type===r.ElementType.Text)l.data+=u,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var c=new i.Text(u);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=u;return}var l=new i.Comment(u);this.addNode(l),this.lastNode=l},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var u=new i.Text(""),l=new i.CDATA([u]);this.addNode(l),u.parent=l,this.lastNode=u},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(u,l){var c=new i.ProcessingInstruction(u,l);this.addNode(c)},a.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},a.prototype.addNode=function(u){var l=this.tagStack[this.tagStack.length-1],c=l.children[l.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),l.children.push(u),c&&(u.prev=c,c.next=u),u.parent=l,this.lastNode=null},a}();n.DomHandler=s,n.default=s})(No);var u0={};const cet=qQ(Y_e);var g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.attributeNames=g_.elementNames=void 0;g_.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]}));g_.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}));var Qv=ue&&ue.__assign||function(){return Qv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qv.apply(this,arguments)},fet=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),het=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),det=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&fet(e,n,t);return het(e,n),e};Object.defineProperty(u0,"__esModule",{value:!0});u0.render=void 0;var sc=det(a0),rA=cet,Cce=g_,pet=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function get(n){return n.replace(/"/g,"&quot;")}function vet(n,e){var t;if(n){var r=((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)===!1?get:e.xmlMode||e.encodeEntities!=="utf8"?rA.encodeXML:rA.escapeAttribute;return Object.keys(n).map(function(i){var o,s,a=(o=n[i])!==null&&o!==void 0?o:"";return e.xmlMode==="foreign"&&(i=(s=Cce.attributeNames.get(i))!==null&&s!==void 0?s:i),!e.emptyAttrs&&!e.xmlMode&&a===""?i:"".concat(i,'="').concat(r(a),'"')}).join(" ")}}var _Y=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function zI(n,e){e===void 0&&(e={});for(var t=("length"in n)?n:[n],r="",i=0;i<t.length;i++)r+=met(t[i],e);return r}u0.render=zI;u0.default=zI;function met(n,e){switch(n.type){case sc.Root:return zI(n.children,e);case sc.Doctype:case sc.Directive:return Cet(n);case sc.Comment:return Tet(n);case sc.CDATA:return Eet(n);case sc.Script:case sc.Style:case sc.Tag:return bet(n,e);case sc.Text:return wet(n,e)}}var _et=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),yet=new Set(["svg","math"]);function bet(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=Cce.elementNames.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&_et.has(n.parent.name)&&(e=Qv(Qv({},e),{xmlMode:!1}))),!e.xmlMode&&yet.has(n.name)&&(e=Qv(Qv({},e),{xmlMode:"foreign"}));var r="<".concat(n.name),i=vet(n.attribs,e);return i&&(r+=" ".concat(i)),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&_Y.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=zI(n.children,e)),(e.xmlMode||!_Y.has(n.name))&&(r+="</".concat(n.name,">"))),r}function Cet(n){return"<".concat(n.data,">")}function wet(n,e){var t,r=n.data||"";return((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)!==!1&&!(!e.xmlMode&&n.parent&&pet.has(n.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?(0,rA.encodeXML)(r):(0,rA.escapeText)(r)),r}function Eet(n){return"<![CDATA[".concat(n.children[0].data,"]]>")}function Tet(n){return"<!--".concat(n.data,"-->")}var Det=ue&&ue.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sa,"__esModule",{value:!0});sa.innerText=sa.textContent=sa.getText=sa.getInnerHTML=sa.getOuterHTML=void 0;var Tl=No,Aet=Det(u0),Iet=a0;function wce(n,e){return(0,Aet.default)(n,e)}sa.getOuterHTML=wce;function xet(n,e){return(0,Tl.hasChildren)(n)?n.children.map(function(t){return wce(t,e)}).join(""):""}sa.getInnerHTML=xet;function tT(n){return Array.isArray(n)?n.map(tT).join(""):(0,Tl.isTag)(n)?n.name==="br"?`
`:tT(n.children):(0,Tl.isCDATA)(n)?tT(n.children):(0,Tl.isText)(n)?n.data:""}sa.getText=tT;function yF(n){return Array.isArray(n)?n.map(yF).join(""):(0,Tl.hasChildren)(n)&&!(0,Tl.isComment)(n)?yF(n.children):(0,Tl.isText)(n)?n.data:""}sa.textContent=yF;function bF(n){return Array.isArray(n)?n.map(bF).join(""):(0,Tl.hasChildren)(n)&&(n.type===Iet.ElementType.Tag||(0,Tl.isCDATA)(n))?bF(n.children):(0,Tl.isText)(n)?n.data:""}sa.innerText=bF;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.prevElementSibling=Ii.nextElementSibling=Ii.getName=Ii.hasAttrib=Ii.getAttributeValue=Ii.getSiblings=Ii.getParent=Ii.getChildren=void 0;var B9=No;function Ece(n){return(0,B9.hasChildren)(n)?n.children:[]}Ii.getChildren=Ece;function Sce(n){return n.parent||null}Ii.getParent=Sce;function Let(n){var e,t,r=Sce(n);if(r!=null)return Ece(r);for(var i=[n],o=n.prev,s=n.next;o!=null;)i.unshift(o),e=o,o=e.prev;for(;s!=null;)i.push(s),t=s,s=t.next;return i}Ii.getSiblings=Let;function Net(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}Ii.getAttributeValue=Net;function Oet(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}Ii.hasAttrib=Oet;function ket(n){return n.name}Ii.getName=ket;function Ret(n){for(var e,t=n.next;t!==null&&!(0,B9.isTag)(t);)e=t,t=e.next;return t}Ii.nextElementSibling=Ret;function Pet(n){for(var e,t=n.prev;t!==null&&!(0,B9.isTag)(t);)e=t,t=e.prev;return t}Ii.prevElementSibling=Pet;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.prepend=Ts.prependChild=Ts.append=Ts.appendChild=Ts.replaceElement=Ts.removeElement=void 0;function ew(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){var e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}Ts.removeElement=ew;function Met(n,e){var t=e.prev=n.prev;t&&(t.next=e);var r=e.next=n.next;r&&(r.prev=e);var i=e.parent=n.parent;if(i){var o=i.children;o[o.lastIndexOf(n)]=e,n.parent=null}}Ts.replaceElement=Met;function Fet(n,e){if(ew(e),e.next=null,e.parent=n,n.children.push(e)>1){var t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}Ts.appendChild=Fet;function Bet(n,e){ew(e);var t=n.parent,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){var i=t.children;i.splice(i.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}Ts.append=Bet;function Het(n,e){if(ew(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){var t=n.children[1];t.prev=e,e.next=t}else e.next=null}Ts.prependChild=Het;function Vet(n,e){ew(e);var t=n.parent;if(t){var r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}Ts.prepend=Vet;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.findAll=is.existsOne=is.findOne=is.findOneChild=is.find=is.filter=void 0;var GI=No;function Wet(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),Tce(n,Array.isArray(e)?e:[e],t,r)}is.filter=Wet;function Tce(n,e,t,r){for(var i=[],o=[e],s=[0];;){if(s[0]>=o[0].length){if(s.length===1)return i;o.shift(),s.shift();continue}var a=o[0][s[0]++];if(n(a)&&(i.push(a),--r<=0))return i;t&&(0,GI.hasChildren)(a)&&a.children.length>0&&(s.unshift(0),o.unshift(a.children))}}is.find=Tce;function Uet(n,e){return e.find(n)}is.findOneChild=Uet;function Dce(n,e,t){t===void 0&&(t=!0);for(var r=null,i=0;i<e.length&&!r;i++){var o=e[i];if((0,GI.isTag)(o))n(o)?r=o:t&&o.children.length>0&&(r=Dce(n,o.children,!0));else continue}return r}is.findOne=Dce;function Ace(n,e){return e.some(function(t){return(0,GI.isTag)(t)&&(n(t)||Ace(n,t.children))})}is.existsOne=Ace;function jet(n,e){for(var t=[],r=[e],i=[0];;){if(i[0]>=r[0].length){if(r.length===1)return t;r.shift(),i.shift();continue}var o=r[0][i[0]++];(0,GI.isTag)(o)&&(n(o)&&t.push(o),o.children.length>0&&(i.unshift(0),r.unshift(o.children)))}}is.findAll=jet;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.getElementsByTagType=aa.getElementsByTagName=aa.getElementById=aa.getElements=aa.testElement=void 0;var tp=No,$I=is,iA={tag_name:function(n){return typeof n=="function"?function(e){return(0,tp.isTag)(e)&&n(e.name)}:n==="*"?tp.isTag:function(e){return(0,tp.isTag)(e)&&e.name===n}},tag_type:function(n){return typeof n=="function"?function(e){return n(e.type)}:function(e){return e.type===n}},tag_contains:function(n){return typeof n=="function"?function(e){return(0,tp.isText)(e)&&n(e.data)}:function(e){return(0,tp.isText)(e)&&e.data===n}}};function Ice(n,e){return typeof e=="function"?function(t){return(0,tp.isTag)(t)&&e(t.attribs[n])}:function(t){return(0,tp.isTag)(t)&&t.attribs[n]===e}}function qet(n,e){return function(t){return n(t)||e(t)}}function xce(n){var e=Object.keys(n).map(function(t){var r=n[t];return Object.prototype.hasOwnProperty.call(iA,t)?iA[t](r):Ice(t,r)});return e.length===0?null:e.reduce(qet)}function zet(n,e){var t=xce(n);return t?t(e):!0}aa.testElement=zet;function Get(n,e,t,r){r===void 0&&(r=1/0);var i=xce(n);return i?(0,$I.filter)(i,e,t,r):[]}aa.getElements=Get;function $et(n,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,$I.findOne)(Ice("id",n),e,t)}aa.getElementById=$et;function Ket(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,$I.filter)(iA.tag_name(n),e,t,r)}aa.getElementsByTagName=Ket;function Yet(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,$I.filter)(iA.tag_type(n),e,t,r)}aa.getElementsByTagType=Yet;var Lce={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.uniqueSort=n.compareDocumentPosition=n.DocumentPosition=n.removeSubsets=void 0;var e=No;function t(s){for(var a=s.length;--a>=0;){var u=s[a];if(a>0&&s.lastIndexOf(u,a-1)>=0){s.splice(a,1);continue}for(var l=u.parent;l;l=l.parent)if(s.includes(l)){s.splice(a,1);break}}return s}n.removeSubsets=t;var r;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(r=n.DocumentPosition||(n.DocumentPosition={}));function i(s,a){var u=[],l=[];if(s===a)return 0;for(var c=(0,e.hasChildren)(s)?s:s.parent;c;)u.unshift(c),c=c.parent;for(c=(0,e.hasChildren)(a)?a:a.parent;c;)l.unshift(c),c=c.parent;for(var h=Math.min(u.length,l.length),d=0;d<h&&u[d]===l[d];)d++;if(d===0)return r.DISCONNECTED;var p=u[d-1],v=p.children,m=u[d],_=l[d];return v.indexOf(m)>v.indexOf(_)?p===a?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:p===s?r.PRECEDING|r.CONTAINS:r.PRECEDING}n.compareDocumentPosition=i;function o(s){return s=s.filter(function(a,u,l){return!l.includes(a,u+1)}),s.sort(function(a,u){var l=i(a,u);return l&r.PRECEDING?-1:l&r.FOLLOWING?1:0}),s}n.uniqueSort=o})(Lce);var KI={};Object.defineProperty(KI,"__esModule",{value:!0});KI.getFeed=void 0;var Xet=sa,tw=aa;function Qet(n){var e=oA(ntt,n);return e?e.name==="feed"?Zet(e):Jet(e):null}KI.getFeed=Qet;function Zet(n){var e,t=n.children,r={type:"atom",items:(0,tw.getElementsByTagName)("entry",t).map(function(s){var a,u=s.children,l={media:Nce(u)};Ss(l,"id","id",u),Ss(l,"title","title",u);var c=(a=oA("link",u))===null||a===void 0?void 0:a.attribs.href;c&&(l.link=c);var h=Xf("summary",u)||Xf("content",u);h&&(l.description=h);var d=Xf("updated",u);return d&&(l.pubDate=new Date(d)),l})};Ss(r,"id","id",t),Ss(r,"title","title",t);var i=(e=oA("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),Ss(r,"description","subtitle",t);var o=Xf("updated",t);return o&&(r.updated=new Date(o)),Ss(r,"author","email",t,!0),r}function Jet(n){var e,t,r=(t=(e=oA("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:n.name.substr(0,3),id:"",items:(0,tw.getElementsByTagName)("item",n.children).map(function(s){var a=s.children,u={media:Nce(a)};Ss(u,"id","guid",a),Ss(u,"title","title",a),Ss(u,"link","link",a),Ss(u,"description","description",a);var l=Xf("pubDate",a)||Xf("dc:date",a);return l&&(u.pubDate=new Date(l)),u})};Ss(i,"title","title",r),Ss(i,"link","link",r),Ss(i,"description","description",r);var o=Xf("lastBuildDate",r);return o&&(i.updated=new Date(o)),Ss(i,"author","managingEditor",r,!0),i}var ett=["url","type","lang"],ttt=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Nce(n){return(0,tw.getElementsByTagName)("media:content",n).map(function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},i=0,o=ett;i<o.length;i++){var s=o[i];t[s]&&(r[s]=t[s])}for(var a=0,u=ttt;a<u.length;a++){var s=u[a];t[s]&&(r[s]=parseInt(t[s],10))}return t.expression&&(r.expression=t.expression),r})}function oA(n,e){return(0,tw.getElementsByTagName)(n,e,!0,1)[0]}function Xf(n,e,t){return t===void 0&&(t=!1),(0,Xet.textContent)((0,tw.getElementsByTagName)(n,e,t,1)).trim()}function Ss(n,e,t,r,i){i===void 0&&(i=!1);var o=Xf(t,r,i);o&&(n[e]=o)}function ntt(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}(function(n){var e=ue&&ue.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,a,u)}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),t=ue&&ue.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,t(sa,n),t(Ii,n),t(Ts,n),t(is,n),t(aa,n),t(Lce,n),t(KI,n);var r=No;Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(Du);var kp=ue&&ue.__assign||function(){return kp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},kp.apply(this,arguments)},rtt=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),itt=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ott=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&rtt(e,n,t);return itt(e,n),e};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.merge=Rr.contains=Rr.root=Rr.parseHTML=Rr.text=Rr.xml=Rr.html=void 0;var stt=Du,CF=ott(s0);function Oce(n,e,t){return n?n(e??n._root.children,null,void 0,t).toString():""}function att(n,e){return typeof n=="object"&&n!=null&&!("length"in n)&&!("type"in n)}function utt(n,e){var t=att(n)?(e=n,void 0):n,r=kp(kp(kp({},CF.default),this===null||this===void 0?void 0:this._options),(0,CF.flatten)(e??{}));return Oce(this,t,r)}Rr.html=utt;function ltt(n){var e=kp(kp({},this._options),{xmlMode:!0});return Oce(this,n,e)}Rr.xml=ltt;function ctt(n){for(var e=n||(this?this.root():[]),t="",r=0;r<e.length;r++)t+=(0,stt.textContent)(e[r]);return t}Rr.text=ctt;function ftt(n,e,t){if(t===void 0&&(t=typeof e=="boolean"?e:!1),!n||typeof n!="string")return null;typeof e=="boolean"&&(t=e);var r=this.load(n,CF.default,!1);return t||r("script").remove(),r.root()[0].children.slice()}Rr.parseHTML=ftt;function htt(){return this(this._root)}Rr.root=htt;function dtt(n,e){if(e===n)return!1;for(var t=e;t&&t!==t.parent;)if(t=t.parent,t===n)return!0;return!1}Rr.contains=dtt;function ptt(n,e){if(!(!yY(n)||!yY(e))){for(var t=n.length,r=+e.length,i=0;i<r;i++)n[t++]=e[i];return n.length=t,n}}Rr.merge=ptt;function yY(n){if(Array.isArray(n))return!0;if(typeof n!="object"||!Object.prototype.hasOwnProperty.call(n,"length")||typeof n.length!="number"||n.length<0)return!1;for(var e=0;e<n.length;e++)if(!(e in n))return!1;return!0}var YI={},zr={},Ng={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHtml=n.cloneDom=n.domEach=n.cssCase=n.camelCase=n.isCheerio=n.isTag=void 0;var e=No,t=No;Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return t.isTag}});function r(c){return c.cheerio!=null}n.isCheerio=r;function i(c){return c.replace(/[_.-](\w|$)/g,function(h,d){return d.toUpperCase()})}n.camelCase=i;function o(c){return c.replace(/[A-Z]/g,"-$&").toLowerCase()}n.cssCase=o;function s(c,h){for(var d=c.length,p=0;p<d;p++)h(c[p],p);return c}n.domEach=s;function a(c){var h="length"in c?Array.prototype.map.call(c,function(p){return(0,e.cloneNode)(p,!0)}):[(0,e.cloneNode)(c,!0)],d=new e.Document(h);return h.forEach(function(p){p.parent=d}),h}n.cloneDom=a;var u;(function(c){c[c.LowerA=97]="LowerA",c[c.LowerZ=122]="LowerZ",c[c.UpperA=65]="UpperA",c[c.UpperZ=90]="UpperZ",c[c.Exclamation=33]="Exclamation"})(u||(u={}));function l(c){var h=c.indexOf("<");if(h<0||h>c.length-3)return!1;var d=c.charCodeAt(h+1);return(d>=u.LowerA&&d<=u.LowerZ||d>=u.UpperA&&d<=u.UpperZ||d===u.Exclamation)&&c.includes(">",h+2)}n.isHtml=l})(Ng);Object.defineProperty(zr,"__esModule",{value:!0});zr.toggleClass=zr.removeClass=zr.addClass=zr.hasClass=zr.removeAttr=zr.val=zr.data=zr.prop=zr.attr=void 0;var kce=Rr,Rn=Ng,bY=Du,bm=Object.prototype.hasOwnProperty,W1=/\s+/,SR="data-",CY={null:null,true:!0,false:!1},H9=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,gtt=/^{[^]*}$|^\[[^]*]$/;function sA(n,e,t){var r;if(!(!n||!(0,Rn.isTag)(n))){if((r=n.attribs)!==null&&r!==void 0||(n.attribs={}),!e)return n.attribs;if(bm.call(n.attribs,e))return!t&&H9.test(e)?e:n.attribs[e];if(n.name==="option"&&e==="value")return(0,kce.text)(n.children);if(n.name==="input"&&(n.attribs.type==="radio"||n.attribs.type==="checkbox")&&e==="value")return"on"}}function Cm(n,e,t){t===null?Rce(n,e):n.attribs[e]="".concat(t)}function vtt(n,e){if(typeof n=="object"||e!==void 0){if(typeof e=="function"){if(typeof n!="string")throw new Error("Bad combination of arguments.");return(0,Rn.domEach)(this,function(t,r){(0,Rn.isTag)(t)&&Cm(t,n,e.call(t,r,t.attribs[n]))})}return(0,Rn.domEach)(this,function(t){(0,Rn.isTag)(t)&&(typeof n=="object"?Object.keys(n).forEach(function(r){var i=n[r];Cm(t,r,i)}):Cm(t,n,e))})}return arguments.length>1?this:sA(this[0],n,this.options.xmlMode)}zr.attr=vtt;function wY(n,e,t){return e in n?n[e]:!t&&H9.test(e)?sA(n,e,!1)!==void 0:sA(n,e,t)}function TR(n,e,t,r){e in n?n[e]=t:Cm(n,e,!r&&H9.test(e)?t?"":null:"".concat(t))}function mtt(n,e){var t=this,r;if(typeof n=="string"&&e===void 0){var i=this[0];if(!i||!(0,Rn.isTag)(i))return;switch(n){case"style":{var o=this.css(),s=Object.keys(o);return s.forEach(function(u,l){o[l]=u}),o.length=s.length,o}case"tagName":case"nodeName":return i.name.toUpperCase();case"href":case"src":{var a=(r=i.attribs)===null||r===void 0?void 0:r[n];return typeof URL<"u"&&(n==="href"&&(i.tagName==="a"||i.name==="link")||n==="src"&&(i.tagName==="img"||i.tagName==="iframe"||i.tagName==="audio"||i.tagName==="video"||i.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return(0,bY.innerText)(i);case"textContent":return(0,bY.textContent)(i);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return wY(i,n,this.options.xmlMode)}}if(typeof n=="object"||e!==void 0){if(typeof e=="function"){if(typeof n=="object")throw new Error("Bad combination of arguments.");return(0,Rn.domEach)(this,function(u,l){(0,Rn.isTag)(u)&&TR(u,n,e.call(u,l,wY(u,n,t.options.xmlMode)),t.options.xmlMode)})}return(0,Rn.domEach)(this,function(u){(0,Rn.isTag)(u)&&(typeof n=="object"?Object.keys(n).forEach(function(l){var c=n[l];TR(u,l,c,t.options.xmlMode)}):TR(u,n,e,t.options.xmlMode))})}}zr.prop=mtt;function EY(n,e,t){var r,i=n;(r=i.data)!==null&&r!==void 0||(i.data={}),typeof e=="object"?Object.assign(i.data,e):typeof e=="string"&&t!==void 0&&(i.data[e]=t)}function SY(n,e){var t,r,i;e==null?(t=Object.keys(n.attribs).filter(function(u){return u.startsWith(SR)}),r=t.map(function(u){return(0,Rn.camelCase)(u.slice(SR.length))})):(t=[SR+(0,Rn.cssCase)(e)],r=[e]);for(var o=0;o<t.length;++o){var s=t[o],a=r[o];if(bm.call(n.attribs,s)&&!bm.call(n.data,a)){if(i=n.attribs[s],bm.call(CY,i))i=CY[i];else if(i===String(Number(i)))i=Number(i);else if(gtt.test(i))try{i=JSON.parse(i)}catch{}n.data[a]=i}}return e==null?n.data:i}function _tt(n,e){var t,r=this[0];if(!(!r||!(0,Rn.isTag)(r))){var i=r;return(t=i.data)!==null&&t!==void 0||(i.data={}),n?typeof n=="object"||e!==void 0?((0,Rn.domEach)(this,function(o){(0,Rn.isTag)(o)&&(typeof n=="object"?EY(o,n):EY(o,n,e))}),this):bm.call(i.data,n)?i.data[n]:SY(i,n):SY(i)}}zr.data=_tt;function ytt(n){var e=arguments.length===0,t=this[0];if(!t||!(0,Rn.isTag)(t))return e?void 0:this;switch(t.name){case"textarea":return this.text(n);case"select":{var r=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof n=="object")return this;this.find("option").removeAttr("selected");for(var i=typeof n!="object"?[n]:n,o=0;o<i.length;o++)this.find('option[value="'.concat(i[o],'"]')).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(function(s){return(0,kce.text)(s.children)}):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",n)}}zr.val=ytt;function Rce(n,e){!n.attribs||!bm.call(n.attribs,e)||delete n.attribs[e]}function aA(n){return n?n.trim().split(W1):[]}function btt(n){for(var e=aA(n),t=function(o){(0,Rn.domEach)(r,function(s){(0,Rn.isTag)(s)&&Rce(s,e[o])})},r=this,i=0;i<e.length;i++)t(i);return this}zr.removeAttr=btt;function Ctt(n){return this.toArray().some(function(e){var t=(0,Rn.isTag)(e)&&e.attribs.class,r=-1;if(t&&n.length)for(;(r=t.indexOf(n,r+1))>-1;){var i=r+n.length;if((r===0||W1.test(t[r-1]))&&(i===t.length||W1.test(t[i])))return!0}return!1})}zr.hasClass=Ctt;function Pce(n){if(typeof n=="function")return(0,Rn.domEach)(this,function(l,c){if((0,Rn.isTag)(l)){var h=l.attribs.class||"";Pce.call([l],n.call(l,c,h))}});if(!n||typeof n!="string")return this;for(var e=n.split(W1),t=this.length,r=0;r<t;r++){var i=this[r];if((0,Rn.isTag)(i)){var o=sA(i,"class",!1);if(!o)Cm(i,"class",e.join(" ").trim());else{for(var s=" ".concat(o," "),a=0;a<e.length;a++){var u="".concat(e[a]," ");s.includes(" ".concat(u))||(s+=u)}Cm(i,"class",s.trim())}}}return this}zr.addClass=Pce;function Mce(n){if(typeof n=="function")return(0,Rn.domEach)(this,function(i,o){(0,Rn.isTag)(i)&&Mce.call([i],n.call(i,o,i.attribs.class||""))});var e=aA(n),t=e.length,r=arguments.length===0;return(0,Rn.domEach)(this,function(i){if((0,Rn.isTag)(i))if(r)i.attribs.class="";else{for(var o=aA(i.attribs.class),s=!1,a=0;a<t;a++){var u=o.indexOf(e[a]);u>=0&&(o.splice(u,1),s=!0,a--)}s&&(i.attribs.class=o.join(" "))}})}zr.removeClass=Mce;function Fce(n,e){if(typeof n=="function")return(0,Rn.domEach)(this,function(h,d){(0,Rn.isTag)(h)&&Fce.call([h],n.call(h,d,h.attribs.class||"",e),e)});if(!n||typeof n!="string")return this;for(var t=n.split(W1),r=t.length,i=typeof e=="boolean"?e?1:-1:0,o=this.length,s=0;s<o;s++){var a=this[s];if((0,Rn.isTag)(a)){for(var u=aA(a.attribs.class),l=0;l<r;l++){var c=u.indexOf(t[l]);i>=0&&c<0?u.push(t[l]):i<=0&&c>=0&&u.splice(c,1)}a.attribs.class=u.join(" ")}}return this}zr.toggleClass=Fce;var $e={},Bce={},tn;(function(n){n.Attribute="attribute",n.Pseudo="pseudo",n.PseudoElement="pseudo-element",n.Tag="tag",n.Universal="universal",n.Adjacent="adjacent",n.Child="child",n.Descendant="descendant",n.Parent="parent",n.Sibling="sibling",n.ColumnCombinator="column-combinator"})(tn||(tn={}));const wtt={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var lr;(function(n){n.Any="any",n.Element="element",n.End="end",n.Equals="equals",n.Exists="exists",n.Hyphen="hyphen",n.Not="not",n.Start="start"})(lr||(lr={}));const TY=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Ett=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Stt=new Map([[126,lr.Element],[94,lr.Start],[36,lr.End],[42,lr.Any],[33,lr.Not],[124,lr.Hyphen]]),Ttt=new Set(["has","not","matches","is","where","host","host-context"]);function Hce(n){switch(n.type){case tn.Adjacent:case tn.Child:case tn.Descendant:case tn.Parent:case tn.Sibling:case tn.ColumnCombinator:return!0;default:return!1}}const Dtt=new Set(["contains","icontains"]);function Att(n,e,t){const r=parseInt(e,16)-65536;return r!==r||t?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Dy(n){return n.replace(Ett,Att)}function DR(n){return n===39||n===34}function DY(n){return n===32||n===9||n===10||n===12||n===13}function Itt(n){const e=[],t=Vce(e,`${n}`,0);if(t<n.length)throw new Error(`Unmatched selector: ${n.slice(t)}`);return e}function Vce(n,e,t){let r=[];function i(d){const p=e.slice(t+d).match(TY);if(!p)throw new Error(`Expected name, found ${e.slice(t)}`);const[v]=p;return t+=d+v.length,Dy(v)}function o(d){for(t+=d;t<e.length&&DY(e.charCodeAt(t));)t++}function s(){t+=1;const d=t;let p=1;for(;p>0&&t<e.length;t++)e.charCodeAt(t)===40&&!a(t)?p++:e.charCodeAt(t)===41&&!a(t)&&p--;if(p)throw new Error("Parenthesis not matched");return Dy(e.slice(d,t-1))}function a(d){let p=0;for(;e.charCodeAt(--d)===92;)p++;return(p&1)===1}function u(){if(r.length>0&&Hce(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function l(d){if(r.length>0&&r[r.length-1].type===tn.Descendant){r[r.length-1].type=d;return}u(),r.push({type:d})}function c(d,p){r.push({type:tn.Attribute,name:d,action:p,value:i(1),namespace:null,ignoreCase:"quirks"})}function h(){if(r.length&&r[r.length-1].type===tn.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");n.push(r)}if(o(0),e.length===t)return t;e:for(;t<e.length;){const d=e.charCodeAt(t);switch(d){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==tn.Descendant)&&(u(),r.push({type:tn.Descendant})),o(1);break}case 62:{l(tn.Child),o(1);break}case 60:{l(tn.Parent),o(1);break}case 126:{l(tn.Sibling),o(1);break}case 43:{l(tn.Adjacent),o(1);break}case 46:{c("class",lr.Element);break}case 35:{c("id",lr.Equals);break}case 91:{o(1);let p,v=null;e.charCodeAt(t)===124?p=i(1):e.startsWith("*|",t)?(v="*",p=i(2)):(p=i(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(v=p,p=i(1))),o(0);let m=lr.Exists;const _=Stt.get(e.charCodeAt(t));if(_){if(m=_,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");o(2)}else e.charCodeAt(t)===61&&(m=lr.Equals,o(1));let b="",C=null;if(m!=="exists"){if(DR(e.charCodeAt(t))){const A=e.charCodeAt(t);let T=t+1;for(;T<e.length&&(e.charCodeAt(T)!==A||a(T));)T+=1;if(e.charCodeAt(T)!==A)throw new Error("Attribute value didn't end");b=Dy(e.slice(t+1,T)),t=T+1}else{const A=t;for(;t<e.length&&(!DY(e.charCodeAt(t))&&e.charCodeAt(t)!==93||a(t));)t+=1;b=Dy(e.slice(A,t))}o(0);const S=e.charCodeAt(t)|32;S===115?(C=!1,o(1)):S===105&&(C=!0,o(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;const E={type:tn.Attribute,name:p,action:m,value:b,namespace:v,ignoreCase:C};r.push(E);break}case 58:{if(e.charCodeAt(t+1)===58){r.push({type:tn.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(t)===40?s():null});continue}const p=i(1).toLowerCase();let v=null;if(e.charCodeAt(t)===40)if(Ttt.has(p)){if(DR(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(v=[],t=Vce(v,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);t+=1}else{if(v=s(),Dtt.has(p)){const m=v.charCodeAt(0);m===v.charCodeAt(v.length-1)&&DR(m)&&(v=v.slice(1,-1))}v=Dy(v)}r.push({type:tn.Pseudo,name:p,data:v});break}case 44:{h(),r=[],o(1);break}default:{if(e.startsWith("/*",t)){const m=e.indexOf("*/",t+2);if(m<0)throw new Error("Comment was not terminated");t=m+2,r.length===0&&o(0);break}let p=null,v;if(d===42)t+=1,v="*";else if(d===124){if(v="",e.charCodeAt(t+1)===124){l(tn.ColumnCombinator),o(2);break}}else if(TY.test(e.slice(t)))v=i(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(p=v,e.charCodeAt(t+1)===42?(v="*",t+=2):v=i(1)),r.push(v==="*"?{type:tn.Universal,namespace:p}:{type:tn.Tag,name:v,namespace:p})}}}return h(),t}const Wce=["\\",'"'],Uce=[...Wce,"(",")"],xtt=new Set(Wce.map(n=>n.charCodeAt(0))),AY=new Set(Uce.map(n=>n.charCodeAt(0))),Zv=new Set([...Uce,"~","^","$","*","+","!","|",":","[","]"," ","."].map(n=>n.charCodeAt(0)));function jce(n){return n.map(e=>e.map(Ltt).join("")).join(", ")}function Ltt(n,e,t){switch(n.type){case tn.Child:return e===0?"> ":" > ";case tn.Parent:return e===0?"< ":" < ";case tn.Sibling:return e===0?"~ ":" ~ ";case tn.Adjacent:return e===0?"+ ":" + ";case tn.Descendant:return" ";case tn.ColumnCombinator:return e===0?"|| ":" || ";case tn.Universal:return n.namespace==="*"&&e+1<t.length&&"name"in t[e+1]?"":`${qce(n.namespace)}*`;case tn.Tag:return IY(n);case tn.PseudoElement:return`::${pc(n.name,Zv)}${n.data===null?"":`(${pc(n.data,AY)})`}`;case tn.Pseudo:return`:${pc(n.name,Zv)}${n.data===null?"":`(${typeof n.data=="string"?pc(n.data,AY):jce(n.data)})`}`;case tn.Attribute:{if(n.name==="id"&&n.action===lr.Equals&&n.ignoreCase==="quirks"&&!n.namespace)return`#${pc(n.value,Zv)}`;if(n.name==="class"&&n.action===lr.Element&&n.ignoreCase==="quirks"&&!n.namespace)return`.${pc(n.value,Zv)}`;const r=IY(n);return n.action===lr.Exists?`[${r}]`:`[${r}${Ntt(n.action)}="${pc(n.value,xtt)}"${n.ignoreCase===null?"":n.ignoreCase?" i":" s"}]`}}}function Ntt(n){switch(n){case lr.Equals:return"";case lr.Element:return"~";case lr.Start:return"^";case lr.End:return"$";case lr.Any:return"*";case lr.Not:return"!";case lr.Hyphen:return"|";case lr.Exists:throw new Error("Shouldn't be here")}}function IY(n){return`${qce(n.namespace)}${pc(n.name,Zv)}`}function qce(n){return n!==null?`${n==="*"?"*":pc(n,Zv)}|`:""}function pc(n,e){let t=0,r="";for(let i=0;i<n.length;i++)e.has(n.charCodeAt(i))&&(r+=`${n.slice(t,i)}\\${n.charAt(i)}`,t=i+1);return r.length>0?r+n.slice(t):n}const Ott=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return lr},IgnoreCaseMode:wtt,get SelectorType(){return tn},isTraversal:Hce,parse:Itt,stringify:jce},Symbol.toStringTag,{value:"Module"})),nw=qQ(Ott);var wF={},Og={trueFunc:function(){return!0},falseFunc:function(){return!1}},gh={},l0={};Object.defineProperty(l0,"__esModule",{value:!0});l0.isTraversal=void 0;var na=nw,zce=new Map([[na.SelectorType.Universal,50],[na.SelectorType.Tag,30],[na.SelectorType.Attribute,1],[na.SelectorType.Pseudo,0]]);function ktt(n){return!zce.has(n.type)}l0.isTraversal=ktt;var Rtt=new Map([[na.AttributeAction.Exists,10],[na.AttributeAction.Equals,8],[na.AttributeAction.Not,7],[na.AttributeAction.Start,6],[na.AttributeAction.End,6],[na.AttributeAction.Any,5]]);function Ptt(n){for(var e=n.map(Gce),t=1;t<n.length;t++){var r=e[t];if(!(r<0))for(var i=t-1;i>=0&&r<e[i];i--){var o=n[i+1];n[i+1]=n[i],n[i]=o,e[i+1]=e[i],e[i]=r}}}l0.default=Ptt;function Gce(n){var e,t,r=(e=zce.get(n.type))!==null&&e!==void 0?e:-1;return n.type===na.SelectorType.Attribute?(r=(t=Rtt.get(n.action))!==null&&t!==void 0?t:4,n.action===na.AttributeAction.Equals&&n.name==="id"&&(r=9),n.ignoreCase&&(r>>=1)):n.type===na.SelectorType.Pseudo&&(n.data?n.name==="has"||n.name==="contains"?r=0:Array.isArray(n.data)?(r=Math.min.apply(Math,n.data.map(function(i){return Math.min.apply(Math,i.map(Gce))})),r<0&&(r=0)):r=2:r=3),r}var XI={},QI={},Mtt=ue&&ue.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(QI,"__esModule",{value:!0});QI.attributeRules=void 0;var mS=Mtt(Og),Ftt=/[-[\]{}()*+?.,\\^$|#\s]/g;function xY(n){return n.replace(Ftt,"\\$&")}var Btt=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Pd(n,e){return typeof n.ignoreCase=="boolean"?n.ignoreCase:n.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&Btt.has(n.name)}QI.attributeRules={equals:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;return Pd(e,t)?(o=o.toLowerCase(),function(s){var a=r.getAttributeValue(s,i);return a!=null&&a.length===o.length&&a.toLowerCase()===o&&n(s)}):function(s){return r.getAttributeValue(s,i)===o&&n(s)}},hyphen:function(n,e,t){var r=t.adapter,i=e.name,o=e.value,s=o.length;return Pd(e,t)?(o=o.toLowerCase(),function(u){var l=r.getAttributeValue(u,i);return l!=null&&(l.length===s||l.charAt(s)==="-")&&l.substr(0,s).toLowerCase()===o&&n(u)}):function(u){var l=r.getAttributeValue(u,i);return l!=null&&(l.length===s||l.charAt(s)==="-")&&l.substr(0,s)===o&&n(u)}},element:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;if(/\s/.test(o))return mS.default.falseFunc;var s=new RegExp("(?:^|\\s)".concat(xY(o),"(?:$|\\s)"),Pd(e,t)?"i":"");return function(u){var l=r.getAttributeValue(u,i);return l!=null&&l.length>=o.length&&s.test(l)&&n(u)}},exists:function(n,e,t){var r=e.name,i=t.adapter;return function(o){return i.hasAttrib(o,r)&&n(o)}},start:function(n,e,t){var r=t.adapter,i=e.name,o=e.value,s=o.length;return s===0?mS.default.falseFunc:Pd(e,t)?(o=o.toLowerCase(),function(a){var u=r.getAttributeValue(a,i);return u!=null&&u.length>=s&&u.substr(0,s).toLowerCase()===o&&n(a)}):function(a){var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.startsWith(o))&&n(a)}},end:function(n,e,t){var r=t.adapter,i=e.name,o=e.value,s=-o.length;return s===0?mS.default.falseFunc:Pd(e,t)?(o=o.toLowerCase(),function(a){var u;return((u=r.getAttributeValue(a,i))===null||u===void 0?void 0:u.substr(s).toLowerCase())===o&&n(a)}):function(a){var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.endsWith(o))&&n(a)}},any:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;if(o==="")return mS.default.falseFunc;if(Pd(e,t)){var s=new RegExp(xY(o),"i");return function(u){var l=r.getAttributeValue(u,i);return l!=null&&l.length>=o.length&&s.test(l)&&n(u)}}return function(a){var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.includes(o))&&n(a)}},not:function(n,e,t){var r=t.adapter,i=e.name,o=e.value;return o===""?function(s){return!!r.getAttributeValue(s,i)&&n(s)}:Pd(e,t)?(o=o.toLowerCase(),function(s){var a=r.getAttributeValue(s,i);return(a==null||a.length!==o.length||a.toLowerCase()!==o)&&n(s)}):function(s){return r.getAttributeValue(s,i)!==o&&n(s)}}};var V9={},$ce={},Kce={},ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.parse=void 0;var Htt=new Set([9,10,12,13,32]),LY=48,Vtt=57;function Wtt(n){if(n=n.trim().toLowerCase(),n==="even")return[2,0];if(n==="odd")return[2,1];var e=0,t=0,r=o(),i=s();if(e<n.length&&n.charAt(e)==="n"&&(e++,t=r*(i??1),a(),e<n.length?(r=o(),a(),i=s()):r=i=0),i===null||e<n.length)throw new Error("n-th rule couldn't be parsed ('".concat(n,"')"));return[t,r*i];function o(){return n.charAt(e)==="-"?(e++,-1):(n.charAt(e)==="+"&&e++,1)}function s(){for(var u=e,l=0;e<n.length&&n.charCodeAt(e)>=LY&&n.charCodeAt(e)<=Vtt;)l=l*10+(n.charCodeAt(e)-LY),e++;return e===u?null:l}function a(){for(;e<n.length&&Htt.has(n.charCodeAt(e));)e++}}ZI.parse=Wtt;var v_={},Utt=ue&&ue.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(v_,"__esModule",{value:!0});v_.generate=v_.compile=void 0;var NY=Utt(Og);function jtt(n){var e=n[0],t=n[1]-1;if(t<0&&e<=0)return NY.default.falseFunc;if(e===-1)return function(o){return o<=t};if(e===0)return function(o){return o===t};if(e===1)return t<0?NY.default.trueFunc:function(o){return o>=t};var r=Math.abs(e),i=(t%r+r)%r;return e>1?function(o){return o>=t&&o%r===i}:function(o){return o<=t&&o%r===i}}v_.compile=jtt;function qtt(n){var e=n[0],t=n[1]-1,r=0;if(e<0){var i=-e,o=(t%i+i)%i;return function(){var s=o+i*r++;return s>t?null:s}}return e===0?t<0?function(){return null}:function(){return r++===0?t:null}:(t<0&&(t+=e*Math.ceil(-t/e)),function(){return e*r+++t})}v_.generate=qtt;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.sequence=n.generate=n.compile=n.parse=void 0;var e=ZI;Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return e.parse}});var t=v_;Object.defineProperty(n,"compile",{enumerable:!0,get:function(){return t.compile}}),Object.defineProperty(n,"generate",{enumerable:!0,get:function(){return t.generate}});function r(o){return(0,t.compile)((0,e.parse)(o))}n.default=r;function i(o){return(0,t.generate)((0,e.parse)(o))}n.sequence=i})(Kce);(function(n){var e=ue&&ue.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.filters=void 0;var t=e(Kce),r=e(Og);function i(s,a){return function(u){var l=a.getParent(u);return l!=null&&a.isTag(l)&&s(u)}}n.filters={contains:function(s,a,u){var l=u.adapter;return function(h){return s(h)&&l.getText(h).includes(a)}},icontains:function(s,a,u){var l=u.adapter,c=a.toLowerCase();return function(d){return s(d)&&l.getText(d).toLowerCase().includes(c)}},"nth-child":function(s,a,u){var l=u.adapter,c=u.equals,h=(0,t.default)(a);return h===r.default.falseFunc?r.default.falseFunc:h===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=0;_<v.length&&!c(p,v[_]);_++)l.isTag(v[_])&&m++;return h(m)&&s(p)}},"nth-last-child":function(s,a,u){var l=u.adapter,c=u.equals,h=(0,t.default)(a);return h===r.default.falseFunc?r.default.falseFunc:h===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=v.length-1;_>=0&&!c(p,v[_]);_--)l.isTag(v[_])&&m++;return h(m)&&s(p)}},"nth-of-type":function(s,a,u){var l=u.adapter,c=u.equals,h=(0,t.default)(a);return h===r.default.falseFunc?r.default.falseFunc:h===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=0;_<v.length;_++){var b=v[_];if(c(p,b))break;l.isTag(b)&&l.getName(b)===l.getName(p)&&m++}return h(m)&&s(p)}},"nth-last-of-type":function(s,a,u){var l=u.adapter,c=u.equals,h=(0,t.default)(a);return h===r.default.falseFunc?r.default.falseFunc:h===r.default.trueFunc?i(s,l):function(p){for(var v=l.getSiblings(p),m=0,_=v.length-1;_>=0;_--){var b=v[_];if(c(p,b))break;l.isTag(b)&&l.getName(b)===l.getName(p)&&m++}return h(m)&&s(p)}},root:function(s,a,u){var l=u.adapter;return function(c){var h=l.getParent(c);return(h==null||!l.isTag(h))&&s(c)}},scope:function(s,a,u,l){var c=u.equals;return!l||l.length===0?n.filters.root(s,a,u):l.length===1?function(h){return c(l[0],h)&&s(h)}:function(h){return l.includes(h)&&s(h)}},hover:o("isHovered"),visited:o("isVisited"),active:o("isActive")};function o(s){return function(u,l,c){var h=c.adapter,d=h[s];return typeof d!="function"?r.default.falseFunc:function(v){return d(v)&&u(v)}}}})($ce);var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.verifyPseudoArgs=m_.pseudos=void 0;m_.pseudos={empty:function(n,e){var t=e.adapter;return!t.getChildren(n).some(function(r){return t.isTag(r)||t.getText(r)!==""})},"first-child":function(n,e){var t=e.adapter,r=e.equals;if(t.prevElementSibling)return t.prevElementSibling(n)==null;var i=t.getSiblings(n).find(function(o){return t.isTag(o)});return i!=null&&r(n,i)},"last-child":function(n,e){for(var t=e.adapter,r=e.equals,i=t.getSiblings(n),o=i.length-1;o>=0;o--){if(r(n,i[o]))return!0;if(t.isTag(i[o]))break}return!1},"first-of-type":function(n,e){for(var t=e.adapter,r=e.equals,i=t.getSiblings(n),o=t.getName(n),s=0;s<i.length;s++){var a=i[s];if(r(n,a))return!0;if(t.isTag(a)&&t.getName(a)===o)break}return!1},"last-of-type":function(n,e){for(var t=e.adapter,r=e.equals,i=t.getSiblings(n),o=t.getName(n),s=i.length-1;s>=0;s--){var a=i[s];if(r(n,a))return!0;if(t.isTag(a)&&t.getName(a)===o)break}return!1},"only-of-type":function(n,e){var t=e.adapter,r=e.equals,i=t.getName(n);return t.getSiblings(n).every(function(o){return r(n,o)||!t.isTag(o)||t.getName(o)!==i})},"only-child":function(n,e){var t=e.adapter,r=e.equals;return t.getSiblings(n).every(function(i){return r(n,i)||!t.isTag(i)})}};function ztt(n,e,t,r){if(t===null){if(n.length>r)throw new Error("Pseudo-class :".concat(e," requires an argument"))}else if(n.length===r)throw new Error("Pseudo-class :".concat(e," doesn't have any arguments"))}m_.verifyPseudoArgs=ztt;var JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.aliases=void 0;JI.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var ex={};(function(n){var e=ue&&ue.__spreadArray||function(l,c,h){if(h||arguments.length===2)for(var d=0,p=c.length,v;d<p;d++)(v||!(d in c))&&(v||(v=Array.prototype.slice.call(c,0,d)),v[d]=c[d]);return l.concat(v||Array.prototype.slice.call(c))},t=ue&&ue.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.subselects=n.getNextSiblings=n.ensureIsTag=n.PLACEHOLDER_ELEMENT=void 0;var r=t(Og),i=l0;n.PLACEHOLDER_ELEMENT={};function o(l,c){return l===r.default.falseFunc?r.default.falseFunc:function(h){return c.isTag(h)&&l(h)}}n.ensureIsTag=o;function s(l,c){var h=c.getSiblings(l);if(h.length<=1)return[];var d=h.indexOf(l);return d<0||d===h.length-1?[]:h.slice(d+1).filter(c.isTag)}n.getNextSiblings=s;function a(l){return{xmlMode:!!l.xmlMode,lowerCaseAttributeNames:!!l.lowerCaseAttributeNames,lowerCaseTags:!!l.lowerCaseTags,quirksMode:!!l.quirksMode,cacheResults:!!l.cacheResults,pseudos:l.pseudos,adapter:l.adapter,equals:l.equals}}var u=function(l,c,h,d,p){var v=p(c,a(h),d);return v===r.default.trueFunc?l:v===r.default.falseFunc?r.default.falseFunc:function(m){return v(m)&&l(m)}};n.subselects={is:u,matches:u,where:u,not:function(l,c,h,d,p){var v=p(c,a(h),d);return v===r.default.falseFunc?l:v===r.default.trueFunc?r.default.falseFunc:function(m){return!v(m)&&l(m)}},has:function(l,c,h,d,p){var v=h.adapter,m=a(h);m.relativeSelector=!0;var _=c.some(function(A){return A.some(i.isTraversal)})?[n.PLACEHOLDER_ELEMENT]:void 0,b=p(c,m,_);if(b===r.default.falseFunc)return r.default.falseFunc;var C=o(b,v);if(_&&b!==r.default.trueFunc){var E=b.shouldTestNextSiblings,S=E===void 0?!1:E;return function(A){if(!l(A))return!1;_[0]=A;var T=v.getChildren(A),N=S?e(e([],T,!0),s(A,v),!0):T;return v.existsOne(C,N)}}return function(A){return l(A)&&v.existsOne(C,v.getChildren(A))}}}})(ex);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.compilePseudoSelector=n.aliases=n.pseudos=n.filters=void 0;var e=nw,t=$ce;Object.defineProperty(n,"filters",{enumerable:!0,get:function(){return t.filters}});var r=m_;Object.defineProperty(n,"pseudos",{enumerable:!0,get:function(){return r.pseudos}});var i=JI;Object.defineProperty(n,"aliases",{enumerable:!0,get:function(){return i.aliases}});var o=ex;function s(a,u,l,c,h){var d,p=u.name,v=u.data;if(Array.isArray(v)){if(!(p in o.subselects))throw new Error("Unknown pseudo-class :".concat(p,"(").concat(v,")"));return o.subselects[p](a,v,l,c,h)}var m=(d=l.pseudos)===null||d===void 0?void 0:d[p],_=typeof m=="string"?m:i.aliases[p];if(typeof _=="string"){if(v!=null)throw new Error("Pseudo ".concat(p," doesn't have any arguments"));var b=(0,e.parse)(_);return o.subselects.is(a,b,l,c,h)}if(typeof m=="function")return(0,r.verifyPseudoArgs)(m,p,v,1),function(E){return m(E,v)&&a(E)};if(p in t.filters)return t.filters[p](a,v,l,c);if(p in r.pseudos){var C=r.pseudos[p];return(0,r.verifyPseudoArgs)(C,p,v,2),function(E){return C(E,l,v)&&a(E)}}throw new Error("Unknown pseudo-class :".concat(p))}n.compilePseudoSelector=s})(V9);Object.defineProperty(XI,"__esModule",{value:!0});XI.compileGeneralSelector=void 0;var Gtt=QI,$tt=V9,ou=nw;function AR(n,e){var t=e.getParent(n);return t&&e.isTag(t)?t:null}function Ktt(n,e,t,r,i){var o=t.adapter,s=t.equals;switch(e.type){case ou.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case ou.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case ou.SelectorType.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!t.xmlMode||t.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),Gtt.attributeRules[e.action](n,e,t)}case ou.SelectorType.Pseudo:return(0,$tt.compilePseudoSelector)(n,e,t,r,i);case ou.SelectorType.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var a=e.name;return(!t.xmlMode||t.lowerCaseTags)&&(a=a.toLowerCase()),function(c){return o.getName(c)===a&&n(c)}}case ou.SelectorType.Descendant:{if(t.cacheResults===!1||typeof WeakSet>"u")return function(c){for(var h=c;h=AR(h,o);)if(n(h))return!0;return!1};var u=new WeakSet;return function(c){for(var h=c;h=AR(h,o);)if(!u.has(h)){if(o.isTag(h)&&n(h))return!0;u.add(h)}return!1}}case"_flexibleDescendant":return function(c){var h=c;do if(n(h))return!0;while(h=AR(h,o));return!1};case ou.SelectorType.Parent:return function(c){return o.getChildren(c).some(function(h){return o.isTag(h)&&n(h)})};case ou.SelectorType.Child:return function(c){var h=o.getParent(c);return h!=null&&o.isTag(h)&&n(h)};case ou.SelectorType.Sibling:return function(c){for(var h=o.getSiblings(c),d=0;d<h.length;d++){var p=h[d];if(s(c,p))break;if(o.isTag(p)&&n(p))return!0}return!1};case ou.SelectorType.Adjacent:return o.prevElementSibling?function(c){var h=o.prevElementSibling(c);return h!=null&&n(h)}:function(c){for(var h=o.getSiblings(c),d,p=0;p<h.length;p++){var v=h[p];if(s(c,v))break;o.isTag(v)&&(d=v)}return!!d&&n(d)};case ou.SelectorType.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return n}}}XI.compileGeneralSelector=Ktt;var Ytt=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Xtt=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Qtt=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Ytt(e,n,t);return Xtt(e,n),e},Ztt=ue&&ue.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gh,"__esModule",{value:!0});gh.compileToken=gh.compileUnsafe=gh.compile=void 0;var Dc=nw,Qf=Ztt(Og),EF=Qtt(l0),Jtt=XI,Yce=ex;function ent(n,e,t){var r=Xce(n,e,t);return(0,Yce.ensureIsTag)(r,e.adapter)}gh.compile=ent;function Xce(n,e,t){var r=typeof n=="string"?(0,Dc.parse)(n):n;return W9(r,e,t)}gh.compileUnsafe=Xce;function Qce(n){return n.type===Dc.SelectorType.Pseudo&&(n.name==="scope"||Array.isArray(n.data)&&n.data.some(function(e){return e.some(Qce)}))}var tnt={type:Dc.SelectorType.Descendant},nnt={type:"_flexibleDescendant"},rnt={type:Dc.SelectorType.Pseudo,name:"scope",data:null};function int(n,e,t){for(var r=e.adapter,i=!!(t!=null&&t.every(function(u){var l=r.isTag(u)&&r.getParent(u);return u===Yce.PLACEHOLDER_ELEMENT||l&&r.isTag(l)})),o=0,s=n;o<s.length;o++){var a=s[o];if(!(a.length>0&&(0,EF.isTraversal)(a[0])&&a[0].type!==Dc.SelectorType.Descendant))if(i&&!a.some(Qce))a.unshift(tnt);else continue;a.unshift(rnt)}}function W9(n,e,t){var r;n.forEach(EF.default),t=(r=e.context)!==null&&r!==void 0?r:t;var i=Array.isArray(t),o=t&&(Array.isArray(t)?t:[t]);if(e.relativeSelector!==!1)int(n,e,o);else if(n.some(function(u){return u.length>0&&(0,EF.isTraversal)(u[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var s=!1,a=n.map(function(u){if(u.length>=2){var l=u[0],c=u[1];l.type!==Dc.SelectorType.Pseudo||l.name!=="scope"||(i&&c.type===Dc.SelectorType.Descendant?u[1]=nnt:(c.type===Dc.SelectorType.Adjacent||c.type===Dc.SelectorType.Sibling)&&(s=!0))}return ont(u,e,o)}).reduce(snt,Qf.default.falseFunc);return a.shouldTestNextSiblings=s,a}gh.compileToken=W9;function ont(n,e,t){var r;return n.reduce(function(i,o){return i===Qf.default.falseFunc?Qf.default.falseFunc:(0,Jtt.compileGeneralSelector)(i,o,e,t,W9)},(r=e.rootFunc)!==null&&r!==void 0?r:Qf.default.trueFunc)}function snt(n,e){return e===Qf.default.falseFunc||n===Qf.default.trueFunc?n:n===Qf.default.falseFunc||e===Qf.default.trueFunc?e:function(r){return n(r)||e(r)}}(function(n){var e=ue&&ue.__createBinding||(Object.create?function(C,E,S,A){A===void 0&&(A=S);var T=Object.getOwnPropertyDescriptor(E,S);(!T||("get"in T?!E.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(C,A,T)}:function(C,E,S,A){A===void 0&&(A=S),C[A]=E[S]}),t=ue&&ue.__setModuleDefault||(Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E}),r=ue&&ue.__importStar||function(C){if(C&&C.__esModule)return C;var E={};if(C!=null)for(var S in C)S!=="default"&&Object.prototype.hasOwnProperty.call(C,S)&&e(E,C,S);return t(E,C),E},i=ue&&ue.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(n,"__esModule",{value:!0}),n.aliases=n.pseudos=n.filters=n.is=n.selectOne=n.selectAll=n.prepareContext=n._compileToken=n._compileUnsafe=n.compile=void 0;var o=r(Du),s=i(Og),a=gh,u=ex,l=function(C,E){return C===E},c={adapter:o,equals:l};function h(C){var E,S,A,T,N=C??c;return(E=N.adapter)!==null&&E!==void 0||(N.adapter=o),(S=N.equals)!==null&&S!==void 0||(N.equals=(T=(A=N.adapter)===null||A===void 0?void 0:A.equals)!==null&&T!==void 0?T:l),N}function d(C){return function(S,A,T){var N=h(A);return C(S,N,T)}}n.compile=d(a.compile),n._compileUnsafe=d(a.compileUnsafe),n._compileToken=d(a.compileToken);function p(C){return function(S,A,T){var N=h(T);typeof S!="function"&&(S=(0,a.compileUnsafe)(S,N,A));var k=v(A,N.adapter,S.shouldTestNextSiblings);return C(S,k,N)}}function v(C,E,S){return S===void 0&&(S=!1),S&&(C=m(C,E)),Array.isArray(C)?E.removeSubsets(C):E.getChildren(C)}n.prepareContext=v;function m(C,E){for(var S=Array.isArray(C)?C.slice(0):[C],A=S.length,T=0;T<A;T++){var N=(0,u.getNextSiblings)(S[T],E);S.push.apply(S,N)}return S}n.selectAll=p(function(C,E,S){return C===s.default.falseFunc||!E||E.length===0?[]:S.adapter.findAll(C,E)}),n.selectOne=p(function(C,E,S){return C===s.default.falseFunc||!E||E.length===0?null:S.adapter.findOne(C,E)});function _(C,E,S){var A=h(S);return(typeof E=="function"?E:(0,a.compile)(E,A))(C)}n.is=_,n.default=n.selectAll;var b=V9;Object.defineProperty(n,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(n,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(n,"aliases",{enumerable:!0,get:function(){return b.aliases}})})(wF);var __={},U9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLimit=n.isFilter=n.filterNames=void 0,n.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function e(r){return r.type!=="pseudo"?!1:n.filterNames.has(r.name)?!0:r.name==="not"&&Array.isArray(r.data)?r.data.some(function(i){return i.some(e)}):!1}n.isFilter=e;function t(r,i,o){var s=i!=null?parseInt(i,10):NaN;switch(r){case"first":return 1;case"nth":case"eq":return isFinite(s)?s>=0?s+1:1/0:0;case"lt":return isFinite(s)?s>=0?Math.min(s,o):1/0:0;case"gt":return isFinite(s)?1/0:0;case"odd":return 2*o;case"even":return 2*o-1;case"last":case"not":return 1/0}}n.getLimit=t})(U9);Object.defineProperty(__,"__esModule",{value:!0});__.groupSelectors=__.getDocumentRoot=void 0;var ant=U9;function unt(n){for(;n.parent;)n=n.parent;return n}__.getDocumentRoot=unt;function lnt(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var o=i[r];o.some(ant.isFilter)?e.push(o):t.push(o)}return[t,e]}__.groupSelectors=lnt;(function(n){var e=ue&&ue.__assign||function(){return e=Object.assign||function(L){for(var O,P=1,B=arguments.length;P<B;P++){O=arguments[P];for(var U in O)Object.prototype.hasOwnProperty.call(O,U)&&(L[U]=O[U])}return L},e.apply(this,arguments)},t=ue&&ue.__createBinding||(Object.create?function(L,O,P,B){B===void 0&&(B=P);var U=Object.getOwnPropertyDescriptor(O,P);(!U||("get"in U?!O.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(L,B,U)}:function(L,O,P,B){B===void 0&&(B=P),L[B]=O[P]}),r=ue&&ue.__setModuleDefault||(Object.create?function(L,O){Object.defineProperty(L,"default",{enumerable:!0,value:O})}:function(L,O){L.default=O}),i=ue&&ue.__importStar||function(L){if(L&&L.__esModule)return L;var O={};if(L!=null)for(var P in L)P!=="default"&&Object.prototype.hasOwnProperty.call(L,P)&&t(O,L,P);return r(O,L),O},o=ue&&ue.__spreadArray||function(L,O,P){if(P||arguments.length===2)for(var B=0,U=O.length,$;B<U;B++)($||!(B in O))&&($||($=Array.prototype.slice.call(O,0,B)),$[B]=O[B]);return L.concat($||Array.prototype.slice.call(O))};Object.defineProperty(n,"__esModule",{value:!0}),n.select=n.filter=n.some=n.is=n.aliases=n.pseudos=n.filters=void 0;var s=nw,a=wF,u=i(Du),l=i(Og),c=__,h=U9,d=wF;Object.defineProperty(n,"filters",{enumerable:!0,get:function(){return d.filters}}),Object.defineProperty(n,"pseudos",{enumerable:!0,get:function(){return d.pseudos}}),Object.defineProperty(n,"aliases",{enumerable:!0,get:function(){return d.aliases}});var p={type:s.SelectorType.Universal,namespace:null},v={type:s.SelectorType.Pseudo,name:"scope",data:null};function m(L,O,P){return P===void 0&&(P={}),_([L],O,P)}n.is=m;function _(L,O,P){if(P===void 0&&(P={}),typeof O=="function")return L.some(O);var B=(0,c.groupSelectors)((0,s.parse)(O)),U=B[0],$=B[1];return U.length>0&&L.some((0,a._compileToken)(U,P))||$.some(function(te){return S(te,L,P).length>0})}n.some=_;function b(L,O,P,B){var U=typeof P=="string"?parseInt(P,10):NaN;switch(L){case"first":case"lt":return O;case"last":return O.length>0?[O[O.length-1]]:O;case"nth":case"eq":return isFinite(U)&&Math.abs(U)<O.length?[U<0?O[O.length+U]:O[U]]:[];case"gt":return isFinite(U)?O.slice(U+1):[];case"even":return O.filter(function(te,ne){return ne%2===0});case"odd":return O.filter(function(te,ne){return ne%2===1});case"not":{var $=new Set(E(P,O,B));return O.filter(function(te){return!$.has(te)})}}}function C(L,O,P){return P===void 0&&(P={}),E((0,s.parse)(L),O,P)}n.filter=C;function E(L,O,P){if(O.length===0)return[];var B=(0,c.groupSelectors)(L),U=B[0],$=B[1],te;if(U.length){var ne=F(O,U,P);if($.length===0)return ne;ne.length&&(te=new Set(ne))}for(var ie=0;ie<$.length&&(te==null?void 0:te.size)!==O.length;ie++){var pe=$[ie],ke=te?O.filter(function(ft){return u.isTag(ft)&&!te.has(ft)}):O;if(ke.length===0)break;var ne=S(pe,O,P);if(ne.length)if(te)ne.forEach(function(ft){return te.add(ft)});else{if(ie===$.length-1)return ne;te=new Set(ne)}}return typeof te<"u"?te.size===O.length?O:O.filter(function(qe){return te.has(qe)}):[]}function S(L,O,P){var B;if(L.some(s.isTraversal)){var U=(B=P.root)!==null&&B!==void 0?B:(0,c.getDocumentRoot)(O[0]),$=e(e({},P),{context:O,relativeSelector:!1});return L.push(v),T(U,L,$,!0,O.length)}return T(O,L,P,!1,O.length)}function A(L,O,P,B){if(P===void 0&&(P={}),B===void 0&&(B=1/0),typeof L=="function")return k(O,L);var U=(0,c.groupSelectors)((0,s.parse)(L)),$=U[0],te=U[1],ne=te.map(function(ie){return T(O,ie,P,!0,B)});return $.length&&ne.push(N(O,$,P,B)),ne.length===0?[]:ne.length===1?ne[0]:u.uniqueSort(ne.reduce(function(ie,pe){return o(o([],ie,!0),pe,!0)}))}n.select=A;function T(L,O,P,B,U){var $=O.findIndex(h.isFilter),te=O.slice(0,$),ne=O[$],ie=O.length-1===$?U:1/0,pe=(0,h.getLimit)(ne.name,ne.data,ie);if(pe===0)return[];var ke=te.length===0&&!Array.isArray(L)?u.getChildren(L).filter(u.isTag):te.length===0?(Array.isArray(L)?L:[L]).filter(u.isTag):B||te.some(s.isTraversal)?N(L,[te],P,pe):F(L,[te],P),qe=ke.slice(0,pe),ft=b(ne.name,qe,ne.data,P);if(ft.length===0||O.length===$+1)return ft;var ze=O.slice($+1),dt=ze.some(s.isTraversal);if(dt){if((0,s.isTraversal)(ze[0])){var Ci=ze[0].type;(Ci===s.SelectorType.Sibling||Ci===s.SelectorType.Adjacent)&&(ft=(0,a.prepareContext)(ft,u,!0)),ze.unshift(p)}P=e(e({},P),{relativeSelector:!1,rootFunc:function(q){return ft.includes(q)}})}else P.rootFunc&&P.rootFunc!==l.trueFunc&&(P=e(e({},P),{rootFunc:l.trueFunc}));return ze.some(h.isFilter)?T(ft,ze,P,!1,U):dt?N(ft,[ze],P,U):F(ft,[ze],P)}function N(L,O,P,B){var U=(0,a._compileToken)(O,P,L);return k(L,U,B)}function k(L,O,P){P===void 0&&(P=1/0);var B=(0,a.prepareContext)(L,u,O.shouldTestNextSiblings);return u.find(function(U){return u.isTag(U)&&O(U)},B,!0,P)}function F(L,O,P){var B=(Array.isArray(L)?L:[L]).filter(u.isTag);if(B.length===0)return B;var U=(0,a._compileToken)(O,P);return U===l.trueFunc?B:B.filter(U)}})(Bce);var cnt=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),fnt=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),hnt=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&cnt(e,n,t);return fnt(e,n),e},SF=ue&&ue.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty($e,"__esModule",{value:!0});$e.addBack=$e.add=$e.end=$e.slice=$e.index=$e.toArray=$e.get=$e.eq=$e.last=$e.first=$e.has=$e.not=$e.is=$e.filterArray=$e.filter=$e.map=$e.each=$e.contents=$e.children=$e.siblings=$e.prevUntil=$e.prevAll=$e.prev=$e.nextUntil=$e.nextAll=$e.next=$e.closest=$e.parentsUntil=$e.parents=$e.parent=$e.find=void 0;var tx=No,c0=hnt(Bce),ku=Ng,dnt=Rr,Fl=Du,pnt=/^\s*[~+]/;function gnt(n){var e;if(!n)return this._make([]);var t=this.toArray();if(typeof n!="string"){var r=(0,ku.isCheerio)(n)?n.toArray():[n];return this._make(r.filter(function(s){return t.some(function(a){return(0,dnt.contains)(a,s)})}))}var i=pnt.test(n)?t:this.children().toArray(),o={context:t,root:(e=this._root)===null||e===void 0?void 0:e[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(c0.select(n,i,o))}$e.find=gnt;function j9(n){return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(i){var o,s=n(e,this);return i&&(s=G9(s,i,this.options.xmlMode,(o=this._root)===null||o===void 0?void 0:o[0])),this._make(this.length>1&&s.length>1?t.reduce(function(a,u){return u(a)},s):s)}}}var rw=j9(function(n,e){for(var t,r=[],i=0;i<e.length;i++){var o=n(e[i]);r.push(o)}return(t=new Array).concat.apply(t,r)}),q9=j9(function(n,e){for(var t=[],r=0;r<e.length;r++){var i=n(e[r]);i!==null&&t.push(i)}return t});function z9(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=null,i=j9(function(o,s){var a=[];return(0,ku.domEach)(s,function(u){for(var l;(l=o(u))&&!(r!=null&&r(l,a.length));u=l)a.push(l)}),a}).apply(void 0,SF([n],e,!1));return function(o,s){var a=this;r=typeof o=="string"?function(l){return c0.is(l,o,a.options)}:o?iw(o):null;var u=i.call(this,s);return r=null,u}}function f0(n){return Array.from(new Set(n))}$e.parent=q9(function(n){var e=n.parent;return e&&!(0,tx.isDocument)(e)?e:null},f0);$e.parents=rw(function(n){for(var e=[];n.parent&&!(0,tx.isDocument)(n.parent);)e.push(n.parent),n=n.parent;return e},Fl.uniqueSort,function(n){return n.reverse()});$e.parentsUntil=z9(function(n){var e=n.parent;return e&&!(0,tx.isDocument)(e)?e:null},Fl.uniqueSort,function(n){return n.reverse()});function vnt(n){var e,t=[];if(!n)return this._make(t);var r={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},i=typeof n=="string"?function(o){return c0.is(o,n,r)}:iw(n);return(0,ku.domEach)(this,function(o){for(;o&&(0,ku.isTag)(o);){if(i(o,0)){t.includes(o)||t.push(o);break}o=o.parent}}),this._make(t)}$e.closest=vnt;$e.next=q9(function(n){return(0,Fl.nextElementSibling)(n)});$e.nextAll=rw(function(n){for(var e=[];n.next;)n=n.next,(0,ku.isTag)(n)&&e.push(n);return e},f0);$e.nextUntil=z9(function(n){return(0,Fl.nextElementSibling)(n)},f0);$e.prev=q9(function(n){return(0,Fl.prevElementSibling)(n)});$e.prevAll=rw(function(n){for(var e=[];n.prev;)n=n.prev,(0,ku.isTag)(n)&&e.push(n);return e},f0);$e.prevUntil=z9(function(n){return(0,Fl.prevElementSibling)(n)},f0);$e.siblings=rw(function(n){return(0,Fl.getSiblings)(n).filter(function(e){return(0,ku.isTag)(e)&&e!==n})},Fl.uniqueSort);$e.children=rw(function(n){return(0,Fl.getChildren)(n).filter(ku.isTag)},f0);function mnt(){var n=this.toArray().reduce(function(e,t){return(0,tx.hasChildren)(t)?e.concat(t.children):e},[]);return this._make(n)}$e.contents=mnt;function _nt(n){for(var e=0,t=this.length;e<t&&n.call(this[e],e,this[e])!==!1;)++e;return this}$e.each=_nt;function ynt(n){for(var e=[],t=0;t<this.length;t++){var r=this[t],i=n.call(r,t,r);i!=null&&(e=e.concat(i))}return this._make(e)}$e.map=ynt;function iw(n){return typeof n=="function"?function(e,t){return n.call(e,t,e)}:(0,ku.isCheerio)(n)?function(e){return Array.prototype.includes.call(n,e)}:function(e){return n===e}}function bnt(n){var e;return this._make(G9(this.toArray(),n,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}$e.filter=bnt;function G9(n,e,t,r){return typeof e=="string"?c0.filter(e,n,{xmlMode:t,root:r}):n.filter(iw(e))}$e.filterArray=G9;function Cnt(n){var e=this.toArray();return typeof n=="string"?c0.some(e.filter(ku.isTag),n,this.options):n?e.some(iw(n)):!1}$e.is=Cnt;function wnt(n){var e=this.toArray();if(typeof n=="string"){var t=new Set(c0.filter(n,e,this.options));e=e.filter(function(i){return!t.has(i)})}else{var r=iw(n);e=e.filter(function(i,o){return!r(i,o)})}return this._make(e)}$e.not=wnt;function Ent(n){var e=this;return this.filter(typeof n=="string"?":has(".concat(n,")"):function(t,r){return e._make(r).find(n).length>0})}$e.has=Ent;function Snt(){return this.length>1?this._make(this[0]):this}$e.first=Snt;function Tnt(){return this.length>0?this._make(this[this.length-1]):this}$e.last=Tnt;function Dnt(n){var e;return n=+n,n===0&&this.length<=1?this:(n<0&&(n=this.length+n),this._make((e=this[n])!==null&&e!==void 0?e:[]))}$e.eq=Dnt;function Ant(n){return n==null?this.toArray():this[n<0?this.length+n:n]}$e.get=Ant;function Int(){return Array.prototype.slice.call(this)}$e.toArray=Int;function xnt(n){var e,t;return n==null?(e=this.parent().children(),t=this[0]):typeof n=="string"?(e=this._make(n),t=this[0]):(e=this,t=(0,ku.isCheerio)(n)?n[0]:n),Array.prototype.indexOf.call(e,t)}$e.index=xnt;function Lnt(n,e){return this._make(Array.prototype.slice.call(this,n,e))}$e.slice=Lnt;function Nnt(){var n;return(n=this.prevObject)!==null&&n!==void 0?n:this._make([])}$e.end=Nnt;function Ont(n,e){var t=this._make(n,e),r=(0,Fl.uniqueSort)(SF(SF([],this.get(),!0),t.get(),!0));return this._make(r)}$e.add=Ont;function knt(n){return this.prevObject?this.add(n?this.prevObject.filter(n):this.prevObject):this}$e.addBack=knt;var Lt={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.update=ng.getParse=void 0;var Rnt=Du,OY=No;function Pnt(n){return function(t,r,i,o){if(typeof Buffer<"u"&&Buffer.isBuffer(t)&&(t=t.toString()),typeof t=="string")return n(t,r,i,o);var s=t;if(!Array.isArray(s)&&(0,OY.isDocument)(s))return s;var a=new OY.Document([]);return Zce(s,a),a}}ng.getParse=Pnt;function Zce(n,e){var t=Array.isArray(n)?n:[n];e?e.children=t:e=null;for(var r=0;r<t.length;r++){var i=t[r];i.parent&&i.parent.children!==t&&(0,Rnt.removeElement)(i),e?(i.prev=t[r-1]||null,i.next=t[r+1]||null):i.prev=i.next=null,i.parent=e}return e}ng.update=Zce;var Mnt=ue&&ue.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.clone=Lt.text=Lt.toString=Lt.html=Lt.empty=Lt.replaceWith=Lt.remove=Lt.insertBefore=Lt.before=Lt.insertAfter=Lt.after=Lt.wrapAll=Lt.unwrap=Lt.wrapInner=Lt.wrap=Lt.prepend=Lt.append=Lt.prependTo=Lt.appendTo=Lt._makeDomArray=void 0;var Bl=No,y_=ng,kY=Rr,gi=Ng,Fnt=Du;function Bnt(n,e){var t=this;return n==null?[]:(0,gi.isCheerio)(n)?e?(0,gi.cloneDom)(n.get()):n.get():Array.isArray(n)?n.reduce(function(r,i){return r.concat(t._makeDomArray(i,e))},[]):typeof n=="string"?this._parse(n,this.options,!1,null).children:e?(0,gi.cloneDom)([n]):[n]}Lt._makeDomArray=Bnt;function Jce(n){return function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.length-1;return(0,gi.domEach)(this,function(o,s){if((0,Bl.hasChildren)(o)){var a=typeof t[0]=="function"?t[0].call(o,s,e._render(o.children)):t,u=e._makeDomArray(a,s<i);n(u,o.children,o)}})}}function Jh(n,e,t,r,i){for(var o,s,a=Mnt([e,t],r,!0),u=e===0?null:n[e-1],l=e+t>=n.length?null:n[e+t],c=0;c<r.length;++c){var h=r[c],d=h.parent;if(d){var p=d.children,v=p.indexOf(h);v>-1&&(d.children.splice(v,1),i===d&&e>v&&a[0]--)}h.parent=i,h.prev&&(h.prev.next=(o=h.next)!==null&&o!==void 0?o:null),h.next&&(h.next.prev=(s=h.prev)!==null&&s!==void 0?s:null),h.prev=c===0?u:r[c-1],h.next=c===r.length-1?l:r[c+1]}return u&&(u.next=r[0]),l&&(l.prev=r[r.length-1]),n.splice.apply(n,a)}function Hnt(n){var e=(0,gi.isCheerio)(n)?n:this._make(n);return e.append(this),this}Lt.appendTo=Hnt;function Vnt(n){var e=(0,gi.isCheerio)(n)?n:this._make(n);return e.prepend(this),this}Lt.prependTo=Vnt;Lt.append=Jce(function(n,e,t){Jh(e,e.length,0,n,t)});Lt.prepend=Jce(function(n,e,t){Jh(e,0,0,n,t)});function efe(n){return function(e){for(var t=this.length-1,r=this.parents().last(),i=0;i<this.length;i++){var o=this[i],s=typeof e=="function"?e.call(o,i,o):typeof e=="string"&&!(0,gi.isHtml)(e)?r.find(e).clone():e,a=this._makeDomArray(s,i<t)[0];if(!(!a||!(0,Bl.hasChildren)(a))){for(var u=a,l=0;l<u.children.length;){var c=u.children[l];(0,gi.isTag)(c)?(u=c,l=0):l++}n(o,u,[a])}}return this}}Lt.wrap=efe(function(n,e,t){var r=n.parent;if(r){var i=r.children,o=i.indexOf(n);(0,y_.update)([n],e),Jh(i,o,0,t,r)}});Lt.wrapInner=efe(function(n,e,t){(0,Bl.hasChildren)(n)&&((0,y_.update)(n.children,e),(0,y_.update)(t,n))});function Wnt(n){var e=this;return this.parent(n).not("body").each(function(t,r){e._make(r).replaceWith(r.children)}),this}Lt.unwrap=Wnt;function Unt(n){var e=this[0];if(e){for(var t=this._make(typeof n=="function"?n.call(e,0,e):n).insertBefore(e),r=void 0,i=0;i<t.length;i++)t[i].type==="tag"&&(r=t[i]);for(var o=0;r&&o<r.children.length;){var s=r.children[o];s.type==="tag"?(r=s,o=0):o++}r&&this._make(r).append(this)}return this}Lt.wrapAll=Unt;function jnt(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.length-1;return(0,gi.domEach)(this,function(i,o){var s=i.parent;if(!(!(0,Bl.hasChildren)(i)||!s)){var a=s.children,u=a.indexOf(i);if(!(u<0)){var l=typeof e[0]=="function"?e[0].call(i,o,n._render(i.children)):e,c=n._makeDomArray(l,o<r);Jh(a,u+1,0,c,s)}}})}Lt.after=jnt;function qnt(n){var e=this;typeof n=="string"&&(n=this._make(n)),this.remove();var t=[];return this._makeDomArray(n).forEach(function(r){var i=e.clone().toArray(),o=r.parent;if(o){var s=o.children,a=s.indexOf(r);a<0||(Jh(s,a+1,0,i,o),t.push.apply(t,i))}}),this._make(t)}Lt.insertAfter=qnt;function znt(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.length-1;return(0,gi.domEach)(this,function(i,o){var s=i.parent;if(!(!(0,Bl.hasChildren)(i)||!s)){var a=s.children,u=a.indexOf(i);if(!(u<0)){var l=typeof e[0]=="function"?e[0].call(i,o,n._render(i.children)):e,c=n._makeDomArray(l,o<r);Jh(a,u,0,c,s)}}})}Lt.before=znt;function Gnt(n){var e=this,t=this._make(n);this.remove();var r=[];return(0,gi.domEach)(t,function(i){var o=e.clone().toArray(),s=i.parent;if(s){var a=s.children,u=a.indexOf(i);u<0||(Jh(a,u,0,o,s),r.push.apply(r,o))}}),this._make(r)}Lt.insertBefore=Gnt;function $nt(n){var e=n?this.filter(n):this;return(0,gi.domEach)(e,function(t){(0,Fnt.removeElement)(t),t.prev=t.next=t.parent=null}),this}Lt.remove=$nt;function Knt(n){var e=this;return(0,gi.domEach)(this,function(t,r){var i=t.parent;if(i){var o=i.children,s=typeof n=="function"?n.call(t,r,t):n,a=e._makeDomArray(s);(0,y_.update)(a,null);var u=o.indexOf(t);Jh(o,u,1,a,i),a.includes(t)||(t.parent=t.prev=t.next=null)}})}Lt.replaceWith=Knt;function Ynt(){return(0,gi.domEach)(this,function(n){(0,Bl.hasChildren)(n)&&(n.children.forEach(function(e){e.next=e.prev=e.parent=null}),n.children.length=0)})}Lt.empty=Ynt;function Xnt(n){var e=this;if(n===void 0){var t=this[0];return!t||!(0,Bl.hasChildren)(t)?null:this._render(t.children)}return(0,gi.domEach)(this,function(r){if((0,Bl.hasChildren)(r)){r.children.forEach(function(o){o.next=o.prev=o.parent=null});var i=(0,gi.isCheerio)(n)?n.toArray():e._parse("".concat(n),e.options,!1,r).children;(0,y_.update)(i,r)}})}Lt.html=Xnt;function Qnt(){return this._render(this)}Lt.toString=Qnt;function Znt(n){var e=this;return n===void 0?(0,kY.text)(this):typeof n=="function"?(0,gi.domEach)(this,function(t,r){return e._make(t).text(n.call(t,r,(0,kY.text)([t])))}):(0,gi.domEach)(this,function(t){if((0,Bl.hasChildren)(t)){t.children.forEach(function(i){i.next=i.prev=i.parent=null});var r=new Bl.Text("".concat(n));(0,y_.update)(r,t)}})}Lt.text=Znt;function Jnt(){return this._make((0,gi.cloneDom)(this.get()))}Lt.clone=Jnt;var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.css=void 0;var TF=Ng;function ert(n,e){if(n!=null&&e!=null||typeof n=="object"&&!Array.isArray(n))return(0,TF.domEach)(this,function(t,r){(0,TF.isTag)(t)&&tfe(t,n,e,r)});if(this.length!==0)return nfe(this[0],n)}nx.css=ert;function tfe(n,e,t,r){if(typeof e=="string"){var i=nfe(n),o=typeof t=="function"?t.call(n,r,i[e]):t;o===""?delete i[e]:o!=null&&(i[e]=o),n.attribs.style=trt(i)}else typeof e=="object"&&Object.keys(e).forEach(function(s,a){tfe(n,s,e[s],a)})}function nfe(n,e){if(!(!n||!(0,TF.isTag)(n))){var t=nrt(n.attribs.style);if(typeof e=="string")return t[e];if(Array.isArray(e)){var r={};return e.forEach(function(i){t[i]!=null&&(r[i]=t[i])}),r}return t}}function trt(n){return Object.keys(n).reduce(function(e,t){return"".concat(e).concat(e?" ":"").concat(t,": ").concat(n[t],";")},"")}function nrt(n){if(n=(n||"").trim(),!n)return{};for(var e={},t,r=0,i=n.split(";");r<i.length;r++){var o=i[r],s=o.indexOf(":");if(s<1||s===o.length-1){var a=o.trimEnd();a.length>0&&t!==void 0&&(e[t]+=";".concat(a))}else t=o.slice(0,s).trim(),e[t]=o.slice(s+1).trim()}return e}var b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.serializeArray=b_.serialize=void 0;var rrt=Ng,RY="input,select,textarea,keygen",irt=/%20/g,PY=/\r?\n/g;function ort(){var n=this.serializeArray(),e=n.map(function(t){return"".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(t.value))});return e.join("&").replace(irt,"+")}b_.serialize=ort;function srt(){var n=this;return this.map(function(e,t){var r=n._make(t);return(0,rrt.isTag)(t)&&t.name==="form"?r.find(RY).toArray():r.filter(RY).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(e,t){var r,i=n._make(t),o=i.attr("name"),s=(r=i.val())!==null&&r!==void 0?r:"";return Array.isArray(s)?s.map(function(a){return{name:o,value:a.replace(PY,`\r
`)}}):{name:o,value:s.replace(PY,`\r
`)}}).toArray()}b_.serializeArray=srt;var art=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),urt=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ow=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&art(e,n,t);return urt(e,n),e};Object.defineProperty(YI,"__esModule",{value:!0});YI.Cheerio=void 0;var lrt=ow(zr),crt=ow($e),frt=ow(Lt),hrt=ow(nx),drt=ow(b_),sw=function(){function n(e,t,r){if(this.length=0,this.options=r,this._root=t,e){for(var i=0;i<e.length;i++)this[i]=e[i];this.length=e.length}}return n}();YI.Cheerio=sw;sw.prototype.cheerio="[cheerio object]";sw.prototype.splice=Array.prototype.splice;sw.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(sw.prototype,lrt,crt,frt,hrt,drt);var prt=ue&&ue.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jv=ue&&ue.__assign||function(){return Jv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Jv.apply(this,arguments)},grt=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),vrt=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),rfe=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&grt(e,n,t);return vrt(e,n),e};Object.defineProperty(UI,"__esModule",{value:!0});UI.getLoad=void 0;var IR=rfe(s0),mrt=rfe(Rr),_rt=YI,Ay=Ng;function yrt(n,e){return function t(r,i,o){if(o===void 0&&(o=!0),r==null)throw new Error("cheerio.load() expects a string");var s=Jv(Jv({},IR.default),(0,IR.flatten)(i)),a=n(r,s,o,null),u=function(c){prt(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.prototype._make=function(d,p){var v=l(d,p);return v.prevObject=this,v},h.prototype._parse=function(d,p,v,m){return n(d,p,v,m)},h.prototype._render=function(d){return e(d,this.options)},h}(_rt.Cheerio);function l(c,h,d,p){if(d===void 0&&(d=a),c&&(0,Ay.isCheerio)(c))return c;var v=Jv(Jv({},s),(0,IR.flatten)(p)),m=typeof d=="string"?[n(d,v,!1,null)]:"length"in d?d:[d],_=(0,Ay.isCheerio)(m)?m:new u(m,null,v);if(_._root=_,!c)return new u(void 0,_,v);var b=typeof c=="string"&&(0,Ay.isHtml)(c)?n(c,v,!1,null).children:brt(c)?[c]:Array.isArray(c)?c:void 0,C=new u(b,_,v);if(b)return C;if(typeof c!="string")throw new Error("Unexpected type of selector");var E=c,S=h?typeof h=="string"?(0,Ay.isHtml)(h)?new u([n(h,v,!1,null)],_,v):(E="".concat(h," ").concat(E),_):(0,Ay.isCheerio)(h)?h:new u(Array.isArray(h)?h:[h],_,v):_;return S?S.find(E):C}return Object.assign(l,mrt,{load:t,_root:a,_options:s,fn:u.prototype,prototype:u.prototype}),l}}UI.getLoad=yrt;function brt(n){return!!n.name||n.type==="root"||n.type==="text"||n.type==="comment"}var C_={},$9={},U1={},rg={},rx={},ix={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isUndefinedCodePoint=n.isControlCodePoint=n.getSurrogatePairCodePoint=n.isSurrogatePair=n.isSurrogate=n.SEQUENCES=n.CODE_POINTS=n.REPLACEMENT_CHARACTER=void 0;const e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);n.REPLACEMENT_CHARACTER="",function(a){a[a.EOF=-1]="EOF",a[a.NULL=0]="NULL",a[a.TABULATION=9]="TABULATION",a[a.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",a[a.LINE_FEED=10]="LINE_FEED",a[a.FORM_FEED=12]="FORM_FEED",a[a.SPACE=32]="SPACE",a[a.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",a[a.QUOTATION_MARK=34]="QUOTATION_MARK",a[a.NUMBER_SIGN=35]="NUMBER_SIGN",a[a.AMPERSAND=38]="AMPERSAND",a[a.APOSTROPHE=39]="APOSTROPHE",a[a.HYPHEN_MINUS=45]="HYPHEN_MINUS",a[a.SOLIDUS=47]="SOLIDUS",a[a.DIGIT_0=48]="DIGIT_0",a[a.DIGIT_9=57]="DIGIT_9",a[a.SEMICOLON=59]="SEMICOLON",a[a.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",a[a.EQUALS_SIGN=61]="EQUALS_SIGN",a[a.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",a[a.QUESTION_MARK=63]="QUESTION_MARK",a[a.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",a[a.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",a[a.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",a[a.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",a[a.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",a[a.GRAVE_ACCENT=96]="GRAVE_ACCENT",a[a.LATIN_SMALL_A=97]="LATIN_SMALL_A",a[a.LATIN_SMALL_F=102]="LATIN_SMALL_F",a[a.LATIN_SMALL_X=120]="LATIN_SMALL_X",a[a.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",a[a.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(n.CODE_POINTS||(n.CODE_POINTS={})),n.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function t(a){return a>=55296&&a<=57343}n.isSurrogate=t;function r(a){return a>=56320&&a<=57343}n.isSurrogatePair=r;function i(a,u){return(a-55296)*1024+9216+u}n.getSurrogatePairCodePoint=i;function o(a){return a!==32&&a!==10&&a!==13&&a!==9&&a!==12&&a>=1&&a<=31||a>=127&&a<=159}n.isControlCodePoint=o;function s(a){return a>=64976&&a<=65007||e.has(a)}n.isUndefinedCodePoint=s})(ix);var aw={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERR=void 0,function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(n.ERR||(n.ERR={}))})(aw);Object.defineProperty(rx,"__esModule",{value:!0});rx.Preprocessor=void 0;const qo=ix,xR=aw,Crt=65536;class wrt{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Crt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:r,offset:i}=this;return{code:e,startLine:t,endLine:t,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if((0,qo.isSurrogatePair)(t))return this.pos++,this._addGap(),(0,qo.getSurrogatePairCodePoint)(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,qo.CODE_POINTS.EOF;return this._err(xR.ERR.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,qo.CODE_POINTS.EOF;const r=this.html.charCodeAt(t);return r===qo.CODE_POINTS.CARRIAGE_RETURN?qo.CODE_POINTS.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,qo.CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===qo.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,qo.CODE_POINTS.LINE_FEED):e===qo.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,qo.isSurrogate)(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===qo.CODE_POINTS.LINE_FEED||e===qo.CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){(0,qo.isControlCodePoint)(e)?this._err(xR.ERR.controlCharacterInInputStream):(0,qo.isUndefinedCodePoint)(e)&&this._err(xR.ERR.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}rx.Preprocessor=wrt;var ox={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenAttr=n.TokenType=void 0,function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"}(n.TokenType||(n.TokenType={}));function e(t,r){for(let i=t.attrs.length-1;i>=0;i--)if(t.attrs[i].name===r)return t.attrs[i].value;return null}n.getTokenAttr=e})(ox);var sx={},K9={};Object.defineProperty(K9,"__esModule",{value:!0});K9.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(n){return n.charCodeAt(0)}));var Y9={};Object.defineProperty(Y9,"__esModule",{value:!0});Y9.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(n){return n.charCodeAt(0)}));var DF={};(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var t=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(o){var s="";return o>65535&&(o-=65536,s+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),s+=String.fromCharCode(o),s};function r(o){var s;return o>=55296&&o<=57343||o>1114111?65533:(s=t.get(o))!==null&&s!==void 0?s:o}n.replaceCodePoint=r;function i(o){return(0,n.fromCodePoint)(r(o))}n.default=i})(DF);(function(n){var e=ue&&ue.__createBinding||(Object.create?function(O,P,B,U){U===void 0&&(U=B);var $=Object.getOwnPropertyDescriptor(P,B);(!$||("get"in $?!P.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return P[B]}}),Object.defineProperty(O,U,$)}:function(O,P,B,U){U===void 0&&(U=B),O[U]=P[B]}),t=ue&&ue.__setModuleDefault||(Object.create?function(O,P){Object.defineProperty(O,"default",{enumerable:!0,value:P})}:function(O,P){O.default=P}),r=ue&&ue.__importStar||function(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var B in O)B!=="default"&&Object.prototype.hasOwnProperty.call(O,B)&&e(P,O,B);return t(P,O),P},i=ue&&ue.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var o=i(K9);n.htmlDecodeTree=o.default;var s=i(Y9);n.xmlDecodeTree=s.default;var a=r(DF);n.decodeCodePoint=a.default;var u=DF;Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return u.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return u.fromCodePoint}});var l;(function(O){O[O.NUM=35]="NUM",O[O.SEMI=59]="SEMI",O[O.EQUALS=61]="EQUALS",O[O.ZERO=48]="ZERO",O[O.NINE=57]="NINE",O[O.LOWER_A=97]="LOWER_A",O[O.LOWER_F=102]="LOWER_F",O[O.LOWER_X=120]="LOWER_X",O[O.LOWER_Z=122]="LOWER_Z",O[O.UPPER_A=65]="UPPER_A",O[O.UPPER_F=70]="UPPER_F",O[O.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var c=32,h;(function(O){O[O.VALUE_LENGTH=49152]="VALUE_LENGTH",O[O.BRANCH_LENGTH=16256]="BRANCH_LENGTH",O[O.JUMP_TABLE=127]="JUMP_TABLE"})(h=n.BinTrieFlags||(n.BinTrieFlags={}));function d(O){return O>=l.ZERO&&O<=l.NINE}function p(O){return O>=l.UPPER_A&&O<=l.UPPER_F||O>=l.LOWER_A&&O<=l.LOWER_F}function v(O){return O>=l.UPPER_A&&O<=l.UPPER_Z||O>=l.LOWER_A&&O<=l.LOWER_Z||d(O)}function m(O){return O===l.EQUALS||v(O)}var _;(function(O){O[O.EntityStart=0]="EntityStart",O[O.NumericStart=1]="NumericStart",O[O.NumericDecimal=2]="NumericDecimal",O[O.NumericHex=3]="NumericHex",O[O.NamedEntity=4]="NamedEntity"})(_||(_={}));var b;(function(O){O[O.Legacy=0]="Legacy",O[O.Strict=1]="Strict",O[O.Attribute=2]="Attribute"})(b=n.DecodingMode||(n.DecodingMode={}));var C=function(){function O(P,B,U){this.decodeTree=P,this.emitCodePoint=B,this.errors=U,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=b.Strict}return O.prototype.startEntity=function(P){this.decodeMode=P,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},O.prototype.write=function(P,B){switch(this.state){case _.EntityStart:return P.charCodeAt(B)===l.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(P,B+1)):(this.state=_.NamedEntity,this.stateNamedEntity(P,B));case _.NumericStart:return this.stateNumericStart(P,B);case _.NumericDecimal:return this.stateNumericDecimal(P,B);case _.NumericHex:return this.stateNumericHex(P,B);case _.NamedEntity:return this.stateNamedEntity(P,B)}},O.prototype.stateNumericStart=function(P,B){return B>=P.length?-1:(P.charCodeAt(B)|c)===l.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(P,B+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(P,B))},O.prototype.addToNumericResult=function(P,B,U,$){if(B!==U){var te=U-B;this.result=this.result*Math.pow($,te)+parseInt(P.substr(B,te),$),this.consumed+=te}},O.prototype.stateNumericHex=function(P,B){for(var U=B;B<P.length;){var $=P.charCodeAt(B);if(d($)||p($))B+=1;else return this.addToNumericResult(P,U,B,16),this.emitNumericEntity($,3)}return this.addToNumericResult(P,U,B,16),-1},O.prototype.stateNumericDecimal=function(P,B){for(var U=B;B<P.length;){var $=P.charCodeAt(B);if(d($))B+=1;else return this.addToNumericResult(P,U,B,10),this.emitNumericEntity($,2)}return this.addToNumericResult(P,U,B,10),-1},O.prototype.emitNumericEntity=function(P,B){var U;if(this.consumed<=B)return(U=this.errors)===null||U===void 0||U.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(P===l.SEMI)this.consumed+=1;else if(this.decodeMode===b.Strict)return 0;return this.emitCodePoint((0,a.replaceCodePoint)(this.result),this.consumed),this.errors&&(P!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},O.prototype.stateNamedEntity=function(P,B){for(var U=this.decodeTree,$=U[this.treeIndex],te=($&h.VALUE_LENGTH)>>14;B<P.length;B++,this.excess++){var ne=P.charCodeAt(B);if(this.treeIndex=S(U,$,this.treeIndex+Math.max(1,te),ne),this.treeIndex<0)return this.result===0||this.decodeMode===b.Attribute&&(te===0||m(ne))?0:this.emitNotTerminatedNamedEntity();if($=U[this.treeIndex],te=($&h.VALUE_LENGTH)>>14,te!==0){if(ne===l.SEMI)return this.emitNamedEntityData(this.treeIndex,te,this.consumed+this.excess);this.decodeMode!==b.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},O.prototype.emitNotTerminatedNamedEntity=function(){var P,B=this,U=B.result,$=B.decodeTree,te=($[U]&h.VALUE_LENGTH)>>14;return this.emitNamedEntityData(U,te,this.consumed),(P=this.errors)===null||P===void 0||P.missingSemicolonAfterCharacterReference(),this.consumed},O.prototype.emitNamedEntityData=function(P,B,U){var $=this.decodeTree;return this.emitCodePoint(B===1?$[P]&~h.VALUE_LENGTH:$[P+1],U),B===3&&this.emitCodePoint($[P+2],U),U},O.prototype.end=function(){var P;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==b.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},O}();n.EntityDecoder=C;function E(O){var P="",B=new C(O,function(U){return P+=(0,a.fromCodePoint)(U)});return function($,te){for(var ne=0,ie=0;(ie=$.indexOf("&",ie))>=0;){P+=$.slice(ne,ie),B.startEntity(te);var pe=B.write($,ie+1);if(pe<0){ne=ie+B.end();break}ne=ie+pe,ie=pe===0?ne+1:ne}var ke=P+$.slice(ne);return P="",ke}}function S(O,P,B,U){var $=(P&h.BRANCH_LENGTH)>>7,te=P&h.JUMP_TABLE;if($===0)return te!==0&&U===te?B:-1;if(te){var ne=U-te;return ne<0||ne>=$?-1:O[B+ne]-1}for(var ie=B,pe=ie+$-1;ie<=pe;){var ke=ie+pe>>>1,qe=O[ke];if(qe<U)ie=ke+1;else if(qe>U)pe=ke-1;else return O[ke+$]}return-1}n.determineBranch=S;var A=E(o.default),T=E(s.default);function N(O,P){return P===void 0&&(P=b.Legacy),A(O,P)}n.decodeHTML=N;function k(O){return A(O,b.Attribute)}n.decodeHTMLAttribute=k;function F(O){return A(O,b.Strict)}n.decodeHTMLStrict=F;function L(O){return T(O,b.Strict)}n.decodeXML=L})(sx);var tf={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasUnescapedText=n.isNumberedHeader=n.SPECIAL_ELEMENTS=n.getTagID=n.TAG_ID=n.TAG_NAMES=n.DOCUMENT_MODE=n.ATTRS=n.NS=void 0;var e;(function(c){c.HTML="http://www.w3.org/1999/xhtml",c.MATHML="http://www.w3.org/1998/Math/MathML",c.SVG="http://www.w3.org/2000/svg",c.XLINK="http://www.w3.org/1999/xlink",c.XML="http://www.w3.org/XML/1998/namespace",c.XMLNS="http://www.w3.org/2000/xmlns/"})(e=n.NS||(n.NS={})),function(c){c.TYPE="type",c.ACTION="action",c.ENCODING="encoding",c.PROMPT="prompt",c.NAME="name",c.COLOR="color",c.FACE="face",c.SIZE="size"}(n.ATTRS||(n.ATTRS={})),function(c){c.NO_QUIRKS="no-quirks",c.QUIRKS="quirks",c.LIMITED_QUIRKS="limited-quirks"}(n.DOCUMENT_MODE||(n.DOCUMENT_MODE={}));var t;(function(c){c.A="a",c.ADDRESS="address",c.ANNOTATION_XML="annotation-xml",c.APPLET="applet",c.AREA="area",c.ARTICLE="article",c.ASIDE="aside",c.B="b",c.BASE="base",c.BASEFONT="basefont",c.BGSOUND="bgsound",c.BIG="big",c.BLOCKQUOTE="blockquote",c.BODY="body",c.BR="br",c.BUTTON="button",c.CAPTION="caption",c.CENTER="center",c.CODE="code",c.COL="col",c.COLGROUP="colgroup",c.DD="dd",c.DESC="desc",c.DETAILS="details",c.DIALOG="dialog",c.DIR="dir",c.DIV="div",c.DL="dl",c.DT="dt",c.EM="em",c.EMBED="embed",c.FIELDSET="fieldset",c.FIGCAPTION="figcaption",c.FIGURE="figure",c.FONT="font",c.FOOTER="footer",c.FOREIGN_OBJECT="foreignObject",c.FORM="form",c.FRAME="frame",c.FRAMESET="frameset",c.H1="h1",c.H2="h2",c.H3="h3",c.H4="h4",c.H5="h5",c.H6="h6",c.HEAD="head",c.HEADER="header",c.HGROUP="hgroup",c.HR="hr",c.HTML="html",c.I="i",c.IMG="img",c.IMAGE="image",c.INPUT="input",c.IFRAME="iframe",c.KEYGEN="keygen",c.LABEL="label",c.LI="li",c.LINK="link",c.LISTING="listing",c.MAIN="main",c.MALIGNMARK="malignmark",c.MARQUEE="marquee",c.MATH="math",c.MENU="menu",c.META="meta",c.MGLYPH="mglyph",c.MI="mi",c.MO="mo",c.MN="mn",c.MS="ms",c.MTEXT="mtext",c.NAV="nav",c.NOBR="nobr",c.NOFRAMES="noframes",c.NOEMBED="noembed",c.NOSCRIPT="noscript",c.OBJECT="object",c.OL="ol",c.OPTGROUP="optgroup",c.OPTION="option",c.P="p",c.PARAM="param",c.PLAINTEXT="plaintext",c.PRE="pre",c.RB="rb",c.RP="rp",c.RT="rt",c.RTC="rtc",c.RUBY="ruby",c.S="s",c.SCRIPT="script",c.SECTION="section",c.SELECT="select",c.SOURCE="source",c.SMALL="small",c.SPAN="span",c.STRIKE="strike",c.STRONG="strong",c.STYLE="style",c.SUB="sub",c.SUMMARY="summary",c.SUP="sup",c.TABLE="table",c.TBODY="tbody",c.TEMPLATE="template",c.TEXTAREA="textarea",c.TFOOT="tfoot",c.TD="td",c.TH="th",c.THEAD="thead",c.TITLE="title",c.TR="tr",c.TRACK="track",c.TT="tt",c.U="u",c.UL="ul",c.SVG="svg",c.VAR="var",c.WBR="wbr",c.XMP="xmp"})(t=n.TAG_NAMES||(n.TAG_NAMES={}));var r;(function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.A=1]="A",c[c.ADDRESS=2]="ADDRESS",c[c.ANNOTATION_XML=3]="ANNOTATION_XML",c[c.APPLET=4]="APPLET",c[c.AREA=5]="AREA",c[c.ARTICLE=6]="ARTICLE",c[c.ASIDE=7]="ASIDE",c[c.B=8]="B",c[c.BASE=9]="BASE",c[c.BASEFONT=10]="BASEFONT",c[c.BGSOUND=11]="BGSOUND",c[c.BIG=12]="BIG",c[c.BLOCKQUOTE=13]="BLOCKQUOTE",c[c.BODY=14]="BODY",c[c.BR=15]="BR",c[c.BUTTON=16]="BUTTON",c[c.CAPTION=17]="CAPTION",c[c.CENTER=18]="CENTER",c[c.CODE=19]="CODE",c[c.COL=20]="COL",c[c.COLGROUP=21]="COLGROUP",c[c.DD=22]="DD",c[c.DESC=23]="DESC",c[c.DETAILS=24]="DETAILS",c[c.DIALOG=25]="DIALOG",c[c.DIR=26]="DIR",c[c.DIV=27]="DIV",c[c.DL=28]="DL",c[c.DT=29]="DT",c[c.EM=30]="EM",c[c.EMBED=31]="EMBED",c[c.FIELDSET=32]="FIELDSET",c[c.FIGCAPTION=33]="FIGCAPTION",c[c.FIGURE=34]="FIGURE",c[c.FONT=35]="FONT",c[c.FOOTER=36]="FOOTER",c[c.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",c[c.FORM=38]="FORM",c[c.FRAME=39]="FRAME",c[c.FRAMESET=40]="FRAMESET",c[c.H1=41]="H1",c[c.H2=42]="H2",c[c.H3=43]="H3",c[c.H4=44]="H4",c[c.H5=45]="H5",c[c.H6=46]="H6",c[c.HEAD=47]="HEAD",c[c.HEADER=48]="HEADER",c[c.HGROUP=49]="HGROUP",c[c.HR=50]="HR",c[c.HTML=51]="HTML",c[c.I=52]="I",c[c.IMG=53]="IMG",c[c.IMAGE=54]="IMAGE",c[c.INPUT=55]="INPUT",c[c.IFRAME=56]="IFRAME",c[c.KEYGEN=57]="KEYGEN",c[c.LABEL=58]="LABEL",c[c.LI=59]="LI",c[c.LINK=60]="LINK",c[c.LISTING=61]="LISTING",c[c.MAIN=62]="MAIN",c[c.MALIGNMARK=63]="MALIGNMARK",c[c.MARQUEE=64]="MARQUEE",c[c.MATH=65]="MATH",c[c.MENU=66]="MENU",c[c.META=67]="META",c[c.MGLYPH=68]="MGLYPH",c[c.MI=69]="MI",c[c.MO=70]="MO",c[c.MN=71]="MN",c[c.MS=72]="MS",c[c.MTEXT=73]="MTEXT",c[c.NAV=74]="NAV",c[c.NOBR=75]="NOBR",c[c.NOFRAMES=76]="NOFRAMES",c[c.NOEMBED=77]="NOEMBED",c[c.NOSCRIPT=78]="NOSCRIPT",c[c.OBJECT=79]="OBJECT",c[c.OL=80]="OL",c[c.OPTGROUP=81]="OPTGROUP",c[c.OPTION=82]="OPTION",c[c.P=83]="P",c[c.PARAM=84]="PARAM",c[c.PLAINTEXT=85]="PLAINTEXT",c[c.PRE=86]="PRE",c[c.RB=87]="RB",c[c.RP=88]="RP",c[c.RT=89]="RT",c[c.RTC=90]="RTC",c[c.RUBY=91]="RUBY",c[c.S=92]="S",c[c.SCRIPT=93]="SCRIPT",c[c.SECTION=94]="SECTION",c[c.SELECT=95]="SELECT",c[c.SOURCE=96]="SOURCE",c[c.SMALL=97]="SMALL",c[c.SPAN=98]="SPAN",c[c.STRIKE=99]="STRIKE",c[c.STRONG=100]="STRONG",c[c.STYLE=101]="STYLE",c[c.SUB=102]="SUB",c[c.SUMMARY=103]="SUMMARY",c[c.SUP=104]="SUP",c[c.TABLE=105]="TABLE",c[c.TBODY=106]="TBODY",c[c.TEMPLATE=107]="TEMPLATE",c[c.TEXTAREA=108]="TEXTAREA",c[c.TFOOT=109]="TFOOT",c[c.TD=110]="TD",c[c.TH=111]="TH",c[c.THEAD=112]="THEAD",c[c.TITLE=113]="TITLE",c[c.TR=114]="TR",c[c.TRACK=115]="TRACK",c[c.TT=116]="TT",c[c.U=117]="U",c[c.UL=118]="UL",c[c.SVG=119]="SVG",c[c.VAR=120]="VAR",c[c.WBR=121]="WBR",c[c.XMP=122]="XMP"})(r=n.TAG_ID||(n.TAG_ID={}));const i=new Map([[t.A,r.A],[t.ADDRESS,r.ADDRESS],[t.ANNOTATION_XML,r.ANNOTATION_XML],[t.APPLET,r.APPLET],[t.AREA,r.AREA],[t.ARTICLE,r.ARTICLE],[t.ASIDE,r.ASIDE],[t.B,r.B],[t.BASE,r.BASE],[t.BASEFONT,r.BASEFONT],[t.BGSOUND,r.BGSOUND],[t.BIG,r.BIG],[t.BLOCKQUOTE,r.BLOCKQUOTE],[t.BODY,r.BODY],[t.BR,r.BR],[t.BUTTON,r.BUTTON],[t.CAPTION,r.CAPTION],[t.CENTER,r.CENTER],[t.CODE,r.CODE],[t.COL,r.COL],[t.COLGROUP,r.COLGROUP],[t.DD,r.DD],[t.DESC,r.DESC],[t.DETAILS,r.DETAILS],[t.DIALOG,r.DIALOG],[t.DIR,r.DIR],[t.DIV,r.DIV],[t.DL,r.DL],[t.DT,r.DT],[t.EM,r.EM],[t.EMBED,r.EMBED],[t.FIELDSET,r.FIELDSET],[t.FIGCAPTION,r.FIGCAPTION],[t.FIGURE,r.FIGURE],[t.FONT,r.FONT],[t.FOOTER,r.FOOTER],[t.FOREIGN_OBJECT,r.FOREIGN_OBJECT],[t.FORM,r.FORM],[t.FRAME,r.FRAME],[t.FRAMESET,r.FRAMESET],[t.H1,r.H1],[t.H2,r.H2],[t.H3,r.H3],[t.H4,r.H4],[t.H5,r.H5],[t.H6,r.H6],[t.HEAD,r.HEAD],[t.HEADER,r.HEADER],[t.HGROUP,r.HGROUP],[t.HR,r.HR],[t.HTML,r.HTML],[t.I,r.I],[t.IMG,r.IMG],[t.IMAGE,r.IMAGE],[t.INPUT,r.INPUT],[t.IFRAME,r.IFRAME],[t.KEYGEN,r.KEYGEN],[t.LABEL,r.LABEL],[t.LI,r.LI],[t.LINK,r.LINK],[t.LISTING,r.LISTING],[t.MAIN,r.MAIN],[t.MALIGNMARK,r.MALIGNMARK],[t.MARQUEE,r.MARQUEE],[t.MATH,r.MATH],[t.MENU,r.MENU],[t.META,r.META],[t.MGLYPH,r.MGLYPH],[t.MI,r.MI],[t.MO,r.MO],[t.MN,r.MN],[t.MS,r.MS],[t.MTEXT,r.MTEXT],[t.NAV,r.NAV],[t.NOBR,r.NOBR],[t.NOFRAMES,r.NOFRAMES],[t.NOEMBED,r.NOEMBED],[t.NOSCRIPT,r.NOSCRIPT],[t.OBJECT,r.OBJECT],[t.OL,r.OL],[t.OPTGROUP,r.OPTGROUP],[t.OPTION,r.OPTION],[t.P,r.P],[t.PARAM,r.PARAM],[t.PLAINTEXT,r.PLAINTEXT],[t.PRE,r.PRE],[t.RB,r.RB],[t.RP,r.RP],[t.RT,r.RT],[t.RTC,r.RTC],[t.RUBY,r.RUBY],[t.S,r.S],[t.SCRIPT,r.SCRIPT],[t.SECTION,r.SECTION],[t.SELECT,r.SELECT],[t.SOURCE,r.SOURCE],[t.SMALL,r.SMALL],[t.SPAN,r.SPAN],[t.STRIKE,r.STRIKE],[t.STRONG,r.STRONG],[t.STYLE,r.STYLE],[t.SUB,r.SUB],[t.SUMMARY,r.SUMMARY],[t.SUP,r.SUP],[t.TABLE,r.TABLE],[t.TBODY,r.TBODY],[t.TEMPLATE,r.TEMPLATE],[t.TEXTAREA,r.TEXTAREA],[t.TFOOT,r.TFOOT],[t.TD,r.TD],[t.TH,r.TH],[t.THEAD,r.THEAD],[t.TITLE,r.TITLE],[t.TR,r.TR],[t.TRACK,r.TRACK],[t.TT,r.TT],[t.U,r.U],[t.UL,r.UL],[t.SVG,r.SVG],[t.VAR,r.VAR],[t.WBR,r.WBR],[t.XMP,r.XMP]]);function o(c){var h;return(h=i.get(c))!==null&&h!==void 0?h:r.UNKNOWN}n.getTagID=o;const s=r;n.SPECIAL_ELEMENTS={[e.HTML]:new Set([s.ADDRESS,s.APPLET,s.AREA,s.ARTICLE,s.ASIDE,s.BASE,s.BASEFONT,s.BGSOUND,s.BLOCKQUOTE,s.BODY,s.BR,s.BUTTON,s.CAPTION,s.CENTER,s.COL,s.COLGROUP,s.DD,s.DETAILS,s.DIR,s.DIV,s.DL,s.DT,s.EMBED,s.FIELDSET,s.FIGCAPTION,s.FIGURE,s.FOOTER,s.FORM,s.FRAME,s.FRAMESET,s.H1,s.H2,s.H3,s.H4,s.H5,s.H6,s.HEAD,s.HEADER,s.HGROUP,s.HR,s.HTML,s.IFRAME,s.IMG,s.INPUT,s.LI,s.LINK,s.LISTING,s.MAIN,s.MARQUEE,s.MENU,s.META,s.NAV,s.NOEMBED,s.NOFRAMES,s.NOSCRIPT,s.OBJECT,s.OL,s.P,s.PARAM,s.PLAINTEXT,s.PRE,s.SCRIPT,s.SECTION,s.SELECT,s.SOURCE,s.STYLE,s.SUMMARY,s.TABLE,s.TBODY,s.TD,s.TEMPLATE,s.TEXTAREA,s.TFOOT,s.TH,s.THEAD,s.TITLE,s.TR,s.TRACK,s.UL,s.WBR,s.XMP]),[e.MATHML]:new Set([s.MI,s.MO,s.MN,s.MS,s.MTEXT,s.ANNOTATION_XML]),[e.SVG]:new Set([s.TITLE,s.FOREIGN_OBJECT,s.DESC]),[e.XLINK]:new Set,[e.XML]:new Set,[e.XMLNS]:new Set};function a(c){return c===s.H1||c===s.H2||c===s.H3||c===s.H4||c===s.H5||c===s.H6}n.isNumberedHeader=a;const u=new Set([t.STYLE,t.SCRIPT,t.XMP,t.IFRAME,t.NOEMBED,t.NOFRAMES,t.PLAINTEXT]);function l(c,h){return u.has(c)||h&&c===t.NOSCRIPT}n.hasUnescapedText=l})(tf);Object.defineProperty(rg,"__esModule",{value:!0});rg.Tokenizer=rg.TokenizerMode=void 0;const Ert=rx,V=ix,Es=ox,Qu=sx,de=aw,LR=tf,Srt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var j;(function(n){n[n.DATA=0]="DATA",n[n.RCDATA=1]="RCDATA",n[n.RAWTEXT=2]="RAWTEXT",n[n.SCRIPT_DATA=3]="SCRIPT_DATA",n[n.PLAINTEXT=4]="PLAINTEXT",n[n.TAG_OPEN=5]="TAG_OPEN",n[n.END_TAG_OPEN=6]="END_TAG_OPEN",n[n.TAG_NAME=7]="TAG_NAME",n[n.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",n[n.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",n[n.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",n[n.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",n[n.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",n[n.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",n[n.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",n[n.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",n[n.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",n[n.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",n[n.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",n[n.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",n[n.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",n[n.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",n[n.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",n[n.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",n[n.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",n[n.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",n[n.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",n[n.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",n[n.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",n[n.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",n[n.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",n[n.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",n[n.BOGUS_COMMENT=40]="BOGUS_COMMENT",n[n.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",n[n.COMMENT_START=42]="COMMENT_START",n[n.COMMENT_START_DASH=43]="COMMENT_START_DASH",n[n.COMMENT=44]="COMMENT",n[n.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",n[n.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",n[n.COMMENT_END_DASH=49]="COMMENT_END_DASH",n[n.COMMENT_END=50]="COMMENT_END",n[n.COMMENT_END_BANG=51]="COMMENT_END_BANG",n[n.DOCTYPE=52]="DOCTYPE",n[n.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",n[n.DOCTYPE_NAME=54]="DOCTYPE_NAME",n[n.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",n[n.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",n[n.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",n[n.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",n[n.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",n[n.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",n[n.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",n[n.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",n[n.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",n[n.CDATA_SECTION=68]="CDATA_SECTION",n[n.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",n[n.CDATA_SECTION_END=70]="CDATA_SECTION_END",n[n.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",n[n.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",n[n.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",n[n.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",n[n.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",n[n.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",n[n.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",n[n.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(j||(j={}));rg.TokenizerMode={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function Cb(n){return n>=V.CODE_POINTS.DIGIT_0&&n<=V.CODE_POINTS.DIGIT_9}function Vy(n){return n>=V.CODE_POINTS.LATIN_CAPITAL_A&&n<=V.CODE_POINTS.LATIN_CAPITAL_Z}function Trt(n){return n>=V.CODE_POINTS.LATIN_SMALL_A&&n<=V.CODE_POINTS.LATIN_SMALL_Z}function Af(n){return Trt(n)||Vy(n)}function AF(n){return Af(n)||Cb(n)}function ife(n){return n>=V.CODE_POINTS.LATIN_CAPITAL_A&&n<=V.CODE_POINTS.LATIN_CAPITAL_F}function ofe(n){return n>=V.CODE_POINTS.LATIN_SMALL_A&&n<=V.CODE_POINTS.LATIN_SMALL_F}function Drt(n){return Cb(n)||ife(n)||ofe(n)}function _S(n){return n+32}function sfe(n){return n===V.CODE_POINTS.SPACE||n===V.CODE_POINTS.LINE_FEED||n===V.CODE_POINTS.TABULATION||n===V.CODE_POINTS.FORM_FEED}function Art(n){return n===V.CODE_POINTS.EQUALS_SIGN||AF(n)}function MY(n){return sfe(n)||n===V.CODE_POINTS.SOLIDUS||n===V.CODE_POINTS.GREATER_THAN_SIGN}let Irt=class{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Ert.Preprocessor(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,r;(r=(t=this.handler).onParseError)===null||r===void 0||r.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,t,r){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return this.preprocessor.startsWith(e,t)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Es.TokenType.START_TAG,tagName:"",tagID:LR.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Es.TokenType.END_TAG,tagName:"",tagID:LR.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Es.TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Es.TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const r=this.currentToken;if((0,Es.getTokenAttr)(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(t=r.location).attrs)!==null&&e!==void 0?e:t.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(de.ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=(0,LR.getTagID)(e.tagName),e.type===Es.TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(de.ERR.endTagWithAttributes),e.selfClosing&&this._err(de.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Es.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Es.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Es.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Es.TokenType.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=t;return}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=sfe(e)?Es.TokenType.WHITESPACE_CHARACTER:e===V.CODE_POINTS.NULL?Es.TokenType.NULL_CHARACTER:Es.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Es.TokenType.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,r=0,i=!1;for(let o=0,s=Qu.htmlDecodeTree[0];o>=0&&(o=(0,Qu.determineBranch)(Qu.htmlDecodeTree,s,o+1,e),!(o<0));e=this._consume()){r+=1,s=Qu.htmlDecodeTree[o];const a=s&Qu.BinTrieFlags.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(e!==V.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Art(this.preprocessor.peek(1))?(t=[V.CODE_POINTS.AMPERSAND],o+=u):(t=u===0?[Qu.htmlDecodeTree[o]&~Qu.BinTrieFlags.VALUE_LENGTH]:u===1?[Qu.htmlDecodeTree[++o]]:[Qu.htmlDecodeTree[++o],Qu.htmlDecodeTree[++o]],r=0,i=e!==V.CODE_POINTS.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(de.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case j.DATA:{this._stateData(e);break}case j.RCDATA:{this._stateRcdata(e);break}case j.RAWTEXT:{this._stateRawtext(e);break}case j.SCRIPT_DATA:{this._stateScriptData(e);break}case j.PLAINTEXT:{this._statePlaintext(e);break}case j.TAG_OPEN:{this._stateTagOpen(e);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case j.TAG_NAME:{this._stateTagName(e);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case j.BOGUS_COMMENT:{this._stateBogusComment(e);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case j.COMMENT_START:{this._stateCommentStart(e);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case j.COMMENT:{this._stateComment(e);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case j.COMMENT_END:{this._stateCommentEnd(e);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case j.DOCTYPE:{this._stateDoctype(e);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case j.CDATA_SECTION:{this._stateCdataSection(e);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case j.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case j.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case j.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case j.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case j.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case j.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.DATA,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitCodePoint(e);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case V.CODE_POINTS.AMPERSAND:{this.returnState=j.RCDATA,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Af(e))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case V.CODE_POINTS.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case V.CODE_POINTS.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case V.CODE_POINTS.QUESTION_MARK:{this._err(de.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(de.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Af(e))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingEndTagName),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(de.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case V.CODE_POINTS.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.tagName+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:t.tagName+=String.fromCodePoint(Vy(e)?_S(e):e)}}_stateRcdataLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Af(e)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const t=this.currentToken;switch(t.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case V.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case V.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Af(e)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case V.CODE_POINTS.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case V.CODE_POINTS.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Af(e)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===V.CODE_POINTS.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===V.CODE_POINTS.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Af(e)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Af(e)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(V.SEQUENCES.SCRIPT,!1)&&MY(this.preprocessor.peek(V.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let t=0;t<V.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case V.CODE_POINTS.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(V.REPLACEMENT_CHARACTER);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===V.CODE_POINTS.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(V.SEQUENCES.SCRIPT,!1)&&MY(this.preprocessor.peek(V.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let t=0;t<V.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.SOLIDUS:case V.CODE_POINTS.GREATER_THAN_SIGN:case V.CODE_POINTS.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case V.CODE_POINTS.EQUALS_SIGN:{this._err(de.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:case V.CODE_POINTS.SOLIDUS:case V.CODE_POINTS.GREATER_THAN_SIGN:case V.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case V.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case V.CODE_POINTS.QUOTATION_MARK:case V.CODE_POINTS.APOSTROPHE:case V.CODE_POINTS.LESS_THAN_SIGN:{this._err(de.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.currentAttr.name+=V.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(Vy(e)?_S(e):e)}}_stateAfterAttributeName(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case V.CODE_POINTS.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.currentAttr.value+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case V.CODE_POINTS.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.currentAttr.value+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case V.CODE_POINTS.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_UNQUOTED,this.state=j.CHARACTER_REFERENCE;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this.currentAttr.value+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.QUOTATION_MARK:case V.CODE_POINTS.APOSTROPHE:case V.CODE_POINTS.LESS_THAN_SIGN:case V.CODE_POINTS.EQUALS_SIGN:case V.CODE_POINTS.GRAVE_ACCENT:{this._err(de.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case V.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:this._err(de.ERR.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{const t=this.currentToken;t.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInTag),this._emitEOFToken();break}default:this._err(de.ERR.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EOF:{this.emitCurrentComment(t),this._emitEOFToken();break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.data+=V.REPLACEMENT_CHARACTER;break}default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(V.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(V.SEQUENCES.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(V.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(V.SEQUENCES.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(V.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(de.ERR.cdataInHtmlContent),this._createCommentToken(V.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(de.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.abruptClosingOfEmptyComment),this.state=j.DATA;const t=this.currentToken;this.emitCurrentComment(t);break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case V.CODE_POINTS.LESS_THAN_SIGN:{t.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.data+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.EXCLAMATION_MARK:{t.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case V.CODE_POINTS.LESS_THAN_SIGN:{t.data+="<";break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===V.CODE_POINTS.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===V.CODE_POINTS.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==V.CODE_POINTS.GREATER_THAN_SIGN&&e!==V.CODE_POINTS.EOF&&this._err(de.ERR.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case V.CODE_POINTS.HYPHEN_MINUS:{t.data+="-";break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="--",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.HYPHEN_MINUS:{t.data+="--!",this.state=j.COMMENT_END_DASH;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="--!",this.state=j.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Vy(e))this._createDoctypeToken(String.fromCharCode(_S(e))),this.state=j.DOCTYPE_NAME;else switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),this._createDoctypeToken(V.REPLACEMENT_CHARACTER),this.state=j.DOCTYPE_NAME;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingDoctypeName),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.name+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.name+=String.fromCodePoint(Vy(e)?_S(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(V.SEQUENCES.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(V.SEQUENCES.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(de.ERR.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.CODE_POINTS.QUOTATION_MARK:{this._err(de.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this._err(de.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.QUOTATION_MARK:{t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{t.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.publicId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.publicId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.QUOTATION_MARK:{this._err(de.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this._err(de.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.QUOTATION_MARK:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.CODE_POINTS.QUOTATION_MARK:{this._err(de.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{this._err(de.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.QUOTATION_MARK:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.CODE_POINTS.APOSTROPHE:{t.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(t);break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.systemId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter),t.systemId+=V.REPLACEMENT_CHARACTER;break}case V.CODE_POINTS.GREATER_THAN_SIGN:{this._err(de.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.SPACE:case V.CODE_POINTS.LINE_FEED:case V.CODE_POINTS.TABULATION:case V.CODE_POINTS.FORM_FEED:break;case V.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(de.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=j.DATA;break}case V.CODE_POINTS.NULL:{this._err(de.ERR.unexpectedNullCharacter);break}case V.CODE_POINTS.EOF:{this.emitCurrentDoctype(t),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case V.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case V.CODE_POINTS.EOF:{this._err(de.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===V.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case V.CODE_POINTS.GREATER_THAN_SIGN:{this.state=j.DATA;break}case V.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===V.CODE_POINTS.NUMBER_SIGN?this.state=j.NUMERIC_CHARACTER_REFERENCE:AF(e)?(this.state=j.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(t){for(let r=0;r<t.length;r++)this._flushCodePointConsumedAsCharacterReference(t[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this.state=j.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){AF(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===V.CODE_POINTS.SEMICOLON&&this._err(de.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===V.CODE_POINTS.LATIN_SMALL_X||e===V.CODE_POINTS.LATIN_CAPITAL_X?this.state=j.HEXADEMICAL_CHARACTER_REFERENCE_START:Cb(e)?(this.state=j.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(de.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){Drt(e)?(this.state=j.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(de.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){ife(e)?this.charRefCode=this.charRefCode*16+e-55:ofe(e)?this.charRefCode=this.charRefCode*16+e-87:Cb(e)?this.charRefCode=this.charRefCode*16+e-48:e===V.CODE_POINTS.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(de.ERR.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){Cb(e)?this.charRefCode=this.charRefCode*10+e-48:e===V.CODE_POINTS.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(de.ERR.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===V.CODE_POINTS.NULL)this._err(de.ERR.nullCharacterReference),this.charRefCode=V.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(de.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=V.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,V.isSurrogate)(this.charRefCode))this._err(de.ERR.surrogateCharacterReference),this.charRefCode=V.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,V.isUndefinedCodePoint)(this.charRefCode))this._err(de.ERR.noncharacterCharacterReference);else if((0,V.isControlCodePoint)(this.charRefCode)||this.charRefCode===V.CODE_POINTS.CARRIAGE_RETURN){this._err(de.ERR.controlCharacterReference);const t=Srt.get(this.charRefCode);t!==void 0&&(this.charRefCode=t)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}};rg.Tokenizer=Irt;var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.OpenElementStack=void 0;const me=tf,afe=new Set([me.TAG_ID.DD,me.TAG_ID.DT,me.TAG_ID.LI,me.TAG_ID.OPTGROUP,me.TAG_ID.OPTION,me.TAG_ID.P,me.TAG_ID.RB,me.TAG_ID.RP,me.TAG_ID.RT,me.TAG_ID.RTC]),FY=new Set([...afe,me.TAG_ID.CAPTION,me.TAG_ID.COLGROUP,me.TAG_ID.TBODY,me.TAG_ID.TD,me.TAG_ID.TFOOT,me.TAG_ID.TH,me.TAG_ID.THEAD,me.TAG_ID.TR]),yS=new Map([[me.TAG_ID.APPLET,me.NS.HTML],[me.TAG_ID.CAPTION,me.NS.HTML],[me.TAG_ID.HTML,me.NS.HTML],[me.TAG_ID.MARQUEE,me.NS.HTML],[me.TAG_ID.OBJECT,me.NS.HTML],[me.TAG_ID.TABLE,me.NS.HTML],[me.TAG_ID.TD,me.NS.HTML],[me.TAG_ID.TEMPLATE,me.NS.HTML],[me.TAG_ID.TH,me.NS.HTML],[me.TAG_ID.ANNOTATION_XML,me.NS.MATHML],[me.TAG_ID.MI,me.NS.MATHML],[me.TAG_ID.MN,me.NS.MATHML],[me.TAG_ID.MO,me.NS.MATHML],[me.TAG_ID.MS,me.NS.MATHML],[me.TAG_ID.MTEXT,me.NS.MATHML],[me.TAG_ID.DESC,me.NS.SVG],[me.TAG_ID.FOREIGN_OBJECT,me.NS.SVG],[me.TAG_ID.TITLE,me.NS.SVG]]),xrt=[me.TAG_ID.H1,me.TAG_ID.H2,me.TAG_ID.H3,me.TAG_ID.H4,me.TAG_ID.H5,me.TAG_ID.H6],Lrt=[me.TAG_ID.TR,me.TAG_ID.TEMPLATE,me.TAG_ID.HTML],Nrt=[me.TAG_ID.TBODY,me.TAG_ID.TFOOT,me.TAG_ID.THEAD,me.TAG_ID.TEMPLATE,me.TAG_ID.HTML],Ort=[me.TAG_ID.TABLE,me.TAG_ID.TEMPLATE,me.TAG_ID.HTML],krt=[me.TAG_ID.TD,me.TAG_ID.TH];class Rrt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,r){this.treeAdapter=t,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=me.TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===me.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===me.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const r=this._indexOf(e);this.items[r]=t,r===this.stackTop&&(this.current=t)}insertAfter(e,t,r){const i=this._indexOf(e)+1;this.items.splice(i,0,t),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do t=this.tagIDs.lastIndexOf(e,t-1);while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==me.NS.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const r=this._indexOfTagNames(e,t);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(xrt,me.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(krt,me.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let r=this.stackTop;r>=0;r--)if(e.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===t)return r;return-1}clearBackTo(e,t){const r=this._indexOfTagNames(e,t);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Ort,me.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Nrt,me.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(Lrt,me.NS.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===me.TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===me.TAG_ID.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===me.NS.HTML)return!0;if(yS.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],r=this.treeAdapter.getNamespaceURI(this.items[e]);if((0,me.isNumberedHeader)(t)&&r===me.NS.HTML)return!0;if(yS.get(t)===r)return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===me.NS.HTML)return!0;if((r===me.TAG_ID.UL||r===me.TAG_ID.OL)&&i===me.NS.HTML||yS.get(r)===i)return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===me.NS.HTML)return!0;if(r===me.TAG_ID.BUTTON&&i===me.NS.HTML||yS.get(r)===i)return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===me.NS.HTML){if(r===e)return!0;if(r===me.TAG_ID.TABLE||r===me.TAG_ID.TEMPLATE||r===me.TAG_ID.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===me.NS.HTML){if(t===me.TAG_ID.TBODY||t===me.TAG_ID.THEAD||t===me.TAG_ID.TFOOT)return!0;if(t===me.TAG_ID.TABLE||t===me.TAG_ID.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===me.NS.HTML){if(r===e)return!0;if(r!==me.TAG_ID.OPTION&&r!==me.TAG_ID.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;afe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;FY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&FY.has(this.currentTagId);)this.pop()}}ax.OpenElementStack=Rrt;var ufe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormattingElementList=n.EntryType=void 0;const e=3;var t;(function(o){o[o.Marker=0]="Marker",o[o.Element=1]="Element"})(t=n.EntryType||(n.EntryType={}));const r={type:t.Marker};class i{constructor(s){this.treeAdapter=s,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(s,a){const u=[],l=a.length,c=this.treeAdapter.getTagName(s),h=this.treeAdapter.getNamespaceURI(s);for(let d=0;d<this.entries.length;d++){const p=this.entries[d];if(p.type===t.Marker)break;const{element:v}=p;if(this.treeAdapter.getTagName(v)===c&&this.treeAdapter.getNamespaceURI(v)===h){const m=this.treeAdapter.getAttrList(v);m.length===l&&u.push({idx:d,attrs:m})}}return u}_ensureNoahArkCondition(s){if(this.entries.length<e)return;const a=this.treeAdapter.getAttrList(s),u=this._getNoahArkConditionCandidates(s,a);if(u.length<e)return;const l=new Map(a.map(h=>[h.name,h.value]));let c=0;for(let h=0;h<u.length;h++){const d=u[h];d.attrs.every(p=>l.get(p.name)===p.value)&&(c+=1,c>=e&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(r)}pushElement(s,a){this._ensureNoahArkCondition(s),this.entries.unshift({type:t.Element,element:s,token:a})}insertElementAfterBookmark(s,a){const u=this.entries.indexOf(this.bookmark);this.entries.splice(u,0,{type:t.Element,element:s,token:a})}removeEntry(s){const a=this.entries.indexOf(s);a>=0&&this.entries.splice(a,1)}clearToLastMarker(){const s=this.entries.indexOf(r);s>=0?this.entries.splice(0,s+1):this.entries.length=0}getElementEntryInScopeWithTagName(s){const a=this.entries.find(u=>u.type===t.Marker||this.treeAdapter.getTagName(u.element)===s);return a&&a.type===t.Element?a:null}getElementEntry(s){return this.entries.find(a=>a.type===t.Element&&a.element===s)}}n.FormattingElementList=i})(ufe);var ux={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultTreeAdapter=void 0;const e=tf;function t(r){return{nodeName:"#text",value:r,parentNode:null}}n.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:e.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(r,i,o){return{nodeName:r,tagName:r,attrs:o,namespaceURI:i,childNodes:[],parentNode:null}},createCommentNode(r){return{nodeName:"#comment",data:r,parentNode:null}},appendChild(r,i){r.childNodes.push(i),i.parentNode=r},insertBefore(r,i,o){const s=r.childNodes.indexOf(o);r.childNodes.splice(s,0,i),i.parentNode=r},setTemplateContent(r,i){r.content=i},getTemplateContent(r){return r.content},setDocumentType(r,i,o,s){const a=r.childNodes.find(u=>u.nodeName==="#documentType");if(a)a.name=i,a.publicId=o,a.systemId=s;else{const u={nodeName:"#documentType",name:i,publicId:o,systemId:s,parentNode:null};n.defaultTreeAdapter.appendChild(r,u)}},setDocumentMode(r,i){r.mode=i},getDocumentMode(r){return r.mode},detachNode(r){if(r.parentNode){const i=r.parentNode.childNodes.indexOf(r);r.parentNode.childNodes.splice(i,1),r.parentNode=null}},insertText(r,i){if(r.childNodes.length>0){const o=r.childNodes[r.childNodes.length-1];if(n.defaultTreeAdapter.isTextNode(o)){o.value+=i;return}}n.defaultTreeAdapter.appendChild(r,t(i))},insertTextBefore(r,i,o){const s=r.childNodes[r.childNodes.indexOf(o)-1];s&&n.defaultTreeAdapter.isTextNode(s)?s.value+=i:n.defaultTreeAdapter.insertBefore(r,t(i),o)},adoptAttributes(r,i){const o=new Set(r.attrs.map(s=>s.name));for(let s=0;s<i.length;s++)o.has(i[s].name)||r.attrs.push(i[s])},getFirstChild(r){return r.childNodes[0]},getChildNodes(r){return r.childNodes},getParentNode(r){return r.parentNode},getAttrList(r){return r.attrs},getTagName(r){return r.tagName},getNamespaceURI(r){return r.namespaceURI},getTextNodeContent(r){return r.value},getCommentNodeContent(r){return r.data},getDocumentTypeNodeName(r){return r.name},getDocumentTypeNodePublicId(r){return r.publicId},getDocumentTypeNodeSystemId(r){return r.systemId},isTextNode(r){return r.nodeName==="#text"},isCommentNode(r){return r.nodeName==="#comment"},isDocumentTypeNode(r){return r.nodeName==="#documentType"},isElementNode(r){return Object.prototype.hasOwnProperty.call(r,"tagName")},setNodeSourceCodeLocation(r,i){r.sourceCodeLocation=i},getNodeSourceCodeLocation(r){return r.sourceCodeLocation},updateNodeSourceCodeLocation(r,i){r.sourceCodeLocation=Object.assign(Object.assign({},r.sourceCodeLocation),i)}}})(ux);var w_={};Object.defineProperty(w_,"__esModule",{value:!0});w_.getDocumentMode=w_.isConforming=void 0;const Tv=tf,lfe="html",Prt="about:legacy-compat",Mrt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",cfe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Frt=[...cfe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Brt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ffe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Hrt=[...ffe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function BY(n,e){return e.some(t=>n.startsWith(t))}function Vrt(n){return n.name===lfe&&n.publicId===null&&(n.systemId===null||n.systemId===Prt)}w_.isConforming=Vrt;function Wrt(n){if(n.name!==lfe)return Tv.DOCUMENT_MODE.QUIRKS;const{systemId:e}=n;if(e&&e.toLowerCase()===Mrt)return Tv.DOCUMENT_MODE.QUIRKS;let{publicId:t}=n;if(t!==null){if(t=t.toLowerCase(),Brt.has(t))return Tv.DOCUMENT_MODE.QUIRKS;let r=e===null?Frt:cfe;if(BY(t,r))return Tv.DOCUMENT_MODE.QUIRKS;if(r=e===null?ffe:Hrt,BY(t,r))return Tv.DOCUMENT_MODE.LIMITED_QUIRKS}return Tv.DOCUMENT_MODE.NO_QUIRKS}w_.getDocumentMode=Wrt;var X9={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isIntegrationPoint=n.adjustTokenSVGTagName=n.adjustTokenXMLAttrs=n.adjustTokenSVGAttrs=n.adjustTokenMathMLAttrs=n.causesExit=n.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const e=tf,t={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r="definitionurl",i="definitionURL",o=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(_=>[_.toLowerCase(),_])),s=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:e.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:e.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:e.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:e.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:e.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:e.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:e.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:e.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:e.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:e.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:e.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:e.NS.XMLNS}]]);n.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(_=>[_.toLowerCase(),_]));const a=new Set([e.TAG_ID.B,e.TAG_ID.BIG,e.TAG_ID.BLOCKQUOTE,e.TAG_ID.BODY,e.TAG_ID.BR,e.TAG_ID.CENTER,e.TAG_ID.CODE,e.TAG_ID.DD,e.TAG_ID.DIV,e.TAG_ID.DL,e.TAG_ID.DT,e.TAG_ID.EM,e.TAG_ID.EMBED,e.TAG_ID.H1,e.TAG_ID.H2,e.TAG_ID.H3,e.TAG_ID.H4,e.TAG_ID.H5,e.TAG_ID.H6,e.TAG_ID.HEAD,e.TAG_ID.HR,e.TAG_ID.I,e.TAG_ID.IMG,e.TAG_ID.LI,e.TAG_ID.LISTING,e.TAG_ID.MENU,e.TAG_ID.META,e.TAG_ID.NOBR,e.TAG_ID.OL,e.TAG_ID.P,e.TAG_ID.PRE,e.TAG_ID.RUBY,e.TAG_ID.S,e.TAG_ID.SMALL,e.TAG_ID.SPAN,e.TAG_ID.STRONG,e.TAG_ID.STRIKE,e.TAG_ID.SUB,e.TAG_ID.SUP,e.TAG_ID.TABLE,e.TAG_ID.TT,e.TAG_ID.U,e.TAG_ID.UL,e.TAG_ID.VAR]);function u(_){const b=_.tagID;return b===e.TAG_ID.FONT&&_.attrs.some(({name:E})=>E===e.ATTRS.COLOR||E===e.ATTRS.SIZE||E===e.ATTRS.FACE)||a.has(b)}n.causesExit=u;function l(_){for(let b=0;b<_.attrs.length;b++)if(_.attrs[b].name===r){_.attrs[b].name=i;break}}n.adjustTokenMathMLAttrs=l;function c(_){for(let b=0;b<_.attrs.length;b++){const C=o.get(_.attrs[b].name);C!=null&&(_.attrs[b].name=C)}}n.adjustTokenSVGAttrs=c;function h(_){for(let b=0;b<_.attrs.length;b++){const C=s.get(_.attrs[b].name);C&&(_.attrs[b].prefix=C.prefix,_.attrs[b].name=C.name,_.attrs[b].namespace=C.namespace)}}n.adjustTokenXMLAttrs=h;function d(_){const b=n.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(_.tagName);b!=null&&(_.tagName=b,_.tagID=(0,e.getTagID)(_.tagName))}n.adjustTokenSVGTagName=d;function p(_,b){return b===e.NS.MATHML&&(_===e.TAG_ID.MI||_===e.TAG_ID.MO||_===e.TAG_ID.MN||_===e.TAG_ID.MS||_===e.TAG_ID.MTEXT)}function v(_,b,C){if(b===e.NS.MATHML&&_===e.TAG_ID.ANNOTATION_XML){for(let E=0;E<C.length;E++)if(C[E].name===e.ATTRS.ENCODING){const S=C[E].value.toLowerCase();return S===t.TEXT_HTML||S===t.APPLICATION_XML}}return b===e.NS.SVG&&(_===e.TAG_ID.FOREIGN_OBJECT||_===e.TAG_ID.DESC||_===e.TAG_ID.TITLE)}function m(_,b,C,E){return(!E||E===e.NS.HTML)&&v(_,b,C)||(!E||E===e.NS.MATHML)&&p(_,b)}n.isIntegrationPoint=m})(X9);Object.defineProperty(U1,"__esModule",{value:!0});U1.Parser=void 0;const os=rg,Urt=ax,HY=ufe,jrt=ux,VY=w_,sl=X9,to=aw,hfe=ix,x=tf,ai=ox,qrt="hidden",zrt=8,Grt=3;var K;(function(n){n[n.INITIAL=0]="INITIAL",n[n.BEFORE_HTML=1]="BEFORE_HTML",n[n.BEFORE_HEAD=2]="BEFORE_HEAD",n[n.IN_HEAD=3]="IN_HEAD",n[n.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",n[n.AFTER_HEAD=5]="AFTER_HEAD",n[n.IN_BODY=6]="IN_BODY",n[n.TEXT=7]="TEXT",n[n.IN_TABLE=8]="IN_TABLE",n[n.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",n[n.IN_CAPTION=10]="IN_CAPTION",n[n.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",n[n.IN_TABLE_BODY=12]="IN_TABLE_BODY",n[n.IN_ROW=13]="IN_ROW",n[n.IN_CELL=14]="IN_CELL",n[n.IN_SELECT=15]="IN_SELECT",n[n.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",n[n.IN_TEMPLATE=17]="IN_TEMPLATE",n[n.AFTER_BODY=18]="AFTER_BODY",n[n.IN_FRAMESET=19]="IN_FRAMESET",n[n.AFTER_FRAMESET=20]="AFTER_FRAMESET",n[n.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",n[n.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(K||(K={}));const $rt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},dfe=new Set([x.TAG_ID.TABLE,x.TAG_ID.TBODY,x.TAG_ID.TFOOT,x.TAG_ID.THEAD,x.TAG_ID.TR]),WY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:jrt.defaultTreeAdapter,onParseError:null};let Krt=class{constructor(e,t,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=K.INITIAL,this.originalInsertionMode=K.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},WY),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=t??this.treeAdapter.createDocument(),this.tokenizer=new os.Tokenizer(this.options,this),this.activeFormattingElements=new HY.FormattingElementList(this.treeAdapter),this.fragmentContextID=r?(0,x.getTagID)(this.treeAdapter.getTagName(r)):x.TAG_ID.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Urt.OpenElementStack(this.document,this.treeAdapter,this)}static parse(e,t){const r=new this(t);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,t){const r=Object.assign(Object.assign({},WY),t);e??(e=r.treeAdapter.createElement(x.TAG_NAMES.TEMPLATE,x.NS.HTML,[]));const i=r.treeAdapter.createElement("documentmock",x.NS.HTML,[]),o=new this(r,i,e);return o.fragmentContextID===x.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(K.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,r){var i;if(!this.onParseError)return;const o=(i=e.location)!==null&&i!==void 0?i:$rt,s={code:t,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(e,t,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),t){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(e,t){const r=e===this.document||this.treeAdapter.getNamespaceURI(e)===x.NS.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,x.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=K.TEXT}switchToPlaintextParsing(){this.insertionMode=K.TEXT,this.originalInsertionMode=K.IN_BODY,this.tokenizer.state=os.TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===x.TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==x.NS.HTML))switch(this.fragmentContextID){case x.TAG_ID.TITLE:case x.TAG_ID.TEXTAREA:{this.tokenizer.state=os.TokenizerMode.RCDATA;break}case x.TAG_ID.STYLE:case x.TAG_ID.XMP:case x.TAG_ID.IFRAME:case x.TAG_ID.NOEMBED:case x.TAG_ID.NOFRAMES:case x.TAG_ID.NOSCRIPT:{this.tokenizer.state=os.TokenizerMode.RAWTEXT;break}case x.TAG_ID.SCRIPT:{this.tokenizer.state=os.TokenizerMode.SCRIPT_DATA;break}case x.TAG_ID.PLAINTEXT:{this.tokenizer.state=os.TokenizerMode.PLAINTEXT;break}}}_setDocumentType(e){const t=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,r,i),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const r=t&&Object.assign(Object.assign({},t),{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,t){const r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,t){const r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,t){const r=this.treeAdapter.createElement(e,x.NS.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,x.NS.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,r),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(x.TAG_NAMES.HTML,x.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,x.TAG_ID.HTML)}_appendCommentNode(e,t){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let t,r;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(t,e.chars,r):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(t),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:u,endCol:l,endOffset:c}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,t){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(t,r)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const r=t.location,i=this.treeAdapter.getTagName(e),o=t.type===ai.TokenType.END_TAG&&i===t.tagName?{endTag:Object.assign({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,r;return this.openElements.stackTop===0&&this.fragmentContext?(t=this.fragmentContext,r=this.fragmentContextID):{current:t,currentTagId:r}=this.openElements,e.tagID===x.TAG_ID.SVG&&this.treeAdapter.getTagName(t)===x.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(t)===x.NS.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===x.TAG_ID.MGLYPH||e.tagID===x.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(r,t,x.NS.HTML)}_processToken(e){switch(e.type){case ai.TokenType.CHARACTER:{this.onCharacter(e);break}case ai.TokenType.NULL_CHARACTER:{this.onNullCharacter(e);break}case ai.TokenType.COMMENT:{this.onComment(e);break}case ai.TokenType.DOCTYPE:{this.onDoctype(e);break}case ai.TokenType.START_TAG:{this._processStartTag(e);break}case ai.TokenType.END_TAG:{this.onEndTag(e);break}case ai.TokenType.EOF:{this.onEof(e);break}case ai.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,t,r){const i=this.treeAdapter.getNamespaceURI(t),o=this.treeAdapter.getAttrList(t);return sl.isIntegrationPoint(e,i,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(i=>i.type===HY.EntryType.Marker||this.openElements.contains(i.element)),r=t<0?e-1:t-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=K.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(x.TAG_ID.P),this.openElements.popUntilTagNamePopped(x.TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case x.TAG_ID.TR:{this.insertionMode=K.IN_ROW;return}case x.TAG_ID.TBODY:case x.TAG_ID.THEAD:case x.TAG_ID.TFOOT:{this.insertionMode=K.IN_TABLE_BODY;return}case x.TAG_ID.CAPTION:{this.insertionMode=K.IN_CAPTION;return}case x.TAG_ID.COLGROUP:{this.insertionMode=K.IN_COLUMN_GROUP;return}case x.TAG_ID.TABLE:{this.insertionMode=K.IN_TABLE;return}case x.TAG_ID.BODY:{this.insertionMode=K.IN_BODY;return}case x.TAG_ID.FRAMESET:{this.insertionMode=K.IN_FRAMESET;return}case x.TAG_ID.SELECT:{this._resetInsertionModeForSelect(e);return}case x.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case x.TAG_ID.HTML:{this.insertionMode=this.headElement?K.AFTER_HEAD:K.BEFORE_HEAD;return}case x.TAG_ID.TD:case x.TAG_ID.TH:{if(e>0){this.insertionMode=K.IN_CELL;return}break}case x.TAG_ID.HEAD:{if(e>0){this.insertionMode=K.IN_HEAD;return}break}}this.insertionMode=K.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const r=this.openElements.tagIDs[t];if(r===x.TAG_ID.TEMPLATE)break;if(r===x.TAG_ID.TABLE){this.insertionMode=K.IN_SELECT_IN_TABLE;return}}this.insertionMode=K.IN_SELECT}_isElementCausesFosterParenting(e){return dfe.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case x.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(t)===x.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break}case x.TAG_ID.TABLE:{const r=this.treeAdapter.getParentNode(t);return r?{parent:r,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const r=this.treeAdapter.getNamespaceURI(e);return x.SPECIAL_ELEMENTS[r].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Sot(this,e);return}switch(this.insertionMode){case K.INITIAL:{Iy(this,e);break}case K.BEFORE_HTML:{wb(this,e);break}case K.BEFORE_HEAD:{Eb(this,e);break}case K.IN_HEAD:{Sb(this,e);break}case K.IN_HEAD_NO_SCRIPT:{Tb(this,e);break}case K.AFTER_HEAD:{Db(this,e);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:{gfe(this,e);break}case K.TEXT:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{NR(this,e);break}case K.IN_TABLE_TEXT:{Cfe(this,e);break}case K.IN_COLUMN_GROUP:{uA(this,e);break}case K.AFTER_BODY:{lA(this,e);break}case K.AFTER_AFTER_BODY:{nT(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Eot(this,e);return}switch(this.insertionMode){case K.INITIAL:{Iy(this,e);break}case K.BEFORE_HTML:{wb(this,e);break}case K.BEFORE_HEAD:{Eb(this,e);break}case K.IN_HEAD:{Sb(this,e);break}case K.IN_HEAD_NO_SCRIPT:{Tb(this,e);break}case K.AFTER_HEAD:{Db(this,e);break}case K.TEXT:{this._insertCharacters(e);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{NR(this,e);break}case K.IN_COLUMN_GROUP:{uA(this,e);break}case K.AFTER_BODY:{lA(this,e);break}case K.AFTER_AFTER_BODY:{nT(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){IF(this,e);return}switch(this.insertionMode){case K.INITIAL:case K.BEFORE_HTML:case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_TEMPLATE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{IF(this,e);break}case K.IN_TABLE_TEXT:{xy(this,e);break}case K.AFTER_BODY:{tit(this,e);break}case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{nit(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case K.INITIAL:{rit(this,e);break}case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:{this._err(e,to.ERR.misplacedDoctype);break}case K.IN_TABLE_TEXT:{xy(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,to.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?Tot(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case K.INITIAL:{Iy(this,e);break}case K.BEFORE_HTML:{iit(this,e);break}case K.BEFORE_HEAD:{sit(this,e);break}case K.IN_HEAD:{Bu(this,e);break}case K.IN_HEAD_NO_SCRIPT:{lit(this,e);break}case K.AFTER_HEAD:{fit(this,e);break}case K.IN_BODY:{Fo(this,e);break}case K.IN_TABLE:{E_(this,e);break}case K.IN_TABLE_TEXT:{xy(this,e);break}case K.IN_CAPTION:{aot(this,e);break}case K.IN_COLUMN_GROUP:{J9(this,e);break}case K.IN_TABLE_BODY:{fx(this,e);break}case K.IN_ROW:{hx(this,e);break}case K.IN_CELL:{cot(this,e);break}case K.IN_SELECT:{Sfe(this,e);break}case K.IN_SELECT_IN_TABLE:{hot(this,e);break}case K.IN_TEMPLATE:{pot(this,e);break}case K.AFTER_BODY:{vot(this,e);break}case K.IN_FRAMESET:{mot(this,e);break}case K.AFTER_FRAMESET:{yot(this,e);break}case K.AFTER_AFTER_BODY:{Cot(this,e);break}case K.AFTER_AFTER_FRAMESET:{wot(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Dot(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case K.INITIAL:{Iy(this,e);break}case K.BEFORE_HTML:{oit(this,e);break}case K.BEFORE_HEAD:{ait(this,e);break}case K.IN_HEAD:{uit(this,e);break}case K.IN_HEAD_NO_SCRIPT:{cit(this,e);break}case K.AFTER_HEAD:{hit(this,e);break}case K.IN_BODY:{cx(this,e);break}case K.TEXT:{Qit(this,e);break}case K.IN_TABLE:{j1(this,e);break}case K.IN_TABLE_TEXT:{xy(this,e);break}case K.IN_CAPTION:{uot(this,e);break}case K.IN_COLUMN_GROUP:{lot(this,e);break}case K.IN_TABLE_BODY:{xF(this,e);break}case K.IN_ROW:{Efe(this,e);break}case K.IN_CELL:{fot(this,e);break}case K.IN_SELECT:{Tfe(this,e);break}case K.IN_SELECT_IN_TABLE:{dot(this,e);break}case K.IN_TEMPLATE:{got(this,e);break}case K.AFTER_BODY:{Afe(this,e);break}case K.IN_FRAMESET:{_ot(this,e);break}case K.AFTER_FRAMESET:{bot(this,e);break}case K.AFTER_AFTER_BODY:{nT(this,e);break}}}onEof(e){switch(this.insertionMode){case K.INITIAL:{Iy(this,e);break}case K.BEFORE_HTML:{wb(this,e);break}case K.BEFORE_HEAD:{Eb(this,e);break}case K.IN_HEAD:{Sb(this,e);break}case K.IN_HEAD_NO_SCRIPT:{Tb(this,e);break}case K.AFTER_HEAD:{Db(this,e);break}case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{yfe(this,e);break}case K.TEXT:{Zit(this,e);break}case K.IN_TABLE_TEXT:{xy(this,e);break}case K.IN_TEMPLATE:{Dfe(this,e);break}case K.AFTER_BODY:case K.IN_FRAMESET:case K.AFTER_FRAMESET:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{Z9(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===hfe.CODE_POINTS.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.TEXT:case K.IN_COLUMN_GROUP:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{this._insertCharacters(e);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:case K.AFTER_BODY:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{pfe(this,e);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{NR(this,e);break}case K.IN_TABLE_TEXT:{bfe(this,e);break}}}};U1.Parser=Krt;function Yrt(n,e){let t=n.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return t?n.openElements.contains(t.element)?n.openElements.hasInScope(e.tagID)||(t=null):(n.activeFormattingElements.removeEntry(t),t=null):_fe(n,e),t}function Xrt(n,e){let t=null,r=n.openElements.stackTop;for(;r>=0;r--){const i=n.openElements.items[r];if(i===e.element)break;n._isSpecialElement(i,n.openElements.tagIDs[r])&&(t=i)}return t||(n.openElements.shortenToLength(r<0?0:r),n.activeFormattingElements.removeEntry(e)),t}function Qrt(n,e,t){let r=e,i=n.openElements.getCommonAncestor(e);for(let o=0,s=i;s!==t;o++,s=i){i=n.openElements.getCommonAncestor(s);const a=n.activeFormattingElements.getElementEntry(s),u=a&&o>=Grt;!a||u?(u&&n.activeFormattingElements.removeEntry(a),n.openElements.remove(s)):(s=Zrt(n,a),r===e&&(n.activeFormattingElements.bookmark=a),n.treeAdapter.detachNode(r),n.treeAdapter.appendChild(s,r),r=s)}return r}function Zrt(n,e){const t=n.treeAdapter.getNamespaceURI(e.element),r=n.treeAdapter.createElement(e.token.tagName,t,e.token.attrs);return n.openElements.replace(e.element,r),e.element=r,r}function Jrt(n,e,t){const r=n.treeAdapter.getTagName(e),i=(0,x.getTagID)(r);if(n._isElementCausesFosterParenting(i))n._fosterParentElement(t);else{const o=n.treeAdapter.getNamespaceURI(e);i===x.TAG_ID.TEMPLATE&&o===x.NS.HTML&&(e=n.treeAdapter.getTemplateContent(e)),n.treeAdapter.appendChild(e,t)}}function eit(n,e,t){const r=n.treeAdapter.getNamespaceURI(t.element),{token:i}=t,o=n.treeAdapter.createElement(i.tagName,r,i.attrs);n._adoptNodes(e,o),n.treeAdapter.appendChild(e,o),n.activeFormattingElements.insertElementAfterBookmark(o,i),n.activeFormattingElements.removeEntry(t),n.openElements.remove(t.element),n.openElements.insertAfter(e,o,i.tagID)}function Q9(n,e){for(let t=0;t<zrt;t++){const r=Yrt(n,e);if(!r)break;const i=Xrt(n,r);if(!i)break;n.activeFormattingElements.bookmark=r;const o=Qrt(n,i,r.element),s=n.openElements.getCommonAncestor(r.element);n.treeAdapter.detachNode(o),s&&Jrt(n,s,o),eit(n,i,r)}}function IF(n,e){n._appendCommentNode(e,n.openElements.currentTmplContentOrNode)}function tit(n,e){n._appendCommentNode(e,n.openElements.items[0])}function nit(n,e){n._appendCommentNode(e,n.document)}function Z9(n,e){if(n.stopped=!0,e.location){const t=n.fragmentContext?0:2;for(let r=n.openElements.stackTop;r>=t;r--)n._setEndLocation(n.openElements.items[r],e);if(!n.fragmentContext&&n.openElements.stackTop>=0){const r=n.openElements.items[0],i=n.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(n._setEndLocation(r,e),n.openElements.stackTop>=1)){const o=n.openElements.items[1],s=n.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&n._setEndLocation(o,e)}}}}function rit(n,e){n._setDocumentType(e);const t=e.forceQuirks?x.DOCUMENT_MODE.QUIRKS:VY.getDocumentMode(e);VY.isConforming(e)||n._err(e,to.ERR.nonConformingDoctype),n.treeAdapter.setDocumentMode(n.document,t),n.insertionMode=K.BEFORE_HTML}function Iy(n,e){n._err(e,to.ERR.missingDoctype,!0),n.treeAdapter.setDocumentMode(n.document,x.DOCUMENT_MODE.QUIRKS),n.insertionMode=K.BEFORE_HTML,n._processToken(e)}function iit(n,e){e.tagID===x.TAG_ID.HTML?(n._insertElement(e,x.NS.HTML),n.insertionMode=K.BEFORE_HEAD):wb(n,e)}function oit(n,e){const t=e.tagID;(t===x.TAG_ID.HTML||t===x.TAG_ID.HEAD||t===x.TAG_ID.BODY||t===x.TAG_ID.BR)&&wb(n,e)}function wb(n,e){n._insertFakeRootElement(),n.insertionMode=K.BEFORE_HEAD,n._processToken(e)}function sit(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.HEAD:{n._insertElement(e,x.NS.HTML),n.headElement=n.openElements.current,n.insertionMode=K.IN_HEAD;break}default:Eb(n,e)}}function ait(n,e){const t=e.tagID;t===x.TAG_ID.HEAD||t===x.TAG_ID.BODY||t===x.TAG_ID.HTML||t===x.TAG_ID.BR?Eb(n,e):n._err(e,to.ERR.endTagWithoutMatchingOpenElement)}function Eb(n,e){n._insertFakeElement(x.TAG_NAMES.HEAD,x.TAG_ID.HEAD),n.headElement=n.openElements.current,n.insertionMode=K.IN_HEAD,n._processToken(e)}function Bu(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.BASE:case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.LINK:case x.TAG_ID.META:{n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0;break}case x.TAG_ID.TITLE:{n._switchToTextParsing(e,os.TokenizerMode.RCDATA);break}case x.TAG_ID.NOSCRIPT:{n.options.scriptingEnabled?n._switchToTextParsing(e,os.TokenizerMode.RAWTEXT):(n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_HEAD_NO_SCRIPT);break}case x.TAG_ID.NOFRAMES:case x.TAG_ID.STYLE:{n._switchToTextParsing(e,os.TokenizerMode.RAWTEXT);break}case x.TAG_ID.SCRIPT:{n._switchToTextParsing(e,os.TokenizerMode.SCRIPT_DATA);break}case x.TAG_ID.TEMPLATE:{n._insertTemplate(e),n.activeFormattingElements.insertMarker(),n.framesetOk=!1,n.insertionMode=K.IN_TEMPLATE,n.tmplInsertionModeStack.unshift(K.IN_TEMPLATE);break}case x.TAG_ID.HEAD:{n._err(e,to.ERR.misplacedStartTagForHeadElement);break}default:Sb(n,e)}}function uit(n,e){switch(e.tagID){case x.TAG_ID.HEAD:{n.openElements.pop(),n.insertionMode=K.AFTER_HEAD;break}case x.TAG_ID.BODY:case x.TAG_ID.BR:case x.TAG_ID.HTML:{Sb(n,e);break}case x.TAG_ID.TEMPLATE:{kg(n,e);break}default:n._err(e,to.ERR.endTagWithoutMatchingOpenElement)}}function kg(n,e){n.openElements.tmplCount>0?(n.openElements.generateImpliedEndTagsThoroughly(),n.openElements.currentTagId!==x.TAG_ID.TEMPLATE&&n._err(e,to.ERR.closingOfElementWithOpenChildElements),n.openElements.popUntilTagNamePopped(x.TAG_ID.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode()):n._err(e,to.ERR.endTagWithoutMatchingOpenElement)}function Sb(n,e){n.openElements.pop(),n.insertionMode=K.AFTER_HEAD,n._processToken(e)}function lit(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.HEAD:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.NOFRAMES:case x.TAG_ID.STYLE:{Bu(n,e);break}case x.TAG_ID.NOSCRIPT:{n._err(e,to.ERR.nestedNoscriptInHead);break}default:Tb(n,e)}}function cit(n,e){switch(e.tagID){case x.TAG_ID.NOSCRIPT:{n.openElements.pop(),n.insertionMode=K.IN_HEAD;break}case x.TAG_ID.BR:{Tb(n,e);break}default:n._err(e,to.ERR.endTagWithoutMatchingOpenElement)}}function Tb(n,e){const t=e.type===ai.TokenType.EOF?to.ERR.openElementsLeftAfterEof:to.ERR.disallowedContentInNoscriptInHead;n._err(e,t),n.openElements.pop(),n.insertionMode=K.IN_HEAD,n._processToken(e)}function fit(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.BODY:{n._insertElement(e,x.NS.HTML),n.framesetOk=!1,n.insertionMode=K.IN_BODY;break}case x.TAG_ID.FRAMESET:{n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_FRAMESET;break}case x.TAG_ID.BASE:case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.NOFRAMES:case x.TAG_ID.SCRIPT:case x.TAG_ID.STYLE:case x.TAG_ID.TEMPLATE:case x.TAG_ID.TITLE:{n._err(e,to.ERR.abandonedHeadElementChild),n.openElements.push(n.headElement,x.TAG_ID.HEAD),Bu(n,e),n.openElements.remove(n.headElement);break}case x.TAG_ID.HEAD:{n._err(e,to.ERR.misplacedStartTagForHeadElement);break}default:Db(n,e)}}function hit(n,e){switch(e.tagID){case x.TAG_ID.BODY:case x.TAG_ID.HTML:case x.TAG_ID.BR:{Db(n,e);break}case x.TAG_ID.TEMPLATE:{kg(n,e);break}default:n._err(e,to.ERR.endTagWithoutMatchingOpenElement)}}function Db(n,e){n._insertFakeElement(x.TAG_NAMES.BODY,x.TAG_ID.BODY),n.insertionMode=K.IN_BODY,lx(n,e)}function lx(n,e){switch(e.type){case ai.TokenType.CHARACTER:{gfe(n,e);break}case ai.TokenType.WHITESPACE_CHARACTER:{pfe(n,e);break}case ai.TokenType.COMMENT:{IF(n,e);break}case ai.TokenType.START_TAG:{Fo(n,e);break}case ai.TokenType.END_TAG:{cx(n,e);break}case ai.TokenType.EOF:{yfe(n,e);break}}}function pfe(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e)}function gfe(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e),n.framesetOk=!1}function dit(n,e){n.openElements.tmplCount===0&&n.treeAdapter.adoptAttributes(n.openElements.items[0],e.attrs)}function pit(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n.openElements.tmplCount===0&&(n.framesetOk=!1,n.treeAdapter.adoptAttributes(t,e.attrs))}function git(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();n.framesetOk&&t&&(n.treeAdapter.detachNode(t),n.openElements.popAllUpToHtmlElement(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_FRAMESET)}function vit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML)}function mit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),(0,x.isNumberedHeader)(n.openElements.currentTagId)&&n.openElements.pop(),n._insertElement(e,x.NS.HTML)}function _it(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),n.skipNextNewLine=!0,n.framesetOk=!1}function yit(n,e){const t=n.openElements.tmplCount>0;(!n.formElement||t)&&(n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),t||(n.formElement=n.openElements.current))}function bit(n,e){n.framesetOk=!1;const t=e.tagID;for(let r=n.openElements.stackTop;r>=0;r--){const i=n.openElements.tagIDs[r];if(t===x.TAG_ID.LI&&i===x.TAG_ID.LI||(t===x.TAG_ID.DD||t===x.TAG_ID.DT)&&(i===x.TAG_ID.DD||i===x.TAG_ID.DT)){n.openElements.generateImpliedEndTagsWithExclusion(i),n.openElements.popUntilTagNamePopped(i);break}if(i!==x.TAG_ID.ADDRESS&&i!==x.TAG_ID.DIV&&i!==x.TAG_ID.P&&n._isSpecialElement(n.openElements.items[r],i))break}n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML)}function Cit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),n.tokenizer.state=os.TokenizerMode.PLAINTEXT}function wit(n,e){n.openElements.hasInScope(x.TAG_ID.BUTTON)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.TAG_ID.BUTTON)),n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.framesetOk=!1}function Eit(n,e){const t=n.activeFormattingElements.getElementEntryInScopeWithTagName(x.TAG_NAMES.A);t&&(Q9(n,e),n.openElements.remove(t.element),n.activeFormattingElements.removeEntry(t)),n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function Sit(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function Tit(n,e){n._reconstructActiveFormattingElements(),n.openElements.hasInScope(x.TAG_ID.NOBR)&&(Q9(n,e),n._reconstructActiveFormattingElements()),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function Dit(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1}function Ait(n,e){n.treeAdapter.getDocumentMode(n.document)!==x.DOCUMENT_MODE.QUIRKS&&n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._insertElement(e,x.NS.HTML),n.framesetOk=!1,n.insertionMode=K.IN_TABLE}function vfe(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,x.NS.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function mfe(n){const e=(0,ai.getTokenAttr)(n,x.ATTRS.TYPE);return e!=null&&e.toLowerCase()===qrt}function Iit(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,x.NS.HTML),mfe(e)||(n.framesetOk=!1),e.ackSelfClosing=!0}function xit(n,e){n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0}function Lit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._appendElement(e,x.NS.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function Nit(n,e){e.tagName=x.TAG_NAMES.IMG,e.tagID=x.TAG_ID.IMG,vfe(n,e)}function Oit(n,e){n._insertElement(e,x.NS.HTML),n.skipNextNewLine=!0,n.tokenizer.state=os.TokenizerMode.RCDATA,n.originalInsertionMode=n.insertionMode,n.framesetOk=!1,n.insertionMode=K.TEXT}function kit(n,e){n.openElements.hasInButtonScope(x.TAG_ID.P)&&n._closePElement(),n._reconstructActiveFormattingElements(),n.framesetOk=!1,n._switchToTextParsing(e,os.TokenizerMode.RAWTEXT)}function Rit(n,e){n.framesetOk=!1,n._switchToTextParsing(e,os.TokenizerMode.RAWTEXT)}function UY(n,e){n._switchToTextParsing(e,os.TokenizerMode.RAWTEXT)}function Pit(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML),n.framesetOk=!1,n.insertionMode=n.insertionMode===K.IN_TABLE||n.insertionMode===K.IN_CAPTION||n.insertionMode===K.IN_TABLE_BODY||n.insertionMode===K.IN_ROW||n.insertionMode===K.IN_CELL?K.IN_SELECT_IN_TABLE:K.IN_SELECT}function Mit(n,e){n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop(),n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML)}function Fit(n,e){n.openElements.hasInScope(x.TAG_ID.RUBY)&&n.openElements.generateImpliedEndTags(),n._insertElement(e,x.NS.HTML)}function Bit(n,e){n.openElements.hasInScope(x.TAG_ID.RUBY)&&n.openElements.generateImpliedEndTagsWithExclusion(x.TAG_ID.RTC),n._insertElement(e,x.NS.HTML)}function Hit(n,e){n._reconstructActiveFormattingElements(),sl.adjustTokenMathMLAttrs(e),sl.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,x.NS.MATHML):n._insertElement(e,x.NS.MATHML),e.ackSelfClosing=!0}function Vit(n,e){n._reconstructActiveFormattingElements(),sl.adjustTokenSVGAttrs(e),sl.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,x.NS.SVG):n._insertElement(e,x.NS.SVG),e.ackSelfClosing=!0}function jY(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.NS.HTML)}function Fo(n,e){switch(e.tagID){case x.TAG_ID.I:case x.TAG_ID.S:case x.TAG_ID.B:case x.TAG_ID.U:case x.TAG_ID.EM:case x.TAG_ID.TT:case x.TAG_ID.BIG:case x.TAG_ID.CODE:case x.TAG_ID.FONT:case x.TAG_ID.SMALL:case x.TAG_ID.STRIKE:case x.TAG_ID.STRONG:{Sit(n,e);break}case x.TAG_ID.A:{Eit(n,e);break}case x.TAG_ID.H1:case x.TAG_ID.H2:case x.TAG_ID.H3:case x.TAG_ID.H4:case x.TAG_ID.H5:case x.TAG_ID.H6:{mit(n,e);break}case x.TAG_ID.P:case x.TAG_ID.DL:case x.TAG_ID.OL:case x.TAG_ID.UL:case x.TAG_ID.DIV:case x.TAG_ID.DIR:case x.TAG_ID.NAV:case x.TAG_ID.MAIN:case x.TAG_ID.MENU:case x.TAG_ID.ASIDE:case x.TAG_ID.CENTER:case x.TAG_ID.FIGURE:case x.TAG_ID.FOOTER:case x.TAG_ID.HEADER:case x.TAG_ID.HGROUP:case x.TAG_ID.DIALOG:case x.TAG_ID.DETAILS:case x.TAG_ID.ADDRESS:case x.TAG_ID.ARTICLE:case x.TAG_ID.SECTION:case x.TAG_ID.SUMMARY:case x.TAG_ID.FIELDSET:case x.TAG_ID.BLOCKQUOTE:case x.TAG_ID.FIGCAPTION:{vit(n,e);break}case x.TAG_ID.LI:case x.TAG_ID.DD:case x.TAG_ID.DT:{bit(n,e);break}case x.TAG_ID.BR:case x.TAG_ID.IMG:case x.TAG_ID.WBR:case x.TAG_ID.AREA:case x.TAG_ID.EMBED:case x.TAG_ID.KEYGEN:{vfe(n,e);break}case x.TAG_ID.HR:{Lit(n,e);break}case x.TAG_ID.RB:case x.TAG_ID.RTC:{Fit(n,e);break}case x.TAG_ID.RT:case x.TAG_ID.RP:{Bit(n,e);break}case x.TAG_ID.PRE:case x.TAG_ID.LISTING:{_it(n,e);break}case x.TAG_ID.XMP:{kit(n,e);break}case x.TAG_ID.SVG:{Vit(n,e);break}case x.TAG_ID.HTML:{dit(n,e);break}case x.TAG_ID.BASE:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.STYLE:case x.TAG_ID.TITLE:case x.TAG_ID.SCRIPT:case x.TAG_ID.BGSOUND:case x.TAG_ID.BASEFONT:case x.TAG_ID.TEMPLATE:{Bu(n,e);break}case x.TAG_ID.BODY:{pit(n,e);break}case x.TAG_ID.FORM:{yit(n,e);break}case x.TAG_ID.NOBR:{Tit(n,e);break}case x.TAG_ID.MATH:{Hit(n,e);break}case x.TAG_ID.TABLE:{Ait(n,e);break}case x.TAG_ID.INPUT:{Iit(n,e);break}case x.TAG_ID.PARAM:case x.TAG_ID.TRACK:case x.TAG_ID.SOURCE:{xit(n,e);break}case x.TAG_ID.IMAGE:{Nit(n,e);break}case x.TAG_ID.BUTTON:{wit(n,e);break}case x.TAG_ID.APPLET:case x.TAG_ID.OBJECT:case x.TAG_ID.MARQUEE:{Dit(n,e);break}case x.TAG_ID.IFRAME:{Rit(n,e);break}case x.TAG_ID.SELECT:{Pit(n,e);break}case x.TAG_ID.OPTION:case x.TAG_ID.OPTGROUP:{Mit(n,e);break}case x.TAG_ID.NOEMBED:{UY(n,e);break}case x.TAG_ID.FRAMESET:{git(n,e);break}case x.TAG_ID.TEXTAREA:{Oit(n,e);break}case x.TAG_ID.NOSCRIPT:{n.options.scriptingEnabled?UY(n,e):jY(n,e);break}case x.TAG_ID.PLAINTEXT:{Cit(n,e);break}case x.TAG_ID.COL:case x.TAG_ID.TH:case x.TAG_ID.TD:case x.TAG_ID.TR:case x.TAG_ID.HEAD:case x.TAG_ID.FRAME:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:case x.TAG_ID.CAPTION:case x.TAG_ID.COLGROUP:break;default:jY(n,e)}}function Wit(n,e){if(n.openElements.hasInScope(x.TAG_ID.BODY)&&(n.insertionMode=K.AFTER_BODY,n.options.sourceCodeLocationInfo)){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n._setEndLocation(t,e)}}function Uit(n,e){n.openElements.hasInScope(x.TAG_ID.BODY)&&(n.insertionMode=K.AFTER_BODY,Afe(n,e))}function jit(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t))}function qit(n){const e=n.openElements.tmplCount>0,{formElement:t}=n;e||(n.formElement=null),(t||e)&&n.openElements.hasInScope(x.TAG_ID.FORM)&&(n.openElements.generateImpliedEndTags(),e?n.openElements.popUntilTagNamePopped(x.TAG_ID.FORM):t&&n.openElements.remove(t))}function zit(n){n.openElements.hasInButtonScope(x.TAG_ID.P)||n._insertFakeElement(x.TAG_NAMES.P,x.TAG_ID.P),n._closePElement()}function Git(n){n.openElements.hasInListItemScope(x.TAG_ID.LI)&&(n.openElements.generateImpliedEndTagsWithExclusion(x.TAG_ID.LI),n.openElements.popUntilTagNamePopped(x.TAG_ID.LI))}function $it(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilTagNamePopped(t))}function Kit(n){n.openElements.hasNumberedHeaderInScope()&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilNumberedHeaderPopped())}function Yit(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker())}function Xit(n){n._reconstructActiveFormattingElements(),n._insertFakeElement(x.TAG_NAMES.BR,x.TAG_ID.BR),n.openElements.pop(),n.framesetOk=!1}function _fe(n,e){const t=e.tagName,r=e.tagID;for(let i=n.openElements.stackTop;i>0;i--){const o=n.openElements.items[i],s=n.openElements.tagIDs[i];if(r===s&&(r!==x.TAG_ID.UNKNOWN||n.treeAdapter.getTagName(o)===t)){n.openElements.generateImpliedEndTagsWithExclusion(r),n.openElements.stackTop>=i&&n.openElements.shortenToLength(i);break}if(n._isSpecialElement(o,s))break}}function cx(n,e){switch(e.tagID){case x.TAG_ID.A:case x.TAG_ID.B:case x.TAG_ID.I:case x.TAG_ID.S:case x.TAG_ID.U:case x.TAG_ID.EM:case x.TAG_ID.TT:case x.TAG_ID.BIG:case x.TAG_ID.CODE:case x.TAG_ID.FONT:case x.TAG_ID.NOBR:case x.TAG_ID.SMALL:case x.TAG_ID.STRIKE:case x.TAG_ID.STRONG:{Q9(n,e);break}case x.TAG_ID.P:{zit(n);break}case x.TAG_ID.DL:case x.TAG_ID.UL:case x.TAG_ID.OL:case x.TAG_ID.DIR:case x.TAG_ID.DIV:case x.TAG_ID.NAV:case x.TAG_ID.PRE:case x.TAG_ID.MAIN:case x.TAG_ID.MENU:case x.TAG_ID.ASIDE:case x.TAG_ID.BUTTON:case x.TAG_ID.CENTER:case x.TAG_ID.FIGURE:case x.TAG_ID.FOOTER:case x.TAG_ID.HEADER:case x.TAG_ID.HGROUP:case x.TAG_ID.DIALOG:case x.TAG_ID.ADDRESS:case x.TAG_ID.ARTICLE:case x.TAG_ID.DETAILS:case x.TAG_ID.SECTION:case x.TAG_ID.SUMMARY:case x.TAG_ID.LISTING:case x.TAG_ID.FIELDSET:case x.TAG_ID.BLOCKQUOTE:case x.TAG_ID.FIGCAPTION:{jit(n,e);break}case x.TAG_ID.LI:{Git(n);break}case x.TAG_ID.DD:case x.TAG_ID.DT:{$it(n,e);break}case x.TAG_ID.H1:case x.TAG_ID.H2:case x.TAG_ID.H3:case x.TAG_ID.H4:case x.TAG_ID.H5:case x.TAG_ID.H6:{Kit(n);break}case x.TAG_ID.BR:{Xit(n);break}case x.TAG_ID.BODY:{Wit(n,e);break}case x.TAG_ID.HTML:{Uit(n,e);break}case x.TAG_ID.FORM:{qit(n);break}case x.TAG_ID.APPLET:case x.TAG_ID.OBJECT:case x.TAG_ID.MARQUEE:{Yit(n,e);break}case x.TAG_ID.TEMPLATE:{kg(n,e);break}default:_fe(n,e)}}function yfe(n,e){n.tmplInsertionModeStack.length>0?Dfe(n,e):Z9(n,e)}function Qit(n,e){var t;e.tagID===x.TAG_ID.SCRIPT&&((t=n.scriptHandler)===null||t===void 0||t.call(n,n.openElements.current)),n.openElements.pop(),n.insertionMode=n.originalInsertionMode}function Zit(n,e){n._err(e,to.ERR.eofInElementThatCanContainOnlyText),n.openElements.pop(),n.insertionMode=n.originalInsertionMode,n.onEof(e)}function NR(n,e){if(dfe.has(n.openElements.currentTagId))switch(n.pendingCharacterTokens.length=0,n.hasNonWhitespacePendingCharacterToken=!1,n.originalInsertionMode=n.insertionMode,n.insertionMode=K.IN_TABLE_TEXT,e.type){case ai.TokenType.CHARACTER:{Cfe(n,e);break}case ai.TokenType.WHITESPACE_CHARACTER:{bfe(n,e);break}}else uw(n,e)}function Jit(n,e){n.openElements.clearBackToTableContext(),n.activeFormattingElements.insertMarker(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_CAPTION}function eot(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_COLUMN_GROUP}function tot(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(x.TAG_NAMES.COLGROUP,x.TAG_ID.COLGROUP),n.insertionMode=K.IN_COLUMN_GROUP,J9(n,e)}function not(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_TABLE_BODY}function rot(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(x.TAG_NAMES.TBODY,x.TAG_ID.TBODY),n.insertionMode=K.IN_TABLE_BODY,fx(n,e)}function iot(n,e){n.openElements.hasInTableScope(x.TAG_ID.TABLE)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.TABLE),n._resetInsertionMode(),n._processStartTag(e))}function oot(n,e){mfe(e)?n._appendElement(e,x.NS.HTML):uw(n,e),e.ackSelfClosing=!0}function sot(n,e){!n.formElement&&n.openElements.tmplCount===0&&(n._insertElement(e,x.NS.HTML),n.formElement=n.openElements.current,n.openElements.pop())}function E_(n,e){switch(e.tagID){case x.TAG_ID.TD:case x.TAG_ID.TH:case x.TAG_ID.TR:{rot(n,e);break}case x.TAG_ID.STYLE:case x.TAG_ID.SCRIPT:case x.TAG_ID.TEMPLATE:{Bu(n,e);break}case x.TAG_ID.COL:{tot(n,e);break}case x.TAG_ID.FORM:{sot(n,e);break}case x.TAG_ID.TABLE:{iot(n,e);break}case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{not(n,e);break}case x.TAG_ID.INPUT:{oot(n,e);break}case x.TAG_ID.CAPTION:{Jit(n,e);break}case x.TAG_ID.COLGROUP:{eot(n,e);break}default:uw(n,e)}}function j1(n,e){switch(e.tagID){case x.TAG_ID.TABLE:{n.openElements.hasInTableScope(x.TAG_ID.TABLE)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.TABLE),n._resetInsertionMode());break}case x.TAG_ID.TEMPLATE:{kg(n,e);break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TBODY:case x.TAG_ID.TD:case x.TAG_ID.TFOOT:case x.TAG_ID.TH:case x.TAG_ID.THEAD:case x.TAG_ID.TR:break;default:uw(n,e)}}function uw(n,e){const t=n.fosterParentingEnabled;n.fosterParentingEnabled=!0,lx(n,e),n.fosterParentingEnabled=t}function bfe(n,e){n.pendingCharacterTokens.push(e)}function Cfe(n,e){n.pendingCharacterTokens.push(e),n.hasNonWhitespacePendingCharacterToken=!0}function xy(n,e){let t=0;if(n.hasNonWhitespacePendingCharacterToken)for(;t<n.pendingCharacterTokens.length;t++)uw(n,n.pendingCharacterTokens[t]);else for(;t<n.pendingCharacterTokens.length;t++)n._insertCharacters(n.pendingCharacterTokens[t]);n.insertionMode=n.originalInsertionMode,n._processToken(e)}const wfe=new Set([x.TAG_ID.CAPTION,x.TAG_ID.COL,x.TAG_ID.COLGROUP,x.TAG_ID.TBODY,x.TAG_ID.TD,x.TAG_ID.TFOOT,x.TAG_ID.TH,x.TAG_ID.THEAD,x.TAG_ID.TR]);function aot(n,e){const t=e.tagID;wfe.has(t)?n.openElements.hasInTableScope(x.TAG_ID.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.TAG_ID.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=K.IN_TABLE,E_(n,e)):Fo(n,e)}function uot(n,e){const t=e.tagID;switch(t){case x.TAG_ID.CAPTION:case x.TAG_ID.TABLE:{n.openElements.hasInTableScope(x.TAG_ID.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.TAG_ID.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=K.IN_TABLE,t===x.TAG_ID.TABLE&&j1(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TBODY:case x.TAG_ID.TD:case x.TAG_ID.TFOOT:case x.TAG_ID.TH:case x.TAG_ID.THEAD:case x.TAG_ID.TR:break;default:cx(n,e)}}function J9(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.COL:{n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0;break}case x.TAG_ID.TEMPLATE:{Bu(n,e);break}default:uA(n,e)}}function lot(n,e){switch(e.tagID){case x.TAG_ID.COLGROUP:{n.openElements.currentTagId===x.TAG_ID.COLGROUP&&(n.openElements.pop(),n.insertionMode=K.IN_TABLE);break}case x.TAG_ID.TEMPLATE:{kg(n,e);break}case x.TAG_ID.COL:break;default:uA(n,e)}}function uA(n,e){n.openElements.currentTagId===x.TAG_ID.COLGROUP&&(n.openElements.pop(),n.insertionMode=K.IN_TABLE,n._processToken(e))}function fx(n,e){switch(e.tagID){case x.TAG_ID.TR:{n.openElements.clearBackToTableBodyContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_ROW;break}case x.TAG_ID.TH:case x.TAG_ID.TD:{n.openElements.clearBackToTableBodyContext(),n._insertFakeElement(x.TAG_NAMES.TR,x.TAG_ID.TR),n.insertionMode=K.IN_ROW,hx(n,e);break}case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE,E_(n,e));break}default:E_(n,e)}}function xF(n,e){const t=e.tagID;switch(e.tagID){case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{n.openElements.hasInTableScope(t)&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE);break}case x.TAG_ID.TABLE:{n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE,j1(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TD:case x.TAG_ID.TH:case x.TAG_ID.TR:break;default:j1(n,e)}}function hx(n,e){switch(e.tagID){case x.TAG_ID.TH:case x.TAG_ID.TD:{n.openElements.clearBackToTableRowContext(),n._insertElement(e,x.NS.HTML),n.insertionMode=K.IN_CELL,n.activeFormattingElements.insertMarker();break}case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:case x.TAG_ID.TR:{n.openElements.hasInTableScope(x.TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY,fx(n,e));break}default:E_(n,e)}}function Efe(n,e){switch(e.tagID){case x.TAG_ID.TR:{n.openElements.hasInTableScope(x.TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY);break}case x.TAG_ID.TABLE:{n.openElements.hasInTableScope(x.TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY,xF(n,e));break}case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{(n.openElements.hasInTableScope(e.tagID)||n.openElements.hasInTableScope(x.TAG_ID.TR))&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=K.IN_TABLE_BODY,xF(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:case x.TAG_ID.TD:case x.TAG_ID.TH:break;default:j1(n,e)}}function cot(n,e){const t=e.tagID;wfe.has(t)?(n.openElements.hasInTableScope(x.TAG_ID.TD)||n.openElements.hasInTableScope(x.TAG_ID.TH))&&(n._closeTableCell(),hx(n,e)):Fo(n,e)}function fot(n,e){const t=e.tagID;switch(t){case x.TAG_ID.TD:case x.TAG_ID.TH:{n.openElements.hasInTableScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=K.IN_ROW);break}case x.TAG_ID.TABLE:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:case x.TAG_ID.TR:{n.openElements.hasInTableScope(t)&&(n._closeTableCell(),Efe(n,e));break}case x.TAG_ID.BODY:case x.TAG_ID.CAPTION:case x.TAG_ID.COL:case x.TAG_ID.COLGROUP:case x.TAG_ID.HTML:break;default:cx(n,e)}}function Sfe(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.OPTION:{n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop(),n._insertElement(e,x.NS.HTML);break}case x.TAG_ID.OPTGROUP:{n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop(),n.openElements.currentTagId===x.TAG_ID.OPTGROUP&&n.openElements.pop(),n._insertElement(e,x.NS.HTML);break}case x.TAG_ID.INPUT:case x.TAG_ID.KEYGEN:case x.TAG_ID.TEXTAREA:case x.TAG_ID.SELECT:{n.openElements.hasInSelectScope(x.TAG_ID.SELECT)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode(),e.tagID!==x.TAG_ID.SELECT&&n._processStartTag(e));break}case x.TAG_ID.SCRIPT:case x.TAG_ID.TEMPLATE:{Bu(n,e);break}}}function Tfe(n,e){switch(e.tagID){case x.TAG_ID.OPTGROUP:{n.openElements.stackTop>0&&n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.tagIDs[n.openElements.stackTop-1]===x.TAG_ID.OPTGROUP&&n.openElements.pop(),n.openElements.currentTagId===x.TAG_ID.OPTGROUP&&n.openElements.pop();break}case x.TAG_ID.OPTION:{n.openElements.currentTagId===x.TAG_ID.OPTION&&n.openElements.pop();break}case x.TAG_ID.SELECT:{n.openElements.hasInSelectScope(x.TAG_ID.SELECT)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode());break}case x.TAG_ID.TEMPLATE:{kg(n,e);break}}}function hot(n,e){const t=e.tagID;t===x.TAG_ID.CAPTION||t===x.TAG_ID.TABLE||t===x.TAG_ID.TBODY||t===x.TAG_ID.TFOOT||t===x.TAG_ID.THEAD||t===x.TAG_ID.TR||t===x.TAG_ID.TD||t===x.TAG_ID.TH?(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode(),n._processStartTag(e)):Sfe(n,e)}function dot(n,e){const t=e.tagID;t===x.TAG_ID.CAPTION||t===x.TAG_ID.TABLE||t===x.TAG_ID.TBODY||t===x.TAG_ID.TFOOT||t===x.TAG_ID.THEAD||t===x.TAG_ID.TR||t===x.TAG_ID.TD||t===x.TAG_ID.TH?n.openElements.hasInTableScope(t)&&(n.openElements.popUntilTagNamePopped(x.TAG_ID.SELECT),n._resetInsertionMode(),n.onEndTag(e)):Tfe(n,e)}function pot(n,e){switch(e.tagID){case x.TAG_ID.BASE:case x.TAG_ID.BASEFONT:case x.TAG_ID.BGSOUND:case x.TAG_ID.LINK:case x.TAG_ID.META:case x.TAG_ID.NOFRAMES:case x.TAG_ID.SCRIPT:case x.TAG_ID.STYLE:case x.TAG_ID.TEMPLATE:case x.TAG_ID.TITLE:{Bu(n,e);break}case x.TAG_ID.CAPTION:case x.TAG_ID.COLGROUP:case x.TAG_ID.TBODY:case x.TAG_ID.TFOOT:case x.TAG_ID.THEAD:{n.tmplInsertionModeStack[0]=K.IN_TABLE,n.insertionMode=K.IN_TABLE,E_(n,e);break}case x.TAG_ID.COL:{n.tmplInsertionModeStack[0]=K.IN_COLUMN_GROUP,n.insertionMode=K.IN_COLUMN_GROUP,J9(n,e);break}case x.TAG_ID.TR:{n.tmplInsertionModeStack[0]=K.IN_TABLE_BODY,n.insertionMode=K.IN_TABLE_BODY,fx(n,e);break}case x.TAG_ID.TD:case x.TAG_ID.TH:{n.tmplInsertionModeStack[0]=K.IN_ROW,n.insertionMode=K.IN_ROW,hx(n,e);break}default:n.tmplInsertionModeStack[0]=K.IN_BODY,n.insertionMode=K.IN_BODY,Fo(n,e)}}function got(n,e){e.tagID===x.TAG_ID.TEMPLATE&&kg(n,e)}function Dfe(n,e){n.openElements.tmplCount>0?(n.openElements.popUntilTagNamePopped(x.TAG_ID.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode(),n.onEof(e)):Z9(n,e)}function vot(n,e){e.tagID===x.TAG_ID.HTML?Fo(n,e):lA(n,e)}function Afe(n,e){var t;if(e.tagID===x.TAG_ID.HTML){if(n.fragmentContext||(n.insertionMode=K.AFTER_AFTER_BODY),n.options.sourceCodeLocationInfo&&n.openElements.tagIDs[0]===x.TAG_ID.HTML){n._setEndLocation(n.openElements.items[0],e);const r=n.openElements.items[1];r&&!(!((t=n.treeAdapter.getNodeSourceCodeLocation(r))===null||t===void 0)&&t.endTag)&&n._setEndLocation(r,e)}}else lA(n,e)}function lA(n,e){n.insertionMode=K.IN_BODY,lx(n,e)}function mot(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.FRAMESET:{n._insertElement(e,x.NS.HTML);break}case x.TAG_ID.FRAME:{n._appendElement(e,x.NS.HTML),e.ackSelfClosing=!0;break}case x.TAG_ID.NOFRAMES:{Bu(n,e);break}}}function _ot(n,e){e.tagID===x.TAG_ID.FRAMESET&&!n.openElements.isRootHtmlElementCurrent()&&(n.openElements.pop(),!n.fragmentContext&&n.openElements.currentTagId!==x.TAG_ID.FRAMESET&&(n.insertionMode=K.AFTER_FRAMESET))}function yot(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.NOFRAMES:{Bu(n,e);break}}}function bot(n,e){e.tagID===x.TAG_ID.HTML&&(n.insertionMode=K.AFTER_AFTER_FRAMESET)}function Cot(n,e){e.tagID===x.TAG_ID.HTML?Fo(n,e):nT(n,e)}function nT(n,e){n.insertionMode=K.IN_BODY,lx(n,e)}function wot(n,e){switch(e.tagID){case x.TAG_ID.HTML:{Fo(n,e);break}case x.TAG_ID.NOFRAMES:{Bu(n,e);break}}}function Eot(n,e){e.chars=hfe.REPLACEMENT_CHARACTER,n._insertCharacters(e)}function Sot(n,e){n._insertCharacters(e),n.framesetOk=!1}function Ife(n){for(;n.treeAdapter.getNamespaceURI(n.openElements.current)!==x.NS.HTML&&!n._isIntegrationPoint(n.openElements.currentTagId,n.openElements.current);)n.openElements.pop()}function Tot(n,e){if(sl.causesExit(e))Ife(n),n._startTagOutsideForeignContent(e);else{const t=n._getAdjustedCurrentElement(),r=n.treeAdapter.getNamespaceURI(t);r===x.NS.MATHML?sl.adjustTokenMathMLAttrs(e):r===x.NS.SVG&&(sl.adjustTokenSVGTagName(e),sl.adjustTokenSVGAttrs(e)),sl.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,r):n._insertElement(e,r),e.ackSelfClosing=!0}}function Dot(n,e){if(e.tagID===x.TAG_ID.P||e.tagID===x.TAG_ID.BR){Ife(n),n._endTagOutsideForeignContent(e);return}for(let t=n.openElements.stackTop;t>0;t--){const r=n.openElements.items[t];if(n.treeAdapter.getNamespaceURI(r)===x.NS.HTML){n._endTagOutsideForeignContent(e);break}const i=n.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,n.openElements.shortenToLength(t);break}}}var S_={},xfe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.getCodePoint=n.xmlReplacer=void 0,n.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);n.getCodePoint=String.prototype.codePointAt!=null?function(i,o){return i.codePointAt(o)}:function(i,o){return(i.charCodeAt(o)&64512)===55296?(i.charCodeAt(o)-55296)*1024+i.charCodeAt(o+1)-56320+65536:i.charCodeAt(o)};function t(i){for(var o="",s=0,a;(a=n.xmlReplacer.exec(i))!==null;){var u=a.index,l=i.charCodeAt(u),c=e.get(l);c!==void 0?(o+=i.substring(s,u)+c,s=u+1):(o+="".concat(i.substring(s,u),"&#x").concat((0,n.getCodePoint)(i,u).toString(16),";"),s=n.xmlReplacer.lastIndex+=+((l&64512)===55296))}return o+i.substr(s)}n.encodeXML=t,n.escape=t;function r(i,o){return function(a){for(var u,l=0,c="";u=i.exec(a);)l!==u.index&&(c+=a.substring(l,u.index)),c+=o.get(u[0].charCodeAt(0)),l=u.index+1;return c+a.substring(l)}}n.escapeUTF8=r(/[&<>'"]/g,e),n.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),n.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(xfe);Object.defineProperty(S_,"__esModule",{value:!0});S_.serializeOuter=S_.serialize=void 0;const Yn=tf,Lfe=xfe,Aot=ux,Iot=new Set([Yn.TAG_NAMES.AREA,Yn.TAG_NAMES.BASE,Yn.TAG_NAMES.BASEFONT,Yn.TAG_NAMES.BGSOUND,Yn.TAG_NAMES.BR,Yn.TAG_NAMES.COL,Yn.TAG_NAMES.EMBED,Yn.TAG_NAMES.FRAME,Yn.TAG_NAMES.HR,Yn.TAG_NAMES.IMG,Yn.TAG_NAMES.INPUT,Yn.TAG_NAMES.KEYGEN,Yn.TAG_NAMES.LINK,Yn.TAG_NAMES.META,Yn.TAG_NAMES.PARAM,Yn.TAG_NAMES.SOURCE,Yn.TAG_NAMES.TRACK,Yn.TAG_NAMES.WBR]);function Nfe(n,e){return e.treeAdapter.isElementNode(n)&&e.treeAdapter.getNamespaceURI(n)===Yn.NS.HTML&&Iot.has(e.treeAdapter.getTagName(n))}const Ofe={treeAdapter:Aot.defaultTreeAdapter,scriptingEnabled:!0};function xot(n,e){const t=Object.assign(Object.assign({},Ofe),e);return Nfe(n,t)?"":kfe(n,t)}S_.serialize=xot;function Lot(n,e){const t=Object.assign(Object.assign({},Ofe),e);return Rfe(n,t)}S_.serializeOuter=Lot;function kfe(n,e){let t="";const r=e.treeAdapter.isElementNode(n)&&e.treeAdapter.getTagName(n)===Yn.TAG_NAMES.TEMPLATE&&e.treeAdapter.getNamespaceURI(n)===Yn.NS.HTML?e.treeAdapter.getTemplateContent(n):n,i=e.treeAdapter.getChildNodes(r);if(i)for(const o of i)t+=Rfe(o,e);return t}function Rfe(n,e){return e.treeAdapter.isElementNode(n)?Not(n,e):e.treeAdapter.isTextNode(n)?kot(n,e):e.treeAdapter.isCommentNode(n)?Rot(n,e):e.treeAdapter.isDocumentTypeNode(n)?Pot(n,e):""}function Not(n,e){const t=e.treeAdapter.getTagName(n);return`<${t}${Oot(n,e)}>${Nfe(n,e)?"":`${kfe(n,e)}</${t}>`}`}function Oot(n,{treeAdapter:e}){let t="";for(const r of e.getAttrList(n)){if(t+=" ",!r.namespace)t+=r.name;else switch(r.namespace){case Yn.NS.XML:{t+=`xml:${r.name}`;break}case Yn.NS.XMLNS:{r.name!=="xmlns"&&(t+="xmlns:"),t+=r.name;break}case Yn.NS.XLINK:{t+=`xlink:${r.name}`;break}default:t+=`${r.prefix}:${r.name}`}t+=`="${(0,Lfe.escapeAttribute)(r.value)}"`}return t}function kot(n,e){const{treeAdapter:t}=e,r=t.getTextNodeContent(n),i=t.getParentNode(n),o=i&&t.isElementNode(i)&&t.getTagName(i);return o&&t.getNamespaceURI(i)===Yn.NS.HTML&&(0,Yn.hasUnescapedText)(o,e.scriptingEnabled)?r:(0,Lfe.escapeText)(r)}function Rot(n,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(n)}-->`}function Pot(n,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(n)}>`}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseFragment=n.parse=n.TokenizerMode=n.Tokenizer=n.Token=n.html=n.foreignContent=n.ErrorCodes=n.serializeOuter=n.serialize=n.Parser=n.defaultTreeAdapter=void 0;const e=U1;var t=ux;Object.defineProperty(n,"defaultTreeAdapter",{enumerable:!0,get:function(){return t.defaultTreeAdapter}});var r=U1;Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=S_;Object.defineProperty(n,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(n,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var o=aw;Object.defineProperty(n,"ErrorCodes",{enumerable:!0,get:function(){return o.ERR}}),n.foreignContent=X9,n.html=tf,n.Token=ox;var s=rg;Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return s.Tokenizer}}),Object.defineProperty(n,"TokenizerMode",{enumerable:!0,get:function(){return s.TokenizerMode}});function a(l,c){return e.Parser.parse(l,c)}n.parse=a;function u(l,c,h){typeof l=="string"&&(h=c,c=l,l=null);const d=e.Parser.getFragmentParser(l,h);return d.tokenizer.write(c,!0),d.getFragment()}n.parseFragment=u})($9);var Pfe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.adapter=n.serializeDoctypeContent=void 0;const e=$9,t=No;function r(s){return new t.Text(s)}function i(s){const a=s.includes('"')?"'":'"';return a+s+a}function o(s,a,u){let l="!DOCTYPE ";return s&&(l+=s),a?l+=` PUBLIC ${i(a)}`:u&&(l+=" SYSTEM"),u&&(l+=` ${i(u)}`),l}n.serializeDoctypeContent=o,n.adapter={isCommentNode:t.isComment,isElementNode:t.isTag,isTextNode:t.isText,createDocument(){const s=new t.Document([]);return s["x-mode"]=e.html.DOCUMENT_MODE.NO_QUIRKS,s},createDocumentFragment(){return new t.Document([])},createElement(s,a,u){const l=Object.create(null),c=Object.create(null),h=Object.create(null);for(let p=0;p<u.length;p++){const v=u[p].name;l[v]=u[p].value,c[v]=u[p].namespace,h[v]=u[p].prefix}const d=new t.Element(s,l,[]);return d.namespace=a,d["x-attribsNamespace"]=c,d["x-attribsPrefix"]=h,d},createCommentNode(s){return new t.Comment(s)},appendChild(s,a){const u=s.children[s.children.length-1];u&&(u.next=a,a.prev=u),s.children.push(a),a.parent=s},insertBefore(s,a,u){const l=s.children.indexOf(u),{prev:c}=u;c&&(c.next=a,a.prev=c),u.prev=a,a.next=u,s.children.splice(l,0,a),a.parent=s},setTemplateContent(s,a){n.adapter.appendChild(s,a)},getTemplateContent(s){return s.children[0]},setDocumentType(s,a,u,l){const c=o(a,u,l);let h=s.children.find(d=>(0,t.isDirective)(d)&&d.name==="!doctype");h?h.data=c??null:(h=new t.ProcessingInstruction("!doctype",c),n.adapter.appendChild(s,h)),h["x-name"]=a??void 0,h["x-publicId"]=u??void 0,h["x-systemId"]=l??void 0},setDocumentMode(s,a){s["x-mode"]=a},getDocumentMode(s){return s["x-mode"]},detachNode(s){if(s.parent){const a=s.parent.children.indexOf(s),{prev:u,next:l}=s;s.prev=null,s.next=null,u&&(u.next=l),l&&(l.prev=u),s.parent.children.splice(a,1),s.parent=null}},insertText(s,a){const u=s.children[s.children.length-1];u&&(0,t.isText)(u)?u.data+=a:n.adapter.appendChild(s,r(a))},insertTextBefore(s,a,u){const l=s.children[s.children.indexOf(u)-1];l&&(0,t.isText)(l)?l.data+=a:n.adapter.insertBefore(s,r(a),u)},adoptAttributes(s,a){for(let u=0;u<a.length;u++){const l=a[u].name;typeof s.attribs[l]>"u"&&(s.attribs[l]=a[u].value,s["x-attribsNamespace"][l]=a[u].namespace,s["x-attribsPrefix"][l]=a[u].prefix)}},getFirstChild(s){return s.children[0]},getChildNodes(s){return s.children},getParentNode(s){return s.parent},getAttrList(s){return s.attributes},getTagName(s){return s.name},getNamespaceURI(s){return s.namespace},getTextNodeContent(s){return s.data},getCommentNodeContent(s){return s.data},getDocumentTypeNodeName(s){var a;return(a=s["x-name"])!==null&&a!==void 0?a:""},getDocumentTypeNodePublicId(s){var a;return(a=s["x-publicId"])!==null&&a!==void 0?a:""},getDocumentTypeNodeSystemId(s){var a;return(a=s["x-systemId"])!==null&&a!==void 0?a:""},isDocumentTypeNode(s){return(0,t.isDirective)(s)&&s.name==="!doctype"},setNodeSourceCodeLocation(s,a){a&&(s.startIndex=a.startOffset,s.endIndex=a.endOffset),s.sourceCodeLocation=a},getNodeSourceCodeLocation(s){return s.sourceCodeLocation},updateNodeSourceCodeLocation(s,a){a.endOffset!=null&&(s.endIndex=a.endOffset),s.sourceCodeLocation=Object.assign(Object.assign({},s.sourceCodeLocation),a)}}})(Pfe);var Mot=ue&&ue.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(C_,"__esModule",{value:!0});C_.renderWithParse5=C_.parseWithParse5=void 0;var Fot=No,LF=$9,Mfe=Pfe;function Bot(n,e,t,r){var i={scriptingEnabled:typeof e.scriptingEnabled=="boolean"?e.scriptingEnabled:!0,treeAdapter:Mfe.adapter,sourceCodeLocationInfo:e.sourceCodeLocationInfo};return t?(0,LF.parse)(n,i):(0,LF.parseFragment)(r,n,i)}C_.parseWithParse5=Bot;var Hot={treeAdapter:Mfe.adapter};function Vot(n){for(var e,t=("length"in n)?n:[n],r=0;r<t.length;r+=1){var i=t[r];(0,Fot.isDocument)(i)&&(e=Array.prototype.splice).call.apply(e,Mot([t,r,1],i.children,!1))}for(var o="",r=0;r<t.length;r+=1){var i=t[r];o+=(0,LF.serializeOuter)(i,Hot)}return o}C_.renderWithParse5=Vot;var Ffe={},q1={},eH={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteType=void 0;var e=sx,t;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(d){return d===t.Space||d===t.NewLine||d===t.Tab||d===t.FormFeed||d===t.CarriageReturn}function o(d){return d===t.Slash||d===t.Gt||i(d)}function s(d){return d>=t.Zero&&d<=t.Nine}function a(d){return d>=t.LowerA&&d<=t.LowerZ||d>=t.UpperA&&d<=t.UpperZ}function u(d){return d>=t.UpperA&&d<=t.UpperF||d>=t.LowerA&&d<=t.LowerF}var l;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(l=n.QuoteType||(n.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},h=function(){function d(p,v){var m=p.xmlMode,_=m===void 0?!1:m,b=p.decodeEntities,C=b===void 0?!0:b;this.cbs=v,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=C,this.entityTrie=_?e.xmlDecodeTree:e.htmlDecodeTree}return d.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(p){p===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===t.Amp&&(this.state=r.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(p){var v=this.sequenceIndex===this.currentSequence.length,m=v?o(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!m)this.isSpecial=!1;else if(!v){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(p)},d.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===t.Gt||i(p)){var v=this.index-this.currentSequence.length;if(this.sectionStart<v){var m=this.index;this.index=v,this.cbs.ontext(this.sectionStart,v),this.index=m}this.isSpecial=!1,this.sectionStart=v+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&p===t.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===t.Lt)},d.prototype.stateCDATASequence=function(p){p===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(p))},d.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(p){return this.xmlMode?!o(p):a(p)},d.prototype.startSpecial=function(p,v){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=v,this.state=r.SpecialStartSequence},d.prototype.stateBeforeTagName=function(p){if(p===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var v=p|32;this.sectionStart=this.index,!this.xmlMode&&v===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&v===c.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else p===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(p))},d.prototype.stateInTagName=function(p){o(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateBeforeClosingTagName=function(p){i(p)||(p===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(p)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(p){(p===t.Gt||i(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(p))},d.prototype.stateAfterClosingTagName=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(p){p===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===t.Slash?this.state=r.InSelfClosingTag:i(p)||(this.state=r.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(p){p===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(p)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateInAttributeName=function(p){(p===t.Eq||o(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(p))},d.prototype.stateAfterAttributeName=function(p){p===t.Eq?this.state=r.BeforeAttributeValue:p===t.Slash||p===t.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p)):i(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(p){p===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):p===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(p)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},d.prototype.handleInAttributeValue=function(p,v){p===v||!this.decodeEntities&&this.fastForwardTo(v)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(v===t.DoubleQuote?l.Double:l.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&p===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,t.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,t.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(p){i(p)||p===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(p){p===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=p===t.Dash?r.BeforeComment:r.InDeclaration},d.prototype.stateInDeclaration=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(p){p===t.Dash?(this.state=r.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},d.prototype.stateInSpecialComment=function(p){(p===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(p){var v=p|32;v===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):v===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(p))},d.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===t.Number?this.state=r.BeforeNumericEntity:p===t.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(p))},d.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var v=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(v){var m=(v>>14)-1;if(!this.allowLegacyEntity()&&p!==t.Semi)this.trieIndex+=m;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=m,this.entityExcess=0,this.sectionStart=this.index+1,m===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(p){(p|32)===t.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(p))},d.prototype.emitNumericEntity=function(p){var v=this.index-this.entityExcess-1,m=v+2+ +(this.state===r.InHexEntity);m!==this.index&&(v>this.sectionStart&&this.emitPartial(this.sectionStart,v),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(p){p===t.Semi?this.emitNumericEntity(!0):s(p)?(this.entityResult=this.entityResult*10+(p-t.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(p){p===t.Semi?this.emitNumericEntity(!0):s(p)?(this.entityResult=this.entityResult*16+(p-t.Zero),this.entityExcess++):u(p)?(this.entityResult=this.entityResult*16+((p|32)-t.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(p);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case r.InSpecialTag:{this.stateInSpecialTag(p);break}case r.CDATASequence:{this.stateCDATASequence(p);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case r.InAttributeName:{this.stateInAttributeName(p);break}case r.InCommentLike:{this.stateInCommentLike(p);break}case r.InSpecialComment:{this.stateInSpecialComment(p);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case r.InTagName:{this.stateInTagName(p);break}case r.InClosingTagName:{this.stateInClosingTagName(p);break}case r.BeforeTagName:{this.stateBeforeTagName(p);break}case r.AfterAttributeName:{this.stateAfterAttributeName(p);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case r.InDeclaration:{this.stateInDeclaration(p);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case r.BeforeComment:{this.stateBeforeComment(p);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case r.InNamedEntity:{this.stateInNamedEntity(p);break}case r.BeforeEntity:{this.stateBeforeEntity(p);break}case r.InHexEntity:{this.stateInHexEntity(p);break}case r.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},d.prototype.emitPartial=function(p,v){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(p,v):this.cbs.ontext(p,v)},d.prototype.emitCodePoint=function(p){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},d}();n.default=h})(eH);var Wot=ue&&ue.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Uot=ue&&ue.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),jot=ue&&ue.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Wot(e,n,t);return Uot(e,n),e};Object.defineProperty(q1,"__esModule",{value:!0});q1.Parser=void 0;var bS=jot(eH),qY=sx,Dv=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Fn=new Set(["p"]),zY=new Set(["thead","tbody"]),GY=new Set(["dd","dt"]),$Y=new Set(["rt","rp"]),qot=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Fn],["h1",Fn],["h2",Fn],["h3",Fn],["h4",Fn],["h5",Fn],["h6",Fn],["select",Dv],["input",Dv],["output",Dv],["button",Dv],["datalist",Dv],["textarea",Dv],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",GY],["dt",GY],["address",Fn],["article",Fn],["aside",Fn],["blockquote",Fn],["details",Fn],["div",Fn],["dl",Fn],["fieldset",Fn],["figcaption",Fn],["figure",Fn],["footer",Fn],["form",Fn],["header",Fn],["hr",Fn],["main",Fn],["nav",Fn],["ol",Fn],["pre",Fn],["section",Fn],["table",Fn],["ul",Fn],["rt",$Y],["rp",$Y],["tbody",zY],["tfoot",zY]]),zot=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),KY=new Set(["math","svg"]),YY=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Got=/\s|\//,$ot=function(){function n(e,t){t===void 0&&(t={});var r,i,o,s,a;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:!t.xmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:!t.xmlMode,this.tokenizer=new((o=t.Tokenizer)!==null&&o!==void 0?o:bS.default)(this.options,this),(a=(s=this.cbs).onparserinit)===null||a===void 0||a.call(s,this)}return n.prototype.ontext=function(e,t){var r,i,o=this.getSlice(e,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,o),this.startIndex=t},n.prototype.ontextentity=function(e){var t,r,i=this.tokenizer.getSectionStart();this.endIndex=i-1,(r=(t=this.cbs).ontext)===null||r===void 0||r.call(t,(0,qY.fromCodePoint)(e)),this.startIndex=i},n.prototype.isVoidElement=function(e){return!this.options.xmlMode&&zot.has(e)},n.prototype.onopentagname=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},n.prototype.emitOpenTag=function(e){var t,r,i,o;this.openTagStart=this.startIndex,this.tagname=e;var s=!this.options.xmlMode&&qot.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var a=this.stack.pop();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,a,!0)}this.isVoidElement(e)||(this.stack.push(e),KY.has(e)?this.foreignContext.push(!0):YY.has(e)&&this.foreignContext.push(!1)),(o=(i=this.cbs).onopentagname)===null||o===void 0||o.call(i,e),this.cbs.onopentag&&(this.attribs={})},n.prototype.endOpenTag=function(e){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},n.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},n.prototype.onclosetag=function(e,t){var r,i,o,s,a,u;this.endIndex=t;var l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(KY.has(l)||YY.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((i=(r=this.cbs).onopentagname)===null||i===void 0||i.call(r,"br"),(s=(o=this.cbs).onopentag)===null||s===void 0||s.call(o,"br",{},!0),(u=(a=this.cbs).onclosetag)===null||u===void 0||u.call(a,"br",!1));else{var c=this.stack.lastIndexOf(l);if(c!==-1)if(this.cbs.onclosetag)for(var h=this.stack.length-c;h--;)this.cbs.onclosetag(this.stack.pop(),h!==0);else this.stack.length=c;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},n.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},n.prototype.closeCurrentTag=function(e){var t,r,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!e),this.stack.pop())},n.prototype.onattribname=function(e,t){this.startIndex=e;var r=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},n.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},n.prototype.onattribentity=function(e){this.attribvalue+=(0,qY.fromCodePoint)(e)},n.prototype.onattribend=function(e,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===bS.QuoteType.Double?'"':e===bS.QuoteType.Single?"'":e===bS.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},n.prototype.getInstructionName=function(e){var t=e.search(Got),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},n.prototype.ondeclaration=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(r))}this.startIndex=t+1},n.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(r))}this.startIndex=t+1},n.prototype.oncomment=function(e,t,r){var i,o,s,a;this.endIndex=t,(o=(i=this.cbs).oncomment)===null||o===void 0||o.call(i,this.getSlice(e,t-r)),(a=(s=this.cbs).oncommentend)===null||a===void 0||a.call(s),this.startIndex=t+1},n.prototype.oncdata=function(e,t,r){var i,o,s,a,u,l,c,h,d,p;this.endIndex=t;var v=this.getSlice(e,t-r);this.options.xmlMode||this.options.recognizeCDATA?((o=(i=this.cbs).oncdatastart)===null||o===void 0||o.call(i),(a=(s=this.cbs).ontext)===null||a===void 0||a.call(s,v),(l=(u=this.cbs).oncdataend)===null||l===void 0||l.call(u)):((h=(c=this.cbs).oncomment)===null||h===void 0||h.call(c,"[CDATA[".concat(v,"]]")),(p=(d=this.cbs).oncommentend)===null||p===void 0||p.call(d)),this.startIndex=t+1},n.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},n.prototype.reset=function(){var e,t,r,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r},n.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},n.prototype.write=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},n.prototype.end=function(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},n.prototype.pause=function(){this.tokenizer.pause()},n.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},n.prototype.parseChunk=function(e){this.write(e)},n.prototype.done=function(e){this.end(e)},n}();q1.Parser=$ot;(function(n){var e=ue&&ue.__createBinding||(Object.create?function(b,C,E,S){S===void 0&&(S=E);var A=Object.getOwnPropertyDescriptor(C,E);(!A||("get"in A?!C.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(b,S,A)}:function(b,C,E,S){S===void 0&&(S=E),b[S]=C[E]}),t=ue&&ue.__setModuleDefault||(Object.create?function(b,C){Object.defineProperty(b,"default",{enumerable:!0,value:C})}:function(b,C){b.default=C}),r=ue&&ue.__importStar||function(b){if(b&&b.__esModule)return b;var C={};if(b!=null)for(var E in b)E!=="default"&&Object.prototype.hasOwnProperty.call(b,E)&&e(C,b,E);return t(C,b),C},i=ue&&ue.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.parseFeed=n.getFeed=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DefaultHandler=n.DomHandler=n.Parser=void 0;var o=q1,s=q1;Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=No,u=No;Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function l(b,C){var E=new a.DomHandler(void 0,C);return new o.Parser(E,C).end(b),E.root}n.parseDocument=l;function c(b,C){return l(b,C).children}n.parseDOM=c;function h(b,C,E){var S=new a.DomHandler(b,C,E);return new o.Parser(S,C)}n.createDomStream=h;var d=eH;Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return i(d).default}}),n.ElementType=r(a0);var p=Du,v=Du;Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return v.getFeed}});var m={xmlMode:!0};function _(b,C){return C===void 0&&(C=m),(0,p.getFeed)(c(b,C))}n.parseFeed=_,n.DomUtils=r(Du)})(Ffe);(function(n){var e=ue&&ue.__createBinding||(Object.create?function(v,m,_,b){b===void 0&&(b=_);var C=Object.getOwnPropertyDescriptor(m,_);(!C||("get"in C?!m.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(v,b,C)}:function(v,m,_,b){b===void 0&&(b=_),v[b]=m[_]}),t=ue&&ue.__setModuleDefault||(Object.create?function(v,m){Object.defineProperty(v,"default",{enumerable:!0,value:m})}:function(v,m){v.default=m}),r=ue&&ue.__exportStar||function(v,m){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(m,_)&&e(m,v,_)},i=ue&&ue.__importStar||function(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var _ in v)_!=="default"&&Object.prototype.hasOwnProperty.call(v,_)&&e(m,v,_);return t(m,v),m},o=ue&&ue.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(n,"__esModule",{value:!0}),n.root=n.parseHTML=n.merge=n.contains=n.text=n.xml=n.html=n.load=void 0,r(uce,n);var s=UI,a=ng,u=C_,l=o(u0),c=Ffe,h=(0,a.getParse)(function(v,m,_,b){return m.xmlMode||m._useHtmlParser2?(0,c.parseDocument)(v,m):(0,u.parseWithParse5)(v,m,_,b)});n.load=(0,s.getLoad)(h,function(v,m){return m.xmlMode||m._useHtmlParser2?(0,l.default)(v,m):(0,u.renderWithParse5)(v)}),n.default=(0,n.load)([]);var d=Rr;Object.defineProperty(n,"html",{enumerable:!0,get:function(){return d.html}}),Object.defineProperty(n,"xml",{enumerable:!0,get:function(){return d.xml}}),Object.defineProperty(n,"text",{enumerable:!0,get:function(){return d.text}});var p=i(Rr);n.contains=p.contains,n.merge=p.merge,n.parseHTML=p.parseHTML,n.root=p.root})(ace);var OR={},Bfe={exports:{}},Hfe={exports:{}};(function(n,e){n.exports=t;function t(i){return r.bind(null,i)}function r(i){var o=[].slice.call(arguments,1);o.unshift("["+i+"]"),process.stderr.write(o.join(" ")+`
`)}})(Hfe);var tH=Hfe.exports;(function(n,e){tH("lex"),n.exports=t;function t(r){var i="",o,s=0,a=-1,u=0,l=1,c="before-selector",h=[c],d={},p=[],v=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function m(){return k(),r[a]}function _(ne){return ne?h[h.length-1-ne]:c}function b(ne){var ie=a+1;return ne===r.slice(ie,ie+ne.length)}function C(ne){var ie=r.slice(a).indexOf(ne);return ie>0?ie:!1}function E(ne){return ne===S(1)}function S(ne){return r[a+(ne||1)]}function A(){var ne=h.pop();return c=h[h.length-1],ne}function T(ne){return c=ne,h.push(c),h.length}function N(ne){var ie=c;return h[h.length-1]=c=ne,ie}function k(ne){if((ne||1)==1)r[a]==`
`?(l++,s=1):s++,a++;else{var ie=r.slice(a,a+ne).split(`
`);ie.length>1&&(l+=ie.length-1,s=1),s+=ie[ie.length-1].length,a=a+ne}}function F(){d.end={line:l,col:s},p.push(d),i="",d={}}function L(ne){d={type:ne,start:{line:l,col:s}}}for(;o=m();)switch(o){case" ":switch(_()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":i+=o;break}break;case`
`:case"	":case"\r":case"\f":switch(_()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":i+=o;break;case"at-value":o===`
`&&(d.value=i.trim(),F(),A());break}break;case":":switch(_()){case"name":d.name=i.trim(),i="",N("before-value");break;case"before-selector":i+=o,L("selector"),T("selector");break;case"before-value":N("value"),i+=o;break;default:i+=o;break}break;case";":switch(_()){case"name":case"before-value":case"value":i.trim().length>0&&(d.value=i.trim(),F()),N("before-name");break;case"value-paren":i+=o;break;case"at-value":d.value=i.trim(),F(),A();break;case"before-name":break;default:i+=o;break}break;case"{":switch(_()){case"selector":if(S(-1)==="\\"){i+=o;break}d.text=i.trim(),F(),N("before-name"),u=u+1;break;case"at-group":switch(d.name=i.trim(),d.type){case"font-face":case"viewport":case"page":T("before-name");break;default:T("before-selector")}F(),u=u+1;break;case"name":case"at-rule":d.name=i.trim(),F(),T("before-name"),u=u+1;break;case"comment":case"double-string":case"single-string":i+=o;break;case"before-value":N("value"),i+=o;break}break;case"}":switch(_()){case"before-name":case"name":case"before-value":case"value":i&&(d.value=i.trim()),d.name&&d.value&&F(),L("end"),F(),A(),_()==="at-group"&&(L("at-group-end"),F(),A()),u>0&&(u=u-1);break;case"at-group":case"before-selector":case"selector":if(S(-1)==="\\"){i+=o;break}u>0&&_(1)==="at-group"&&(L("at-group-end"),F()),u>1&&A(),u>0&&(u=u-1);break;case"double-string":case"single-string":case"comment":i+=o;break}break;case'"':case"'":switch(_()){case"double-string":o==='"'&&S(-1)!=="\\"&&A();break;case"single-string":o==="'"&&S(-1)!=="\\"&&A();break;case"before-at-value":N("at-value"),T(o==='"'?"double-string":"single-string");break;case"before-value":N("value"),T(o==='"'?"double-string":"single-string");break;case"comment":break;default:S(-1)!=="\\"&&T(o==='"'?"double-string":"single-string")}i+=o;break;case"/":switch(_()){case"comment":case"double-string":case"single-string":i+=o;break;case"before-value":case"selector":case"name":case"value":if(E("*")){var O=C("*/");O&&k(O+1)}else _()=="before-value"&&N("value"),i+=o;break;default:E("*")?(L("comment"),T("comment"),k()):i+=o;break}break;case"*":switch(_()){case"comment":E("/")?(d.text=i,k(),F(),A()):i+=o;break;case"before-selector":i+=o,L("selector"),T("selector");break;case"before-value":N("value"),i+=o;break;default:i+=o}break;case"@":switch(_()){case"comment":case"double-string":case"single-string":i+=o;break;case"before-value":N("value"),i+=o;break;default:for(var P=!1,B,U,$=0,te=v.length;!P&&$<te;++$)U=v[$],B=U.name||U,b(B)&&(P=!0,L(B),T(U.state||"at-group"),k(B.length),U.prefix&&(d.prefix=U.prefix),U.type&&(d.type=U.type));P||(i+=o);break}break;case"(":switch(_()){case"value":T("value-paren");break;case"before-value":N("value");break}i+=o;break;case")":switch(_()){case"value-paren":A();break;case"before-value":N("value");break}i+=o;break;default:switch(_()){case"before-selector":L("selector"),T("selector");break;case"before-name":L("property"),N("name");break;case"before-value":N("value");break;case"before-at-value":N("at-value");break}i+=o;break}return p}})(Bfe);var Vfe=Bfe.exports,Wfe={exports:{}};(function(n,e){tH("parse");var t=Vfe;n.exports=a;var r,i,o,s;function a(A,T){T||(T={}),r=!!T.comments,o=!!T.position,i=0,s=Array.isArray(A)?A.slice():t(A);for(var N,k=[],F;F=l();)N=b(F),N&&k.push(N);return{type:"stylesheet",stylesheet:{rules:k}}}function u(A,T){T||(T={});for(var N,k=["type","name","value"],F={},L=0;L<k.length;++L)N=k[L],A[N]&&(F[N]=T[N]||A[N]);for(k=Object.keys(T),L=0;L<k.length;++L)N=k[L],F[N]||(F[N]=T[N]);return o&&(F.position={start:A.start,end:A.end}),F}function l(){var A=s.shift();return A}function c(A){i=i+1;var T={};switch(A.type){case"font-face":case"viewport":T.declarations=E();break;case"page":T.prefix=A.prefix,T.declarations=E();break;default:T.prefix=A.prefix,T.rules=S()}return u(A,T)}function h(A){return u(A)}function d(A){return u(A)}function p(A){return u(A,{text:A.text})}function v(A){return u(A)}function m(A){return u(A)}function _(A){function T(N){return N.trim()}return u(A,{type:"rule",selectors:A.text.split(",").map(T),declarations:E()})}function b(A){switch(A.type){case"property":return m(A);case"selector":return _(A);case"at-group-end":i=i-1;return;case"media":case"keyframes":return c(A);case"comment":if(r)return p(A);break;case"charset":return d(A);case"import":return h(A);case"namespace":return v(A);case"font-face":case"supports":case"viewport":case"document":case"page":return c(A)}}function C(A){for(var T,N=[],k;(k=l())&&A&&A(k);)T=b(k),T&&N.push(T);return k&&k.type!=="end"&&s.unshift(k),N}function E(){return C(function(A){return A.type==="property"||A.type==="comment"})}function S(){return C(function(){return i})}})(Wfe);var Kot=Wfe.exports,Ufe={exports:{}};(function(n,e){tH("stringify");var t,r,i,o,s,a;n.exports=u;function u(S,A){A||(A={}),i=A.indentation||"",r=!!A.compress,t=!!A.comments,o=1,r?s=a="":(s=`
`,a=" ");var T=v(S.stylesheet.rules,C).join(`
`).trim();return T}function l(S){if(S){o+=S;return}return r?"":Array(o).join(i||"")}function c(S){return"@"+S.type+" "+S.value+";"+s}function h(S){var A="",T=S.prefix||"";S.name&&(A=" "+S.name);var N=S.type!=="page";return"@"+T+S.type+A+a+m(S,N)+s}function d(S){return t?"/*"+(S.text||"")+"*/"+s:""}function p(S){var A;return S.selectors?A=S.selectors.join(","+s):(A="@"+S.type,A+=S.name?" "+S.name:""),l()+A+a+m(S)+s}function v(S,A){return S.reduce(function(T,N){var k=N.type==="comment"?d(N):A(N);return k&&T.push(k),T},[])}function m(S,A){var T=S.declarations,N=b;return S.rules&&(T=S.rules,N=p),T=_(T,N),T&&(T=s+T+(A?"":s)),"{"+T+l()+"}"}function _(S,A){if(!S)return"";l(1);var T=v(S,A);return l(-1),T.length?T.join(s):""}function b(S){if(S.type==="property")return E(S)}function C(S){switch(S.type){case"rule":return p(S);case"media":case"keyframes":return h(S);case"comment":return d(S);case"import":case"charset":case"namespace":return c(S);case"font-face":case"supports":case"viewport":case"document":case"page":return h(S)}}function E(S){var A=S.name?S.name+":"+a:"";return l()+A+S.value+";"}})(Ufe);var Yot=Ufe.exports,Xot={lex:Vfe,parse:Kot,stringify:Yot},jfe={exports:{}},Qot=/([-.*+?^${}()|[\]\/\\])/g,Zot=/\\/g,$d=function(n){return(n+"").replace(Qot,"\\$1")},Md=function(n){return(n+"").replace(Zot,"")},Jot=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+$d(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),qfe=function(e){this.combinator=e||" ",this.tag="*"};qfe.prototype.toString=function(){if(!this.raw){var n="",e,t;if(n+=this.tag||"*",this.id&&(n+="#"+this.id),this.classes&&(n+="."+this.classList.join(".")),this.attributes)for(e=0;t=this.attributes[e++];)n+="["+t.name+(t.operator?t.operator+'"'+t.value+'"':"")+"]";if(this.pseudos)for(e=0;t=this.pseudos[e++];)n+=":"+t.name,t.value&&(n+="("+t.value+")");this.raw=n}return this.raw};var zfe=function(){this.length=0};zfe.prototype.toString=function(){if(!this.raw){for(var n="",e=0,t;t=this[e++];)e!==1&&(n+=" "),t.combinator!==" "&&(n+=t.combinator+" "),n+=t;this.raw=n}return this.raw};var est=function(n,e,t,r,i,o,s,a,u,l,c,h,d,p,v,m){var _,b;if((e||!this.length)&&(_=this[this.length++]=new zfe,e))return"";if(_||(_=this[this.length-1]),(t||r||!_.length)&&(b=_[_.length++]=new qfe(t)),b||(b=_[_.length-1]),i)b.tag=Md(i);else if(o)b.id=Md(o);else if(s){var C=Md(s),E=b.classes||(b.classes={});if(!E[C]){E[C]=$d(s);var S=b.classList||(b.classList=[]);S.push(C),S.sort()}}else d?(m=m||v,(b.pseudos||(b.pseudos=[])).push({type:h.length==1?"class":"element",name:Md(d),escapedName:$d(d),value:m?Md(m):null,escapedValue:m?$d(m):null})):a&&(c=c?$d(c):null,(b.attributes||(b.attributes=[])).push({operator:u,name:Md(a),escapedName:$d(a),value:c?Md(c):null,escapedValue:c?$d(c):null}));return""},Gfe=function(e){this.length=0;for(var t=this,r=e,i;e;){if(i=e.replace(Jot,function(){return est.apply(t,arguments)}),i===e)throw new Error(r+" is an invalid expression");e=i}};Gfe.prototype.toString=function(){if(!this.raw){for(var n=[],e=0,t;t=this[e++];)n.push(t);this.raw=n.join(", ")}return this.raw};var XY={},tst=function(n){return n==null?null:(n=(""+n).replace(/^\s+|\s+$/g,""),XY[n]||(XY[n]=new Gfe(n)))},nst=tst;(function(n,e){var t=nst;n.exports=r;function r(o,s){this.text=o,this.spec=void 0,this.styleAttribute=s||!1}r.prototype.parsed=function(){return this.tokens||(this.tokens=i(this.text)),this.tokens},r.prototype.specificity=function(){var o=this.styleAttribute;return this.spec||(this.spec=s(this.text,this.parsed())),this.spec;function s(a,u){for(var l=u||i(a),c=[o?1:0,0,0,0],h=[],d=0;d<l.length;d++){var p=l[d],v=p.pseudos;if(p.id&&c[1]++,p.attributes&&(c[2]+=p.attributes.length),p.classList&&(c[2]+=p.classList.length),p.tag&&p.tag!=="*"&&c[3]++,v){c[3]+=v.length;for(var m=0;m<v.length;m++)v[m].name==="not"&&(h.push(v[m].value),c[3]--)}}for(var _=h.length;_--;)for(var b=s(h[_]),C=4;C--;)c[C]+=b[C];return c}};function i(o){try{return t(o)[0]}catch{return[]}}})(jfe);var rst=jfe.exports,kR={exports:{}},QY;function ist(){return QY||(QY=1,function(n,e){n.exports=r;var t=nH();function r(i,o,s,a,u){this.prop=i,this.value=o,this.selector=s,this.priority=a||0,this.additionalPriority=u||[]}r.prototype.compareFunc=function(i){var o=[];o.push.apply(o,this.selector.specificity()),o.push.apply(o,this.additionalPriority),o[0]+=this.priority;var s=[];return s.push.apply(s,i.selector.specificity()),s.push.apply(s,i.additionalPriority),s[0]+=i.priority,t.compareFunc(o,s)},r.prototype.compare=function(i){var o=this.compareFunc(i);return o===1?this:i},r.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}}(kR)),kR.exports}var ZY;function nH(){return ZY||(ZY=1,function(n){var e=Xot,t=rst,r=ist();n.Selector=t,n.Property=r;/**
 * Returns an array of the selectors.
 *
 * @license Sizzle CSS Selector Engine - MIT
 * @param {String} selectorText from mensch
 * @api public
 */n.extract=function(o){for(var s=0,a=[],u="",l=0,c=o.length;l<c;l++){var h=o.charAt(l);s?((h==="]"||h===")")&&s--,u+=h):h===","?(a.push(u),u=""):((h==="["||h==="(")&&s++,(u.length||h!==","&&h!==`
`&&h!==" ")&&(u+=h))}return u.length&&a.push(u),a},n.parseCSS=function(i){for(var o=e.parse(i,{position:!0,comments:!0}),s=typeof o.stylesheet<"u"&&o.stylesheet.rules?o.stylesheet.rules:[],a=[],u=0,l=s.length;u<l;u++)if(s[u].type=="rule")for(var c=s[u],h=c.selectors,d=0,p=h.length;d<p;d++)a.push([h[d],c.declarations]);return a},n.getPreservedText=function(i,o,s){for(var a=e.parse(i,{position:!0,comments:!0}),u=typeof a.stylesheet<"u"&&a.stylesheet.rules?a.stylesheet.rules:[],l=[],c=u.length-1;c>=0;c--)(o.fontFaces&&u[c].type==="font-face"||o.mediaQueries&&u[c].type==="media"||o.keyFrames&&u[c].type==="keyframes"||o.pseudos&&u[c].selectors&&this.matchesPseudo(u[c].selectors[0],s))&&l.unshift(e.stringify({stylesheet:{rules:[u[c]]}},{comments:!1,indentation:"  "})),u[c].position.start;return l.length===0?!1:`
`+l.join(`
`)+`
`},n.normalizeLineEndings=function(i){return i.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},n.matchesPseudo=function(i,o){return o.find(function(s){return i.indexOf(s)>-1})},n.compareFunc=function(i,o){for(var s=Math.min(i.length,o.length),a=0;a<s;a++)if(i[a]!==o[a])return i[a]>o[a]?1:-1;return i.length-o.length},n.compare=function(i,o){return n.compareFunc(i,o)==1?i:o},n.getDefaultOptions=function(i){var o=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,resolveCSSVariables:!0,url:""},i);return o.webResources=o.webResources||{},o}}(OR)),OR}(function(n){var e=ace;nH();var t=function(i,o,s){return o=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},o),i=s(i),e.load(i,o)},r=function(){var i=[],o=function(a){var u=n.exports.codeBlocks;return Object.keys(u).forEach(function(l){var c=new RegExp(u[l].start+"([\\S\\s]*?)"+u[l].end,"g");a=a.replace(c,function(h,d){return i.push(h),"JUICE_CODE_BLOCK_"+(i.length-1)+"_"})}),a},s=function(a){for(var u=0;u<i.length;u++){var l=new RegExp("JUICE_CODE_BLOCK_"+u+'_(="")?',"gi");a=a.replace(l,function(){return i[u]})}return a};return{encodeEntities:o,decodeEntities:s}};n.exports=function(i,o,s,a){var u=r(),l=t(i,o,u.encodeEntities),c=[l];c.push.apply(c,a);var h=s.apply(void 0,c)||l;return o&&o.xmlMode?u.decodeEntities(h.xml()):u.decodeEntities(h.html())},n.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}})(sce);var ost=sce.exports,rH={};rH.romanize=function(n){if(isNaN(n))return NaN;for(var e=String(+n).split(""),t=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],r="",i=3;i--;)r=(t[+e.pop()+i*10]||"")+r;return Array(+e.join("")+1).join("M")+r};rH.alphanumeric=function(n){for(var e="",t;n>0;)t=(n-1)%26,e=String.fromCharCode(65+t)+e,n=(n-t)/26|0;return e||void 0};const sst=n=>{let e="";do e=(Math.random()+1).toString(36).substring(2);while(n.indexOf(e)!==-1);return e},ast=(n,e)=>{let t=/([a-z\-]+)\s*\(\s*([^\(\)]*?)\s*(?:,\s*([^\(\)]*?)\s*)?\s*\)/i,r=[],i,o=sst(e);for(;(i=t.exec(e))!==null;){let a=`${r.length}`;if(i[1].toLowerCase()=="var"){const l=$fe(n,i[2]);if(l){e=e.replace(i[0],l);continue}if(i[3]){e=e.replace(i[0],i[3]);continue}}let u=`${o}${a.padStart(5,"-")}`;e=e.replace(i[0],u),r.push({placeholder:u,replace:i[0]})}for(var s=r.length-1;s>=0;s--){const a=r[s];e=e.replace(a.placeholder,a.replace)}return e},$fe=(n,e)=>{for(;n;){if(n.styleProps&&e in n.styleProps)return n.styleProps[e].value;var n=n.pseudoElementParent||n.parent}};var ust={replaceVariables:ast,findVariableValue:$fe},Ef=nH(),CS=rH,JY=ust,lst=function(e){e.ignoredPseudos=["hover","active","focus","visited","link"],e.widthElements=["TABLE","TD","TH","IMG"],e.heightElements=["TABLE","TD","TH","IMG"],e.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],e.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],e.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},e.excludedProperties=[],e.juiceDocument=l,e.inlineDocument=t;function t(d,p,v){v=v||{};var m=Ef.parseCSS(p),_=[],b="style",C={};if(v.styleAttributeName&&(b=v.styleAttributeName),m.forEach(A),_.forEach(T),v.inlinePseudoElements&&_.forEach(N),v.applyWidthAttributes&&_.forEach(function(O){k(O,"width")}),v.applyHeightAttributes&&_.forEach(function(O){k(O,"height")}),v.applyAttributesTableElements&&_.forEach(L),v.insertPreservedExtraCss&&v.extraCss){var E=Ef.getPreservedText(v.extraCss,{mediaQueries:v.preserveMediaQueries,fontFaces:v.preserveFontFaces,keyFrames:v.preserveKeyFrames});if(E){var S=null;v.insertPreservedExtraCss!==!0?S=d(v.insertPreservedExtraCss):(S=d("head"),S.length||(S=d("body")),S.length||(S=d.root())),S.first().append("<style>"+E+"</style>")}}function A(O){var P=O[0],B=O[1],U=new Ef.Selector(P),$=U.parsed();if($){for(var te=s($),ne=0;ne<$.length;++ne){var ie=$[ne];if(ie.pseudos)for(var pe=0;pe<ie.pseudos.length;++pe){var ke=ie.pseudos[pe];if(e.ignoredPseudos.indexOf(ke.name)>=0)return}}if(te){var qe=$[$.length-1],ft=qe.pseudos;qe.pseudos=u(qe.pseudos),P=$.toString(),qe.pseudos=ft}var ze;try{ze=d(P)}catch{return}ze.each(function(){var dt=this;if(dt.name&&e.nonVisualElements.indexOf(dt.name.toUpperCase())>=0)return;if(dt.counterProps||(dt.counterProps=dt.parent&&dt.parent.counterProps?Object.create(dt.parent.counterProps):{}),te){var Ci="pseudo"+te,q=dt[Ci];q||(q=dt[Ci]=d("<span />").get(0),q.pseudoElementType=te,q.pseudoElementParent=dt,q.counterProps=dt.counterProps,dt[Ci]=q),dt=q}if(!dt.styleProps){if(dt.styleProps={},d(dt).attr(b)){var _e="* { "+d(dt).attr(b)+" } ";Bo(Ef.parseCSS(_e)[0][1],new Ef.Selector("<style>",!0))}_.push(dt)}function Ht(Kn,oo){for(var G=oo.split(/\s+/),Z=0;Z<G.length;Z++){var re=G[Z],fe=parseInt(G[Z+1],10);isNaN(fe)?Kn.counterProps[re]=C[re]=0:Kn.counterProps[re]=C[G[Z++]]=fe}}function ms(Kn,oo){for(var G=oo.split(/\s+/),Z=0;Z<G.length;Z++){var re=G[Z];if(Kn.counterProps[re]!==void 0){var fe=parseInt(G[Z+1],10);isNaN(fe)?Kn.counterProps[re]=C[re]+=1:Kn.counterProps[re]=C[G[Z++]]+=fe}}}function Bo(Kn,oo){for(var G=0,Z=Kn.length;G<Z;G++)if(Kn[G].type=="property"){var re=Kn[G].name,fe=Kn[G].value;re==="counter-reset"&&Ht(dt,fe),re==="counter-increment"&&ms(dt,fe);var ve=fe.match(/!important$/)!==null;ve&&!v.preserveImportant&&(fe=r(fe));var Ce=[Kn[G].position.start.line,Kn[G].position.start.col],Ne=new Ef.Property(re,fe,oo,ve?2:0,Ce),Ie=dt.styleProps[re];e.excludedProperties.indexOf(re)<0&&(Ie&&Ie.compare(Ne)===Ne||!Ie)&&(Ie&&Ie.selector!==oo?delete dt.styleProps[re]:Ie&&(Ne.nextProp=Ie),dt.styleProps[re]=Ne)}}Bo(B,U)})}}function T(O){Object.keys(O.styleProps).length;var P=[];Object.keys(O.styleProps).forEach(function(U){for(var $=O.styleProps[U];typeof $<"u";)P.push($),$=$.nextProp}),P.sort(function(U,$){return U.compareFunc($)});var B=P.filter(function(U){return v.resolveCSSVariables&&U.prop.indexOf("--")===0?!1:U.prop!=="content"}).map(function(U){return v.resolveCSSVariables&&(U.value=JY.replaceVariables(O,U.value)),U.prop+": "+U.value.replace(/["]/g,"'")+";"}).join(" ");B&&d(O).attr(b,B)}function N(O){if(O.pseudoElementType&&O.styleProps.content){var P=o(O);P.img?(O.name="img",d(O).attr("src",P.img)):d(O).text(P);var B=O.pseudoElementParent;O.pseudoElementType==="before"?d(B).prepend(O):d(B).append(O)}}function k(O,P){if(O.name){var B=O.name.toUpperCase();if(e[P+"Elements"].indexOf(B)>-1){for(var U in O.styleProps)if(O.styleProps[U].prop===P){var $=O.styleProps[U].value;if(v.preserveImportant&&($=r($)),$.match(/(px|auto)/)){var te=$.replace("px","");d(O).attr(P,te);return}if(e.tableElements.indexOf(B)>-1&&$.match(/\%/)){d(O).attr(P,$);return}}}}}function F(O){return O.indexOf("url(")!==0?O:O.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}function L(O){if(O.name){var P=O.name.toUpperCase(),B=Object.keys(e.styleToAttribute);if(e.tableElements.indexOf(P)>-1){for(var U in O.styleProps)if(B.indexOf(O.styleProps[U].prop)>-1){var $=e.styleToAttribute[O.styleProps[U].prop],te=O.styleProps[U].value;if(v.preserveImportant&&(te=r(te)),$==="background"&&(te=F(te)),/(linear|radial)-gradient\(/i.test(te))continue;d(O).attr($,te)}}}}}function r(d){return d.replace(/\s*!important$/,"")}function i(d,p){switch(p){case"lower-roman":return CS.romanize(d).toLowerCase();case"upper-roman":return CS.romanize(d);case"lower-latin":case"lower-alpha":return CS.alphanumeric(d).toLowerCase();case"upper-latin":case"upper-alpha":return CS.alphanumeric(d);default:return d.toString()}}function o(d){var p=d.styleProps.content.value;if(p==="none"||p==="normal")return"";var v=p.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(v){var m=v[1].replace(/^['"]|['"]$/g,"");return{img:m}}for(var _=[],b=p.split(/['"]/),C=0;C<b.length;C++)if(b[C]!==""){var E=b[C].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(E){var S=JY.findVariableValue(d,E[1])||E[2];_.push(S.replace(/^['"]|['"]$/g,""));continue}var A=b[C].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(A&&A[1]in d.counterProps){var T=d.counterProps[A[1]];_.push(i(T,A[3]));continue}var N=b[C].match(/attr\s*\(\s*(.*?)\s*\)/i);if(N){var k=N[1];_.push(d.pseudoElementParent?d.pseudoElementParent.attribs[k]:d.attribs[k]);continue}_.push(b[C])}return p=_.join(""),p=p.replace(/\\/g,""),p}function s(d){if(d.length!==0){var p=d[d.length-1].pseudos;if(p){for(var v=0;v<p.length;v++)if(a(p[v]))return p[v].name}}}function a(d){return d.name==="before"||d.name==="after"}function u(d){return d.filter(function(p){return!a(p)})}function l(d,p){p=Ef.getDefaultOptions(p);var v=h(d,p);return v+=`
`+p.extraCss,t(d,v,p),d}function c(d,p){var v=[],m=d("style"),_,b,C;return m.each(function(){C=this;var E=!!C.childNodes;if(_=E?C.childNodes:C.children,_.length!==1){p.removeStyleTags&&d(C).remove();return}if(b=_[0].data,p.applyStyleTags&&d(C).attr("data-embed")===void 0&&v.push(b),p.removeStyleTags&&d(C).attr("data-embed")===void 0){var S=E?C.childNodes[0].nodeValue:C.children[0].data,A=Ef.getPreservedText(S,{mediaQueries:p.preserveMediaQueries,fontFaces:p.preserveFontFaces,keyFrames:p.preserveKeyFrames,pseudos:p.preservePseudos},e.ignoredPseudos);A?E?C.childNodes[0].nodeValue=A:C.children[0].data=A:d(C).remove()}d(C).removeAttr("data-embed")}),v}function h(d,p){var v=c(d,p),m=v.join(`
`);return m}return e},iH=ost,cst=lst,z1=cst(function(n,e){return iH(n,{xmlMode:e&&e.xmlMode},fst,[e])}),fst=function(n,e){return z1.juiceDocument(n,e)};z1.inlineContent=function(n,e,t){return iH(n,{xmlMode:t&&t.xmlMode},z1.inlineDocument,[e,t])};z1.codeBlocks=iH.codeBlocks;var hst=z1;const dst=LA(hst);/**
 * @name ranges-sort
 * @fileoverview Sort string index ranges
 * @version 6.0.11
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-sort/}
 */var pst={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function cA(n,e){if(!Array.isArray(n)||!n.length)return n;let t={...pst,...e},r,i;if(t.strictlyTwoElementsInRangeArrays&&!n.every((a,u)=>!Array.isArray(a)||a.length!==2?(r=u,i=a.length,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${r}th range (${JSON.stringify(n[r],null,4)}) has not two but ${i} elements!`);if(!n.every((a,u)=>!Array.isArray(a)||!Number.isInteger(a[0])||a[0]<0||!Number.isInteger(a[1])||a[1]<0?(r=u,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${r}th range (${JSON.stringify(n[r],null,4)}) does not consist of only natural numbers!`);let o=n.length**2,s=0;return Array.from(n).sort((a,u)=>(t.progressFn&&(s+=1,t.progressFn(Math.floor(s*100/o))),a[0]===u[0]?a[1]<u[1]?-1:a[1]>u[1]?1:0:a[0]<u[0]?-1:1))}/**
 * @name ranges-merge
 * @fileoverview Merge and sort string index ranges
 * @version 9.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-merge/}
 */var eX={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function gst(n,e){function t(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}if(!Array.isArray(n)||!n.length)return null;let r;if(e)if(t(e)){if(r={...eX,...e},r.progressFn&&t(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&typeof r.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "${typeof r.progressFn}", equal to ${JSON.stringify(r.progressFn,null,4)}`);if(![1,2,"1","2"].includes(r.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof r.mergeType}", equal to ${JSON.stringify(r.mergeType,null,4)}`);if(typeof r.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof r.joinRangesThatTouchEdges}", equal to ${JSON.stringify(r.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(e,null,4)} (type ${typeof e})`);else r={...eX};let i=n.filter(l=>Array.isArray(l)).map(l=>[...l]).filter(l=>l[2]!==void 0||l[0]!==l[1]),o,s,a;r.progressFn?o=cA(i,{progressFn:l=>{a=Math.floor(l/5),a!==s&&(s=a,r.progressFn(a))}}):o=cA(i);let u=o.length-1;for(let l=u;l>0;l--)r.progressFn&&(a=Math.floor((1-l/u)*78)+21,a!==s&&a>s&&(s=a,r.progressFn(a))),(o[l][0]<=o[l-1][0]||!r.joinRangesThatTouchEdges&&o[l][0]<o[l-1][1]||r.joinRangesThatTouchEdges&&o[l][0]<=o[l-1][1])&&(o[l-1][0]=Math.min(o[l][0],o[l-1][0]),o[l-1][1]=Math.max(o[l][1],o[l-1][1]),o[l][2]!==void 0&&(o[l-1][0]>=o[l][0]||o[l-1][1]<=o[l][1])&&o[l-1][2]!==null&&(o[l][2]===null&&o[l-1][2]!==null?o[l-1][2]=null:o[l-1][2]!=null?+r.mergeType==2&&o[l-1][0]===o[l][0]?o[l-1][2]=o[l][2]:o[l-1][2]+=o[l][2]:o[l-1][2]=o[l][2]),o.splice(l,1),l=o.length);return o.length?o:null}var vst="Invariant failed";function mst(n,e){if(!n)throw new Error(vst)}/**
 * @name ranges-apply
 * @fileoverview Take an array of string index ranges, delete/replace the string according to them
 * @version 7.0.16
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-apply/}
 */function _st(n,e,t){let r=0,i=0;if(arguments.length===0)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(typeof n!="string")throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(e&&!Array.isArray(e))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof e}, equal to: ${JSON.stringify(e,null,4)}`);if(t&&typeof t!="function")throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof t}, equal to: ${JSON.stringify(t,null,4)}`);if(!(e!=null&&e.filter(c=>c).length))return n;let o;Array.isArray(e)&&Number.isInteger(e[0])&&Number.isInteger(e[1])?o=[Array.from(e)]:o=Array.from(e);let s=o.length,a=0;o.filter(c=>c).forEach((c,h)=>{if(t&&(r=Math.floor(a/s*10),r!==i&&(i=r,t(r))),!Array.isArray(c))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${h}th element not an array: ${JSON.stringify(c,null,4)}, which is ${typeof c}`);if(!Number.isInteger(c[0])){if(!Number.isInteger(+c[0])||+c[0]<0)throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${h}th element, array ${JSON.stringify(c,null,0)}. Its first element is not an integer, string index, but ${typeof c[0]}, equal to: ${JSON.stringify(c[0],null,4)}.`);o[h][0]=+o[h][0]}if(!Number.isInteger(c[1])){if(!Number.isInteger(+c[1])||+c[1]<0)throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${h}th element, array ${JSON.stringify(c,null,0)}. Its second element is not an integer, string index, but ${typeof c[1]}, equal to: ${JSON.stringify(c[1],null,4)}.`);o[h][1]=+o[h][1]}a+=1});let u=gst(o,{progressFn:c=>{t&&(r=10+Math.floor(c/10),r!==i&&(i=r,t(r)))}});mst(u);let l=u.length;if(l>0){let c=n.slice(u[l-1][1]);n=u.reduce((h,d,p,v)=>{t&&(r=20+Math.floor(p/l*80),r!==i&&(i=r,t(r)));let m=p===0?0:v[p-1][1],_=v[p][0];return`${h}${n.slice(m,_)}${v[p][2]||""}`},""),n+=c}return n}/**
 * @name string-collapse-leading-whitespace
 * @fileoverview Collapse the leading and trailing whitespace of a string
 * @version 7.0.7
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-collapse-leading-whitespace/}
 */function RR(n,e=1){let t="";function r(o){return Array.from(o).reverse().join("")}function i(o,s,a){let u=a?`
`:"\r",l=a?"\r":`
`;if(!o)return o;let c=0,h="";for(let d=0,p=o.length;d<p;d++)(o[d]===u||o[d]===l&&o[d-1]!==u)&&c++,`\r
`.includes(o[d])||o[d]===t?o[d]===t?h+=o[d]:o[d]===u?c<=s&&(h+=o[d],o[d+1]===l&&(h+=o[d+1],d++)):o[d]===l&&(o==null?void 0:o[d-1])!==u&&c<=s&&(h+=o[d]):!o[d+1]&&!c&&(h+=" ");return h}if(typeof n=="string"&&n.length){let o=1;typeof+e=="number"&&Number.isInteger(+e)&&+e>=0&&(o=+e);let s="",a="";if(!n.trim())s=n;else if(!n[0].trim()){for(let u=0,l=n.length;u<l;u++)if(n[u].trim()){s=n.slice(0,u);break}}if(n.trim()&&(n.slice(-1).trim()===""||n.slice(-1)===t)){for(let u=n.length;u--;)if(n[u].trim()){a=n.slice(u+1);break}}return`${i(s,o,!1)}${n.trim()}${r(i(r(a),o,!0))}`}return n}var yst=bst;function wm(n){return n instanceof Buffer?Buffer.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function bst(n){if(n=n||{},n.circles)return Cst(n);const e=new Map;if(e.set(Date,s=>new Date(s)),e.set(Map,(s,a)=>new Map(r(Array.from(s),a))),e.set(Set,(s,a)=>new Set(r(Array.from(s),a))),n.constructorHandlers)for(const s of n.constructorHandlers)e.set(s[0],s[1]);let t=null;return n.proto?o:i;function r(s,a){const u=Object.keys(s),l=new Array(u.length);for(let c=0;c<u.length;c++){const h=u[c],d=s[h];typeof d!="object"||d===null?l[h]=d:d.constructor!==Object&&(t=e.get(d.constructor))?l[h]=t(d,a):ArrayBuffer.isView(d)?l[h]=wm(d):l[h]=a(d)}return l}function i(s){if(typeof s!="object"||s===null)return s;if(Array.isArray(s))return r(s,i);if(s.constructor!==Object&&(t=e.get(s.constructor)))return t(s,i);const a={};for(const u in s){if(Object.hasOwnProperty.call(s,u)===!1)continue;const l=s[u];typeof l!="object"||l===null?a[u]=l:l.constructor!==Object&&(t=e.get(l.constructor))?a[u]=t(l,i):ArrayBuffer.isView(l)?a[u]=wm(l):a[u]=i(l)}return a}function o(s){if(typeof s!="object"||s===null)return s;if(Array.isArray(s))return r(s,o);if(s.constructor!==Object&&(t=e.get(s.constructor)))return t(s,o);const a={};for(const u in s){const l=s[u];typeof l!="object"||l===null?a[u]=l:l.constructor!==Object&&(t=e.get(l.constructor))?a[u]=t(l,o):ArrayBuffer.isView(l)?a[u]=wm(l):a[u]=o(l)}return a}}function Cst(n){const e=[],t=[],r=new Map;if(r.set(Date,u=>new Date(u)),r.set(Map,(u,l)=>new Map(o(Array.from(u),l))),r.set(Set,(u,l)=>new Set(o(Array.from(u),l))),n.constructorHandlers)for(const u of n.constructorHandlers)r.set(u[0],u[1]);let i=null;return n.proto?a:s;function o(u,l){const c=Object.keys(u),h=new Array(c.length);for(let d=0;d<c.length;d++){const p=c[d],v=u[p];if(typeof v!="object"||v===null)h[p]=v;else if(v.constructor!==Object&&(i=r.get(v.constructor)))h[p]=i(v,l);else if(ArrayBuffer.isView(v))h[p]=wm(v);else{const m=e.indexOf(v);m!==-1?h[p]=t[m]:h[p]=l(v)}}return h}function s(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return o(u,s);if(u.constructor!==Object&&(i=r.get(u.constructor)))return i(u,s);const l={};e.push(u),t.push(l);for(const c in u){if(Object.hasOwnProperty.call(u,c)===!1)continue;const h=u[c];if(typeof h!="object"||h===null)l[c]=h;else if(h.constructor!==Object&&(i=r.get(h.constructor)))l[c]=i(h,s);else if(ArrayBuffer.isView(h))l[c]=wm(h);else{const d=e.indexOf(h);d!==-1?l[c]=t[d]:l[c]=s(h)}}return e.pop(),t.pop(),l}function a(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return o(u,a);if(u.constructor!==Object&&(i=r.get(u.constructor)))return i(u,a);const l={};e.push(u),t.push(l);for(const c in u){const h=u[c];if(typeof h!="object"||h===null)l[c]=h;else if(h.constructor!==Object&&(i=r.get(h.constructor)))l[c]=i(h,a);else if(ArrayBuffer.isView(h))l[c]=wm(h);else{const d=e.indexOf(h);d!==-1?l[c]=t[d]:l[c]=a(h)}}return e.pop(),t.pop(),l}}const Kfe=LA(yst);/**
 * @name codsen-utils
 * @fileoverview Various utility functions
 * @version 1.6.4
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/codsen-utils/}
 */Kfe();function Av(n){return Qn(n)&&n.length===1&&n.toUpperCase()!==n.toLowerCase()}function G1(n){if(n==null||typeof n!="object")return!1;let e=Object.getPrototypeOf(n);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null?!1:!(Symbol.iterator in n)&&!(Symbol.toStringTag in n)}function Qn(n){return typeof n=="string"}function el(n){return Number.isSafeInteger(n)&&n>=0}function Sf(n){return n!=null}function wst(n,e){return G1(n)&&Qn(e)&&e in n}/**
 * @name ranges-push
 * @fileoverview Gather string index ranges
 * @version 7.0.15
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-push/}
 */var tX={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function Est(n,e){function t(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}if(!Array.isArray(n)||!n.length)return null;let r;if(e)if(t(e)){if(r={...tX,...e},r.progressFn&&t(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&typeof r.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] resolvedOpts.progressFn must be a function! It was given of a type: "${typeof r.progressFn}", equal to ${JSON.stringify(r.progressFn,null,4)}`);if(![1,2,"1","2"].includes(r.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] resolvedOpts.mergeType was customised to a wrong thing! It was given of a type: "${typeof r.mergeType}", equal to ${JSON.stringify(r.mergeType,null,4)}`);if(typeof r.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] resolvedOpts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof r.joinRangesThatTouchEdges}", equal to ${JSON.stringify(r.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(e,null,4)} (type ${typeof e})`);else r={...tX};let i=n.filter(l=>Array.isArray(l)).map(l=>[...l]).filter(l=>l[2]!==void 0||l[0]!==l[1]),o,s,a;r.progressFn?o=cA(i,{progressFn:l=>{a=Math.floor(l/5),a!==s&&(s=a,r.progressFn(a))}}):o=cA(i);let u=o.length-1;for(let l=u;l>0;l--)r.progressFn&&(a=Math.floor((1-l/u)*78)+21,a!==s&&a>s&&(s=a,r.progressFn(a))),(o[l][0]<=o[l-1][0]||!r.joinRangesThatTouchEdges&&o[l][0]<o[l-1][1]||r.joinRangesThatTouchEdges&&o[l][0]<=o[l-1][1])&&(o[l-1][0]=Math.min(o[l][0],o[l-1][0]),o[l-1][1]=Math.max(o[l][1],o[l-1][1]),o[l][2]!==void 0&&(o[l-1][0]>=o[l][0]||o[l-1][1]<=o[l][1])&&o[l-1][2]!==null&&(o[l][2]===null&&o[l-1][2]!==null?o[l-1][2]=null:o[l-1][2]!=null?+r.mergeType==2&&o[l-1][0]===o[l][0]?o[l-1][2]=o[l][2]:o[l-1][2]+=o[l][2]:o[l-1][2]=o[l][2]),o.splice(l,1),l=o.length);return o.length?o:null}var Sst={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},Tst=class{constructor(e){UN(this,"ranges");UN(this,"opts");let t={...Sst,...e};if(t.mergeType&&t.mergeType!==1&&t.mergeType!==2)if(Qn(t.mergeType)&&t.mergeType.trim()==="1")t.mergeType=1;else if(Qn(t.mergeType)&&t.mergeType.trim()==="2")t.mergeType=2;else throw new Error(`ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof t.mergeType}", equal to ${JSON.stringify(t.mergeType,null,4)}`);this.opts=t,this.ranges=[]}add(e,t,r){var s;if(e==null&&t==null)return;if(Sf(e)&&!Sf(t)){if(Array.isArray(e)){if(e.length){if(e.some(a=>Array.isArray(a))){e.forEach(a=>{Array.isArray(a)&&this.add(...a)});return}e.length&&el(+e[0])&&el(+e[1])&&this.add(...e)}return}throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set (${JSON.stringify(e,null,0)}) but second-one, "to" is not (${JSON.stringify(t,null,0)})`)}else if(!Sf(e)&&Sf(t))throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set (${JSON.stringify(t,null,0)}) but first-one, "from" is not (${JSON.stringify(e,null,0)})`);let i=+e,o=+t;if(el(r)&&(r=String(r)),el(i)&&el(o)){if(Sf(r)&&!Qn(r)&&!el(r))throw new TypeError(`ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof r}, equal to:
${JSON.stringify(r,null,4)}`);if(Sf(this.ranges)&&Array.isArray(this.last())&&i===this.last()[1]){if(this.last()[1]=o,this.last()[2],this.last()[2]!==null&&Sf(r)){let a=this.last()[2]&&this.last()[2].length&&(!((s=this.opts)!=null&&s.mergeType)||this.opts.mergeType===1)?`${this.last()[2]}${r}`:r;this.opts.limitToBeAddedWhitespace&&(a=RR(a,this.opts.limitLinebreaksCount)),Qn(a)&&!a.length||(this.last()[2]=a)}}else{this.ranges||(this.ranges=[]);let a=r!==void 0&&!(Qn(r)&&!r.length)?[i,o,r&&this.opts.limitToBeAddedWhitespace?RR(r,this.opts.limitLinebreaksCount):r]:[i,o];this.ranges.push(a)}}else throw el(i)&&i>=0?new TypeError(`ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof o}" equal to: ${JSON.stringify(o,null,4)}`):new TypeError(`ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof i}" equal to: ${JSON.stringify(i,null,4)}`)}push(e,t,r){this.add(e,t,r)}current(){return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=Est(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map(e=>Sf(e[2])?[e[0],e[1],RR(e[2],this.opts.limitLinebreaksCount)]:e):this.ranges):null}wipe(){this.ranges=[]}replace(e){if(Array.isArray(e)&&e.length)if(Array.isArray(e[0])&&el(e[0][0]))this.ranges=Array.from(e);else throw new Error(`ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ${JSON.stringify(e[0],null,4)} should be an array and its first element should be an integer, a string index.`);else this.ranges=[]}last(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null}};/**
 * @name arrayiffy-if-string
 * @fileoverview Put non-empty strings into arrays, turn empty-ones into empty arrays. Bypass everything else.
 * @version 5.0.8
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/arrayiffy-if-string/}
 */function Dst(n){return typeof n!="string"?n:n.length?[n]:[]}/**
 * @name string-match-left-right
 * @fileoverview Match substrings on the left or right of a given index, ignoring whitespace
 * @version 9.0.19
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-match-left-right/}
 */var Yfe={cb:void 0,i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1,hungry:!1},Ast=n=>n+1;function Ist(n,e,t,r,i=!1,o=Ast){var E;let s=typeof t=="function"?t():t;if(+e<0&&i&&s==="EOL")return s;let a={...Yfe,...r};if(e>=n.length&&!i)return!1;let u=i?1:t.length,l=0,c=!1,h=!1,d=!1,p=a.maxMismatches,v=e,m=!1,_=!1,b=!1;function C(){return l===1&&p<a.maxMismatches-1}for(;n[v];){let S=o(v);if(a.trimBeforeMatching&&n[v].trim()===""){if(!n[S]&&i&&t==="EOL")return!0;v=o(v);continue}if(a&&!a.i&&((E=a==null?void 0:a.trimCharsBeforeMatching)!=null&&E.includes(n[v]))||a!=null&&a.i&&a.trimCharsBeforeMatching&&a.trimCharsBeforeMatching.map(T=>T.toLowerCase()).includes(n[v].toLowerCase())){if(i&&t==="EOL"&&!n[S])return!0;v=o(v);continue}let A=S>v?t[t.length-u]:t[u-1];if(!a.i&&n[v]===A||a.i&&n[v].toLowerCase()===A.toLowerCase()){if(m||(m=!0),d||(d=!0),u===t.length){if(_=!0,p!==a.maxMismatches)return!1}else u===1&&(b=!0);if(u-=1,l++,C())return!1;if(!u)return l!==t.length||p===a.maxMismatches||!c?v:!1}else if(!c&&!l&&(c=!0),a.maxMismatches&&p&&v){p-=1;for(let T=0;T<=p;T++){let N=S>v?t[t.length-u+1+T]:t[u-2-T],k=n[o(v)];if(N&&(!a.i&&n[v]===N||a.i&&n[v].toLowerCase()===N.toLowerCase())&&(!a.firstMustMatch||u!==t.length)){if(l++,C())return!1;u-=2,m=!0;break}else if(k&&N&&(!a.i&&k===N||a.i&&k.toLowerCase()===N.toLowerCase())&&(!a.firstMustMatch||u!==t.length)){if(!l&&!a.hungry)return!1;u-=1,m=!0;break}else if(N===void 0&&p>=0&&m&&(!a.firstMustMatch||_)&&(!a.lastMustMatch||b))return v}m||(h=v)}else return v===0&&u===1&&!a.lastMustMatch&&d?0:!1;if(h!==!1&&h!==v&&(h=!1),u<1)return v;v=o(v)}if(u>0)return i&&s==="EOL"?!0:a&&a.maxMismatches>=u&&d?h||0:!1}function oH(n,e,t,r,i){var c,h,d;if(G1(i)&&wst(i,"trimBeforeMatching")&&i&&typeof i.trimBeforeMatching!="boolean")throw new Error(`string-match-left-right/${n}(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!${Array.isArray(i.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""}`);let o={...Yfe,...i};if(typeof o.trimCharsBeforeMatching=="string"&&(o.trimCharsBeforeMatching=Dst(o.trimCharsBeforeMatching)),o.trimCharsBeforeMatching=o.trimCharsBeforeMatching.map(p=>Qn(p)?p:String(p)),!Qn(e)||!e.length)return!1;if(!Number.isInteger(t)||t<0)throw new Error(`string-match-left-right/${n}(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ${typeof t}, equal to:
${JSON.stringify(t,null,4)}`);let s,a;if(Qn(r))s=[r];else if(Array.isArray(r))s=r;else if(!r)s=r;else if(typeof r=="function")s=[],s.push(r);else throw new Error(`string-match-left-right/${n}(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ${typeof r}, equal to:
${JSON.stringify(r,null,4)}`);if(i&&!G1(i))throw new Error(`string-match-left-right/${n}(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type "${typeof i}", and equal to:
${JSON.stringify(i,null,4)}`);let u=0,l="";if((c=o==null?void 0:o.trimCharsBeforeMatching)!=null&&c.some((p,v)=>p.length>1?(u=v,l=p,!0):!1))throw new Error(`string-match-left-right/${n}(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ${u} is longer than 1 character, ${l.length} (equals to ${l}). Please split it into separate characters and put into array as separate elements.`);if(!s||!Array.isArray(s)||Array.isArray(s)&&!s.length||Array.isArray(s)&&s.length===1&&Qn(s[0])&&!s[0].trim()){if(typeof o.cb=="function"){let v,m=t;if((n==="matchLeftIncl"||n==="matchRight")&&(m+=1),n[5]==="L")for(let E=m;E--;){let S=e[E];if((!o.trimBeforeMatching||o.trimBeforeMatching&&(S!=null&&S.trim()))&&(!((h=o.trimCharsBeforeMatching)!=null&&h.length)||S!==void 0&&!o.trimCharsBeforeMatching.includes(S))){v=E;break}}else if(n.startsWith("matchRight"))for(let E=m;E<e.length;E++){let S=e[E];if((!o.trimBeforeMatching||o.trimBeforeMatching&&S.trim())&&(!((d=o.trimCharsBeforeMatching)!=null&&d.length)||!o.trimCharsBeforeMatching.includes(S))){v=E;break}}if(v===void 0)return!1;let _=e[v],b=v+1,C="";return b&&b>0&&(C=e.slice(0,b)),n[5]==="L"||v&&v>0&&(C=e.slice(v)),o.cb(_,C,v)}let p="";throw i||(p=" More so, the whole options object, the fourth input argument, is missing!"),new Error(`string-match-left-right/${n}(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!${p}`)}for(let p=0,v=s.length;p<v;p++){a=typeof s[p]=="function";let m=s[p],_,b,C="",E=t;n==="matchRight"?E+=1:n==="matchLeft"&&(E-=1);let S=Ist(e,E,m,o,a,A=>n[5]==="L"?A-1:A+1);if(S&&a&&typeof m=="function"&&m()==="EOL")return m()&&(!o.cb||o.cb(_,C,b))?m():!1;if(Number.isInteger(S)&&(b=n.startsWith("matchLeft")?S-1:S+1,n[5]==="L"?C=e.slice(0,S):C=e.slice(b)),b<0&&(b=void 0),e[b]&&(_=e[b]),Number.isInteger(S)&&(!o.cb||o.cb(_,C,b)))return m}return!1}function xst(n,e,t,r){return oH("matchLeft",n,e,t,r)}function nX(n,e,t,r){return oH("matchRightIncl",n,e,t,r)}function Ly(n,e,t,r){return oH("matchRight",n,e,t,r)}/**
 * @name string-range-expander
 * @fileoverview Expands string index ranges within whitespace boundaries until letters are met
 * @version 4.0.14
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-range-expander/}
 */var Lst={str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1};function PR(n){var a,u;let e=/^[0-9a-zA-Z]+$/;function t(l){return Qn(l)&&!l.trim()}if(G1(n)){if(!Object.keys(n).length)throw new Error(`string-range-expander: [THROW_ID_02] Input must be a plain object but it's been given as a plain object without any keys. However, "from" and "to" settings are obligatory!`)}else{let l;throw n===void 0?l="but it is missing completely.":n===null?l="but it was given as null.":l=`but it was given as ${typeof n}, equal to:
${JSON.stringify(n,null,4)}.`,new Error(`string-range-expander: [THROW_ID_01] Input must be a plain object ${l}`)}if(!el(n.from))throw new Error(`string-range-expander: [THROW_ID_03] The input's "from" value resolvedOpts.from, is not a number! It's been given as ${typeof n.from}, equal to ${JSON.stringify(n.from,null,0)}`);if(!el(n.to))throw new Error(`string-range-expander: [THROW_ID_04] The input's "to" value resolvedOpts.to, is not a number! It's been given as ${typeof n.to}, equal to ${JSON.stringify(n.to,null,0)}`);if(n!=null&&n.str&&!n.str[n.from]&&n.from!==n.to)throw new Error(`string-range-expander: [THROW_ID_05] The given input string resolvedOpts.str ("${n.str}") must contain the character at index "from" ("${n.from}")`);if(n!=null&&n.str&&!n.str[n.to-1])throw new Error(`string-range-expander: [THROW_ID_06] The given input string, resolvedOpts.str ("${n.str}") must contain the character at index before "to" ("${n.to-1}")`);if(n.from>n.to)throw new Error(`string-range-expander: [THROW_ID_07] The given "from" index, "${n.from}" is greater than "to" index, "${n.to}". That's wrong!`);if(n.extendToOneSide===null||Qn(n.extendToOneSide)&&n.extendToOneSide!=="left"&&n.extendToOneSide!=="right"||!Qn(n.extendToOneSide)&&n.extendToOneSide!==void 0&&n.extendToOneSide)throw new Error(`string-range-expander: [THROW_ID_08] The options value "extendToOneSide" is not recognisable! It's set to: "${n.extendToOneSide}" (${typeof n.extendToOneSide}). It has to be either Boolean "false" or one of strings: "left" or "right"`);if(n!=null&&n.ifLeftSideIncludesThisThenCropTightly&&!Qn(n.ifLeftSideIncludesThisThenCropTightly))throw new Error(`string-range-expander: [THROW_ID_09] The option "ifLeftSideIncludesThisThenCropTightly", is not a string! It's been given as ${typeof n.ifLeftSideIncludesThisThenCropTightly}, equal to ${JSON.stringify(n.ifLeftSideIncludesThisThenCropTightly,null,0)}`);if(n!=null&&n.ifLeftSideIncludesThisCropItToo&&!Qn(n.ifLeftSideIncludesThisCropItToo))throw new Error(`string-range-expander: [THROW_ID_10] The option "ifLeftSideIncludesThisCropItToo", is not a string! It's been given as ${typeof n.ifLeftSideIncludesThisCropItToo}, equal to ${JSON.stringify(n.ifLeftSideIncludesThisCropItToo,null,0)}`);if(n!=null&&n.ifRightSideIncludesThisThenCropTightly&&!Qn(n.ifRightSideIncludesThisThenCropTightly))throw new Error(`string-range-expander: [THROW_ID_11] The option "ifRightSideIncludesThisThenCropTightly", is not a string! It's been given as ${typeof n.ifRightSideIncludesThisThenCropTightly}, equal to ${JSON.stringify(n.ifRightSideIncludesThisThenCropTightly,null,0)}`);if(n!=null&&n.ifRightSideIncludesThisCropItToo&&!Qn(n.ifRightSideIncludesThisCropItToo))throw new Error(`string-range-expander: [THROW_ID_12] The option "ifRightSideIncludesThisCropItToo", is not a string! It's been given as ${typeof n.ifRightSideIncludesThisCropItToo}, equal to ${JSON.stringify(n.ifRightSideIncludesThisCropItToo,null,0)}`);let r={...Lst,...n},i=r.str,o=r.from,s=r.to;if(r.extendToOneSide!=="right"&&(t(i[o-1])&&(t(i[o-2])||r.ifLeftSideIncludesThisCropItToo.includes(i[o-2]))||i[o-1]&&r.ifLeftSideIncludesThisCropItToo.includes(i[o-1])||r.wipeAllWhitespaceOnLeft&&t(i[o-1]))){for(let l=o;l--;)if(!r.ifLeftSideIncludesThisCropItToo.includes(i[l])){if(i[l].trim()){r.wipeAllWhitespaceOnLeft||r.ifLeftSideIncludesThisCropItToo.includes(i[l+1])?o=l+1:o=l+2;break}else if(l===0){r.wipeAllWhitespaceOnLeft?o=0:o=1;break}}}if(r.extendToOneSide!=="left"&&(t(i[s])&&(r.wipeAllWhitespaceOnRight||t(i[s+1]))||r.ifRightSideIncludesThisCropItToo.includes(i[s]))){for(let l=s,c=i.length;l<c;l++)if(!r.ifRightSideIncludesThisCropItToo.includes(i[l])){if(i[l].trim()){r.wipeAllWhitespaceOnRight||r.ifRightSideIncludesThisCropItToo.includes(i[l-1])?s=l:s=l-1;break}else if(l===i.length-1){r.wipeAllWhitespaceOnRight?s=i.length:s=i.length-1;break}}}return(r.extendToOneSide!=="right"&&Qn(r.ifLeftSideIncludesThisThenCropTightly)&&r.ifLeftSideIncludesThisThenCropTightly&&(i[o-2]&&r.ifLeftSideIncludesThisThenCropTightly.includes(i[o-2])||i[o-1]&&r.ifLeftSideIncludesThisThenCropTightly.includes(i[o-1]))||r.extendToOneSide!=="left"&&Qn(r.ifRightSideIncludesThisThenCropTightly)&&r.ifRightSideIncludesThisThenCropTightly&&(i[s+1]&&r.ifRightSideIncludesThisThenCropTightly.includes(i[s+1])||i[s]&&r.ifRightSideIncludesThisThenCropTightly.includes(i[s])))&&(r.extendToOneSide!=="right"&&t(i[o-1])&&!r.wipeAllWhitespaceOnLeft&&(o-=1),r.extendToOneSide!=="left"&&t(i[s])&&!r.wipeAllWhitespaceOnRight&&(s+=1)),r.addSingleSpaceToPreventAccidentalConcatenation&&((a=i[o-1])!=null&&a.trim())&&((u=i[s])!=null&&u.trim())&&(!r.ifLeftSideIncludesThisThenCropTightly&&!r.ifRightSideIncludesThisThenCropTightly||!((!r.ifLeftSideIncludesThisThenCropTightly||r.ifLeftSideIncludesThisThenCropTightly.includes(i[o-1]))&&(!r.ifRightSideIncludesThisThenCropTightly||i[s]&&r.ifRightSideIncludesThisThenCropTightly.includes(i[s]))))&&(e.test(i[o-1])||e.test(i[s]))?[o,s," "]:[o,s]}/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 6.0.17
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */Kfe();var Em="";function Nst({str:n,idx:e=0,stopAtNewlines:t=!1,stopAtRawNbsp:r=!1}){if(typeof n!="string"||!n.length||((!e||typeof e!="number")&&(e=0),!n[e+1]))return null;if(n[e+1]&&(n[e+1].trim()||t&&`
\r`.includes(n[e+1])||r&&n[e+1]===Em))return e+1;if(n[e+2]&&(n[e+2].trim()||t&&`
\r`.includes(n[e+2])||r&&n[e+2]===Em))return e+2;for(let i=e+1,o=n.length;i<o;i++)if(n[i].trim()||t&&`
\r`.includes(n[i])||r&&n[i]===Em)return i;return null}function jr(n,e=0){return Nst({str:n,idx:e,stopAtNewlines:!1,stopAtRawNbsp:!1})}function Ost({str:n,idx:e,stopAtNewlines:t,stopAtRawNbsp:r}){if(typeof n!="string"||!n.length||((!e||typeof e!="number")&&(e=0),e<1))return null;if(n[~-e]&&(n[~-e].trim()||t&&`
\r`.includes(n[~-e])||r&&n[~-e]===Em))return~-e;if(n[e-2]&&(n[e-2].trim()||t&&`
\r`.includes(n[e-2])||r&&n[e-2]===Em))return e-2;for(let i=e;i--;)if(n[i]&&(n[i].trim()||t&&`
\r`.includes(n[i])||r&&n[i]===Em))return i;return null}function MR(n,e=0){return Ost({str:n,idx:e,stopAtNewlines:!1,stopAtRawNbsp:!1})}/**
 * @name html-crush
 * @fileoverview Minify email templates
 * @version 6.0.19
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/html-crush/}
 */var en=new Tst({limitToBeAddedWhitespace:!0}),kst={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","<\/script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","<!--[if","<!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]};function Rst(n,e){var dt,Ci;let t=Date.now();if(!Qn(n))throw n===void 0?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error(`html-crush: [THROW_ID_02] the first input argument must be string! It was given as "${typeof n}", equal to:
${JSON.stringify(n,null,4)}`);if(e&&!G1(e))throw new Error(`html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type ${typeof e}, equal to ${JSON.stringify(e,null,4)}`);if(e&&Array.isArray(e.breakToTheLeftOf)&&e.breakToTheLeftOf.length){for(let q=0,_e=e.breakToTheLeftOf.length;q<_e;q++)if(!Qn(e.breakToTheLeftOf[q]))throw new TypeError(`html-crush: [THROW_ID_05] the resolvedOpts.breakToTheLeftOf array contains non-string elements! For example, element at index ${q} is of a type "${typeof e.breakToTheLeftOf[q]}" and is equal to:
${JSON.stringify(e.breakToTheLeftOf[q],null,4)}`)}let r={...kst,...e};typeof r.removeHTMLComments=="boolean"&&(r.removeHTMLComments=r.removeHTMLComments?1:0);let i="";Array.isArray(r.breakToTheLeftOf)&&r.breakToTheLeftOf.length&&(i=[...new Set(r.breakToTheLeftOf.map(q=>q[0]))].join(""));let o={removeHTMLComments:!1,removeCSSComments:!1},s=null,a=null,u=!1,l=0,c=0,h=!1,d=!1,p=null,v=null,m=null,_=null,b,C=null,E=null,S=null,A=null,T=null,N=null,k=">};",F="<",L="!",O=">",P="<",B="{},:;<>~+",U=B,$=B,te=!0,ne=n.length,ie=Math.floor(ne/2),pe=.01,ke;r.reportProgressFunc&&(ke=Math.floor(r.reportProgressFuncTo-(r.reportProgressFuncTo-r.reportProgressFuncFrom)*pe-r.reportProgressFuncFrom));let qe,ft=0,ze=`
`;if(n.includes(`\r
`)?ze=`\r
`:n.includes("\r")&&(ze="\r"),ne){for(let q=0;q<ne;q++){if(r.reportProgressFunc&&(ne>1e3&&ne<2e3?q===ie&&r.reportProgressFunc(Math.floor((r.reportProgressFuncTo-r.reportProgressFuncFrom)/2)):ne>=2e3&&(qe=r.reportProgressFuncFrom+Math.floor(q/ne*(ke||1)),qe!==ft&&(ft=qe,r.reportProgressFunc(qe)))),c++,!b&&h&&n[q]==="}"&&n[q-1]==="}"&&(l+1>=r.lineLengthLimit?(en.push(q,q,ze),l=0):(C=q,E=q,S=" ")),b&&typeof b=="number"&&q>=b&&(b=void 0),_!==null&&n.startsWith("<\/script",q)&&!Av(n[q+8])){if((r.removeIndentations||r.removeLineBreaks)&&q>0&&n[~-q]&&!n[~-q].trim()){for(let _e=q;_e--;)if(n[_e]===`
`||n[_e]==="\r"||n[_e].trim()){_e+1<q&&en.push(_e+1,q);break}}_=null,b=!1,q+=8;continue}if(!b&&!h&&n.startsWith("<script",q)&&!Av(n[q+7])){_=q,b=!0;let _e="";(r.removeLineBreaks||r.removeIndentations)&&a!==null&&(a>0&&(_e=ze),en.push(a,q,_e)),a=null,s=null}if(T!==null&&A===null&&!/\w/.test(n[q])){A=n.slice(T,q);let _e=jr(n,~-q);typeof _e=="number"&&n[_e]===">"&&!n[q].trim()&&jr(n,q)?en.push(q,jr(n,q)):_e&&n[_e]==="/"&&n[jr(n,_e)]===">"&&(!n[q].trim()&&jr(n,q)&&en.push(q,jr(n,q)),n[_e+1]!==">"&&jr(n,_e+1)&&en.push(_e+1,jr(n,_e+1)))}if(!b&&!h&&!p&&n[~-q]==="<"&&T===null&&(/\w/.test(n[q])?T=q:n[jr(n,~-q)]==="/"&&/\w/.test(n[jr(n,jr(n,~-q))]||"")&&(T=jr(n,jr(n,~-q)))),!b&&(h||p)&&v!==null&&n[q]==="*"&&n[q+1]==="/"&&([C,E]=PR({str:n,from:v,to:q+2,ifLeftSideIncludesThisThenCropTightly:U,ifRightSideIncludesThisThenCropTightly:$}),v=null,C!=null?en.push(C,E):(l+=1,q+=1),b=q+2),!b&&(h||p)&&v===null&&n[q]==="/"&&n[q+1]==="*"&&(o.removeCSSComments||(o.removeCSSComments=!0),r.removeCSSComments&&(v=q)),d&&n.startsWith("![endif",q+1)&&(d=!1),!b&&!h&&!p&&m!==null){let _e;n.startsWith("-->",q)?_e=3:n[q]===">"&&n[q-1]==="]"&&(_e=1),_e&&([C,E]=PR({str:n,from:m,to:q+_e}),m=null,C!=null?r.lineLengthLimit&&c-(E-C)>=r.lineLengthLimit?(en.push(C,E,ze),c=-_e):(en.push(C,E),c-=E-C):(l+=_e-1,q+=_e-1),b=q+_e)}if(!b&&!h&&!p&&(n.startsWith("<!--",q)||r.removeHTMLComments===2&&n.startsWith("<![endif",q))&&m===null&&(n.startsWith("[if",q+4)?(d||(d=!0),r.removeHTMLComments===2&&(m=q)):r.removeHTMLComments&&(!d||r.removeHTMLComments===2)&&(m=q),o.removeHTMLComments||(o.removeHTMLComments=!0)),!b&&h&&v===null&&n.startsWith("</style",q)&&!Av(n[q+7])?h=!1:!b&&!h&&v===null&&n.startsWith("<style",q)&&!Av(n[q+6])&&(h=!0,(r.removeLineBreaks||r.removeIndentations)&&r.breakToTheLeftOf.includes("<style")&&n.startsWith(' type="text/css">',q+6)&&n[q+24]&&en.push(q+23,q+23,ze)),!b&&!p&&`"'`.includes(n[q])&&n.endsWith("style=",q)&&(p=q),!b&&!n[q].trim())a===null&&(a=q);else if(!b&&!((h||p)&&v!==null)){if(a!==null){if(r.removeLineBreaks&&(l+=1),te)te=!1,(r.removeIndentations||r.removeLineBreaks)&&en.push(0,q);else if(r.removeIndentations&&!r.removeLineBreaks&&(!u&&s!==null&&q>s?en.push(s+1,q):a+1<q&&(n.endsWith("]>",a)||n.endsWith("-->",a)||n.startsWith("<![",q)||n.startsWith("<!--<![",q)?en.push(a,q):n[a]===" "?en.push(a+1,q):n[~-q]===" "?en.push(a,~-q):en.push(a,q," "))),r.removeLineBreaks||p){if(i.includes(n[q])&&nX(n,q,r.breakToTheLeftOf)){!(`\r
`.includes(n[~-q])&&a===~-q)&&!(n[~-q]===`
`&&n[q-2]==="\r"&&a===q-2)&&en.push(a,q,ze),C=null,E=null,S=null,a=null,l=1;continue}let _e=" ";n[q]==="<"&&Ly(n,q,r.mindTheInlineTags,{cb:Ht=>!Ht||!/\w/.test(Ht)})||(n[~-a]&&O.includes(n[~-a])&&P.includes(n[q])||(h||p)&&v===null&&(U.includes(n[~-a])||$.includes(n[q]))||n.startsWith("!important",q)&&!d||p&&(n[~-a]==="'"||n[~-a]==='"')||n[~-a]==="}"&&n.startsWith("</style",q)||n[q]===">"&&(`'"`.includes(n[MR(n,q)])||n[jr(n,q)]==="<")||n[q]==="/"&&n[jr(n,q)]===">")&&(_e="",n[q]==="/"&&n[q+1]===">"&&jr(n,q)&&jr(n,q)>q+1&&(en.push(q+1,jr(n,q)),l-=jr(n,q)-q+1)),h&&n[q]==="}"&&a&&n[a-1]==="}"&&(_e=" "),_e!=null&&_e.length&&(l+=1),r.lineLengthLimit?l>=r.lineLengthLimit||!n[q+1]||n[q]===">"||n[q]==="/"&&n[q+1]===">"?((l>r.lineLengthLimit||l===r.lineLengthLimit&&((dt=n[q+1])!=null&&dt.trim())&&!k.includes(n[q])&&!F.includes(n[q+1]))&&(_e=ze,l=1),(l>r.lineLengthLimit||!(_e===" "&&q===a+1))&&(en.push(a,q,_e),s=null),C=null,E=null,S=null):(C===null||a<C)&&(C=a,E=q,S=_e):q===a+1&&_e===" "||en.push(a,q,_e)}a=null,u||(u=!0)}else te&&(te=!1),r.removeLineBreaks&&(l+=1);u||(u=!0)}if(!b&&!te&&q!==0&&r.removeLineBreaks&&(r.lineLengthLimit||i)&&!n.startsWith("</a",q)){if(i&&nX(n,q,r.breakToTheLeftOf)&&n.slice(0,q).trim()&&(!n.startsWith("<![endif]",q)||!xst(n,q,"<!--"))){en.push(q,q,ze),C=null,E=null,S=null,l=1;continue}else if(r.lineLengthLimit&&l<=r.lineLengthLimit){if(!n[q+1]||F.includes(n[q])&&!L.includes(n[q])||k.includes(n[q])||!n[q].trim()){if(C!==null&&E!==null&&(C!==E||S!=null&&S.length)){let _e=S;n[q].trim()&&((Ci=n[q+1])!=null&&Ci.trim())&&l+(S?S.length:0)>r.lineLengthLimit&&(_e=ze),(l+(_e?_e.length:0)>r.lineLengthLimit||!(_e===" "&&E===C+1&&n[C]===" "))&&(n[~-C]==="}"&&n[E]==="{"||(en.push(C,E,_e),s=null))}n[q].trim()&&(F.includes(n[q])||n[~-q]&&k.includes(n[~-q]))&&Qn(N)&&(!A||!r.mindTheInlineTags.includes(A))&&!(n[q]==="<"&&Ly(n,q,r.mindTheInlineTags,{cb:_e=>!_e||!/\w/.test(_e)}))&&!(n[q]==="<"&&Ly(n,q,r.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:_e=>!_e||!/\w/.test(_e)}))?(C=q,E=q,S=null):v===null&&C!==null&&(p||!r.mindTheInlineTags||!Array.isArray(r.mindTheInlineTags)||Array.isArray(r.mindTheInlineTags.length)&&!r.mindTheInlineTags.length||!Qn(A)||Array.isArray(r.mindTheInlineTags)&&r.mindTheInlineTags.length&&Qn(A)&&!r.mindTheInlineTags.includes(A))&&!(n[q]==="<"&&Ly(n,q,r.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:_e=>!_e||!/\w/.test(_e)}))&&(C=null,E=null,S=null)}}else if(r.lineLengthLimit)if(F.includes(n[q])&&!(n[q]==="<"&&Ly(n,q,r.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:_e=>!_e||!/\w/.test(_e)})))if(C!==null&&E!==null&&(C!==E||S!=null&&S.length)){let _e=S!=null&&S.length?S.length:0;l-(E-C-_e)-1>r.lineLengthLimit||(en.push(C,E,S),l-(E-C-_e)-1===r.lineLengthLimit&&(en.push(q,q,ze),l=0),C=null,E=null,S=null)}else en.push(q,q,ze),l=0;else n[q+1]&&k.includes(n[q])&&Qn(A)&&Array.isArray(r.mindTheInlineTags)&&r.mindTheInlineTags.length&&!r.mindTheInlineTags.includes(A)?C!==null&&E!==null&&(C!==E||S!=null&&S.length)||(en.push(q+1,q+1,ze),l=0):n[q].trim()&&(n[q+1]||C!==null&&E!==null&&(C!==E||S!=null&&S.length)&&en.push(C,E,ze))}if(!b&&!te&&r.removeLineBreaks&&r.lineLengthLimit&&l>=r.lineLengthLimit&&C!==null&&E!==null&&!k.includes(n[q])&&!F.includes(n[q])&&!"/".includes(n[q])&&!(l===r.lineLengthLimit&&n[q+1]&&!n[q+1].trim())){let _e=ze;n[q+1]&&!n[q+1].trim()&&l===r.lineLengthLimit&&(_e=S),_e===ze&&!n[~-C].trim()&&MR(n,C)&&(C=MR(n,C)+1),en.push(C,E,_e),l=q-E,n[q].length&&(l+=1),C=null,E=null,S=null}if((!b&&n[q]===`
`||n[q]==="\r"&&(!n[q+1]||n[q+1]&&n[q+1]!==`
`))&&(s=q,u&&(u=!1),!r.removeLineBreaks&&a!==null&&a<q&&n[q+1]&&n[q+1]!=="\r"&&n[q+1]!==`
`&&en.push(a,q)),n[q+1]||(h&&v!==null?en.push([...PR({str:n,from:v,to:q,ifLeftSideIncludesThisThenCropTightly:U,ifRightSideIncludesThisThenCropTightly:$})]):a&&n[q]!==`
`&&n[q]!=="\r"?en.push(a,q+1):a&&(n[q]==="\r"&&n[q+1]===`
`||n[q]===`
`&&n[q-1]!=="\r")&&en.push(a,q)),!b&&p&&p<q&&n[p]===n[q]&&(p=null),!b&&!h&&n.startsWith("<pre",q)&&!Av(n[q+4])){let _e=n.indexOf("</pre",q+5);_e>0&&(b=_e)}if(!b&&!h&&n.startsWith("<code",q)&&!Av(n[q+5])){let _e=n.indexOf("</code",q+5);_e>0&&(b=_e)}if(!b&&n.startsWith("<![CDATA[",q)){let _e=n.indexOf("]]>",q+9);_e>0&&(b=_e)}!b&&!h&&!p&&T!==null&&n[q]===">"&&(n[jr(n,q)]==="<"&&(N=A),T=null,A=null),n[q]==="<"&&N!==null&&(N=null),h&&n[q]==="{"&&n[q+1]==="{"&&n.indexOf("}}")!==-1&&(b=n.indexOf("}}")+2)}if(en.current()){let q=en.current();en.wipe();let _e=r.reportProgressFuncTo-(r.reportProgressFuncTo-r.reportProgressFuncFrom)*pe,Ht=_st(n,q,Bo=>{r.reportProgressFunc&&ne>=2e3&&(qe=Math.floor(_e+(r.reportProgressFuncTo-_e)*(Bo/100)),qe!==ft&&(ft=qe,r.reportProgressFunc(qe)))}),ms=Ht.length;return{log:{timeTakenInMilliseconds:Date.now()-t,originalLength:ne,cleanedLength:ms,bytesSaved:Math.max(ne-ms,0),percentageReducedOfOriginal:ne?Math.round(Math.max(ne-ms,0)*100/ne):0},ranges:q,applicableOpts:o,result:Ht}}}return{log:{timeTakenInMilliseconds:Date.now()-t,originalLength:ne,cleanedLength:ne,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:o,ranges:null,result:n}}async function Pst(n){let e=ret(n);const t=/<html.*?>/,r=e.match(t)[0];e=Mst(e),e=Fst(e),e=Bst(e),e=Hst(e),e=e.replace(t,r);const i=Vst(e),o=await rX(e),s=await rX(i),a=new Date,u=`ARG_${a.getFullYear()}_${a.getMonth()+1}`;try{iX(o,u+".email.html"),iX(s,u+".web.html")}catch(l){console.error("Failed to download files:",l)}}function Mst(n){const e=n.split("<body>");return e[0]+="<body>",e[1]=e[1].replaceAll(/(http:\/\/|https:\/\/www\.)/g,"https://"),e.join("")}function Fst(n){return oet.encode(n,{allowUnsafeSymbols:!0})}function Bst(n){return dst(n,{removeStyleTags:!1})}function Hst(n){const e=["br","img","meta","hr"];for(const t of e){const r=new RegExp(`(<${t}.*?)(/?>)`,"g");n=n.replaceAll(r,"$1/>")}return n}async function rX(n){return Rst(n,{removeLineBreaks:!0,removeHTMLComments:!0,breakToTheLeftOf:[],mindTheInlineTags:[],lineLengthLimit:2e4}).result}function Vst(n){var r;const e=document.createElement("div");e.innerHTML=n;const t=e.querySelector("#u_body");return(r=e.querySelector(".footer"))==null||r.remove(),t.outerHTML}function iX(n,e){const t=document.createElement("a"),r=new Blob([n],{type:"html/plain"});t.href=URL.createObjectURL(r),t.download=e,document.body.appendChild(t),t.click()}function NF(n){if(!("startViewTransition"in document)){n();return}document.startViewTransition(()=>{n()})}const Wst={},Ust={class:"striped"};function jst(n,e){return cn(),sr("table",Ust,e[0]||(e[0]=[J("thead",null,[J("tr",null,[J("th",null,"Elemento"),J("th",null,"Sintaxis")])],-1),J("tbody",null,[J("tr",null,[J("td",null,[J("h2",null,"Titulo de seccin")]),J("td",null,[J("pre",null,`Titulo de seccin
-----------------`)])]),J("tr",null,[J("td",null,[J("h3",null,"Subttulo")]),J("td",null,[J("pre",null,"### Subttulo")])]),J("tr",null,[J("td",null,[J("h4",null,"Subttulo (mas chico)")]),J("td",null,[J("pre",null,"#### Subttulo (mas chico)")])]),J("tr",null,[J("td",null,"Imagen"),J("td",null,[J("pre",null,"![Breve descripcin](https://os.dhamma.org/foto)")])]),J("tr",null,[J("td",null,[J("a",{href:"#"},"Enlace")]),J("td",null,[J("pre",null,"[Enlace](https://example.com)")])]),J("tr",null,[J("td",null,[J("a",{href:"mailto:email@example.com"},"email@example.com")]),J("td",null,[J("pre",null,"email@example.com")])]),J("tr",null,[J("td",null,[J("a",{class:"boton"},"Texto del botn")]),J("td",null,[J("pre",null,"[Texto del boton](url){.boton}")])]),J("tr",null,[J("td",null,[J("b",null,"negrita")]),J("td",null,[J("pre",null,"**negrita**")])]),J("tr",null,[J("td",null,[J("i",null,"cursiva")]),J("td",null,[J("pre",null,"*cursiva*")])]),J("tr",null,[J("td",null,[J("ul",null,[J("li",null,"Lista"),J("li",null,"no"),J("li",null,"numerada")])]),J("td",null,[J("pre",null,`- Lista
- no
- numerada`)])]),J("tr",null,[J("td",null,[J("ol",null,[J("li",null,"Lista"),J("li",null,"numerada")])]),J("td",null,[J("pre",null,`1. Lista
2. numerada`)])]),J("tr",null,[J("td",{class:"aligncenter"},"Alineado al centro"),J("td",null,[J("pre",null,"Alineado al centro{.aligncenter}")])]),J("tr",null,[J("td",{class:"alignright"},"Alineado a la derecha"),J("td",null,[J("pre",null,"Alineado a la derecha{.alignright}")])]),J("tr",null,[J("td",null,[J("span",{class:"highlight"},"Resaltado")]),J("td",null,[J("pre",null,"Resaltado{.resaltado}")])])],-1)]))}const qst=ds(Wst,[["render",jst],["__scopeId","data-v-45ba6232"]]),zst={};function Gst(n,e){return cn(),sr("ol",null,e[0]||(e[0]=[aQ("<li data-v-b4d67f34> Apretar el botn &quot;Fotos&quot; en la parte superior de la pantalla para entrar al visualizador de fotos. </li><li data-v-b4d67f34> Si todava no le diste permiso a la aplicacin para usar la galeria de WordPress, aparecer un cartel con instrucciones. </li><li data-v-b4d67f34> Una vez que la aplicacin haya obtenido acceso a la galeria, se mostrar un formulario para subir una imagen nueva y la lista de fotos debajo. </li><h1 data-v-b4d67f34>Cmo usar una imgen existente?</h1><li data-v-b4d67f34>Toca una imagen para verla en tamao completo.</li><li data-v-b4d67f34>Toca el nombre de la imagen para copiar el enlace.</li><h1 data-v-b4d67f34>Cmo subir una imagen nueva?</h1><li data-v-b4d67f34> Arrastra una imagen y sueltala en el recuadro o presiona el boton dentro del recuadro para buscar una imagen en tu dispositivo. </li><li data-v-b4d67f34> Escribe una breve descripcin de la imgen, o, si la imagen contiene texto, escribelo en el campo &quot;Descripcin&quot;. </li><li data-v-b4d67f34> Toca el boton &quot;Subir&quot;. Una vez lista, la imgen aparecer primera en la lista. </li>",10)]))}const $st=ds(zst,[["render",Gst],["__scopeId","data-v-b4d67f34"]]),Kst={};function Yst(n,e){return e[0]||(e[0]=aQ("<ol><li> Tocar el desplegable &quot;Cabezal&quot; para cambiar la imagen del cabezal y la fecha. </li><li> Actualizar los contenidos del boletin. Los cambios se guardan automticamente a medida que se escribe. </li><li> Cuando el boletn est listo, tocar &quot;Generar HTML&quot; en la parte superior de la pantalla. Esto descargar dos archivos en tu mquina: <code>ARG&lt;fecha&gt;.web.html</code> y <code>ARG&lt;fecha&gt;.email.html</code>. </li><li> Enviar el archivo <code>ARG&lt;fecha&gt;.email.html</code> a correo colectivo. </li></ol><blockquote><ins>Nota:</ins> el archivo <code>ARG&lt;fecha&gt;.web.html</code> es para uso interno. No se necesita hacer nada con este archivo. </blockquote>",2))}const Xst=ds(Kst,[["render",Yst]]),Qst=Ms({__name:"HelpComponent",setup(n,{expose:e}){const t=Fr();function r(){NF(()=>{var o;return(o=t.value)==null?void 0:o.showModal()})}function i(){NF(()=>{var o;return(o=t.value)==null?void 0:o.close()})}return e({showModal:r}),(o,s)=>(cn(),sr("dialog",{ref_key:"modalRef",ref:t},[J("article",null,[J("header",null,[s[0]||(s[0]=J("h1",null,"Ayuda",-1)),J("button",{class:"outline secondary",onClick:i},"")]),J("main",null,[J("details",null,[s[1]||(s[1]=J("summary",null,"Cmo armar el boletn?",-1)),Zn(Xst)]),s[4]||(s[4]=J("hr",null,null,-1)),J("details",null,[s[2]||(s[2]=J("summary",null,"Cmo formatear el texto?",-1)),Zn(qst)]),s[5]||(s[5]=J("hr",null,null,-1)),J("details",null,[s[3]||(s[3]=J("summary",null,"Cmo agregar una imagen?",-1)),Zn($st)])])])],512))}}),Zst=ds(Qst,[["__scopeId","data-v-974421f1"]]),Jst={key:0},eat=Ms({__name:"TopNav",setup(n){const e=qve("help-ref"),t=Zf(P9),{firepadReset:r}=Zf(R9);function i(){var a;(a=t.value)!=null&&a.innerHTML&&Pst(t.value.innerHTML),r.value()}function o(){Jo.logout(),eA("/login")}function s(){var a;(a=e.value)==null||a.showModal()}return(a,u)=>(cn(),sr(li,null,[J("nav",null,[u[1]||(u[1]=J("ul",null,[J("li",null,"Logo")],-1)),YF(Jo).isAuthed?(cn(),sr("ul",Jst,[J("li",null,[J("button",{class:"outline secondary",onClick:s},"")]),u[0]||(u[0]=J("li",null,[J("a",{href:"#/fotos"},[J("button",null,"Fotos")])],-1)),J("li",null,[J("button",{onClick:i},"Generar HTML")]),J("li",null,[J("button",{class:"secondary",onClick:o},"Salir")])])):n4("",!0)]),Zn(Zst,{ref:"help-ref"},null,512)],64))}}),tat=ds(eat,[["__scopeId","data-v-cf8fef73"]]);function nat(){return window.matchMedia("(pointer: coarse)").matches&&!window.matchMedia("(pointer: fine)").matches||"ontouchstart"in window}const rat=["src","aria-busy"],iat={key:0},oat=["src"],sat=["aria-busy"],aat=Ms({__name:"ImageComponent",props:{image:{}},setup(n){const e=Fr(),t=Fr(!0),r=Fr(!1);let i;function o(){const u=e.value;u==null||u.showModal()}function s(){t.value=!1}async function a(){try{await navigator.clipboard.writeText(n.image.email),r.value=!0,i=setTimeout(()=>{r.value=!1},2e3)}catch{console.error("Failed to copy")}}return JF(()=>i&&clearTimeout(i)),(u,l)=>(cn(),sr(li,null,[J("article",null,[J("img",{alt:"image",class:"thumbnail",onClick:o,loading:"lazy",src:u.image.thumbnail,width:"150","aria-busy":t.value},null,8,rat),J("p",{onClick:a},gA(u.image.email.slice(44)),1),r.value?(cn(),sr("ins",iat,"Enlace copiado")):n4("",!0)]),J("dialog",{ref_key:"dialogRef",ref:e},[l[0]||(l[0]=J("form",{method:"dialog"},[J("button",{type:"submit",class:"outline secondary"},"")],-1)),J("img",{loading:"lazy",src:u.image.email,alt:"image","aria-busy":"true",onLoad:s},null,40,oat),J("p",{"aria-busy":t.value},null,8,sat)],512)],64))}}),uat=ds(aat,[["__scopeId","data-v-68c5eafd"]]),lat=600,cat=100;async function fat(n,e,t,r){return fetch(n+`/wp-json/wp/v2/media?alt_text=${e}`,{headers:{"Content-Disposition":`attachment; filename=${r.name}`,"Content-Type":r.type,Authorization:`Basic ${t}`},method:"POST",body:await r.arrayBuffer()})}function Xfe(n){const e=n.media_details.sizes;if(!e)return null;const t=e.thumbnail.source_url,r=Qfe(Object.values(e)).source_url;return{thumbnail:t,email:r}}function Qfe(n,e=lat){const t=n.sort((r,i)=>r.width-i.width).find(r=>r.width>=e);return!t&&e===0?n[0]:t||Qfe(n,e-cat)}const hat=["disabled"],dat=["aria-busy"],pat={key:0},gat=Ms({__name:"ImageUploader",props:{wpBasicAuth:{},baseUrl:{},onUpload:{type:Function}},setup(n){const e=n,t=Fr(!1);function r(s){return s.type.startsWith("image/")?s.size>5*1024*1024?(alert("Por favor seleccione una imagen menor a 5MB."),!1):!0:(alert("Por favor seleccione un archivo de imagen."),!1)}function i(){alert("Error de conexin. Puede que no ests conectado a internet o que haya un problema con WordPress.")}async function o(s){var c,h,d;t.value=!0,s.preventDefault();const a=(c=s.target)==null?void 0:c.file,u=(h=s.target)==null?void 0:h.alt;if(!((d=a==null?void 0:a.files)!=null&&d.length)||!(u!=null&&u.value))return alert("Por favor seleccione un archivo y escriba una descripcin.");const l=a.files[0];if(r(l))try{const p=await fat(e.baseUrl,u.value,e.wpBasicAuth,l);if(!p.ok)return alert("Error al subir la imagen. Por favor, intente nuevamente.");const v=await p.json(),m=Xfe(v);if(!m)return alert("Error al subir la imagen. Por favor, intente nuevamente.");e.onUpload(m)}catch{i()}finally{t.value=!1}}return(s,a)=>(cn(),sr("form",{onSubmit:o,enctype:"multipart/form-data"},[a[0]||(a[0]=J("label",null,[J("span",null,"Arrastr una imagen y soltala en el recuadro"),J("small",null,"Tamao mximo: 5 MB"),J("input",{type:"file",accept:"image/*",name:"file"})],-1)),a[1]||(a[1]=J("label",null,[nl(" Descripcin "),J("small",null," Una muy breve descripcin de la imagen. Si la imagen contiene texto, escribelo ac. "),J("input",{type:"text",name:"alt",required:""})],-1)),J("button",{type:"submit",value:"Enviar",disabled:t.value},[J("span",{"aria-busy":t.value},null,8,dat),t.value?n4("",!0):(cn(),sr("span",pat,"Subir"))],8,hat)],32))}}),vat=ds(gat,[["__scopeId","data-v-90f9fd75"]]),mat={class:"login"},_at=["href"],yat=Ms({__name:"WordpressLogin",props:{loginUrl:{}},setup(n){return(e,t)=>(cn(),sr("article",mat,[t[1]||(t[1]=J("p",null," Necesitamos acceso a la galeria de WordPress. Apret el botn para obtener acceso. ",-1)),J("footer",null,[J("a",{href:e.loginUrl},t[0]||(t[0]=[J("button",null,"Vamos",-1)]),8,_at)])]))}}),bat=ds(yat,[["__scopeId","data-v-12b537d6"]]),Cat=()=>{let n="";return()=>{if(n)return n;const e=new URLSearchParams(window.location.search),t=e.get("user_login"),r=e.get("password");if(!t||!r)return;n=btoa(`${t}:${r}`);const i=window.location.origin;return history.pushState(null,"",i+ice+"#/"),n}},wat={class:"images"},Eat=["aria-busy"],sH="https://os.ar.dhamma.org",Sat=sH+"/wp-admin/authorize-application.php?app_name=Editor de boletines&success_url=https://alvarezrrj.github.io"+ice,dx=Fr([]),$1=Fr(),rT=Fr(!1),OF=Fr(""),Zfe=Fr(),Jfe=15,Tat=Cat();$1.value=Tat();function Dat(n){dx.value.splice(0,0,n)}async function ehe(n=1,e=Jfe){if(rT.value)return;rT.value=!0,OF.value="";const t=sH+"/wp-json/wp/v2/media";try{const r=await fetch(t+`?page=${n}&per_page=${e}`,{headers:{Authorization:`Basic ${$1.value}`}});if(!r.ok)throw new Error(await r.text());(await r.json()).forEach(o=>{const s=Xfe(o);NF(()=>s&&dx.value.push(s))})}catch(r){OF.value="Algo sali mal mientras intentabamos descargar las imgenes.",console.error(r)}finally{rT.value=!1}}function Aat(){const n=Zfe.value;if(!n)return;const{scrollTop:e,scrollHeight:t,clientHeight:r}=n;if(e+r>=t-50){const i=Math.floor(dx.value.length/Jfe)+1;ehe(i)}}$1.value&&ehe();const Iat=Ms({__name:"ImagesComponent",setup(n){return(e,t)=>(cn(),sr("div",{class:"images_wrapper",ref_key:"imagesWrapperRef",ref:Zfe,onScroll:Aat},[t[1]||(t[1]=J("a",{href:"#/"},[J("p",null," Volver al boletin")],-1)),$1.value?(cn(),sr(li,{key:0},[Zn(vat,{"wp-basic-auth":$1.value,"on-upload":Dat,"base-url":sH},null,8,["wp-basic-auth"]),t[0]||(t[0]=J("hr",null,null,-1)),J("div",wat,[(cn(!0),sr(li,null,rme(dx.value,r=>(cn(),Jf(uat,{key:r.thumbnail,image:r},null,8,["image"]))),128)),J("p",{"aria-busy":rT.value},[J("del",null,gA(OF.value),1)],8,Eat)])],64)):(cn(),Jf(bat,{key:1,"login-url":Sat}))],544))}}),xat=ds(Iat,[["__scopeId","data-v-2f2cff3a"]]),Lat=Ms({__name:"App",setup(n){const e=nat(),t=KR(()=>({"/":gY(qJe),"/login":oce,"/fotos":gY(xat)})),r=Fr(document.referrer.includes("os.ar.dhamma.org")?"/fotos":"/"),i=KR(()=>t.value[r.value.slice(1)||"/"]||YJe),o=Fr(null),s=Fr(()=>{}),a=l=>{s.value=l};function u(){window.location.hash[1]==="/"&&(r.value=window.location.hash)}return window.addEventListener("hashchange",u),zR(P9,o),zR(R9,{firepadReset:s,setFirepadReset:a}),JF(()=>{window.removeEventListener("hashchange",u)}),(l,c)=>YF(e)?(cn(),Jf(vY,{key:0},{main:wS(()=>[Zn(tet)]),_:1})):(cn(),Jf(vY,{key:1},{header:wS(()=>[Zn(tat)]),main:wS(()=>[(cn(),Jf(tme(i.value)))]),_:1}))}});v_e(Lat).mount("#app");
